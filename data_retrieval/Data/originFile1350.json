{"items":[{"tags":["java","mysql","spring","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583725842,"creation_date":1583725842,"answer_id":60594521,"question_id":60593326,"body_markdown":"You might need to add proxy in **settings.xml** as shown below\r\n\r\n    &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n            &lt;id&gt;optional&lt;/id&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;https&lt;/protocol&gt;\r\n            &lt;username&gt;abc&lt;/&lt;/username&gt;\r\n            &lt;password&gt;abc123&lt;/password&gt;\r\n            &lt;host&gt;webproxy.company.com&lt;/host&gt;\r\n            &lt;port&gt;8081&lt;/port&gt;\r\n            &lt;!-- &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; --&gt;\r\n        &lt;/proxy&gt;\r\n    &lt;/proxies&gt;","title":"Why does the setup of a simple project with Maven and Hibernate fail?","body":"<p>You might need to add proxy in <strong>settings.xml</strong> as shown below</p>\n\n<pre><code>&lt;proxies&gt;\n    &lt;proxy&gt;\n        &lt;id&gt;optional&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;https&lt;/protocol&gt;\n        &lt;username&gt;abc&lt;/&lt;/username&gt;\n        &lt;password&gt;abc123&lt;/password&gt;\n        &lt;host&gt;webproxy.company.com&lt;/host&gt;\n        &lt;port&gt;8081&lt;/port&gt;\n        &lt;!-- &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; --&gt;\n    &lt;/proxy&gt;\n&lt;/proxies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652477746,"creation_date":1583917129,"answer_id":60632355,"question_id":60593326,"body_markdown":"[Starting 15 January 2020][1], the Maven Central repository doesn&#39;t support insecure communication over plain HTTP. You have to adjust your local configuration.\n\nWith this in mind, we find an important detail in the error message:\n\n&gt; Return code is: 501, ReasonPhrase:**HTTPS Required**.\n\nAs we can see in the output, you are still using plain, un-encrypted connections to query/retrieve artefacts from Maven Central:\n\n&gt; Downloading: **http**://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar\n&gt;\n&gt; ...\n\nMake sure that your local *settings.xml* contains only entries with http**s** for the Maven central repositories in it. Consequently, the entry `http://repo.maven.apache.org/maven2/` must be changed into `https://repo.maven.apache.org/maven2/`.\n\nA minimal working configuration reads as follows:\n\n    &lt;profile&gt;\n        &lt;id&gt;maven-https&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;central&lt;/id&gt;\n                &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;central&lt;/id&gt;\n                &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt; \n    &lt;/profile&gt;\n\nHope it helps.\n\n\n  [1]: https://support.sonatype.com/hc/en-us/articles/360041287334","title":"Why does the setup of a simple project with Maven and Hibernate fail?","body":"<p><a href=\"https://support.sonatype.com/hc/en-us/articles/360041287334\" rel=\"nofollow noreferrer\">Starting 15 January 2020</a>, the Maven Central repository doesn't support insecure communication over plain HTTP. You have to adjust your local configuration.</p>\n<p>With this in mind, we find an important detail in the error message:</p>\n<blockquote>\n<p>Return code is: 501, ReasonPhrase:<strong>HTTPS Required</strong>.</p>\n</blockquote>\n<p>As we can see in the output, you are still using plain, un-encrypted connections to query/retrieve artefacts from Maven Central:</p>\n<blockquote>\n<p>Downloading: <strong>http</strong>://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar</p>\n<p>...</p>\n</blockquote>\n<p>Make sure that your local <em>settings.xml</em> contains only entries with http<strong>s</strong> for the Maven central repositories in it. Consequently, the entry <code>http://repo.maven.apache.org/maven2/</code> must be changed into <code>https://repo.maven.apache.org/maven2/</code>.</p>\n<p>A minimal working configuration reads as follows:</p>\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;maven-https&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n    &lt;/activation&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt; \n&lt;/profile&gt;\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":17126787,"reputation":27,"user_id":12393806,"display_name":"Dorian Gray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60632355,"answer_count":2,"score":0,"last_activity_date":1652477746,"creation_date":1583713227,"question_id":60593326,"body_markdown":"It is a simple project that consists of making a MySQL query and displaying it. I use NetBeans. The hibernate.xml and client.xml file were created by NetBeans (Hibernate Configuration Wizard and Hibernate Mapping Wizard). I really have no idea what the problem is.\r\n1) POM file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;alsoMaven&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.10.Final&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n2) Main Class:\r\n\r\n    public static void main(String[] args) {\r\n        StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\r\n                .configure() // obtiene los valores de hibernate.cfg.xml\r\n                .build();\r\n        try {\r\n            SessionFactory sessionFactory = new MetadataSources(registry)\r\n                    .buildMetadata().buildSessionFactory();\r\n            Session session = sessionFactory.openSession();\r\n            session.beginTransaction();\r\n            Cliente c = (Cliente) session.load(Cliente.class, 1);\r\n            System.out.println(c);\r\n            session.getTransaction().commit();\r\n            session.close();\r\n            sessionFactory.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n3) Exception:\r\n\r\n    ------------------------------------------------------------------------\r\n    Building alsoMaven 1.0-SNAPSHOT\r\n    ------------------------------------------------------------------------\r\n    Downloading: http://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar\r\n    Downloading: http://repo.maven.apache.org/maven2/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar\r\n    Downloading: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar\r\n    Downloading: http://repo.maven.apache.org/maven2/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar\r\n    \r\n    \r\n    \r\n    \r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time: 3.184s\r\n    Finished at: Sun Mar 08 21:10:54 GMT-03:00 2020\r\n    Final Memory: 6M/16M\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal on project alsoMaven: Could not resolve dependencies for project com.mycompany:alsoMaven:jar:1.0-SNAPSHOT: The following artifacts could not be resolved: org.jboss.logging:jboss-logging:jar:3.3.2.Final, org.javassist:javassist:jar:3.24.0-GA, org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final, org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final: Could not transfer artifact org.jboss.logging:jboss-logging:jar:3.3.2.Final from/to central (http://repo.maven.apache.org/maven2): Failed to transfer file: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar. Return code is: 501 , ReasonPhrase:HTTPS Required. -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n\r\nThx!","title":"Why does the setup of a simple project with Maven and Hibernate fail?","body":"<p>It is a simple project that consists of making a MySQL query and displaying it. I use NetBeans. The hibernate.xml and client.xml file were created by NetBeans (Hibernate Configuration Wizard and Hibernate Mapping Wizard). I really have no idea what the problem is.\n1) POM file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;alsoMaven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;6.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.10.Final&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>2) Main Class:</p>\n\n<pre><code>public static void main(String[] args) {\n    StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\n            .configure() // obtiene los valores de hibernate.cfg.xml\n            .build();\n    try {\n        SessionFactory sessionFactory = new MetadataSources(registry)\n                .buildMetadata().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        session.beginTransaction();\n        Cliente c = (Cliente) session.load(Cliente.class, 1);\n        System.out.println(c);\n        session.getTransaction().commit();\n        session.close();\n        sessionFactory.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>3) Exception:</p>\n\n<pre><code>------------------------------------------------------------------------\nBuilding alsoMaven 1.0-SNAPSHOT\n------------------------------------------------------------------------\nDownloading: http://repo.maven.apache.org/maven2/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar\nDownloading: http://repo.maven.apache.org/maven2/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar\nDownloading: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar\nDownloading: http://repo.maven.apache.org/maven2/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar\n\n\n\n\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time: 3.184s\nFinished at: Sun Mar 08 21:10:54 GMT-03:00 2020\nFinal Memory: 6M/16M\n------------------------------------------------------------------------\nFailed to execute goal on project alsoMaven: Could not resolve dependencies for project com.mycompany:alsoMaven:jar:1.0-SNAPSHOT: The following artifacts could not be resolved: org.jboss.logging:jboss-logging:jar:3.3.2.Final, org.javassist:javassist:jar:3.24.0-GA, org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final, org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final: Could not transfer artifact org.jboss.logging:jboss-logging:jar:3.3.2.Final from/to central (http://repo.maven.apache.org/maven2): Failed to transfer file: http://repo.maven.apache.org/maven2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar. Return code is: 501 , ReasonPhrase:HTTPS Required. -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n\n<p>Thx!</p>\n"},{"tags":["java","spring-boot","jdbc","spring-batch","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652477551,"creation_date":1652477551,"answer_id":72235621,"question_id":72232321,"body_markdown":"The values to use in creating a `DataSource` are actually part of another class `DataSourceProperties`\r\nwhich you can also use to create a `DataSource`.\r\n\r\nFollowing is a snippet from [TaskDbConfig](https://github.com/fwi/db2rest/blob/master/src/test/java/com/github/fwi/db2rest/TaskDbConfig.java) (this class also contains information if you need more functions).\r\n\r\n```java\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport com.zaxxer.hikari.HikariDataSource;\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;data1.datasource&quot;)\r\n\tpublic DataSourceProperties data1DataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\t\t\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;data1.datasource.hikari&quot;)\r\n\tpublic HikariDataSource data1DataSource() {\r\n\t\r\n\t\t// Different types are documented at\r\n\t\t// https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceBuilder.html\r\n\t\t\r\n\t\treturn data1DataSourceProperties().initializeDataSourceBuilder()\r\n\t\t\t.type(HikariDataSource.class).build();\r\n\t}\r\n```\r\n\r\n`application.yml`\r\n\r\n```yaml\r\ndata1.datasource.platform: h2\r\ndata1.datasource.url: &#39;jdbc:h2:mem:test&#39;\r\n\r\n# Hikari config properties: https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby\r\ndata1.datasource.hikari.minimumIdle: 1\r\ndata1.datasource.hikari.maximumPoolSize: 4\r\n```\r\n","title":"Spring Boot/Spring Batch: Using and configuring two DataSource via app properties","body":"<p>The values to use in creating a <code>DataSource</code> are actually part of another class <code>DataSourceProperties</code>\nwhich you can also use to create a <code>DataSource</code>.</p>\n<p>Following is a snippet from <a href=\"https://github.com/fwi/db2rest/blob/master/src/test/java/com/github/fwi/db2rest/TaskDbConfig.java\" rel=\"nofollow noreferrer\">TaskDbConfig</a> (this class also contains information if you need more functions).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport com.zaxxer.hikari.HikariDataSource;\n\n    @Bean\n    @ConfigurationProperties(&quot;data1.datasource&quot;)\n    public DataSourceProperties data1DataSourceProperties() {\n        return new DataSourceProperties();\n    }\n        \n    @Bean\n    @ConfigurationProperties(&quot;data1.datasource.hikari&quot;)\n    public HikariDataSource data1DataSource() {\n    \n        // Different types are documented at\n        // https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jdbc/DataSourceBuilder.html\n        \n        return data1DataSourceProperties().initializeDataSourceBuilder()\n            .type(HikariDataSource.class).build();\n    }\n</code></pre>\n<p><code>application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>data1.datasource.platform: h2\ndata1.datasource.url: 'jdbc:h2:mem:test'\n\n# Hikari config properties: https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby\ndata1.datasource.hikari.minimumIdle: 1\ndata1.datasource.hikari.maximumPoolSize: 4\n</code></pre>\n"}],"owner":{"account_id":8597472,"reputation":101,"user_id":19111207,"display_name":"TeaCup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652477551,"creation_date":1652457248,"question_id":72232321,"body_markdown":"I&#39;m working with Spring Boot/Spring Batch, and need to provide two jdbc Data Sources.\r\n\r\nI can&#39;t find a way to automatically load the config parameters from my `application.properties`.\r\n\r\n\r\n```java\r\n//BatchConfiguration which uses both Data Sources:\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n\r\n  @Bean\r\n  public JdbcBatchItemWriter&lt;Customer&gt; writer(@Qualifier(&quot;dataSourceOne&quot;) DataSource dataSource) {\r\n    return new JdbcBatchItemWriterBuilder&lt;Customer&gt;()\r\n            .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\r\n            .sql(&quot;...&quot;))\r\n            .dataSource(dataSource)\r\n            .build();\r\n  }\r\n@Bean\r\n  public JdbcCursorItemReader&lt;Customer&gt; reader(@Qualifier(&quot;dataSourceTwo&quot;) DataSource dataSource) {\r\n    return new JdbcCursorItemReaderBuilder&lt;Customer&gt;()\r\n            .dataSource(dataSource)\r\n            .name(&quot;myItemReader&quot;)\r\n            .sql(&quot;...&quot;)\r\n            .rowMapper(new CustomerRowMapper())\r\n            .build();\r\n  }\r\n```\r\n\r\nAbove code works with the following Configuration, which has the DataSource provided directly:\r\n\r\n```java\r\n//WORKING SOLUTION\r\n@Configuration(proxyBeanMethods = false)\r\npublic class DataSourcesConfiguration {\r\n\r\n  @Bean(&quot;dataSourceOne&quot;)\r\n  @Primary\r\n  public DataSource dataSource() {\r\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n    dataSourceBuilder.url(&quot;jdbc:h2:mem:AAA-h2&quot;);\r\n    dataSourceBuilder.username(&quot;AAA&quot;);\r\n    dataSourceBuilder.password(&quot;AAA&quot;);\r\n    dataSourceBuilder.driverClassName(&quot;org.h2.Driver&quot;);\r\n    return dataSourceBuilder.build();\r\n  }\r\n\r\n  @Bean(&quot;dataSourceTwo&quot;)\r\n  public DataSource dataSourceTwo() {\r\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n    dataSourceBuilder.url(&quot;jdbc:oracle:thin:@AAA&quot;);\r\n    dataSourceBuilder.username(&quot;AAA&quot;);\r\n    dataSourceBuilder.password(&quot;AAA&quot;);\r\n    dataSourceBuilder.driverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n    return dataSourceBuilder.build();\r\n  }\r\n}\r\n```\r\n\r\nNow if I try to create the DataSource from my application properties via annotation `@ConfigurationProperties`, it will not work:\r\n\r\n```java\r\n//NOT WORKING\r\n@Configuration(proxyBeanMethods = false)\r\npublic class DataSourcesConfiguration {\r\n  @Bean(&quot;dataSourceOne&quot;)\r\n  @Primary\r\n  @ConfigurationProperties(prefix=&quot;data1.datasource&quot;)\r\n  public DataSource dataSource() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n\r\n  @Bean(&quot;dataSourceTwo&quot;)\r\n  @ConfigurationProperties(prefix=&quot;data2.datasource&quot;)\r\n  public DataSource dataSourceTwo() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n}\r\n```\r\n\r\napplication.properties:\r\n```java\r\ndata1.datasource.url=jdbc:h2:mem:AAA-h2\r\ndata1.datasource.username=AAA\r\ndata1.datasource.password=AAA\r\ndata1.datasource.driverClassName=org.h2.Driver\r\n\r\ndata2.datasource.url=jdbc:oracle:thin:@AAA\r\ndata2.datasource.username=AAA\r\ndata2.datasource.password=AAA\r\ndata2.datasource.driverClassName=oracle.jdbc.driver.OracleDriver\r\n```\r\n\r\nI receive the error `Unable to detect database type` in the non working version.\r\n\r\nHow can I correctly configure and provide a DataSource through my properties in `application.properties`?","title":"Spring Boot/Spring Batch: Using and configuring two DataSource via app properties","body":"<p>I'm working with Spring Boot/Spring Batch, and need to provide two jdbc Data Sources.</p>\n<p>I can't find a way to automatically load the config parameters from my <code>application.properties</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//BatchConfiguration which uses both Data Sources:\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n  @Bean\n  public JdbcBatchItemWriter&lt;Customer&gt; writer(@Qualifier(&quot;dataSourceOne&quot;) DataSource dataSource) {\n    return new JdbcBatchItemWriterBuilder&lt;Customer&gt;()\n            .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\n            .sql(&quot;...&quot;))\n            .dataSource(dataSource)\n            .build();\n  }\n@Bean\n  public JdbcCursorItemReader&lt;Customer&gt; reader(@Qualifier(&quot;dataSourceTwo&quot;) DataSource dataSource) {\n    return new JdbcCursorItemReaderBuilder&lt;Customer&gt;()\n            .dataSource(dataSource)\n            .name(&quot;myItemReader&quot;)\n            .sql(&quot;...&quot;)\n            .rowMapper(new CustomerRowMapper())\n            .build();\n  }\n</code></pre>\n<p>Above code works with the following Configuration, which has the DataSource provided directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//WORKING SOLUTION\n@Configuration(proxyBeanMethods = false)\npublic class DataSourcesConfiguration {\n\n  @Bean(&quot;dataSourceOne&quot;)\n  @Primary\n  public DataSource dataSource() {\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n    dataSourceBuilder.url(&quot;jdbc:h2:mem:AAA-h2&quot;);\n    dataSourceBuilder.username(&quot;AAA&quot;);\n    dataSourceBuilder.password(&quot;AAA&quot;);\n    dataSourceBuilder.driverClassName(&quot;org.h2.Driver&quot;);\n    return dataSourceBuilder.build();\n  }\n\n  @Bean(&quot;dataSourceTwo&quot;)\n  public DataSource dataSourceTwo() {\n    DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n    dataSourceBuilder.url(&quot;jdbc:oracle:thin:@AAA&quot;);\n    dataSourceBuilder.username(&quot;AAA&quot;);\n    dataSourceBuilder.password(&quot;AAA&quot;);\n    dataSourceBuilder.driverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n    return dataSourceBuilder.build();\n  }\n}\n</code></pre>\n<p>Now if I try to create the DataSource from my application properties via annotation <code>@ConfigurationProperties</code>, it will not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//NOT WORKING\n@Configuration(proxyBeanMethods = false)\npublic class DataSourcesConfiguration {\n  @Bean(&quot;dataSourceOne&quot;)\n  @Primary\n  @ConfigurationProperties(prefix=&quot;data1.datasource&quot;)\n  public DataSource dataSource() {\n    return DataSourceBuilder.create().build();\n  }\n\n  @Bean(&quot;dataSourceTwo&quot;)\n  @ConfigurationProperties(prefix=&quot;data2.datasource&quot;)\n  public DataSource dataSourceTwo() {\n    return DataSourceBuilder.create().build();\n  }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>data1.datasource.url=jdbc:h2:mem:AAA-h2\ndata1.datasource.username=AAA\ndata1.datasource.password=AAA\ndata1.datasource.driverClassName=org.h2.Driver\n\ndata2.datasource.url=jdbc:oracle:thin:@AAA\ndata2.datasource.username=AAA\ndata2.datasource.password=AAA\ndata2.datasource.driverClassName=oracle.jdbc.driver.OracleDriver\n</code></pre>\n<p>I receive the error <code>Unable to detect database type</code> in the non working version.</p>\n<p>How can I correctly configure and provide a DataSource through my properties in <code>application.properties</code>?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","spring-starter"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576220988,"post_id":59316463,"comment_id":104836108,"body_markdown":"Can you please start your app with `--debug` and share the condition evaluation report that it produces?","body":"Can you please start your app with <code>--debug</code> and share the condition evaluation report that it produces?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576221093,"post_id":59316463,"comment_id":104836142,"body_markdown":"Also, I can see OpenJPA in the logs, but no sign of it in your dependencies. Where is it coming from?","body":"Also, I can see OpenJPA in the logs, but no sign of it in your dependencies. Where is it coming from?"},{"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"score":0,"creation_date":1576227230,"post_id":59316463,"comment_id":104838561,"body_markdown":"it is coming form a library project","body":"it is coming form a library project"},{"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"score":0,"creation_date":1576227407,"post_id":59316463,"comment_id":104838659,"body_markdown":"--debug showing the same lo details","body":"--debug showing the same lo details"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576231034,"post_id":59316463,"comment_id":104840384,"body_markdown":"That doesn&#39;t sound right. `--debug` should cause quite a big change in the output. How did you set it?","body":"That doesn&#39;t sound right. <code>--debug</code> should cause quite a big change in the output. How did you set it?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1576231106,"post_id":59316463,"comment_id":104840417,"body_markdown":"You haven&#39;t shown the library project in your pom. It&#39;s very hard to diagnose a problem without the complete picture. Can you please provide a [minimal, complete, and verifiable example](/help/mcve)?","body":"You haven&#39;t shown the library project in your pom. It&#39;s very hard to diagnose a problem without the complete picture. Can you please provide a <a href=\"/help/mcve\">minimal, complete, and verifiable example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":22333780,"reputation":51,"user_id":16563183,"display_name":"PxlCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652477095,"creation_date":1652477095,"answer_id":72235570,"question_id":59316463,"body_markdown":"This can be caused by the interfaces not being on the same level as the main class with the @SpringBootApplication annotation.\r\n\r\n**Here is an example.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/3BMHP.png\r\n\r\n**Notice that all sub-packages are on the same level as the @SpringBootApplication.**","title":"Spring boot 2.2.1- Unable to start embed tomcat(no errors in log)","body":"<p>This can be caused by the interfaces not being on the same level as the main class with the @SpringBootApplication annotation.</p>\n<p><strong>Here is an example.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3BMHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BMHP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Notice that all sub-packages are on the same level as the @SpringBootApplication.</strong></p>\n"}],"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652477095,"creation_date":1576213961,"question_id":59316463,"body_markdown":"Am working on a `Spring Boot` application having version `2.2.1RELEASE`.Application structure ,i have moved configuration into config folder as external configuration.Project structure should be like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen i run my application its showing following log\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.1.RELEASE)\r\n    \r\n    2019-12-12 20:34:41.631  INFO 375592 --- [           main] c.g.h.x.app.services.api.erviceMain  : Starting ServiceMain v1.0 on host-4 with PID 375592 (D:\\Service\\target\\Service-10.jar started by Administrator in D:\\Service\\target)\r\n    2019-12-12 20:34:41.636  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : The following profiles are active: Service\r\n    2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n    2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.\r\n    408  SybaseUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, whi\r\n    ch might increase class load times significantly.\r\n    296  SybaseUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name &#39;SybaseUnit&#39;, root URL [file:/D:/Service/targetService-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not\r\n     be available.\r\n    312  SybaseUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: &quot;A default ValidatorFactory could not be created.&quot;\r\n    2019-12-12 20:34:50.108  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;SybaseUnit&#39;\r\n    0  MssqlUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, which\r\n    might increase class load times significantly.\r\n    0  MssqlUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name &#39;MssqlUnit&#39;, root URL [file:/D:/Service/target/Service-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not be\r\n    available.\r\n    0  MssqlUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: &quot;A default ValidatorFactory could not be created.&quot;\r\n    2019-12-12 20:34:50.140  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;MssqlUnit&#39;\r\n    log4j:WARN No appenders could be found for logger (com..manager.data).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    2019-12-12 20:34:53.284  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;TaskExecutor&#39;\r\n    2019-12-12 20:34:53.328  INFO 375592 --- [           main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version is: 1.4\r\n    2019-12-12 20:34:53.335  INFO 375592 --- [           main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [DSTU3]\r\n    2019-12-12 20:34:54.946  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\r\n    2019-12-12 20:34:55.343  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;asyncExecutor&#39;\r\n    2019-12-12 20:34:57.647  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : Started ServiceMain in 19.208 seconds (JVM running for 21.409)\r\n\r\n`Pom.xml` file having added following dependencies\r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n              &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;!-- &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt; --&gt;\r\n              &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n              &lt;scope&gt;test&lt;/scope&gt;\r\n              &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                          &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                          &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n              &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&gt; I have tried following possible solutions.\r\n\r\n - update and clean my projects.\r\n - delete `.m2` repository\r\nand also refer following stack links. \r\n\r\n1.[Spring boot application not starting embedded tomcat][2]\r\n\r\n\r\n2.[Spring boot deployed on tomcat won&#39;t start][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CaDev.png\r\n  [2]: https://stackoverflow.com/questions/46617885/spring-boot-application-not-starting-embedded-tomcat\r\n  [3]: https://stackoverflow.com/questions/37919593/spring-boot-deployed-on-tomcat-wont-start\r\n\r\nDidn&#39;t get any solution yet.\r\n\r\nNote:-\r\nhave noticed two line in my log\r\n\r\n    2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n    2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.","title":"Spring boot 2.2.1- Unable to start embed tomcat(no errors in log)","body":"<p>Am working on a <code>Spring Boot</code> application having version <code>2.2.1RELEASE</code>.Application structure ,i have moved configuration into config folder as external configuration.Project structure should be like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/CaDev.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CaDev.png\" alt=\"enter image description here\"></a></p>\n\n<p>When i run my application its showing following log</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.1.RELEASE)\n\n2019-12-12 20:34:41.631  INFO 375592 --- [           main] c.g.h.x.app.services.api.erviceMain  : Starting ServiceMain v1.0 on host-4 with PID 375592 (D:\\Service\\target\\Service-10.jar started by Administrator in D:\\Service\\target)\n2019-12-12 20:34:41.636  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : The following profiles are active: Service\n2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.\n408  SybaseUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, whi\nch might increase class load times significantly.\n296  SybaseUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name 'SybaseUnit', root URL [file:/D:/Service/targetService-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not\n be available.\n312  SybaseUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: \"A default ValidatorFactory could not be created.\"\n2019-12-12 20:34:50.108  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'SybaseUnit'\n0  MssqlUnit  INFO   [main] openjpa.Enhance - You have enabled runtime enhancement, but have not specified the set of persistent classes.  OpenJPA must look for metadata for every loaded class, which\nmight increase class load times significantly.\n0  MssqlUnit  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name 'MssqlUnit', root URL [file:/D:/Service/target/Service-1.0.jar]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not be\navailable.\n0  MssqlUnit  WARN   [main] openjpa.Runtime - Could not create the optional validation provider. Reason returned: \"A default ValidatorFactory could not be created.\"\n2019-12-12 20:34:50.140  INFO 375592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'MssqlUnit'\nlog4j:WARN No appenders could be found for logger (com..manager.data).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n2019-12-12 20:34:53.284  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'TaskExecutor'\n2019-12-12 20:34:53.328  INFO 375592 --- [           main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version is: 1.4\n2019-12-12 20:34:53.335  INFO 375592 --- [           main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [DSTU3]\n2019-12-12 20:34:54.946  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\n2019-12-12 20:34:55.343  INFO 375592 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'asyncExecutor'\n2019-12-12 20:34:57.647  INFO 375592 --- [           main] c.g.h.x.app.services.api.ServiceMain  : Started ServiceMain in 19.208 seconds (JVM running for 21.409)\n</code></pre>\n\n<p><code>Pom.xml</code> file having added following dependencies</p>\n\n<pre><code> &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n          &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                      &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n                      &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n                      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;!-- &lt;exclusion&gt;\n                      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt; --&gt;\n          &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n          &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                      &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n          &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<blockquote>\n  <p>I have tried following possible solutions.</p>\n</blockquote>\n\n<ul>\n<li>update and clean my projects.</li>\n<li>delete <code>.m2</code> repository\nand also refer following stack links. </li>\n</ul>\n\n<p>1.<a href=\"https://stackoverflow.com/questions/46617885/spring-boot-application-not-starting-embedded-tomcat\">Spring boot application not starting embedded tomcat</a></p>\n\n<p>2.<a href=\"https://stackoverflow.com/questions/37919593/spring-boot-deployed-on-tomcat-wont-start\">Spring boot deployed on tomcat won't start</a></p>\n\n<p>Didn't get any solution yet.</p>\n\n<p>Note:-\nhave noticed two line in my log</p>\n\n<pre><code>2019-12-12 20:34:45.086  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-12-12 20:34:45.477  INFO 375592 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154ms. Found 0 repository interfaces.\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1597431161,"post_id":63418536,"comment_id":112140789,"body_markdown":"You can use [Quartz](http://www.quartz-scheduler.org/) for this.","body":"You can use <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a> for this."},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":0,"creation_date":1597431838,"post_id":63418536,"comment_id":112141077,"body_markdown":"We already explored the idea if using quartz and constraints led us to choose simple, quick and dirty. Do you have an idea that can be done within this method?","body":"We already explored the idea if using quartz and constraints led us to choose simple, quick and dirty. Do you have an idea that can be done within this method?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1597432509,"post_id":63418536,"comment_id":112141355,"body_markdown":"What version of postgres are you running on? And are the person-ids selecte to receive a notification in its own table? Or can they be placed in a separate table? And are you willing to execute native queries?","body":"What version of postgres are you running on? And are the person-ids selecte to receive a notification in its own table? Or can they be placed in a separate table? And are you willing to execute native queries?"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652476913,"creation_date":1597433526,"answer_id":63419029,"question_id":63418536,"body_markdown":"[Quartz][QuartzHome] would be my mostly database-agnostic solution for the task at hand, but was ruled out, so we are not going to discuss it.\r\n\r\nThe solution we are going to explore instead makes the following assumptions:\r\n\r\n- Postgres `&gt;= 9.5` is used (because we are going to use [`SKIP LOCKED`, which was introduced in Postgresl 9.5][PostgresSkipLocked]).\r\n- It is okay to run a native query.\r\n\r\nUnder this conditions, we can retrieve batches of notifications from multiple instances of the application running through the following query:\r\n\r\n    SELECT * FROM expo_push_token FOR UPDATE SKIP LOCKED LIMIT 100;\r\n\r\nThis will retrieve and lock up to `100` entries from the table `expo_push_token`. If two instances of the application execute this query simultaneously, the received results will be disjoint. `100` is just some sample value. We may want to fine-tune this value for our use case. The locks stay active until the current transaction ends.\r\n\r\nAfter an instance has fetched a batch of notifications, it has to also delete the entries it locked from the table or otherwise mark that this entry has been processed (if we go down this route, we have to modify the query above to filter-out already processed entires) and **close the current transaction** to release the locks. Each instance of the application would then repeat this query until the query returns zero entries.\r\n\r\nThere is also an alternative approach: an instance first fetches a batch size of notifications to send, keeps the transaction to the database open (thus continues holding the lock on the database), sends out its notification and then deletes/updates the entries and closes the transactions.\r\n\r\nThe two solutions have different strengths/weaknesses:\r\n\r\n- the first solutions keeps the transaction short. But if the application crashes in the middle of sending out notificatiosn, the part of its batch that was not send out is lost in this run.\r\n- the second solution keeps the transaction open, for possibly a long time. If it crashes in the middle fo sending out notifications, all entries will be unlocked and its batch would be re-processed, possibly resulting in some notifications being sent out twice.\r\n\r\n---\r\n\r\nFor this solution to work, we also need some kind of job that fills table `expo_push_token` with the data we need. This job should run beforehand, i.e. its execution should not overlap with the notification sending process.\r\n\r\n[QuartzHome]: http://www.quartz-scheduler.org/\r\n[PostgresSkipLocked]: https://www.cybertec-postgresql.com/en/skip-locked-one-of-my-favorite-9-5-features/","title":"How to scale more than 1 instance and deal with scheduled task in spring?","body":"<p><a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a> would be my mostly database-agnostic solution for the task at hand, but was ruled out, so we are not going to discuss it.</p>\n<p>The solution we are going to explore instead makes the following assumptions:</p>\n<ul>\n<li>Postgres <code>&gt;= 9.5</code> is used (because we are going to use <a href=\"https://www.cybertec-postgresql.com/en/skip-locked-one-of-my-favorite-9-5-features/\" rel=\"nofollow noreferrer\"><code>SKIP LOCKED</code>, which was introduced in Postgresl 9.5</a>).</li>\n<li>It is okay to run a native query.</li>\n</ul>\n<p>Under this conditions, we can retrieve batches of notifications from multiple instances of the application running through the following query:</p>\n<pre><code>SELECT * FROM expo_push_token FOR UPDATE SKIP LOCKED LIMIT 100;\n</code></pre>\n<p>This will retrieve and lock up to <code>100</code> entries from the table <code>expo_push_token</code>. If two instances of the application execute this query simultaneously, the received results will be disjoint. <code>100</code> is just some sample value. We may want to fine-tune this value for our use case. The locks stay active until the current transaction ends.</p>\n<p>After an instance has fetched a batch of notifications, it has to also delete the entries it locked from the table or otherwise mark that this entry has been processed (if we go down this route, we have to modify the query above to filter-out already processed entires) and <strong>close the current transaction</strong> to release the locks. Each instance of the application would then repeat this query until the query returns zero entries.</p>\n<p>There is also an alternative approach: an instance first fetches a batch size of notifications to send, keeps the transaction to the database open (thus continues holding the lock on the database), sends out its notification and then deletes/updates the entries and closes the transactions.</p>\n<p>The two solutions have different strengths/weaknesses:</p>\n<ul>\n<li>the first solutions keeps the transaction short. But if the application crashes in the middle of sending out notificatiosn, the part of its batch that was not send out is lost in this run.</li>\n<li>the second solution keeps the transaction open, for possibly a long time. If it crashes in the middle fo sending out notifications, all entries will be unlocked and its batch would be re-processed, possibly resulting in some notifications being sent out twice.</li>\n</ul>\n<hr />\n<p>For this solution to work, we also need some kind of job that fills table <code>expo_push_token</code> with the data we need. This job should run beforehand, i.e. its execution should not overlap with the notification sending process.</p>\n"}],"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63419029,"answer_count":1,"score":1,"last_activity_date":1652476913,"creation_date":1597431089,"question_id":63418536,"body_markdown":"I am having a push notifications being send to android and ios application through spring boot every day at 8am Europe/Paris.\r\n\r\nIf I run multiple instances, the notifications will send multiple times. I am thinking to send every day notifications send on the database, and check them but I am worried it still run multiple times, this is what I am doing:\r\n\r\n```java\r\n@Component\r\npublic class ScheduledTasks {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n\r\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\r\n    @Autowired\r\n    private ExpoPushTokenRepository expoPushTokenRepository;\r\n\r\n    @Autowired\r\n    private ExpoPushNotificationService expoPushNotificationService;\r\n\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n\r\n    // TODO: if instances &gt; 1, this will run multiple times, save to database the notifications send and prevent multiple sending.\r\n    @Scheduled(cron = &quot;${cron.promotions.notification}&quot;, zone = &quot;Europe/Paris&quot;)\r\n    public void sendNewPromotionsNotification() {\r\n        List&lt;ExpoPushToken&gt; expoPushTokenList = expoPushTokenRepository.findAll();\r\n        ArrayList&lt;NotifyRequest&gt; notifyRequestList = new ArrayList&lt;&gt;();\r\n        for (ExpoPushToken expoPushToken : expoPushTokenList) {\r\n            NotifyRequest notifyRequest = new NotifyRequest(\r\n                    expoPushToken.getToken(),\r\n                    &quot;This is a test title&quot;,\r\n                    &quot;This is a test subtitle&quot;,\r\n                    &quot;This is a test body&quot;\r\n            );\r\n            notifyRequestList.add(notifyRequest);\r\n        }\r\n\r\n        expoPushNotificationService.sendPushNotificationToList(notifyRequestList);\r\n        log.info(&quot;{} Send push notification to &quot; + expoPushTokenList.size() + &quot; userse&quot;, dateFormat.format(new Date()));\r\n    }\r\n}\r\n```\r\n\r\nDoes anybody have an idea on how I can prevent that safely?\r\n","title":"How to scale more than 1 instance and deal with scheduled task in spring?","body":"<p>I am having a push notifications being send to android and ios application through spring boot every day at 8am Europe/Paris.</p>\n<p>If I run multiple instances, the notifications will send multiple times. I am thinking to send every day notifications send on the database, and check them but I am worried it still run multiple times, this is what I am doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ScheduledTasks {\n\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n\n    @Autowired\n    private ExpoPushTokenRepository expoPushTokenRepository;\n\n    @Autowired\n    private ExpoPushNotificationService expoPushNotificationService;\n\n    @Autowired\n    private MessageSource messageSource;\n\n    // TODO: if instances &gt; 1, this will run multiple times, save to database the notifications send and prevent multiple sending.\n    @Scheduled(cron = &quot;${cron.promotions.notification}&quot;, zone = &quot;Europe/Paris&quot;)\n    public void sendNewPromotionsNotification() {\n        List&lt;ExpoPushToken&gt; expoPushTokenList = expoPushTokenRepository.findAll();\n        ArrayList&lt;NotifyRequest&gt; notifyRequestList = new ArrayList&lt;&gt;();\n        for (ExpoPushToken expoPushToken : expoPushTokenList) {\n            NotifyRequest notifyRequest = new NotifyRequest(\n                    expoPushToken.getToken(),\n                    &quot;This is a test title&quot;,\n                    &quot;This is a test subtitle&quot;,\n                    &quot;This is a test body&quot;\n            );\n            notifyRequestList.add(notifyRequest);\n        }\n\n        expoPushNotificationService.sendPushNotificationToList(notifyRequestList);\n        log.info(&quot;{} Send push notification to &quot; + expoPushTokenList.size() + &quot; userse&quot;, dateFormat.format(new Date()));\n    }\n}\n</code></pre>\n<p>Does anybody have an idea on how I can prevent that safely?</p>\n"},{"tags":["java","postgresql","maven","heroku","jdbc"],"comments":[{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1460933081,"post_id":36683006,"comment_id":60955683,"body_markdown":"To clarify, when you add the `Class.forName` call, does the DB connection work?","body":"To clarify, when you add the <code>Class.forName</code> call, does the DB connection work?"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460933231,"post_id":36683006,"comment_id":60955715,"body_markdown":"locally, `forName()` catches the IntelliJ&#39;s jdbc driver and the connection works. On Heroku, `forName()` triggers the `ClassNotFoundException`","body":"locally, <code>forName()</code> catches the IntelliJ&#39;s jdbc driver and the connection works. On Heroku, <code>forName()</code> triggers the <code>ClassNotFoundException</code>"},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1460933308,"post_id":36683006,"comment_id":60955735,"body_markdown":"Can you check if the postgres jar file is in your Heroku slug by running `heroku run ls target/dependency/`?","body":"Can you check if the postgres jar file is in your Heroku slug by running <code>heroku run ls target&#47;dependency&#47;</code>?"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460933507,"post_id":36683006,"comment_id":60955772,"body_markdown":"I get `ls: cannot access target/dependency/: No such file or directory`","body":"I get <code>ls: cannot access target&#47;dependency&#47;: No such file or directory</code>"},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":1,"creation_date":1460933596,"post_id":36683006,"comment_id":60955795,"body_markdown":"That would suggest your JAR files are not being vendored (i.e. copied into the target directory during the build). Are you deploying with `git push` or `mvn heroku:deploy`?","body":"That would suggest your JAR files are not being vendored (i.e. copied into the target directory during the build). Are you deploying with <code>git push</code> or <code>mvn heroku:deploy</code>?"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460933707,"post_id":36683006,"comment_id":60955826,"body_markdown":"I am pushing to heroku using IntelliJ, therefore - using the git client, `git push`. I can try `mvn heroku:deploy`","body":"I am pushing to heroku using IntelliJ, therefore - using the git client, <code>git push</code>. I can try <code>mvn heroku:deploy</code>"},{"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"score":0,"creation_date":1460934066,"post_id":36683006,"comment_id":60955887,"body_markdown":"It worked! Thanks a ton, @codefinger, for solving the mystery that lasted a couple of days!","body":"It worked! Thanks a ton, @codefinger, for solving the mystery that lasted a couple of days!"}],"answers":[{"tags":[],"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1542688487,"creation_date":1460934582,"answer_id":36683215,"question_id":36683006,"body_markdown":"Sometimes, convenience (like using IntelliJ&#39;s git integration to push to Heroku like I did) leads to unwanted problems.  \r\n\r\nI used `git push` to update my app on Heroku. Everything was fine, except the required libraries didn&#39;t fall into place.  \r\nTried `mvn heroku:deploy`, tested, everything works! Thanks [codefinger][1] for the suggestion.  \r\n\r\nIf anyone asks, here&#39;s how you do it if never done before:  \r\n1) Add the [Heroku Maven Plugin](https://devcenter.heroku.com/articles/deploying-java-applications-with-the-heroku-maven-plugin) to your `pom.xml`:  \r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.0.6&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n2) Execute maven goal `heroku:deploy`.  \r\nThat&#39;s it\r\n\r\n  [1]: https://stackoverflow.com/users/63308/codefinger &quot;codefinger&quot;","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>Sometimes, convenience (like using IntelliJ's git integration to push to Heroku like I did) leads to unwanted problems.  </p>\n\n<p>I used <code>git push</code> to update my app on Heroku. Everything was fine, except the required libraries didn't fall into place.<br>\nTried <code>mvn heroku:deploy</code>, tested, everything works! Thanks <a href=\"https://stackoverflow.com/users/63308/codefinger\" title=\"codefinger\">codefinger</a> for the suggestion.  </p>\n\n<p>If anyone asks, here's how you do it if never done before:<br>\n1) Add the <a href=\"https://devcenter.heroku.com/articles/deploying-java-applications-with-the-heroku-maven-plugin\" rel=\"nofollow noreferrer\">Heroku Maven Plugin</a> to your <code>pom.xml</code>:  </p>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>2) Execute maven goal <code>heroku:deploy</code>.<br>\nThat's it</p>\n"},{"tags":[],"owner":{"account_id":7802176,"reputation":11,"user_id":6673916,"display_name":"markamaze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561689521,"creation_date":1561689521,"answer_id":56800302,"question_id":36683006,"body_markdown":"I had the same problem with connection working from local system, but not when deployed. Was the same issue, not having dependencies accessible, but for a build using a JAR, I just needed to make sure that I used a JAR that was self contained with all dependencies.","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>I had the same problem with connection working from local system, but not when deployed. Was the same issue, not having dependencies accessible, but for a build using a JAR, I just needed to make sure that I used a JAR that was self contained with all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":3813867,"reputation":306,"user_id":5854629,"display_name":"Akzok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640572780,"creation_date":1640572780,"answer_id":70491259,"question_id":36683006,"body_markdown":"There is a more direct solution than switching to `heroku-maven-plugin`: you can mark the postgresql dependency as having `runtime` scope:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.3.1&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThe default scope is `compile`, which results in Maven leaving it out since it&#39;s not referenced in the code.\r\n\r\nI&#39;ve added this answer because I ran into the same issue but had a lot of trouble with the `heroku-maven-plugin` approach (my project has multiple modules and that complicates things).  Adopting the plugin probably has other benefits, but configuring the dependency&#39;s scope was a much simpler fix in my case.","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>There is a more direct solution than switching to <code>heroku-maven-plugin</code>: you can mark the postgresql dependency as having <code>runtime</code> scope:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.3.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>The default scope is <code>compile</code>, which results in Maven leaving it out since it's not referenced in the code.</p>\n<p>I've added this answer because I ran into the same issue but had a lot of trouble with the <code>heroku-maven-plugin</code> approach (my project has multiple modules and that complicates things).  Adopting the plugin probably has other benefits, but configuring the dependency's scope was a much simpler fix in my case.</p>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652476518,"creation_date":1652476518,"answer_id":72235494,"question_id":36683006,"body_markdown":"Quoting Heroku Help:\r\n\r\n&gt; This means you have parsed the DATABASE_URL wrong. You need to change\r\n&gt; postgres to postgresql in the connection string (JDBC does not support\r\n&gt; the &quot;postgres&quot; shorthand), or use the JDBC_DATABASE_URL config\r\n&gt; variable instead.\r\n\r\n[Also, make sure the dependency is runtime only][1].\r\n\r\n[source][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70491259/819651\r\n  [2]: https://help.heroku.com/51QYCRMZ/why-is-there-no-suitable-driver-found-for-jdbc-postgres","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>Quoting Heroku Help:</p>\n<blockquote>\n<p>This means you have parsed the DATABASE_URL wrong. You need to change\npostgres to postgresql in the connection string (JDBC does not support\nthe &quot;postgres&quot; shorthand), or use the JDBC_DATABASE_URL config\nvariable instead.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/70491259/819651\">Also, make sure the dependency is runtime only</a>.</p>\n<p><a href=\"https://help.heroku.com/51QYCRMZ/why-is-there-no-suitable-driver-found-for-jdbc-postgres\" rel=\"nofollow noreferrer\">source</a></p>\n"}],"owner":{"account_id":3064794,"reputation":445,"user_id":2596742,"display_name":"kit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1923,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36683215,"answer_count":4,"score":4,"last_activity_date":1652476518,"creation_date":1460932748,"question_id":36683006,"body_markdown":"Writing a pure Java server app for Heroku using Maven.\r\nConnecting to Heroku&#39;s Postgres database.  \r\nEverything works when running **locally**, using IntelliJ&#39;s config for running Java apps, specifying Heroku&#39;s DB URL as an environment variable. The app works, and I can connect to the DB.  \r\n*Note: I found out that IntelliJ somehow automatically uses its own Postgres driver, the one that I specified in pom.xml gets ignored, obviously*  \r\nHowever, when I **deploy** the app, i get the following error in my Heroku log as soon as I connect to the DB:  \r\n`java.lang.ClassNotFoundException: org.postgresql.Driver`  \r\n\r\nI followed the Heroku tutorial, but when I saw that there is no connection, I put  \r\n\r\n    Class.forName(&quot;org.postgresql.Driver&quot;);\r\nbefore \r\n\r\n    String dbUrl = System.getenv(&quot;JDBC_DATABASE_URL&quot;);\r\n    return DriverManager.getConnection(dbUrl);\r\njust to make sure the driver gets found. If I remove `Class.forName()...` check, I get the `no suitable driver found for` *[my db url]* error.  \r\nConcerning the last error, I tried both **JDBC_DATABASE_URL** and **DATABASE_URL** env vars, and even constructing the DB URL &quot;by hand&quot;, with `sslmode=require` etc, but still no luck.  \r\nMy pom.xml has *modelVersion, groupId, artifactId, version* and *name* specified, as well as:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.1208&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\nMy Procfile, that Heroku uses to launch the app, looks like this:\r\n\r\n    web: java $JAVA_OPTS -cp target/classes:&quot;target/dependency/*&quot; Main --port $PORT\r\nWhen I deploy the app, I get no errors, build is successful.  \r\n\r\nWhat can be the cause of the driver not loading? Am I forgetting something in pom.xml, or Procfile, or something else?","title":"Heroku cannot find Postgres JDBC Driver","body":"<p>Writing a pure Java server app for Heroku using Maven.\nConnecting to Heroku's Postgres database.<br>\nEverything works when running <strong>locally</strong>, using IntelliJ's config for running Java apps, specifying Heroku's DB URL as an environment variable. The app works, and I can connect to the DB.<br>\n<em>Note: I found out that IntelliJ somehow automatically uses its own Postgres driver, the one that I specified in pom.xml gets ignored, obviously</em><br>\nHowever, when I <strong>deploy</strong> the app, i get the following error in my Heroku log as soon as I connect to the DB:<br>\n<code>java.lang.ClassNotFoundException: org.postgresql.Driver</code>  </p>\n\n<p>I followed the Heroku tutorial, but when I saw that there is no connection, I put  </p>\n\n<pre><code>Class.forName(\"org.postgresql.Driver\");\n</code></pre>\n\n<p>before </p>\n\n<pre><code>String dbUrl = System.getenv(\"JDBC_DATABASE_URL\");\nreturn DriverManager.getConnection(dbUrl);\n</code></pre>\n\n<p>just to make sure the driver gets found. If I remove <code>Class.forName()...</code> check, I get the <code>no suitable driver found for</code> <em>[my db url]</em> error.<br>\nConcerning the last error, I tried both <strong>JDBC_DATABASE_URL</strong> and <strong>DATABASE_URL</strong> env vars, and even constructing the DB URL \"by hand\", with <code>sslmode=require</code> etc, but still no luck.<br>\nMy pom.xml has <em>modelVersion, groupId, artifactId, version</em> and <em>name</em> specified, as well as:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;9.4.1208&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My Procfile, that Heroku uses to launch the app, looks like this:</p>\n\n<pre><code>web: java $JAVA_OPTS -cp target/classes:\"target/dependency/*\" Main --port $PORT\n</code></pre>\n\n<p>When I deploy the app, I get no errors, build is successful.  </p>\n\n<p>What can be the cause of the driver not loading? Am I forgetting something in pom.xml, or Procfile, or something else?</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":13095640,"reputation":264,"user_id":9461648,"display_name":"kokodyn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652476110,"creation_date":1652476110,"answer_id":72235451,"question_id":72223333,"body_markdown":"Consider using ```cache``` on monoStudent\r\n\r\n```\r\nMono&lt;Student&gt; cachedMonoStudent = studentRepository.save(student).cache();\r\n```\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\r\n","title":"Converting a mono object into two different mono object and the root mono is executing two times","body":"<p>Consider using <code>cache</code> on monoStudent</p>\n<pre><code>Mono&lt;Student&gt; cachedMonoStudent = studentRepository.save(student).cache();\n</code></pre>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--</a></p>\n"}],"owner":{"account_id":5064466,"reputation":21,"user_id":4064899,"display_name":"Sumit Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652476110,"creation_date":1652401785,"question_id":72223333,"body_markdown":"Suppose I have create a Student entity and storing it into database using reactive.\r\n\r\n      Student student{\r\n        id;\r\n        name;\r\n        institutionId; \r\n        courseId;\r\n    }\r\n\r\nI am storing this student entity using a reactive repository and in response finding a Mono&lt;Student&gt;. Now we are getting two mono String instituteName and courseName using instituteId and courseId reactively. \r\n\r\n    Mono&lt;Student&gt; monoStudent = studentRepository.save(student);\r\n\r\n    Mono&lt;String&gt; institutionName = monoStudent.flatMap(student -&gt; \r\n                                institutionRepository.findById(student.getInstitutionId))\r\n                  .map(institution -&gt; institution.getName());\r\n\r\n    Mono&lt;String&gt; courseName = monoStudent.flatMap(student -&gt; \r\n                       courseRepository.findById(student.getCourseId))\r\n                  .map(course -&gt; course.getName());\r\n\r\nWe are using monoStudent into two different chain to get institutionName and courseName, as a result studentRepository.save(student) is executing two times. How I could creating two different object without executing studentRepository.save(student) two times?\r\n","title":"Converting a mono object into two different mono object and the root mono is executing two times","body":"<p>Suppose I have create a Student entity and storing it into database using reactive.</p>\n<pre><code>  Student student{\n    id;\n    name;\n    institutionId; \n    courseId;\n}\n</code></pre>\n<p>I am storing this student entity using a reactive repository and in response finding a Mono. Now we are getting two mono String instituteName and courseName using instituteId and courseId reactively.</p>\n<pre><code>Mono&lt;Student&gt; monoStudent = studentRepository.save(student);\n\nMono&lt;String&gt; institutionName = monoStudent.flatMap(student -&gt; \n                            institutionRepository.findById(student.getInstitutionId))\n              .map(institution -&gt; institution.getName());\n\nMono&lt;String&gt; courseName = monoStudent.flatMap(student -&gt; \n                   courseRepository.findById(student.getCourseId))\n              .map(course -&gt; course.getName());\n</code></pre>\n<p>We are using monoStudent into two different chain to get institutionName and courseName, as a result studentRepository.save(student) is executing two times. How I could creating two different object without executing studentRepository.save(student) two times?</p>\n"},{"tags":["java","interceptor","sap-commerce-cloud"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1652700094,"post_id":72235439,"comment_id":127661265,"body_markdown":"make a condition on null and check there might be possibility in code before setting address to b2bunit it&#39;s getting saved.","body":"make a condition on null and check there might be possibility in code before setting address to b2bunit it&#39;s getting saved."},{"owner":{"account_id":16253070,"reputation":335,"user_id":11736461,"display_name":"Nicolas Villacorta"},"score":0,"creation_date":1652705031,"post_id":72235439,"comment_id":127662941,"body_markdown":"@RaushanKumar I think there should be a transparent way to solve this. Adding some conditions will make very messy the code :/","body":"@RaushanKumar I think there should be a transparent way to solve this. Adding some conditions will make very messy the code :/"}],"owner":{"account_id":16253070,"reputation":335,"user_id":11736461,"display_name":"Nicolas Villacorta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652476020,"creation_date":1652476020,"question_id":72235439,"body_markdown":"I&#39;m trying to use my PrepareInterceptor to see if my B2BUnit is receiving addresses, if not I want to set the B2BUnit as not active. \r\n\r\nThis is my code; \r\n\r\n    @Override\r\n\tpublic void onPrepare(final B2BUnitModel model, final InterceptorContext ctx) throws InterceptorException\r\n\t{\r\n\r\n\t\tif (!haveMandatoryFields(model))\r\n\t\t{\r\n\t\t\tif (!ctx.isNew(model) &amp;&amp; ctx.isModified(model, B2BUnitModel.ACTIVE) &amp;&amp; model.getActive() == true)\r\n\t\t\t{\r\n\t\t\t\tthrow new InterceptorException(InterceptorsErrorMessages.B2BUnit.MANDATORY_FIELDS);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmodel.setActive(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI&#39;m having two problems here.\r\n1) I&#39;m adding just one B2BUnit with 1 address and the PrepareInterceptor is being executed 3 times...\r\n2) Each execution come with new fields, and I need them all on the first one. The &#39;model.getAddresses()&#39; are null until 3rd execution and my interceptorContext.getDirtyAttributes(model) is bringing all my B2BUnit fields except for `addresses` at 1st execution, `readableCatalogVersions` at 2nd one, and `readableCatalogVersions` again with `addresses` at 3st one.","title":"My PrepareInterceptor is being executed many times with null fields","body":"<p>I'm trying to use my PrepareInterceptor to see if my B2BUnit is receiving addresses, if not I want to set the B2BUnit as not active.</p>\n<p>This is my code;</p>\n<pre><code>@Override\npublic void onPrepare(final B2BUnitModel model, final InterceptorContext ctx) throws InterceptorException\n{\n\n    if (!haveMandatoryFields(model))\n    {\n        if (!ctx.isNew(model) &amp;&amp; ctx.isModified(model, B2BUnitModel.ACTIVE) &amp;&amp; model.getActive() == true)\n        {\n            throw new InterceptorException(InterceptorsErrorMessages.B2BUnit.MANDATORY_FIELDS);\n        }\n        else\n        {\n            model.setActive(false);\n        }\n    }\n}\n</code></pre>\n<p>I'm having two problems here.</p>\n<ol>\n<li>I'm adding just one B2BUnit with 1 address and the PrepareInterceptor is being executed 3 times...</li>\n<li>Each execution come with new fields, and I need them all on the first one. The 'model.getAddresses()' are null until 3rd execution and my interceptorContext.getDirtyAttributes(model) is bringing all my B2BUnit fields except for <code>addresses</code> at 1st execution, <code>readableCatalogVersions</code> at 2nd one, and <code>readableCatalogVersions</code> again with <code>addresses</code> at 3st one.</li>\n</ol>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652475792,"creation_date":1652475792,"answer_id":72235405,"question_id":72230641,"body_markdown":"You could use `Mono.delay()` to control delay. \r\n\r\n```\r\n@Test\r\nvoid test() {\r\n\tvar stream = Flux.range(1, 10)\r\n\t\t\t.concatMap(i -&gt; \r\n\t\t\t\t\tMono.delay(Duration.ofSeconds(i))\r\n\t\t\t\t\t\t\t.thenReturn(i)\r\n\t\t\t)\r\n\t\t\t.log();\r\n\r\n\tStepVerifier.create(stream)\r\n\t\t\t.thenConsumeWhile(rec -&gt; true)\r\n\t\t\t.verifyComplete();\r\n}\r\n```","title":"Flux delayElements without initial delay","body":"<p>You could use <code>Mono.delay()</code> to control delay.</p>\n<pre><code>@Test\nvoid test() {\n    var stream = Flux.range(1, 10)\n            .concatMap(i -&gt; \n                    Mono.delay(Duration.ofSeconds(i))\n                            .thenReturn(i)\n            )\n            .log();\n\n    StepVerifier.create(stream)\n            .thenConsumeWhile(rec -&gt; true)\n            .verifyComplete();\n}\n</code></pre>\n"}],"owner":{"account_id":13095640,"reputation":264,"user_id":9461648,"display_name":"kokodyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652475792,"creation_date":1652449691,"question_id":72230641,"body_markdown":"I would like to emit elements where elements are delayed each other by some time without initial delay.\r\n\r\nI can not use\r\n```\r\nFlux.delayElements(Duration)\r\n```\r\nbecause it delays initial delay before first element which is not expected in my case.\r\n\r\nConsider having example \r\n```\r\nFlux.range(1, n)\r\n```\r\nI would like to have below scenario:\r\n\r\n1 delay 2 delay 3 delay ...\r\n\r\nCurrent version of ```Flux.delayElements``` work like this:\r\n\r\ndelay 1 delay 2 delay 3 ...\r\n\r\n\r\nMy current workaround\r\n```\r\nFlux.interval(\r\n    Duration.ZERO,\r\n        Duration.ofSeconds(1)\r\n        )\r\n// make some call\r\n```\r\nbut it cause problem similar to:\r\nhttps://stackoverflow.com/questions/48520084/spring-webflux-reactor-error-when-zipwith-could-not-emit-tick-due-to-lack-o?rq=1\r\n\r\nCould you suggest some other solution for this case or maybe there should be raised issue to introduce new method in ```Flux``` to cover it?","title":"Flux delayElements without initial delay","body":"<p>I would like to emit elements where elements are delayed each other by some time without initial delay.</p>\n<p>I can not use</p>\n<pre><code>Flux.delayElements(Duration)\n</code></pre>\n<p>because it delays initial delay before first element which is not expected in my case.</p>\n<p>Consider having example</p>\n<pre><code>Flux.range(1, n)\n</code></pre>\n<p>I would like to have below scenario:</p>\n<p>1 delay 2 delay 3 delay ...</p>\n<p>Current version of <code>Flux.delayElements</code> work like this:</p>\n<p>delay 1 delay 2 delay 3 ...</p>\n<p>My current workaround</p>\n<pre><code>Flux.interval(\n    Duration.ZERO,\n        Duration.ofSeconds(1)\n        )\n// make some call\n</code></pre>\n<p>but it cause problem similar to:\n<a href=\"https://stackoverflow.com/questions/48520084/spring-webflux-reactor-error-when-zipwith-could-not-emit-tick-due-to-lack-o?rq=1\">Spring WebFlux (reactor). Error when zipWith - Could not emit tick due to lack of requests</a></p>\n<p>Could you suggest some other solution for this case or maybe there should be raised issue to introduce new method in <code>Flux</code> to cover it?</p>\n"},{"tags":["java","object","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1651374466,"post_id":72073692,"comment_id":127348578,"body_markdown":"Welcome to stack overflow. You&#39;ve shown the code you&#39;ve written, but you also need to show the program calling it, the class it&#39;s in, and explain what behaviour you are seeing. Please read [ask].","body":"Welcome to stack overflow. You&#39;ve shown the code you&#39;ve written, but you also need to show the program calling it, the class it&#39;s in, and explain what behaviour you are seeing. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1651374531,"post_id":72073692,"comment_id":127348584,"body_markdown":"You also need to look at the signature of `Object.equals`. Have you overriden it?","body":"You also need to look at the signature of <code>Object.equals</code>. Have you overriden it?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1651374756,"post_id":72073692,"comment_id":127348600,"body_markdown":"See [`Object.equals(Object)`](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)). And **please** use the [`@Override` annotation](https://docs.oracle.com/javase/7/docs/api/java/lang/Override.html).","body":"See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object.equals(Object)</code></a>. And <b>please</b> use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Override.html\" rel=\"nofollow noreferrer\"><code>@Override</code> annotation</a>."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651743308,"post_id":72073692,"comment_id":127437386,"body_markdown":"You have overloaded `equals`, not overridden `equals`. Your `equals(Drink, Drink)` is never called, as `equals(Object)` is called..","body":"You have overloaded <code>equals</code>, not overridden <code>equals</code>. Your <code>equals(Drink, Drink)</code> is never called, as <code>equals(Object)</code> is called.."}],"answers":[{"tags":[],"owner":{"account_id":25285682,"reputation":1,"user_id":19112721,"display_name":"user19112721"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652475764,"creation_date":1652475593,"answer_id":72235378,"question_id":72073692,"body_markdown":"You need to override the equals method, if you use the\r\n@Override annotation you&#39;ll see if you&#39;re doing it right.\r\n\r\n    public boolean equals(Object obj) {\r\n      return (this == obj);\r\n    }\r\n\r\nThat is the Object one, so yours might for example look like:\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n        if (this == obj) return true;\r\n        if (obj == null || getClass() != obj.getClass()) return false;\r\n        Drink drink = (Drink) obj;\r\n        return this.size.equals(drink.size) \r\n         &amp;&amp; this.name.equals(drink.name);\r\n    }\r\n\r\nyou&#39;ll also have to override your hashCode if you want your code to work optimally.\r\n\r\n**(And i&#39;ve only recently noticed that if you use Objects.hash in your overridden hashCode method, your overridden equals method won&#39;t get used, the Objects one will get used instead)**\r\n\r\n","title":"When trying to overwrite a equals method in Java, it won&#39;t compare the values only the object itself?","body":"<p>You need to override the equals method, if you use the\n@Override annotation you'll see if you're doing it right.</p>\n<pre><code>public boolean equals(Object obj) {\n  return (this == obj);\n}\n</code></pre>\n<p>That is the Object one, so yours might for example look like:</p>\n<pre><code>    @Override\n    public boolean equals(Object obj) {\n    if (this == obj) return true;\n    if (obj == null || getClass() != obj.getClass()) return false;\n    Drink drink = (Drink) obj;\n    return this.size.equals(drink.size) \n     &amp;&amp; this.name.equals(drink.name);\n}\n</code></pre>\n<p>you'll also have to override your hashCode if you want your code to work optimally.</p>\n<p><strong>(And i've only recently noticed that if you use Objects.hash in your overridden hashCode method, your overridden equals method won't get used, the Objects one will get used instead)</strong></p>\n"}],"owner":{"account_id":25160962,"reputation":1,"user_id":19005157,"display_name":"satrn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1652475764,"creation_date":1651374037,"question_id":72073692,"body_markdown":"In this exercise, I need to create a `equals()` method for a `Drink` class. Two drinks are the same if they have the same name and same size. I am receiving `false` from testing the method, even though I&#39;m certain it should be `true`.\r\n\r\nThe main code:\r\n```java\r\npublic class Drink {\r\n    private String name;\r\n    private double size;\r\n    \r\n    public Drink(String name, double size) \r\n    {\r\n        this.name = name;\r\n        this.size = size;\r\n    }\r\n    \r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n    \r\n    public double getSize()\r\n    {\r\n        return size;\r\n    }\r\n    \r\n//I tried to stringify the double values\r\n\r\n    public boolean equals(Drink a, Drink b){\r\n        String q = String.valueOf(a.getSize());\r\n        String w = String.valueOf(b.getSize());\r\n        if(q.equals(w) &amp;&amp; a.getName().equals(b.getName())){\r\n            return true;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe tester Code:\r\n\r\n```java\r\npublic class DrinkTester\r\n{\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        Drink one = new Drink(&quot;Soda&quot;, 12);\r\n        Drink two = new Drink(&quot;Soda&quot;, 12);\r\n        Drink three = new Drink(&quot;Soda&quot;, 20);\r\n        System.out.println(one.equals(two));\r\n        System.out.println(one.equals(three));\r\n    }\r\n}\r\n```\r\n","title":"When trying to overwrite a equals method in Java, it won&#39;t compare the values only the object itself?","body":"<p>In this exercise, I need to create a <code>equals()</code> method for a <code>Drink</code> class. Two drinks are the same if they have the same name and same size. I am receiving <code>false</code> from testing the method, even though I'm certain it should be <code>true</code>.</p>\n<p>The main code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Drink {\n    private String name;\n    private double size;\n    \n    public Drink(String name, double size) \n    {\n        this.name = name;\n        this.size = size;\n    }\n    \n    public String getName()\n    {\n        return name;\n    }\n    \n    public double getSize()\n    {\n        return size;\n    }\n    \n//I tried to stringify the double values\n\n    public boolean equals(Drink a, Drink b){\n        String q = String.valueOf(a.getSize());\n        String w = String.valueOf(b.getSize());\n        if(q.equals(w) &amp;&amp; a.getName().equals(b.getName())){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>The tester Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DrinkTester\n{\n    \n    public static void main(String[] args)\n    {\n        Drink one = new Drink(&quot;Soda&quot;, 12);\n        Drink two = new Drink(&quot;Soda&quot;, 12);\n        Drink three = new Drink(&quot;Soda&quot;, 20);\n        System.out.println(one.equals(two));\n        System.out.println(one.equals(three));\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx","nodes"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1652186834,"post_id":72186425,"comment_id":127541276,"body_markdown":"Please edit your post and limit it to one question. Each post should only ask one question.","body":"Please edit your post and limit it to one question. Each post should only ask one question."}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652475415,"creation_date":1652475415,"answer_id":72235349,"question_id":72186425,"body_markdown":"**use columnSpam to spam a node horizontally**\r\n\r\n[![columnspam][1]][1]\r\n\r\nnow label result and wellcome uses 4 columns size.\r\ncheck `columnSpam()`  at [gridpane(javafx8)][2]\r\n\r\nto change scene color : `scene.setFill()`\r\n\r\nI added  comments where code was modified \r\n\r\n    public class MagicSquare2 extends Application {\r\n        // user-friendly text entries for the matrix\r\n        // using combo boxes to allow user to choose or type their choice\r\n        ComboBox&lt;String&gt; [][] fields = new ComboBox[3][3];\r\n    \r\n        // labels to display messages to the user\r\n        Label welcome = new Label();\r\n        Label result = new Label();\r\n    \r\n        GridPane gridPane = new GridPane(); // the appropriate pane for a matrix\r\n    \r\n        final int correctSum = 15; // helpful variable for isMagicSquare method\r\n    \r\n        public void start(Stage primaryStage) {\r\n            Background red = new Background(new BackgroundFill(Color.RED, null, null));\r\n            Background blue = new Background(new BackgroundFill(Color.BLUE, null, null));\r\n    \r\n            // creating buttons\r\n            Button submit = new Button(&quot;Submit&quot;);\r\n            submit.backgroundProperty().set(red);\r\n            submit.setTextFill(Color.WHITE);\r\n    \r\n            Button reset = new Button(&quot;Reset&quot;);\r\n            reset.backgroundProperty().set(blue);\r\n            reset.setTextFill(Color.WHITE);\r\n    \r\n            // designing the labels\r\n            welcome.setAlignment(Pos.TOP_CENTER);\r\n            welcome.setFont(new Font(&quot;Arial&quot;,40));\r\n            welcome.setTextFill(Color.RED);\r\n    \r\n            result.setFont(new Font(&quot;Arial&quot;,30));\r\n            result.setTextFill(Color.RED);\r\n    \r\n            welcome.setText(&quot; Welcome to Magic Square Game &quot;);\r\n    \r\n            // designing the pane\r\n            gridPane.setAlignment(Pos.CENTER);\r\n            gridPane.setPadding(new Insets(11.5,12.5,13.5,14.5));\r\n            gridPane.setHgap(5.5);\r\n            gridPane.setVgap(5.5);\r\n    //        gridPane.setGridLinesVisible(true);\r\n    \r\n            // adding elements to the pane\r\n            gridPane.setColumnSpan(welcome, 4); //columnspam\r\n            gridPane.add(welcome, 0, 0);\r\n            gridPane.add(submit, 1, 4, 1, 1);\r\n            gridPane.add(reset, 3, 4, 1, 1);\r\n            gridPane.setColumnSpan(result, 4);//columspam\r\n            gridPane.add(result, 0, 5);\r\n    \r\n            for (int i = 0; i &lt; 3; i++) {\r\n                for (int j = 0; j &lt; 3; j++) {\r\n                    fields[i][j] = new ComboBox&lt;&gt;();\r\n                    fields[i][j].setEditable(true); // enabling user input for combo boxes\r\n                    fields[i][j].getItems().addAll(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;); // adding the choices for the combo boxes\r\n    \r\n                    gridPane.add(fields[i][j], i+1, j+1);\r\n                }\r\n            }\r\n    \r\n            // link reset button with its handler\r\n            reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent actionEvent) {\r\n                    for (int i = 0; i &lt; 3; i++) {\r\n                        for (int j = 0; j &lt; 3; j++) {\r\n                            fields[i][j].setValue(&quot;&quot;); // emptying the entries for the next attempt\r\n                        }\r\n                    }\r\n    \r\n                    // remove the previous result from the screen\r\n                    result.setText(&quot; Enter the numbers again please&quot;);\r\n                }\r\n            });\r\n    \r\n            // link the submit button with its handler\r\n            SubmitHandler handler1 = new SubmitHandler();\r\n            submit.setOnAction(handler1);\r\n    \r\n            // adding the grid pane to the scene\r\n            Scene scene = new Scene(gridPane, 550, 160, Color.rgb(153, 196, 200));\r\n             scene.setFill(Color.CYAN); // change color scene\r\n            // adding the scene to the stage\r\n            primaryStage.setScene(scene);\r\n         \r\n            // setting the title for the program\r\n            primaryStage.setTitle(&quot;Magic Square&quot;);\r\n    \r\n            primaryStage.show();\r\n        }\r\n    \r\n        // return true if the array represents a square matrix and false otherwise\r\n        public boolean isMagicSquare(int[][] myArray, ArrayList&lt;Integer&gt; arrayList) {\r\n            int sumRow = 0, sumMdg = 0, sumColumn = 0, sumSdg = 0; // creating useful variables\r\n    \r\n            // using ArrayList check if elements are duplicated or out of the interval\r\n            for (int i = 0; i &lt; arrayList.size(); i++) {\r\n                if (arrayList.get(i) &gt; 9 || arrayList.get(i) &lt; 0)\r\n                    return false;\r\n    \r\n                // check if numbers are repeated\r\n                int element = arrayList.get(i);\r\n                arrayList.remove(i);\r\n                if (arrayList.contains(element))\r\n                    return false;\r\n            }\r\n    \r\n            // check the sum of columns, rows, diagnols\r\n            for(int i = 0; i &lt; myArray.length; i++) {\r\n                sumRow = sumColumn = 0;\r\n                sumMdg += myArray[i][i];\r\n                sumSdg += myArray[i][myArray.length - 1 - i];\r\n    \r\n                for (int j = 0; j &lt; myArray.length; j++) {\r\n                    sumRow += myArray[i][j];\r\n                    sumColumn += myArray[j][i];\r\n                }\r\n    \r\n                if (sumColumn != correctSum || sumRow != correctSum)\r\n                    return false;\r\n            }\r\n    \r\n            return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        class SubmitHandler implements EventHandler&lt;ActionEvent&gt; {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                // Array full of the usre&#39;s choices that will be passed to isMagicSquare method.\r\n                int[][] values = new int[3][3];\r\n                // Array list to  easily check if numbers are duplicated or &gt;9 or&lt;0\r\n                ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;(9);\r\n                // try statement to handle user&#39;s invalid inputs such as words(&quot;one&quot;,&quot;two&quot;,....)\r\n                try {\r\n                    for (int i = 0; i &lt; 3; i++) {\r\n                        for (int j = 0; j &lt; 3; j++) {\r\n                            // check if the fields are empty\r\n                            if (fields[i][j].getValue().compareTo(&quot;&quot;) == 0) {\r\n                                fields[i][j].setValue(&quot;0&quot;);\r\n                            }\r\n    \r\n                            values[i][j] = Integer.parseInt(fields[i][j].getValue()); // convert the user choices to integers\r\n                            arrayList.add(values[i][j]); // add elemnts to the one-dimensional array\r\n                        }\r\n                    }\r\n                } catch (Exception NumberFormatException) {\r\n                    result.setText(&quot; You entered an invalid input. Please try again&quot;);\r\n                    return;\r\n                }\r\n    \r\n                if (isMagicSquare(values, arrayList)) {\r\n                    result.setText(&quot;The matrix is a magic square  &quot;);\r\n                } else {\r\n                    result.setText(&quot;The matrix is not a magic square. Try again please&quot;);\r\n                }\r\n            }\r\n        }\r\n    } \r\n\r\n  [1]: https://i.stack.imgur.com/cUTLC.png\r\n  [2]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html\r\n","title":"Styling and organizing nodes inside a scene","body":"<p><strong>use columnSpam to spam a node horizontally</strong></p>\n<p><a href=\"https://i.stack.imgur.com/cUTLC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cUTLC.png\" alt=\"columnspam\" /></a></p>\n<p>now label result and wellcome uses 4 columns size.\ncheck <code>columnSpam()</code>  at <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\">gridpane(javafx8)</a></p>\n<p>to change scene color : <code>scene.setFill()</code></p>\n<p>I added  comments where code was modified</p>\n<pre><code>public class MagicSquare2 extends Application {\n    // user-friendly text entries for the matrix\n    // using combo boxes to allow user to choose or type their choice\n    ComboBox&lt;String&gt; [][] fields = new ComboBox[3][3];\n\n    // labels to display messages to the user\n    Label welcome = new Label();\n    Label result = new Label();\n\n    GridPane gridPane = new GridPane(); // the appropriate pane for a matrix\n\n    final int correctSum = 15; // helpful variable for isMagicSquare method\n\n    public void start(Stage primaryStage) {\n        Background red = new Background(new BackgroundFill(Color.RED, null, null));\n        Background blue = new Background(new BackgroundFill(Color.BLUE, null, null));\n\n        // creating buttons\n        Button submit = new Button(&quot;Submit&quot;);\n        submit.backgroundProperty().set(red);\n        submit.setTextFill(Color.WHITE);\n\n        Button reset = new Button(&quot;Reset&quot;);\n        reset.backgroundProperty().set(blue);\n        reset.setTextFill(Color.WHITE);\n\n        // designing the labels\n        welcome.setAlignment(Pos.TOP_CENTER);\n        welcome.setFont(new Font(&quot;Arial&quot;,40));\n        welcome.setTextFill(Color.RED);\n\n        result.setFont(new Font(&quot;Arial&quot;,30));\n        result.setTextFill(Color.RED);\n\n        welcome.setText(&quot; Welcome to Magic Square Game &quot;);\n\n        // designing the pane\n        gridPane.setAlignment(Pos.CENTER);\n        gridPane.setPadding(new Insets(11.5,12.5,13.5,14.5));\n        gridPane.setHgap(5.5);\n        gridPane.setVgap(5.5);\n//        gridPane.setGridLinesVisible(true);\n\n        // adding elements to the pane\n        gridPane.setColumnSpan(welcome, 4); //columnspam\n        gridPane.add(welcome, 0, 0);\n        gridPane.add(submit, 1, 4, 1, 1);\n        gridPane.add(reset, 3, 4, 1, 1);\n        gridPane.setColumnSpan(result, 4);//columspam\n        gridPane.add(result, 0, 5);\n\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                fields[i][j] = new ComboBox&lt;&gt;();\n                fields[i][j].setEditable(true); // enabling user input for combo boxes\n                fields[i][j].getItems().addAll(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;); // adding the choices for the combo boxes\n\n                gridPane.add(fields[i][j], i+1, j+1);\n            }\n        }\n\n        // link reset button with its handler\n        reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                for (int i = 0; i &lt; 3; i++) {\n                    for (int j = 0; j &lt; 3; j++) {\n                        fields[i][j].setValue(&quot;&quot;); // emptying the entries for the next attempt\n                    }\n                }\n\n                // remove the previous result from the screen\n                result.setText(&quot; Enter the numbers again please&quot;);\n            }\n        });\n\n        // link the submit button with its handler\n        SubmitHandler handler1 = new SubmitHandler();\n        submit.setOnAction(handler1);\n\n        // adding the grid pane to the scene\n        Scene scene = new Scene(gridPane, 550, 160, Color.rgb(153, 196, 200));\n         scene.setFill(Color.CYAN); // change color scene\n        // adding the scene to the stage\n        primaryStage.setScene(scene);\n     \n        // setting the title for the program\n        primaryStage.setTitle(&quot;Magic Square&quot;);\n\n        primaryStage.show();\n    }\n\n    // return true if the array represents a square matrix and false otherwise\n    public boolean isMagicSquare(int[][] myArray, ArrayList&lt;Integer&gt; arrayList) {\n        int sumRow = 0, sumMdg = 0, sumColumn = 0, sumSdg = 0; // creating useful variables\n\n        // using ArrayList check if elements are duplicated or out of the interval\n        for (int i = 0; i &lt; arrayList.size(); i++) {\n            if (arrayList.get(i) &gt; 9 || arrayList.get(i) &lt; 0)\n                return false;\n\n            // check if numbers are repeated\n            int element = arrayList.get(i);\n            arrayList.remove(i);\n            if (arrayList.contains(element))\n                return false;\n        }\n\n        // check the sum of columns, rows, diagnols\n        for(int i = 0; i &lt; myArray.length; i++) {\n            sumRow = sumColumn = 0;\n            sumMdg += myArray[i][i];\n            sumSdg += myArray[i][myArray.length - 1 - i];\n\n            for (int j = 0; j &lt; myArray.length; j++) {\n                sumRow += myArray[i][j];\n                sumColumn += myArray[j][i];\n            }\n\n            if (sumColumn != correctSum || sumRow != correctSum)\n                return false;\n        }\n\n        return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    class SubmitHandler implements EventHandler&lt;ActionEvent&gt; {\n        @Override\n        public void handle(ActionEvent event) {\n            // Array full of the usre's choices that will be passed to isMagicSquare method.\n            int[][] values = new int[3][3];\n            // Array list to  easily check if numbers are duplicated or &gt;9 or&lt;0\n            ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;(9);\n            // try statement to handle user's invalid inputs such as words(&quot;one&quot;,&quot;two&quot;,....)\n            try {\n                for (int i = 0; i &lt; 3; i++) {\n                    for (int j = 0; j &lt; 3; j++) {\n                        // check if the fields are empty\n                        if (fields[i][j].getValue().compareTo(&quot;&quot;) == 0) {\n                            fields[i][j].setValue(&quot;0&quot;);\n                        }\n\n                        values[i][j] = Integer.parseInt(fields[i][j].getValue()); // convert the user choices to integers\n                        arrayList.add(values[i][j]); // add elemnts to the one-dimensional array\n                    }\n                }\n            } catch (Exception NumberFormatException) {\n                result.setText(&quot; You entered an invalid input. Please try again&quot;);\n                return;\n            }\n\n            if (isMagicSquare(values, arrayList)) {\n                result.setText(&quot;The matrix is a magic square  &quot;);\n            } else {\n                result.setText(&quot;The matrix is not a magic square. Try again please&quot;);\n            }\n        }\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":25168193,"reputation":11,"user_id":19011392,"display_name":"ADM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652475415,"creation_date":1652186124,"question_id":72186425,"body_markdown":"I want to do the following things:\r\n\r\n* Organize my JavaFX code&#39;s nodes\r\n\r\n* Increase the size of my combo boxes a little bit\r\n\r\n* Change the scene background&#39;s color.\r\n\r\nMy current code actually looks like this:\r\n\r\n```\r\n   welcome message\r\n                    small combo boxes\r\n submit               reset\r\n                         result message\r\n```\r\n\r\nThe result should be like this:\r\n\r\n```\r\n     Welcome message\r\n      combo boxes\r\n   submit       reset\r\n      result message\r\n```\r\n\r\nHere is my code:\r\n\r\n    package com.example.team9project;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.css.Size;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.Background;\r\n    import javafx.scene.layout.BackgroundFill;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Font;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MagicSquare2 extends Application {\r\n        // user-friendly text entries for the matrix\r\n        // using combo boxes to allow user to choose or type their choice\r\n        ComboBox&lt;String&gt; [][] fields = new ComboBox[3][3];\r\n    \r\n        // labels to display messages to the user\r\n        Label welcome = new Label();\r\n        Label result = new Label();\r\n    \r\n        GridPane gridPane = new GridPane(); // the appropriate pane for a matrix\r\n    \r\n        final int correctSum = 15; // helpful variable for isMagicSquare method\r\n    \r\n        public void start(Stage primaryStage) {\r\n            Background red = new Background(new BackgroundFill(Color.RED, null, null));\r\n            Background blue = new Background(new BackgroundFill(Color.BLUE, null, null));\r\n\r\n            // creating buttons\r\n            Button submit = new Button(&quot;Submit&quot;);\r\n            submit.backgroundProperty().set(red);\r\n            submit.setTextFill(Color.WHITE);\r\n    \r\n            Button reset = new Button(&quot;Reset&quot;);\r\n            reset.backgroundProperty().set(blue);\r\n            reset.setTextFill(Color.WHITE);\r\n\r\n            // designing the labels\r\n            welcome.setAlignment(Pos.TOP_CENTER);\r\n            welcome.setFont(new Font(&quot;Arial&quot;,40));\r\n            welcome.setTextFill(Color.RED);\r\n\r\n            result.setFont(new Font(&quot;Arial&quot;,30));\r\n            result.setTextFill(Color.RED);\r\n    \r\n            welcome.setText(&quot; Welcome to Magic Square Game &quot;);\r\n    \r\n            // designing the pane\r\n            gridPane.setAlignment(Pos.CENTER);\r\n            gridPane.setPadding(new Insets(11.5,12.5,13.5,14.5));\r\n            gridPane.setHgap(5.5);\r\n            gridPane.setVgap(5.5);\r\n    \r\n            // adding elements to the pane\r\n            gridPane.add(welcome, 0, 0);\r\n            gridPane.add(submit, 0, 4, 1, 1);\r\n            gridPane.add(reset, 1, 4, 1, 1);\r\n            gridPane.add(result, 1, 5, 1, 1);\r\n    \r\n            for (int i = 0; i &lt; 3; i++) {\r\n                for (int j = 0; j &lt; 3; j++) {\r\n                    fields[i][j] = new ComboBox&lt;&gt;();\r\n                    fields[i][j].setEditable(true); // enabling user input for combo boxes\r\n                    fields[i][j].getItems().addAll(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;); // adding the choices for the combo boxes\r\n    \r\n                    gridPane.add(fields[i][j], i+1, j+1);\r\n                }\r\n            }\r\n    \r\n            // link reset button with its handler\r\n            reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent actionEvent) {\r\n                    for (int i = 0; i &lt; 3; i++) {\r\n                        for (int j = 0; j &lt; 3; j++) {\r\n                            fields[i][j].setValue(&quot;&quot;); // emptying the entries for the next attempt\r\n                        }\r\n                    }\r\n\r\n                    // remove the previous result from the screen\r\n                    result.setText(&quot; Enter the numbers again please&quot;);\r\n                }\r\n            });\r\n    \r\n            // link the submit button with its handler\r\n            SubmitHandler handler1 = new SubmitHandler();\r\n            submit.setOnAction(handler1);\r\n\r\n            // adding the grid pane to the scene\r\n            Scene scene = new Scene(gridPane, 550, 160, Color.rgb(153, 196, 200));\r\n    \r\n            // adding the scene to the stage\r\n            primaryStage.setScene(scene);\r\n         \r\n            // setting the title for the program\r\n            primaryStage.setTitle(&quot;Magic Square&quot;);\r\n    \r\n            primaryStage.show();\r\n        }\r\n    \r\n        // return true if the array represents a square matrix and false otherwise\r\n        public boolean isMagicSquare(int[][] myArray, ArrayList&lt;Integer&gt; arrayList) {\r\n            int sumRow = 0, sumMdg = 0, sumColumn = 0, sumSdg = 0; // creating useful variables\r\n\r\n            // using ArrayList check if elements are duplicated or out of the interval\r\n            for (int i = 0; i &lt; arrayList.size(); i++) {\r\n                if (arrayList.get(i) &gt; 9 || arrayList.get(i) &lt; 0)\r\n                    return false;\r\n\r\n                // check if numbers are repeated\r\n                int element = arrayList.get(i);\r\n                arrayList.remove(i);\r\n                if (arrayList.contains(element))\r\n                    return false;\r\n            }\r\n    \r\n            // check the sum of columns, rows, diagnols\r\n            for(int i = 0; i &lt; myArray.length; i++) {\r\n                sumRow = sumColumn = 0;\r\n                sumMdg += myArray[i][i];\r\n                sumSdg += myArray[i][myArray.length - 1 - i];\r\n    \r\n                for (int j = 0; j &lt; myArray.length; j++) {\r\n                    sumRow += myArray[i][j];\r\n                    sumColumn += myArray[j][i];\r\n                }\r\n    \r\n                if (sumColumn != correctSum || sumRow != correctSum)\r\n                    return false;\r\n            }\r\n    \r\n            return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        class SubmitHandler implements EventHandler&lt;ActionEvent&gt; {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                // Array full of the usre&#39;s choices that will be passed to isMagicSquare method.\r\n                int[][] values = new int[3][3];\r\n                // Array list to  easily check if numbers are duplicated or &gt;9 or&lt;0\r\n                ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;(9);\r\n                // try statement to handle user&#39;s invalid inputs such as words(&quot;one&quot;,&quot;two&quot;,....)\r\n                try {\r\n                    for (int i = 0; i &lt; 3; i++) {\r\n                        for (int j = 0; j &lt; 3; j++) {\r\n                            // check if the fields are empty\r\n                            if (fields[i][j].getValue().compareTo(&quot;&quot;) == 0) {\r\n                                fields[i][j].setValue(&quot;0&quot;);\r\n                            }\r\n    \r\n                            values[i][j] = Integer.parseInt(fields[i][j].getValue()); // convert the user choices to integers\r\n                            arrayList.add(values[i][j]); // add elemnts to the one-dimensional array\r\n                        }\r\n                    }\r\n                } catch (Exception NumberFormatException) {\r\n                    result.setText(&quot; You entered an invalid input. Please try again&quot;);\r\n                    return;\r\n                }\r\n    \r\n                if (isMagicSquare(values, arrayList)) {\r\n                    result.setText(&quot;The matrix is a magic square  &quot;);\r\n                } else {\r\n                    result.setText(&quot;The matrix is not a magic square. Try again please&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Styling and organizing nodes inside a scene","body":"<p>I want to do the following things:</p>\n<ul>\n<li><p>Organize my JavaFX code's nodes</p>\n</li>\n<li><p>Increase the size of my combo boxes a little bit</p>\n</li>\n<li><p>Change the scene background's color.</p>\n</li>\n</ul>\n<p>My current code actually looks like this:</p>\n<pre><code>   welcome message\n                    small combo boxes\n submit               reset\n                         result message\n</code></pre>\n<p>The result should be like this:</p>\n<pre><code>     Welcome message\n      combo boxes\n   submit       reset\n      result message\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>package com.example.team9project;\n\nimport javafx.application.Application;\nimport javafx.css.Size;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\n\npublic class MagicSquare2 extends Application {\n    // user-friendly text entries for the matrix\n    // using combo boxes to allow user to choose or type their choice\n    ComboBox&lt;String&gt; [][] fields = new ComboBox[3][3];\n\n    // labels to display messages to the user\n    Label welcome = new Label();\n    Label result = new Label();\n\n    GridPane gridPane = new GridPane(); // the appropriate pane for a matrix\n\n    final int correctSum = 15; // helpful variable for isMagicSquare method\n\n    public void start(Stage primaryStage) {\n        Background red = new Background(new BackgroundFill(Color.RED, null, null));\n        Background blue = new Background(new BackgroundFill(Color.BLUE, null, null));\n\n        // creating buttons\n        Button submit = new Button(&quot;Submit&quot;);\n        submit.backgroundProperty().set(red);\n        submit.setTextFill(Color.WHITE);\n\n        Button reset = new Button(&quot;Reset&quot;);\n        reset.backgroundProperty().set(blue);\n        reset.setTextFill(Color.WHITE);\n\n        // designing the labels\n        welcome.setAlignment(Pos.TOP_CENTER);\n        welcome.setFont(new Font(&quot;Arial&quot;,40));\n        welcome.setTextFill(Color.RED);\n\n        result.setFont(new Font(&quot;Arial&quot;,30));\n        result.setTextFill(Color.RED);\n\n        welcome.setText(&quot; Welcome to Magic Square Game &quot;);\n\n        // designing the pane\n        gridPane.setAlignment(Pos.CENTER);\n        gridPane.setPadding(new Insets(11.5,12.5,13.5,14.5));\n        gridPane.setHgap(5.5);\n        gridPane.setVgap(5.5);\n\n        // adding elements to the pane\n        gridPane.add(welcome, 0, 0);\n        gridPane.add(submit, 0, 4, 1, 1);\n        gridPane.add(reset, 1, 4, 1, 1);\n        gridPane.add(result, 1, 5, 1, 1);\n\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                fields[i][j] = new ComboBox&lt;&gt;();\n                fields[i][j].setEditable(true); // enabling user input for combo boxes\n                fields[i][j].getItems().addAll(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;); // adding the choices for the combo boxes\n\n                gridPane.add(fields[i][j], i+1, j+1);\n            }\n        }\n\n        // link reset button with its handler\n        reset.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                for (int i = 0; i &lt; 3; i++) {\n                    for (int j = 0; j &lt; 3; j++) {\n                        fields[i][j].setValue(&quot;&quot;); // emptying the entries for the next attempt\n                    }\n                }\n\n                // remove the previous result from the screen\n                result.setText(&quot; Enter the numbers again please&quot;);\n            }\n        });\n\n        // link the submit button with its handler\n        SubmitHandler handler1 = new SubmitHandler();\n        submit.setOnAction(handler1);\n\n        // adding the grid pane to the scene\n        Scene scene = new Scene(gridPane, 550, 160, Color.rgb(153, 196, 200));\n\n        // adding the scene to the stage\n        primaryStage.setScene(scene);\n     \n        // setting the title for the program\n        primaryStage.setTitle(&quot;Magic Square&quot;);\n\n        primaryStage.show();\n    }\n\n    // return true if the array represents a square matrix and false otherwise\n    public boolean isMagicSquare(int[][] myArray, ArrayList&lt;Integer&gt; arrayList) {\n        int sumRow = 0, sumMdg = 0, sumColumn = 0, sumSdg = 0; // creating useful variables\n\n        // using ArrayList check if elements are duplicated or out of the interval\n        for (int i = 0; i &lt; arrayList.size(); i++) {\n            if (arrayList.get(i) &gt; 9 || arrayList.get(i) &lt; 0)\n                return false;\n\n            // check if numbers are repeated\n            int element = arrayList.get(i);\n            arrayList.remove(i);\n            if (arrayList.contains(element))\n                return false;\n        }\n\n        // check the sum of columns, rows, diagnols\n        for(int i = 0; i &lt; myArray.length; i++) {\n            sumRow = sumColumn = 0;\n            sumMdg += myArray[i][i];\n            sumSdg += myArray[i][myArray.length - 1 - i];\n\n            for (int j = 0; j &lt; myArray.length; j++) {\n                sumRow += myArray[i][j];\n                sumColumn += myArray[j][i];\n            }\n\n            if (sumColumn != correctSum || sumRow != correctSum)\n                return false;\n        }\n\n        return (sumMdg == correctSum) &amp;&amp; (sumSdg == correctSum);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    class SubmitHandler implements EventHandler&lt;ActionEvent&gt; {\n        @Override\n        public void handle(ActionEvent event) {\n            // Array full of the usre's choices that will be passed to isMagicSquare method.\n            int[][] values = new int[3][3];\n            // Array list to  easily check if numbers are duplicated or &gt;9 or&lt;0\n            ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;(9);\n            // try statement to handle user's invalid inputs such as words(&quot;one&quot;,&quot;two&quot;,....)\n            try {\n                for (int i = 0; i &lt; 3; i++) {\n                    for (int j = 0; j &lt; 3; j++) {\n                        // check if the fields are empty\n                        if (fields[i][j].getValue().compareTo(&quot;&quot;) == 0) {\n                            fields[i][j].setValue(&quot;0&quot;);\n                        }\n\n                        values[i][j] = Integer.parseInt(fields[i][j].getValue()); // convert the user choices to integers\n                        arrayList.add(values[i][j]); // add elemnts to the one-dimensional array\n                    }\n                }\n            } catch (Exception NumberFormatException) {\n                result.setText(&quot; You entered an invalid input. Please try again&quot;);\n                return;\n            }\n\n            if (isMagicSquare(values, arrayList)) {\n                result.setText(&quot;The matrix is a magic square  &quot;);\n            } else {\n                result.setText(&quot;The matrix is not a magic square. Try again please&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652289314,"post_id":72204747,"comment_id":127572761,"body_markdown":"Where would you expect the scrollbar to be?  There isnt room for it inside the cell.  One common approach to long text in a table cell is to create a renderer with a tooltip that contains the entire expanded text.","body":"Where would you expect the scrollbar to be?  There isnt room for it inside the cell.  One common approach to long text in a table cell is to create a renderer with a tooltip that contains the entire expanded text."},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1652289675,"post_id":72204747,"comment_id":127572894,"body_markdown":"@VGR could you provide me with example?","body":"@VGR could you provide me with example?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652290947,"creation_date":1652290947,"answer_id":72205401,"question_id":72204747,"body_markdown":"It would be difficult and awkward to embed a scrolling component inside a JTable.  A common approach to showing long cell values is to make the cells tooltip (hover text) display the full value:\r\n\r\n    table1.setModel(tableModel);\r\n\r\n    table1.getColumnModel().getColumn(3).setCellRenderer(\r\n        new DefaultTableCellRenderer() {\r\n            @Override\r\n            public Component getTableCellRendererComponent(JTable table,\r\n                                                           Object value,\r\n                                                           boolean selected,\r\n                                                           boolean focused,\r\n                                                           int row,\r\n                                                           int column) {\r\n\r\n                Component component = super.getTableCellRendererComponent(\r\n                    table, value, selected, focused, row, column);\r\n\r\n                if (component instanceof JComponent) {\r\n                    ((JComponent) component).setToolTipText(\r\n                        Objects.toString(value, null));\r\n                }\r\n\r\n                return component;\r\n            }\r\n        });\r\n\r\n(`Objects` is the java.util.Objects class.)","title":"Make JTable cells in specific column scrollable","body":"<p>It would be difficult and awkward to embed a scrolling component inside a JTable.  A common approach to showing long cell values is to make the cells tooltip (hover text) display the full value:</p>\n<pre><code>table1.setModel(tableModel);\n\ntable1.getColumnModel().getColumn(3).setCellRenderer(\n    new DefaultTableCellRenderer() {\n        @Override\n        public Component getTableCellRendererComponent(JTable table,\n                                                       Object value,\n                                                       boolean selected,\n                                                       boolean focused,\n                                                       int row,\n                                                       int column) {\n\n            Component component = super.getTableCellRendererComponent(\n                table, value, selected, focused, row, column);\n\n            if (component instanceof JComponent) {\n                ((JComponent) component).setToolTipText(\n                    Objects.toString(value, null));\n            }\n\n            return component;\n        }\n    });\n</code></pre>\n<p>(<code>Objects</code> is the java.util.Objects class.)</p>\n"},{"tags":[],"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652475222,"creation_date":1652475222,"answer_id":72235321,"question_id":72204747,"body_markdown":"It can be solved by creating private class that extends `AbstractCellEditor` and implements `TableCellEditor`. Then create and customize the scrollbar. Here is example.\r\n\r\n    public class MainForm {\r\n        private JTable table1;\r\n        private JPanel panel1;\r\n        private JTextArea text = new JTextArea();\r\n    \r\n        public MainForm() {\r\n            text.setEditable(false);\r\n            DefaultTableModel tableModel = new DefaultTableModel(new Object[][]{}, new String[]{&quot;Meno&quot;, &quot;Priezvisko&quot;, &quot;Datum&quot;, &quot;Popis&quot;});\r\n            table1.setModel(tableModel);\r\n            table1.setRowHeight(40);\r\n            tableModel.addRow(new Object[]{&quot;Jaimi&quot;, &quot;Parker&quot;, &quot;2022&quot;, &quot;fdjfadufaouifasoifjasifhasiofa \\nasdasdasdasdasdasdas \\nasdasdasdasdasdasd\\nasdasdasdasd &quot;});\r\n            tableModel.addRow(new Object[]{&quot;William&quot;, &quot;Mcdonald&quot;, &quot;2021&quot;, &quot;fdjfadufaouasfadfdsfafifasoifjasifhasiofa&quot;});\r\n            tableModel.addRow(new Object[]{&quot;Matt&quot;, &quot;Ashley&quot;, &quot;2020&quot;, &quot;asfasfafdsfgdafgdfgasgsdg&quot;});\r\n            tableModel.addRow(new Object[]{&quot;Ariana&quot;, &quot;Burns&quot;, &quot;2019&quot;, &quot;fdjfadufaouifasfdsgdgagsgsdgsdgsdagsdgsdgsdgsagsdgoifjasifhasiofa&quot;});\r\n    \r\n            TableColumn column = table1.getColumn(&quot;Popis&quot;);\r\n            column.setCellEditor(new HScrollableTCE());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame(&quot;MainForm&quot;);\r\n            frame.setContentPane(new MainForm().panel1);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private class HScrollableTCE extends AbstractCellEditor implements TableCellEditor\r\n        {\r\n            JScrollPane scroll = new JScrollPane(text, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n    \r\n            public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int rowIndex, int vColIndex)\r\n            {\r\n                if (value != null) {\r\n                    scroll.setHorizontalScrollBar(scroll.createHorizontalScrollBar());\r\n                    scroll.getHorizontalScrollBar().setPreferredSize(new Dimension(0, 5));\r\n    \r\n                    scroll.setBorder(new EmptyBorder(0,0,0,0));\r\n                    scroll.setToolTipText(value.toString());\r\n                    text.setText(value.toString());\r\n                    return scroll;\r\n                }\r\n                return null;\r\n            }\r\n            public Object getCellEditorValue()\r\n            {\r\n                return text.getText();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Make JTable cells in specific column scrollable","body":"<p>It can be solved by creating private class that extends <code>AbstractCellEditor</code> and implements <code>TableCellEditor</code>. Then create and customize the scrollbar. Here is example.</p>\n<pre><code>public class MainForm {\n    private JTable table1;\n    private JPanel panel1;\n    private JTextArea text = new JTextArea();\n\n    public MainForm() {\n        text.setEditable(false);\n        DefaultTableModel tableModel = new DefaultTableModel(new Object[][]{}, new String[]{&quot;Meno&quot;, &quot;Priezvisko&quot;, &quot;Datum&quot;, &quot;Popis&quot;});\n        table1.setModel(tableModel);\n        table1.setRowHeight(40);\n        tableModel.addRow(new Object[]{&quot;Jaimi&quot;, &quot;Parker&quot;, &quot;2022&quot;, &quot;fdjfadufaouifasoifjasifhasiofa \\nasdasdasdasdasdasdas \\nasdasdasdasdasdasd\\nasdasdasdasd &quot;});\n        tableModel.addRow(new Object[]{&quot;William&quot;, &quot;Mcdonald&quot;, &quot;2021&quot;, &quot;fdjfadufaouasfadfdsfafifasoifjasifhasiofa&quot;});\n        tableModel.addRow(new Object[]{&quot;Matt&quot;, &quot;Ashley&quot;, &quot;2020&quot;, &quot;asfasfafdsfgdafgdfgasgsdg&quot;});\n        tableModel.addRow(new Object[]{&quot;Ariana&quot;, &quot;Burns&quot;, &quot;2019&quot;, &quot;fdjfadufaouifasfdsgdgagsgsdgsdgsdagsdgsdgsdgsagsdgoifjasifhasiofa&quot;});\n\n        TableColumn column = table1.getColumn(&quot;Popis&quot;);\n        column.setCellEditor(new HScrollableTCE());\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;MainForm&quot;);\n        frame.setContentPane(new MainForm().panel1);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    private class HScrollableTCE extends AbstractCellEditor implements TableCellEditor\n    {\n        JScrollPane scroll = new JScrollPane(text, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int rowIndex, int vColIndex)\n        {\n            if (value != null) {\n                scroll.setHorizontalScrollBar(scroll.createHorizontalScrollBar());\n                scroll.getHorizontalScrollBar().setPreferredSize(new Dimension(0, 5));\n\n                scroll.setBorder(new EmptyBorder(0,0,0,0));\n                scroll.setToolTipText(value.toString());\n                text.setText(value.toString());\n                return scroll;\n            }\n            return null;\n        }\n        public Object getCellEditorValue()\n        {\n            return text.getText();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72235321,"answer_count":2,"score":0,"last_activity_date":1652475222,"creation_date":1652287402,"question_id":72204747,"body_markdown":"I&#39;m creating GUI in java using swing. I use JTable that looks like this.[![My table][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8PgBy.png\r\n\r\nI need to make cells of last column(&quot;Popis&quot;) to be scrollable as there will be description so String containing this description has variable lenght for each row.\r\nThis is how I created my JTable.\r\n\r\n    this.tableModel = new DefaultTableModel(\r\n                    new Object[][] { },\r\n                    new String[] {&quot;ID&quot;, &quot;Nazov&quot;, &quot;Naplnena kapacita / kapacita&quot;, &quot;Popis&quot;}\r\n            );\r\n    this.table1.setModel(this.tableModel);\r\n\r\nI add data to table using `this.tablemodel.addRow();`\r\nIs there a way to make cells of last column of my table scrollable?","title":"Make JTable cells in specific column scrollable","body":"<p>I'm creating GUI in java using swing. I use JTable that looks like this.<a href=\"https://i.stack.imgur.com/8PgBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PgBy.png\" alt=\"My table\" /></a></p>\n<p>I need to make cells of last column(&quot;Popis&quot;) to be scrollable as there will be description so String containing this description has variable lenght for each row.\nThis is how I created my JTable.</p>\n<pre><code>this.tableModel = new DefaultTableModel(\n                new Object[][] { },\n                new String[] {&quot;ID&quot;, &quot;Nazov&quot;, &quot;Naplnena kapacita / kapacita&quot;, &quot;Popis&quot;}\n        );\nthis.table1.setModel(this.tableModel);\n</code></pre>\n<p>I add data to table using <code>this.tablemodel.addRow();</code>\nIs there a way to make cells of last column of my table scrollable?</p>\n"},{"tags":["java","spring","swagger"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1649934450,"post_id":71870593,"comment_id":127002712,"body_markdown":"What protocol do you expect it to use?","body":"What protocol do you expect it to use?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1649934705,"post_id":71870593,"comment_id":127002812,"body_markdown":"I would like Swagger to use no protocol at all.   So, instead of http:domain-name.com/email/...     I would like to have swagger send  domain-name.com/email/...","body":"I would like Swagger to use no protocol at all.   So, instead of http:domain-name.com/email/...     I would like to have swagger send  domain-name.com/email/..."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1649937979,"post_id":71870593,"comment_id":127003910,"body_markdown":"That is not how that works. Protocol is essential for sending the request, because that is how two remote computers (and everything in between) are able to understand what &quot;language&quot; is being spoken to them. The more I hear from you, the more I think this is some kind of [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What do you actually want to achieve with this?","body":"That is not how that works. Protocol is essential for sending the request, because that is how two remote computers (and everything in between) are able to understand what &quot;language&quot; is being spoken to them. The more I hear from you, the more I think this is some kind of <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What do you actually want to achieve with this?"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1649939161,"post_id":71870593,"comment_id":127004354,"body_markdown":"I&#39;ve added more information at my question which should clarify why I would like to remove the http protocol.","body":"I&#39;ve added more information at my question which should clarify why I would like to remove the http protocol."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1650275486,"post_id":71870593,"comment_id":127069979,"body_markdown":"After you &quot;remove http protocol&quot;, what&#39;s curl supposed to use? HTTPS? TCP? UDP?","body":"After you &quot;remove http protocol&quot;, what&#39;s curl supposed to use? HTTPS? TCP? UDP?"}],"answers":[{"tags":[],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652474791,"creation_date":1652474791,"answer_id":72235271,"question_id":71870593,"body_markdown":"I managed to find how to tell swagger to make the request when pressing the excecute button\r\nIn application.yaml, you have to add the following:\r\n\r\nswagger:\r\n  url: &quot;https://www.example.com.com/aa&quot;","title":"Spring , How to have Swagger UI send a request without Hypertext Transfer Protocol","body":"<p>I managed to find how to tell swagger to make the request when pressing the excecute button\nIn application.yaml, you have to add the following:</p>\n<p>swagger:\nurl: &quot;https://www.example.com.com/aa&quot;</p>\n"}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652474791,"creation_date":1649934232,"question_id":71870593,"body_markdown":"Is there a possibility to instruct Swagger not to send the Hypertext Transfer Protocol (http) in front of a POST or GET request  ?\r\n\r\nAs you can see on the screenshot, the **Request URL** is using http protocol\r\n \r\nThe reason of my question is that the POST request from swagger-ui is not arriving on the server. An undocumented response is returned from the server although the response code is 200.  This can be seen on the second screenshot.\r\nWhen disabling https on the reverse proxy, the request arrives on the server correctly and response code is 200.\r\n\r\nIn my java spring application, I&#39;ve implemented the proposed solution which are described in  https://springdoc.org/faq.html :  How can I deploy springdoc-openapi-ui behind a reverse proxy?\r\n\r\nBut it didn&#39;t solve my proble.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qKCnp.png\r\n  [2]: https://i.stack.imgur.com/n0Lw9.png","title":"Spring , How to have Swagger UI send a request without Hypertext Transfer Protocol","body":"<p>Is there a possibility to instruct Swagger not to send the Hypertext Transfer Protocol (http) in front of a POST or GET request  ?</p>\n<p>As you can see on the screenshot, the <strong>Request URL</strong> is using http protocol</p>\n<p>The reason of my question is that the POST request from swagger-ui is not arriving on the server. An undocumented response is returned from the server although the response code is 200.  This can be seen on the second screenshot.\nWhen disabling https on the reverse proxy, the request arrives on the server correctly and response code is 200.</p>\n<p>In my java spring application, I've implemented the proposed solution which are described in  <a href=\"https://springdoc.org/faq.html\" rel=\"nofollow noreferrer\">https://springdoc.org/faq.html</a> :  How can I deploy springdoc-openapi-ui behind a reverse proxy?</p>\n<p>But it didn't solve my proble.</p>\n<p><a href=\"https://i.stack.imgur.com/qKCnp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKCnp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/n0Lw9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0Lw9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","concurrency","thread-safety"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1652475586,"post_id":72235254,"comment_id":127624053,"body_markdown":"In most cases, DCL can be simplified by removing the need to apply it, such as by using dependency injection or the enum singleton pattern. What purpose(s) is it serving in your code?","body":"In most cases, DCL can be simplified by removing the need to apply it, such as by using dependency injection or the enum singleton pattern. What purpose(s) is it serving in your code?"},{"owner":{"account_id":8798459,"reputation":1273,"user_id":6575578,"display_name":"Andy McCright"},"score":0,"creation_date":1652478058,"post_id":72235254,"comment_id":127624556,"body_markdown":"It&#39;s used fairly frequently in a variety of cases.  I agree that there are some options for singleton lazy initialization.  But we also use it for modifying object state - or affecting behavior with alternative logic like: if state == X, setState(Y) and return &quot;foo&quot;, else return &quot;bar&quot;.","body":"It&#39;s used fairly frequently in a variety of cases.  I agree that there are some options for singleton lazy initialization.  But we also use it for modifying object state - or affecting behavior with alternative logic like: if state == X, setState(Y) and return &quot;foo&quot;, else return &quot;bar&quot;."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1652488938,"post_id":72235254,"comment_id":127626019,"body_markdown":"Why do you think it might have a problem?","body":"Why do you think it might have a problem?"},{"owner":{"account_id":8798459,"reputation":1273,"user_id":6575578,"display_name":"Andy McCright"},"score":0,"creation_date":1652495217,"post_id":72235254,"comment_id":127626559,"body_markdown":"I havent seen patterns (or anti-patterns) like this when googling, so I was thinking that maybe there was some drawback to it - like maybe it really isnt thread safe or it performs worse, etc.","body":"I havent seen patterns (or anti-patterns) like this when googling, so I was thinking that maybe there was some drawback to it - like maybe it really isnt thread safe or it performs worse, etc."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652697325,"post_id":72235254,"comment_id":127660367,"body_markdown":"Do you really consider your simplified version to be simpler than the original? As chrylis already said, the real simplification is to get rid of double checked locking altogether. Just use `class MySingleton { private static final MySingleton instance = new MySingleton(); public static MySingleton instance() { return instance; }` Whatever advantage you think, double checked locking gave you, its simply not true.","body":"Do you really consider your simplified version to be simpler than the original? As chrylis already said, the real simplification is to get rid of double checked locking altogether. Just use <code>class MySingleton { private static final MySingleton instance = new MySingleton(); public static MySingleton instance() { return instance; }</code> Whatever advantage you think, double checked locking gave you, its simply not true."}],"owner":{"account_id":8798459,"reputation":1273,"user_id":6575578,"display_name":"Andy McCright"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652474687,"creation_date":1652474687,"question_id":72235254,"body_markdown":"My company uses double checked locking all over the place in our code. Because it is so pervasive - and so verbose - I was wondering if there is a good way to abstract it or simplify it.\r\n\r\nFor example, would a utility method like this have any problems?\r\n```\r\n\tpublic static &lt;T&gt; T doubleCheckedLocking(Object lockObject, Supplier&lt;Boolean&gt; check, Supplier&lt;T&gt; task, Supplier&lt;T&gt; defaultValueSupplier) {\r\n\t\tif (check.get())\r\n\t\t\tsynchronized (lockObject) {\r\n\t\t\t\tif (check.get())\r\n\t\t\t\t\treturn task.get();\r\n\t\t\t}\r\n\t\treturn defaultValueSupplier.get();\r\n\t}\r\n```\r\n\r\nWith that it should be possible to convert common code like:\r\n```\r\nclass MySingleton {\r\n\tstatic volatile MySingleton instance;\r\n\r\n\tprivate MySingleton() { /*...*/ }\r\n\r\n\tstatic MySingleton instance() {\r\n\t\tif (instance == null) {\r\n\t\t\tsynchronized (MySingleton.class) {\r\n\t\t\t\tif (instance == null) {\r\n\t\t\t\t\tinstance = new MySingleton();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n}\r\n```\r\n\r\nto:\r\n```\r\nclass MySingleton {\r\n\tstatic volatile MySingleton instance;\r\n\r\n\tprivate MySingleton() { /*...*/\t}\r\n\r\n\tstatic MySingleton instance() {\r\n\t\treturn doubleCheckedLocking(MySingleton.class, () -&gt; instance == null, () -&gt; {\r\n\t\t\tinstance = new MySingleton();\r\n\t\t\treturn instance;\r\n\t\t}, () -&gt; instance);\r\n\t}\r\n}\r\n```\r\n\r\nAre there any problems with this approach? Are there any libraries or alternatives that might do this already?","title":"Can double checked locking be abstracted/simplified?","body":"<p>My company uses double checked locking all over the place in our code. Because it is so pervasive - and so verbose - I was wondering if there is a good way to abstract it or simplify it.</p>\n<p>For example, would a utility method like this have any problems?</p>\n<pre><code>    public static &lt;T&gt; T doubleCheckedLocking(Object lockObject, Supplier&lt;Boolean&gt; check, Supplier&lt;T&gt; task, Supplier&lt;T&gt; defaultValueSupplier) {\n        if (check.get())\n            synchronized (lockObject) {\n                if (check.get())\n                    return task.get();\n            }\n        return defaultValueSupplier.get();\n    }\n</code></pre>\n<p>With that it should be possible to convert common code like:</p>\n<pre><code>class MySingleton {\n    static volatile MySingleton instance;\n\n    private MySingleton() { /*...*/ }\n\n    static MySingleton instance() {\n        if (instance == null) {\n            synchronized (MySingleton.class) {\n                if (instance == null) {\n                    instance = new MySingleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p>to:</p>\n<pre><code>class MySingleton {\n    static volatile MySingleton instance;\n\n    private MySingleton() { /*...*/ }\n\n    static MySingleton instance() {\n        return doubleCheckedLocking(MySingleton.class, () -&gt; instance == null, () -&gt; {\n            instance = new MySingleton();\n            return instance;\n        }, () -&gt; instance);\n    }\n}\n</code></pre>\n<p>Are there any problems with this approach? Are there any libraries or alternatives that might do this already?</p>\n"},{"tags":["java","javafx","exe"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635860358,"post_id":69811401,"comment_id":123400947,"body_markdown":"You could try using graalvm/native-image if it works.","body":"You could try using graalvm/native-image if it works."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1635860645,"post_id":69811401,"comment_id":123401098,"body_markdown":"java applications work only with `jre`. To achieve what you want, you need to distribute `jre` along with the application itself (`jlink` will help you). Then you make a native launcher (exe) to launch your application using `jre` which you distribute with it.","body":"java applications work only with <code>jre</code>. To achieve what you want, you need to distribute <code>jre</code> along with the application itself (<code>jlink</code> will help you). Then you make a native launcher (exe) to launch your application using <code>jre</code> which you distribute with it."},{"owner":{"account_id":9443476,"reputation":481,"user_id":12645782,"display_name":"Kotaka Danski"},"score":0,"creation_date":1635861215,"post_id":69811401,"comment_id":123401364,"body_markdown":"@Boaz If I understood the answer correctly, JCreator makes a .jar executable, not a .exe. But my executable needs to be an exe. This and and the non-installer, non-JRE requirements are part of an assignment. I realise how stupid they are, but I can&#39;t escape them.","body":"@Boaz If I understood the answer correctly, JCreator makes a .jar executable, not a .exe. But my executable needs to be an exe. This and and the non-installer, non-JRE requirements are part of an assignment. I realise how stupid they are, but I can&#39;t escape them."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1635861890,"post_id":69811401,"comment_id":123401648,"body_markdown":"You can bundle a JRE with your program so that the user doesn&#39;t need it already installed (Launch4j should be able to do this). Running a java programm without any JRE at all however would require you to somehow compile it to native code. There are some compilers for that (see: https://stackoverflow.com/questions/2991799/can-i-compile-java-to-native-code) but I honestly wouldn&#39;t bet that they work really well. Java just isn&#39;t designed to produce code that can run without a JRE.","body":"You can bundle a JRE with your program so that the user doesn&#39;t need it already installed (Launch4j should be able to do this). Running a java programm without any JRE at all however would require you to somehow compile it to native code. There are some compilers for that (see: <a href=\"https://stackoverflow.com/questions/2991799/can-i-compile-java-to-native-code\" title=\"can i compile java to native code\">stackoverflow.com/questions/2991799/&hellip;</a>) but I honestly wouldn&#39;t bet that they work really well. Java just isn&#39;t designed to produce code that can run without a JRE."},{"owner":{"account_id":9443476,"reputation":481,"user_id":12645782,"display_name":"Kotaka Danski"},"score":0,"creation_date":1635862113,"post_id":69811401,"comment_id":123401746,"body_markdown":"@OHGODSPIDERS When I tried launch4j, it added the necessary files next to the .exe, not in it. Did I miss an option to embed INSIDE the exe, or that&#39;s how it&#39;s supposed to be and there&#39;s no other way?","body":"@OHGODSPIDERS When I tried launch4j, it added the necessary files next to the .exe, not in it. Did I miss an option to embed INSIDE the exe, or that&#39;s how it&#39;s supposed to be and there&#39;s no other way?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1635862704,"post_id":69811401,"comment_id":123402031,"body_markdown":"It&#39;s been some time since I used launch4j so you might be right and I remember it wrong. I found this answer to a similar question: https://stackoverflow.com/a/55662615/6073886 - It links to a project that claims to be able to create a single exe from a java and including the JRE in the exe. So maybe this is what you are looking for:  https://github.com/dgiagio/warp","body":"It&#39;s been some time since I used launch4j so you might be right and I remember it wrong. I found this answer to a similar question: <a href=\"https://stackoverflow.com/a/55662615/6073886\">stackoverflow.com/a/55662615/6073886</a> - It links to a project that claims to be able to create a single exe from a java and including the JRE in the exe. So maybe this is what you are looking for:  <a href=\"https://github.com/dgiagio/warp\" rel=\"nofollow noreferrer\">github.com/dgiagio/warp</a>"},{"owner":{"account_id":9443476,"reputation":481,"user_id":12645782,"display_name":"Kotaka Danski"},"score":0,"creation_date":1635862968,"post_id":69811401,"comment_id":123402165,"body_markdown":"@OHGODSPIDERS Hey, that might actually do the trick. I will post again tomorrow on my results. Thanks.","body":"@OHGODSPIDERS Hey, that might actually do the trick. I will post again tomorrow on my results. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":17096336,"reputation":560,"user_id":12371243,"display_name":"Diaf Badreddine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635883553,"creation_date":1635883553,"answer_id":69816348,"question_id":69811401,"body_markdown":"For this you must generate a fat jar ( if your java application has dependencies ), and if it has no dependencies just leave it as it is, and then use launch4j.\r\nFor creating a fat jar, do the following:\r\n\r\n 1. Add this bunch of code in your build.xml file:\r\n\r\n    &lt;target name=&quot;package-for-store&quot; depends=&quot;jar&quot;&gt;\r\n\r\n        &lt;property name=&quot;store.jar.name&quot; value=&quot;Master Data App&quot;/&gt;\r\n\r\n        &lt;property name=&quot;store.dir&quot; value=&quot;store&quot;/&gt;\r\n        &lt;property name=&quot;store.jar&quot; value=&quot;${store.dir}/${store.jar.name}.jar&quot;/&gt;\r\n\r\n        &lt;echo message=&quot;Packaging ${application.title} into a single JAR at ${store.jar}&quot;/&gt;\r\n\r\n        &lt;delete dir=&quot;${store.dir}&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${store.dir}&quot;/&gt;\r\n\r\n        &lt;jar destfile=&quot;${store.dir}/temp_final.jar&quot; filesetmanifest=&quot;skip&quot;&gt;\r\n            &lt;zipgroupfileset dir=&quot;dist&quot; includes=&quot;*.jar&quot;/&gt;\r\n            &lt;zipgroupfileset dir=&quot;dist/lib&quot; includes=&quot;*.jar&quot;/&gt;\r\n\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;sheetupdown.SheetUpDown&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n\r\n        &lt;zip destfile=&quot;${store.jar}&quot;&gt;\r\n            &lt;zipfileset src=&quot;${store.dir}/temp_final.jar&quot;\r\n            excludes=&quot;META-INF/*.SF, META-INF/*.DSA, META-INF/*.RSA&quot;/&gt;\r\n        &lt;/zip&gt;\r\n\r\n        &lt;delete file=&quot;${store.dir}/temp_final.jar&quot;/&gt;\r\n\r\n      &lt;/target&gt;\r\n\r\n 2. In your java IDE, right click on build.xml -&gt; **Run Target** -&gt; **Other Targets** -&gt; **package for store**\r\n\r\n 3. You will find your fat jar inside your project in store folder.\r\n\r\n 4. Open launch4j\r\n\r\n 5. Specify output file (ending with .exe)\r\n\r\n 6. Specify where you fat jar is\r\n\r\n 7. (Add other options as needed, like: icon, jre version .... ) -Optional-\r\n\r\n 8. Click **Build Wrapper**","title":"How to create a standalone .exe in Java (that runs without an installer and a JRE)","body":"<p>For this you must generate a fat jar ( if your java application has dependencies ), and if it has no dependencies just leave it as it is, and then use launch4j.\nFor creating a fat jar, do the following:</p>\n<ol>\n<li><p>Add this bunch of code in your build.xml file:</p>\n\n<pre><code>&lt;property name=&quot;store.jar.name&quot; value=&quot;Master Data App&quot;/&gt;\n\n&lt;property name=&quot;store.dir&quot; value=&quot;store&quot;/&gt;\n&lt;property name=&quot;store.jar&quot; value=&quot;${store.dir}/${store.jar.name}.jar&quot;/&gt;\n\n&lt;echo message=&quot;Packaging ${application.title} into a single JAR at ${store.jar}&quot;/&gt;\n\n&lt;delete dir=&quot;${store.dir}&quot;/&gt;\n&lt;mkdir dir=&quot;${store.dir}&quot;/&gt;\n\n&lt;jar destfile=&quot;${store.dir}/temp_final.jar&quot; filesetmanifest=&quot;skip&quot;&gt;\n    &lt;zipgroupfileset dir=&quot;dist&quot; includes=&quot;*.jar&quot;/&gt;\n    &lt;zipgroupfileset dir=&quot;dist/lib&quot; includes=&quot;*.jar&quot;/&gt;\n\n    &lt;manifest&gt;\n        &lt;attribute name=&quot;Main-Class&quot; value=&quot;sheetupdown.SheetUpDown&quot;/&gt;\n    &lt;/manifest&gt;\n&lt;/jar&gt;\n\n&lt;zip destfile=&quot;${store.jar}&quot;&gt;\n    &lt;zipfileset src=&quot;${store.dir}/temp_final.jar&quot;\n    excludes=&quot;META-INF/*.SF, META-INF/*.DSA, META-INF/*.RSA&quot;/&gt;\n&lt;/zip&gt;\n\n&lt;delete file=&quot;${store.dir}/temp_final.jar&quot;/&gt;\n</code></pre>\n  \n</li>\n<li><p>In your java IDE, right click on build.xml -&gt; <strong>Run Target</strong> -&gt; <strong>Other Targets</strong> -&gt; <strong>package for store</strong></p>\n</li>\n<li><p>You will find your fat jar inside your project in store folder.</p>\n</li>\n<li><p>Open launch4j</p>\n</li>\n<li><p>Specify output file (ending with .exe)</p>\n</li>\n<li><p>Specify where you fat jar is</p>\n</li>\n<li><p>(Add other options as needed, like: icon, jre version .... ) -Optional-</p>\n</li>\n<li><p>Click <strong>Build Wrapper</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635928075,"creation_date":1635890057,"answer_id":69817344,"question_id":69811401,"body_markdown":"The absolute requirement to produce an exe is not the right thing to do but if you have to, then https://docs.gluonhq.com/ is the only reasonable way to go. Otherwise you should have a look at jpackage in conjunction with jlink. And forget all this talk about fat jars and the other options. That&#39;s not how JavaFX applications are built nowadays.","title":"How to create a standalone .exe in Java (that runs without an installer and a JRE)","body":"<p>The absolute requirement to produce an exe is not the right thing to do but if you have to, then <a href=\"https://docs.gluonhq.com/\" rel=\"nofollow noreferrer\">https://docs.gluonhq.com/</a> is the only reasonable way to go. Otherwise you should have a look at jpackage in conjunction with jlink. And forget all this talk about fat jars and the other options. That's not how JavaFX applications are built nowadays.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1652474635,"creation_date":1635939366,"answer_id":69824145,"question_id":69811401,"body_markdown":"#### Solution\r\n\r\nUse [`warp-packer`][1] to create a `exe` out of the image and app launcher created by [`jlink`][1].\r\n\r\nFirst:\r\n\r\n 1. Copy warp-packer from this [download link](https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe).\r\n 2. Generate an image for your application using jlink.\r\n\r\nThen, create a single file application executable.  This can be done with one command (running it on a single line and using your values instead of the `%%` variables):\r\n\r\n     %WARP_DIR%\\warp-packer \r\n       --arch windows-x64 \r\n       --input_dir %APP_JLINK_IMAGE_DIR% \r\n       --exec %APP_JLINK_LAUNCHER_BAT_FILE% \r\n       --output %APP_SINGLE_EXECUTABLE_FILE_NAME%\r\n\r\nThe command could be run from the command line manually or automatically via an appropriate build tool plugin.\r\n\r\njlink can be invoked using whichever means works best for your build environment; e.g. any one of: maven plugin, gradle plugin, command line utility, [`jpackage`][2] utility or jpackage build tool plugin, etc.\r\n\r\n**Related Answer**\r\n\r\nThis idea is not mine, it was proposed here:\r\n\r\n * [How do I bundle a JRE into an EXE for a Java Application?](https://stackoverflow.com/a/55662615/1155209)\r\n\r\n#### Tutorial\r\n\r\nA full tutorial example follows if more information is required.\r\n\r\n**Solution Description**\r\n\r\nThis answer is long because it seeks to provide a complete example with additional contextual advice.  It could be more concise.  It&#39;s style is closer to a tutorial or blog post style post than to a StackOverflow answer.  Hopefully the length is not intimidating and it is easy to replicate the outcome.\r\n\r\nI was curious about this so I thought I would try it.  Surprisingly to me, I was able to get it to work.  So I have documented how to replicate that here.\r\n\r\nThe key is the suggestion in comments by &quot;OH GOD SPIDERS&quot;, to use the the [&quot;warp&quot;][1] tool for packaging, in conjunction with other comments suggesting interfacing with [jlink][3].\r\n\r\nI tried to do as much as possible using the [Maven][4] build tool, so this solution is oriented towards that.  You could adapt the solution to another tool chain if you prefer.\r\n\r\nThe solution example builds a JavaFX application with FXML.  The example could be simpler and much smaller if it did not include FXML, but I thought it was important to show how resources work with this solution, which is why FXML is included.\r\n\r\n**Limitations**\r\n\r\n * This is, by design, a Windows only build solution which must be run on a Windows machine, both at build time and at deployment and run time.  \r\n\r\n * It will only work for applications that rely on Java modules that have `module-info.java` definitions. For example, it won&#39;t work for a Spring or SpringBoot application unless it is fully modular.  This is, until [Spring 6 or SpringBoot 3](https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6) with full Java Platform module support is released.\r\n\r\n**High Level Steps**\r\n\r\n 1. Build the application as a [Java platform modular application][5].\r\n\r\n    * The application MUST have no automatic dependencies (the application itself and all transitive dependencies it relies on must be defined as Java modules with properly defined module-info.java files).\r\n\r\n 2. Link the application to create a runtime image with a launch script.\r\n\r\n    * I used the [openjfx JavaFX Maven plugin][6] to do the linking.  \r\n\r\n 3. Turn the runtime image with the launch script into an exe.\r\n\r\n    * This step uses the [`warp-packer`][1] tool, which can be executed via the [maven exec plugin][7].\r\n\r\n**Procedure**\r\n\r\n 1. [Install JDK 17][8] (does not require a version which includes JavaFX).\r\n 2. [Install Maven][9].\r\n 3. Create the project files shown below.\r\n 4. [Install warp][10] to `tools\\warp-packer.exe`.\r\n 5. Build and package the project (`mvn package`).\r\n 6. Run the application exe (`target/hellowarp.exe`) to test it.\r\n 7. Give the application exe to friends with Windows machines.\r\n 8. Friends will be able to run the exe from the command line or via a double-click on the exe.\r\n\r\nNo installation of your application is required, no extraction or unzipping of any archives, no Java runtime installation and no other additional installations are required.  All that is needed is to copy the exe file to a windows machine (e.g. click on a download link on the web or copy the exe out of a mail attachment), then double click on the exe it to instantly run your application.\r\n\r\n**File tree**\r\n\r\n&lt;pre&gt;\r\nC:\\dev\\hellowarp&gt;tree /a /f .\r\nFolder PATH listing for volume Local Disk\r\nVolume serial number is 00000086 C034:A84E\r\nC:\\DEV\\HELLOWARP\r\n|   pom.xml\r\n|\r\n+---src\r\n|   \\---main\r\n|       +---java\r\n|       |   |   module-info.java\r\n|       |   |\r\n|       |   \\---com\r\n|       |       \\---example\r\n|       |           \\---hellowarp\r\n|       |                   HelloController.java\r\n|       |                   HelloWarp.java\r\n|       |\r\n|       \\---resources\r\n|           \\---com\r\n|               \\---example\r\n|                   \\---hellowarp\r\n|                           hello-view.fxml\r\n|\r\n\\---tools\r\n        warp-packer.exe\r\n&lt;/pre&gt;\r\n\r\n**Obtaining and installing warp**\r\n\r\nCreate a new directory, `\\tools`, in the root of your project.\r\n\r\nDownload Warp from:\r\n\r\n * https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe\r\n\r\nAnd copy the warp executable (renaming it) to the following location:\r\n\r\n    \\tools\\warp-packer.exe\r\n\r\n**Files**\r\n\r\n*pom.xml*\r\n\r\nMaven project.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hellowarp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!--compile--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                 &lt;!--create linked image--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.8&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jlink&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.example.hellowarp/com.example.hellowarp.HelloWarp&lt;/mainClass&gt;\r\n                        &lt;compress&gt;2&lt;/compress&gt;\r\n                        &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                        &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                        &lt;launcher&gt;${project.artifactId}&lt;/launcher&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!--package image as an exe--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- obtain warp-packer.exe from: &quot;https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe&quot; --&gt;\r\n                        &lt;executable&gt;${project.basedir}\\tools\\warp-packer.exe&lt;/executable&gt;\r\n                        &lt;arguments&gt;\r\n                            &lt;argument&gt;--arch&lt;/argument&gt;\r\n                            &lt;argument&gt;windows-x64&lt;/argument&gt;\r\n    \r\n                            &lt;argument&gt;--input_dir&lt;/argument&gt;\r\n                            &lt;argument&gt;${project.build.directory}\\image&lt;/argument&gt;\r\n    \r\n                            &lt;argument&gt;--exec&lt;/argument&gt;\r\n                            &lt;argument&gt;bin\\${project.artifactId}.bat&lt;/argument&gt;\r\n    \r\n                            &lt;argument&gt;--output&lt;/argument&gt;\r\n                            &lt;argument&gt;${project.build.directory}\\${project.artifactId}.exe&lt;/argument&gt;\r\n                        &lt;/arguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*module-info.java*\r\n\r\nJava platform module definition for the application.\r\n\r\n    module com.example.hellowarp {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n        opens com.example.hellowarp to javafx.fxml;\r\n        exports com.example.hellowarp;\r\n    }\r\n\r\n*HelloWarp.java*\r\n\r\nJavaFX application.\r\n\r\n    package com.example.hellowarp;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloWarp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(\r\n                    HelloWarp.class.getResource(\r\n                            &quot;hello-view.fxml&quot;\r\n                    )\r\n            );\r\n    \r\n            Scene scene = new Scene(fxmlLoader.load());\r\n    \r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n*HelloController.java*\r\n\r\nJavaFX FXML controller class.\r\n    \r\n    package com.example.hellowarp;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Label;\r\n    \r\n    public class HelloController {\r\n        @FXML\r\n        private Label welcomeText;\r\n    \r\n        @FXML\r\n        protected void onHelloButtonClick() {\r\n            welcomeText.setText(&quot;Welcome to my JavaFX Application!&quot;);\r\n        }\r\n    }\r\n\r\n*hello-view.fxml*\r\n\r\nUI view definition file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; prefWidth=&quot;250&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n          fx:controller=&quot;com.example.hellowarp.HelloController&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n        &lt;/padding&gt;\r\n    \r\n        &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n        &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n    &lt;/VBox&gt;\r\n\r\n**Screenshot of the running `hellowarp.exe` application**\r\n\r\n[![hello-screenshot][11]][11]\r\n\r\n#### FAQ\r\n\r\nThere FAQ section just provides contextual information.  You can ignore this section if you already know this info, or if you don&#39;t need it.\r\n\r\n&gt; Is this an alternative distribution method to a &quot;fat jar&quot;?\r\n\r\nYes, I think so.\r\n\r\n&gt; What would this be appropriate for?\r\n\r\nA small-scale application distributed in an environment where you know the users are running Windows.\r\n\r\n&gt; Can I also package my app as an MSI installer?\r\n\r\nYes. I did that using the [akman jpackage-maven-plugin](https://github.com/akman/jpackage-maven-plugin), it worked well.  To limit size and scope I will not document that in this answer.\r\n\r\n&gt; Would it be better to use a &quot;git repo&quot;, &quot;fat jar&quot;, a exe, a packaged installer or &quot;zipped&quot; image?\r\n\r\nIt depends on what you are doing.\r\n\r\nIf your target is other developers, set up an account on github, put your project there and provide a maven or gradle build file for the developers to build the app from source in their environment.  Just packaging the application as a standard jar file (no fat jar), would be fine.  Any jar you create could be deployed to maven central.  Use a module-info.java for the jar so that it can be linked via jlink into packaged applications.\r\n\r\nIf it is a school project.  It depends on the acceptance preference for the school.  Perhaps they just want the code source in git, and that is all you need.  Or maybe you can create a (thin) jar file (or a zip with the jar and its dependencies) which you provide, knowing that the standard school systems have all the relevant Java/JavaFX software already installed on them.\r\n\r\nOr maybe it is a known OS environment, e.g. Windows, Mac or Linux, and you can use `jpackage` to build an installable package for one (or two) of those environments. \r\n \r\nOr, if it is windows only, this solution of packaging as an &quot;exe&quot; for distribution might work well.\r\n\r\nA [&quot;fat jar&quot; configuration][12] is not supported for JavaFX development.  I do not recommend it.  You can get it to work (currently) and it can be convenient sometimes, but you will need to decide if the trade-offs involved to do that are worth it.\r\n\r\nIf you are building a commercial or popular open source desktop product, create packaged installers, using a tool like [`jpackage`][12] (or one of the commercial or open source alternatives) in the appropriate format for your target platforms (e.g. msi or exe for windows, rpm and deb for linux, dmg for mac).  You may choose to deploy those packaged formats to Windows or Mac app stores or Linux yum/apt repositories.\r\n\r\nIf it is a mobile deployment, use [gluon mobile][13].\r\n\r\n&gt; Can I use the Apache jlink Maven plugin instead of the OpenJFX Maven plugin.\r\n\r\nThe [OpenJFX JavaFX Maven plugin][6] or the [akman jpackage-maven-plugin](https://akman.github.io/jpackage-maven-plugin/) will produce the correct images at this time.\r\n\r\nThe [Apache jlink Maven plugin][14] will, currently, fail (with JavaFX 17.0.1 and Apache jlink plugin 3.1.0).\r\n\r\nWhen I tried using the Apache jlink Maven plugin, it got confused by the JavaFX platform module definitions.  The Apache jlink plugin started working with weird phantom module names like `javafx.graphicsEmpty` that it treated as automatic modules and passed to jlink, so jlink refused to link them.  I could not find a way around that issue.\r\n\r\n&gt; When I double click on the exe, there is blank window with the name of the `exe` in the title bar in addition to my application window. \r\n\r\nYes. Depending on the application that could either be a minor annoyance or a show stopper. \r\n\r\nThe display of the black screen on double-click is just the way this solution, as presented here, works.  \r\n\r\nThere may be a way to circumvent this, but I haven&#39;t done a lot of investigation into it.  You could look at the information supplied here (which discusses various ways to hide or minimize app launcher windows in MS Windows) and see if it helps you:\r\n\r\n * https://www.robvanderwoude.com/battech_hideconsole.php\r\n * https://stackoverflow.com/a/55662615/1155209\r\n\r\nIf, instead of double-clicking on the app, you are running the app by typing the exe name in a command console, there is no additional screen as there is already an existing console that you were typing in.\r\n\r\n&gt; Can I use this technique to create single file executables for other operating systems?\r\n\r\nYes, I believe so.\r\n\r\nAt this time, I have not tried to use this solution for anything but Windows executables.\r\n\r\n`warp-packer` is, capable of generating executables for a variety of OS systems.  \r\n\r\nTo package for a non-windows machine, you would need to input the appropriate `jlink` image output for the target operating system to warp-packer and then run the appropriate warp-packer utility (I believe on the target OS) to generate the single executable for execution on that target OS.  \r\n\r\nIf interested, see the warp-packer and jlink documentation. \r\n\r\n&gt; What is the size of the generated executable?\r\n\r\nFor the sample application, my generated application executable was 34 megabytes in size.\r\n\r\n&gt; What is the startup time?\r\n\r\nI didn&#39;t measure it, but time to startup (time to display the application GUI window after double clicking the exe) appeared to be about a second.\r\n\r\n&gt; Could I create an exe for a non-modular Java project.\r\n\r\nYes probably, but that is outside the scope of what I am prepared to discuss here, and the method would be different from that described here.\r\n\r\n\r\n  [1]: https://github.com/dgiagio/warp\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\r\n  [4]: https://maven.apache.org/\r\n  [5]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [6]: https://github.com/openjfx/javafx-maven-plugin\r\n  [7]: http://mojohaus.org/exec-maven-plugin/\r\n  [8]: https://adoptopenjdk.net/\r\n  [9]: https://maven.apache.org/download.cgi?Preferred=ftp://ftp.osuosl.org/pub/apache/\r\n  [10]: https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe\r\n  [11]: https://i.stack.imgur.com/aKaxC.png\r\n  [12]: https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\r\n  [13]: https://gluonhq.com/products/mobile/\r\n  [14]: http://maven.apache.org/plugins/maven-jlink-plugin/","title":"How to create a standalone .exe in Java (that runs without an installer and a JRE)","body":"<h4>Solution</h4>\n<p>Use <a href=\"https://github.com/dgiagio/warp\" rel=\"noreferrer\"><code>warp-packer</code></a> to create a <code>exe</code> out of the image and app launcher created by <a href=\"https://github.com/dgiagio/warp\" rel=\"noreferrer\"><code>jlink</code></a>.</p>\n<p>First:</p>\n<ol>\n<li>Copy warp-packer from this <a href=\"https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe\" rel=\"noreferrer\">download link</a>.</li>\n<li>Generate an image for your application using jlink.</li>\n</ol>\n<p>Then, create a single file application executable.  This can be done with one command (running it on a single line and using your values instead of the <code>%%</code> variables):</p>\n<pre><code> %WARP_DIR%\\warp-packer \n   --arch windows-x64 \n   --input_dir %APP_JLINK_IMAGE_DIR% \n   --exec %APP_JLINK_LAUNCHER_BAT_FILE% \n   --output %APP_SINGLE_EXECUTABLE_FILE_NAME%\n</code></pre>\n<p>The command could be run from the command line manually or automatically via an appropriate build tool plugin.</p>\n<p>jlink can be invoked using whichever means works best for your build environment; e.g. any one of: maven plugin, gradle plugin, command line utility, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\" rel=\"noreferrer\"><code>jpackage</code></a> utility or jpackage build tool plugin, etc.</p>\n<p><strong>Related Answer</strong></p>\n<p>This idea is not mine, it was proposed here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/55662615/1155209\">How do I bundle a JRE into an EXE for a Java Application?</a></li>\n</ul>\n<h4>Tutorial</h4>\n<p>A full tutorial example follows if more information is required.</p>\n<p><strong>Solution Description</strong></p>\n<p>This answer is long because it seeks to provide a complete example with additional contextual advice.  It could be more concise.  It's style is closer to a tutorial or blog post style post than to a StackOverflow answer.  Hopefully the length is not intimidating and it is easy to replicate the outcome.</p>\n<p>I was curious about this so I thought I would try it.  Surprisingly to me, I was able to get it to work.  So I have documented how to replicate that here.</p>\n<p>The key is the suggestion in comments by &quot;OH GOD SPIDERS&quot;, to use the the <a href=\"https://github.com/dgiagio/warp\" rel=\"noreferrer\">&quot;warp&quot;</a> tool for packaging, in conjunction with other comments suggesting interfacing with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\" rel=\"noreferrer\">jlink</a>.</p>\n<p>I tried to do as much as possible using the <a href=\"https://maven.apache.org/\" rel=\"noreferrer\">Maven</a> build tool, so this solution is oriented towards that.  You could adapt the solution to another tool chain if you prefer.</p>\n<p>The solution example builds a JavaFX application with FXML.  The example could be simpler and much smaller if it did not include FXML, but I thought it was important to show how resources work with this solution, which is why FXML is included.</p>\n<p><strong>Limitations</strong></p>\n<ul>\n<li><p>This is, by design, a Windows only build solution which must be run on a Windows machine, both at build time and at deployment and run time.</p>\n</li>\n<li><p>It will only work for applications that rely on Java modules that have <code>module-info.java</code> definitions. For example, it won't work for a Spring or SpringBoot application unless it is fully modular.  This is, until <a href=\"https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\" rel=\"noreferrer\">Spring 6 or SpringBoot 3</a> with full Java Platform module support is released.</p>\n</li>\n</ul>\n<p><strong>High Level Steps</strong></p>\n<ol>\n<li><p>Build the application as a <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"noreferrer\">Java platform modular application</a>.</p>\n<ul>\n<li>The application MUST have no automatic dependencies (the application itself and all transitive dependencies it relies on must be defined as Java modules with properly defined module-info.java files).</li>\n</ul>\n</li>\n<li><p>Link the application to create a runtime image with a launch script.</p>\n<ul>\n<li>I used the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"noreferrer\">openjfx JavaFX Maven plugin</a> to do the linking.</li>\n</ul>\n</li>\n<li><p>Turn the runtime image with the launch script into an exe.</p>\n<ul>\n<li>This step uses the <a href=\"https://github.com/dgiagio/warp\" rel=\"noreferrer\"><code>warp-packer</code></a> tool, which can be executed via the <a href=\"http://mojohaus.org/exec-maven-plugin/\" rel=\"noreferrer\">maven exec plugin</a>.</li>\n</ul>\n</li>\n</ol>\n<p><strong>Procedure</strong></p>\n<ol>\n<li><a href=\"https://adoptopenjdk.net/\" rel=\"noreferrer\">Install JDK 17</a> (does not require a version which includes JavaFX).</li>\n<li><a href=\"https://maven.apache.org/download.cgi?Preferred=ftp://ftp.osuosl.org/pub/apache/\" rel=\"noreferrer\">Install Maven</a>.</li>\n<li>Create the project files shown below.</li>\n<li><a href=\"https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe\" rel=\"noreferrer\">Install warp</a> to <code>tools\\warp-packer.exe</code>.</li>\n<li>Build and package the project (<code>mvn package</code>).</li>\n<li>Run the application exe (<code>target/hellowarp.exe</code>) to test it.</li>\n<li>Give the application exe to friends with Windows machines.</li>\n<li>Friends will be able to run the exe from the command line or via a double-click on the exe.</li>\n</ol>\n<p>No installation of your application is required, no extraction or unzipping of any archives, no Java runtime installation and no other additional installations are required.  All that is needed is to copy the exe file to a windows machine (e.g. click on a download link on the web or copy the exe out of a mail attachment), then double click on the exe it to instantly run your application.</p>\n<p><strong>File tree</strong></p>\n<pre>\nC:\\dev\\hellowarp>tree /a /f .\nFolder PATH listing for volume Local Disk\nVolume serial number is 00000086 C034:A84E\nC:\\DEV\\HELLOWARP\n|   pom.xml\n|\n+---src\n|   \\---main\n|       +---java\n|       |   |   module-info.java\n|       |   |\n|       |   \\---com\n|       |       \\---example\n|       |           \\---hellowarp\n|       |                   HelloController.java\n|       |                   HelloWarp.java\n|       |\n|       \\---resources\n|           \\---com\n|               \\---example\n|                   \\---hellowarp\n|                           hello-view.fxml\n|\n\\---tools\n        warp-packer.exe\n</pre>\n<p><strong>Obtaining and installing warp</strong></p>\n<p>Create a new directory, <code>\\tools</code>, in the root of your project.</p>\n<p>Download Warp from:</p>\n<ul>\n<li><a href=\"https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe\" rel=\"noreferrer\">https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe</a></li>\n</ul>\n<p>And copy the warp executable (renaming it) to the following location:</p>\n<pre><code>\\tools\\warp-packer.exe\n</code></pre>\n<p><strong>Files</strong></p>\n<p><em>pom.xml</em></p>\n<p>Maven project.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;hellowarp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!--compile--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n             &lt;!--create linked image--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jlink&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.example.hellowarp/com.example.hellowarp.HelloWarp&lt;/mainClass&gt;\n                    &lt;compress&gt;2&lt;/compress&gt;\n                    &lt;noManPages&gt;true&lt;/noManPages&gt;\n                    &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                    &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                    &lt;launcher&gt;${project.artifactId}&lt;/launcher&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--package image as an exe--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;!-- obtain warp-packer.exe from: &quot;https://github.com/dgiagio/warp/releases/download/v0.3.0/windows-x64.warp-packer.exe&quot; --&gt;\n                    &lt;executable&gt;${project.basedir}\\tools\\warp-packer.exe&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;--arch&lt;/argument&gt;\n                        &lt;argument&gt;windows-x64&lt;/argument&gt;\n\n                        &lt;argument&gt;--input_dir&lt;/argument&gt;\n                        &lt;argument&gt;${project.build.directory}\\image&lt;/argument&gt;\n\n                        &lt;argument&gt;--exec&lt;/argument&gt;\n                        &lt;argument&gt;bin\\${project.artifactId}.bat&lt;/argument&gt;\n\n                        &lt;argument&gt;--output&lt;/argument&gt;\n                        &lt;argument&gt;${project.build.directory}\\${project.artifactId}.exe&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>module-info.java</em></p>\n<p>Java platform module definition for the application.</p>\n<pre><code>module com.example.hellowarp {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    opens com.example.hellowarp to javafx.fxml;\n    exports com.example.hellowarp;\n}\n</code></pre>\n<p><em>HelloWarp.java</em></p>\n<p>JavaFX application.</p>\n<pre><code>package com.example.hellowarp;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloWarp extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(\n                HelloWarp.class.getResource(\n                        &quot;hello-view.fxml&quot;\n                )\n        );\n\n        Scene scene = new Scene(fxmlLoader.load());\n\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><em>HelloController.java</em></p>\n<p>JavaFX FXML controller class.</p>\n<pre><code>package com.example.hellowarp;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class HelloController {\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    protected void onHelloButtonClick() {\n        welcomeText.setText(&quot;Welcome to my JavaFX Application!&quot;);\n    }\n}\n</code></pre>\n<p><em>hello-view.fxml</em></p>\n<p>UI view definition file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; prefWidth=&quot;250&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.hellowarp.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>Screenshot of the running <code>hellowarp.exe</code> application</strong></p>\n<p><a href=\"https://i.stack.imgur.com/aKaxC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aKaxC.png\" alt=\"hello-screenshot\" /></a></p>\n<h4>FAQ</h4>\n<p>There FAQ section just provides contextual information.  You can ignore this section if you already know this info, or if you don't need it.</p>\n<blockquote>\n<p>Is this an alternative distribution method to a &quot;fat jar&quot;?</p>\n</blockquote>\n<p>Yes, I think so.</p>\n<blockquote>\n<p>What would this be appropriate for?</p>\n</blockquote>\n<p>A small-scale application distributed in an environment where you know the users are running Windows.</p>\n<blockquote>\n<p>Can I also package my app as an MSI installer?</p>\n</blockquote>\n<p>Yes. I did that using the <a href=\"https://github.com/akman/jpackage-maven-plugin\" rel=\"noreferrer\">akman jpackage-maven-plugin</a>, it worked well.  To limit size and scope I will not document that in this answer.</p>\n<blockquote>\n<p>Would it be better to use a &quot;git repo&quot;, &quot;fat jar&quot;, a exe, a packaged installer or &quot;zipped&quot; image?</p>\n</blockquote>\n<p>It depends on what you are doing.</p>\n<p>If your target is other developers, set up an account on github, put your project there and provide a maven or gradle build file for the developers to build the app from source in their environment.  Just packaging the application as a standard jar file (no fat jar), would be fine.  Any jar you create could be deployed to maven central.  Use a module-info.java for the jar so that it can be linked via jlink into packaged applications.</p>\n<p>If it is a school project.  It depends on the acceptance preference for the school.  Perhaps they just want the code source in git, and that is all you need.  Or maybe you can create a (thin) jar file (or a zip with the jar and its dependencies) which you provide, knowing that the standard school systems have all the relevant Java/JavaFX software already installed on them.</p>\n<p>Or maybe it is a known OS environment, e.g. Windows, Mac or Linux, and you can use <code>jpackage</code> to build an installable package for one (or two) of those environments.</p>\n<p>Or, if it is windows only, this solution of packaging as an &quot;exe&quot; for distribution might work well.</p>\n<p>A <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">&quot;fat jar&quot; configuration</a> is not supported for JavaFX development.  I do not recommend it.  You can get it to work (currently) and it can be convenient sometimes, but you will need to decide if the trade-offs involved to do that are worth it.</p>\n<p>If you are building a commercial or popular open source desktop product, create packaged installers, using a tool like <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\"><code>jpackage</code></a> (or one of the commercial or open source alternatives) in the appropriate format for your target platforms (e.g. msi or exe for windows, rpm and deb for linux, dmg for mac).  You may choose to deploy those packaged formats to Windows or Mac app stores or Linux yum/apt repositories.</p>\n<p>If it is a mobile deployment, use <a href=\"https://gluonhq.com/products/mobile/\" rel=\"noreferrer\">gluon mobile</a>.</p>\n<blockquote>\n<p>Can I use the Apache jlink Maven plugin instead of the OpenJFX Maven plugin.</p>\n</blockquote>\n<p>The <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"noreferrer\">OpenJFX JavaFX Maven plugin</a> or the <a href=\"https://akman.github.io/jpackage-maven-plugin/\" rel=\"noreferrer\">akman jpackage-maven-plugin</a> will produce the correct images at this time.</p>\n<p>The <a href=\"http://maven.apache.org/plugins/maven-jlink-plugin/\" rel=\"noreferrer\">Apache jlink Maven plugin</a> will, currently, fail (with JavaFX 17.0.1 and Apache jlink plugin 3.1.0).</p>\n<p>When I tried using the Apache jlink Maven plugin, it got confused by the JavaFX platform module definitions.  The Apache jlink plugin started working with weird phantom module names like <code>javafx.graphicsEmpty</code> that it treated as automatic modules and passed to jlink, so jlink refused to link them.  I could not find a way around that issue.</p>\n<blockquote>\n<p>When I double click on the exe, there is blank window with the name of the <code>exe</code> in the title bar in addition to my application window.</p>\n</blockquote>\n<p>Yes. Depending on the application that could either be a minor annoyance or a show stopper.</p>\n<p>The display of the black screen on double-click is just the way this solution, as presented here, works.</p>\n<p>There may be a way to circumvent this, but I haven't done a lot of investigation into it.  You could look at the information supplied here (which discusses various ways to hide or minimize app launcher windows in MS Windows) and see if it helps you:</p>\n<ul>\n<li><a href=\"https://www.robvanderwoude.com/battech_hideconsole.php\" rel=\"noreferrer\">https://www.robvanderwoude.com/battech_hideconsole.php</a></li>\n<li><a href=\"https://stackoverflow.com/a/55662615/1155209\">https://stackoverflow.com/a/55662615/1155209</a></li>\n</ul>\n<p>If, instead of double-clicking on the app, you are running the app by typing the exe name in a command console, there is no additional screen as there is already an existing console that you were typing in.</p>\n<blockquote>\n<p>Can I use this technique to create single file executables for other operating systems?</p>\n</blockquote>\n<p>Yes, I believe so.</p>\n<p>At this time, I have not tried to use this solution for anything but Windows executables.</p>\n<p><code>warp-packer</code> is, capable of generating executables for a variety of OS systems.</p>\n<p>To package for a non-windows machine, you would need to input the appropriate <code>jlink</code> image output for the target operating system to warp-packer and then run the appropriate warp-packer utility (I believe on the target OS) to generate the single executable for execution on that target OS.</p>\n<p>If interested, see the warp-packer and jlink documentation.</p>\n<blockquote>\n<p>What is the size of the generated executable?</p>\n</blockquote>\n<p>For the sample application, my generated application executable was 34 megabytes in size.</p>\n<blockquote>\n<p>What is the startup time?</p>\n</blockquote>\n<p>I didn't measure it, but time to startup (time to display the application GUI window after double clicking the exe) appeared to be about a second.</p>\n<blockquote>\n<p>Could I create an exe for a non-modular Java project.</p>\n</blockquote>\n<p>Yes probably, but that is outside the scope of what I am prepared to discuss here, and the method would be different from that described here.</p>\n"}],"owner":{"account_id":9443476,"reputation":481,"user_id":12645782,"display_name":"Kotaka Danski"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14283,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":69824145,"answer_count":3,"score":20,"last_activity_date":1652474635,"creation_date":1635860093,"question_id":69811401,"body_markdown":"How can I make a standalone Windows executable(`.exe`) for my `JavaFX` project(I wrote in IntelliJ IDEA), without an installer for my program? I want the user to download the `.exe` file and run it out of the box, *without an installer, even if they don&#39;t have a JRE on their computer*. Is this even possible? So far I&#39;ve read a little about the following options:\r\n\r\n - launch4j - It seems to copy the required JRE files *alongside* the `.exe`\r\n - install4j - It makes an *installer*, which, once runned, creates the `.exe` file.\r\n\r\nSo, if I have understood correctly, neither of these two will help me. I found [this][1] and [this][2] posts, but they don&#39;t cover my specific case.\r\nExcuse me, if I&#39;m asking a stupid question, this is my first ever Java GUI. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\r\n  [2]: https://stackoverflow.com/questions/5719376/how-can-i-create-a-windows-exe-standalone-executable-using-java-eclipse","title":"How to create a standalone .exe in Java (that runs without an installer and a JRE)","body":"<p>How can I make a standalone Windows executable(<code>.exe</code>) for my <code>JavaFX</code> project(I wrote in IntelliJ IDEA), without an installer for my program? I want the user to download the <code>.exe</code> file and run it out of the box, <em>without an installer, even if they don't have a JRE on their computer</em>. Is this even possible? So far I've read a little about the following options:</p>\n<ul>\n<li>launch4j - It seems to copy the required JRE files <em>alongside</em> the <code>.exe</code></li>\n<li>install4j - It makes an <em>installer</em>, which, once runned, creates the <code>.exe</code> file.</li>\n</ul>\n<p>So, if I have understood correctly, neither of these two will help me. I found <a href=\"https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">this</a> and <a href=\"https://stackoverflow.com/questions/5719376/how-can-i-create-a-windows-exe-standalone-executable-using-java-eclipse\">this</a> posts, but they don't cover my specific case.\nExcuse me, if I'm asking a stupid question, this is my first ever Java GUI.</p>\n"},{"tags":["java","timestamp","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1652581008,"post_id":72234458,"comment_id":127639520,"body_markdown":"This has nothing to do with Drools. The error indicates that you&#39;re not deserializing your input properly. It&#39;s getting stuck at your Spring REST(I presume) interface where you deserialize the input. Probably there&#39;s something wrong with that CustomDeserializer class of yours.","body":"This has nothing to do with Drools. The error indicates that you&#39;re not deserializing your input properly. It&#39;s getting stuck at your Spring REST(I presume) interface where you deserialize the input. Probably there&#39;s something wrong with that CustomDeserializer class of yours."},{"owner":{"account_id":25046199,"reputation":1,"user_id":18902591,"display_name":"John"},"score":1,"creation_date":1652893746,"post_id":72234458,"comment_id":127719558,"body_markdown":"thanks - you were right, data was not being sent properly","body":"thanks - you were right, data was not being sent properly"}],"owner":{"account_id":25046199,"reputation":1,"user_id":18902591,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652474574,"creation_date":1652469323,"question_id":72234458,"body_markdown":"I am to receive a timestamp value and want to check it agains the current timeStamp value to make sure that the value I am getting is less of before the current time stamp. \r\n\r\n\r\nthe value being sent is in this format *2022-05-13 17:52:07*\r\n\r\n\r\n    rule &quot;effectiveTimestamp is in past &quot;\r\n    when\r\n        $retail: DroolsDTO(pricingExecutionDetails.effectiveTimestamp != null &amp;&amp;\r\n        pricingExecutionDetails.effectiveTimestamp.compareTo(java.sql.Timestamp.from(Instant.now())) &gt;= 0 )\r\n        $locale: Locale()\r\n    then\r\n        modify($retail) {\r\n            setIsValid(false),\r\n            getViolationList().add(source.getMessage(config.pastEffectiveTimestamp, null, $locale))\r\n        }\r\n    end\r\n\r\n\r\n\r\nI think the \r\n   java.sql.Timestamp.from(Instant.now()) has milli seconds attached to it - ex: \r\n2022-05-13 19:14:21.371. am not sure if this matters when comparing\r\n\r\nthis is how the effectiveTimestamp field is defined in the DTO\r\n\r\n      @JsonProperty(&quot;effectiveTimestamp&quot;)\r\n      @JsonDeserialize(using = CustomDeserializer.class)\r\n      @JsonSerialize(using = CustomSerializer.class)\r\n      private Instant effectiveTimestamp;\r\n\r\n\r\nthis is the error I m getting \r\n\r\n&gt; [2m2022-05-13 15:40:28.586[0;39m [33m WARN[0;39m [35m69147[0;39m\r\n&gt; [2m---[0;39m [2m[nio-8080-exec-3][0;39m\r\n&gt; [36m.w.s.m.s.DefaultHandlerExceptionResolver[0;39m [2m:[0;39m\r\n&gt; Resolved\r\n&gt; [org.springframework.http.converter.HttpMessageNotReadableException:\r\n&gt; JSON parse error: Text &#39;2021-11-30 17:52:07&#39; could not be parsed at\r\n&gt; index 10; nested exception is\r\n&gt; com.fasterxml.jackson.databind.JsonMappingException: Text &#39;2021-11-30\r\n&gt; 17:52:07&#39; could not be parsed at index 10 (through reference chain:\r\n&gt; com.sams.pricing.rulesexecutor.dto.DroolsDTO[&quot;priceExecutionDetails&quot;]-&gt;com.sams.pricing.execution.common.dto.PricingExecutionDetailsDTO[&quot;effectiveTimestamp&quot;])]\r\n\r\n\r\n(also I may have to change the &gt;= 0 to &lt; but thats just a side note still getting this parsing error ) \r\n\r\n\r\n","title":"Want to compare Timestamps in Drools","body":"<p>I am to receive a timestamp value and want to check it agains the current timeStamp value to make sure that the value I am getting is less of before the current time stamp.</p>\n<p>the value being sent is in this format <em>2022-05-13 17:52:07</em></p>\n<pre><code>rule &quot;effectiveTimestamp is in past &quot;\nwhen\n    $retail: DroolsDTO(pricingExecutionDetails.effectiveTimestamp != null &amp;&amp;\n    pricingExecutionDetails.effectiveTimestamp.compareTo(java.sql.Timestamp.from(Instant.now())) &gt;= 0 )\n    $locale: Locale()\nthen\n    modify($retail) {\n        setIsValid(false),\n        getViolationList().add(source.getMessage(config.pastEffectiveTimestamp, null, $locale))\n    }\nend\n</code></pre>\n<p>I think the\njava.sql.Timestamp.from(Instant.now()) has milli seconds attached to it - ex:\n2022-05-13 19:14:21.371. am not sure if this matters when comparing</p>\n<p>this is how the effectiveTimestamp field is defined in the DTO</p>\n<pre><code>  @JsonProperty(&quot;effectiveTimestamp&quot;)\n  @JsonDeserialize(using = CustomDeserializer.class)\n  @JsonSerialize(using = CustomSerializer.class)\n  private Instant effectiveTimestamp;\n</code></pre>\n<p>this is the error I m getting</p>\n<blockquote>\n<p>[2m2022-05-13 15:40:28.586[0;39m [33m WARN[0;39m [35m69147[0;39m\n[2m---[0;39m [2m[nio-8080-exec-3][0;39m\n[36m.w.s.m.s.DefaultHandlerExceptionResolver[0;39m [2m:[0;39m\nResolved\n[org.springframework.http.converter.HttpMessageNotReadableException:\nJSON parse error: Text '2021-11-30 17:52:07' could not be parsed at\nindex 10; nested exception is\ncom.fasterxml.jackson.databind.JsonMappingException: Text '2021-11-30\n17:52:07' could not be parsed at index 10 (through reference chain:\ncom.sams.pricing.rulesexecutor.dto.DroolsDTO[&quot;priceExecutionDetails&quot;]-&gt;com.sams.pricing.execution.common.dto.PricingExecutionDetailsDTO[&quot;effectiveTimestamp&quot;])]</p>\n</blockquote>\n<p>(also I may have to change the &gt;= 0 to &lt; but thats just a side note still getting this parsing error )</p>\n"},{"tags":["java","character-class"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1652472738,"post_id":72234933,"comment_id":127623393,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue. Also, your Question could be improved by asking a specific question, or raising a specific issue, at the beginning. For example, is your cascading `if` statement not working as expected?","body":"Vague title. Rewrite to summarize your specific technical issue. Also, your Question could be improved by asking a specific question, or raising a specific issue, at the beginning. For example, is your cascading <code>if</code> statement not working as expected?"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652474264,"creation_date":1652472998,"answer_id":72235005,"question_id":72234933,"body_markdown":"You forgot to reset to true your `legal` and `style` boolean variables.\r\n\r\nAt every iteration, the `legal` and `style` variables will keep containing the result of the previous input. For example, if on your first input you immediately write a variable name with an illegal syntax and poor style, you&#39;ll see that any following name will show the same result. Even though those names are good or they only lack in style, the output will still be the same (wrong) because both variables have been left to false and nothing sets them back to true.\r\n\r\nBesides, the logic to print the output messages didn&#39;t account for all combinations correctly.\r\n\r\nBoth variable logic and output printing could be re-written as follows:\r\n\r\n```\r\ndo {\r\n    //forgotten reset\r\n    legal = true;\r\n    style = true;\r\n\r\n    //excat same implementation of yours\r\n    if (!(Character.isLetter(input))) {\r\n        legal = false;\r\n    }\r\n    if (userInput.contains(&quot; &quot;)) {\r\n        legal = false;\r\n    }\r\n    if (!(Character.isLowerCase(input))) {\r\n        style = false;\r\n    }\r\n    for (int i = 1; i &lt; userInput.length() &amp;&amp; legal; i++) {\r\n        loop = userInput.charAt(i);\r\n\r\n        if (!(Character.isLetterOrDigit(loop))) {\r\n            style = false;\r\n        }\r\n    }\r\n\r\n    //If it&#39;s illegal it does not matter whether the variable name has a poor or good style, it&#39;s illegal anyway\r\n    if (!legal) {\r\n        System.out.println(&quot;Illegal.&quot;);\r\n        \r\n        //If we&#39;re in this else branch then the variable name is legal, but we have to check its style.\r\n        //If it has poor style then we print the &quot;poor style&quot; message.\r\n    } else if (!style) {\r\n        System.out.println(&quot;Legal, but uses poor style.&quot;);\r\n    } else {\r\n        //Last case where the variable name is legal and has a good style\r\n        System.out.println(&quot;Good.&quot;);\r\n    }\r\n\r\n    System.out.println(&quot;\\nPlease enter a variable name (q to quit): &quot;);\r\n    userInput = stdln.nextLine();\r\n    input = userInput.charAt(0);\r\n\r\n} while (!(userInput.equalsIgnoreCase(&quot;q&quot;)));\r\n```","title":"Character Class Method issues","body":"<p>You forgot to reset to true your <code>legal</code> and <code>style</code> boolean variables.</p>\n<p>At every iteration, the <code>legal</code> and <code>style</code> variables will keep containing the result of the previous input. For example, if on your first input you immediately write a variable name with an illegal syntax and poor style, you'll see that any following name will show the same result. Even though those names are good or they only lack in style, the output will still be the same (wrong) because both variables have been left to false and nothing sets them back to true.</p>\n<p>Besides, the logic to print the output messages didn't account for all combinations correctly.</p>\n<p>Both variable logic and output printing could be re-written as follows:</p>\n<pre><code>do {\n    //forgotten reset\n    legal = true;\n    style = true;\n\n    //excat same implementation of yours\n    if (!(Character.isLetter(input))) {\n        legal = false;\n    }\n    if (userInput.contains(&quot; &quot;)) {\n        legal = false;\n    }\n    if (!(Character.isLowerCase(input))) {\n        style = false;\n    }\n    for (int i = 1; i &lt; userInput.length() &amp;&amp; legal; i++) {\n        loop = userInput.charAt(i);\n\n        if (!(Character.isLetterOrDigit(loop))) {\n            style = false;\n        }\n    }\n\n    //If it's illegal it does not matter whether the variable name has a poor or good style, it's illegal anyway\n    if (!legal) {\n        System.out.println(&quot;Illegal.&quot;);\n        \n        //If we're in this else branch then the variable name is legal, but we have to check its style.\n        //If it has poor style then we print the &quot;poor style&quot; message.\n    } else if (!style) {\n        System.out.println(&quot;Legal, but uses poor style.&quot;);\n    } else {\n        //Last case where the variable name is legal and has a good style\n        System.out.println(&quot;Good.&quot;);\n    }\n\n    System.out.println(&quot;\\nPlease enter a variable name (q to quit): &quot;);\n    userInput = stdln.nextLine();\n    input = userInput.charAt(0);\n\n} while (!(userInput.equalsIgnoreCase(&quot;q&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652473445,"creation_date":1652473445,"answer_id":72235075,"question_id":72234933,"body_markdown":"You have to reset `legal` and `style` to `true` at the start of each iteration. However, it is not the only problem with your code. The logic is not correct. \r\n\r\nRight now in the `for` loop you check all the characters being letters or digits. If this condition fails you set `style` to `false`. However, you should set `legal` to `false` instead, because such identifiers are not allowed. \r\n\r\nAlso, when you print the result you don&#39;t check the conditions correctly. For example, if `legal` is false, but `style` is true your code will print `Good`. ","title":"Character Class Method issues","body":"<p>You have to reset <code>legal</code> and <code>style</code> to <code>true</code> at the start of each iteration. However, it is not the only problem with your code. The logic is not correct.</p>\n<p>Right now in the <code>for</code> loop you check all the characters being letters or digits. If this condition fails you set <code>style</code> to <code>false</code>. However, you should set <code>legal</code> to <code>false</code> instead, because such identifiers are not allowed.</p>\n<p>Also, when you print the result you don't check the conditions correctly. For example, if <code>legal</code> is false, but <code>style</code> is true your code will print <code>Good</code>.</p>\n"}],"owner":{"account_id":24918830,"reputation":35,"user_id":18787396,"display_name":"TheStudentMans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72235005,"answer_count":2,"score":0,"last_activity_date":1652474264,"creation_date":1652472537,"question_id":72234933,"body_markdown":"So I&#39;m currently working on a school assignment which is to design a program that allows the user to enter some text, and then the program checks:\r\n\r\n1. The first letter of the first word is a capital letter (it needs to be lowercase)\r\n2. That there are only letters and numbers in the entire user input\r\n3. That there are no spaces in the user input\r\n\r\nSo the program does work but the issue I&#39;m having is with the print statements, I&#39;ll post my code below and explain:\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t \t\ttry (Scanner stdln = new Scanner(System.in)) {\r\n\t\t\t\tString userInput;\r\n\t\t\t\t\r\n\t\t\t\tboolean legal = true;\r\n\t\t\t\tboolean style = true;\r\n\t\t\t\t\r\n\t\t\t\tchar input; //Checks the userInput variable to be sure that boolean is false if there&#39;s no lowercase letter at char0 + if there are no letters\r\n\t\t\t\tchar loop;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;The program checks the properness of a proposed Java variable name.&quot;);\r\n\t\t\t\tSystem.out.println(&quot;\\nPlease enter a variable name (q to quit): &quot;);\r\n\t\t\t\tuserInput = stdln.nextLine();\r\n\t\t\t\tinput = userInput.charAt(0);\r\n\t\t\t\t\r\n\t\t\t\tdo\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!(Character.isLetter(input)))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlegal = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (userInput.contains(&quot; &quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlegal = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!(Character.isLowerCase(input)))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstyle = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (int i = 1; i &lt; userInput.length() &amp;&amp;legal; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tloop = userInput.charAt(i);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!(Character.isLetterOrDigit(loop)))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstyle = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!(legal) &amp;&amp; !(style))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Illegal.&quot;);\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse if (legal &amp;&amp; !(style)) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Legal, but uses poor style.&quot;);\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse  \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Good.&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;\\nPlease enter a variable name (q to quit): &quot;);\r\n\t\t\t\t\tuserInput = stdln.nextLine();\r\n\t\t\t\t\tinput = userInput.charAt(0);\r\n\t\t\t\t\t\r\n\t\t\t\t} while (!(userInput.equalsIgnoreCase(&quot;q&quot;))); \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nSo the code works and the first input I test comes out as it should, however, once I get a response that isn&#39;t &quot;Good.&quot;, then the same response will print for every entry, here&#39;s a sample from a session I just did:\r\n\r\nThe program checks the properness of a proposed Java variable name.\r\n\r\n1. Please enter a variable name (q to quit): \r\nstreetAddress2\r\nGood.\r\n\r\n2. Please enter a variable name (q to quit): \r\nStreetAddress2\r\nLegal, but uses poor style.\r\n\r\n3. Please enter a variable name (q to quit): \r\nstreetAddress2\r\nLegal, but uses poor style.\r\n\r\n4. Please enter a variable name (q to quit): \r\nStreet Address2\r\nIllegal.\r\n\r\n5. Please enter a variable name (q to quit): \r\nstreetAddress2\r\nIllegal.\r\n\r\nIn that sample session, 3 and 5 should return the statement &quot;Good.&quot; but for some reason, it just prints the statement from the previous entry. I&#39;m still fairly new to Java so I&#39;m a little stumped. Any ideas?","title":"Character Class Method issues","body":"<p>So I'm currently working on a school assignment which is to design a program that allows the user to enter some text, and then the program checks:</p>\n<ol>\n<li>The first letter of the first word is a capital letter (it needs to be lowercase)</li>\n<li>That there are only letters and numbers in the entire user input</li>\n<li>That there are no spaces in the user input</li>\n</ol>\n<p>So the program does work but the issue I'm having is with the print statements, I'll post my code below and explain:</p>\n<pre><code>public static void main(String[] args) {\n            try (Scanner stdln = new Scanner(System.in)) {\n            String userInput;\n            \n            boolean legal = true;\n            boolean style = true;\n            \n            char input; //Checks the userInput variable to be sure that boolean is false if there's no lowercase letter at char0 + if there are no letters\n            char loop;\n            \n            System.out.println(&quot;The program checks the properness of a proposed Java variable name.&quot;);\n            System.out.println(&quot;\\nPlease enter a variable name (q to quit): &quot;);\n            userInput = stdln.nextLine();\n            input = userInput.charAt(0);\n            \n            do\n            {\n                \n                if (!(Character.isLetter(input)))\n                {\n                    legal = false;\n                }\n                if (userInput.contains(&quot; &quot;))\n                {\n                    legal = false;\n                }\n                if (!(Character.isLowerCase(input)))\n                {\n                    style = false;\n                }\n                    for (int i = 1; i &lt; userInput.length() &amp;&amp;legal; i++)\n                    {\n                        loop = userInput.charAt(i);\n                                    \n                        if (!(Character.isLetterOrDigit(loop)))\n                        {\n                            style = false;\n                        }\n                    }\n                \n                if (!(legal) &amp;&amp; !(style))\n                {\n                    System.out.println(&quot;Illegal.&quot;);\n                } \n                else if (legal &amp;&amp; !(style)) \n                {\n                    System.out.println(&quot;Legal, but uses poor style.&quot;);\n                } \n                else  \n                {\n                    System.out.println(&quot;Good.&quot;);\n                }\n                \n                System.out.println(&quot;\\nPlease enter a variable name (q to quit): &quot;);\n                userInput = stdln.nextLine();\n                input = userInput.charAt(0);\n                \n            } while (!(userInput.equalsIgnoreCase(&quot;q&quot;))); \n        }\n    }\n}\n</code></pre>\n<p>So the code works and the first input I test comes out as it should, however, once I get a response that isn't &quot;Good.&quot;, then the same response will print for every entry, here's a sample from a session I just did:</p>\n<p>The program checks the properness of a proposed Java variable name.</p>\n<ol>\n<li><p>Please enter a variable name (q to quit):\nstreetAddress2\nGood.</p>\n</li>\n<li><p>Please enter a variable name (q to quit):\nStreetAddress2\nLegal, but uses poor style.</p>\n</li>\n<li><p>Please enter a variable name (q to quit):\nstreetAddress2\nLegal, but uses poor style.</p>\n</li>\n<li><p>Please enter a variable name (q to quit):\nStreet Address2\nIllegal.</p>\n</li>\n<li><p>Please enter a variable name (q to quit):\nstreetAddress2\nIllegal.</p>\n</li>\n</ol>\n<p>In that sample session, 3 and 5 should return the statement &quot;Good.&quot; but for some reason, it just prints the statement from the previous entry. I'm still fairly new to Java so I'm a little stumped. Any ideas?</p>\n"},{"tags":["java","spring","apache-camel"],"comments":[{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1652355140,"post_id":72213756,"comment_id":127588853,"body_markdown":"It seems the lombok does not work properly for reflection. Closed","body":"It seems the lombok does not work properly for reflection. Closed"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":1,"creation_date":1652433786,"post_id":72213756,"comment_id":127610257,"body_markdown":"As a workaround, try to define a public wrapper method around : `public String wrapTo() { return this.to(); } ` and use this method in Camel expr (ie `simple(&quot;${body.wrapTo}&quot;)`","body":"As a workaround, try to define a public wrapper method around : <code>public String wrapTo() { return this.to(); } </code> and use this method in Camel expr (ie <code>simple(&quot;${body.wrapTo}&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652473850,"creation_date":1652473850,"answer_id":72235138,"question_id":72213756,"body_markdown":"You just don&#39;t need to trust Lombok when u use reflection.\r\n\r\nAfter I added getter handly, all works fine:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\npublic class CurrencyExchange {\r\n    private int id;\r\n    private String from;\r\n    private String to;\r\n    private BigDecimal conversionMultiple;\r\n\r\n    public String getTo(){\r\n        return this.to;\r\n    }\r\n}\r\n```","title":"Apache Camel: MethodNotFoundException, Failed to invoke method on null due to: MethodNotFoundException","body":"<p>You just don't need to trust Lombok when u use reflection.</p>\n<p>After I added getter handly, all works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class CurrencyExchange {\n    private int id;\n    private String from;\n    private String to;\n    private BigDecimal conversionMultiple;\n\n    public String getTo(){\n        return this.to;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652473850,"creation_date":1652350434,"question_id":72213756,"body_markdown":"I try following a video tutorial for Apache Camel education and trying aggregate queue objects in a next way:\r\n\r\n```java\r\n@Component\r\npublic class AggregationRoute extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;file:files/json&quot;)\r\n                .unmarshal().json(JsonLibrary.Jackson, CurrencyExchange.class)\r\n                    .aggregate(simple(&quot;${body.to}&quot;), new ArrayListAggregationStrategy()) // &lt;--- (1)\r\n                    .completionSize(3)// &lt;----- (2)\r\n                .to(&quot;log:aggregation&quot;);\r\n    }\r\n}\r\n```\r\n\r\nCurrencyExchange model:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\npublic class CurrencyExchange {\r\n    public int id;\r\n    public String from;\r\n    public String to;\r\n    public BigDecimal conversionMultiple;\r\n}\r\n```\r\n\r\nAggregation implementation:\r\n\r\n```java\r\npublic class ArrayListAggregationStrategy implements AggregationStrategy {\r\n    @Override\r\n    public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\r\n        Object newObject = newExchange.getIn().getBody();\r\n        ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n        if(oldExchange == null){\r\n            list.add(newObject);\r\n            newExchange.getIn().setBody(list);\r\n            return newExchange;\r\n        } else {\r\n            oldExchange.getIn().getBody(list.getClass()).add(newObject);\r\n            return oldExchange;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFirst of all - the code works correctly without (1) and (2) lines.\r\nWhen I uncommented these lines, I get the error:\r\n\r\n```\r\n\r\n&gt; 2022-05-12 12:34:26.913 ERROR 82201 --- [le://files/json]\r\n&gt; o.a.c.p.e.DefaultErrorHandler            : Failed delivery for\r\n&gt; (MessageId: F948EB377E1DB38-0000000000000000 on ExchangeId:\r\n&gt; F948EB377E1DB38-0000000000000000). Exhausted after delivery attempt: 1\r\n&gt; caught: org.apache.camel.language.bean.RuntimeBeanExpressionException:\r\n&gt; Failed to invoke method: to on null due to:\r\n&gt; org.apache.camel.component.bean.MethodNotFoundException: Method with\r\n&gt; name: to not found on bean:\r\n&gt; com.education.camelmicroservicea.model.CurrencyExchange@301f4095 of\r\n&gt; type: com.education.camelmicroservicea.model.CurrencyExchange on the\r\n&gt; exchange: Exchange[F948EB377E1DB38-0000000000000000]\r\n\r\n```\r\n\r\nStacktrace:\r\n\r\n```\r\n\r\n&gt; org.apache.camel.language.bean.RuntimeBeanExpressionException: Failed\r\n&gt; to invoke method: to on null due to:\r\n&gt; org.apache.camel.component.bean.MethodNotFoundException: Method with\r\n&gt; name: to not found on bean:\r\n&gt; com.education.camelmicroservicea.model.CurrencyExchange@301f4095 of\r\n&gt; type: com.education.camelmicroservicea.model.CurrencyExchange on the\r\n&gt; exchange: Exchange[F948EB377E1DB38-0000000000000000] \tat\r\n&gt; org.apache.camel.language.bean.BeanExpression.invokeOgnlMethod(BeanExpression.java:453)\r\n&gt; ~[camel-bean-3.16.0.jar:3.16.0] \tat\r\n&gt; org.apache.camel.language.bean.BeanExpression.evaluate(BeanExpression.java:199)\r\n&gt; ~[camel-bean-3.16.0.jar:3.16.0] .....\r\n\r\n```\r\n\r\n- Please note, that the error message: `Failed to invoke method: to on null due to:` means method `to`, so it can sound like **Failed to invoke method: `to()` on null due to:**\r\n\r\n----\r\n\r\nWhy the `simple` through this exception, if I receive the body in the correct way?","title":"Apache Camel: MethodNotFoundException, Failed to invoke method on null due to: MethodNotFoundException","body":"<p>I try following a video tutorial for Apache Camel education and trying aggregate queue objects in a next way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AggregationRoute extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        from(&quot;file:files/json&quot;)\n                .unmarshal().json(JsonLibrary.Jackson, CurrencyExchange.class)\n                    .aggregate(simple(&quot;${body.to}&quot;), new ArrayListAggregationStrategy()) // &lt;--- (1)\n                    .completionSize(3)// &lt;----- (2)\n                .to(&quot;log:aggregation&quot;);\n    }\n}\n</code></pre>\n<p>CurrencyExchange model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class CurrencyExchange {\n    public int id;\n    public String from;\n    public String to;\n    public BigDecimal conversionMultiple;\n}\n</code></pre>\n<p>Aggregation implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayListAggregationStrategy implements AggregationStrategy {\n    @Override\n    public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\n        Object newObject = newExchange.getIn().getBody();\n        ArrayList&lt;Object&gt; list = new ArrayList&lt;&gt;();\n        if(oldExchange == null){\n            list.add(newObject);\n            newExchange.getIn().setBody(list);\n            return newExchange;\n        } else {\n            oldExchange.getIn().getBody(list.getClass()).add(newObject);\n            return oldExchange;\n        }\n    }\n}\n</code></pre>\n<p>First of all - the code works correctly without (1) and (2) lines.\nWhen I uncommented these lines, I get the error:</p>\n<pre><code>\n&gt; 2022-05-12 12:34:26.913 ERROR 82201 --- [le://files/json]\n&gt; o.a.c.p.e.DefaultErrorHandler            : Failed delivery for\n&gt; (MessageId: F948EB377E1DB38-0000000000000000 on ExchangeId:\n&gt; F948EB377E1DB38-0000000000000000). Exhausted after delivery attempt: 1\n&gt; caught: org.apache.camel.language.bean.RuntimeBeanExpressionException:\n&gt; Failed to invoke method: to on null due to:\n&gt; org.apache.camel.component.bean.MethodNotFoundException: Method with\n&gt; name: to not found on bean:\n&gt; com.education.camelmicroservicea.model.CurrencyExchange@301f4095 of\n&gt; type: com.education.camelmicroservicea.model.CurrencyExchange on the\n&gt; exchange: Exchange[F948EB377E1DB38-0000000000000000]\n\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>\n&gt; org.apache.camel.language.bean.RuntimeBeanExpressionException: Failed\n&gt; to invoke method: to on null due to:\n&gt; org.apache.camel.component.bean.MethodNotFoundException: Method with\n&gt; name: to not found on bean:\n&gt; com.education.camelmicroservicea.model.CurrencyExchange@301f4095 of\n&gt; type: com.education.camelmicroservicea.model.CurrencyExchange on the\n&gt; exchange: Exchange[F948EB377E1DB38-0000000000000000]  at\n&gt; org.apache.camel.language.bean.BeanExpression.invokeOgnlMethod(BeanExpression.java:453)\n&gt; ~[camel-bean-3.16.0.jar:3.16.0]   at\n&gt; org.apache.camel.language.bean.BeanExpression.evaluate(BeanExpression.java:199)\n&gt; ~[camel-bean-3.16.0.jar:3.16.0] .....\n\n</code></pre>\n<ul>\n<li>Please note, that the error message: <code>Failed to invoke method: to on null due to:</code> means method <code>to</code>, so it can sound like <strong>Failed to invoke method: <code>to()</code> on null due to:</strong></li>\n</ul>\n<hr />\n<p>Why the <code>simple</code> through this exception, if I receive the body in the correct way?</p>\n"},{"tags":["java","random"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1444571712,"creation_date":1444570861,"answer_id":33065661,"question_id":33065644,"body_markdown":"If `this.bag.size()` is 0, you are passing an invalid argument to `nextInt()`. \r\n\r\nThis is clearly stated in the Javadoc :\r\n\r\n&gt;n the bound on the random number to be returned. **Must be positive**.\r\n\r\n`nextInt(n)` returns a number between 0 and n-1. What do you expect `nextInt(0)` to return?\r\n\r\nIn your main method you are attempting to pick an element of an empty bag. It can&#39;t work. You should check the size of the bag before calling `randomPick()`. And `randomPick()` should probably throw an exception when the bag is empty.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        RandomBag bag = new RandomBag();   \r\n\r\n        Object tileID = null;\r\n        if (bag.size() &gt; 0)\r\n            tileID = bag.randomPick(); \r\n        System.out.println(tileID);\r\n\r\n    }\r\n","title":"Why am I receiving &quot;bound must be positive&quot; error?","body":"<p>If <code>this.bag.size()</code> is 0, you are passing an invalid argument to <code>nextInt()</code>. </p>\n\n<p>This is clearly stated in the Javadoc :</p>\n\n<blockquote>\n  <p>n the bound on the random number to be returned. <strong>Must be positive</strong>.</p>\n</blockquote>\n\n<p><code>nextInt(n)</code> returns a number between 0 and n-1. What do you expect <code>nextInt(0)</code> to return?</p>\n\n<p>In your main method you are attempting to pick an element of an empty bag. It can't work. You should check the size of the bag before calling <code>randomPick()</code>. And <code>randomPick()</code> should probably throw an exception when the bag is empty.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    RandomBag bag = new RandomBag();   \n\n    Object tileID = null;\n    if (bag.size() &gt; 0)\n        tileID = bag.randomPick(); \n    System.out.println(tileID);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6947199,"reputation":2802,"user_id":5331198,"display_name":"thegauravmahawar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444571079,"creation_date":1444571079,"answer_id":33065697,"question_id":33065644,"body_markdown":"The error says it all:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: bound must be positive\r\n        at java.util.Random.nextInt(Random.java:388)\r\n\r\nWhenever bound is `zero` or `negative`, it is an illegal argument to `rand.nextInt()`. Make sure that `this.bag.size()` is never `zero`.\r\n\r\n","title":"Why am I receiving &quot;bound must be positive&quot; error?","body":"<p>The error says it all:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: bound must be positive\n    at java.util.Random.nextInt(Random.java:388)\n</code></pre>\n\n<p>Whenever bound is <code>zero</code> or <code>negative</code>, it is an illegal argument to <code>rand.nextInt()</code>. Make sure that <code>this.bag.size()</code> is never <code>zero</code>.</p>\n"},{"tags":[],"owner":{"account_id":291973,"reputation":4956,"user_id":594438,"display_name":"Romulo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444571648,"creation_date":1444571239,"answer_id":33065722,"question_id":33065644,"body_markdown":"The error is happening because of the **Line 62** in your class:\r\n\r\n    int index = rand.nextInt(this.bag.size());\r\n\r\nIf you call this code with an empty bag, it will always return 0.\r\n\r\nNext step is checking **line 387** of the class [`java.util.Random`][1]:\r\n\r\n    if (bound &lt;= 0)\r\n            throw new IllegalArgumentException(BadBound);\r\n\r\nSince we are always getting 0 from `this.bag.size()`, it will always throw an exception.\r\n\r\nTo make it work, make sure to add elements to the bag, as in:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        RandomBag bag = new RandomBag();\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            bag.add(i); // adding elements\r\n        }\r\n\r\n        Object tileID = bag.randomPick();\r\n        \r\n        System.out.println(tileID);\r\n\r\n    }\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Random.java#Random.nextInt%28int%29","title":"Why am I receiving &quot;bound must be positive&quot; error?","body":"<p>The error is happening because of the <strong>Line 62</strong> in your class:</p>\n\n<pre><code>int index = rand.nextInt(this.bag.size());\n</code></pre>\n\n<p>If you call this code with an empty bag, it will always return 0.</p>\n\n<p>Next step is checking <strong>line 387</strong> of the class <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Random.java#Random.nextInt%28int%29\" rel=\"nofollow\"><code>java.util.Random</code></a>:</p>\n\n<pre><code>if (bound &lt;= 0)\n        throw new IllegalArgumentException(BadBound);\n</code></pre>\n\n<p>Since we are always getting 0 from <code>this.bag.size()</code>, it will always throw an exception.</p>\n\n<p>To make it work, make sure to add elements to the bag, as in:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    RandomBag bag = new RandomBag();\n\n    for (int i = 0; i &lt; 10; i++) {\n        bag.add(i); // adding elements\n    }\n\n    Object tileID = bag.randomPick();\n\n    System.out.println(tileID);\n\n}\n</code></pre>\n"}],"owner":{"account_id":5712024,"reputation":1720,"user_id":4683166,"accept_rate":98,"display_name":"Omar N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20582,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33065661,"answer_count":3,"score":5,"last_activity_date":1652473805,"creation_date":1444570775,"question_id":33065644,"body_markdown":"I am trying to write code that simulates a game of Scrabble.  I designed a class which should simulate a Scrabble bag, and I am trying to test it by printing the `tileID` in `main()` after choosing a random tile.  Whenever I run the code though, I keep getting the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: bound must be positive\r\n\tat java.util.Random.nextInt(Random.java:388)\r\n\tat hw3.RandomBag.randomPick(RandomBag.java:39)\r\n\tat hw3.RandomBag.main(RandomBag.java:59`\r\n```\r\nCan somebody tell me why I am receiving that error?\r\n\r\n\r\n\r\n    import java.util.*;\r\n    \r\n    public class RandomBag&lt;E&gt; implements Iterable&lt;E&gt; {\r\n    \t\r\n    \t// instance varibles\r\n    \tprivate List&lt;E&gt; bag; // arraylist as the container\r\n    \tprivate Random rand; // random number generator\r\n    \t\r\n    \t// constructors\r\n    \tpublic RandomBag() { \r\n    \t\tbag = new ArrayList&lt;E&gt;();\r\n    \t\trand = new Random();\t\r\n    \t}\r\n    \t\r\n    \tpublic RandomBag(int seed) { \r\n    \t\tbag = new ArrayList&lt;E&gt;();\r\n    \t\trand = new Random(seed);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t// returns the size of the bag\r\n    \tpublic int size() { return this.bag.size(); }  \r\n    \t\r\n    \tpublic boolean isEmpty() { // returns true/false if the bag is/is not empty\r\n    \t\tif (this.bag.isEmpty())\r\n    \t\t\treturn true;\r\n    \t\telse\r\n    \t\t\treturn false;\r\n    \t}  \r\n    \t\r\n    \t// adds the parameter element in the bag\r\n    \tpublic void add (E element) {this.bag.add(element);} \r\n    \t\r\n    \t// randomly selects an element using the random number generator &#39;rand&#39; and removes that element from the bag, and returns the element\r\n    \tpublic E randomPick() {\r\n    \t\t\r\n    \t\tint index = rand.nextInt(this.bag.size());\r\n    \t\tE tileID = bag.remove(index);\r\n    \t\treturn tileID;\r\n    \t} \r\n    \t\r\n    \t// obtains an iterator for the bag, and returns it\r\n    \tpublic Iterator&lt;E&gt; iterator() {\r\n    \t\t// traverse bag using an iterator\r\n    \t\tIterator it = bag.iterator();\r\n    \t\treturn it;\r\n    \t}\r\n    \t\r\n    \t  //**\r\n    \t  //** main() for testing RandomBag&lt;E&gt;\r\n    \t  //**\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tRandomBag bag = new RandomBag();   \r\n    \t\t\r\n    \t\tObject tileID = bag.randomPick(); \r\n    \t\tSystem.out.println(tileID);\r\n    \r\n    \t}\r\n    }","title":"Why am I receiving &quot;bound must be positive&quot; error?","body":"<p>I am trying to write code that simulates a game of Scrabble.  I designed a class which should simulate a Scrabble bag, and I am trying to test it by printing the <code>tileID</code> in <code>main()</code> after choosing a random tile.  Whenever I run the code though, I keep getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: bound must be positive\n    at java.util.Random.nextInt(Random.java:388)\n    at hw3.RandomBag.randomPick(RandomBag.java:39)\n    at hw3.RandomBag.main(RandomBag.java:59`\n</code></pre>\n<p>Can somebody tell me why I am receiving that error?</p>\n<pre><code>import java.util.*;\n\npublic class RandomBag&lt;E&gt; implements Iterable&lt;E&gt; {\n    \n    // instance varibles\n    private List&lt;E&gt; bag; // arraylist as the container\n    private Random rand; // random number generator\n    \n    // constructors\n    public RandomBag() { \n        bag = new ArrayList&lt;E&gt;();\n        rand = new Random();    \n    }\n    \n    public RandomBag(int seed) { \n        bag = new ArrayList&lt;E&gt;();\n        rand = new Random(seed);\n        \n    }\n    \n    // returns the size of the bag\n    public int size() { return this.bag.size(); }  \n    \n    public boolean isEmpty() { // returns true/false if the bag is/is not empty\n        if (this.bag.isEmpty())\n            return true;\n        else\n            return false;\n    }  \n    \n    // adds the parameter element in the bag\n    public void add (E element) {this.bag.add(element);} \n    \n    // randomly selects an element using the random number generator 'rand' and removes that element from the bag, and returns the element\n    public E randomPick() {\n        \n        int index = rand.nextInt(this.bag.size());\n        E tileID = bag.remove(index);\n        return tileID;\n    } \n    \n    // obtains an iterator for the bag, and returns it\n    public Iterator&lt;E&gt; iterator() {\n        // traverse bag using an iterator\n        Iterator it = bag.iterator();\n        return it;\n    }\n    \n      //**\n      //** main() for testing RandomBag&lt;E&gt;\n      //**\n    public static void main(String[] args) {\n        \n        RandomBag bag = new RandomBag();   \n        \n        Object tileID = bag.randomPick(); \n        System.out.println(tileID);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency","logback"],"answers":[{"tags":[],"owner":{"account_id":191029,"reputation":163,"user_id":431345,"display_name":"Fl&#225;vio Etrusco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652473740,"creation_date":1652473740,"answer_id":72235122,"question_id":69164804,"body_markdown":"I would expect most of the contention to be in the tail/queuing lock, so the throughput/contention benefit of LinkedBlockingQueue would not be important.\r\n\r\nThe required capacity is usually pretty small (256 by default) so the preallocation is not a problem, thus ArrayBlockingQueue seems the natural fit since it doesn&#39;t have the overhead of allocating (or recycling from GC) Nodes for every enqueue operation nor the memory usage overhead.\r\n\r\n(BTW ArrayBlockingQueue implements a circular buffer so there&#39;s no array copying/shifting).","title":"Why Logback#AsyncAppender use ArrayBlockingQueue instead of LinkedBlockingQueue","body":"<p>I would expect most of the contention to be in the tail/queuing lock, so the throughput/contention benefit of LinkedBlockingQueue would not be important.</p>\n<p>The required capacity is usually pretty small (256 by default) so the preallocation is not a problem, thus ArrayBlockingQueue seems the natural fit since it doesn't have the overhead of allocating (or recycling from GC) Nodes for every enqueue operation nor the memory usage overhead.</p>\n<p>(BTW ArrayBlockingQueue implements a circular buffer so there's no array copying/shifting).</p>\n"}],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652473740,"creation_date":1631544726,"question_id":69164804,"body_markdown":"The logback&#39;s asynchronous appender uses `BlockingQueue`. The usage scenario is `multi-producer single-consumer` and requires a bound queue. So both `ArrayBlockingQueue` and `LinkedBlockingQueue` should satisfy this scenario. \r\n\r\nHere are the differences between the two queues. (From discussion of the differences between these two queues. [link1][1] , [link2][2])\r\n\r\n`LinkedBlockingQueue`:\r\n\r\n 1. Should have better throughput since it uses separate locks for the head and the tail.\r\n\r\n`ArrayBlockingQueue` :\r\n\r\n 1. Should have better latency since it is faster to set reference in\r\n    array. \r\n 2. Pre-allocates its backing array.\r\n\r\nI wonder what is the determining factor in using `ArrayBlockingQueue`.\r\n\r\nHere are some snippets of the LogBack source code (From ```AsyncAppenderBase```):\r\n\r\n**produce :**\r\n```\r\n// The default length of the queue is 256, which is configurable\r\nprivate void put(E eventObject) {\r\n        // If false (the default) the appender will block on appending to a full queue rather than losing the message. Set to true and the appender will just drop the message and will not block your application.\r\n        if (neverBlock) {\r\n            blockingQueue.offer(eventObject);\r\n        } else {\r\n            putUninterruptibly(eventObject);\r\n        }\r\n    }\r\n```\r\n**consume**\r\n```\r\nwhile (parent.isStarted()) {\r\n      try {\r\n           E e = parent.blockingQueue.take();\r\n               aai.appendLoopOnAppenders(e);\r\n           } catch (InterruptedException ie) {\r\n               break;\r\n           }\r\n      }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35967792/when-to-prefer-linkedblockingqueue-over-arrayblockingqueue\r\n  [2]: https://stackoverflow.com/questions/18375334/what-is-the-difference-between-arrayblockingqueue-and-linkedblockingqueue?rq=1","title":"Why Logback#AsyncAppender use ArrayBlockingQueue instead of LinkedBlockingQueue","body":"<p>The logback's asynchronous appender uses <code>BlockingQueue</code>. The usage scenario is <code>multi-producer single-consumer</code> and requires a bound queue. So both <code>ArrayBlockingQueue</code> and <code>LinkedBlockingQueue</code> should satisfy this scenario.</p>\n<p>Here are the differences between the two queues. (From discussion of the differences between these two queues. <a href=\"https://stackoverflow.com/questions/35967792/when-to-prefer-linkedblockingqueue-over-arrayblockingqueue\">link1</a> , <a href=\"https://stackoverflow.com/questions/18375334/what-is-the-difference-between-arrayblockingqueue-and-linkedblockingqueue?rq=1\">link2</a>)</p>\n<p><code>LinkedBlockingQueue</code>:</p>\n<ol>\n<li>Should have better throughput since it uses separate locks for the head and the tail.</li>\n</ol>\n<p><code>ArrayBlockingQueue</code> :</p>\n<ol>\n<li>Should have better latency since it is faster to set reference in\narray.</li>\n<li>Pre-allocates its backing array.</li>\n</ol>\n<p>I wonder what is the determining factor in using <code>ArrayBlockingQueue</code>.</p>\n<p>Here are some snippets of the LogBack source code (From <code>AsyncAppenderBase</code>):</p>\n<p><strong>produce :</strong></p>\n<pre><code>// The default length of the queue is 256, which is configurable\nprivate void put(E eventObject) {\n        // If false (the default) the appender will block on appending to a full queue rather than losing the message. Set to true and the appender will just drop the message and will not block your application.\n        if (neverBlock) {\n            blockingQueue.offer(eventObject);\n        } else {\n            putUninterruptibly(eventObject);\n        }\n    }\n</code></pre>\n<p><strong>consume</strong></p>\n<pre><code>while (parent.isStarted()) {\n      try {\n           E e = parent.blockingQueue.take();\n               aai.appendLoopOnAppenders(e);\n           } catch (InterruptedException ie) {\n               break;\n           }\n      }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user2626585"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452182560,"creation_date":1452182560,"answer_id":34659707,"question_id":34659630,"body_markdown":"The problem is that `enemies.length` is zero.","title":"Exception in thread, bound must be positive at java.util.random.nextInt and at main","body":"<p>The problem is that <code>enemies.length</code> is zero.</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652473738,"creation_date":1452184391,"answer_id":34660378,"question_id":34659630,"body_markdown":"The problem is enemies is empty and you need to define it. That is, `enemies.length = 0`, and hence \r\n    \r\n    // will never work unless enemies is initialized and enemies.length &gt; 0.\r\n    String enemy = enemies[rand.nextInt(enemies.length)];\r\n\r\nSo consider and make sure enemies are initialized like this :\r\n\r\n    String[] enemies = {&quot;A&quot;,&quot;B&quot;}; // however way you want it to be\r\n     \r\n\r\n","title":"Exception in thread, bound must be positive at java.util.random.nextInt and at main","body":"<p>The problem is enemies is empty and you need to define it. That is, <code>enemies.length = 0</code>, and hence</p>\n<pre><code>// will never work unless enemies is initialized and enemies.length &gt; 0.\nString enemy = enemies[rand.nextInt(enemies.length)];\n</code></pre>\n<p>So consider and make sure enemies are initialized like this :</p>\n<pre><code>String[] enemies = {&quot;A&quot;,&quot;B&quot;}; // however way you want it to be\n \n</code></pre>\n"}],"owner":{"account_id":7590543,"reputation":11,"user_id":5758346,"display_name":"twinbranch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1652473738,"creation_date":1452182362,"question_id":34659630,"body_markdown":"As a new beginner in Java, I am having trouble with a text adventure game, and as I work on it, I realized I was unable to run it.  I have searched Google, looked here, and found no answer to how to fix this problem. \r\n\r\nHere&#39;s my error:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: bound must be positive\r\n    at java.util.Random.nextInt(Random.java:388)\r\n    at iproject.IProject.main(IProject.java:47)\r\n\r\nand here is my code:\r\n\r\n    package iproject;\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n\r\n    /**\r\n     *\r\n     * @author twinbranch*/\r\n    public class IProject {\r\n\r\n    /**\r\n     *\r\n     * @param args\r\n     */\r\n    public static void main (String[] args) {\r\n\r\n    Scanner in = new Scanner(System.in);\r\n    Random rand = new Random();\r\n\t\r\n\r\n    String[] enemies = {  };\r\n    int maxEnemyHealth = 75;\r\n    int enemyAttackDamage = 25;\r\n\t\r\n\r\n    int health = 100; \r\n    int attackDamage = 50;\r\n    int numHealthPots = 3;\r\n    int healthPotionHealAmount = 30;\r\n    int healthPotionDropChance = 33; //Percentage\r\n\t\r\n    boolean running = true; {\r\n\r\n    GAME:\r\n    while (running) {\r\n\tSystem.out.println();\r\n\t\r\n\tint enemyHealth = rand.nextInt(maxEnemyHealth);\r\n\tString enemy = enemies[rand.nextInt(enemies.length)];\r\n\tSystem.out.println(&quot;\\t# &quot; + enemy + &quot;has appeared! #\\n&quot;);\r\n\t\t\r\n\t\t\r\nThe second error: \r\n\r\n    public int nextInt(int bound) {\r\n    if (bound &lt;= 0)\r\n    throw new IllegalArgumentException(BadBound);\r\n   \r\nI do not want to post the whole code for this, because it would take up approximately 400 lines.\r\n\r\nSo, my question is, does anyone know what is wrong with my code?  What errors am I making with this code?\r\n\r\n","title":"Exception in thread, bound must be positive at java.util.random.nextInt and at main","body":"<p>As a new beginner in Java, I am having trouble with a text adventure game, and as I work on it, I realized I was unable to run it.  I have searched Google, looked here, and found no answer to how to fix this problem.</p>\n<p>Here's my error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: bound must be positive\nat java.util.Random.nextInt(Random.java:388)\nat iproject.IProject.main(IProject.java:47)\n</code></pre>\n<p>and here is my code:</p>\n<pre><code>package iproject;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\n/**\n *\n * @author twinbranch*/\npublic class IProject {\n\n/**\n *\n * @param args\n */\npublic static void main (String[] args) {\n\nScanner in = new Scanner(System.in);\nRandom rand = new Random();\n\n\nString[] enemies = {  };\nint maxEnemyHealth = 75;\nint enemyAttackDamage = 25;\n\n\nint health = 100; \nint attackDamage = 50;\nint numHealthPots = 3;\nint healthPotionHealAmount = 30;\nint healthPotionDropChance = 33; //Percentage\n\nboolean running = true; {\n\nGAME:\nwhile (running) {\nSystem.out.println();\n\nint enemyHealth = rand.nextInt(maxEnemyHealth);\nString enemy = enemies[rand.nextInt(enemies.length)];\nSystem.out.println(&quot;\\t# &quot; + enemy + &quot;has appeared! #\\n&quot;);\n    \n    \n</code></pre>\n<p>The second error:</p>\n<pre><code>public int nextInt(int bound) {\nif (bound &lt;= 0)\nthrow new IllegalArgumentException(BadBound);\n</code></pre>\n<p>I do not want to post the whole code for this, because it would take up approximately 400 lines.</p>\n<p>So, my question is, does anyone know what is wrong with my code?  What errors am I making with this code?</p>\n"},{"tags":["java","bukkit"],"comments":[{"owner":{"account_id":4030233,"reputation":4573,"user_id":3316645,"accept_rate":92,"display_name":"domsson"},"score":0,"creation_date":1498739864,"post_id":44825252,"comment_id":76630757,"body_markdown":"The error really says it all. Check the [Java docs](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-): *&quot;bound - the upper bound (exclusive). Must be positive.&quot;* - you&#39;re passing in values that lead to a negative bound value. You should prevent that by adding a safeguard in your method. For example, check what value is greater and use that as max, the other as min.","body":"The error really says it all. Check the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-\" rel=\"nofollow noreferrer\">Java docs</a>: <i>&quot;bound - the upper bound (exclusive). Must be positive.&quot;</i> - you&#39;re passing in values that lead to a negative bound value. You should prevent that by adding a safeguard in your method. For example, check what value is greater and use that as max, the other as min."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1498740420,"post_id":44825252,"comment_id":76631189,"body_markdown":"Perhaps you meant `randInt(2,4)`, not `randInt(4,2)`, to get number between `min` 2 and `max` 4 (inclusive)?","body":"Perhaps you meant <code>randInt(2,4)</code>, not <code>randInt(4,2)</code>, to get number between <code>min</code> 2 and <code>max</code> 4 (inclusive)?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1498740455,"post_id":44825252,"comment_id":76631212,"body_markdown":"Why do you even have the bounds swapped? `randInt(4,2)` will leave you with `rand.nextInt(-1)`, which throws the exception. The arguments should be `randInt(2,4)`. Smaller number before bigger number is almost universally used for anything that represents a range or bounds of sorts.","body":"Why do you even have the bounds swapped? <code>randInt(4,2)</code> will leave you with <code>rand.nextInt(-1)</code>, which throws the exception. The arguments should be <code>randInt(2,4)</code>. Smaller number before bigger number is almost universally used for anything that represents a range or bounds of sorts."}],"answers":[{"tags":[],"owner":{"account_id":6958337,"reputation":954,"user_id":5338668,"accept_rate":56,"display_name":"Jamal H"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652473652,"creation_date":1498739745,"answer_id":44825319,"question_id":44825252,"body_markdown":"   \r\nIn the `onBreak()` method, inside the `if` statement, change this:\r\n  \r\n\r\n    new ItemStack(Material.GLOWSTONE_DUST,randInt(4,2)));\r\n\r\n\r\n\r\nto this:\r\n\r\n    new ItemStack(Material.GLOWSTONE_DUST,randInt(2,4)));\r\n\r\nRight now you&#39;re trying to get a random integer with a maximum of 2 and a minimum of 4. That isn&#39;t possible. Change it to a maximum of 4 and a minimum of 2.\r\n\r\nThe parameter order for the `randInt()` function is `(min, max)`. Currently you&#39;re treating it like it&#39;s `(max, min)`.","title":"bound must be positive","body":"<p>In the <code>onBreak()</code> method, inside the <code>if</code> statement, change this:</p>\n<pre><code>new ItemStack(Material.GLOWSTONE_DUST,randInt(4,2)));\n</code></pre>\n<p>to this:</p>\n<pre><code>new ItemStack(Material.GLOWSTONE_DUST,randInt(2,4)));\n</code></pre>\n<p>Right now you're trying to get a random integer with a maximum of 2 and a minimum of 4. That isn't possible. Change it to a maximum of 4 and a minimum of 2.</p>\n<p>The parameter order for the <code>randInt()</code> function is <code>(min, max)</code>. Currently you're treating it like it's <code>(max, min)</code>.</p>\n"},{"tags":[],"owner":{"account_id":4030233,"reputation":4573,"user_id":3316645,"accept_rate":92,"display_name":"domsson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1498741289,"creation_date":1498740034,"answer_id":44825422,"question_id":44825252,"body_markdown":"To understand the error (and how to fix it), check the [Java docs on Random&#39;s `nextInt()`][1]:\r\n\r\n&gt; **Parameters:**  \r\n&gt; &lt;pre&gt;bound - the upper bound (exclusive). Must be positive.&lt;/pre&gt;\r\n&gt; **Throws:** \r\n&gt; &lt;pre&gt;IllegalArgumentException - if bound is not positive&lt;/pre&gt;\r\n\r\nHowever, `randInt(4,2)`, as you called your method, is exactly the wrong way round. It uses `4` as `min`, `2` as `max` and you hence end up with a negative bound (`-1`), leading to the exception.\r\n\r\nI therefore suggest the following change to your method:\r\n\r\n    public static int randInt(int a, int b) {\r\n        int min = Math.min(a, b);\r\n        int max = Math.max(a, b);\r\n        return rand.nextInt((max - min) + 1) + min;\r\n    }\r\n\r\n**Explanation:**\r\n\r\nRight now, you trust the user of your function to respect the order of arguments (`min, max` - not `max, min`). While you can do that, you just experienced how quickly that can get you into trouble, even if the user is you.\r\n\r\nTherefore, adding a safeguard like above will lead to more robust code. Here, we just check which one of the two values is the [smaller][2] and which is the [bigger][3] one, then use them accordingly.\r\n\r\nOf course, you could also leave your method as is and simply change the call to `randInt(2,4)`.\r\n\r\n\r\n**Note:**\r\n\r\nIt would still be possible for the user to get your method to break (throw an exception as above), but I will leave it as an exercise to you to figure out how - and how you can safeguard against it. :-)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-int-int-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#max-int-int-","title":"bound must be positive","body":"<p>To understand the error (and how to fix it), check the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-\" rel=\"nofollow noreferrer\">Java docs on Random's <code>nextInt()</code></a>:</p>\n\n<blockquote>\n  <p><strong>Parameters:</strong>  </p>\n\n<pre>bound - the upper bound (exclusive). Must be positive.</pre>\n  \n  <p><strong>Throws:</strong> </p>\n\n<pre>IllegalArgumentException - if bound is not positive</pre>\n</blockquote>\n\n<p>However, <code>randInt(4,2)</code>, as you called your method, is exactly the wrong way round. It uses <code>4</code> as <code>min</code>, <code>2</code> as <code>max</code> and you hence end up with a negative bound (<code>-1</code>), leading to the exception.</p>\n\n<p>I therefore suggest the following change to your method:</p>\n\n<pre><code>public static int randInt(int a, int b) {\n    int min = Math.min(a, b);\n    int max = Math.max(a, b);\n    return rand.nextInt((max - min) + 1) + min;\n}\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Right now, you trust the user of your function to respect the order of arguments (<code>min, max</code> - not <code>max, min</code>). While you can do that, you just experienced how quickly that can get you into trouble, even if the user is you.</p>\n\n<p>Therefore, adding a safeguard like above will lead to more robust code. Here, we just check which one of the two values is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-int-int-\" rel=\"nofollow noreferrer\">smaller</a> and which is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#max-int-int-\" rel=\"nofollow noreferrer\">bigger</a> one, then use them accordingly.</p>\n\n<p>Of course, you could also leave your method as is and simply change the call to <code>randInt(2,4)</code>.</p>\n\n<p><strong>Note:</strong></p>\n\n<p>It would still be possible for the user to get your method to break (throw an exception as above), but I will leave it as an exercise to you to figure out how - and how you can safeguard against it. :-)</p>\n"}],"owner":{"account_id":9896354,"reputation":41,"user_id":7327743,"accept_rate":25,"display_name":"jake yancey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4132,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":44825422,"answer_count":2,"score":-5,"last_activity_date":1652473652,"creation_date":1498739525,"question_id":44825252,"body_markdown":"Here is the error I keep on getting, which I understand, but can&#39;t fix, because I don&#39;t know what the problem is.\r\n\r\n    [14:25:50 ERROR]: Could not pass event BlockBreakEvent to SurgeGlowstone v1.0\r\n    org.bukkit.event.EventException\r\n            at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:297) ~[custom.jar:git-PaperSpigot-a925999]\r\n            at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[custom.jar:git-PaperSpigot-a925999]\r\n            at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:513) [custom.jar:git-PaperSpigot-a925999]\r\n            at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:498) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.PlayerInteractManager.breakBlock(PlayerInteractManager.java:264) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.PlayerInteractManager.dig(PlayerInteractManager.java:118) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.PlayerConnection.a(PlayerConnection.java:569) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.PacketPlayInBlockDig.a(PacketPlayInBlockDig.java:41) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.PacketPlayInBlockDig.handle(PacketPlayInBlockDig.java:65) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.NetworkManager.a(NetworkManager.java:189) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.ServerConnection.c(ServerConnection.java:103) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.MinecraftServer.v(MinecraftServer.java:801) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.DedicatedServer.v(DedicatedServer.java:286) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.MinecraftServer.u(MinecraftServer.java:651) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.MinecraftServer.run(MinecraftServer.java:557) [custom.jar:git-PaperSpigot-a925999]\r\n            at net.minecraft.server.v1_7_R4.ThreadServerApplication.run(SourceFile:628) [custom.jar:git-PaperSpigot-a925999]\r\n    Caused by: java.lang.IllegalArgumentException: bound must be positive\r\n            at java.util.Random.nextInt(Random.java:388) ~[?:1.8.0_131]\r\n            at com.surgehcf.listeners.PlayerListener.onBreak(PlayerListener.java:49) ~[?:?]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\r\n\r\n\r\nAnd here is my code:\r\n\r\n    public static int randInt(int min, int max) {\r\n\r\n        // NOTE: This will (intentionally) not run as written so that folks\r\n        // copy-pasting have to think about how to initialize their\r\n        // Random instance.  Initialization of the Random instance is outside\r\n        // the main scope of the question, but some decent options are to have\r\n        // a field that is initialized once and then re-used as needed or to\r\n        // use ThreadLocalRandom (if using at least Java 1.7).\r\n        Random rand = new Random();\r\n\r\n        // nextInt is normally exclusive of the top value,\r\n        // so add 1 to make it inclusive\r\n        int randomNum = rand.nextInt((max - min) + 1) + min;\r\n\r\n        return randomNum;\r\n    }\r\n    @EventHandler\r\n    public void onBreak(BlockBreakEvent e) {\r\n        Player p = e.getPlayer();\r\n        Block b = e.getBlock();\r\n        JsonBox bx = GlowstoneMountain.getInstance().getRegionAqui(b.getLocation());\r\n        if (bx != null &amp;&amp; b.getType() == Material.GLOWSTONE &amp;&amp; b.getWorld().getName().equalsIgnoreCase(&quot;world_nether&quot;)) {\r\n            b.getWorld().dropItemNaturally(b.getLocation(), new ItemStack(Material.GLOWSTONE_DUST,randInt(4,2)));\r\n        }\r\n    }\r\nI always do a random integer between 4 and 2. But, still it&#39;s saying the negation of what I want: an integer between 2 and 4, to get a random output.","title":"bound must be positive","body":"<p>Here is the error I keep on getting, which I understand, but can't fix, because I don't know what the problem is.</p>\n<pre><code>[14:25:50 ERROR]: Could not pass event BlockBreakEvent to SurgeGlowstone v1.0\norg.bukkit.event.EventException\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:297) ~[custom.jar:git-PaperSpigot-a925999]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[custom.jar:git-PaperSpigot-a925999]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:513) [custom.jar:git-PaperSpigot-a925999]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:498) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.PlayerInteractManager.breakBlock(PlayerInteractManager.java:264) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.PlayerInteractManager.dig(PlayerInteractManager.java:118) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.PlayerConnection.a(PlayerConnection.java:569) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.PacketPlayInBlockDig.a(PacketPlayInBlockDig.java:41) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.PacketPlayInBlockDig.handle(PacketPlayInBlockDig.java:65) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.NetworkManager.a(NetworkManager.java:189) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.ServerConnection.c(ServerConnection.java:103) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.MinecraftServer.v(MinecraftServer.java:801) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.DedicatedServer.v(DedicatedServer.java:286) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.MinecraftServer.u(MinecraftServer.java:651) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.MinecraftServer.run(MinecraftServer.java:557) [custom.jar:git-PaperSpigot-a925999]\n        at net.minecraft.server.v1_7_R4.ThreadServerApplication.run(SourceFile:628) [custom.jar:git-PaperSpigot-a925999]\nCaused by: java.lang.IllegalArgumentException: bound must be positive\n        at java.util.Random.nextInt(Random.java:388) ~[?:1.8.0_131]\n        at com.surgehcf.listeners.PlayerListener.onBreak(PlayerListener.java:49) ~[?:?]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\n</code></pre>\n<p>And here is my code:</p>\n<pre><code>public static int randInt(int min, int max) {\n\n    // NOTE: This will (intentionally) not run as written so that folks\n    // copy-pasting have to think about how to initialize their\n    // Random instance.  Initialization of the Random instance is outside\n    // the main scope of the question, but some decent options are to have\n    // a field that is initialized once and then re-used as needed or to\n    // use ThreadLocalRandom (if using at least Java 1.7).\n    Random rand = new Random();\n\n    // nextInt is normally exclusive of the top value,\n    // so add 1 to make it inclusive\n    int randomNum = rand.nextInt((max - min) + 1) + min;\n\n    return randomNum;\n}\n@EventHandler\npublic void onBreak(BlockBreakEvent e) {\n    Player p = e.getPlayer();\n    Block b = e.getBlock();\n    JsonBox bx = GlowstoneMountain.getInstance().getRegionAqui(b.getLocation());\n    if (bx != null &amp;&amp; b.getType() == Material.GLOWSTONE &amp;&amp; b.getWorld().getName().equalsIgnoreCase(&quot;world_nether&quot;)) {\n        b.getWorld().dropItemNaturally(b.getLocation(), new ItemStack(Material.GLOWSTONE_DUST,randInt(4,2)));\n    }\n}\n</code></pre>\n<p>I always do a random integer between 4 and 2. But, still it's saying the negation of what I want: an integer between 2 and 4, to get a random output.</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1652122813,"post_id":72176916,"comment_id":127525251,"body_markdown":"How is the _&quot;code ... executed repeatedly&quot;_?  Any other process accessing the same sequence?","body":"How is the <i>&quot;code ... executed repeatedly&quot;</i>?  Any other process accessing the same sequence?"},{"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"score":0,"creation_date":1652130021,"post_id":72176916,"comment_id":127527349,"body_markdown":"Just a guess - have you tried to call resultSet.setFetchSize(1) before you call resultSet.next() for the first time?","body":"Just a guess - have you tried to call resultSet.setFetchSize(1) before you call resultSet.next() for the first time?"},{"owner":{"account_id":14658894,"reputation":261,"user_id":10586727,"display_name":"Henrique Prange"},"score":0,"creation_date":1652221131,"post_id":72176916,"comment_id":127553266,"body_markdown":"@JimGarrison the code is called multiple times in the context of my application. Anyway, the same problem occurs if I put a for loop around the code. No other process is accessing the SQL Server, and the number of performed queries in the query history matches the number of operations executed by my application.","body":"@JimGarrison the code is called multiple times in the context of my application. Anyway, the same problem occurs if I put a for loop around the code. No other process is accessing the SQL Server, and the number of performed queries in the query history matches the number of operations executed by my application."},{"owner":{"account_id":14658894,"reputation":261,"user_id":10586727,"display_name":"Henrique Prange"},"score":0,"creation_date":1652221186,"post_id":72176916,"comment_id":127553276,"body_markdown":"@rmunge I did it after reading your comment. It makes no difference. Same behavior.","body":"@rmunge I did it after reading your comment. It makes no difference. Same behavior."},{"owner":{"account_id":14658894,"reputation":261,"user_id":10586727,"display_name":"Henrique Prange"},"score":0,"creation_date":1652276196,"post_id":72176916,"comment_id":127567280,"body_markdown":"After some research and much trial-and-error, I found this SO [answer](https://stackoverflow.com/a/62649517/10586727) and learned about the `sys.sp_sequence_get_range` stored procedure. I worked out a solution using a `CallableStatement` that doesn&#39;t skip numbers after repeated executions. Still, why isn&#39;t the `NEXT VALUE FOR` function working as expected?","body":"After some research and much trial-and-error, I found this SO <a href=\"https://stackoverflow.com/a/62649517/10586727\">answer</a> and learned about the <code>sys.sp_sequence_get_range</code> stored procedure. I worked out a solution using a <code>CallableStatement</code> that doesn&#39;t skip numbers after repeated executions. Still, why isn&#39;t the <code>NEXT VALUE FOR</code> function working as expected?"},{"owner":{"account_id":12185191,"reputation":6465,"user_id":8895292,"display_name":"SOS"},"score":1,"creation_date":1652329722,"post_id":72176916,"comment_id":127581308,"body_markdown":"In case it&#39;s relevant, these two threads mention similar issues due to resultset and cursor type. You might try different settings to see if there&#39;s a change in the behavior.  https://stackoverflow.com/questions/18062938/microsoft-sql-server-2012-sequence-not-working-keeps-incrementing-sequence-by  ... and ... https://github.com/microsoft/mssql-jdbc/issues/1174","body":"In case it&#39;s relevant, these two threads mention similar issues due to resultset and cursor type. You might try different settings to see if there&#39;s a change in the behavior.  <a href=\"https://stackoverflow.com/questions/18062938/microsoft-sql-server-2012-sequence-not-working-keeps-incrementing-sequence-by\" title=\"microsoft sql server 2012 sequence not working keeps incrementing sequence by\">stackoverflow.com/questions/18062938/&hellip;</a>  ... and ... <a href=\"https://github.com/microsoft/mssql-jdbc/issues/1174\" rel=\"nofollow noreferrer\">github.com/microsoft/mssql-jdbc/issues/1174</a>"},{"owner":{"account_id":14658894,"reputation":261,"user_id":10586727,"display_name":"Henrique Prange"},"score":1,"creation_date":1652366699,"post_id":72176916,"comment_id":127593537,"body_markdown":"@SOS I&#39;ll take a look at them. Thanks for sharing!","body":"@SOS I&#39;ll take a look at them. Thanks for sharing!"},{"owner":{"account_id":14658894,"reputation":261,"user_id":10586727,"display_name":"Henrique Prange"},"score":1,"creation_date":1652471518,"post_id":72176916,"comment_id":127623057,"body_markdown":"@SOS nailed it! The problem is related to the `selectMethod=cursor`. The framework I used to connect to the database was silently adding this option to the connection URL, causing this behavior. I&#39;ll write a response for future reference.","body":"@SOS nailed it! The problem is related to the <code>selectMethod=cursor</code>. The framework I used to connect to the database was silently adding this option to the connection URL, causing this behavior. I&#39;ll write a response for future reference."},{"owner":{"account_id":12185191,"reputation":6465,"user_id":8895292,"display_name":"SOS"},"score":0,"creation_date":1652471850,"post_id":72176916,"comment_id":127623149,"body_markdown":"Great, and thanks for adding the solution to the archives!","body":"Great, and thanks for adding the solution to the archives!"}],"answers":[{"tags":[],"owner":{"account_id":14658894,"reputation":261,"user_id":10586727,"display_name":"Henrique Prange"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652473520,"creation_date":1652471642,"answer_id":72234800,"question_id":72176916,"body_markdown":"[According to Gary&#39;s answer](https://stackoverflow.com/a/18076979/10586727) to a similar question, this is a known behavior when using the `selectMethod=cursor` option. Just remove this option from the connection URL, and sequence numbers won&#39;t skip anymore.\r\n\r\nWhat if you must use `selectMethod=cursor` for some reason? Then try the `sys.sp_sequence_get_range` stored procedure instead as demonstrated below.\r\n\r\n```java\r\nConnection conn = ...;\r\nString sequenceName = &quot;my_seq&quot;;\r\n\r\ntry (CallableStatement statement = conn.prepareCall(&quot;{call sys.sp_sequence_get_range(?, ?, ?)}&quot;)) {\r\n    statement.setString(&quot;sequence_name&quot;, sequenceName);\r\n    statement.setLong(&quot;range_size&quot;, 1);\r\n    statement.registerOutParameter(&quot;range_first_value&quot;, microsoft.sql.Types.SQL_VARIANT);\r\n    statement.execute();\r\n\r\n    long seq = statement.getLong(&quot;range_first_value&quot;);\r\n    \r\n    System.out.println(seq);\r\n}\r\n```\r\n\r\nIt doesn&#39;t skip sequence numbers even if the `selectMethod=cursor` option is enabled.","title":"Why is SQL Server sequence jumping by two when fetched from Java code?","body":"<p><a href=\"https://stackoverflow.com/a/18076979/10586727\">According to Gary's answer</a> to a similar question, this is a known behavior when using the <code>selectMethod=cursor</code> option. Just remove this option from the connection URL, and sequence numbers won't skip anymore.</p>\n<p>What if you must use <code>selectMethod=cursor</code> for some reason? Then try the <code>sys.sp_sequence_get_range</code> stored procedure instead as demonstrated below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection conn = ...;\nString sequenceName = &quot;my_seq&quot;;\n\ntry (CallableStatement statement = conn.prepareCall(&quot;{call sys.sp_sequence_get_range(?, ?, ?)}&quot;)) {\n    statement.setString(&quot;sequence_name&quot;, sequenceName);\n    statement.setLong(&quot;range_size&quot;, 1);\n    statement.registerOutParameter(&quot;range_first_value&quot;, microsoft.sql.Types.SQL_VARIANT);\n    statement.execute();\n\n    long seq = statement.getLong(&quot;range_first_value&quot;);\n    \n    System.out.println(seq);\n}\n</code></pre>\n<p>It doesn't skip sequence numbers even if the <code>selectMethod=cursor</code> option is enabled.</p>\n"}],"owner":{"account_id":14658894,"reputation":261,"user_id":10586727,"display_name":"Henrique Prange"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":72234800,"answer_count":1,"score":4,"last_activity_date":1652473520,"creation_date":1652122378,"question_id":72176916,"body_markdown":"Let&#39;s say there is a sequence created on SQL Server:\r\n\r\n```sql\r\nCREATE SEQUENCE dbo.my_seq\r\n    START WITH 1\r\n    INCREMENT BY 1\r\n    NO CYCLE;\r\nGO\r\n```\r\n\r\nAnd the following Java code to fetch the next sequence value:\r\n\r\n```java\r\nConnection conn = ...;\r\nString sql = &quot;SELECT NEXT VALUE FOR my_seq;&quot;;\r\n\r\ntry (Statement statement = conn.createStatement();\r\n        ResultSet resultSet = statement.executeQuery(sql)) {\r\n    while (resultSet.next()) {\r\n        long seq = resultSet.getLong(1);\r\n\r\n        System.out.println(seq);\r\n    }\r\n}\r\n```\r\n\r\nWhy are sequences jumping by two when this code is executed repeatedly?\r\n\r\n```\r\n2\r\n4\r\n6\r\n```\r\n\r\nI&#39;ve tried with the `CACHE` option on and off. It makes no difference.\r\n\r\nSequences are incremented by one if I execute the same query multiple times on Azure Data Studio.\r\n\r\nI&#39;m running Microsoft SQL Server 2019 (RTM-CU15) (KB5008996) - 15.0.4198.2 (X64). I tried the same code with `com.microsoft.sqlserver:mssql-jdbc:10.2.0.jre8` and `com.microsoft.sqlserver:mssql-jdbc:11.1.1.jre8-preview` drivers and got the same behavior.\r\n\r\nI analyzed the SQL Server query history, and the Java code made only one query to fetch the next sequence value per execution.","title":"Why is SQL Server sequence jumping by two when fetched from Java code?","body":"<p>Let's say there is a sequence created on SQL Server:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SEQUENCE dbo.my_seq\n    START WITH 1\n    INCREMENT BY 1\n    NO CYCLE;\nGO\n</code></pre>\n<p>And the following Java code to fetch the next sequence value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection conn = ...;\nString sql = &quot;SELECT NEXT VALUE FOR my_seq;&quot;;\n\ntry (Statement statement = conn.createStatement();\n        ResultSet resultSet = statement.executeQuery(sql)) {\n    while (resultSet.next()) {\n        long seq = resultSet.getLong(1);\n\n        System.out.println(seq);\n    }\n}\n</code></pre>\n<p>Why are sequences jumping by two when this code is executed repeatedly?</p>\n<pre><code>2\n4\n6\n</code></pre>\n<p>I've tried with the <code>CACHE</code> option on and off. It makes no difference.</p>\n<p>Sequences are incremented by one if I execute the same query multiple times on Azure Data Studio.</p>\n<p>I'm running Microsoft SQL Server 2019 (RTM-CU15) (KB5008996) - 15.0.4198.2 (X64). I tried the same code with <code>com.microsoft.sqlserver:mssql-jdbc:10.2.0.jre8</code> and <code>com.microsoft.sqlserver:mssql-jdbc:11.1.1.jre8-preview</code> drivers and got the same behavior.</p>\n<p>I analyzed the SQL Server query history, and the Java code made only one query to fetch the next sequence value per execution.</p>\n"},{"tags":["java","jdbc","snowflake-cloud-data-platform","referential-integrity"],"comments":[{"owner":{"account_id":17583009,"reputation":10289,"user_id":12756381,"display_name":"Greg Pavlik"},"score":0,"creation_date":1652487487,"post_id":72235089,"comment_id":127625870,"body_markdown":"The DatabaseMetaData class has a getImportedKey method that should give you access to read primary and foreign keys. https://docs.snowflake.com/en/user-guide/jdbc-api.html#object-databasemetadata. What are you getting when you call that class&#39;s method?","body":"The DatabaseMetaData class has a getImportedKey method that should give you access to read primary and foreign keys. <a href=\"https://docs.snowflake.com/en/user-guide/jdbc-api.html#object-databasemetadata\" rel=\"nofollow noreferrer\">docs.snowflake.com/en/user-guide/&hellip;</a>. What are you getting when you call that class&#39;s method?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652532960,"post_id":72235089,"comment_id":127631704,"body_markdown":"_&quot;The database has the RI created&quot;_ what does &quot;RI&quot; mean?","body":"<i>&quot;The database has the RI created&quot;</i> what does &quot;RI&quot; mean?"},{"owner":{"account_id":1419695,"reputation":1277,"user_id":1344583,"accept_rate":60,"display_name":"Loren Cahlander"},"score":0,"creation_date":1652574356,"post_id":72235089,"comment_id":127638937,"body_markdown":"Referential Integrity.  e.g. foreign keys.","body":"Referential Integrity.  e.g. foreign keys."},{"owner":{"account_id":1419695,"reputation":1277,"user_id":1344583,"accept_rate":60,"display_name":"Loren Cahlander"},"score":0,"creation_date":1652798345,"post_id":72235089,"comment_id":127690509,"body_markdown":"@GregPavlik You can see that my code calls getImportedKeys.  It is returning nothing when the foreign keys are disabled.","body":"@GregPavlik You can see that my code calls getImportedKeys.  It is returning nothing when the foreign keys are disabled."}],"owner":{"account_id":1419695,"reputation":1277,"user_id":1344583,"accept_rate":60,"display_name":"Loren Cahlander"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652473509,"creation_date":1652473509,"question_id":72235089,"body_markdown":"I have Java code that extracts metadata from a JDBC connection.  One of the calls is to extract the imported keys.  The database has the RI created, but is disabled.  **Is there a way to extract the disabled imported keys?**\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/net.snowflake/snowflake-jdbc --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\r\n    &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;3.13.18&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nkeys = metadata.getImportedKeys(tableCatalog, tableSchema, tableName);\r\n\r\nwhile (keys.next()) {\r\n    importedTag(docBuff, keys, columnMap);\r\n}\r\nkeys.close();\r\n```\r\n\r\n```java\r\n    /**\r\n     *\r\n     * @param docBuff\r\n     * @param foreignKeys\r\n     * @param columnMap\r\n     * @throws SQLException\r\n     */\r\n    private void importedTag(StringBuilder docBuff, ResultSet foreignKeys, Map&lt;String, Map&lt;String, String&gt;&gt; columnMap) throws SQLException {\r\n        /*\r\n            PKTABLE_CAT String =&gt; primary key table catalog being imported (may be null)\r\n            PKTABLE_SCHEM String =&gt; primary key table schema being imported (may be null)\r\n            PKTABLE_NAME String =&gt; primary key table name being imported\r\n            PKCOLUMN_NAME String =&gt; primary key column name being imported\r\n            FKTABLE_CAT String =&gt; foreign key table catalog (may be null)\r\n            FKTABLE_SCHEM String =&gt; foreign key table schema (may be null)\r\n            FKTABLE_NAME String =&gt; foreign key table name\r\n            FKCOLUMN_NAME String =&gt; foreign key column name\r\n            KEY_SEQ short =&gt; sequence number within a foreign key( a value of 1 represents the first column of the foreign key, a value of 2 would represent the second column within the foreign key).\r\n            UPDATE_RULE short =&gt; What happens to a foreign key when the primary key is updated:\r\n                importedNoAction - do not allow update of primary key if it has been imported\r\n                importedKeyCascade - change imported key to agree with primary key update\r\n                importedKeySetNull - change imported key to NULL if its primary key has been updated\r\n                importedKeySetDefault - change imported key to default values if its primary key has been updated\r\n                importedKeyRestrict - same as importedKeyNoAction (for ODBC 2.x compatibility)\r\n            DELETE_RULE short =&gt; What happens to the foreign key when primary is deleted.\r\n                importedKeyNoAction - do not allow delete of primary key if it has been imported\r\n                importedKeyCascade - delete rows that import a deleted key\r\n                importedKeySetNull - change imported key to NULL if its primary key has been deleted\r\n                importedKeyRestrict - same as importedKeyNoAction (for ODBC 2.x compatibility)\r\n                importedKeySetDefault - change imported key to default if its primary key has been deleted\r\n            FK_NAME String =&gt; foreign key name (may be null)\r\n            PK_NAME String =&gt; primary key name (may be null)\r\n            DEFERRABILITY short =&gt; can the evaluation of foreign key constraints be deferred until commit\r\n                importedKeyInitiallyDeferred - see SQL92 for definition\r\n                importedKeyInitiallyImmediate - see SQL92 for definition\r\n                importedKeyNotDeferrable - see SQL92 for definition\r\n\r\n\r\n         */\r\n        String primaryCatalog = null;\r\n        String primaryModel = null;\r\n        String primaryTable = null;\r\n        String primaryColumn = null;\r\n        String foreignCatalog = null;\r\n        String foreignModel = null;\r\n        String foreignTable = null;\r\n        String foreignColumn = null;\r\n        String columnType = null;\r\n        short keySequence = 0;\r\n\r\n        primaryCatalog = foreignKeys.getString(&quot;PKTABLE_CAT&quot;);\r\n        primaryModel = foreignKeys.getString(&quot;PKTABLE_SCHEM&quot;);\r\n        primaryTable = foreignKeys.getString(&quot;PKTABLE_NAME&quot;);\r\n        primaryColumn = foreignKeys.getString(&quot;PKCOLUMN_NAME&quot;);\r\n\r\n        foreignCatalog = foreignKeys.getString(&quot;FKTABLE_CAT&quot;);\r\n        foreignModel = foreignKeys.getString(&quot;FKTABLE_SCHEM&quot;);\r\n        foreignTable = foreignKeys.getString(&quot;FKTABLE_NAME&quot;);\r\n        foreignColumn = foreignKeys.getString(&quot;FKCOLUMN_NAME&quot;);\r\n\r\n        columnType = columnMap.get(foreignColumn).get(TYPE_NAME);\r\n\r\n\r\n        keySequence = foreignKeys.getShort(KEY_SEQ);\r\n\r\n        foreignTag(docBuff, primaryCatalog, primaryModel, primaryTable, primaryColumn, foreignCatalog, foreignModel, foreignTable, foreignColumn, keySequence, columnType);\r\n    }\r\n```\r\n\r\n","title":"Snowflake JDBC database metadata not returning getImportedKeys","body":"<p>I have Java code that extracts metadata from a JDBC connection.  One of the calls is to extract the imported keys.  The database has the RI created, but is disabled.  <strong>Is there a way to extract the disabled imported keys?</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/net.snowflake/snowflake-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\n    &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.13.18&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>keys = metadata.getImportedKeys(tableCatalog, tableSchema, tableName);\n\nwhile (keys.next()) {\n    importedTag(docBuff, keys, columnMap);\n}\nkeys.close();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     *\n     * @param docBuff\n     * @param foreignKeys\n     * @param columnMap\n     * @throws SQLException\n     */\n    private void importedTag(StringBuilder docBuff, ResultSet foreignKeys, Map&lt;String, Map&lt;String, String&gt;&gt; columnMap) throws SQLException {\n        /*\n            PKTABLE_CAT String =&gt; primary key table catalog being imported (may be null)\n            PKTABLE_SCHEM String =&gt; primary key table schema being imported (may be null)\n            PKTABLE_NAME String =&gt; primary key table name being imported\n            PKCOLUMN_NAME String =&gt; primary key column name being imported\n            FKTABLE_CAT String =&gt; foreign key table catalog (may be null)\n            FKTABLE_SCHEM String =&gt; foreign key table schema (may be null)\n            FKTABLE_NAME String =&gt; foreign key table name\n            FKCOLUMN_NAME String =&gt; foreign key column name\n            KEY_SEQ short =&gt; sequence number within a foreign key( a value of 1 represents the first column of the foreign key, a value of 2 would represent the second column within the foreign key).\n            UPDATE_RULE short =&gt; What happens to a foreign key when the primary key is updated:\n                importedNoAction - do not allow update of primary key if it has been imported\n                importedKeyCascade - change imported key to agree with primary key update\n                importedKeySetNull - change imported key to NULL if its primary key has been updated\n                importedKeySetDefault - change imported key to default values if its primary key has been updated\n                importedKeyRestrict - same as importedKeyNoAction (for ODBC 2.x compatibility)\n            DELETE_RULE short =&gt; What happens to the foreign key when primary is deleted.\n                importedKeyNoAction - do not allow delete of primary key if it has been imported\n                importedKeyCascade - delete rows that import a deleted key\n                importedKeySetNull - change imported key to NULL if its primary key has been deleted\n                importedKeyRestrict - same as importedKeyNoAction (for ODBC 2.x compatibility)\n                importedKeySetDefault - change imported key to default if its primary key has been deleted\n            FK_NAME String =&gt; foreign key name (may be null)\n            PK_NAME String =&gt; primary key name (may be null)\n            DEFERRABILITY short =&gt; can the evaluation of foreign key constraints be deferred until commit\n                importedKeyInitiallyDeferred - see SQL92 for definition\n                importedKeyInitiallyImmediate - see SQL92 for definition\n                importedKeyNotDeferrable - see SQL92 for definition\n\n\n         */\n        String primaryCatalog = null;\n        String primaryModel = null;\n        String primaryTable = null;\n        String primaryColumn = null;\n        String foreignCatalog = null;\n        String foreignModel = null;\n        String foreignTable = null;\n        String foreignColumn = null;\n        String columnType = null;\n        short keySequence = 0;\n\n        primaryCatalog = foreignKeys.getString(&quot;PKTABLE_CAT&quot;);\n        primaryModel = foreignKeys.getString(&quot;PKTABLE_SCHEM&quot;);\n        primaryTable = foreignKeys.getString(&quot;PKTABLE_NAME&quot;);\n        primaryColumn = foreignKeys.getString(&quot;PKCOLUMN_NAME&quot;);\n\n        foreignCatalog = foreignKeys.getString(&quot;FKTABLE_CAT&quot;);\n        foreignModel = foreignKeys.getString(&quot;FKTABLE_SCHEM&quot;);\n        foreignTable = foreignKeys.getString(&quot;FKTABLE_NAME&quot;);\n        foreignColumn = foreignKeys.getString(&quot;FKCOLUMN_NAME&quot;);\n\n        columnType = columnMap.get(foreignColumn).get(TYPE_NAME);\n\n\n        keySequence = foreignKeys.getShort(KEY_SEQ);\n\n        foreignTag(docBuff, primaryCatalog, primaryModel, primaryTable, primaryColumn, foreignCatalog, foreignModel, foreignTable, foreignColumn, keySequence, columnType);\n    }\n</code></pre>\n"},{"tags":["java","random","bukkit","illegalargumentexception"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":3,"creation_date":1440004529,"post_id":32101688,"comment_id":52097778,"body_markdown":"Well ... obviously you have an empty items list, so that `items.size()` evaluates to 0. And this is not allowed as a bound for `Random.nextInt(int)`.","body":"Well ... obviously you have an empty items list, so that <code>items.size()</code> evaluates to 0. And this is not allowed as a bound for <code>Random.nextInt(int)</code>."},{"owner":{"account_id":6804548,"reputation":306,"user_id":5236779,"display_name":"Keenan Thompson"},"score":2,"creation_date":1440004743,"post_id":32101688,"comment_id":52097902,"body_markdown":"@Seelenvirtuose It may not be obvious to everyone! But this is the case, `getAllItems()` is returning an empty list of items.","body":"@Seelenvirtuose It may not be obvious to everyone! But this is the case, <code>getAllItems()</code> is returning an empty list of items."},{"owner":{"account_id":6686455,"reputation":165,"user_id":5157530,"accept_rate":33,"display_name":"Guus Huizen"},"score":0,"creation_date":1440005299,"post_id":32101688,"comment_id":52098240,"body_markdown":"Ok, so at the &#39;getAllItems()&#39; method, i changed &#39;&quot;chestitems.&quot; + level&#39; to &#39;&quot;chestitems.1&quot;&#39;. Now the system does work. I still don&#39;t understand it although I know this method is returning null.","body":"Ok, so at the &#39;getAllItems()&#39; method, i changed &#39;&quot;chestitems.&quot; + level&#39; to &#39;&quot;chestitems.1&quot;&#39;. Now the system does work. I still don&#39;t understand it although I know this method is returning null."},{"owner":{"account_id":6686455,"reputation":165,"user_id":5157530,"accept_rate":33,"display_name":"Guus Huizen"},"score":0,"creation_date":1440005560,"post_id":32101688,"comment_id":52098420,"body_markdown":"Ok, so I was being dumb again. I rechecked the list and found out that something was 0. Changed it and it worked like a charm. Thanks for all your help!","body":"Ok, so I was being dumb again. I rechecked the list and found out that something was 0. Changed it and it worked like a charm. Thanks for all your help!"}],"answers":[{"tags":[],"owner":{"account_id":1292662,"reputation":8228,"user_id":1244442,"accept_rate":79,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1652473388,"creation_date":1440004611,"answer_id":32101779,"question_id":32101688,"body_markdown":"As your stack trace says,\r\n\r\n&gt; java.lang.IllegalArgumentException: bound must be positive\r\n        at java.util.Random.nextInt(Unknown Source) ~[?:1.8.0_51]\r\n\r\nThe argument to `nextInt()` needs to be a positive integer. You will need to find out where you&#39;re passing a non-positive input to that method.","title":"IllegalArgumentException: Bound must be positive","body":"<p>As your stack trace says,</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: bound must be positive\nat java.util.Random.nextInt(Unknown Source) ~[?:1.8.0_51]</p>\n</blockquote>\n<p>The argument to <code>nextInt()</code> needs to be a positive integer. You will need to find out where you're passing a non-positive input to that method.</p>\n"},{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1440005176,"creation_date":1440005176,"answer_id":32101933,"question_id":32101688,"body_markdown":"The issue is that you are calling `Random.nextInt()` with a zero and it doesn&#39;t like that. That is happening because the `List` from `getAllItems()` is empty. I would prevent this situation by checking that the list has items before performing your logic:\r\n\r\n    List&lt;ItemStack&gt; items = getAllItems(level);\r\n    if(!items.isEmpty()) {\r\n        inv.setItem(i, items.get(r.nextInt(items.size())));\r\n    }\r\n ","title":"IllegalArgumentException: Bound must be positive","body":"<p>The issue is that you are calling <code>Random.nextInt()</code> with a zero and it doesn't like that. That is happening because the <code>List</code> from <code>getAllItems()</code> is empty. I would prevent this situation by checking that the list has items before performing your logic:</p>\n\n<pre><code>List&lt;ItemStack&gt; items = getAllItems(level);\nif(!items.isEmpty()) {\n    inv.setItem(i, items.get(r.nextInt(items.size())));\n}\n</code></pre>\n"}],"owner":{"account_id":6686455,"reputation":165,"user_id":5157530,"accept_rate":33,"display_name":"Guus Huizen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85741,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1652473388,"creation_date":1440004282,"question_id":32101688,"body_markdown":"I get an error saying that my bound must be positive.\r\nHere is the line I get it on:\r\n\r\n    inv.setItem(i, items.get(r.nextInt(items.size())));\r\n\r\nAs far as I know, it comes from the part where I request a random integer from the list of items.\r\nThis is how I defined the list:\r\n\r\n    List&lt;ItemStack&gt; items = getAllItems(level);\r\n\r\nWhere the `getAllItems()` method looks like: \r\n\r\n    public List&lt;ItemStack&gt; getAllItems(int level) {\r\n        List&lt;ItemStack&gt; items = new ArrayList&lt;ItemStack&gt;();\r\n        for (String item : settings.getChests().getStringList(&quot;chestitems.&quot; + level)) {\r\n            ItemStack toAdd = parseItem(item);\r\n            items.add(toAdd);\r\n        }\r\n        return items;\r\n    }\r\n\r\nI get this stacktrace:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [19:03:53 ERROR]: Error occurred while enabling KitPvP v0.5 (Is it up to date?)\r\n    java.lang.IllegalArgumentException: bound must be positive\r\n            at java.util.Random.nextInt(Unknown Source) ~[?:1.8.0_51]\r\n            at me.iamguus.gamegetsiepunt.kitpvp.chests.ChestsUtil.randomlyFillInv(ChestsUtil.java:101) ~[?:?]\r\n            at me.iamguus.gamegetsiepunt.kitpvp.Main.onEnable(Main.java:40) ~[?:?]\r\n            at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:321) ~[spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:335) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.craftbukkit.v1_8_R3.CraftServer.loadPlugin(CraftServer.java:356) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.craftbukkit.v1_8_R3.CraftServer.enablePlugins(CraftServer.java:316) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.craftbukkit.v1_8_R3.CraftServer.reload(CraftServer.java:746) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.Bukkit.reload(Bukkit.java:534) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:25) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:141) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchCommand(CraftServer.java:646) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchServerCommand(CraftServer.java:632) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at net.minecraft.server.v1_8_R3.DedicatedServer.aO(DedicatedServer.java:405) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:369) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:657) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:560) [spigot.jar:git-Spigot-5818108-a486600]\r\n            at java.lang.Thread.run(Unknown Source) [?:1.8.0_51]","title":"IllegalArgumentException: Bound must be positive","body":"<p>I get an error saying that my bound must be positive.\nHere is the line I get it on:</p>\n\n<pre><code>inv.setItem(i, items.get(r.nextInt(items.size())));\n</code></pre>\n\n<p>As far as I know, it comes from the part where I request a random integer from the list of items.\nThis is how I defined the list:</p>\n\n<pre><code>List&lt;ItemStack&gt; items = getAllItems(level);\n</code></pre>\n\n<p>Where the <code>getAllItems()</code> method looks like: </p>\n\n<pre><code>public List&lt;ItemStack&gt; getAllItems(int level) {\n    List&lt;ItemStack&gt; items = new ArrayList&lt;ItemStack&gt;();\n    for (String item : settings.getChests().getStringList(\"chestitems.\" + level)) {\n        ItemStack toAdd = parseItem(item);\n        items.add(toAdd);\n    }\n    return items;\n}\n</code></pre>\n\n<p>I get this stacktrace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[19:03:53 ERROR]: Error occurred while enabling KitPvP v0.5 (Is it up to date?)\njava.lang.IllegalArgumentException: bound must be positive\n        at java.util.Random.nextInt(Unknown Source) ~[?:1.8.0_51]\n        at me.iamguus.gamegetsiepunt.kitpvp.chests.ChestsUtil.randomlyFillInv(ChestsUtil.java:101) ~[?:?]\n        at me.iamguus.gamegetsiepunt.kitpvp.Main.onEnable(Main.java:40) ~[?:?]\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:321) ~[spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:335) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.loadPlugin(CraftServer.java:356) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.enablePlugins(CraftServer.java:316) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.reload(CraftServer.java:746) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.Bukkit.reload(Bukkit.java:534) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:25) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:141) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchCommand(CraftServer.java:646) [spigot.jar:git-Spigot-5818108-a486600]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchServerCommand(CraftServer.java:632) [spigot.jar:git-Spigot-5818108-a486600]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.aO(DedicatedServer.java:405) [spigot.jar:git-Spigot-5818108-a486600]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:369) [spigot.jar:git-Spigot-5818108-a486600]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:657) [spigot.jar:git-Spigot-5818108-a486600]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:560) [spigot.jar:git-Spigot-5818108-a486600]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_51]\n</code></pre>\n"},{"tags":["java","random","integer"],"comments":[{"owner":{"account_id":8152242,"reputation":1031,"user_id":6138873,"display_name":"jeanr"},"score":1,"creation_date":1502484032,"post_id":45643324,"comment_id":78246325,"body_markdown":"Here you sure that the error is comming from `rand.nextInt(maxDamage - minDamage + 1)` and not from `rand.nextInt(enemyDamage - playerArmor)` ?","body":"Here you sure that the error is comming from <code>rand.nextInt(maxDamage - minDamage + 1)</code> and not from <code>rand.nextInt(enemyDamage - playerArmor)</code> ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1502500600,"post_id":45643324,"comment_id":78250419,"body_markdown":"Post the stack trace in your question. Unanswerable without.","body":"Post the stack trace in your question. Unanswerable without."}],"answers":[{"tags":[],"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652473332,"creation_date":1502484125,"answer_id":45643466,"question_id":45643324,"body_markdown":"Your problem is in the values passed to `rant.nextInt(int bound)` method.\r\nAs the javadoc says, this method \r\n&gt; Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive) ... \r\n\r\nAnd\r\n&gt; Throws:IllegalArgumentException - if bound is not positive\r\n\r\nSo, you should pass bound values greater than 0.","title":"IllegalArgumentException: Bound must be positive when using Random.nextInt() method","body":"<p>Your problem is in the values passed to <code>rant.nextInt(int bound)</code> method.\nAs the javadoc says, this method</p>\n<blockquote>\n<p>Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive) ...</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p>Throws:IllegalArgumentException - if bound is not positive</p>\n</blockquote>\n<p>So, you should pass bound values greater than 0.</p>\n"},{"tags":[],"owner":{"account_id":11512106,"reputation":407,"user_id":8436570,"display_name":"Randall Arms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652473251,"creation_date":1502484726,"answer_id":45643575,"question_id":45643324,"body_markdown":"The following line may be the source of your error:\r\n```\r\nint damageTaken = rand.nextInt(enemyDamage - playerArmor);\r\n```\r\n\r\n`Random.nextInt()` will only return a value between 0 (inclusive) and the parameter passed in (exclusive). Therefore, if `enemyDamage - playerArmor` resolves to a negative value, then `nextInt()` will throw an IllegalArgumentException.","title":"IllegalArgumentException: Bound must be positive when using Random.nextInt() method","body":"<p>The following line may be the source of your error:</p>\n<pre><code>int damageTaken = rand.nextInt(enemyDamage - playerArmor);\n</code></pre>\n<p><code>Random.nextInt()</code> will only return a value between 0 (inclusive) and the parameter passed in (exclusive). Therefore, if <code>enemyDamage - playerArmor</code> resolves to a negative value, then <code>nextInt()</code> will throw an IllegalArgumentException.</p>\n"},{"tags":[],"owner":{"account_id":10302290,"reputation":1445,"user_id":7600634,"display_name":"John Tribe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652473287,"creation_date":1502491249,"answer_id":45644720,"question_id":45643324,"body_markdown":"The problem is `random.nextInt(x)`, where `x &gt; 0`. To always have a positive value you can use:\r\n\r\n     random.nextInt(Math.abs(x));\r\n\r\n`Math.abs(-3)` will output 3.","title":"IllegalArgumentException: Bound must be positive when using Random.nextInt() method","body":"<p>The problem is <code>random.nextInt(x)</code>, where <code>x &gt; 0</code>. To always have a positive value you can use:</p>\n<pre><code> random.nextInt(Math.abs(x));\n</code></pre>\n<p><code>Math.abs(-3)</code> will output 3.</p>\n"}],"owner":{"account_id":11383927,"reputation":23,"user_id":8346059,"display_name":"Owen D."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5116,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":45643575,"answer_count":3,"score":1,"last_activity_date":1652473332,"creation_date":1502483521,"question_id":45643324,"body_markdown":"    //in a method that checks players equipment to change damage and armor values\r\n\t\t//none of these min/max values should spit out anything less than 0\r\n\t\t\tswitch(weapon)\r\n\t\t\t{\r\n\t\t\t\tcase&quot;Knife&quot;: minDamage = 3; maxDamage = 12; break;\r\n\t\t\t\tcase&quot;Short Sword&quot;: minDamage = 6; maxDamage = 15; break;\r\n\t\t\t\tcase&quot;Long Sword&quot;: minDamage = 8; maxDamage = 20; break;\r\n\t\t\t\tcase&quot;Battle Axe&quot;: minDamage = 14; maxDamage = 28; break;\r\n\t\t\t\tcase&quot;Death&#39;s Blade&quot;: minDamage = 20;maxDamage = 60; break;\r\n\t\t\t}\r\n\t\t\t//armor\r\n\t\t\t\r\n\t\t\tswitch(armor)\r\n\t\t\t{\r\n\t\t\t\tcase&quot;Rags&quot;: playerArmor = 0; break;\r\n\t\t\t\tcase&quot;Hide Armor&quot;: playerArmor = 5; break;\r\n\t\t\t\tcase&quot;Leather Armor&quot;: playerArmor = 8; break;\r\n\t\t\t\tcase&quot;Chainmail&quot;: playerArmor = 12; break;\r\n\t\t\t\tcase&quot;Platemail&quot;: playerArmor = 20; break;\r\n\t\t\t\tcase&quot;Death&#39;s Armor&quot;: playerArmor = 50; break;\r\n\t\t\t}\r\n\t\r\n\r\n\t\t\t//in a method that handles the combat\r\n\t\t\t//The problem is somewhere in the logic for the damageDealt integer.\r\n\t\t\tint damageDealt = rand.nextInt(maxDamage - minDamage + 1)+minDamage;\r\n\t\t\tint damageTaken = rand.nextInt(enemyDamage - playerArmor);\r\n\t\t\tif(damageDealt &gt;= 0)\r\n\t\t\t{\r\n\t\t\t\t\tenemyHealth -=damageDealt;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t\tdamageDealt = 0;\r\n\t\t\t}\r\n\t\t\tif(damageTaken&gt;0)\r\n\t\t\t{\r\n\t\t\t\t\tplayerHealth -=damageTaken;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t\tdamageTaken = 0;\t\r\n\t\t\t}\r\n\r\nSo this is just a few lines of code from a Text adventure I&#39;m finishing up. Sometimes I will get this bug that pops up saying IllegalArgumentException: Bound must be positive for java&#39;s random() method during the combat.\r\n\r\n The first blurb of code is part of a method that handles the players inventory. Take note that every max value for the weapons is larger than the respective min value as they should be. The second blurb of code is part of the combat method. When the player chooses to attack, those lines are run. The damageDealt integer seems to be the issue as far as I can tell.\r\n\r\nI&#39;m fairly certain that \r\n\r\n    int damageDealt = rand.nextInt(maxDamage - minDamage + 1)+minDamage;\r\n\r\n should work and never give an integer value below the minDamage value or even zero for that matter. But, for some reason sometimes it does and the game freaks out and gives that error code. \r\n\r\nThe issue doesn&#39;t occur if I only use maxDamage, but this isn&#39;t optimal because then a super high power weapon can do just as little damage as the starting weapon.\r\n\r\nIf you guys can figure out a solution that would fix my code or even a whole different way to handle randomly choosing a number in an integer range, I would greatly appreciate it.","title":"IllegalArgumentException: Bound must be positive when using Random.nextInt() method","body":"<pre><code>//in a method that checks players equipment to change damage and armor values\n    //none of these min/max values should spit out anything less than 0\n        switch(weapon)\n        {\n            case\"Knife\": minDamage = 3; maxDamage = 12; break;\n            case\"Short Sword\": minDamage = 6; maxDamage = 15; break;\n            case\"Long Sword\": minDamage = 8; maxDamage = 20; break;\n            case\"Battle Axe\": minDamage = 14; maxDamage = 28; break;\n            case\"Death's Blade\": minDamage = 20;maxDamage = 60; break;\n        }\n        //armor\n\n        switch(armor)\n        {\n            case\"Rags\": playerArmor = 0; break;\n            case\"Hide Armor\": playerArmor = 5; break;\n            case\"Leather Armor\": playerArmor = 8; break;\n            case\"Chainmail\": playerArmor = 12; break;\n            case\"Platemail\": playerArmor = 20; break;\n            case\"Death's Armor\": playerArmor = 50; break;\n        }\n\n\n        //in a method that handles the combat\n        //The problem is somewhere in the logic for the damageDealt integer.\n        int damageDealt = rand.nextInt(maxDamage - minDamage + 1)+minDamage;\n        int damageTaken = rand.nextInt(enemyDamage - playerArmor);\n        if(damageDealt &gt;= 0)\n        {\n                enemyHealth -=damageDealt;\n        }\n        else\n        {\n                damageDealt = 0;\n        }\n        if(damageTaken&gt;0)\n        {\n                playerHealth -=damageTaken;\n        }\n        else\n        {\n                damageTaken = 0;    \n        }\n</code></pre>\n\n<p>So this is just a few lines of code from a Text adventure I'm finishing up. Sometimes I will get this bug that pops up saying IllegalArgumentException: Bound must be positive for java's random() method during the combat.</p>\n\n<p>The first blurb of code is part of a method that handles the players inventory. Take note that every max value for the weapons is larger than the respective min value as they should be. The second blurb of code is part of the combat method. When the player chooses to attack, those lines are run. The damageDealt integer seems to be the issue as far as I can tell.</p>\n\n<p>I'm fairly certain that </p>\n\n<pre><code>int damageDealt = rand.nextInt(maxDamage - minDamage + 1)+minDamage;\n</code></pre>\n\n<p>should work and never give an integer value below the minDamage value or even zero for that matter. But, for some reason sometimes it does and the game freaks out and gives that error code. </p>\n\n<p>The issue doesn't occur if I only use maxDamage, but this isn't optimal because then a super high power weapon can do just as little damage as the starting weapon.</p>\n\n<p>If you guys can figure out a solution that would fix my code or even a whole different way to handle randomly choosing a number in an integer range, I would greatly appreciate it.</p>\n"},{"tags":["java","infinite-loop"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1652341426,"post_id":72211761,"comment_id":127584077,"body_markdown":"If you do that in a loop and not with recursive calls there will be no stack that overflows. Having said that, I&#39;d go with the OS scheduler/cron/whatever.","body":"If you do that in a loop and not with recursive calls there will be no stack that overflows. Having said that, I&#39;d go with the OS scheduler/cron/whatever."},{"owner":{"account_id":16981283,"reputation":156,"user_id":12505150,"display_name":"Paul_Pedant"},"score":0,"creation_date":1652353712,"post_id":72211761,"comment_id":127588308,"body_markdown":"Two difficulties with a loop method. (a) If it dies, or the system reboots, it needs to get restarted (assuming anybody notices). (b) If it is active for a significant time during each cycle, the start time progressively drifts. A scheduler solves both of these cases.","body":"Two difficulties with a loop method. (a) If it dies, or the system reboots, it needs to get restarted (assuming anybody notices). (b) If it is active for a significant time during each cycle, the start time progressively drifts. A scheduler solves both of these cases."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652342574,"creation_date":1652342574,"answer_id":72212022,"question_id":72211761,"body_markdown":"Something simple/primitive like this will get you started:\r\n\r\n```java\r\npublic static void main(String[] args) \r\n    while (true) {\r\n        try {\r\n            // do something\r\n            Thread.sleep(TimeUnit.HOURS.toMillis(2));\r\n        } catch Exception e {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Can you use an infinite loop to run a program continuously using Java?","body":"<p>Something simple/primitive like this will get you started:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) \n    while (true) {\n        try {\n            // do something\n            Thread.sleep(TimeUnit.HOURS.toMillis(2));\n        } catch Exception e {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652343922,"creation_date":1652343922,"answer_id":72212286,"question_id":72211761,"body_markdown":"Theoretically you can do this. But there are multiple ways to do it much better. First even if you want to do infinite loop do it in a separate thread. But the simplest and standard way to do something like this is to write some class that implements [Runnable][1] interface, place your &quot;do something&quot; code into its method `run()` and use [ScheduledExecutorService][2] to schedule your task for every 2 hours. The `ScheduledExecutorService` you can get from [Executors.newScheduledThreadPool(int corePoolSize)][3] method. On a side note, There is a Open source library (written by me) that can simplify sleep delay code for you instead of  \r\n\r\n    try {\r\n        // do something\r\n        Thread.sleep(TimeUnit.HOURS.toMillis(2));\r\n    } catch Exception e {\r\n        e.printStackTrace();\r\n    }\r\nyou can just write something like this:\r\n\r\n    private static final TimeInterval TWO_HOURS = new TimeInterval(2L, TimeUnit.HOURS);\r\n    ...\r\n    //Do something\r\n    TimeUtils.sleepFor(TWO_HOURS);\r\nThe Exception is handled inside. Here is the Javadoc for [TimeUtils][4] class. The library is called MgntUtils and could be taken as [Mavien Artifact][5] or from [Github][6] (including source code and Javadoc)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newScheduledThreadPool-int-\r\n  [4]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/TimeUtils.html\r\n  [5]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [6]: https://github.com/michaelgantman/Mgnt/releases","title":"Can you use an infinite loop to run a program continuously using Java?","body":"<p>Theoretically you can do this. But there are multiple ways to do it much better. First even if you want to do infinite loop do it in a separate thread. But the simplest and standard way to do something like this is to write some class that implements <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a> interface, place your &quot;do something&quot; code into its method <code>run()</code> and use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> to schedule your task for every 2 hours. The <code>ScheduledExecutorService</code> you can get from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newScheduledThreadPool-int-\" rel=\"nofollow noreferrer\">Executors.newScheduledThreadPool(int corePoolSize)</a> method. On a side note, There is a Open source library (written by me) that can simplify sleep delay code for you instead of</p>\n<pre><code>try {\n    // do something\n    Thread.sleep(TimeUnit.HOURS.toMillis(2));\n} catch Exception e {\n    e.printStackTrace();\n}\n</code></pre>\n<p>you can just write something like this:</p>\n<pre><code>private static final TimeInterval TWO_HOURS = new TimeInterval(2L, TimeUnit.HOURS);\n...\n//Do something\nTimeUtils.sleepFor(TWO_HOURS);\n</code></pre>\n<p>The Exception is handled inside. Here is the Javadoc for <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/TimeUtils.html\" rel=\"nofollow noreferrer\">TimeUtils</a> class. The library is called MgntUtils and could be taken as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Mavien Artifact</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":25266166,"reputation":1,"user_id":19099079,"display_name":"Mariam Baidauri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652473204,"creation_date":1652320442,"question_id":72211761,"body_markdown":"I have a question that I have researched that I did not find any compelling answers to. If you want to run a program in a loop every 2 hours or so, and of course, I know that anyone can use windows scheduler or something like that, will running the program in an infinite loop and using the &quot;continue&quot; statement every 2 hours or so prevent it from breaking (StackOverflow)?","title":"Can you use an infinite loop to run a program continuously using Java?","body":"<p>I have a question that I have researched that I did not find any compelling answers to. If you want to run a program in a loop every 2 hours or so, and of course, I know that anyone can use windows scheduler or something like that, will running the program in an infinite loop and using the &quot;continue&quot; statement every 2 hours or so prevent it from breaking (StackOverflow)?</p>\n"},{"tags":["java","spring","jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652473136,"creation_date":1467182512,"answer_id":38092128,"question_id":38088095,"body_markdown":"Hibernate entity should have default constructor defined and implement `Serializable` interface as well, assume `AbstractEntity` matches the requirement. Hibernate won&#39;t accept an entity without a primary key so you have to define the one too:\r\n\r\n     @Entity\r\n     @Table(name = myServer)\r\n     public class MyDataEntity implements Serializable {\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        @Column(name = &quot;video_link&quot;, nullable = true)\r\n        private String videoLink;\r\n\r\n        public MyDataEntity() {\r\n\r\n        }\r\n    \r\n        ...setters&amp;getters\r\n    }\r\n\r\n`MyData` object represents the JSON server response, you can use `Jackson` annotations to control the result JSON properties:\r\n\r\n    public class MyDataResponse {\r\n    \r\n        @JsonProperty(&quot;video_link&quot;)\r\n        private String videoLink;\r\n    \r\n        public MyDataResponse() {\r\n    \r\n        }\r\n\r\n        public MyDataResponse(String videoLink) {\r\n            this.videoLink = videoLink;\r\n        }\r\n    \r\n        ...setters&amp;getters\r\n    }\r\n\r\nSpring has an awesome project so called [Spring Data][1] that provides the JPA repositories, so there&#39;s no even the `@Repository` annotation ever needed:\r\n\r\n    public class MyDataRepository extends CrudRepository&lt;MyDataEntity, Long&gt; {\r\n    \r\n    }\r\n\r\nThe `Builder` class represents the Service layer:\r\n\r\n    @Service\r\n    public class MyDataService {\r\n    \r\n        @Autowired\r\n        private MyDataRepository myDataRepository;\r\n    \r\n        public MyDataResponse getMyData(Long id) {\r\n            \r\n            MyDataEntity entity = myDataRepository.findOne(id);\r\n            ...rest logic, copy necessary data to MyDataResponse\r\n        } \r\n    }\r\n\r\nThen a controller is:\r\n\r\n    @RestController // @ResponseBody not needed when using like this\r\n    public MyDataController {\r\n    \r\n        @Autowired\r\n        private MyDataService myDataService;\r\n    \r\n        @RequestMapping(&quot;/getMyData&quot;) // no need to specify method for GET\r\n        public MyDataResponse getMyData(@RequestParam(&quot;ID&quot;) Long myDataId) {\r\n        \r\n                ... validation logic\r\n        \r\n                return myDataService.getMyData(myDataId); // return response\r\n        }\r\n    }\r\n\r\nNow it should work, don&#39;t forget to add required dependencies to your classpath.\r\n\r\n  [1]: http://projects.spring.io/spring-data/","title":"Get data from a repository using Spring","body":"<p>Hibernate entity should have default constructor defined and implement <code>Serializable</code> interface as well, assume <code>AbstractEntity</code> matches the requirement. Hibernate won't accept an entity without a primary key so you have to define the one too:</p>\n<pre><code> @Entity\n @Table(name = myServer)\n public class MyDataEntity implements Serializable {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(name = &quot;video_link&quot;, nullable = true)\n    private String videoLink;\n\n    public MyDataEntity() {\n\n    }\n\n    ...setters&amp;getters\n}\n</code></pre>\n<p><code>MyData</code> object represents the JSON server response, you can use <code>Jackson</code> annotations to control the result JSON properties:</p>\n<pre><code>public class MyDataResponse {\n\n    @JsonProperty(&quot;video_link&quot;)\n    private String videoLink;\n\n    public MyDataResponse() {\n\n    }\n\n    public MyDataResponse(String videoLink) {\n        this.videoLink = videoLink;\n    }\n\n    ...setters&amp;getters\n}\n</code></pre>\n<p>Spring has an awesome project so called <a href=\"http://projects.spring.io/spring-data/\" rel=\"nofollow noreferrer\">Spring Data</a> that provides the JPA repositories, so there's no even the <code>@Repository</code> annotation ever needed:</p>\n<pre><code>public class MyDataRepository extends CrudRepository&lt;MyDataEntity, Long&gt; {\n\n}\n</code></pre>\n<p>The <code>Builder</code> class represents the Service layer:</p>\n<pre><code>@Service\npublic class MyDataService {\n\n    @Autowired\n    private MyDataRepository myDataRepository;\n\n    public MyDataResponse getMyData(Long id) {\n        \n        MyDataEntity entity = myDataRepository.findOne(id);\n        ...rest logic, copy necessary data to MyDataResponse\n    } \n}\n</code></pre>\n<p>Then a controller is:</p>\n<pre><code>@RestController // @ResponseBody not needed when using like this\npublic MyDataController {\n\n    @Autowired\n    private MyDataService myDataService;\n\n    @RequestMapping(&quot;/getMyData&quot;) // no need to specify method for GET\n    public MyDataResponse getMyData(@RequestParam(&quot;ID&quot;) Long myDataId) {\n    \n            ... validation logic\n    \n            return myDataService.getMyData(myDataId); // return response\n    }\n}\n</code></pre>\n<p>Now it should work, don't forget to add required dependencies to your classpath.</p>\n"}],"owner":{"account_id":992688,"reputation":2673,"user_id":1009508,"accept_rate":83,"display_name":"MNM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38092128,"answer_count":1,"score":0,"last_activity_date":1652473136,"creation_date":1467157913,"question_id":38088095,"body_markdown":"Ok so I am new to spring and don&#39;t really know how this works. I have been trying a few things and think its close to doing it but not getting any data from the server and giving me this error\r\n\r\n     Unsatisfied dependency expressed through constructor argument with index 4 of type [jp.co.fusionsystems.dimare.crm.service.impl.MyDataDefaultService]: : Error creating bean with name &#39;MyDataDefaultService&#39; defined in file \t\r\n\r\n\r\n\r\n\r\n\r\nMy end point\r\n\r\n    //mobile data endpoint\r\n     @RequestMapping(\r\n            value = API_PREFIX + ENDPOINT_MyData + &quot;/getMyData&quot;,\r\n            method = RequestMethod.GET)\r\n    public MyData getMyData() {\r\n    \treturn MyDataDefaultService.getData();\r\n    }\r\n\r\n\r\nMy Object \r\n\r\n    public class MyData {\r\n\t\r\n\tpublic MyData(final Builder builder) {\r\n\t\tvideoLink = builder.videoLink;\r\n\t}\r\n\tprivate String videoLink;\r\n\t\r\n\tpublic String getVideoLink()\r\n\t{\r\n\t\treturn videoLink;\r\n\t}\r\n\r\n\tpublic static class Builder\r\n\t{\r\n\t\tprivate String videoLink = &quot;&quot;;\t\r\n\t\t\r\n\t\tpublic Builder setVideo(String videoLink)\r\n\t\t{\r\n\t\t\tthis.videoLink = videoLink;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic MyData build()\r\n\t\t{\r\n\t\t\treturn new MyData(this);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t @Override\r\n\t    public boolean equals(final Object other) {\r\n\t        return ObjectUtils.equals(this, other);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public int hashCode() {\r\n\t        return ObjectUtils.hashCode(this);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String toString() {\r\n\t        return ObjectUtils.toString(this);\r\n\t    }\r\n\r\n        }\r\n\r\nThe Repository\r\n\r\n     public classMyServerMyDataRepository implements MyDataRepository{\r\n\t\r\n\tprivate finalMyServerMyDataJpaRepository jpaRepository;\r\n\tprivate final MyDataConverter MyDataConverter = new MyDataConverter();\r\n\t\t\r\n\t@Autowired\r\n    publicMyServerMyDataRepository(finalMyServerMyDataJpaRepository jpaRepository) {\r\n    \tthis.jpaRepository = Validate.notNull(jpaRepository);\r\n    }\r\n\r\n\t\r\n\t@Override\r\n\tpublic MyData getData() {\r\n\t\tMyDataEntity entity = jpaRepository.findOne((long) 0);\r\n\t\tMyData.Builder builder = new MyData.Builder()\r\n\t\t\t\t.setVideo(entity.getVideoLink());\r\n\t\r\n\t\treturn builder.build();\r\n\t}\r\n\r\n\r\n\r\n\r\nThe DefaultService that gets called by the endpoint\r\n\r\n     public class MyDataDefaultService {\r\n\tprivate static final Logger logger =      LoggerFactory.getLogger(NotificationDefaultService.class);\r\n\r\n    private finalMyServerMyDataRepository repository;\r\n    \r\n    @Autowired\r\n    public MyDataDefaultService(MyServerMyDataRepository repository) {\r\n        this.repository = Validate.notNull(repository);\r\n    }\r\n\r\n\r\n\t//Get the data from the server\r\n\tpublic MobileData getData()\r\n\t{\r\n\t\tlogger.info(&quot;Get Mobile Data from the server&quot;);\r\n\t\t//Get the data from the repository\r\n\t\tMobileData mobileData = repository.getData();\r\n\t\t\r\n\t\treturn mobileData;\r\n\t\t\r\n\t}\r\n     }\r\n\r\n\r\n\r\nThe Converter\r\n\r\n     public class MyDataConverter  extends AbstractConverter&lt;MyDataEntity, MyData&gt;\r\n     {\r\n\r\n\t@Override\r\n\tpublic MyData convert(MyDataEntity entity) {\r\n\r\n\t\tMyData.Builder builder = new MyData.Builder()\r\n\t\t\t\t.setVideo(entity.getVideoLink());\r\n\t\treturn builder.build();\r\n\t}\r\n\r\n     }\r\n\r\n\r\n\r\nMy Entity\r\n\r\n     @Entity\r\n     @Table(name = myServer)\r\n     public class MyDataEntity extends AbstractEntity{\r\n\t @Column(name = &quot;video_link&quot;, nullable = true)\r\n\t    private String videoLink;\r\n\t \r\n\t public String getVideoLink() {\r\n\t        return videoLink;\r\n\t    }\r\n\r\n\t    public void setVideoLink(final String videoLink) {\r\n\t        this.videoLink = videoLink;\r\n\t    }\r\n\r\n}\r\n\r\n\r\n\r\nThank you for any help with this","title":"Get data from a repository using Spring","body":"<p>Ok so I am new to spring and don't really know how this works. I have been trying a few things and think its close to doing it but not getting any data from the server and giving me this error</p>\n\n<pre><code> Unsatisfied dependency expressed through constructor argument with index 4 of type [jp.co.fusionsystems.dimare.crm.service.impl.MyDataDefaultService]: : Error creating bean with name 'MyDataDefaultService' defined in file  \n</code></pre>\n\n<p>My end point</p>\n\n<pre><code>//mobile data endpoint\n @RequestMapping(\n        value = API_PREFIX + ENDPOINT_MyData + \"/getMyData\",\n        method = RequestMethod.GET)\npublic MyData getMyData() {\n    return MyDataDefaultService.getData();\n}\n</code></pre>\n\n<p>My Object </p>\n\n<pre><code>public class MyData {\n\npublic MyData(final Builder builder) {\n    videoLink = builder.videoLink;\n}\nprivate String videoLink;\n\npublic String getVideoLink()\n{\n    return videoLink;\n}\n\npublic static class Builder\n{\n    private String videoLink = \"\";  \n\n    public Builder setVideo(String videoLink)\n    {\n        this.videoLink = videoLink;\n        return this;\n    }\n\n    public MyData build()\n    {\n        return new MyData(this);\n    }\n\n}\n @Override\n    public boolean equals(final Object other) {\n        return ObjectUtils.equals(this, other);\n    }\n\n    @Override\n    public int hashCode() {\n        return ObjectUtils.hashCode(this);\n    }\n\n    @Override\n    public String toString() {\n        return ObjectUtils.toString(this);\n    }\n\n    }\n</code></pre>\n\n<p>The Repository</p>\n\n<pre><code> public classMyServerMyDataRepository implements MyDataRepository{\n\nprivate finalMyServerMyDataJpaRepository jpaRepository;\nprivate final MyDataConverter MyDataConverter = new MyDataConverter();\n\n@Autowired\npublicMyServerMyDataRepository(finalMyServerMyDataJpaRepository jpaRepository) {\n    this.jpaRepository = Validate.notNull(jpaRepository);\n}\n\n\n@Override\npublic MyData getData() {\n    MyDataEntity entity = jpaRepository.findOne((long) 0);\n    MyData.Builder builder = new MyData.Builder()\n            .setVideo(entity.getVideoLink());\n\n    return builder.build();\n}\n</code></pre>\n\n<p>The DefaultService that gets called by the endpoint</p>\n\n<pre><code> public class MyDataDefaultService {\nprivate static final Logger logger =      LoggerFactory.getLogger(NotificationDefaultService.class);\n\nprivate finalMyServerMyDataRepository repository;\n\n@Autowired\npublic MyDataDefaultService(MyServerMyDataRepository repository) {\n    this.repository = Validate.notNull(repository);\n}\n\n\n//Get the data from the server\npublic MobileData getData()\n{\n    logger.info(\"Get Mobile Data from the server\");\n    //Get the data from the repository\n    MobileData mobileData = repository.getData();\n\n    return mobileData;\n\n}\n }\n</code></pre>\n\n<p>The Converter</p>\n\n<pre><code> public class MyDataConverter  extends AbstractConverter&lt;MyDataEntity, MyData&gt;\n {\n\n@Override\npublic MyData convert(MyDataEntity entity) {\n\n    MyData.Builder builder = new MyData.Builder()\n            .setVideo(entity.getVideoLink());\n    return builder.build();\n}\n\n }\n</code></pre>\n\n<p>My Entity</p>\n\n<pre><code> @Entity\n @Table(name = myServer)\n public class MyDataEntity extends AbstractEntity{\n @Column(name = \"video_link\", nullable = true)\n    private String videoLink;\n\n public String getVideoLink() {\n        return videoLink;\n    }\n\n    public void setVideoLink(final String videoLink) {\n        this.videoLink = videoLink;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Thank you for any help with this</p>\n"},{"tags":["java","html","jsp","jstl","el"],"answers":[{"tags":[],"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652472941,"creation_date":1428228015,"answer_id":29456148,"question_id":29456119,"body_markdown":"1. You haven&#39;t saved your variables to the **scope**.\r\n\r\nYou&#39;ve to do this otherwise EL won&#39;t see your variables.\r\n\r\nSave the variables to *request scope*:\r\n\r\n    &lt;c:set var=&quot;n&quot; value=&quot;${param.n}&quot; scope=&quot;request&quot;/&gt;\r\n    &lt;c:set var=&quot;t&quot; value=&quot;James&quot; scope=&quot;request&quot;/&gt;\r\n\r\n2. \r\n\r\nYou need to use EL&#39;s **eq** operator instead of Java&#39;s `.equals()`.\r\n\r\nChange your code like this:\r\n\r\n    &lt;c:if test=&quot;${t eq n}&quot;&gt; \r\n      &lt;c:out value=&quot;Validated!&quot;/&gt;\r\n    &lt;/c:if&gt;\r\n\r\nP.S. Your JSP file contains scriptlets that is bad practice and the approach is insecure. \r\n\r\nWould be even better to separate the logics and the views as described [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files","title":"Why doesn&#39;t String.equals() method work inside the JSTL Core tag &lt;c:if&gt;?","body":"<ol>\n<li>You haven't saved your variables to the <strong>scope</strong>.</li>\n</ol>\n<p>You've to do this otherwise EL won't see your variables.</p>\n<p>Save the variables to <em>request scope</em>:</p>\n<pre><code>&lt;c:set var=&quot;n&quot; value=&quot;${param.n}&quot; scope=&quot;request&quot;/&gt;\n&lt;c:set var=&quot;t&quot; value=&quot;James&quot; scope=&quot;request&quot;/&gt;\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>You need to use EL's <strong>eq</strong> operator instead of Java's <code>.equals()</code>.</p>\n<p>Change your code like this:</p>\n<pre><code>&lt;c:if test=&quot;${t eq n}&quot;&gt; \n  &lt;c:out value=&quot;Validated!&quot;/&gt;\n&lt;/c:if&gt;\n</code></pre>\n<p>P.S. Your JSP file contains scriptlets that is bad practice and the approach is insecure.</p>\n<p>Would be even better to separate the logics and the views as described <a href=\"https://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1663241,"reputation":7957,"user_id":1531130,"accept_rate":45,"display_name":"hamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428232153,"creation_date":1428228437,"answer_id":29456203,"question_id":29456119,"body_markdown":"You can use normal `==` comparison operator in this way:\r\n\r\n    &lt;c:if test=&quot;${t == n}&quot;&gt; \r\n        &lt;c:out value=&quot;Validated!&quot;/&gt;\r\n    &lt;/c:if&gt;\r\n\r\nIf you need to compare string values rather than object&#39;s attribute, you can do this:\r\n\r\n    &lt;c:if test=&quot;${t == &#39;Any string can be here&#39;}&quot;&gt; \r\n        &lt;c:out value=&quot;Validated!&quot;/&gt;\r\n    &lt;/c:if&gt;","title":"Why doesn&#39;t String.equals() method work inside the JSTL Core tag &lt;c:if&gt;?","body":"<p>You can use normal <code>==</code> comparison operator in this way:</p>\n\n<pre><code>&lt;c:if test=\"${t == n}\"&gt; \n    &lt;c:out value=\"Validated!\"/&gt;\n&lt;/c:if&gt;\n</code></pre>\n\n<p>If you need to compare string values rather than object's attribute, you can do this:</p>\n\n<pre><code>&lt;c:if test=\"${t == 'Any string can be here'}\"&gt; \n    &lt;c:out value=\"Validated!\"/&gt;\n&lt;/c:if&gt;\n</code></pre>\n"}],"owner":{"account_id":3741774,"reputation":270,"user_id":3111418,"accept_rate":73,"display_name":"Blessen George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29456148,"answer_count":2,"score":1,"last_activity_date":1652472941,"creation_date":1428227725,"question_id":29456119,"body_markdown":"Purpose of code: To validate an input string from the user. If the user inputs his name, stored as &#39;n&#39;, as &quot;James&quot; then the message &quot;Validated!&quot; is displayed. \r\n(A separate HTML form takes care of the input string)\r\n\r\nAlthough there aren&#39;t any errors, the test inside the &lt;c:if&gt; tag fails and the message is not displayed regardless of whether the input string is &quot;James&quot; or not.\r\n\r\n\r\n    &lt;body&gt;\r\n        \r\n        &lt;%  String n = (String)request.getParameter(&quot;n&quot;);\r\n               String t = &quot;James&quot;;\r\n        %&gt;\r\n\r\n        Message &lt;!-- Default message displayed to show that HTML body is read. --&gt;\r\n \r\n        &lt;c:if test=&quot;${t.equals(n)}&quot;&gt; \r\n            &lt;c:out value=&quot;Validated!&quot;/&gt;\r\n        &lt;/c:if&gt;\r\n                \r\n    &lt;/body&gt;\r\n\r\n\r\nIf I were to replace the test condition with true inside the curly braces, the if condition passes and the message &quot;Validated!&quot; is displayed.\r\n\r\nWhy doesn&#39;t the `equals()` method work inside the JSTL tag?","title":"Why doesn&#39;t String.equals() method work inside the JSTL Core tag &lt;c:if&gt;?","body":"<p>Purpose of code: To validate an input string from the user. If the user inputs his name, stored as 'n', as \"James\" then the message \"Validated!\" is displayed. \n(A separate HTML form takes care of the input string)</p>\n\n<p>Although there aren't any errors, the test inside the  tag fails and the message is not displayed regardless of whether the input string is \"James\" or not.</p>\n\n<pre><code>&lt;body&gt;\n\n    &lt;%  String n = (String)request.getParameter(\"n\");\n           String t = \"James\";\n    %&gt;\n\n    Message &lt;!-- Default message displayed to show that HTML body is read. --&gt;\n\n    &lt;c:if test=\"${t.equals(n)}\"&gt; \n        &lt;c:out value=\"Validated!\"/&gt;\n    &lt;/c:if&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>If I were to replace the test condition with true inside the curly braces, the if condition passes and the message \"Validated!\" is displayed.</p>\n\n<p>Why doesn't the <code>equals()</code> method work inside the JSTL tag?</p>\n"},{"tags":["java","gradle","build.gradle","classpath","eclipse-classpath"],"answers":[{"tags":[],"owner":{"account_id":2341065,"reputation":736,"user_id":2052346,"accept_rate":76,"display_name":"sparks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652472337,"creation_date":1652472337,"answer_id":72234901,"question_id":72231396,"body_markdown":"I found the root of the issue is that the dom4j package included two dependencies that wasn&#39;t mapped as I suspected. I found them by using the &#39;Open Type&#39; screen in eclipse as shown in my screenshot in the original question then looking up libraries that used those on MVNRepository - sort of a reverse lookup. The dom4j package just so happened to contain both.\r\n\r\nI was able to get past this issue by excluding as follows:\r\n\r\n```\r\n    implementation (group: &#39;org.dom4j&#39;, name: &#39;dom4j&#39;, version: &#39;2.1.3&#39;)\r\n    {\r\n    \texclude group: &#39;javax.xml.stream&#39;, module: &#39;stax-api&#39;\r\n    \texclude group: &#39;xpp3&#39;, module: &#39;xpp3&#39;\r\n    }\r\n```","title":"Gradle dependency on classpath but not dependency tree?","body":"<p>I found the root of the issue is that the dom4j package included two dependencies that wasn't mapped as I suspected. I found them by using the 'Open Type' screen in eclipse as shown in my screenshot in the original question then looking up libraries that used those on MVNRepository - sort of a reverse lookup. The dom4j package just so happened to contain both.</p>\n<p>I was able to get past this issue by excluding as follows:</p>\n<pre><code>    implementation (group: 'org.dom4j', name: 'dom4j', version: '2.1.3')\n    {\n        exclude group: 'javax.xml.stream', module: 'stax-api'\n        exclude group: 'xpp3', module: 'xpp3'\n    }\n</code></pre>\n"}],"owner":{"account_id":2341065,"reputation":736,"user_id":2052346,"accept_rate":76,"display_name":"sparks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652472337,"creation_date":1652452914,"question_id":72231396,"body_markdown":"I am currently upgrading an app from a lower level of Spring to 5.3.15 (as well as other jars as needed) plus making the code compatible with Java 11. However, I am having an issue with `javax.xml.namespace.QName` because it is finding multiple sources on the classpath: java 11 and `javax.xml.stream:stax-api`\r\n\r\nBUT - stax-api isn&#39;t in the dependency tree, so how do I remove it from the classpath? is it a hidden dependency?\r\n\r\nbuild.grade:\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &quot;war&quot;\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;com.bmuschko.tomcat&#39;\r\n\r\nwebAppDirName = &#39;web&#39;\r\n\r\nwar {\r\n    baseName = &#39;VMT&#39;\r\n    }\r\n    \r\nconfigurations {\r\n   provided\r\n}\r\n\r\n\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n\r\nbuildscript {\r\n  repositories {\r\n    gradlePluginPortal()\r\n    mavenCentral()\r\n    maven {\r\n    \turl &#39;https://repo.maven.apache.org/&#39;\r\n    }\r\n  }\r\n  dependencies {\r\n    classpath &#39;com.bmuschko:gradle-tomcat-plugin:2.7.0&#39;\r\n  }\r\n}\r\n\r\nsourceSets {\r\n    main{\r\n        java {\r\n            srcDir &#39;src/main/java&#39;\r\n        }\r\n\t\tresources {\r\n\t\t\tsrcDir &#39;src/main/resources&#39;\r\n\t\t\tinclude &#39;log4j2.xml&#39;\r\n\t\t}\r\n    }\r\n}\r\n\r\ntask main(type: Test) {\r\n    description = &quot;Runs JAVA main&quot;\r\n    testClassesDirs = project.sourceSets.main.output.classesDirs\r\n    classpath += sourceSets.main.runtimeClasspath\r\n }\r\n\r\n\r\nrepositories {\r\n\tgradlePluginPortal()\r\n    mavenCentral()\r\n    maven {\r\n    \turl &#39;https://repo.maven.apache.org/&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    def tomcatVersion = &#39;8.0.44&#39;\r\n    def log4j2Version = &#39;+&#39; // Use at least 2.16.0 due to RCE vuln\r\n    def springVersion = &#39;4.2.9.RELEASE&#39;\r\n     \r\n    implementation files(&#39;web/WEB-INF/classes&#39;)\r\n\r\n    implementation group: &#39;com.oracle.database.jdbc&#39;, name: &#39;ojdbc8&#39;, version: &#39;21.5.0.0&#39;\r\n    implementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.15&#39;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-collections4&#39;, version: &#39;4.4&#39; //3.2.1\r\n    implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.11.0&#39; //replacing commons-io2.4\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \r\n\r\n    implementation group: &#39;org.antlr&#39;, name: &#39;antlr4-runtime&#39;, version: &#39;4.9.3&#39; //2.7.7\r\n    implementation group: &#39;org.apache.axis&#39;, name: &#39;axis&#39;, version: &#39;1.4&#39; //upgrade to 2\r\n    implementation group: &#39;com.mchange&#39;, name: &#39;c3p0&#39;, version: &#39;0.9.5.5&#39; //0.9.2.1\r\n    implementation group: &#39;jakarta.enterprise&#39;, name: &#39;jakarta.enterprise.cdi-api&#39;, version: &#39;4.0.0-RC5&#39; //cdi-api-1.1\r\n    implementation group: &#39;org.dom4j&#39;, name: &#39;dom4j&#39;, version: &#39;2.1.3&#39; //1.6.1\r\n    implementation group: &#39;org.ehcache&#39;, name: &#39;ehcache&#39;, version: &#39;3.10.0&#39;\r\n    implementation group: &#39;jakarta.el&#39;, name: &#39;jakarta.el-api&#39;, version: &#39;5.0.0-RC1&#39; //el-api-2.2.\r\n    implementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.9.0&#39; //2.6.2\r\n    implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-annotations&#39;, version: &#39;2.13.2&#39; //2.1.5\r\n    implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: &#39;2.13.2&#39; //2.1.5\r\n    implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.2.2&#39; //2.1.5\r\n    implementation group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;5.2.2&#39; //3.9\r\n    implementation group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml&#39;, version: &#39;5.2.2&#39; //3.9\r\n    implementation group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml-schemas&#39;, version: &#39;4.1.2&#39; //3.9\r\n    runtimeOnly group: &#39;org.apache.taglibs&#39;, name: &#39;taglibs-standard-impl&#39;, version: &#39;1.2.5&#39;\r\n\timplementation group: &#39;wsdl4j&#39;, name: &#39;wsdl4j&#39;, version: &#39;1.6.3&#39;\r\n\timplementation group: &#39;org.apache.xmlbeans&#39;, name: &#39;xmlbeans&#39;, version: &#39;5.0.3&#39; //2.3.0\r\n    \r\n\r\n    implementation group: &#39;jakarta.xml.bind&#39;, name: &#39;jakarta.xml.bind-api&#39;, version: &#39;2.3.3&#39;\r\n\timplementation group: &#39;jakarta.xml.ws&#39;, name: &#39;jakarta.xml.ws-api&#39;, version: &#39;3.0.1&#39;\r\n\timplementation group: &#39;jakarta.activation&#39;, name: &#39;jakarta.activation-api&#39;, version: &#39;2.1.0&#39;\r\n\timplementation group: &#39;jakarta.annotation&#39;, name: &#39;jakarta.annotation-api&#39;, version: &#39;2.1.0&#39; //&#39;1.3.2&#39;\r\n\timplementation group: &#39;jakarta.servlet&#39;, name: &#39;jakarta.servlet-api&#39;, version: &#39;5.0.0&#39;\r\n\timplementation group: &#39;jakarta.xml.bind&#39;, name: &#39;jakarta.xml.bind-api&#39;, version: &#39;3.0.1&#39; //&#39;2.3.3&#39;\r\n\timplementation group: &#39;jakarta.xml.ws&#39;, name: &#39;jakarta.xml.ws-api&#39;, version: &#39;3.0.1&#39; \r\n    implementation group: &#39;jakarta.inject&#39;, name: &#39;jakarta.inject-api&#39;, version: &#39;2.0.1&#39; //javax.inject-1\r\n\timplementation group: &#39;jakarta.servlet.jsp.jstl&#39;, name: &#39;jakarta.servlet.jsp.jstl-api&#39;, version: &#39;2.0.0&#39;\r\n\timplementation group: &#39;jakarta.servlet&#39;, name: &#39;jakarta.servlet-api&#39;, version: &#39;5.0.0&#39;\r\n\t\r\n    \t\r\n\timplementation group: &#39;com.sun.xml.bind&#39;, name: &#39;jaxb-core&#39;, version: &#39;2.3.0&#39;\r\n  \timplementation (group: &#39;com.sun.xml.rpc&#39;, name: &#39;jaxrpc-impl&#39;, version: &#39;1.1.6&#39;) \r\n\t\r\n\t\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &quot;${log4j2Version}&quot;\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &quot;${log4j2Version}&quot;\t\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-jcl&#39;, version: &quot;${log4j2Version}&quot;\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-jdbc-dbcp2&#39;, version: &quot;${log4j2Version}&quot;\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-jul&#39;, version: &quot;${log4j2Version}&quot;\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-spring-boot&#39;, version: &quot;${log4j2Version}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-aop&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-aspects&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-beans&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-core&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-context-support&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-expression&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-instrument&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-instrument-tomcat&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-jdbc&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-jms&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-messaging&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-orm&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-oxm&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-test&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-tx&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-web&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-webmvc&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-webmvc-portlet&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-websocket&#39;, version: &quot;${springVersion}&quot;\r\n  \timplementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-config&#39;, version: &quot;${springVersion}&quot; //3.1.3.RELEASE\r\n  \timplementation group: &#39;org.springframework&#39;, name: &#39;spring-dao&#39;, version: &quot;2.0.8&quot; //&quot;${springVersion}&quot; //2.0\r\n  \timplementation group: &#39;org.hibernate.common&#39;, name: &#39;hibernate-commons-annotations&#39;, version: &#39;6.0.0.Final&#39;\r\n  \timplementation group: &#39;org.hibernate.javax.persistence&#39;, name: &#39;hibernate-jpa-2.1-api&#39;, version: &#39;1.0.2.Final&#39;\r\n  \timplementation group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-core&#39;, version: &#39;6.0.0.Final&#39;\r\n  \timplementation group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-c3p0&#39;, version: &#39;6.0.0.Final&#39;\r\n  \t\r\n\r\n  \timplementation  group: &#39;com.sun.mail&#39;, name: &#39;javax.mail&#39;, version: &#39;1.5.1&#39;\r\n  \timplementation &quot;org.apache.tomcat:tomcat-catalina:${tomcatVersion}&quot;\r\n  \timplementation &quot;org.apache.tomcat:tomcat-util:${tomcatVersion}&quot;\r\n  \timplementation &quot;org.apache.tomcat:tomcat-jasper:${tomcatVersion}&quot;\r\n  \timplementation &quot;org.apache.tomcat:tomcat-juli:${tomcatVersion}&quot;\r\n  \ttomcat &quot;org.apache.tomcat.embed:tomcat-embed-core:${tomcatVersion}&quot;,\r\n  \t       &quot;org.apache.tomcat.embed:tomcat-embed-logging-juli:${tomcatVersion}&quot;,\r\n  \t       &quot;org.apache.tomcat.embed:tomcat-embed-jasper:${tomcatVersion}&quot;\r\n}\r\n\r\ntomcat {\r\n  httpPort = 8090\r\n  stopPort = 8091\r\n  contextPath = &#39;/&#39;\r\n}\r\n```\r\n\r\noutput of `gradle -q dependencies`:\r\n```\r\ncompileClasspath - Compile classpath for source set &#39;main&#39;.\r\n+--- com.oracle.database.jdbc:ojdbc8:21.5.0.0\r\n+--- commons-codec:commons-codec:1.15\r\n+--- org.apache.commons:commons-collections4:4.4\r\n+--- commons-io:commons-io:2.11.0\r\n+--- org.apache.commons:commons-lang3:3.12.0\r\n+--- org.antlr:antlr4-runtime:4.9.3\r\n+--- org.apache.axis:axis:1.4\r\n+--- com.mchange:c3p0:0.9.5.5\r\n|    \\--- com.mchange:mchange-commons-java:0.2.19\r\n+--- jakarta.enterprise:jakarta.enterprise.cdi-api:4.0.0-RC5\r\n|    +--- jakarta.enterprise:jakarta.enterprise.lang-model:4.0.0-RC5\r\n|    +--- jakarta.annotation:jakarta.annotation-api:2.1.0-B1 -&gt; 2.1.0\r\n|    +--- jakarta.el:jakarta.el-api:5.0.0-RC1\r\n|    +--- jakarta.interceptor:jakarta.interceptor-api:2.1.0-RC3\r\n|    \\--- jakarta.inject:jakarta.inject-api:2.0.1\r\n+--- org.dom4j:dom4j:2.1.3\r\n+--- org.ehcache:ehcache:3.10.0\r\n|    +--- javax.cache:cache-api:1.1.0\r\n|    +--- org.slf4j:slf4j-api:1.7.25\r\n|    \\--- org.glassfish.jaxb:jaxb-runtime:[2.2,3) -&gt; 3.0.2\r\n|         +--- com.sun.activation:jakarta.activation:2.0.1\r\n|         \\--- org.glassfish.jaxb:jaxb-core:3.0.2\r\n|              +--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1\r\n|              |    \\--- com.sun.activation:jakarta.activation:2.0.1\r\n|              +--- com.sun.activation:jakarta.activation:2.0.1\r\n|              +--- org.glassfish.jaxb:txw2:3.0.2\r\n|              \\--- com.sun.istack:istack-commons-runtime:4.0.1\r\n+--- jakarta.el:jakarta.el-api:5.0.0-RC1\r\n+--- com.google.code.gson:gson:2.9.0\r\n+--- com.fasterxml.jackson.core:jackson-annotations:2.13.2\r\n+--- com.fasterxml.jackson.core:jackson-core:2.13.2\r\n+--- com.fasterxml.jackson.core:jackson-databind:2.13.2.2\r\n|    +--- com.fasterxml.jackson.core:jackson-annotations:2.13.2\r\n|    \\--- com.fasterxml.jackson.core:jackson-core:2.13.2\r\n+--- org.apache.poi:poi:5.2.2\r\n|    +--- commons-codec:commons-codec:1.15\r\n|    +--- org.apache.commons:commons-collections4:4.4\r\n|    +--- org.apache.commons:commons-math3:3.6.1\r\n|    +--- commons-io:commons-io:2.11.0\r\n|    +--- com.zaxxer:SparseBitSet:1.2\r\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\r\n+--- org.apache.poi:poi-ooxml:5.2.2\r\n|    +--- org.apache.poi:poi:5.2.2 (*)\r\n|    +--- org.apache.poi:poi-ooxml-lite:5.2.2\r\n|    |    \\--- org.apache.xmlbeans:xmlbeans:5.0.3\r\n|    |         \\--- org.apache.logging.log4j:log4j-api:2.17.1 -&gt; 2.17.2\r\n|    +--- org.apache.xmlbeans:xmlbeans:5.0.3 (*)\r\n|    +--- org.apache.commons:commons-compress:1.21\r\n|    +--- commons-io:commons-io:2.11.0\r\n|    +--- com.github.virtuald:curvesapi:1.07\r\n|    +--- org.apache.logging.log4j:log4j-api:2.17.2\r\n|    \\--- org.apache.commons:commons-collections4:4.4\r\n+--- org.apache.poi:poi-ooxml-schemas:4.1.2\r\n|    \\--- org.apache.xmlbeans:xmlbeans:3.1.0 -&gt; 5.0.3 (*)\r\n+--- wsdl4j:wsdl4j:1.6.3\r\n+--- org.apache.xmlbeans:xmlbeans:5.0.3 (*)\r\n+--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3 -&gt; 3.0.1 (*)\r\n+--- jakarta.xml.ws:jakarta.xml.ws-api:3.0.1\r\n|    +--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 (*)\r\n|    +--- jakarta.xml.soap:jakarta.xml.soap-api:2.0.1\r\n|    |    \\--- com.sun.activation:jakarta.activation:2.0.1\r\n|    \\--- jakarta.jws:jakarta.jws-api:3.0.0\r\n+--- jakarta.activation:jakarta.activation-api:2.1.0\r\n+--- jakarta.annotation:jakarta.annotation-api:2.1.0\r\n+--- jakarta.servlet:jakarta.servlet-api:5.0.0\r\n+--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 (*)\r\n+--- jakarta.inject:jakarta.inject-api:2.0.1\r\n+--- jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:2.0.0\r\n|    +--- jakarta.servlet:jakarta.servlet-api:5.0.0\r\n|    +--- jakarta.el:jakarta.el-api:4.0.0 -&gt; 5.0.0-RC1\r\n|    \\--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.0 -&gt; 3.0.1 (*)\r\n+--- com.sun.xml.bind:jaxb-core:2.3.0\r\n+--- com.sun.xml.rpc:jaxrpc-impl:1.1.6\r\n|    +--- jakarta.servlet:jakarta.servlet-api:4.0.2 -&gt; 5.0.0\r\n|    +--- jakarta.xml.rpc:jakarta.xml.rpc-api:1.1.3\r\n|    +--- com.sun.xml.messaging.saaj:saaj-impl:1.5.1\r\n|    |    +--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.2 -&gt; 3.0.1 (*)\r\n|    |    +--- jakarta.xml.soap:jakarta.xml.soap-api:1.4.1 -&gt; 2.0.1 (*)\r\n|    |    +--- org.jvnet.mimepull:mimepull:1.9.11\r\n|    |    \\--- org.jvnet.staxex:stax-ex:1.8.1\r\n|    |         \\--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.2 -&gt; 3.0.1 (*)\r\n|    +--- com.sun.xml.fastinfoset:FastInfoset:1.2.16\r\n|    +--- com.sun.mail:jakarta.mail:1.6.3\r\n|    |    \\--- com.sun.activation:jakarta.activation:1.2.1 -&gt; 2.0.1\r\n|    \\--- com.sun.xml.rpc:jaxrpc-spi:1.1.6\r\n|         +--- jakarta.servlet:jakarta.servlet-api:4.0.2 -&gt; 5.0.0\r\n|         \\--- jakarta.xml.rpc:jakarta.xml.rpc-api:1.1.3\r\n+--- org.apache.logging.log4j:log4j-api:+ -&gt; 2.17.2\r\n+--- org.apache.logging.log4j:log4j-core:+ -&gt; 2.17.2\r\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\r\n+--- org.apache.logging.log4j:log4j-jcl:+ -&gt; 2.17.2\r\n|    +--- commons-logging:commons-logging:1.2\r\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\r\n+--- org.apache.logging.log4j:log4j-jdbc-dbcp2:+ -&gt; 2.17.2\r\n|    +--- org.apache.logging.log4j:log4j-core:2.17.2 (*)\r\n|    \\--- org.apache.commons:commons-dbcp2:2.9.0\r\n|         +--- org.apache.commons:commons-pool2:2.10.0\r\n|         \\--- commons-logging:commons-logging:1.2\r\n+--- org.apache.logging.log4j:log4j-jul:+ -&gt; 2.17.2\r\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\r\n+--- org.apache.logging.log4j:log4j-spring-boot:+ -&gt; 2.17.2\r\n|    +--- org.junit.vintage:junit-vintage-engine:5.7.2\r\n|    |    +--- org.apiguardian:apiguardian-api:1.1.0\r\n|    |    +--- org.junit.platform:junit-platform-engine:1.7.2\r\n|    |    |    +--- org.apiguardian:apiguardian-api:1.1.0\r\n|    |    |    +--- org.opentest4j:opentest4j:1.2.0\r\n|    |    |    \\--- org.junit.platform:junit-platform-commons:1.7.2\r\n|    |    |         \\--- org.apiguardian:apiguardian-api:1.1.0\r\n|    |    \\--- junit:junit:4.13\r\n|    |         \\--- org.hamcrest:hamcrest-core:1.3\r\n|    +--- org.junit.jupiter:junit-jupiter-engine:5.7.2\r\n|    |    +--- org.apiguardian:apiguardian-api:1.1.0\r\n|    |    +--- org.junit.platform:junit-platform-engine:1.7.2 (*)\r\n|    |    \\--- org.junit.jupiter:junit-jupiter-api:5.7.2\r\n|    |         +--- org.apiguardian:apiguardian-api:1.1.0\r\n|    |         +--- org.opentest4j:opentest4j:1.2.0\r\n|    |         \\--- org.junit.platform:junit-platform-commons:1.7.2 (*)\r\n|    +--- org.junit.jupiter:junit-jupiter-api:5.7.2 (*)\r\n|    +--- org.springframework.boot:spring-boot:2.5.7\r\n|    |    +--- org.springframework:spring-core:5.3.13 -&gt; 5.3.15\r\n|    |    |    \\--- org.springframework:spring-jcl:5.3.15\r\n|    |    \\--- org.springframework:spring-context:5.3.13 -&gt; 5.3.15\r\n|    |         +--- org.springframework:spring-aop:5.3.15\r\n|    |         |    +--- org.springframework:spring-beans:5.3.15\r\n|    |         |    |    \\--- org.springframework:spring-core:5.3.15 (*)\r\n|    |         |    \\--- org.springframework:spring-core:5.3.15 (*)\r\n|    |         +--- org.springframework:spring-beans:5.3.15 (*)\r\n|    |         +--- org.springframework:spring-core:5.3.15 (*)\r\n|    |         \\--- org.springframework:spring-expression:5.3.15\r\n|    |              \\--- org.springframework:spring-core:5.3.15 (*)\r\n|    +--- org.springframework:spring-context:5.3.15 (*)\r\n|    +--- org.springframework:spring-context-support:5.3.15\r\n|    |    +--- org.springframework:spring-beans:5.3.15 (*)\r\n|    |    +--- org.springframework:spring-context:5.3.15 (*)\r\n|    |    \\--- org.springframework:spring-core:5.3.15 (*)\r\n|    +--- commons-logging:commons-logging:1.2\r\n|    +--- org.apache.logging.log4j:log4j-api:2.14.1 -&gt; 2.17.2\r\n|    \\--- org.apache.logging.log4j:log4j-core:2.14.1 -&gt; 2.17.2 (*)\r\n+--- org.springframework:spring-aop:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-aspects:4.2.9.RELEASE\r\n|    \\--- org.aspectj:aspectjweaver:1.8.9\r\n+--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-context-support:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-expression:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-instrument:4.2.9.RELEASE\r\n+--- org.springframework:spring-instrument-tomcat:4.2.9.RELEASE\r\n+--- org.springframework:spring-jdbc:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-tx:4.2.9.RELEASE\r\n|         +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|         \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-jms:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-aop:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-messaging:4.2.9.RELEASE\r\n|    |    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    |    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    |    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-tx:4.2.9.RELEASE (*)\r\n+--- org.springframework:spring-messaging:4.2.9.RELEASE (*)\r\n+--- org.springframework:spring-orm:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-jdbc:4.2.9.RELEASE (*)\r\n|    \\--- org.springframework:spring-tx:4.2.9.RELEASE (*)\r\n+--- org.springframework:spring-oxm:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-test:4.2.9.RELEASE\r\n|    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-tx:4.2.9.RELEASE (*)\r\n+--- org.springframework:spring-web:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-aop:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-webmvc:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-expression:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-web:4.2.9.RELEASE (*)\r\n+--- org.springframework:spring-webmvc-portlet:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-web:4.2.9.RELEASE (*)\r\n|    \\--- org.springframework:spring-webmvc:4.2.9.RELEASE (*)\r\n+--- org.springframework:spring-websocket:4.2.9.RELEASE\r\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-web:4.2.9.RELEASE (*)\r\n+--- org.springframework.security:spring-security-config:4.2.9.RELEASE\r\n|    +--- aopalliance:aopalliance:1.0\r\n|    +--- org.springframework.security:spring-security-core:4.2.9.RELEASE\r\n|    |    +--- aopalliance:aopalliance:1.0\r\n|    |    +--- org.springframework:spring-aop:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    |    +--- org.springframework:spring-beans:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    |    +--- org.springframework:spring-context:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    |    +--- org.springframework:spring-core:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    |    \\--- org.springframework:spring-expression:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-aop:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-beans:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-context:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-core:4.3.19.RELEASE -&gt; 5.3.15 (*)\r\n+--- org.springframework:spring-dao:2.0.8\r\n|    +--- aopalliance:aopalliance:1.0\r\n|    +--- commons-logging:commons-logging:1.1 -&gt; 1.2\r\n|    +--- org.springframework:spring-beans:2.0.8 -&gt; 5.3.15 (*)\r\n|    +--- org.springframework:spring-context:2.0.8 -&gt; 5.3.15 (*)\r\n|    \\--- org.springframework:spring-core:2.0.8 -&gt; 5.3.15 (*)\r\n+--- org.hibernate.common:hibernate-commons-annotations:6.0.0.Final\r\n+--- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.2.Final\r\n+--- org.hibernate.orm:hibernate-core:6.0.0.Final\r\n|    +--- jakarta.persistence:jakarta.persistence-api:3.0.0\r\n|    +--- jakarta.transaction:jakarta.transaction-api:2.0.0\r\n|    +--- org.jboss.logging:jboss-logging:3.4.3.Final\r\n|    +--- org.jboss:jandex:2.4.2.Final\r\n|    +--- com.fasterxml:classmate:1.5.1\r\n|    +--- org.hibernate.common:hibernate-commons-annotations:6.0.0.CR1 -&gt; 6.0.0.Final\r\n|    +--- net.bytebuddy:byte-buddy:1.12.8\r\n|    +--- jakarta.activation:jakarta.activation-api:2.0.1 -&gt; 2.1.0\r\n|    +--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 (*)\r\n|    +--- org.glassfish.jaxb:jaxb-runtime:3.0.2 (*)\r\n|    +--- jakarta.inject:jakarta.inject-api:2.0.0 -&gt; 2.0.1\r\n|    \\--- org.antlr:antlr4-runtime:4.9.1 -&gt; 4.9.3\r\n+--- org.hibernate.orm:hibernate-c3p0:6.0.0.Final\r\n|    +--- org.jboss.logging:jboss-logging:3.4.3.Final\r\n|    +--- org.hibernate.orm:hibernate-core:6.0.0.Final (*)\r\n|    \\--- com.mchange:c3p0:0.9.5.5 (*)\r\n+--- com.sun.mail:javax.mail:1.5.1\r\n|    \\--- javax.activation:activation:1.1\r\n+--- org.apache.tomcat:tomcat-catalina:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-servlet-api:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-jsp-api:8.0.44\r\n|    |    +--- org.apache.tomcat:tomcat-el-api:8.0.44\r\n|    |    \\--- org.apache.tomcat:tomcat-servlet-api:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-juli:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-annotations-api:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-api:8.0.44\r\n|    |    \\--- org.apache.tomcat:tomcat-servlet-api:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-jni:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-coyote:8.0.44\r\n|    |    +--- org.apache.tomcat:tomcat-servlet-api:8.0.44\r\n|    |    +--- org.apache.tomcat:tomcat-jni:8.0.44\r\n|    |    +--- org.apache.tomcat:tomcat-juli:8.0.44\r\n|    |    \\--- org.apache.tomcat:tomcat-util:8.0.44\r\n|    |         \\--- org.apache.tomcat:tomcat-juli:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-util:8.0.44 (*)\r\n|    \\--- org.apache.tomcat:tomcat-util-scan:8.0.44\r\n|         +--- org.apache.tomcat:tomcat-util:8.0.44 (*)\r\n|         +--- org.apache.tomcat:tomcat-juli:8.0.44\r\n|         \\--- org.apache.tomcat:tomcat-api:8.0.44 (*)\r\n+--- org.apache.tomcat:tomcat-util:8.0.44 (*)\r\n+--- org.apache.tomcat:tomcat-jasper:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-servlet-api:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-juli:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-jsp-api:8.0.44 (*)\r\n|    +--- org.apache.tomcat:tomcat-el-api:8.0.44\r\n|    +--- org.eclipse.jdt:ecj:3.12.3\r\n|    +--- org.apache.tomcat:tomcat-jasper-el:8.0.44\r\n|    |    \\--- org.apache.tomcat:tomcat-el-api:8.0.44\r\n|    +--- org.apache.tomcat:tomcat-api:8.0.44 (*)\r\n|    \\--- org.apache.tomcat:tomcat-util-scan:8.0.44 (*)\r\n\\--- org.apache.tomcat:tomcat-juli:8.0.44\r\n```\r\n\r\nScreenshot of object on classpath\r\n[![Screenshot of object on classpath][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k6GSl.png","title":"Gradle dependency on classpath but not dependency tree?","body":"<p>I am currently upgrading an app from a lower level of Spring to 5.3.15 (as well as other jars as needed) plus making the code compatible with Java 11. However, I am having an issue with <code>javax.xml.namespace.QName</code> because it is finding multiple sources on the classpath: java 11 and <code>javax.xml.stream:stax-api</code></p>\n<p>BUT - stax-api isn't in the dependency tree, so how do I remove it from the classpath? is it a hidden dependency?</p>\n<p>build.grade:</p>\n<pre><code>apply plugin: 'java'\napply plugin: &quot;war&quot;\napply plugin: 'eclipse'\napply plugin: 'com.bmuschko.tomcat'\n\nwebAppDirName = 'web'\n\nwar {\n    baseName = 'VMT'\n    }\n    \nconfigurations {\n   provided\n}\n\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n\nbuildscript {\n  repositories {\n    gradlePluginPortal()\n    mavenCentral()\n    maven {\n        url 'https://repo.maven.apache.org/'\n    }\n  }\n  dependencies {\n    classpath 'com.bmuschko:gradle-tomcat-plugin:2.7.0'\n  }\n}\n\nsourceSets {\n    main{\n        java {\n            srcDir 'src/main/java'\n        }\n        resources {\n            srcDir 'src/main/resources'\n            include 'log4j2.xml'\n        }\n    }\n}\n\ntask main(type: Test) {\n    description = &quot;Runs JAVA main&quot;\n    testClassesDirs = project.sourceSets.main.output.classesDirs\n    classpath += sourceSets.main.runtimeClasspath\n }\n\n\nrepositories {\n    gradlePluginPortal()\n    mavenCentral()\n    maven {\n        url 'https://repo.maven.apache.org/'\n    }\n}\n\ndependencies {\n    def tomcatVersion = '8.0.44'\n    def log4j2Version = '+' // Use at least 2.16.0 due to RCE vuln\n    def springVersion = '4.2.9.RELEASE'\n     \n    implementation files('web/WEB-INF/classes')\n\n    implementation group: 'com.oracle.database.jdbc', name: 'ojdbc8', version: '21.5.0.0'\n    implementation group: 'commons-codec', name: 'commons-codec', version: '1.15'\n    implementation group: 'org.apache.commons', name: 'commons-collections4', version: '4.4' //3.2.1\n    implementation group: 'commons-io', name: 'commons-io', version: '2.11.0' //replacing commons-io2.4\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    \n\n    implementation group: 'org.antlr', name: 'antlr4-runtime', version: '4.9.3' //2.7.7\n    implementation group: 'org.apache.axis', name: 'axis', version: '1.4' //upgrade to 2\n    implementation group: 'com.mchange', name: 'c3p0', version: '0.9.5.5' //0.9.2.1\n    implementation group: 'jakarta.enterprise', name: 'jakarta.enterprise.cdi-api', version: '4.0.0-RC5' //cdi-api-1.1\n    implementation group: 'org.dom4j', name: 'dom4j', version: '2.1.3' //1.6.1\n    implementation group: 'org.ehcache', name: 'ehcache', version: '3.10.0'\n    implementation group: 'jakarta.el', name: 'jakarta.el-api', version: '5.0.0-RC1' //el-api-2.2.\n    implementation group: 'com.google.code.gson', name: 'gson', version: '2.9.0' //2.6.2\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.13.2' //2.1.5\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.13.2' //2.1.5\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.2.2' //2.1.5\n    implementation group: 'org.apache.poi', name: 'poi', version: '5.2.2' //3.9\n    implementation group: 'org.apache.poi', name: 'poi-ooxml', version: '5.2.2' //3.9\n    implementation group: 'org.apache.poi', name: 'poi-ooxml-schemas', version: '4.1.2' //3.9\n    runtimeOnly group: 'org.apache.taglibs', name: 'taglibs-standard-impl', version: '1.2.5'\n    implementation group: 'wsdl4j', name: 'wsdl4j', version: '1.6.3'\n    implementation group: 'org.apache.xmlbeans', name: 'xmlbeans', version: '5.0.3' //2.3.0\n    \n\n    implementation group: 'jakarta.xml.bind', name: 'jakarta.xml.bind-api', version: '2.3.3'\n    implementation group: 'jakarta.xml.ws', name: 'jakarta.xml.ws-api', version: '3.0.1'\n    implementation group: 'jakarta.activation', name: 'jakarta.activation-api', version: '2.1.0'\n    implementation group: 'jakarta.annotation', name: 'jakarta.annotation-api', version: '2.1.0' //'1.3.2'\n    implementation group: 'jakarta.servlet', name: 'jakarta.servlet-api', version: '5.0.0'\n    implementation group: 'jakarta.xml.bind', name: 'jakarta.xml.bind-api', version: '3.0.1' //'2.3.3'\n    implementation group: 'jakarta.xml.ws', name: 'jakarta.xml.ws-api', version: '3.0.1' \n    implementation group: 'jakarta.inject', name: 'jakarta.inject-api', version: '2.0.1' //javax.inject-1\n    implementation group: 'jakarta.servlet.jsp.jstl', name: 'jakarta.servlet.jsp.jstl-api', version: '2.0.0'\n    implementation group: 'jakarta.servlet', name: 'jakarta.servlet-api', version: '5.0.0'\n    \n        \n    implementation group: 'com.sun.xml.bind', name: 'jaxb-core', version: '2.3.0'\n    implementation (group: 'com.sun.xml.rpc', name: 'jaxrpc-impl', version: '1.1.6') \n    \n    \n    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: &quot;${log4j2Version}&quot;\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: &quot;${log4j2Version}&quot;   \n    implementation group: 'org.apache.logging.log4j', name: 'log4j-jcl', version: &quot;${log4j2Version}&quot;\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-jdbc-dbcp2', version: &quot;${log4j2Version}&quot;\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-jul', version: &quot;${log4j2Version}&quot;\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-spring-boot', version: &quot;${log4j2Version}&quot;\n    implementation group: 'org.springframework', name: 'spring-aop', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-aspects', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-beans', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-core', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-context', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-context-support', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-expression', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-instrument', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-instrument-tomcat', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-jdbc', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-jms', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-messaging', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-orm', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-oxm', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-test', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-tx', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-web', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-webmvc', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-webmvc-portlet', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-websocket', version: &quot;${springVersion}&quot;\n    implementation group: 'org.springframework.security', name: 'spring-security-config', version: &quot;${springVersion}&quot; //3.1.3.RELEASE\n    implementation group: 'org.springframework', name: 'spring-dao', version: &quot;2.0.8&quot; //&quot;${springVersion}&quot; //2.0\n    implementation group: 'org.hibernate.common', name: 'hibernate-commons-annotations', version: '6.0.0.Final'\n    implementation group: 'org.hibernate.javax.persistence', name: 'hibernate-jpa-2.1-api', version: '1.0.2.Final'\n    implementation group: 'org.hibernate.orm', name: 'hibernate-core', version: '6.0.0.Final'\n    implementation group: 'org.hibernate.orm', name: 'hibernate-c3p0', version: '6.0.0.Final'\n    \n\n    implementation  group: 'com.sun.mail', name: 'javax.mail', version: '1.5.1'\n    implementation &quot;org.apache.tomcat:tomcat-catalina:${tomcatVersion}&quot;\n    implementation &quot;org.apache.tomcat:tomcat-util:${tomcatVersion}&quot;\n    implementation &quot;org.apache.tomcat:tomcat-jasper:${tomcatVersion}&quot;\n    implementation &quot;org.apache.tomcat:tomcat-juli:${tomcatVersion}&quot;\n    tomcat &quot;org.apache.tomcat.embed:tomcat-embed-core:${tomcatVersion}&quot;,\n           &quot;org.apache.tomcat.embed:tomcat-embed-logging-juli:${tomcatVersion}&quot;,\n           &quot;org.apache.tomcat.embed:tomcat-embed-jasper:${tomcatVersion}&quot;\n}\n\ntomcat {\n  httpPort = 8090\n  stopPort = 8091\n  contextPath = '/'\n}\n</code></pre>\n<p>output of <code>gradle -q dependencies</code>:</p>\n<pre><code>compileClasspath - Compile classpath for source set 'main'.\n+--- com.oracle.database.jdbc:ojdbc8:21.5.0.0\n+--- commons-codec:commons-codec:1.15\n+--- org.apache.commons:commons-collections4:4.4\n+--- commons-io:commons-io:2.11.0\n+--- org.apache.commons:commons-lang3:3.12.0\n+--- org.antlr:antlr4-runtime:4.9.3\n+--- org.apache.axis:axis:1.4\n+--- com.mchange:c3p0:0.9.5.5\n|    \\--- com.mchange:mchange-commons-java:0.2.19\n+--- jakarta.enterprise:jakarta.enterprise.cdi-api:4.0.0-RC5\n|    +--- jakarta.enterprise:jakarta.enterprise.lang-model:4.0.0-RC5\n|    +--- jakarta.annotation:jakarta.annotation-api:2.1.0-B1 -&gt; 2.1.0\n|    +--- jakarta.el:jakarta.el-api:5.0.0-RC1\n|    +--- jakarta.interceptor:jakarta.interceptor-api:2.1.0-RC3\n|    \\--- jakarta.inject:jakarta.inject-api:2.0.1\n+--- org.dom4j:dom4j:2.1.3\n+--- org.ehcache:ehcache:3.10.0\n|    +--- javax.cache:cache-api:1.1.0\n|    +--- org.slf4j:slf4j-api:1.7.25\n|    \\--- org.glassfish.jaxb:jaxb-runtime:[2.2,3) -&gt; 3.0.2\n|         +--- com.sun.activation:jakarta.activation:2.0.1\n|         \\--- org.glassfish.jaxb:jaxb-core:3.0.2\n|              +--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1\n|              |    \\--- com.sun.activation:jakarta.activation:2.0.1\n|              +--- com.sun.activation:jakarta.activation:2.0.1\n|              +--- org.glassfish.jaxb:txw2:3.0.2\n|              \\--- com.sun.istack:istack-commons-runtime:4.0.1\n+--- jakarta.el:jakarta.el-api:5.0.0-RC1\n+--- com.google.code.gson:gson:2.9.0\n+--- com.fasterxml.jackson.core:jackson-annotations:2.13.2\n+--- com.fasterxml.jackson.core:jackson-core:2.13.2\n+--- com.fasterxml.jackson.core:jackson-databind:2.13.2.2\n|    +--- com.fasterxml.jackson.core:jackson-annotations:2.13.2\n|    \\--- com.fasterxml.jackson.core:jackson-core:2.13.2\n+--- org.apache.poi:poi:5.2.2\n|    +--- commons-codec:commons-codec:1.15\n|    +--- org.apache.commons:commons-collections4:4.4\n|    +--- org.apache.commons:commons-math3:3.6.1\n|    +--- commons-io:commons-io:2.11.0\n|    +--- com.zaxxer:SparseBitSet:1.2\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\n+--- org.apache.poi:poi-ooxml:5.2.2\n|    +--- org.apache.poi:poi:5.2.2 (*)\n|    +--- org.apache.poi:poi-ooxml-lite:5.2.2\n|    |    \\--- org.apache.xmlbeans:xmlbeans:5.0.3\n|    |         \\--- org.apache.logging.log4j:log4j-api:2.17.1 -&gt; 2.17.2\n|    +--- org.apache.xmlbeans:xmlbeans:5.0.3 (*)\n|    +--- org.apache.commons:commons-compress:1.21\n|    +--- commons-io:commons-io:2.11.0\n|    +--- com.github.virtuald:curvesapi:1.07\n|    +--- org.apache.logging.log4j:log4j-api:2.17.2\n|    \\--- org.apache.commons:commons-collections4:4.4\n+--- org.apache.poi:poi-ooxml-schemas:4.1.2\n|    \\--- org.apache.xmlbeans:xmlbeans:3.1.0 -&gt; 5.0.3 (*)\n+--- wsdl4j:wsdl4j:1.6.3\n+--- org.apache.xmlbeans:xmlbeans:5.0.3 (*)\n+--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3 -&gt; 3.0.1 (*)\n+--- jakarta.xml.ws:jakarta.xml.ws-api:3.0.1\n|    +--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 (*)\n|    +--- jakarta.xml.soap:jakarta.xml.soap-api:2.0.1\n|    |    \\--- com.sun.activation:jakarta.activation:2.0.1\n|    \\--- jakarta.jws:jakarta.jws-api:3.0.0\n+--- jakarta.activation:jakarta.activation-api:2.1.0\n+--- jakarta.annotation:jakarta.annotation-api:2.1.0\n+--- jakarta.servlet:jakarta.servlet-api:5.0.0\n+--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 (*)\n+--- jakarta.inject:jakarta.inject-api:2.0.1\n+--- jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:2.0.0\n|    +--- jakarta.servlet:jakarta.servlet-api:5.0.0\n|    +--- jakarta.el:jakarta.el-api:4.0.0 -&gt; 5.0.0-RC1\n|    \\--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.0 -&gt; 3.0.1 (*)\n+--- com.sun.xml.bind:jaxb-core:2.3.0\n+--- com.sun.xml.rpc:jaxrpc-impl:1.1.6\n|    +--- jakarta.servlet:jakarta.servlet-api:4.0.2 -&gt; 5.0.0\n|    +--- jakarta.xml.rpc:jakarta.xml.rpc-api:1.1.3\n|    +--- com.sun.xml.messaging.saaj:saaj-impl:1.5.1\n|    |    +--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.2 -&gt; 3.0.1 (*)\n|    |    +--- jakarta.xml.soap:jakarta.xml.soap-api:1.4.1 -&gt; 2.0.1 (*)\n|    |    +--- org.jvnet.mimepull:mimepull:1.9.11\n|    |    \\--- org.jvnet.staxex:stax-ex:1.8.1\n|    |         \\--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.2 -&gt; 3.0.1 (*)\n|    +--- com.sun.xml.fastinfoset:FastInfoset:1.2.16\n|    +--- com.sun.mail:jakarta.mail:1.6.3\n|    |    \\--- com.sun.activation:jakarta.activation:1.2.1 -&gt; 2.0.1\n|    \\--- com.sun.xml.rpc:jaxrpc-spi:1.1.6\n|         +--- jakarta.servlet:jakarta.servlet-api:4.0.2 -&gt; 5.0.0\n|         \\--- jakarta.xml.rpc:jakarta.xml.rpc-api:1.1.3\n+--- org.apache.logging.log4j:log4j-api:+ -&gt; 2.17.2\n+--- org.apache.logging.log4j:log4j-core:+ -&gt; 2.17.2\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\n+--- org.apache.logging.log4j:log4j-jcl:+ -&gt; 2.17.2\n|    +--- commons-logging:commons-logging:1.2\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\n+--- org.apache.logging.log4j:log4j-jdbc-dbcp2:+ -&gt; 2.17.2\n|    +--- org.apache.logging.log4j:log4j-core:2.17.2 (*)\n|    \\--- org.apache.commons:commons-dbcp2:2.9.0\n|         +--- org.apache.commons:commons-pool2:2.10.0\n|         \\--- commons-logging:commons-logging:1.2\n+--- org.apache.logging.log4j:log4j-jul:+ -&gt; 2.17.2\n|    \\--- org.apache.logging.log4j:log4j-api:2.17.2\n+--- org.apache.logging.log4j:log4j-spring-boot:+ -&gt; 2.17.2\n|    +--- org.junit.vintage:junit-vintage-engine:5.7.2\n|    |    +--- org.apiguardian:apiguardian-api:1.1.0\n|    |    +--- org.junit.platform:junit-platform-engine:1.7.2\n|    |    |    +--- org.apiguardian:apiguardian-api:1.1.0\n|    |    |    +--- org.opentest4j:opentest4j:1.2.0\n|    |    |    \\--- org.junit.platform:junit-platform-commons:1.7.2\n|    |    |         \\--- org.apiguardian:apiguardian-api:1.1.0\n|    |    \\--- junit:junit:4.13\n|    |         \\--- org.hamcrest:hamcrest-core:1.3\n|    +--- org.junit.jupiter:junit-jupiter-engine:5.7.2\n|    |    +--- org.apiguardian:apiguardian-api:1.1.0\n|    |    +--- org.junit.platform:junit-platform-engine:1.7.2 (*)\n|    |    \\--- org.junit.jupiter:junit-jupiter-api:5.7.2\n|    |         +--- org.apiguardian:apiguardian-api:1.1.0\n|    |         +--- org.opentest4j:opentest4j:1.2.0\n|    |         \\--- org.junit.platform:junit-platform-commons:1.7.2 (*)\n|    +--- org.junit.jupiter:junit-jupiter-api:5.7.2 (*)\n|    +--- org.springframework.boot:spring-boot:2.5.7\n|    |    +--- org.springframework:spring-core:5.3.13 -&gt; 5.3.15\n|    |    |    \\--- org.springframework:spring-jcl:5.3.15\n|    |    \\--- org.springframework:spring-context:5.3.13 -&gt; 5.3.15\n|    |         +--- org.springframework:spring-aop:5.3.15\n|    |         |    +--- org.springframework:spring-beans:5.3.15\n|    |         |    |    \\--- org.springframework:spring-core:5.3.15 (*)\n|    |         |    \\--- org.springframework:spring-core:5.3.15 (*)\n|    |         +--- org.springframework:spring-beans:5.3.15 (*)\n|    |         +--- org.springframework:spring-core:5.3.15 (*)\n|    |         \\--- org.springframework:spring-expression:5.3.15\n|    |              \\--- org.springframework:spring-core:5.3.15 (*)\n|    +--- org.springframework:spring-context:5.3.15 (*)\n|    +--- org.springframework:spring-context-support:5.3.15\n|    |    +--- org.springframework:spring-beans:5.3.15 (*)\n|    |    +--- org.springframework:spring-context:5.3.15 (*)\n|    |    \\--- org.springframework:spring-core:5.3.15 (*)\n|    +--- commons-logging:commons-logging:1.2\n|    +--- org.apache.logging.log4j:log4j-api:2.14.1 -&gt; 2.17.2\n|    \\--- org.apache.logging.log4j:log4j-core:2.14.1 -&gt; 2.17.2 (*)\n+--- org.springframework:spring-aop:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-aspects:4.2.9.RELEASE\n|    \\--- org.aspectj:aspectjweaver:1.8.9\n+--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-context-support:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-expression:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-instrument:4.2.9.RELEASE\n+--- org.springframework:spring-instrument-tomcat:4.2.9.RELEASE\n+--- org.springframework:spring-jdbc:4.2.9.RELEASE\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-tx:4.2.9.RELEASE\n|         +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|         \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-jms:4.2.9.RELEASE\n|    +--- org.springframework:spring-aop:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-messaging:4.2.9.RELEASE\n|    |    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    |    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    |    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-tx:4.2.9.RELEASE (*)\n+--- org.springframework:spring-messaging:4.2.9.RELEASE (*)\n+--- org.springframework:spring-orm:4.2.9.RELEASE\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-jdbc:4.2.9.RELEASE (*)\n|    \\--- org.springframework:spring-tx:4.2.9.RELEASE (*)\n+--- org.springframework:spring-oxm:4.2.9.RELEASE\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-test:4.2.9.RELEASE\n|    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-tx:4.2.9.RELEASE (*)\n+--- org.springframework:spring-web:4.2.9.RELEASE\n|    +--- org.springframework:spring-aop:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-webmvc:4.2.9.RELEASE\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-expression:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-web:4.2.9.RELEASE (*)\n+--- org.springframework:spring-webmvc-portlet:4.2.9.RELEASE\n|    +--- org.springframework:spring-beans:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-web:4.2.9.RELEASE (*)\n|    \\--- org.springframework:spring-webmvc:4.2.9.RELEASE (*)\n+--- org.springframework:spring-websocket:4.2.9.RELEASE\n|    +--- org.springframework:spring-context:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-core:4.2.9.RELEASE -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-web:4.2.9.RELEASE (*)\n+--- org.springframework.security:spring-security-config:4.2.9.RELEASE\n|    +--- aopalliance:aopalliance:1.0\n|    +--- org.springframework.security:spring-security-core:4.2.9.RELEASE\n|    |    +--- aopalliance:aopalliance:1.0\n|    |    +--- org.springframework:spring-aop:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    |    +--- org.springframework:spring-beans:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    |    +--- org.springframework:spring-context:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    |    +--- org.springframework:spring-core:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    |    \\--- org.springframework:spring-expression:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-aop:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-beans:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-context:4.3.19.RELEASE -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-core:4.3.19.RELEASE -&gt; 5.3.15 (*)\n+--- org.springframework:spring-dao:2.0.8\n|    +--- aopalliance:aopalliance:1.0\n|    +--- commons-logging:commons-logging:1.1 -&gt; 1.2\n|    +--- org.springframework:spring-beans:2.0.8 -&gt; 5.3.15 (*)\n|    +--- org.springframework:spring-context:2.0.8 -&gt; 5.3.15 (*)\n|    \\--- org.springframework:spring-core:2.0.8 -&gt; 5.3.15 (*)\n+--- org.hibernate.common:hibernate-commons-annotations:6.0.0.Final\n+--- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.2.Final\n+--- org.hibernate.orm:hibernate-core:6.0.0.Final\n|    +--- jakarta.persistence:jakarta.persistence-api:3.0.0\n|    +--- jakarta.transaction:jakarta.transaction-api:2.0.0\n|    +--- org.jboss.logging:jboss-logging:3.4.3.Final\n|    +--- org.jboss:jandex:2.4.2.Final\n|    +--- com.fasterxml:classmate:1.5.1\n|    +--- org.hibernate.common:hibernate-commons-annotations:6.0.0.CR1 -&gt; 6.0.0.Final\n|    +--- net.bytebuddy:byte-buddy:1.12.8\n|    +--- jakarta.activation:jakarta.activation-api:2.0.1 -&gt; 2.1.0\n|    +--- jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 (*)\n|    +--- org.glassfish.jaxb:jaxb-runtime:3.0.2 (*)\n|    +--- jakarta.inject:jakarta.inject-api:2.0.0 -&gt; 2.0.1\n|    \\--- org.antlr:antlr4-runtime:4.9.1 -&gt; 4.9.3\n+--- org.hibernate.orm:hibernate-c3p0:6.0.0.Final\n|    +--- org.jboss.logging:jboss-logging:3.4.3.Final\n|    +--- org.hibernate.orm:hibernate-core:6.0.0.Final (*)\n|    \\--- com.mchange:c3p0:0.9.5.5 (*)\n+--- com.sun.mail:javax.mail:1.5.1\n|    \\--- javax.activation:activation:1.1\n+--- org.apache.tomcat:tomcat-catalina:8.0.44\n|    +--- org.apache.tomcat:tomcat-servlet-api:8.0.44\n|    +--- org.apache.tomcat:tomcat-jsp-api:8.0.44\n|    |    +--- org.apache.tomcat:tomcat-el-api:8.0.44\n|    |    \\--- org.apache.tomcat:tomcat-servlet-api:8.0.44\n|    +--- org.apache.tomcat:tomcat-juli:8.0.44\n|    +--- org.apache.tomcat:tomcat-annotations-api:8.0.44\n|    +--- org.apache.tomcat:tomcat-api:8.0.44\n|    |    \\--- org.apache.tomcat:tomcat-servlet-api:8.0.44\n|    +--- org.apache.tomcat:tomcat-jni:8.0.44\n|    +--- org.apache.tomcat:tomcat-coyote:8.0.44\n|    |    +--- org.apache.tomcat:tomcat-servlet-api:8.0.44\n|    |    +--- org.apache.tomcat:tomcat-jni:8.0.44\n|    |    +--- org.apache.tomcat:tomcat-juli:8.0.44\n|    |    \\--- org.apache.tomcat:tomcat-util:8.0.44\n|    |         \\--- org.apache.tomcat:tomcat-juli:8.0.44\n|    +--- org.apache.tomcat:tomcat-util:8.0.44 (*)\n|    \\--- org.apache.tomcat:tomcat-util-scan:8.0.44\n|         +--- org.apache.tomcat:tomcat-util:8.0.44 (*)\n|         +--- org.apache.tomcat:tomcat-juli:8.0.44\n|         \\--- org.apache.tomcat:tomcat-api:8.0.44 (*)\n+--- org.apache.tomcat:tomcat-util:8.0.44 (*)\n+--- org.apache.tomcat:tomcat-jasper:8.0.44\n|    +--- org.apache.tomcat:tomcat-servlet-api:8.0.44\n|    +--- org.apache.tomcat:tomcat-juli:8.0.44\n|    +--- org.apache.tomcat:tomcat-jsp-api:8.0.44 (*)\n|    +--- org.apache.tomcat:tomcat-el-api:8.0.44\n|    +--- org.eclipse.jdt:ecj:3.12.3\n|    +--- org.apache.tomcat:tomcat-jasper-el:8.0.44\n|    |    \\--- org.apache.tomcat:tomcat-el-api:8.0.44\n|    +--- org.apache.tomcat:tomcat-api:8.0.44 (*)\n|    \\--- org.apache.tomcat:tomcat-util-scan:8.0.44 (*)\n\\--- org.apache.tomcat:tomcat-juli:8.0.44\n</code></pre>\n<p>Screenshot of object on classpath\n<a href=\"https://i.stack.imgur.com/k6GSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6GSl.png\" alt=\"Screenshot of object on classpath\" /></a></p>\n"},{"tags":["java","maven","encoding","cxf","xjc"],"comments":[{"owner":{"account_id":1545147,"reputation":143,"user_id":1438846,"display_name":"MaxVar"},"score":2,"creation_date":1396350723,"post_id":22777386,"comment_id":34738640,"body_markdown":"UPDATE: directly extending `MAVEN_OPTS=-Dfile.encoding=UTF-8` allowed generation of source files with proper UTF-8 encoding, but turned the output of unit tests to garbage (because windows console is not really utf-8). I&#39;m sure there is a proper way to force the plugin respect source encoding without enforcing changing platform encoding for other components.","body":"UPDATE: directly extending <code>MAVEN_OPTS=-Dfile.encoding=UTF-8</code> allowed generation of source files with proper UTF-8 encoding, but turned the output of unit tests to garbage (because windows console is not really utf-8). I&#39;m sure there is a proper way to force the plugin respect source encoding without enforcing changing platform encoding for other components."}],"answers":[{"tags":[],"owner":{"account_id":5395969,"reputation":146,"user_id":4297187,"display_name":"FcoSandoval"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1449188110,"creation_date":1417025291,"answer_id":27156081,"question_id":22777386,"body_markdown":"I could make cxf-xjc-plugin generate sources in UTF-8 by adding the following entry to the xsdOption element:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;extensionArgs&gt;\r\n        &lt;arg&gt;-encoding&lt;/arg&gt;\r\n        &lt;arg&gt;UTF-8&lt;/arg&gt;\r\n    &lt;/extensionArgs&gt;","title":"how to make cxf-xjc-plugin generate sources in utf-8","body":"<p>I could make cxf-xjc-plugin generate sources in UTF-8 by adding the following entry to the xsdOption element:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;extensionArgs&gt;\n    &lt;arg&gt;-encoding&lt;/arg&gt;\n    &lt;arg&gt;UTF-8&lt;/arg&gt;\n&lt;/extensionArgs&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652472142,"creation_date":1652472142,"answer_id":72234877,"question_id":22777386,"body_markdown":"using JVM param `-Dfile.encoding=UTF-8` did the trick which is a bit heavy, but fine for us :-/","title":"how to make cxf-xjc-plugin generate sources in utf-8","body":"<p>using JVM param <code>-Dfile.encoding=UTF-8</code> did the trick which is a bit heavy, but fine for us :-/</p>\n"}],"owner":{"account_id":1545147,"reputation":143,"user_id":1438846,"display_name":"MaxVar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13673,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":27156081,"answer_count":2,"score":14,"last_activity_date":1652472142,"creation_date":1396329448,"question_id":22777386,"body_markdown":"I try to generate java classes from xsd in a maven project using cxf-xjc-plugin.\r\n\r\nIt runs fine, but the generated source files get platform specific encoding (cp1251 on a windows pc) instead of utf-8. If any xsd types contain non-latin characters in schema annotations, then they become readable only in that specific encoding and the compiler later complains with `[WARNING] /C:/.../SomeType.java:[17,4] unmappable character for encoding UTF-8`.\r\n\r\n*Please help me force **utf-8** for sources generation.*\r\n\r\nThe source encoding is set with\r\n\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\nThe build plugin is set up like that:\r\n\r\n    &lt;build&gt;\r\n        ...\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;extensions&gt;\r\n                    &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.7.0&lt;/extension&gt;\r\n                    &lt;extension&gt;net.java.dev.jaxb2-commons:jaxb-fluent-api:2.1.8&lt;/extension&gt;\r\n                &lt;/extensions&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;generate-sources&lt;/id&gt;\r\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;sourceRoot&gt;${basedir}/target/generated-sources&lt;/sourceRoot&gt;\r\n                        &lt;xsdOptions&gt;\r\n                            &lt;xsdOption&gt;\r\n                                &lt;extension&gt;true&lt;/extension&gt;\r\n                                &lt;xsd&gt;${basedir}/src/main/resources/schemas/Policy.xsd&lt;/xsd&gt;\r\n                                &lt;bindingFile&gt;${basedir}/src/main/resources/schemas/Policy.xjb&lt;/bindingFile&gt;\r\n                                &lt;extensionArgs&gt;\r\n                                    &lt;extensionArg&gt;-Xdv&lt;/extensionArg&gt;\r\n                                    &lt;extensionArg&gt;-Xfluent-api&lt;/extensionArg&gt;\r\n                                &lt;/extensionArgs&gt;\r\n                            &lt;/xsdOption&gt;\r\n                        &lt;/xsdOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    ...\r\n\r\nafter having read through some older issues with xjc, particularly [CXF-4369](https://issues.apache.org/jira/browse/CXF-4369) and [JAXB-499](https://java.net/jira/browse/JAXB-499) I tried to force encoding with maven project property `&lt;file.encoding&gt;utf-8&lt;/file.encoding&gt;` and set a system property while running `mvn -Dfile.encoding=utf-8 clean install`, but got nowhere.\r\n","title":"how to make cxf-xjc-plugin generate sources in utf-8","body":"<p>I try to generate java classes from xsd in a maven project using cxf-xjc-plugin.</p>\n\n<p>It runs fine, but the generated source files get platform specific encoding (cp1251 on a windows pc) instead of utf-8. If any xsd types contain non-latin characters in schema annotations, then they become readable only in that specific encoding and the compiler later complains with <code>[WARNING] /C:/.../SomeType.java:[17,4] unmappable character for encoding UTF-8</code>.</p>\n\n<p><em>Please help me force <strong>utf-8</strong> for sources generation.</em></p>\n\n<p>The source encoding is set with</p>\n\n<pre><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n</code></pre>\n\n<p>The build plugin is set up like that:</p>\n\n<pre><code>&lt;build&gt;\n    ...\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;extensions&gt;\n                &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.7.0&lt;/extension&gt;\n                &lt;extension&gt;net.java.dev.jaxb2-commons:jaxb-fluent-api:2.1.8&lt;/extension&gt;\n            &lt;/extensions&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;generate-sources&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;xsdtojava&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;sourceRoot&gt;${basedir}/target/generated-sources&lt;/sourceRoot&gt;\n                    &lt;xsdOptions&gt;\n                        &lt;xsdOption&gt;\n                            &lt;extension&gt;true&lt;/extension&gt;\n                            &lt;xsd&gt;${basedir}/src/main/resources/schemas/Policy.xsd&lt;/xsd&gt;\n                            &lt;bindingFile&gt;${basedir}/src/main/resources/schemas/Policy.xjb&lt;/bindingFile&gt;\n                            &lt;extensionArgs&gt;\n                                &lt;extensionArg&gt;-Xdv&lt;/extensionArg&gt;\n                                &lt;extensionArg&gt;-Xfluent-api&lt;/extensionArg&gt;\n                            &lt;/extensionArgs&gt;\n                        &lt;/xsdOption&gt;\n                    &lt;/xsdOptions&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n...\n</code></pre>\n\n<p>after having read through some older issues with xjc, particularly <a href=\"https://issues.apache.org/jira/browse/CXF-4369\" rel=\"noreferrer\">CXF-4369</a> and <a href=\"https://java.net/jira/browse/JAXB-499\" rel=\"noreferrer\">JAXB-499</a> I tried to force encoding with maven project property <code>&lt;file.encoding&gt;utf-8&lt;/file.encoding&gt;</code> and set a system property while running <code>mvn -Dfile.encoding=utf-8 clean install</code>, but got nowhere.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","servlets"],"comments":[{"owner":{"account_id":4254625,"reputation":11,"user_id":3480640,"display_name":"RAHUL BHOITE"},"score":0,"creation_date":1652196108,"post_id":72188705,"comment_id":127545466,"body_markdown":"Refer this link https://stackoverflow.com/questions/38783773/spring-boot-single-page-application-forward-every-request-to-index-html It might be helpful for you resolve your issue.","body":"Refer this link <a href=\"https://stackoverflow.com/questions/38783773/spring-boot-single-page-application-forward-every-request-to-index-html\" title=\"spring boot single page application forward every request to index html\">stackoverflow.com/questions/38783773/&hellip;</a> It might be helpful for you resolve your issue."},{"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"score":0,"creation_date":1652205523,"post_id":72188705,"comment_id":127549040,"body_markdown":"@RAHULBHOITE Looking over that page I couldn&#39;t tell what to try.  I have `@EnableWebMVC` on a different config class.  Are you suggesting updating my Controller to take `HttpServletResponse` as a parameter and redirect that way instead?","body":"@RAHULBHOITE Looking over that page I couldn&#39;t tell what to try.  I have <code>@EnableWebMVC</code> on a different config class.  Are you suggesting updating my Controller to take <code>HttpServletResponse</code> as a parameter and redirect that way instead?"}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652212746,"creation_date":1652212746,"answer_id":72192299,"question_id":72188705,"body_markdown":"Just checked with Spring Boot 2.6.7 - works as expected.\r\n\r\n`org.springframework.web.servlet.view.UrlBasedViewResolver#FORWARD_URL_PREFIX` (which is the string `&quot;forward:&quot;`) is the part of `spring-webmvc` module. Check that you have this in your project&#39;s dependencies, with the version that corresponds to the Spring/Boot version you use.\r\n\r\n","title":"Spring Boot Upgrade from 2.3.x -&gt; 2.6.x Breaks mvc forward:","body":"<p>Just checked with Spring Boot 2.6.7 - works as expected.</p>\n<p><code>org.springframework.web.servlet.view.UrlBasedViewResolver#FORWARD_URL_PREFIX</code> (which is the string <code>&quot;forward:&quot;</code>) is the part of <code>spring-webmvc</code> module. Check that you have this in your project's dependencies, with the version that corresponds to the Spring/Boot version you use.</p>\n"},{"tags":[],"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652471986,"creation_date":1652471986,"answer_id":72234857,"question_id":72188705,"body_markdown":"Per @dekkard &#39;s answer: https://stackoverflow.com/a/72192299/659354  \r\nI upgraded from Spring Boot 2.6.2 -&gt; 2.6.7 to minimize version overrides\r\nfor more secure versions. And verified the presence of `spring-mvc`\r\n\r\nThe final piece of the puzzle came from following the link in @RAHULBHOITE &#39;s answer  \r\nhttps://stackoverflow.com/questions/38783773/spring-boot-single-page-application-forward-every-request-to-index-html  \r\n\r\nI removed `@EnableWebMvc` from one of my configuration classes.  \r\nNow the `/health` works.  All my integration tests still pass, and manual postman testing for the REST endpoints still works.\r\n","title":"Spring Boot Upgrade from 2.3.x -&gt; 2.6.x Breaks mvc forward:","body":"<p>Per @dekkard 's answer: <a href=\"https://stackoverflow.com/a/72192299/659354\">https://stackoverflow.com/a/72192299/659354</a><br />\nI upgraded from Spring Boot 2.6.2 -&gt; 2.6.7 to minimize version overrides\nfor more secure versions. And verified the presence of <code>spring-mvc</code></p>\n<p>The final piece of the puzzle came from following the link in @RAHULBHOITE 's answer<br />\n<a href=\"https://stackoverflow.com/questions/38783773/spring-boot-single-page-application-forward-every-request-to-index-html\">Spring boot single page application - forward every request to index.html</a></p>\n<p>I removed <code>@EnableWebMvc</code> from one of my configuration classes.<br />\nNow the <code>/health</code> works.  All my integration tests still pass, and manual postman testing for the REST endpoints still works.</p>\n"}],"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652471986,"creation_date":1652194861,"question_id":72188705,"body_markdown":"After upgrading From Spring Boot 2.3.x to 2.6.x Forwarding MVC REST Calls doesn&#39;t work.\r\n\r\nWe have a controller for `/health` that returns `forward:/actuator/health/`.\r\n`forward:/actuator/health/` fails in the controller, but `localhost:8080/actuator/health/` works just fine in my browser when hit directly.\r\n\r\nWe have the following controller:\r\n\r\n```java\r\n@Controller\r\npublic class HealthRestController implements HealthAPI\r\n{\r\n   @Value(&quot;forward:/actuator/health/&quot;)\r\n   String forwardString;\r\n\r\n   @CrossOrigin\r\n   @GetMapping(value = {&quot;/health&quot;}, produces = &quot;application/json&quot;)\r\n   public String getHealth() { return forwardString; }\r\n\r\n   @GetMapping(value = {&quot;/health_secure&quot;}, produces = &quot;application/json&quot;)\r\n   public String getHealthSecure() { return forwardString; }\r\n\r\n}\r\n```\r\n\r\n`/health` does not require authentication.\r\n```java\r\n      @Override\r\n      public void configure(WebSecurity web) throws Exception\r\n      {  //other urls removed, for simplicity\r\n         web.ignoring()\r\n                 .antMatchers(&quot;/health&quot;,\r\n                              &quot;/actuator/health&quot;,\r\n                              &quot;/actuator/prometheus&quot;,\r\n                              &quot;/cloudfoundryapplication&quot;,\r\n                              &quot;/actuator/cloudfoundryapplication&quot;,\r\n                              &quot;/cloudfoundryapplication/**&quot;);\r\n      }\r\n```\r\n\r\nBut when I hit `/health` in My Web Browser, I get the following errors:\r\n\r\n```\r\nMay 10, 2022 10:44:28 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-05-10 10:44:28 INFO  DispatcherServlet:525 -   - Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-05-10 10:44:28 INFO  DispatcherServlet:547 -   - Completed initialization in 2 ms\r\nMay 10, 2022 10:44:28 AM org.apache.catalina.core.ApplicationDispatcher invoke\r\nSEVERE: Servlet.service() for servlet [dispatcherServlet] threw exception\r\njavax.servlet.ServletException: Could not resolve view with name &#39;forward:/actuator/health/&#39; in servlet with name &#39;dispatcherServlet&#39;\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1380)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat com.allstate.d3.sh.commons.config.CloudMetricsConfig$2.service(CloudMetricsConfig.java:76)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nMay 10, 2022 10:44:28 AM org.apache.catalina.core.StandardWrapperValve invoke\r\nSEVERE: Servlet.service() for servlet [health] in context with path [/health] threw exception [Could not resolve view with name &#39;forward:/actuator/health/&#39; in servlet with name &#39;dispatcherServlet&#39;] with root cause\r\njavax.servlet.ServletException: Could not resolve view with name &#39;forward:/actuator/health/&#39; in servlet with name &#39;dispatcherServlet&#39;\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1380)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat com.allstate.d3.sh.commons.config.CloudMetricsConfig$2.service(CloudMetricsConfig.java:76)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n```\r\n\r\nSo what are we missing? why doesn&#39;t `forward:` work?\r\n\r\nUPDATE\r\n------\r\nDependency snippet from build.gradle with Spring dependencies\r\n\r\n```groovy\r\n\r\n    buildscript\r\n    {\r\n       ext { springBootVersion = &#39;2.6.7&#39; }\r\n       //other stuff here\r\n\r\n       //skip repositories\r\n\r\n       dependencies\r\n       {\r\n          classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n          //other non-spring dependencies here\r\n       }       \r\n    }\r\n\r\n\r\n    //dependencies\r\n\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\r\n    implementation(&#39;org.springframework:spring-context&#39;)\r\n    implementation(&#39;org.springframework:spring-expression&#39;)\r\n    implementation(&#39;org.springframework:spring-beans&#39;)\r\n    implementation(&#39;org.springframework:spring-core&#39;)\r\n\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-webflux&#39;)\r\n\r\n    implementation(&quot;org.springframework.cloud:spring-cloud-starter-vault-config:3.1.0&quot;)\r\n\r\n    implementation(&#39;org.springframework.security:spring-security-web&#39;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-aop&quot;)\r\n\r\n    implementation(&quot;org.springframework.kafka:spring-kafka&quot;)\r\n    \r\n    implementation(&quot;org.springframework.security.oauth:spring-security-oauth2:${springSecurityOauth2Version}&quot;)\r\n\r\n    implementation &quot;org.springframework.cloud:spring-cloud-spring-service-connector:${springCloudConnectorVersion}&quot;\r\n    implementation &quot;org.springframework.cloud:spring-cloud-cloudfoundry-connector:${springCloudConnectorVersion}&quot;\r\n\r\n    //websocket\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-websocket&quot;)\r\n\r\n    // cache\r\n    implementation &#39;org.springframework:spring-context&#39;\r\n    implementation &#39;org.springframework:spring-context-support&#39;\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.1&#39;\r\n\r\n    implementation(&quot;org.springframework.security:spring-security-jwt:${springSecurityJwtVersion}&quot;)           \r\n```\r\n\r\napplication context path is set in `application.yml`\r\n```yml\r\nserver:\r\n  servlet:\r\n    contextPath: /exe/v2\r\n```\r\n\r\nPaths are exposed outside of the context path like so:\r\n\r\n```java\r\n@Configuration\r\npublic class CloudMetricsConfig\r\n{\r\n    @Bean\r\n    public TomcatServletWebServerFactory servletWebServerFactory()\r\n    {\r\n        return new TomcatServletWebServerFactory()\r\n        {\r\n            @Override\r\n            protected void prepareContext(Host host,\r\n                                          ServletContextInitializer[] initializers)\r\n            {\r\n               super.prepareContext(host, initializers);\r\n\r\n               addContext(host, &quot;/cloudfoundryapplication&quot;, getContextPath(),\r\n                          &quot;cloudfoundry&quot;);\r\n               addContext(host, &quot;/actuator/prometheus&quot;, getContextPath(),\r\n                          &quot;prometheus&quot;);\r\n               addContext(host, &quot;/actuator/health&quot;, getContextPath(),\r\n                          &quot;actuatorHealth&quot;);\r\n               addContext(host, &quot;/health&quot;, getContextPath(),\r\n                          &quot;health&quot;);\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n    private void addContext(Host host, String path, String contextPath,\r\n                            String servletName)\r\n    {\r\n        StandardContext child = new StandardContext();\r\n        child.addLifecycleListener(new Tomcat.FixContextListener());\r\n        child.setPath(path);\r\n        ServletContainerInitializer initializer =\r\n               getServletContextInitializer(contextPath, servletName, path);\r\n        child.addServletContainerInitializer(initializer, Collections.emptySet());\r\n        child.setCrossContext(true);\r\n        host.addChild(child);\r\n    }\r\n\r\n    private ServletContainerInitializer getServletContextInitializer(String contextPath,\r\n                                                                     String servletName,\r\n                                                                     String path)\r\n    {\r\n       return (c, context) -&gt;\r\n       {\r\n          Servlet servlet = new GenericServlet()\r\n          {\r\n             @Override\r\n             public void service(ServletRequest req, ServletResponse res)\r\n                    throws ServletException, IOException\r\n             {\r\n                ServletContext context = req.getServletContext().getContext(contextPath);\r\n                context.getRequestDispatcher(path).forward(req, res);\r\n             }\r\n          };\r\n          context.addServlet(servletName, servlet)//.addMapping(path);\r\n                 .addMapping(&quot;/*&quot;);\r\n       };\r\n    }\r\n```\r\n\r\n","title":"Spring Boot Upgrade from 2.3.x -&gt; 2.6.x Breaks mvc forward:","body":"<p>After upgrading From Spring Boot 2.3.x to 2.6.x Forwarding MVC REST Calls doesn't work.</p>\n<p>We have a controller for <code>/health</code> that returns <code>forward:/actuator/health/</code>.\n<code>forward:/actuator/health/</code> fails in the controller, but <code>localhost:8080/actuator/health/</code> works just fine in my browser when hit directly.</p>\n<p>We have the following controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class HealthRestController implements HealthAPI\n{\n   @Value(&quot;forward:/actuator/health/&quot;)\n   String forwardString;\n\n   @CrossOrigin\n   @GetMapping(value = {&quot;/health&quot;}, produces = &quot;application/json&quot;)\n   public String getHealth() { return forwardString; }\n\n   @GetMapping(value = {&quot;/health_secure&quot;}, produces = &quot;application/json&quot;)\n   public String getHealthSecure() { return forwardString; }\n\n}\n</code></pre>\n<p><code>/health</code> does not require authentication.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      @Override\n      public void configure(WebSecurity web) throws Exception\n      {  //other urls removed, for simplicity\n         web.ignoring()\n                 .antMatchers(&quot;/health&quot;,\n                              &quot;/actuator/health&quot;,\n                              &quot;/actuator/prometheus&quot;,\n                              &quot;/cloudfoundryapplication&quot;,\n                              &quot;/actuator/cloudfoundryapplication&quot;,\n                              &quot;/cloudfoundryapplication/**&quot;);\n      }\n</code></pre>\n<p>But when I hit <code>/health</code> in My Web Browser, I get the following errors:</p>\n<pre><code>May 10, 2022 10:44:28 AM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-05-10 10:44:28 INFO  DispatcherServlet:525 -   - Initializing Servlet 'dispatcherServlet'\n2022-05-10 10:44:28 INFO  DispatcherServlet:547 -   - Completed initialization in 2 ms\nMay 10, 2022 10:44:28 AM org.apache.catalina.core.ApplicationDispatcher invoke\nSEVERE: Servlet.service() for servlet [dispatcherServlet] threw exception\njavax.servlet.ServletException: Could not resolve view with name 'forward:/actuator/health/' in servlet with name 'dispatcherServlet'\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1380)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at com.allstate.d3.sh.commons.config.CloudMetricsConfig$2.service(CloudMetricsConfig.java:76)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n\nMay 10, 2022 10:44:28 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [health] in context with path [/health] threw exception [Could not resolve view with name 'forward:/actuator/health/' in servlet with name 'dispatcherServlet'] with root cause\njavax.servlet.ServletException: Could not resolve view with name 'forward:/actuator/health/' in servlet with name 'dispatcherServlet'\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1380)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at com.allstate.d3.sh.commons.config.CloudMetricsConfig$2.service(CloudMetricsConfig.java:76)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n<p>So what are we missing? why doesn't <code>forward:</code> work?</p>\n<h2>UPDATE</h2>\n<p>Dependency snippet from build.gradle with Spring dependencies</p>\n<pre><code>\n    buildscript\n    {\n       ext { springBootVersion = '2.6.7' }\n       //other stuff here\n\n       //skip repositories\n\n       dependencies\n       {\n          classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n          //other non-spring dependencies here\n       }       \n    }\n\n\n    //dependencies\n\n    implementation('org.springframework.boot:spring-boot-starter-web')\n\n    implementation('org.springframework:spring-context')\n    implementation('org.springframework:spring-expression')\n    implementation('org.springframework:spring-beans')\n    implementation('org.springframework:spring-core')\n\n    implementation('org.springframework.boot:spring-boot-starter-webflux')\n\n    implementation(&quot;org.springframework.cloud:spring-cloud-starter-vault-config:3.1.0&quot;)\n\n    implementation('org.springframework.security:spring-security-web')\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n\n    implementation(&quot;org.springframework.boot:spring-boot-starter-aop&quot;)\n\n    implementation(&quot;org.springframework.kafka:spring-kafka&quot;)\n    \n    implementation(&quot;org.springframework.security.oauth:spring-security-oauth2:${springSecurityOauth2Version}&quot;)\n\n    implementation &quot;org.springframework.cloud:spring-cloud-spring-service-connector:${springCloudConnectorVersion}&quot;\n    implementation &quot;org.springframework.cloud:spring-cloud-cloudfoundry-connector:${springCloudConnectorVersion}&quot;\n\n    //websocket\n    implementation(&quot;org.springframework.boot:spring-boot-starter-websocket&quot;)\n\n    // cache\n    implementation 'org.springframework:spring-context'\n    implementation 'org.springframework:spring-context-support'\n\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.1'\n\n    implementation(&quot;org.springframework.security:spring-security-jwt:${springSecurityJwtVersion}&quot;)           \n</code></pre>\n<p>application context path is set in <code>application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  servlet:\n    contextPath: /exe/v2\n</code></pre>\n<p>Paths are exposed outside of the context path like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CloudMetricsConfig\n{\n    @Bean\n    public TomcatServletWebServerFactory servletWebServerFactory()\n    {\n        return new TomcatServletWebServerFactory()\n        {\n            @Override\n            protected void prepareContext(Host host,\n                                          ServletContextInitializer[] initializers)\n            {\n               super.prepareContext(host, initializers);\n\n               addContext(host, &quot;/cloudfoundryapplication&quot;, getContextPath(),\n                          &quot;cloudfoundry&quot;);\n               addContext(host, &quot;/actuator/prometheus&quot;, getContextPath(),\n                          &quot;prometheus&quot;);\n               addContext(host, &quot;/actuator/health&quot;, getContextPath(),\n                          &quot;actuatorHealth&quot;);\n               addContext(host, &quot;/health&quot;, getContextPath(),\n                          &quot;health&quot;);\n            }\n\n        };\n    }\n\n    private void addContext(Host host, String path, String contextPath,\n                            String servletName)\n    {\n        StandardContext child = new StandardContext();\n        child.addLifecycleListener(new Tomcat.FixContextListener());\n        child.setPath(path);\n        ServletContainerInitializer initializer =\n               getServletContextInitializer(contextPath, servletName, path);\n        child.addServletContainerInitializer(initializer, Collections.emptySet());\n        child.setCrossContext(true);\n        host.addChild(child);\n    }\n\n    private ServletContainerInitializer getServletContextInitializer(String contextPath,\n                                                                     String servletName,\n                                                                     String path)\n    {\n       return (c, context) -&gt;\n       {\n          Servlet servlet = new GenericServlet()\n          {\n             @Override\n             public void service(ServletRequest req, ServletResponse res)\n                    throws ServletException, IOException\n             {\n                ServletContext context = req.getServletContext().getContext(contextPath);\n                context.getRequestDispatcher(path).forward(req, res);\n             }\n          };\n          context.addServlet(servletName, servlet)//.addMapping(path);\n                 .addMapping(&quot;/*&quot;);\n       };\n    }\n</code></pre>\n"},{"tags":["java","windows","oh-my-zsh"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1652471410,"post_id":72234655,"comment_id":127623042,"body_markdown":"A Linux environment shouldn&#39;t be using a Windows Java installation path, anyway.","body":"A Linux environment shouldn&#39;t be using a Windows Java installation path, anyway."},{"owner":{"account_id":19725418,"reputation":33,"user_id":14442137,"display_name":"Belly"},"score":0,"creation_date":1652471579,"post_id":72234655,"comment_id":127623072,"body_markdown":"Oh, so how should I go about having a different installation path for the linux environment itself?","body":"Oh, so how should I go about having a different installation path for the linux environment itself?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1652471659,"post_id":72234655,"comment_id":127623105,"body_markdown":"The path doesn&#39;t really matter. You should use something like `apt install openjdk`, for example, assuming you are using Ubuntu.","body":"The path doesn&#39;t really matter. You should use something like <code>apt install openjdk</code>, for example, assuming you are using Ubuntu."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652471551,"creation_date":1652471551,"answer_id":72234789,"question_id":72234655,"body_markdown":"The backticks are trying to &quot;execute&quot; that folder as a shell command.\r\n\r\nDouble quotes will store that variables as a string \r\n\r\n    export JAVA_HOME=&quot;/mnt/c/Program Files/Java/jdk-15.0.2&quot;\r\n\r\nBut this doesn&#39;t guarantee that `java` command itself will work. ","title":"Adding Java home not working on windows ZSH","body":"<p>The backticks are trying to &quot;execute&quot; that folder as a shell command.</p>\n<p>Double quotes will store that variables as a string</p>\n<pre><code>export JAVA_HOME=&quot;/mnt/c/Program Files/Java/jdk-15.0.2&quot;\n</code></pre>\n<p>But this doesn't guarantee that <code>java</code> command itself will work.</p>\n"}],"owner":{"account_id":19725418,"reputation":33,"user_id":14442137,"display_name":"Belly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72234789,"answer_count":1,"score":0,"last_activity_date":1652471551,"creation_date":1652470700,"question_id":72234655,"body_markdown":"I have java installed and set up properly and works fine with the normal Windows Powershell. However, I&#39;m trying to make java work with the ZSH terminal and I cannot get it to work.\r\n\r\nMy JAVA_HOME (in powershell) is set to this path:  \r\n\r\nC:\\Program Files\\Java\\jdk-15.0.2\r\n\r\nIm trying to add this line to my .zshrc file:\r\n\r\n    export JAVA_HOME=`/mnt/c/&quot;Program Files&quot;/Java/jdk-15.0.2`\r\n\r\nbut when i do source .zshrc it says permission denied to that file. Running sudo chmod doesnt seem to help either. Am i doing something wrong or missing some other line to add? Most tutorials for ZSH is on a Mac OS so i dont know if it differs being that im in windows...","title":"Adding Java home not working on windows ZSH","body":"<p>I have java installed and set up properly and works fine with the normal Windows Powershell. However, I'm trying to make java work with the ZSH terminal and I cannot get it to work.</p>\n<p>My JAVA_HOME (in powershell) is set to this path:</p>\n<p>C:\\Program Files\\Java\\jdk-15.0.2</p>\n<p>Im trying to add this line to my .zshrc file:</p>\n<pre><code>export JAVA_HOME=`/mnt/c/&quot;Program Files&quot;/Java/jdk-15.0.2`\n</code></pre>\n<p>but when i do source .zshrc it says permission denied to that file. Running sudo chmod doesnt seem to help either. Am i doing something wrong or missing some other line to add? Most tutorials for ZSH is on a Mac OS so i dont know if it differs being that im in windows...</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1652502825,"post_id":72234740,"comment_id":127627214,"body_markdown":"You want `pricecode` value store inside the `price` ?","body":"You want <code>pricecode</code> value store inside the <code>price</code> ?"},{"owner":{"account_id":25272092,"reputation":13,"user_id":19101275,"display_name":"RUBRENT"},"score":0,"creation_date":1652508097,"post_id":72234740,"comment_id":127627809,"body_markdown":"Yes! also, &quot;pricecode&quot; is pre-recorded in the database. And when the button is pressed, I need to pass the value. @9346054","body":"Yes! also, &quot;pricecode&quot; is pre-recorded in the database. And when the button is pressed, I need to pass the value. @9346054"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652516361,"post_id":72234740,"comment_id":127629000,"body_markdown":"To understand better, do you need to add `123` to the `price` field under each child node, on button click?","body":"To understand better, do you need to add <code>123</code> to the <code>price</code> field under each child node, on button click?"},{"owner":{"account_id":25272092,"reputation":13,"user_id":19101275,"display_name":"RUBRENT"},"score":0,"creation_date":1652517270,"post_id":72234740,"comment_id":127629104,"body_markdown":"Yes. I need 123 to go to &quot;price&quot; when the button is pressed. But &quot;pricecode&quot; is written in the database beforehand","body":"Yes. I need 123 to go to &quot;price&quot; when the button is pressed. But &quot;pricecode&quot; is written in the database beforehand"}],"owner":{"account_id":25272092,"reputation":13,"user_id":19101275,"display_name":"RUBRENT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652471296,"creation_date":1652471296,"question_id":72234740,"body_markdown":"Please tell me specifically how to fix the function so that when the button is clicked (onclick handler) passes the value from the database to the firebase USER - &quot;price&quot; branch. I can&#39;t figure it out for about two days. I will be grateful for a **concrete example** and correction of my function. Thanks. [enter image description here][1]\r\n\r\n    public void onClickB1 (View view)\r\n\r\n    {\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference userRef = db.child(&quot;User&quot;);\r\n        userRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    DataSnapshot snapshot = task.getResult();\r\n                    String priceCode = snapshot.child(&quot;pricecode&quot;).getValue(String.class);\r\n                    Log.d(&quot;TAG&quot;, &quot;priceCode: &quot; + priceCode);\r\n                    String id = db.getKey();\r\n                    String name = &quot;s&quot;;\r\n                    String price = String.valueOf(snapshot.getValue());\r\n                    User newUser = new User(id,name,price);\r\n                    db.push().setValue(newUser);\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kEihz.png","title":"Firebase read and onClick handler Error in reading the Firebase value: pricecode","body":"<p>Please tell me specifically how to fix the function so that when the button is clicked (onclick handler) passes the value from the database to the firebase USER - &quot;price&quot; branch. I can't figure it out for about two days. I will be grateful for a <strong>concrete example</strong> and correction of my function. Thanks. <a href=\"https://i.stack.imgur.com/kEihz.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public void onClickB1 (View view)\n\n{\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference userRef = db.child(&quot;User&quot;);\n    userRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                DataSnapshot snapshot = task.getResult();\n                String priceCode = snapshot.child(&quot;pricecode&quot;).getValue(String.class);\n                Log.d(&quot;TAG&quot;, &quot;priceCode: &quot; + priceCode);\n                String id = db.getKey();\n                String name = &quot;s&quot;;\n                String price = String.valueOf(snapshot.getValue());\n                User newUser = new User(id,name,price);\n                db.push().setValue(newUser);\n            } else {\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","pdf","pdf.js","pdfparser"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1652467097,"post_id":72234040,"comment_id":127621855,"body_markdown":"Why do you need this to be java? Can&#39;t you just group all the spans with the same value of the `top` css style attribute?","body":"Why do you need this to be java? Can&#39;t you just group all the spans with the same value of the <code>top</code> css style attribute?"},{"owner":{"account_id":20030822,"reputation":1,"user_id":14683641,"display_name":"Vishwas Anavatti"},"score":0,"creation_date":1652470830,"post_id":72234040,"comment_id":127622886,"body_markdown":"We work pdf in the frontend and store some data. Later we do some analysis on these pdf&#39;s in the backend using java 8 so we need to read the content of the pdf in java. If you can see, the `span` has `data-key` and I need that for analysis.","body":"We work pdf in the frontend and store some data. Later we do some analysis on these pdf&#39;s in the backend using java 8 so we need to read the content of the pdf in java. If you can see, the <code>span</code> has <code>data-key</code> and I need that for analysis."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1652471949,"post_id":72234040,"comment_id":127623174,"body_markdown":"Are your PDFs marked? Or arbitrary?","body":"Are your PDFs marked? Or arbitrary?"},{"owner":{"account_id":20030822,"reputation":1,"user_id":14683641,"display_name":"Vishwas Anavatti"},"score":0,"creation_date":1652474989,"post_id":72234040,"comment_id":127623919,"body_markdown":"Am not sure what marked or arbitrary pdf mean but the pdf is final and it cannot be edited. if that answers your question.","body":"Am not sure what marked or arbitrary pdf mean but the pdf is final and it cannot be edited. if that answers your question."}],"owner":{"account_id":20030822,"reputation":1,"user_id":14683641,"display_name":"Vishwas Anavatti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652471171,"creation_date":1652466702,"question_id":72234040,"body_markdown":"We have a project where we use `pdf.js` to render a PDF into webpage and it creates HTML container elements for the PDF pages. The content of the PDF is split as HTML `span` in the view. \r\n\r\nAttached is the image which shows how pdf text is rendered in the view. It also shows, each `span` has a `data-key` does not corresponds to a line in PDF.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/6QDf7.png\r\n\r\nNow, I need a pdf reader for java which reads and breaks the content as `span` with `data-key` or just the `span` in the order. \r\n\r\nThere are lot of java libraries available to read PDF content which gets the content line by line but that does not solve my issue. I need a java library which could break the content equivalent to `span` in the view. ","title":"PDF reader for Java as PDF.js","body":"<p>We have a project where we use <code>pdf.js</code> to render a PDF into webpage and it creates HTML container elements for the PDF pages. The content of the PDF is split as HTML <code>span</code> in the view.</p>\n<p>Attached is the image which shows how pdf text is rendered in the view. It also shows, each <code>span</code> has a <code>data-key</code> does not corresponds to a line in PDF.</p>\n<p><a href=\"https://i.stack.imgur.com/6QDf7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6QDf7.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, I need a pdf reader for java which reads and breaks the content as <code>span</code> with <code>data-key</code> or just the <code>span</code> in the order.</p>\n<p>There are lot of java libraries available to read PDF content which gets the content line by line but that does not solve my issue. I need a java library which could break the content equivalent to <code>span</code> in the view.</p>\n"},{"tags":["java","spring-boot","maven","azure-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642709265,"creation_date":1642709265,"answer_id":70792785,"question_id":70791776,"body_markdown":"The version comes from `&lt;dependencyManagement&gt;`, so probably from inside a BOM (an entry with `&lt;scope&gt;import&lt;/scope&gt;`) that is in your POM or your parent POM.","title":"which dependency is overriding version of a transitive dependency (Maven)","body":"<p>The version comes from <code>&lt;dependencyManagement&gt;</code>, so probably from inside a BOM (an entry with <code>&lt;scope&gt;import&lt;/scope&gt;</code>) that is in your POM or your parent POM.</p>\n"}],"owner":{"account_id":7215711,"reputation":67,"user_id":5508443,"accept_rate":40,"display_name":"Kyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652470992,"creation_date":1642704329,"question_id":70791776,"body_markdown":"I&#39;m using the below dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nWhich requires ``io.netty &#187; netty-handler`` version 4.1.72.Final. However, the version is overridden to 4.1.42.Final.\r\n\r\nThe ``mvn dependency:tree -X`` command shows clearly that the version is changed:\r\n\r\n````[DEBUG]    com.azure:azure-identity:jar:1.4.3:compile\r\n[DEBUG]       com.azure:azure-core:jar:1.24.1:compile\r\n[DEBUG]          io.projectreactor:reactor-core:jar:3.3.0.RELEASE:compile (scope managed from compile) (version managed from 3.4.13)\r\n[DEBUG]             org.reactivestreams:reactive-streams:jar:1.0.3:compile (version managed from 1.0.3)\r\n[DEBUG]          io.netty:netty-tcnative-boringssl-static:jar:2.0.26.Final:compile (version managed from 2.0.46.Final)\r\n[DEBUG]       com.azure:azure-core-http-netty:jar:1.11.6:compile\r\n[DEBUG]          io.netty:netty-handler:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]             io.netty:netty-common:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\r\n[DEBUG]             io.netty:netty-transport:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\r\n[DEBUG]                io.netty:netty-resolver:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\r\n[DEBUG]             io.netty:netty-codec:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\r\n[DEBUG]          io.netty:netty-handler-proxy:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]             io.netty:netty-codec-socks:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\r\n[DEBUG]          io.netty:netty-buffer:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]          io.netty:netty-codec-http:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]          io.netty:netty-codec-http2:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]          io.netty:netty-transport-native-unix-common:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]          io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]          io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]          io.projectreactor.netty:reactor-netty-http:jar:1.0.14:compile\r\n[DEBUG]             io.netty:netty-resolver-dns:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\r\n[DEBUG]                io.netty:netty-codec-dns:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\r\n[DEBUG]             io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.72.Final:compile\r\n[DEBUG]                io.netty:netty-resolver-dns-classes-macos:jar:4.1.72.Final:compile\r\n[DEBUG]             io.projectreactor.netty:reactor-netty-core:jar:1.0.14:compile\r\n\r\n````\r\nBut I could not find other dependencies that uses ``io.netty &#187; netty-handler`` with version 4.1.42.Final in the log. \r\n\r\nIs there any way to find which dependency actually using ``io.netty &#187; netty-handler`` 4.1.42.Final and overriding version 4.1.72.Final?\r\n\r\n\r\n","title":"which dependency is overriding version of a transitive dependency (Maven)","body":"<p>I'm using the below dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.azure&lt;/groupId&gt;\n  &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n  &lt;version&gt;1.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Which requires <code>io.netty  netty-handler</code> version 4.1.72.Final. However, the version is overridden to 4.1.42.Final.</p>\n<p>The <code>mvn dependency:tree -X</code> command shows clearly that the version is changed:</p>\n<pre><code>[DEBUG]       com.azure:azure-core:jar:1.24.1:compile\n[DEBUG]          io.projectreactor:reactor-core:jar:3.3.0.RELEASE:compile (scope managed from compile) (version managed from 3.4.13)\n[DEBUG]             org.reactivestreams:reactive-streams:jar:1.0.3:compile (version managed from 1.0.3)\n[DEBUG]          io.netty:netty-tcnative-boringssl-static:jar:2.0.26.Final:compile (version managed from 2.0.46.Final)\n[DEBUG]       com.azure:azure-core-http-netty:jar:1.11.6:compile\n[DEBUG]          io.netty:netty-handler:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]             io.netty:netty-common:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\n[DEBUG]             io.netty:netty-transport:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\n[DEBUG]                io.netty:netty-resolver:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\n[DEBUG]             io.netty:netty-codec:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\n[DEBUG]          io.netty:netty-handler-proxy:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]             io.netty:netty-codec-socks:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\n[DEBUG]          io.netty:netty-buffer:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]          io.netty:netty-codec-http:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]          io.netty:netty-codec-http2:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]          io.netty:netty-transport-native-unix-common:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]          io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]          io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]          io.projectreactor.netty:reactor-netty-http:jar:1.0.14:compile\n[DEBUG]             io.netty:netty-resolver-dns:jar:4.1.42.Final:compile (version managed from 4.1.72.Final)\n[DEBUG]                io.netty:netty-codec-dns:jar:4.1.42.Final:compile (version managed from 4.1.42.Final)\n[DEBUG]             io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.72.Final:compile\n[DEBUG]                io.netty:netty-resolver-dns-classes-macos:jar:4.1.72.Final:compile\n[DEBUG]             io.projectreactor.netty:reactor-netty-core:jar:1.0.14:compile\n\n</code></pre>\n<p>But I could not find other dependencies that uses <code>io.netty  netty-handler</code> with version 4.1.42.Final in the log.</p>\n<p>Is there any way to find which dependency actually using <code>io.netty  netty-handler</code> 4.1.42.Final and overriding version 4.1.72.Final?</p>\n"},{"tags":["java","arrays","random"],"comments":[{"owner":{"account_id":18945385,"reputation":506,"user_id":13824407,"display_name":"Dominik Lovetinsky"},"score":0,"creation_date":1652468576,"post_id":72234312,"comment_id":127622278,"body_markdown":"You need the check each value against each other, therefore you need a second for-each inside the one which generates the random numbers","body":"You need the check each value against each other, therefore you need a second for-each inside the one which generates the random numbers"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1652470121,"post_id":72234312,"comment_id":127622676,"body_markdown":"[Java generating non-repeating random numbers](https://stackoverflow.com/questions/16000196/java-generating-non-repeating-random-numbers)","body":"<a href=\"https://stackoverflow.com/questions/16000196/java-generating-non-repeating-random-numbers\">Java generating non-repeating random numbers</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652468509,"creation_date":1652468509,"answer_id":72234341,"question_id":72234312,"body_markdown":"A fairly easy way to do this is to re-imagine this a little bit. Instead of &#39;generate a random number&#39;, think about a deck of cards. You don&#39;t &#39;generate random cards&#39; - you generate (well, print) 52 cards in a specific order and then you _randomize their order_. Now you can draw cards off the top of the deck and they&#39;ll be random, but they cannot repeat.\r\n\r\nDo the same thing: Make a list, fill it with all 42 numbers, then shuffle the list, then pull the top 6 numbers off of the list. Voila: Random - and without repetition.\r\n\r\n```java\r\nvar numbers = new ArrayList&lt;Integer&gt;();\r\nfor (int i = 0; i &lt; 42; i++) numbers.add(i);\r\nCollections.shuffle(numbers);\r\nfor (int i = 0; i &lt; 6; i++) {\r\n  System.out.print(list.get(i) + &quot; &quot;);\r\n}\r\n```\r\n\r\n","title":"How to make random non-repeating numbers?","body":"<p>A fairly easy way to do this is to re-imagine this a little bit. Instead of 'generate a random number', think about a deck of cards. You don't 'generate random cards' - you generate (well, print) 52 cards in a specific order and then you <em>randomize their order</em>. Now you can draw cards off the top of the deck and they'll be random, but they cannot repeat.</p>\n<p>Do the same thing: Make a list, fill it with all 42 numbers, then shuffle the list, then pull the top 6 numbers off of the list. Voila: Random - and without repetition.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var numbers = new ArrayList&lt;Integer&gt;();\nfor (int i = 0; i &lt; 42; i++) numbers.add(i);\nCollections.shuffle(numbers);\nfor (int i = 0; i &lt; 6; i++) {\n  System.out.print(list.get(i) + &quot; &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16471438,"reputation":76,"user_id":11900373,"display_name":"salam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652469284,"creation_date":1652468921,"answer_id":72234401,"question_id":72234312,"body_markdown":"You need to check whether the array contains the newly generated random number. If not, you add it, otherwise, keep generating random numbers until one that&#39;s not in the array is generated.\r\nTo check whether the number is found in the array, you can write the following function that takes the random integer, your array and returns a boolean:\r\n\r\n    boolean exists = false;\r\n\r\n    for (int n : winnum) {\r\n      if (n == randomInt) {\r\n        exists = true;\r\n        break;\r\n      }\r\n    } return exists;\r\n\r\n","title":"How to make random non-repeating numbers?","body":"<p>You need to check whether the array contains the newly generated random number. If not, you add it, otherwise, keep generating random numbers until one that's not in the array is generated.\nTo check whether the number is found in the array, you can write the following function that takes the random integer, your array and returns a boolean:</p>\n<pre><code>boolean exists = false;\n\nfor (int n : winnum) {\n  if (n == randomInt) {\n    exists = true;\n    break;\n  }\n} return exists;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652470157,"creation_date":1652470157,"answer_id":72234580,"question_id":72234312,"body_markdown":"Here is a real quick way using streams.\r\n```\r\nRandom r = new Random();\r\n```\r\n- `r.ints(n,m)` - generate a stream of random values between `n and m-1` inclusive\r\n- `distinct` - ensure they are unique\r\n- `limit(n)` - limit to `n`\r\n- `toArray` - return as an array.\r\n```\r\nint [] result = r.ints(0,42).distinct().limit(6).toArray();\r\nSystem.out.println(Arrays.toString(result));\r\n```\r\nprints something like\r\n```\r\n[37, 19, 28, 31, 15, 12]\r\n","title":"How to make random non-repeating numbers?","body":"<p>Here is a real quick way using streams.</p>\n<pre><code>Random r = new Random();\n</code></pre>\n<ul>\n<li><code>r.ints(n,m)</code> - generate a stream of random values between <code>n and m-1</code> inclusive</li>\n<li><code>distinct</code> - ensure they are unique</li>\n<li><code>limit(n)</code> - limit to <code>n</code></li>\n<li><code>toArray</code> - return as an array.</li>\n</ul>\n<pre><code>int [] result = r.ints(0,42).distinct().limit(6).toArray();\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>prints something like</p>\n<pre><code>[37, 19, 28, 31, 15, 12]\n</code></pre>\n"}],"owner":{"account_id":25230142,"reputation":5,"user_id":19065415,"display_name":"oppai09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652470157,"creation_date":1652468331,"question_id":72234312,"body_markdown":"I made a code that could generate random numbers, but my issue is that sometimes it would repeat two or three numbers from time to time. \r\n\r\n\r\n        int winnum[] = new int[6];\r\n        System.out.print(&quot;Lotto winning numbers: &quot;);\r\n        \r\n        for(int i = 0; i &lt; winnum.length; i++){\r\n            \r\n            winnum[i] = 0 + (int)(Math.random() * 42);    \r\n            \r\n            System.out.print(winnum[i] + &quot; &quot;);\r\n          }\r\n\r\n\r\nhere is my code for generating random numbers","title":"How to make random non-repeating numbers?","body":"<p>I made a code that could generate random numbers, but my issue is that sometimes it would repeat two or three numbers from time to time.</p>\n<pre><code>    int winnum[] = new int[6];\n    System.out.print(&quot;Lotto winning numbers: &quot;);\n    \n    for(int i = 0; i &lt; winnum.length; i++){\n        \n        winnum[i] = 0 + (int)(Math.random() * 42);    \n        \n        System.out.print(winnum[i] + &quot; &quot;);\n      }\n</code></pre>\n<p>here is my code for generating random numbers</p>\n"},{"tags":["java","android","flutter","dart","sockets"],"comments":[{"owner":{"account_id":19090629,"reputation":112,"user_id":13940973,"display_name":"Kassab"},"score":0,"creation_date":1661680234,"post_id":72234573,"comment_id":129825096,"body_markdown":"have you found any solutions?","body":"have you found any solutions?"},{"owner":{"account_id":18114362,"reputation":71,"user_id":13171178,"display_name":"Zaka"},"score":0,"creation_date":1699802976,"post_id":72234573,"comment_id":136574337,"body_markdown":"@Kassab  sorry for the late reply, at the time I just hosted the Java server over on a free testing service and called it a day, it was a college project anyway.","body":"@Kassab  sorry for the late reply, at the time I just hosted the Java server over on a free testing service and called it a day, it was a college project anyway."}],"owner":{"account_id":18114362,"reputation":71,"user_id":13171178,"display_name":"Zaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1652470116,"creation_date":1652470116,"question_id":72234573,"body_markdown":"I am new to working with sockets, and I am working on this project where a connection between my android flutter app and a java server is needed, to do this I am trying socket programming.\r\n\r\nThe server code is fairly simple, I create a new thread for every client connected and I give them a bunch of URLs, later on, this should be replaced by a query result. here is the java code: \r\n\r\n```\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class CrawlitServer {\r\n\r\n    // The port number on which the server will listen for incoming connections.\r\n    public static final int PORT = 6666;\r\n\r\n    //main method\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;The server started .. &quot;);\r\n\r\n        // Create a new server socket\r\n        ServerSocket serverSocket = null;\r\n        try {\r\n            serverSocket = new ServerSocket(PORT);\r\n\r\n        }   catch (Exception e) {\r\n            System.out.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n\r\n        // Listen for incoming connections and create a new thread for each one\r\n        while (true) {\r\n            try {\r\n                new CrawlitServerThread(serverSocket.accept()).start();\r\n            }\r\n            catch (Exception e) {\r\n                System.out.println(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class CrawlitServerThread extends Thread {\r\n        private final Socket socket;\r\n\r\n        public CrawlitServerThread(Socket socket) {\r\n            this.socket = socket;\r\n        }\r\n\r\n        public void run() {\r\n\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            //assign a value to list\r\n            list.add(&quot;http://www.google.com&quot;);\r\n            list.add(&quot;http://www.yahoo.com&quot;);\r\n            list.add(&quot;http://www.bing.com&quot;);\r\n            list.add(&quot;http://www.facebook.com&quot;);\r\n            list.add(&quot;http://www.twitter.com&quot;);\r\n            list.add(&quot;http://www.linkedin.com&quot;);\r\n            list.add(&quot;http://www.youtube.com&quot;);\r\n            list.add(&quot;http://www.wikipedia.com&quot;);\r\n            list.add(&quot;http://www.amazon.com&quot;);\r\n            list.add(&quot;http://www.ebay.com&quot;);\r\n            list.add(&quot;http://stackoverflow.com&quot;);\r\n            list.add(&quot;http://github.com&quot;);\r\n            list.add(&quot;http://quora.com&quot;);\r\n            list.add(&quot;http://reddit.com&quot;);\r\n            list.add(&quot;http://wikipedia.org&quot;);\r\n            try {\r\n                // Get the input stream from the socket\r\n                DataInputStream inputStream = new DataInputStream(socket.getInputStream());\r\n                Scanner scanner = new Scanner(inputStream);\r\n                DataOutputStream outputStream = new DataOutputStream(socket.getOutputStream());\r\n                PrintWriter writer = new PrintWriter(outputStream, true);\r\n\r\n                while (scanner.hasNextLine()) {\r\n                    String line = scanner.nextLine();\r\n                    System.out.println(&quot;Received Message from client: &quot; + line);\r\n                    writer.println(list + &quot;\\n&quot;);\r\n                }\r\n\r\n            }\r\n            catch (Exception e) {\r\n                System.out.println(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nNow I run this server and connect to it using sockets in Flutter, I give it the IP address I get from the ipconfig command, and here is the dart code: \r\n\r\n```\r\nimport &#39;dart:async&#39;;\r\nimport &#39;dart:io&#39;;\r\n\r\n//Utilities that manage connections with server sockets.\r\n\r\n//ServerUtil Class\r\nclass ServerUtil {\r\n  static const port = 6666;\r\n  static const host = MY_IP_GOES_HERE;\r\n  static late Socket socket;\r\n  static bool connected = false;\r\n  //a list of urls returned by the server\r\n  static List&lt;String&gt; urls = [];\r\n\r\n  //Constructor\r\n  ServerUtil() {\r\n    //Initialize the socket.\r\n    Socket.connect(host, port).then((Socket sock) {\r\n      socket = sock;\r\n      connected = true;\r\n      socket.listen(dataHandler,\r\n          onError: errorHandler, onDone: doneHandler, cancelOnError: false);\r\n      //send a message to the server.\r\n    }).catchError((e) {\r\n      print(&quot;Unable to connect: $e&quot;);\r\n    });\r\n  }\r\n\r\n  //Query method that sends a message to the server. The server will return a list of urls.\r\n  //The urls will be added to the urls list.\r\n  //The urls list will be returned.\r\n  static Future&lt;List&lt;String&gt;&gt; query(String userQuery) async {\r\n    urls.clear();\r\n    //check if socket is connected.\r\n    if (connected) {\r\n      //send the query to the server.\r\n      socket.writeln(userQuery);\r\n      await Future.delayed(const Duration(milliseconds: 200));\r\n      print(urls);\r\n      return urls;\r\n    }\r\n    //if socket is not connected, wait for 5 seconds and try again.\r\n    await Future.delayed(const Duration(milliseconds: 50));\r\n    return query(userQuery);\r\n  }\r\n\r\n  //Handles data from the server.\r\n  void dataHandler(data) {\r\n    //String of received data.\r\n    String dataString = String.fromCharCodes(data).trim();\r\n    //remove first and last character from the string.\r\n    dataString = dataString.substring(1, dataString.length - 1);\r\n    //remove all the whitespace characters from the string.\r\n    dataString = dataString.replaceAll(RegExp(r&#39;\\s+&#39;), &#39;&#39;);\r\n    urls = dataString.split(&#39;,&#39;);\r\n  }\r\n\r\n  //Handles errors from the server.\r\n  void errorHandler(error, StackTrace trace) {\r\n    print(error);\r\n  }\r\n\r\n//Handles when the connection is done.\r\n  void doneHandler() {\r\n    socket.destroy();\r\n  }\r\n}\r\n\r\n```\r\n\r\nThis works perfectly fine while using a debug apk running it on my real Note 9 device. The problem however is that when I build a release apk and try it out, nothing happens.\r\nThe way I set it up is that I wait for the query method in an async and then I send the result to a new screen and push that screen into the navigator. \r\n\r\nBut in the release apk nothing happens, the new screen doesn&#39;t load. \r\n\r\nSo this leads me to my **first question:**\r\n\r\nIs there a way to debug a release apk? see what exceptions it throws or print some stuff to console?\r\n\r\nI have the server running on my Laptop, and the app runs on my phone which is on the same WIFI network. \r\n\r\n**My second question is:**\r\n\r\nDo I need to enable some sort of option with my router or my laptop to allow my phone to connect? it does connect in debug mode without any modifications\r\n\r\n\r\nI tried some random things, like using &#39;localhost&#39; instead of my IP, as I would normally connect say with a java client for example, but it didn&#39;t work. \r\n\r\n**My last question is:**\r\n\r\nDoes the release apk or like android OS prevent connections to local hosts, maybe because it thinks it is not secure? but then it still connects in debug mode. \r\n\r\nThank you for your time. ","title":"Socket connection not workin in flutter release apk","body":"<p>I am new to working with sockets, and I am working on this project where a connection between my android flutter app and a java server is needed, to do this I am trying socket programming.</p>\n<p>The server code is fairly simple, I create a new thread for every client connected and I give them a bunch of URLs, later on, this should be replaced by a query result. here is the java code:</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class CrawlitServer {\n\n    // The port number on which the server will listen for incoming connections.\n    public static final int PORT = 6666;\n\n    //main method\n    public static void main(String[] args) {\n        System.out.println(&quot;The server started .. &quot;);\n\n        // Create a new server socket\n        ServerSocket serverSocket = null;\n        try {\n            serverSocket = new ServerSocket(PORT);\n\n        }   catch (Exception e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n\n        // Listen for incoming connections and create a new thread for each one\n        while (true) {\n            try {\n                new CrawlitServerThread(serverSocket.accept()).start();\n            }\n            catch (Exception e) {\n                System.out.println(&quot;Error: &quot; + e.getMessage());\n            }\n        }\n    }\n\n    public static class CrawlitServerThread extends Thread {\n        private final Socket socket;\n\n        public CrawlitServerThread(Socket socket) {\n            this.socket = socket;\n        }\n\n        public void run() {\n\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            //assign a value to list\n            list.add(&quot;http://www.google.com&quot;);\n            list.add(&quot;http://www.yahoo.com&quot;);\n            list.add(&quot;http://www.bing.com&quot;);\n            list.add(&quot;http://www.facebook.com&quot;);\n            list.add(&quot;http://www.twitter.com&quot;);\n            list.add(&quot;http://www.linkedin.com&quot;);\n            list.add(&quot;http://www.youtube.com&quot;);\n            list.add(&quot;http://www.wikipedia.com&quot;);\n            list.add(&quot;http://www.amazon.com&quot;);\n            list.add(&quot;http://www.ebay.com&quot;);\n            list.add(&quot;http://stackoverflow.com&quot;);\n            list.add(&quot;http://github.com&quot;);\n            list.add(&quot;http://quora.com&quot;);\n            list.add(&quot;http://reddit.com&quot;);\n            list.add(&quot;http://wikipedia.org&quot;);\n            try {\n                // Get the input stream from the socket\n                DataInputStream inputStream = new DataInputStream(socket.getInputStream());\n                Scanner scanner = new Scanner(inputStream);\n                DataOutputStream outputStream = new DataOutputStream(socket.getOutputStream());\n                PrintWriter writer = new PrintWriter(outputStream, true);\n\n                while (scanner.hasNextLine()) {\n                    String line = scanner.nextLine();\n                    System.out.println(&quot;Received Message from client: &quot; + line);\n                    writer.println(list + &quot;\\n&quot;);\n                }\n\n            }\n            catch (Exception e) {\n                System.out.println(&quot;Error: &quot; + e.getMessage());\n            }\n        }\n    }\n\n}\n\n\n</code></pre>\n<p>Now I run this server and connect to it using sockets in Flutter, I give it the IP address I get from the ipconfig command, and here is the dart code:</p>\n<pre><code>import 'dart:async';\nimport 'dart:io';\n\n//Utilities that manage connections with server sockets.\n\n//ServerUtil Class\nclass ServerUtil {\n  static const port = 6666;\n  static const host = MY_IP_GOES_HERE;\n  static late Socket socket;\n  static bool connected = false;\n  //a list of urls returned by the server\n  static List&lt;String&gt; urls = [];\n\n  //Constructor\n  ServerUtil() {\n    //Initialize the socket.\n    Socket.connect(host, port).then((Socket sock) {\n      socket = sock;\n      connected = true;\n      socket.listen(dataHandler,\n          onError: errorHandler, onDone: doneHandler, cancelOnError: false);\n      //send a message to the server.\n    }).catchError((e) {\n      print(&quot;Unable to connect: $e&quot;);\n    });\n  }\n\n  //Query method that sends a message to the server. The server will return a list of urls.\n  //The urls will be added to the urls list.\n  //The urls list will be returned.\n  static Future&lt;List&lt;String&gt;&gt; query(String userQuery) async {\n    urls.clear();\n    //check if socket is connected.\n    if (connected) {\n      //send the query to the server.\n      socket.writeln(userQuery);\n      await Future.delayed(const Duration(milliseconds: 200));\n      print(urls);\n      return urls;\n    }\n    //if socket is not connected, wait for 5 seconds and try again.\n    await Future.delayed(const Duration(milliseconds: 50));\n    return query(userQuery);\n  }\n\n  //Handles data from the server.\n  void dataHandler(data) {\n    //String of received data.\n    String dataString = String.fromCharCodes(data).trim();\n    //remove first and last character from the string.\n    dataString = dataString.substring(1, dataString.length - 1);\n    //remove all the whitespace characters from the string.\n    dataString = dataString.replaceAll(RegExp(r'\\s+'), '');\n    urls = dataString.split(',');\n  }\n\n  //Handles errors from the server.\n  void errorHandler(error, StackTrace trace) {\n    print(error);\n  }\n\n//Handles when the connection is done.\n  void doneHandler() {\n    socket.destroy();\n  }\n}\n\n</code></pre>\n<p>This works perfectly fine while using a debug apk running it on my real Note 9 device. The problem however is that when I build a release apk and try it out, nothing happens.\nThe way I set it up is that I wait for the query method in an async and then I send the result to a new screen and push that screen into the navigator.</p>\n<p>But in the release apk nothing happens, the new screen doesn't load.</p>\n<p>So this leads me to my <strong>first question:</strong></p>\n<p>Is there a way to debug a release apk? see what exceptions it throws or print some stuff to console?</p>\n<p>I have the server running on my Laptop, and the app runs on my phone which is on the same WIFI network.</p>\n<p><strong>My second question is:</strong></p>\n<p>Do I need to enable some sort of option with my router or my laptop to allow my phone to connect? it does connect in debug mode without any modifications</p>\n<p>I tried some random things, like using 'localhost' instead of my IP, as I would normally connect say with a java client for example, but it didn't work.</p>\n<p><strong>My last question is:</strong></p>\n<p>Does the release apk or like android OS prevent connections to local hosts, maybe because it thinks it is not secure? but then it still connects in debug mode.</p>\n<p>Thank you for your time.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4613206,"reputation":2022,"user_id":4019117,"accept_rate":8,"display_name":"Irfan Nasim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639475694,"creation_date":1639475694,"answer_id":70346906,"question_id":70346895,"body_markdown":"The Complete Code for this HEXA and BASE64 string to generate QR code.\r\n\r\n    import org.apache.commons.codec.DecoderException;\r\n    import org.apache.commons.codec.binary.Base64;\r\n    import org.apache.commons.codec.binary.Hex;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class TestMain {\r\n    \r\n        public static void main(String args[]) throws DecoderException {\r\n            String tag1 = getHexString(1, &quot;Irfan Nasim&quot;);\r\n            String tag2 = getHexString(2, &quot;1234567891&quot;);\r\n            String tag3 = getHexString(3, &quot;2021-11-17&quot;);\r\n            String tag4 = getHexString(4, &quot;300.00&quot;);\r\n            String tag5 = getHexString(5, &quot;75.00&quot;);\r\n    \r\n            String finalString = tag1 + tag2 + tag3 + tag4 + tag5;\r\n            byte[] decodedHex = Hex.decodeHex(finalString.toCharArray());\r\n            String result = Base64.encodeBase64String(decodedHex);\r\n            System.out.println(&quot;==&gt; &quot; + result);\r\n    \r\n        }\r\n    \r\n        static String getHexString(int tagNo, String tagValue) {\r\n            String tagNumLengthHexString = Integer.toHexString(tagNo);\r\n    \r\n            int tagValueLength = tagValue.length();\r\n            String tagValueLengthHexString = Integer.toHexString(tagValueLength);\r\n    \r\n            byte[] tagValueBytes = tagValue.getBytes(StandardCharsets.UTF_8);\r\n            String tagValueHexString = Hex.encodeHexString(tagValueBytes);\r\n    \r\n            return (0 + tagNumLengthHexString) + (0 + tagValueLengthHexString) + tagValueHexString;\r\n        }\r\n    }\r\n\r\n","title":"QR Code in Base64 encoding for KSA E-Invoicing In Java","body":"<p>The Complete Code for this HEXA and BASE64 string to generate QR code.</p>\n<pre><code>import org.apache.commons.codec.DecoderException;\nimport org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.codec.binary.Hex;\n\nimport java.nio.charset.StandardCharsets;\n\npublic class TestMain {\n\n    public static void main(String args[]) throws DecoderException {\n        String tag1 = getHexString(1, &quot;Irfan Nasim&quot;);\n        String tag2 = getHexString(2, &quot;1234567891&quot;);\n        String tag3 = getHexString(3, &quot;2021-11-17&quot;);\n        String tag4 = getHexString(4, &quot;300.00&quot;);\n        String tag5 = getHexString(5, &quot;75.00&quot;);\n\n        String finalString = tag1 + tag2 + tag3 + tag4 + tag5;\n        byte[] decodedHex = Hex.decodeHex(finalString.toCharArray());\n        String result = Base64.encodeBase64String(decodedHex);\n        System.out.println(&quot;==&gt; &quot; + result);\n\n    }\n\n    static String getHexString(int tagNo, String tagValue) {\n        String tagNumLengthHexString = Integer.toHexString(tagNo);\n\n        int tagValueLength = tagValue.length();\n        String tagValueLengthHexString = Integer.toHexString(tagValueLength);\n\n        byte[] tagValueBytes = tagValue.getBytes(StandardCharsets.UTF_8);\n        String tagValueHexString = Hex.encodeHexString(tagValueBytes);\n\n        return (0 + tagNumLengthHexString) + (0 + tagValueLengthHexString) + tagValueHexString;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4613206,"reputation":2022,"user_id":4019117,"accept_rate":8,"display_name":"Irfan Nasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":948,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1652557723,"answer_count":1,"score":-2,"last_activity_date":1652469983,"creation_date":1639475625,"question_id":70346895,"body_markdown":"How to Create HEXA and BASE 64 QR code for E-Invoicing Saudia Arabia. \r\nThere is problem converting hexa to base64 but that is not readable in E-Invoicing system. ","title":"QR Code in Base64 encoding for KSA E-Invoicing In Java","body":"<p>How to Create HEXA and BASE 64 QR code for E-Invoicing Saudia Arabia.\nThere is problem converting hexa to base64 but that is not readable in E-Invoicing system.</p>\n"},{"tags":["java","android","android-studio","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1652467935,"post_id":72233983,"comment_id":127622081,"body_markdown":"The synthetic extensions (in your import there) are deprecated, you shouldn&#39;t use them. It basically does some magic and creates a fake variable for each view ID in the layout your Activity is using, so you can just access them without declaring them and looking up the views. If you want this kind of thing, you should use View Binding (https://developer.android.com/topic/libraries/view-binding) which generates all the ID references on a binding object instead","body":"The synthetic extensions (in your import there) are deprecated, you shouldn&#39;t use them. It basically does some magic and creates a fake variable for each view ID in the layout your Activity is using, so you can just access them without declaring them and looking up the views. If you want this kind of thing, you should use View Binding (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding</a>) which generates all the ID references on a binding object instead"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1652469638,"post_id":72233983,"comment_id":127622554,"body_markdown":"More info here: https://stackoverflow.com/questions/68236873/why-do-i-get-unresolved-reference-error-for-my-views-name-id-when-i-type-it-i","body":"More info here: <a href=\"https://stackoverflow.com/questions/68236873/why-do-i-get-unresolved-reference-error-for-my-views-name-id-when-i-type-it-i\" title=\"why do i get unresolved reference error for my views name id when i type it i\">stackoverflow.com/questions/68236873/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652468951,"creation_date":1652468951,"answer_id":72234410,"question_id":72233983,"body_markdown":"What you saw is `Kotlin synthetics` and has been `deprecated` in favor of `ViewBinding` and is heavily discouraged to use. You should use `ViewBinding` instead.\r\n\r\nEnable `ViewBinding` for your project by setting `viewBinding` build feature to `true`, inside your module-level `build.gradle`\r\n\r\n    android {\r\n        ...\r\n        buildFeatures {\r\n            viewBinding = true\r\n        }\r\n        ...\r\n    }\r\n\r\nBy enabling this, Android studio will start generating `viewBinding` classes for your `layouts`.\r\n\r\n\r\n----------\r\n\r\n\r\nUsing `ViewBinding` inside an `activity`\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var binding: ActivityMainBinding\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            val view = binding.root\r\n            setContentView(view)\r\n\r\n            //here access your view using binding\r\n            binding.toggleButtonGroup.addOnButtonCheckedListener { toggleButtonGroup, checkedId, isChecked -&gt;\r\n                    //some code here \r\n            }    \r\n        }\r\n    }\r\n\r\n`ActivityMainBinding` is the `class` generated by Android Studio using the `activity_main` layout.\r\n\r\n----------\r\n\r\nUsing `ViewBinding` inside a `fragment`\r\n\r\n    class TestFragment: Fragment() {\r\n    \r\n        private var _binding: TestFragmentBinding? = null\r\n        private val binding get() = _binding!!\r\n        \r\n        override fun onCreateView(\r\n            inflater: LayoutInflater,\r\n            container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View? {\r\n            _binding = TestFragmentBinding.inflate(inflater, container, false)\r\n            val view = binding.root\r\n            return view\r\n        }\r\n        \r\n        override fun onDestroyView() {\r\n            super.onDestroyView()\r\n\r\n            //setting _binding to null is important to avoid any memory leaks\r\n            _binding = null \r\n        }\r\n    }","title":"How to call a element from Layout without use findViewId() in Kotlin?","body":"<p>What you saw is <code>Kotlin synthetics</code> and has been <code>deprecated</code> in favor of <code>ViewBinding</code> and is heavily discouraged to use. You should use <code>ViewBinding</code> instead.</p>\n<p>Enable <code>ViewBinding</code> for your project by setting <code>viewBinding</code> build feature to <code>true</code>, inside your module-level <code>build.gradle</code></p>\n<pre><code>android {\n    ...\n    buildFeatures {\n        viewBinding = true\n    }\n    ...\n}\n</code></pre>\n<p>By enabling this, Android studio will start generating <code>viewBinding</code> classes for your <code>layouts</code>.</p>\n<hr />\n<p>Using <code>ViewBinding</code> inside an <code>activity</code></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        val view = binding.root\n        setContentView(view)\n\n        //here access your view using binding\n        binding.toggleButtonGroup.addOnButtonCheckedListener { toggleButtonGroup, checkedId, isChecked -&gt;\n                //some code here \n        }    \n    }\n}\n</code></pre>\n<p><code>ActivityMainBinding</code> is the <code>class</code> generated by Android Studio using the <code>activity_main</code> layout.</p>\n<hr />\n<p>Using <code>ViewBinding</code> inside a <code>fragment</code></p>\n<pre><code>class TestFragment: Fragment() {\n\n    private var _binding: TestFragmentBinding? = null\n    private val binding get() = _binding!!\n    \n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        _binding = TestFragmentBinding.inflate(inflater, container, false)\n        val view = binding.root\n        return view\n    }\n    \n    override fun onDestroyView() {\n        super.onDestroyView()\n\n        //setting _binding to null is important to avoid any memory leaks\n        _binding = null \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22390077,"reputation":3,"user_id":18218061,"display_name":"Luis Herrera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72234410,"answer_count":1,"score":0,"last_activity_date":1652468951,"creation_date":1652466354,"question_id":72233983,"body_markdown":"I didn&#39;t know this was possible, but I was following an example and I see this piece of code:\r\n\r\n    import kotlinx.android.synthetic.main.activity_main.*\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        toggleButtonGroup.addOnButtonCheckedListener { toggleButtonGroup, checkedId, isChecked -&gt;\r\n        //some code here \r\n        }\r\n    }\r\n\r\nHere is the code:\r\nhttps://gist.github.com/smartherd/0803ba4e287d6aa0d441d0a221eeb013\r\n\r\n&quot;toggleButtonGroup&quot; is the ID of the element in layout, and he doesn&#180;t declare it anywhere in the MainActivity, how can I do this?\r\n","title":"How to call a element from Layout without use findViewId() in Kotlin?","body":"<p>I didn't know this was possible, but I was following an example and I see this piece of code:</p>\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    toggleButtonGroup.addOnButtonCheckedListener { toggleButtonGroup, checkedId, isChecked -&gt;\n    //some code here \n    }\n}\n</code></pre>\n<p>Here is the code:\n<a href=\"https://gist.github.com/smartherd/0803ba4e287d6aa0d441d0a221eeb013\" rel=\"nofollow noreferrer\">https://gist.github.com/smartherd/0803ba4e287d6aa0d441d0a221eeb013</a></p>\n<p>&quot;toggleButtonGroup&quot; is the ID of the element in layout, and he doesnt declare it anywhere in the MainActivity, how can I do this?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652468722,"creation_date":1652468722,"answer_id":72234370,"question_id":72226500,"body_markdown":"This is a bug, currently the fact that it is a _exists_ method is not taken into account, and as the return type is no `Collection` a normal query for the parameters is executed and the first result returned. Which leads to the error you see.\r\n\r\nAs a workaround change your method to do a count instead:\r\n\r\n```java\r\nLong countOrderLineDocumentByReviewRequestDocumentIdAndProductId(String reviewRequestDocumentId, String productId);\r\n```\r\n\r\nand check if the result is greater than zero.\r\n\r\nThank you for reporting [this issue](https://github.com/spring-projects/spring-data-elasticsearch/issues/2162)","title":"Spring Data Elasticsearch: ClassCastException thrown in existsBy* repository method","body":"<p>This is a bug, currently the fact that it is a <em>exists</em> method is not taken into account, and as the return type is no <code>Collection</code> a normal query for the parameters is executed and the first result returned. Which leads to the error you see.</p>\n<p>As a workaround change your method to do a count instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long countOrderLineDocumentByReviewRequestDocumentIdAndProductId(String reviewRequestDocumentId, String productId);\n</code></pre>\n<p>and check if the result is greater than zero.</p>\n<p>Thank you for reporting <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/issues/2162\" rel=\"nofollow noreferrer\">this issue</a></p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72234370,"answer_count":1,"score":0,"last_activity_date":1652468722,"creation_date":1652430146,"question_id":72226500,"body_markdown":"I&#39;ve got this trivial index in ES:\r\n```json\r\n{\r\n  &quot;dynamic&quot;: &quot;strict&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;_class&quot;: {\r\n      &quot;type&quot;: &quot;text&quot;,\r\n      &quot;fields&quot;: {\r\n        &quot;keyword&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;id&quot;: {\r\n      &quot;type&quot;: &quot;keyword&quot;\r\n    },\r\n    &quot;reviewRequestDocumentId&quot;: {\r\n      &quot;type&quot;: &quot;keyword&quot;\r\n    },\r\n    &quot;productId&quot;: {\r\n      &quot;type&quot;: &quot;keyword&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nTo work with it I use Spring Data Elasticsearch, so an entity and bound repository are created:\r\n```java\r\n@Data\r\n@Builder(toBuilder = true)\r\n@Document(indexName = &quot;order_line&quot;, createIndex = false)\r\npublic class OrderLineDocument {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    @NotNull\r\n    private String reviewRequestDocumentId;\r\n\r\n    @NotNull\r\n    private String productId;\r\n}\r\n\r\npublic interface OrderLineRepository extends ElasticsearchRepository&lt;OrderLineDocument, String&gt; {\r\n\r\n    boolean existsByReviewRequestDocumentIdAndProductId(String reviewRequestDocumentId, String productId);\r\n\r\n}\r\n```\r\nThe problem I&#39;m facing is related to repository method `existsByReviewRequestDocumentIdAndProductId()` which is called from test method:\r\n```java\r\n@Test\r\nvoid existsByReviewRequestDocumentIdAndProductId() {\r\n    String rrdId = UUID.randomUUID().toString();\r\n    String productId = UUID.randomUUID().toString();\r\n\r\n    OrderLineDocument orderLine = OrderLineDocument.builder()\r\n            .productId(productId)\r\n            .reviewRequestDocumentId(rrdId)\r\n            .build();\r\n\r\n    String id = repository.save(orderLine).getId();\r\n\r\n    assertThat(repository.findById(id)).isNotEmpty();\r\n\r\n    assertThat(repository.existsByReviewRequestDocumentIdAndProductId(rrdId, productId)).isTrue();\r\n}\r\n```\r\n\r\nCalling it results in ClassCastException with this stack trace:\r\n```\r\njava.lang.ClassCastException: class com.yotpo.review.requests.dashboard.core.documents.orderline.OrderLineDocument cannot be cast to class java.lang.Boolean (com.yotpo.review.requests.dashboard.core.documents.orderline.OrderLineDocument is in unnamed module of loader &#39;app&#39;; java.lang.Boolean is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\tat com.sun.proxy.$Proxy140.existsByReviewRequestDocumentIdAndProductId(Unknown Source)\r\n\tat com.yotpo.review.requests.dashboard.componenttest.OrderLineRepositoryTest.existsByReviewRequestDocumentIdAndProductId(OrderLineRepositoryTest.java:67)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n```\r\nIt looks like the method queries the whole entity from ES instead of fetching simple `boolean`.\r\n\r\nDoes anyone aware of such issues? Is it a bug or have I misconfigured something?\r\n\r\nP.S. I&#39;ve tried also \r\n```java\r\npublic interface OrderLineRepository extends ElasticsearchRepository&lt;OrderLineDocument, String&gt; {\r\n\r\n    boolean existsOrderLineDocumentByReviewRequestDocumentIdAndProductId(String reviewRequestDocumentId, String productId);\r\n\r\n}\r\n```\r\nsame exception is thrown.","title":"Spring Data Elasticsearch: ClassCastException thrown in existsBy* repository method","body":"<p>I've got this trivial index in ES:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;dynamic&quot;: &quot;strict&quot;,\n  &quot;properties&quot;: {\n    &quot;_class&quot;: {\n      &quot;type&quot;: &quot;text&quot;,\n      &quot;fields&quot;: {\n        &quot;keyword&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;\n        }\n      }\n    },\n    &quot;id&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;\n    },\n    &quot;reviewRequestDocumentId&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;\n    },\n    &quot;productId&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;\n    }\n  }\n}\n</code></pre>\n<p>To work with it I use Spring Data Elasticsearch, so an entity and bound repository are created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder(toBuilder = true)\n@Document(indexName = &quot;order_line&quot;, createIndex = false)\npublic class OrderLineDocument {\n\n    @Id\n    private String id;\n\n    @NotNull\n    private String reviewRequestDocumentId;\n\n    @NotNull\n    private String productId;\n}\n\npublic interface OrderLineRepository extends ElasticsearchRepository&lt;OrderLineDocument, String&gt; {\n\n    boolean existsByReviewRequestDocumentIdAndProductId(String reviewRequestDocumentId, String productId);\n\n}\n</code></pre>\n<p>The problem I'm facing is related to repository method <code>existsByReviewRequestDocumentIdAndProductId()</code> which is called from test method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid existsByReviewRequestDocumentIdAndProductId() {\n    String rrdId = UUID.randomUUID().toString();\n    String productId = UUID.randomUUID().toString();\n\n    OrderLineDocument orderLine = OrderLineDocument.builder()\n            .productId(productId)\n            .reviewRequestDocumentId(rrdId)\n            .build();\n\n    String id = repository.save(orderLine).getId();\n\n    assertThat(repository.findById(id)).isNotEmpty();\n\n    assertThat(repository.existsByReviewRequestDocumentIdAndProductId(rrdId, productId)).isTrue();\n}\n</code></pre>\n<p>Calling it results in ClassCastException with this stack trace:</p>\n<pre><code>java.lang.ClassCastException: class com.yotpo.review.requests.dashboard.core.documents.orderline.OrderLineDocument cannot be cast to class java.lang.Boolean (com.yotpo.review.requests.dashboard.core.documents.orderline.OrderLineDocument is in unnamed module of loader 'app'; java.lang.Boolean is in module java.base of loader 'bootstrap')\n\n    at com.sun.proxy.$Proxy140.existsByReviewRequestDocumentIdAndProductId(Unknown Source)\n    at com.yotpo.review.requests.dashboard.componenttest.OrderLineRepositoryTest.existsByReviewRequestDocumentIdAndProductId(OrderLineRepositoryTest.java:67)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n</code></pre>\n<p>It looks like the method queries the whole entity from ES instead of fetching simple <code>boolean</code>.</p>\n<p>Does anyone aware of such issues? Is it a bug or have I misconfigured something?</p>\n<p>P.S. I've tried also</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface OrderLineRepository extends ElasticsearchRepository&lt;OrderLineDocument, String&gt; {\n\n    boolean existsOrderLineDocumentByReviewRequestDocumentIdAndProductId(String reviewRequestDocumentId, String productId);\n\n}\n</code></pre>\n<p>same exception is thrown.</p>\n"},{"tags":["java","for-loop","multidimensional-array","game-development","minesweeper"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1652469121,"post_id":72234347,"comment_id":127622424,"body_markdown":"I believe your isue has nothing to do with the indices but how you compare strings, i.e. using `==` instaed of `equals`. Change your if condition to `board[i][j].equals(&quot;X&quot;)`","body":"I believe your isue has nothing to do with the indices but how you compare strings, i.e. using <code>==</code> instaed of <code>equals</code>. Change your if condition to <code>board[i][j].equals(&quot;X&quot;)</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652470490,"post_id":72234347,"comment_id":127622784,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25283000,"reputation":1,"user_id":19110547,"display_name":"Syntax_E"},"score":0,"creation_date":1652474287,"post_id":72234347,"comment_id":127623774,"body_markdown":"why does adding a number to [ i ] or [  j  ]increment the val;ue of the current board[i][j].","body":"why does adding a number to [ i ] or [  j  ]increment the val;ue of the current board[i][j]."}],"owner":{"account_id":25283000,"reputation":1,"user_id":19110547,"display_name":"Syntax_E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652468575,"creation_date":1652468575,"question_id":72234347,"body_markdown":"Just like the game minesweeper I want the &quot;O&quot;s to change to &quot;1&quot;s if the borders are next to the &quot;X&quot;s, the board[i][j] will only change to &quot;1&quot;s if and only you add 1, e.g.. board[i][j+1] or board[i+1][j+1] will change the nearby &quot;O&quot;s to &quot;1&quot;s, but when subtracting, the values remain the same e.g. board[i-1][j] = &quot;O&quot;.\r\n\r\nWhy cant you subtract?\r\n\r\n\r\n    String board[][] = {{&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\r\n\t\t\t\t\t\t\t{&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;X&quot;, &quot;O&quot;, &quot;O&quot;},\r\n\t\t\t\t\t\t\t{&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\r\n\t\t\t\t\t\t\t{&quot;O&quot;, &quot;O&quot;, &quot;X&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\r\n\t\t\t\t\t\t\t{&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;X&quot;, &quot;O&quot;},\r\n\t\t\t\t\t\t\t{&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\r\n\t\t};\r\n```\r\nfor(int i = 0; i &lt; 6; i++) {\r\n\t\t\tfor(int j = 0; j &lt; 6; j++) {\t\r\nif(board[i][j] == &quot;X&quot;) {\r\n\t\t\t\t\t\tboard[i-1][j] = &quot;1&quot;; \t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n}\r\n```","title":"Why cant you subract a value from a for loop within an 2DArray but works vice versa(Adding a value to the 2DArray)?","body":"<p>Just like the game minesweeper I want the &quot;O&quot;s to change to &quot;1&quot;s if the borders are next to the &quot;X&quot;s, the board[i][j] will only change to &quot;1&quot;s if and only you add 1, e.g.. board[i][j+1] or board[i+1][j+1] will change the nearby &quot;O&quot;s to &quot;1&quot;s, but when subtracting, the values remain the same e.g. board[i-1][j] = &quot;O&quot;.</p>\n<p>Why cant you subtract?</p>\n<pre><code>String board[][] = {{&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\n                        {&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;X&quot;, &quot;O&quot;, &quot;O&quot;},\n                        {&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\n                        {&quot;O&quot;, &quot;O&quot;, &quot;X&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\n                        {&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;X&quot;, &quot;O&quot;},\n                        {&quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;, &quot;O&quot;},\n    };\n</code></pre>\n<pre><code>for(int i = 0; i &lt; 6; i++) {\n            for(int j = 0; j &lt; 6; j++) {    \nif(board[i][j] == &quot;X&quot;) {\n                        board[i-1][j] = &quot;1&quot;;                    \n\n                    }\n}\n</code></pre>\n"},{"tags":["java","integer-division"],"comments":[{"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"score":0,"creation_date":1680097580,"post_id":4685450,"comment_id":133839508,"body_markdown":"Many has been said about this already, but here is a source where you can read more about this: https://feb21011.ese.eur.nl/week-1/6-calculating (paragraph on rounding)","body":"Many has been said about this already, but here is a source where you can read more about this: <a href=\"https://feb21011.ese.eur.nl/week-1/6-calculating\" rel=\"nofollow noreferrer\">feb21011.ese.eur.nl/week-1/6-calculating</a> (paragraph on rounding)"}],"answers":[{"tags":[],"owner":{"account_id":85234,"reputation":451,"user_id":237771,"display_name":"Charlie"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1487773643,"creation_date":1294953987,"answer_id":4685461,"question_id":4685450,"body_markdown":"Explicitly cast it as a `double`\r\n\r\n    double g = 1.0/3.0\r\n\r\nThis happens because Java uses the integer division operation for `1` and `3` since you entered them as integer constants.","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>Explicitly cast it as a <code>double</code></p>\n\n<pre><code>double g = 1.0/3.0\n</code></pre>\n\n<p>This happens because Java uses the integer division operation for <code>1</code> and <code>3</code> since you entered them as integer constants.</p>\n"},{"tags":[],"owner":{"account_id":19078,"reputation":144991,"user_id":44389,"accept_rate":84,"display_name":"Noldorin"},"down_vote_count":1,"up_vote_count":191,"is_accepted":true,"score":190,"last_activity_date":1495255624,"creation_date":1294954027,"answer_id":4685468,"question_id":4685450,"body_markdown":"The two operands (1 and 3) are integers, therefore integer arithmetic (division here) is used. Declaring the result variable as double just causes an implicit conversion to occur *after division*.\r\n\r\nInteger division of course returns the true result of division rounded towards zero. The result of `0.333...` is thus rounded down to 0 here. (Note that the processor doesn&#39;t actually do any rounding, but you can think of it that way still.)\r\n\r\nAlso, note that if *both* operands (numbers) are given as floats; 3.0 and 1.0, or even just the *first*, then floating-point arithmetic is used, giving you `0.333...`.","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>The two operands (1 and 3) are integers, therefore integer arithmetic (division here) is used. Declaring the result variable as double just causes an implicit conversion to occur <em>after division</em>.</p>\n\n<p>Integer division of course returns the true result of division rounded towards zero. The result of <code>0.333...</code> is thus rounded down to 0 here. (Note that the processor doesn't actually do any rounding, but you can think of it that way still.)</p>\n\n<p>Also, note that if <em>both</em> operands (numbers) are given as floats; 3.0 and 1.0, or even just the <em>first</em>, then floating-point arithmetic is used, giving you <code>0.333...</code>.</p>\n"},{"tags":[],"owner":{"account_id":167726,"reputation":1736,"user_id":392730,"display_name":"Reboot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1512549949,"creation_date":1294954112,"answer_id":4685481,"question_id":4685450,"body_markdown":"1 and 3 are integer contants and so Java does an integer division which&#39;s result is 0. If you want to write double constants you have to write `1.0` and `3.0`.","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>1 and 3 are integer contants and so Java does an integer division which's result is 0. If you want to write double constants you have to write <code>1.0</code> and <code>3.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1294954117,"creation_date":1294954117,"answer_id":4685482,"question_id":4685450,"body_markdown":"Do &quot;double g=1.0/3.0;&quot; instead.","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>Do \"double g=1.0/3.0;\" instead.</p>\n"},{"tags":[],"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487772185,"creation_date":1294954121,"answer_id":4685483,"question_id":4685450,"body_markdown":"Because you are doing integer division.\r\n\r\nAs @Noldorin says, if both operators are integers, then integer division is used.\r\n\r\nThe result 0.33333333 can&#39;t be represented as an integer, therefore only the integer part (0) is assigned to the result.\r\n\r\n\r\nIf any of the operators is a `double` / `float`, then floating point arithmetic will take place. But you&#39;ll have the same problem if you do that:\r\n\r\n    int n = 1.0 / 3.0;","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>Because you are doing integer division.</p>\n\n<p>As @Noldorin says, if both operators are integers, then integer division is used.</p>\n\n<p>The result 0.33333333 can't be represented as an integer, therefore only the integer part (0) is assigned to the result.</p>\n\n<p>If any of the operators is a <code>double</code> / <code>float</code>, then floating point arithmetic will take place. But you'll have the same problem if you do that:</p>\n\n<pre><code>int n = 1.0 / 3.0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138506,"reputation":10002,"user_id":343486,"accept_rate":84,"display_name":"DanielGibbs"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1294954123,"creation_date":1294954123,"answer_id":4685484,"question_id":4685450,"body_markdown":"Because it treats 1 and 3 as integers, therefore rounding the result down to 0, so that it is an integer.\r\n\r\nTo get the result you are looking for, explicitly tell java that the numbers are doubles like so:\r\n\r\n    double g = 1.0/3.0;","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>Because it treats 1 and 3 as integers, therefore rounding the result down to 0, so that it is an integer.</p>\n\n<p>To get the result you are looking for, explicitly tell java that the numbers are doubles like so:</p>\n\n<pre><code>double g = 1.0/3.0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1294954131,"creation_date":1294954131,"answer_id":4685486,"question_id":4685450,"body_markdown":"Make the 1 a float and float division will be used\r\n\r\n    public static void main(String d[]){\r\n        double g=1f/3;\r\n        System.out.printf(&quot;%.2f&quot;,g);\r\n    }\r\n","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>Make the 1 a float and float division will be used</p>\n\n<pre><code>public static void main(String d[]){\n    double g=1f/3;\n    System.out.printf(\"%.2f\",g);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1294954269,"creation_date":1294954269,"answer_id":4685513,"question_id":4685450,"body_markdown":"`1/3` uses integer division as both sides are integers.\r\n\r\nYou need at least one of them to be `float` or `double`.\r\n\r\nIf you are entering the values in the source code like your question, you can do `1.0/3` ; the `1.0` is a double.\r\n\r\nIf you get the values from elsewhere you can use `(double)` to turn the `int` into a `double`.\r\n\r\n    int x = ...;\r\n    int y = ...;\r\n    double value = ((double) x) / y;","title":"Int division: Why is the result of 1/3 == 0?","body":"<p><code>1/3</code> uses integer division as both sides are integers.</p>\n\n<p>You need at least one of them to be <code>float</code> or <code>double</code>.</p>\n\n<p>If you are entering the values in the source code like your question, you can do <code>1.0/3</code> ; the <code>1.0</code> is a double.</p>\n\n<p>If you get the values from elsewhere you can use <code>(double)</code> to turn the <code>int</code> into a <code>double</code>.</p>\n\n<pre><code>int x = ...;\nint y = ...;\ndouble value = ((double) x) / y;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user467871"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1294954510,"creation_date":1294954510,"answer_id":4685544,"question_id":4685450,"body_markdown":"you should use\r\n\r\n    double g=1.0/3;\r\n\r\nor\r\n\r\n    double g=1/3.0;\r\n\r\nInteger division returns integer.\r\n\r\n","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>you should use</p>\n\n<pre><code>double g=1.0/3;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>double g=1/3.0;\n</code></pre>\n\n<p>Integer division returns integer.</p>\n"},{"tags":[],"owner":{"account_id":197065,"reputation":5498,"user_id":440887,"accept_rate":82,"display_name":"sova"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1467428732,"creation_date":1294954532,"answer_id":4685546,"question_id":4685450,"body_markdown":"Many others have failed to point out the real issue:\r\n\r\n&gt;An operation on only integers casts the result of the operation to an integer.\r\n\r\nThis necessarily means that floating point results, that _could_ be displayed as an integer, will be truncated (lop off the decimal part).\r\n\r\nWhat is _casting_ (typecasting / type conversion) you ask?\r\n\r\nIt varies on the implementation of the language, but Wikipedia has a fairly comprehensive view, and it does talk about _coercion_ as well, which is a pivotal piece of information in answering your question.\r\n\r\nhttp://en.wikipedia.org/wiki/Type_conversion","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>Many others have failed to point out the real issue:</p>\n\n<blockquote>\n  <p>An operation on only integers casts the result of the operation to an integer.</p>\n</blockquote>\n\n<p>This necessarily means that floating point results, that <em>could</em> be displayed as an integer, will be truncated (lop off the decimal part).</p>\n\n<p>What is <em>casting</em> (typecasting / type conversion) you ask?</p>\n\n<p>It varies on the implementation of the language, but Wikipedia has a fairly comprehensive view, and it does talk about <em>coercion</em> as well, which is a pivotal piece of information in answering your question.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Type_conversion</a></p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485243028,"creation_date":1485243028,"answer_id":41822430,"question_id":4685450,"body_markdown":"The conversion in JAVA is quite simple but need some understanding. As explain in the JLS for [integer operations](https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.2):\r\n\r\n&gt; If an integer operator other than a shift operator has at least one operand of type long, then the operation is carried out using 64-bit precision, and the result of the numerical operator is of type long. If the other operand is not long, it is first widened (&#167;5.1.5) to type long by numeric promotion (&#167;5.6). \r\n\r\nAnd an example is always the best way to translate the JLS ;) \r\n\r\n    int + long -&gt; long\r\n    int(1) + long(2) + int(3) -&gt; long(1+2) + long(3)\r\n\r\n&gt; Otherwise, the operation is carried out using 32-bit precision, and the result of the numerical operator is of type int. If either operand is not an int, it is first widened to type int by numeric promotion. \r\n\r\n    short + int -&gt; int + int -&gt; int\r\n\r\nA small example using Eclipse to show that even an addition of two `short`s will not be that easy :\r\n\r\n    short s = 1;\r\n    s = s + s; &lt;- Compiling error\r\n\r\n    //possible loss of precision\r\n    //  required: short\r\n    //  found:    int\r\n\r\nThis will required a casting with a possible loss of precision.\r\n\r\nThe same is true for the [floating point operators](https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.4)\r\n\r\n&gt; If at least one of the operands to a numerical operator is of type double, then the operation is carried out using 64-bit floating-point arithmetic, and the result of the numerical operator is a value of type double. If the other operand is not a double, it is first widened (&#167;5.1.5) to type double by numeric promotion (&#167;5.6). \r\n\r\nSo the promotion is done on the float into double.\r\n\r\nAnd the mix of both integer and floating value result in floating values as said \r\n\r\n&gt; If at least one of the operands to a binary operator is of floating-point type, then the operation is a floating-point operation, even if the other is integral. \r\n\r\nThis is true for binary operators but not for &quot;Assignment Operators&quot; like `+=`\r\n\r\nA simple working example is enough to prove this\r\n\r\n    int i = 1;\r\n    i += 1.5f;\r\n\r\nThe reason is that there is an implicit cast done here, this will be execute like \r\n\r\n    i = (int) i + 1.5f\r\n    i = (int) 2.5f\r\n    i = 2","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>The conversion in JAVA is quite simple but need some understanding. As explain in the JLS for <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.2\" rel=\"nofollow noreferrer\">integer operations</a>:</p>\n\n<blockquote>\n  <p>If an integer operator other than a shift operator has at least one operand of type long, then the operation is carried out using 64-bit precision, and the result of the numerical operator is of type long. If the other operand is not long, it is first widened (5.1.5) to type long by numeric promotion (5.6). </p>\n</blockquote>\n\n<p>And an example is always the best way to translate the JLS ;) </p>\n\n<pre><code>int + long -&gt; long\nint(1) + long(2) + int(3) -&gt; long(1+2) + long(3)\n</code></pre>\n\n<blockquote>\n  <p>Otherwise, the operation is carried out using 32-bit precision, and the result of the numerical operator is of type int. If either operand is not an int, it is first widened to type int by numeric promotion. </p>\n</blockquote>\n\n<pre><code>short + int -&gt; int + int -&gt; int\n</code></pre>\n\n<p>A small example using Eclipse to show that even an addition of two <code>short</code>s will not be that easy :</p>\n\n<pre><code>short s = 1;\ns = s + s; &lt;- Compiling error\n\n//possible loss of precision\n//  required: short\n//  found:    int\n</code></pre>\n\n<p>This will required a casting with a possible loss of precision.</p>\n\n<p>The same is true for the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.4\" rel=\"nofollow noreferrer\">floating point operators</a></p>\n\n<blockquote>\n  <p>If at least one of the operands to a numerical operator is of type double, then the operation is carried out using 64-bit floating-point arithmetic, and the result of the numerical operator is a value of type double. If the other operand is not a double, it is first widened (5.1.5) to type double by numeric promotion (5.6). </p>\n</blockquote>\n\n<p>So the promotion is done on the float into double.</p>\n\n<p>And the mix of both integer and floating value result in floating values as said </p>\n\n<blockquote>\n  <p>If at least one of the operands to a binary operator is of floating-point type, then the operation is a floating-point operation, even if the other is integral. </p>\n</blockquote>\n\n<p>This is true for binary operators but not for \"Assignment Operators\" like <code>+=</code></p>\n\n<p>A simple working example is enough to prove this</p>\n\n<pre><code>int i = 1;\ni += 1.5f;\n</code></pre>\n\n<p>The reason is that there is an implicit cast done here, this will be execute like </p>\n\n<pre><code>i = (int) i + 1.5f\ni = (int) 2.5f\ni = 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5316566,"reputation":39,"user_id":4241269,"display_name":"Maruf Hossain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485328367,"creation_date":1485328367,"answer_id":41845514,"question_id":4685450,"body_markdown":"(1/3) means Integer division, thats why you can not get decimal value from this division. To solve this problem use:\r\n\r\n    public static void main(String[] args) {\r\n            double g = 1.0 / 3;\r\n            System.out.printf(&quot;%.2f&quot;, g);\r\n        }","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>(1/3) means Integer division, thats why you can not get decimal value from this division. To solve this problem use:</p>\n\n<pre><code>public static void main(String[] args) {\n        double g = 1.0 / 3;\n        System.out.printf(\"%.2f\", g);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13816844,"reputation":21,"user_id":9973243,"display_name":"Raccoon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1529697384,"creation_date":1529693517,"answer_id":50994066,"question_id":4685450,"body_markdown":"    public static void main(String[] args) {\r\n        double g = 1 / 3;\r\n        System.out.printf(&quot;%.2f&quot;, g);\r\n    }\r\n\r\nSince both 1 and 3 are ints the result not rounded but it&#39;s truncated. So you ignore fractions and take only wholes.\r\n\r\nTo avoid this have at least one of your numbers 1 or 3 as a decimal form 1.0 and/or 3.0.","title":"Int division: Why is the result of 1/3 == 0?","body":"<pre><code>public static void main(String[] args) {\n    double g = 1 / 3;\n    System.out.printf(\"%.2f\", g);\n}\n</code></pre>\n\n<p>Since both 1 and 3 are ints the result not rounded but it's truncated. So you ignore fractions and take only wholes.</p>\n\n<p>To avoid this have at least one of your numbers 1 or 3 as a decimal form 1.0 and/or 3.0.</p>\n"},{"tags":[],"owner":{"account_id":15250824,"reputation":41,"user_id":11004242,"display_name":"Ramzi El-Jabali"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610621686,"creation_date":1549087905,"answer_id":54490507,"question_id":4685450,"body_markdown":"The easiest solution is to just do this \r\n\r\n    double g = (double) 1 / 3;\r\n\r\nWhat this does, since you didn&#39;t enter 1.0 / 3.0, is let you manually convert it to data type double since Java assumed it was Integer division, and it would do it even if it meant narrowing the conversion. This is what is called a cast operator.\r\nHere we cast only one operand, and this is enough to avoid *integer division* (rounding towards zero)","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>The easiest solution is to just do this</p>\n<pre><code>double g = (double) 1 / 3;\n</code></pre>\n<p>What this does, since you didn't enter 1.0 / 3.0, is let you manually convert it to data type double since Java assumed it was Integer division, and it would do it even if it meant narrowing the conversion. This is what is called a cast operator.\nHere we cast only one operand, and this is enough to avoid <em>integer division</em> (rounding towards zero)</p>\n"},{"tags":[],"owner":{"account_id":12858630,"reputation":29,"user_id":9301139,"display_name":"Virus Neeraj"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1555757467,"creation_date":1555754049,"answer_id":55772313,"question_id":4685450,"body_markdown":"Try this out:\r\n\r\n    public static void main(String[] args) {\r\n\t    double a = 1.0;\r\n\t    double b = 3.0;\r\n\t    double g = a / b;\r\n\t    System.out.printf(&quot;&quot;+ g);\r\n    }","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>Try this out:</p>\n\n<pre><code>public static void main(String[] args) {\n    double a = 1.0;\n    double b = 3.0;\n    double g = a / b;\n    System.out.printf(\"\"+ g);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18433254,"reputation":99,"user_id":13427823,"display_name":"BendedWills"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595890432,"creation_date":1595890432,"answer_id":63124769,"question_id":4685450,"body_markdown":"I did this.\r\n\r\n    double g = 1.0/3.0;\r\n\tSystem.out.printf(&quot;%gf&quot;, g);\r\n\r\nUse .0 while doing double calculations or else Java will assume you are using Integers. If a Calculation uses any amount of double values, then the output will be a double value. If the are all Integers, then the output will be an Integer. ","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>I did this.</p>\n<pre><code>double g = 1.0/3.0;\nSystem.out.printf(&quot;%gf&quot;, g);\n</code></pre>\n<p>Use .0 while doing double calculations or else Java will assume you are using Integers. If a Calculation uses any amount of double values, then the output will be a double value. If the are all Integers, then the output will be an Integer.</p>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1612514781,"creation_date":1612480458,"answer_id":66055271,"question_id":4685450,"body_markdown":"&gt; The result is 0. Why is this, and how do I solve this problem?\r\n\r\n**TL;DR** \r\n\r\nYou can solve it by doing:\r\n\r\n    double g = 1.0/3.0; \r\nor\r\n\r\n    double g = 1.0/3; \r\nor\r\n\r\n    double g = 1/3.0; \r\n\r\nor\r\n\r\n    double g = (double) 1 / 3;\r\n\r\nThe last of these options is required when you are using variables e.g. `int a = 1, b = 3; double g = (double) a / b;`.\r\n\r\n**A more completed answer** \r\n \r\n&gt; double g = 1 / 3;\r\n\r\nThis result in `0` because \r\n- first the dividend &lt; divisor; \r\n- both variables are of type `int` therefore resulting in `int` ([5.6.2. JLS][1]) which naturally cannot represent the a floating point value such as `0.333333..`.\r\n- &quot;Integer division rounds toward 0.&quot; [15.17.2 JLS][2]\r\n\r\nWhy `double g = 1.0/3.0;` and  `double g = ((double) 1) / 3;` work?\r\n\r\nFrom [Chapter 5. Conversions and Promotions][1] one can read:\r\n\r\n&gt; One conversion context is the operand of a numeric operator such as +\r\n&gt; or *. The conversion process for such operands is called numeric\r\n&gt; promotion. Promotion is special in that, in the case of binary\r\n&gt; operators, the conversion chosen for one operand may depend in part on\r\n&gt; the type of the other operand expression.\r\n\r\nand `5.6.2. Binary Numeric Promotion`\r\n\r\n&gt; When an operator applies binary numeric promotion to a pair of\r\n&gt; operands, each of which must denote a value that is convertible to a\r\n&gt; numeric type, the following rules apply, in order:\r\n&gt; \r\n&gt; If any operand is of a reference type, it is subjected to unboxing\r\n&gt; conversion (&#167;5.1.8).\r\n&gt; \r\n&gt; Widening primitive conversion (&#167;5.1.2) is applied to convert either or\r\n&gt; both operands as specified by the following rules:\r\n&gt; \r\n&gt; **If either operand is of type double, the other is converted to double.**\r\n&gt; \r\n&gt; Otherwise, if either operand is of type float, the other is converted\r\n&gt; to float.\r\n&gt; \r\n&gt; Otherwise, if either operand is of type long, the other is converted\r\n&gt; to long.\r\n&gt; \r\n&gt; Otherwise, both operands are converted to type int.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17.2","title":"Int division: Why is the result of 1/3 == 0?","body":"<blockquote>\n<p>The result is 0. Why is this, and how do I solve this problem?</p>\n</blockquote>\n<p><strong>TL;DR</strong></p>\n<p>You can solve it by doing:</p>\n<pre><code>double g = 1.0/3.0; \n</code></pre>\n<p>or</p>\n<pre><code>double g = 1.0/3; \n</code></pre>\n<p>or</p>\n<pre><code>double g = 1/3.0; \n</code></pre>\n<p>or</p>\n<pre><code>double g = (double) 1 / 3;\n</code></pre>\n<p>The last of these options is required when you are using variables e.g. <code>int a = 1, b = 3; double g = (double) a / b;</code>.</p>\n<p><strong>A more completed answer</strong></p>\n<blockquote>\n<p>double g = 1 / 3;</p>\n</blockquote>\n<p>This result in <code>0</code> because</p>\n<ul>\n<li>first the dividend &lt; divisor;</li>\n<li>both variables are of type <code>int</code> therefore resulting in <code>int</code> (<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\">5.6.2. JLS</a>) which naturally cannot represent the a floating point value such as <code>0.333333..</code>.</li>\n<li>&quot;Integer division rounds toward 0.&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17.2\" rel=\"nofollow noreferrer\">15.17.2 JLS</a></li>\n</ul>\n<p>Why <code>double g = 1.0/3.0;</code> and  <code>double g = ((double) 1) / 3;</code> work?</p>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\">Chapter 5. Conversions and Promotions</a> one can read:</p>\n<blockquote>\n<p>One conversion context is the operand of a numeric operator such as +\nor *. The conversion process for such operands is called numeric\npromotion. Promotion is special in that, in the case of binary\noperators, the conversion chosen for one operand may depend in part on\nthe type of the other operand expression.</p>\n</blockquote>\n<p>and <code>5.6.2. Binary Numeric Promotion</code></p>\n<blockquote>\n<p>When an operator applies binary numeric promotion to a pair of\noperands, each of which must denote a value that is convertible to a\nnumeric type, the following rules apply, in order:</p>\n<p>If any operand is of a reference type, it is subjected to unboxing\nconversion (5.1.8).</p>\n<p>Widening primitive conversion (5.1.2) is applied to convert either or\nboth operands as specified by the following rules:</p>\n<p><strong>If either operand is of type double, the other is converted to double.</strong></p>\n<p>Otherwise, if either operand is of type float, the other is converted\nto float.</p>\n<p>Otherwise, if either operand is of type long, the other is converted\nto long.</p>\n<p>Otherwise, both operands are converted to type int.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8551624,"reputation":513,"user_id":6408365,"display_name":"passionatedevops"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651747785,"creation_date":1651747785,"answer_id":72125957,"question_id":4685450,"body_markdown":"**My code was:**\r\n\r\n    System.out.println(&quot;enter weight: &quot;);\r\n    int weight = myObj.nextInt();\r\n    \r\n    System.out.println(&quot;enter height: &quot;);\r\n    int height = myObj.nextInt();\r\n    \r\n    double BMI = weight / (height *height)\r\n    System.out.println(&quot;BMI is: &quot; + BMI);\r\n\r\n\r\nIf user enters  weight(Numerator) = 5, and height (Denominator) = 7, \r\nBMI is 0 where Denominator &gt; Numerator &amp; it returns interger  (5/7 = 0.71 ) **so result is 0** ( without decimal values ) \r\n\r\n**Solution :** \r\n\r\nOption 1: \r\n\r\n    doubleouble  BMI = (double) weight / ((double)height * (double)height);\r\n\r\nOption 2:\r\n\r\n    double  BMI = (double) weight / (height * height);\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Int division: Why is the result of 1/3 == 0?","body":"<p><strong>My code was:</strong></p>\n<pre><code>System.out.println(&quot;enter weight: &quot;);\nint weight = myObj.nextInt();\n\nSystem.out.println(&quot;enter height: &quot;);\nint height = myObj.nextInt();\n\ndouble BMI = weight / (height *height)\nSystem.out.println(&quot;BMI is: &quot; + BMI);\n</code></pre>\n<p>If user enters  weight(Numerator) = 5, and height (Denominator) = 7,\nBMI is 0 where Denominator &gt; Numerator &amp; it returns interger  (5/7 = 0.71 ) <strong>so result is 0</strong> ( without decimal values )</p>\n<p><strong>Solution :</strong></p>\n<p>Option 1:</p>\n<pre><code>doubleouble  BMI = (double) weight / ((double)height * (double)height);\n</code></pre>\n<p>Option 2:</p>\n<pre><code>double  BMI = (double) weight / (height * height);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22153802,"reputation":199,"user_id":16403001,"display_name":"Gareth Ma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652468403,"creation_date":1652468403,"answer_id":72234323,"question_id":4685450,"body_markdown":"I noticed that this is somehow not mentioned in the many replies, but you can also do `1.0 * 1 / 3` to get floating point division. This is more useful when you have variables that you can&#39;t just add .0 after it, e.g.\r\n\r\n```java\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tint x = 10;\r\n\t\tint y = 15;\r\n\t\tSystem.out.println(1.0 * x / y);\r\n\t}\r\n}\r\n```","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>I noticed that this is somehow not mentioned in the many replies, but you can also do <code>1.0 * 1 / 3</code> to get floating point division. This is more useful when you have variables that you can't just add .0 after it, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int x = 10;\n        int y = 15;\n        System.out.println(1.0 * x / y);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":219313,"reputation":2931,"user_id":476142,"accept_rate":95,"display_name":"Tofiq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196039,"favorite_count":0,"down_vote_count":3,"up_vote_count":155,"accepted_answer_id":4685468,"answer_count":19,"score":152,"last_activity_date":1652468403,"creation_date":1294953936,"question_id":4685450,"body_markdown":"I was writing this code:\r\n\r\n    public static void main(String[] args) {\r\n        double g = 1 / 3;\r\n        System.out.printf(&quot;%.2f&quot;, g);\r\n    }\r\n\r\nThe result is 0.  Why is this, and how do I solve this problem?\r\n","title":"Int division: Why is the result of 1/3 == 0?","body":"<p>I was writing this code:</p>\n\n<pre><code>public static void main(String[] args) {\n    double g = 1 / 3;\n    System.out.printf(\"%.2f\", g);\n}\n</code></pre>\n\n<p>The result is 0.  Why is this, and how do I solve this problem?</p>\n"},{"tags":["java","ceil"],"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":3,"creation_date":1652468129,"post_id":72234247,"comment_id":127622141,"body_markdown":"You&#39;re dividing two integers, so you get integer division. 10/15 -&gt; 0","body":"You&#39;re dividing two integers, so you get integer division. 10/15 -&gt; 0"}],"answers":[{"tags":[],"owner":{"account_id":16471438,"reputation":76,"user_id":11900373,"display_name":"salam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652468199,"creation_date":1652468199,"answer_id":72234290,"question_id":72234247,"body_markdown":"Inside the Math.ceil function you passed x / y and the answer of x / y in your case is gonna be 0 cause x and y are both integers and in Java, dividing two integers is going to give an integer result, thus 10 / 15 = 0 without taking the decimal digits.\r\nYou can try defining x or y as double. Then you will get 10 / 15 = 0.666... and the ceil will return a 1.","title":"Math.ceil for positive value greater than zero?","body":"<p>Inside the Math.ceil function you passed x / y and the answer of x / y in your case is gonna be 0 cause x and y are both integers and in Java, dividing two integers is going to give an integer result, thus 10 / 15 = 0 without taking the decimal digits.\nYou can try defining x or y as double. Then you will get 10 / 15 = 0.666... and the ceil will return a 1.</p>\n"}],"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652468273,"answer_count":1,"score":0,"last_activity_date":1652468199,"creation_date":1652467918,"question_id":72234247,"body_markdown":"The following code is giving me a wrong answer and I can&#39;t understand why.\r\n```\r\nint x = 10;\r\nint y = 15;\r\n\t\t\r\nSystem.out.println((int)Math.ceil(x/y));\r\n```\r\nResult:\r\n```\r\n0\r\n```\r\n\r\nI was expecting a 1 as the answer.","title":"Math.ceil for positive value greater than zero?","body":"<p>The following code is giving me a wrong answer and I can't understand why.</p>\n<pre><code>int x = 10;\nint y = 15;\n        \nSystem.out.println((int)Math.ceil(x/y));\n</code></pre>\n<p>Result:</p>\n<pre><code>0\n</code></pre>\n<p>I was expecting a 1 as the answer.</p>\n"},{"tags":["java","amazon-web-services","exception","try-catch"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1652458252,"post_id":72232503,"comment_id":127619228,"body_markdown":"That is not possible with streams. You would need to use for-loops for that and even then you need custom code to make anything from the try available in the catch.","body":"That is not possible with streams. You would need to use for-loops for that and even then you need custom code to make anything from the try available in the catch."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1652458958,"post_id":72232503,"comment_id":127619465,"body_markdown":"@luk2302 - not true. The OP could create a function that wraps `jsonSerDe.fromJason` in a try/catch, and log from within that function. I believe (but haven&#39;t tried) that it doesn&#39;t even need a defined function, but the lambda could contain the try/catch (I can never remember whether Java lambdas are limited to expressions or can contain statements).","body":"@luk2302 - not true. The OP could create a function that wraps <code>jsonSerDe.fromJason</code> in a try/catch, and log from within that function. I believe (but haven&#39;t tried) that it doesn&#39;t even need a defined function, but the lambda could contain the try/catch (I can never remember whether Java lambdas are limited to expressions or can contain statements)."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1652459070,"post_id":72232503,"comment_id":127619513,"body_markdown":"That would work but cause two stack traces to be logged, one from the inner lambda, one from the handleRequest, might be okay for OP.","body":"That would work but cause two stack traces to be logged, one from the inner lambda, one from the handleRequest, might be okay for OP."}],"answers":[{"tags":[],"owner":{"account_id":4400377,"reputation":178,"user_id":3586257,"display_name":"jese_moriarty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652467619,"creation_date":1652459683,"answer_id":72232797,"question_id":72232503,"body_markdown":"try/catch block works inside map function.\r\n\r\n    public String handleRequest(KinesisEvent kinesisEvent, Context context) {\r\n        try {\r\n            List&lt;myObj&gt; allObj = kinesisEvent.getRecords().stream()\r\n                    .map(it -&gt; it.getKinesis().getData())\r\n                    .filter(ByteBuffer::hasArray)\r\n                    .map(byteBuffer -&gt; new String(byteBuffer.array(), StandardCharsets.UTF_8))\r\n                    .map(dataInString -&gt; {\r\n                        try {\r\n                            return jsonSerDe.fromJson(dataInString, myObj.class);\r\n                        }\r\n                        catch (Exception ex){\r\n                            logger.error(&quot;Parsing input to myObj failed inside stream : {}&quot;, dataInString);\r\n                            //throw new RuntimeException(&quot;problem string: &quot; + dataInString); //or your custom exception class\r\n                        }\r\n\r\n                    })\r\n                    .collect(Collectors.toList());\r\n\r\n            //some code\r\n        }\r\n        catch (Exception ex) {\r\n            // Here I want to log out the particular `dataInString` string\r\n            // that caused the exception to be trigerred.\r\n\r\n            logger.error(&quot;Parsing input to myObj failed: {}&quot;, ex.getMessage(), ex);\r\n\r\n        }\r\n    }\r\n can you try this?","title":"Adding logging for an object inside catch block","body":"<p>try/catch block works inside map function.</p>\n<pre><code>public String handleRequest(KinesisEvent kinesisEvent, Context context) {\n    try {\n        List&lt;myObj&gt; allObj = kinesisEvent.getRecords().stream()\n                .map(it -&gt; it.getKinesis().getData())\n                .filter(ByteBuffer::hasArray)\n                .map(byteBuffer -&gt; new String(byteBuffer.array(), StandardCharsets.UTF_8))\n                .map(dataInString -&gt; {\n                    try {\n                        return jsonSerDe.fromJson(dataInString, myObj.class);\n                    }\n                    catch (Exception ex){\n                        logger.error(&quot;Parsing input to myObj failed inside stream : {}&quot;, dataInString);\n                        //throw new RuntimeException(&quot;problem string: &quot; + dataInString); //or your custom exception class\n                    }\n\n                })\n                .collect(Collectors.toList());\n\n        //some code\n    }\n    catch (Exception ex) {\n        // Here I want to log out the particular `dataInString` string\n        // that caused the exception to be trigerred.\n\n        logger.error(&quot;Parsing input to myObj failed: {}&quot;, ex.getMessage(), ex);\n\n    }\n}\n</code></pre>\n<p>can you try this?</p>\n"}],"owner":{"account_id":15640225,"reputation":387,"user_id":11903403,"display_name":"Debapratim Chakraborty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72232797,"answer_count":1,"score":2,"last_activity_date":1652467619,"creation_date":1652458136,"question_id":72232503,"body_markdown":"I want to handle exceptions in code in a way that during the processing of an object if an exception arises, then in the catch block I want to log the object that caused this exception.\r\n\r\nMy code:\r\n\r\n```\r\npublic String handleRequest(KinesisEvent kinesisEvent, Context context) {\r\n        try {\r\n            List&lt;myObj&gt; allObj = kinesisEvent.getRecords().stream()\r\n                           .map(it -&gt; it.getKinesis().getData())\r\n                           .filter(ByteBuffer::hasArray)\r\n                           .map(byteBuffer -&gt; new String(byteBuffer.array(), StandardCharsets.UTF_8))\r\n                           .map(dataInString -&gt; jsonSerDe.fromJson(dataInString, myObj.class))\r\n                           .collect(Collectors.toList());\r\n\r\n            //some code\r\n        }\r\n        catch (Exception ex) {\r\n           // Here I want to log out the particular `dataInString` string \r\n           // that caused the exception to be trigerred. \r\n\r\n           logger.error(&quot;Parsing input to myObj failed: {}&quot;, ex.getMessage(), ex);\r\n            \r\n        }\r\n```","title":"Adding logging for an object inside catch block","body":"<p>I want to handle exceptions in code in a way that during the processing of an object if an exception arises, then in the catch block I want to log the object that caused this exception.</p>\n<p>My code:</p>\n<pre><code>public String handleRequest(KinesisEvent kinesisEvent, Context context) {\n        try {\n            List&lt;myObj&gt; allObj = kinesisEvent.getRecords().stream()\n                           .map(it -&gt; it.getKinesis().getData())\n                           .filter(ByteBuffer::hasArray)\n                           .map(byteBuffer -&gt; new String(byteBuffer.array(), StandardCharsets.UTF_8))\n                           .map(dataInString -&gt; jsonSerDe.fromJson(dataInString, myObj.class))\n                           .collect(Collectors.toList());\n\n            //some code\n        }\n        catch (Exception ex) {\n           // Here I want to log out the particular `dataInString` string \n           // that caused the exception to be trigerred. \n\n           logger.error(&quot;Parsing input to myObj failed: {}&quot;, ex.getMessage(), ex);\n            \n        }\n</code></pre>\n"},{"tags":["java","r","renv","r-environment","r5r"],"comments":[{"owner":{"account_id":1416530,"reputation":20795,"user_id":1342082,"accept_rate":44,"display_name":"Kevin Ushey"},"score":0,"creation_date":1652847375,"post_id":72234162,"comment_id":127702490,"body_markdown":"You might want to file a bug report at https://github.com/rstudio/renv/issues; it might take some extra follow-up to figure out what&#39;s going on.","body":"You might want to file a bug report at <a href=\"https://github.com/rstudio/renv/issues\" rel=\"nofollow noreferrer\">github.com/rstudio/renv/issues</a>; it might take some extra follow-up to figure out what&#39;s going on."}],"owner":{"account_id":10242050,"reputation":155,"user_id":7559159,"display_name":"Igor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652467357,"creation_date":1652467357,"question_id":72234162,"body_markdown":"I have a script that works perfectly when I&#39;m not using Renv. However, when running it in a project with Renv enabled, the last command line returns the following message:\r\n\r\n```\r\n&gt; r5r_core &lt;- setup_r5(data_path = data_path, verbose = FALSE)\r\nError in rJava::.jinit() : Unable to create a Java class loader.\r\n```\r\n\r\nJust run the code below inside a renv project to have a reproducible example:\r\n\r\n\r\n```\r\noptions(java.parameters = &quot;-Xmx2G&quot;)\r\nlibrary(r5r)\r\nlibrary(rJava)\r\n\r\ndata_path &lt;- system.file(&quot;extdata/poa&quot;, package = &quot;r5r&quot;)\r\nlist.files(data_path)\r\n\r\npoi &lt;- fread(file.path(data_path, &quot;poa_points_of_interest.csv&quot;))\r\nhead(poi)\r\n\r\npoints &lt;- fread(file.path(data_path, &quot;poa_hexgrid.csv&quot;))\r\npoints &lt;- points[ c(sample(1:nrow(points), 10, replace=TRUE)), ]\r\nhead(points)\r\n\r\n# Indicate the path where OSM and GTFS data are stored\r\nr5r_core &lt;- setup_r5(data_path = data_path, verbose = FALSE)\r\n\r\n```\r\n\r\nMy Java version is compatible with the one used in this package, but it looks like R is having a hard time communicating with Java in Renv. Could anyone tell me?\r\n\r\n\r\n\r\n","title":"Renv and Java: &quot;Error in rJava::.jinit() : Unable to create a Java class loader&quot;","body":"<p>I have a script that works perfectly when I'm not using Renv. However, when running it in a project with Renv enabled, the last command line returns the following message:</p>\n<pre><code>&gt; r5r_core &lt;- setup_r5(data_path = data_path, verbose = FALSE)\nError in rJava::.jinit() : Unable to create a Java class loader.\n</code></pre>\n<p>Just run the code below inside a renv project to have a reproducible example:</p>\n<pre><code>options(java.parameters = &quot;-Xmx2G&quot;)\nlibrary(r5r)\nlibrary(rJava)\n\ndata_path &lt;- system.file(&quot;extdata/poa&quot;, package = &quot;r5r&quot;)\nlist.files(data_path)\n\npoi &lt;- fread(file.path(data_path, &quot;poa_points_of_interest.csv&quot;))\nhead(poi)\n\npoints &lt;- fread(file.path(data_path, &quot;poa_hexgrid.csv&quot;))\npoints &lt;- points[ c(sample(1:nrow(points), 10, replace=TRUE)), ]\nhead(points)\n\n# Indicate the path where OSM and GTFS data are stored\nr5r_core &lt;- setup_r5(data_path = data_path, verbose = FALSE)\n\n</code></pre>\n<p>My Java version is compatible with the one used in this package, but it looks like R is having a hard time communicating with Java in Renv. Could anyone tell me?</p>\n"},{"tags":["java","multithreading","javafx","concurrency","task"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1652414219,"post_id":72224181,"comment_id":127605321,"body_markdown":"Maybe you want [showAndWait](https://stackoverflow.com/questions/14941084/javafx2-can-i-pause-a-background-task-service).  Not sure, perhaps your situation is different and you want to wait without showing.  I didnt study your code, but I think the question could be improved by providing a [mcve] and a better explanation of what you are doing, what needs to wait, and why, until what condition and for how long.  Task javadoc also provides info on feeding back partial results from a task that you can action in case that is what you want.","body":"Maybe you want <a href=\"https://stackoverflow.com/questions/14941084/javafx2-can-i-pause-a-background-task-service\">showAndWait</a>.  Not sure, perhaps your situation is different and you want to wait without showing.  I didnt study your code, but I think the question could be improved by providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and a better explanation of what you are doing, what needs to wait, and why, until what condition and for how long.  Task javadoc also provides info on feeding back partial results from a task that you can action in case that is what you want."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652414598,"post_id":72224181,"comment_id":127605388,"body_markdown":"UI is event driven. Normally you will respond to events or notifications instead of waiting.  For example making a Platform.runLater call from another thread or registering a change listener if on the same thread or listening to the task lifecycle status, messages, result property changes and events.","body":"UI is event driven. Normally you will respond to events or notifications instead of waiting.  For example making a Platform.runLater call from another thread or registering a change listener if on the same thread or listening to the task lifecycle status, messages, result property changes and events."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1652414653,"post_id":72224181,"comment_id":127605396,"body_markdown":"Why do you want to wait? Is it to do something after the background task completes? If so, then you should think in a more _event-driven_ fashion. Use `Task` and add listeners to its properties so that you can react to it completing.","body":"Why do you want to wait? Is it to do something after the background task completes? If so, then you should think in a more <i>event-driven</i> fashion. Use <code>Task</code> and add listeners to its properties so that you can react to it completing."},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652415582,"post_id":72224181,"comment_id":127605514,"body_markdown":"Yes Slaw, there is some work left after completing the background task.","body":"Yes Slaw, there is some work left after completing the background task."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1652415813,"post_id":72224181,"comment_id":127605555,"body_markdown":"Then you should be using something like `theTask.setOnSucceeded(e -&gt; { /* the work to do after the task completes successfully */ });`. You don&#39;t have to do all the work inside the handler; it could call a method (even start another background task). Note that the handler will be invoked on the FX thread.","body":"Then you should be using something like <code>theTask.setOnSucceeded(e -&gt; { &#47;* the work to do after the task completes successfully *&#47; });</code>. You don&#39;t have to do all the work inside the handler; it could call a method (even start another background task). Note that the handler will be invoked on the FX thread."},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652418465,"post_id":72224181,"comment_id":127605960,"body_markdown":"Hi Slaw, A small doubt. Inside `task.setOnSucceeded(e -&gt;{});`  what is &quot;e&quot; in  my code. Please refer to my code above, and please tell me. I tried this by just leaving e there then it is not working.","body":"Hi Slaw, A small doubt. Inside <code>task.setOnSucceeded(e -&gt;{});</code>  what is &quot;e&quot; in  my code. Please refer to my code above, and please tell me. I tried this by just leaving e there then it is not working."},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652419146,"post_id":72224181,"comment_id":127606067,"body_markdown":"When I tried your approach then, `java.sql.SQLException: Connection is closed` error is coming at `PreparedStatement preparedStatement = conn.prepareStatement(querySubPart);` this line. Why is this, any solution?","body":"When I tried your approach then, <code>java.sql.SQLException: Connection is closed</code> error is coming at <code>PreparedStatement preparedStatement = conn.prepareStatement(querySubPart);</code> this line. Why is this, any solution?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652420222,"post_id":72224181,"comment_id":127606267,"body_markdown":"You can see what `e` is by looking at the [method documentation](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html#setOnSucceeded(javafx.event.EventHandler)). It is part of a [lambda expression](https://jenkov.com/tutorials/java/lambda-expressions.html) and is of type [WorkerStateEvent](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/WorkerStateEvent.html).  You already know from the call that you are processing a `WORKER_STATE_SUCCEEDED` event so you can ignore the `e` value, just define it and forget it.","body":"You can see what <code>e</code> is by looking at the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html#setOnSucceeded(javafx.event.EventHandler)\" rel=\"nofollow noreferrer\">method documentation</a>. It is part of a <a href=\"https://jenkov.com/tutorials/java/lambda-expressions.html\" rel=\"nofollow noreferrer\">lambda expression</a> and is of type <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/WorkerStateEvent.html\" rel=\"nofollow noreferrer\">WorkerStateEvent</a>.  You already know from the call that you are processing a <code>WORKER_STATE_SUCCEEDED</code> event so you can ignore the <code>e</code> value, just define it and forget it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652421302,"post_id":72224181,"comment_id":127606455,"body_markdown":"You should not be getting the database connection on one thread and using it on another. That issue is unrelated to your on succeeded processing which does not appear to use the db. Get the connection and handle sql statements and errors in the task call method only. When you have an error, like the sql error, then log and report the full stack trace, not just the message, then It is easier to track down the cause of issues.","body":"You should not be getting the database connection on one thread and using it on another. That issue is unrelated to your on succeeded processing which does not appear to use the db. Get the connection and handle sql statements and errors in the task call method only. When you have an error, like the sql error, then log and report the full stack trace, not just the message, then It is easier to track down the cause of issues."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1652421915,"post_id":72224181,"comment_id":127606584,"body_markdown":"I dont know what `waitNotifyClass` is, but I advise you to completely get rid of it, I think it will only cause you issues and not solve your problems.  You must never block the UI thread.","body":"I dont know what <code>waitNotifyClass</code> is, but I advise you to completely get rid of it, I think it will only cause you issues and not solve your problems.  You must never block the UI thread."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652422506,"post_id":72224181,"comment_id":127606733,"body_markdown":"CPass the selected item values to the task (see the task javadoc on how to do that in a thread safe manner).  You should not access properties set by the UI, like the selection model, off of the JavaFX thread.","body":"CPass the selected item values to the task (see the task javadoc on how to do that in a thread safe manner).  You should not access properties set by the UI, like the selection model, off of the JavaFX thread."},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652425831,"post_id":72224181,"comment_id":127607628,"body_markdown":"But My above code was working fine. After implementing setOnSucceded it is not working.","body":"But My above code was working fine. After implementing setOnSucceded it is not working."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1652428467,"post_id":72224181,"comment_id":127608447,"body_markdown":"I don&#39;t see how moving what code you had outside `setOnSucceeded` into `setOnSucceeded` can be leading to a connection-closed error. As an aside, why do you want to ZIP the file on the FX thread instead of on the background thread (you could do it in the same task)?","body":"I don&#39;t see how moving what code you had outside <code>setOnSucceeded</code> into <code>setOnSucceeded</code> can be leading to a connection-closed error. As an aside, why do you want to ZIP the file on the FX thread instead of on the background thread (you could do it in the same task)?"},{"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"score":0,"creation_date":1652435483,"post_id":72224181,"comment_id":127610841,"body_markdown":"zipping is something that a background thread can&#39;t do. So ,I am doing this in Main Thread. Btw, My problem is solved. Thank You Very Much guys.","body":"zipping is something that a background thread can&#39;t do. So ,I am doing this in Main Thread. Btw, My problem is solved. Thank You Very Much guys."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1652459491,"post_id":72224181,"comment_id":127619656,"body_markdown":"A background thread can zip a file.  It is only operations which interact with the active scene graph and related properties that must be run on the JavaFX thread.  You dont show ode for `packInZipCode`, from the name it would not appear to have anything to do with the scene graph.  But I guess if you put some scene graph related operations in there, then those would need to run in the JavaFX thread.","body":"A background thread can zip a file.  It is only operations which interact with the active scene graph and related properties that must be run on the JavaFX thread.  You dont show ode for <code>packInZipCode</code>, from the name it would not appear to have anything to do with the scene graph.  But I guess if you put some scene graph related operations in there, then those would need to run in the JavaFX thread."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1652459769,"post_id":72224181,"comment_id":127619740,"body_markdown":"But My above code was working fine. -&gt; with multithreaded code, it can appear to work but still be vulnerable to unpredictable [race conditions](https://en.m.wikipedia.org/wiki/Race_condition) if you access or modify shared resources and variables from different threads without using immutability or mutual exclusion blocks.  Just adding debug statements or refactoring and moving code that is vulnerable can sometimes cause the existing race condition to trigger more often","body":"But My above code was working fine. -&gt; with multithreaded code, it can appear to work but still be vulnerable to unpredictable <a href=\"https://en.m.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race conditions</a> if you access or modify shared resources and variables from different threads without using immutability or mutual exclusion blocks.  Just adding debug statements or refactoring and moving code that is vulnerable can sometimes cause the existing race condition to trigger more often"}],"answers":[{"tags":[],"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652466997,"creation_date":1652436138,"answer_id":72227773,"question_id":72224181,"body_markdown":"If you want your main thread to wait, and at the same time you don&#39;t want your UI to be frozen, then you can use:\r\n\r\n    task.setOnSucceeded(e-&gt;{&#39;your code&#39;})\r\n\r\nFor example:\r\n\r\n```java\r\nThread t1 = new Thread(task);\r\nt1.start();\r\nThread.interrupted();\r\n\r\ntask.setOnSucceeded(e -&gt; {\r\n    System.out.println(&quot;inside succeeded&quot;);\r\n    String sourcePath = theDir.getAbsolutePath();\r\n    // name of zip folder\r\n    String destinationpath = theDir + &quot;.zip&quot;;\r\n    System.out.println(destinationpath);\r\n\r\n    try {\r\n        //// calling the function where zipping code is written\r\n        packInZipCode(sourcePath, destinationpath);\r\n    } catch (IOException ex) {\r\n        Logger.getLogger(GenerateTraceFilesController.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n    System.out.println(&quot;zip sucessfully ---&quot; + Thread.currentThread());\r\n    // for deleting the folder from which our zip folder made, bcs it is duplicate now, so dlete it\r\n    deleteDirectoryLegacyIO(theDir);\r\n    System.out.println(&quot;end succeeded&quot;);\r\n});\r\n            \r\n```\r\n\r\nThis part of the code will be run by the JavaFX thread. and your UI will also not freeze. This solved my problem.\r\n\r\n&gt; Why do you want to run those codes by the Javafx thread?\r\n\r\nbecause some works /operations can be done only by the JavaFX thread. These works include Filechooser, file operations, label setting, etc. So you can&#39;t run these in your background thread, so we want to run them by the Main thread.","title":"JavaFX thread should wait for background thread but without freezing the UI (JavaFX)","body":"<p>If you want your main thread to wait, and at the same time you don't want your UI to be frozen, then you can use:</p>\n<pre><code>task.setOnSucceeded(e-&gt;{'your code'})\n</code></pre>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread t1 = new Thread(task);\nt1.start();\nThread.interrupted();\n\ntask.setOnSucceeded(e -&gt; {\n    System.out.println(&quot;inside succeeded&quot;);\n    String sourcePath = theDir.getAbsolutePath();\n    // name of zip folder\n    String destinationpath = theDir + &quot;.zip&quot;;\n    System.out.println(destinationpath);\n\n    try {\n        //// calling the function where zipping code is written\n        packInZipCode(sourcePath, destinationpath);\n    } catch (IOException ex) {\n        Logger.getLogger(GenerateTraceFilesController.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    System.out.println(&quot;zip sucessfully ---&quot; + Thread.currentThread());\n    // for deleting the folder from which our zip folder made, bcs it is duplicate now, so dlete it\n    deleteDirectoryLegacyIO(theDir);\n    System.out.println(&quot;end succeeded&quot;);\n});\n            \n</code></pre>\n<p>This part of the code will be run by the JavaFX thread. and your UI will also not freeze. This solved my problem.</p>\n<blockquote>\n<p>Why do you want to run those codes by the Javafx thread?</p>\n</blockquote>\n<p>because some works /operations can be done only by the JavaFX thread. These works include Filechooser, file operations, label setting, etc. So you can't run these in your background thread, so we want to run them by the Main thread.</p>\n"}],"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652466997,"creation_date":1652412928,"question_id":72224181,"body_markdown":"I want my main thread to wait until the background thread completes. But, this makes my UI freeze. I want to achieve this without freezing my UI. Please help me out. I am new to JavaFX. \r\n\r\nMy Code is ---\r\n\r\n```\r\nwaitNotifyClass wait1 = new waitNotifyClass();\r\nprivate void download(ActionEvent event) throws SQLException, IOException, InterruptedException {\r\n        try (Connection conn = ......getConnection()) {\r\n\r\n            /// opening filechooser\r\n            FileChooser fc = new FileChooser();\r\n            FileChooser.ExtensionFilter extFilter = new FileChooser.ExtensionFilter(&quot;Compressed(zipped) Folder (*.zip)&quot;, &quot;*.zip&quot;);//Compressed(zipped) Folder (*.gz)&quot;, &quot;*.gz&quot;\r\n            fc.getExtensionFilters().add(extFilter);\r\n            String downloadsLocation = System.getProperty(&quot;user.home&quot;) + &quot;/Downloads/&quot;;\r\n            /// get a File file with name as you save in file chooser\r\n\r\n  \r\n            file = fc.showSaveDialog(downloadMultiTraceFileButton.getScene().getWindow());\r\n       \r\n            file.mkdirs();\r\n\r\n            File sourceFile = file;\r\n            String s = file.getAbsolutePath().substring(0, file.getAbsolutePath().length() - 4);\r\n            destFile = new File(s);\r\n            if (sourceFile.renameTo(destFile)) {\r\n                System.out.println(&quot;File renamed successfully&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to rename file&quot;);\r\n            }\r\n\r\n            /// object of the folder made after renaming\r\n            File theDir = new File(destFile.getAbsolutePath());\r\n\r\n            /// Iterating through the slected item of trace files one by one for create a file and then fill it\r\n            Task task = new Task() {\r\n                @Override\r\n                protected Void call() throws Exception {\r\n                    for (String str : traceFileListView.getSelectionModel().getSelectedItems()) {\r\n                     \r\n                        File myFile = new File(theDir.getAbsolutePath() + &quot;\\\\&quot; + str);\r\n                        /// make new file if myFile doesnt exist\r\n                        if (!myFile.exists()) {\r\n                            myFile.createNewFile();\r\n                        }\r\n                        /// get writer object of FileWriter for writing finally on file from \r\n                      \r\n\r\n                        FileWriter writer = new FileWriter(myFile);\r\n                 \r\n                        /// query for getting content of trace file\r\n                        String querySubPart = &quot;select * from table_name=&#39;&quot; + str + &quot;&#39;&quot;;\r\n                     \r\n                        PreparedStatement preparedStatement = conn.prepareStatement(querySubPart);\r\n                        \r\n                        ResultSet resultSet = preparedStatement.executeQuery();\r\n                        resultSet.setFetchSize(200);\r\n                        ///  writing into file from resultSet\r\n                        System.out.println(&quot;writing before while loop &quot; + Thread.currentThread());\r\n                        while (resultSet.next()) {\r\n                            try {\r\n                                writer.write(resultSet.getString(1));\r\n                                System.out.println(resultSet.getString(1));\r\n                            } catch (IOException ex) {\r\n                                System.out.println(&quot;inside try of write&quot;);\r\n                            }\r\n                        }\r\n                        writer.close();\r\n                    }\r\n                    wait1.notifyFunction();\r\n                    updateProgress(1, 1);\r\n                    return null;\r\n\r\n                }\r\n\r\n            };\r\n\r\n            System.err.println(&quot;Thread created&quot; + Thread.currentThread());\r\n            new Thread(task).start();\r\n            wait1.waitFunction();\r\n\r\n            //// closing the window open where download button was there\r\n            ((Stage) generateTraceFileButton.getScene().getWindow()).close();\r\n            /// getting sourcepath folder which is to be zipped\r\n            String sourcePath = theDir.getAbsolutePath();\r\n            // name of zip folder\r\n            String destinationpath = theDir + &quot;.zip&quot;;\r\n            System.out.println(destinationpath);\r\n\r\n       \r\n            packInZipCode(sourcePath, destinationpath);\r\n          \r\n  \r\n\r\n        } catch (SQLException e) {\r\n\r\n            System.out.println(&quot;Exception caught \\n&quot; + e.toString());\r\n            if (e.toString().trim().toUpperCase().contains(&quot;----&quot;)) {\r\n                ....\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI am sure that my UI is freezing because of `wait1.waitFunction()` because this is making my UI thread wait and freeze the UI. I want to wait for it but without freezing the app.\r\nEdited--\r\n\r\nwhy do I want to achieve this?\r\n\r\nbecause If I will not stop my UI thread, it will go ahead and zip my file. but that same file is being used by the background thread also. So I won&#39;t get the desired output.\r\nAlso, my main task is to do the downloading part(here it is heavy, so take time) in the background thread. At the same time, I don&#39;t want my main thread to freeze.\r\n\r\n\r\nI tried this---&gt;\r\nImplemented task.setOnSucceded just after thread creation so that my JavaFx thread will execute this part only after task is completed.\r\nBut in this case , background thread(task is executing here) is losing connection .\r\nGot this error--&gt;\r\n`java.sql.SQLException: Connection is closed`\r\nat this line--&gt;\r\n`preparedStatement = conn.prepareStatement(querySubPart);`\r\n\r\nMy new Code looks like this --&gt;\r\n```\r\nprivate void downloadMultiTraceFiles(ActionEvent event) throws SQLException, IOException, InterruptedException {\r\n        try (Connection conn = mainApp.getHikariDataSource().getConnection()) {\r\n\r\n            /// opening filechooser\r\n            FileChooser fc = new FileChooser();\r\n            FileChooser.ExtensionFilter extFilter = new FileChooser.ExtensionFilter(&quot;Compressed(zipped) Folder (*.zip)&quot;, &quot;*.zip&quot;);//Compressed(zipped) Folder (*.gz)&quot;, &quot;*.gz&quot;\r\n            fc.getExtensionFilters().add(extFilter);\r\n            String downloadsLocation = System.getProperty(&quot;user.home&quot;) + &quot;/Downloads/&quot;;\r\n            /// get a File file with name as you save in file chooser\r\n\r\n            System.out.println(&quot;Inside runlator&quot; + Thread.currentThread());\r\n            file = fc.showSaveDialog(downloadMultiTraceFileButton.getScene().getWindow());\r\n            System.out.println(&quot;Path of file-&gt;&quot; + file.getAbsolutePath());\r\n            file.mkdirs();\r\n\r\n            File sourceFile = file;\r\n            String s = file.getAbsolutePath().substring(0, file.getAbsolutePath().length() - 4);\r\n            destFile = new File(s);\r\n            if (sourceFile.renameTo(destFile)) {\r\n                System.out.println(&quot;File renamed successfully&quot; + Thread.currentThread());\r\n            } else {\r\n                System.out.println(&quot;Failed to rename file&quot;);\r\n            }\r\n\r\n            /// object of the folder made after renaming\r\n            File theDir = new File(destFile.getAbsolutePath());\r\n\r\n            /// Iterating through the slected item of trace files one by one for create a file and then fill it\r\n            Task task = new Task() {\r\n                @Override\r\n                protected Void call() throws Exception {\r\n                    for (String str : traceFileListView.getSelectionModel().getSelectedItems()) {\r\n                        System.out.println(&quot;inside of the for loop &quot; + Thread.currentThread());\r\n                        File myFile = new File(theDir.getAbsolutePath() + &quot;\\\\&quot; + str);\r\n                        /// make new file if myFile doesnt exist\r\n                        if (!myFile.exists()) {\r\n                            myFile.createNewFile();\r\n                        }\r\n                        /// get writer object of FileWriter for writing finally on file from \r\n                        System.out.println(&quot;t1--------- &quot; + Thread.currentThread());\r\n\r\n                        FileWriter writer = new FileWriter(myFile);\r\n                        System.out.println(&quot;t2----------- &quot; + Thread.currentThread());\r\n                        /// query for getting content of trace file\r\n                        String querySubPart = &quot;select payload from gv$diag_trace_file_contents where trace_filename=&#39;&quot; + str + &quot;&#39;&quot;;\r\n                        System.out.println(&quot;t3----------- &quot; + Thread.currentThread());\r\n                        PreparedStatement preparedStatement = conn.prepareStatement(querySubPart);\r\n                        System.out.println(&quot;t4----------- &quot; + Thread.currentThread());\r\n                        ResultSet resultSet = preparedStatement.executeQuery();\r\n                        resultSet.setFetchSize(200);\r\n                        ///  writing into file from resultSet\r\n                        System.out.println(&quot;writing before while loop &quot; + Thread.currentThread());\r\n                        while (resultSet.next()) {\r\n                            try {\r\n                                writer.write(resultSet.getString(1));\r\n                                System.out.println(resultSet.getString(1));\r\n                            } catch (IOException ex) {\r\n                                System.out.println(&quot;inside try of write&quot;);\r\n                            }\r\n                        }\r\n                        writer.close();\r\n                    }\r\n                    wait1.notifyFunction();\r\n                    updateProgress(1, 1);\r\n                    return null;\r\n\r\n                }\r\n\r\n            };\r\n\r\n            System.err.println(&quot;Thread created&quot; + Thread.currentThread());\r\n            new Thread(task).start();\r\n            wait1.waitFunction();\r\n\r\n            task.setOnSucceeded((e) -&gt; {\r\n                System.out.println(&quot;Inside set on succeeded&quot;+Thread.currentThread());\r\n                //// closing the window open where download button was there\r\n                ((Stage) generateTraceFileButton.getScene().getWindow()).close();\r\n                /// getting sourcepath folder which is to be zipped\r\n                System.out.println(&quot;before zip&quot;);\r\n                String sourcePath = theDir.getAbsolutePath();\r\n                // name of zip folder\r\n                String destinationpath = theDir + &quot;.zip&quot;;\r\n                System.out.println(destinationpath);\r\n\r\n                try {\r\n                    packInZipCode(sourcePath, destinationpath);\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(GenerateTraceFilesController.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n\r\n          \r\n            });\r\n  \r\n\r\n        } catch (SQLException e) {\r\n\r\n            System.out.println(&quot;Exception caught \\n&quot; + e.toString());\r\n            if (e.toString().trim().toUpperCase().contains(&quot;ORA-48127&quot;)) {\r\n                ....\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"JavaFX thread should wait for background thread but without freezing the UI (JavaFX)","body":"<p>I want my main thread to wait until the background thread completes. But, this makes my UI freeze. I want to achieve this without freezing my UI. Please help me out. I am new to JavaFX.</p>\n<p>My Code is ---</p>\n<pre><code>waitNotifyClass wait1 = new waitNotifyClass();\nprivate void download(ActionEvent event) throws SQLException, IOException, InterruptedException {\n        try (Connection conn = ......getConnection()) {\n\n            /// opening filechooser\n            FileChooser fc = new FileChooser();\n            FileChooser.ExtensionFilter extFilter = new FileChooser.ExtensionFilter(&quot;Compressed(zipped) Folder (*.zip)&quot;, &quot;*.zip&quot;);//Compressed(zipped) Folder (*.gz)&quot;, &quot;*.gz&quot;\n            fc.getExtensionFilters().add(extFilter);\n            String downloadsLocation = System.getProperty(&quot;user.home&quot;) + &quot;/Downloads/&quot;;\n            /// get a File file with name as you save in file chooser\n\n  \n            file = fc.showSaveDialog(downloadMultiTraceFileButton.getScene().getWindow());\n       \n            file.mkdirs();\n\n            File sourceFile = file;\n            String s = file.getAbsolutePath().substring(0, file.getAbsolutePath().length() - 4);\n            destFile = new File(s);\n            if (sourceFile.renameTo(destFile)) {\n                System.out.println(&quot;File renamed successfully&quot;);\n            } else {\n                System.out.println(&quot;Failed to rename file&quot;);\n            }\n\n            /// object of the folder made after renaming\n            File theDir = new File(destFile.getAbsolutePath());\n\n            /// Iterating through the slected item of trace files one by one for create a file and then fill it\n            Task task = new Task() {\n                @Override\n                protected Void call() throws Exception {\n                    for (String str : traceFileListView.getSelectionModel().getSelectedItems()) {\n                     \n                        File myFile = new File(theDir.getAbsolutePath() + &quot;\\\\&quot; + str);\n                        /// make new file if myFile doesnt exist\n                        if (!myFile.exists()) {\n                            myFile.createNewFile();\n                        }\n                        /// get writer object of FileWriter for writing finally on file from \n                      \n\n                        FileWriter writer = new FileWriter(myFile);\n                 \n                        /// query for getting content of trace file\n                        String querySubPart = &quot;select * from table_name='&quot; + str + &quot;'&quot;;\n                     \n                        PreparedStatement preparedStatement = conn.prepareStatement(querySubPart);\n                        \n                        ResultSet resultSet = preparedStatement.executeQuery();\n                        resultSet.setFetchSize(200);\n                        ///  writing into file from resultSet\n                        System.out.println(&quot;writing before while loop &quot; + Thread.currentThread());\n                        while (resultSet.next()) {\n                            try {\n                                writer.write(resultSet.getString(1));\n                                System.out.println(resultSet.getString(1));\n                            } catch (IOException ex) {\n                                System.out.println(&quot;inside try of write&quot;);\n                            }\n                        }\n                        writer.close();\n                    }\n                    wait1.notifyFunction();\n                    updateProgress(1, 1);\n                    return null;\n\n                }\n\n            };\n\n            System.err.println(&quot;Thread created&quot; + Thread.currentThread());\n            new Thread(task).start();\n            wait1.waitFunction();\n\n            //// closing the window open where download button was there\n            ((Stage) generateTraceFileButton.getScene().getWindow()).close();\n            /// getting sourcepath folder which is to be zipped\n            String sourcePath = theDir.getAbsolutePath();\n            // name of zip folder\n            String destinationpath = theDir + &quot;.zip&quot;;\n            System.out.println(destinationpath);\n\n       \n            packInZipCode(sourcePath, destinationpath);\n          \n  \n\n        } catch (SQLException e) {\n\n            System.out.println(&quot;Exception caught \\n&quot; + e.toString());\n            if (e.toString().trim().toUpperCase().contains(&quot;----&quot;)) {\n                ....\n            }\n        }\n    }\n</code></pre>\n<p>I am sure that my UI is freezing because of <code>wait1.waitFunction()</code> because this is making my UI thread wait and freeze the UI. I want to wait for it but without freezing the app.\nEdited--</p>\n<p>why do I want to achieve this?</p>\n<p>because If I will not stop my UI thread, it will go ahead and zip my file. but that same file is being used by the background thread also. So I won't get the desired output.\nAlso, my main task is to do the downloading part(here it is heavy, so take time) in the background thread. At the same time, I don't want my main thread to freeze.</p>\n<p>I tried this---&gt;\nImplemented task.setOnSucceded just after thread creation so that my JavaFx thread will execute this part only after task is completed.\nBut in this case , background thread(task is executing here) is losing connection .\nGot this error--&gt;\n<code>java.sql.SQLException: Connection is closed</code>\nat this line--&gt;\n<code>preparedStatement = conn.prepareStatement(querySubPart);</code></p>\n<p>My new Code looks like this --&gt;</p>\n<pre><code>private void downloadMultiTraceFiles(ActionEvent event) throws SQLException, IOException, InterruptedException {\n        try (Connection conn = mainApp.getHikariDataSource().getConnection()) {\n\n            /// opening filechooser\n            FileChooser fc = new FileChooser();\n            FileChooser.ExtensionFilter extFilter = new FileChooser.ExtensionFilter(&quot;Compressed(zipped) Folder (*.zip)&quot;, &quot;*.zip&quot;);//Compressed(zipped) Folder (*.gz)&quot;, &quot;*.gz&quot;\n            fc.getExtensionFilters().add(extFilter);\n            String downloadsLocation = System.getProperty(&quot;user.home&quot;) + &quot;/Downloads/&quot;;\n            /// get a File file with name as you save in file chooser\n\n            System.out.println(&quot;Inside runlator&quot; + Thread.currentThread());\n            file = fc.showSaveDialog(downloadMultiTraceFileButton.getScene().getWindow());\n            System.out.println(&quot;Path of file-&gt;&quot; + file.getAbsolutePath());\n            file.mkdirs();\n\n            File sourceFile = file;\n            String s = file.getAbsolutePath().substring(0, file.getAbsolutePath().length() - 4);\n            destFile = new File(s);\n            if (sourceFile.renameTo(destFile)) {\n                System.out.println(&quot;File renamed successfully&quot; + Thread.currentThread());\n            } else {\n                System.out.println(&quot;Failed to rename file&quot;);\n            }\n\n            /// object of the folder made after renaming\n            File theDir = new File(destFile.getAbsolutePath());\n\n            /// Iterating through the slected item of trace files one by one for create a file and then fill it\n            Task task = new Task() {\n                @Override\n                protected Void call() throws Exception {\n                    for (String str : traceFileListView.getSelectionModel().getSelectedItems()) {\n                        System.out.println(&quot;inside of the for loop &quot; + Thread.currentThread());\n                        File myFile = new File(theDir.getAbsolutePath() + &quot;\\\\&quot; + str);\n                        /// make new file if myFile doesnt exist\n                        if (!myFile.exists()) {\n                            myFile.createNewFile();\n                        }\n                        /// get writer object of FileWriter for writing finally on file from \n                        System.out.println(&quot;t1--------- &quot; + Thread.currentThread());\n\n                        FileWriter writer = new FileWriter(myFile);\n                        System.out.println(&quot;t2----------- &quot; + Thread.currentThread());\n                        /// query for getting content of trace file\n                        String querySubPart = &quot;select payload from gv$diag_trace_file_contents where trace_filename='&quot; + str + &quot;'&quot;;\n                        System.out.println(&quot;t3----------- &quot; + Thread.currentThread());\n                        PreparedStatement preparedStatement = conn.prepareStatement(querySubPart);\n                        System.out.println(&quot;t4----------- &quot; + Thread.currentThread());\n                        ResultSet resultSet = preparedStatement.executeQuery();\n                        resultSet.setFetchSize(200);\n                        ///  writing into file from resultSet\n                        System.out.println(&quot;writing before while loop &quot; + Thread.currentThread());\n                        while (resultSet.next()) {\n                            try {\n                                writer.write(resultSet.getString(1));\n                                System.out.println(resultSet.getString(1));\n                            } catch (IOException ex) {\n                                System.out.println(&quot;inside try of write&quot;);\n                            }\n                        }\n                        writer.close();\n                    }\n                    wait1.notifyFunction();\n                    updateProgress(1, 1);\n                    return null;\n\n                }\n\n            };\n\n            System.err.println(&quot;Thread created&quot; + Thread.currentThread());\n            new Thread(task).start();\n            wait1.waitFunction();\n\n            task.setOnSucceeded((e) -&gt; {\n                System.out.println(&quot;Inside set on succeeded&quot;+Thread.currentThread());\n                //// closing the window open where download button was there\n                ((Stage) generateTraceFileButton.getScene().getWindow()).close();\n                /// getting sourcepath folder which is to be zipped\n                System.out.println(&quot;before zip&quot;);\n                String sourcePath = theDir.getAbsolutePath();\n                // name of zip folder\n                String destinationpath = theDir + &quot;.zip&quot;;\n                System.out.println(destinationpath);\n\n                try {\n                    packInZipCode(sourcePath, destinationpath);\n                } catch (IOException ex) {\n                    Logger.getLogger(GenerateTraceFilesController.class.getName()).log(Level.SEVERE, null, ex);\n                }\n\n          \n            });\n  \n\n        } catch (SQLException e) {\n\n            System.out.println(&quot;Exception caught \\n&quot; + e.toString());\n            if (e.toString().trim().toUpperCase().contains(&quot;ORA-48127&quot;)) {\n                ....\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","file","bufferedreader"],"comments":[{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1652466828,"post_id":72233849,"comment_id":127621783,"body_markdown":"`When running the code, the last time it reads it must not completely fill the buffer.` What do you mean by this exactly? Thank you.","body":"<code>When running the code, the last time it reads it must not completely fill the buffer.</code> What do you mean by this exactly? Thank you."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652466376,"creation_date":1652466376,"answer_id":72233986,"question_id":72233849,"body_markdown":"Why are you buffering an already buffered class?\r\n\r\n    String folder = &quot;/path/to/folder&quot;;\r\n    String file = &quot;filename&quot;;\r\n    try (BufferedReader reader = Files.newBufferedReader(FileSystems.getDefault().getPath(folder, file), StandardCharsets.UTF_8)) {\r\n    \treader.lines().forEach(System.out::println);\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }","title":"Buffered reader does not flush characters to buffer when reaching EOF","body":"<p>Why are you buffering an already buffered class?</p>\n<pre><code>String folder = &quot;/path/to/folder&quot;;\nString file = &quot;filename&quot;;\ntry (BufferedReader reader = Files.newBufferedReader(FileSystems.getDefault().getPath(folder, file), StandardCharsets.UTF_8)) {\n    reader.lines().forEach(System.out::println);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652466474,"creation_date":1652466474,"answer_id":72234004,"question_id":72233849,"body_markdown":"Note that `br.read(buffer, off, 2048)` returns the number of characters read in.\r\n\r\nFor the very last iteration of the loop, numRead might be less than `buffer.length` so `buffer` will contain characters from last AND second last row:\r\n\r\n     System.out.println(buffer);\r\n\r\nBut if you change to this, it will only print what was read in for each  iteration as it sets the printed value to the exact number of characters read in:\r\n\r\n     System.out.println(new String(buffer,0, numRead));\r\n","title":"Buffered reader does not flush characters to buffer when reaching EOF","body":"<p>Note that <code>br.read(buffer, off, 2048)</code> returns the number of characters read in.</p>\n<p>For the very last iteration of the loop, numRead might be less than <code>buffer.length</code> so <code>buffer</code> will contain characters from last AND second last row:</p>\n<pre><code> System.out.println(buffer);\n</code></pre>\n<p>But if you change to this, it will only print what was read in for each  iteration as it sets the printed value to the exact number of characters read in:</p>\n<pre><code> System.out.println(new String(buffer,0, numRead));\n</code></pre>\n"}],"owner":{"account_id":22980555,"reputation":3,"user_id":17423216,"display_name":"pablo SquarePants"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72234004,"answer_count":2,"score":0,"last_activity_date":1652466474,"creation_date":1652465522,"question_id":72233849,"body_markdown":"I have a buffered reader using read(buffer, off, len). The reader is reading a txt file into a buffer of 2048 characters. It reads and prints whats in the buffer fine until it reaches the end and returns -1. At that point it not longer flushes the last characters into its buffer.\r\n\r\nIve tried reseting the buffer after each read to no avail.\r\n\r\nCode to reproduce.\r\n\r\nWhen running the code, the last time it reads it must not completely fill the buffer.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    ```\r\n    public class bufferRead{\r\n        public static void main(String[] args) {\r\n           \r\n            try {\r\n                FileReader reader = new FileReader(&quot;path to file&quot;);\r\n                BufferedReader br = new BufferedReader(reader);\r\n    \r\n                char[] buffer = new char[2048];\r\n                int off = 0;\r\n                int totalNumRead = 0;\r\n                int numRead;\r\n                while ((numRead = br.read(buffer, off, 2048)) != -1) {\r\n                    totalNumRead += numRead;\r\n                    System.out.println(numRead + &quot; &quot; + totalNumRead);\r\n                    System.out.println(buffer);\r\n                }\r\n                System.out.println(buffer);\r\n                System.out.println(numRead + &quot; &quot; + totalNumRead);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    } \r\n\r\n```","title":"Buffered reader does not flush characters to buffer when reaching EOF","body":"<p>I have a buffered reader using read(buffer, off, len). The reader is reading a txt file into a buffer of 2048 characters. It reads and prints whats in the buffer fine until it reaches the end and returns -1. At that point it not longer flushes the last characters into its buffer.</p>\n<p>Ive tried reseting the buffer after each read to no avail.</p>\n<p>Code to reproduce.</p>\n<p>When running the code, the last time it reads it must not completely fill the buffer.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\n```\npublic class bufferRead{\n    public static void main(String[] args) {\n       \n        try {\n            FileReader reader = new FileReader(&quot;path to file&quot;);\n            BufferedReader br = new BufferedReader(reader);\n\n            char[] buffer = new char[2048];\n            int off = 0;\n            int totalNumRead = 0;\n            int numRead;\n            while ((numRead = br.read(buffer, off, 2048)) != -1) {\n                totalNumRead += numRead;\n                System.out.println(numRead + &quot; &quot; + totalNumRead);\n                System.out.println(buffer);\n            }\n            System.out.println(buffer);\n            System.out.println(numRead + &quot; &quot; + totalNumRead);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n} \n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":4613607,"reputation":688,"user_id":3740914,"display_name":"bart.s"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1487755316,"creation_date":1487755316,"answer_id":42387365,"question_id":42386957,"body_markdown":"Here is a first solution, where you have both bean definitions in one `@Configuration` class.\r\n\r\n    @Configuration\r\n    class GlobalConfiguration {\r\n        @Bean\r\n        public Example createExample(){\r\n            final Example example = new Example();\r\n            example.setSomeProp(createAnotherBean());\r\n            return example;\r\n        }\r\n    \r\n        @Bean\r\n        public AnotherBean createAnotherBean(){\r\n            return new AnotherBean();\r\n        }\r\n    }\r\n\r\nSecond possibility is to use autowiring like below:\r\n   \r\n\r\n     @Configuration\r\n        class GlobalConfiguration {\r\n            @Bean\r\n            @Autowired\r\n            public Example createExample(AnotherBean anotherBean){\r\n                final Example example = new Example();\r\n                example.setSomeProp(anotherBean);\r\n                return example;\r\n            }\r\n        \r\n            @Bean\r\n            public AnotherBean createAnotherBean(){\r\n                return new AnotherBean();\r\n            }\r\n        }\r\n\r\nThird possibility is to split those declarations among two different `@Configuration` classes and use autowiring.\r\n\r\n    @Configuration\r\n    class FirstConfiguration {\r\n    \r\n        @Bean\r\n        public AnotherBean createAnotherBean(){\r\n            return new AnotherBean();\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    class SecondConfiguration {\r\n    \r\n        @Autowired\r\n        private AnotherBean anotherBean;\r\n\r\n        @Bean\r\n        public Example createExample(){\r\n            final Example example = new Example();\r\n            example.setSomeProp(anotherBean);\r\n            return example;\r\n        }\r\n     }","title":"How to refer to another bean as a property in annotation-based configuration file","body":"<p>Here is a first solution, where you have both bean definitions in one <code>@Configuration</code> class.</p>\n\n<pre><code>@Configuration\nclass GlobalConfiguration {\n    @Bean\n    public Example createExample(){\n        final Example example = new Example();\n        example.setSomeProp(createAnotherBean());\n        return example;\n    }\n\n    @Bean\n    public AnotherBean createAnotherBean(){\n        return new AnotherBean();\n    }\n}\n</code></pre>\n\n<p>Second possibility is to use autowiring like below:</p>\n\n<pre><code> @Configuration\n    class GlobalConfiguration {\n        @Bean\n        @Autowired\n        public Example createExample(AnotherBean anotherBean){\n            final Example example = new Example();\n            example.setSomeProp(anotherBean);\n            return example;\n        }\n\n        @Bean\n        public AnotherBean createAnotherBean(){\n            return new AnotherBean();\n        }\n    }\n</code></pre>\n\n<p>Third possibility is to split those declarations among two different <code>@Configuration</code> classes and use autowiring.</p>\n\n<pre><code>@Configuration\nclass FirstConfiguration {\n\n    @Bean\n    public AnotherBean createAnotherBean(){\n        return new AnotherBean();\n    }\n}\n\n@Configuration\nclass SecondConfiguration {\n\n    @Autowired\n    private AnotherBean anotherBean;\n\n    @Bean\n    public Example createExample(){\n        final Example example = new Example();\n        example.setSomeProp(anotherBean);\n        return example;\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652466423,"creation_date":1652466423,"answer_id":72233996,"question_id":42386957,"body_markdown":"Just do:\r\n\r\n    @Configuration \r\n    class GlobalConfiguration {\r\n\r\n        @Bean\r\n        public Example createExample(@Autowired AnotherBean anotherBean){\r\n            //use another bean\r\n\t\t    return new Example(anotherBean);\r\n        }\r\n\r\n        @Bean\r\n        public AnotherBean createAnotherBean(){\r\n            return new AnotherBean();\r\n        }\r\n    }","title":"How to refer to another bean as a property in annotation-based configuration file","body":"<p>Just do:</p>\n<pre><code>@Configuration \nclass GlobalConfiguration {\n\n    @Bean\n    public Example createExample(@Autowired AnotherBean anotherBean){\n        //use another bean\n        return new Example(anotherBean);\n    }\n\n    @Bean\n    public AnotherBean createAnotherBean(){\n        return new AnotherBean();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5174557,"reputation":1185,"user_id":5218240,"accept_rate":86,"display_name":"cinqS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13806,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":42387365,"answer_count":2,"score":11,"last_activity_date":1652466423,"creation_date":1487754240,"question_id":42386957,"body_markdown":"In XML context based bean configuration file, if I want to refer a bean as property, I would use:\r\n\r\n    &lt;bean class=&quot;com.example.Example&quot; id=&quot;someId&quot;&gt;\r\n        &lt;property name=&quot;someProp&quot; refer=&quot;anotherBean&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean class=&quot;com.example.AnotherBean&quot; id=&quot;anotherBean&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nSo the `Example` bean will use the `anotherBean` as its property\r\n\r\nSo in the concept of annotation-based configuration java file:\r\n\r\n    @Configuration\r\n    class GlobalConfiguration {\r\n        @Bean\r\n        public Example createExample(){\r\n            return;\r\n            //here how should I refer to the bean below?\r\n        }\r\n\r\n        @Bean\r\n        public AnotherBean createAnotherBean(){\r\n            return new AnotherBean();\r\n        }\r\n    }","title":"How to refer to another bean as a property in annotation-based configuration file","body":"<p>In XML context based bean configuration file, if I want to refer a bean as property, I would use:</p>\n\n<pre><code>&lt;bean class=\"com.example.Example\" id=\"someId\"&gt;\n    &lt;property name=\"someProp\" refer=\"anotherBean\"/&gt;\n&lt;/bean&gt;\n&lt;bean class=\"com.example.AnotherBean\" id=\"anotherBean\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>So the <code>Example</code> bean will use the <code>anotherBean</code> as its property</p>\n\n<p>So in the concept of annotation-based configuration java file:</p>\n\n<pre><code>@Configuration\nclass GlobalConfiguration {\n    @Bean\n    public Example createExample(){\n        return;\n        //here how should I refer to the bean below?\n    }\n\n    @Bean\n    public AnotherBean createAnotherBean(){\n        return new AnotherBean();\n    }\n}\n</code></pre>\n"},{"tags":["java","nullpointerexception","comparator"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1652451276,"post_id":72230970,"comment_id":127616568,"body_markdown":"What should the result be when `AnyObj` is null? How should those values compare to others in the list?","body":"What should the result be when <code>AnyObj</code> is null? How should those values compare to others in the list?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1652451375,"post_id":72230970,"comment_id":127616606,"body_markdown":"Also: consider whether there is a good reason to allow null values to exist in the list in the first place.","body":"Also: consider whether there is a good reason to allow null values to exist in the list in the first place."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1652451395,"post_id":72230970,"comment_id":127616618,"body_markdown":"Is this really valid syntax for a comparator lambda?","body":"Is this really valid syntax for a comparator lambda?"},{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1652451467,"post_id":72230970,"comment_id":127616658,"body_markdown":"Maybe this answer helps you: https://stackoverflow.com/questions/32884195/filter-values-only-if-not-null-using-lambda-in-java8 - you can filter the null values in the list before sorting it","body":"Maybe this answer helps you: <a href=\"https://stackoverflow.com/questions/32884195/filter-values-only-if-not-null-using-lambda-in-java8\" title=\"filter values only if not null using lambda in java8\">stackoverflow.com/questions/32884195/&hellip;</a> - you can filter the null values in the list before sorting it"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1652451522,"post_id":72230970,"comment_id":127616675,"body_markdown":"@GhostCat I haven&#39;t used Java in a long time and had to look up the new features; but I&#39;m pretty sure that&#39;s meant to be either `AnyObj -&gt; AnyObj.getAttr()`, or `AnyObj::getAttr`.","body":"@GhostCat I haven&#39;t used Java in a long time and had to look up the new features; but I&#39;m pretty sure that&#39;s meant to be either <code>AnyObj -&gt; AnyObj.getAttr()</code>, or <code>AnyObj::getAttr</code>."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1652451618,"post_id":72230970,"comment_id":127616711,"body_markdown":"I agree with Karl ... this really doesn&#39;t look like valid Java syntax. Please: be diligent about your input. You want other people to spend their free time to help you with your problem for free. So please spend the 1 minute it takes to show us REAL legit java code, not something &quot;pseudo&quot; that you BELIEVE communicates your intent.","body":"I agree with Karl ... this really doesn&#39;t look like valid Java syntax. Please: be diligent about your input. You want other people to spend their free time to help you with your problem for free. So please spend the 1 minute it takes to show us REAL legit java code, not something &quot;pseudo&quot; that you BELIEVE communicates your intent."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1652451680,"post_id":72230970,"comment_id":127616732,"body_markdown":"And yes, nulls can be filtered out before ... but the question is: is that what the OP wants?! So the real question is something only the OP can answer: what are the requirements. Why are there nulls in the list, and more importantly, how should sorting affect those null values?","body":"And yes, nulls can be filtered out before ... but the question is: is that what the OP wants?! So the real question is something only the OP can answer: what are the requirements. Why are there nulls in the list, and more importantly, how should sorting affect those null values?"}],"answers":[{"tags":[],"owner":{"account_id":9448304,"reputation":1,"user_id":7026166,"display_name":"Deeptiranjan Nayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652466042,"creation_date":1652465707,"answer_id":72233892,"question_id":72230970,"body_markdown":"Yes I got the solution.\r\nIt is very easy. Just use stream. filter(a-&gt;a!=null)...\r\n\r\n    List&lt;User&gt; sortedList = userList.stream()\r\n        .filter(a-&gt;a!=null)       \r\n        .sorted(Comparator.comparingInt(User::getAge).reversed())\r\n        .collect(Collectors.toList());\r\n\r\n    sortedList.forEach(System.out::println)","title":"How to avoid NPE in below case?","body":"<p>Yes I got the solution.\nIt is very easy. Just use stream. filter(a-&gt;a!=null)...</p>\n<pre><code>List&lt;User&gt; sortedList = userList.stream()\n    .filter(a-&gt;a!=null)       \n    .sorted(Comparator.comparingInt(User::getAge).reversed())\n    .collect(Collectors.toList());\n\nsortedList.forEach(System.out::println)\n</code></pre>\n"}],"owner":{"account_id":9448304,"reputation":1,"user_id":7026166,"display_name":"Deeptiranjan Nayak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652466042,"creation_date":1652451053,"question_id":72230970,"body_markdown":"    List&lt;User&gt; sortedList = userList.stream()       \r\n        .sorted(Comparator.comparingInt(User::getAge).reversed())\r\n        .collect(Collectors.toList());\r\n\r\n    sortedList.forEach(System.out::println)\r\n\r\n\r\nIn the above case if User is null it is giving NPE. How to avoid NPE here?","title":"How to avoid NPE in below case?","body":"<pre><code>List&lt;User&gt; sortedList = userList.stream()       \n    .sorted(Comparator.comparingInt(User::getAge).reversed())\n    .collect(Collectors.toList());\n\nsortedList.forEach(System.out::println)\n</code></pre>\n<p>In the above case if User is null it is giving NPE. How to avoid NPE here?</p>\n"},{"tags":["java","collections","hashmap","equals","hashcode"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":5,"creation_date":1649834043,"post_id":71853303,"comment_id":126972884,"body_markdown":"Does your `NewClass` have a proper `equals` implementation? That is required.","body":"Does your <code>NewClass</code> have a proper <code>equals</code> implementation? That is required."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1649834082,"post_id":71853303,"comment_id":126972891,"body_markdown":"Having (mutable) lists as map keys is generally a really bad idea.","body":"Having (mutable) lists as map keys is generally a really bad idea."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1649835528,"post_id":71853303,"comment_id":126973377,"body_markdown":"Using **any** mutable object as Map key is generally a really really really bad idea.","body":"Using <b>any</b> mutable object as Map key is generally a really really really bad idea."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649841375,"creation_date":1649835392,"answer_id":71853616,"question_id":71853303,"body_markdown":"From map `V get(Object key)` documentation:\r\n```\r\n * ... if this map contains a mapping from a key\r\n * {@code k} to a value {@code v} such that\r\n * {@code Objects.equals(key, k)},\r\n * then this method returns {@code v}; otherwise\r\n * it returns {@code null}. ...\r\n```\r\nI&#39;m not sure how you implemented the `equals` method of `NewClass`, but the following implementation of `NewClass` doesn&#39;t return `null` when calling `System.out.println(mapClass.get(list3))`;\r\n\r\n```\r\npublic class NewClass {\r\n    private int id;\r\n    private String name;\r\n    private String mail;\r\n\r\n    NewClass(int id,String name,String mail){\r\n        this.id = id;\r\n        this.name = name;\r\n        this.mail = mail;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id * name.hashCode() * mail.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n\r\n        if (o == this) return true;\r\n        if (!(o instanceof NewClass)) {\r\n            return false;\r\n        }\r\n        NewClass newClass = (NewClass) o;\r\n\r\n        return newClass.id == id &amp;&amp;\r\n               newClass.name.equals(name) &amp;&amp;\r\n               newClass.mail.equals(mail);\r\n    }\r\n}\r\n```\r\n\r\nAlso, as mentioned in the comments mutable keys are not a good idea, please check [this link][1] which details why.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7842049/are-mutable-hashmap-keys-a-dangerous-practice","title":"HashMap with List of Objects as a Key","body":"<p>From map <code>V get(Object key)</code> documentation:</p>\n<pre><code> * ... if this map contains a mapping from a key\n * {@code k} to a value {@code v} such that\n * {@code Objects.equals(key, k)},\n * then this method returns {@code v}; otherwise\n * it returns {@code null}. ...\n</code></pre>\n<p>I'm not sure how you implemented the <code>equals</code> method of <code>NewClass</code>, but the following implementation of <code>NewClass</code> doesn't return <code>null</code> when calling <code>System.out.println(mapClass.get(list3))</code>;</p>\n<pre><code>public class NewClass {\n    private int id;\n    private String name;\n    private String mail;\n\n    NewClass(int id,String name,String mail){\n        this.id = id;\n        this.name = name;\n        this.mail = mail;\n    }\n\n    @Override\n    public int hashCode() {\n        return id * name.hashCode() * mail.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object o) {\n\n        if (o == this) return true;\n        if (!(o instanceof NewClass)) {\n            return false;\n        }\n        NewClass newClass = (NewClass) o;\n\n        return newClass.id == id &amp;&amp;\n               newClass.name.equals(name) &amp;&amp;\n               newClass.mail.equals(mail);\n    }\n}\n</code></pre>\n<p>Also, as mentioned in the comments mutable keys are not a good idea, please check <a href=\"https://stackoverflow.com/questions/7842049/are-mutable-hashmap-keys-a-dangerous-practice\">this link</a> which details why.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649848946,"creation_date":1649843526,"answer_id":71855434,"question_id":71853303,"body_markdown":"&gt; Even though hashcode is same for all the 3 lists, mapClass.get(list3) is retuning null. **list3** has **same object as list1 / list2**. Why is this behaviour ?\r\n\r\nI guess this problem caused by the `equals()` method of your custom class. It has to be implemented in such a way that each object in a pair of objects that are equal according to `equals()` will have the same hash code.\r\n\r\nAs a rule of thumb, you should provide your classes with proper `equals/hasHode` implementations, especially when they are intended to be used with collections.\r\n\r\nSince you didn&#39;t expose the code of `NewClass` I&#39;ll use `java.lang.String` class which maintains *equals/hasHode* invariant for demo-purposes.\r\n```\r\nList&lt;String&gt; list1 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\nList&lt;String&gt; list2 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;); // list containing the same pooled strings (i.e. references to the same objects)\r\nList&lt;String&gt; list3 = new ArrayList&lt;&gt;(List.of(new String(&quot;a&quot;), new String(&quot;b&quot;), new String(&quot;c&quot;)));\r\nSystem.out.println(&quot;list1 is equal to list3: &quot; + list1.equals(list3));\r\n        \r\nMap&lt;List&lt;String&gt;, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(list1, 1);\r\nmap.put(list2, 2);\r\nmap.put(list3, 3);\r\n        \r\nSystem.out.println(&quot;map&#39;s size: &quot; + map.size()); // contains a single entry: list3 -&gt; 3\r\nmap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n    \r\n// let&#39;s break it!\r\nSystem.out.println(&quot;______________________&quot;);\r\n        \r\nlist3.add(&quot;d&quot;); // list3 contains &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;\r\nList&lt;String&gt; list4 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n        \r\nmap.put(list4, 4);\r\nSystem.out.println(&quot;map&#39;s size: &quot; + map.size()); // contains two entries!\r\nmap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n// let&#39;s check the hashes\r\nSystem.out.println(&quot;hashCodes:\\nlist3: &quot; + list3.hashCode() + &quot; list4: &quot; + list4.hashCode());\r\n```\r\nThe output will be:\r\n```\r\nlist1 is equal to list3: true\r\nmap&#39;s size: 1\r\n[a, b, c] -&gt; 3\r\n______________________\r\nmap&#39;s size: 2\r\n[a, b, c] -&gt; 3\r\n[a, b, c, d] -&gt; 4\r\nhashCodes:\r\nlist3: 3910595 list4: 3910595\r\n```\r\n\r\nAs you can see, it doesn&#39;t matter whether a *list* contains pooled or non-pooled string, as soon as they equal and have the same order the lists will be equal.\r\n\r\nThe second part of the code above demonstrates why it&#39;s not a good idea to use `List` as a *key*.\r\n\r\n`HashMap` is intended to be used with immutable objects. It&#39;s backed by an array. Each element of the array is a ***bucket*** that corresponds to a *range of hashes*, and it might contain a list of ***nodes*** (*after a certain threshold a list get transformed into a tree to improve performance*).\r\n\r\nAnd that how the `Node` look like:\r\n```\r\nstatic class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\r\n    final int hash;\r\n    final K key;\r\n    V value;\r\n    Node&lt;K,V&gt; next;\r\n...\r\n\r\n```\r\n\r\nWhen you invoke method `put()` on a `HashMap`, the hash of the given *key* will be calculated. And based on the *hash*, it&#39;ll find an appropriate *bucket* for that *key*. Then, *hashes* of all *nodes* in this bucket will get checked against the *new hash*. If equal *hash* wasn&#39;t found, a new `Node` will be created and placed in that bucket. In case when two hashes collide, then these *keys* will be compared using `equels()`. And if returns `false`a *new node* will get created, otherwise the *value* of the existing node will be replaced by the *given value*.\r\n\r\n**Note** that fields *key* and *hash* are `final`. \r\n\r\nComputing the hash might be very *costful* in some cases, and since `HashMap` isn&#39;t intended to be used with mutable objects, it&#39;s unnecessary to calculate the hash for the same *key* over and over with each new comparison. \r\n\r\nHence, `list4` will be treated as a ***new key***, although the hashes are the same, because *the hash* of `list3` in the *map* will never get updated.","title":"HashMap with List of Objects as a Key","body":"<blockquote>\n<p>Even though hashcode is same for all the 3 lists, mapClass.get(list3) is retuning null. <strong>list3</strong> has <strong>same object as list1 / list2</strong>. Why is this behaviour ?</p>\n</blockquote>\n<p>I guess this problem caused by the <code>equals()</code> method of your custom class. It has to be implemented in such a way that each object in a pair of objects that are equal according to <code>equals()</code> will have the same hash code.</p>\n<p>As a rule of thumb, you should provide your classes with proper <code>equals/hasHode</code> implementations, especially when they are intended to be used with collections.</p>\n<p>Since you didn't expose the code of <code>NewClass</code> I'll use <code>java.lang.String</code> class which maintains <em>equals/hasHode</em> invariant for demo-purposes.</p>\n<pre><code>List&lt;String&gt; list1 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nList&lt;String&gt; list2 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;); // list containing the same pooled strings (i.e. references to the same objects)\nList&lt;String&gt; list3 = new ArrayList&lt;&gt;(List.of(new String(&quot;a&quot;), new String(&quot;b&quot;), new String(&quot;c&quot;)));\nSystem.out.println(&quot;list1 is equal to list3: &quot; + list1.equals(list3));\n        \nMap&lt;List&lt;String&gt;, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(list1, 1);\nmap.put(list2, 2);\nmap.put(list3, 3);\n        \nSystem.out.println(&quot;map's size: &quot; + map.size()); // contains a single entry: list3 -&gt; 3\nmap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n    \n// let's break it!\nSystem.out.println(&quot;______________________&quot;);\n        \nlist3.add(&quot;d&quot;); // list3 contains &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;\nList&lt;String&gt; list4 = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\n        \nmap.put(list4, 4);\nSystem.out.println(&quot;map's size: &quot; + map.size()); // contains two entries!\nmap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n// let's check the hashes\nSystem.out.println(&quot;hashCodes:\\nlist3: &quot; + list3.hashCode() + &quot; list4: &quot; + list4.hashCode());\n</code></pre>\n<p>The output will be:</p>\n<pre><code>list1 is equal to list3: true\nmap's size: 1\n[a, b, c] -&gt; 3\n______________________\nmap's size: 2\n[a, b, c] -&gt; 3\n[a, b, c, d] -&gt; 4\nhashCodes:\nlist3: 3910595 list4: 3910595\n</code></pre>\n<p>As you can see, it doesn't matter whether a <em>list</em> contains pooled or non-pooled string, as soon as they equal and have the same order the lists will be equal.</p>\n<p>The second part of the code above demonstrates why it's not a good idea to use <code>List</code> as a <em>key</em>.</p>\n<p><code>HashMap</code> is intended to be used with immutable objects. It's backed by an array. Each element of the array is a <em><strong>bucket</strong></em> that corresponds to a <em>range of hashes</em>, and it might contain a list of <em><strong>nodes</strong></em> (<em>after a certain threshold a list get transformed into a tree to improve performance</em>).</p>\n<p>And that how the <code>Node</code> look like:</p>\n<pre><code>static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\n    final int hash;\n    final K key;\n    V value;\n    Node&lt;K,V&gt; next;\n...\n\n</code></pre>\n<p>When you invoke method <code>put()</code> on a <code>HashMap</code>, the hash of the given <em>key</em> will be calculated. And based on the <em>hash</em>, it'll find an appropriate <em>bucket</em> for that <em>key</em>. Then, <em>hashes</em> of all <em>nodes</em> in this bucket will get checked against the <em>new hash</em>. If equal <em>hash</em> wasn't found, a new <code>Node</code> will be created and placed in that bucket. In case when two hashes collide, then these <em>keys</em> will be compared using <code>equels()</code>. And if returns <code>false</code>a <em>new node</em> will get created, otherwise the <em>value</em> of the existing node will be replaced by the <em>given value</em>.</p>\n<p><strong>Note</strong> that fields <em>key</em> and <em>hash</em> are <code>final</code>.</p>\n<p>Computing the hash might be very <em>costful</em> in some cases, and since <code>HashMap</code> isn't intended to be used with mutable objects, it's unnecessary to calculate the hash for the same <em>key</em> over and over with each new comparison.</p>\n<p>Hence, <code>list4</code> will be treated as a <em><strong>new key</strong></em>, although the hashes are the same, because <em>the hash</em> of <code>list3</code> in the <em>map</em> will never get updated.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652465427,"creation_date":1649844249,"answer_id":71855615,"question_id":71853303,"body_markdown":"The problem with your code lies in many aspects: using a List as a key, re-using the same references for a second pair and the `NewClass` implementation. As others have already pointed out, you&#39;re using as a HashMap key an `ArrayList` which is a bad design choice because as a mutable object its hashCode is subject to change introducing the risk of losing access to its paired element. Furthermore, what is also hurting you is that the `hashCode` and the `equals` methods of the `ArrayList` are defined on the elements&#39; implementation of said methods.\r\n\r\n&lt;h2&gt;ArrayList&#39;s equals()&lt;/h2&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&lt;h2&gt;ArrayList&#39;s hashCode()&lt;/h2&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n&lt;h2&gt;HashMap Implementation&lt;/h2&gt;\r\nThe &lt;code&gt;HashMap&lt;/code&gt; is implemented as a Hash table containing an array of buckets. Each key&#39;s &lt;code&gt;hashCode()&lt;/code&gt; is mapped to a bucket (array) index and different keys are allowed to have the same hashcode ([hashCode contract][4]). This is why each bucket can contain multiple key-value pairs arranged via a Linked data structure. So, when you&#39;re invoking the &lt;code&gt;get&lt;/code&gt; method, first, a bucket is selected by mapping the key&#39;s hashCode to the bucket index, then the target entry is searched by calling the &lt;code&gt;equals()&lt;/code&gt; method on its key.\r\n\r\n&lt;br/&gt;&lt;h2&gt;Code Explanation&lt;/h2&gt;\r\nAs shown from the output, after adding the second pair with a different list as the key, we can see that the map&#39;s size is still 1. This is because you&#39;ve used the exact same references (obj1 and obj2) to build both the first and second key, yielding the same hashCode for list1 and list2, as the ArrayList&#39;s hashCode is built upon its elements. Once, the second pair is added to the HashMap, its key&#39;s hashCode returns the same value of the first key, indexing the same bucket and then replacing the first pair, since the second key equals the first pair&#39;s key.\r\n\r\nNow getting to your question. The situation described would have taken place even if the List&#39;s elements had been different references with same values as long as the `NewClass`&#39; `equals()` method had been defined on the exact three fields passed to the constructor (int, String, String). My guess is that the NewClass&#39; `equals()` method hasn&#39;t been defined or it confronts different fields. Both `equals()` and `hashCode` should work on the same set of fields. In fact, if we define your `NewClass` as follows, also the third addition will replace the only pair contained within the HashMap.\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;NewClass&gt; list1 = new ArrayList&lt;&gt;();\r\n        List&lt;NewClass&gt; list2 = new ArrayList&lt;&gt;();\r\n\r\n        NewClass obj1 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\r\n        NewClass obj2 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\r\n\r\n        list1.add(obj1);\r\n        list1.add(obj2);\r\n\r\n        list2.add(obj1);\r\n        list2.add(obj2);\r\n\r\n        Map&lt;List&lt;NewClass&gt;, Integer&gt; mapClass = new HashMap&lt;&gt;();\r\n        mapClass.put(list1, 1234);\r\n        mapClass.put(list2, 4567);\r\n\r\n        System.out.println(mapClass.size());\r\n        System.out.println(mapClass.get(list1));\r\n\r\n        NewClass obj4 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\r\n        NewClass obj5 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\r\n        List&lt;NewClass&gt; list3 = new ArrayList&lt;&gt;();\r\n        list3.add(obj4);\r\n        list3.add(obj5);\r\n\r\n        System.out.println(mapClass.get(list3));\r\n\r\n        System.out.println(list1.hashCode());\r\n        System.out.println(list2.hashCode());\r\n        System.out.println(list3.hashCode());\r\n    }\r\n}\r\n\r\nclass NewClass {\r\n    int id;\r\n    String s1, s2;\r\n\r\n    public NewClass(int id, String s1, String s2) {\r\n        this.id = id;\r\n        this.s1 = s1;\r\n        this.s2 = s2;\r\n    }\r\n\r\n    public int hashCode() {\r\n        return Objects.hash(id, s1, s2);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj == this) return true;\r\n        if (obj == null || obj.getClass() != getClass()) return false;\r\n        NewClass nc = (NewClass) obj;\r\n        return nc.id == id &amp;&amp; Objects.equals(s1, nc.s1) &amp;&amp; Objects.equals(s2, nc.s2);\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;&lt;h2&gt;Output&lt;/h2&gt;\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n&lt;h2&gt;Conclusions&lt;/h2&gt;\r\nIn conclusion, as others have already said, you shouldn&#39;t be using mutable objects as keys for a HashMap. The changes applied on a key internal state may alter its hashCode, making its paired value untraceable or even worst retrieving another key&#39;s value in a very remote scenario. These are some helpful guidelines on how to design a HashMap key:\r\n\r\n- https://howtodoinjava.com/java/collections/hashmap/design-good-key-for-hashmap/\r\n- https://www.baeldung.com/java-custom-class-map-key\r\n\r\n  [1]: https://i.stack.imgur.com/oSX48.png\r\n  [2]: https://i.stack.imgur.com/eEauC.png\r\n  [3]: https://i.stack.imgur.com/Jdqmt.png\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\r\n  [5]: https://i.stack.imgur.com/SG5QU.png","title":"HashMap with List of Objects as a Key","body":"<p>The problem with your code lies in many aspects: using a List as a key, re-using the same references for a second pair and the <code>NewClass</code> implementation. As others have already pointed out, you're using as a HashMap key an <code>ArrayList</code> which is a bad design choice because as a mutable object its hashCode is subject to change introducing the risk of losing access to its paired element. Furthermore, what is also hurting you is that the <code>hashCode</code> and the <code>equals</code> methods of the <code>ArrayList</code> are defined on the elements' implementation of said methods.</p>\n<h2>ArrayList's equals()</h2>\n<p><a href=\"https://i.stack.imgur.com/oSX48.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSX48.png\" alt=\"enter image description here\" /></a></p>\n<h2>ArrayList's hashCode()</h2>\n<p><a href=\"https://i.stack.imgur.com/eEauC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eEauC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Jdqmt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jdqmt.png\" alt=\"enter image description here\" /></a></p>\n<h2>HashMap Implementation</h2>\nThe <code>HashMap</code> is implemented as a Hash table containing an array of buckets. Each key's <code>hashCode()</code> is mapped to a bucket (array) index and different keys are allowed to have the same hashcode ([hashCode contract][4]). This is why each bucket can contain multiple key-value pairs arranged via a Linked data structure. So, when you're invoking the <code>get</code> method, first, a bucket is selected by mapping the key's hashCode to the bucket index, then the target entry is searched by calling the <code>equals()</code> method on its key.\n<p><br/><h2>Code Explanation</h2>\nAs shown from the output, after adding the second pair with a different list as the key, we can see that the map's size is still 1. This is because you've used the exact same references (obj1 and obj2) to build both the first and second key, yielding the same hashCode for list1 and list2, as the ArrayList's hashCode is built upon its elements. Once, the second pair is added to the HashMap, its key's hashCode returns the same value of the first key, indexing the same bucket and then replacing the first pair, since the second key equals the first pair's key.</p>\n<p>Now getting to your question. The situation described would have taken place even if the List's elements had been different references with same values as long as the <code>NewClass</code>' <code>equals()</code> method had been defined on the exact three fields passed to the constructor (int, String, String). My guess is that the NewClass' <code>equals()</code> method hasn't been defined or it confronts different fields. Both <code>equals()</code> and <code>hashCode</code> should work on the same set of fields. In fact, if we define your <code>NewClass</code> as follows, also the third addition will replace the only pair contained within the HashMap.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        List&lt;NewClass&gt; list1 = new ArrayList&lt;&gt;();\n        List&lt;NewClass&gt; list2 = new ArrayList&lt;&gt;();\n\n        NewClass obj1 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\n        NewClass obj2 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\n\n        list1.add(obj1);\n        list1.add(obj2);\n\n        list2.add(obj1);\n        list2.add(obj2);\n\n        Map&lt;List&lt;NewClass&gt;, Integer&gt; mapClass = new HashMap&lt;&gt;();\n        mapClass.put(list1, 1234);\n        mapClass.put(list2, 4567);\n\n        System.out.println(mapClass.size());\n        System.out.println(mapClass.get(list1));\n\n        NewClass obj4 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\n        NewClass obj5 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\n        List&lt;NewClass&gt; list3 = new ArrayList&lt;&gt;();\n        list3.add(obj4);\n        list3.add(obj5);\n\n        System.out.println(mapClass.get(list3));\n\n        System.out.println(list1.hashCode());\n        System.out.println(list2.hashCode());\n        System.out.println(list3.hashCode());\n    }\n}\n\nclass NewClass {\n    int id;\n    String s1, s2;\n\n    public NewClass(int id, String s1, String s2) {\n        this.id = id;\n        this.s1 = s1;\n        this.s2 = s2;\n    }\n\n    public int hashCode() {\n        return Objects.hash(id, s1, s2);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == this) return true;\n        if (obj == null || obj.getClass() != getClass()) return false;\n        NewClass nc = (NewClass) obj;\n        return nc.id == id &amp;&amp; Objects.equals(s1, nc.s1) &amp;&amp; Objects.equals(s2, nc.s2);\n    }\n}\n</code></pre>\n<p><br/><h2>Output</h2></p>\n<p><a href=\"https://i.stack.imgur.com/SG5QU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SG5QU.png\" alt=\"enter image description here\" /></a></p>\n<h2>Conclusions</h2>\nIn conclusion, as others have already said, you shouldn't be using mutable objects as keys for a HashMap. The changes applied on a key internal state may alter its hashCode, making its paired value untraceable or even worst retrieving another key's value in a very remote scenario. These are some helpful guidelines on how to design a HashMap key:\n<ul>\n<li><a href=\"https://howtodoinjava.com/java/collections/hashmap/design-good-key-for-hashmap/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/collections/hashmap/design-good-key-for-hashmap/</a></li>\n<li><a href=\"https://www.baeldung.com/java-custom-class-map-key\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-custom-class-map-key</a></li>\n</ul>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3291,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71855615,"answer_count":3,"score":3,"last_activity_date":1652465427,"creation_date":1649833762,"question_id":71853303,"body_markdown":"in HashMap when I pass List of Objects as Key I get different results. \r\n\r\n    \r\n\r\n    List&lt;NewClass&gt; list1 = new ArrayList&lt;&gt;();\r\n\tList&lt;NewClass&gt; list2 = new ArrayList&lt;&gt;();\r\n\r\n\tNewClass obj1 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\r\n\tNewClass obj2 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\r\n\r\n\tlist1.add(obj1);\r\n\tlist1.add(obj2);\r\n\t\r\n\tlist2.add(obj1);\r\n\tlist2.add(obj2);\r\n\r\n\tMap&lt;List&lt;NewClass&gt;, Integer&gt; mapClass = new HashMap&lt;&gt;();\r\n\tmapClass.put(list1, 1234);\r\n\tmapClass.put(list2, 4567);\r\n\t\r\n\tSystem.out.println(mapClass.size());\r\n\tSystem.out.println(mapClass.get(list1));\r\n\t\r\n\tNewClass obj4 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\r\n\tNewClass obj5 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\r\n\tList&lt;NewClass&gt; list3 = new ArrayList&lt;&gt;();\r\n\tlist3.add(obj4);\r\n\tlist3.add(obj5);\r\n\t\r\n\tSystem.out.println(mapClass.get(list3));\r\n\t\r\n\tSystem.out.println(list1.hashCode());\r\n\tSystem.out.println(list2.hashCode());\r\n\tSystem.out.println(list3.hashCode());\r\n\r\n\r\nBelow is the output I see\r\n\r\n    hashCode() called - Computed hash: -1704251796\r\n    hashCode() called - Computed hash: -587009612\r\n    hashCode() called - Computed hash: -1704251796\r\n    hashCode() called - Computed hash: -587009612\r\n    1\r\n    hashCode() called - Computed hash: -1704251796\r\n    hashCode() called - Computed hash: -587009612\r\n    4567\r\n    hashCode() called - Computed hash: -1704251796\r\n    hashCode() called - Computed hash: -587009612\r\n    **null**\r\n    hashCode() called - Computed hash: -1704251796\r\n    hashCode() called - Computed hash: -587009612\r\n    -1879206775\r\n    hashCode() called - Computed hash: -1704251796\r\n    hashCode() called - Computed hash: -587009612\r\n    -1879206775\r\n    hashCode() called - Computed hash: -1704251796\r\n    hashCode() called - Computed hash: -587009612\r\n    -1879206775\r\n\r\nEven though hashcode is same for all the 3 lists, mapClass.get(list3) is retuning null. list3 has same object as list1 / list2. Why is this behaviour ?","title":"HashMap with List of Objects as a Key","body":"<p>in HashMap when I pass List of Objects as Key I get different results.</p>\n<pre><code>List&lt;NewClass&gt; list1 = new ArrayList&lt;&gt;();\nList&lt;NewClass&gt; list2 = new ArrayList&lt;&gt;();\n\nNewClass obj1 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\nNewClass obj2 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\n\nlist1.add(obj1);\nlist1.add(obj2);\n\nlist2.add(obj1);\nlist2.add(obj2);\n\nMap&lt;List&lt;NewClass&gt;, Integer&gt; mapClass = new HashMap&lt;&gt;();\nmapClass.put(list1, 1234);\nmapClass.put(list2, 4567);\n\nSystem.out.println(mapClass.size());\nSystem.out.println(mapClass.get(list1));\n\nNewClass obj4 = new NewClass(1, &quot;ddd&quot;, &quot;eee@gmail.com&quot;);\nNewClass obj5 = new NewClass(2, &quot;ccc&quot;, &quot;kkk@gmail.com&quot;);\nList&lt;NewClass&gt; list3 = new ArrayList&lt;&gt;();\nlist3.add(obj4);\nlist3.add(obj5);\n\nSystem.out.println(mapClass.get(list3));\n\nSystem.out.println(list1.hashCode());\nSystem.out.println(list2.hashCode());\nSystem.out.println(list3.hashCode());\n</code></pre>\n<p>Below is the output I see</p>\n<pre><code>hashCode() called - Computed hash: -1704251796\nhashCode() called - Computed hash: -587009612\nhashCode() called - Computed hash: -1704251796\nhashCode() called - Computed hash: -587009612\n1\nhashCode() called - Computed hash: -1704251796\nhashCode() called - Computed hash: -587009612\n4567\nhashCode() called - Computed hash: -1704251796\nhashCode() called - Computed hash: -587009612\n**null**\nhashCode() called - Computed hash: -1704251796\nhashCode() called - Computed hash: -587009612\n-1879206775\nhashCode() called - Computed hash: -1704251796\nhashCode() called - Computed hash: -587009612\n-1879206775\nhashCode() called - Computed hash: -1704251796\nhashCode() called - Computed hash: -587009612\n-1879206775\n</code></pre>\n<p>Even though hashcode is same for all the 3 lists, mapClass.get(list3) is retuning null. list3 has same object as list1 / list2. Why is this behaviour ?</p>\n"},{"tags":["java","arrays","arraylist","bit-shift"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1652197677,"post_id":72189172,"comment_id":127546183,"body_markdown":"Why are you using shift operators instead of comparing to zero? The description you gave does not seem to require it.","body":"Why are you using shift operators instead of comparing to zero? The description you gave does not seem to require it."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652198767,"post_id":72189172,"comment_id":127546630,"body_markdown":"I suppose, you want to do something like [Partition negative and positive without comparison with 0 using java](https://stackoverflow.com/a/63594515/2711488), but defeat the entire purpose by still performing a comparison after some shift operations.","body":"I suppose, you want to do something like <a href=\"https://stackoverflow.com/a/63594515/2711488\">Partition negative and positive without comparison with 0 using java</a>, but defeat the entire purpose by still performing a comparison after some shift operations."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652465092,"creation_date":1652197304,"answer_id":72189329,"question_id":72189172,"body_markdown":"You&#39;re over-complicating things:\r\n\r\n    public static void partition(int[] data) {\r\n\t\tfinal int POS_IDX = 0;\r\n\t\tfinal int NEG_IDX = 1;\r\n\t\t\r\n\t    List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;&gt;();\r\n\t    lists.add(new ArrayList&lt;&gt;());\r\n\t    lists.add(new ArrayList&lt;&gt;());\r\n\t    for (int i : data) {\r\n\t    \tlists.get(i &gt;&gt; 31 &amp; 1).add(i);\r\n\t    }\r\n\t    \r\n\t    StringBuilder output = new StringBuilder();\r\n\t    if (lists.get(POS_IDX).isEmpty()) {\r\n\t        output.append(&quot;Array doesn&#39;t have any positive numbers.&quot;).append(System.lineSeparator());\r\n\t    } else {\r\n\t        for (int i : lists.get(POS_IDX)) {\r\n\t            output.append(i).append(&#39; &#39;);\r\n\t        }\r\n\t        output.append(System.lineSeparator());\r\n\t    }\r\n\t    \r\n\t    if (lists.get(NEG_IDX).isEmpty()) {\r\n\t        output.append(&quot;Array doesn&#39;t have any negative numbers.&quot;).append(System.lineSeparator());\r\n\t    } else {\r\n\t        for (int i : lists.get(NEG_IDX)) {\r\n\t            output.append(i).append(&#39; &#39;);\r\n\t        }\r\n\t        output.append(System.lineSeparator());\r\n\t    }\r\n\t    \r\n\t    System.out.println(output);\r\n\t}\r\n\t\r\n\tpublic static void main(String [] args) throws IOException {\r\n\t\tpartition(new int[] {2, 6, 9, -1, -4, 10, -7, 3, 5, -8});\r\n\t}","title":"Partition negative and positive in an array in java using shift operator","body":"<p>You're over-complicating things:</p>\n<pre><code>public static void partition(int[] data) {\n    final int POS_IDX = 0;\n    final int NEG_IDX = 1;\n    \n    List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;&gt;();\n    lists.add(new ArrayList&lt;&gt;());\n    lists.add(new ArrayList&lt;&gt;());\n    for (int i : data) {\n        lists.get(i &gt;&gt; 31 &amp; 1).add(i);\n    }\n    \n    StringBuilder output = new StringBuilder();\n    if (lists.get(POS_IDX).isEmpty()) {\n        output.append(&quot;Array doesn't have any positive numbers.&quot;).append(System.lineSeparator());\n    } else {\n        for (int i : lists.get(POS_IDX)) {\n            output.append(i).append(' ');\n        }\n        output.append(System.lineSeparator());\n    }\n    \n    if (lists.get(NEG_IDX).isEmpty()) {\n        output.append(&quot;Array doesn't have any negative numbers.&quot;).append(System.lineSeparator());\n    } else {\n        for (int i : lists.get(NEG_IDX)) {\n            output.append(i).append(' ');\n        }\n        output.append(System.lineSeparator());\n    }\n    \n    System.out.println(output);\n}\n\npublic static void main(String [] args) throws IOException {\n    partition(new int[] {2, 6, 9, -1, -4, 10, -7, 3, 5, -8});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652199926,"creation_date":1652199926,"answer_id":72189902,"question_id":72189172,"body_markdown":"Based on your code, below line was having issue, because after `first==0` condition satisfies, it created list but was adding negative numbers into positive block. \r\n     \r\n    if (first==0) {\r\n    List&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(neg, pos);\r\n    for(int i: arr) posNeg.get(i &gt;&gt;&gt; 31).add(i);\r\n\r\nTo simplify this, I am suggesting some modification to your `partitionNegativeAndPositive`:\r\n\r\n    static void partitionNegativeAndPositive(int n, int[] arr) {\r\n    \t\tArrayList&lt;Integer&gt; pos = new ArrayList&lt;Integer&gt;();\r\n    \t\tArrayList&lt;Integer&gt; neg = new ArrayList&lt;Integer&gt;();\t\r\n            //using single `posNeg` list.\r\n    \t\tList&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(pos, neg);\r\n    \t\t\tfor (int i : arr)\r\n    \t\t\t\tposNeg.get(i &gt;&gt;&gt; 31).add(i);\t\t\r\n    \t\t\t\r\n    \t\tif (pos.isEmpty() == false) {\r\n    \t\t\tfor (int i = 0; i &lt; pos.size(); i++)\r\n    \t\t\t\tSystem.out.print(pos.get(i) + &quot; &quot;);\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t}\r\n    \r\n    \t\tif (neg.isEmpty() == false) {\r\n    \t\t\tfor (int i = 0; i &lt; neg.size(); i++)\r\n    \t\t\t\tSystem.out.print(neg.get(i) + &quot; &quot;);\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t}\r\n    \t\tif (pos.isEmpty()) {\r\n    \t\t\tSystem.out.println(&quot;Array doesn&#39;t have positive numbers&quot;);\r\n    \t\t}\r\n    \t\tif (neg.isEmpty()) {\r\n    \t\t\tSystem.out.println(&quot;Array doesn&#39;t have negative numbers&quot;);\r\n    \t\t}\r\n    \t}","title":"Partition negative and positive in an array in java using shift operator","body":"<p>Based on your code, below line was having issue, because after <code>first==0</code> condition satisfies, it created list but was adding negative numbers into positive block.</p>\n<pre><code>if (first==0) {\nList&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(neg, pos);\nfor(int i: arr) posNeg.get(i &gt;&gt;&gt; 31).add(i);\n</code></pre>\n<p>To simplify this, I am suggesting some modification to your <code>partitionNegativeAndPositive</code>:</p>\n<pre><code>static void partitionNegativeAndPositive(int n, int[] arr) {\n        ArrayList&lt;Integer&gt; pos = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; neg = new ArrayList&lt;Integer&gt;();  \n        //using single `posNeg` list.\n        List&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(pos, neg);\n            for (int i : arr)\n                posNeg.get(i &gt;&gt;&gt; 31).add(i);        \n            \n        if (pos.isEmpty() == false) {\n            for (int i = 0; i &lt; pos.size(); i++)\n                System.out.print(pos.get(i) + &quot; &quot;);\n            System.out.println(&quot;&quot;);\n        }\n\n        if (neg.isEmpty() == false) {\n            for (int i = 0; i &lt; neg.size(); i++)\n                System.out.print(neg.get(i) + &quot; &quot;);\n            System.out.println(&quot;&quot;);\n        }\n        if (pos.isEmpty()) {\n            System.out.println(&quot;Array doesn't have positive numbers&quot;);\n        }\n        if (neg.isEmpty()) {\n            System.out.println(&quot;Array doesn't have negative numbers&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25022472,"reputation":9,"user_id":18881021,"display_name":"Afreen Sofi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652465092,"creation_date":1652196693,"question_id":72189172,"body_markdown":"You will be given an array of n integers, both negative and positive. You need to partition the array into positive and negative numbers. Add all the positive integers of the array to one array (or any data structure) and add all the negative to another array (or any data structure). If the first element of the input array is a positive number, then print all the positive numbers in the given order in the first line of output, and then all the negative numbers in the given order in the second line of output, vice - versa.\r\n\r\nNotes:\r\n\r\nConsider 0 as a positive number.\r\n\r\nThe positive and negative numbers in the output should follow the order of the elements in the given array. Each number in each line of the output should be separated by a space.\r\n\r\nIf the array contains only positive numbers then print the positive numbers in the first line and in the second line print Array doesn&#39;t have negative numbers.\r\n\r\nIf the array contains only negative numbers then print the negative numbers in the first line and in the second line print Array doesn&#39;t have positive numbers.\r\n\r\nInput:\r\n\r\n10\r\n\r\n2 6 9 -1 -4 10 -7 3 5 -8\r\n\r\nOutput:\r\n\r\n2 6 9 10 3 5\r\n\r\n-1 -4 -7 -8\r\n\r\nHere, I have done the code but it does not print the message &quot;Array doesn&#39;t have positive numbers&quot; at all. Where am I going wrong?\r\n\r\n    import java.util.*;\r\n    \r\n    public class Graded3 {\r\n        public static void main(String[] args) {\r\n           Scanner sc = new Scanner(System.in);\r\n           int n = sc.nextInt();\r\n           int arr[] = new int[n];\r\n           for (int i = 0; i &lt; n; i++) {\r\n               arr[i] = sc.nextInt();\r\n           }\r\n           partitionNegativeAndPositive(n,arr);\r\n        }\r\n        static void partitionNegativeAndPositive(int n, int[] arr) {\r\n           ArrayList&lt;Integer&gt; pos = new ArrayList&lt;Integer&gt;();\r\n           ArrayList&lt;Integer&gt; neg = new ArrayList&lt;Integer&gt;();\r\n           int first = 1+(arr[0]&gt;&gt;31)-(-arr[0]&gt;&gt;31);\r\n           if (first==0) {\r\n             List&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(neg, pos);\r\n             for(int i: arr) posNeg.get(i &gt;&gt;&gt; 31).add(i);\r\n           }\r\n           else {\r\n             List&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(pos, neg);\r\n             for(int i: arr) posNeg.get(i &gt;&gt;&gt; 31).add(i);\r\n           }\r\n    \r\n           if(pos.isEmpty()==false) {\r\n             for(int i =0; i&lt;pos.size(); i++)\r\n               System.out.print(pos.get(i) + &quot; &quot;);\r\n             System.out.println(&quot;&quot;);\r\n           }\r\n    \r\n           if(neg.isEmpty()==false) {\r\n             for (int i = 0; i &lt; neg.size(); i++)\r\n               System.out.print(neg.get(i) + &quot; &quot;);\r\n             System.out.println(&quot;&quot;);\r\n           }\r\n           if(pos.isEmpty()) {\r\n             System.out.println(&quot;Array doesn&#39;t have positive numbers&quot;);\r\n           }\r\n           if(neg.isEmpty()) {\r\n             System.out.println(&quot;Array doesn&#39;t have negative numbers&quot;);\r\n           }\r\n    \r\n    }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XYs1Q.png","title":"Partition negative and positive in an array in java using shift operator","body":"<p>You will be given an array of n integers, both negative and positive. You need to partition the array into positive and negative numbers. Add all the positive integers of the array to one array (or any data structure) and add all the negative to another array (or any data structure). If the first element of the input array is a positive number, then print all the positive numbers in the given order in the first line of output, and then all the negative numbers in the given order in the second line of output, vice - versa.</p>\n<p>Notes:</p>\n<p>Consider 0 as a positive number.</p>\n<p>The positive and negative numbers in the output should follow the order of the elements in the given array. Each number in each line of the output should be separated by a space.</p>\n<p>If the array contains only positive numbers then print the positive numbers in the first line and in the second line print Array doesn't have negative numbers.</p>\n<p>If the array contains only negative numbers then print the negative numbers in the first line and in the second line print Array doesn't have positive numbers.</p>\n<p>Input:</p>\n<p>10</p>\n<p>2 6 9 -1 -4 10 -7 3 5 -8</p>\n<p>Output:</p>\n<p>2 6 9 10 3 5</p>\n<p>-1 -4 -7 -8</p>\n<p>Here, I have done the code but it does not print the message &quot;Array doesn't have positive numbers&quot; at all. Where am I going wrong?</p>\n<pre><code>import java.util.*;\n\npublic class Graded3 {\n    public static void main(String[] args) {\n       Scanner sc = new Scanner(System.in);\n       int n = sc.nextInt();\n       int arr[] = new int[n];\n       for (int i = 0; i &lt; n; i++) {\n           arr[i] = sc.nextInt();\n       }\n       partitionNegativeAndPositive(n,arr);\n    }\n    static void partitionNegativeAndPositive(int n, int[] arr) {\n       ArrayList&lt;Integer&gt; pos = new ArrayList&lt;Integer&gt;();\n       ArrayList&lt;Integer&gt; neg = new ArrayList&lt;Integer&gt;();\n       int first = 1+(arr[0]&gt;&gt;31)-(-arr[0]&gt;&gt;31);\n       if (first==0) {\n         List&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(neg, pos);\n         for(int i: arr) posNeg.get(i &gt;&gt;&gt; 31).add(i);\n       }\n       else {\n         List&lt;List&lt;Integer&gt;&gt; posNeg = Arrays.asList(pos, neg);\n         for(int i: arr) posNeg.get(i &gt;&gt;&gt; 31).add(i);\n       }\n\n       if(pos.isEmpty()==false) {\n         for(int i =0; i&lt;pos.size(); i++)\n           System.out.print(pos.get(i) + &quot; &quot;);\n         System.out.println(&quot;&quot;);\n       }\n\n       if(neg.isEmpty()==false) {\n         for (int i = 0; i &lt; neg.size(); i++)\n           System.out.print(neg.get(i) + &quot; &quot;);\n         System.out.println(&quot;&quot;);\n       }\n       if(pos.isEmpty()) {\n         System.out.println(&quot;Array doesn't have positive numbers&quot;);\n       }\n       if(neg.isEmpty()) {\n         System.out.println(&quot;Array doesn't have negative numbers&quot;);\n       }\n\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XYs1Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XYs1Q.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","webview","timer"],"answers":[{"tags":[],"owner":{"account_id":21098353,"reputation":1,"user_id":15508809,"display_name":"DK Manchanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652464931,"creation_date":1650105911,"answer_id":71893198,"question_id":71815453,"body_markdown":"Thanks for your knowledge sharing. This issue was solved after 5 days by following countermeasures:\r\n\r\n1. Splitting html into different divs and script tags.\r\n\r\n2. Replacing full html mWebView.loadDataWithBaseURL with                          \r\n   String updateScript +=    &quot;var                     mydiv=document.getElementById(&#39;div1&#39;);&quot;;\r\n            updateScript += &quot;var    oldScript=document.getElementsByTagName(&#39;script&#39;)[0];&quot;;\r\n            updateScript +=  &quot;var newScript = document.createElement(&#39;script&#39;);&quot;;\r\n            updateScript += &quot;mydiv.innerHTML= textStr;&quot;;\r\n            updateScript += &quot;newScript.innerHTML = scrStr;&quot;;\r\n            updateScript += &quot;document.body.appendChild(newScript);&quot;;\r\n            updateScript += &quot;oldScript.remove();&quot;;\r\n   \r\nmWebView.loadurl(&quot;javascript:&quot; + updateScript);\r\non handler event.\r\n\r\n\r\nThanks\r\n","title":"Android webview with timer","body":"<p>Thanks for your knowledge sharing. This issue was solved after 5 days by following countermeasures:</p>\n<ol>\n<li><p>Splitting html into different divs and script tags.</p>\n</li>\n<li><p>Replacing full html mWebView.loadDataWithBaseURL with<br />\nString updateScript +=    &quot;var                     mydiv=document.getElementById('div1');&quot;;\nupdateScript += &quot;var    oldScript=document.getElementsByTagName('script')[0];&quot;;\nupdateScript +=  &quot;var newScript = document.createElement('script');&quot;;\nupdateScript += &quot;mydiv.innerHTML= textStr;&quot;;\nupdateScript += &quot;newScript.innerHTML = scrStr;&quot;;\nupdateScript += &quot;document.body.appendChild(newScript);&quot;;\nupdateScript += &quot;oldScript.remove();&quot;;</p>\n</li>\n</ol>\n<p>mWebView.loadurl(&quot;javascript:&quot; + updateScript);\non handler event.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":21098353,"reputation":1,"user_id":15508809,"display_name":"DK Manchanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71893198,"answer_count":1,"score":0,"last_activity_date":1652464931,"creation_date":1649584251,"question_id":71815453,"body_markdown":"I am implementing a timer on webview activity with 1 second delay like clock. On each event webview is loaded with generated HTML having canvas and 2 tables. \r\nWith each tick, webview regenerate html and display content. As soon as I start scroll to go down, it starts scrolling auto and behaves erratically and moves up and down.\r\nThanks in advance for your help","title":"Android webview with timer","body":"<p>I am implementing a timer on webview activity with 1 second delay like clock. On each event webview is loaded with generated HTML having canvas and 2 tables.\nWith each tick, webview regenerate html and display content. As soon as I start scroll to go down, it starts scrolling auto and behaves erratically and moves up and down.\nThanks in advance for your help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1652457593,"post_id":72232350,"comment_id":127619000,"body_markdown":"Instead of trying to create a string that represents today, did you try creating a Date object to represent the date in the HTML? &quot;it would only work with two digit months as it prints month as 5 not 05&quot; Well, yes; integers don&#39;t have leading zeros when you convert them to string. There are many reasonable ways you could write the same date in text.","body":"Instead of trying to create a string that represents today, did you try creating a Date object to represent the date in the HTML? &quot;it would only work with two digit months as it prints month as 5 not 05&quot; Well, yes; integers don&#39;t have leading zeros when you convert them to string. There are many reasonable ways you could write the same date in text."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1652461233,"post_id":72232350,"comment_id":127620189,"body_markdown":"Don&#39;t write your own date to string and dont use Date at all. There is java.time.","body":"Don&#39;t write your own date to string and dont use Date at all. There is java.time."}],"answers":[{"tags":[],"owner":{"account_id":22054680,"reputation":92,"user_id":16318413,"display_name":"Bandar Alrooqi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652460985,"creation_date":1652460985,"answer_id":72233038,"question_id":72232350,"body_markdown":"you could just add zero when month is &lt; 10 : \r\nfor example: \r\n\r\n    if(month &lt; 10)\r\n     String dat = (Integer.toString(year)+&quot;-0&quot;+Integer.toString(month)+&quot;-&quot;+Integer.toString(day));\r\n    else\r\n     String dat = (Integer.toString(year)+&quot;-&quot;+Integer.toString(month)+&quot;-&quot;+Integer.toString(day));\r\n\r\n\r\n","title":"Trying to compare todays date to given date from HTML","body":"<p>you could just add zero when month is &lt; 10 :\nfor example:</p>\n<pre><code>if(month &lt; 10)\n String dat = (Integer.toString(year)+&quot;-0&quot;+Integer.toString(month)+&quot;-&quot;+Integer.toString(day));\nelse\n String dat = (Integer.toString(year)+&quot;-&quot;+Integer.toString(month)+&quot;-&quot;+Integer.toString(day));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652464802,"creation_date":1652464470,"answer_id":72233679,"question_id":72232350,"body_markdown":"# tl;dr\r\n\r\n    LocalDate \r\n    .parse(\r\n        &quot;2022-05-24&quot; \r\n    )\r\n    .isEqual(\r\n        LocalDate\r\n        .now( \r\n            ZoneId.of( &quot;America/Edmonton&quot; )\r\n        )\r\n    )\r\n\r\n\r\n# Avoid legacy classes\r\n\r\nDo not use `Calendar`, `Date`, `SimpleDateFormat` classes. These terrible classes were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\n# Compare objects, not text\r\n\r\nDo not compare dates as text. Compare objects instead. \r\n\r\n## `LocalDate`\r\n\r\nParse your textual input into a `LocalDate` if you are working with date-only, without time of day, and without time zone. \r\n\r\n## ISO 8601\r\n\r\nApparently your input string is in standard ISO 8601 format, YYYY-MM-DD. If so, no need to specify a formatting pattern. \r\n\r\n    String input = &quot;2022-05-24&quot; ;\r\n    LocalDate ld = LocalDate.parse( input ) ;\r\n\r\nCapture the current date. Time zone is crucial here. For example, at the same simultaneous moment it can be tomorrow in Tokyo Japan while yesterday in Toledo Ohio US. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\n## `LocalDate#isEqual`\r\n\r\nCompare. \r\n\r\n    boolean isToday = ld.isEqual( today ) ; \r\n\r\n\r\nAll this has been covered many times already on Stack Overflow. Search to learn more. ","title":"Trying to compare todays date to given date from HTML","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate \n.parse(\n    &quot;2022-05-24&quot; \n)\n.isEqual(\n    LocalDate\n    .now( \n        ZoneId.of( &quot;America/Edmonton&quot; )\n    )\n)\n</code></pre>\n<h1>Avoid legacy classes</h1>\n<p>Do not use <code>Calendar</code>, <code>Date</code>, <code>SimpleDateFormat</code> classes. These terrible classes were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1>Compare objects, not text</h1>\n<p>Do not compare dates as text. Compare objects instead.</p>\n<h2><code>LocalDate</code></h2>\n<p>Parse your textual input into a <code>LocalDate</code> if you are working with date-only, without time of day, and without time zone.</p>\n<h2>ISO 8601</h2>\n<p>Apparently your input string is in standard ISO 8601 format, YYYY-MM-DD. If so, no need to specify a formatting pattern.</p>\n<pre><code>String input = &quot;2022-05-24&quot; ;\nLocalDate ld = LocalDate.parse( input ) ;\n</code></pre>\n<p>Capture the current date. Time zone is crucial here. For example, at the same simultaneous moment it can be tomorrow in Tokyo Japan while yesterday in Toledo Ohio US.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nLocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<h2><code>LocalDate#isEqual</code></h2>\n<p>Compare.</p>\n<pre><code>boolean isToday = ld.isEqual( today ) ; \n</code></pre>\n<p>All this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":23617134,"reputation":35,"user_id":17651050,"display_name":"Nadine Mostafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72233679,"answer_count":2,"score":0,"last_activity_date":1652464802,"creation_date":1652457374,"question_id":72232350,"body_markdown":"I&#39;m trying to compare dates as i take input from user using date in html and send it to servlet to validate it or know if it&#39;s today&#39;s date this is my trial and it would only work with two digit months as it prints month as 5 not 05 \r\n```\r\n        String date = request.getParameter(&quot;birth&quot;);\r\n        Date d = new Date();\r\n        Calendar calendar = new GregorianCalendar();\r\n        calendar.setTime(d);\r\n        int year = calendar.get(Calendar.YEAR);\r\n        int month = calender.get(Calendar.MONTH);\r\n        month+=1;\r\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\r\n        String dat = (Integer.toString(year)+&quot;-&quot;+Integer.toString(month)+&quot;-&quot;+Integer.toString(day));\r\n        PrintWriter out = response.getWriter();\r\n\r\n        if(dat.equals(date))\r\n            out.println(&quot;Today&quot;);\r\n\r\n    }}\r\n ```\r\ni feel like the code just looks so sad.","title":"Trying to compare todays date to given date from HTML","body":"<p>I'm trying to compare dates as i take input from user using date in html and send it to servlet to validate it or know if it's today's date this is my trial and it would only work with two digit months as it prints month as 5 not 05</p>\n<pre><code>        String date = request.getParameter(&quot;birth&quot;);\n        Date d = new Date();\n        Calendar calendar = new GregorianCalendar();\n        calendar.setTime(d);\n        int year = calendar.get(Calendar.YEAR);\n        int month = calender.get(Calendar.MONTH);\n        month+=1;\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\n        String dat = (Integer.toString(year)+&quot;-&quot;+Integer.toString(month)+&quot;-&quot;+Integer.toString(day));\n        PrintWriter out = response.getWriter();\n\n        if(dat.equals(date))\n            out.println(&quot;Today&quot;);\n\n    }}\n</code></pre>\n<p>i feel like the code just looks so sad.</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652364204,"creation_date":1652364204,"answer_id":72217063,"question_id":72207129,"body_markdown":"I believe this is an edge case that isn&#39;t covered currently.\r\n\r\nWhen you create a named producer (e.g. using [`javax.jms.Session.createProducer(Destination)`][1]) or send a message to a destination with an anonymous producer (e.g. using [`javax.jms.MessageProducer.send(Destination, Message)`][2]) the client checks to see if the destination exists. If the destination doesn&#39;t exist then the client will create it if the proper auto-create settings are `true`. The client then caches this information so that it doesn&#39;t have to keep checking every time it sends a message to the destination in question as checking every time would be prohibitively time consuming. Of course, not checking means the destination can go away and the client wouldn&#39;t know.\r\n\r\nWhen you restart the application and the producer is created again the address gets re-created.\r\n\r\nIt&#39;s not clear *why* you need the address to be deleted when no producer is actively pushing messages to it. In general I would say that your use-case doesn&#39;t fit well with auto-delete. Auto-delete was really designed for use-cases involving single-use or ephemeral destinations. The address definition in memory consumes very few resources so generally speaking it&#39;s fine to just leave it. I recommend you disable auto-delete (as it is by default) to mitigate this issue for now.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createProducer-javax.jms.Destination-\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/MessageProducer.html#send-javax.jms.Destination-javax.jms.Message-","title":"Producer program will not recreate an address in Artemis once automatically deleted","body":"<p>I believe this is an edge case that isn't covered currently.</p>\n<p>When you create a named producer (e.g. using <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createProducer-javax.jms.Destination-\" rel=\"nofollow noreferrer\"><code>javax.jms.Session.createProducer(Destination)</code></a>) or send a message to a destination with an anonymous producer (e.g. using <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageProducer.html#send-javax.jms.Destination-javax.jms.Message-\" rel=\"nofollow noreferrer\"><code>javax.jms.MessageProducer.send(Destination, Message)</code></a>) the client checks to see if the destination exists. If the destination doesn't exist then the client will create it if the proper auto-create settings are <code>true</code>. The client then caches this information so that it doesn't have to keep checking every time it sends a message to the destination in question as checking every time would be prohibitively time consuming. Of course, not checking means the destination can go away and the client wouldn't know.</p>\n<p>When you restart the application and the producer is created again the address gets re-created.</p>\n<p>It's not clear <em>why</em> you need the address to be deleted when no producer is actively pushing messages to it. In general I would say that your use-case doesn't fit well with auto-delete. Auto-delete was really designed for use-cases involving single-use or ephemeral destinations. The address definition in memory consumes very few resources so generally speaking it's fine to just leave it. I recommend you disable auto-delete (as it is by default) to mitigate this issue for now.</p>\n"}],"owner":{"account_id":22398921,"reputation":9,"user_id":16609735,"display_name":"squidmonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72217063,"answer_count":1,"score":0,"last_activity_date":1652464761,"creation_date":1652300084,"question_id":72207129,"body_markdown":"Now that I managed to get the address to auto delete (based on [this question][1]) I cannot figure out what is preventing my producer from recreating the address. \r\n\r\nWhen there&#39;s no producer pushing data to a specific address I need it to auto delete. Right now when the last consumer disconnects the address gets deleted, and the producer will not recreate the address.\r\n\r\nBelow is the producer code. It&#39;s just a simple Java function that reads a value from an XML message and uses that as the address name.  It&#39;s basically sorting the messages into different topics based on the name in the XML message itself:\r\n```java\r\n    /////////////////////////////////////\r\n    //Constructor to establish connection\r\n    /////////////////////////////////////\r\n    \r\n    public ActiveMQ(String amq_url) throws JMSException, NamingException{\r\n        jndi_env = new Hashtable&lt;String, Object&gt;();\r\n        jndi_env.put(InitialContext.INITIAL_CONTEXT_FACTORY, &quot;org.apache.activemq.artemis.jndi.ActiveMQInitialContextFactory&quot;);\r\n        jndi_env.put(InitialContext.PROVIDER_URL, amq_url);\r\n        ic = new InitialContext(jndi_env);\r\n        connectionFactory = (ConnectionFactory) ic.lookup(&quot;ConnectionFactory&quot;);\r\n        this.connection = (ActiveMQConnection) connectionFactory.createConnection();\r\n        session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    }\r\n\r\n    /////////////////////////////////////\r\n    //Switch address to publish to\r\n    /////////////////////////////////////\r\n\r\n    public void useAddress(String addressName) throws JMSException, NamingException{\r\n        if (producer != null) producer.close();\r\n        this.address= (Destination) ic.lookup(&quot;dynamicTopics/&quot;+addressName);\r\n        this.producer = session.createProducer(address);\r\n    }\r\n```\r\nThe only way to get this line of code to make the address again is to restart the producer program or the Artemis server. I&#39;ve tried having the logic completely close everything and re-open it (session, connection, etc) and that didn&#39;t fix it.  Is there a setting that I&#39;m missing here?  I can&#39;t find anything in the documentation that covers why the address is not being recreated by the producer.  Any help would be appreciated! \r\n\r\n`broker.xml` (same as from other question):\r\n```xml\r\n         &lt;address-setting match=&quot;#&quot;&gt;\r\n            &lt;dead-letter-address&gt;DLQ&lt;/dead-letter-address&gt;\r\n            &lt;expiry-address&gt;&lt;/expiry-address&gt;\r\n            &lt;redelivery-delay&gt;0&lt;/redelivery-delay&gt;\r\n            &lt;expiry-delay&gt;10&lt;/expiry-delay&gt;\r\n            &lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;\r\n            &lt;max-size-messages&gt;-1&lt;/max-size-messages&gt;\r\n            &lt;message-counter-history-day-limit&gt;10&lt;/message-counter-history-day-limit&gt;\r\n            &lt;address-full-policy&gt;PAGE&lt;/address-full-policy&gt;\r\n            &lt;auto-create-queues&gt;true&lt;/auto-create-queues&gt;\r\n            &lt;auto-create-addresses&gt;true&lt;/auto-create-addresses&gt;\r\n            &lt;auto-delete-queues&gt;true&lt;/auto-delete-queues&gt;\r\n            &lt;auto-delete-addresses&gt;true&lt;/auto-delete-addresses&gt;\r\n            &lt;auto-delete-created-queues&gt;true&lt;/auto-delete-created-queues&gt;\r\n            &lt;auto-delete-queues-message-count&gt;-1&lt;/auto-delete-queues-message-count&gt;\r\n         &lt;/address-setting&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72177519/auto-delete-address-not-working-in-activemq-artemis\r\n\r\n**EDIT:**\r\nSo there really isn&#39;t an easy way to do this with the settings in Artemis alone.  I think the best solution for what I need, based on Justin&#39;s answer below, is to turn off auto-delete settings and do this through java programming, using something similar to my other [question][2] where I read the available addresses, and delete the ones that arent relevant anymore.\r\n\r\n[2]:https://stackoverflow.com/questions/71903043/activemq-artemis-obtain-list-of-available-addresses-using-jms/71912923?noredirect=1#comment127097173_71912923\r\n\r\nFor now, setting a long delay using ```&lt;auto-delete-address-delay&gt;``` will suit my current needs temporarily.","title":"Producer program will not recreate an address in Artemis once automatically deleted","body":"<p>Now that I managed to get the address to auto delete (based on <a href=\"https://stackoverflow.com/questions/72177519/auto-delete-address-not-working-in-activemq-artemis\">this question</a>) I cannot figure out what is preventing my producer from recreating the address.</p>\n<p>When there's no producer pushing data to a specific address I need it to auto delete. Right now when the last consumer disconnects the address gets deleted, and the producer will not recreate the address.</p>\n<p>Below is the producer code. It's just a simple Java function that reads a value from an XML message and uses that as the address name.  It's basically sorting the messages into different topics based on the name in the XML message itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /////////////////////////////////////\n    //Constructor to establish connection\n    /////////////////////////////////////\n    \n    public ActiveMQ(String amq_url) throws JMSException, NamingException{\n        jndi_env = new Hashtable&lt;String, Object&gt;();\n        jndi_env.put(InitialContext.INITIAL_CONTEXT_FACTORY, &quot;org.apache.activemq.artemis.jndi.ActiveMQInitialContextFactory&quot;);\n        jndi_env.put(InitialContext.PROVIDER_URL, amq_url);\n        ic = new InitialContext(jndi_env);\n        connectionFactory = (ConnectionFactory) ic.lookup(&quot;ConnectionFactory&quot;);\n        this.connection = (ActiveMQConnection) connectionFactory.createConnection();\n        session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    }\n\n    /////////////////////////////////////\n    //Switch address to publish to\n    /////////////////////////////////////\n\n    public void useAddress(String addressName) throws JMSException, NamingException{\n        if (producer != null) producer.close();\n        this.address= (Destination) ic.lookup(&quot;dynamicTopics/&quot;+addressName);\n        this.producer = session.createProducer(address);\n    }\n</code></pre>\n<p>The only way to get this line of code to make the address again is to restart the producer program or the Artemis server. I've tried having the logic completely close everything and re-open it (session, connection, etc) and that didn't fix it.  Is there a setting that I'm missing here?  I can't find anything in the documentation that covers why the address is not being recreated by the producer.  Any help would be appreciated!</p>\n<p><code>broker.xml</code> (same as from other question):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>         &lt;address-setting match=&quot;#&quot;&gt;\n            &lt;dead-letter-address&gt;DLQ&lt;/dead-letter-address&gt;\n            &lt;expiry-address&gt;&lt;/expiry-address&gt;\n            &lt;redelivery-delay&gt;0&lt;/redelivery-delay&gt;\n            &lt;expiry-delay&gt;10&lt;/expiry-delay&gt;\n            &lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;\n            &lt;max-size-messages&gt;-1&lt;/max-size-messages&gt;\n            &lt;message-counter-history-day-limit&gt;10&lt;/message-counter-history-day-limit&gt;\n            &lt;address-full-policy&gt;PAGE&lt;/address-full-policy&gt;\n            &lt;auto-create-queues&gt;true&lt;/auto-create-queues&gt;\n            &lt;auto-create-addresses&gt;true&lt;/auto-create-addresses&gt;\n            &lt;auto-delete-queues&gt;true&lt;/auto-delete-queues&gt;\n            &lt;auto-delete-addresses&gt;true&lt;/auto-delete-addresses&gt;\n            &lt;auto-delete-created-queues&gt;true&lt;/auto-delete-created-queues&gt;\n            &lt;auto-delete-queues-message-count&gt;-1&lt;/auto-delete-queues-message-count&gt;\n         &lt;/address-setting&gt;\n</code></pre>\n<p><strong>EDIT:</strong>\nSo there really isn't an easy way to do this with the settings in Artemis alone.  I think the best solution for what I need, based on Justin's answer below, is to turn off auto-delete settings and do this through java programming, using something similar to my other <a href=\"https://stackoverflow.com/questions/71903043/activemq-artemis-obtain-list-of-available-addresses-using-jms/71912923?noredirect=1#comment127097173_71912923\">question</a> where I read the available addresses, and delete the ones that arent relevant anymore.</p>\n<p>For now, setting a long delay using <code>&lt;auto-delete-address-delay&gt;</code> will suit my current needs temporarily.</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"score":0,"creation_date":1250861622,"post_id":1311889,"comment_id":1144193,"body_markdown":"do you mean that for source folders &quot;server&quot; and &quot;client&quot; you would have &quot;server-classes&quot; and &quot;client-classes&quot; as output folders?","body":"do you mean that for source folders &quot;server&quot; and &quot;client&quot; you would have &quot;server-classes&quot; and &quot;client-classes&quot; as output folders?"},{"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"score":0,"creation_date":1250861887,"post_id":1311889,"comment_id":1144218,"body_markdown":"How do you start JUnit? Do you use the JUnit Eclipse plug-in or do you start the unit tests from Maven?","body":"How do you start JUnit? Do you use the JUnit Eclipse plug-in or do you start the unit tests from Maven?"},{"owner":{"account_id":6090,"reputation":31973,"user_id":10098,"accept_rate":80,"display_name":"wds"},"score":0,"creation_date":1250862079,"post_id":1311889,"comment_id":1144238,"body_markdown":"I added the answers in the question text.","body":"I added the answers in the question text."}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1652464687,"creation_date":1250862029,"answer_id":1312013,"question_id":1311889,"body_markdown":"If you use m2eclipse, then the config in the Eclipse project is overwritten by the plugin. See [this article][1] for a solution.\r\n\r\nThe reason for this is that some maven plugins can&#39;t cope with a directory that is outside of `target/`, so the m2eclipse devs force the folders for compiled classes to be `target/classes` and `target/test-classes`, no matter what you configure in Eclipse.\r\n\r\nBy using a profile, you can use different folders for Eclipse. Still, it&#39;s not wise to change the output folders for maven (and its plugins).\r\n\r\n  [1]: https://web.archive.org/web/20150527111413/http://www.jroller.com/eu/entry/configuring_separate_maven_output_folders","title":"How do I configure eclipse classpath used for junit tests?","body":"<p>If you use m2eclipse, then the config in the Eclipse project is overwritten by the plugin. See <a href=\"https://web.archive.org/web/20150527111413/http://www.jroller.com/eu/entry/configuring_separate_maven_output_folders\" rel=\"nofollow noreferrer\">this article</a> for a solution.</p>\n<p>The reason for this is that some maven plugins can't cope with a directory that is outside of <code>target/</code>, so the m2eclipse devs force the folders for compiled classes to be <code>target/classes</code> and <code>target/test-classes</code>, no matter what you configure in Eclipse.</p>\n<p>By using a profile, you can use different folders for Eclipse. Still, it's not wise to change the output folders for maven (and its plugins).</p>\n"},{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1250867187,"creation_date":1250867187,"answer_id":1312530,"question_id":1311889,"body_markdown":"The Eclipse JUnit integration has no special classpath configuration, it will work off the output folders defined in your classpath and should find all classes compiled to those folders. It may be that there is something dodgy in your .classpath file, so that JUnit is confused (by default the .classpath file is hidden from view, it is located in the root of the project).\r\n\r\nBased on your description I would expect to see entries something like below (note the default output folder and the override for src/main/java and src/main/resources). Does your classpath look markedly different, if so that may be the issue\r\n\r\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/eclipse-classes&quot; path=&quot;src/main/resources&quot;/&gt;\r\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/eclipse-classes&quot; path=&quot;src/main/java&quot;/&gt;\r\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;/&gt;\r\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER&quot;/&gt;\r\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nThis is a long shot, but it may also be that a Maven clean is configured on your project, if that is the case the contents of target/eclipse-classes would be dropped whenever the clean goal is run, so your tests would be deleted from the file system before the tests are run. You can see what goals are run by Maven by opening the project properties (&lt;kbd&gt;alt-enter&lt;/kbd&gt;) and selecting the Maven item.\r\n\r\n\r\n----------\r\n\r\n\r\nThis part doesn&#39;t directly answer your question, but you may find useful anyway. I tend to have my Eclipse output directories the same as for Maven and have no issues inside Eclipse (I modify the Maven builder to only run process-resources so it doesn&#39;t attempt to compile).\r\n\r\nIf I do a Maven build the Maven compiler will build any changed classes (that would be all of them if a clean is included). A subsequent modification in Eclipse is detected by the incremental compiler and processed, all is fine. I do turn off Build Automatically, but that&#39;s just because it annoys me, it may be that Maven and Eclipse fght if you have them both turned off.","title":"How do I configure eclipse classpath used for junit tests?","body":"<p>The Eclipse JUnit integration has no special classpath configuration, it will work off the output folders defined in your classpath and should find all classes compiled to those folders. It may be that there is something dodgy in your .classpath file, so that JUnit is confused (by default the .classpath file is hidden from view, it is located in the root of the project).</p>\n\n<p>Based on your description I would expect to see entries something like below (note the default output folder and the override for src/main/java and src/main/resources). Does your classpath look markedly different, if so that may be the issue</p>\n\n<pre><code>&lt;classpathentry excluding=\"**\" kind=\"src\" output=\"target/eclipse-classes\" path=\"src/main/resources\"/&gt;\n&lt;classpathentry kind=\"src\" output=\"target/eclipse-classes\" path=\"src/main/java\"/&gt;\n&lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER\"/&gt;\n&lt;classpathentry kind=\"con\" path=\"org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER\"/&gt;\n&lt;classpathentry kind=\"output\" path=\"target/classes\"/&gt;\n</code></pre>\n\n<hr>\n\n<p>This is a long shot, but it may also be that a Maven clean is configured on your project, if that is the case the contents of target/eclipse-classes would be dropped whenever the clean goal is run, so your tests would be deleted from the file system before the tests are run. You can see what goals are run by Maven by opening the project properties (<kbd>alt-enter</kbd>) and selecting the Maven item.</p>\n\n<hr>\n\n<p>This part doesn't directly answer your question, but you may find useful anyway. I tend to have my Eclipse output directories the same as for Maven and have no issues inside Eclipse (I modify the Maven builder to only run process-resources so it doesn't attempt to compile).</p>\n\n<p>If I do a Maven build the Maven compiler will build any changed classes (that would be all of them if a clean is included). A subsequent modification in Eclipse is detected by the incremental compiler and processed, all is fine. I do turn off Build Automatically, but that's just because it annoys me, it may be that Maven and Eclipse fght if you have them both turned off.</p>\n"},{"tags":[],"owner":{"account_id":38196,"reputation":1891,"user_id":109474,"accept_rate":75,"display_name":"dirtyvagabond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253577753,"creation_date":1253577753,"answer_id":1457512,"question_id":1311889,"body_markdown":"Just in case you&#39;re open to trying a different plugin for this: I use the maven-eclipse-plugin to generate my Eclipse project settings. I configure the plugin to configure my Eclipse project to use a completely separate output directory for classes (see below). It&#39;s relative to the project root, so it sits outside of target.\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;eclipse_build&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nThis works great for me, including being able to run tests right out of the box, both via Maven and Eclipse.","title":"How do I configure eclipse classpath used for junit tests?","body":"<p>Just in case you're open to trying a different plugin for this: I use the maven-eclipse-plugin to generate my Eclipse project settings. I configure the plugin to configure my Eclipse project to use a completely separate output directory for classes (see below). It's relative to the project root, so it sits outside of target.</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;outputDirectory&gt;eclipse_build&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>This works great for me, including being able to run tests right out of the box, both via Maven and Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":1703031,"reputation":1506,"user_id":1562662,"accept_rate":75,"display_name":"Chacko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383651100,"creation_date":1383651100,"answer_id":19787990,"question_id":1311889,"body_markdown":"try running `mvn eclipse:eclipse`. This fixed the issue for me","title":"How do I configure eclipse classpath used for junit tests?","body":"<p>try running <code>mvn eclipse:eclipse</code>. This fixed the issue for me</p>\n"},{"tags":[],"owner":{"account_id":80937,"reputation":2251,"user_id":1914557,"display_name":"RAY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581927176,"creation_date":1581927176,"answer_id":60258254,"question_id":1311889,"body_markdown":"I am using gradle. Refreshing gradle project will overwrite .classpath file. So I have to add the following at the end of the build.gradle file in order to let it maintain a JUNIT5 reference.\r\n\r\n    eclipse.classpath.file.whenMerged { \r\n\t\tclasspath -&gt;\r\n\t\t\tdef JUnitFive = new org.gradle.plugins.ide.eclipse.model.Container(&#39;org.eclipse.jdt.junit.JUNIT_CONTAINER/5&#39;)\r\n\t\t\tJUnitFive.exported = true\r\n\t\t\tclasspath.entries &lt;&lt; JUnitFive\r\n\t}","title":"How do I configure eclipse classpath used for junit tests?","body":"<p>I am using gradle. Refreshing gradle project will overwrite .classpath file. So I have to add the following at the end of the build.gradle file in order to let it maintain a JUNIT5 reference.</p>\n\n<pre><code>eclipse.classpath.file.whenMerged { \n    classpath -&gt;\n        def JUnitFive = new org.gradle.plugins.ide.eclipse.model.Container('org.eclipse.jdt.junit.JUNIT_CONTAINER/5')\n        JUnitFive.exported = true\n        classpath.entries &lt;&lt; JUnitFive\n}\n</code></pre>\n"}],"owner":{"account_id":6090,"reputation":31973,"user_id":10098,"accept_rate":80,"display_name":"wds"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44052,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1652464687,"creation_date":1250860637,"question_id":1311889,"body_markdown":"I have an eclipse project where every source folder has its own associated output folder. Instead of /classes it&#39;s called /eclipse-classes. \r\n\r\nSo if I have a folder:\r\nsrc/main/java (typical maven thing)\r\nthe target folder is:\r\ntarget/eclipse-classes\r\n\r\nAnd likewise for resources etc.\r\n\r\nThis seems to work (i.e. eclipse generates .class files that are put inside these folders) but running any Junit tests throws an exception stating &quot;class not found&quot;. I&#39;m running JUnit using the built-in eclipse test runner (i.e. right click the class, &quot;run as&quot;, &quot;Junit test&quot;).\r\n\r\nCopying the /eclipse-classes folder to /classes makes them succeed, meaning eclipse is using /classes, but I can&#39;t find any configuration options to change it. Is there any way to find out where and why eclipse is still using the /classes folder?\r\n\r\n(perhaps relevant, I&#39;m also using the m2eclipse plugin)\r\n\r\nSome additional information inspired by Rich Seller&#39;s answer:\r\nMaven is configured to run the following on resource changes:\r\n\r\n    process-resources resources:testResources\r\n\r\nWhile this won&#39;t do anything useful (copies to the wrong directory) the resources are not problematic atm since they end up in the correct location.\r\n\r\nThe .classpath entries look okay. There&#39;s a bunch of maven subprojects so the nesting goes a bit deeper than what Rich posted, but otherwise it&#39;s exactly the same except for this line:\r\n\r\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jst.j2ee.internal.module.container&quot;/&gt;\r\n\r\nI think we might not need that one but it&#39;s not hurting anything atm.\r\n\r\nedit2: Further testing reveals that eclipse is generating class files in both the /eclipse-classes folders and the /classes folder. It seems that m2eclipse is running mvn build in the background when building automatically, but I can&#39;t seem to find a way to disable this. I&#39;ll try to get in touch with the m2eclipse developers if nobody here has any other ideas.","title":"How do I configure eclipse classpath used for junit tests?","body":"<p>I have an eclipse project where every source folder has its own associated output folder. Instead of /classes it's called /eclipse-classes. </p>\n\n<p>So if I have a folder:\nsrc/main/java (typical maven thing)\nthe target folder is:\ntarget/eclipse-classes</p>\n\n<p>And likewise for resources etc.</p>\n\n<p>This seems to work (i.e. eclipse generates .class files that are put inside these folders) but running any Junit tests throws an exception stating \"class not found\". I'm running JUnit using the built-in eclipse test runner (i.e. right click the class, \"run as\", \"Junit test\").</p>\n\n<p>Copying the /eclipse-classes folder to /classes makes them succeed, meaning eclipse is using /classes, but I can't find any configuration options to change it. Is there any way to find out where and why eclipse is still using the /classes folder?</p>\n\n<p>(perhaps relevant, I'm also using the m2eclipse plugin)</p>\n\n<p>Some additional information inspired by Rich Seller's answer:\nMaven is configured to run the following on resource changes:</p>\n\n<pre><code>process-resources resources:testResources\n</code></pre>\n\n<p>While this won't do anything useful (copies to the wrong directory) the resources are not problematic atm since they end up in the correct location.</p>\n\n<p>The .classpath entries look okay. There's a bunch of maven subprojects so the nesting goes a bit deeper than what Rich posted, but otherwise it's exactly the same except for this line:</p>\n\n<pre><code>&lt;classpathentry kind=\"con\" path=\"org.eclipse.jst.j2ee.internal.module.container\"/&gt;\n</code></pre>\n\n<p>I think we might not need that one but it's not hurting anything atm.</p>\n\n<p>edit2: Further testing reveals that eclipse is generating class files in both the /eclipse-classes folders and the /classes folder. It seems that m2eclipse is running mvn build in the background when building automatically, but I can't seem to find a way to disable this. I'll try to get in touch with the m2eclipse developers if nobody here has any other ideas.</p>\n"},{"tags":["java","kotlin","intellij-idea","jvm","kotlin-multiplatform"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":10,"creation_date":1526282180,"post_id":50304263,"comment_id":87665388,"body_markdown":"Have you tried to run &quot;File | Invalidate caches&quot;? If it doesn&#39;t help please share build.gradle to check used dependencies.","body":"Have you tried to run &quot;File | Invalidate caches&quot;? If it doesn&#39;t help please share build.gradle to check used dependencies."},{"owner":{"account_id":200056,"reputation":25083,"user_id":445715,"display_name":"Andrey Breslav"},"score":11,"creation_date":1535916914,"post_id":50304263,"comment_id":91230443,"body_markdown":"I&#39;d suspect that your project/module has no JDK configured. Open Project Structure and look for Project SDK or Module SDK","body":"I&#39;d suspect that your project/module has no JDK configured. Open Project Structure and look for Project SDK or Module SDK"},{"owner":{"account_id":8482131,"reputation":1219,"user_id":6371209,"accept_rate":25,"display_name":"MadLax"},"score":2,"creation_date":1535952055,"post_id":50304263,"comment_id":91236805,"body_markdown":"@AndreyBreslav, JDK and SDK were connected as usual. Projects on Java worked stably.\nThe problem was solved after a FULL reinstallation of the ideal.","body":"@AndreyBreslav, JDK and SDK were connected as usual. Projects on Java worked stably. The problem was solved after a FULL reinstallation of the ideal."},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":10,"creation_date":1541514093,"post_id":50304263,"comment_id":93237326,"body_markdown":"Maybe counter-intuitively, under Project Structure &gt; Modules &gt; yourmodule &gt; Dependencies, &quot;Module SDK&quot; needs to be suitable Java SDK, _not_ the Kotlin SDK. (That solved a similar issue for me.)","body":"Maybe counter-intuitively, under Project Structure &gt; Modules &gt; yourmodule &gt; Dependencies, &quot;Module SDK&quot; needs to be suitable Java SDK, <i>not</i> the Kotlin SDK. (That solved a similar issue for me.)"},{"owner":{"account_id":8075221,"reputation":755,"user_id":6086511,"display_name":"Shankara Narayana"},"score":0,"creation_date":1543475657,"post_id":50304263,"comment_id":93934917,"body_markdown":"Im using two flavours and when i moved one package out of the main into the flavours folder i started getting this error. no fix yet","body":"Im using two flavours and when i moved one package out of the main into the flavours folder i started getting this error. no fix yet"},{"owner":{"account_id":10922151,"reputation":1249,"user_id":8028053,"display_name":"fileyfood500"},"score":2,"creation_date":1576276621,"post_id":50304263,"comment_id":104860531,"body_markdown":"I had this issue, because I added both the Java SDK and the Kotlin SDK to the project. I only needed the Java SDK, when I removed Kotlin and restarted this fixed the issue.","body":"I had this issue, because I added both the Java SDK and the Kotlin SDK to the project. I only needed the Java SDK, when I removed Kotlin and restarted this fixed the issue."},{"owner":{"account_id":11682987,"reputation":303,"user_id":8553955,"display_name":"yousef Abbdolzadeh"},"score":1,"creation_date":1579074694,"post_id":50304263,"comment_id":105641081,"body_markdown":"In this my case  class package name that used was wrong, And just fixed package name","body":"In this my case  class package name that used was wrong, And just fixed package name"},{"owner":{"account_id":5005201,"reputation":7462,"user_id":4023065,"accept_rate":50,"display_name":"Ronin"},"score":1,"creation_date":1592505288,"post_id":50304263,"comment_id":110457650,"body_markdown":"Had the same issue after reinstalling the open jdk. Resolved by setting the correct version in File &gt; Project Structure &gt; Project &gt; Project SDK (it was still set to the old outdated invalid path)","body":"Had the same issue after reinstalling the open jdk. Resolved by setting the correct version in File &gt; Project Structure &gt; Project &gt; Project SDK (it was still set to the old outdated invalid path)"},{"owner":{"account_id":936511,"reputation":186,"user_id":965347,"accept_rate":92,"display_name":"user965347"},"score":1,"creation_date":1642460794,"post_id":50304263,"comment_id":125072060,"body_markdown":"+invalidate caches and restart solves it","body":"+invalidate caches and restart solves it"},{"owner":{"account_id":330543,"reputation":970,"user_id":654720,"accept_rate":43,"display_name":"TALE"},"score":0,"creation_date":1652722935,"post_id":50304263,"comment_id":127669801,"body_markdown":"I&#39;m using Android Studio Bumblebee 2021.1.1 patch 3.  When I created my KMM project it defaults to the embedded SDK.  To fix it I had to switch to liberica-11 JDK.  I&#39;m sure other JDKs will fix the issue too, but that worked for me.  Try changing your selected JDK under Gradle Settings.","body":"I&#39;m using Android Studio Bumblebee 2021.1.1 patch 3.  When I created my KMM project it defaults to the embedded SDK.  To fix it I had to switch to liberica-11 JDK.  I&#39;m sure other JDKs will fix the issue too, but that worked for me.  Try changing your selected JDK under Gradle Settings."},{"owner":{"account_id":6580880,"reputation":180,"user_id":5085212,"accept_rate":67,"display_name":"Lucas"},"score":0,"creation_date":1652881704,"post_id":50304263,"comment_id":127714366,"body_markdown":"@Raphael &quot;&quot;Module SDK&quot; needs to be suitable Java SDK, not the Kotlin SDK. &quot; Its working thank you very much","body":"@Raphael &quot;&quot;Module SDK&quot; needs to be suitable Java SDK, not the Kotlin SDK. &quot; Its working thank you very much"}],"answers":[{"tags":[],"owner":{"account_id":3598397,"reputation":1231,"user_id":3002377,"accept_rate":50,"display_name":"nashter"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1652464338,"creation_date":1558352614,"answer_id":56220341,"question_id":50304263,"body_markdown":"If your project is set with a JDK, then probably IDE (Intellij) does not have JDK set but your built application could run just fine with the required JVM. Open the project structure window (ctrl + shift + alt +s) and select the java version you created your project with. ","title":"Check your module classpath for missing or conflicting dependencies","body":"<p>If your project is set with a JDK, then probably IDE (Intellij) does not have JDK set but your built application could run just fine with the required JVM. Open the project structure window (ctrl + shift + alt +s) and select the java version you created your project with.</p>\n"},{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1559657148,"creation_date":1559657148,"answer_id":56445589,"question_id":50304263,"body_markdown":"In our project we encountered this because we added the same directory to both production and the test sources.\r\n\r\n```\r\nsourceSets {\r\n  main.java.srcDirs += &#39;src/main/kotlin/&#39;\r\n  main.java.srcDirs += &#39;build/generated/source/protos/main/java&#39;\r\n  test.java.srcDirs += &#39;src/test/kotlin/&#39;\r\n  test.java.srcDirs += &#39;build/generated/source/protos/main/java&#39;\r\n}\r\n```\r\n\r\nRemoving the duplicate from the test sources fixed the problem.\r\n\r\n```\r\nsourceSets {\r\n  main.java.srcDirs += &#39;src/main/kotlin/&#39;\r\n  main.java.srcDirs += &#39;build/generated/source/protos/main/java&#39;\r\n  test.java.srcDirs += &#39;src/test/kotlin/&#39;\r\n}\r\n```","title":"Check your module classpath for missing or conflicting dependencies","body":"<p>In our project we encountered this because we added the same directory to both production and the test sources.</p>\n\n<pre><code>sourceSets {\n  main.java.srcDirs += 'src/main/kotlin/'\n  main.java.srcDirs += 'build/generated/source/protos/main/java'\n  test.java.srcDirs += 'src/test/kotlin/'\n  test.java.srcDirs += 'build/generated/source/protos/main/java'\n}\n</code></pre>\n\n<p>Removing the duplicate from the test sources fixed the problem.</p>\n\n<pre><code>sourceSets {\n  main.java.srcDirs += 'src/main/kotlin/'\n  main.java.srcDirs += 'build/generated/source/protos/main/java'\n  test.java.srcDirs += 'src/test/kotlin/'\n}\n</code></pre>\n"}],"owner":{"account_id":8482131,"reputation":1219,"user_id":6371209,"accept_rate":25,"display_name":"MadLax"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116418,"favorite_count":0,"down_vote_count":3,"up_vote_count":87,"closed_date":1565764000,"answer_count":2,"score":84,"last_activity_date":1652464338,"creation_date":1526113651,"question_id":50304263,"body_markdown":"I have a project with Java and Kotlin, which I am able to successfully run and build. However, when I open the project in IntelliJ, I see the same error in many of the project files.\r\n\r\nThe error is &quot;Cannot access class &#39;java.lang.String&#39;. Check your module classpath for missing or conflicting dependencies&quot;\r\n\r\nSee the error in the image attached:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n___\r\n\r\nAnother example of an error occurs when initializing a [Kotlin MultiPlatform Mobile][2] project:\r\n\r\n    cannot access &#39;java.lang.Object&#39; which is a supertype of &#39;org.gradle.api.artifacts.dsl.RepositoryHandler&#39;. Check your module classpath for missing or conflicting dependencies\r\n\r\n___\r\n\r\nWhat is the source of this error? How can I fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yGLDL.png\r\n  [2]: https://kotlinlang.org/docs/mobile/getting-started.html","title":"Check your module classpath for missing or conflicting dependencies","body":"<p>I have a project with Java and Kotlin, which I am able to successfully run and build. However, when I open the project in IntelliJ, I see the same error in many of the project files.</p>\n<p>The error is &quot;Cannot access class 'java.lang.String'. Check your module classpath for missing or conflicting dependencies&quot;</p>\n<p>See the error in the image attached:\n<a href=\"https://i.stack.imgur.com/yGLDL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yGLDL.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Another example of an error occurs when initializing a <a href=\"https://kotlinlang.org/docs/mobile/getting-started.html\" rel=\"noreferrer\">Kotlin MultiPlatform Mobile</a> project:</p>\n<pre><code>cannot access 'java.lang.Object' which is a supertype of 'org.gradle.api.artifacts.dsl.RepositoryHandler'. Check your module classpath for missing or conflicting dependencies\n</code></pre>\n<hr />\n<p>What is the source of this error? How can I fix it?</p>\n"},{"tags":["java","jsf","primefaces","jsf-2"],"comments":[{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1492067106,"post_id":43380812,"comment_id":73832709,"body_markdown":"Debug, debug, debug please, check where iti is throwing this, what the value is, what you expected there etc... just posting this is way to little effort from your side","body":"Debug, debug, debug please, check where iti is throwing this, what the value is, what you expected there etc... just posting this is way to little effort from your side"},{"owner":{"account_id":5120259,"reputation":96,"user_id":4104081,"display_name":"Wagner Faria"},"score":0,"creation_date":1492109959,"post_id":43380812,"comment_id":73860309,"body_markdown":"I have put interruption point in every single method of the managed bean. The exception runs before even enter the managed bean. It doesnt get in any of the managed bean method. Do you have any hint i can folow to find the origin of that error ? \n&quot;just posting this is way to little effort from your side&quot; sorry about that. I&#180;m kind of new in posting questions here.","body":"I have put interruption point in every single method of the managed bean. The exception runs before even enter the managed bean. It doesnt get in any of the managed bean method. Do you have any hint i can folow to find the origin of that error ?  &quot;just posting this is way to little effort from your side&quot; sorry about that. I&#180;m kind of new in posting questions here."},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1492110384,"post_id":43380812,"comment_id":73860517,"body_markdown":"You can also put breakpoints here: `javax.faces.component.UIData.setValueExpression(UIData.java:804) at...`  or just look at that source. That is what @VsevolodGolovanov most likely did.","body":"You can also put breakpoints here: <code>javax.faces.component.UIData.setValueExpression(UIData.java:&zwnj;&#8203;804) at...</code>  or just look at that source. That is what @VsevolodGolovanov most likely did."}],"answers":[{"tags":[],"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492100562,"creation_date":1492100562,"answer_id":43397300,"question_id":43380812,"body_markdown":"javax.faces.component.UIData:\r\n\r\n    public void setValueExpression(String name, ValueExpression binding) {\r\n\r\n        if (&quot;value&quot;.equals(name)) {\r\n            this.model = null;\r\n        } else if (&quot;var&quot;.equals(name) || &quot;rowIndex&quot;.equals(name)) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        super.setValueExpression(name, binding);\r\n\r\n    }\r\n\r\nvar can&#39;t be a ValueExpression. I suggest just hardcoding some static var value right in the component. Component&#39;s user will just have to refer to this hardcoded value when defining columns. This would be a problem if you would want to nest your component though.","title":"java.lang.IllegalArgumentException jsf composite component with primefaces dataTable","body":"<p>javax.faces.component.UIData:</p>\n\n<pre><code>public void setValueExpression(String name, ValueExpression binding) {\n\n    if (\"value\".equals(name)) {\n        this.model = null;\n    } else if (\"var\".equals(name) || \"rowIndex\".equals(name)) {\n        throw new IllegalArgumentException();\n    }\n    super.setValueExpression(name, binding);\n\n}\n</code></pre>\n\n<p>var can't be a ValueExpression. I suggest just hardcoding some static var value right in the component. Component's user will just have to refer to this hardcoded value when defining columns. This would be a problem if you would want to nest your component though.</p>\n"}],"owner":{"account_id":5120259,"reputation":96,"user_id":4104081,"display_name":"Wagner Faria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1652464249,"creation_date":1492037057,"question_id":43380812,"body_markdown":"java.lang.IllegalArgumentException jsf composite component with primefaces dataTable\r\n\r\n\r\ntabela-padrao.xhtml\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:cc=&quot;http://xmlns.jcp.org/jsf/composite&quot;\r\n      xmlns:c=&quot;http://java.sun.com/jsp/jstl/core&quot;\r\n      xmlns:p=&quot;http://primefaces.org/ui&quot;\r\n      xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\r\n      xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;&gt;\r\n\r\n    &lt;!-- INTERFACE --&gt;\r\n    &lt;cc:interface&gt;\r\n        &lt;cc:attribute name=&quot;uniqueId&quot; required=&quot;true&quot; /&gt;\r\n        &lt;cc:attribute name=&quot;value&quot; required=&quot;true&quot; /&gt;\r\n        &lt;cc:attribute name=&quot;var&quot; required=&quot;true&quot; /&gt;\r\n        &lt;cc:attribute name=&quot;selection&quot; required=&quot;true&quot; /&gt;\r\n        &lt;cc:attribute name=&quot;exportedFileName&quot; required=&quot;true&quot; /&gt;\r\n        &lt;cc:attribute name=&quot;renderedTable&quot; default=&quot;true&quot;/&gt;\r\n        &lt;cc:attribute name=&quot;primaryKey&quot; required=&quot;true&quot;/&gt;\r\n        &lt;cc:clientBehavior name=&quot;customRowSelectEvent&quot; targets=&quot;#{cc.attrs.uniqueId}&quot; event=&quot;rowSelect&quot; /&gt;\r\n        &lt;cc:clientBehavior name=&quot;customRowUnselectEvent&quot; targets=&quot;#{cc.attrs.uniqueId}&quot; event=&quot;rowUnselect&quot; /&gt;\r\n    &lt;/cc:interface&gt;\r\n\r\n    &lt;!-- IMPLEMENTATION --&gt;\r\n    &lt;cc:implementation&gt;\r\n        &lt;p:dataTable value=&quot;#{cc.attrs.value}&quot; \r\n                     id=&quot;#{cc.attrs.uniqueId}&quot;\r\n                     scrollable=&quot;true&quot;\r\n                     scrollWidth=&quot;100%&quot;\r\n                     var=&quot;#{cc.attrs.var}&quot;\r\n                     rendered=&quot;#{cc.attrs.renderedTable}&quot;\r\n                     selection=&quot;#{cc.attrs.selection}&quot;\r\n                     rowKey=&quot;#{cc.attrs.primaryKey}&quot;                                             \r\n                     selectionMode=&quot;single&quot;\r\n                     paginator=&quot;true&quot;\r\n                     rowsPerPageTemplate=&quot;15,30,45&quot;\r\n                     paginatorTemplate=&quot;{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}&quot;\r\n                     emptyMessage=&quot;#{bundle.tabela_nenhum_registro_encontrado}&quot;&gt;\r\n            &lt;cc:insertChildren/&gt;\r\n            &lt;f:facet name=&quot;{Exporters}&quot;&gt;\r\n                &lt;h:commandLink style=&quot;padding: 5px 5px 5px 5px ;&quot; title=&quot;Converter para Excel&quot; &gt;                                            \r\n                    &lt;h:outputText  styleClass=&quot;fa fa-file-excel-o Fs20&quot;/&gt;\r\n                    &lt;p:dataExporter type=&quot;xls&quot; target=&quot;#{cc.attrs.uniqueId}&quot; fileName=&quot;#{cc.attrs.exportedFileName}&quot; /&gt;\r\n                &lt;/h:commandLink&gt;\r\n                &lt;h:commandLink style=&quot;padding: 5px 5px 5px 5px ;&quot; title=&quot;Converter para PDF&quot; &gt;\r\n                    &lt;h:outputText  styleClass=&quot;fa fa-file-pdf-o Fs20&quot;/&gt;\r\n                    &lt;p:dataExporter type=&quot;pdf&quot; target=&quot;#{cc.attrs.uniqueId}&quot; fileName=&quot;#{cc.attrs.exportedFileName}&quot;/&gt;\r\n                &lt;/h:commandLink&gt;\r\n            &lt;/f:facet&gt;\r\n        &lt;/p:dataTable&gt; \r\n    &lt;/cc:implementation&gt;\r\n&lt;/html&gt;\r\n\r\nUsing the component\r\n\r\n    &lt;h:form id=&quot;tabela-municipio&quot;&gt;\r\n\t&lt;ezcomp:tabela-padrao value=&quot;#{municipioMB.listaMunicipios}&quot;\r\n\t\t\t\t\t\t  uniqueId=&quot;id-tabela-municipio&quot;\r\n\t\t\t\t\t\t  var=&quot;mun&quot; \r\n\t\t\t\t\t\t  primaryKey=&quot;#{mun.id}&quot;\r\n\t\t\t\t\t\t  selection=&quot;#{municipioMB.municipio}&quot;\r\n\t\t\t\t\t\t  exportedFileName=&quot;municipios&quot;&gt;\r\n\t\t&lt;p:ajax event=&quot;customRowSelectEvent&quot; listener=&quot;#{municipioMB.onRowSelect}&quot; update=&quot;@(form[id*=&#39;frm-municipio&#39;]),@(form[id*=&#39;tabela-municipio&#39;])&quot; /&gt;\r\n\t\t&lt;p:ajax event=&quot;customRowUnselectEvent&quot; listener=&quot;#{municipioMB.onRowUnselect}&quot; update=&quot;@(form[id*=&#39;frm-municipio&#39;]),@(form[id*=&#39;tabela-municipio&#39;])&quot; /&gt;\r\n\t\t&lt;p:column headerText=&quot;Pais&quot; width=&quot;300&quot; filterBy=&quot;#{mun.estado.pais.nome}&quot; filterMatchMode=&quot;contains&quot;&gt;\r\n\t\t\t&lt;h:outputText value=&quot;#{mun.estado.pais.nome}&quot;/&gt;\r\n\t\t&lt;/p:column&gt;\r\n\t\t&lt;p:column headerText=&quot;Estado&quot; width=&quot;300&quot; filterBy=&quot;#{mun.estado.sigla} - #{mun.estado.nome}&quot; filterMatchMode=&quot;contains&quot;&gt;\r\n\t\t\t&lt;h:outputText value=&quot;#{mun.estado.sigla} - #{mun.estado.nome}&quot;/&gt;\r\n\t\t&lt;/p:column&gt;\r\n\t\t&lt;p:column headerText=&quot;Munic&#237;pio&quot; filterBy=&quot;#{mun.nome}&quot; filterMatchMode=&quot;contains&quot;&gt;\r\n\t\t\t&lt;h:outputText value=&quot;#{mun.nome}&quot;/&gt;\r\n\t\t&lt;/p:column&gt;\r\n\t&lt;/ezcomp:tabela-padrao&gt;\r\n    &lt;/h:form&gt;\r\n\r\nI got this exception \r\n\r\n&gt; Advert&#234;ncia:   StandardWrapperValve[Faces Servlet]: Servlet.service() for servlet Faces Servlet threw exception\r\njava.lang.IllegalArgumentException\r\n\tat javax.faces.component.UIData.setValueExpression(UIData.java:804)\r\n\tat com.sun.faces.facelets.tag.jsf.ComponentRule$ValueExpressionMetadata.applyMetadata(ComponentRule.java:107)\r\n\tat com.sun.faces.facelets.tag.MetadataImpl.applyMetadata(MetadataImpl.java:81)\r\n\tat javax.faces.view.facelets.MetaTagHandler.setAttributes(MetaTagHandler.java:129)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.setAttributes(DelegatingMetaTagHandler.java:102)\r\n\tat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.doNewComponentActions(ComponentTagHandlerDelegateImpl.java:491)\r\n\tat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:178)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\r\n\tat com.sun.faces.facelets.tag.composite.ImplementationHandler.apply(ImplementationHandler.java:81)\r\n\tat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\r\n\tat com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:93)\r\n\tat com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:87)\r\n\tat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:312)\r\n\tat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:371)\r\n\tat com.sun.faces.facelets.impl.DefaultFaceletContext.includeFacelet(DefaultFaceletContext.java:326)\r\n\tat com.sun.faces.facelets.tag.jsf.CompositeComponentTagHandler.applyCompositeComponent(CompositeComponentTagHandler.java:387)\r\n\tat com.sun.faces.facelets.tag.jsf.CompositeComponentTagHandler.applyNextHandler(CompositeComponentTagHandler.java:188)\r\n\tat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:202)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:137)\r\n\tat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:202)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\r\n\tat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\r\n\tat com.sun.faces.facelets.tag.ui.DefineHandler.applyDefinition(DefineHandler.java:106)\r\n\tat com.sun.faces.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:206)\r\n\tat com.sun.faces.facelets.impl.DefaultFaceletContext$TemplateManager.apply(DefaultFaceletContext.java:395)\r\n\tat com.sun.faces.facelets.impl.DefaultFaceletContext.includeDefinition(DefaultFaceletContext.java:366)\r\n\tat com.sun.faces.facelets.tag.ui.InsertHandler.apply(InsertHandler.java:111)\r\n\tat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:137)\r\n\tat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:202)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\r\n\tat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\r\n\tat com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:93)\r\n\tat com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:87)\r\n\tat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:312)\r\n\tat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:371)\r\n\tat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:350)\r\n\tat com.sun.faces.facelets.impl.DefaultFaceletContext.includeFacelet(DefaultFaceletContext.java:199)\r\n\tat com.sun.faces.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:174)\r\n\tat com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:93)\r\n\tat com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:87)\r\n\tat com.sun.faces.facelets.impl.DefaultFacelet.apply(DefaultFacelet.java:161)\r\n\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.buildView(FaceletViewHandlingStrategy.java:1006)\r\n\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:99)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:659)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:100)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.glassfish.tyrus.servlet.TyrusServletFilter.doFilter(TyrusServletFilter.java:305)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:416)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:283)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:283)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:132)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:111)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:536)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:591)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:571)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"java.lang.IllegalArgumentException jsf composite component with primefaces dataTable","body":"<p>java.lang.IllegalArgumentException jsf composite component with primefaces dataTable</p>\n<p>tabela-padrao.xhtml</p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n  xmlns:cc=&quot;http://xmlns.jcp.org/jsf/composite&quot;\n  xmlns:c=&quot;http://java.sun.com/jsp/jstl/core&quot;\n  xmlns:p=&quot;http://primefaces.org/ui&quot;\n  xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\n  xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;&gt;\n\n&lt;!-- INTERFACE --&gt;\n&lt;cc:interface&gt;\n    &lt;cc:attribute name=&quot;uniqueId&quot; required=&quot;true&quot; /&gt;\n    &lt;cc:attribute name=&quot;value&quot; required=&quot;true&quot; /&gt;\n    &lt;cc:attribute name=&quot;var&quot; required=&quot;true&quot; /&gt;\n    &lt;cc:attribute name=&quot;selection&quot; required=&quot;true&quot; /&gt;\n    &lt;cc:attribute name=&quot;exportedFileName&quot; required=&quot;true&quot; /&gt;\n    &lt;cc:attribute name=&quot;renderedTable&quot; default=&quot;true&quot;/&gt;\n    &lt;cc:attribute name=&quot;primaryKey&quot; required=&quot;true&quot;/&gt;\n    &lt;cc:clientBehavior name=&quot;customRowSelectEvent&quot; targets=&quot;#{cc.attrs.uniqueId}&quot; event=&quot;rowSelect&quot; /&gt;\n    &lt;cc:clientBehavior name=&quot;customRowUnselectEvent&quot; targets=&quot;#{cc.attrs.uniqueId}&quot; event=&quot;rowUnselect&quot; /&gt;\n&lt;/cc:interface&gt;\n\n&lt;!-- IMPLEMENTATION --&gt;\n&lt;cc:implementation&gt;\n    &lt;p:dataTable value=&quot;#{cc.attrs.value}&quot; \n                 id=&quot;#{cc.attrs.uniqueId}&quot;\n                 scrollable=&quot;true&quot;\n                 scrollWidth=&quot;100%&quot;\n                 var=&quot;#{cc.attrs.var}&quot;\n                 rendered=&quot;#{cc.attrs.renderedTable}&quot;\n                 selection=&quot;#{cc.attrs.selection}&quot;\n                 rowKey=&quot;#{cc.attrs.primaryKey}&quot;                                             \n                 selectionMode=&quot;single&quot;\n                 paginator=&quot;true&quot;\n                 rowsPerPageTemplate=&quot;15,30,45&quot;\n                 paginatorTemplate=&quot;{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}&quot;\n                 emptyMessage=&quot;#{bundle.tabela_nenhum_registro_encontrado}&quot;&gt;\n        &lt;cc:insertChildren/&gt;\n        &lt;f:facet name=&quot;{Exporters}&quot;&gt;\n            &lt;h:commandLink style=&quot;padding: 5px 5px 5px 5px ;&quot; title=&quot;Converter para Excel&quot; &gt;                                            \n                &lt;h:outputText  styleClass=&quot;fa fa-file-excel-o Fs20&quot;/&gt;\n                &lt;p:dataExporter type=&quot;xls&quot; target=&quot;#{cc.attrs.uniqueId}&quot; fileName=&quot;#{cc.attrs.exportedFileName}&quot; /&gt;\n            &lt;/h:commandLink&gt;\n            &lt;h:commandLink style=&quot;padding: 5px 5px 5px 5px ;&quot; title=&quot;Converter para PDF&quot; &gt;\n                &lt;h:outputText  styleClass=&quot;fa fa-file-pdf-o Fs20&quot;/&gt;\n                &lt;p:dataExporter type=&quot;pdf&quot; target=&quot;#{cc.attrs.uniqueId}&quot; fileName=&quot;#{cc.attrs.exportedFileName}&quot;/&gt;\n            &lt;/h:commandLink&gt;\n        &lt;/f:facet&gt;\n    &lt;/p:dataTable&gt; \n&lt;/cc:implementation&gt;\n</code></pre>\n\n<p>Using the component</p>\n<pre><code>&lt;h:form id=&quot;tabela-municipio&quot;&gt;\n&lt;ezcomp:tabela-padrao value=&quot;#{municipioMB.listaMunicipios}&quot;\n                      uniqueId=&quot;id-tabela-municipio&quot;\n                      var=&quot;mun&quot; \n                      primaryKey=&quot;#{mun.id}&quot;\n                      selection=&quot;#{municipioMB.municipio}&quot;\n                      exportedFileName=&quot;municipios&quot;&gt;\n    &lt;p:ajax event=&quot;customRowSelectEvent&quot; listener=&quot;#{municipioMB.onRowSelect}&quot; update=&quot;@(form[id*='frm-municipio']),@(form[id*='tabela-municipio'])&quot; /&gt;\n    &lt;p:ajax event=&quot;customRowUnselectEvent&quot; listener=&quot;#{municipioMB.onRowUnselect}&quot; update=&quot;@(form[id*='frm-municipio']),@(form[id*='tabela-municipio'])&quot; /&gt;\n    &lt;p:column headerText=&quot;Pais&quot; width=&quot;300&quot; filterBy=&quot;#{mun.estado.pais.nome}&quot; filterMatchMode=&quot;contains&quot;&gt;\n        &lt;h:outputText value=&quot;#{mun.estado.pais.nome}&quot;/&gt;\n    &lt;/p:column&gt;\n    &lt;p:column headerText=&quot;Estado&quot; width=&quot;300&quot; filterBy=&quot;#{mun.estado.sigla} - #{mun.estado.nome}&quot; filterMatchMode=&quot;contains&quot;&gt;\n        &lt;h:outputText value=&quot;#{mun.estado.sigla} - #{mun.estado.nome}&quot;/&gt;\n    &lt;/p:column&gt;\n    &lt;p:column headerText=&quot;Municpio&quot; filterBy=&quot;#{mun.nome}&quot; filterMatchMode=&quot;contains&quot;&gt;\n        &lt;h:outputText value=&quot;#{mun.nome}&quot;/&gt;\n    &lt;/p:column&gt;\n&lt;/ezcomp:tabela-padrao&gt;\n&lt;/h:form&gt;\n</code></pre>\n<p>I got this exception</p>\n<blockquote>\n<p>Advertncia:   StandardWrapperValve[Faces Servlet]: Servlet.service() for servlet Faces Servlet threw exception\njava.lang.IllegalArgumentException\nat javax.faces.component.UIData.setValueExpression(UIData.java:804)\nat com.sun.faces.facelets.tag.jsf.ComponentRule$ValueExpressionMetadata.applyMetadata(ComponentRule.java:107)\nat com.sun.faces.facelets.tag.MetadataImpl.applyMetadata(MetadataImpl.java:81)\nat javax.faces.view.facelets.MetaTagHandler.setAttributes(MetaTagHandler.java:129)\nat javax.faces.view.facelets.DelegatingMetaTagHandler.setAttributes(DelegatingMetaTagHandler.java:102)\nat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.doNewComponentActions(ComponentTagHandlerDelegateImpl.java:491)\nat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:178)\nat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\nat com.sun.faces.facelets.tag.composite.ImplementationHandler.apply(ImplementationHandler.java:81)\nat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\nat com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:93)\nat com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:87)\nat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:312)\nat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:371)\nat com.sun.faces.facelets.impl.DefaultFaceletContext.includeFacelet(DefaultFaceletContext.java:326)\nat com.sun.faces.facelets.tag.jsf.CompositeComponentTagHandler.applyCompositeComponent(CompositeComponentTagHandler.java:387)\nat com.sun.faces.facelets.tag.jsf.CompositeComponentTagHandler.applyNextHandler(CompositeComponentTagHandler.java:188)\nat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:202)\nat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\nat javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:137)\nat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:202)\nat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\nat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\nat com.sun.faces.facelets.tag.ui.DefineHandler.applyDefinition(DefineHandler.java:106)\nat com.sun.faces.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:206)\nat com.sun.faces.facelets.impl.DefaultFaceletContext$TemplateManager.apply(DefaultFaceletContext.java:395)\nat com.sun.faces.facelets.impl.DefaultFaceletContext.includeDefinition(DefaultFaceletContext.java:366)\nat com.sun.faces.facelets.tag.ui.InsertHandler.apply(InsertHandler.java:111)\nat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\nat javax.faces.view.facelets.DelegatingMetaTagHandler.applyNextHandler(DelegatingMetaTagHandler.java:137)\nat com.sun.faces.facelets.tag.jsf.ComponentTagHandlerDelegateImpl.apply(ComponentTagHandlerDelegateImpl.java:202)\nat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:120)\nat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:95)\nat com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:93)\nat com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:87)\nat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:312)\nat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:371)\nat com.sun.faces.facelets.impl.DefaultFacelet.include(DefaultFacelet.java:350)\nat com.sun.faces.facelets.impl.DefaultFaceletContext.includeFacelet(DefaultFaceletContext.java:199)\nat com.sun.faces.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:174)\nat com.sun.faces.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:93)\nat com.sun.faces.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:87)\nat com.sun.faces.facelets.impl.DefaultFacelet.apply(DefaultFacelet.java:161)\nat com.sun.faces.application.view.FaceletViewHandlingStrategy.buildView(FaceletViewHandlingStrategy.java:1006)\nat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:99)\nat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\nat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\nat javax.faces.webapp.FacesServlet.service(FacesServlet.java:659)\nat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:100)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.glassfish.tyrus.servlet.TyrusServletFilter.doFilter(TyrusServletFilter.java:305)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\nat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\nat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\nat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:416)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:283)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:283)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:132)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:111)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:536)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:591)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:571)\nat java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"score":0,"creation_date":1563266655,"post_id":57051157,"comment_id":100632916,"body_markdown":"@Yunnosch thanks for your considerations, I wasn&#39;t focusing on the phrasing actually, but anyhow just waiting for anyone to answer.","body":"@Yunnosch thanks for your considerations, I wasn&#39;t focusing on the phrasing actually, but anyhow just waiting for anyone to answer."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1563266821,"post_id":57051157,"comment_id":100633021,"body_markdown":"You might have to wait much longer, not to say forever, with a less readable, less easily answerable question... Making a question which is clear, easy to read and easy to answer (with appropriate knowhow of course) is the key to getting fast and good help. Try the [edit] link while you are waiting anyway.","body":"You might have to wait much longer, not to say forever, with a less readable, less easily answerable question... Making a question which is clear, easy to read and easy to answer (with appropriate knowhow of course) is the key to getting fast and good help. Try the <a href=\"https://stackoverflow.com/posts/57051157/edit\">edit</a> link while you are waiting anyway."},{"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"score":0,"creation_date":1563267189,"post_id":57051157,"comment_id":100633262,"body_markdown":"I have brought some edits, feel free if you wanted to edit it. @Yunnosch","body":"I have brought some edits, feel free if you wanted to edit it. @Yunnosch"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1563267278,"post_id":57051157,"comment_id":100633314,"body_markdown":"Much better now. Now I have to admit that I cannot help you with this.","body":"Much better now. Now I have to admit that I cannot help you with this."},{"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"score":0,"creation_date":1563267312,"post_id":57051157,"comment_id":100633336,"body_markdown":"that is removed too","body":"that is removed too"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1563267353,"post_id":57051157,"comment_id":100633363,"body_markdown":"I noticed. :-) Good luck.","body":"I noticed. :-) Good luck."}],"answers":[{"tags":[],"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652464186,"creation_date":1563277185,"answer_id":57056408,"question_id":57051157,"body_markdown":"Since nobody tried to solve the question or maybe couldn&#39;t even understand the question, fortunately after many hours of searching the web I found this awesome [website](https://www.dev2qa.com/android-keep-broadcast-receiver-running-after-application-exit/) that solves exactly my problem and wanted to post it here too.\r\n\r\nProblems which are solved now : \r\n\r\n 1. My Application always runs in the background even if it is killed/destroyed or removed from the System Tray.\r\n 2. The service always listens to the POWER_BUTTON when clicked.\r\n 3. The SDK supports this since it uses only BroadCast Receivers and Services.\r\n\r\nI am just writing down the steps in case the link may not work or be removed in future:\r\n\r\n **1.First we will create a broadcast receiver** which can listen and process android screen on / off broadcast event as below.\r\n\r\n\r\n   **ScreenOnOffReceiver.java**\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n\r\n    public class ScreenOnOffReceiver extends BroadcastReceiver {\r\n\r\n    private final static String SCREEN_TOGGLE_TAG = &quot;SCREEN_TOGGLE_TAG&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n        if(Intent.ACTION_SCREEN_OFF.equals(action))\r\n        {\r\n            Log.d(SCREEN_TOGGLE_TAG, &quot;Screen is turn off.&quot;);\r\n        }else if(Intent.ACTION_SCREEN_ON.equals(action))\r\n        {\r\n            Log.d(SCREEN_TOGGLE_TAG, &quot;Screen is turn on.&quot;);\r\n        }}\r\n    }\r\n\r\n\r\n**2. Register And Unregister ScreenOnOffReceiver In Activity.**\r\n\r\nNow we will create an activity and register ScreenOnOffReceiver in its onCreate() method, and unregister the receiver in its onDestroy() method as below.\r\n\r\n**ScreenOnOffActivity.java**\r\n\r\n    import android.content.IntentFilter;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    \r\n    import com.dev2qa.example.R;\r\n    import com.dev2qa.example.broadcast.receiver.ScreenOnOffReceiver;\r\n    \r\n    public class ScreenOnOffActivity extends AppCompatActivity {\r\n    \r\n        private ScreenOnOffReceiver screenOnOffReceiver = null;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_screen_on_off);\r\n    \r\n            setTitle(&quot;dev2qa.com - Keep BroadcastReceiver Running After App Exit.&quot;);\r\n    \r\n            // Create an IntentFilter instance.\r\n            IntentFilter intentFilter = new IntentFilter();\r\n    \r\n            // Add network connectivity change action.\r\n            intentFilter.addAction(&quot;android.intent.action.SCREEN_ON&quot;);\r\n            intentFilter.addAction(&quot;android.intent.action.SCREEN_OFF&quot;);\r\n    \r\n            // Set broadcast receiver priority.\r\n            intentFilter.setPriority(100);\r\n    \r\n            // Create a network change broadcast receiver.\r\n            screenOnOffReceiver = new ScreenOnOffReceiver();\r\n    \r\n            // Register the broadcast receiver with the intent filter object.\r\n            registerReceiver(screenOnOffReceiver, intentFilter);\r\n    \r\n            Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;onCreate: screenOnOffReceiver is registered.&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n    \r\n            // Unregister screenOnOffReceiver when destroy.\r\n            if(screenOnOffReceiver!=null)\r\n            {\r\n                unregisterReceiver(screenOnOffReceiver);\r\n                Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;onDestroy: screenOnOffReceiver is unregistered.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**Run Above Activity In Below Steps.**\r\n\r\n 1. Start the activity, there is a log message which said the broadcast receiver has been registered in the activitys onCreate() method.\r\n 2. Press the power button to turn off screen.\r\n 3. Press the power button again to turn on screen.\r\n 4. You can see log data in android monitor console for above steps.\r\n 5. Type the back menu to exit the activity. You can see the broadcast receiver is unregistered in the activitys onDestroy() method also.\r\n 6. Press the power button to execute step 2 , 3 again, but there is not any log data printed in the android monitor console.\r\n\r\n\r\n[![Runnindg Activity][1]][1]\r\n\r\n\r\n**3. Register And Unregister Broadcast Receiver** In Android Background Service\r\n\r\n\r\n\r\nWhen you register the broadcast receiver in activity, it will be stopped after the activity exit.\r\n\r\nTo resolve this problem, we will create an android service object, and register and unregister the broadcast receiver in the service object.\r\n\r\nBecause the android service object will still run at the background after the activity exit, so the broadcast receiver will still run also after the android app exit.\r\n\r\n\r\n**3.1 Create Android Service Class.**\r\n\r\n**3.1.1 Create A Java Class That Extends android.app.Service.**\r\n\r\n\r\n**ScreenOnOffBackgroundService.java**\r\n\r\n\r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.os.IBinder;\r\n    import android.support.annotation.Nullable;\r\n    import android.util.Log;\r\n    \r\n    import ScreenOnOffReceiver;\r\n    \r\n    public class ScreenOnOffBackgroundService extends Service {\r\n    \r\n        private ScreenOnOffReceiver screenOnOffReceiver = null;\r\n    \r\n        @Nullable\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            return super.onStartCommand(intent, flags, startId);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            // Create an IntentFilter instance.\r\n            IntentFilter intentFilter = new IntentFilter();\r\n    \r\n            // Add network connectivity change action.\r\n            intentFilter.addAction(&quot;android.intent.action.SCREEN_ON&quot;);\r\n            intentFilter.addAction(&quot;android.intent.action.SCREEN_OFF&quot;);\r\n    \r\n            // Set broadcast receiver priority.\r\n            intentFilter.setPriority(100);\r\n    \r\n            // Create a network change broadcast receiver.\r\n            screenOnOffReceiver = new ScreenOnOffReceiver();\r\n    \r\n            // Register the broadcast receiver with the intent filter object.\r\n            registerReceiver(screenOnOffReceiver, intentFilter);\r\n    \r\n            Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Service onCreate: screenOnOffReceiver is registered.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n    \r\n            // Unregister screenOnOffReceiver when destroy.\r\n            if(screenOnOffReceiver!=null)\r\n            {\r\n                unregisterReceiver(screenOnOffReceiver);\r\n                Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Service onDestroy: screenOnOffReceiver is unregistered.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n**3.1.2 Add Service Xml Tag In AndroidManifest.xml File.**\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;put your own package&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            \r\n            &lt;activity android:name=&quot;.broadcast.activity.ScreenOnOffActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;service android:enabled=&quot;true&quot; android:name=&quot;.broadcast.service.ScreenOnOffBackgroundService&quot; /&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n**3.1.3 Change Activity Java Code To Below.**\r\n\r\nPlease notice the java code that start the service object.\r\n\r\n    Intent backgroundService = new Intent(getApplicationContext(), ScreenOnOffBackgroundService.class);\r\n    startService(backgroundService);\r\n\r\n\r\n\r\n**ScreenOnOffActivity.java**\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    \r\n    import com.dev2qa.example.R;\r\n    import com.dev2qa.example.broadcast.receiver.ScreenOnOffReceiver;\r\n    import com.dev2qa.example.broadcast.service.ScreenOnOffBackgroundService;\r\n    \r\n    public class ScreenOnOffActivity extends AppCompatActivity {\r\n    \r\n        private ScreenOnOffReceiver screenOnOffReceiver = null;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_screen_on_off);\r\n    \r\n            setTitle(&quot;dev2qa.com - Keep BroadcastReceiver Running After App Exit.&quot;);\r\n    \r\n            Intent backgroundService = new Intent(getApplicationContext(), ScreenOnOffBackgroundService.class);\r\n            startService(backgroundService);\r\n    \r\n            Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Activity onCreate&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Activity onDestroy&quot;);\r\n        }\r\n    }\r\n\r\n\r\nRun the example again, you can see below picture. From the logcat output, we can see the broadcast receiver still running after the android app exit.\r\n\r\n\r\n[![Android Keep Broadcast Receiver GIF][2]][2]  \n&lt;sub&gt;(source: [dev2qa.com](https://www.dev2qa.com/wp-content/uploads/2018/01/android-run-broadcast-receiver-in-background-service.gif))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: https://www.dev2qa.com/wp-content/uploads/2018/01/android-broadcast-receiver-stopped-after-activity-exit.gif\r\n  [2]: https://i.stack.imgur.com/wo5J4.gif","title":"How to override double or even 3 times clicking Power button or even Volume UP/DOWN keys in Android Using a service in the background?","body":"<p>Since nobody tried to solve the question or maybe couldn't even understand the question, fortunately after many hours of searching the web I found this awesome <a href=\"https://www.dev2qa.com/android-keep-broadcast-receiver-running-after-application-exit/\" rel=\"nofollow noreferrer\">website</a> that solves exactly my problem and wanted to post it here too.</p>\n<p>Problems which are solved now :</p>\n<ol>\n<li>My Application always runs in the background even if it is killed/destroyed or removed from the System Tray.</li>\n<li>The service always listens to the POWER_BUTTON when clicked.</li>\n<li>The SDK supports this since it uses only BroadCast Receivers and Services.</li>\n</ol>\n<p>I am just writing down the steps in case the link may not work or be removed in future:</p>\n<p><strong>1.First we will create a broadcast receiver</strong> which can listen and process android screen on / off broadcast event as below.</p>\n<p><strong>ScreenOnOffReceiver.java</strong></p>\n<pre><code>import android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\n\npublic class ScreenOnOffReceiver extends BroadcastReceiver {\n\nprivate final static String SCREEN_TOGGLE_TAG = &quot;SCREEN_TOGGLE_TAG&quot;;\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    String action = intent.getAction();\n    if(Intent.ACTION_SCREEN_OFF.equals(action))\n    {\n        Log.d(SCREEN_TOGGLE_TAG, &quot;Screen is turn off.&quot;);\n    }else if(Intent.ACTION_SCREEN_ON.equals(action))\n    {\n        Log.d(SCREEN_TOGGLE_TAG, &quot;Screen is turn on.&quot;);\n    }}\n}\n</code></pre>\n<p><strong>2. Register And Unregister ScreenOnOffReceiver In Activity.</strong></p>\n<p>Now we will create an activity and register ScreenOnOffReceiver in its onCreate() method, and unregister the receiver in its onDestroy() method as below.</p>\n<p><strong>ScreenOnOffActivity.java</strong></p>\n<pre><code>import android.content.IntentFilter;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\n\nimport com.dev2qa.example.R;\nimport com.dev2qa.example.broadcast.receiver.ScreenOnOffReceiver;\n\npublic class ScreenOnOffActivity extends AppCompatActivity {\n\n    private ScreenOnOffReceiver screenOnOffReceiver = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_screen_on_off);\n\n        setTitle(&quot;dev2qa.com - Keep BroadcastReceiver Running After App Exit.&quot;);\n\n        // Create an IntentFilter instance.\n        IntentFilter intentFilter = new IntentFilter();\n\n        // Add network connectivity change action.\n        intentFilter.addAction(&quot;android.intent.action.SCREEN_ON&quot;);\n        intentFilter.addAction(&quot;android.intent.action.SCREEN_OFF&quot;);\n\n        // Set broadcast receiver priority.\n        intentFilter.setPriority(100);\n\n        // Create a network change broadcast receiver.\n        screenOnOffReceiver = new ScreenOnOffReceiver();\n\n        // Register the broadcast receiver with the intent filter object.\n        registerReceiver(screenOnOffReceiver, intentFilter);\n\n        Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;onCreate: screenOnOffReceiver is registered.&quot;);\n\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n\n        // Unregister screenOnOffReceiver when destroy.\n        if(screenOnOffReceiver!=null)\n        {\n            unregisterReceiver(screenOnOffReceiver);\n            Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;onDestroy: screenOnOffReceiver is unregistered.&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Run Above Activity In Below Steps.</strong></p>\n<ol>\n<li>Start the activity, there is a log message which said the broadcast receiver has been registered in the activitys onCreate() method.</li>\n<li>Press the power button to turn off screen.</li>\n<li>Press the power button again to turn on screen.</li>\n<li>You can see log data in android monitor console for above steps.</li>\n<li>Type the back menu to exit the activity. You can see the broadcast receiver is unregistered in the activitys onDestroy() method also.</li>\n<li>Press the power button to execute step 2 , 3 again, but there is not any log data printed in the android monitor console.</li>\n</ol>\n<p><a href=\"https://www.dev2qa.com/wp-content/uploads/2018/01/android-broadcast-receiver-stopped-after-activity-exit.gif\" rel=\"nofollow noreferrer\"><img src=\"https://www.dev2qa.com/wp-content/uploads/2018/01/android-broadcast-receiver-stopped-after-activity-exit.gif\" alt=\"Runnindg Activity\" /></a></p>\n<p><strong>3. Register And Unregister Broadcast Receiver</strong> In Android Background Service</p>\n<p>When you register the broadcast receiver in activity, it will be stopped after the activity exit.</p>\n<p>To resolve this problem, we will create an android service object, and register and unregister the broadcast receiver in the service object.</p>\n<p>Because the android service object will still run at the background after the activity exit, so the broadcast receiver will still run also after the android app exit.</p>\n<p><strong>3.1 Create Android Service Class.</strong></p>\n<p><strong>3.1.1 Create A Java Class That Extends android.app.Service.</strong></p>\n<p><strong>ScreenOnOffBackgroundService.java</strong></p>\n<pre><code>import android.app.Service;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.IBinder;\nimport android.support.annotation.Nullable;\nimport android.util.Log;\n\nimport ScreenOnOffReceiver;\n\npublic class ScreenOnOffBackgroundService extends Service {\n\n    private ScreenOnOffReceiver screenOnOffReceiver = null;\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        // Create an IntentFilter instance.\n        IntentFilter intentFilter = new IntentFilter();\n\n        // Add network connectivity change action.\n        intentFilter.addAction(&quot;android.intent.action.SCREEN_ON&quot;);\n        intentFilter.addAction(&quot;android.intent.action.SCREEN_OFF&quot;);\n\n        // Set broadcast receiver priority.\n        intentFilter.setPriority(100);\n\n        // Create a network change broadcast receiver.\n        screenOnOffReceiver = new ScreenOnOffReceiver();\n\n        // Register the broadcast receiver with the intent filter object.\n        registerReceiver(screenOnOffReceiver, intentFilter);\n\n        Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Service onCreate: screenOnOffReceiver is registered.&quot;);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n\n        // Unregister screenOnOffReceiver when destroy.\n        if(screenOnOffReceiver!=null)\n        {\n            unregisterReceiver(screenOnOffReceiver);\n            Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Service onDestroy: screenOnOffReceiver is unregistered.&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>3.1.2 Add Service Xml Tag In AndroidManifest.xml File.</strong></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;put your own package&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        \n        &lt;activity android:name=&quot;.broadcast.activity.ScreenOnOffActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;service android:enabled=&quot;true&quot; android:name=&quot;.broadcast.service.ScreenOnOffBackgroundService&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>3.1.3 Change Activity Java Code To Below.</strong></p>\n<p>Please notice the java code that start the service object.</p>\n<pre><code>Intent backgroundService = new Intent(getApplicationContext(), ScreenOnOffBackgroundService.class);\nstartService(backgroundService);\n</code></pre>\n<p><strong>ScreenOnOffActivity.java</strong></p>\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\n\nimport com.dev2qa.example.R;\nimport com.dev2qa.example.broadcast.receiver.ScreenOnOffReceiver;\nimport com.dev2qa.example.broadcast.service.ScreenOnOffBackgroundService;\n\npublic class ScreenOnOffActivity extends AppCompatActivity {\n\n    private ScreenOnOffReceiver screenOnOffReceiver = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_screen_on_off);\n\n        setTitle(&quot;dev2qa.com - Keep BroadcastReceiver Running After App Exit.&quot;);\n\n        Intent backgroundService = new Intent(getApplicationContext(), ScreenOnOffBackgroundService.class);\n        startService(backgroundService);\n\n        Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Activity onCreate&quot;);\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        Log.d(ScreenOnOffReceiver.SCREEN_TOGGLE_TAG, &quot;Activity onDestroy&quot;);\n    }\n}\n</code></pre>\n<p>Run the example again, you can see below picture. From the logcat output, we can see the broadcast receiver still running after the android app exit.</p>\n<p><a href=\"https://i.stack.imgur.com/wo5J4.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wo5J4.gif\" alt=\"Android Keep Broadcast Receiver GIF\" /></a><br />\n<sub>(source: <a href=\"https://www.dev2qa.com/wp-content/uploads/2018/01/android-run-broadcast-receiver-in-background-service.gif\" rel=\"nofollow noreferrer\">dev2qa.com</a>)</sub></p>\n"}],"owner":{"account_id":7669432,"reputation":1445,"user_id":5812179,"accept_rate":50,"display_name":"Niamatullah Bakhshi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57056408,"answer_count":1,"score":1,"last_activity_date":1652464186,"creation_date":1563258192,"question_id":57051157,"body_markdown":"I am developing an application where I could listen to **POWER_BUTTON** clicked for 3 times consecutively in 3-5 seconds.\r\n\r\nI have searched all the StackOverflow for answers but none of them has worked for me.\r\n\r\nThis answer from [Lars D](https://stackoverflow.com/questions/3703071/how-to-hook-into-the-power-button-in-android) which should work on the activity doesn&#39;t work too though it is accepted.\r\n\r\n    @Override\r\n    public boolean dispatchKeyEvent(KeyEvent event) {\r\n        if (event.getKeyCode() == KeyEvent.KEYCODE_POWER) {\r\n            Intent i = new Intent(this, ActivitySetupMenu.class);\r\n            startActivity(i);\r\n            return true;\r\n        }\r\n    \r\n        return super.dispatchKeyEvent(event);\r\n    }\r\n\r\nThere is an [app](https://play.google.com/store/apps/details?id=com.brink.powerbuttonflashlight&amp;hl=en) that is intending to do this, I installed it but still, it doesn&#39;t work maybe the API they used are depreciated or even has been removed.\r\n\r\n**The Reasons why these solutions do not work** :\r\n\r\n 1. when the App gets killed/destroyed and it no longer detects.\r\n 2. The screen is locked and again it no longer detects.\r\n 3. Maybe the SDK does not support it.\r\n\r\nMaybe we can find a way to do it on the activity but I want to listen to the actions using a **service/broadcast Receiver** while the app is killed/in the background/when screen locked/ when screen off.\r\n\r\nWell, this question is definitely repeated many times on StackOverflow but no complete or working answer has been given.  \r\n\r\n\r\n","title":"How to override double or even 3 times clicking Power button or even Volume UP/DOWN keys in Android Using a service in the background?","body":"<p>I am developing an application where I could listen to <strong>POWER_BUTTON</strong> clicked for 3 times consecutively in 3-5 seconds.</p>\n\n<p>I have searched all the StackOverflow for answers but none of them has worked for me.</p>\n\n<p>This answer from <a href=\"https://stackoverflow.com/questions/3703071/how-to-hook-into-the-power-button-in-android\">Lars D</a> which should work on the activity doesn't work too though it is accepted.</p>\n\n<pre><code>@Override\npublic boolean dispatchKeyEvent(KeyEvent event) {\n    if (event.getKeyCode() == KeyEvent.KEYCODE_POWER) {\n        Intent i = new Intent(this, ActivitySetupMenu.class);\n        startActivity(i);\n        return true;\n    }\n\n    return super.dispatchKeyEvent(event);\n}\n</code></pre>\n\n<p>There is an <a href=\"https://play.google.com/store/apps/details?id=com.brink.powerbuttonflashlight&amp;hl=en\" rel=\"nofollow noreferrer\">app</a> that is intending to do this, I installed it but still, it doesn't work maybe the API they used are depreciated or even has been removed.</p>\n\n<p><strong>The Reasons why these solutions do not work</strong> :</p>\n\n<ol>\n<li>when the App gets killed/destroyed and it no longer detects.</li>\n<li>The screen is locked and again it no longer detects.</li>\n<li>Maybe the SDK does not support it.</li>\n</ol>\n\n<p>Maybe we can find a way to do it on the activity but I want to listen to the actions using a <strong>service/broadcast Receiver</strong> while the app is killed/in the background/when screen locked/ when screen off.</p>\n\n<p>Well, this question is definitely repeated many times on StackOverflow but no complete or working answer has been given.  </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1652462854,"post_id":72233388,"comment_id":127620658,"body_markdown":"`ages[i]` is a `Children`, and you are trying to pass it as an argument that requires an int.","body":"<code>ages[i]</code> is a <code>Children</code>, and you are trying to pass it as an argument that requires an int."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1652462904,"post_id":72233388,"comment_id":127620682,"body_markdown":"By the way, `while (isFound = true)` is an infinite loop. It looks like you mean `while (!isFound)`, but the variable seems to be redundant anyway.","body":"By the way, <code>while (isFound = true)</code> is an infinite loop. It looks like you mean <code>while (!isFound)</code>, but the variable seems to be redundant anyway."}],"answers":[{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652464185,"creation_date":1652462918,"answer_id":72233422,"question_id":72233388,"body_markdown":"When you call this method, what are you passing to it?\r\n\r\n    lessThan(key, ages[i])\r\n\r\n`key` is an `int`, and `ages[i]` is a `Children` (which is unnecessarily misleading, we&#39;ll get to that below).  But what does the method expect?:\r\n\r\n    public static boolean lessThan(int x, int y)\r\n\r\nAn `int` and an `int`.  So just as the error states, a `Children` can not be converted to an `int`.  Presumably you meant to *get the age* from the `Children` object:\r\n\r\n    lessThan(key, ages[i].getAge())\r\n\r\n&lt;hr /&gt;\r\n\r\nAs an aside... **Names are important**.  You&#39;ve essentially confused yourself by giving your classes/variables/etc. misleading names.\r\n\r\nWhat is a `Children`?  Is it a single instance of a &quot;child&quot;?  Then why it is plural?\r\n\r\nWhat is `ages`?  Is it a collection of child objects?  Then why does it imply that it&#39;s just a collection of numeric values?  (Which is exactly the bug you&#39;re trying to fix right now.)\r\n\r\nRename your `Children` class to `Child`, because it represents a child.\r\n\r\nRename your `ages` variable to `children`, because it represents a collection of children.\r\n\r\nName things by what they semantically represent and your code will be *much* easier for you to read and understand.","title":"Type mismatch: cannot convert from Object Array to int","body":"<p>When you call this method, what are you passing to it?</p>\n<pre><code>lessThan(key, ages[i])\n</code></pre>\n<p><code>key</code> is an <code>int</code>, and <code>ages[i]</code> is a <code>Children</code> (which is unnecessarily misleading, we'll get to that below).  But what does the method expect?:</p>\n<pre><code>public static boolean lessThan(int x, int y)\n</code></pre>\n<p>An <code>int</code> and an <code>int</code>.  So just as the error states, a <code>Children</code> can not be converted to an <code>int</code>.  Presumably you meant to <em>get the age</em> from the <code>Children</code> object:</p>\n<pre><code>lessThan(key, ages[i].getAge())\n</code></pre>\n<hr />\n<p>As an aside... <strong>Names are important</strong>.  You've essentially confused yourself by giving your classes/variables/etc. misleading names.</p>\n<p>What is a <code>Children</code>?  Is it a single instance of a &quot;child&quot;?  Then why it is plural?</p>\n<p>What is <code>ages</code>?  Is it a collection of child objects?  Then why does it imply that it's just a collection of numeric values?  (Which is exactly the bug you're trying to fix right now.)</p>\n<p>Rename your <code>Children</code> class to <code>Child</code>, because it represents a child.</p>\n<p>Rename your <code>ages</code> variable to <code>children</code>, because it represents a collection of children.</p>\n<p>Name things by what they semantically represent and your code will be <em>much</em> easier for you to read and understand.</p>\n"}],"owner":{"account_id":18468340,"reputation":31,"user_id":13453909,"display_name":"Droidshizonoid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72233422,"answer_count":1,"score":0,"last_activity_date":1652464185,"creation_date":1652462696,"question_id":72233388,"body_markdown":"    import java.util.*;\r\n    \r\n    public class tryAgain {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner sc = new Scanner (System.in);\r\n            \r\n            //Creating array with Children object\r\n            Children[] ages = new Children[5];\r\n        \r\n            //Creating new Children ages and adding em to counter\r\n            ages[0] = new Children(12); \r\n            ages[1] = new Children(10);\r\n            ages[2] = new Children (13);\r\n            ages[3] = new Children(9);\r\n            ages[4] = new Children(15);   \r\n    \r\n            sortArray(ages);\r\n    \r\n            System.out.print(&quot;Enter the age that you want to search: &quot;);\r\n            int val = sc.nextInt();\r\n            int res = binarySearch(ages, val);\r\n            System.out.println(&quot;Value found at index &quot; + res);\r\n        }\r\n        public static int binarySearch (Children[] ages, int value) {\r\n    \r\n            int[] A = ages;\r\n            int n = A.length - 1; // size of an arraylist\r\n            int x = value; // value to be searched\r\n            boolean isFound = false;\r\n    \r\n            int lowerBound = 1;\r\n            int upperBound = n;\r\n            int midPoint = 0;\r\n    \r\n            while (isFound = true) {\r\n                if (upperBound &lt; lowerBound) {\r\n                    System.out.println(&quot;Searched value doesn&#39;t exists.&quot;);\r\n                }\r\n    \r\n                midPoint = lowerBound + ( upperBound - lowerBound) / 2;\r\n    \r\n                if (lessThan(A[midPoint], x)) {\r\n                    lowerBound = midPoint + 1;\r\n                }\r\n    \r\n                if (lessThan(x, A[midPoint])) {\r\n                    lowerBound = midPoint - 1;\r\n                }\r\n    \r\n                if (A[midPoint] == x) {\r\n                    isFound = true;\r\n                    return midPoint;\r\n                }   \r\n            }\r\n            return midPoint;\r\n        }\r\n    \r\n        public static void sortArray (Children[] ages) {\r\n            int n = ages.length;\r\n            for (int i = 1; i &lt; n; ++i) {\r\n                int key = ages[i];\r\n                int j = i - 1;\r\n     \r\n                while (j &gt;= 0 &amp;&amp; lessThan(key, ages[i])) {\r\n                    ages[j + 1] = ages[j];\r\n                    j = j - 1;\r\n                }\r\n                ages[j + 1] = key;\r\n                \r\n            }\r\n        }\r\n    \r\n        public static boolean lessThan(int x, int y) {\r\n            if (y == 0) {\r\n                return false;\r\n            }\r\n            if (x == 0) {\r\n                return true;\r\n            }\r\n            return lessThan(x - 1, y - 1);\r\n        \r\n            \r\n        }\r\n    \r\n        static class Children {\r\n            int age = 0;\r\n            \r\n            //constructor for setting Children ages\r\n            public Children (int age) {\r\n                this.age = age;\r\n            }\r\n    \r\n            //getting ages of Children from constructor\r\n            public int getAge() {\r\n                return this.age;\r\n            }\r\n    \r\n            //setting new age to children\r\n            public void setAge(int age) {\r\n                this.age = age;\r\n            }\r\n        }   \r\n        \r\n    }\r\n    \r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIt giving me an error like:\r\n         Type mismatch: cannot convert from tryAgain.Children to int\r\n                The method lessThan(int, int) in the type tryAgain is not applicable for the arguments (int, tryAgain.Children)\r\n                Type mismatch: cannot convert from int to tryAgain.Children\r\n        \r\n                at tryAgain.sortArray(tryAgain.java:63)\r\n                at tryAgain.main(tryAgain.java:19)\r\n\r\n\r\n\r\nThe aim is to add some values to the object array and then sort them with sorting method, and after that find the needed value with binary search.","title":"Type mismatch: cannot convert from Object Array to int","body":"<pre><code>import java.util.*;\n\npublic class tryAgain {\n\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner (System.in);\n        \n        //Creating array with Children object\n        Children[] ages = new Children[5];\n    \n        //Creating new Children ages and adding em to counter\n        ages[0] = new Children(12); \n        ages[1] = new Children(10);\n        ages[2] = new Children (13);\n        ages[3] = new Children(9);\n        ages[4] = new Children(15);   \n\n        sortArray(ages);\n\n        System.out.print(&quot;Enter the age that you want to search: &quot;);\n        int val = sc.nextInt();\n        int res = binarySearch(ages, val);\n        System.out.println(&quot;Value found at index &quot; + res);\n    }\n    public static int binarySearch (Children[] ages, int value) {\n\n        int[] A = ages;\n        int n = A.length - 1; // size of an arraylist\n        int x = value; // value to be searched\n        boolean isFound = false;\n\n        int lowerBound = 1;\n        int upperBound = n;\n        int midPoint = 0;\n\n        while (isFound = true) {\n            if (upperBound &lt; lowerBound) {\n                System.out.println(&quot;Searched value doesn't exists.&quot;);\n            }\n\n            midPoint = lowerBound + ( upperBound - lowerBound) / 2;\n\n            if (lessThan(A[midPoint], x)) {\n                lowerBound = midPoint + 1;\n            }\n\n            if (lessThan(x, A[midPoint])) {\n                lowerBound = midPoint - 1;\n            }\n\n            if (A[midPoint] == x) {\n                isFound = true;\n                return midPoint;\n            }   \n        }\n        return midPoint;\n    }\n\n    public static void sortArray (Children[] ages) {\n        int n = ages.length;\n        for (int i = 1; i &lt; n; ++i) {\n            int key = ages[i];\n            int j = i - 1;\n \n            while (j &gt;= 0 &amp;&amp; lessThan(key, ages[i])) {\n                ages[j + 1] = ages[j];\n                j = j - 1;\n            }\n            ages[j + 1] = key;\n            \n        }\n    }\n\n    public static boolean lessThan(int x, int y) {\n        if (y == 0) {\n            return false;\n        }\n        if (x == 0) {\n            return true;\n        }\n        return lessThan(x - 1, y - 1);\n    \n        \n    }\n\n    static class Children {\n        int age = 0;\n        \n        //constructor for setting Children ages\n        public Children (int age) {\n            this.age = age;\n        }\n\n        //getting ages of Children from constructor\n        public int getAge() {\n            return this.age;\n        }\n\n        //setting new age to children\n        public void setAge(int age) {\n            this.age = age;\n        }\n    }   \n    \n}\n</code></pre>\n<p>It giving me an error like:\nType mismatch: cannot convert from tryAgain.Children to int\nThe method lessThan(int, int) in the type tryAgain is not applicable for the arguments (int, tryAgain.Children)\nType mismatch: cannot convert from int to tryAgain.Children</p>\n<pre><code>            at tryAgain.sortArray(tryAgain.java:63)\n            at tryAgain.main(tryAgain.java:19)\n</code></pre>\n<p>The aim is to add some values to the object array and then sort them with sorting method, and after that find the needed value with binary search.</p>\n"},{"tags":["java","oop","solid-principles"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1652463416,"post_id":72233485,"comment_id":127620821,"body_markdown":"Try accessing `j` after the loop in both scenarios.","body":"Try accessing <code>j</code> after the loop in both scenarios."},{"owner":{"account_id":15832080,"reputation":5701,"user_id":11423104,"display_name":"isaactfa"},"score":0,"creation_date":1652463426,"post_id":72233485,"comment_id":127620826,"body_markdown":"For one, you wouldn&#39;t be able to access `j` outside, i.e. after, the loop in the first example, whereas you could in the latter.","body":"For one, you wouldn&#39;t be able to access <code>j</code> outside, i.e. after, the loop in the first example, whereas you could in the latter."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652464156,"creation_date":1652464156,"answer_id":72233634,"question_id":72233485,"body_markdown":"`Node j;` on its own isn&#39;t &#39;code&#39;, in the sense that it results in zero bytecode - it does nothing on its own. It&#39;s a &#39;declaration&#39;. It&#39;s an instruction to the compiler.\r\n\r\nYou&#39;re telling the compiler: There is this thing; I shall call it `j`, and it is a local variable. Please fail my compilation unless you can 100% ensure that this variable only ever holds either `null` or &quot; reference to an object whose actual type is either `Node` or some subtype of `Node`&quot;. It decline to assign something to this variable right now; please fail to compile if I attempt to access it before you can 100% guarantee that some code has already ran that definitely assigned it first.\r\n\r\nThat&#39;s a ton of instructions for the compiler and absolutely none of it requires any code right then and there - it&#39;s just instructions for what to do in __other lines of code__ - for example, in your second snippet, without that `Node j;` at the top, `j = i;` is not something that the compiler can do for you. It has no idea what you intend to do there; it does not know what `j` is, you did not inform the compiler about it, and in java, the language spec indicates that you can&#39;t just make up variable names without first telling the compiler about them.\r\n\r\nThus, bytecode wise, the exact difference between your 2 specific snippets here __is nothing__ - local variables are a figment of javac&#39;s imagination: As a concept, &#39;local variable&#39; doesn&#39;t exist, at all, at the JVM/bytecode level: It&#39;s just &#39;slots&#39; in the local frame (i.e. local variables have a number, not a name), or on-stack space.\r\n\r\nIn other words, to figure out what the difference might be, it&#39;s __entirely__ a matter of answering the question: How does `javac` interpret these 2 snippets? Because bytecode wise there is not going to be any difference, ever. `Node j;` simply cannot be bytecode - there is no such thing as a &#39;local variable&#39; there, after all.\r\n\r\nThe only crucial difference is that any given local variable declaration (such as `Node j;`) declares its existence for a certain scope: It says: &quot;There is this thing called `j` __for these specific lines__ and not for any others&quot;. That scope is simply the next nearest pair of braces. So, in:\r\n\r\n```\r\nvoid foo() {\r\n  Node j;\r\n  for(Node i: node){\r\n      j = i; \r\n  }\r\n}\r\n```\r\n\r\nYou have declared that there is __one__ local variable named `j`, and this applies to the entire foo() method (given that those are the nearest pair of braces when you look &#39;outwards&#39; from your `Node j;` declaration.\r\n\r\nWhereas with:\r\n\r\n\r\n```\r\nvoid foo() {\r\n  for(Node i: node){\r\n      Node j = i; \r\n  }\r\n}\r\n```\r\n\r\nThe &#39;scope&#39; of your `j` declaration is __that `for` loop__ - after all, that&#39;s the &#39;nearest pair&#39;. In other words, this is __almost__ legal:\r\n\r\n```java\r\nvoid foo() {\r\n  Node j;\r\n  for(Node i: node){\r\n      j = i; \r\n  }\r\n  System.out.println(j);\r\n}\r\n```\r\n\r\nExcept for one tiny little detail: The compiler cannot 100% guarantee that `j` is actually assigned when we get to the println line - after all, what if your `node` collection is actually empty? Then `j = i;` ran zero times. So if you try to compile the above, the compiler will actually refuse, saying `j is not definitely assigned`. But make that `Node j = null;` and the above code would compile and run. In contrast to:\r\n\r\n```java\r\nvoid foo() {\r\n  for(Node i: node){\r\n      Node j = i; \r\n  }\r\n  System.out.println(j);\r\n}\r\n```\r\n\r\nThis one doesn&#39;t compile with the error `j? What are you talking about` - the `j` you declared here only applies to all lines within the `{}` that goes with the for loop, thus, the mentioning of `j` in the `println` line is mentioning an unknown thing, and thus the compiler will complain about it in those terms: What is `j`?\r\n\r\n## So what do I do?\r\n\r\nFollow conventions: When in rome, act like romans. When programming java, write it the way the vast majority of java coders would. Which means: Declare local variables at the latest possible point, at the right scope level. Thus, something like:\r\n\r\n```\r\nvoid foo() {\r\n  System.out.println(&quot;Starting method&quot;);\r\n\r\n  Node lastVisited = null;\r\n  for (Node i : nodes) {\r\n    lastVisited = i;\r\n  }\r\n  System.out.println(&quot;Last visited: &quot; + lastVisited);\r\n}\r\n```\r\n\r\n* Don&#39;t declare `lastVisited` at the top of the method.\r\n* Do declare it before the for loop as we need it outside of it.\r\n* Names are important.\r\n","title":"Variable Declared Outside of For Loop Vs Inside","body":"<p><code>Node j;</code> on its own isn't 'code', in the sense that it results in zero bytecode - it does nothing on its own. It's a 'declaration'. It's an instruction to the compiler.</p>\n<p>You're telling the compiler: There is this thing; I shall call it <code>j</code>, and it is a local variable. Please fail my compilation unless you can 100% ensure that this variable only ever holds either <code>null</code> or &quot; reference to an object whose actual type is either <code>Node</code> or some subtype of <code>Node</code>&quot;. It decline to assign something to this variable right now; please fail to compile if I attempt to access it before you can 100% guarantee that some code has already ran that definitely assigned it first.</p>\n<p>That's a ton of instructions for the compiler and absolutely none of it requires any code right then and there - it's just instructions for what to do in <strong>other lines of code</strong> - for example, in your second snippet, without that <code>Node j;</code> at the top, <code>j = i;</code> is not something that the compiler can do for you. It has no idea what you intend to do there; it does not know what <code>j</code> is, you did not inform the compiler about it, and in java, the language spec indicates that you can't just make up variable names without first telling the compiler about them.</p>\n<p>Thus, bytecode wise, the exact difference between your 2 specific snippets here <strong>is nothing</strong> - local variables are a figment of javac's imagination: As a concept, 'local variable' doesn't exist, at all, at the JVM/bytecode level: It's just 'slots' in the local frame (i.e. local variables have a number, not a name), or on-stack space.</p>\n<p>In other words, to figure out what the difference might be, it's <strong>entirely</strong> a matter of answering the question: How does <code>javac</code> interpret these 2 snippets? Because bytecode wise there is not going to be any difference, ever. <code>Node j;</code> simply cannot be bytecode - there is no such thing as a 'local variable' there, after all.</p>\n<p>The only crucial difference is that any given local variable declaration (such as <code>Node j;</code>) declares its existence for a certain scope: It says: &quot;There is this thing called <code>j</code> <strong>for these specific lines</strong> and not for any others&quot;. That scope is simply the next nearest pair of braces. So, in:</p>\n<pre><code>void foo() {\n  Node j;\n  for(Node i: node){\n      j = i; \n  }\n}\n</code></pre>\n<p>You have declared that there is <strong>one</strong> local variable named <code>j</code>, and this applies to the entire foo() method (given that those are the nearest pair of braces when you look 'outwards' from your <code>Node j;</code> declaration.</p>\n<p>Whereas with:</p>\n<pre><code>void foo() {\n  for(Node i: node){\n      Node j = i; \n  }\n}\n</code></pre>\n<p>The 'scope' of your <code>j</code> declaration is <strong>that <code>for</code> loop</strong> - after all, that's the 'nearest pair'. In other words, this is <strong>almost</strong> legal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo() {\n  Node j;\n  for(Node i: node){\n      j = i; \n  }\n  System.out.println(j);\n}\n</code></pre>\n<p>Except for one tiny little detail: The compiler cannot 100% guarantee that <code>j</code> is actually assigned when we get to the println line - after all, what if your <code>node</code> collection is actually empty? Then <code>j = i;</code> ran zero times. So if you try to compile the above, the compiler will actually refuse, saying <code>j is not definitely assigned</code>. But make that <code>Node j = null;</code> and the above code would compile and run. In contrast to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo() {\n  for(Node i: node){\n      Node j = i; \n  }\n  System.out.println(j);\n}\n</code></pre>\n<p>This one doesn't compile with the error <code>j? What are you talking about</code> - the <code>j</code> you declared here only applies to all lines within the <code>{}</code> that goes with the for loop, thus, the mentioning of <code>j</code> in the <code>println</code> line is mentioning an unknown thing, and thus the compiler will complain about it in those terms: What is <code>j</code>?</p>\n<h2>So what do I do?</h2>\n<p>Follow conventions: When in rome, act like romans. When programming java, write it the way the vast majority of java coders would. Which means: Declare local variables at the latest possible point, at the right scope level. Thus, something like:</p>\n<pre><code>void foo() {\n  System.out.println(&quot;Starting method&quot;);\n\n  Node lastVisited = null;\n  for (Node i : nodes) {\n    lastVisited = i;\n  }\n  System.out.println(&quot;Last visited: &quot; + lastVisited);\n}\n</code></pre>\n<ul>\n<li>Don't declare <code>lastVisited</code> at the top of the method.</li>\n<li>Do declare it before the for loop as we need it outside of it.</li>\n<li>Names are important.</li>\n</ul>\n"}],"owner":{"account_id":9342108,"reputation":13,"user_id":13116989,"display_name":"Ray Zheng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1652464156,"creation_date":1652463265,"question_id":72233485,"body_markdown":"\r\n```\r\n//assume there is a java class call Node, and node is an array of Node\r\n\r\nfor(Node i: node){\r\n\tNode j = i;\r\n}\r\n\r\nNode j;\r\nfor(Node i: node){\r\n\tj = i; \r\n}\r\n```\r\nCan someone please explain essentially what&#39;s the difference between this two? \r\n","title":"Variable Declared Outside of For Loop Vs Inside","body":"<pre><code>//assume there is a java class call Node, and node is an array of Node\n\nfor(Node i: node){\n    Node j = i;\n}\n\nNode j;\nfor(Node i: node){\n    j = i; \n}\n</code></pre>\n<p>Can someone please explain essentially what's the difference between this two?</p>\n"},{"tags":["java","google-cloud-platform","hbase","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652464134,"creation_date":1652464134,"answer_id":72233627,"question_id":72223292,"body_markdown":"Are you using Beam [HBaseIO][1] and is it possible to pass these parameters as a part of the `Configuration` provided to it ? If so, you could probably update your template to accept this config (or values for creating a config) as a PipelineOption (and parse them in the Main class).\r\n\r\nIf you want the file to be available locally (in the VM), you probably need to setup a [custom container][2] to be used by your template.\r\n\r\n\r\n  [1]: https://github.com/apache/beam/blob/master/sdks/java/io/hbase/src/main/java/org/apache/beam/sdk/io/hbase/HBaseIO.java\r\n  [2]: https://cloud.google.com/dataflow/docs/guides/using-custom-containers","title":"How to pass hbase-site.xml to Google Cloud Dataflow template","body":"<p>Are you using Beam <a href=\"https://github.com/apache/beam/blob/master/sdks/java/io/hbase/src/main/java/org/apache/beam/sdk/io/hbase/HBaseIO.java\" rel=\"nofollow noreferrer\">HBaseIO</a> and is it possible to pass these parameters as a part of the <code>Configuration</code> provided to it ? If so, you could probably update your template to accept this config (or values for creating a config) as a PipelineOption (and parse them in the Main class).</p>\n<p>If you want the file to be available locally (in the VM), you probably need to setup a <a href=\"https://cloud.google.com/dataflow/docs/guides/using-custom-containers\" rel=\"nofollow noreferrer\">custom container</a> to be used by your template.</p>\n"}],"owner":{"account_id":9911696,"reputation":1656,"user_id":7338171,"accept_rate":17,"display_name":"Piyush Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652464134,"creation_date":1652401117,"question_id":72223292,"body_markdown":"We have a setup where we have a Hbase cluster running on Google cloud and using Dataflow I want to write into Hbase tables. For this, I want to pass my `hbase-site.xml` file in staging and then in prod, I will pass different `hbase-site.xml` in production environment. However, I am not able to find an option to pass a resource file to Dataflow template. Is there any option in Dataflow similar to `--files` in Spark or `--classpath` in Flink for adding this.\r\n\r\nI can definitely add `hbase-site.xml` to `src/main/resources` which helps but I want different `hbase-site.xml` for two different environments. So, having an option like this would be very beneficial.","title":"How to pass hbase-site.xml to Google Cloud Dataflow template","body":"<p>We have a setup where we have a Hbase cluster running on Google cloud and using Dataflow I want to write into Hbase tables. For this, I want to pass my <code>hbase-site.xml</code> file in staging and then in prod, I will pass different <code>hbase-site.xml</code> in production environment. However, I am not able to find an option to pass a resource file to Dataflow template. Is there any option in Dataflow similar to <code>--files</code> in Spark or <code>--classpath</code> in Flink for adding this.</p>\n<p>I can definitely add <code>hbase-site.xml</code> to <code>src/main/resources</code> which helps but I want different <code>hbase-site.xml</code> for two different environments. So, having an option like this would be very beneficial.</p>\n"},{"tags":["java","maven","log4j","log4j-1.2-cve"],"comments":[{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1639392994,"post_id":70333482,"comment_id":124328653,"body_markdown":"[`mvn dependency:list`](https://stackoverflow.com/a/49579828/3001761)? Note that which specific package you&#39;re looking for and why isn&#39;t really relevant.","body":"<a href=\"https://stackoverflow.com/a/49579828/3001761\"><code>mvn dependency:list</code></a>? Note that which specific package you&#39;re looking for and why isn&#39;t really relevant."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1639393127,"post_id":70333482,"comment_id":124328687,"body_markdown":"You are just reading it wrong. `mvn dependency:tree` is the full tree. Those dependencies aren&#39;t &quot;not expanded&quot; - they just don&#39;t have any dependencies.","body":"You are just reading it wrong. <code>mvn dependency:tree</code> is the full tree. Those dependencies aren&#39;t &quot;not expanded&quot; - they just don&#39;t have any dependencies."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1639396645,"post_id":70333482,"comment_id":124329906,"body_markdown":"OK now I understand, only the last item in the list uses `\\-`, and all items before that use `+-`. But, if the pom of some dependency uses log4j, do I have to change my app to set env var to prevent its logging?","body":"OK now I understand, only the last item in the list uses <code>\\-</code>, and all items before that use <code>+-</code>. But, if the pom of some dependency uses log4j, do I have to change my app to set env var to prevent its logging?"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1647699170,"post_id":70333482,"comment_id":126438860,"body_markdown":"Maybe the developers of Maven should have used `` and `` to draw the lines..","body":"Maybe the developers of Maven should have used <code></code> and <code></code> to draw the lines.."}],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652463881,"creation_date":1639558848,"answer_id":70360877,"question_id":70333482,"body_markdown":"## Step 1: Dealing with our wrapping Java code base\r\nFor our code, we do:\r\n\r\n    mvn dependency:tree | grep log4j\r\n\r\nAnd we found some dep from other teams bringing in transitive log4j 1.17. Informed that team and they fixed that in a recent version, we just change in our pom the version to be it, and our pom is fixed.\r\n\r\nIf your dependency is not maintained anymore, you can enter the artifactory of your organization, and manually look for the classes below in all jars you need(the list is long, because apart from CVE-2021-4104 which mentions JMSAppender, I found log4j 1.x has a lot of other vulnerabilities and more classes should be removed)\r\n\r\n - `org/apache/log4j/net/SocketServer.class`\r\n - `org/apache/log4j/net/SimpleSocketServer.class` (just in case)\r\n - `org/apache/log4j/net/SocketAppender.class`\r\n - `org/apache/log4j/net/SMTPAppender$1.class`\r\n - `org/apache/log4j/net/SMTPAppender.class`\r\n - `org/apache/log4j/net/JMSAppender.class`\r\n - `org/apache/log4j/net/JMSSink.class`\r\n - `org/apache/log4j/net/JDBCAppender.class`\r\n - `org/apache/log4j/chainsaw/*.class`\r\n\r\n\r\n\r\nIf you cannot fix your internal Nexus repo/artifactory, you can find the jar of log4j in local Maven registry (under `~/.m2`) and remove the class; then you build your app again; but remember don&#39;t use `-U` to redownload the jar from remote registry.  \r\n\r\n## Step 2: Dealing with base image jars\r\n\r\nTo find other libs in the base image containing log4j is more complicated.\r\n\r\n- Tampering the layers by removing the classes files cannot go undetected by Docker daemon. The sha256 value changes, you have to replace the sha256 value in the json file in the main dir with new `sha256sum layer.tar`; but even with that, Docker daemon will give error when you load the tar: `Cannot open /var/lib/docker/tmp-xxxx/...: file not found` or so. \r\n\r\n- Then I tried to create a script to remove the classes at runtime, right before running the app, and define a new entrypoint in jib to run it before running the app. \r\n\r\n```bash\r\n#!/bin/sh\r\n/opt/amq/bin/fix_log4j_1.x_cves.sh\r\n/opt/amq/bin/launch.sh # the original, inherited entrypoint in jib\r\n```\r\nBut then I found it will slow down pod startup; unresponsive pods may be restarted by Openshift, causing unwanted delay and errors. **But the output of this script gives me an idea of which jars contain the classes to remove**, which is a solid basis for my next solution.\r\n\r\n\r\n&lt;h2&gt;At last, I came up with a perfect solution&lt;/h2&gt;\r\n\r\n1) Implement the previous solution, `docker run` the image, and note down the jars&#39; names in the output of the script. \r\n```bash\r\nStarting to fix all CVEs regarding Log4j 1.x...\r\n&gt;&gt;&gt;&gt;&gt; Removing class file from &#39;/opt/amq/lib/optional/log4j-1.2.17.redhat-1.jar&#39;:\r\nremoved &#39;org/apache/log4j/chainsaw/ControlPanel$1.class&#39;\r\nremoved &#39;org/apache/log4j/chainsaw/ControlPanel$2.class&#39;\r\n...\r\n&gt;&gt;&gt;&gt;&gt; Removing class file from &#39;/opt/amq/activemq-all-5.11.0.redhat-630495.jar&#39;:\r\n...\r\n```\r\n\r\n2) Define these two as `provided` dependencies in pom.xml\r\n3) Use maven copy-dependency plugin to copy them into build folder (by default `target/dependency`)\r\n4) Use maven exec plugin to run the same script against `target/dependency` dir to remove vulnerable classes, while building the image with jib\r\n5) Use maven jib plugin to copy the fixed jars into the container, so that they will be on a new layer on top of all previous layer, to shadow/whiteout the unfixed jar (see [answer to my other question](https://stackoverflow.com/questions/71249883/jib-customized-entrypoint-can-only-remove-classes-at-runtime-but-will-fail-3p#answer-71258399))\r\n\r\nBy doing this, we eliminate the vulnerable classes while building the image, pod startup speed is not compromised, and the binary transferred to production image registry is already safe.\r\n\r\nAn advantage of this approach is we are not limited by available tools provided by the container because the script runs now in our local environment. We can install whatever tool we need and use them in the script. For example, in the original script I defined function `extract_remove_repackage` to complete a simple task of extracting+remove classes+repackaging, only because `zip` is not installed in the base image. But in my local machine, this can be done by `zip` in one line, \r\n\r\n**You have to make sure to bind 3, 4 and 5 to different maven build phases, so that they happen in such order.** I bind 3) to `compile`, 4) to `process-classes` and 5) to `package`. \r\n\r\n---\r\n\r\nImplementation details below:\r\n\r\n- The script (in my previous solution, put under `src/main/jib/opt/amq/bin`, so it could be copied into container. Also you needed the new entrypoint script here in the same folder. Now in this solution, moved to `src/main/scripts`)\r\n\r\n`fix_log4j_1.x_cves.sh`:\r\n\r\n```bash\r\n#!/bin/bash\r\n# Script to fix log4j 1.x CVEs. Initially it is only for CVE-2021-4104, but\r\n# since there are multiple CVEs regarding log4j 1.x, they are all fixed here:\r\n\r\n# Class File                                        CVE\r\n# org/apache/log4j/net/SocketAppender.class         CVE-2019-17571\r\n# org/apache/log4j/net/SocketServer.class           CVE-2019-17571\r\n# org/apache/log4j/net/SMTPAppender$1.class         CVE-2020-9488\r\n# org/apache/log4j/net/SMTPAppender.class           CVE-2020-9488\r\n# org/apache/log4j/net/JMSAppender.class            CVE-2021-4104\r\n# org/apache/log4j/net/JMSSink.class                CVE-2022-23302\r\n# org/apache/log4j/net/JDBCAppender.class           CVE-2022-23305\r\n# org/apache/log4j/chainsaw/*.class                 CVE-2022-23307\r\n\r\ncves=(\r\n&#39;CVE-2019-17571&#39;\r\n&#39;CVE-2019-17571&#39;\r\n&#39;CVE-2020-9488&#39;\r\n&#39;CVE-2020-9488&#39;\r\n&#39;CVE-2021-4104&#39;\r\n&#39;CVE-2022-23302&#39;\r\n&#39;CVE-2022-23305&#39;\r\n&#39;CVE-2022-23307&#39;\r\n)\r\n\r\nsize() {\r\n    stat -c %s &quot;$1&quot;\r\n}\r\n\r\nextract_remove_repackage() {\r\n    before=$1\r\n    # jar xf -C some_dir only extract to current dir, we have to cd first\r\n    jar_dir=$(dirname &quot;$2&quot;)\r\n    jar_file=$(basename &quot;$2&quot;)\r\n    temp_dir=$jar_dir/temp\r\n    mkdir &quot;$temp_dir&quot;\r\n    cp list.txt &quot;$temp_dir&quot;/ &amp;&amp; cp &quot;$2&quot; &quot;$temp_dir&quot;/\r\n    cd &quot;$temp_dir&quot;\r\n    jar xf &quot;$jar_file&quot;\r\n    # provide file and dir names to rm with list.txt\r\n    xargs rm -rvf &lt; list.txt &amp;&amp; rm list.txt &quot;$jar_file&quot;\r\n    jar cf &quot;$jar_file&quot; .\r\n    mv &quot;$jar_file&quot; ../\r\n    # go back and clean up\r\n    cd &quot;$before&quot; &amp;&amp; rm -rf &quot;$temp_dir&quot;\r\n}\r\n\r\nfind_vulnerable_jars() {\r\n    cd &quot;$root_dir&quot;\r\n    jar -tvf &quot;$1&quot; | grep -E &quot;$pattern&quot; | awk &#39;{ print $8 }&#39; &gt; list.txt\r\n    if [ &quot;$(size list.txt)&quot; -gt 0 ]; then\r\n        echo &quot;&gt;&gt;&gt;&gt;&gt; Removing class file from &#39;$(realpath &quot;$1&quot;)&#39;&quot;:\r\n        extract_remove_repackage &quot;$(pwd)&quot; &quot;$1&quot;\r\n    else\r\n        return 0\r\n    fi\r\n}\r\nremove_classes_from_jars() {\r\n    echo Starting to fix all CVEs regarding Log4j 1.x...\r\n    # exclude jolokia.jar(link)\r\n    # xargs can return error level to &quot;if&quot;, when any of execution fails, while &quot;find -exec&quot; cannot\r\n    # because we use custom function, xargs needs &quot;bash -c&quot;; thus we have to use &quot;_&quot; to pass each arg\r\n    if find &quot;$root_dir&quot; -name &quot;*.jar&quot; -not -type l -print0 | xargs -0 -n1 bash -c &#39;find_vulnerable_jars &quot;$@&quot;&#39; _; then\r\n        echo All vunerable classes removed. CVE addressed:\r\n        printf &#39;%s\\n&#39; &quot;${cves[@]}&quot;\r\n    else\r\n        echo &quot;Error while removing classes; exiting...&quot;\r\n        return 1\r\n    fi\r\n}\r\n\r\n# to be able to use in find -exec child shell, we need to export all vars and functions\r\n# $1: where to search jars, should match copy-dependency output dir.\r\nexport root_dir=$1\r\nexport pattern=&quot;.*(JMS|JDBC|SMTP|Socket)Appender.*.class|.*SocketServer.class|.*JMSSink.class|org/apache/log4j/chainsaw/.*&quot;\r\nexport -f size\r\nexport -f extract_remove_repackage\r\nexport -f find_vulnerable_jars\r\nremove_classes_from_jars\r\n```\r\n\r\n- Define provided dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\r\n    &lt;version&gt;${version.activemq-all}&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    &lt;version&gt;${version.log4j}&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n- `copy-dependency` plugin\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;copy-cve-jars&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;includeArtifactIds&gt;activemq-all,log4j&lt;/includeArtifactIds&gt;\r\n                &lt;includeScope&gt;provided&lt;/includeScope&gt;\r\n                &lt;includeTypes&gt;jar&lt;/includeTypes&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/dependency&lt;/outputDirectory&gt; &lt;!-- default value --&gt;\r\n                &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n- `exec-plugin`:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;remove-cve-classes&lt;/id&gt;\r\n            &lt;phase&gt;process-classes&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;exec&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;executable&gt;${project.build.scriptSourceDirectory}/log4j_cve_fix.sh&lt;/executable&gt;\r\n        &lt;arguments&gt;\r\n            &lt;!-- should match copy-dependency output dir --&gt;\r\n            &lt;argument&gt;${project.build.directory}/dependency&lt;/argument&gt;\r\n        &lt;/arguments&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n`jib plugin`: (needs to be &gt; 3.0.0 to be able to use `&lt;path&gt;&lt;inclueds&gt;`)\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;from&gt;\r\n            &lt;image&gt;${docker.base.image}&lt;/image&gt;\r\n        &lt;/from&gt;\r\n        &lt;to&gt;\r\n            &lt;image&gt;${docker.image}&lt;/image&gt;\r\n            &lt;tags&gt;\r\n                &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n            &lt;/tags&gt;\r\n        &lt;/to&gt;\r\n        &lt;container&gt;\r\n            &lt;appRoot&gt;/dev/null&lt;/appRoot&gt;\r\n            &lt;entrypoint&gt;INHERIT&lt;/entrypoint&gt; &lt;!-- customized entrypoint not needed anymore, just revert to the way it was --&gt;\r\n        &lt;/container&gt;\r\n        &lt;containerizingMode&gt;packaged&lt;/containerizingMode&gt;\r\n        &lt;extraDirectories&gt;\r\n            &lt;paths&gt;\r\n                &lt;path&gt;${project.basedir}/src/main/jib&lt;/path&gt;\r\n                &lt;path&gt;${project.build.directory}/jib&lt;/path&gt;\r\n                &lt;path&gt;\r\n                    &lt;from&gt;target/dependency&lt;/from&gt;\r\n                    &lt;into&gt;/opt/amq/lib/optional&lt;/into&gt;\r\n                    &lt;includes&gt;log4j-${version.log4j}.jar&lt;/includes&gt;\r\n                &lt;/path&gt;\r\n                &lt;path&gt;\r\n                    &lt;from&gt;target/dependency&lt;/from&gt;\r\n                    &lt;into&gt;/opt/amq&lt;/into&gt;\r\n                    &lt;includes&gt;activemq-all-${version.activemq-all}.jar&lt;/includes&gt;\r\n                &lt;/path&gt;\r\n            &lt;/paths&gt;\r\n            &lt;permissions&gt;\r\n                &lt;permission&gt;\r\n                    &lt;!-- don&#39;t forget to restrict writing to prevent tampering --&gt;\r\n                    &lt;file&gt;/opt/amq/conf/log4j.properties&lt;/file&gt;\r\n                    &lt;mode&gt;444&lt;/mode&gt;\r\n                &lt;/permission&gt;\r\n                &lt;!-- the copied jars need to be executable --&gt;\r\n                &lt;permission&gt;\r\n                    &lt;file&gt;/opt/amq/lib/${application.executable}&lt;/file&gt;\r\n                    &lt;mode&gt;755&lt;/mode&gt;\r\n                &lt;/permission&gt;\r\n                &lt;permission&gt;\r\n                    &lt;file&gt;/opt/amq/activemq-all-${version.activemq-all}.jar&lt;/file&gt;\r\n                    &lt;mode&gt;755&lt;/mode&gt;\r\n                &lt;/permission&gt;\r\n                &lt;permission&gt;\r\n                    &lt;file&gt;/opt/amq/lib/optional/log4j-${version.log4j}.jar&lt;/file&gt;\r\n                    &lt;mode&gt;755&lt;/mode&gt;\r\n                &lt;/permission&gt;\r\n            &lt;/permissions&gt;\r\n        &lt;/extraDirectories&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;jib-build&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;${jib.goal}&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n","title":"How to quickly detect and remove log4j classes from our code base and the base image? &quot;mvn dependency:tree&quot; does not check base image","body":"<h2>Step 1: Dealing with our wrapping Java code base</h2>\n<p>For our code, we do:</p>\n<pre><code>mvn dependency:tree | grep log4j\n</code></pre>\n<p>And we found some dep from other teams bringing in transitive log4j 1.17. Informed that team and they fixed that in a recent version, we just change in our pom the version to be it, and our pom is fixed.</p>\n<p>If your dependency is not maintained anymore, you can enter the artifactory of your organization, and manually look for the classes below in all jars you need(the list is long, because apart from CVE-2021-4104 which mentions JMSAppender, I found log4j 1.x has a lot of other vulnerabilities and more classes should be removed)</p>\n<ul>\n<li><code>org/apache/log4j/net/SocketServer.class</code></li>\n<li><code>org/apache/log4j/net/SimpleSocketServer.class</code> (just in case)</li>\n<li><code>org/apache/log4j/net/SocketAppender.class</code></li>\n<li><code>org/apache/log4j/net/SMTPAppender$1.class</code></li>\n<li><code>org/apache/log4j/net/SMTPAppender.class</code></li>\n<li><code>org/apache/log4j/net/JMSAppender.class</code></li>\n<li><code>org/apache/log4j/net/JMSSink.class</code></li>\n<li><code>org/apache/log4j/net/JDBCAppender.class</code></li>\n<li><code>org/apache/log4j/chainsaw/*.class</code></li>\n</ul>\n<p>If you cannot fix your internal Nexus repo/artifactory, you can find the jar of log4j in local Maven registry (under <code>~/.m2</code>) and remove the class; then you build your app again; but remember don't use <code>-U</code> to redownload the jar from remote registry.</p>\n<h2>Step 2: Dealing with base image jars</h2>\n<p>To find other libs in the base image containing log4j is more complicated.</p>\n<ul>\n<li><p>Tampering the layers by removing the classes files cannot go undetected by Docker daemon. The sha256 value changes, you have to replace the sha256 value in the json file in the main dir with new <code>sha256sum layer.tar</code>; but even with that, Docker daemon will give error when you load the tar: <code>Cannot open /var/lib/docker/tmp-xxxx/...: file not found</code> or so.</p>\n</li>\n<li><p>Then I tried to create a script to remove the classes at runtime, right before running the app, and define a new entrypoint in jib to run it before running the app.</p>\n</li>\n</ul>\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/sh\n/opt/amq/bin/fix_log4j_1.x_cves.sh\n/opt/amq/bin/launch.sh # the original, inherited entrypoint in jib\n</code></pre>\n<p>But then I found it will slow down pod startup; unresponsive pods may be restarted by Openshift, causing unwanted delay and errors. <strong>But the output of this script gives me an idea of which jars contain the classes to remove</strong>, which is a solid basis for my next solution.</p>\n<h2>At last, I came up with a perfect solution</h2>\n<ol>\n<li>Implement the previous solution, <code>docker run</code> the image, and note down the jars' names in the output of the script.</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>Starting to fix all CVEs regarding Log4j 1.x...\n&gt;&gt;&gt;&gt;&gt; Removing class file from '/opt/amq/lib/optional/log4j-1.2.17.redhat-1.jar':\nremoved 'org/apache/log4j/chainsaw/ControlPanel$1.class'\nremoved 'org/apache/log4j/chainsaw/ControlPanel$2.class'\n...\n&gt;&gt;&gt;&gt;&gt; Removing class file from '/opt/amq/activemq-all-5.11.0.redhat-630495.jar':\n...\n</code></pre>\n<ol start=\"2\">\n<li>Define these two as <code>provided</code> dependencies in pom.xml</li>\n<li>Use maven copy-dependency plugin to copy them into build folder (by default <code>target/dependency</code>)</li>\n<li>Use maven exec plugin to run the same script against <code>target/dependency</code> dir to remove vulnerable classes, while building the image with jib</li>\n<li>Use maven jib plugin to copy the fixed jars into the container, so that they will be on a new layer on top of all previous layer, to shadow/whiteout the unfixed jar (see <a href=\"https://stackoverflow.com/questions/71249883/jib-customized-entrypoint-can-only-remove-classes-at-runtime-but-will-fail-3p#answer-71258399\">answer to my other question</a>)</li>\n</ol>\n<p>By doing this, we eliminate the vulnerable classes while building the image, pod startup speed is not compromised, and the binary transferred to production image registry is already safe.</p>\n<p>An advantage of this approach is we are not limited by available tools provided by the container because the script runs now in our local environment. We can install whatever tool we need and use them in the script. For example, in the original script I defined function <code>extract_remove_repackage</code> to complete a simple task of extracting+remove classes+repackaging, only because <code>zip</code> is not installed in the base image. But in my local machine, this can be done by <code>zip</code> in one line,</p>\n<p><strong>You have to make sure to bind 3, 4 and 5 to different maven build phases, so that they happen in such order.</strong> I bind 3) to <code>compile</code>, 4) to <code>process-classes</code> and 5) to <code>package</code>.</p>\n<hr />\n<p>Implementation details below:</p>\n<ul>\n<li>The script (in my previous solution, put under <code>src/main/jib/opt/amq/bin</code>, so it could be copied into container. Also you needed the new entrypoint script here in the same folder. Now in this solution, moved to <code>src/main/scripts</code>)</li>\n</ul>\n<p><code>fix_log4j_1.x_cves.sh</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/bash\n# Script to fix log4j 1.x CVEs. Initially it is only for CVE-2021-4104, but\n# since there are multiple CVEs regarding log4j 1.x, they are all fixed here:\n\n# Class File                                        CVE\n# org/apache/log4j/net/SocketAppender.class         CVE-2019-17571\n# org/apache/log4j/net/SocketServer.class           CVE-2019-17571\n# org/apache/log4j/net/SMTPAppender$1.class         CVE-2020-9488\n# org/apache/log4j/net/SMTPAppender.class           CVE-2020-9488\n# org/apache/log4j/net/JMSAppender.class            CVE-2021-4104\n# org/apache/log4j/net/JMSSink.class                CVE-2022-23302\n# org/apache/log4j/net/JDBCAppender.class           CVE-2022-23305\n# org/apache/log4j/chainsaw/*.class                 CVE-2022-23307\n\ncves=(\n'CVE-2019-17571'\n'CVE-2019-17571'\n'CVE-2020-9488'\n'CVE-2020-9488'\n'CVE-2021-4104'\n'CVE-2022-23302'\n'CVE-2022-23305'\n'CVE-2022-23307'\n)\n\nsize() {\n    stat -c %s &quot;$1&quot;\n}\n\nextract_remove_repackage() {\n    before=$1\n    # jar xf -C some_dir only extract to current dir, we have to cd first\n    jar_dir=$(dirname &quot;$2&quot;)\n    jar_file=$(basename &quot;$2&quot;)\n    temp_dir=$jar_dir/temp\n    mkdir &quot;$temp_dir&quot;\n    cp list.txt &quot;$temp_dir&quot;/ &amp;&amp; cp &quot;$2&quot; &quot;$temp_dir&quot;/\n    cd &quot;$temp_dir&quot;\n    jar xf &quot;$jar_file&quot;\n    # provide file and dir names to rm with list.txt\n    xargs rm -rvf &lt; list.txt &amp;&amp; rm list.txt &quot;$jar_file&quot;\n    jar cf &quot;$jar_file&quot; .\n    mv &quot;$jar_file&quot; ../\n    # go back and clean up\n    cd &quot;$before&quot; &amp;&amp; rm -rf &quot;$temp_dir&quot;\n}\n\nfind_vulnerable_jars() {\n    cd &quot;$root_dir&quot;\n    jar -tvf &quot;$1&quot; | grep -E &quot;$pattern&quot; | awk '{ print $8 }' &gt; list.txt\n    if [ &quot;$(size list.txt)&quot; -gt 0 ]; then\n        echo &quot;&gt;&gt;&gt;&gt;&gt; Removing class file from '$(realpath &quot;$1&quot;)'&quot;:\n        extract_remove_repackage &quot;$(pwd)&quot; &quot;$1&quot;\n    else\n        return 0\n    fi\n}\nremove_classes_from_jars() {\n    echo Starting to fix all CVEs regarding Log4j 1.x...\n    # exclude jolokia.jar(link)\n    # xargs can return error level to &quot;if&quot;, when any of execution fails, while &quot;find -exec&quot; cannot\n    # because we use custom function, xargs needs &quot;bash -c&quot;; thus we have to use &quot;_&quot; to pass each arg\n    if find &quot;$root_dir&quot; -name &quot;*.jar&quot; -not -type l -print0 | xargs -0 -n1 bash -c 'find_vulnerable_jars &quot;$@&quot;' _; then\n        echo All vunerable classes removed. CVE addressed:\n        printf '%s\\n' &quot;${cves[@]}&quot;\n    else\n        echo &quot;Error while removing classes; exiting...&quot;\n        return 1\n    fi\n}\n\n# to be able to use in find -exec child shell, we need to export all vars and functions\n# $1: where to search jars, should match copy-dependency output dir.\nexport root_dir=$1\nexport pattern=&quot;.*(JMS|JDBC|SMTP|Socket)Appender.*.class|.*SocketServer.class|.*JMSSink.class|org/apache/log4j/chainsaw/.*&quot;\nexport -f size\nexport -f extract_remove_repackage\nexport -f find_vulnerable_jars\nremove_classes_from_jars\n</code></pre>\n<ul>\n<li>Define provided dependencies:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n    &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\n    &lt;version&gt;${version.activemq-all}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;${version.log4j}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li><code>copy-dependency</code> plugin</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-cve-jars&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;includeArtifactIds&gt;activemq-all,log4j&lt;/includeArtifactIds&gt;\n                &lt;includeScope&gt;provided&lt;/includeScope&gt;\n                &lt;includeTypes&gt;jar&lt;/includeTypes&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/dependency&lt;/outputDirectory&gt; &lt;!-- default value --&gt;\n                &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li><code>exec-plugin</code>:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;remove-cve-classes&lt;/id&gt;\n            &lt;phase&gt;process-classes&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;executable&gt;${project.build.scriptSourceDirectory}/log4j_cve_fix.sh&lt;/executable&gt;\n        &lt;arguments&gt;\n            &lt;!-- should match copy-dependency output dir --&gt;\n            &lt;argument&gt;${project.build.directory}/dependency&lt;/argument&gt;\n        &lt;/arguments&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><code>jib plugin</code>: (needs to be &gt; 3.0.0 to be able to use <code>&lt;path&gt;&lt;inclueds&gt;</code>)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;from&gt;\n            &lt;image&gt;${docker.base.image}&lt;/image&gt;\n        &lt;/from&gt;\n        &lt;to&gt;\n            &lt;image&gt;${docker.image}&lt;/image&gt;\n            &lt;tags&gt;\n                &lt;tag&gt;${project.version}&lt;/tag&gt;\n            &lt;/tags&gt;\n        &lt;/to&gt;\n        &lt;container&gt;\n            &lt;appRoot&gt;/dev/null&lt;/appRoot&gt;\n            &lt;entrypoint&gt;INHERIT&lt;/entrypoint&gt; &lt;!-- customized entrypoint not needed anymore, just revert to the way it was --&gt;\n        &lt;/container&gt;\n        &lt;containerizingMode&gt;packaged&lt;/containerizingMode&gt;\n        &lt;extraDirectories&gt;\n            &lt;paths&gt;\n                &lt;path&gt;${project.basedir}/src/main/jib&lt;/path&gt;\n                &lt;path&gt;${project.build.directory}/jib&lt;/path&gt;\n                &lt;path&gt;\n                    &lt;from&gt;target/dependency&lt;/from&gt;\n                    &lt;into&gt;/opt/amq/lib/optional&lt;/into&gt;\n                    &lt;includes&gt;log4j-${version.log4j}.jar&lt;/includes&gt;\n                &lt;/path&gt;\n                &lt;path&gt;\n                    &lt;from&gt;target/dependency&lt;/from&gt;\n                    &lt;into&gt;/opt/amq&lt;/into&gt;\n                    &lt;includes&gt;activemq-all-${version.activemq-all}.jar&lt;/includes&gt;\n                &lt;/path&gt;\n            &lt;/paths&gt;\n            &lt;permissions&gt;\n                &lt;permission&gt;\n                    &lt;!-- don't forget to restrict writing to prevent tampering --&gt;\n                    &lt;file&gt;/opt/amq/conf/log4j.properties&lt;/file&gt;\n                    &lt;mode&gt;444&lt;/mode&gt;\n                &lt;/permission&gt;\n                &lt;!-- the copied jars need to be executable --&gt;\n                &lt;permission&gt;\n                    &lt;file&gt;/opt/amq/lib/${application.executable}&lt;/file&gt;\n                    &lt;mode&gt;755&lt;/mode&gt;\n                &lt;/permission&gt;\n                &lt;permission&gt;\n                    &lt;file&gt;/opt/amq/activemq-all-${version.activemq-all}.jar&lt;/file&gt;\n                    &lt;mode&gt;755&lt;/mode&gt;\n                &lt;/permission&gt;\n                &lt;permission&gt;\n                    &lt;file&gt;/opt/amq/lib/optional/log4j-${version.log4j}.jar&lt;/file&gt;\n                    &lt;mode&gt;755&lt;/mode&gt;\n                &lt;/permission&gt;\n            &lt;/permissions&gt;\n        &lt;/extraDirectories&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;jib-build&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;${jib.goal}&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15886331,"reputation":79,"user_id":11462588,"display_name":"Jackson Pfeffer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639910604,"creation_date":1639910604,"answer_id":70410688,"question_id":70333482,"body_markdown":"Remember to always check for the latest information from the resources listed below\r\n\r\n---\r\n**Answering the question directly:**  \r\nChecking Log4J dependencies in code:  \r\n* I think WesternGun&#39;s answer is fine... but personally I think the easiest thing to do is probably to just build your app (if you haven&#39;t already) and then recursively search the built application&#39;s directory structure for JAR files matching the REGEX `log4j-core-2.([0-9]+\\.){1,2}jar` (will detect versions vulnerable to [CVE-2021-45046][6] ... [CVE-2021-44228][5] ... [CVE-2021-45105][7]). If you want to detect older versions as well (which have their own critical severity CVEs and also need to be upgraded) then the REGEX would just be `log4j` and you&#39;d have to manually figure out which specific jars are the vulnerable ones.\r\n  * it may actually be able to be refined further... but i&#39;m not sure of the *specific* jar file is the problem for these other CVEs: [CVE-2019-17571][8] and [CVE-2021-4104][9]\r\n* [Reddit thread: log4j_0day_being_exploited][1] &lt;kbd&gt;cntl&lt;/kbd&gt;+&lt;kbd&gt;f&lt;/kbd&gt; for `.class and .jar recursive hunter` will give you some tools to help with this recursive search\r\n\r\nDetecting Log4J use on running applcation (in container or not doesn&#39;t matter):\r\n * Go to [Reddit thread: log4j_0day_being_exploited][1] and &lt;kbd&gt;cntl&lt;/kbd&gt;+&lt;kbd&gt;f&lt;/kbd&gt; for `Vendor Advisories`. Search the lists there for any software/plugins you are running. If you are running something in the list and there is an update available, update.\r\n * Then go to the same website and &lt;kbd&gt;cntl&lt;/kbd&gt;+&lt;kbd&gt;f&lt;/kbd&gt; for `Vulnerability Detection`. Use the tools there. If you detect the vulnerability, remediate.\r\n * Then go to the same website and &lt;kbd&gt;cntl&lt;/kbd&gt;+&lt;kbd&gt;f&lt;/kbd&gt; for `Exploitation Detection`. Use the tools there. These will detect if you have *already* been attacked. If you detect that you have, then remediate and respond to that attack as necessary.\r\n\r\n---\r\n\r\n**More resources**\r\n   * [https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/][1]\r\n     * This one has TONS of useful info including detectors, even more resource links, very easy to understand remediation steps, and more\r\n   * [https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance][2]\r\n   * [https://github.com/cisagov/log4j-affected-db][4]\r\n   * [https://logging.apache.org/log4j/2.x/security.html][3]\r\n\r\n---\r\n**Remediation:**  \r\n**[CVE-2021-45046][6] ... [CVE-2021-44228][5] ... [CVE-2021-45105][7]**  \r\nWhile most people that need to know probably already know enough to do what they need to do, I thought I would still put this just in case...\r\n\r\n * Follow the guidance in those resources... it may change, but \r\n\r\n### As of 2021-12-18\r\n\r\n\r\nIt&#39;s basically\r\n * Remove log4j-core JAR files if possible\r\n      * From both running machines for immediate fix AND\r\n      * in your source code / source code management files to prevent future builds / releases / deployments from overwriting the change\r\n * If that is not possible (due to a dependency), upgrade them\r\n      * If you are running Java8, then you can upgrade to log4j 2.17.0+\r\n      * If you are running an earlier version of Java, then you can upgrade to log4j 2.12.3\r\n      * If you are running an older version of Java, then you need to upgrade to the newest version of Java, and then use the newest version of Log4J\r\n      * Again, these changes have to happen both on running machine and in code\r\n * If neither of those are possible for some reason... then there is the NON-remediation stop gap of removing the JndiLookup.class file from the log4j-core JARs.\r\n   * There is a one-liner for the stop gap option on Linux using the `zip` command that comes packaged with most Linux distros by default.\r\n     * `zip -q -d &quot;$LOG4J_JAR_PATH&quot; org/apache/logging/log4j/core/lookup/JndiLookup.class`\r\n   * At time of writing, most of the guides online for the stop gap option on Windows say to do the following (again... assuming you can&#39;t do one of the remove JAR or upgrade options above):\r\n     * Install something like 7-zip\r\n     * Locate all of your log4j-core JAR files and for each one do the following...\r\n     * Rename the JAR to change the extension to `.zip`\r\n     * Use 7-zip to unzip the JAR (which now has a `.zip` extension)\r\n     * Locate and remove the JndiLookup.class file from the unzipped folder\r\n       * The path is `\\\\path\\\\to\\\\unzippedFolder\\\\org\\\\apache\\\\logging\\\\log4j\\\\core\\\\lookup\\\\JndiLookup.class`\r\n     * Delete the old JAR file (which now has an extension of .zip)\r\n     * Use 7-zip to RE-zip the folder\r\n     * Rename the new .zip folder to change the extension to `.jar`\r\n   * There are also some options to use Power Shell\r\n     * [Reddit thread: log4j_0day_being_exploited][1]\r\n     * &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;f&lt;/kbd&gt; for &quot;PowerShell&quot;\r\n\r\nThis is fine if you only have 1 or 2 JAR files to deal with and you don&#39;t mind installing 7-zip or you have PowerShell available to do it. However, if you have lots of JAR files, or if you don&#39;t want to install 7-zip and don&#39;t have access to Power Shell, I created an open-source VBS script that will do it for you without needing to install any additional software. [https://github.com/CrazyKidJack/Windowslog4jClassRemover](https://github.com/CrazyKidJack/Windowslog4jClassRemover)\r\n\r\nRead the README and the Release Notes [https://github.com/CrazyKidJack/Windowslog4jClassRemover/releases/latest](https://github.com/CrazyKidJack/Windowslog4jClassRemover/releases/latest)\r\n\r\n[1]: https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\r\n[2]: https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance\r\n[3]: https://logging.apache.org/log4j/2.x/security.html\r\n[4]: https://github.com/cisagov/log4j-affected-db\r\n\r\n[5]: https://nvd.nist.gov/vuln/detail/CVE-2021-44228\r\n[6]: https://nvd.nist.gov/vuln/detail/CVE-2021-45046\r\n[7]: https://nvd.nist.gov/vuln/detail/CVE-2021-45105\r\n[8]: https://nvd.nist.gov/vuln/detail/CVE-2019-17571\r\n[9]: https://nvd.nist.gov/vuln/detail/CVE-2021-4104","title":"How to quickly detect and remove log4j classes from our code base and the base image? &quot;mvn dependency:tree&quot; does not check base image","body":"<p>Remember to always check for the latest information from the resources listed below</p>\n<hr />\n<p><strong>Answering the question directly:</strong><br />\nChecking Log4J dependencies in code:</p>\n<ul>\n<li>I think WesternGun's answer is fine... but personally I think the easiest thing to do is probably to just build your app (if you haven't already) and then recursively search the built application's directory structure for JAR files matching the REGEX <code>log4j-core-2.([0-9]+\\.){1,2}jar</code> (will detect versions vulnerable to <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-45046\" rel=\"nofollow noreferrer\">CVE-2021-45046</a> ... <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-44228\" rel=\"nofollow noreferrer\">CVE-2021-44228</a> ... <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-45105\" rel=\"nofollow noreferrer\">CVE-2021-45105</a>). If you want to detect older versions as well (which have their own critical severity CVEs and also need to be upgraded) then the REGEX would just be <code>log4j</code> and you'd have to manually figure out which specific jars are the vulnerable ones.\n<ul>\n<li>it may actually be able to be refined further... but i'm not sure of the <em>specific</em> jar file is the problem for these other CVEs: <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2019-17571\" rel=\"nofollow noreferrer\">CVE-2019-17571</a> and <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-4104\" rel=\"nofollow noreferrer\">CVE-2021-4104</a></li>\n</ul>\n</li>\n<li><a href=\"https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\" rel=\"nofollow noreferrer\">Reddit thread: log4j_0day_being_exploited</a> <kbd>cntl</kbd>+<kbd>f</kbd> for <code>.class and .jar recursive hunter</code> will give you some tools to help with this recursive search</li>\n</ul>\n<p>Detecting Log4J use on running applcation (in container or not doesn't matter):</p>\n<ul>\n<li>Go to <a href=\"https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\" rel=\"nofollow noreferrer\">Reddit thread: log4j_0day_being_exploited</a> and <kbd>cntl</kbd>+<kbd>f</kbd> for <code>Vendor Advisories</code>. Search the lists there for any software/plugins you are running. If you are running something in the list and there is an update available, update.</li>\n<li>Then go to the same website and <kbd>cntl</kbd>+<kbd>f</kbd> for <code>Vulnerability Detection</code>. Use the tools there. If you detect the vulnerability, remediate.</li>\n<li>Then go to the same website and <kbd>cntl</kbd>+<kbd>f</kbd> for <code>Exploitation Detection</code>. Use the tools there. These will detect if you have <em>already</em> been attacked. If you detect that you have, then remediate and respond to that attack as necessary.</li>\n</ul>\n<hr />\n<p><strong>More resources</strong></p>\n<ul>\n<li><a href=\"https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/</a>\n<ul>\n<li>This one has TONS of useful info including detectors, even more resource links, very easy to understand remediation steps, and more</li>\n</ul>\n</li>\n<li><a href=\"https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance\" rel=\"nofollow noreferrer\">https://www.cisa.gov/uscert/apache-log4j-vulnerability-guidance</a></li>\n<li><a href=\"https://github.com/cisagov/log4j-affected-db\" rel=\"nofollow noreferrer\">https://github.com/cisagov/log4j-affected-db</a></li>\n<li><a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/security.html</a></li>\n</ul>\n<hr />\n<p><strong>Remediation:</strong><br />\n<strong><a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-45046\" rel=\"nofollow noreferrer\">CVE-2021-45046</a> ... <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-44228\" rel=\"nofollow noreferrer\">CVE-2021-44228</a> ... <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-45105\" rel=\"nofollow noreferrer\">CVE-2021-45105</a></strong><br />\nWhile most people that need to know probably already know enough to do what they need to do, I thought I would still put this just in case...</p>\n<ul>\n<li>Follow the guidance in those resources... it may change, but</li>\n</ul>\n<h3>As of 2021-12-18</h3>\n<p>It's basically</p>\n<ul>\n<li>Remove log4j-core JAR files if possible\n<ul>\n<li>From both running machines for immediate fix AND</li>\n<li>in your source code / source code management files to prevent future builds / releases / deployments from overwriting the change</li>\n</ul>\n</li>\n<li>If that is not possible (due to a dependency), upgrade them\n<ul>\n<li>If you are running Java8, then you can upgrade to log4j 2.17.0+</li>\n<li>If you are running an earlier version of Java, then you can upgrade to log4j 2.12.3</li>\n<li>If you are running an older version of Java, then you need to upgrade to the newest version of Java, and then use the newest version of Log4J</li>\n<li>Again, these changes have to happen both on running machine and in code</li>\n</ul>\n</li>\n<li>If neither of those are possible for some reason... then there is the NON-remediation stop gap of removing the JndiLookup.class file from the log4j-core JARs.\n<ul>\n<li>There is a one-liner for the stop gap option on Linux using the <code>zip</code> command that comes packaged with most Linux distros by default.\n<ul>\n<li><code>zip -q -d &quot;$LOG4J_JAR_PATH&quot; org/apache/logging/log4j/core/lookup/JndiLookup.class</code></li>\n</ul>\n</li>\n<li>At time of writing, most of the guides online for the stop gap option on Windows say to do the following (again... assuming you can't do one of the remove JAR or upgrade options above):\n<ul>\n<li>Install something like 7-zip</li>\n<li>Locate all of your log4j-core JAR files and for each one do the following...</li>\n<li>Rename the JAR to change the extension to <code>.zip</code></li>\n<li>Use 7-zip to unzip the JAR (which now has a <code>.zip</code> extension)</li>\n<li>Locate and remove the JndiLookup.class file from the unzipped folder\n<ul>\n<li>The path is <code>\\\\path\\\\to\\\\unzippedFolder\\\\org\\\\apache\\\\logging\\\\log4j\\\\core\\\\lookup\\\\JndiLookup.class</code></li>\n</ul>\n</li>\n<li>Delete the old JAR file (which now has an extension of .zip)</li>\n<li>Use 7-zip to RE-zip the folder</li>\n<li>Rename the new .zip folder to change the extension to <code>.jar</code></li>\n</ul>\n</li>\n<li>There are also some options to use Power Shell\n<ul>\n<li><a href=\"https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/\" rel=\"nofollow noreferrer\">Reddit thread: log4j_0day_being_exploited</a></li>\n<li><kbd>ctrl</kbd>+<kbd>f</kbd> for &quot;PowerShell&quot;</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>This is fine if you only have 1 or 2 JAR files to deal with and you don't mind installing 7-zip or you have PowerShell available to do it. However, if you have lots of JAR files, or if you don't want to install 7-zip and don't have access to Power Shell, I created an open-source VBS script that will do it for you without needing to install any additional software. <a href=\"https://github.com/CrazyKidJack/Windowslog4jClassRemover\" rel=\"nofollow noreferrer\">https://github.com/CrazyKidJack/Windowslog4jClassRemover</a></p>\n<p>Read the README and the Release Notes <a href=\"https://github.com/CrazyKidJack/Windowslog4jClassRemover/releases/latest\" rel=\"nofollow noreferrer\">https://github.com/CrazyKidJack/Windowslog4jClassRemover/releases/latest</a></p>\n"},{"tags":[],"owner":{"account_id":5300172,"reputation":2057,"user_id":4230093,"accept_rate":20,"display_name":"Hey StackExchange"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643198021,"creation_date":1641219065,"answer_id":70567025,"question_id":70333482,"body_markdown":"You can use:\r\n\r\n`mvn dependency:tree -Dincludes=*log4j*`\r\n\r\nIt will find any dependencies and transitive dependencies having &quot;log4j&quot; anywhere in its groupId.\r\n\r\nExample of output:\r\n\r\n```\r\n\\- org.springframework.boot:spring-boot-starter-web:jar:2.6.0:compile\r\n[INFO]    \\- org.springframework.boot:spring-boot-starter:jar:2.6.0:compile\r\n[INFO]       \\- org.springframework.boot:spring-boot-starter-logging:jar:2.6.0:compile\r\n[INFO]          \\- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\r\n[INFO]             \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\r\n\r\n```\r\nEach pattern segment is optional and supports full and partial * wildcards. An empty pattern segment is treated as an implicit wildcard.\r\n\r\nFor example, org.apache.* would match all artifacts whose group id started with org.apache., and :::*-SNAPSHOT would match all snapshot artifacts.\r\n\r\nSee also [maven doc][1]\r\n\r\n\r\nEDIT\r\n\r\nYou then most probably would want then exclude these dependencies with:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;your dep groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;your dep artifactId&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**Notes**\r\n\r\nAt the time of writting, it is any version &lt; 2.17.1\r\n\r\nLog4j versions with vulnerabilites are available on [Maven Repository][1]\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core","title":"How to quickly detect and remove log4j classes from our code base and the base image? &quot;mvn dependency:tree&quot; does not check base image","body":"<p>You can use:</p>\n<p><code>mvn dependency:tree -Dincludes=*log4j*</code></p>\n<p>It will find any dependencies and transitive dependencies having &quot;log4j&quot; anywhere in its groupId.</p>\n<p>Example of output:</p>\n<pre><code>\\- org.springframework.boot:spring-boot-starter-web:jar:2.6.0:compile\n[INFO]    \\- org.springframework.boot:spring-boot-starter:jar:2.6.0:compile\n[INFO]       \\- org.springframework.boot:spring-boot-starter-logging:jar:2.6.0:compile\n[INFO]          \\- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\n[INFO]             \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\n\n</code></pre>\n<p>Each pattern segment is optional and supports full and partial * wildcards. An empty pattern segment is treated as an implicit wildcard.</p>\n<p>For example, org.apache.* would match all artifacts whose group id started with org.apache., and :::*-SNAPSHOT would match all snapshot artifacts.</p>\n<p>See also <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\" rel=\"nofollow noreferrer\">maven doc</a></p>\n<p>EDIT</p>\n<p>You then most probably would want then exclude these dependencies with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;your dep groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;your dep artifactId&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Notes</strong></p>\n<p>At the time of writting, it is any version &lt; 2.17.1</p>\n<p>Log4j versions with vulnerabilites are available on <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\" rel=\"nofollow noreferrer\">Maven Repository</a></p>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7943,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70360877,"answer_count":3,"score":3,"last_activity_date":1652463881,"creation_date":1639392770,"question_id":70333482,"body_markdown":"We are building an app based on Red Hat JBoss AMQ 6. We wrap some Java code around the base image to provide extra functionalities which are lacking in AMQ 6.\r\n\r\nNow, when the CVE of Log4j stroke, we found that this component is vulnerable because it uses log4j 1.x. Now I don&#39;t just mean our Java code uses it, but also the base image of Red Hat AMQ 6 uses it. As AMQ 6 is EOL now, Red Hat does not provide support anymore, so there will not be official releases with fix.\r\n\r\nSo, how do I remove vulnerable log4j 1.x classes from:\r\n\r\n - my Java code\r\n - the base image\r\n\r\n?\r\n\r\nI am building with `jib` maven plugin.\r\n\r\nIt seems `mvn dependency:tree` only gives info about our Java wrapper code, not about the base image. And I don&#39;t understand what does the &quot;+&quot; and &quot;-&quot; mean while it gives output like this:\r\n\r\n```\r\n[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.7.0.Final:compile\r\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.1_spec:jar:1.0.2.Final:compile\r\n[INFO] |  +- org.jboss.spec.javax.xml.bind:jboss-jaxb-api_2.3_spec:jar:1.0.1.Final:compile\r\n[INFO] |  +- org.reactivestreams:reactive-streams:jar:1.0.2:compile\r\n[INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.3_spec:jar:1.0.1.Final:compile\r\n[INFO] |  +- javax.activation:activation:jar:1.1.1:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.4:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.7:compile\r\n[INFO] |  |  +- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.10:compile\r\n[INFO] |  +- commons-io:commons-io:jar:2.5:compile\r\n[INFO] |  +- net.jcip:jcip-annotations:jar:1.0:compile\r\n[INFO] |  \\- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\r\n```\r\nDoes `+` mean that it can be expanded further but is not shown here?\r\n\r\n\r\nSome background here: https://nvd.nist.gov/vuln/detail/CVE-2021-44228\r\n","title":"How to quickly detect and remove log4j classes from our code base and the base image? &quot;mvn dependency:tree&quot; does not check base image","body":"<p>We are building an app based on Red Hat JBoss AMQ 6. We wrap some Java code around the base image to provide extra functionalities which are lacking in AMQ 6.</p>\n<p>Now, when the CVE of Log4j stroke, we found that this component is vulnerable because it uses log4j 1.x. Now I don't just mean our Java code uses it, but also the base image of Red Hat AMQ 6 uses it. As AMQ 6 is EOL now, Red Hat does not provide support anymore, so there will not be official releases with fix.</p>\n<p>So, how do I remove vulnerable log4j 1.x classes from:</p>\n<ul>\n<li>my Java code</li>\n<li>the base image</li>\n</ul>\n<p>?</p>\n<p>I am building with <code>jib</code> maven plugin.</p>\n<p>It seems <code>mvn dependency:tree</code> only gives info about our Java wrapper code, not about the base image. And I don't understand what does the &quot;+&quot; and &quot;-&quot; mean while it gives output like this:</p>\n<pre><code>[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.7.0.Final:compile\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.1_spec:jar:1.0.2.Final:compile\n[INFO] |  +- org.jboss.spec.javax.xml.bind:jboss-jaxb-api_2.3_spec:jar:1.0.1.Final:compile\n[INFO] |  +- org.reactivestreams:reactive-streams:jar:1.0.2:compile\n[INFO] |  +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.3_spec:jar:1.0.1.Final:compile\n[INFO] |  +- javax.activation:activation:jar:1.1.1:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.4:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.7:compile\n[INFO] |  |  +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.10:compile\n[INFO] |  +- commons-io:commons-io:jar:2.5:compile\n[INFO] |  +- net.jcip:jcip-annotations:jar:1.0:compile\n[INFO] |  \\- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\n</code></pre>\n<p>Does <code>+</code> mean that it can be expanded further but is not shown here?</p>\n<p>Some background here: <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-44228\" rel=\"nofollow noreferrer\">https://nvd.nist.gov/vuln/detail/CVE-2021-44228</a></p>\n"},{"tags":["java","spring-boot","h2","spring-boot-test"],"comments":[{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1651600510,"post_id":72071680,"comment_id":127400437,"body_markdown":"It literally says column = &quot;created_at&quot; was not found. Did you check you database? You sure it exists?","body":"It literally says column = &quot;created_at&quot; was not found. Did you check you database? You sure it exists?"},{"owner":{"account_id":16048458,"reputation":11,"user_id":11583024,"display_name":"Alexandre Velloso"},"score":0,"creation_date":1651600601,"post_id":72071680,"comment_id":127400471,"body_markdown":"@Vusal It is working fine when I start the project ( I am using liquibase to create the tables and the MySQL database ). The problem is happening only during unit tests","body":"@Vusal It is working fine when I start the project ( I am using liquibase to create the tables and the MySQL database ). The problem is happening only during unit tests"},{"owner":{"account_id":16048458,"reputation":11,"user_id":11583024,"display_name":"Alexandre Velloso"},"score":0,"creation_date":1651600852,"post_id":72071680,"comment_id":127400542,"body_markdown":"I know, I am using the h2 to run the tests in a memory database","body":"I know, I am using the h2 to run the tests in a memory database"},{"owner":{"account_id":16048458,"reputation":11,"user_id":11583024,"display_name":"Alexandre Velloso"},"score":0,"creation_date":1651601315,"post_id":72071680,"comment_id":127400698,"body_markdown":"This is what I want to know, why the h2 doesn&#39;t have this column, I defined it in the Entity class.\nI have another class that is similar to this one and works","body":"This is what I want to know, why the h2 doesn&#39;t have this column, I defined it in the Entity class. I have another class that is similar to this one and works"}],"owner":{"account_id":16048458,"reputation":11,"user_id":11583024,"display_name":"Alexandre Velloso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652463642,"creation_date":1651348068,"question_id":72071680,"body_markdown":"I have this problem when testing a JPA repository:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;CREATED_AT&quot; not found; SQL statement:\r\n            insert into people_establishments (created_at, establishment_id, person_id, updated_at) values (?, ?, ?, ?) [42122-212]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n            at org.h2.message.DbException.get(DbException.java:223)\r\n            at org.h2.message.DbException.get(DbException.java:199)\r\n            at org.h2.table.Table.getColumn(Table.java:754)\r\n            at org.h2.command.Parser.parseColumn(Parser.java:1264)\r\n            at org.h2.command.Parser.parseColumnList(Parser.java:1249)\r\n            at org.h2.command.Parser.parseInsert(Parser.java:1650)\r\n            at org.h2.command.Parser.parsePrepared(Parser.java:814)\r\n            at org.h2.command.Parser.parse(Parser.java:691)\r\n            at org.h2.command.Parser.parse(Parser.java:661)\r\n            at org.h2.command.Parser.prepareCommand(Parser.java:568)\r\n            at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\r\n            at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\r\n            at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\r\n            at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\r\n            at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1044)\r\n            at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$2.doPrepare(StatementPreparerImpl.java:109)\r\n            at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n            ... 139 more\r\n\r\n\r\nBut this column exist in this entity file:\r\n\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;people_establishments&quot;)\r\n    public class PersonEstablishment {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;establishment_id&quot;)\r\n        private Integer establishmentId;\r\n    \r\n        @Column(name = &quot;person_id&quot;)\r\n        private Integer personId;\r\n    \r\n        @Column(name = &quot;created_at&quot;)\r\n        private OffsetDateTime createdAt;\r\n    \r\n        @Column(name = &quot;updated_at&quot;)\r\n        private OffsetDateTime updatedAt;\r\n    \r\n        @PreUpdate\r\n        @PrePersist\r\n        public void updateDateFields() {\r\n            if (this.createdAt == null) {\r\n                this.createdAt = OffsetDateTime.now();\r\n            }\r\n    \r\n            this.updatedAt = OffsetDateTime.now();\r\n        }\r\n    \r\n    }\r\n\r\nTest method:\r\n\r\n    @DataJpaTest\r\n    class PersonRepositoryTest extends EntitiesFactory {\r\n        \r\n        // ...\r\n        \r\n        @Autowired\r\n        protected PeopleEstablishmentsRepository peopleEstablishmentsRepository;\r\n\r\n        @AfterEach\r\n        void tearDown() {\r\n            peopleRepository.deleteAll();\r\n        }\r\n\r\n        @Test\r\n        void itShouldFindPersonByIdAndEstablishmentIdCreatedBy() {\r\n            // given\r\n            int createdBy = 1;\r\n\r\n            Establishment e = createEstablishment(&quot;Restaurant&quot;, createdBy);\r\n            Person p = createPerson(&quot;John&quot;, createdBy);\r\n\r\n            PersonEstablishment personEstablishment = PersonEstablishment.builder()\r\n                    .personId(p.getId())\r\n                    .establishmentId(e.getId())\r\n                    .build();\r\n\r\n            // The error is happenig here\r\n            peopleEstablishmentsRepository.save(personEstablishment);\r\n\r\n            // when\r\n            Optional&lt;Person&gt; expected = peopleRepository.findByIdAndEstablishmentIdCreatedBy(p.getId(), e.getId(), createdBy);\r\n\r\n            // then\r\n            assertThat(expected).isPresent();\r\n        }\r\n\r\n        // ...\r\n        \r\n    }\r\n\r\nI am using h2 database to run the test, and I have other similar tables and they are working, only this one is failing, I tried to check the name if I have a typo, but the name is correct. Do you know what could be happening?\r\n\r\nEDIT:\r\n\r\nI found the error, the relation between Establishment and PeopleEstablishments wasn&#39;t set correctly. I deleted this relationship and it works:\r\n\r\n    public class Establishment {\r\n\r\n        ...\r\n    \r\n        @ManyToMany(cascade = {CascadeType.ALL}, fetch = FetchType.EAGER)\r\n        @JoinTable(schema = &quot;public&quot;, name = &quot;people_establishments&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;establishment_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        )\r\n        private List&lt;Person&gt; people;\r\n    \r\n        ...\r\n    \r\n    }","title":"Column not found when running unit tests in Spring Boot","body":"<p>I have this problem when testing a JPA repository:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;CREATED_AT&quot; not found; SQL statement:\n        insert into people_establishments (created_at, establishment_id, person_id, updated_at) values (?, ?, ?, ?) [42122-212]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n        at org.h2.message.DbException.get(DbException.java:223)\n        at org.h2.message.DbException.get(DbException.java:199)\n        at org.h2.table.Table.getColumn(Table.java:754)\n        at org.h2.command.Parser.parseColumn(Parser.java:1264)\n        at org.h2.command.Parser.parseColumnList(Parser.java:1249)\n        at org.h2.command.Parser.parseInsert(Parser.java:1650)\n        at org.h2.command.Parser.parsePrepared(Parser.java:814)\n        at org.h2.command.Parser.parse(Parser.java:691)\n        at org.h2.command.Parser.parse(Parser.java:661)\n        at org.h2.command.Parser.prepareCommand(Parser.java:568)\n        at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\n        at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\n        at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\n        at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1044)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$2.doPrepare(StatementPreparerImpl.java:109)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n        ... 139 more\n</code></pre>\n<p>But this column exist in this entity file:</p>\n<pre><code>@Builder\n@Getter\n@Setter\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;people_establishments&quot;)\npublic class PersonEstablishment {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;establishment_id&quot;)\n    private Integer establishmentId;\n\n    @Column(name = &quot;person_id&quot;)\n    private Integer personId;\n\n    @Column(name = &quot;created_at&quot;)\n    private OffsetDateTime createdAt;\n\n    @Column(name = &quot;updated_at&quot;)\n    private OffsetDateTime updatedAt;\n\n    @PreUpdate\n    @PrePersist\n    public void updateDateFields() {\n        if (this.createdAt == null) {\n            this.createdAt = OffsetDateTime.now();\n        }\n\n        this.updatedAt = OffsetDateTime.now();\n    }\n\n}\n</code></pre>\n<p>Test method:</p>\n<pre><code>@DataJpaTest\nclass PersonRepositoryTest extends EntitiesFactory {\n    \n    // ...\n    \n    @Autowired\n    protected PeopleEstablishmentsRepository peopleEstablishmentsRepository;\n\n    @AfterEach\n    void tearDown() {\n        peopleRepository.deleteAll();\n    }\n\n    @Test\n    void itShouldFindPersonByIdAndEstablishmentIdCreatedBy() {\n        // given\n        int createdBy = 1;\n\n        Establishment e = createEstablishment(&quot;Restaurant&quot;, createdBy);\n        Person p = createPerson(&quot;John&quot;, createdBy);\n\n        PersonEstablishment personEstablishment = PersonEstablishment.builder()\n                .personId(p.getId())\n                .establishmentId(e.getId())\n                .build();\n\n        // The error is happenig here\n        peopleEstablishmentsRepository.save(personEstablishment);\n\n        // when\n        Optional&lt;Person&gt; expected = peopleRepository.findByIdAndEstablishmentIdCreatedBy(p.getId(), e.getId(), createdBy);\n\n        // then\n        assertThat(expected).isPresent();\n    }\n\n    // ...\n    \n}\n</code></pre>\n<p>I am using h2 database to run the test, and I have other similar tables and they are working, only this one is failing, I tried to check the name if I have a typo, but the name is correct. Do you know what could be happening?</p>\n<p>EDIT:</p>\n<p>I found the error, the relation between Establishment and PeopleEstablishments wasn't set correctly. I deleted this relationship and it works:</p>\n<pre><code>public class Establishment {\n\n    ...\n\n    @ManyToMany(cascade = {CascadeType.ALL}, fetch = FetchType.EAGER)\n    @JoinTable(schema = &quot;public&quot;, name = &quot;people_establishments&quot;,\n            joinColumns = @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;establishment_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private List&lt;Person&gt; people;\n\n    ...\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","nullpointerexception"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":4,"creation_date":1652464421,"post_id":72233368,"comment_id":127621122,"body_markdown":"You cannot do this:`private TextView display_textview = findViewById(R.id.display_textview);` - `findViewById` can only be called in the `onCreate` (or later) (because the activity context has not been set yet) _and_ after the layout has been set (otherwise it would not find the elements).  Just move the initialization to right after `setContentView(R.layout.activity_main);` for example in MainActivity.","body":"You cannot do this:<code>private TextView display_textview = findViewById(R.id.display_textview);</code> - <code>findViewById</code> can only be called in the <code>onCreate</code> (or later) (because the activity context has not been set yet) <i>and</i> after the layout has been set (otherwise it would not find the elements).  Just move the initialization to right after <code>setContentView(R.layout.activity_main);</code> for example in MainActivity."},{"owner":{"account_id":22248513,"reputation":25,"user_id":16481825,"display_name":"vibhum mohan"},"score":0,"creation_date":1652525010,"post_id":72233368,"comment_id":127630326,"body_markdown":"Thank you so much : ) for checking this. but when i did this then display_textview.setText inside onActivityResult showed error becoz it was not identified so my made a local var there also inside OnActvityResult but no luck","body":"Thank you so much : ) for checking this. but when i did this then display_textview.setText inside onActivityResult showed error becoz it was not identified so my made a local var there also inside OnActvityResult but no luck"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1652566630,"post_id":72233368,"comment_id":127638086,"body_markdown":"Leave the declaration as you have it (in class scope) but only initialize it as discussed above.","body":"Leave the declaration as you have it (in class scope) but only initialize it as discussed above."},{"owner":{"account_id":22248513,"reputation":25,"user_id":16481825,"display_name":"vibhum mohan"},"score":0,"creation_date":1652594325,"post_id":72233368,"comment_id":127640615,"body_markdown":"@B__ Bro that was such a stupid mistake of mine. It worked, thanks a ton bro! Really appreciate your help :)","body":"@B__ Bro that was such a stupid mistake of mine. It worked, thanks a ton bro! Really appreciate your help :)"}],"owner":{"account_id":22248513,"reputation":25,"user_id":16481825,"display_name":"vibhum mohan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652463556,"creation_date":1652462584,"question_id":72233368,"body_markdown":"*I&#39;ve this basic app called Navigation that I was trying to make to understand some concepts where there are 2 activities MainActivity and ActivityB\r\nMainActivity has a textview and a button to go on to ActivityB and ActivityB has an edit text and a button to go back to MainActivity editText takes string and string gets send to MainActivity and gets displayed in it&#39;s TextView*\r\n________________________________________________________________________________________\r\n\r\n**I am Getting this Error :** \r\n\r\n**Navigation keeps stopping**\r\n\r\n**Here is stacktrace from logcat**\r\n\r\n2022-05-13 21:51:01.139 6899-6899/com.example.navigation E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.navigation, PID: 6899\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.navigation/com.example.navigation.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3545)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n        at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:181)\r\n        at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\r\n        at android.content.Context.obtainStyledAttributes(Context.java:804)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:848)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\r\n        at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:259)\r\n        at com.example.navigation.MainActivity.&lt;init&gt;(MainActivity.java:21)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1273)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3532)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)&#160;\r\n2022-05-13 21:51:01.209 6899-6899/? I/Process: Sending signal. PID: 6899 SIG: 9\r\n_____________________________________________________________________________________\r\n\r\n**Here is the code for MainActivity :**\r\n\r\n\r\n    package com.example.navigation;\r\n\r\n    import androidx.activity.result.ActivityResult;\r\n    import androidx.activity.result.ActivityResultCallback;\r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import androidx.activity.result.contract.ActivityResultContracts;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n\r\n    import com.example.navigation.ActivityB;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        private TextView display_textview = findViewById(R.id.display_textview);\r\n\r\n        ActivityResultLauncher&lt;Intent&gt; startForResult = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if (result == null || result.getResultCode() != RESULT_OK) {\r\n                    if (result.getData() != null &amp;&amp; result.getData().getStringExtra(&quot;name&quot;) != null){\r\n                        display_textview.setText(result.getData().getStringExtra(&quot;name&quot;));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            Button activityB_button = findViewById(R.id.activityB_button);\r\n\r\n            activityB_button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {    //onClick method\r\n                    Intent intent = new Intent(MainActivity.this, ActivityB.class);\r\n                    startForResult.launch(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n\r\n_______________________________________________________________________________________\r\n\r\n**Here is the code for ActivityB :**\r\n\r\n    package com.example.navigation;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n\r\n    public class ActivityB extends AppCompatActivity {\r\n\r\n        private EditText edittext_activityB = findViewById(R.id.edittext_activityB);\r\n        private Button activityA_button = findViewById(R.id.activityA_button);\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_b);\r\n\r\n            activityA_button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //extracting data from editText\r\n                    String personName = edittext_activityB.getText().toString();\r\n                    Intent intent = new Intent();\r\n                    intent.putExtra(&quot;name&quot;, personName);\r\n                    setResult(RESULT_OK, intent);\r\n                    finish();\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n__________________________________________________________________________________________\r\n\r\nAs far as i can understand logcat says :at com.example.navigation.MainActivity.&lt;init&gt;(MainActivity.java:21)\r\n\r\nSo maybe this line &quot;private TextView display_textview = findViewById(R.id.display_textview);&quot;\r\n\r\nhas some issue.\r\n\r\nDo tell me If you need any other info.\r\nI am most active at :\r\nInstagram : @chimtubhaiya\r\nyou can directly dm me there :)\r\n___________________________________________________________________________________________\r\n\r\nThanks to all who tried to solve my issue :)\r\n\r\n\r\n ","title":"NPE: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference","body":"<p><em>I've this basic app called Navigation that I was trying to make to understand some concepts where there are 2 activities MainActivity and ActivityB\nMainActivity has a textview and a button to go on to ActivityB and ActivityB has an edit text and a button to go back to MainActivity editText takes string and string gets send to MainActivity and gets displayed in it's TextView</em></p>\n<hr />\n<p><strong>I am Getting this Error :</strong></p>\n<p><strong>Navigation keeps stopping</strong></p>\n<p><strong>Here is stacktrace from logcat</strong></p>\n<p>2022-05-13 21:51:01.139 6899-6899/com.example.navigation E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.navigation, PID: 6899\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.navigation/com.example.navigation.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3545)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7839)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\nat android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:181)\nat android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\nat android.content.Context.obtainStyledAttributes(Context.java:804)\nat androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:848)\nat androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815)\nat androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\nat androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:259)\nat com.example.navigation.MainActivity.(MainActivity.java:21)\nat java.lang.Class.newInstance(Native Method)\nat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\nat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\nat android.app.Instrumentation.newActivity(Instrumentation.java:1273)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3532)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3792)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7839)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n2022-05-13 21:51:01.209 6899-6899/? I/Process: Sending signal. PID: 6899 SIG: 9</p>\n<hr />\n<p><strong>Here is the code for MainActivity :</strong></p>\n<pre><code>package com.example.navigation;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport com.example.navigation.ActivityB;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private TextView display_textview = findViewById(R.id.display_textview);\n\n    ActivityResultLauncher&lt;Intent&gt; startForResult = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            if (result == null || result.getResultCode() != RESULT_OK) {\n                if (result.getData() != null &amp;&amp; result.getData().getStringExtra(&quot;name&quot;) != null){\n                    display_textview.setText(result.getData().getStringExtra(&quot;name&quot;));\n                }\n            }\n        }\n    });\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button activityB_button = findViewById(R.id.activityB_button);\n\n        activityB_button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {    //onClick method\n                Intent intent = new Intent(MainActivity.this, ActivityB.class);\n                startForResult.launch(intent);\n            }\n        });\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Here is the code for ActivityB :</strong></p>\n<pre><code>package com.example.navigation;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class ActivityB extends AppCompatActivity {\n\n    private EditText edittext_activityB = findViewById(R.id.edittext_activityB);\n    private Button activityA_button = findViewById(R.id.activityA_button);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_b);\n\n        activityA_button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //extracting data from editText\n                String personName = edittext_activityB.getText().toString();\n                Intent intent = new Intent();\n                intent.putExtra(&quot;name&quot;, personName);\n                setResult(RESULT_OK, intent);\n                finish();\n            }\n        });\n\n    }\n}\n</code></pre>\n<hr />\n<p>As far as i can understand logcat says :at com.example.navigation.MainActivity.(MainActivity.java:21)</p>\n<p>So maybe this line &quot;private TextView display_textview = findViewById(R.id.display_textview);&quot;</p>\n<p>has some issue.</p>\n<p>Do tell me If you need any other info.\nI am most active at :\nInstagram : @chimtubhaiya\nyou can directly dm me there :)</p>\n<hr />\n<p>Thanks to all who tried to solve my issue :)</p>\n"},{"tags":["java","excel","apache-poi","module-info"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1652441171,"post_id":72224266,"comment_id":127612759,"body_markdown":"Are you using Modules or Classpath?","body":"Are you using Modules or Classpath?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654173491,"post_id":72224266,"comment_id":128031300,"body_markdown":"Why do you write unnamed module in your question title when the posted error message clearly contains a named module (`org.apache.poi.ooxml`)?","body":"Why do you write unnamed module in your question title when the posted error message clearly contains a named module (<code>org.apache.poi.ooxml</code>)?"}],"owner":{"account_id":24458527,"reputation":11,"user_id":18379818,"display_name":"Kuraj-a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652463501,"creation_date":1652414071,"question_id":72224266,"body_markdown":"I am trying to make my javafx project to create an Excel file. One of the first steps for it would be ``` XSSFWorkbook workbook = new XSSFWorkbook(); ``` for which to work I need ``` import org.apache.poi.xssf.usermodel.XSSFWorkbook; ```  to work. But when I try to run the program I get an error:\r\n\r\n```java: package org.apache.poi.xssf.usermodel is not visible\r\n  (package org.apache.poi.xssf.usermodel is declared in module org.apache.poi.ooxml, but module group.proga does not read it)\r\n```\r\nI use IntelliJ IDEA 2022.1.1 (Community Edition). I downloaded **Apache POI 5.2.2** and **poi-ooxml-5.2.2** and **commons-collections4-4.4** JAR files. I tried adding them to external Libraries by opening Files-Project Structure - Libraries - +. They were added to the External Libraries List but do not work. I also added dependencies to the POM file:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIt did not help either. Please, I have a project deadline soon and I can not finish it without it creating an Excel file.","title":"Java ERROR: package X is declared in the unnamed module, but module Y does not read it","body":"<p>I am trying to make my javafx project to create an Excel file. One of the first steps for it would be <code>XSSFWorkbook workbook = new XSSFWorkbook();</code> for which to work I need <code>import org.apache.poi.xssf.usermodel.XSSFWorkbook;</code>  to work. But when I try to run the program I get an error:</p>\n<pre><code>  (package org.apache.poi.xssf.usermodel is declared in module org.apache.poi.ooxml, but module group.proga does not read it)\n</code></pre>\n<p>I use IntelliJ IDEA 2022.1.1 (Community Edition). I downloaded <strong>Apache POI 5.2.2</strong> and <strong>poi-ooxml-5.2.2</strong> and <strong>commons-collections4-4.4</strong> JAR files. I tried adding them to external Libraries by opening Files-Project Structure - Libraries - +. They were added to the External Libraries List but do not work. I also added dependencies to the POM file:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>It did not help either. Please, I have a project deadline soon and I can not finish it without it creating an Excel file.</p>\n"},{"tags":["java","netty","flatbuffers"],"comments":[{"owner":{"account_id":9427,"reputation":5674,"user_id":17419,"display_name":"Aardappel"},"score":0,"creation_date":1652408275,"post_id":72223632,"comment_id":127604564,"body_markdown":"I think you&#39;ve answered your own question, but yes, during the call to `traceId` the underlying buffer must still contain the full FlatBuffer.","body":"I think you&#39;ve answered your own question, but yes, during the call to <code>traceId</code> the underlying buffer must still contain the full FlatBuffer."},{"owner":{"account_id":4982461,"reputation":1881,"user_id":4007003,"accept_rate":67,"display_name":"Saurav Prakash"},"score":0,"creation_date":1652462927,"post_id":72223632,"comment_id":127620687,"body_markdown":"Yeah i think i can see this, but I dont&#39; understand why it happens only rarely and not always?","body":"Yeah i think i can see this, but I dont&#39; understand why it happens only rarely and not always?"},{"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"score":0,"creation_date":1652464229,"post_id":72223632,"comment_id":127621062,"body_markdown":"Could you please share the reason behind why you use `final` keyword over `Exception` reference? Further, using still try-catch is really ill-formated-way of catching exception instead of preferring `try-with-resource`","body":"Could you please share the reason behind why you use <code>final</code> keyword over <code>Exception</code> reference? Further, using still try-catch is really ill-formated-way of catching exception instead of preferring <code>try-with-resource</code>"},{"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"score":0,"creation_date":1652531588,"post_id":72223632,"comment_id":127631448,"body_markdown":"@SauravPrakash Could you please share the reason behind why you use final keyword over Exception reference? Further, using still try-catch is really ill-formated-way of catching exception instead of preferring try-with-resource","body":"@SauravPrakash Could you please share the reason behind why you use final keyword over Exception reference? Further, using still try-catch is really ill-formated-way of catching exception instead of preferring try-with-resource"},{"owner":{"account_id":4982461,"reputation":1881,"user_id":4007003,"accept_rate":67,"display_name":"Saurav Prakash"},"score":0,"creation_date":1652563777,"post_id":72223632,"comment_id":127637726,"body_markdown":"Hi @snr, this is a code representation that I cam up with just to ask the question.","body":"Hi @snr, this is a code representation that I cam up with just to ask the question."}],"owner":{"account_id":4982461,"reputation":1881,"user_id":4007003,"accept_rate":67,"display_name":"Saurav Prakash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652462984,"creation_date":1652406177,"question_id":72223632,"body_markdown":"We are using Flatbuffer with Java bindings.\r\nThe application is running Netty4 and has following code for handling Netty request:\r\n\r\n    String id;\r\n    try {\r\n            request = PostRequest.getRootAsPostRequest(msg.getPayloadBuffer().nioBuffer());\r\n            id = request.id(); // string\r\n\r\n        } catch (final Exception exception) {\r\n            ctx.writeResponseAndFlush(StatusCode.StatusCode400, exception);\r\n            return;\r\n        } finally {\r\n            msg.getPayloadBuffer().release();\r\n        }\r\n\r\n    traceId = request.traceId(); // &lt;-- this string sometimes becomes null\r\n\r\nThis code occasionally sets `traceId` as null and I am not able to fully understand why.\r\nIs it because the underlying buffer might have been release and reused as I am releasing it in `finally` block?\r\n\r\nEven then, why does it happen only rarely and not always?\r\n","title":"Flatbuffer object returning null on Netty Bytebuffer","body":"<p>We are using Flatbuffer with Java bindings.\nThe application is running Netty4 and has following code for handling Netty request:</p>\n<pre><code>String id;\ntry {\n        request = PostRequest.getRootAsPostRequest(msg.getPayloadBuffer().nioBuffer());\n        id = request.id(); // string\n\n    } catch (final Exception exception) {\n        ctx.writeResponseAndFlush(StatusCode.StatusCode400, exception);\n        return;\n    } finally {\n        msg.getPayloadBuffer().release();\n    }\n\ntraceId = request.traceId(); // &lt;-- this string sometimes becomes null\n</code></pre>\n<p>This code occasionally sets <code>traceId</code> as null and I am not able to fully understand why.\nIs it because the underlying buffer might have been release and reused as I am releasing it in <code>finally</code> block?</p>\n<p>Even then, why does it happen only rarely and not always?</p>\n"},{"tags":["java","timeout"],"comments":[{"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"score":0,"creation_date":1652460616,"post_id":72232708,"comment_id":127619986,"body_markdown":"You are getting an execution timeout because your program is given only two seconds to solve the problem. It would fail the test otherwise.","body":"You are getting an execution timeout because your program is given only two seconds to solve the problem. It would fail the test otherwise."},{"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"score":0,"creation_date":1652460656,"post_id":72232708,"comment_id":127620001,"body_markdown":"Are you sure about,\n``int V[] = new int[N];``\nvariable K is not used, is it supposed to be,\n``int V[] = new int[K];`` ?","body":"Are you sure about, <code>int V[] = new int[N];</code> variable K is not used, is it supposed to be, <code>int V[] = new int[K];</code> ?"},{"owner":{"account_id":25283952,"reputation":1,"user_id":19111342,"display_name":"ISFP-deveoloper"},"score":0,"creation_date":1652461375,"post_id":72232708,"comment_id":127620230,"body_markdown":"Thank you for replying! but i&#39;m sure `int V[] = new int[N];` is right. I supposed W is object&#39;s weight , V is object&#39;s value  and N is number of object. I&#39;m still don&#39;t know what did i do wrong.","body":"Thank you for replying! but i&#39;m sure <code>int V[] = new int[N];</code> is right. I supposed W is object&#39;s weight , V is object&#39;s value  and N is number of object. I&#39;m still don&#39;t know what did i do wrong."},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":1,"creation_date":1652465044,"post_id":72232708,"comment_id":127621286,"body_markdown":"What happens if while(K&gt;objs.get(j).W)  is never false.  Should this be (K&gt;totalV )?","body":"What happens if while(K&gt;objs.get(j).W)  is never false.  Should this be (K&gt;totalV )?"}],"owner":{"account_id":25283952,"reputation":1,"user_id":19111342,"display_name":"ISFP-deveoloper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652462649,"creation_date":1652459282,"question_id":72232708,"body_markdown":"I&#39;m trying to solve BaekJoon 12865 problem by Java.\\\r\nBut it evaluates Execution timeout.\\\r\nThere isn&#39;t any error in eclipse compiler.\\\r\nSomeone know about problem in my codes.\\\r\nPlease tell me what did i do wrong.\\\r\nThis problem is find Maximum value in K weight by N objects that has V(value) and W(weight).\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tclass Object implements Comparable&lt;Object&gt;{\r\n\t\t\tprivate int W;   //object&#39;s weight\r\n\t\t\tprivate int V;   //object&#39;s value\r\n\t\t\tprivate int VbyW;\r\n\t\t\tpublic Object(int w, int v) {\r\n\t\t\t\tthis.W = w;\r\n\t\t\t\tthis.V = v;\r\n\t\t\t\tthis.VbyW = v/w;  // value by weight\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic int compareTo(Object object)\r\n\t\t\t{\r\n\t\t\t\tif (object.VbyW &gt; VbyW)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}else if(object.VbyW &lt; VbyW){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}else\r\n\t\t\t\t\treturn 0;\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tint N;   // number of object\r\n\t\tint K;   // Maximum of weight that I can have\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tN = sc.nextInt();\r\n\t\tK = sc.nextInt(); \r\n\r\n        //first I got number of objects and Maximum weight\r\n\r\n\t\tint W[] = new int[N];\r\n\t\tint V[] = new int[N];\r\n\t\tObject[] obj = new Object[N];\r\n\t\tArrayList&lt;Object&gt; objs = new ArrayList&lt;&gt;(); \r\n\t\tfor (int i=0;i&lt;N;i++)\r\n\t\t{\r\n\t\t\tW[i] = sc.nextInt();\r\n\t\t\tV[i] = sc.nextInt();\r\n\t\t\tobj[i] = new Object(W[i],V[i]);\t\t\r\n\t\t\tobjs.add(obj[i]);\r\n\t\t} // I&#39;ll get all object&#39;s value and weight\r\n\t\t\r\n\t\tCollections.sort(objs, Collections.reverseOrder());\r\n\t\tint totalV=0;   \r\n\t\tfor(int j=0;j&lt;N;j++)\r\n\t\t{\r\n\t\t\twhile(K&gt;objs.get(j).W)\r\n\t\t\t{\r\n\t\t\t\ttotalV +=objs.get(j).V;\r\n\t\t\t}\r\n\t\t} // I&#39;ll find Maximum value in K weight by objects\r\n\t\tSystem.out.println(totalV);\r\n\t\tsc.close();\r\n\t}\r\n}\r\n\r\nproblem site : https://www.acmicpc.net/problem/12865","title":"Java Execution timeout","body":"<p>I'm trying to solve BaekJoon 12865 problem by Java.<br />\nBut it evaluates Execution timeout.<br />\nThere isn't any error in eclipse compiler.<br />\nSomeone know about problem in my codes.<br />\nPlease tell me what did i do wrong.<br />\nThis problem is find Maximum value in K weight by N objects that has V(value) and W(weight).</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Scanner;\n\npublic class Main {\n\npublic static void main(String[] args) {\n    class Object implements Comparable&lt;Object&gt;{\n        private int W;   //object's weight\n        private int V;   //object's value\n        private int VbyW;\n        public Object(int w, int v) {\n            this.W = w;\n            this.V = v;\n            this.VbyW = v/w;  // value by weight\n        }\n        @Override\n        public int compareTo(Object object)\n        {\n            if (object.VbyW &gt; VbyW)\n            {\n                return 1;\n            }else if(object.VbyW &lt; VbyW){\n                return -1;\n            }else\n                return 0;               \n        }\n    }\n    int N;   // number of object\n    int K;   // Maximum of weight that I can have\n    Scanner sc = new Scanner(System.in);\n    N = sc.nextInt();\n    K = sc.nextInt(); \n\n    //first I got number of objects and Maximum weight\n\n    int W[] = new int[N];\n    int V[] = new int[N];\n    Object[] obj = new Object[N];\n    ArrayList&lt;Object&gt; objs = new ArrayList&lt;&gt;(); \n    for (int i=0;i&lt;N;i++)\n    {\n        W[i] = sc.nextInt();\n        V[i] = sc.nextInt();\n        obj[i] = new Object(W[i],V[i]);     \n        objs.add(obj[i]);\n    } // I'll get all object's value and weight\n    \n    Collections.sort(objs, Collections.reverseOrder());\n    int totalV=0;   \n    for(int j=0;j&lt;N;j++)\n    {\n        while(K&gt;objs.get(j).W)\n        {\n            totalV +=objs.get(j).V;\n        }\n    } // I'll find Maximum value in K weight by objects\n    System.out.println(totalV);\n    sc.close();\n}\n</code></pre>\n<p>}</p>\n<p>problem site : <a href=\"https://www.acmicpc.net/problem/12865\" rel=\"nofollow noreferrer\">https://www.acmicpc.net/problem/12865</a></p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652469565,"post_id":72232387,"comment_id":127622538,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":4400377,"reputation":178,"user_id":3586257,"display_name":"jese_moriarty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652462389,"creation_date":1652462389,"answer_id":72233324,"question_id":72232387,"body_markdown":"you are polling from pq and removing the 0th element.\r\n\r\n    List&lt;Interval&gt; list = pq.poll();\r\n    Interval currt = list.remove(0); //here\r\n    \r\nyou again adding this very same list to pq.\r\n\r\n    pq.add(list);\r\n\r\nso when adding to pq, pq&#39;s comparator kicks in and see a list with 0th element removed.\r\n\r\nthats why its throwing error.\r\n\r\n","title":"Java - Use PriorityQueue sort list but have empty list","body":"<p>you are polling from pq and removing the 0th element.</p>\n<pre><code>List&lt;Interval&gt; list = pq.poll();\nInterval currt = list.remove(0); //here\n</code></pre>\n<p>you again adding this very same list to pq.</p>\n<pre><code>pq.add(list);\n</code></pre>\n<p>so when adding to pq, pq's comparator kicks in and see a list with 0th element removed.</p>\n<p>thats why its throwing error.</p>\n"}],"owner":{"account_id":7939564,"reputation":13,"user_id":5994160,"display_name":"Jasmine Rice"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72233324,"answer_count":1,"score":0,"last_activity_date":1652462389,"creation_date":1652457514,"question_id":72232387,"body_markdown":"This is my solution for leetcode 759. Employee Free Time, but it has index out of boundary issue that i don&#39;t understand.\r\n\r\nI got &quot;index 0 out of bounds for length 0&quot; exception.\r\n    \r\n    public List&lt;Interval&gt; employeeFreeTime(List&lt;List&lt;Interval&gt;&gt; schedule) {\r\n        PriorityQueue&lt;List&lt;Interval&gt;&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; {\r\n            System.out.println(&quot;b start &quot; + b.get(0).start + &quot;  end &quot; + b.get(0).end);\r\n            System.out.println(&quot;a start &quot; + a.get(0).start + &quot;  end &quot; + a.get(0).end);\r\n            Interval first = a.get(0);\r\n            Interval second = b.get(0);\r\n            int diff = first.start - second.start;\r\n            if (diff == 0) return second.end - first.end;\r\n            return diff;\r\n        });\r\n        for (List&lt;Interval&gt; s: schedule) pq.add(s);\r\n        \r\n        List&lt;Interval&gt; rst = new ArrayList&lt;&gt;();\r\n        int start = pq.peek().get(0).start, end = pq.peek().get(0).end;\r\n        while (!pq.isEmpty()) {\r\n            List&lt;Interval&gt; list = pq.poll();\r\n            Interval currt = list.remove(0);\r\n            if (start &lt;= currt.end) end = Math.max(end, currt.end);\r\n            else {\r\n                Interval freeTime = new Interval(end, currt.start);\r\n                rst.add(freeTime);\r\n                start = currt.start;\r\n                end = currt.end;\r\n            }\r\n            pq.add(list);\r\n        }\r\n        return rst;\r\n    }\r\n\r\n\r\nThe test case i used is &#39;[[[1,2]],[[1,3]],[[4,10]]]&#39; and this is the output:\r\n\r\n    b start 1  end 2\r\n    a start 1  end 3\r\n    b start 1  end 3\r\n    a start 4  end 10\r\n    b start 1  end 2\r\n    a start 4  end 10\r\n    b start 1  end 2\r\n\r\nI only have 3 lists and based on the output, it looks like it has compared all lists. Why does PriorityQueue compare [1,2] again with an empty list?\r\n\r\n","title":"Java - Use PriorityQueue sort list but have empty list","body":"<p>This is my solution for leetcode 759. Employee Free Time, but it has index out of boundary issue that i don't understand.</p>\n<p>I got &quot;index 0 out of bounds for length 0&quot; exception.</p>\n<pre><code>public List&lt;Interval&gt; employeeFreeTime(List&lt;List&lt;Interval&gt;&gt; schedule) {\n    PriorityQueue&lt;List&lt;Interval&gt;&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; {\n        System.out.println(&quot;b start &quot; + b.get(0).start + &quot;  end &quot; + b.get(0).end);\n        System.out.println(&quot;a start &quot; + a.get(0).start + &quot;  end &quot; + a.get(0).end);\n        Interval first = a.get(0);\n        Interval second = b.get(0);\n        int diff = first.start - second.start;\n        if (diff == 0) return second.end - first.end;\n        return diff;\n    });\n    for (List&lt;Interval&gt; s: schedule) pq.add(s);\n    \n    List&lt;Interval&gt; rst = new ArrayList&lt;&gt;();\n    int start = pq.peek().get(0).start, end = pq.peek().get(0).end;\n    while (!pq.isEmpty()) {\n        List&lt;Interval&gt; list = pq.poll();\n        Interval currt = list.remove(0);\n        if (start &lt;= currt.end) end = Math.max(end, currt.end);\n        else {\n            Interval freeTime = new Interval(end, currt.start);\n            rst.add(freeTime);\n            start = currt.start;\n            end = currt.end;\n        }\n        pq.add(list);\n    }\n    return rst;\n}\n</code></pre>\n<p>The test case i used is '[[[1,2]],[[1,3]],[[4,10]]]' and this is the output:</p>\n<pre><code>b start 1  end 2\na start 1  end 3\nb start 1  end 3\na start 4  end 10\nb start 1  end 2\na start 4  end 10\nb start 1  end 2\n</code></pre>\n<p>I only have 3 lists and based on the output, it looks like it has compared all lists. Why does PriorityQueue compare [1,2] again with an empty list?</p>\n"},{"tags":["java","spring","email","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495107325,"creation_date":1495107325,"answer_id":44046648,"question_id":44046614,"body_markdown":"The `from` address does not have a domain:\r\n\r\n    email.setFrom(&quot;1&quot;);\r\n\r\nUse something that does have a domain as the from address:\r\n\r\n    email.setFrom(&quot;1@example.com&quot;);","title":"org.apache.commons.mail.EmailException: Missing final &#39;@domain&#39;( by: javax.mail.internet.AddressException: Missing final &#39;@domain&#39; in string ``1&#39;&#39;)","body":"<p>The <code>from</code> address does not have a domain:</p>\n\n<pre><code>email.setFrom(\"1\");\n</code></pre>\n\n<p>Use something that does have a domain as the from address:</p>\n\n<pre><code>email.setFrom(\"1@example.com\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25284426,"reputation":1,"user_id":19111720,"display_name":"Paola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652461986,"creation_date":1652461495,"answer_id":72233138,"question_id":44046614,"body_markdown":"\r\nIt&#39;s necessary to check that there is no kind of space before the &quot;@&quot;.","title":"org.apache.commons.mail.EmailException: Missing final &#39;@domain&#39;( by: javax.mail.internet.AddressException: Missing final &#39;@domain&#39; in string ``1&#39;&#39;)","body":"<p>It's necessary to check that there is no kind of space before the &quot;@&quot;.</p>\n"}],"owner":{"account_id":10464360,"reputation":297,"user_id":7785247,"accept_rate":67,"display_name":"studentST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4721,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1652461986,"creation_date":1495107217,"question_id":44046614,"body_markdown":"I&#39;m trying to use javamail in my web application.\r\n\r\n**MailService:**\r\n\r\n    @Service\r\n    public class MailServiceImpl implements MailService {\r\n        Email email = new SimpleEmail();\r\n    \r\n        private MailServiceImpl() {\r\n            email.setCharset(&quot;utf-8&quot;);\r\n            email.setHostName(&quot;smtp.googlemail.com&quot;);\r\n            email.setSmtpPort(465);\r\n            email.setAuthenticator(new DefaultAuthenticator(&quot;1&quot;, &quot;1&quot;));\r\n            email.setSSL(true);\r\n        }\r\n    \r\n        @Override\r\n        public void sendMail(String to, String subject, String body) {\r\n            try {\r\n                email.setFrom(&quot;1&quot;);\r\n                email.setSubject(subject);\r\n                email.setMsg(body);\r\n                email.addTo(to);\r\n                email.send();\r\n                email.getToAddresses().clear();\r\n            } catch (EmailException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n**Logs:**\r\n\r\n    org.apache.commons.mail.EmailException: Missing final &#39;@domain&#39;\r\n    \tat org.apache.commons.mail.Email.createInternetAddress(Email.java:605)\r\n    \tat org.apache.commons.mail.Email.setFrom(Email.java:668)\r\n    \tat org.apache.commons.mail.Email.setFrom(Email.java:651)\r\n    \tat org.apache.commons.mail.Email.setFrom(Email.java:631)\r\n    \tat by.netcracker.artemyev.service.impl.MailServiceImpl.sendMail(MailServiceImpl.java:28)\r\n    \tat by.netcracker.artemyev.service.impl.UserServiceImpl.addUser(UserServiceImpl.java:65)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy39.addUser(Unknown Source)\r\n    \tat by.netcracker.artemyev.web.UserController.registrationUser(UserController.java:48)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:475)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:495)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:767)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1354)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.mail.internet.AddressException: Missing final &#39;@domain&#39; in string ``1&#39;&#39;\r\n    \tat javax.mail.internet.InternetAddress.checkAddress(InternetAddress.java:915)\r\n    \tat javax.mail.internet.InternetAddress.validate(InternetAddress.java:856)\r\n    \tat org.apache.commons.mail.Email.createInternetAddress(Email.java:601)\r\n    \t... 58 more\r\n\r\nI eneter: artyomartemyev962015@gmail.com and then give: *Missing final &#39;@domain&#39;.*\r\nWhat does it mean? Every recipient&#39;s address is valid and sender address is verified and valid.\r\n\r\n**Question:** *How fix?*\r\n","title":"org.apache.commons.mail.EmailException: Missing final &#39;@domain&#39;( by: javax.mail.internet.AddressException: Missing final &#39;@domain&#39; in string ``1&#39;&#39;)","body":"<p>I'm trying to use javamail in my web application.</p>\n\n<p><strong>MailService:</strong></p>\n\n<pre><code>@Service\npublic class MailServiceImpl implements MailService {\n    Email email = new SimpleEmail();\n\n    private MailServiceImpl() {\n        email.setCharset(\"utf-8\");\n        email.setHostName(\"smtp.googlemail.com\");\n        email.setSmtpPort(465);\n        email.setAuthenticator(new DefaultAuthenticator(\"1\", \"1\"));\n        email.setSSL(true);\n    }\n\n    @Override\n    public void sendMail(String to, String subject, String body) {\n        try {\n            email.setFrom(\"1\");\n            email.setSubject(subject);\n            email.setMsg(body);\n            email.addTo(to);\n            email.send();\n            email.getToAddresses().clear();\n        } catch (EmailException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Logs:</strong></p>\n\n<pre><code>org.apache.commons.mail.EmailException: Missing final '@domain'\n    at org.apache.commons.mail.Email.createInternetAddress(Email.java:605)\n    at org.apache.commons.mail.Email.setFrom(Email.java:668)\n    at org.apache.commons.mail.Email.setFrom(Email.java:651)\n    at org.apache.commons.mail.Email.setFrom(Email.java:631)\n    at by.netcracker.artemyev.service.impl.MailServiceImpl.sendMail(MailServiceImpl.java:28)\n    at by.netcracker.artemyev.service.impl.UserServiceImpl.addUser(UserServiceImpl.java:65)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy39.addUser(Unknown Source)\n    at by.netcracker.artemyev.web.UserController.registrationUser(UserController.java:48)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:475)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:495)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:767)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1354)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.mail.internet.AddressException: Missing final '@domain' in string ``1''\n    at javax.mail.internet.InternetAddress.checkAddress(InternetAddress.java:915)\n    at javax.mail.internet.InternetAddress.validate(InternetAddress.java:856)\n    at org.apache.commons.mail.Email.createInternetAddress(Email.java:601)\n    ... 58 more\n</code></pre>\n\n<p>I eneter: artyomartemyev962015@gmail.com and then give: <em>Missing final '@domain'.</em>\nWhat does it mean? Every recipient's address is valid and sender address is verified and valid.</p>\n\n<p><strong>Question:</strong> <em>How fix?</em></p>\n"},{"tags":["java","osgi","aem","osgi-bundle"],"answers":[{"tags":[],"owner":{"account_id":892776,"reputation":19519,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491224457,"creation_date":1491224457,"answer_id":43185344,"question_id":43169276,"body_markdown":"If you look at the chains you can see that one bundle requires commons lang version [2.4,3) and another requires version [2.6,3). So if you make sure you only install commons lang 2.6 then your bundle should resolve.","title":"Unable to resolve bundle revision, because it is exposed to package via two dependency chains","body":"<p>If you look at the chains you can see that one bundle requires commons lang version [2.4,3) and another requires version [2.6,3). So if you make sure you only install commons lang 2.6 then your bundle should resolve.</p>\n"},{"tags":[],"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652460760,"creation_date":1652460760,"answer_id":72232991,"question_id":43169276,"body_markdown":"I would suggest uninstall those bundles from your fuse/karaf and install a feature or a bundle which already exports those 2 dependencies.\r\n\r\nI had a similar problem with com.google.zxing (version 3.2.1) where there is the &#39;core&#39; and the &#39;javase&#39; artifacts. Fuse/karaf has showed this &quot;chain error&quot;.\r\n\r\nWhat I did to solve it was to install a bundle which already exported them.\r\n\r\n    install mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.zxing/3.2.1_1\r\n\r\nAs a last resort I would create a feature myself and deploy it.","title":"Unable to resolve bundle revision, because it is exposed to package via two dependency chains","body":"<p>I would suggest uninstall those bundles from your fuse/karaf and install a feature or a bundle which already exports those 2 dependencies.</p>\n<p>I had a similar problem with com.google.zxing (version 3.2.1) where there is the 'core' and the 'javase' artifacts. Fuse/karaf has showed this &quot;chain error&quot;.</p>\n<p>What I did to solve it was to install a bundle which already exported them.</p>\n<pre><code>install mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.zxing/3.2.1_1\n</code></pre>\n<p>As a last resort I would create a feature myself and deploy it.</p>\n"}],"owner":{"account_id":2052150,"reputation":21,"user_id":1830908,"display_name":"Srini N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1652460760,"creation_date":1491142063,"question_id":43169276,"body_markdown":"My code -&gt; package X (3rd party package) -&gt; org.apache.commons.lang 2.6.0&lt;br&gt;\r\nMy code -&gt; package Y (3rd party package) -&gt; org.apache.commons.lang 2.4\r\n\r\nI have control on neither package X bundle nor package Y bundle.\r\n\r\nHere is the error I have:\r\n\r\n    02.04.2017 08:02:12.315 *INFO* [OsgiInstallerImpl] org.apache.sling.installer.core.impl.tasks.RestartActiveBundlesTask Unable to start bundle com.mynews.my-wcm-bundle [394] : Uses constraint violation. Unable to resolve bundle revision com.mynews.my-wcm-bundle [394.11] because it is exposed to package &#39;org.apache.commons.lang.math&#39; from bundle revisions com.mynews.my-wcm-dependencies-bundle [395.39] and com.day.commons.osgi.wrapper.commons-lang2 [45.0] via two dependency chains.\r\n\r\n    **Chain 1:**\r\n      com.mynews.my-wcm-bundle [394.11]\r\n        import: (&amp;(osgi.wiring.package=org.apache.commons.lang.math)(version&gt;=2.6.0)(!(version&gt;=3.0.0)))\r\n         |\r\n        export: osgi.wiring.package=org.apache.commons.lang.math\r\n      com.mynews.my-wcm-dependencies-bundle [395.39]\r\n    \r\n    **Chain 2:**\r\n      com.mynews.my-wcm-bundle [394.11]\r\n        import: (osgi.wiring.package=com.day.cq.security)\r\n         |\r\n        export: osgi.wiring.package=com.day.cq.security; uses:=com.day.cq.commons\r\n      com.day.cq.cq-security-api [283.0]\r\n        import: (osgi.wiring.package=com.day.cq.commons)\r\n         |\r\n        export: osgi.wiring.package=com.day.cq.commons; uses:=org.apache.commons.lang.time\r\n      com.day.cq.cq-commons [264.0]\r\n        import: (&amp;(osgi.wiring.package=org.apache.commons.lang.time)(version&gt;=2.4.0)(!(version&gt;=3.0.0)))\r\n         |\r\n        export: osgi.wiring.package=org.apache.commons.lang.time; uses:=org.apache.commons.lang.math\r\n        export: osgi.wiring.package=org.apache.commons.lang.math\r\n      com.day.commons.osgi.wrapper.commons-lang2 [45.0]","title":"Unable to resolve bundle revision, because it is exposed to package via two dependency chains","body":"<p>My code -> package X (3rd party package) -> org.apache.commons.lang 2.6.0<br>\nMy code -> package Y (3rd party package) -> org.apache.commons.lang 2.4</p>\n\n<p>I have control on neither package X bundle nor package Y bundle.</p>\n\n<p>Here is the error I have:</p>\n\n<pre><code>02.04.2017 08:02:12.315 *INFO* [OsgiInstallerImpl] org.apache.sling.installer.core.impl.tasks.RestartActiveBundlesTask Unable to start bundle com.mynews.my-wcm-bundle [394] : Uses constraint violation. Unable to resolve bundle revision com.mynews.my-wcm-bundle [394.11] because it is exposed to package 'org.apache.commons.lang.math' from bundle revisions com.mynews.my-wcm-dependencies-bundle [395.39] and com.day.commons.osgi.wrapper.commons-lang2 [45.0] via two dependency chains.\n\n**Chain 1:**\n  com.mynews.my-wcm-bundle [394.11]\n    import: (&amp;(osgi.wiring.package=org.apache.commons.lang.math)(version&gt;=2.6.0)(!(version&gt;=3.0.0)))\n     |\n    export: osgi.wiring.package=org.apache.commons.lang.math\n  com.mynews.my-wcm-dependencies-bundle [395.39]\n\n**Chain 2:**\n  com.mynews.my-wcm-bundle [394.11]\n    import: (osgi.wiring.package=com.day.cq.security)\n     |\n    export: osgi.wiring.package=com.day.cq.security; uses:=com.day.cq.commons\n  com.day.cq.cq-security-api [283.0]\n    import: (osgi.wiring.package=com.day.cq.commons)\n     |\n    export: osgi.wiring.package=com.day.cq.commons; uses:=org.apache.commons.lang.time\n  com.day.cq.cq-commons [264.0]\n    import: (&amp;(osgi.wiring.package=org.apache.commons.lang.time)(version&gt;=2.4.0)(!(version&gt;=3.0.0)))\n     |\n    export: osgi.wiring.package=org.apache.commons.lang.time; uses:=org.apache.commons.lang.math\n    export: osgi.wiring.package=org.apache.commons.lang.math\n  com.day.commons.osgi.wrapper.commons-lang2 [45.0]\n</code></pre>\n"},{"tags":["java","osgi","apache-karaf","apache-felix"],"answers":[{"tags":[],"owner":{"account_id":7677535,"reputation":10742,"user_id":5817888,"accept_rate":33,"display_name":"J&#233;r&#233;mie B"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1612034827,"creation_date":1612034827,"answer_id":65972242,"question_id":65884569,"body_markdown":"Your error means that your bundle `karaf-rest-core-blueprint` has a dependency on `com.google.common.collect` and this dependency can&#39;t be resolved in the container.\r\n\r\nIn other words, you did&#39;nt install guava into Karaf.\r\n\r\n```\r\n$ bundle:install -s mvn:com.google.guava/failureaccess/1.0.1\r\n$ bundle:install -s mvn:com.google.guava/guava-29.0-jre\r\n```\r\n\r\nIn a real app, you should create a feature which installs all your dependencies/bundles.","title":"Simple OSGi application with dependencies inside bundle","body":"<p>Your error means that your bundle <code>karaf-rest-core-blueprint</code> has a dependency on <code>com.google.common.collect</code> and this dependency can't be resolved in the container.</p>\n<p>In other words, you did'nt install guava into Karaf.</p>\n<pre><code>$ bundle:install -s mvn:com.google.guava/failureaccess/1.0.1\n$ bundle:install -s mvn:com.google.guava/guava-29.0-jre\n</code></pre>\n<p>In a real app, you should create a feature which installs all your dependencies/bundles.</p>\n"},{"tags":[],"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652460282,"creation_date":1652460282,"answer_id":72232915,"question_id":65884569,"body_markdown":"You may need to transform a jar into a bundle and install it in fuse/karaf in order to get fuse/karaf to resolve &quot;missing requirements&quot;.\r\n\r\nIf you have the jar on your local repository, use this command:\r\n\r\n    osgi:install wrap:mvn:com.missingRequirement.subPackage/artifact/version\r\n\r\nExample:\r\n\r\n    osgi:install wrap:mvn:com.google.guava/failureaccess/1.0.1\r\n\r\nIf the dependency is a bundle already (it may be in a jar format, but with some particularities as by the felix plugin), you may simply drop the &quot;wrap:&quot; part.\r\n\r\nIf you do not use the &#39;wrap&#39; on a simple jar, it will not be registered as a service (or bundle) in fuse/karaf and the error will not be solved.\r\n\r\ntip: you may need to get some dependencies downloaded.\r\nUse the &#39;mvn dependency:get&#39;.\r\n\r\nExample:\r\n\r\n    mvn dependency:get -Dartifact=org.apache.httpcomponents:httpmime:4.5.2.redhat-2","title":"Simple OSGi application with dependencies inside bundle","body":"<p>You may need to transform a jar into a bundle and install it in fuse/karaf in order to get fuse/karaf to resolve &quot;missing requirements&quot;.</p>\n<p>If you have the jar on your local repository, use this command:</p>\n<pre><code>osgi:install wrap:mvn:com.missingRequirement.subPackage/artifact/version\n</code></pre>\n<p>Example:</p>\n<pre><code>osgi:install wrap:mvn:com.google.guava/failureaccess/1.0.1\n</code></pre>\n<p>If the dependency is a bundle already (it may be in a jar format, but with some particularities as by the felix plugin), you may simply drop the &quot;wrap:&quot; part.</p>\n<p>If you do not use the 'wrap' on a simple jar, it will not be registered as a service (or bundle) in fuse/karaf and the error will not be solved.</p>\n<p>tip: you may need to get some dependencies downloaded.\nUse the 'mvn dependency:get'.</p>\n<p>Example:</p>\n<pre><code>mvn dependency:get -Dartifact=org.apache.httpcomponents:httpmime:4.5.2.redhat-2\n</code></pre>\n"}],"owner":{"account_id":1195934,"reputation":711,"user_id":1167673,"accept_rate":44,"display_name":"yaroslavTir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65972242,"answer_count":2,"score":1,"last_activity_date":1652460282,"creation_date":1611576836,"question_id":65884569,"body_markdown":"Simple OSGi application with dependencies inside bundle. \r\n\r\n\r\nI am playing with karaf. I started by writing a simple rest application. \r\nhttps://github.com/YaroslavTir/osgi-jersey-hibertate/tree/stackoverflow/examples/karaf-rest-core\r\n\r\nI took karaf examples as backbond and it was quite simple to run my first bundle with rest endpoints, but then I faced an issue when I added maven dependency. I added guava as an example and got an exception when installing the bundle in karaf \r\n\r\n   \r\n\r\n     &lt;dependencies&gt;\r\n           ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;29.0-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;instructions&gt;\r\n                            &lt;Export-Package&gt;org.apache.karaf.core.rest.blueprint&lt;/Export-Package&gt;\r\n                            &lt;Import-Package&gt;\r\n                                *\r\n                            &lt;/Import-Package&gt;\r\n                        &lt;/instructions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\n    &gt; git clone https://github.com/YaroslavTir/osgi-jersey-hibertate\r\n    &gt; mvn clean install \r\n    &gt; feature:repo-add mvn:org.apache.karaf.examples/karaf-rest-core-features/LATEST/xml\r\n    &gt; feature:install karaf-rest-core-blueprint\r\n\r\n\r\n Error executing command: Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=karaf-rest-core-blueprint; type=karaf.feature; version=&quot;[4.3.1.SNAPSHOT,4.3.1.SNAPSHOT]&quot;; filter:=&quot;(&amp;(osgi.identity=karaf-rest-core-blueprint)(type=karaf.feature)(version&gt;=4.3.1.SNAPSHOT)(version&lt;=4.3.1.SNAPSHOT))&quot; [caused by: Unable to resolve karaf-rest-core-blueprint/4.3.1.SNAPSHOT: missing requirement [karaf-rest-core-blueprint/4.3.1.SNAPSHOT] osgi.identity; osgi.identity=org.apache.karaf.examples.karaf-rest-core-blueprint; type=osgi.bundle; version=&quot;[4.3.1.SNAPSHOT,4.3.1.SNAPSHOT]&quot;; resolution:=mandatory [caused by: Unable to resolve org.apache.karaf.examples.karaf-rest-core-blueprint/4.3.1.SNAPSHOT: missing requirement [org.apache.karaf.examples.karaf-rest-core-blueprint/4.3.1.SNAPSHOT] osgi.wiring.package; filter:=&quot;(&amp;(osgi.wiring.package=com.google.common.collect)(version&gt;=29.0.0)(!(version&gt;=30.0.0)))&quot;]]\r\n\r\n\r\nI read somewhere that org.apache.felix.maven-bundle-plugin has a bug and add optional dependency to the bundle, and this looks like true, as I can see in **MANIFEST.MF/Import-Package** dependncy like com.google.appengine.api that should not be there.\r\n: \r\n\r\n \r\n\r\n       &lt;dependencies&gt;\r\n           ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;29.0-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;instructions&gt;\r\n                            &lt;Export-Package&gt;org.apache.karaf.core.rest.blueprint&lt;/Export-Package&gt;\r\n                            &lt;Embed-Dependency&gt;*;scope=compile|runtime;inline=false&lt;/Embed-Dependency&gt;\r\n                            &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\r\n                            &lt;Embed-Directory&gt;target/dependency&lt;/Embed-Directory&gt;\r\n                        &lt;/instructions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\nI know that should be super simple, and I just miss some small but important detail. ","title":"Simple OSGi application with dependencies inside bundle","body":"<p>Simple OSGi application with dependencies inside bundle.</p>\n<p>I am playing with karaf. I started by writing a simple rest application.\n<a href=\"https://github.com/YaroslavTir/osgi-jersey-hibertate/tree/stackoverflow/examples/karaf-rest-core\" rel=\"nofollow noreferrer\">https://github.com/YaroslavTir/osgi-jersey-hibertate/tree/stackoverflow/examples/karaf-rest-core</a></p>\n<p>I took karaf examples as backbond and it was quite simple to run my first bundle with rest endpoints, but then I faced an issue when I added maven dependency. I added guava as an example and got an exception when installing the bundle in karaf</p>\n<pre><code> &lt;dependencies&gt;\n       ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;29.0-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Export-Package&gt;org.apache.karaf.core.rest.blueprint&lt;/Export-Package&gt;\n                        &lt;Import-Package&gt;\n                            *\n                        &lt;/Import-Package&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&gt; git clone https://github.com/YaroslavTir/osgi-jersey-hibertate\n&gt; mvn clean install \n&gt; feature:repo-add mvn:org.apache.karaf.examples/karaf-rest-core-features/LATEST/xml\n&gt; feature:install karaf-rest-core-blueprint\n</code></pre>\n<p>Error executing command: Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=karaf-rest-core-blueprint; type=karaf.feature; version=&quot;[4.3.1.SNAPSHOT,4.3.1.SNAPSHOT]&quot;; filter:=&quot;(&amp;(osgi.identity=karaf-rest-core-blueprint)(type=karaf.feature)(version&gt;=4.3.1.SNAPSHOT)(version&lt;=4.3.1.SNAPSHOT))&quot; [caused by: Unable to resolve karaf-rest-core-blueprint/4.3.1.SNAPSHOT: missing requirement [karaf-rest-core-blueprint/4.3.1.SNAPSHOT] osgi.identity; osgi.identity=org.apache.karaf.examples.karaf-rest-core-blueprint; type=osgi.bundle; version=&quot;[4.3.1.SNAPSHOT,4.3.1.SNAPSHOT]&quot;; resolution:=mandatory [caused by: Unable to resolve org.apache.karaf.examples.karaf-rest-core-blueprint/4.3.1.SNAPSHOT: missing requirement [org.apache.karaf.examples.karaf-rest-core-blueprint/4.3.1.SNAPSHOT] osgi.wiring.package; filter:=&quot;(&amp;(osgi.wiring.package=com.google.common.collect)(version&gt;=29.0.0)(!(version&gt;=30.0.0)))&quot;]]</p>\n<p>I read somewhere that org.apache.felix.maven-bundle-plugin has a bug and add optional dependency to the bundle, and this looks like true, as I can see in <strong>MANIFEST.MF/Import-Package</strong> dependncy like com.google.appengine.api that should not be there.\n:</p>\n<pre><code>   &lt;dependencies&gt;\n       ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;29.0-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Export-Package&gt;org.apache.karaf.core.rest.blueprint&lt;/Export-Package&gt;\n                        &lt;Embed-Dependency&gt;*;scope=compile|runtime;inline=false&lt;/Embed-Dependency&gt;\n                        &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\n                        &lt;Embed-Directory&gt;target/dependency&lt;/Embed-Directory&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I know that should be super simple, and I just miss some small but important detail.</p>\n"},{"tags":["java","spring","spring-boot","prometheus","grafana"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652469457,"post_id":72232904,"comment_id":127622514,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"score":0,"creation_date":1652714472,"post_id":72232904,"comment_id":127666764,"body_markdown":"Hi, a general comment about how you use labels. You should _never_ use the label values from an _unbounded_ sets of values. Meaning that in your implementation, every unique combination of metric name and labels (tags) will create a new instance of `Meter` which will slowly allocate all of your memory.\n\nSee more about labels at the Prometheus documentation: https://prometheus.io/docs/practices/naming/","body":"Hi, a general comment about how you use labels. You should <i>never</i> use the label values from an <i>unbounded</i> sets of values. Meaning that in your implementation, every unique combination of metric name and labels (tags) will create a new instance of <code>Meter</code> which will slowly allocate all of your memory.  See more about labels at the Prometheus documentation: <a href=\"https://prometheus.io/docs/practices/naming/\" rel=\"nofollow noreferrer\">prometheus.io/docs/practices/naming</a>"}],"owner":{"account_id":25284023,"reputation":1,"user_id":19111406,"display_name":"Manish Kumar Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652460239,"creation_date":1652460239,"question_id":72232904,"body_markdown":"I am working on a project in java using spring boot that requires working on prometheus and grafana. \r\n\r\nTo send data to prometheus end-point, I am using &quot;gauge&quot; having name &quot;metrices_value&quot; with label &quot;dateAndTime&quot;. This gauge contains value of type &quot;Double&quot;.\r\n\r\nSome examples of &quot;gauge&quot; at api end-point - \r\n\r\n 1. metrices_value{dateAndTime=&quot;2022-05-13 12:03:48&quot;} 1.0 \r\n 2. metrices_value{dateAndTime=&quot;2022-05-13 15:35:18&quot;} 3.0 \r\n\r\nWhen I am using &quot;Time series&quot; visualization for &quot;metrices_value&quot; in grafana, then x-axis is showing the time at which prometheus is pulling the data from api end-point. \r\n\r\nBut, **on** **x-axis**, I want to **show the custom time that I am sending through gauge as a label i.e, &quot;dateAndTime&quot;.** \r\n\r\nPlease let me know how to solve this issue.","title":"Changing x-axis in grafana graph to custom time series sent as label of gauge","body":"<p>I am working on a project in java using spring boot that requires working on prometheus and grafana.</p>\n<p>To send data to prometheus end-point, I am using &quot;gauge&quot; having name &quot;metrices_value&quot; with label &quot;dateAndTime&quot;. This gauge contains value of type &quot;Double&quot;.</p>\n<p>Some examples of &quot;gauge&quot; at api end-point -</p>\n<ol>\n<li>metrices_value{dateAndTime=&quot;2022-05-13 12:03:48&quot;} 1.0</li>\n<li>metrices_value{dateAndTime=&quot;2022-05-13 15:35:18&quot;} 3.0</li>\n</ol>\n<p>When I am using &quot;Time series&quot; visualization for &quot;metrices_value&quot; in grafana, then x-axis is showing the time at which prometheus is pulling the data from api end-point.</p>\n<p>But, <strong>on</strong> <strong>x-axis</strong>, I want to <strong>show the custom time that I am sending through gauge as a label i.e, &quot;dateAndTime&quot;.</strong></p>\n<p>Please let me know how to solve this issue.</p>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1652457943,"post_id":72232439,"comment_id":127619110,"body_markdown":"By &quot;remove&quot;, they probably mean &quot;inline&quot;. e.g. `new Rectangle(...params).draw(gcw);`. If you&#39;re using intelliJ you get this functionality for free by highlighting the expression and pressing something like `N` (or ctrl + alt + N)","body":"By &quot;remove&quot;, they probably mean &quot;inline&quot;. e.g. <code>new Rectangle(...params).draw(gcw);</code>. If you&#39;re using intelliJ you get this functionality for free by highlighting the expression and pressing something like <code>N</code> (or ctrl + alt + N)"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1652457998,"post_id":72232439,"comment_id":127619131,"body_markdown":"**1**. Determine the purpose of these variables.  **2**. See if syntax allows to calculate their values *in-line*.","body":"<b>1</b>. Determine the purpose of these variables.  <b>2</b>. See if syntax allows to calculate their values <i>in-line</i>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652470382,"post_id":72232439,"comment_id":127622753,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652460138,"creation_date":1652460138,"answer_id":72232881,"question_id":72232439,"body_markdown":"You can invoke `draw(..)` on the object returned by the constructor without assigning it to a variable.  You are still creating an object - you just aren&#39;t assigning it to a variable so you can access it elsewhere.\r\n\r\n    new Rectangle(10 * iFrame, 10 * iFrame, 50, 50).draw(gcw);\r\n    new Circle(200, 300 - iFrame*5, 100).draw(gcw);\r\n    new Ellipse(150, 300, 90 + iFrame, 160).draw(gcw);","title":"Removing Variables","body":"<p>You can invoke <code>draw(..)</code> on the object returned by the constructor without assigning it to a variable.  You are still creating an object - you just aren't assigning it to a variable so you can access it elsewhere.</p>\n<pre><code>new Rectangle(10 * iFrame, 10 * iFrame, 50, 50).draw(gcw);\nnew Circle(200, 300 - iFrame*5, 100).draw(gcw);\nnew Ellipse(150, 300, 90 + iFrame, 160).draw(gcw);\n</code></pre>\n"}],"owner":{"account_id":25283975,"reputation":1,"user_id":19111364,"display_name":"zainab desai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1652460138,"creation_date":1652457806,"question_id":72232439,"body_markdown":"my work says to Remove the r, c and e variables from this how would I do this\r\n\r\n``` \r\nRectangle  r = new Rectangle(10 * iFrame, 10 * iFrame, 50, 50); r.draw(gcw);\r\n  \r\nCircle c= new Circle(200, 300 - iFrame*5, 100); c.draw(gcw);\r\n  \r\nEllipse e = new Ellipse(150, 300, 90 + iFrame, 160); e.draw(gcw);\r\n```\r\n","title":"Removing Variables","body":"<p>my work says to Remove the r, c and e variables from this how would I do this</p>\n<pre><code>Rectangle  r = new Rectangle(10 * iFrame, 10 * iFrame, 50, 50); r.draw(gcw);\n  \nCircle c= new Circle(200, 300 - iFrame*5, 100); c.draw(gcw);\n  \nEllipse e = new Ellipse(150, 300, 90 + iFrame, 160); e.draw(gcw);\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","mapstruct","mapper"],"comments":[{"owner":{"account_id":7421543,"reputation":2878,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1652451416,"post_id":72230953,"comment_id":127616631,"body_markdown":"I had a similar issue. You need to make a setter for `id`.","body":"I had a similar issue. You need to make a setter for <code>id</code>."},{"owner":{"account_id":24835818,"reputation":43,"user_id":18714472,"display_name":"johny sinh"},"score":0,"creation_date":1652451532,"post_id":72230953,"comment_id":127616677,"body_markdown":"thank you for your reply but I use lombok @Data","body":"thank you for your reply but I use lombok @Data"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1652452503,"post_id":72230953,"comment_id":127617039,"body_markdown":"what happens when you run your code?","body":"what happens when you run your code?"},{"owner":{"account_id":24835818,"reputation":43,"user_id":18714472,"display_name":"johny sinh"},"score":0,"creation_date":1652452580,"post_id":72230953,"comment_id":127617064,"body_markdown":"nothing really just giving other field correctly. Mapstruct does not map between two","body":"nothing really just giving other field correctly. Mapstruct does not map between two"}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652459724,"creation_date":1652455060,"answer_id":72231887,"question_id":72230953,"body_markdown":"Target and source properties don&#39;t work well with collections mapping. You need additional mapping for single element. Update your mapper as below, so Mapstruct can use element mapper when mapping the collection:\r\n\r\n    @Mapper\r\n    public interface BankMapper {\r\n\r\n        BankMapper BANK_MAPPER_INSTANCE = Mappers.getMapper(BankMapper.class);\r\n    \r\n        List&lt;BankDto&gt; convertToBankDto(List&lt;Bank&gt; bank);\r\n    \r\n        @Mapping(target = &quot;bankId&quot;, source = &quot;id&quot;)\r\n        BankDto bankToBankDto(Bank bank);\r\n    }\r\n\r\nIf this doesn&#39;t help, post the rest of your code, so it&#39;s easier to figure out what&#39;s missing","title":"mapper does not convert between dto to entity","body":"<p>Target and source properties don't work well with collections mapping. You need additional mapping for single element. Update your mapper as below, so Mapstruct can use element mapper when mapping the collection:</p>\n<pre><code>@Mapper\npublic interface BankMapper {\n\n    BankMapper BANK_MAPPER_INSTANCE = Mappers.getMapper(BankMapper.class);\n\n    List&lt;BankDto&gt; convertToBankDto(List&lt;Bank&gt; bank);\n\n    @Mapping(target = &quot;bankId&quot;, source = &quot;id&quot;)\n    BankDto bankToBankDto(Bank bank);\n}\n</code></pre>\n<p>If this doesn't help, post the rest of your code, so it's easier to figure out what's missing</p>\n"}],"owner":{"account_id":24835818,"reputation":43,"user_id":18714472,"display_name":"johny sinh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72231887,"answer_count":1,"score":1,"last_activity_date":1652459724,"creation_date":1652450983,"question_id":72230953,"body_markdown":"I am new to mapsturct I just want to map between dto to entity those two;\r\n\r\nmy bank class;\r\n\r\n   \r\n\r\n     @Id\r\n     private int id;\r\n\r\nmy bank dto class;\r\n\r\n    private Integer bankId;\r\n\r\nmy mapper below;\r\n\r\n \r\n\r\n    BankMapper BANK_MAPPER_INSTANCE = Mappers.getMapper(BankMapper.class);\r\n    \r\n        @Mapping(target = &quot;bankId&quot;, source = &quot;id&quot;)\r\n        List&lt;BankDto&gt; convertToBankDto(List&lt;Bank&gt; bank);\r\n\r\n","title":"mapper does not convert between dto to entity","body":"<p>I am new to mapsturct I just want to map between dto to entity those two;</p>\n<p>my bank class;</p>\n<pre><code> @Id\n private int id;\n</code></pre>\n<p>my bank dto class;</p>\n<pre><code>private Integer bankId;\n</code></pre>\n<p>my mapper below;</p>\n<pre><code>BankMapper BANK_MAPPER_INSTANCE = Mappers.getMapper(BankMapper.class);\n\n    @Mapping(target = &quot;bankId&quot;, source = &quot;id&quot;)\n    List&lt;BankDto&gt; convertToBankDto(List&lt;Bank&gt; bank);\n</code></pre>\n"},{"tags":["java","string","time","localtime"],"answers":[{"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498139954,"creation_date":1498139954,"answer_id":44701618,"question_id":44701422,"body_markdown":"Try something like this:\r\n\r\n    Label timeLabel = new Label(String.format(&quot;%tR&quot;, LocalTime.now()));\r\n\r\nSee: http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html","title":"Formatting local time in java","body":"<p>Try something like this:</p>\n\n<pre><code>Label timeLabel = new Label(String.format(\"%tR\", LocalTime.now()));\n</code></pre>\n\n<p>See: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html</a></p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1498154211,"creation_date":1498140052,"answer_id":44701658,"question_id":44701422,"body_markdown":"    LocalTime.now().format(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;))\r\n\r\n(this will use the default locale, see https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String- for more).\r\n\r\nBut better practice would be to put the formatter into a `static final` field. This way it&#39;s only created once instead of every time the line is exectuted. It nearly certainly doesn&#39;t really matter for this application, but it&#39;s better to use good habits from the beginning.","title":"Formatting local time in java","body":"<pre><code>LocalTime.now().format(DateTimeFormatter.ofPattern(\"HH:mm\"))\n</code></pre>\n\n<p>(this will use the default locale, see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-</a> for more).</p>\n\n<p>But better practice would be to put the formatter into a <code>static final</code> field. This way it's only created once instead of every time the line is exectuted. It nearly certainly doesn't really matter for this application, but it's better to use good habits from the beginning.</p>\n"},{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1544218587,"creation_date":1498140100,"answer_id":44701684,"question_id":44701422,"body_markdown":"It&#39;s probably better to use Java 8 types (java.time) in a new application. You can first create a [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html):\r\n\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n\r\nAnd then get the current time and format it:\r\n\r\n    Label timeLabel = new Label(LocalTime.now().format(dtf));\r\n","title":"Formatting local time in java","body":"<p>It's probably better to use Java 8 types (java.time) in a new application. You can first create a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>:</p>\n\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"HH:mm\");\n</code></pre>\n\n<p>And then get the current time and format it:</p>\n\n<pre><code>Label timeLabel = new Label(LocalTime.now().format(dtf));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10917294,"reputation":171,"user_id":8024718,"display_name":"Kobi Lehrer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498142126,"creation_date":1498142126,"answer_id":44702476,"question_id":44701422,"body_markdown":"You can create a *LocalTime* instance in several ways. The first way is to create a LocalTime instance that represents the exact time of now. Here is how that looks:\r\n\r\n \r\n\r\n    LocalTime localTime = LocalTime.now();\r\n\r\nAnother way to create a LocalTime object is to create it from a specific amount of hours, minutes, seconds and nanoseconds. Here is how that looks:\r\n\r\n    LocalTime localTime2 = LocalTime.of(21, 30, 59, 11001);\r\n\r\nThere are also other versions of the of() method that only takes hours and minutes, or hours, minutes and seconds as parameters.\r\n\r\nYou can access the hours, minutes, seconds and nanosecond of a LocalTime object using these methods:\r\n\r\n - getHour()\r\n - getMinute()\r\n - getSecond()\r\n - getNano()\r\n\r\ncheck this out, it helped me alot- http://tutorials.jenkov.com/java-date-time/localtime.html","title":"Formatting local time in java","body":"<p>You can create a <em>LocalTime</em> instance in several ways. The first way is to create a LocalTime instance that represents the exact time of now. Here is how that looks:</p>\n\n<pre><code>LocalTime localTime = LocalTime.now();\n</code></pre>\n\n<p>Another way to create a LocalTime object is to create it from a specific amount of hours, minutes, seconds and nanoseconds. Here is how that looks:</p>\n\n<pre><code>LocalTime localTime2 = LocalTime.of(21, 30, 59, 11001);\n</code></pre>\n\n<p>There are also other versions of the of() method that only takes hours and minutes, or hours, minutes and seconds as parameters.</p>\n\n<p>You can access the hours, minutes, seconds and nanosecond of a LocalTime object using these methods:</p>\n\n<ul>\n<li>getHour()</li>\n<li>getMinute()</li>\n<li>getSecond()</li>\n<li>getNano()</li>\n</ul>\n\n<p>check this out, it helped me alot- <a href=\"http://tutorials.jenkov.com/java-date-time/localtime.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-date-time/localtime.html</a></p>\n"},{"tags":[],"owner":{"account_id":3484417,"reputation":458,"user_id":2915705,"display_name":" Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652459400,"creation_date":1652459400,"answer_id":72232731,"question_id":44701422,"body_markdown":"    String expectedDepartureTime = &quot;1500&quot;;\r\n    String expectedArrivalTime = &quot;0100&quot;;\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HHmm&quot;);\r\n    LocalTime edt = LocalTime.parse(expectedDepartureTime, dtf);\r\n    LocalTime eta = LocalTime.parse(expectedArrivalTime, dtf);\r\n    System.out.println(eta.isBefore(edt) ? &quot;You have a red eye flight&quot;: &quot;You don&#39;t have a red eye flight&quot;);","title":"Formatting local time in java","body":"<pre><code>String expectedDepartureTime = &quot;1500&quot;;\nString expectedArrivalTime = &quot;0100&quot;;\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;HHmm&quot;);\nLocalTime edt = LocalTime.parse(expectedDepartureTime, dtf);\nLocalTime eta = LocalTime.parse(expectedArrivalTime, dtf);\nSystem.out.println(eta.isBefore(edt) ? &quot;You have a red eye flight&quot;: &quot;You don't have a red eye flight&quot;);\n</code></pre>\n"}],"owner":{"account_id":11116098,"reputation":390,"user_id":8160397,"display_name":"Daniel Piskorz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51633,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":44701684,"answer_count":5,"score":22,"last_activity_date":1652459400,"creation_date":1498139565,"question_id":44701422,"body_markdown":"I&#39;m creating my JavaFX application and I need to use time label every time new list cell is created. I need to put the string with current time in `HH:MM` format directly into Label constructor which takes `String` as a parameter.\r\n\r\nI found and used `java.util.Date`&#39;s:\r\n\r\n    Label timeLabel = new Label(new SimpleDateFormat(&quot;HH:MM&quot;).format(new Date()));\r\n\r\nbut it shows the wrong time zone, so I&#39;m going to use `java.time` and `LocalTime` class.\r\n\r\nIs there any way to achieve same string result in one line?\r\nThank You for your help :)","title":"Formatting local time in java","body":"<p>I'm creating my JavaFX application and I need to use time label every time new list cell is created. I need to put the string with current time in <code>HH:MM</code> format directly into Label constructor which takes <code>String</code> as a parameter.</p>\n\n<p>I found and used <code>java.util.Date</code>'s:</p>\n\n<pre><code>Label timeLabel = new Label(new SimpleDateFormat(\"HH:MM\").format(new Date()));\n</code></pre>\n\n<p>but it shows the wrong time zone, so I'm going to use <code>java.time</code> and <code>LocalTime</code> class.</p>\n\n<p>Is there any way to achieve same string result in one line?\nThank You for your help :)</p>\n"},{"tags":["java","intellij-idea","antlr4","intellij-plugin"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":1,"creation_date":1652460723,"post_id":72231962,"comment_id":127620025,"body_markdown":"There are a lot of issues here. The parse tree you show, gathered from Intellij with the Antlr plugin, is not what is produced by a generate parser in the plugin you are developing! The error recovery from the generated parser is completely different from the one in the Intellij Antlr plugin. Start with a simple java driver program with the generated parser and fix your [grammar](https://github.com/yasamprom/EOplugin_antlrbased/blob/main/src/main/antlr/org/antlr/jetbrains/eo/parser/EO.g4), which has newline and space problems, failing on line 4 of the input with an extra EOL.","body":"There are a lot of issues here. The parse tree you show, gathered from Intellij with the Antlr plugin, is not what is produced by a generate parser in the plugin you are developing! The error recovery from the generated parser is completely different from the one in the Intellij Antlr plugin. Start with a simple java driver program with the generated parser and fix your <a href=\"https://github.com/yasamprom/EOplugin_antlrbased/blob/main/src/main/antlr/org/antlr/jetbrains/eo/parser/EO.g4\" rel=\"nofollow noreferrer\">grammar</a>, which has newline and space problems, failing on line 4 of the input with an extra EOL."},{"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"score":0,"creation_date":1652514080,"post_id":72231962,"comment_id":127628644,"body_markdown":"What is the difference between tree generated by antlr plugin and PSI tree generated by parser? I thought parser should generate same tree","body":"What is the difference between tree generated by antlr plugin and PSI tree generated by parser? I thought parser should generate same tree"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":1,"creation_date":1652521343,"post_id":72231962,"comment_id":127629698,"body_markdown":"The Intellij Antlr plugin calls an [&quot;interpreter&quot;](https://github.com/antlr/intellij-plugin-v4#limitations). The plugin does not need to &quot;generate&quot; a parser first in order to you to view the tree for your input. In comparison, the tree for the input from a generated parser can be viewed [here](https://github.com/kaby76/so72231962/blob/main/test.out). The trees are not the same.","body":"The Intellij Antlr plugin calls an <a href=\"https://github.com/antlr/intellij-plugin-v4#limitations\" rel=\"nofollow noreferrer\">&quot;interpreter&quot;</a>. The plugin does not need to &quot;generate&quot; a parser first in order to you to view the tree for your input. In comparison, the tree for the input from a generated parser can be viewed <a href=\"https://github.com/kaby76/so72231962/blob/main/test.out\" rel=\"nofollow noreferrer\">here</a>. The trees are not the same."},{"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"score":0,"creation_date":1652536108,"post_id":72231962,"comment_id":127632356,"body_markdown":"The problem was in handling spaces. Spaces have been ignored by parser. My ParserDefinition class was copied from jetbrains tutorial and there was a part with tokens ignored by parser. I removed `public TokenSet getWhitespaceTokens() {\n return WHITESPACE;\n}` from this class and now my grammar works fine. Thanks to @kaby76 for clues","body":"The problem was in handling spaces. Spaces have been ignored by parser. My ParserDefinition class was copied from jetbrains tutorial and there was a part with tokens ignored by parser. I removed <code>public TokenSet getWhitespaceTokens() {  return WHITESPACE; }</code> from this class and now my grammar works fine. Thanks to @kaby76 for clues"}],"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652459201,"creation_date":1652455407,"question_id":72231962,"body_markdown":"I am creating custom language (EO language) plugin for IntelliJ. I use antlr4 adapter and I&#39;ve already generated parser and lexer. I am working on syntax highlighting.\r\n\r\nANTLR4 plugin allows building tokens tree for EO code. I used this option and pasted simple EO program, the tree was built successfully. Nevertheless when I paste this code in IDEA I see an error.\r\nAfter doing a research I found that problem appears in `getInterpreter().adaptivePredict()` \r\n\r\nIn my grammar there are 2 possible code variants (case 1 and case 2 in code below) but `getInterpreter().adaptivePredict()` returns 3.\r\n\r\nWhy it works like this? \r\nMay be my grammar is not correct but it works in ANTLR tree viewer (I checked several times and added picture in this post)\r\n\r\n\r\nEO program\r\n\r\n```python\r\n+alias org.eolang.io.stdout\r\n+alias org.eolang.txt.sprintf\r\n\r\n\r\n[args...] &gt; main   # This line is an abstraction. Highlighting error (&quot;&gt;&quot; is red, expecting &#39;&#39; or EOL)\r\n  [y] &gt; leap\r\n    or. &gt; @\r\n      and.\r\n        eq. (mod. y 4) 0\r\n        not. (eq. (mod. y 100) 0)\r\n      eq. (mod. y 400) 0\r\n  stdout &gt; @\r\n    sprintf\r\n      &quot;%d is %sa leap year!&quot;\r\n      (args.get 0).as-int &gt; year!\r\n      if. (leap year:y) &quot;&quot; &quot;not &quot;\r\n\r\n```\r\n\r\nIt is how tree draws &quot;abstraction&quot; line in IDEA. It is correct.\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code from my parser class.\r\n\r\n```java\r\npublic final AbstractionContext abstraction() throws RecognitionException {\r\n\t\tAbstractionContext _localctx = new AbstractionContext(_ctx, getState());\r\n\t\tenterRule(_localctx, 10, RULE_abstraction);\r\n\t\tint _la;\r\n\t\ttry {\r\n\t\t\tenterOuterAlt(_localctx, 1);\r\n\t\t\t{\r\n\t\t\tsetState(99);\r\n\t\t\tattributes();\r\n\t\t\tsetState(107);\r\n\t\t\t_errHandler.sync(this);\r\n    /* ? */ System.out.println(getInterpreter().adaptivePredict(_input,14,_ctx));  // prints 3\r\n\t\t\tswitch ( getInterpreter().adaptivePredict(_input,14,_ctx) ) {\r\n\t\t\tcase 1:\r\n\t\t\t\t{\r\n\t\t\t\t{\r\n\t\t\t\tsetState(100);\r\n\t\t\t\tsuffix();\r\n\t\t\t\tsetState(104);\r\n\t\t\t\t_errHandler.sync(this);\r\n\t\t\t\tswitch ( getInterpreter().adaptivePredict(_input,13,_ctx) ) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\t{\r\n\t\t\t\t\tsetState(101);\r\n\t\t\t\t\tmatch(SPACE);\r\n\t\t\t\t\tsetState(102);\r\n\t\t\t\t\tmatch(SLASH);\r\n\t\t\t\t\tsetState(103);\r\n\t\t\t\t\t_la = _input.LA(1);\r\n\t\t\t\t\tif ( !(_la==QUESTION || _la==NAME) ) {\r\n\t\t\t\t\t_errHandler.recoverInline(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif ( _input.LA(1)==Token.EOF ) matchedEOF = true;\r\n\t\t\t\t\t\t_errHandler.reportMatch(this);\r\n\t\t\t\t\t\tconsume();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t{\r\n\t\t\t\tsetState(106);\r\n\t\t\t\thtail();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (RecognitionException re) {\r\n\t\t\t_localctx.exception = re;\r\n\t\t\t_errHandler.reportError(this, re);\r\n\t\t\t_errHandler.recover(this, re);\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\texitRule();\r\n\t\t}\r\n\t\treturn _localctx;\r\n\t}\r\n```\r\n\r\nHere is part from EO.g4\r\n\r\n```g4\r\nabstraction\r\n  :\r\n  attributes\r\n  (\r\n    (suffix (SPACE SLASH (NAME | QUESTION))?)\r\n    | htail\r\n  )?\r\n  ;\r\n```\r\n\r\n\r\ngithub link of project: https://github.com/yasamprom/EOplugin_antlrbased/blob/main/src/main/java/org/antlr/jetbrains/eo/parser/EOParser.java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/whdbM.png","title":"Why does getInterpreter().adaptivePredict in generated parser return incorrect value?","body":"<p>I am creating custom language (EO language) plugin for IntelliJ. I use antlr4 adapter and I've already generated parser and lexer. I am working on syntax highlighting.</p>\n<p>ANTLR4 plugin allows building tokens tree for EO code. I used this option and pasted simple EO program, the tree was built successfully. Nevertheless when I paste this code in IDEA I see an error.\nAfter doing a research I found that problem appears in <code>getInterpreter().adaptivePredict()</code></p>\n<p>In my grammar there are 2 possible code variants (case 1 and case 2 in code below) but <code>getInterpreter().adaptivePredict()</code> returns 3.</p>\n<p>Why it works like this?\nMay be my grammar is not correct but it works in ANTLR tree viewer (I checked several times and added picture in this post)</p>\n<p>EO program</p>\n<pre class=\"lang-py prettyprint-override\"><code>+alias org.eolang.io.stdout\n+alias org.eolang.txt.sprintf\n\n\n[args...] &gt; main   # This line is an abstraction. Highlighting error (&quot;&gt;&quot; is red, expecting '' or EOL)\n  [y] &gt; leap\n    or. &gt; @\n      and.\n        eq. (mod. y 4) 0\n        not. (eq. (mod. y 100) 0)\n      eq. (mod. y 400) 0\n  stdout &gt; @\n    sprintf\n      &quot;%d is %sa leap year!&quot;\n      (args.get 0).as-int &gt; year!\n      if. (leap year:y) &quot;&quot; &quot;not &quot;\n\n</code></pre>\n<p>It is how tree draws &quot;abstraction&quot; line in IDEA. It is correct.\n<a href=\"https://i.stack.imgur.com/whdbM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/whdbM.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code from my parser class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final AbstractionContext abstraction() throws RecognitionException {\n        AbstractionContext _localctx = new AbstractionContext(_ctx, getState());\n        enterRule(_localctx, 10, RULE_abstraction);\n        int _la;\n        try {\n            enterOuterAlt(_localctx, 1);\n            {\n            setState(99);\n            attributes();\n            setState(107);\n            _errHandler.sync(this);\n    /* ? */ System.out.println(getInterpreter().adaptivePredict(_input,14,_ctx));  // prints 3\n            switch ( getInterpreter().adaptivePredict(_input,14,_ctx) ) {\n            case 1:\n                {\n                {\n                setState(100);\n                suffix();\n                setState(104);\n                _errHandler.sync(this);\n                switch ( getInterpreter().adaptivePredict(_input,13,_ctx) ) {\n                case 1:\n                    {\n                    setState(101);\n                    match(SPACE);\n                    setState(102);\n                    match(SLASH);\n                    setState(103);\n                    _la = _input.LA(1);\n                    if ( !(_la==QUESTION || _la==NAME) ) {\n                    _errHandler.recoverInline(this);\n                    }\n                    else {\n                        if ( _input.LA(1)==Token.EOF ) matchedEOF = true;\n                        _errHandler.reportMatch(this);\n                        consume();\n                    }\n                    }\n                    break;\n                }\n                }\n                }\n                break;\n            case 2:\n                {\n                setState(106);\n                htail();\n                }\n                break;\n            }\n            }\n        }\n        catch (RecognitionException re) {\n            _localctx.exception = re;\n            _errHandler.reportError(this, re);\n            _errHandler.recover(this, re);\n        }\n        finally {\n            exitRule();\n        }\n        return _localctx;\n    }\n</code></pre>\n<p>Here is part from EO.g4</p>\n<pre><code>abstraction\n  :\n  attributes\n  (\n    (suffix (SPACE SLASH (NAME | QUESTION))?)\n    | htail\n  )?\n  ;\n</code></pre>\n<p>github link of project: <a href=\"https://github.com/yasamprom/EOplugin_antlrbased/blob/main/src/main/java/org/antlr/jetbrains/eo/parser/EOParser.java\" rel=\"nofollow noreferrer\">https://github.com/yasamprom/EOplugin_antlrbased/blob/main/src/main/java/org/antlr/jetbrains/eo/parser/EOParser.java</a></p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"score":0,"creation_date":1504588974,"post_id":46047453,"comment_id":79054445,"body_markdown":"Show your layout and related code.","body":"Show your layout and related code."}],"answers":[{"tags":[],"owner":{"account_id":11643854,"reputation":316,"user_id":8527421,"display_name":"Harminder Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1504589213,"creation_date":1504589213,"answer_id":46047535,"question_id":46047453,"body_markdown":"You just need to add clickable tag true in xml to your main view eg relativelayout or linearlayout.\nThat will work","title":"Make a whole view with sub-elements clickable","body":"<p>You just need to add clickable tag true in xml to your main view eg relativelayout or linearlayout.\nThat will work</p>\n"},{"tags":[],"owner":{"account_id":433802,"reputation":27761,"user_id":819355,"accept_rate":72,"display_name":"marmor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504589752,"creation_date":1504589752,"answer_id":46047633,"question_id":46047453,"body_markdown":"The easiest option would be to put `android:descendantFocusability=&quot;blocksDescendants&quot;` on your parent view, this will block any child view from taking clicks from the parent, then put a click listener on the parent only.\r\nThis is assuming you don&#39;t care on which child view exactly the user clicked within the parent.\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/parent&quot;\r\n        ...\r\n        android:clickable=&quot;true&quot;\r\n        android:descendantFocusability=&quot;blocksDescendants&quot; &gt;\r\n        &lt;TextView\r\n            ... /&gt;\r\n        &lt;ImageButton\r\n            ... /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nand in code:\r\n\r\n    LinearLayout parent = (LinearLayout) findViewById(R.id.parent);\r\n    parent.setOnClickListener(...);","title":"Make a whole view with sub-elements clickable","body":"<p>The easiest option would be to put <code>android:descendantFocusability=\"blocksDescendants\"</code> on your parent view, this will block any child view from taking clicks from the parent, then put a click listener on the parent only.\nThis is assuming you don't care on which child view exactly the user clicked within the parent.</p>\n\n<pre><code>&lt;LinearLayout\n    android:id=\"@+id/parent\"\n    ...\n    android:clickable=\"true\"\n    android:descendantFocusability=\"blocksDescendants\" &gt;\n    &lt;TextView\n        ... /&gt;\n    &lt;ImageButton\n        ... /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and in code:</p>\n\n<pre><code>LinearLayout parent = (LinearLayout) findViewById(R.id.parent);\nparent.setOnClickListener(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21746049,"reputation":19,"user_id":16052717,"display_name":"Zain Ul Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652458819,"creation_date":1652382791,"answer_id":72220980,"question_id":46047453,"body_markdown":"This is how I did it. Just loop over the childen and make then non clickable. This works even if you are using clickable items inside root view.\r\n\r\n```kotlin\r\n\r\nrootView.apply {\r\n    descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\r\n    isClickable = true\r\n    setOnClickListener {\r\n        Snackbar.make(it, &quot;$data&quot;, Snackbar.LENGTH_LONG).show()\r\n    }\r\n    children.forEach {\r\n        it.isClickable = false\r\n    }\r\n}\r\n\r\n```","title":"Make a whole view with sub-elements clickable","body":"<p>This is how I did it. Just loop over the childen and make then non clickable. This works even if you are using clickable items inside root view.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nrootView.apply {\n    descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\n    isClickable = true\n    setOnClickListener {\n        Snackbar.make(it, &quot;$data&quot;, Snackbar.LENGTH_LONG).show()\n    }\n    children.forEach {\n        it.isClickable = false\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1158073,"reputation":5938,"user_id":1138160,"accept_rate":74,"display_name":"Elmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46047535,"answer_count":3,"score":2,"last_activity_date":1652458819,"creation_date":1504588739,"question_id":46047453,"body_markdown":"I have a vertical LinearLayout in my app where every row should get a more complex sub-view consisting of an image and two lines of text. Now I want to make the complete row clickable in order to start an other action. This means the whole thing should react on a click: the base view which holds the other elements, the image and even the two lines of text.\r\n\r\nMy question: what is the best approach for this? I can&#39;t use a simple button for the complete row and as far as I know I can&#39;t set an onClick-Handler for view/image/labels?\r\n\r\nAny idea how this could be done?\r\n\r\nThanks!\r\n","title":"Make a whole view with sub-elements clickable","body":"<p>I have a vertical LinearLayout in my app where every row should get a more complex sub-view consisting of an image and two lines of text. Now I want to make the complete row clickable in order to start an other action. This means the whole thing should react on a click: the base view which holds the other elements, the image and even the two lines of text.</p>\n\n<p>My question: what is the best approach for this? I can't use a simple button for the complete row and as far as I know I can't set an onClick-Handler for view/image/labels?</p>\n\n<p>Any idea how this could be done?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","xml","maven","pom.xml"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":2,"creation_date":1652432045,"post_id":72226832,"comment_id":127609630,"body_markdown":"Every dependency can pull in other dependencies so yes, you will need the effective POM","body":"Every dependency can pull in other dependencies so yes, you will need the effective POM"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1652432225,"post_id":72226832,"comment_id":127609712,"body_markdown":"Can you describe the purpose of your question? The dependencies are. downloaded  during the build ... ? You can use the maven-assembly-plugin to collect them into a directory or something different ...","body":"Can you describe the purpose of your question? The dependencies are. downloaded  during the build ... ? You can use the maven-assembly-plugin to collect them into a directory or something different ..."},{"owner":{"account_id":20241587,"reputation":23,"user_id":14845317,"display_name":"Denxah129"},"score":0,"creation_date":1652434199,"post_id":72226832,"comment_id":127610402,"body_markdown":"Long story short, I am working on a project on analyzing packages of Maven, but first, I need to get the data, and I have all the packages already, I need to get their dependencies and create a graph based on this. I thought that I can just get the dependencies by parsing the pom found on https://repo1.maven.org/maven2/, but apparently, as @NicoVanBelle said, I need to get the effective pom of each package first and then get its dependencies.","body":"Long story short, I am working on a project on analyzing packages of Maven, but first, I need to get the data, and I have all the packages already, I need to get their dependencies and create a graph based on this. I thought that I can just get the dependencies by parsing the pom found on <a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2</a>, but apparently, as @NicoVanBelle said, I need to get the effective pom of each package first and then get its dependencies."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1652435237,"post_id":72226832,"comment_id":127610742,"body_markdown":"The graph can printed out via `mvn dependency:tree`  https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html and also exported into different formats https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html#outputType","body":"The graph can printed out via <code>mvn dependency:tree</code>  <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.h&zwnj;&#8203;tml</a> and also exported into different formats <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html#outputType\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652458157,"creation_date":1652435075,"answer_id":72227527,"question_id":72226832,"body_markdown":"You can list all the dependencies quite easily by taking advantage of the  [maven-dependency-plugin][1]. You just have to open a shell and execute:\r\n\r\n    mvn -f my-project/pom.xml dependency:list\r\n\r\nor \r\n\r\n    mvn -f my-project/pom.xml dependency:tree\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/list-mojo.html\r\n","title":"Maven- Getting dependencies from pom file","body":"<p>You can list all the dependencies quite easily by taking advantage of the  <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/list-mojo.html\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a>. You just have to open a shell and execute:</p>\n<pre><code>mvn -f my-project/pom.xml dependency:list\n</code></pre>\n<p>or</p>\n<pre><code>mvn -f my-project/pom.xml dependency:tree\n</code></pre>\n"}],"owner":{"account_id":20241587,"reputation":23,"user_id":14845317,"display_name":"Denxah129"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652458157,"creation_date":1652431793,"question_id":72226832,"body_markdown":"I need to get all the dependencies of a project, so to my knowledge, everything under \r\n```\r\n&lt;dependencies&gt; ... &lt;dependencies&gt; and &lt;exclusions&gt; ... &lt;/exclusions&gt;\r\n```\r\nIs it possible to get all of these from the https://repo1.maven.org/maven2/ by going to a specific project&#39;s pom file and parsing it or do I have to get the effective pom of that project and only then will I have all the dependencies? \r\n\r\n\r\n\r\nEDIT 1: How can I generate the effective pom for lets say, 100 packages? Currently, I&#39;m using this command :\r\n```\r\nmvn -DgroupId=junit -DartifactId=junit -Dversion=4.13.1 dependency:get # get the pom/jar\r\ncd .m2/repository/junit/junit/4.13.1\r\ncp junit-4.13.1.pom pom.xml\r\nmvn help:effective-pom -Doutput=effective-pom.xml\r\n```\r\nHow could I write something that does this for 100 different inputs lets say, so I dont have to manually do this 100 times","title":"Maven- Getting dependencies from pom file","body":"<p>I need to get all the dependencies of a project, so to my knowledge, everything under</p>\n<pre><code>&lt;dependencies&gt; ... &lt;dependencies&gt; and &lt;exclusions&gt; ... &lt;/exclusions&gt;\n</code></pre>\n<p>Is it possible to get all of these from the <a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/</a> by going to a specific project's pom file and parsing it or do I have to get the effective pom of that project and only then will I have all the dependencies?</p>\n<p>EDIT 1: How can I generate the effective pom for lets say, 100 packages? Currently, I'm using this command :</p>\n<pre><code>mvn -DgroupId=junit -DartifactId=junit -Dversion=4.13.1 dependency:get # get the pom/jar\ncd .m2/repository/junit/junit/4.13.1\ncp junit-4.13.1.pom pom.xml\nmvn help:effective-pom -Doutput=effective-pom.xml\n</code></pre>\n<p>How could I write something that does this for 100 different inputs lets say, so I dont have to manually do this 100 times</p>\n"},{"tags":["java","generics","enums","interface"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1652456772,"post_id":72232079,"comment_id":127618727,"body_markdown":"you could change the signature to this `public interface MapperClass&lt;E extends Enum&lt;E&gt;&gt; { E mapString(String str); }` then the impl would have to provide an enum when implementing the interface: `class Foo implements MapperClass&lt;FooEnum&gt; { ... }` but you can&#39;t restrict it to inner classes","body":"you could change the signature to this <code>public interface MapperClass&lt;E extends Enum&lt;E&gt;&gt; { E mapString(String str); }</code> then the impl would have to provide an enum when implementing the interface: <code>class Foo implements MapperClass&lt;FooEnum&gt; { ... }</code> but you can&#39;t restrict it to inner classes"},{"owner":{"account_id":9292970,"reputation":179,"user_id":6900853,"accept_rate":86,"display_name":"JKawa"},"score":0,"creation_date":1652457155,"post_id":72232079,"comment_id":127618863,"body_markdown":"Not sure if that&#39;s possible, as I have two other methods that use the generic types E and D. I will edit my original post to reflect this. Sorry for the missing information.","body":"Not sure if that&#39;s possible, as I have two other methods that use the generic types E and D. I will edit my original post to reflect this. Sorry for the missing information."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1652457810,"post_id":72232079,"comment_id":127619073,"body_markdown":"Since the structure and type of D are unknown, there&#39;s no way to have a field in D named Enum.  This may be a bad use case for generics, I think you might have to use the actual type here.","body":"Since the structure and type of D are unknown, there&#39;s no way to have a field in D named Enum.  This may be a bad use case for generics, I think you might have to use the actual type here."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652457858,"creation_date":1652457858,"answer_id":72232450,"question_id":72232079,"body_markdown":"May be something like this:\r\n\r\n\r\n    public interface MapperClass&lt;E extends Enum&lt;Test.TestEnum&gt;, D extends Test&gt; {\r\n    \tE mapString(String a);\r\n    \t..\r\n    }\r\n\r\n\r\nYour `Test` Class:\r\n\r\n    public class Test {\r\n     \t..\r\n    \tenum TestEnum{\r\n    \t\tA,B,C; //for demonstration purpose\r\n    \t}\r\n      ..\r\n    }\r\n\r\n\r\nInterface implementation example :\r\n\r\n     MapperClass&lt;Enum&lt;Test.TestEnum&gt;, Test&gt; a=new  MapperClass&lt;Enum&lt;Test.TestEnum&gt;, Test&gt;() {\r\n           ..\r\n    \t\t\t@Override\r\n    \t\t\tpublic Enum&lt;Test.TestEnum&gt; mapString(String a) {\r\n    \t\t\t\treturn Test411.A; \r\n    \t\t\t}\r\n           ..\r\n         }","title":"In a Java interface, is there a way to return an enum nested in a generic type?","body":"<p>May be something like this:</p>\n<pre><code>public interface MapperClass&lt;E extends Enum&lt;Test.TestEnum&gt;, D extends Test&gt; {\n    E mapString(String a);\n    ..\n}\n</code></pre>\n<p>Your <code>Test</code> Class:</p>\n<pre><code>public class Test {\n    ..\n    enum TestEnum{\n        A,B,C; //for demonstration purpose\n    }\n  ..\n}\n</code></pre>\n<p>Interface implementation example :</p>\n<pre><code> MapperClass&lt;Enum&lt;Test.TestEnum&gt;, Test&gt; a=new  MapperClass&lt;Enum&lt;Test.TestEnum&gt;, Test&gt;() {\n       ..\n            @Override\n            public Enum&lt;Test.TestEnum&gt; mapString(String a) {\n                return Test411.A; \n            }\n       ..\n     }\n</code></pre>\n"}],"owner":{"account_id":9292970,"reputation":179,"user_id":6900853,"accept_rate":86,"display_name":"JKawa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652457858,"creation_date":1652455974,"question_id":72232079,"body_markdown":"I&#39;m looking for a way to return an Enum type nested in a Generic class. Here&#39;s what I mean:\r\n\r\n```\r\npublic interface MapperClass&lt;E, D&gt; {\r\n\r\n    D entityToDto(E entity);\r\n\r\n    default List&lt;D&gt; entitiesToDto(List&lt;E&gt; entities) {\r\n        return entities.stream()\r\n                .map(this::entityToDto)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    D.Enum mapString(String str);\r\n}\r\n```\r\n\r\nIn other words, my method `mapString()` should return an enum that is nested in the generic type `D`, is there a way to accomplish this in Java?","title":"In a Java interface, is there a way to return an enum nested in a generic type?","body":"<p>I'm looking for a way to return an Enum type nested in a Generic class. Here's what I mean:</p>\n<pre><code>public interface MapperClass&lt;E, D&gt; {\n\n    D entityToDto(E entity);\n\n    default List&lt;D&gt; entitiesToDto(List&lt;E&gt; entities) {\n        return entities.stream()\n                .map(this::entityToDto)\n                .collect(Collectors.toList());\n    }\n\n    D.Enum mapString(String str);\n}\n</code></pre>\n<p>In other words, my method <code>mapString()</code> should return an enum that is nested in the generic type <code>D</code>, is there a way to accomplish this in Java?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652454325,"post_id":72231589,"comment_id":127617783,"body_markdown":"Don&#39;t use `while(run){...}` loops to schedule paint pass in Swing.  Instead, use a Swing `Timer`","body":"Don&#39;t use <code>while(run){...}</code> loops to schedule paint pass in Swing.  Instead, use a Swing <code>Timer</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652454382,"post_id":72231589,"comment_id":127617813,"body_markdown":"It sounds like your `run` method is blocking Event Dispatching Thread (another reason not to do it this way)","body":"It sounds like your <code>run</code> method is blocking Event Dispatching Thread (another reason not to do it this way)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652457414,"creation_date":1652457414,"answer_id":72232358,"question_id":72231589,"body_markdown":"Suspicion abounds, but I suspect, based on your description, your `run` method is blocking the Event Dispatching Thread.\r\n\r\nSwing is single thread and NOT thread safe.  This means that you should not run long running or blocking code with in the context of the Event Dispatching Thread and you shouldn&#39;t update the UI or any state the UI relies on out side of the Event Dispatching Thread.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nA simple solution would be to use a [Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), for example...\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Timer timer;\r\n            private int mouseX, mouseY;\r\n            private boolean mouseDown;\r\n\r\n            public TestPane() {\r\n                MouseHandler handler = new MouseHandler();\r\n                addMouseListener(handler);\r\n                addMouseMotionListener(handler);\r\n            }\r\n\r\n            protected void start() {\r\n                if (timer != null) {\r\n                    return;\r\n                }\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Check input\r\n                        // Update game state\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            protected void stop() {\r\n                if (timer == null) {\r\n                    return;\r\n                }\r\n                timer.stop();\r\n                timer = null;\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                stop();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(1000, 600);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int dotSize = 6;\r\n                if (mouseDown) {\r\n                    g2d.setColor(Color.RED);\r\n                    g2d.fillOval(mouseX - dotSize, mouseY - dotSize, dotSize * 2, dotSize * 2);\r\n                } else {\r\n                    g2d.setColor(Color.BLACK);\r\n                    g2d.drawOval(mouseX - dotSize, mouseY - dotSize, dotSize * 2, dotSize * 2);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected class MouseHandler extends MouseAdapter {\r\n\r\n                @Override\r\n                public void mousePressed(MouseEvent me) {\r\n                    mouseDown = true;\r\n                }\r\n\r\n                @Override\r\n                public void mouseReleased(MouseEvent me) {\r\n                    mouseDown = false;\r\n                }\r\n\r\n                @Override\r\n                public void mouseDragged(MouseEvent me) {\r\n                    mouseX = me.getX();\r\n                    mouseY = me.getY();\r\n                }\r\n\r\n                @Override\r\n                public void mouseMoved(MouseEvent me) {\r\n                    mouseX = me.getX();\r\n                    mouseY = me.getY();\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"JFrame Isn&#39;t Closable Despite frame.setDefaultCloseOperation()","body":"<p>Suspicion abounds, but I suspect, based on your description, your <code>run</code> method is blocking the Event Dispatching Thread.</p>\n<p>Swing is single thread and NOT thread safe.  This means that you should not run long running or blocking code with in the context of the Event Dispatching Thread and you shouldn't update the UI or any state the UI relies on out side of the Event Dispatching Thread.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>A simple solution would be to use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing <code>Timer</code></a>, for example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Timer timer;\n        private int mouseX, mouseY;\n        private boolean mouseDown;\n\n        public TestPane() {\n            MouseHandler handler = new MouseHandler();\n            addMouseListener(handler);\n            addMouseMotionListener(handler);\n        }\n\n        protected void start() {\n            if (timer != null) {\n                return;\n            }\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Check input\n                    // Update game state\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        protected void stop() {\n            if (timer == null) {\n                return;\n            }\n            timer.stop();\n            timer = null;\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            stop();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(1000, 600);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            int dotSize = 6;\n            if (mouseDown) {\n                g2d.setColor(Color.RED);\n                g2d.fillOval(mouseX - dotSize, mouseY - dotSize, dotSize * 2, dotSize * 2);\n            } else {\n                g2d.setColor(Color.BLACK);\n                g2d.drawOval(mouseX - dotSize, mouseY - dotSize, dotSize * 2, dotSize * 2);\n            }\n            g2d.dispose();\n        }\n\n        protected class MouseHandler extends MouseAdapter {\n\n            @Override\n            public void mousePressed(MouseEvent me) {\n                mouseDown = true;\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent me) {\n                mouseDown = false;\n            }\n\n            @Override\n            public void mouseDragged(MouseEvent me) {\n                mouseX = me.getX();\n                mouseY = me.getY();\n            }\n\n            @Override\n            public void mouseMoved(MouseEvent me) {\n                mouseX = me.getX();\n                mouseY = me.getY();\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23466630,"reputation":51,"user_id":17520713,"display_name":"Mike Fitzgibbon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652457414,"creation_date":1652453724,"question_id":72231589,"body_markdown":"I am having a problem where the panel doesn&#39;t load in the JFrame and the JFrame itself doesn&#39;t set the default close operation, but performs setSize() and setVisible(). I have tried running the frame initialization in main, in the run() method, and in the frame&#39;s constructor and there is no difference. The MouseListeners don&#39;t seem to be functional, but there&#39;s no way to know for sure without the panel being added to the frame, which it isn&#39;t. My main goals of posting this question are to get the Frame to close when you click on the x, and to get the panel to be added to the frame again. I&#39;m certain it is not a problem in gameState.buffer() or gameStae.paint(g). It&#39;s for a video game called When Pigs Fly. Here is the code:\r\n\r\n\r\nMain class:\r\n```\r\npackage when.pigs.fly;\r\n\r\npublic class Main {\r\n    static Frame frame;\r\n    public static void main(String[] args) {\r\n        frame=new Frame();\r\n        frame.panel.run();\r\n    }\r\n}\r\n```\r\n\r\nFrame class:\r\n```\r\npackage when.pigs.fly;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class Frame extends JFrame{\r\n    Panel panel;\r\n    int windowWidth,windowHeight;\r\n    public Frame(){\r\n        super(&quot;When Pigs Fly&quot;);\r\n        \r\n        panel=new Panel();\r\n        panel.setListeners();\r\n        \r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(1000,600);\r\n        buffer();\r\n        \r\n        add(panel);\r\n        setVisible(true);\r\n    }\r\n    \r\n    public final void buffer(){\r\n        windowWidth=getContentPane().getWidth();\r\n        windowHeight=getContentPane().getHeight();\r\n    }\r\n}\r\n```\r\n\r\nPanel class:\r\n```\r\npackage when.pigs.fly;\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport javax.swing.JPanel;\r\nimport static when.pigs.fly.GameState.gameState;\r\nimport static when.pigs.fly.Main.frame;\r\n\r\npublic class Panel extends JPanel implements MouseListener,MouseMotionListener{\r\n    private long timeElapsed;\r\n    int mouseX,mouseY;\r\n    boolean mouseDown;\r\n    \r\n    public Panel(){\r\n        gameState=new GameState(1);\r\n    }\r\n    \r\n    public final void setListeners(){\r\n        addMouseListener(this);\r\n        addMouseMotionListener(this);\r\n    }\r\n    \r\n    public void run(){\r\n        boolean run=true;\r\n        while(run){\r\n            long timeAtStart=System.nanoTime();\r\n            \r\n            if(timeElapsed&gt;=33333333){\r\n                gameState.buffer();\r\n                frame.buffer();\r\n                timeElapsed-=33333333;\r\n            }\r\n            repaint();\r\n            \r\n            timeElapsed+=System.nanoTime()-timeAtStart;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        gameState.paint((Graphics2D)g);\r\n    }\r\n    \r\n    @Override\r\n    public void mouseClicked(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent me) {\r\n        mouseDown=true;\r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent me) {\r\n        mouseDown=false;\r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent me) {}\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent me) {}\r\n\r\n    @Override\r\n    public void mouseDragged(MouseEvent me) {\r\n        mouseX=me.getX();\r\n        mouseY=me.getY();\r\n    }\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent me) {\r\n        mouseX=me.getX();\r\n        mouseY=me.getY();\r\n    }\r\n\r\n}\r\n```","title":"JFrame Isn&#39;t Closable Despite frame.setDefaultCloseOperation()","body":"<p>I am having a problem where the panel doesn't load in the JFrame and the JFrame itself doesn't set the default close operation, but performs setSize() and setVisible(). I have tried running the frame initialization in main, in the run() method, and in the frame's constructor and there is no difference. The MouseListeners don't seem to be functional, but there's no way to know for sure without the panel being added to the frame, which it isn't. My main goals of posting this question are to get the Frame to close when you click on the x, and to get the panel to be added to the frame again. I'm certain it is not a problem in gameState.buffer() or gameStae.paint(g). It's for a video game called When Pigs Fly. Here is the code:</p>\n<p>Main class:</p>\n<pre><code>package when.pigs.fly;\n\npublic class Main {\n    static Frame frame;\n    public static void main(String[] args) {\n        frame=new Frame();\n        frame.panel.run();\n    }\n}\n</code></pre>\n<p>Frame class:</p>\n<pre><code>package when.pigs.fly;\n\nimport javax.swing.JFrame;\n\npublic class Frame extends JFrame{\n    Panel panel;\n    int windowWidth,windowHeight;\n    public Frame(){\n        super(&quot;When Pigs Fly&quot;);\n        \n        panel=new Panel();\n        panel.setListeners();\n        \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(1000,600);\n        buffer();\n        \n        add(panel);\n        setVisible(true);\n    }\n    \n    public final void buffer(){\n        windowWidth=getContentPane().getWidth();\n        windowHeight=getContentPane().getHeight();\n    }\n}\n</code></pre>\n<p>Panel class:</p>\n<pre><code>package when.pigs.fly;\n\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport javax.swing.JPanel;\nimport static when.pigs.fly.GameState.gameState;\nimport static when.pigs.fly.Main.frame;\n\npublic class Panel extends JPanel implements MouseListener,MouseMotionListener{\n    private long timeElapsed;\n    int mouseX,mouseY;\n    boolean mouseDown;\n    \n    public Panel(){\n        gameState=new GameState(1);\n    }\n    \n    public final void setListeners(){\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n    \n    public void run(){\n        boolean run=true;\n        while(run){\n            long timeAtStart=System.nanoTime();\n            \n            if(timeElapsed&gt;=33333333){\n                gameState.buffer();\n                frame.buffer();\n                timeElapsed-=33333333;\n            }\n            repaint();\n            \n            timeElapsed+=System.nanoTime()-timeAtStart;\n        }\n    }\n    \n    @Override\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        gameState.paint((Graphics2D)g);\n    }\n    \n    @Override\n    public void mouseClicked(MouseEvent me) {\n        \n    }\n\n    @Override\n    public void mousePressed(MouseEvent me) {\n        mouseDown=true;\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent me) {\n        mouseDown=false;\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent me) {}\n\n    @Override\n    public void mouseExited(MouseEvent me) {}\n\n    @Override\n    public void mouseDragged(MouseEvent me) {\n        mouseX=me.getX();\n        mouseY=me.getY();\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent me) {\n        mouseX=me.getX();\n        mouseY=me.getY();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","bytecode","post-increment"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1652449480,"post_id":72230544,"comment_id":127615873,"body_markdown":"Yes, but what value was passed to `aMethod`? 0.","body":"Yes, but what value was passed to <code>aMethod</code>? 0."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":3,"creation_date":1652451002,"post_id":72230544,"comment_id":127616477,"body_markdown":"iinc doesn&#39;t change the stack and you&#39;ve pushed the value of your variable on the stack before you updated it with iinc.","body":"iinc doesn&#39;t change the stack and you&#39;ve pushed the value of your variable on the stack before you updated it with iinc."},{"owner":{"account_id":17656716,"reputation":47,"user_id":12816142,"display_name":"Abdullah D."},"score":0,"creation_date":1652456212,"post_id":72230544,"comment_id":127618511,"body_markdown":"@president-james-k-polk: It doesn&#39;t matter, the question about post increment vs iinc instruction","body":"@president-james-k-polk: It doesn&#39;t matter, the question about post increment vs iinc instruction"},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":1,"creation_date":1652467806,"post_id":72230544,"comment_id":127622046,"body_markdown":"@PresidentJamesK.Polk actually helps my to understand a little bit this... because the post increment works as expected and another thing (but related) is how javac generates bytecodes.. my upvote for both of you, is really interesting! it would be more intereseting to see `anotherMethod(x++,x++);` because on that case, the first evaluated argument should be 0 and the other should be 1.","body":"@PresidentJamesK.Polk actually helps my to understand a little bit this... because the post increment works as expected and another thing (but related) is how javac generates bytecodes.. my upvote for both of you, is really interesting! it would be more intereseting to see <code>anotherMethod(x++,x++);</code> because on that case, the first evaluated argument should be 0 and the other should be 1."}],"answers":[{"tags":[],"owner":{"account_id":17656716,"reputation":47,"user_id":12816142,"display_name":"Abdullah D."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652457266,"creation_date":1652457266,"answer_id":72232327,"question_id":72230544,"body_markdown":"Thanks to @voo\r\n\r\nI&#39;ve made a another example for pre increment for comparison purpose:  \r\n\r\n    0: iconst_0\r\n    1: istore_1\r\n    2: iinc          1, 1\r\n    5: iload_1\r\n    6: invokestatic  #2                  // Method aMethod:(I)V\r\n    9: return\r\n\r\n\r\nThe difference can be seen in instruction 2# and 5# (iinc invoked before iload_1), while in in post increment, iload_1 invoked before iinc.\r\n\r\nThat means the increment will occur on the variable itself and not on the copy pushed onto the stack, which been used as parameter to invoke the method.\r\n\r\n\r\n\r\n\r\nfrom [here][1]:\r\n\r\n&gt; iinc \r\n&gt; \r\n&gt; Increment local variable by constant\r\n&gt; \r\n&gt; The index is an unsigned byte **that must be an index into the local\r\n&gt; variable array of the current frame** (&#167;2.6). The const is an immediate\r\n&gt; signed byte. The local variable at index must contain an int. The\r\n&gt; value const is first sign-extended to an int, and then the local\r\n&gt; variable at index is incremented by that amount.\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html","title":"Java post increment vs opcode iinc","body":"<p>Thanks to @voo</p>\n<p>I've made a another example for pre increment for comparison purpose:</p>\n<pre><code>0: iconst_0\n1: istore_1\n2: iinc          1, 1\n5: iload_1\n6: invokestatic  #2                  // Method aMethod:(I)V\n9: return\n</code></pre>\n<p>The difference can be seen in instruction 2# and 5# (iinc invoked before iload_1), while in in post increment, iload_1 invoked before iinc.</p>\n<p>That means the increment will occur on the variable itself and not on the copy pushed onto the stack, which been used as parameter to invoke the method.</p>\n<p>from <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>iinc</p>\n<p>Increment local variable by constant</p>\n<p>The index is an unsigned byte <strong>that must be an index into the local\nvariable array of the current frame</strong> (2.6). The const is an immediate\nsigned byte. The local variable at index must contain an int. The\nvalue const is first sign-extended to an int, and then the local\nvariable at index is incremented by that amount.</p>\n</blockquote>\n"}],"owner":{"account_id":17656716,"reputation":47,"user_id":12816142,"display_name":"Abdullah D."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1652457407,"creation_date":1652449303,"question_id":72230544,"body_markdown":"Most of us are familiar with post increment, but when I look to the bytecode instructions, it shows the increment happened before the invocation to the method.\r\n\r\nExample:\r\n\r\n\tint x = 0;\r\n\taMethod(x++);\r\n\r\nbytecode:\r\n     \r\n\r\n    0: iconst_0\r\n    1: istore_1\r\n    2: iload_1\r\n    3: iinc          1, 1\r\n    6: invokestatic  #2                  // Method aMethod:(I)V\r\n    9: return\r\n\r\nCan someone clarify this?","title":"Java post increment vs opcode iinc","body":"<p>Most of us are familiar with post increment, but when I look to the bytecode instructions, it shows the increment happened before the invocation to the method.</p>\n<p>Example:</p>\n<pre><code>int x = 0;\naMethod(x++);\n</code></pre>\n<p>bytecode:</p>\n<pre><code>0: iconst_0\n1: istore_1\n2: iload_1\n3: iinc          1, 1\n6: invokestatic  #2                  // Method aMethod:(I)V\n9: return\n</code></pre>\n<p>Can someone clarify this?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":0,"creation_date":1583779344,"post_id":60606548,"comment_id":107223614,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer. Avoid asking multiple distinct questions at once. See the [ask] page for help clarifying this question.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer. Avoid asking multiple distinct questions at once. See the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> page for help clarifying this question."},{"owner":{"account_id":9131857,"reputation":409,"user_id":6793146,"display_name":"Mohit Singh"},"score":0,"creation_date":1583779773,"post_id":60606548,"comment_id":107223827,"body_markdown":"Change it now looks simple question with sufficient details","body":"Change it now looks simple question with sufficient details"},{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":0,"creation_date":1583802902,"post_id":60606548,"comment_id":107230596,"body_markdown":"Are you asking about the difference between GlobalKTable and a Streams state store (using RocksDB)?","body":"Are you asking about the difference between GlobalKTable and a Streams state store (using RocksDB)?"},{"owner":{"account_id":9131857,"reputation":409,"user_id":6793146,"display_name":"Mohit Singh"},"score":0,"creation_date":1583823092,"post_id":60606548,"comment_id":107234447,"body_markdown":"i want to know how global-state store work is it internally create any change-log topic for restore when machine restart. because in my scenario the source topic for global-state store has no key [key is null] so when i restart my machine. global state store directly load data from source topic","body":"i want to know how global-state store work is it internally create any change-log topic for restore when machine restart. because in my scenario the source topic for global-state store has no key [key is null] so when i restart my machine. global state store directly load data from source topic"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1583844867,"post_id":60606548,"comment_id":107243784,"body_markdown":"Please read the tag description of `confluent-kafka` before using it. It&#39;s unrelated to Kafka Streams","body":"Please read the tag description of <code>confluent-kafka</code> before using it. It&#39;s unrelated to Kafka Streams"}],"answers":[{"tags":[],"owner":{"account_id":11541259,"reputation":1326,"user_id":8456862,"display_name":"Tuyen Luong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583816554,"creation_date":1583816151,"answer_id":60611752,"question_id":60606548,"body_markdown":" 1. Is Global state store has copy of data in all the instance running on different machine?\r\n\r\n    Yes.\r\n 2. How it behave in case of restart because global state store doesn&#39;t use any change-log topic for restore in my scenario the source topic from the global store has no key:\r\n     - `GlobalKTable` disable logging by default so it&#39;ll not push changelog to the changelog topic for `GlobalKTable` (it still creates the changelog topic though). You have to re-populate data to `GlobalKTable` from an input topic which enables log compaction (cleanup.policy=compact) which message&#39;s key is the key you want to lookup in your `GlobalKTable`. Kafka Stream will just re-populate data from the input topic to `GlobalKTable` when you restart application.\r\n     - in my scenario the source topic from the global store has no key: you have to map your source topic to the new topic which I mentioned above using a KeyValueMapper, and enable log compaction on the output topic.","title":"How does a global state store differ from a normal state store in kafka?","body":"<ol>\n<li><p>Is Global state store has copy of data in all the instance running on different machine?</p>\n\n<p>Yes.</p></li>\n<li>How it behave in case of restart because global state store doesn't use any change-log topic for restore in my scenario the source topic from the global store has no key:\n\n<ul>\n<li><code>GlobalKTable</code> disable logging by default so it'll not push changelog to the changelog topic for <code>GlobalKTable</code> (it still creates the changelog topic though). You have to re-populate data to <code>GlobalKTable</code> from an input topic which enables log compaction (cleanup.policy=compact) which message's key is the key you want to lookup in your <code>GlobalKTable</code>. Kafka Stream will just re-populate data from the input topic to <code>GlobalKTable</code> when you restart application.</li>\n<li>in my scenario the source topic from the global store has no key: you have to map your source topic to the new topic which I mentioned above using a KeyValueMapper, and enable log compaction on the output topic.</li>\n</ul></li>\n</ol>\n"}],"owner":{"account_id":9131857,"reputation":409,"user_id":6793146,"display_name":"Mohit Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2703,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1652457380,"creation_date":1583779227,"question_id":60606548,"body_markdown":"How does a global State Store differ from a normal state store ?\r\n\r\nHas a global state store a copy of the data in all the instances running on different machines ?\r\nHow does it behave in case of a restart ? Because a global state store doesn&#39;t use any change-log topic for restoration, in my scenario, the source topic from the global store has no key. \r\n\r\n","title":"How does a global state store differ from a normal state store in kafka?","body":"<p>How does a global State Store differ from a normal state store ?</p>\n<p>Has a global state store a copy of the data in all the instances running on different machines ?\nHow does it behave in case of a restart ? Because a global state store doesn't use any change-log topic for restoration, in my scenario, the source topic from the global store has no key.</p>\n"},{"tags":["java","for-loop","refactoring"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1652457451,"post_id":72232315,"comment_id":127618947,"body_markdown":"You could write a version (call it X) of this that *does* take a debug parameter, and then have your &quot;real&quot; versions call X, each with a different value for the debug parameter.","body":"You could write a version (call it X) of this that <i>does</i> take a debug parameter, and then have your &quot;real&quot; versions call X, each with a different value for the debug parameter."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1652457572,"post_id":72232315,"comment_id":127618992,"body_markdown":"If you can externalize your *isDebug* logic then you can call it directly within your method.","body":"If you can externalize your <i>isDebug</i> logic then you can call it directly within your method."},{"owner":{"account_id":2735263,"reputation":613,"user_id":3936878,"accept_rate":90,"display_name":"fukiburi"},"score":0,"creation_date":1652685490,"post_id":72232315,"comment_id":127656590,"body_markdown":"That&#39;s exactly what I&#39;d like to do: externalizing the debug logic, so I can have my non-debug version call the debug version. But I don&#39;t know how. I thought maybe there&#39;s a pattern/best-practice for that.","body":"That&#39;s exactly what I&#39;d like to do: externalizing the debug logic, so I can have my non-debug version call the debug version. But I don&#39;t know how. I thought maybe there&#39;s a pattern/best-practice for that."}],"owner":{"account_id":2735263,"reputation":613,"user_id":3936878,"accept_rate":90,"display_name":"fukiburi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652457199,"creation_date":1652457199,"question_id":72232315,"body_markdown":"I have a java method that basically looks like this:\r\n\r\n```\r\npublic static Map&lt;String, List&lt;MyObject&gt;&gt; myMappingMethod(List&lt;A&gt; listOfA, List&lt;B&gt; listOfB) {\r\n\tfinal Map&lt;String, List&lt;MyObject&gt;&gt; results = new HashMap&lt;&gt;();\r\n\t\r\n\tfor (A objA : listOfA) {\r\n\t\tif (!objA.meetsSomeCriteria()) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tfor (B objB : listOfB) {\r\n\t\t\tif (!objB.meetsSomeCriteria()) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcreateFileWithIntermediateResultsFrom(objA, objB);   // &lt;-- seldomly needed\r\n\r\n            // create new List&lt;MyObject&gt; from objA and objB and add to results\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn results;\r\n}\r\n```\r\n\r\nNow I want to basically duplicate this method and leave out the the ```createFileWithIntermediateResultsFrom(objA, objB);``` part cause usually I don&#39;t need that (but can&#39;t take it out, cause it is needed for like 1 %).\r\n\r\n**How to avoid copy&amp;paste with one line deletion and also avoid introducing some kind of &quot;debug&quot;-parameter?**\r\n\r\n(If possible, I don&#39;t want to change the signature to ```myMappingMethod(List&lt;A&gt; listOfA, List&lt;B&gt; listOfB, boolean createDbgFile)```)","title":"Reuse a method with nested for-loops that only differs by some lines inside the inner loop","body":"<p>I have a java method that basically looks like this:</p>\n<pre><code>public static Map&lt;String, List&lt;MyObject&gt;&gt; myMappingMethod(List&lt;A&gt; listOfA, List&lt;B&gt; listOfB) {\n    final Map&lt;String, List&lt;MyObject&gt;&gt; results = new HashMap&lt;&gt;();\n    \n    for (A objA : listOfA) {\n        if (!objA.meetsSomeCriteria()) {\n            continue;\n        }\n\n        for (B objB : listOfB) {\n            if (!objB.meetsSomeCriteria()) {\n                continue;\n            }\n            \n            createFileWithIntermediateResultsFrom(objA, objB);   // &lt;-- seldomly needed\n\n            // create new List&lt;MyObject&gt; from objA and objB and add to results\n        }\n    }\n    \n    return results;\n}\n</code></pre>\n<p>Now I want to basically duplicate this method and leave out the the <code>createFileWithIntermediateResultsFrom(objA, objB);</code> part cause usually I don't need that (but can't take it out, cause it is needed for like 1 %).</p>\n<p><strong>How to avoid copy&amp;paste with one line deletion and also avoid introducing some kind of &quot;debug&quot;-parameter?</strong></p>\n<p>(If possible, I don't want to change the signature to <code>myMappingMethod(List&lt;A&gt; listOfA, List&lt;B&gt; listOfB, boolean createDbgFile)</code>)</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":2,"creation_date":1652455186,"post_id":72231852,"comment_id":127618112,"body_markdown":"Your source code in image is different to your post, which is the actual one?","body":"Your source code in image is different to your post, which is the actual one?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1652455309,"post_id":72231852,"comment_id":127618158,"body_markdown":"Side note: Writing a test for that method doesn&#39;t really make sense","body":"Side note: Writing a test for that method doesn&#39;t really make sense"},{"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"score":0,"creation_date":1652455557,"post_id":72231852,"comment_id":127618250,"body_markdown":"@samabcde My bad. Thanks for pointing. it was copy paste mistake by me. I have corrected it","body":"@samabcde My bad. Thanks for pointing. it was copy paste mistake by me. I have corrected it"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1652455752,"post_id":72231852,"comment_id":127618326,"body_markdown":"@DanW Mocking `Data.class` defeats the purpose of the test because then you are testing the mock, not `Data.clone()`.","body":"@DanW Mocking <code>Data.class</code> defeats the purpose of the test because then you are testing the mock, not <code>Data.clone()</code>."},{"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"score":1,"creation_date":1652455929,"post_id":72231852,"comment_id":127618406,"body_markdown":"i am agree with @Code-Apprentice. we cannot mock class under test.","body":"i am agree with @Code-Apprentice. we cannot mock class under test."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1652455937,"post_id":72231852,"comment_id":127618409,"body_markdown":"@AjayKumar Under what condition will `super.clone()` throw `CloneNotSupportedException`? I don&#39;t think this will ever happen in real situations, which means the `try...catch` is not really necessary. But then if you remove it, your clone implementation basically is the same as the one in `Object.clone()`.","body":"@AjayKumar Under what condition will <code>super.clone()</code> throw <code>CloneNotSupportedException</code>? I don&#39;t think this will ever happen in real situations, which means the <code>try...catch</code> is not really necessary. But then if you remove it, your clone implementation basically is the same as the one in <code>Object.clone()</code>."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1652455987,"post_id":72231852,"comment_id":127618428,"body_markdown":"One thing to consider, when you return `new Data()` without setting its `A` field, you aren&#39;t really cloning anything.","body":"One thing to consider, when you return <code>new Data()</code> without setting its <code>A</code> field, you aren&#39;t really cloning anything."},{"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"score":1,"creation_date":1652456741,"post_id":72231852,"comment_id":127618715,"body_markdown":"@Code-Apprentice super.clone() will never throw cloneNotsupportedException as Data class implements cloneable. \ni am trying to cover code coverage detected by sonar tool. i added String A for testing purpose. i have tested positive test cases by setting and reading string values. \n\nNow i believe i should ignore this catch-block as mentioned by you also it dont make sense to test this catch block because this will not happen in real situations.","body":"@Code-Apprentice super.clone() will never throw cloneNotsupportedException as Data class implements cloneable.  i am trying to cover code coverage detected by sonar tool. i added String A for testing purpose. i have tested positive test cases by setting and reading string values.   Now i believe i should ignore this catch-block as mentioned by you also it dont make sense to test this catch block because this will not happen in real situations."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1652457004,"post_id":72231852,"comment_id":127618795,"body_markdown":"@AjayKumar The best way to increase your code coverage in this case is to delete `Data.clone()`. First of all, your implementation is incorrect or at least has unexpected results. Second of all, 99.99% of the time you should only `implement Cloneable` and let `Object.clone()` do the work without overriding it.","body":"@AjayKumar The best way to increase your code coverage in this case is to delete <code>Data.clone()</code>. First of all, your implementation is incorrect or at least has unexpected results. Second of all, 99.99% of the time you should only <code>implement Cloneable</code> and let <code>Object.clone()</code> do the work without overriding it."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1652457092,"post_id":72231852,"comment_id":127618836,"body_markdown":"@AjayKumar When you say &quot;I added String A for testing purposes&quot;, do you mean that `A` is only ever used in tests? If so, then I suggest not doing that. Implementation code should only exist to support the purposes of the app.","body":"@AjayKumar When you say &quot;I added String A for testing purposes&quot;, do you mean that <code>A</code> is only ever used in tests? If so, then I suggest not doing that. Implementation code should only exist to support the purposes of the app."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1652457128,"post_id":72231852,"comment_id":127618850,"body_markdown":"@AjayKumar &quot;it dont make sense to test this catch block because this will not happen in real situations&quot; That also means that the `catch` block shouldn&#39;t even exist.","body":"@AjayKumar &quot;it dont make sense to test this catch block because this will not happen in real situations&quot; That also means that the <code>catch</code> block shouldn&#39;t even exist."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652470114,"post_id":72231852,"comment_id":127622672,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652456904,"creation_date":1652456904,"answer_id":72232273,"question_id":72231852,"body_markdown":"A few things before I answer your question:\r\n\r\n1. `return new Data();` doesn&#39;t actually clone anything because the `A` field in returned the object is not guaranteed to be the same as `this.A`. You can fix this by doing something like\r\n\r\n    ```\r\n    Data other = new Data();\r\n    other.A = this.A\r\n    return other;\r\n    ```\r\n\r\n2. But now your custom implementation has the exact same behavior as `Object.clone()`, so there is no reason for it. Generally, you only need to `implement Cloneable`. You don&#39;t need to override `clone()` unless you have some very special processing needed that doesn&#39;t happen with the bitwise clone which `Object` already gives us.\r\n\r\nWith that said, to test the path that throws an exception, you need to create a condition where something in the `try` block throws the specific exception you want to test. In this case, the only choice is to cause `super.clone()` to throw `CloneNotSupportedException`. That means you have to mock `Object.clone` and cause it to throw the exception.\r\n\r\nAdditionally, you don&#39;t want to `assertThrows(CloneNotSupportedException.class, () -&gt; data.clone());` because `Data.clone()` never throws this exception. Instead, you need an assertion that is based on the expected behavior in the `catch` block. In this case, that something is returned.","title":"How to write Junit for clone method catch block","body":"<p>A few things before I answer your question:</p>\n<ol>\n<li><p><code>return new Data();</code> doesn't actually clone anything because the <code>A</code> field in returned the object is not guaranteed to be the same as <code>this.A</code>. You can fix this by doing something like</p>\n<pre><code>Data other = new Data();\nother.A = this.A\nreturn other;\n</code></pre>\n</li>\n<li><p>But now your custom implementation has the exact same behavior as <code>Object.clone()</code>, so there is no reason for it. Generally, you only need to <code>implement Cloneable</code>. You don't need to override <code>clone()</code> unless you have some very special processing needed that doesn't happen with the bitwise clone which <code>Object</code> already gives us.</p>\n</li>\n</ol>\n<p>With that said, to test the path that throws an exception, you need to create a condition where something in the <code>try</code> block throws the specific exception you want to test. In this case, the only choice is to cause <code>super.clone()</code> to throw <code>CloneNotSupportedException</code>. That means you have to mock <code>Object.clone</code> and cause it to throw the exception.</p>\n<p>Additionally, you don't want to <code>assertThrows(CloneNotSupportedException.class, () -&gt; data.clone());</code> because <code>Data.clone()</code> never throws this exception. Instead, you need an assertion that is based on the expected behavior in the <code>catch</code> block. In this case, that something is returned.</p>\n"}],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652456904,"creation_date":1652454889,"question_id":72231852,"body_markdown":"My respected java developer friends. \r\ni am trying test and  cover the catch block of clone method. I have wasted one week but didn&#39;t find any solution to cover catch block. Please help me.\r\n\r\nMy source code - \r\n```\r\npublic class Data implements Cloneable {\r\n\r\n\tprivate String A;\r\n\r\n\t@Override\r\n\tpublic Object clone() {\r\n\t\ttry {\r\n\t\t\treturn super.clone();\r\n\t\t} catch (CloneNotSupportedException e) {\r\n\t\t\treturn new Data();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nMy Junit Test Cases - \r\n\r\n\t@Test\r\n\tpublic void testCloneSucess() throws CloneNotSupportedException {\r\n\t\tData data = new Data();\r\n\t\tData d = (Data) data.clone();\r\n\t\tassertNotNull(d);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testCloneFailure() throws CloneNotSupportedException {\r\n\t\tData data = new Data();\r\n\t\tdoThrow(new CloneNotSupportedException()).when(data.clone());\r\n\t\tassertThrows(CloneNotSupportedException.class, () -&gt; data.clone());\r\n\t}\r\n\r\ni have given links for the images, this will give more understanding of question and what i have tried. \r\n1. Source code - ![source code][1]\r\n2. junit that i have tried - ![junits][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HyL9E.png\r\n  [2]: https://i.stack.imgur.com/6NaX5.png","title":"How to write Junit for clone method catch block","body":"<p>My respected java developer friends.\ni am trying test and  cover the catch block of clone method. I have wasted one week but didn't find any solution to cover catch block. Please help me.</p>\n<p>My source code -</p>\n<pre><code>public class Data implements Cloneable {\n\n    private String A;\n\n    @Override\n    public Object clone() {\n        try {\n            return super.clone();\n        } catch (CloneNotSupportedException e) {\n            return new Data();\n        }\n    }\n}\n</code></pre>\n<p>My Junit Test Cases -</p>\n<pre><code>@Test\npublic void testCloneSucess() throws CloneNotSupportedException {\n    Data data = new Data();\n    Data d = (Data) data.clone();\n    assertNotNull(d);\n}\n\n@Test\npublic void testCloneFailure() throws CloneNotSupportedException {\n    Data data = new Data();\n    doThrow(new CloneNotSupportedException()).when(data.clone());\n    assertThrows(CloneNotSupportedException.class, () -&gt; data.clone());\n}\n</code></pre>\n<p>i have given links for the images, this will give more understanding of question and what i have tried.</p>\n<ol>\n<li>Source code - <img src=\"https://i.stack.imgur.com/HyL9E.png\" alt=\"source code\" /></li>\n<li>junit that i have tried - <img src=\"https://i.stack.imgur.com/6NaX5.png\" alt=\"junits\" /></li>\n</ol>\n"},{"tags":["java","swing","text","jframe","draw"],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326194314,"creation_date":1326194314,"answer_id":8802418,"question_id":8802320,"body_markdown":"1) not possible directly paint to the `JFrame`, you can painting:\r\n\r\n- put there `JPanel`\r\n\r\n- getContentPane from `JFrame`\r\n\r\n2) for Swing `JComponents` is there `paintComponent()` instead of `paint()`, otherwise your painting couldn&#39;t be drawed corretly \r\n\r\n3) another options are:\r\n\r\n- paint to the `JFrame&#39;s RootPane`\r\n\r\n- paint to the `JFrame&#39;s GlassPane` \r\n\r\n4) more in [2D Graphics][1] tutorial\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/2d/index.html","title":"Draw text with graphics object on JFrame","body":"<p>1) not possible directly paint to the <code>JFrame</code>, you can painting:</p>\n\n<ul>\n<li><p>put there <code>JPanel</code></p></li>\n<li><p>getContentPane from <code>JFrame</code></p></li>\n</ul>\n\n<p>2) for Swing <code>JComponents</code> is there <code>paintComponent()</code> instead of <code>paint()</code>, otherwise your painting couldn't be drawed corretly </p>\n\n<p>3) another options are:</p>\n\n<ul>\n<li><p>paint to the <code>JFrame's RootPane</code></p></li>\n<li><p>paint to the <code>JFrame's GlassPane</code> </p></li>\n</ul>\n\n<p>4) more in <a href=\"http://docs.oracle.com/javase/tutorial/2d/index.html\" rel=\"nofollow\">2D Graphics</a> tutorial</p>\n"},{"tags":[],"owner":{"account_id":951663,"reputation":12014,"user_id":977676,"display_name":"COD3BOY"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1326205472,"creation_date":1326194325,"answer_id":8802421,"question_id":8802320,"body_markdown":"In the given code, what you want is\r\n\r\n \r\n\r\n     g2d.drawString(&quot;This is gona be awesome&quot;, 200, 200);\r\n      ^\r\n\r\n\r\n----------\r\n\r\n\r\nA working example for your reference : \r\n\r\n\r\n    package Experiments;\r\n    import java.awt.Container;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    \r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    \r\n    public class MainClass{\r\n      public static void main(String[] args) {\r\n        JFrame jf = new JFrame(&quot;Demo&quot;);\r\n        Container cp = jf.getContentPane();\r\n        MyCanvas tl = new MyCanvas();\r\n        cp.add(tl);\r\n        jf.setSize(300, 200);\r\n        jf.setVisible(true);\r\n      }\r\n    }\r\n    \r\n    class MyCanvas extends JComponent {\r\n    \r\n      @Override\r\n      public void paintComponent(Graphics g) {\r\n          if(g instanceof Graphics2D)\r\n          {\r\n            Graphics2D g2 = (Graphics2D)g;\r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n            RenderingHints.VALUE_ANTIALIAS_ON);\r\n       \r\n            g2.drawString(&quot;This is gona be awesome&quot;,70,20); \r\n           }\r\n       }\r\n    }\r\n               \r\n\r\n","title":"Draw text with graphics object on JFrame","body":"<p>In the given code, what you want is</p>\n\n<pre><code> g2d.drawString(\"This is gona be awesome\", 200, 200);\n  ^\n</code></pre>\n\n<hr>\n\n<p>A working example for your reference : </p>\n\n<pre><code>package Experiments;\nimport java.awt.Container;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\n\npublic class MainClass{\n  public static void main(String[] args) {\n    JFrame jf = new JFrame(\"Demo\");\n    Container cp = jf.getContentPane();\n    MyCanvas tl = new MyCanvas();\n    cp.add(tl);\n    jf.setSize(300, 200);\n    jf.setVisible(true);\n  }\n}\n\nclass MyCanvas extends JComponent {\n\n  @Override\n  public void paintComponent(Graphics g) {\n      if(g instanceof Graphics2D)\n      {\n        Graphics2D g2 = (Graphics2D)g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n        RenderingHints.VALUE_ANTIALIAS_ON);\n\n        g2.drawString(\"This is gona be awesome\",70,20); \n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652456886,"creation_date":1556995157,"answer_id":55985704,"question_id":8802320,"body_markdown":"To draw text on the screen with JFrame, you can use the `Graphics.drawText(String text, int x, int y)` method. \r\n\r\nThe first parameter is the string that you want to display and the last two parameters are the coordinates where this text will start.\r\n\r\nHere is some example code:\r\n\r\n    package example.com;\r\n\r\n    import java.awt.Graphics;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class JFrameGraphics extends JPanel {\r\n\r\n    \tpublic void paint(Graphics g){\r\n    \t\tg.drawString(&quot;Hello Text!&quot;, 10, 10);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args){\r\n\r\n    \t\tJFrame frame= new JFrame(&quot;Hello&quot;);\t\r\n    \t\tframe.getContentPane().add(new JFrameGraphics());\r\n    \t\tframe.setSize(300, 300);\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setResizable(false);\t\t\r\n    \t}\r\n    }\r\n\r\nCheck out to learn more about how to display text and graphics in Java: https://javatutorial.net/display-text-and-graphics-java-jframe","title":"Draw text with graphics object on JFrame","body":"<p>To draw text on the screen with JFrame, you can use the <code>Graphics.drawText(String text, int x, int y)</code> method.</p>\n<p>The first parameter is the string that you want to display and the last two parameters are the coordinates where this text will start.</p>\n<p>Here is some example code:</p>\n<pre><code>package example.com;\n\nimport java.awt.Graphics;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class JFrameGraphics extends JPanel {\n\n    public void paint(Graphics g){\n        g.drawString(&quot;Hello Text!&quot;, 10, 10);\n    }\n    \n    public static void main(String[] args){\n\n        JFrame frame= new JFrame(&quot;Hello&quot;);  \n        frame.getContentPane().add(new JFrameGraphics());\n        frame.setSize(300, 300);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);      \n    }\n}\n</code></pre>\n<p>Check out to learn more about how to display text and graphics in Java: <a href=\"https://javatutorial.net/display-text-and-graphics-java-jframe\" rel=\"nofollow noreferrer\">https://javatutorial.net/display-text-and-graphics-java-jframe</a></p>\n"}],"owner":{"account_id":891142,"reputation":1198,"user_id":929391,"accept_rate":88,"display_name":"Aiden Strydom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79009,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":8802421,"answer_count":3,"score":10,"last_activity_date":1652456886,"creation_date":1326193807,"question_id":8802320,"body_markdown":"I am an avid programmer but today is my first Java lesson.\r\n\r\n    public void Paint (Graphics g)\r\n    {\r\n        if(g instanceof Graphics2D)\r\n        {\r\n            Graphics2D g2d = (Graphics2D)g;\r\n            g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n        }\r\n        g.drawString(&quot;This is gona be awesome&quot;, 200, 200);\r\n    }\r\n\r\nWith the above code, I want to write a sentence on the window but it never writes. What am I doing wrong?\r\n\r\nEdit: Never mind - Paint must be paint. I apologize profusely.","title":"Draw text with graphics object on JFrame","body":"<p>I am an avid programmer but today is my first Java lesson.</p>\n\n<pre><code>public void Paint (Graphics g)\n{\n    if(g instanceof Graphics2D)\n    {\n        Graphics2D g2d = (Graphics2D)g;\n        g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n    }\n    g.drawString(\"This is gona be awesome\", 200, 200);\n}\n</code></pre>\n\n<p>With the above code, I want to write a sentence on the window but it never writes. What am I doing wrong?</p>\n\n<p>Edit: Never mind - Paint must be paint. I apologize profusely.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1652456859,"post_id":72230489,"comment_id":127618746,"body_markdown":"What issues are you having replacing `super(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;());` with respective Avro (de)serializer classes?","body":"What issues are you having replacing <code>super(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;());</code> with respective Avro (de)serializer classes?"},{"owner":{"account_id":8450612,"reputation":27,"user_id":6339554,"display_name":"MayurJunior"},"score":0,"creation_date":1652900220,"post_id":72230489,"comment_id":127721851,"body_markdown":"@OneCricketeer The thing is, I am not sure how to write the custom Avro Serdes for my Aggregator. Are you suggesting me to simply replace the code in &quot;super&quot; with &quot;AvroSerializer/Deserializer&quot;? i.e\n&quot;super(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;());&quot; changes to &quot;super(new AvroSerializer&lt;&gt;(), new AvroDeserializer&lt;&gt;());&quot;","body":"@OneCricketeer The thing is, I am not sure how to write the custom Avro Serdes for my Aggregator. Are you suggesting me to simply replace the code in &quot;super&quot; with &quot;AvroSerializer/Deserializer&quot;? i.e &quot;super(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;());&quot; changes to &quot;super(new AvroSerializer&lt;&gt;(), new AvroDeserializer&lt;&gt;());&quot;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653025922,"post_id":72230489,"comment_id":127754423,"body_markdown":"That would be start, yes. Then remove/replace the json properties in serdeConfigs. Then if you have specific Avro types that map very closely to your json pojos, nothing else should need changing (without seeing your actual data, or schemas, it&#39;s hard to help further)","body":"That would be start, yes. Then remove/replace the json properties in serdeConfigs. Then if you have specific Avro types that map very closely to your json pojos, nothing else should need changing (without seeing your actual data, or schemas, it&#39;s hard to help further)"}],"owner":{"account_id":8450612,"reputation":27,"user_id":6339554,"display_name":"MayurJunior"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652456796,"creation_date":1652449104,"question_id":72230489,"body_markdown":"I have a code where I am aggregating the data from Kafka stream via:\r\n\r\n    StreamsBuilder streamsBuilder = new StreamsBuilder();\r\n        streamsBuilder.table(AppConfigs.topicName,\r\n            Consumed.with(AppSerdes.String(), AppSerdes.Employee()))\r\n            .groupBy((k, v) -&gt; KeyValue.pair(v.getDepartment(), v), Grouped.with(AppSerdes.String(), AppSerdes.Employee()))\r\n            .aggregate(\r\n                //Initializer\r\n                \r\n                //Adder\r\n                \r\n                //Subtractor\r\n                \r\n                //Serializer\r\n                Materialized.&lt;String, DepartmentAggregate, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\r\n                    AppConfigs.stateStoreName).withValueSerde(AppSerdes.DepartmentAggregate())\r\n            )\r\nI have written the custom Json Serdes for &quot;DepartmentAggregate&quot; as\r\n\r\n    public class AppSerdes extends Serdes {    \r\n\r\n    static final class DepartmentAggSerde extends WrapperSerde&lt;DepartmentAggregate&gt; {\r\n        DepartmentAggSerde() {\r\n            super(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;());\r\n        }\r\n    }\r\n\r\n    public static Serde&lt;DepartmentAggregate&gt; DepartmentAggregate() {\r\n        DepartmentAggSerde serde = new DepartmentAggSerde();\r\n\r\n        Map&lt;String, Object&gt; serdeConfigs = new HashMap&lt;&gt;();\r\n        serdeConfigs.put(JsonDeserializer.VALUE_CLASS_NAME_CONFIG, DepartmentAggregate.class);\r\n        serde.configure(serdeConfigs, false);\r\n\r\n        return serde;\r\n    }\r\nNow I have a requirement where instead of Json, I have to write the same custome logic for Avro Aggregator(Basically, collect values in a list based on id&#39;s). Can someone please help with the custom Avro Aggregator code?\r\n\r\n\r\n","title":"Avro Definition for Custom Aggregator","body":"<p>I have a code where I am aggregating the data from Kafka stream via:</p>\n<pre><code>StreamsBuilder streamsBuilder = new StreamsBuilder();\n    streamsBuilder.table(AppConfigs.topicName,\n        Consumed.with(AppSerdes.String(), AppSerdes.Employee()))\n        .groupBy((k, v) -&gt; KeyValue.pair(v.getDepartment(), v), Grouped.with(AppSerdes.String(), AppSerdes.Employee()))\n        .aggregate(\n            //Initializer\n            \n            //Adder\n            \n            //Subtractor\n            \n            //Serializer\n            Materialized.&lt;String, DepartmentAggregate, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\n                AppConfigs.stateStoreName).withValueSerde(AppSerdes.DepartmentAggregate())\n        )\n</code></pre>\n<p>I have written the custom Json Serdes for &quot;DepartmentAggregate&quot; as</p>\n<pre><code>public class AppSerdes extends Serdes {    \n\nstatic final class DepartmentAggSerde extends WrapperSerde&lt;DepartmentAggregate&gt; {\n    DepartmentAggSerde() {\n        super(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;());\n    }\n}\n\npublic static Serde&lt;DepartmentAggregate&gt; DepartmentAggregate() {\n    DepartmentAggSerde serde = new DepartmentAggSerde();\n\n    Map&lt;String, Object&gt; serdeConfigs = new HashMap&lt;&gt;();\n    serdeConfigs.put(JsonDeserializer.VALUE_CLASS_NAME_CONFIG, DepartmentAggregate.class);\n    serde.configure(serdeConfigs, false);\n\n    return serde;\n}\n</code></pre>\n<p>Now I have a requirement where instead of Json, I have to write the same custome logic for Avro Aggregator(Basically, collect values in a list based on id's). Can someone please help with the custom Avro Aggregator code?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1652455847,"post_id":72232043,"comment_id":127618363,"body_markdown":"Sure, `if (field[0] == null) {`","body":"Sure, <code>if (field[0] == null) {</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1652455865,"post_id":72232043,"comment_id":127618371,"body_markdown":"There is no single second dimension.  You&#39;d have to check if one (or all) of the rows of the first dimension are null.  (Note above Robert checked just one row; for your application it might be necessary to check all of them.)","body":"There is no single second dimension.  You&#39;d have to check if one (or all) of the rows of the first dimension are null.  (Note above Robert checked just one row; for your application it might be necessary to check all of them.)"},{"owner":{"account_id":25283729,"reputation":1,"user_id":19111150,"display_name":"xmepl"},"score":0,"creation_date":1652456015,"post_id":72232043,"comment_id":127618437,"body_markdown":"field[0] == null gives me an ArrayIndexOutOfBoundsException","body":"field[0] == null gives me an ArrayIndexOutOfBoundsException"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1652456085,"post_id":72232043,"comment_id":127618467,"body_markdown":"Then your array was declared like `field[0][]` or similar.  Yes the second dimension could be of zero size in addition to null.","body":"Then your array was declared like <code>field[0][]</code> or similar.  Yes the second dimension could be of zero size in addition to null."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652456435,"creation_date":1652456435,"answer_id":72232175,"question_id":72232043,"body_markdown":"Just for illustration purpose:\r\n\r\n    Integer field[][]=new Integer[2][]; \r\n    \t    field[0]=new Integer[2]; //you can declare size for second dimension like this.\r\n    \t    if(field[0]==null) {   // do null checks\r\n    \t    \tSystem.out.println(&quot;field[0] is null&quot;);\r\n    \t    }if(field[1]==null) {\r\n    \t    \tSystem.out.println(&quot;field[1] is null&quot;);\r\n    \t    }\r\n\r\nOutput:\r\n\r\n    field[1] is null","title":"How do you check if the Second Dimension of a 2D array is null?","body":"<p>Just for illustration purpose:</p>\n<pre><code>Integer field[][]=new Integer[2][]; \n        field[0]=new Integer[2]; //you can declare size for second dimension like this.\n        if(field[0]==null) {   // do null checks\n            System.out.println(&quot;field[0] is null&quot;);\n        }if(field[1]==null) {\n            System.out.println(&quot;field[1] is null&quot;);\n        }\n</code></pre>\n<p>Output:</p>\n<pre><code>field[1] is null\n</code></pre>\n"}],"owner":{"account_id":25283729,"reputation":1,"user_id":19111150,"display_name":"xmepl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652456435,"creation_date":1652455779,"question_id":72232043,"body_markdown":"Lets say for example you have a 2D Array ```field[60][]```.\r\nHow exactly can you check if the second part of the Array is null?\r\nIs there any way to do something similiar like ```if(field ==null)``` but for the second dimension?\r\n","title":"How do you check if the Second Dimension of a 2D array is null?","body":"<p>Lets say for example you have a 2D Array <code>field[60][]</code>.\nHow exactly can you check if the second part of the Array is null?\nIs there any way to do something similiar like <code>if(field ==null)</code> but for the second dimension?</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":0,"creation_date":1527017401,"post_id":50475005,"comment_id":87963817,"body_markdown":"Can we see the User class?","body":"Can we see the User class?"},{"owner":{"account_id":7847696,"reputation":139,"user_id":5932185,"accept_rate":33,"display_name":"Shox2711"},"score":0,"creation_date":1527017728,"post_id":50475005,"comment_id":87963991,"body_markdown":"added the user class","body":"added the user class"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1527017750,"post_id":50475005,"comment_id":87964002,"body_markdown":"Possible duplicate of [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527024400,"creation_date":1527024400,"answer_id":50476685,"question_id":50475005,"body_markdown":"The URL:\r\n\r\n    http://localhost:8080/RESTfulServiceLIT_war_exploded/users/{id}\r\n\r\nis a path specification used by Jersey to state how you can access data. If you simply typed that string into your web browser, then you will get a `NullPointerException`.\r\n\r\nWhat happens when you type:\r\n\r\n    http://localhost:8080/RESTfulServiceLIT_war_exploded/users/K1\r\n\r\n?","title":"NullPointerException - Attempting to return JSON from Web Service","body":"<p>The URL:</p>\n\n<pre><code>http://localhost:8080/RESTfulServiceLIT_war_exploded/users/{id}\n</code></pre>\n\n<p>is a path specification used by Jersey to state how you can access data. If you simply typed that string into your web browser, then you will get a <code>NullPointerException</code>.</p>\n\n<p>What happens when you type:</p>\n\n<pre><code>http://localhost:8080/RESTfulServiceLIT_war_exploded/users/K1\n</code></pre>\n\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":25283815,"reputation":1,"user_id":19111229,"display_name":"Dhawal Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652456274,"creation_date":1652456274,"answer_id":72232137,"question_id":50475005,"body_markdown":"I resolved the same issue today. Issue came when you called bean method in rest api.\r\n\r\nso create beans.xml file in WEB-INF folder\r\n\r\ninclude the following\r\n\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd&quot;\r\n           bean-discovery-mode=&quot;all&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"NullPointerException - Attempting to return JSON from Web Service","body":"<p>I resolved the same issue today. Issue came when you called bean method in rest api.</p>\n<p>so create beans.xml file in WEB-INF folder</p>\n<p>include the following</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd\"\n       bean-discovery-mode=\"all\"&gt;\n&lt;/beans&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":7847696,"reputation":139,"user_id":5932185,"accept_rate":33,"display_name":"Shox2711"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1652456274,"creation_date":1527016684,"question_id":50475005,"body_markdown":"Please be patient as this is my first time learning about how to use web services. \r\n\r\nI am trying to build a simple system that when given a parameter (String id), the web service returns a JSON object. I am somewhat following this codebase as a guide https://o7planning.org/en/11207/simple-crud-example-with-java-restful-web-service\r\n\r\nProblem: When I run the service and go the URL http://localhost:8080/RESTfulServiceLIT_war_exploded/users/{id}, I receive a NullPointer exception in the glassfish log. It should simply display the JSON object relative to the user object returned from the id.\r\n\r\nHere is the UserDAO class code\r\n\r\n    import java.util.*;\r\n    \r\n    public class UserDAO {\r\n        private static final Map&lt;String, User&gt; userMap = new HashMap&lt;String, User&gt;();\r\n    \r\n        static {\r\n            initUsers();\r\n        }\r\n    \r\n        private static void initUsers() {\r\n            User u1 = new User(&quot;K1&quot;, &quot;Student 1&quot;, &quot;Student&quot;);\r\n            User u2 = new User(&quot;K2&quot;, &quot;Student 2&quot;, &quot;Student&quot;);\r\n            User u3 = new User(&quot;K3&quot;, &quot;Student 3&quot;, &quot;Student&quot;);\r\n            User u4 = new User(&quot;S1&quot;, &quot;Staff 1&quot;, &quot;Staff&quot;);\r\n            User u5 = new User(&quot;S2&quot;, &quot;Staff 2&quot;, &quot;Staff&quot;);\r\n            User u6 = new User(&quot;S3&quot;, &quot;Staff 3&quot;, &quot;Staff&quot;);\r\n    \r\n            userMap.put(u1.getId(), u1);\r\n            userMap.put(u2.getId(), u2);\r\n            userMap.put(u3.getId(), u3);\r\n            userMap.put(u4.getId(), u4);\r\n            userMap.put(u5.getId(), u5);\r\n            userMap.put(u6.getId(), u6);\r\n        }\r\n    \r\n        public static User getUser(String id) {\r\n            return userMap.get(id);\r\n        }\r\n    \r\n    \r\n        public static List&lt;User&gt; getAllUsers() {\r\n            Collection&lt;User&gt; c = userMap.values();\r\n            List&lt;User&gt; list = new ArrayList&lt;User&gt;();\r\n            list.addAll(c);\r\n            return list;\r\n        }\r\n    \r\n        List&lt;User&gt; list;\r\n    \r\n    }\r\n\r\n\r\nHere is the Main class that has the rest service\r\n\r\n    import javax.print.attribute.standard.Media;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    // The Java class will be hosted at the URI path &quot;/helloworld&quot;\r\n    @Path(&quot;/users&quot;)\r\n    \r\n    public class Main {\r\n    \r\n        @GET\r\n        @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n        @Path(&quot;/{id}&quot;)\r\n        public User getUser(@PathParam(&quot;id&quot;) String id) {\r\n            return UserDAO.getUser(id);\r\n        }\r\n    \r\n    //    @GET\r\n    //    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n    //    @Path{&quot;/all&quot;}\r\n    //    public List&lt;User&gt; getUsers_JSON(){\r\n    //        List&lt;User&gt; listOfUsers = UserDAO.getAllUsers();\r\n    //        return listOfUsers;\r\n    //    }\r\n    \r\n    \r\n    }\r\n\r\n\r\nHere is the server log\r\n\r\n    [2018-05-22T20:09:17.937+0100] [glassfish 4.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=http-listener-1(3)] [timeMillis: 1527016157937] [levelValue: 900] [[\r\n      StandardWrapperValve[MyApplication]: Servlet.service() for servlet MyApplication threw exception\r\n    java.lang.NullPointerException\r\n    \tat org.eclipse.persistence.jaxb.rs.MOXyJsonProvider.writeTo(MOXyJsonProvider.java:944)\r\n    \tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:265)\r\n    \tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:250)\r\n    \tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\r\n    \tat org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor.aroundWriteTo(JsonWithPaddingInterceptor.java:106)\r\n    \tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\r\n    \tat org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:86)\r\n    \tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\r\n    \tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$Responder.writeResponse(ServerRuntime.java:683)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$Responder.processResponse(ServerRuntime.java:424)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:414)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:312)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n    \tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:460)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\r\n    \tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:318)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n    \tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\r\n    \tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\r\n    \tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:416)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:283)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n    \tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\r\n    \tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\r\n    \tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n    \tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:283)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:132)\r\n    \tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:111)\r\n    \tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n    \tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:536)\r\n    \tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n    \tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n    \tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:591)\r\n    \tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:571)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    ]]\r\n\r\n\r\n\r\nUser class \r\n\r\n    public class User {\r\n    \r\n        private String id;\r\n        private String name;\r\n        private String type;\r\n    \r\n        User(){}\r\n    \r\n        User(String id, String name, String type){\r\n            this.setId(id);\r\n            this.setName(name);\r\n            this.setType(type);\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n","title":"NullPointerException - Attempting to return JSON from Web Service","body":"<p>Please be patient as this is my first time learning about how to use web services. </p>\n\n<p>I am trying to build a simple system that when given a parameter (String id), the web service returns a JSON object. I am somewhat following this codebase as a guide <a href=\"https://o7planning.org/en/11207/simple-crud-example-with-java-restful-web-service\" rel=\"nofollow noreferrer\">https://o7planning.org/en/11207/simple-crud-example-with-java-restful-web-service</a></p>\n\n<p>Problem: When I run the service and go the URL <a href=\"http://localhost:8080/RESTfulServiceLIT_war_exploded/users/\" rel=\"nofollow noreferrer\">http://localhost:8080/RESTfulServiceLIT_war_exploded/users/</a>{id}, I receive a NullPointer exception in the glassfish log. It should simply display the JSON object relative to the user object returned from the id.</p>\n\n<p>Here is the UserDAO class code</p>\n\n<pre><code>import java.util.*;\n\npublic class UserDAO {\n    private static final Map&lt;String, User&gt; userMap = new HashMap&lt;String, User&gt;();\n\n    static {\n        initUsers();\n    }\n\n    private static void initUsers() {\n        User u1 = new User(\"K1\", \"Student 1\", \"Student\");\n        User u2 = new User(\"K2\", \"Student 2\", \"Student\");\n        User u3 = new User(\"K3\", \"Student 3\", \"Student\");\n        User u4 = new User(\"S1\", \"Staff 1\", \"Staff\");\n        User u5 = new User(\"S2\", \"Staff 2\", \"Staff\");\n        User u6 = new User(\"S3\", \"Staff 3\", \"Staff\");\n\n        userMap.put(u1.getId(), u1);\n        userMap.put(u2.getId(), u2);\n        userMap.put(u3.getId(), u3);\n        userMap.put(u4.getId(), u4);\n        userMap.put(u5.getId(), u5);\n        userMap.put(u6.getId(), u6);\n    }\n\n    public static User getUser(String id) {\n        return userMap.get(id);\n    }\n\n\n    public static List&lt;User&gt; getAllUsers() {\n        Collection&lt;User&gt; c = userMap.values();\n        List&lt;User&gt; list = new ArrayList&lt;User&gt;();\n        list.addAll(c);\n        return list;\n    }\n\n    List&lt;User&gt; list;\n\n}\n</code></pre>\n\n<p>Here is the Main class that has the rest service</p>\n\n<pre><code>import javax.print.attribute.standard.Media;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.ws.rs.core.MediaType;\n\n// The Java class will be hosted at the URI path \"/helloworld\"\n@Path(\"/users\")\n\npublic class Main {\n\n    @GET\n    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n    @Path(\"/{id}\")\n    public User getUser(@PathParam(\"id\") String id) {\n        return UserDAO.getUser(id);\n    }\n\n//    @GET\n//    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n//    @Path{\"/all\"}\n//    public List&lt;User&gt; getUsers_JSON(){\n//        List&lt;User&gt; listOfUsers = UserDAO.getAllUsers();\n//        return listOfUsers;\n//    }\n\n\n}\n</code></pre>\n\n<p>Here is the server log</p>\n\n<pre><code>[2018-05-22T20:09:17.937+0100] [glassfish 4.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=35 _ThreadName=http-listener-1(3)] [timeMillis: 1527016157937] [levelValue: 900] [[\n  StandardWrapperValve[MyApplication]: Servlet.service() for servlet MyApplication threw exception\njava.lang.NullPointerException\n    at org.eclipse.persistence.jaxb.rs.MOXyJsonProvider.writeTo(MOXyJsonProvider.java:944)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:265)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:250)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\n    at org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor.aroundWriteTo(JsonWithPaddingInterceptor.java:106)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\n    at org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:86)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)\n    at org.glassfish.jersey.server.ServerRuntime$Responder.writeResponse(ServerRuntime.java:683)\n    at org.glassfish.jersey.server.ServerRuntime$Responder.processResponse(ServerRuntime.java:424)\n    at org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:414)\n    at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:312)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:460)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\n    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:318)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\n    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\n    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\n    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:416)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:283)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:283)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:132)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:111)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:536)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:591)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:571)\n    at java.lang.Thread.run(Thread.java:748)\n]]\n</code></pre>\n\n<p>User class </p>\n\n<pre><code>public class User {\n\n    private String id;\n    private String name;\n    private String type;\n\n    User(){}\n\n    User(String id, String name, String type){\n        this.setId(id);\n        this.setName(name);\n        this.setType(type);\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n}\n</code></pre>\n"},{"tags":["java","timestamp","grpc","grpc-java","proto"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652456056,"creation_date":1652456056,"answer_id":72232098,"question_id":72231236,"body_markdown":"Assuming you are referring to `google.protobuf.Timestamp`, the easiest way to convert is with the [com.google.protobuf.util.Timestamps utility](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/Timestamps.html):\r\n\r\n```\r\nTimestamp timestamp = Timestamp.fromMillis(date.getTime());\r\n```\r\n\r\nTimestamp stores the date as seconds and nanoseconds since 1970 whereas Date stores milliseconds since 1970. If you consult the [`google.protobuf.Timestamp` documentation](https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Timestamp), it mentions how to do this manually conversion:\r\n\r\n```\r\n// The example used currentTimeMillis(), but let&#39;s use Date instead.\r\n// long millis = System.currentTimeMillis();\r\nlong millis = date.getTime();\r\n\r\nTimestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)\r\n    .setNanos((int) ((millis % 1000) * 1000000)).build();\r\n```","title":"How to convert grpc java proto &quot;timestamp&quot; to date?","body":"<p>Assuming you are referring to <code>google.protobuf.Timestamp</code>, the easiest way to convert is with the <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/Timestamps.html\" rel=\"nofollow noreferrer\">com.google.protobuf.util.Timestamps utility</a>:</p>\n<pre><code>Timestamp timestamp = Timestamp.fromMillis(date.getTime());\n</code></pre>\n<p>Timestamp stores the date as seconds and nanoseconds since 1970 whereas Date stores milliseconds since 1970. If you consult the <a href=\"https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Timestamp\" rel=\"nofollow noreferrer\"><code>google.protobuf.Timestamp</code> documentation</a>, it mentions how to do this manually conversion:</p>\n<pre><code>// The example used currentTimeMillis(), but let's use Date instead.\n// long millis = System.currentTimeMillis();\nlong millis = date.getTime();\n\nTimestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)\n    .setNanos((int) ((millis % 1000) * 1000000)).build();\n</code></pre>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72232098,"answer_count":1,"score":0,"last_activity_date":1652456056,"creation_date":1652452239,"question_id":72231236,"body_markdown":"Error in request.getProductexpirationdate() since its not &quot;Date&quot; in proto thats specified as &quot;timestamp&quot;.\r\n\r\nEntity class has a &quot;Date&quot; but proto has no &quot;Date&quot; only &quot;timestamp&quot; so its not compatible.\r\n\r\nHow do i convert timestamp to date to make it compatible and sending data format as Date?\r\n\r\n\r\n```\r\n// EntityTest.class\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ProductEntity {\r\n\t\r\n\tprivate Integer purchase_item;\r\n    private String productname;\r\n    private String productbrand;\r\n    private Double productprice;\r\n    private String productdescription;\r\n    private Integer productquantity;\r\n    private Date productexpirationdate;\r\n\r\n}\r\n    \r\n```\r\n```\r\n//GRPC Service\r\n//Error in request.getProductexpirationdate() since its not &quot;Date&quot; \r\n\r\n@GrpcService\r\npublic class ProductGRPCserver  extends ProductServiceImplBase{\r\n\t\r\n\t@Autowired\r\n\tprivate ProductServiceImpl productServiceImpl;\r\n\t\r\n\t@Autowired\r\n\tprivate ProductDAO productDAO;\r\n\r\n\t@Override\r\n\tpublic void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\r\n\t\tProductEntity productEntity = new ProductEntity();\r\n\t\t\r\n\t\tproductEntity.setPurchase_item(request.getPurchaseItem());\r\n\t\tproductEntity.setProductname(request.getProductname());\r\n\t\tproductEntity.setProductbrand(request.getProductbrand());\r\n\t\tproductEntity.setProductprice(request.getProductprice());\r\n\t\tproductEntity.setProductdescription(request.getProductdescription());\r\n\t\tproductEntity.setProductquantity(request.getProductquantity());\r\n\t\tproductEntity.setProductexpirationdate(request.getProductexpirationdate());\r\n\t\t\r\n\t\tproductServiceImpl.saveDataFromDTO(productEntity);\r\n\t\t\r\n\t\tAPIResponse.Builder  responce = APIResponse.newBuilder();\r\n\t\tresponce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\r\n\t\t\r\n\t\tresponseObserver.onNext(responce.build());\r\n\t\tresponseObserver.onCompleted();\t\r\n\t\r\n\t}\r\n\r\n```\r\n\r\n","title":"How to convert grpc java proto &quot;timestamp&quot; to date?","body":"<p>Error in request.getProductexpirationdate() since its not &quot;Date&quot; in proto thats specified as &quot;timestamp&quot;.</p>\n<p>Entity class has a &quot;Date&quot; but proto has no &quot;Date&quot; only &quot;timestamp&quot; so its not compatible.</p>\n<p>How do i convert timestamp to date to make it compatible and sending data format as Date?</p>\n<pre><code>// EntityTest.class\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ProductEntity {\n    \n    private Integer purchase_item;\n    private String productname;\n    private String productbrand;\n    private Double productprice;\n    private String productdescription;\n    private Integer productquantity;\n    private Date productexpirationdate;\n\n}\n    \n</code></pre>\n<pre><code>//GRPC Service\n//Error in request.getProductexpirationdate() since its not &quot;Date&quot; \n\n@GrpcService\npublic class ProductGRPCserver  extends ProductServiceImplBase{\n    \n    @Autowired\n    private ProductServiceImpl productServiceImpl;\n    \n    @Autowired\n    private ProductDAO productDAO;\n\n    @Override\n    public void insert(Product request, StreamObserver&lt;APIResponse&gt; responseObserver) {\n        ProductEntity productEntity = new ProductEntity();\n        \n        productEntity.setPurchase_item(request.getPurchaseItem());\n        productEntity.setProductname(request.getProductname());\n        productEntity.setProductbrand(request.getProductbrand());\n        productEntity.setProductprice(request.getProductprice());\n        productEntity.setProductdescription(request.getProductdescription());\n        productEntity.setProductquantity(request.getProductquantity());\n        productEntity.setProductexpirationdate(request.getProductexpirationdate());\n        \n        productServiceImpl.saveDataFromDTO(productEntity);\n        \n        APIResponse.Builder  responce = APIResponse.newBuilder();\n        responce.setResponseCode(0).setResponsemessage(&quot;Succefull added to database &quot; +productEntity);\n        \n        responseObserver.onNext(responce.build());\n        responseObserver.onCompleted(); \n    \n    }\n\n</code></pre>\n"},{"tags":["java","oracleforms"],"answers":[{"tags":[],"owner":{"account_id":8497779,"reputation":404,"user_id":8393722,"display_name":"MichaelJF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652455715,"creation_date":1652455715,"answer_id":72232026,"question_id":72220694,"body_markdown":"This suggests the the Forms main jar file (frmall.jar) is not being found.  Check the Java Control Panel. It will likely give you the needed hit as to why it is failing. You likely will need to enable trace level 2+ to see what you need.","title":"oracle 11g forms (class not found exception oracle forms engine mine)","body":"<p>This suggests the the Forms main jar file (frmall.jar) is not being found.  Check the Java Control Panel. It will likely give you the needed hit as to why it is failing. You likely will need to enable trace level 2+ to see what you need.</p>\n"}],"owner":{"account_id":23953992,"reputation":57,"user_id":17945129,"display_name":"Hbk88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72232026,"answer_count":1,"score":0,"last_activity_date":1652455715,"creation_date":1652381223,"question_id":72220694,"body_markdown":"I was working on forms builder and I was able to run the form on internet explorer without any issues, but when I changed the internet connection I get this error when I run the form on the browser:\r\n\r\n     class not found exception oracle forms engine mine\r\n\r\nI tried to solve the issue by changing advanced security settings in java in control panel but still the error show.\r\n\r\nany help will be very appreciated. \r\n","title":"oracle 11g forms (class not found exception oracle forms engine mine)","body":"<p>I was working on forms builder and I was able to run the form on internet explorer without any issues, but when I changed the internet connection I get this error when I run the form on the browser:</p>\n<pre><code> class not found exception oracle forms engine mine\n</code></pre>\n<p>I tried to solve the issue by changing advanced security settings in java in control panel but still the error show.</p>\n<p>any help will be very appreciated.</p>\n"},{"tags":["java","generics","intellij-idea","var"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1652432145,"post_id":72226781,"comment_id":127609682,"body_markdown":"The code compiles and runs OK. It seems like a bug in IntelliJ.","body":"The code compiles and runs OK. It seems like a bug in IntelliJ."},{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1652432227,"post_id":72226781,"comment_id":127609713,"body_markdown":"Change the compiler compliance level for your ide. I am using eclipse, do the same for your ide too. The code looks fine.","body":"Change the compiler compliance level for your ide. I am using eclipse, do the same for your ide too. The code looks fine."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1652440540,"post_id":72226781,"comment_id":127612553,"body_markdown":"I think you could lose `T` and change the method parameter type to `Iterable&lt;?&gt; collection` with no loss of functionality.","body":"I think you could lose <code>T</code> and change the method parameter type to <code>Iterable&lt;?&gt; collection</code> with no loss of functionality."},{"owner":{"account_id":17383128,"reputation":5465,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1652455362,"post_id":72226781,"comment_id":127618181,"body_markdown":"Bug report: https://youtrack.jetbrains.com/issue/IDEA-294000","body":"Bug report: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-294000\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-294000</a>"}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652455679,"creation_date":1652442571,"answer_id":72229112,"question_id":72226781,"body_markdown":"I get the same message in IntelliJ from your code. However, the code still can be compiled and run, and works fine, so it seems to be a [bug in IntelliJ](https://youtrack.jetbrains.com/issue/IDEA-294000).\r\n\r\nFor your specific case, your code can be simplified in such a way that avoids the imaginary problem:\r\n\r\n    static void print(Iterable&lt;?&gt; collection) {\r\n        for (var item : collection) {\r\n            System.out.println(item + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nThis provides the same functionality but the use of `var` here is not detected as a problem.","title":"var keyword gives an error in IntelliJ (Wildcards may be used only as reference parameters)","body":"<p>I get the same message in IntelliJ from your code. However, the code still can be compiled and run, and works fine, so it seems to be a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-294000\" rel=\"nofollow noreferrer\">bug in IntelliJ</a>.</p>\n<p>For your specific case, your code can be simplified in such a way that avoids the imaginary problem:</p>\n<pre><code>static void print(Iterable&lt;?&gt; collection) {\n    for (var item : collection) {\n        System.out.println(item + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>This provides the same functionality but the use of <code>var</code> here is not detected as a problem.</p>\n"}],"owner":{"account_id":23516681,"reputation":13,"user_id":17564484,"display_name":"Algos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72229112,"answer_count":1,"score":1,"last_activity_date":1652455679,"creation_date":1652431558,"question_id":72226781,"body_markdown":"When I write this code in IntelliJ, it gives this error:\r\n\r\n&gt; Wildcards may be used only as reference parameters.\r\n\r\nHere is my code\r\n\r\n    static &lt;T extends Iterable&lt;?&gt;&gt; void print(T collection) {\r\n        for (var item : collection) {\r\n            System.out.println(item + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n","title":"var keyword gives an error in IntelliJ (Wildcards may be used only as reference parameters)","body":"<p>When I write this code in IntelliJ, it gives this error:</p>\n<blockquote>\n<p>Wildcards may be used only as reference parameters.</p>\n</blockquote>\n<p>Here is my code</p>\n<pre><code>static &lt;T extends Iterable&lt;?&gt;&gt; void print(T collection) {\n    for (var item : collection) {\n        System.out.println(item + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":["java","abstract-class","abstract-data-type","interface-class"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1652452482,"post_id":72231180,"comment_id":127617028,"body_markdown":"https://stackoverflow.com/questions/24228650/add-methods-to-classes-without-breaking-implementations","body":"<a href=\"https://stackoverflow.com/questions/24228650/add-methods-to-classes-without-breaking-implementations\" title=\"add methods to classes without breaking implementations\">stackoverflow.com/questions/24228650/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652452546,"post_id":72231180,"comment_id":127617049,"body_markdown":"This isn&#39;t really an example of loose coupling. Both are tightly coupled.","body":"This isn&#39;t really an example of loose coupling. Both are tightly coupled."},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1652452774,"post_id":72231180,"comment_id":127617151,"body_markdown":"`Fruit apple = new Apple()` &lt;-- just using a random interface is not loose coupling. If you&#39;re instantiating a class manually inside a function, that&#39;s a form of tight coupling. A form of  loose coupling would be something like your constructor taking in a `Fruit` instead of constructing its own `Apple`.","body":"<code>Fruit apple = new Apple()</code> &lt;-- just using a random interface is not loose coupling. If you&#39;re instantiating a class manually inside a function, that&#39;s a form of tight coupling. A form of  loose coupling would be something like your constructor taking in a <code>Fruit</code> instead of constructing its own <code>Apple</code>."},{"owner":{"account_id":18278479,"reputation":11,"user_id":13307740,"display_name":"Skillkrio"},"score":1,"creation_date":1652511503,"post_id":72231180,"comment_id":127628253,"body_markdown":"It sounds like dependency injection, you are stating that a class need to take interface instance instead of concrete implementation. But even to pass the interface instance we are coupled to that constructor class from where we are calling it","body":"It sounds like dependency injection, you are stating that a class need to take interface instance instead of concrete implementation. But even to pass the interface instance we are coupled to that constructor class from where we are calling it"}],"answers":[{"tags":[],"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652455390,"creation_date":1652455390,"answer_id":72231957,"question_id":72231180,"body_markdown":"First of all you should check this two principles Interface Segregation Principle and Dependency Inversion Principle. It depends your problem.\r\n\r\nLet&#39;s back your question.\r\n\r\nI think If you create one more layer, you should understand what it is.\r\n\r\nLet&#39;s assume that you have a Fruit Press class.\r\n\r\n\r\n-Tight Coupled.\r\n\r\n\r\n    class FruitPress {\r\n      private Apple apple;\r\n    \r\n      public FruitPress(Apple fruit){\r\n        this.apple = fruit;\r\n      }\r\n    \r\n      public press() {\r\n        apple.press();\r\n      }\r\n    }\r\n\r\nFruitPress class depends apple class. So FruitPress is tight coupled with Apple.\r\n\r\n-Loose Coupled\r\n\r\n    class FruitPress {\r\n      private Fruit fruit;\r\n    \r\n      public FruitPress(Fruit fruit){\r\n        this.fruit = fruit;\r\n      }\r\n    \r\n      public press() {\r\n        fruit.press();\r\n      }\r\n    }\r\n\r\n\r\nYour FruitPress class is loose coupled now.\r\n\r\n\r\n\r\n\r\nAnd now create a Main class. If you don&#39;t use loosely coupling you must implement two presser classes(ApplePresser, OrangePresser) for your problem. But now we have a one implementation.\r\n\r\n    class Main {   \r\n      public static void main(String [] args){ \r\n        FruitPress applePresser = new FruitPress(new Apple());\r\n        FruitPress orangePresser = new FruitPress(new Orange());\r\n      \r\n        //doing something.\r\n      }\r\n    }\r\n","title":"Java interface loose coupling advantages in realworld?","body":"<p>First of all you should check this two principles Interface Segregation Principle and Dependency Inversion Principle. It depends your problem.</p>\n<p>Let's back your question.</p>\n<p>I think If you create one more layer, you should understand what it is.</p>\n<p>Let's assume that you have a Fruit Press class.</p>\n<p>-Tight Coupled.</p>\n<pre><code>class FruitPress {\n  private Apple apple;\n\n  public FruitPress(Apple fruit){\n    this.apple = fruit;\n  }\n\n  public press() {\n    apple.press();\n  }\n}\n</code></pre>\n<p>FruitPress class depends apple class. So FruitPress is tight coupled with Apple.</p>\n<p>-Loose Coupled</p>\n<pre><code>class FruitPress {\n  private Fruit fruit;\n\n  public FruitPress(Fruit fruit){\n    this.fruit = fruit;\n  }\n\n  public press() {\n    fruit.press();\n  }\n}\n</code></pre>\n<p>Your FruitPress class is loose coupled now.</p>\n<p>And now create a Main class. If you don't use loosely coupling you must implement two presser classes(ApplePresser, OrangePresser) for your problem. But now we have a one implementation.</p>\n<pre><code>class Main {   \n  public static void main(String [] args){ \n    FruitPress applePresser = new FruitPress(new Apple());\n    FruitPress orangePresser = new FruitPress(new Orange());\n  \n    //doing something.\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18278479,"reputation":11,"user_id":13307740,"display_name":"Skillkrio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652455390,"creation_date":1652451983,"question_id":72231180,"body_markdown":"Can someone help me out, I read some Java tight and loose coupling article. I had certain doubts in loose coupling watched several YouTube videos and articles, but still couldn&#39;t grasp certain points. I will explain what I understood and what confuses me. \r\n\r\nIn loose coupling we restrict the direct coupling between classes. But in tight coupling we are bound to classes. Let&#39;s take an example. I have one Main class and another different class with the name Apple. I am creating a instance of  this class in Main class by \r\n\r\n```java\r\nApple apple =new Apple();\r\n//Apple is tightly coupled to Main class\r\n\r\napple.eat();\r\n\r\n//If eat method signature is Changed to drink in the Apple class of course we need to change the method name here in Main class also right?.\r\n```\r\n    \r\nLet&#39;s see loose coupling\r\n    \r\n```java\r\nclass interface Fruits{\r\n    void drink();\r\n}\r\n    \r\nClass Apple implements Fruits {\r\n    @Override\r\n    public void drink (){\r\n        // Printing some message;\r\n    }\r\n}\r\n    \r\nclass Main{\r\n    public static void main(String [] args){\r\n        Fruits apple = new Apple ();\r\n        //is this loose coupled \r\n        apple.drink();\r\n    }\r\n}\r\n```\r\n\r\nIf I change the method signature in loose coupling from drink to pour, I need to change the code in three different places.\r\n\r\n1. method signature inside Fruits interface (drink to pour)\r\n2. class Apple (method override from drink to pour)\r\n3. inside Main class (method call from apple.drink to apple.pour)\r\n\r\nWhat&#39;s the point of using loose coupling here? In tight coupling once I modify the coupled class (Apple), I am forced to update the Main class. In loose coupling also I am doing the same process. What&#39;s the point of using it?\r\n\r\nThe only benefit that I can feel through loose coupling is the interface reference type, for example\r\n\r\n**Tight coupling code** \r\n\r\n```\r\nclass Main {\r\n    //boiler plate code\r\n    \r\n    Apple apple = new Apple();\r\n}\r\n```\r\n\r\nIn future if I create Mango class, I need to create another object in Main class like `Mango mango = new Mango();`\r\n\r\n**Loose coupling code**\r\n\r\n```\r\nclass Main {\r\n    //boiler plate code\r\n    Fruits apple =new Apple():\r\n    //In future if i Change Apple() to Mango() no error will occur here because of the interface reference type(Fruits). \r\n}\r\n```\r\n\r\nAnd what is code extensibility in interface if I introduce a new method signature, all dependents are broken and force us to implement the new method. Then how to safely extend interface without breaking existing code\r\n\r\nPlease help me to understand with this fruit analogy.\r\n\r\n\r\n","title":"Java interface loose coupling advantages in realworld?","body":"<p>Can someone help me out, I read some Java tight and loose coupling article. I had certain doubts in loose coupling watched several YouTube videos and articles, but still couldn't grasp certain points. I will explain what I understood and what confuses me.</p>\n<p>In loose coupling we restrict the direct coupling between classes. But in tight coupling we are bound to classes. Let's take an example. I have one Main class and another different class with the name Apple. I am creating a instance of  this class in Main class by</p>\n<pre class=\"lang-java prettyprint-override\"><code>Apple apple =new Apple();\n//Apple is tightly coupled to Main class\n\napple.eat();\n\n//If eat method signature is Changed to drink in the Apple class of course we need to change the method name here in Main class also right?.\n</code></pre>\n<p>Let's see loose coupling</p>\n<pre class=\"lang-java prettyprint-override\"><code>class interface Fruits{\n    void drink();\n}\n    \nClass Apple implements Fruits {\n    @Override\n    public void drink (){\n        // Printing some message;\n    }\n}\n    \nclass Main{\n    public static void main(String [] args){\n        Fruits apple = new Apple ();\n        //is this loose coupled \n        apple.drink();\n    }\n}\n</code></pre>\n<p>If I change the method signature in loose coupling from drink to pour, I need to change the code in three different places.</p>\n<ol>\n<li>method signature inside Fruits interface (drink to pour)</li>\n<li>class Apple (method override from drink to pour)</li>\n<li>inside Main class (method call from apple.drink to apple.pour)</li>\n</ol>\n<p>What's the point of using loose coupling here? In tight coupling once I modify the coupled class (Apple), I am forced to update the Main class. In loose coupling also I am doing the same process. What's the point of using it?</p>\n<p>The only benefit that I can feel through loose coupling is the interface reference type, for example</p>\n<p><strong>Tight coupling code</strong></p>\n<pre><code>class Main {\n    //boiler plate code\n    \n    Apple apple = new Apple();\n}\n</code></pre>\n<p>In future if I create Mango class, I need to create another object in Main class like <code>Mango mango = new Mango();</code></p>\n<p><strong>Loose coupling code</strong></p>\n<pre><code>class Main {\n    //boiler plate code\n    Fruits apple =new Apple():\n    //In future if i Change Apple() to Mango() no error will occur here because of the interface reference type(Fruits). \n}\n</code></pre>\n<p>And what is code extensibility in interface if I introduce a new method signature, all dependents are broken and force us to implement the new method. Then how to safely extend interface without breaking existing code</p>\n<p>Please help me to understand with this fruit analogy.</p>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1652440385,"post_id":72227386,"comment_id":127612513,"body_markdown":"I don&#39;t see any problem. Check if there is any extra space or control character in the `item` attribute value.","body":"I don&#39;t see any problem. Check if there is any extra space or control character in the <code>item</code> attribute value."},{"owner":{"account_id":433549,"reputation":1024,"user_id":818944,"accept_rate":57,"display_name":"EnterSB"},"score":0,"creation_date":1652448550,"post_id":72227386,"comment_id":127615500,"body_markdown":"@ave I do not see problem either, but I am suspecting some weird bug. No spaces, no control characters, which is weird by itself.","body":"@ave I do not see problem either, but I am suspecting some weird bug. No spaces, no control characters, which is weird by itself."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1652453244,"post_id":72227386,"comment_id":127617348,"body_markdown":"If you could share a small project on GitHub that reproduces the issue, I would take a look when I have time. [Here](https://github.com/harawata/mybatis-issues) are some project templates.","body":"If you could share a small project on GitHub that reproduces the issue, I would take a look when I have time. <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">Here</a> are some project templates."},{"owner":{"account_id":433549,"reputation":1024,"user_id":818944,"accept_rate":57,"display_name":"EnterSB"},"score":0,"creation_date":1652455018,"post_id":72227386,"comment_id":127618058,"body_markdown":"it is some formatter issue. It removed `script` tags from sql query in annotation for some reason. Thank you for help. @ave","body":"it is some formatter issue. It removed <code>script</code> tags from sql query in annotation for some reason. Thank you for help. @ave"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1652457595,"post_id":72227386,"comment_id":127619001,"body_markdown":"Ah, that makes sense. Happy to know the issue was resolved!","body":"Ah, that makes sense. Happy to know the issue was resolved!"}],"answers":[{"tags":[],"owner":{"account_id":433549,"reputation":1024,"user_id":818944,"accept_rate":57,"display_name":"EnterSB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652455174,"creation_date":1652455174,"answer_id":72231911,"question_id":72227386,"body_markdown":"Select annotation MUST include `script` tag if e.g. `foreach` is going to be used, as in example below.\r\n\r\n```java\r\n@Select(&quot;&quot;&quot;\r\n&lt;script&gt;\r\nselect a.* from ACTOR\r\n&lt;if test=&quot;ids != null and ids.size &gt; 0&quot;&gt;\r\n    where a.ID in \r\n    &lt;foreach collection=&quot;ids&quot; item=&quot;id&quot; separator=&quot;,&quot; close=&quot;)&quot; open=&quot;(&quot;&gt;\r\n        #{id}\r\n    &lt;/foreach&gt;\r\n&lt;/if&gt;\r\n&lt;/script&gt;\r\n        &quot;&quot;&quot;)\r\npublic List&lt;Actor&gt; listByIds(@Param(&quot;ids&quot;)List&lt;Long&gt; ids);\r\n```\r\n\r\nOtherwise, parameter mapper will try to find `id` param in function signature instead of foreach, because it does not know it is script.","title":"Mybatis foreach mapper item exception","body":"<p>Select annotation MUST include <code>script</code> tag if e.g. <code>foreach</code> is going to be used, as in example below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Select(&quot;&quot;&quot;\n&lt;script&gt;\nselect a.* from ACTOR\n&lt;if test=&quot;ids != null and ids.size &gt; 0&quot;&gt;\n    where a.ID in \n    &lt;foreach collection=&quot;ids&quot; item=&quot;id&quot; separator=&quot;,&quot; close=&quot;)&quot; open=&quot;(&quot;&gt;\n        #{id}\n    &lt;/foreach&gt;\n&lt;/if&gt;\n&lt;/script&gt;\n        &quot;&quot;&quot;)\npublic List&lt;Actor&gt; listByIds(@Param(&quot;ids&quot;)List&lt;Long&gt; ids);\n</code></pre>\n<p>Otherwise, parameter mapper will try to find <code>id</code> param in function signature instead of foreach, because it does not know it is script.</p>\n"}],"owner":{"account_id":433549,"reputation":1024,"user_id":818944,"accept_rate":57,"display_name":"EnterSB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72231911,"answer_count":1,"score":0,"last_activity_date":1652455174,"creation_date":1652434388,"question_id":72227386,"body_markdown":"I am using `foreach` for `SELECT IN` clause.\r\n\r\nItem has not been found by mapper.\r\n\r\nHere is part of exception.\r\n\r\n```\r\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter &#39;id&#39; not found. Available parameters are [ids, param1]] with root cause\r\n\r\norg.apache.ibatis.binding.BindingException: Parameter &#39;id&#39; not found. Available parameters are [ids, param1]\r\n        at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.9.jar:3.5.9]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n```\r\n\r\nParam ids is found, but also param1 that does not exist.\r\n\r\nBelow is sql used in `@Select` annotation.\r\n\r\n```xml\r\nselect a.* from ACTOR\r\n&lt;if test=&quot;ids != null and ids.size &gt; 0&quot;&gt;\r\n    where a.ID in \r\n    &lt;foreach collection=&quot;ids&quot; item=&quot;id&quot; separator=&quot;,&quot; close=&quot;)&quot; open=&quot;(&quot;&gt;\r\n        #{id}\r\n    &lt;/foreach&gt;\r\n&lt;/if&gt;\r\n```\r\n\r\nInterface method is defined as \r\n```java\r\npublic List&lt;Actor&gt; listByIds(@Param(&quot;ids&quot;)List&lt;Long&gt; ids);\r\n```\r\n\r\nI am already using `foreach` on other places and other sql queries, this is the only one making issue.","title":"Mybatis foreach mapper item exception","body":"<p>I am using <code>foreach</code> for <code>SELECT IN</code> clause.</p>\n<p>Item has not been found by mapper.</p>\n<p>Here is part of exception.</p>\n<pre><code>org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'id' not found. Available parameters are [ids, param1]] with root cause\n\norg.apache.ibatis.binding.BindingException: Parameter 'id' not found. Available parameters are [ids, param1]\n        at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145) ~[mybatis-3.5.9.jar:3.5.9]\n        at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.9.jar:3.5.9]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n</code></pre>\n<p>Param ids is found, but also param1 that does not exist.</p>\n<p>Below is sql used in <code>@Select</code> annotation.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>select a.* from ACTOR\n&lt;if test=&quot;ids != null and ids.size &gt; 0&quot;&gt;\n    where a.ID in \n    &lt;foreach collection=&quot;ids&quot; item=&quot;id&quot; separator=&quot;,&quot; close=&quot;)&quot; open=&quot;(&quot;&gt;\n        #{id}\n    &lt;/foreach&gt;\n&lt;/if&gt;\n</code></pre>\n<p>Interface method is defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Actor&gt; listByIds(@Param(&quot;ids&quot;)List&lt;Long&gt; ids);\n</code></pre>\n<p>I am already using <code>foreach</code> on other places and other sql queries, this is the only one making issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1652256571,"post_id":72197514,"comment_id":127559653,"body_markdown":"That&#39;s because class `Cellphone` is an [inner class](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html). To make this work, make it a `static` nested class: `static class Cellphone`.","body":"That&#39;s because class <code>Cellphone</code> is an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">inner class</a>. To make this work, make it a <code>static</code> nested class: <code>static class Cellphone</code>."}],"answers":[{"tags":[],"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652267265,"creation_date":1652267265,"answer_id":72199957,"question_id":72197514,"body_markdown":"    cellphone dg = new Cellphone()\r\n    \r\n    public class Oops7 {\r\n        public static void main(String[] args) {\r\n            Cellphone dg = new Cellphone();\r\n            dg.vibrate();\r\n            dg.sing();\r\n            dg.ring();\r\n        }\r\n\r\n        static class Cellphone {\r\n            void ring() {\r\n                System.out.println(&quot;Your phon is ringing&quot;);\r\n            }\r\n    \r\n            void sing() {\r\n                System.out.println(&quot;Your phon is singing&quot;);\r\n            }\r\n    \r\n            void vibrate() {\r\n                System.out.println(&quot;Your phon is vibrating&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nYou should put you **main** method at the beginning of your class, it is easier to read for other people. The correction to your problem is what the comment is, you have to add *static* to your class.","title":"Making my own custom class why it gave me an error","body":"<pre><code>cellphone dg = new Cellphone()\n\npublic class Oops7 {\n    public static void main(String[] args) {\n        Cellphone dg = new Cellphone();\n        dg.vibrate();\n        dg.sing();\n        dg.ring();\n    }\n\n    static class Cellphone {\n        void ring() {\n            System.out.println(&quot;Your phon is ringing&quot;);\n        }\n\n        void sing() {\n            System.out.println(&quot;Your phon is singing&quot;);\n        }\n\n        void vibrate() {\n            System.out.println(&quot;Your phon is vibrating&quot;);\n        }\n    }\n}\n</code></pre>\n<p>You should put you <strong>main</strong> method at the beginning of your class, it is easier to read for other people. The correction to your problem is what the comment is, you have to add <em>static</em> to your class.</p>\n"}],"owner":{"account_id":25260787,"reputation":1,"user_id":19091717,"display_name":"Rishant Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652455111,"answer_count":1,"score":-1,"last_activity_date":1652455096,"creation_date":1652256397,"question_id":72197514,"body_markdown":"I had the following error: \r\n\r\n&gt; Non-static variable this can not be referenced from a static context\r\n\r\nThis is the code\r\n\r\n```java\r\ncellphone dg = new Cellphone()\r\n\r\npublic class Oops7 {\r\n    class Cellphone {\r\n        void ring() {\r\n            System.out.println(&quot;Your phon is ringing&quot;);\r\n        }\r\n\r\n        void sing() {\r\n            System.out.println(&quot;Your phon is singing&quot;);\r\n        }\r\n\r\n        void vibrate() {\r\n            System.out.println(&quot;Your phon is vibrating&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Cellphone dg = new Cellphone();\r\n        dg.vibrate();\r\n        dg.sing();\r\n        dg.ring();\r\n    }\r\n}\r\n```","title":"Making my own custom class why it gave me an error","body":"<p>I had the following error:</p>\n<blockquote>\n<p>Non-static variable this can not be referenced from a static context</p>\n</blockquote>\n<p>This is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>cellphone dg = new Cellphone()\n\npublic class Oops7 {\n    class Cellphone {\n        void ring() {\n            System.out.println(&quot;Your phon is ringing&quot;);\n        }\n\n        void sing() {\n            System.out.println(&quot;Your phon is singing&quot;);\n        }\n\n        void vibrate() {\n            System.out.println(&quot;Your phon is vibrating&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        Cellphone dg = new Cellphone();\n        dg.vibrate();\n        dg.sing();\n        dg.ring();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1652459238,"post_id":72231681,"comment_id":127619563,"body_markdown":"Have sent right data to firestore ? Because I think you are getting value before entering in to edit text. Put log and check your data just before you sending to firestore","body":"Have sent right data to firestore ? Because I think you are getting value before entering in to edit text. Put log and check your data just before you sending to firestore"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652515933,"post_id":72231681,"comment_id":127628933,"body_markdown":"Have you tried to update a single field? Does it work that way?","body":"Have you tried to update a single field? Does it work that way?"},{"owner":{"account_id":18279504,"reputation":21,"user_id":13308561,"display_name":"Vikas Konaparthi"},"score":0,"creation_date":1652578988,"post_id":72231681,"comment_id":127639362,"body_markdown":"Yes, I am filling the editTextInput field and if any changes occur they need to be updated.","body":"Yes, I am filling the editTextInput field and if any changes occur they need to be updated."}],"owner":{"account_id":18279504,"reputation":21,"user_id":13308561,"display_name":"Vikas Konaparthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652454641,"creation_date":1652454188,"question_id":72231681,"body_markdown":"I am trying to update my firebase database based on &quot;aadhar&quot; field but I am failing to do it so. I don&#39;t know where it is going wrong.\r\n\r\nHere is my activity code\r\n\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_details);\r\n        db=FirebaseFirestore.getInstance();\r\n        individualName  = (TextInputLayout) findViewById(R.id.IndividualName);\r\n        individualFatherName=(TextInputLayout) findViewById(R.id.FatherName);\r\n        individualAge=(TextInputLayout) findViewById(R.id.Age);\r\n        individualHouseNo=(TextInputLayout) findViewById(R.id.HouseNumber);\r\n        individualAadhar=(TextInputLayout) findViewById(R.id.AadharNumber);\r\n        individualPhno=(TextInputLayout) findViewById(R.id.MobileNumber);\r\n        individualPreferredUnit=(TextInputLayout) findViewById(R.id.Preferredunit);\r\n        individualBankName=(TextInputLayout) findViewById(R.id.BankName);\r\n        individualBankAccNo=(TextInputLayout) findViewById(R.id.BankACCNumber);\r\n        individualName.getEditText().setText(getIntent().getStringExtra(&quot;uname&quot;).toString());\r\n        individualFatherName.getEditText().setText(getIntent().getStringExtra(&quot;ufname&quot;).toString());\r\n        individualAge.getEditText().setText(getIntent().getStringExtra(&quot;uAge&quot;).toString());\r\n        individualHouseNo.getEditText().setText(getIntent().getStringExtra(&quot;uHnumber&quot;).toString());\r\n        individualAadhar.getEditText().setText(getIntent().getStringExtra(&quot;uAadharNumber&quot;).toString());\r\n        individualPhno.getEditText().setText(getIntent().getStringExtra(&quot;uMobileNo&quot;).toString());\r\n        individualPreferredUnit.getEditText().setText(getIntent().getStringExtra(&quot;uPreferredUnit&quot;).toString());\r\n        individualBankName.getEditText().setText(getIntent().getStringExtra(&quot;uBankName&quot;).toString());\r\n        individualBankAccNo.getEditText().setText(getIntent().getStringExtra(&quot;uBankAccNumber&quot;).toString());\r\n        indivName = individualName.getEditText().getText().toString();\r\n        fatherName = individualFatherName.getEditText().getText().toString();\r\n        age = individualAge.getEditText().getText().toString();\r\n        houseNumber = individualHouseNo.getEditText().getText().toString();\r\n        aadharNumber = individualAadhar.getEditText().getText().toString();\r\n        mobileNumber = individualPhno.getEditText().getText().toString();\r\n        preferredunit = individualPreferredUnit.getEditText().getText().toString();\r\n        bankName = individualBankName.getEditText().getText().toString();\r\n        bankACCNumber = individualBankAccNo.getEditText().getText().toString();\r\n\r\n\r\n    }\r\n\r\n    public void submitButton(View view) {\r\n        updateData(aadharNumber,indivName,fatherName,age,houseNumber,mobileNumber,preferredunit, bankName,bankACCNumber);\r\n    }\r\n\r\n    public void updateData(String aadharNumber,String name,String fname, String age,String houseNo,String mobileNumber,String preferredUnit,String bankName,String bankACCnumber){\r\n        Map&lt;String, Object&gt; individualInfo = new HashMap&lt;String, Object&gt;();\r\n        individualInfo.put(&quot;name&quot;, name.trim());\r\n        individualInfo.put(&quot;fatherName&quot;, fname.trim());\r\n        individualInfo.put(&quot;age&quot;, age.trim());\r\n        individualInfo.put(&quot;houseNo&quot;, houseNo.trim());\r\n        individualInfo.put(&quot;phoneNo&quot;, mobileNumber.trim());\r\n        individualInfo.put(&quot;preferredUnit&quot;, preferredUnit.trim());\r\n        individualInfo.put(&quot;bankName&quot;, bankName.trim());\r\n        individualInfo.put(&quot;bankAccNo&quot;, bankACCnumber.trim());\r\n\r\n        db.collection(&quot;individuals&quot;).whereEqualTo(&quot;aadhar&quot;,aadharNumber)\r\n                .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                         if(task.isSuccessful() &amp;&amp; !task.getResult().isEmpty()){\r\n                             DocumentSnapshot documentSnapshot=task.getResult().getDocuments().get(0);\r\n                             String documentID=documentSnapshot.getId();\r\n                             db.collection(&quot;individuals&quot;)\r\n                                     .document(documentID)\r\n                                     .update(individualInfo)\r\n                                     .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                         @Override\r\n                                         public void onSuccess(Void unused) {\r\n                                             Toast.makeText(userDetails.this, &quot;Successfully Updated&quot;, Toast.LENGTH_SHORT).show();\r\n                                         }\r\n                                     }).addOnFailureListener(new OnFailureListener() {\r\n                                 @Override\r\n                                 public void onFailure(@NonNull Exception e) {\r\n                                     Toast.makeText(userDetails.this, &quot;Error occured&quot;, Toast.LENGTH_SHORT).show();\r\n                                 }\r\n                             });\r\n\r\n                         }else{\r\n\r\n                             Toast.makeText(userDetails.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                         }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\nI am getting the fields from Firebase and updating the field which using &quot;aadhar&quot; field.\r\n\r\nHere is my firebase db\r\n\r\n    aadhar:&quot;1234&quot;\r\n    age:&quot;1234&quot;\r\n    bankAccNo:&quot;1234&quot;\r\n    bankName:&quot;1234&quot;\r\n    ctrApproved:&quot;1234&quot;\r\n    fatherName:&quot;1234&quot;\r\n    houseNo:&quot;1234&quot;\r\n    laApproved:&quot;1234&quot;\r\n    name:&quot;1234&quot;\r\n    phoneNo:&quot;1234&quot;\r\n    preferredUnit:&quot;1234&quot;\r\n    psUpload:&quot;1234&quot;\r\n    remarks:&quot;1234&quot;\r\n    secOfficerApproved:&quot;1234&quot;\r\n    secOfficerUpload:&quot;1234&quot;\r\n    spApproved:&quot;1234&quot;\r\n\r\nData is not getting updated but I am getting &quot;Successfully Updated&quot; Toast without any changes in DB.","title":"Why not firebase fields not getting updated?","body":"<p>I am trying to update my firebase database based on &quot;aadhar&quot; field but I am failing to do it so. I don't know where it is going wrong.</p>\n<p>Here is my activity code</p>\n<pre><code>    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_user_details);\n    db=FirebaseFirestore.getInstance();\n    individualName  = (TextInputLayout) findViewById(R.id.IndividualName);\n    individualFatherName=(TextInputLayout) findViewById(R.id.FatherName);\n    individualAge=(TextInputLayout) findViewById(R.id.Age);\n    individualHouseNo=(TextInputLayout) findViewById(R.id.HouseNumber);\n    individualAadhar=(TextInputLayout) findViewById(R.id.AadharNumber);\n    individualPhno=(TextInputLayout) findViewById(R.id.MobileNumber);\n    individualPreferredUnit=(TextInputLayout) findViewById(R.id.Preferredunit);\n    individualBankName=(TextInputLayout) findViewById(R.id.BankName);\n    individualBankAccNo=(TextInputLayout) findViewById(R.id.BankACCNumber);\n    individualName.getEditText().setText(getIntent().getStringExtra(&quot;uname&quot;).toString());\n    individualFatherName.getEditText().setText(getIntent().getStringExtra(&quot;ufname&quot;).toString());\n    individualAge.getEditText().setText(getIntent().getStringExtra(&quot;uAge&quot;).toString());\n    individualHouseNo.getEditText().setText(getIntent().getStringExtra(&quot;uHnumber&quot;).toString());\n    individualAadhar.getEditText().setText(getIntent().getStringExtra(&quot;uAadharNumber&quot;).toString());\n    individualPhno.getEditText().setText(getIntent().getStringExtra(&quot;uMobileNo&quot;).toString());\n    individualPreferredUnit.getEditText().setText(getIntent().getStringExtra(&quot;uPreferredUnit&quot;).toString());\n    individualBankName.getEditText().setText(getIntent().getStringExtra(&quot;uBankName&quot;).toString());\n    individualBankAccNo.getEditText().setText(getIntent().getStringExtra(&quot;uBankAccNumber&quot;).toString());\n    indivName = individualName.getEditText().getText().toString();\n    fatherName = individualFatherName.getEditText().getText().toString();\n    age = individualAge.getEditText().getText().toString();\n    houseNumber = individualHouseNo.getEditText().getText().toString();\n    aadharNumber = individualAadhar.getEditText().getText().toString();\n    mobileNumber = individualPhno.getEditText().getText().toString();\n    preferredunit = individualPreferredUnit.getEditText().getText().toString();\n    bankName = individualBankName.getEditText().getText().toString();\n    bankACCNumber = individualBankAccNo.getEditText().getText().toString();\n\n\n}\n\npublic void submitButton(View view) {\n    updateData(aadharNumber,indivName,fatherName,age,houseNumber,mobileNumber,preferredunit, bankName,bankACCNumber);\n}\n\npublic void updateData(String aadharNumber,String name,String fname, String age,String houseNo,String mobileNumber,String preferredUnit,String bankName,String bankACCnumber){\n    Map&lt;String, Object&gt; individualInfo = new HashMap&lt;String, Object&gt;();\n    individualInfo.put(&quot;name&quot;, name.trim());\n    individualInfo.put(&quot;fatherName&quot;, fname.trim());\n    individualInfo.put(&quot;age&quot;, age.trim());\n    individualInfo.put(&quot;houseNo&quot;, houseNo.trim());\n    individualInfo.put(&quot;phoneNo&quot;, mobileNumber.trim());\n    individualInfo.put(&quot;preferredUnit&quot;, preferredUnit.trim());\n    individualInfo.put(&quot;bankName&quot;, bankName.trim());\n    individualInfo.put(&quot;bankAccNo&quot;, bankACCnumber.trim());\n\n    db.collection(&quot;individuals&quot;).whereEqualTo(&quot;aadhar&quot;,aadharNumber)\n            .get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                     if(task.isSuccessful() &amp;&amp; !task.getResult().isEmpty()){\n                         DocumentSnapshot documentSnapshot=task.getResult().getDocuments().get(0);\n                         String documentID=documentSnapshot.getId();\n                         db.collection(&quot;individuals&quot;)\n                                 .document(documentID)\n                                 .update(individualInfo)\n                                 .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                     @Override\n                                     public void onSuccess(Void unused) {\n                                         Toast.makeText(userDetails.this, &quot;Successfully Updated&quot;, Toast.LENGTH_SHORT).show();\n                                     }\n                                 }).addOnFailureListener(new OnFailureListener() {\n                             @Override\n                             public void onFailure(@NonNull Exception e) {\n                                 Toast.makeText(userDetails.this, &quot;Error occured&quot;, Toast.LENGTH_SHORT).show();\n                             }\n                         });\n\n                     }else{\n\n                         Toast.makeText(userDetails.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                     }\n        }\n    });\n\n}\n</code></pre>\n<p>I am getting the fields from Firebase and updating the field which using &quot;aadhar&quot; field.</p>\n<p>Here is my firebase db</p>\n<pre><code>aadhar:&quot;1234&quot;\nage:&quot;1234&quot;\nbankAccNo:&quot;1234&quot;\nbankName:&quot;1234&quot;\nctrApproved:&quot;1234&quot;\nfatherName:&quot;1234&quot;\nhouseNo:&quot;1234&quot;\nlaApproved:&quot;1234&quot;\nname:&quot;1234&quot;\nphoneNo:&quot;1234&quot;\npreferredUnit:&quot;1234&quot;\npsUpload:&quot;1234&quot;\nremarks:&quot;1234&quot;\nsecOfficerApproved:&quot;1234&quot;\nsecOfficerUpload:&quot;1234&quot;\nspApproved:&quot;1234&quot;\n</code></pre>\n<p>Data is not getting updated but I am getting &quot;Successfully Updated&quot; Toast without any changes in DB.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652412410,"creation_date":1652412410,"answer_id":72224136,"question_id":72223868,"body_markdown":"It looks like you need a loop. Your main method has an exit condition so you can essentially loop forever by wrapping the code in your main method with a while loop: \r\n\r\n    public static void main(String[] args) {\r\n    \r\n      while(true) {\r\n        // your main method code in here\r\n      }\r\n    }","title":"Calling a method to try and rerun through a block of code","body":"<p>It looks like you need a loop. Your main method has an exit condition so you can essentially loop forever by wrapping the code in your main method with a while loop:</p>\n<pre><code>public static void main(String[] args) {\n\n  while(true) {\n    // your main method code in here\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652414554,"creation_date":1652413534,"answer_id":72224221,"question_id":72223868,"body_markdown":"By the way, you need to edit your code above in good formatting.\r\n\r\nI have added a while loop in your main. Also, whenever any unwanted number the loop will exit using a break; and that in turn stops the program.\r\n\r\n    mainMenuSelection = mainMenuSelection(); \r\n\r\nI have deleted the above line from the code so you just need to call it once at the beginning of the code.\r\n\r\nLet me know if you need sth else!\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MainMenuSelection {\r\n    \r\n        public static int menuSel() {\r\n            int menuSel;\r\n            System.out.println(&quot;ENTER USAGE DETAILS MENU\\n&quot;);\r\n            System.out.println(&quot;Please select an option from the menu:&quot;);\r\n            System.out.println(&quot;1.Phone Call&quot;);\r\n            System.out.println(&quot;2.SMS &quot;);\r\n            System.out.println(&quot;3.Data usage&quot;);\r\n            System.out.println(&quot;4. Return to main menu&quot;);\r\n    \r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter selection: &quot;);\r\n            menuSel = in.nextInt();\r\n    \r\n            while (menuSel &lt; 1 || menuSel &gt; 4) {\r\n                System.out.println(&quot;Value must bebetween 1 and 4, plese try again.&quot;);\r\n                System.out.println(&quot;Enter your selection: &quot;);\r\n                menuSel = in.nextInt();\r\n            }\r\n    \r\n            return menuSel;\r\n    \r\n        }\r\n    \r\n        public static int mainMenuSelection() {\r\n    \r\n            System.out.println(&quot;MAIN MENU\\n&quot;);\r\n            System.out.println(&quot;Please select from the menu:&quot;);\r\n            System.out.println(&quot;1. Enter Usage details&quot;);\r\n            System.out.println(&quot;2. Display Cost under provider 1&quot;);\r\n            System.out.println(&quot;3. Display Cost under provider 2&quot;);\r\n            System.out.println(&quot;4. Display Cost under provider 3&quot;);\r\n            System.out.println(&quot;5. Clear usage details&quot;);\r\n            System.out.println(&quot;6. Exit System&quot;);\r\n    \r\n            int mainMenuSelection;\r\n            Scanner userInput = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your selection: &quot;);\r\n            mainMenuSelection = userInput.nextInt();\r\n    \r\n            //return mainMenuSelection;\r\n            while (mainMenuSelection &lt; 1 || mainMenuSelection &gt; 6) {\r\n                System.out.println(&quot;Value must bebetween 1 and 6, plese try again.&quot;);\r\n                System.out.println(&quot;Enter your selection: &quot;);\r\n                mainMenuSelection = userInput.nextInt();\r\n            }\r\n    \r\n            System.out.println(&quot;You chose selection &quot; + mainMenuSelection + &quot;\\n&quot;);\r\n            return mainMenuSelection;\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int callLength = 0;\r\n            int numSMS = 0;\r\n            int numberOfMB = 0;\r\n    \r\n            int numberofCalls;\r\n            int callTime;\r\n            int totalcallTime = 0;\r\n    \r\n            while (true) {\r\n    \r\n                int mainMenuSelection = mainMenuSelection();\r\n    \r\n                if (mainMenuSelection == 1) {\r\n    \r\n                    int menuSel = menuSel();\r\n                    if (menuSel == 1) {\r\n    \r\n                        Scanner in = new Scanner(System.in);\r\n                        System.out.println(&quot;Enter the number of phone call you have made? &quot;);\r\n                        numberofCalls = in.nextInt();\r\n    \r\n                        for (int i = 0; i &lt; numberofCalls; i++) {\r\n                            Scanner callInput = new Scanner(System.in);\r\n                            System.out.println(&quot;How long was the call in seconds?&quot;);\r\n                            callTime = callInput.nextInt();\r\n    \r\n                            totalcallTime = callTime + totalcallTime;\r\n    \r\n                        }\r\n                        System.out.println(&quot;Your total number of calls is &quot; + numberofCalls);\r\n                        System.out.println(&quot;Your total call time is &quot; + totalcallTime + &quot; seconds&quot; + &quot;\\n&quot;);\r\n    \r\n                    } else if (menuSel == 2) {\r\n                        System.out.println(&quot;Enter the number of SMS messages: &quot;);\r\n                        //int numSMS;\r\n                        Scanner userNumSMS = new Scanner(System.in);\r\n                        numSMS = userNumSMS.nextInt();\r\n    \r\n                        System.out.println(&quot;Your number of SMSs is &quot; + numSMS + &quot;\\n&quot;);\r\n    \r\n                    } else if (menuSel == 3) {\r\n                        System.out.println(&quot;Enter the amount of data in MB: &quot;);\r\n                        //int numberOfMB;\r\n                        Scanner userNumMB = new Scanner(System.in);\r\n                        numberOfMB = userNumMB.nextInt();\r\n    \r\n                        System.out.println(&quot;Your amount of data in MB is &quot; + numberOfMB + &quot;\\n&quot;);\r\n    \r\n                    }\r\n                } else if (mainMenuSelection == 2) {\r\n                    //Display cost under provider 1\r\n    \r\n                    double callCost = 0.03 * totalcallTime;\r\n                    double smsCost = 0.10 * numSMS;\r\n                    double dataCost = 0.02 * numberOfMB;\r\n                    double totalCostProvider1 = callCost + smsCost + dataCost;\r\n    \r\n                    System.out.println(totalCostProvider1);\r\n    \r\n                } else if (mainMenuSelection == 3) {\r\n                    //Display cost under provider 2\r\n                    double callCost2 = 0.04 * totalcallTime;\r\n                    double smsCost2 = 0.12 * numSMS;\r\n                    double dataCost2 = 0.04 * numberOfMB;\r\n                    double totalCostProvider2 = callCost2 + smsCost2 + dataCost2;\r\n                    System.out.println(totalCostProvider2);\r\n    \r\n                } else if (mainMenuSelection == 4) {\r\n                    //Display cost under provider 3\r\n                    double callCost3 = 0.05 * totalcallTime;\r\n                    double smsCost3 = 0.11 * numSMS;\r\n                    double dataCost3 = 0.03 * numberOfMB;\r\n                    double totalCostProvider3 = callCost3 + smsCost3 + dataCost3;\r\n                    System.out.println(totalCostProvider3);\r\n    \r\n                } else if (mainMenuSelection == 5) {\r\n                    //clear usage details \r\n    \r\n                } else {\r\n    \r\n                    System.out.println(&quot;Exiting System&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n    \r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Calling a method to try and rerun through a block of code","body":"<p>By the way, you need to edit your code above in good formatting.</p>\n<p>I have added a while loop in your main. Also, whenever any unwanted number the loop will exit using a break; and that in turn stops the program.</p>\n<pre><code>mainMenuSelection = mainMenuSelection(); \n</code></pre>\n<p>I have deleted the above line from the code so you just need to call it once at the beginning of the code.</p>\n<p>Let me know if you need sth else!</p>\n<pre><code>import java.util.Scanner;\n\npublic class MainMenuSelection {\n\n    public static int menuSel() {\n        int menuSel;\n        System.out.println(&quot;ENTER USAGE DETAILS MENU\\n&quot;);\n        System.out.println(&quot;Please select an option from the menu:&quot;);\n        System.out.println(&quot;1.Phone Call&quot;);\n        System.out.println(&quot;2.SMS &quot;);\n        System.out.println(&quot;3.Data usage&quot;);\n        System.out.println(&quot;4. Return to main menu&quot;);\n\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Enter selection: &quot;);\n        menuSel = in.nextInt();\n\n        while (menuSel &lt; 1 || menuSel &gt; 4) {\n            System.out.println(&quot;Value must bebetween 1 and 4, plese try again.&quot;);\n            System.out.println(&quot;Enter your selection: &quot;);\n            menuSel = in.nextInt();\n        }\n\n        return menuSel;\n\n    }\n\n    public static int mainMenuSelection() {\n\n        System.out.println(&quot;MAIN MENU\\n&quot;);\n        System.out.println(&quot;Please select from the menu:&quot;);\n        System.out.println(&quot;1. Enter Usage details&quot;);\n        System.out.println(&quot;2. Display Cost under provider 1&quot;);\n        System.out.println(&quot;3. Display Cost under provider 2&quot;);\n        System.out.println(&quot;4. Display Cost under provider 3&quot;);\n        System.out.println(&quot;5. Clear usage details&quot;);\n        System.out.println(&quot;6. Exit System&quot;);\n\n        int mainMenuSelection;\n        Scanner userInput = new Scanner(System.in);\n        System.out.println(&quot;Enter your selection: &quot;);\n        mainMenuSelection = userInput.nextInt();\n\n        //return mainMenuSelection;\n        while (mainMenuSelection &lt; 1 || mainMenuSelection &gt; 6) {\n            System.out.println(&quot;Value must bebetween 1 and 6, plese try again.&quot;);\n            System.out.println(&quot;Enter your selection: &quot;);\n            mainMenuSelection = userInput.nextInt();\n        }\n\n        System.out.println(&quot;You chose selection &quot; + mainMenuSelection + &quot;\\n&quot;);\n        return mainMenuSelection;\n\n    }\n\n    public static void main(String[] args) {\n\n        int callLength = 0;\n        int numSMS = 0;\n        int numberOfMB = 0;\n\n        int numberofCalls;\n        int callTime;\n        int totalcallTime = 0;\n\n        while (true) {\n\n            int mainMenuSelection = mainMenuSelection();\n\n            if (mainMenuSelection == 1) {\n\n                int menuSel = menuSel();\n                if (menuSel == 1) {\n\n                    Scanner in = new Scanner(System.in);\n                    System.out.println(&quot;Enter the number of phone call you have made? &quot;);\n                    numberofCalls = in.nextInt();\n\n                    for (int i = 0; i &lt; numberofCalls; i++) {\n                        Scanner callInput = new Scanner(System.in);\n                        System.out.println(&quot;How long was the call in seconds?&quot;);\n                        callTime = callInput.nextInt();\n\n                        totalcallTime = callTime + totalcallTime;\n\n                    }\n                    System.out.println(&quot;Your total number of calls is &quot; + numberofCalls);\n                    System.out.println(&quot;Your total call time is &quot; + totalcallTime + &quot; seconds&quot; + &quot;\\n&quot;);\n\n                } else if (menuSel == 2) {\n                    System.out.println(&quot;Enter the number of SMS messages: &quot;);\n                    //int numSMS;\n                    Scanner userNumSMS = new Scanner(System.in);\n                    numSMS = userNumSMS.nextInt();\n\n                    System.out.println(&quot;Your number of SMSs is &quot; + numSMS + &quot;\\n&quot;);\n\n                } else if (menuSel == 3) {\n                    System.out.println(&quot;Enter the amount of data in MB: &quot;);\n                    //int numberOfMB;\n                    Scanner userNumMB = new Scanner(System.in);\n                    numberOfMB = userNumMB.nextInt();\n\n                    System.out.println(&quot;Your amount of data in MB is &quot; + numberOfMB + &quot;\\n&quot;);\n\n                }\n            } else if (mainMenuSelection == 2) {\n                //Display cost under provider 1\n\n                double callCost = 0.03 * totalcallTime;\n                double smsCost = 0.10 * numSMS;\n                double dataCost = 0.02 * numberOfMB;\n                double totalCostProvider1 = callCost + smsCost + dataCost;\n\n                System.out.println(totalCostProvider1);\n\n            } else if (mainMenuSelection == 3) {\n                //Display cost under provider 2\n                double callCost2 = 0.04 * totalcallTime;\n                double smsCost2 = 0.12 * numSMS;\n                double dataCost2 = 0.04 * numberOfMB;\n                double totalCostProvider2 = callCost2 + smsCost2 + dataCost2;\n                System.out.println(totalCostProvider2);\n\n            } else if (mainMenuSelection == 4) {\n                //Display cost under provider 3\n                double callCost3 = 0.05 * totalcallTime;\n                double smsCost3 = 0.11 * numSMS;\n                double dataCost3 = 0.03 * numberOfMB;\n                double totalCostProvider3 = callCost3 + smsCost3 + dataCost3;\n                System.out.println(totalCostProvider3);\n\n            } else if (mainMenuSelection == 5) {\n                //clear usage details \n\n            } else {\n\n                System.out.println(&quot;Exiting System&quot;);\n                System.exit(0);\n                break;\n\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652413885,"creation_date":1652413885,"answer_id":72224252,"question_id":72223868,"body_markdown":"Codes run from top to bottom. Therefore, after the `int mainMenuSelection = mainMenuSelection();` and the `if-else` statement is run, the code would run once again for the `mainMenuSelection = mainMenuSelection()` and ends, as there is nothing left in the block.\r\n\r\nA fairly simple solution would be using a `while` or `do-while` loop with a boolean checking if the user entered the number `6` to exit the system.\r\n\r\nYou can try this example:  \r\n\r\n    public static void main(String[] args) {  \r\n        /* \r\n         * Your variables here\r\n         */\r\n        boolean isExit = false;\r\n    \r\n        while(!isExit) {\r\n            int mainMenuSelection = mainMenuSelection();\r\n    \r\n            if (mainMenuSelection == 1) {\r\n                    // menuSel codes here\r\n            } else if (mainMenuSelection == 2) {\r\n                    // Display cost under provider 1\r\n            } else if (mainMenuSelection == 3) {\r\n                    // Display cost under provider 2\r\n            } else if (mainMenuSelection == 4) {\r\n                    // Display cost under provider 3\r\n            } else if (mainMenuSelection == 5) {\r\n                    // Clear usage details\r\n            } else {\r\n                System.out.println(&quot;Exiting System&quot;);\r\n    \t\t\tisExit = true;\r\n            }\r\n    \r\n        }\r\n\r\nHopes this answer helps you well.","title":"Calling a method to try and rerun through a block of code","body":"<p>Codes run from top to bottom. Therefore, after the <code>int mainMenuSelection = mainMenuSelection();</code> and the <code>if-else</code> statement is run, the code would run once again for the <code>mainMenuSelection = mainMenuSelection()</code> and ends, as there is nothing left in the block.</p>\n<p>A fairly simple solution would be using a <code>while</code> or <code>do-while</code> loop with a boolean checking if the user entered the number <code>6</code> to exit the system.</p>\n<p>You can try this example:</p>\n<pre><code>public static void main(String[] args) {  \n    /* \n     * Your variables here\n     */\n    boolean isExit = false;\n\n    while(!isExit) {\n        int mainMenuSelection = mainMenuSelection();\n\n        if (mainMenuSelection == 1) {\n                // menuSel codes here\n        } else if (mainMenuSelection == 2) {\n                // Display cost under provider 1\n        } else if (mainMenuSelection == 3) {\n                // Display cost under provider 2\n        } else if (mainMenuSelection == 4) {\n                // Display cost under provider 3\n        } else if (mainMenuSelection == 5) {\n                // Clear usage details\n        } else {\n            System.out.println(&quot;Exiting System&quot;);\n            isExit = true;\n        }\n\n    }\n</code></pre>\n<p>Hopes this answer helps you well.</p>\n"}],"owner":{"account_id":19603213,"reputation":33,"user_id":14347533,"display_name":"c_byr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72224252,"answer_count":3,"score":2,"last_activity_date":1652454592,"creation_date":1652409091,"question_id":72223868,"body_markdown":"I&#39;m trying to compare the cost of a user&#39;s phone usage under plans from three\r\ndifferent providers. I can get as far as entering the usage details but once entered I try to call the method to rerun from the if statement but it just displays the main menu again and stops. I want it to run through the entire if statement from the start again\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MainMenuSelection {\r\n        \r\n        public static int menuSel() {       \r\n        int menuSel ;       \r\n        System.out.println(&quot;ENTER USAGE DETAILS MENU\\n&quot;);\r\n        System.out.println(&quot;Please select an option from the menu:&quot;);\r\n        System.out.println(&quot;1.Phone Call&quot;);\r\n        System.out.println(&quot;2.SMS &quot;);\r\n        System.out.println(&quot;3.Data usage&quot;);\r\n        System.out.println(&quot;4. Return to main menu&quot;);\r\n        \r\n        \r\n        Scanner in = new Scanner(System.in);    \r\n        System.out.println(&quot;Enter selection: &quot;);        \r\n        menuSel = in.nextInt();\r\n        \r\n        while (menuSel &lt; 1 || menuSel &gt;4){\r\n              System.out.println(&quot;Value must bebetween 1 and 4, plese try again.&quot;);\r\n              System.out.println(&quot;Enter your selection: &quot;);\r\n              menuSel = in.nextInt();\r\n            }\r\n        \r\n        return menuSel;\r\n                    \r\n    }\r\n    public static int mainMenuSelection() {\r\n    \r\n        System.out.println(&quot;MAIN MENU\\n&quot;);\r\n        System.out.println(&quot;Please select from the menu:&quot;);\r\n        System.out.println(&quot;1. Enter Usage details&quot;);\r\n        System.out.println(&quot;2. Display Cost under provider 1&quot;);\r\n        System.out.println(&quot;3. Display Cost under provider 2&quot;);\r\n        System.out.println(&quot;4. Display Cost under provider 3&quot;);\r\n        System.out.println(&quot;5. Clear usage details&quot;);\r\n        System.out.println(&quot;6. Exit System&quot;);\r\n        \r\n        int mainMenuSelection;\r\n        Scanner userInput = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your selection: &quot;);\r\n        mainMenuSelection = userInput.nextInt();\r\n        \r\n        //return mainMenuSelection;\r\n        \r\n        while (mainMenuSelection &lt; 1 || mainMenuSelection &gt;6){\r\n              System.out.println(&quot;Value must bebetween 1 and 6, plese try again.&quot;);\r\n              System.out.println(&quot;Enter your selection: &quot;);\r\n              mainMenuSelection = userInput.nextInt();\r\n            }\r\n                \r\n        System.out.println(&quot;You chose selection &quot; + mainMenuSelection + &quot;\\n&quot;);\r\n        return mainMenuSelection;\r\n        \r\n    }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World!&quot;);\r\n    \r\n            int callLength = 0;\r\n            int numSMS = 0;\r\n            int numberOfMB = 0;\r\n    \r\n            int numberofCalls;\r\n            int callTime;\r\n            int totalcallTime = 0;\r\n    \r\n            int mainMenuSelection = mainMenuSelection();\r\n    \r\n            if (mainMenuSelection == 1) {\r\n    \r\n                int menuSel = menuSel();\r\n                if (menuSel == 1) {\r\n    \r\n                    Scanner in = new Scanner(System.in);\r\n                    System.out.println(&quot;Enter the number of phone call you have made? &quot;);\r\n                    numberofCalls = in.nextInt();\r\n    \r\n                    for (int i = 0; i &lt; numberofCalls; i++) {\r\n                        Scanner callInput = new Scanner(System.in);\r\n                        System.out.println(&quot;How long was the call in seconds?&quot;);\r\n                        callTime = callInput.nextInt();\r\n    \r\n                        totalcallTime = callTime + totalcallTime;\r\n    \r\n                    }\r\n                    System.out.println(&quot;Your total number of calls is &quot; + numberofCalls);\r\n                    System.out.println(&quot;Your total call time is &quot; + totalcallTime + &quot; seconds&quot; + &quot;\\n&quot;);\r\n    \r\n                } else if (menuSel == 2) {\r\n                    System.out.println(&quot;Enter the number of SMS messages: &quot;);\r\n                    //int numSMS;\r\n                    Scanner userNumSMS = new Scanner(System.in);\r\n                    numSMS = userNumSMS.nextInt();\r\n    \r\n                    System.out.println(&quot;Your number of SMSs is &quot; + numSMS + &quot;\\n&quot;);\r\n    \r\n                } else if (menuSel == 3) {\r\n                    System.out.println(&quot;Enter the amount of data in MB: &quot;);\r\n                    //int numberOfMB;\r\n                    Scanner userNumMB = new Scanner(System.in);\r\n                    numberOfMB = userNumMB.nextInt();\r\n    \r\n                    System.out.println(&quot;Your amount of data in MB is &quot; + numberOfMB + &quot;\\n&quot;);\r\n    \r\n                } else {\r\n                    mainMenuSelection(); // go back to main menu\r\n    \r\n                }\r\n    \r\n            } else if (mainMenuSelection == 2) {\r\n                //Display cost under provider 1\r\n    \r\n                double callCost = 0.03 * totalcallTime;\r\n                double smsCost = 0.10 * numSMS;\r\n                double dataCost = 0.02 * numberOfMB;\r\n                double totalCostProvider1 = callCost + smsCost + dataCost;\r\n    \r\n                System.out.println(totalCostProvider1);\r\n    \r\n            } else if (mainMenuSelection == 3) {\r\n                //Display cost under provider 2\r\n                double callCost2 = 0.04 * totalcallTime;\r\n                double smsCost2 = 0.12 * numSMS;\r\n                double dataCost2 = 0.04 * numberOfMB;\r\n                double totalCostProvider2 = callCost2 + smsCost2 + dataCost2;\r\n                System.out.println(totalCostProvider2);\r\n    \r\n            } else if (mainMenuSelection == 4) {\r\n                //Display cost under provider 3\r\n                double callCost3 = 0.05 * totalcallTime;\r\n                double smsCost3 = 0.11 * numSMS;\r\n                double dataCost3 = 0.03 * numberOfMB;\r\n                double totalCostProvider3 = callCost3 + smsCost3 + dataCost3;\r\n                System.out.println(totalCostProvider3);\r\n    \r\n            } else if (mainMenuSelection == 5) {\r\n                //clear usage details \r\n    \r\n            } else {\r\n                System.out.println(&quot;Exiting System&quot;);\r\n                System.exit(0);\r\n    \r\n            }\r\n    \r\n            mainMenuSelection = mainMenuSelection();\r\n        }\r\n    }\r\n\r\n","title":"Calling a method to try and rerun through a block of code","body":"<p>I'm trying to compare the cost of a user's phone usage under plans from three\ndifferent providers. I can get as far as entering the usage details but once entered I try to call the method to rerun from the if statement but it just displays the main menu again and stops. I want it to run through the entire if statement from the start again</p>\n<pre><code>import java.util.Scanner;\n\npublic class MainMenuSelection {\n    \n    public static int menuSel() {       \n    int menuSel ;       \n    System.out.println(&quot;ENTER USAGE DETAILS MENU\\n&quot;);\n    System.out.println(&quot;Please select an option from the menu:&quot;);\n    System.out.println(&quot;1.Phone Call&quot;);\n    System.out.println(&quot;2.SMS &quot;);\n    System.out.println(&quot;3.Data usage&quot;);\n    System.out.println(&quot;4. Return to main menu&quot;);\n    \n    \n    Scanner in = new Scanner(System.in);    \n    System.out.println(&quot;Enter selection: &quot;);        \n    menuSel = in.nextInt();\n    \n    while (menuSel &lt; 1 || menuSel &gt;4){\n          System.out.println(&quot;Value must bebetween 1 and 4, plese try again.&quot;);\n          System.out.println(&quot;Enter your selection: &quot;);\n          menuSel = in.nextInt();\n        }\n    \n    return menuSel;\n                \n}\npublic static int mainMenuSelection() {\n\n    System.out.println(&quot;MAIN MENU\\n&quot;);\n    System.out.println(&quot;Please select from the menu:&quot;);\n    System.out.println(&quot;1. Enter Usage details&quot;);\n    System.out.println(&quot;2. Display Cost under provider 1&quot;);\n    System.out.println(&quot;3. Display Cost under provider 2&quot;);\n    System.out.println(&quot;4. Display Cost under provider 3&quot;);\n    System.out.println(&quot;5. Clear usage details&quot;);\n    System.out.println(&quot;6. Exit System&quot;);\n    \n    int mainMenuSelection;\n    Scanner userInput = new Scanner(System.in);\n    System.out.println(&quot;Enter your selection: &quot;);\n    mainMenuSelection = userInput.nextInt();\n    \n    //return mainMenuSelection;\n    \n    while (mainMenuSelection &lt; 1 || mainMenuSelection &gt;6){\n          System.out.println(&quot;Value must bebetween 1 and 6, plese try again.&quot;);\n          System.out.println(&quot;Enter your selection: &quot;);\n          mainMenuSelection = userInput.nextInt();\n        }\n            \n    System.out.println(&quot;You chose selection &quot; + mainMenuSelection + &quot;\\n&quot;);\n    return mainMenuSelection;\n    \n}\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n\n        int callLength = 0;\n        int numSMS = 0;\n        int numberOfMB = 0;\n\n        int numberofCalls;\n        int callTime;\n        int totalcallTime = 0;\n\n        int mainMenuSelection = mainMenuSelection();\n\n        if (mainMenuSelection == 1) {\n\n            int menuSel = menuSel();\n            if (menuSel == 1) {\n\n                Scanner in = new Scanner(System.in);\n                System.out.println(&quot;Enter the number of phone call you have made? &quot;);\n                numberofCalls = in.nextInt();\n\n                for (int i = 0; i &lt; numberofCalls; i++) {\n                    Scanner callInput = new Scanner(System.in);\n                    System.out.println(&quot;How long was the call in seconds?&quot;);\n                    callTime = callInput.nextInt();\n\n                    totalcallTime = callTime + totalcallTime;\n\n                }\n                System.out.println(&quot;Your total number of calls is &quot; + numberofCalls);\n                System.out.println(&quot;Your total call time is &quot; + totalcallTime + &quot; seconds&quot; + &quot;\\n&quot;);\n\n            } else if (menuSel == 2) {\n                System.out.println(&quot;Enter the number of SMS messages: &quot;);\n                //int numSMS;\n                Scanner userNumSMS = new Scanner(System.in);\n                numSMS = userNumSMS.nextInt();\n\n                System.out.println(&quot;Your number of SMSs is &quot; + numSMS + &quot;\\n&quot;);\n\n            } else if (menuSel == 3) {\n                System.out.println(&quot;Enter the amount of data in MB: &quot;);\n                //int numberOfMB;\n                Scanner userNumMB = new Scanner(System.in);\n                numberOfMB = userNumMB.nextInt();\n\n                System.out.println(&quot;Your amount of data in MB is &quot; + numberOfMB + &quot;\\n&quot;);\n\n            } else {\n                mainMenuSelection(); // go back to main menu\n\n            }\n\n        } else if (mainMenuSelection == 2) {\n            //Display cost under provider 1\n\n            double callCost = 0.03 * totalcallTime;\n            double smsCost = 0.10 * numSMS;\n            double dataCost = 0.02 * numberOfMB;\n            double totalCostProvider1 = callCost + smsCost + dataCost;\n\n            System.out.println(totalCostProvider1);\n\n        } else if (mainMenuSelection == 3) {\n            //Display cost under provider 2\n            double callCost2 = 0.04 * totalcallTime;\n            double smsCost2 = 0.12 * numSMS;\n            double dataCost2 = 0.04 * numberOfMB;\n            double totalCostProvider2 = callCost2 + smsCost2 + dataCost2;\n            System.out.println(totalCostProvider2);\n\n        } else if (mainMenuSelection == 4) {\n            //Display cost under provider 3\n            double callCost3 = 0.05 * totalcallTime;\n            double smsCost3 = 0.11 * numSMS;\n            double dataCost3 = 0.03 * numberOfMB;\n            double totalCostProvider3 = callCost3 + smsCost3 + dataCost3;\n            System.out.println(totalCostProvider3);\n\n        } else if (mainMenuSelection == 5) {\n            //clear usage details \n\n        } else {\n            System.out.println(&quot;Exiting System&quot;);\n            System.exit(0);\n\n        }\n\n        mainMenuSelection = mainMenuSelection();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":3,"creation_date":1652383208,"post_id":72221043,"comment_id":127599521,"body_markdown":"`NullPointerException` is an unchecked exception and need not appear in a catch or throws clause.","body":"<code>NullPointerException</code> is an unchecked exception and need not appear in a catch or throws clause."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1652383221,"post_id":72221043,"comment_id":127599526,"body_markdown":"Why shouldn&#39;t it compile, It doesn&#39;t and it doesn&#39;t. Answers your three questions in the body.","body":"Why shouldn&#39;t it compile, It doesn&#39;t and it doesn&#39;t. Answers your three questions in the body."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652390260,"post_id":72221043,"comment_id":127601514,"body_markdown":"both exception are unchecked exceptions (subclasses of `RuntimeException`) - the compiler does not and cannot check if these are being catch or thrown (meaning of being unchecked)","body":"both exception are unchecked exceptions (subclasses of <code>RuntimeException</code>) - the compiler does not and cannot check if these are being catch or thrown (meaning of being unchecked)"}],"answers":[{"tags":[],"owner":{"account_id":3852548,"reputation":365,"user_id":3192295,"display_name":"user3192295"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652384542,"creation_date":1652384542,"answer_id":72221294,"question_id":72221043,"body_markdown":"It is throwing a NullPointerException but catching a ClassCastException (so no catching). It compiles but throws an unhandled NullpointerException.","title":"Expecting compile time error in try/catch statement","body":"<p>It is throwing a NullPointerException but catching a ClassCastException (so no catching). It compiles but throws an unhandled NullpointerException.</p>\n"},{"tags":[],"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652454478,"creation_date":1652385542,"answer_id":72221471,"question_id":72221043,"body_markdown":"In Java there are 3 types of throwable:\r\n\r\n - **Error** - probably nothing to recover. \r\n - **Exception** - needs to be declared and handled (checked)\r\n - **Runtime Exception** - does not need to be declared (unchecked)\r\n\r\nThe compiler (by default) lets you use catch for any exception and run time exception.\r\n\r\nIn your code, you are throwing an unchecked exception (`NullPointerException`) so there is no need for the try/catch.  \r\n\r\nMoreover, you have a try/catch for some random run time exception (`ClassCastException`).  \r\n\r\nYou can use any static code analysis tool to fined this logical bug (or change your ide&#39;s defaults). ","title":"Expecting compile time error in try/catch statement","body":"<p>In Java there are 3 types of throwable:</p>\n<ul>\n<li><strong>Error</strong> - probably nothing to recover.</li>\n<li><strong>Exception</strong> - needs to be declared and handled (checked)</li>\n<li><strong>Runtime Exception</strong> - does not need to be declared (unchecked)</li>\n</ul>\n<p>The compiler (by default) lets you use catch for any exception and run time exception.</p>\n<p>In your code, you are throwing an unchecked exception (<code>NullPointerException</code>) so there is no need for the try/catch.</p>\n<p>Moreover, you have a try/catch for some random run time exception (<code>ClassCastException</code>).</p>\n<p>You can use any static code analysis tool to fined this logical bug (or change your ide's defaults).</p>\n"}],"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1652454478,"creation_date":1652383110,"question_id":72221043,"body_markdown":"Why does this code compile an run fine?\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            throw new NullPointerException();\r\n        } catch (ClassCastException e) {\r\n        }\r\n    }\r\n\r\nMore specifically, how does `ClassCastException` handle a `NullPointerException`? Also how  is it possible for `throw new NullPointerException` to  throw a `ClassCastException`?","title":"Expecting compile time error in try/catch statement","body":"<p>Why does this code compile an run fine?</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        throw new NullPointerException();\n    } catch (ClassCastException e) {\n    }\n}\n</code></pre>\n<p>More specifically, how does <code>ClassCastException</code> handle a <code>NullPointerException</code>? Also how  is it possible for <code>throw new NullPointerException</code> to  throw a <code>ClassCastException</code>?</p>\n"},{"tags":["java","swing","border"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1313421349,"post_id":7065309,"comment_id":8454150,"body_markdown":"Disable the split pane. See below.","body":"Disable the split pane. See below."}],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1313414636,"creation_date":1313414636,"answer_id":7065445,"question_id":7065309,"body_markdown":"Consider for using [Compound Borders][1] with [EtchedBorder][2]  \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/components/border.html#custom\r\n  [2]: http://download.oracle.com/javase/tutorial/uiswing/components/border.html#demo","title":"JSplitPane set resizable false","body":"<p>Consider for using <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/border.html#custom\" rel=\"nofollow\">Compound Borders</a> with <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/border.html#demo\" rel=\"nofollow\">EtchedBorder</a>  </p>\n"},{"tags":[],"owner":{"account_id":117541,"reputation":7467,"user_id":307767,"accept_rate":92,"display_name":"oliholz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1313415324,"creation_date":1313414831,"answer_id":7065479,"question_id":7065309,"body_markdown":"You can override the JSplitPane methodes `getDividerLocation()` and `getLastDividerLocation` and return a constant value.\r\n\r\n    JSplitPane split = new JSplitPane(JSplitPane.VERTICAL_SPLIT){\r\n        private final int location = 100;\r\n        {\r\n            setDividerLocation( location );\r\n        }\r\n        @Override\r\n        public int getDividerLocation() {\r\n            return location ;\r\n        }\r\n        @Override\r\n        public int getLastDividerLocation() {\r\n            return location ;\r\n        }\r\n    };","title":"JSplitPane set resizable false","body":"<p>You can override the JSplitPane methodes <code>getDividerLocation()</code> and <code>getLastDividerLocation</code> and return a constant value.</p>\n\n<pre><code>JSplitPane split = new JSplitPane(JSplitPane.VERTICAL_SPLIT){\n    private final int location = 100;\n    {\n        setDividerLocation( location );\n    }\n    @Override\n    public int getDividerLocation() {\n        return location ;\n    }\n    @Override\n    public int getLastDividerLocation() {\n        return location ;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1313421331,"creation_date":1313421331,"answer_id":7066705,"question_id":7065309,"body_markdown":"    splitPane.setEnabled( false );","title":"JSplitPane set resizable false","body":"<pre><code>splitPane.setEnabled( false );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496405,"reputation":21,"user_id":2172651,"display_name":"david"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415879173,"creation_date":1415879173,"answer_id":26908185,"question_id":7065309,"body_markdown":"    final double pos = split.getDividers().get(0).getPosition();\r\n    split.getDividers().get(0).positionProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n\t    @Override\r\n  \t    public void changed(ObservableValue&lt;? extends Number&gt; arg0,\r\n\t\t\t    Number arg1, Number arg2) {\r\n\t\t    split.getDividers().get(0).setPosition(pos);\r\n\t    }\r\n    });","title":"JSplitPane set resizable false","body":"<pre><code>final double pos = split.getDividers().get(0).getPosition();\nsplit.getDividers().get(0).positionProperty().addListener(new ChangeListener&lt;Number&gt;() {\n    @Override\n    public void changed(ObservableValue&lt;? extends Number&gt; arg0,\n            Number arg1, Number arg2) {\n        split.getDividers().get(0).setPosition(pos);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1221810,"reputation":3179,"user_id":1188318,"accept_rate":71,"display_name":"sers"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1476693243,"creation_date":1476693243,"answer_id":40081775,"question_id":7065309,"body_markdown":"For preventing users to resize the panes you can also set the divider size to zero.\r\n\r\n    splitPane.setDividerSize(0);\r\n\r\n","title":"JSplitPane set resizable false","body":"<p>For preventing users to resize the panes you can also set the divider size to zero.</p>\n\n<pre><code>splitPane.setDividerSize(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6789847,"reputation":111,"user_id":5227366,"display_name":"TrogloGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548931709,"creation_date":1548931709,"answer_id":54458846,"question_id":7065309,"body_markdown":"As stated un @camickr answer comments, disabling the whole split pane can disable contained components interactive behavior (for example, they won&#39;t show their interactive cursors on hover)\r\n\r\ninstead, if using BasicSplitPaneUI, you can disable the divider from the UI\r\n```\r\npublic class MySplitPane extends JSplitPane {\r\n\r\n    public void setResizable(boolean resizable) {\r\n        BasicSplitPaneUIui = (BasicSplitPaneUI) this.getUI();\r\n        ui.getDivider().setEnabled(resizable);\r\n    }\r\n}\r\n```","title":"JSplitPane set resizable false","body":"<p>As stated un @camickr answer comments, disabling the whole split pane can disable contained components interactive behavior (for example, they won't show their interactive cursors on hover)</p>\n\n<p>instead, if using BasicSplitPaneUI, you can disable the divider from the UI</p>\n\n<pre><code>public class MySplitPane extends JSplitPane {\n\n    public void setResizable(boolean resizable) {\n        BasicSplitPaneUIui = (BasicSplitPaneUI) this.getUI();\n        ui.getDivider().setEnabled(resizable);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6137557,"reputation":59,"user_id":4785874,"display_name":"Dennis van Beek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652454421,"creation_date":1652454421,"answer_id":72231739,"question_id":7065309,"body_markdown":"@TrogloGeek&#39;s answer works best, to avoid problems with the disabled splitpane.\r\n\r\nFor example, if you want to make a pane that is &#39;onetouchexpandable&#39;, but not resizable, you can use this:\r\n\r\n    public class FixedExpandableSplitPane extends JSplitPane {\r\n    \r\n        public FixedExpandableSplitPane(int orientation) {\r\n            super(orientation);\r\n            setOneTouchExpandable(true);\r\n            BasicSplitPaneUI ui = (BasicSplitPaneUI) this.getUI();\r\n            ui.getDivider().setEnabled(false);\r\n        }\r\n    }\r\n\r\n","title":"JSplitPane set resizable false","body":"<p>@TrogloGeek's answer works best, to avoid problems with the disabled splitpane.</p>\n<p>For example, if you want to make a pane that is 'onetouchexpandable', but not resizable, you can use this:</p>\n<pre><code>public class FixedExpandableSplitPane extends JSplitPane {\n\n    public FixedExpandableSplitPane(int orientation) {\n        super(orientation);\n        setOneTouchExpandable(true);\n        BasicSplitPaneUI ui = (BasicSplitPaneUI) this.getUI();\n        ui.getDivider().setEnabled(false);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18691,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7065479,"answer_count":7,"score":10,"last_activity_date":1652454421,"creation_date":1313413843,"question_id":7065309,"body_markdown":"How to make `JSplitPane` to resizable `false`? I didn&#39;t want to resize the `JSplitPane`, I used it for the border of this pane. Is there any other way to create same border structure to split a panel vertically into two parts.","title":"JSplitPane set resizable false","body":"<p>How to make <code>JSplitPane</code> to resizable <code>false</code>? I didn't want to resize the <code>JSplitPane</code>, I used it for the border of this pane. Is there any other way to create same border structure to split a panel vertically into two parts.</p>\n"},{"tags":["java","android","android-studio","android-fragments","android-activity"],"answers":[{"tags":[],"owner":{"account_id":12473188,"reputation":179,"user_id":9080527,"display_name":"Nursultan Almakhanov"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652453746,"creation_date":1652453441,"answer_id":72231517,"question_id":72231389,"body_markdown":"My suggestions:\r\n - Firstly you didn&#39;t initialized CalendarUtils.selectedDate\r\n - Cover code with breakpoints for. debugging or with Log.d() messages to find, which variable is null ","title":"Android app crashes when activity is initialised from fragment","body":"<p>My suggestions:</p>\n<ul>\n<li>Firstly you didn't initialized CalendarUtils.selectedDate</li>\n<li>Cover code with breakpoints for. debugging or with Log.d() messages to find, which variable is null</li>\n</ul>\n"}],"owner":{"account_id":25272722,"reputation":21,"user_id":19101836,"display_name":"ComputingStudentWhoCantCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1652454465,"answer_count":1,"score":0,"last_activity_date":1652453746,"creation_date":1652452890,"question_id":72231389,"body_markdown":"I am currently trying to create a calendar app in android studio. The app contains a calendar with different &quot;Views&quot; e.g. monthly view, weekly view, and daily view.\r\n\r\nThe app uses fragments as pages and each view is an activity.\r\n\r\nThis is the code for the fragment and buttons to initialise each view\r\n\r\n    public class CalendarFragment extends Fragment {\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_calendar, container, false);\r\n        Button btn1 = (Button) v.findViewById(R.id.openCalendar);\r\n        btn1.setOnClickListener(new View.OnClickListener(){\r\n\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                Intent intent = new Intent(getActivity(),CalendarActivity.class);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n        Button btn2 = (Button) v.findViewById(R.id.openWeek);\r\n        btn2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                Intent intent = new Intent(getActivity(), WeekViewActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        return v;\r\n    }\r\n\r\nThe first button which displays the monthly view of the calendar called &quot;CalendarActivity&quot; in code works fine but when the second button is clicked which displays the weekly view of the calendar, causes the app to crash and gives the following error in the logcat\r\n\r\n    2022-05-13 14:44:59.642 15183-15183/com.example.finalyearproject E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.finalyearproject, PID: 15183\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.finalyearproject/com.example.finalyearproject.WeekViewActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.time.LocalDate.format(java.time.format.DateTimeFormatter)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3685)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7842)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.time.LocalDate.format(java.time.format.DateTimeFormatter)&#39; on a null object reference\r\n        at com.example.finalyearproject.CalendarUtils.monthYearFromDate(CalendarUtils.java:16)\r\n        at com.example.finalyearproject.WeekViewActivity.setWeekView(WeekViewActivity.java:40)\r\n        at com.example.finalyearproject.WeekViewActivity.onCreate(WeekViewActivity.java:29)\r\n        at android.app.Activity.performCreate(Activity.java:8054)\r\n        at android.app.Activity.performCreate(Activity.java:8034)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1341)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3666)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7842)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)&#160;\r\n\r\nI am not sure what the problem is as I have been following a tutorial and the other features work. I have also included the code for each activity below.\r\n\r\nMonthly View\r\n\r\n    public class CalendarActivity extends AppCompatActivity implements CalendarAdapter.OnItemListener {\r\n    private TextView monthYearText;\r\n    private RecyclerView calendarRecyclerView;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_calendar);\r\n        initWidgets();\r\n        CalendarUtils.selectedDate = LocalDate.now();\r\n        setMonthView();\r\n    }\r\n\r\n    private void initWidgets()\r\n    {\r\n        calendarRecyclerView = findViewById(R.id.calendarRecyclerView);\r\n        monthYearText = findViewById(R.id.monthYearTV);\r\n    }\r\n\r\n    private void setMonthView()\r\n    {\r\n        monthYearText.setText(monthYearFromDate(CalendarUtils.selectedDate));\r\n        ArrayList&lt;LocalDate&gt; daysInMonth = daysInMonthArray(CalendarUtils.selectedDate);\r\n\r\n        CalendarAdapter calendarAdapter = new CalendarAdapter(daysInMonth, this);\r\n        RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\r\n        calendarRecyclerView.setLayoutManager(layoutManager);\r\n        calendarRecyclerView.setAdapter(calendarAdapter);\r\n    }\r\n\r\n    public void nextMonth(View view)\r\n    {\r\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.plusMonths(1);\r\n        setMonthView();\r\n    }\r\n\r\n    public void previousMonth(View view)\r\n    {\r\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.minusMonths(1);\r\n        setMonthView();\r\n    }\r\n\r\nWeekly View\r\n\r\n    public class WeekViewActivity extends AppCompatActivity implements CalendarAdapter.OnItemListener {\r\n    private TextView monthYearText;\r\n    private RecyclerView calendarRecyclerView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_week_view);\r\n        initWidgets();\r\n        setWeekView();\r\n    }\r\n\r\n    private void initWidgets()\r\n    {\r\n        calendarRecyclerView = findViewById(R.id.calendarRecyclerView);\r\n        monthYearText = findViewById(R.id.monthYearTV);\r\n    }\r\n\r\n    private void setWeekView()\r\n    {\r\n        monthYearText.setText(monthYearFromDate(CalendarUtils.selectedDate));\r\n        ArrayList&lt;LocalDate&gt; days = daysInWeekArray(CalendarUtils.selectedDate);\r\n\r\n        CalendarAdapter calendarAdapter = new CalendarAdapter(days, this);\r\n        RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\r\n        calendarRecyclerView.setLayoutManager(layoutManager);\r\n        calendarRecyclerView.setAdapter(calendarAdapter);\r\n    }\r\n\r\n\r\n\r\n    public void previousWeek(View view)\r\n    {\r\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.minusWeeks(1);\r\n        setWeekView();\r\n    }\r\n\r\n    public void nextWeek(View view)\r\n    {\r\n        CalendarUtils.selectedDate = CalendarUtils.selectedDate.plusWeeks(1);\r\n        setWeekView();\r\n    }\r\n\r\nAny suggestions would be greatly appreciated.","title":"Android app crashes when activity is initialised from fragment","body":"<p>I am currently trying to create a calendar app in android studio. The app contains a calendar with different &quot;Views&quot; e.g. monthly view, weekly view, and daily view.</p>\n<p>The app uses fragments as pages and each view is an activity.</p>\n<p>This is the code for the fragment and buttons to initialise each view</p>\n<pre><code>public class CalendarFragment extends Fragment {\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View v = inflater.inflate(R.layout.fragment_calendar, container, false);\n    Button btn1 = (Button) v.findViewById(R.id.openCalendar);\n    btn1.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v)\n        {\n            Intent intent = new Intent(getActivity(),CalendarActivity.class);\n            startActivity(intent);\n\n        }\n    });\n\n    Button btn2 = (Button) v.findViewById(R.id.openWeek);\n    btn2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v)\n        {\n            Intent intent = new Intent(getActivity(), WeekViewActivity.class);\n            startActivity(intent);\n        }\n    });\n    return v;\n}\n</code></pre>\n<p>The first button which displays the monthly view of the calendar called &quot;CalendarActivity&quot; in code works fine but when the second button is clicked which displays the weekly view of the calendar, causes the app to crash and gives the following error in the logcat</p>\n<pre><code>2022-05-13 14:44:59.642 15183-15183/com.example.finalyearproject E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.finalyearproject, PID: 15183\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.finalyearproject/com.example.finalyearproject.WeekViewActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.time.LocalDate.format(java.time.format.DateTimeFormatter)' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3685)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:201)\n    at android.os.Looper.loop(Looper.java:288)\n    at android.app.ActivityThread.main(ActivityThread.java:7842)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.time.LocalDate.format(java.time.format.DateTimeFormatter)' on a null object reference\n    at com.example.finalyearproject.CalendarUtils.monthYearFromDate(CalendarUtils.java:16)\n    at com.example.finalyearproject.WeekViewActivity.setWeekView(WeekViewActivity.java:40)\n    at com.example.finalyearproject.WeekViewActivity.onCreate(WeekViewActivity.java:29)\n    at android.app.Activity.performCreate(Activity.java:8054)\n    at android.app.Activity.performCreate(Activity.java:8034)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1341)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3666)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3842)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2252)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:201)\n    at android.os.Looper.loop(Looper.java:288)\n    at android.app.ActivityThread.main(ActivityThread.java:7842)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I am not sure what the problem is as I have been following a tutorial and the other features work. I have also included the code for each activity below.</p>\n<p>Monthly View</p>\n<pre><code>public class CalendarActivity extends AppCompatActivity implements CalendarAdapter.OnItemListener {\nprivate TextView monthYearText;\nprivate RecyclerView calendarRecyclerView;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_calendar);\n    initWidgets();\n    CalendarUtils.selectedDate = LocalDate.now();\n    setMonthView();\n}\n\nprivate void initWidgets()\n{\n    calendarRecyclerView = findViewById(R.id.calendarRecyclerView);\n    monthYearText = findViewById(R.id.monthYearTV);\n}\n\nprivate void setMonthView()\n{\n    monthYearText.setText(monthYearFromDate(CalendarUtils.selectedDate));\n    ArrayList&lt;LocalDate&gt; daysInMonth = daysInMonthArray(CalendarUtils.selectedDate);\n\n    CalendarAdapter calendarAdapter = new CalendarAdapter(daysInMonth, this);\n    RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\n    calendarRecyclerView.setLayoutManager(layoutManager);\n    calendarRecyclerView.setAdapter(calendarAdapter);\n}\n\npublic void nextMonth(View view)\n{\n    CalendarUtils.selectedDate = CalendarUtils.selectedDate.plusMonths(1);\n    setMonthView();\n}\n\npublic void previousMonth(View view)\n{\n    CalendarUtils.selectedDate = CalendarUtils.selectedDate.minusMonths(1);\n    setMonthView();\n}\n</code></pre>\n<p>Weekly View</p>\n<pre><code>public class WeekViewActivity extends AppCompatActivity implements CalendarAdapter.OnItemListener {\nprivate TextView monthYearText;\nprivate RecyclerView calendarRecyclerView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_week_view);\n    initWidgets();\n    setWeekView();\n}\n\nprivate void initWidgets()\n{\n    calendarRecyclerView = findViewById(R.id.calendarRecyclerView);\n    monthYearText = findViewById(R.id.monthYearTV);\n}\n\nprivate void setWeekView()\n{\n    monthYearText.setText(monthYearFromDate(CalendarUtils.selectedDate));\n    ArrayList&lt;LocalDate&gt; days = daysInWeekArray(CalendarUtils.selectedDate);\n\n    CalendarAdapter calendarAdapter = new CalendarAdapter(days, this);\n    RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\n    calendarRecyclerView.setLayoutManager(layoutManager);\n    calendarRecyclerView.setAdapter(calendarAdapter);\n}\n\n\n\npublic void previousWeek(View view)\n{\n    CalendarUtils.selectedDate = CalendarUtils.selectedDate.minusWeeks(1);\n    setWeekView();\n}\n\npublic void nextWeek(View view)\n{\n    CalendarUtils.selectedDate = CalendarUtils.selectedDate.plusWeeks(1);\n    setWeekView();\n}\n</code></pre>\n<p>Any suggestions would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652454198,"post_id":72231590,"comment_id":127617727,"body_markdown":"Generally, don&#39;t use multiple components for this.  Use a single rendering surface (ie `JPanel`).  Render the image and then render any graphics you want over it","body":"Generally, don&#39;t use multiple components for this.  Use a single rendering surface (ie <code>JPanel</code>).  Render the image and then render any graphics you want over it"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652454796,"post_id":72231590,"comment_id":127617980,"body_markdown":"Could you explain why not to use multiple components?\n- Regarding your answer, it is what I&#39;m doing without success.","body":"Could you explain why not to use multiple components? - Regarding your answer, it is what I&#39;m doing without success."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652455842,"post_id":72231590,"comment_id":127618361,"body_markdown":"Because you have problems like the one you have now, it&#39;s also a &quot;heavy&quot; load, as apposed to rendering primitive graphics. If you need something a little more complex or layered, consider devising a &quot;paintable&quot; concept which can take a reference of `Graphics2D` and perform it&#39;s painting operations.  Remember, components also have a concept of position and size, and painting it done at the components position offset (0x0 is the components top/left position)","body":"Because you have problems like the one you have now, it&#39;s also a &quot;heavy&quot; load, as apposed to rendering primitive graphics. If you need something a little more complex or layered, consider devising a &quot;paintable&quot; concept which can take a reference of <code>Graphics2D</code> and perform it&#39;s painting operations.  Remember, components also have a concept of position and size, and painting it done at the components position offset (0x0 is the components top/left position)"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652457864,"post_id":72231590,"comment_id":127619092,"body_markdown":"Okay, thank you I will have that in mind.\nIt worked perfectly, TY. Do you know of any setting where I can change the size of an image/drawing (PNG-file).","body":"Okay, thank you I will have that in mind. It worked perfectly, TY. Do you know of any setting where I can change the size of an image/drawing (PNG-file)."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652458151,"post_id":72231590,"comment_id":127619196,"body_markdown":"[Java: maintaining aspect ratio of JPanel background image](https://stackoverflow.com/questions/11959758/java-maintaining-aspect-ratio-of-jpanel-background-image/11959928#11959928)","body":"<a href=\"https://stackoverflow.com/questions/11959758/java-maintaining-aspect-ratio-of-jpanel-background-image/11959928#11959928\">Java: maintaining aspect ratio of JPanel background image</a>"},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652461683,"post_id":72231590,"comment_id":127620334,"body_markdown":"That is way to complicated for me at this point, but thank you.","body":"That is way to complicated for me at this point, but thank you."}],"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652453727,"creation_date":1652453727,"question_id":72231590,"body_markdown":"First of all, I have two class&#39; **GameGUI** and **paintCircle**\r\n\r\nIn **paintCircle** I&#39;m drawing my circle on top of my JPanel image from ***GameGUI***, but with the standard grey-ish background\r\n - I only want the circle to show, what am I missing? I&#39;ve been through all the different settings without any luck.\r\n\r\nThe same goes for when I&#39;ve tried to put in a new image of a triangle (.PNG-file), how do I only make the triangle visible or even change its size?\r\n\r\n```\r\npublic void paintComponent(Graphics g){\r\n        Graphics2D g2d = (Graphics2D) g;\r\n\r\n        Ellipse2D.Double e = new Ellipse2D.Double(200,200,200,200);\r\n        g2d.setColor(Color.red);\r\n        g2d.fill(e);\r\n        }\r\n```\r\n\r\n","title":"2D Graphics and image won&#39;t show correctly","body":"<p>First of all, I have two class' <strong>GameGUI</strong> and <strong>paintCircle</strong></p>\n<p>In <strong>paintCircle</strong> I'm drawing my circle on top of my JPanel image from <em><strong>GameGUI</strong></em>, but with the standard grey-ish background</p>\n<ul>\n<li>I only want the circle to show, what am I missing? I've been through all the different settings without any luck.</li>\n</ul>\n<p>The same goes for when I've tried to put in a new image of a triangle (.PNG-file), how do I only make the triangle visible or even change its size?</p>\n<pre><code>public void paintComponent(Graphics g){\n        Graphics2D g2d = (Graphics2D) g;\n\n        Ellipse2D.Double e = new Ellipse2D.Double(200,200,200,200);\n        g2d.setColor(Color.red);\n        g2d.fill(e);\n        }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8642,"page":1350,"page_size":100}
