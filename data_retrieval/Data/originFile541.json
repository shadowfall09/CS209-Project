{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680067442,"post_id":75873397,"comment_id":133831964,"body_markdown":"Why do you have two classes named `I_a`? If they are in the same package, that won&#39;t work.","body":"Why do you have two classes named <code>I_a</code>? If they are in the same package, that won&#39;t work."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680067634,"post_id":75873397,"comment_id":133831997,"body_markdown":"But what exact problem are you having? Please post your actual code and the full error message.","body":"But what exact problem are you having? Please post your actual code and the full error message."},{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1680509115,"post_id":75873397,"comment_id":133904383,"body_markdown":"I would appreciate confirming my answer if it has resolved your issue and was what you were looking for!!","body":"I would appreciate confirming my answer if it has resolved your issue and was what you were looking for!!"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073849,"creation_date":1680073849,"answer_id":75874165,"question_id":75873397,"body_markdown":"Use the options already provided by `Comparator`:\r\n```\r\nComparator.comparingInt(I_a::getLength).thenComparing(I_a::getName);\r\n```\r\nIf you want higher lengths first:\r\n```\r\nComparator.comparingInt(I_a::getLength).reversed().thenComparing(I_a::getName);\r\n```","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>Use the options already provided by <code>Comparator</code>:</p>\n<pre><code>Comparator.comparingInt(I_a::getLength).thenComparing(I_a::getName);\n</code></pre>\n<p>If you want higher lengths first:</p>\n<pre><code>Comparator.comparingInt(I_a::getLength).reversed().thenComparing(I_a::getName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680073901,"creation_date":1680073901,"answer_id":75874173,"question_id":75873397,"body_markdown":"I think you could not describe your problem clearly enough and I couldn&#39;t completely understand what you are looking for, But maybe this method is the one you need!!\r\n\r\n    @Override\r\n    public int compareTo(I_a i){\r\n        return Comparator.comparing(I_a::getLength)\r\n                  .thenComparing(I_a::getName)\r\n                  .compare(this, i);\r\n    }","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>I think you could not describe your problem clearly enough and I couldn't completely understand what you are looking for, But maybe this method is the one you need!!</p>\n<pre><code>@Override\npublic int compareTo(I_a i){\n    return Comparator.comparing(I_a::getLength)\n              .thenComparing(I_a::getName)\n              .compare(this, i);\n}\n</code></pre>\n"}],"owner":{"account_id":25504947,"reputation":3,"user_id":19297567,"display_name":"Chau Huynh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680077441,"creation_date":1680067207,"question_id":75873397,"body_markdown":"I&#39;m not sure how to implement Comparable interface and write the compareTo method for my project. I need to write a compareTo metho for the fish with to say an I&#39;a is equal to another I&#39;a the following instance variables should match exactly:\r\n- length\r\n- name\r\n\r\nAnd in order to write a compareTo method, I need to meet the inquiry for compareTo method should compare those instance variables, in that exact order.\r\n\r\nThe length has highest precedence for ordering, name has next highest precedence.\r\n\r\nIf the length is the same, then sorting is by the name.\r\nIf the name is also the same the compareTo method should return 0 to indicate the two fish are equal.\r\n\r\n```\r\npublic class I_a implements Comparable&lt;I_a&gt;{\r\nprivate name;\r\nprivate length;\r\n}\r\npublic abstract class I_a {\r\n\r\n   /*** instance constants, these are fixed for each type. ***/\r\n   /** The Hawaiian name. */\r\n   protected final String name;\r\n   /** The English name. */\r\n   protected final String englishName;\r\n   /** The scientific name. */\r\n   protected final String scientificName;\r\n   /** The maximum length. */\r\n   protected final double maxLength;\r\n    /** The minimum length. */\r\n   protected final double minLength;\r\n      /** The diet eaten. */\r\n   protected final String[] diet;\r\n   \r\n   /*** instance variables, these are (possibly) variable for each fish. ***/\r\n    /** The actual fish length in inches. */\r\n   protected double length;\r\n   /** The fish weight in ounces. */\r\n   protected double weight;\r\n   /** The body color. */\r\n   protected String bodyColor;\r\n   /** The fin color. */\r\n   protected String finColor;\r\n   /** The fishes&#39; sex. */\r\n   protected String sex;\r\n   /** The growth rate max per food eaten.*/\r\n   protected double growthRate = 0.8;\r\n\r\n```\r\n\r\n\r\nI try to declare the variable for my Comparable class but it said `&lt;identifier&gt; expected`. What should I try to put","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>I'm not sure how to implement Comparable interface and write the compareTo method for my project. I need to write a compareTo metho for the fish with to say an I'a is equal to another I'a the following instance variables should match exactly:</p>\n<ul>\n<li>length</li>\n<li>name</li>\n</ul>\n<p>And in order to write a compareTo method, I need to meet the inquiry for compareTo method should compare those instance variables, in that exact order.</p>\n<p>The length has highest precedence for ordering, name has next highest precedence.</p>\n<p>If the length is the same, then sorting is by the name.\nIf the name is also the same the compareTo method should return 0 to indicate the two fish are equal.</p>\n<pre><code>public class I_a implements Comparable&lt;I_a&gt;{\nprivate name;\nprivate length;\n}\npublic abstract class I_a {\n\n   /*** instance constants, these are fixed for each type. ***/\n   /** The Hawaiian name. */\n   protected final String name;\n   /** The English name. */\n   protected final String englishName;\n   /** The scientific name. */\n   protected final String scientificName;\n   /** The maximum length. */\n   protected final double maxLength;\n    /** The minimum length. */\n   protected final double minLength;\n      /** The diet eaten. */\n   protected final String[] diet;\n   \n   /*** instance variables, these are (possibly) variable for each fish. ***/\n    /** The actual fish length in inches. */\n   protected double length;\n   /** The fish weight in ounces. */\n   protected double weight;\n   /** The body color. */\n   protected String bodyColor;\n   /** The fin color. */\n   protected String finColor;\n   /** The fishes' sex. */\n   protected String sex;\n   /** The growth rate max per food eaten.*/\n   protected double growthRate = 0.8;\n\n</code></pre>\n<p>I try to declare the variable for my Comparable class but it said <code>&lt;identifier&gt; expected</code>. What should I try to put</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679917057,"post_id":75855269,"comment_id":133801010,"body_markdown":"What does &quot;how can I call the method at the and and how to doReturn the XMLGregorianCalendar when it has nested returns inside&quot; mean? And I don&#39;t see any `void` methods!","body":"What does &quot;how can I call the method at the and and how to doReturn the XMLGregorianCalendar when it has nested returns inside&quot; mean? And I don&#39;t see any <code>void</code> methods!"},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679917178,"post_id":75855269,"comment_id":133801041,"body_markdown":"@tgdavies I edited the syntax spells","body":"@tgdavies I edited the syntax spells"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679917496,"post_id":75855269,"comment_id":133801120,"body_markdown":"Sorry, I still don&#39;t understand your question.","body":"Sorry, I still don&#39;t understand your question."},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679921150,"post_id":75855269,"comment_id":133802075,"body_markdown":"@tgdavies I added my test, I am just stuck at XMLGregorianCalendar part","body":"@tgdavies I added my test, I am just stuck at XMLGregorianCalendar part"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679932660,"post_id":75855269,"comment_id":133805755,"body_markdown":"You are using terribly flawed date-time classes. These were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terribly flawed date-time classes. These were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679940677,"post_id":75855269,"comment_id":133807816,"body_markdown":"I strongly recommend you don’t use `DateFormat` and `SimpleDateFormat` since they are notorious troublemakers. Unless you have a very specific need you may also not want to use `XMLGregorianCalendar`. Also to construct a string of `2303` for year 23 month 3 you are first constructing a `XMLGregorianCalendar` of year 2303 without a defined month. While it may work, it’s certainly confusing and ill-advised. Use classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) that @BasilBourque already mentioned.","body":"I strongly recommend you don’t use <code>DateFormat</code> and <code>SimpleDateFormat</code> since they are notorious troublemakers. Unless you have a very specific need you may also not want to use <code>XMLGregorianCalendar</code>. Also to construct a string of <code>2303</code> for year 23 month 3 you are first constructing a <code>XMLGregorianCalendar</code> of year 2303 without a defined month. While it may work, it’s certainly confusing and ill-advised. Use classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> that @BasilBourque already mentioned."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679944045,"post_id":75855269,"comment_id":133808617,"body_markdown":"The nice solution: Use java.time and its `Clock` class in your production code. For testing inject a `Clock` the time of which you control. See [How to test date created with LocalDateTime.now()](https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now). The hacky solution: read the time before and after calling the method under test. Test that the time returned is neither before the former time read nor after the latter one.","body":"The nice solution: Use java.time and its <code>Clock</code> class in your production code. For testing inject a <code>Clock</code> the time of which you control. See <a href=\"https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now\">How to test date created with LocalDateTime.now()</a>. The hacky solution: read the time before and after calling the method under test. Test that the time returned is neither before the former time read nor after the latter one."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679947383,"post_id":75855269,"comment_id":133809343,"body_markdown":"Why are you focused on the legacy class `XMLGregorianCalendar`? One of your methods generates text in standard ISO 8601 format for the current moment — this you can do simply by `Instant.now().toString()`. In another method, you generate text for just the year and month —&#160;for this use the `YearMonth` class to represent, well, the year and the month alone. So I see no need for *any* of your code presented here. &#128073; I suggest you study [*The Java Tutorials*](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) by Oracle, free-of-charge.","body":"Why are you focused on the legacy class <code>XMLGregorianCalendar</code>? One of your methods generates text in standard ISO 8601 format for the current moment — this you can do simply by <code>Instant.now().toString()</code>. In another method, you generate text for just the year and month — for this use the <code>YearMonth</code> class to represent, well, the year and the month alone. So I see no need for <i>any</i> of your code presented here. 👉 I suggest you study <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>The Java Tutorials</i></a> by Oracle, free-of-charge."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679949940,"post_id":75855269,"comment_id":133809826,"body_markdown":"I still don&#39;t understand your question. `getCalendarTest` should simply call `DateUtils.getCalendar()` and check that the result is as expected (given that the date will not exactly match any other measure of &#39;now&#39;). And what is the point of `privateConstructorTest`. Having said that, take the advice to use a `Clock`, and don&#39;t use static utility classes, they make testing of their clients difficult.","body":"I still don&#39;t understand your question. <code>getCalendarTest</code> should simply call <code>DateUtils.getCalendar()</code> and check that the result is as expected (given that the date will not exactly match any other measure of &#39;now&#39;). And what is the point of <code>privateConstructorTest</code>. Having said that, take the advice to use a <code>Clock</code>, and don&#39;t use static utility classes, they make testing of their clients difficult."}],"answers":[{"comments":[{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679921141,"post_id":75855337,"comment_id":133802072,"body_markdown":"I added my test, I am just stuck at XMLGregorianCalendar part","body":"I added my test, I am just stuck at XMLGregorianCalendar part"}],"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679917366,"creation_date":1679917366,"answer_id":75855337,"question_id":75855269,"body_markdown":"Don&#39;t see how your code is related to void methods at all, but if your functions return current date either as `XMLGregorianCalendar` or `String` and you are asking how to unit test them in the condition where current date is always changing then I&#39;d pass the `DateUtils` via a constructor and mock the `currentDate()` function to return some specific date which could easily be unit tested.\r\n\r\nEdit:\r\n\r\nI just realised your methods are static. Consider making them non-static and wrapping them into a class which can easily be tested. You can create a static singleton of this class in non-test code if you&#39;d like the benefits of a global static helper.","title":"How to test a date utils classes methods in java","body":"<p>Don't see how your code is related to void methods at all, but if your functions return current date either as <code>XMLGregorianCalendar</code> or <code>String</code> and you are asking how to unit test them in the condition where current date is always changing then I'd pass the <code>DateUtils</code> via a constructor and mock the <code>currentDate()</code> function to return some specific date which could easily be unit tested.</p>\n<p>Edit:</p>\n<p>I just realised your methods are static. Consider making them non-static and wrapping them into a class which can easily be tested. You can create a static singleton of this class in non-test code if you'd like the benefits of a global static helper.</p>\n"}],"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679947207,"answer_count":1,"score":-1,"last_activity_date":1680077242,"creation_date":1679916957,"question_id":75855269,"body_markdown":"I am looking for a solution for testing these methods especially for date util classes. I am adding my two methods that I want to write a test for.  How can I call the method at the end and how to doReturn the XMLGregorianCalendar when it has nested returns inside like the method I added?\r\n\r\n```\r\npublic static XMLGregorianCalendar getCalendar() throws DatatypeConfigurationException {\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n    XMLGregorianCalendar gdateFormatted =\r\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\r\n    return gdateFormatted;\r\n}\r\n\r\npublic static String getDateNowYyMm() throws DatatypeConfigurationException {\r\n    DateFormat format = new SimpleDateFormat(&quot;yyMM&quot;);\r\n    XMLGregorianCalendar gdateFormatted =\r\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\r\n    return gdateFormatted.toString();\r\n}\r\n```\r\n\r\nMy problem has been resolved, my test method is below:\r\n\r\n```@Test\r\n    public void getCalendarTest() throws DatatypeConfigurationException {\r\n        XMLGregorianCalendar gdateFormatted = DateUtils.getCalendar();\r\n        Assert.assertNotNull(gdateFormatted);\r\n    }\r\n\r\n```\r\n\r\nI couldn&#39;t succeed the part of XMLGregorianCalendar.\r\n","title":"How to test a date utils classes methods in java","body":"<p>I am looking for a solution for testing these methods especially for date util classes. I am adding my two methods that I want to write a test for.  How can I call the method at the end and how to doReturn the XMLGregorianCalendar when it has nested returns inside like the method I added?</p>\n<pre><code>public static XMLGregorianCalendar getCalendar() throws DatatypeConfigurationException {\n\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n    XMLGregorianCalendar gdateFormatted =\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\n    return gdateFormatted;\n}\n\npublic static String getDateNowYyMm() throws DatatypeConfigurationException {\n    DateFormat format = new SimpleDateFormat(&quot;yyMM&quot;);\n    XMLGregorianCalendar gdateFormatted =\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\n    return gdateFormatted.toString();\n}\n</code></pre>\n<p>My problem has been resolved, my test method is below:</p>\n<pre><code>    public void getCalendarTest() throws DatatypeConfigurationException {\n        XMLGregorianCalendar gdateFormatted = DateUtils.getCalendar();\n        Assert.assertNotNull(gdateFormatted);\n    }\n\n</code></pre>\n<p>I couldn't succeed the part of XMLGregorianCalendar.</p>\n"},{"tags":["java","webdriver","pageobjects"],"answers":[{"tags":[],"owner":{"account_id":205630,"reputation":9677,"user_id":454488,"accept_rate":77,"display_name":"kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347548394,"creation_date":1347548394,"answer_id":12409203,"question_id":12352100,"body_markdown":"It was actually resolved by setting up Encoding to UTF-8 in Eclipse","title":"Webdriver Error &quot;Driver info: driver.version: unknown&quot;","body":"<p>It was actually resolved by setting up Encoding to UTF-8 in Eclipse</p>\n"}],"owner":{"account_id":205630,"reputation":9677,"user_id":454488,"accept_rate":77,"display_name":"kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680077005,"creation_date":1347281464,"question_id":12352100,"body_markdown":"I am trying to run the example from [Page-Objects Example][1]\r\n\r\n\r\n  [1]: https://github.com/michal-lipski/page-objects-webdriver.git\r\n\r\nand it runs fine on Windows 7, but when i try to run it on Linux ( Fedora 15 ) I get an error:\r\n\r\n\r\n    GitHubLoginTest (1)\r\n    com.example.test.GitHubLoginTest\r\n    should_not_login_with_wrong_credentials(com.example.test.GitHubLoginTest)\r\n    org.openqa.selenium.TimeoutException: Timed out after 30 seconds waiting for title to contain &quot;GitHub � Social Coding&quot;. Current title: &quot;GitHub &#183; Social Coding&quot;\r\n    Build info: version: &#39;2.25.0&#39;, revision: &#39;17482&#39;, time: &#39;2012-07-18 21:09:54&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;2.6.43.5-2.fc15.x86_64&#39;, java.version: &#39;1.6.0_35&#39;\r\n    Driver info: driver.version: unknown\r\n    \tat org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:255)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:270)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:222)\r\n    \tat com.example.pageobjects.GitHubPage.waitForPageToLoad(GitHubPage.java:40)\r\n    \tat com.example.pageobjects.GitHubPage.openPage(GitHubPage.java:30)\r\n    \tat com.example.pageobjects.GitHubHomePage.open(GitHubHomePage.java:31)\r\n    \tat com.example.test.GitHubLoginTest.should_not_login_with_wrong_credentials(GitHubLoginTest.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n\r\nI tried setting up System.setProperty as:\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;workspace/libs/chromedriver&quot;);\r\n\r\nBut got the same error. \r\n","title":"Webdriver Error &quot;Driver info: driver.version: unknown&quot;","body":"<p>I am trying to run the example from <a href=\"https://github.com/michal-lipski/page-objects-webdriver.git\" rel=\"nofollow\">Page-Objects Example</a></p>\n\n<p>and it runs fine on Windows 7, but when i try to run it on Linux ( Fedora 15 ) I get an error:</p>\n\n<pre><code>GitHubLoginTest (1)\ncom.example.test.GitHubLoginTest\nshould_not_login_with_wrong_credentials(com.example.test.GitHubLoginTest)\norg.openqa.selenium.TimeoutException: Timed out after 30 seconds waiting for title to contain \"GitHub � Social Coding\". Current title: \"GitHub · Social Coding\"\nBuild info: version: '2.25.0', revision: '17482', time: '2012-07-18 21:09:54'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '2.6.43.5-2.fc15.x86_64', java.version: '1.6.0_35'\nDriver info: driver.version: unknown\n    at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:255)\n    at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:270)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:222)\n    at com.example.pageobjects.GitHubPage.waitForPageToLoad(GitHubPage.java:40)\n    at com.example.pageobjects.GitHubPage.openPage(GitHubPage.java:30)\n    at com.example.pageobjects.GitHubHomePage.open(GitHubHomePage.java:31)\n    at com.example.test.GitHubLoginTest.should_not_login_with_wrong_credentials(GitHubLoginTest.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>I tried setting up System.setProperty as:</p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"workspace/libs/chromedriver\");\n</code></pre>\n\n<p>But got the same error. </p>\n"},{"tags":["java","network-programming","serversocket","distributed-system","gossip"],"comments":[{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":1,"creation_date":1505347693,"post_id":46206566,"comment_id":79380436,"body_markdown":"Your intuitive solution is called [CRDT](http://www.cakesolutions.net/teamblogs/how-to-build-a-distributed-counter) and it&#39;s good. A [paper](https://hal.inria.fr/file/index/docid/555588/filename/techreport.pdf) about it if you want some more details.","body":"Your intuitive solution is called <a href=\"http://www.cakesolutions.net/teamblogs/how-to-build-a-distributed-counter\" rel=\"nofollow noreferrer\">CRDT</a> and it&#39;s good. A <a href=\"https://hal.inria.fr/file/index/docid/555588/filename/techreport.pdf\" rel=\"nofollow noreferrer\">paper</a> about it if you want some more details."}],"answers":[{"comments":[{"owner":{"account_id":1291633,"reputation":61,"user_id":1243633,"display_name":"azuri"},"score":0,"creation_date":1505364314,"post_id":46206821,"comment_id":79384411,"body_markdown":"If all of my java processes are subjects and all of them are observers, and the subject will be notifying whenever an increment or decrement occurs on it (which will happen quite often), as the number of nodes grows, the network will be jammed due to the processes talking to each other all the time.","body":"If all of my java processes are subjects and all of them are observers, and the subject will be notifying whenever an increment or decrement occurs on it (which will happen quite often), as the number of nodes grows, the network will be jammed due to the processes talking to each other all the time."}],"tags":[],"owner":{"account_id":7709079,"reputation":56,"user_id":5839077,"display_name":"D. Wood"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680076933,"creation_date":1505336630,"answer_id":46206821,"question_id":46206566,"body_markdown":"You may be aware of this design pattern, but it still may be inspiring: [https://en.wikipedia.org/wiki/Observer_pattern][1]\r\n\r\nYou could simply make all of the instances of the program observe all of the other instances, then they will all notify each other if any one changes (check out the diagram in that link). \r\n\r\nAs far as a Java libraries, check these out, see if any of them make your life easier: \r\n\r\n - [http://mina.apache.org/][2]\r\n   \r\n \r\n - [http://commons.apache.org/proper/commons-net/][3]\r\n\r\n   \r\n  \r\n\r\n - [http://hc.apache.org/][4]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Observer_pattern\r\n  [2]: https://mina.apache.org/\r\n  [3]: https://commons.apache.org/proper/commons-net/\r\n  [4]: https://hc.apache.org/","title":"Basic Distributed Counter using Java Sockets","body":"<p>You may be aware of this design pattern, but it still may be inspiring: <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Observer_pattern</a></p>\n<p>You could simply make all of the instances of the program observe all of the other instances, then they will all notify each other if any one changes (check out the diagram in that link).</p>\n<p>As far as a Java libraries, check these out, see if any of them make your life easier:</p>\n<ul>\n<li><p><a href=\"https://mina.apache.org/\" rel=\"nofollow noreferrer\">http://mina.apache.org/</a></p>\n</li>\n<li><p><a href=\"https://commons.apache.org/proper/commons-net/\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-net/</a></p>\n</li>\n<li><p><a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">http://hc.apache.org/</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":64532,"reputation":1894,"user_id":190452,"accept_rate":80,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519375587,"creation_date":1519375587,"answer_id":48944169,"question_id":46206566,"body_markdown":"It sounds like you need a [PNCounter][1] from Akka&#39;s Distributed Data library. It uses Gossip to communicate the counter&#39;s state to the network. You also have fine grained control over read and write consistency. So, for example, you can do a `ReadMajority` where &quot;the value will be read and merged from a majority of replicas&quot;.\r\n\r\nIncidentally, the PNCounter works as you describe, using two distributed counters to maintain increments and decrements.\r\n\r\n  [1]: https://doc.akka.io/docs/akka/2.5.9/distributed-data.html?language=java#counters &quot;PNCounter&quot;","title":"Basic Distributed Counter using Java Sockets","body":"<p>It sounds like you need a <a href=\"https://doc.akka.io/docs/akka/2.5.9/distributed-data.html?language=java#counters\" rel=\"nofollow noreferrer\" title=\"PNCounter\">PNCounter</a> from Akka's Distributed Data library. It uses Gossip to communicate the counter's state to the network. You also have fine grained control over read and write consistency. So, for example, you can do a <code>ReadMajority</code> where \"the value will be read and merged from a majority of replicas\".</p>\n\n<p>Incidentally, the PNCounter works as you describe, using two distributed counters to maintain increments and decrements.</p>\n"}],"owner":{"account_id":1291633,"reputation":61,"user_id":1243633,"display_name":"azuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680076933,"creation_date":1505335569,"question_id":46206566,"body_markdown":"I have some Java processes(Socket programs) running on different servers, some on the same network and some on different networks. These processes together have the job to maintain a **global counter**. A client can connect to any of these processes and issue command to `increase`, `decrease` or `get` the counter value. The global counter should be eventually consistent(**Network partition can occur** and we can recover from it).\r\n\r\nThe solution I have thought of so far is to maintain a count of increments and decrements on each node for all the nodes. When an increment command is issued on a node, it increments its own local copy of its counts of increments and then broadcasts its increment and decrement count. The nodes that receive this broadcast take the max of the received counts and their local copy of the sender&#39;s counts and stores the result as the latest count. When a `get` command is issued on any node it gives the difference of the sums of all the increments and decrements. I assume this will take care of cases where broadcasts are received out of order and other unreliabilities. I don&#39;t want to use any persistence layer.\r\n\r\n&gt;Is there a better way to implement this?\r\n&gt;What protocol should I use to broadcast the counts? Will gossip on UDP work? Any Java libraries that might help?\r\n&gt;\r\n\r\n\r\n","title":"Basic Distributed Counter using Java Sockets","body":"<p>I have some Java processes(Socket programs) running on different servers, some on the same network and some on different networks. These processes together have the job to maintain a <strong>global counter</strong>. A client can connect to any of these processes and issue command to <code>increase</code>, <code>decrease</code> or <code>get</code> the counter value. The global counter should be eventually consistent(<strong>Network partition can occur</strong> and we can recover from it).</p>\n\n<p>The solution I have thought of so far is to maintain a count of increments and decrements on each node for all the nodes. When an increment command is issued on a node, it increments its own local copy of its counts of increments and then broadcasts its increment and decrement count. The nodes that receive this broadcast take the max of the received counts and their local copy of the sender's counts and stores the result as the latest count. When a <code>get</code> command is issued on any node it gives the difference of the sums of all the increments and decrements. I assume this will take care of cases where broadcasts are received out of order and other unreliabilities. I don't want to use any persistence layer.</p>\n\n<blockquote>\n  <p>Is there a better way to implement this?\n  What protocol should I use to broadcast the counts? Will gossip on UDP work? Any Java libraries that might help?</p>\n</blockquote>\n"},{"tags":["java","kernel"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1365085899,"post_id":15813740,"comment_id":22492436,"body_markdown":"(Kernel bypass for accessing the file system seems like a really bad idea.  It sounds like a good way to corrupt your file system ...)","body":"(Kernel bypass for accessing the file system seems like a really bad idea.  It sounds like a good way to corrupt your file system ...)"},{"owner":{"account_id":536794,"reputation":21199,"user_id":905619,"accept_rate":88,"display_name":"poitroae"},"score":0,"creation_date":1365086057,"post_id":15813740,"comment_id":22492554,"body_markdown":"@StephenC I wouldn&#39;t probably do `kernel bypassing` at all, but it might be useful for applications in need for being *incredibly* performant.","body":"@StephenC I wouldn&#39;t probably do <code>kernel bypassing</code> at all, but it might be useful for applications in need for being <i>incredibly</i> performant."}],"tags":[],"owner":{"account_id":536794,"reputation":21199,"user_id":905619,"accept_rate":88,"display_name":"poitroae"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365084848,"creation_date":1365084848,"answer_id":15813740,"question_id":15813603,"body_markdown":"**Kernel bypassing** is a method of avoiding the kernel when reading/writing to external data sources, e.g. files or networking. \r\n\r\nInstead, you *directly* access the data storage without letting all the bytes running through the OS kernel. This is usually faster but also less secure, since the entire process is not supervised by the operating system anymore.\r\n\r\nAssumption:\r\nIn regard to Java, the `kernel` (could) represent(s) the `JVM`.\r\n\r\nI have found a [very good article][1] on this.\r\n\r\n\r\n  [1]: http://blog.lukego.com/blog/2013/01/04/kernel-bypass-networking/","title":"Kernel bypass with Java 7?","body":"<p><strong>Kernel bypassing</strong> is a method of avoiding the kernel when reading/writing to external data sources, e.g. files or networking. </p>\n\n<p>Instead, you <em>directly</em> access the data storage without letting all the bytes running through the OS kernel. This is usually faster but also less secure, since the entire process is not supervised by the operating system anymore.</p>\n\n<p>Assumption:\nIn regard to Java, the <code>kernel</code> (could) represent(s) the <code>JVM</code>.</p>\n\n<p>I have found a <a href=\"http://blog.lukego.com/blog/2013/01/04/kernel-bypass-networking/\" rel=\"nofollow\">very good article</a> on this.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365116793,"creation_date":1365116390,"answer_id":15823186,"question_id":15813603,"body_markdown":"The Answers to this related Question mention that SolarFlare has Java bindings: https://stackoverflow.com/questions/12123388/networking-with-kernel-bypass-in-java.  \r\n\r\nAs far as Java 7 is concerned, there is no support for this kind of thing in the core libraries.  Kernel bypass is too system / vendor specific for inclusion in the standard APIs.\r\n\r\nYou can do other things to improve network throughput in Java that don&#39;t involve kernel bypass.  For instance using the NIO Buffer and Channel APIs ...  However, your typical Java &quot;framework&quot; tends to get in the way of this ... by only exposing Stream / Reader and other high level I/O abstractions to &quot;application&quot; code.\r\n\r\n---------\r\n\r\n(I would also opine that if you have an application where network latency and throughput are critical enough for kernel bypass to be worthwhile, you should use a programming language that is &quot;closer to the metal&quot;.  Java is better for applications where the biggest problem is application complexity ... NOT moving lots of bits through the network fast.)\r\n","title":"Kernel bypass with Java 7?","body":"<p>The Answers to this related Question mention that SolarFlare has Java bindings: <a href=\"https://stackoverflow.com/questions/12123388/networking-with-kernel-bypass-in-java\">Networking with Kernel Bypass in Java</a>.  </p>\n\n<p>As far as Java 7 is concerned, there is no support for this kind of thing in the core libraries.  Kernel bypass is too system / vendor specific for inclusion in the standard APIs.</p>\n\n<p>You can do other things to improve network throughput in Java that don't involve kernel bypass.  For instance using the NIO Buffer and Channel APIs ...  However, your typical Java \"framework\" tends to get in the way of this ... by only exposing Stream / Reader and other high level I/O abstractions to \"application\" code.</p>\n\n<hr>\n\n<p>(I would also opine that if you have an application where network latency and throughput are critical enough for kernel bypass to be worthwhile, you should use a programming language that is \"closer to the metal\".  Java is better for applications where the biggest problem is application complexity ... NOT moving lots of bits through the network fast.)</p>\n"},{"tags":[],"owner":{"account_id":148296,"reputation":807,"user_id":359971,"display_name":"Andy Malakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680076923,"creation_date":1505246256,"answer_id":46184422,"question_id":15813603,"body_markdown":"Take a look at the [Onload Extensions API JNI Wrapper][1] on github. The author seems to specialize in [kernel bypass][2].\r\n\r\n\r\n  [1]: https://github.com/majek/openonload/tree/master/src/tools/jni &quot;Onload Extensions API JNI Wrapper&quot;\r\n  [2]: https://blog.cloudflare.com/kernel-bypass/","title":"Kernel bypass with Java 7?","body":"<p>Take a look at the <a href=\"https://github.com/majek/openonload/tree/master/src/tools/jni\" rel=\"nofollow noreferrer\" title=\"Onload Extensions API JNI Wrapper\">Onload Extensions API JNI Wrapper</a> on github. The author seems to specialize in <a href=\"https://blog.cloudflare.com/kernel-bypass/\" rel=\"nofollow noreferrer\">kernel bypass</a>.</p>\n"}],"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680076923,"creation_date":1365084477,"question_id":15813603,"body_markdown":"I read in a couple of comments on SO Java 7 supports kernel bypass. However, when googling the topic I did not see any immediate examples of this.\r\n\r\nDoes anyone have an example of Java 7 performing kernel bypass? I&#39;d be interested to see it","title":"Kernel bypass with Java 7?","body":"<p>I read in a couple of comments on SO Java 7 supports kernel bypass. However, when googling the topic I did not see any immediate examples of this.</p>\n\n<p>Does anyone have an example of Java 7 performing kernel bypass? I'd be interested to see it</p>\n"},{"tags":["java","spring","soap","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":2,"creation_date":1465920246,"post_id":37813780,"comment_id":63098294,"body_markdown":"I don&#39;t see anything obvious in your code. Looks like you fully delegate to the `HttpClient`, so `Basic Authentication` HTTP request header must be there. I suggest you to debug the code from the `HttpComponentsMessageSender.createConnection()` and try to figure out where your `credentials` goes.","body":"I don&#39;t see anything obvious in your code. Looks like you fully delegate to the <code>HttpClient</code>, so <code>Basic Authentication</code> HTTP request header must be there. I suggest you to debug the code from the <code>HttpComponentsMessageSender.createConnection()</code> and try to figure out where your <code>credentials</code> goes."}],"answers":[{"tags":[],"owner":{"account_id":13103863,"reputation":31,"user_id":9467338,"display_name":"Alper Karaağa&#231;lı"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680076348,"creation_date":1680076348,"answer_id":75874525,"question_id":37813780,"body_markdown":"I follow the spring consume webservice guide &quot; https://spring.io/guides/gs/consuming-web-service/#initial &quot; there was a example too. But there is not how to add basic authorization. So you can use like this\r\n\r\n    public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\r\n    \t\r\n    \tprivate String username;\r\n    \r\n    \tprivate String password;\r\n    \r\n    \t@Override\r\n    \tprotected void prepareConnection(HttpURLConnection connection) throws IOException {\r\n    \t\tBASE64Encoder enc = new sun.misc.BASE64Encoder();\r\n    \t\tString userpassword = username+&quot;:&quot;+password;\r\n    \t\tString encodedAuthorization = enc.encode( userpassword.getBytes() );\r\n    \t\tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization);\r\n    \r\n    \t\tsuper.prepareConnection(connection);\r\n    \t}\r\n    }\r\n\r\nand \r\n\r\n    public YourClient yourClient(Jaxb2Marshaller marshaller){\r\n\t\tYourClient client = new YourClient();\r\n\t\t\r\n\t\tWebServiceTemplate template = client.getWebServiceTemplate();\r\n\t\ttemplate.setMessageSender(new WebServiceMessageSenderWithAuth());\r\n\t\t\r\n\t\tclient.setDefaultUri(&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;);\r\n\t\tclient.setMarshaller(marshaller);\r\n\t\tclient.setUnmarshaller(marshaller);\r\n\t\treturn client;\r\n\t}\r\n\r\nAnd call..\r\n\r\n\r\n\r\n    return (YourResponseModel) getWebServiceTemplate()\r\n    \t\t\t\t.marshalSendAndReceive(url, request,\r\n    \t\t\t\t\t\tnew SoapActionCallback(\r\n    \t\t\t\t\t\t&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;));","title":"How to add Authentication Headers to SOAP Request","body":"<p>I follow the spring consume webservice guide &quot; <a href=\"https://spring.io/guides/gs/consuming-web-service/#initial\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/#initial</a> &quot; there was a example too. But there is not how to add basic authorization. So you can use like this</p>\n<pre><code>public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\n    \n    private String username;\n\n    private String password;\n\n    @Override\n    protected void prepareConnection(HttpURLConnection connection) throws IOException {\n        BASE64Encoder enc = new sun.misc.BASE64Encoder();\n        String userpassword = username+&quot;:&quot;+password;\n        String encodedAuthorization = enc.encode( userpassword.getBytes() );\n        connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization);\n\n        super.prepareConnection(connection);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public YourClient yourClient(Jaxb2Marshaller marshaller){\n    YourClient client = new YourClient();\n    \n    WebServiceTemplate template = client.getWebServiceTemplate();\n    template.setMessageSender(new WebServiceMessageSenderWithAuth());\n    \n    client.setDefaultUri(&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;);\n    client.setMarshaller(marshaller);\n    client.setUnmarshaller(marshaller);\n    return client;\n}\n</code></pre>\n<p>And call..</p>\n<pre><code>return (YourResponseModel) getWebServiceTemplate()\n                .marshalSendAndReceive(url, request,\n                        new SoapActionCallback(\n                        &quot;http://examplesap.com/xx/WebService/soap1.1x&quot;));\n</code></pre>\n"}],"owner":{"account_id":75805,"reputation":403,"user_id":217325,"accept_rate":67,"display_name":"Craig Gardner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4245,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680076348,"creation_date":1465911674,"question_id":37813780,"body_markdown":"I&#39;m using Spring Integration 4.2.4.RELEASE and it doesn&#39;t seem to want to add my Authorization Header to the SOAP requests.\r\n\r\nHere&#39;s the relevant spring-integration configuration:\r\n\r\n    &lt;ws:outbound-gateway uri=&quot;${soap.ws.url}&quot; message-factory=&quot;messageFactory&quot; message-sender=&quot;messageSender&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;httpClientFactory&quot; class=&quot;com.myorg.http.HttpClientFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;credentials&quot; ref=&quot;httpClientCredentials&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean name=&quot;messageSender&quot; class=&quot;org.springframework.ws.transport.http.HttpComponentsMessageSender&quot;&gt;\r\n        &lt;property name=&quot;credentials&quot; ref=&quot;httpClientCredentials&quot;/&gt;\r\n        &lt;property name=&quot;httpClient&quot; ref=&quot;httpClientFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;httpClientCredentials&quot; class=&quot;org.apache.http.auth.UsernamePasswordCredentials&quot;&gt;\r\n        &lt;constructor-arg value=&quot;${username}&quot;/&gt;\r\n        &lt;constructor-arg value=&quot;${password}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;messageFactory&quot; class=&quot;org.springframework.ws.soap.saaj.SaajSoapMessageFactory&quot;&gt;\r\n        &lt;property name=&quot;soapVersion&quot;&gt;\r\n            &lt;util:constant static-field=&quot;org.springframework.ws.soap.SoapVersion.SOAP_11&quot;/&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;messageFactory&quot; ref=&quot;myMessageFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;myMessageFactory&quot; class=&quot;com.myorg.soap.CustomMessageFactory&quot; /&gt;\r\n\r\n\r\nHere&#39;s the custom messageFactory class\r\n\r\n    package com.myorg.soap;\r\n\r\n    import com.sun.xml.messaging.saaj.soap.MessageFactoryImpl;\r\n    import com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl;\r\n\r\n    import javax.xml.soap.MimeHeaders;\r\n    import javax.xml.soap.SOAPException;\r\n    import javax.xml.soap.SOAPMessage;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    /**\r\n     * Custom Message Factory.\r\n     */\r\n    public class CustomMessageFactory extends MessageFactoryImpl {\r\n\r\n        /**\r\n         * Class Constructor.\r\n         *\r\n         * @return Message1_1Impl\r\n         * @throws SOAPException when there is a SOAP error.\r\n         */\r\n        @Override\r\n        public SOAPMessage createMessage() throws SOAPException {\r\n            return new Message1_1Impl();\r\n        }\r\n\r\n        /**\r\n         * Create a new message.\r\n         *\r\n         * @param mimeHeaders headers to add to the message\r\n         * @param in input stream to use in the message.\r\n         * @return New SOAP 1.1 message.\r\n         * @throws IOException when there is an IO error\r\n         * @throws SOAPException when there is a SOAP error\r\n         */\r\n        @Override\r\n        public SOAPMessage createMessage(final MimeHeaders mimeHeaders, final InputStream in)\r\n                throws IOException, SOAPException {\r\n            MimeHeaders headers = mimeHeaders;\r\n            if (headers == null) {\r\n                headers = new MimeHeaders();\r\n            }\r\n            headers.setHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\n\r\n            Message1_1Impl msg = new Message1_1Impl(headers, in);\r\n            msg.setLazyAttachments(this.lazyAttachments);\r\n            return msg;\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s the custom httpClientFactory class\r\n\r\n    package com.myorg.http;\r\n\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.Credentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.config.SocketConfig;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.springframework.beans.factory.FactoryBean;\r\n\r\n    /**\r\n     * Provide an HttpClient factory bean, so we can configure the ODE web service client to use TLS1.1 and TLS1.2.\r\n     */\r\n    public class HttpClientFactoryBean implements FactoryBean&lt;HttpClient&gt; {\r\n        /**\r\n         * Default socket timeout will be 15 seconds.\r\n         */\r\n        private static final int DEFAULT_READ_TIMEOUT_MILLISECONDS = (15 * 1000);\r\n\r\n        /**\r\n         * Max connections defaults to 5.\r\n         */\r\n        private static final int MAX_CONNECTIONS = 5;\r\n\r\n        /**\r\n         * Local storage for credentials.\r\n         */\r\n        private Credentials credentials;\r\n\r\n        @Override\r\n        public HttpClient getObject() throws Exception {\r\n            HttpClientBuilder builder = HttpClientBuilder.create();\r\n\r\n            SocketConfig socketConfig = SocketConfig.custom()\r\n                    .setSoTimeout(DEFAULT_READ_TIMEOUT_MILLISECONDS)\r\n                    .build();\r\n\r\n            builder.useSystemProperties()\r\n                    .setMaxConnTotal(MAX_CONNECTIONS)\r\n                    .setDefaultSocketConfig(socketConfig);\r\n\r\n            if (credentials != null) {\r\n                CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n                credentialsProvider.setCredentials(AuthScope.ANY, credentials);\r\n                builder.setDefaultCredentialsProvider(credentialsProvider);\r\n            }\r\n\r\n            return builder.build();\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getObjectType() {\r\n            return HttpClient.class;\r\n        }\r\n\r\n        @Override\r\n        public boolean isSingleton() {\r\n            return true;\r\n        }\r\n\r\n        public Credentials getCredentials() {\r\n            return credentials;\r\n        }\r\n\r\n        public void setCredentials(final Credentials credentials) {\r\n            this.credentials = credentials;\r\n        }\r\n    }\r\n\r\nThe problem that I&#39;m seeing is that the Authorization header doesn&#39;t seem to be set on the request.  What am I missing?","title":"How to add Authentication Headers to SOAP Request","body":"<p>I'm using Spring Integration 4.2.4.RELEASE and it doesn't seem to want to add my Authorization Header to the SOAP requests.</p>\n\n<p>Here's the relevant spring-integration configuration:</p>\n\n<pre><code>&lt;ws:outbound-gateway uri=\"${soap.ws.url}\" message-factory=\"messageFactory\" message-sender=\"messageSender\"/&gt;\n\n&lt;bean id=\"httpClientFactory\" class=\"com.myorg.http.HttpClientFactoryBean\"&gt;\n    &lt;property name=\"credentials\" ref=\"httpClientCredentials\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean name=\"messageSender\" class=\"org.springframework.ws.transport.http.HttpComponentsMessageSender\"&gt;\n    &lt;property name=\"credentials\" ref=\"httpClientCredentials\"/&gt;\n    &lt;property name=\"httpClient\" ref=\"httpClientFactory\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"httpClientCredentials\" class=\"org.apache.http.auth.UsernamePasswordCredentials\"&gt;\n    &lt;constructor-arg value=\"${username}\"/&gt;\n    &lt;constructor-arg value=\"${password}\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"messageFactory\" class=\"org.springframework.ws.soap.saaj.SaajSoapMessageFactory\"&gt;\n    &lt;property name=\"soapVersion\"&gt;\n        &lt;util:constant static-field=\"org.springframework.ws.soap.SoapVersion.SOAP_11\"/&gt;\n    &lt;/property&gt;\n    &lt;property name=\"messageFactory\" ref=\"myMessageFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"myMessageFactory\" class=\"com.myorg.soap.CustomMessageFactory\" /&gt;\n</code></pre>\n\n<p>Here's the custom messageFactory class</p>\n\n<pre><code>package com.myorg.soap;\n\nimport com.sun.xml.messaging.saaj.soap.MessageFactoryImpl;\nimport com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl;\n\nimport javax.xml.soap.MimeHeaders;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPMessage;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Custom Message Factory.\n */\npublic class CustomMessageFactory extends MessageFactoryImpl {\n\n    /**\n     * Class Constructor.\n     *\n     * @return Message1_1Impl\n     * @throws SOAPException when there is a SOAP error.\n     */\n    @Override\n    public SOAPMessage createMessage() throws SOAPException {\n        return new Message1_1Impl();\n    }\n\n    /**\n     * Create a new message.\n     *\n     * @param mimeHeaders headers to add to the message\n     * @param in input stream to use in the message.\n     * @return New SOAP 1.1 message.\n     * @throws IOException when there is an IO error\n     * @throws SOAPException when there is a SOAP error\n     */\n    @Override\n    public SOAPMessage createMessage(final MimeHeaders mimeHeaders, final InputStream in)\n            throws IOException, SOAPException {\n        MimeHeaders headers = mimeHeaders;\n        if (headers == null) {\n            headers = new MimeHeaders();\n        }\n        headers.setHeader(\"Content-Type\", \"text/xml\");\n\n        Message1_1Impl msg = new Message1_1Impl(headers, in);\n        msg.setLazyAttachments(this.lazyAttachments);\n        return msg;\n    }\n}\n</code></pre>\n\n<p>Here's the custom httpClientFactory class</p>\n\n<pre><code>package com.myorg.http;\n\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.Credentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.config.SocketConfig;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.springframework.beans.factory.FactoryBean;\n\n/**\n * Provide an HttpClient factory bean, so we can configure the ODE web service client to use TLS1.1 and TLS1.2.\n */\npublic class HttpClientFactoryBean implements FactoryBean&lt;HttpClient&gt; {\n    /**\n     * Default socket timeout will be 15 seconds.\n     */\n    private static final int DEFAULT_READ_TIMEOUT_MILLISECONDS = (15 * 1000);\n\n    /**\n     * Max connections defaults to 5.\n     */\n    private static final int MAX_CONNECTIONS = 5;\n\n    /**\n     * Local storage for credentials.\n     */\n    private Credentials credentials;\n\n    @Override\n    public HttpClient getObject() throws Exception {\n        HttpClientBuilder builder = HttpClientBuilder.create();\n\n        SocketConfig socketConfig = SocketConfig.custom()\n                .setSoTimeout(DEFAULT_READ_TIMEOUT_MILLISECONDS)\n                .build();\n\n        builder.useSystemProperties()\n                .setMaxConnTotal(MAX_CONNECTIONS)\n                .setDefaultSocketConfig(socketConfig);\n\n        if (credentials != null) {\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n            credentialsProvider.setCredentials(AuthScope.ANY, credentials);\n            builder.setDefaultCredentialsProvider(credentialsProvider);\n        }\n\n        return builder.build();\n    }\n\n    @Override\n    public Class&lt;?&gt; getObjectType() {\n        return HttpClient.class;\n    }\n\n    @Override\n    public boolean isSingleton() {\n        return true;\n    }\n\n    public Credentials getCredentials() {\n        return credentials;\n    }\n\n    public void setCredentials(final Credentials credentials) {\n        this.credentials = credentials;\n    }\n}\n</code></pre>\n\n<p>The problem that I'm seeing is that the Authorization header doesn't seem to be set on the request.  What am I missing?</p>\n"},{"tags":["java","spring-boot","caching","spring-el","spring-framework-beans"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680077288,"post_id":75874522,"comment_id":133833994,"body_markdown":"Your analysis of the issue is wrong. It isn&#39;t about it being a `String` or `String[]` it is complaining about your expression. I would expect that just `${property.cache}` should work (if SpEL works this should work as well). Spring will do the conversion to an array.","body":"Your analysis of the issue is wrong. It isn&#39;t about it being a <code>String</code> or <code>String[]</code> it is complaining about your expression. I would expect that just <code>${property.cache}</code> should work (if SpEL works this should work as well). Spring will do the conversion to an array."},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680092444,"post_id":75874522,"comment_id":133837856,"body_markdown":"Thanks for reaching out to help, I really appreciate it. How would you suggest I write it? I tried to write something like this @CacheEvict(value = &quot;${property.cache}&quot;, allEntries = true) but I got an error message &quot;Cannot find cache named &#39;${property.cache}&#39; &quot;... Looks like it took the content as a string instead of an array","body":"Thanks for reaching out to help, I really appreciate it. How would you suggest I write it? I tried to write something like this @CacheEvict(value = &quot;${property.cache}&quot;, allEntries = true) but I got an error message &quot;Cannot find cache named &#39;${property.cache}&#39; &quot;... Looks like it took the content as a string instead of an array"},{"owner":{"account_id":391375,"reputation":1507,"user_id":751992,"display_name":"Sampisa"},"score":0,"creation_date":1680095812,"post_id":75874522,"comment_id":133838912,"body_markdown":"Try to use Property.cache = {&#39;name1&#39;,&#39;name2&#39;,&#39;...&#39;,&#39;nameN&#39;} then use value=&quot;#{${Property.cache}}&quot;\nSee https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/59969974#59969974","body":"Try to use Property.cache = {&#39;name1&#39;,&#39;name2&#39;,&#39;...&#39;,&#39;nameN&#39;} then use value=&quot;#{${Property.cache}}&quot; See <a href=\"https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/59969974#59969974\" title=\"reading a list from properties file and load with spring annotation value\">stackoverflow.com/questions/12576156/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680113072,"post_id":75874522,"comment_id":133843921,"body_markdown":"Apparently SpEL works but a value expression doesn&#39;t, have you tried `#{${property.cache}}`? And if that fails try `#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}` as the current expression you have isn&#39;t really a valid one. But that shouldn&#39;t be needed and Spring should be able to convert the resulting `String` into a `String[]` itself.","body":"Apparently SpEL works but a value expression doesn&#39;t, have you tried <code>#{${property.cache}}</code>? And if that fails try <code>#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}</code> as the current expression you have isn&#39;t really a valid one. But that shouldn&#39;t be needed and Spring should be able to convert the resulting <code>String</code> into a <code>String[]</code> itself."},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680164361,"post_id":75874522,"comment_id":133852427,"body_markdown":"Hi trying with &#39;#{${Property.cache}}&#39; throws the following error....Cannot find cache named &#39;#{${Property.cache}}&#39; for Builder[public void com.exe.configuration.CacheConfig.evictCache()] caches=[#{${Property.cache}}] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;,true,false... The version #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} does the same error but on the log you have caches=[#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}] ... The fact is that those methods would work in a scenario when you have @Value(&quot;${property.cache}&#39;&quot;)String[] array; but @Value has a String parameter","body":"Hi trying with &#39;#{${Property.cache}}&#39; throws the following error....Cannot find cache named &#39;#{${Property.cache}}&#39; for Builder[public void com.exe.configuration.CacheConfig.evictCache()] caches=[#{${Property.cache}}] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;,true,false... The version #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} does the same error but on the log you have caches=[#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}] ... The fact is that those methods would work in a scenario when you have @Value(&quot;${property.cache}&#39;&quot;)String[] array; but @Value has a String parameter"},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680164913,"post_id":75874522,"comment_id":133852544,"body_markdown":"@CacheEvict(value = &quot;String[]&quot;, key=&quot;String&quot;) in this case the #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} has effect on key, i&#39;ve tryed, but doesn&#39;t seem to have effect in value. So that&#39;s why I came to the conclusion that the fact of being an array has an impact.. I might be wrong","body":"@CacheEvict(value = &quot;String[]&quot;, key=&quot;String&quot;) in this case the #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} has effect on key, i&#39;ve tryed, but doesn&#39;t seem to have effect in value. So that&#39;s why I came to the conclusion that the fact of being an array has an impact.. I might be wrong"}],"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680076327,"creation_date":1680076327,"question_id":75874522,"body_markdown":"This is the set up\r\n\r\napplication.properties\r\n\r\n```\r\nProperty.cache = name1,name2,...,nameN\r\n```\r\nCacheManager.java\r\n```\r\n[...]\r\n@Scheduler(time_of_schedule)\r\n@CacheEvict(value=&quot;#&#39;${property.cache}.split()&#39;&quot;)\r\nvoid dueCache(){\r\n    log.info(&quot;cache clean&quot;);\r\n}\r\n[...]\r\n```\r\n\r\nThe issue is that **@CacheEvict value** throws `nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;property.cache&#39;.split(&#39;,&#39;)&#39; in value &quot;#{&#39;${property.cache&#39;.split(&#39;,&#39;)}&quot;` this is because value is a `String[]` normally this would work with `String` attributes.\r\nIs there any way to do it with SpEL?\r\n\r\n\r\nI tryed with 4 ways:\r\n1. `@CacheEvict(value = &quot;#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}&quot;, allEntries = true)`\r\n2. `@CacheEvict(value = &quot;#{T(java.util.Arrays).asList(#root.getProperty(&#39;property.cache&#39;).split(&#39;,&#39;))}&quot;, allEntries = true)`\r\n3. `@CacheEvict(value = {&quot;cache1&quot;,&quot;cache2&quot;}, allEntries = true)`\r\n4. `@CacheEvict(value = &quot;cache1&quot;, allEntries = true)`\r\n\r\nThe options 1 and 2 would work if **value** was a `String value()` but value is defined as `String[] value()`.\r\nThe options 3 and 4 work, but is unresonable to write `value = {&quot;cache1&quot;,&quot;cache2&quot;,.....,&quot;cachen&quot;}` if there is a way to use properties.","title":"@CacheEvict value population","body":"<p>This is the set up</p>\n<p>application.properties</p>\n<pre><code>Property.cache = name1,name2,...,nameN\n</code></pre>\n<p>CacheManager.java</p>\n<pre><code>[...]\n@Scheduler(time_of_schedule)\n@CacheEvict(value=&quot;#'${property.cache}.split()'&quot;)\nvoid dueCache(){\n    log.info(&quot;cache clean&quot;);\n}\n[...]\n</code></pre>\n<p>The issue is that <strong>@CacheEvict value</strong> throws <code>nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'property.cache'.split(',')' in value &quot;#{'${property.cache'.split(',')}&quot;</code> this is because value is a <code>String[]</code> normally this would work with <code>String</code> attributes.\nIs there any way to do it with SpEL?</p>\n<p>I tryed with 4 ways:</p>\n<ol>\n<li><code>@CacheEvict(value = &quot;#{'${property.cache}'.split(',')}&quot;, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = &quot;#{T(java.util.Arrays).asList(#root.getProperty('property.cache').split(','))}&quot;, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = {&quot;cache1&quot;,&quot;cache2&quot;}, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = &quot;cache1&quot;, allEntries = true)</code></li>\n</ol>\n<p>The options 1 and 2 would work if <strong>value</strong> was a <code>String value()</code> but value is defined as <code>String[] value()</code>.\nThe options 3 and 4 work, but is unresonable to write <code>value = {&quot;cache1&quot;,&quot;cache2&quot;,.....,&quot;cachen&quot;}</code> if there is a way to use properties.</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":32118,"reputation":3589,"user_id":88764,"display_name":"Larry Shatzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441739833,"creation_date":1441738924,"answer_id":32465351,"question_id":32465201,"body_markdown":"If you are using the [Maven Shade Plugin][1], you can a [filter][2], which will allow you to filter which artifacts get shaded, but as well as which classes to exclude or include.\r\n\r\nHere&#39;s the example they provide:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filters&gt;\r\n      &lt;filter&gt;\r\n        &lt;artifact&gt;junit:junit&lt;/artifact&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;org/junit/**&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;org/junit/experimental/**&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/filter&gt;\r\n    &lt;/filters&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters","title":"Maven Get Specific Classes","body":"<p>If you are using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow\">Maven Shade Plugin</a>, you can a <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters\" rel=\"nofollow\">filter</a>, which will allow you to filter which artifacts get shaded, but as well as which classes to exclude or include.</p>\n\n<p>Here's the example they provide:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filters&gt;\n  &lt;filter&gt;\n    &lt;artifact&gt;junit:junit&lt;/artifact&gt;\n    &lt;includes&gt;\n      &lt;include&gt;org/junit/**&lt;/include&gt;\n    &lt;/includes&gt;\n    &lt;excludes&gt;\n      &lt;exclude&gt;org/junit/experimental/**&lt;/exclude&gt;\n    &lt;/excludes&gt;\n  &lt;/filter&gt;\n&lt;/filters&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1447865578,"creation_date":1441739480,"answer_id":32465474,"question_id":32465201,"body_markdown":"You should be able to use the [maven-dependency-plugin](http://maven.apache.org/plugins/maven-dependency-plugin/usage.html#The_dependency%3aunpack_mojo) like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;&lt;!--dependency groupId--&gt;&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;&lt;!--dependency artifactId--&gt;&lt;/artifactId&gt;\r\n                                    &lt;version&gt;&lt;!--depedency version--&gt;&lt;/version&gt;\r\n                                    &lt;includes&gt;**/*Client*.java&lt;/includes&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven Get Specific Classes","body":"<p>You should be able to use the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/usage.html#The_dependency%3aunpack_mojo\" rel=\"noreferrer\">maven-dependency-plugin</a> like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;unpack&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;unpack&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;&lt;!--dependency groupId--&gt;&lt;/groupId&gt;\n                                &lt;artifactId&gt;&lt;!--dependency artifactId--&gt;&lt;/artifactId&gt;\n                                &lt;version&gt;&lt;!--depedency version--&gt;&lt;/version&gt;\n                                &lt;includes&gt;**/*Client*.java&lt;/includes&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":5430705,"reputation":354,"user_id":4321681,"accept_rate":100,"display_name":"sinisterrook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10220,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":32465474,"answer_count":2,"score":10,"last_activity_date":1680075903,"creation_date":1441738420,"question_id":32465201,"body_markdown":"Is there a way that I can get maven to only include specific .class files when importing dependencies into uber jar (shade).  I&#39;m looking for a way to get files that contain &quot;Client&quot; in their name to be pulled out of the dependency jars and added to the final jar.  Any help would be wonderful.","title":"Maven Get Specific Classes","body":"<p>Is there a way that I can get maven to only include specific .class files when importing dependencies into uber jar (shade).  I'm looking for a way to get files that contain \"Client\" in their name to be pulled out of the dependency jars and added to the final jar.  Any help would be wonderful.</p>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"score":1,"creation_date":1680196837,"post_id":75874294,"comment_id":133861347,"body_markdown":"Thank you very much for this hint. This solves my problem. Didn&#39;t see that I seem to have been using a deprecated property:  https://github.com/quarkusio/quarkus/issues/22101","body":"Thank you very much for this hint. This solves my problem. Didn&#39;t see that I seem to have been using a deprecated property:  <a href=\"https://github.com/quarkusio/quarkus/issues/22101\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/22101</a>"}],"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074662,"creation_date":1680074662,"answer_id":75874294,"question_id":75873719,"body_markdown":"`org.eclipse.microprofile.config.inject.@ConfigProperties` should be replaced by `io.smallrye.config.@ConfigMapping` (as per documentation)","title":"Quarkus UnsatisfiedResolution Exception for ConfigProperties as Object","body":"<p><code>org.eclipse.microprofile.config.inject.@ConfigProperties</code> should be replaced by <code>io.smallrye.config.@ConfigMapping</code> (as per documentation)</p>\n"}],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874294,"answer_count":1,"score":0,"last_activity_date":1680074662,"creation_date":1680070395,"question_id":75873719,"body_markdown":"I&#39;d like to inject my quarkus configuraition as an object as described here:\r\nhttps://quarkus.io/guides/config-mappings\r\n\r\nBut somehow Quarkus CDI does not find my configuration bean. I get the error message:\r\n\r\n````\r\njavax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.liquido.util.LiquidoConfig and qualifiers [@Default]\r\n````\r\n\r\n`LiquidoConfig.java`\r\n````\r\n@StaticInitSafe     // &lt;=== adding this also didn&#39;t help\r\n@ConfigProperties(prefix = &quot;liquido&quot;)\r\npublic interface LiquidoConfig {\r\n    public String frontendUrl();\r\n    public int loginLinkExpirationHours();\r\n\r\n    public Jwt jwt();\r\n    public interface Jwt {\r\n        public String secret();\r\n        public Long expirationSecs();\r\n    }\r\n\r\n}\r\n````\r\n\r\nAnd in my Service:\r\n\r\n````\r\n@ApplicationScoped\r\npublic void SomeService {\r\n\t@Inject\r\n\tLiquidoConfig config;   // &lt;=== this fails???\r\n}\r\n````\r\n\r\nI also tried to add @ApplicationScope to LiquidoConfig, although i wouldn&#39;t think this is necessary. But also doesn&#39;t help.\r\n\r\nI can inject my configuration properties individually as:\r\n\r\n\t@ConfigProperty(name = &quot;liquido.jwt.expirationSecs&quot;)\r\n\tLong expirationSecs;\r\n\r\nThis works. But not as one object.","title":"Quarkus UnsatisfiedResolution Exception for ConfigProperties as Object","body":"<p>I'd like to inject my quarkus configuraition as an object as described here:\n<a href=\"https://quarkus.io/guides/config-mappings\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config-mappings</a></p>\n<p>But somehow Quarkus CDI does not find my configuration bean. I get the error message:</p>\n<pre><code>javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.liquido.util.LiquidoConfig and qualifiers [@Default]\n</code></pre>\n<p><code>LiquidoConfig.java</code></p>\n<pre><code>@StaticInitSafe     // &lt;=== adding this also didn't help\n@ConfigProperties(prefix = &quot;liquido&quot;)\npublic interface LiquidoConfig {\n    public String frontendUrl();\n    public int loginLinkExpirationHours();\n\n    public Jwt jwt();\n    public interface Jwt {\n        public String secret();\n        public Long expirationSecs();\n    }\n\n}\n</code></pre>\n<p>And in my Service:</p>\n<pre><code>@ApplicationScoped\npublic void SomeService {\n    @Inject\n    LiquidoConfig config;   // &lt;=== this fails???\n}\n</code></pre>\n<p>I also tried to add @ApplicationScope to LiquidoConfig, although i wouldn't think this is necessary. But also doesn't help.</p>\n<p>I can inject my configuration properties individually as:</p>\n<pre><code>@ConfigProperty(name = &quot;liquido.jwt.expirationSecs&quot;)\nLong expirationSecs;\n</code></pre>\n<p>This works. But not as one object.</p>\n"},{"tags":["java","hibernate","jpa","web-development-server"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680024273,"post_id":75869234,"comment_id":133825109,"body_markdown":"What error message/stacktrace are you getting?","body":"What error message/stacktrace are you getting?"},{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1680028143,"post_id":75869234,"comment_id":133826073,"body_markdown":"@JohnWilliams sorry, I added it now.","body":"@JohnWilliams sorry, I added it now."}],"answers":[{"comments":[{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1680083684,"post_id":75874293,"comment_id":133835672,"body_markdown":"Tried, but doesn&#39;t work, I think that I probably should use only persistence.xml or hibernate.cfg.xml; anyway don&#39;t know what should I use/prefer.","body":"Tried, but doesn&#39;t work, I think that I probably should use only persistence.xml or hibernate.cfg.xml; anyway don&#39;t know what should I use/prefer."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680074650,"creation_date":1680074650,"answer_id":75874293,"question_id":75869234,"body_markdown":"Your GenerationType of IDENTITY and the column definition of AUTO_INCREMENT looks [correct for MySQL][1]\r\n\r\nTry the following:\r\n\r\n    @Column(name = &quot;todo_id&quot;, updatable = false, nullable = false)\r\n\r\nIt is strange for me that you have the JPA annotations and hbm.xml but that might be because I only work with JPA. Possibly the hbm.xml takes precedence over the JPA annotations, [try][2]:\r\n\r\n    &lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;todo_id&quot;&gt;\r\n        &lt;generator class=&quot;identity&quot;/&gt;\r\n    &lt;/id&gt;\r\n\r\n\r\n  [1]: https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\r\n  [2]: https://www.javatpoint.com/generator-classes","title":"Hibernate - Primary key issuses - Persisting object to mySQL database don&#39;t work","body":"<p>Your GenerationType of IDENTITY and the column definition of AUTO_INCREMENT looks <a href=\"https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\" rel=\"nofollow noreferrer\">correct for MySQL</a></p>\n<p>Try the following:</p>\n<pre><code>@Column(name = &quot;todo_id&quot;, updatable = false, nullable = false)\n</code></pre>\n<p>It is strange for me that you have the JPA annotations and hbm.xml but that might be because I only work with JPA. Possibly the hbm.xml takes precedence over the JPA annotations, <a href=\"https://www.javatpoint.com/generator-classes\" rel=\"nofollow noreferrer\">try</a>:</p>\n<pre><code>&lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;todo_id&quot;&gt;\n    &lt;generator class=&quot;identity&quot;/&gt;\n&lt;/id&gt;\n</code></pre>\n"}],"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680074650,"creation_date":1680023948,"question_id":75869234,"body_markdown":"I&#39;m developing a &#39;&#39;&#39;simple&#39;&#39;&#39; web application project and to handle model and database I&#39;m using Hibernate; in particular this is a block notes app online, so in the database I have a user table and a todo table:\r\n\r\n```\r\nCREATE DATABASE IF NOT EXISTS `to-do-app`;\r\nUSE `to-do-app`;\r\n\r\nCREATE TABLE `user`(\r\n    username\tVARCHAR(20) \tNOT NULL,\r\n    `password`\tVARCHAR(30) \tNOT NULL,\r\n    PRIMARY KEY(username)\r\n);\r\n\r\nCREATE TABLE todo (\r\n    todo_id\t\tINT \t\tAUTO_INCREMENT,\r\n    user_id\t\tVARCHAR(20),\r\n    content\t\tTEXT,\r\n    done        boolean,\r\n    PRIMARY KEY(todo_id),\r\n    FOREIGN KEY (user_id) REFERENCES `user`(username)\r\n);\r\n\r\n```\r\n***PROBLEM***\r\nI&#39;m having issues with todo table in Java when I perform testing on the classes that handle the table.\r\n\r\nThe following classes are the ones I&#39;m using: \r\n**TestTodoRepository**\r\n\r\n```\r\nimport com.example.todoapp.model.TodoRepository;\r\nimport com.example.todoapp.model.beans.Todo;\r\nimport com.example.todoapp.model.beans.User;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.junit.Assert;\r\nimport org.junit.FixMethodOrder;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.runners.MethodSorters;\r\n\r\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\npublic class TestTodoRepository {\r\n    private static SessionFactory sessionFactory = null;\r\n    private Session session = null;\r\n\r\n    @BeforeAll\r\n    static void setupFactory() {\r\n        sessionFactory = TestConfig.setupFactory(Todo.class);\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupSession() {\r\n        session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n    }\r\n\r\n    @AfterEach\r\n    void closeSession() {session.getTransaction().commit();}\r\n\r\n    @AfterAll\r\n    static void closeFactory() {\r\n        sessionFactory.close();\r\n    }\r\n\r\n    @Test\r\n    public void test1AddTodo() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        //  Try adding to-do to user that exists\r\n        Todo todo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\r\n        System.out.println(&quot;I will add: &quot; + todo);\r\n        Assert.assertTrue(todoRepository.addTodo(todo));\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n    @Test\r\n    public void test2ExistsTodo() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        //  Try finding existing to-do\r\n        Todo toDo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\r\n        Assert.assertTrue(todoRepository.existsTodo(toDo));\r\n\r\n        //  Try finding not existing to-do\r\n\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n    @Test\r\n    public void test3GetTodosForUser() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        User test_user = new User(&quot;antonino&quot;, &quot;antonino&quot;);\r\n        Assert.assertNotNull(todoRepository.getTodosForUser(test_user));\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n**TODO**\r\n\r\n```\r\npackage com.example.todoapp.model.beans;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\n@Entity(name = &quot;todo&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class Todo {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    @Column(name = &quot;todo_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    /*@ManyToOne(cascade = CascadeType.PERSIST)*/\r\n    private String user_id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;done&quot;)\r\n    private boolean done;\r\n\r\n    public Todo(String user_id, String content) {\r\n        this.user_id = user_id;\r\n        this.content = content;\r\n        this.done = false;\r\n    }\r\n}\r\n\r\n```\r\n**TodoRepository**\r\n\r\n```\r\npackage com.example.todoapp.model;\r\n\r\nimport com.example.todoapp.model.beans.Todo;\r\nimport com.example.todoapp.model.beans.User;\r\nimport jakarta.persistence.*;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.Metadata;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TodoRepository extends Repository{\r\n\r\n    public TodoRepository() {super();}\r\n\r\n    /**\r\n     * Add a to-do to the database, used to register new users\r\n     * @param todo: the to-do entity\r\n     * */\r\n    public boolean addTodo(Todo todo) {\r\n        //  if to-do exists can&#39;t add a new one\r\n        if (em.find(Todo.class, todo.getId()) != null)\r\n            return false;\r\n\r\n        try {\r\n            em.getTransaction().begin();\r\n            em.persist(todo);\r\n            em.getTransaction().commit();\r\n        } catch (EntityExistsException ex) { return false; }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Checks if a to-do exists in a database\r\n     * @param todo : contains credentials to test\r\n     * */\r\n    public boolean existsTodo(Todo todo) {\r\n        return em.find(Todo.class, todo.getId()) != null;\r\n    }\r\n\r\n    /**\r\n     * WORK IN PROGRESS\r\n     * Gets to-do list based on user id (username)\r\n     * @param user : the owning the to-do\r\n     * */\r\n    public\r\n    List&lt;Todo&gt; getTodosForUser(User user) {\r\n        List&lt;Todo&gt; toDos;\r\n\r\n        try {\r\n            Query findToDos = em.createNativeQuery(&quot;SELECT * FROM todo WHERE todo.user_id = :user_id&quot;);\r\n            findToDos.setParameter(&quot;user_id&quot;, user.getUsername());\r\n\r\n            toDos = (List&lt;Todo&gt;) findToDos.getResultList();\r\n            for(Todo t : toDos)\r\n                System.out.println(t);\r\n\r\n            return toDos;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void closeTodoRepository() {\r\n        super.closeEntityManager();\r\n        super.closeEntityManagerFactory();\r\n    }\r\n}\r\n\r\n```\r\n**Repository**\r\n\r\n```\r\npackage com.example.todoapp.model;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\n\r\n/**\r\n * Abstract class that represents a repository of a database entity\r\n * */\r\npublic abstract class Repository {\r\n    protected final EntityManager em;\r\n    protected final EntityManagerFactory emf;\r\n\r\n    public Repository() {\r\n        this.emf = Persistence.createEntityManagerFactory(&quot;to-do-app&quot;);\r\n        this.em = emf.createEntityManager();\r\n    }\r\n\r\n    protected void closeEntityManager() {\r\n        em.close();\r\n    }\r\n\r\n    protected void closeEntityManagerFactory() {\r\n        emf.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI think that also the following configuration files and stack trace will be needed: \r\n**Stack trace**\r\n```\r\njava.lang.IllegalArgumentException: id to load is required for loading\r\n\r\n\tat org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:96)\r\n\tat org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:62)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2298)\r\n\tat com.example.todoapp.model.TodoRepository.addTodo(TodoRepository.java:28)\r\n\tat TestTodoRepository.test1AddTodo(TestTodoRepository.java:46)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n**Todo.hbm.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n    &lt;!-- name:full path to class:--&gt;\r\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\r\n    &lt;class name=&quot;com.example.todoapp.model.beans.Todo&quot; table=&quot;todo&quot;&gt;\r\n        &lt;!--Primary key--&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot; column=&quot;todo_id&quot;&gt;&lt;/id&gt;\r\n\r\n        &lt;!-- Attributes --&gt;\r\n        &lt;property name=&quot;user_id&quot; column=&quot;user_id&quot; type=&quot;java.lang.String&quot;/&gt;\r\n        &lt;property name=&quot;content&quot; column=&quot;content&quot; type=&quot;java.lang.String&quot;/&gt;\r\n        &lt;property name=&quot;done&quot; column=&quot;done&quot; type=&quot;java.lang.Boolean&quot;/&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n**hibernate.cfg.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- jdbc driver --&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/to-do-app&lt;/property&gt;\r\n        &lt;!-- database url --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;myroot&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;mypassword&lt;/property&gt;\r\n\r\n\r\n        &lt;!-- Load map file --&gt;\r\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/User.hbm.xml&quot;/&gt;\r\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/Todo.hbm.xml&quot;/&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n**persistence.xml**\r\n\r\n```\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.1&quot;&gt;\r\n    &lt;persistence-unit name=&quot;to-do-app&quot;&gt;\r\n        &lt;!-- Implementation for JPA Provider --&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\n        &lt;!-- persistence properties configuration --&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- jdbc driver --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;!-- database url --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/to-do-app&quot;/&gt;\r\n            &lt;!-- database username --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;myroot&quot;/&gt;\r\n            &lt;!-- database password --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;mypassword&quot;/&gt;\r\n            \r\n            &lt;!-- other properties --&gt;\r\n            &lt;!--Print sql statement--&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;false&quot; /&gt;\r\n            &lt;!--Format sql--&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value = &quot;true&quot; /&gt;\r\n\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n**FolderStructure**\r\n\r\n[![enter image description here](https://i.stack.imgur.com/9x35Y.png)](https://i.stack.imgur.com/9x35Y.png)\r\n\r\n","title":"Hibernate - Primary key issuses - Persisting object to mySQL database don&#39;t work","body":"<p>I'm developing a '''simple''' web application project and to handle model and database I'm using Hibernate; in particular this is a block notes app online, so in the database I have a user table and a todo table:</p>\n<pre><code>CREATE DATABASE IF NOT EXISTS `to-do-app`;\nUSE `to-do-app`;\n\nCREATE TABLE `user`(\n    username    VARCHAR(20)     NOT NULL,\n    `password`  VARCHAR(30)     NOT NULL,\n    PRIMARY KEY(username)\n);\n\nCREATE TABLE todo (\n    todo_id     INT         AUTO_INCREMENT,\n    user_id     VARCHAR(20),\n    content     TEXT,\n    done        boolean,\n    PRIMARY KEY(todo_id),\n    FOREIGN KEY (user_id) REFERENCES `user`(username)\n);\n\n</code></pre>\n<p><em><strong>PROBLEM</strong></em>\nI'm having issues with todo table in Java when I perform testing on the classes that handle the table.</p>\n<p>The following classes are the ones I'm using:\n<strong>TestTodoRepository</strong></p>\n<pre><code>import com.example.todoapp.model.TodoRepository;\nimport com.example.todoapp.model.beans.Todo;\nimport com.example.todoapp.model.beans.User;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.junit.Assert;\nimport org.junit.FixMethodOrder;\nimport org.junit.Test;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.runners.MethodSorters;\n\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class TestTodoRepository {\n    private static SessionFactory sessionFactory = null;\n    private Session session = null;\n\n    @BeforeAll\n    static void setupFactory() {\n        sessionFactory = TestConfig.setupFactory(Todo.class);\n    }\n\n    @BeforeEach\n    void setupSession() {\n        session = sessionFactory.openSession();\n        session.beginTransaction();\n    }\n\n    @AfterEach\n    void closeSession() {session.getTransaction().commit();}\n\n    @AfterAll\n    static void closeFactory() {\n        sessionFactory.close();\n    }\n\n    @Test\n    public void test1AddTodo() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        //  Try adding to-do to user that exists\n        Todo todo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\n        System.out.println(&quot;I will add: &quot; + todo);\n        Assert.assertTrue(todoRepository.addTodo(todo));\n\n        todoRepository.closeTodoRepository();\n    }\n\n    @Test\n    public void test2ExistsTodo() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        //  Try finding existing to-do\n        Todo toDo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\n        Assert.assertTrue(todoRepository.existsTodo(toDo));\n\n        //  Try finding not existing to-do\n\n\n        todoRepository.closeTodoRepository();\n    }\n\n    @Test\n    public void test3GetTodosForUser() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        User test_user = new User(&quot;antonino&quot;, &quot;antonino&quot;);\n        Assert.assertNotNull(todoRepository.getTodosForUser(test_user));\n\n        todoRepository.closeTodoRepository();\n    }\n\n\n}\n\n</code></pre>\n<p><strong>TODO</strong></p>\n<pre><code>package com.example.todoapp.model.beans;\n\nimport jakarta.persistence.*;\nimport lombok.*;\n\n@Entity(name = &quot;todo&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class Todo {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name = &quot;todo_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;user_id&quot;)\n    /*@ManyToOne(cascade = CascadeType.PERSIST)*/\n    private String user_id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;done&quot;)\n    private boolean done;\n\n    public Todo(String user_id, String content) {\n        this.user_id = user_id;\n        this.content = content;\n        this.done = false;\n    }\n}\n\n</code></pre>\n<p><strong>TodoRepository</strong></p>\n<pre><code>package com.example.todoapp.model;\n\nimport com.example.todoapp.model.beans.Todo;\nimport com.example.todoapp.model.beans.User;\nimport jakarta.persistence.*;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\n\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TodoRepository extends Repository{\n\n    public TodoRepository() {super();}\n\n    /**\n     * Add a to-do to the database, used to register new users\n     * @param todo: the to-do entity\n     * */\n    public boolean addTodo(Todo todo) {\n        //  if to-do exists can't add a new one\n        if (em.find(Todo.class, todo.getId()) != null)\n            return false;\n\n        try {\n            em.getTransaction().begin();\n            em.persist(todo);\n            em.getTransaction().commit();\n        } catch (EntityExistsException ex) { return false; }\n        return true;\n    }\n\n    /**\n     * Checks if a to-do exists in a database\n     * @param todo : contains credentials to test\n     * */\n    public boolean existsTodo(Todo todo) {\n        return em.find(Todo.class, todo.getId()) != null;\n    }\n\n    /**\n     * WORK IN PROGRESS\n     * Gets to-do list based on user id (username)\n     * @param user : the owning the to-do\n     * */\n    public\n    List&lt;Todo&gt; getTodosForUser(User user) {\n        List&lt;Todo&gt; toDos;\n\n        try {\n            Query findToDos = em.createNativeQuery(&quot;SELECT * FROM todo WHERE todo.user_id = :user_id&quot;);\n            findToDos.setParameter(&quot;user_id&quot;, user.getUsername());\n\n            toDos = (List&lt;Todo&gt;) findToDos.getResultList();\n            for(Todo t : toDos)\n                System.out.println(t);\n\n            return toDos;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;\n        }\n    }\n\n    public void closeTodoRepository() {\n        super.closeEntityManager();\n        super.closeEntityManagerFactory();\n    }\n}\n\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>package com.example.todoapp.model;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\n\n/**\n * Abstract class that represents a repository of a database entity\n * */\npublic abstract class Repository {\n    protected final EntityManager em;\n    protected final EntityManagerFactory emf;\n\n    public Repository() {\n        this.emf = Persistence.createEntityManagerFactory(&quot;to-do-app&quot;);\n        this.em = emf.createEntityManager();\n    }\n\n    protected void closeEntityManager() {\n        em.close();\n    }\n\n    protected void closeEntityManagerFactory() {\n        emf.close();\n    }\n}\n\n</code></pre>\n<p>I think that also the following configuration files and stack trace will be needed:\n<strong>Stack trace</strong></p>\n<pre><code>java.lang.IllegalArgumentException: id to load is required for loading\n\n    at org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:96)\n    at org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:62)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2298)\n    at com.example.todoapp.model.TodoRepository.addTodo(TodoRepository.java:28)\n    at TestTodoRepository.test1AddTodo(TestTodoRepository.java:46)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p><strong>Todo.hbm.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;!-- name:full path to class:--&gt;\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\n    &lt;class name=&quot;com.example.todoapp.model.beans.Todo&quot; table=&quot;todo&quot;&gt;\n        &lt;!--Primary key--&gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot; column=&quot;todo_id&quot;&gt;&lt;/id&gt;\n\n        &lt;!-- Attributes --&gt;\n        &lt;property name=&quot;user_id&quot; column=&quot;user_id&quot; type=&quot;java.lang.String&quot;/&gt;\n        &lt;property name=&quot;content&quot; column=&quot;content&quot; type=&quot;java.lang.String&quot;/&gt;\n        &lt;property name=&quot;done&quot; column=&quot;done&quot; type=&quot;java.lang.Boolean&quot;/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- jdbc driver --&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/to-do-app&lt;/property&gt;\n        &lt;!-- database url --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;myroot&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;mypassword&lt;/property&gt;\n\n\n        &lt;!-- Load map file --&gt;\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/User.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/Todo.hbm.xml&quot;/&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.1&quot;&gt;\n    &lt;persistence-unit name=&quot;to-do-app&quot;&gt;\n        &lt;!-- Implementation for JPA Provider --&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;!-- persistence properties configuration --&gt;\n        &lt;properties&gt;\n            &lt;!-- jdbc driver --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;!-- database url --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/to-do-app&quot;/&gt;\n            &lt;!-- database username --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;myroot&quot;/&gt;\n            &lt;!-- database password --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;mypassword&quot;/&gt;\n            \n            &lt;!-- other properties --&gt;\n            &lt;!--Print sql statement--&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;false&quot; /&gt;\n            &lt;!--Format sql--&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value = &quot;true&quot; /&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>FolderStructure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9x35Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9x35Y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm","sandbox","sandbox-solution"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1446660836,"creation_date":1446660836,"answer_id":33529113,"question_id":33529096,"body_markdown":"That&#39;s what [SecurityManager][1] is for.\r\n\r\nThey even have a [tutorial][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityManager.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/security.html","title":"jvm sandbox for java application","body":"<p>That's what <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityManager.html\" rel=\"nofollow\">SecurityManager</a> is for.</p>\n\n<p>They even have a <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/security.html\" rel=\"nofollow\">tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446688116,"creation_date":1446688116,"answer_id":33535317,"question_id":33529096,"body_markdown":"In addition to the JVM&#39;s security manager you can also use OS-specific security mechanisms. The simplest is running the JVM under a separate user.\r\n\r\nMore advanced isolation techniques exist on various platforms. For example linux has seccomp-bpf, namespaces, selinux, capabilities and various other things. [Firejail][1] and [systemd-nspawn][2] make use of them.\r\n\r\n\r\n  [1]: https://l3net.wordpress.com/projects/firejail/\r\n  [2]: http://www.freedesktop.org/software/systemd/man/systemd-nspawn.html","title":"jvm sandbox for java application","body":"<p>In addition to the JVM's security manager you can also use OS-specific security mechanisms. The simplest is running the JVM under a separate user.</p>\n\n<p>More advanced isolation techniques exist on various platforms. For example linux has seccomp-bpf, namespaces, selinux, capabilities and various other things. <a href=\"https://l3net.wordpress.com/projects/firejail/\" rel=\"nofollow\">Firejail</a> and <a href=\"http://www.freedesktop.org/software/systemd/man/systemd-nspawn.html\" rel=\"nofollow\">systemd-nspawn</a> make use of them.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680509509,"post_id":75874252,"comment_id":133904471,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75874252/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26423974,"reputation":11,"user_id":20071239,"display_name":"Deipss"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680074403,"creation_date":1680074403,"answer_id":75874252,"question_id":33529096,"body_markdown":"Maybe alibaba&#39;s [jvm-sandbox](https://github.com/alibaba/jvm-sandbox) ,you can try.","title":"jvm sandbox for java application","body":"<p>Maybe alibaba's <a href=\"https://github.com/alibaba/jvm-sandbox\" rel=\"nofollow noreferrer\">jvm-sandbox</a> ,you can try.</p>\n"}],"owner":{"account_id":1261634,"reputation":24571,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33529113,"answer_count":3,"score":2,"last_activity_date":1680074403,"creation_date":1446660766,"question_id":33529096,"body_markdown":"Is it possible to implement some kind of JVM sandbox for running application ? I&#39;d like to restrict access of this application for example to files IO, network, etc.\r\n\r\nIs any way to control these resources access for running app inside of JVM in this sandbox ?","title":"jvm sandbox for java application","body":"<p>Is it possible to implement some kind of JVM sandbox for running application ? I'd like to restrict access of this application for example to files IO, network, etc.</p>\n\n<p>Is any way to control these resources access for running app inside of JVM in this sandbox ?</p>\n"},{"tags":["java","if-statement","sonarqube"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1680074555,"post_id":75873582,"comment_id":133833308,"body_markdown":"You should consider throwing away SonarQube. This is a very simple code with no cognitive complexity whatsoever. Solutions suggested by others don&#39;t look less complicated even though they don&#39;t have that many if-statements. That being said.. you may want to consider BeanValidation instead of validating fields manually. Though the fact that your validation uses dynamic values means you&#39;d have to create your own validators &amp; annotations. Still, if this is a very common theme in your project, that would probably simplify things for the readers.","body":"You should consider throwing away SonarQube. This is a very simple code with no cognitive complexity whatsoever. Solutions suggested by others don&#39;t look less complicated even though they don&#39;t have that many if-statements. That being said.. you may want to consider BeanValidation instead of validating fields manually. Though the fact that your validation uses dynamic values means you&#39;d have to create your own validators &amp; annotations. Still, if this is a very common theme in your project, that would probably simplify things for the readers."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074398,"creation_date":1680074398,"answer_id":75874250,"question_id":75873582,"body_markdown":"This looks like it can be extracted as a private method:\r\n\r\n```\r\n// you can probably think of better names than I do\r\nprivate &lt;T&gt; void validateSize(T field, Function&lt;T, Integer&gt; sizeMapper, String validationConstant) {\r\n    if (field != null)\r\n        rejectValueIf(\r\n            sizeMapper.apply(field)\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            validationConstant,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n}\r\n```\r\n\r\nI have assumed that things like `ValidationConstants.Fields.SEARCH_PARAMETERS` are `String`s. If they are not, please change the type of the third parameter accordingly.\r\n\r\nThen you can just call this method instead of those if-statements.\r\n\r\n```\r\nvalidateSize(body.getCprNumber(), CprNumber::size, \r\n    ValidationConstants.Fields.CPR_NUMBER);\r\n```\r\n\r\nI have assumed that `getCprNumber` returns a `CprNumber`. Again, if it doesn&#39;t, please change `CprNumber::size` to a method reference of the correct type.\r\n\r\nIn cases like `getMaxSize` where you don&#39;t call an additional `size()` or `length()` method, pass `Function.identity()` as the second parameter instead.\r\n\r\n","title":"How to refactor multiple if statements to decrease cognitive complexity","body":"<p>This looks like it can be extracted as a private method:</p>\n<pre><code>// you can probably think of better names than I do\nprivate &lt;T&gt; void validateSize(T field, Function&lt;T, Integer&gt; sizeMapper, String validationConstant) {\n    if (field != null)\n        rejectValueIf(\n            sizeMapper.apply(field)\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n            errors,\n            validationConstant,\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n}\n</code></pre>\n<p>I have assumed that things like <code>ValidationConstants.Fields.SEARCH_PARAMETERS</code> are <code>String</code>s. If they are not, please change the type of the third parameter accordingly.</p>\n<p>Then you can just call this method instead of those if-statements.</p>\n<pre><code>validateSize(body.getCprNumber(), CprNumber::size, \n    ValidationConstants.Fields.CPR_NUMBER);\n</code></pre>\n<p>I have assumed that <code>getCprNumber</code> returns a <code>CprNumber</code>. Again, if it doesn't, please change <code>CprNumber::size</code> to a method reference of the correct type.</p>\n<p>In cases like <code>getMaxSize</code> where you don't call an additional <code>size()</code> or <code>length()</code> method, pass <code>Function.identity()</code> as the second parameter instead.</p>\n"}],"owner":{"account_id":19742037,"reputation":612,"user_id":14455278,"display_name":"FilipA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874250,"answer_count":1,"score":0,"last_activity_date":1680074398,"creation_date":1680069211,"question_id":75873582,"body_markdown":"SonarQube doesn&#39;t allow too many if statements as the cognitive complexity is too high.\r\nWhat would be the best approach to refactor it?\r\n\r\nI have If statements that check if value is not null. If it&#39;s not - it should call `rejectValueIf()` method. \r\n\r\n    if (body.getCprNumber() != null)\r\n        rejectValueIf(\r\n            body.getCprNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.CPR_NUMBER,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getCvrNumber() != null)\r\n        rejectValueIf(\r\n            body.getCvrNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.CVR_NUMBER,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getId() != null)\r\n        rejectValueIf(\r\n            body.getId().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.ID,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSize() != null)\r\n        rejectValueIf(\r\n            body.getSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getNext() != null)\r\n        rejectValueIf(\r\n            body.getNext().length() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.NEXT,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getPage() != null)\r\n        rejectValueIf(\r\n            body.getPage() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.PAGE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSortFields() != null)\r\n        rejectValueIf(\r\n            body.getSortFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SORT_FIELDS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getFields() != null)\r\n        rejectValueIf(\r\n            body.getFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.FIELDS_CONSTANT,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSearchParameters() != null)\r\n        rejectValueIf(\r\n            body.getSearchParameters().size()\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SEARCH_PARAMETERS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getLimitSearchToFields() != null)\r\n        rejectValueIf(\r\n            body.getLimitSearchToFields().size()\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.LIMIT_SEARCH_TO_FIELDS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getMaxSize() != null)\r\n        rejectValueIf(\r\n            body.getMaxSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.MAX_SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getDefaultSize() != null)\r\n        rejectValueIf(\r\n            body.getDefaultSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.DEFAULT_SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n    }\r\n\r\nMy only idea is to make an array with all the values, then check which indexes are not null and then create a switch case loop. Is there some better way?","title":"How to refactor multiple if statements to decrease cognitive complexity","body":"<p>SonarQube doesn't allow too many if statements as the cognitive complexity is too high.\nWhat would be the best approach to refactor it?</p>\n<p>I have If statements that check if value is not null. If it's not - it should call <code>rejectValueIf()</code> method.</p>\n<pre><code>if (body.getCprNumber() != null)\n    rejectValueIf(\n        body.getCprNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.CPR_NUMBER,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getCvrNumber() != null)\n    rejectValueIf(\n        body.getCvrNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.CVR_NUMBER,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getId() != null)\n    rejectValueIf(\n        body.getId().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.ID,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSize() != null)\n    rejectValueIf(\n        body.getSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getNext() != null)\n    rejectValueIf(\n        body.getNext().length() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.NEXT,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getPage() != null)\n    rejectValueIf(\n        body.getPage() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.PAGE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSortFields() != null)\n    rejectValueIf(\n        body.getSortFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SORT_FIELDS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getFields() != null)\n    rejectValueIf(\n        body.getFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.FIELDS_CONSTANT,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSearchParameters() != null)\n    rejectValueIf(\n        body.getSearchParameters().size()\n            &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SEARCH_PARAMETERS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getLimitSearchToFields() != null)\n    rejectValueIf(\n        body.getLimitSearchToFields().size()\n            &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.LIMIT_SEARCH_TO_FIELDS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getMaxSize() != null)\n    rejectValueIf(\n        body.getMaxSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.MAX_SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getDefaultSize() != null)\n    rejectValueIf(\n        body.getDefaultSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.DEFAULT_SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n}\n</code></pre>\n<p>My only idea is to make an array with all the values, then check which indexes are not null and then create a switch case loop. Is there some better way?</p>\n"},{"tags":["java","apache-kafka"],"owner":{"account_id":3073282,"reputation":6108,"user_id":2603345,"accept_rate":77,"display_name":"KurioZ7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073798,"creation_date":1679982452,"question_id":75862699,"body_markdown":"\r\nI have setup a kafka broker based on SASL SCRAM mechanism by using the kafka-docker-playgorund available at https://github.com/vdesabou/kafka-docker-playground. This uses confluent kafka. I am using Ubuntu VM to run this broker. I have used the start.sh script to run the docker compose file available under /environment/sasl-scram folder. This setup uses SASL_PLAINTEXT (without SSL). The server is running without any issues. I am able to create topics and send message to this broker using the control centre UI interface, which is part of the kafka-docker-playground. The only issue I am facing is while trying to connect to this broker from the java code. I keep seeing the following exception.\r\n\r\n\r\n&gt; java.util.concurrent.ExecutionException:org.apache.kafka.common.errors.TimeoutException:\r\n&gt; Topic testtopic not present in metadata after 180000 ms\r\n\r\nFollowing is the Java code. \r\n\r\n    package org.example;\r\n    \r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.Producer;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class KafkaProducerapp {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            String topic = &quot;testtopic&quot;;\r\n            Properties props = new Properties();\r\n    \r\n    \r\n            props.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\r\n     \r\n    \r\n            props.put(&quot;group.id&quot;, &quot;test&quot;);\r\n    \r\n            props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-256&quot;);\r\n            props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\r\n            props.put(&quot;retries&quot;, &quot;2700000&quot;);\r\n            props.put(&quot;retry.backoff.ms=1000&quot;, &quot;2700000&quot;);\r\n            props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + &quot;client&quot; + &quot;\\&quot; password=\\&quot;&quot; + &quot;client-secret&quot; + &quot;\\&quot;;&quot;);\r\n            props.put(&quot;retry.backoff.ms&quot;,&quot;1000&quot;);\r\n            props.put(&quot;batch.size&quot;,&quot;131072&quot;);\r\n            props.put(&quot;buffer.memory&quot;,&quot;66554432&quot;);\r\n            props.put(&quot;compression.type&quot;,&quot;snappy&quot;);\r\n            props.put(&quot;acks&quot;,&quot;all&quot;);\r\n            props.put(&quot;linger.ms&quot;,&quot;100&quot;);\r\n            props.put(&quot;request.timeout.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;enable.idempotence&quot;,&quot;true&quot;);\r\n            props.put(&quot;delivery.timeout.ms&quot;,&quot;180300&quot;);\r\n            props.put(&quot;metadata.max.idle.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;metadata.max.age.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;max.block.ms&quot;,&quot;180000&quot;);\r\n    \r\n    \r\n    \r\n    \r\n            KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n    \r\n            try {\r\n                // Send a message to the Kafka topic\r\n                producer.send(new ProducerRecord&lt;&gt;(topic, &quot;Hello, Kafka!&quot;)).get();\r\n                System.out.println(&quot;testing&quot;);\r\n            }catch(Exception e) {\r\n                System.out.println(&quot;exception occured&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Error message &quot;Topic not present in metadata after 180000 ms&quot; in Kafka broker with SCRAM security mechanism using kafka-docker-playground","body":"<p>I have setup a kafka broker based on SASL SCRAM mechanism by using the kafka-docker-playgorund available at <a href=\"https://github.com/vdesabou/kafka-docker-playground\" rel=\"nofollow noreferrer\">https://github.com/vdesabou/kafka-docker-playground</a>. This uses confluent kafka. I am using Ubuntu VM to run this broker. I have used the start.sh script to run the docker compose file available under /environment/sasl-scram folder. This setup uses SASL_PLAINTEXT (without SSL). The server is running without any issues. I am able to create topics and send message to this broker using the control centre UI interface, which is part of the kafka-docker-playground. The only issue I am facing is while trying to connect to this broker from the java code. I keep seeing the following exception.</p>\n<blockquote>\n<p>java.util.concurrent.ExecutionException:org.apache.kafka.common.errors.TimeoutException:\nTopic testtopic not present in metadata after 180000 ms</p>\n</blockquote>\n<p>Following is the Java code.</p>\n<pre><code>package org.example;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\nimport java.util.Properties;\n\npublic class KafkaProducerapp {\n\n\n    public static void main(String[] args) {\n        String topic = &quot;testtopic&quot;;\n        Properties props = new Properties();\n\n\n        props.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\n \n\n        props.put(&quot;group.id&quot;, &quot;test&quot;);\n\n        props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-256&quot;);\n        props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\n        props.put(&quot;retries&quot;, &quot;2700000&quot;);\n        props.put(&quot;retry.backoff.ms=1000&quot;, &quot;2700000&quot;);\n        props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + &quot;client&quot; + &quot;\\&quot; password=\\&quot;&quot; + &quot;client-secret&quot; + &quot;\\&quot;;&quot;);\n        props.put(&quot;retry.backoff.ms&quot;,&quot;1000&quot;);\n        props.put(&quot;batch.size&quot;,&quot;131072&quot;);\n        props.put(&quot;buffer.memory&quot;,&quot;66554432&quot;);\n        props.put(&quot;compression.type&quot;,&quot;snappy&quot;);\n        props.put(&quot;acks&quot;,&quot;all&quot;);\n        props.put(&quot;linger.ms&quot;,&quot;100&quot;);\n        props.put(&quot;request.timeout.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;enable.idempotence&quot;,&quot;true&quot;);\n        props.put(&quot;delivery.timeout.ms&quot;,&quot;180300&quot;);\n        props.put(&quot;metadata.max.idle.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;metadata.max.age.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;max.block.ms&quot;,&quot;180000&quot;);\n\n\n\n\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n        try {\n            // Send a message to the Kafka topic\n            producer.send(new ProducerRecord&lt;&gt;(topic, &quot;Hello, Kafka!&quot;)).get();\n            System.out.println(&quot;testing&quot;);\n        }catch(Exception e) {\n            System.out.println(&quot;exception occured&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-emulator","filesystems"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1680089160,"post_id":75874135,"comment_id":133837006,"body_markdown":"That is a bug in that file explorer it looks like. On Android 11+ devices you not only have to delete the file but also the entry in the MediaStore as the MediaStore will have indexed/scanned the file.","body":"That is a bug in that file explorer it looks like. On Android 11+ devices you not only have to delete the file but also the entry in the MediaStore as the MediaStore will have indexed/scanned the file."}],"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073700,"creation_date":1680073700,"question_id":75874135,"body_markdown":"While working with Android file permissions, I was banging my head against the wall thinking I&#39;m doing something wrong.\r\n\r\nI have the following test code in my app:\r\n\r\n```\r\nFile storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\nFile newFile = new File(storageDir, &quot;testfile.txt&quot;);\r\nif (!newFile.exists())\r\n{\r\n    try {\r\n        boolean res = newFile.createNewFile();\r\n        boolean watchMe = res;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nI have Device File Explorer opened in Android studio.\r\n\r\nI run my app, check that `res` is true and synchronize the Documents folder in Device File Explorer to see if the file exists. It does.\r\n\r\nThen I delete the file from Device File Explorer.\r\n\r\nThen I run my app again. It correctly detects the file does not exist and calls `createNewFile`. But it returns false! The file does not appear.\r\n\r\nIt does not help to restart the app or reinstall it.\r\nThe only solution I have found so far is to reboot the emulator.\r\n\r\nHowever, if I don&#39;t delete the file myself but call `newFile.delete();` from my code, then `createNewFile` is able to recreate the file.\r\n\r\n**Is it a bug of the emulator or Device File Explorer? Is there a better way to delete files from Device File Explorer without messing up my app?**\r\n\r\nI have reproduced it on an emulator with SDK 31 and 33. My app targets SDK 33.","title":"Cannot recreate manually deleted files until emulator is restarted","body":"<p>While working with Android file permissions, I was banging my head against the wall thinking I'm doing something wrong.</p>\n<p>I have the following test code in my app:</p>\n<pre><code>File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\nFile newFile = new File(storageDir, &quot;testfile.txt&quot;);\nif (!newFile.exists())\n{\n    try {\n        boolean res = newFile.createNewFile();\n        boolean watchMe = res;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I have Device File Explorer opened in Android studio.</p>\n<p>I run my app, check that <code>res</code> is true and synchronize the Documents folder in Device File Explorer to see if the file exists. It does.</p>\n<p>Then I delete the file from Device File Explorer.</p>\n<p>Then I run my app again. It correctly detects the file does not exist and calls <code>createNewFile</code>. But it returns false! The file does not appear.</p>\n<p>It does not help to restart the app or reinstall it.\nThe only solution I have found so far is to reboot the emulator.</p>\n<p>However, if I don't delete the file myself but call <code>newFile.delete();</code> from my code, then <code>createNewFile</code> is able to recreate the file.</p>\n<p><strong>Is it a bug of the emulator or Device File Explorer? Is there a better way to delete files from Device File Explorer without messing up my app?</strong></p>\n<p>I have reproduced it on an emulator with SDK 31 and 33. My app targets SDK 33.</p>\n"},{"tags":["java","android","android-studio","android-permissions","android-studio-3.0"],"comments":[{"owner":{"display_name":"user20384561"},"score":2,"creation_date":1680207735,"post_id":75874035,"comment_id":133863825,"body_markdown":"Welcome to Stack Overflow! [Please do not upload images of code/data/errors](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","body":"Welcome to Stack Overflow! <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Please do not upload images of code/data/errors</a>."}],"answers":[{"comments":[{"owner":{"account_id":28155260,"reputation":1,"user_id":21516086,"display_name":"Kumar Abhishek"},"score":1,"creation_date":1680076149,"post_id":75874121,"comment_id":133833679,"body_markdown":"Thank you so much, issue has been resolved !","body":"Thank you so much, issue has been resolved !"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1680324666,"post_id":75874121,"comment_id":133883203,"body_markdown":"@KumarAbhishek then select this answer as the correct one","body":"@KumarAbhishek then select this answer as the correct one"}],"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680073603,"creation_date":1680073603,"answer_id":75874121,"question_id":75874035,"body_markdown":"There should be another ```Manifest``` class automatically generated by Android Studio for your project.\r\n\r\nSo in order to use original Android ```Manifest``` class, append ```android.```:\r\n```\r\nandroid.Manifest.permission.WRITE_EXTERNAL_STORAGE\r\nandroid.Manifest.permission.READ_EXTERNAL_STORAGE\r\n```","title":"In Android Studio, not able to add READ &amp; WRITE permissions in java code to check permissions &amp; can use only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION","body":"<p>There should be another <code>Manifest</code> class automatically generated by Android Studio for your project.</p>\n<p>So in order to use original Android <code>Manifest</code> class, append <code>android.</code>:</p>\n<pre><code>android.Manifest.permission.WRITE_EXTERNAL_STORAGE\nandroid.Manifest.permission.READ_EXTERNAL_STORAGE\n</code></pre>\n"}],"owner":{"account_id":28155260,"reputation":1,"user_id":21516086,"display_name":"Kumar Abhishek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680353225,"answer_count":1,"score":0,"last_activity_date":1680073603,"creation_date":1680072959,"question_id":75874035,"body_markdown":"In Android Studio, I am unable to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permissions in java code to check permissions and able to add only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION. Even I have been mentioned them in Manifest file as well. please check the attached screenshot.\r\n\r\n[Java Code with DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION](https://i.stack.imgur.com/lIxwE.jpg)\r\n\r\n[Java Code(permissions) which I want to use](https://i.stack.imgur.com/8LUDY.jpg)\r\n\r\nI have been already added these permissions in the Manifest File as well.\r\n\r\nAnyone please help with this error, will be greatly appreciate.\r\n\r\nI want to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permission in my java code to check permissions while using the application in android studio. Please see attached screenshot\r\n\r\n[Java Code(permissions) need to use](https://i.stack.imgur.com/mGLks.jpg)","title":"In Android Studio, not able to add READ &amp; WRITE permissions in java code to check permissions &amp; can use only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION","body":"<p>In Android Studio, I am unable to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permissions in java code to check permissions and able to add only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION. Even I have been mentioned them in Manifest file as well. please check the attached screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/lIxwE.jpg\" rel=\"nofollow noreferrer\">Java Code with DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION</a></p>\n<p><a href=\"https://i.stack.imgur.com/8LUDY.jpg\" rel=\"nofollow noreferrer\">Java Code(permissions) which I want to use</a></p>\n<p>I have been already added these permissions in the Manifest File as well.</p>\n<p>Anyone please help with this error, will be greatly appreciate.</p>\n<p>I want to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permission in my java code to check permissions while using the application in android studio. Please see attached screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/mGLks.jpg\" rel=\"nofollow noreferrer\">Java Code(permissions) need to use</a></p>\n"},{"tags":["java","tomcat","tomcat8","catalina.out"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587122419,"post_id":61269644,"comment_id":108390547,"body_markdown":"Are you sure the app is listening on the URL you are fetching?","body":"Are you sure the app is listening on the URL you are fetching?"},{"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"score":0,"creation_date":1587257780,"post_id":61269644,"comment_id":108440465,"body_markdown":"Sorry, may I know which URL you are talking about?","body":"Sorry, may I know which URL you are talking about?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587304059,"post_id":61269644,"comment_id":108452763,"body_markdown":"The one that returns the 404.","body":"The one that returns the 404."},{"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"score":0,"creation_date":1587383525,"post_id":61269644,"comment_id":108481164,"body_markdown":"Yes, the app listens on that URL","body":"Yes, the app listens on that URL"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587466813,"post_id":61269644,"comment_id":108516760,"body_markdown":"Well, obviously it doesn&#39;t. What I meant is please double check the configuration. You did not provide enough information for us to help in a meaningful way.","body":"Well, obviously it doesn&#39;t. What I meant is please double check the configuration. You did not provide enough information for us to help in a meaningful way."}],"answers":[{"tags":[],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670392992,"creation_date":1670392992,"answer_id":74712385,"question_id":61269644,"body_markdown":"I was getting same issue and found out that main class needs to be extended from **SpringBootServletInitializer**. Please check code below.\r\n```java\r\n@SpringBootApplication\r\npublic class MyApplication extends SpringBootServletInitializer {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n\r\n}\r\n```","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>I was getting same issue and found out that main class needs to be extended from <strong>SpringBootServletInitializer</strong>. Please check code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28155476,"reputation":1,"user_id":21516271,"display_name":"Balvinder Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073593,"creation_date":1680073593,"answer_id":75874119,"question_id":61269644,"body_markdown":"I was having the exact same issue as you described and I have also deployed it on tomcat 8, It turns out that the issue in my case was an incorrect version of java defined in pom.xml. I was deploying a war built with java 11 and it was silently failing\r\n\r\nChanged the version to 1.8 rebuilt and deployed it and it worked","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>I was having the exact same issue as you described and I have also deployed it on tomcat 8, It turns out that the issue in my case was an incorrect version of java defined in pom.xml. I was deploying a war built with java 11 and it was silently failing</p>\n<p>Changed the version to 1.8 rebuilt and deployed it and it worked</p>\n"}],"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680073593,"creation_date":1587120084,"question_id":61269644,"body_markdown":"\r\nCatalina.out:\r\n\r\n    [2020-04-10 11:48:26] [info] Manager: list: Listing contexts for virtual host &#39;localhost&#39;\r\n    \r\n    [2020-04-10 11:48:26] [info] Manager: install: Installing web application &#39;/api#v1&#39; from &#39;file:/home/kos/RPServers/available_webapps/reaper-webapp.war&#39;\r\n    \r\n    [2020-04-10 11:48:26] [info] **Deploying web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war]**\r\n    \r\n    [2020-04-10 11:48:27] [info] 2020/04/10 11:48:27.897 - #2 - 4973/4193 - MemoryShield:  totalMemory = 3871.45 [MB] resMemory = 1311.47 [MB] shrMemory = 63.6523 [MB]\r\n    \r\n    [2020-04-10 11:48:28] [info] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    \r\n    [2020-04-10 11:48:28] [info] **Deployment of web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war] has finished in [2,345] ms**\r\n\r\nProblem: The catalina.out logs tells that the deployment of an application is finished but the application is inaccessible (404 Error)\r\n\r\n 1. Any previous issue seen which is similar to this sort? \r\n 2. Or is it some config issue?\r\n 3. Or should more logging be enabled in logging.properties to understand the flow better?\r\n\r\nNote: This is using Tomcat8\r\n\r\nThanks,\r\n\r\n","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>Catalina.out:</p>\n\n<pre><code>[2020-04-10 11:48:26] [info] Manager: list: Listing contexts for virtual host 'localhost'\n\n[2020-04-10 11:48:26] [info] Manager: install: Installing web application '/api#v1' from 'file:/home/kos/RPServers/available_webapps/reaper-webapp.war'\n\n[2020-04-10 11:48:26] [info] **Deploying web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war]**\n\n[2020-04-10 11:48:27] [info] 2020/04/10 11:48:27.897 - #2 - 4973/4193 - MemoryShield:  totalMemory = 3871.45 [MB] resMemory = 1311.47 [MB] shrMemory = 63.6523 [MB]\n\n[2020-04-10 11:48:28] [info] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\n[2020-04-10 11:48:28] [info] **Deployment of web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war] has finished in [2,345] ms**\n</code></pre>\n\n<p>Problem: The catalina.out logs tells that the deployment of an application is finished but the application is inaccessible (404 Error)</p>\n\n<ol>\n<li>Any previous issue seen which is similar to this sort? </li>\n<li>Or is it some config issue?</li>\n<li>Or should more logging be enabled in logging.properties to understand the flow better?</li>\n</ol>\n\n<p>Note: This is using Tomcat8</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1680073490,"creation_date":1680070181,"answer_id":75873691,"question_id":75873659,"body_markdown":"You can match `id=` followed by a sequence of non-comma characters.\r\n\r\n```java\r\nMatcher m = Pattern.compile(&quot;\\\\bid=([^,]+)&quot;).matcher(str);\r\nif (m.find()) System.out.println(m.group(1));\r\nelse System.out.println(&quot;No match&quot;);\r\n```","title":"Extract key=value substring with regex","body":"<p>You can match <code>id=</code> followed by a sequence of non-comma characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Matcher m = Pattern.compile(&quot;\\\\bid=([^,]+)&quot;).matcher(str);\nif (m.find()) System.out.println(m.group(1));\nelse System.out.println(&quot;No match&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680070434,"creation_date":1680070434,"answer_id":75873726,"question_id":75873659,"body_markdown":"You need to use Positive Lookbehind with numeric matching. Try the expression\r\n```\r\n(?&lt;=id=)\\d+\r\n``` \r\n**Positive Lookbehind:**\r\n\r\n` (?&lt;=...)` Ensures that the given pattern will match, ending at the current position in the expression. The pattern must have a fixed width. Does not consume any characters.\r\n\r\nIn this case you case, you can use `(?&lt;=id=)\\d+`.\r\n\r\nTest it here: https://regex101.com/r/gifIkf/1\r\n\r\nand the code generated from https://regex101.com/r/gifIkf/1\r\n\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        final String regex = &quot;(?&lt;=id=)\\\\d+&quot;;\r\n        final String string = &quot;reference=\\&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002\\&quot;,args=\\&quot;one two three\\&quot;,id=123456789,someField=\\&quot;data\\&quot;,someOtherId=567890\\n&quot;;\r\n        \r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n        final Matcher matcher = pattern.matcher(string);\r\n        \r\n        while (matcher.find()) {\r\n            System.out.println(&quot;Full match: &quot; + matcher.group(0));\r\n            \r\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n                System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```","title":"Extract key=value substring with regex","body":"<p>You need to use Positive Lookbehind with numeric matching. Try the expression</p>\n<pre><code>(?&lt;=id=)\\d+\n</code></pre>\n<p><strong>Positive Lookbehind:</strong></p>\n<p><code> (?&lt;=...)</code> Ensures that the given pattern will match, ending at the current position in the expression. The pattern must have a fixed width. Does not consume any characters.</p>\n<p>In this case you case, you can use <code>(?&lt;=id=)\\d+</code>.</p>\n<p>Test it here: <a href=\"https://regex101.com/r/gifIkf/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/gifIkf/1</a></p>\n<p>and the code generated from <a href=\"https://regex101.com/r/gifIkf/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/gifIkf/1</a></p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Example {\n    public static void main(String[] args) {\n        final String regex = &quot;(?&lt;=id=)\\\\d+&quot;;\n        final String string = &quot;reference=\\&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002\\&quot;,args=\\&quot;one two three\\&quot;,id=123456789,someField=\\&quot;data\\&quot;,someOtherId=567890\\n&quot;;\n        \n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n        final Matcher matcher = pattern.matcher(string);\n        \n        while (matcher.find()) {\n            System.out.println(&quot;Full match: &quot; + matcher.group(0));\n            \n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n                System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n            }\n        }\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":2649766,"reputation":4544,"user_id":2291748,"accept_rate":84,"display_name":"sakura-bloom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75873691,"answer_count":2,"score":-1,"last_activity_date":1680073490,"creation_date":1680069954,"question_id":75873659,"body_markdown":"I would like to extract the value of `id` from a string. The string contains key-value pairs and the pairs are comma separated (no commas in actual values).\r\n\r\nI would like to extract the value of `id` key, which is 123456789 in the sample input string below. The value of `id` is always a number.\r\n\r\n\r\n    reference=&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002&quot;,args=&quot;one two three&quot;,id=123456789,someField=&quot;data&quot;,someOtherId=567890\r\n\r\n\r\nHow can I achieve this with regex?","title":"Extract key=value substring with regex","body":"<p>I would like to extract the value of <code>id</code> from a string. The string contains key-value pairs and the pairs are comma separated (no commas in actual values).</p>\n<p>I would like to extract the value of <code>id</code> key, which is 123456789 in the sample input string below. The value of <code>id</code> is always a number.</p>\n<pre><code>reference=&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002&quot;,args=&quot;one two three&quot;,id=123456789,someField=&quot;data&quot;,someOtherId=567890\n</code></pre>\n<p>How can I achieve this with regex?</p>\n"},{"tags":["java","inheritance","structure"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1680074921,"post_id":75874105,"comment_id":133833388,"body_markdown":"Code aside, is a &#39;Copy&#39; a specific kind of &#39;Release&#39;? Just like you might define a`Dog` class as a subclass of `Animal`, because a &#39;Dog&#39; is a type of &#39;Animal&#39; and has all of the properties of a generic &#39;Animal&#39;, would you say the same for a &#39;Copy&#39; and a &#39;Release&#39;? If not, the approach you&#39;re describing is bad form.","body":"Code aside, is a &#39;Copy&#39; a specific kind of &#39;Release&#39;? Just like you might define a<code>Dog</code> class as a subclass of <code>Animal</code>, because a &#39;Dog&#39; is a type of &#39;Animal&#39; and has all of the properties of a generic &#39;Animal&#39;, would you say the same for a &#39;Copy&#39; and a &#39;Release&#39;? If not, the approach you&#39;re describing is bad form."},{"owner":{"account_id":15607042,"reputation":9,"user_id":11259502,"display_name":"Notorjus"},"score":0,"creation_date":1680075843,"post_id":75874105,"comment_id":133833620,"body_markdown":"Copy is a specific kind of release, each copy will have some unique properties. But each copy will also have the exact same release and as far as I understand using inheritance will create a release for each copy which is not what I&#39;m looking for. I also wish to be able to access the release properties without storing them in the copy.","body":"Copy is a specific kind of release, each copy will have some unique properties. But each copy will also have the exact same release and as far as I understand using inheritance will create a release for each copy which is not what I&#39;m looking for. I also wish to be able to access the release properties without storing them in the copy."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1680114597,"post_id":75874105,"comment_id":133844283,"body_markdown":"Sounds like `Copy` should contain a property of type `Release` and that inheritance is not what you want here.","body":"Sounds like <code>Copy</code> should contain a property of type <code>Release</code> and that inheritance is not what you want here."}],"owner":{"account_id":15607042,"reputation":9,"user_id":11259502,"display_name":"Notorjus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073481,"creation_date":1680073481,"question_id":75874105,"body_markdown":"I&#39;m trying to make a system for comics that has releases and copies. What I&#39;m after is a structure where you have on release with certain properties and several copies with the same properties but also unique ones. I was thinking of using inheritance but I want the copies to have a single superclass, release. Also I don&#39;t want the copies to contain the release properties, but I want to be able to fetch them from the superclass. Thanks in advance for any answers. ","title":"how should I structure these objects","body":"<p>I'm trying to make a system for comics that has releases and copies. What I'm after is a structure where you have on release with certain properties and several copies with the same properties but also unique ones. I was thinking of using inheritance but I want the copies to have a single superclass, release. Also I don't want the copies to contain the release properties, but I want to be able to fetch them from the superclass. Thanks in advance for any answers.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":307607,"reputation":812,"user_id":618996,"display_name":"Vance Maverick"},"score":3,"creation_date":1299044827,"post_id":5163785,"comment_id":5799049,"body_markdown":"You&#39;ve got several questions mixed up together. Broadly, yes, `str.charAt(str.length() - 1)` is usually the last character in the string; but consider what happens if str is empty, or null.","body":"You&#39;ve got several questions mixed up together. Broadly, yes, <code>str.charAt(str.length() - 1)</code> is usually the last character in the string; but consider what happens if str is empty, or null."},{"owner":{"account_id":94690,"reputation":8180,"user_id":258388,"display_name":"Zimbabao"},"score":0,"creation_date":1299044877,"post_id":5163785,"comment_id":5799060,"body_markdown":"Its working fine. But logic of palidrome check is doesn&#39;t sound correct,  please also mention what is the error you are getting.","body":"Its working fine. But logic of palidrome check is doesn&#39;t sound correct,  please also mention what is the error you are getting."},{"owner":{"account_id":4576460,"reputation":1015,"user_id":3714913,"display_name":"Nateowami"},"score":0,"creation_date":1412425946,"post_id":5163785,"comment_id":41071338,"body_markdown":"possible duplicate of [How to remove the last character from a string?](http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string\">How to remove the last character from a string?</a>"}],"answers":[{"comments":[{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":6,"creation_date":1299044790,"post_id":5163852,"comment_id":5799038,"body_markdown":"returns it as a string, not a character, but you already know how to do the latter, and I&#39;m not clear on what you&#39;re after.","body":"returns it as a string, not a character, but you already know how to do the latter, and I&#39;m not clear on what you&#39;re after."},{"owner":{"account_id":454641,"reputation":1534,"user_id":852336,"accept_rate":64,"display_name":"Danish Khan"},"score":12,"creation_date":1422299954,"post_id":5163852,"comment_id":44685487,"body_markdown":"What if your string is empty?","body":"What if your string is empty?"},{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":5,"creation_date":1422300794,"post_id":5163852,"comment_id":44685893,"body_markdown":"it will raise an exception in that case. wouldn&#39;t you want it to?","body":"it will raise an exception in that case. wouldn&#39;t you want it to?"},{"owner":{"account_id":9133385,"reputation":1544,"user_id":6794075,"accept_rate":57,"display_name":"Andrew"},"score":4,"creation_date":1585660787,"post_id":5163852,"comment_id":107834796,"body_markdown":"Question asks for a character - this returns a one character long string. Should use `charAt()` not `substring()`","body":"Question asks for a character - this returns a one character long string. Should use <code>charAt()</code> not <code>substring()</code>"},{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":3,"creation_date":1585682018,"post_id":5163852,"comment_id":107846843,"body_markdown":"Andrew, if you look back at the original question before it was edited, you&#39;ll see that the OP already tried charAt() and it wasn&#39;t what she wanted. That&#39;s one of the problems with a wiki-like medium such as SO, the questions are a moving target and sometimes the answers can look silly as a result.","body":"Andrew, if you look back at the original question before it was edited, you&#39;ll see that the OP already tried charAt() and it wasn&#39;t what she wanted. That&#39;s one of the problems with a wiki-like medium such as SO, the questions are a moving target and sometimes the answers can look silly as a result."},{"owner":{"account_id":1137318,"reputation":8962,"user_id":1150915,"display_name":"Aquarelle"},"score":0,"creation_date":1593503050,"post_id":5163852,"comment_id":110796433,"body_markdown":"@jcomeau_ictx is right.  He left out exception handling because that is left up to the programmer (and the intended flow of the program).  As such, any kind of error checking/handling here is superfluous.","body":"@jcomeau_ictx is right.  He left out exception handling because that is left up to the programmer (and the intended flow of the program).  As such, any kind of error checking/handling here is superfluous."}],"tags":[],"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"comment_count":6,"down_vote_count":5,"up_vote_count":310,"is_accepted":true,"score":305,"last_activity_date":1579796525,"creation_date":1299044653,"answer_id":5163852,"question_id":5163785,"body_markdown":"The code:\r\n\r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            String string = args[0];\r\n            System.out.println(&quot;last character: &quot; +\r\n                               string.substring(string.length() - 1)); \r\n        }\r\n    }\r\n\r\nThe output of `java Test abcdef`:\r\n\r\n    last character: f\r\n\r\n","title":"How do I get the last character of a string?","body":"<p>The code:</p>\n\n<pre><code>public class Test {\n    public static void main(String args[]) {\n        String string = args[0];\n        System.out.println(\"last character: \" +\n                           string.substring(string.length() - 1)); \n    }\n}\n</code></pre>\n\n<p>The output of <code>java Test abcdef</code>:</p>\n\n<pre><code>last character: f\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302426,"reputation":1804,"user_id":610799,"accept_rate":100,"display_name":"Yoko Zunna"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299044761,"creation_date":1299044761,"answer_id":5163871,"question_id":5163785,"body_markdown":"Simple solution is:\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() == 0) {\r\n        return str;\r\n      }\r\n      char[] cs = str.toCharArray();\r\n      char first = cs[0];\r\n      cs[0] = cs[cs.length -1];\r\n      cs[cs.length -1] = first;\r\n      return new String(cs);\r\n    }\r\n\r\nUsing a character array (watch out for the nasty empty String or null String argument!)\r\n\r\nAnother solution uses StringBuilder (which is usually used to do String manupilation since String itself is immutable.\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() == 0) {\r\n        return str;\r\n      }\r\n      StringBuilder sb = new StringBuilder(str);  \r\n      char first = sb.charAt(0);\r\n      sb.setCharAt(0, sb.charAt(sb.length()-1));\r\n      sb.setCharAt(sb.length()-1, first);\r\n      return sb.toString();\r\n    }\r\n\r\nYet another approach (more for instruction than actual use) is this one:\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() &lt; 2) {\r\n        return str;\r\n      }\r\n      StringBuilder sb = new StringBuilder(str);\r\n      String sub = sb.substring(1, sb.length() -1);\r\n      return sb.reverse().replace(1, sb.length() -1, sub).toString();\r\n    }\r\n\r\nHere the complete string is reversed and then the part that should not be reversed is replaced with the substring. ;)\r\n","title":"How do I get the last character of a string?","body":"<p>Simple solution is:</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() == 0) {\n    return str;\n  }\n  char[] cs = str.toCharArray();\n  char first = cs[0];\n  cs[0] = cs[cs.length -1];\n  cs[cs.length -1] = first;\n  return new String(cs);\n}\n</code></pre>\n\n<p>Using a character array (watch out for the nasty empty String or null String argument!)</p>\n\n<p>Another solution uses StringBuilder (which is usually used to do String manupilation since String itself is immutable.</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() == 0) {\n    return str;\n  }\n  StringBuilder sb = new StringBuilder(str);  \n  char first = sb.charAt(0);\n  sb.setCharAt(0, sb.charAt(sb.length()-1));\n  sb.setCharAt(sb.length()-1, first);\n  return sb.toString();\n}\n</code></pre>\n\n<p>Yet another approach (more for instruction than actual use) is this one:</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() &lt; 2) {\n    return str;\n  }\n  StringBuilder sb = new StringBuilder(str);\n  String sub = sb.substring(1, sb.length() -1);\n  return sb.reverse().replace(1, sb.length() -1, sub).toString();\n}\n</code></pre>\n\n<p>Here the complete string is reversed and then the part that should not be reversed is replaced with the substring. ;)</p>\n"},{"comments":[{"owner":{"account_id":1137318,"reputation":8962,"user_id":1150915,"display_name":"Aquarelle"},"score":2,"creation_date":1593503253,"post_id":5163887,"comment_id":110796540,"body_markdown":"This answer is wrong.  It only checks to see if the first and last chars are the same.","body":"This answer is wrong.  It only checks to see if the first and last chars are the same."}],"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1396044549,"creation_date":1299044857,"answer_id":5163887,"question_id":5163785,"body_markdown":"Try this:\r\n\r\n    if (s.charAt(0) == s.charAt(s.length() - 1))","title":"How do I get the last character of a string?","body":"<p>Try this:</p>\n\n<pre><code>if (s.charAt(0) == s.charAt(s.length() - 1))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":1,"creation_date":1523284925,"post_id":13025371,"comment_id":86485086,"body_markdown":"be really careful if you are wanting to do a calculation on a number within a string as char values are quite different than a literal number and your math results will not work.","body":"be really careful if you are wanting to do a calculation on a number within a string as char values are quite different than a literal number and your math results will not work."}],"tags":[],"owner":{"account_id":1725228,"reputation":2204,"user_id":1580074,"accept_rate":66,"display_name":"Aniket"},"comment_count":1,"down_vote_count":1,"up_vote_count":111,"is_accepted":false,"score":110,"last_activity_date":1520336600,"creation_date":1350976819,"answer_id":13025371,"question_id":5163785,"body_markdown":"Here is a method using `String.charAt()`:\r\n\r\n    String str = &quot;India&quot;;\r\n    System.out.println(&quot;last char = &quot; + str.charAt(str.length() - 1));\r\n\r\nThe resulting output is `last char = a`.","title":"How do I get the last character of a string?","body":"<p>Here is a method using <code>String.charAt()</code>:</p>\n\n<pre><code>String str = \"India\";\nSystem.out.println(\"last char = \" + str.charAt(str.length() - 1));\n</code></pre>\n\n<p>The resulting output is <code>last char = a</code>.</p>\n"},{"comments":[{"owner":{"account_id":7012135,"reputation":827,"user_id":5374625,"display_name":"Knells"},"score":0,"creation_date":1459895561,"post_id":36437899,"comment_id":60491257,"body_markdown":"I don&#39;t think this code will compile (only needs small fixes though), once you get it compile give it a test on an empty string to see if it works.","body":"I don&#39;t think this code will compile (only needs small fixes though), once you get it compile give it a test on an empty string to see if it works."},{"owner":{"account_id":3296738,"reputation":5370,"user_id":2773837,"display_name":"Hatchet"},"score":2,"creation_date":1459901906,"post_id":36437899,"comment_id":60493254,"body_markdown":"While this answer is probably correct and useful, it is preferred if you [include some explanation along with it](http://meta.stackexchange.com/q/114762/159034) to explain how it helps to solve the problem. This becomes especially useful in the future, if there is a change (possibly unrelated) that causes it to stop working and users need to understand how it once worked. Thanks!","body":"While this answer is probably correct and useful, it is preferred if you <a href=\"http://meta.stackexchange.com/q/114762/159034\">include some explanation along with it</a> to explain how it helps to solve the problem. This becomes especially useful in the future, if there is a change (possibly unrelated) that causes it to stop working and users need to understand how it once worked. Thanks!"}],"tags":[],"owner":{"account_id":7888738,"reputation":86,"user_id":5959740,"display_name":"Abdul Hanan Khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459893915,"creation_date":1459893915,"answer_id":36437899,"question_id":5163785,"body_markdown":"    public String lastChars(String a) {\r\n    if(a.length()&gt;=1{\r\n    String str1 =a.substring(b.length()-1);\r\n    }\r\n    return str1;\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code>public String lastChars(String a) {\nif(a.length()&gt;=1{\nString str1 =a.substring(b.length()-1);\n}\nreturn str1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1477295445,"creation_date":1477295445,"answer_id":40213223,"question_id":5163785,"body_markdown":"The other answers contain a lot of needless text and code. Here are two ways to get the last character of a String:\r\n\r\n**char**\r\n\r\n    char lastChar = myString.charAt(myString.length() - 1);\r\n\r\n**String**\r\n\r\n    String lastChar = myString.substring(myString.length() - 1);","title":"How do I get the last character of a string?","body":"<p>The other answers contain a lot of needless text and code. Here are two ways to get the last character of a String:</p>\n\n<p><strong>char</strong></p>\n\n<pre><code>char lastChar = myString.charAt(myString.length() - 1);\n</code></pre>\n\n<p><strong>String</strong></p>\n\n<pre><code>String lastChar = myString.substring(myString.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9489759,"reputation":93,"user_id":7055019,"display_name":"vijay pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477296397,"creation_date":1477296397,"answer_id":40213487,"question_id":5163785,"body_markdown":"    public char LastChar(String a){\r\n        return a.charAt(a.length() - 1);\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code>public char LastChar(String a){\n    return a.charAt(a.length() - 1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":404899,"reputation":2099,"user_id":773479,"display_name":"John Veldboom"},"score":1,"creation_date":1506991657,"post_id":46535543,"comment_id":80025927,"body_markdown":"This is the exact same example given here https://stackoverflow.com/a/13025371/773479","body":"This is the exact same example given here <a href=\"https://stackoverflow.com/a/13025371/773479\">stackoverflow.com/a/13025371/773479</a>"}],"tags":[],"owner":{"display_name":"user8705926"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506990504,"creation_date":1506990504,"answer_id":46535543,"question_id":5163785,"body_markdown":"    String aString = &quot;This will return the letter t&quot;;\r\n    System.out.println(aString.charAt(aString.length() - 1));\r\n \r\nOutput should be:\r\n   \r\n\r\n    t\r\nHappy coding!\r\n\r\n  ","title":"How do I get the last character of a string?","body":"<pre><code>String aString = \"This will return the letter t\";\nSystem.out.println(aString.charAt(aString.length() - 1));\n</code></pre>\n\n<p>Output should be:</p>\n\n<pre><code>t\n</code></pre>\n\n<p>Happy coding!</p>\n"},{"comments":[{"owner":{"account_id":17719777,"reputation":723,"user_id":12865125,"display_name":"Spirit of the Void"},"score":0,"creation_date":1631814567,"post_id":48000907,"comment_id":122331188,"body_markdown":"Note that the result will be true if the argument is the empty string or is equal to this String object as determined by the equals(Object) method.","body":"Note that the result will be true if the argument is the empty string or is equal to this String object as determined by the equals(Object) method."}],"tags":[],"owner":{"account_id":8801551,"reputation":1295,"user_id":6609551,"accept_rate":80,"display_name":"Neil"},"comment_count":1,"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1514427967,"creation_date":1514427967,"answer_id":48000907,"question_id":5163785,"body_markdown":"The other answers are very complete, and you should definitely use them if you&#39;re trying to find the last character of a string. But if you&#39;re just trying to use a conditional (e.g. is the last character &#39;g&#39;), you could also do the following:\r\n\r\n    if (str.endsWith(&quot;g&quot;)) {\r\n\r\nor, strings\r\n\r\n    if (str.endsWith(&quot;bar&quot;)) {","title":"How do I get the last character of a string?","body":"<p>The other answers are very complete, and you should definitely use them if you're trying to find the last character of a string. But if you're just trying to use a conditional (e.g. is the last character 'g'), you could also do the following:</p>\n\n<pre><code>if (str.endsWith(\"g\")) {\n</code></pre>\n\n<p>or, strings</p>\n\n<pre><code>if (str.endsWith(\"bar\")) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7579585,"reputation":31,"user_id":5750656,"display_name":"rakib"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1546419666,"creation_date":1546415781,"answer_id":54002979,"question_id":5163785,"body_markdown":"     public char lastChar(String s) {\r\n         if (s == &quot;&quot; || s == null)\r\n            return &#39; &#39;;\r\n        char lc = s.charAt(s.length() - 1);\r\n        return lc;\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code> public char lastChar(String s) {\n     if (s == \"\" || s == null)\n        return ' ';\n    char lc = s.charAt(s.length() - 1);\n    return lc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636434758,"creation_date":1563977209,"answer_id":57184891,"question_id":5163785,"body_markdown":"Here is a method I use to get the last nth characters of a string:\r\n\r\n    public static String takeLast(String value, int count) {\r\n        if (value == null || value.trim().length() == 0) return &quot;&quot;;\r\n        if (count &lt; 1) return &quot;&quot;;\r\n\r\n        if (value.length() &gt; count) {\r\n            return value.substring(value.length() - count);\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\nThen use it like so:\r\n\r\n    String testStr = &quot;this is a test string&quot;;\r\n    String last1 = takeLast(testStr, 1); //Output: g\r\n    String last4 = takeLast(testStr, 4); //Output: ring\r\n","title":"How do I get the last character of a string?","body":"<p>Here is a method I use to get the last nth characters of a string:</p>\n<pre><code>public static String takeLast(String value, int count) {\n    if (value == null || value.trim().length() == 0) return &quot;&quot;;\n    if (count &lt; 1) return &quot;&quot;;\n\n    if (value.length() &gt; count) {\n        return value.substring(value.length() - count);\n    } else {\n        return value;\n    }\n}\n</code></pre>\n<p>Then use it like so:</p>\n<pre><code>String testStr = &quot;this is a test string&quot;;\nString last1 = takeLast(testStr, 1); //Output: g\nString last4 = takeLast(testStr, 4); //Output: ring\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073361,"creation_date":1680073361,"answer_id":75874086,"question_id":5163785,"body_markdown":"In case if you are already using apache [commons-lang3][1] library  \r\nYou can use function from library to get last n characters from the string   \r\n`org.apache.commons.lang3.right(final String str, final int len);`\r\n\r\n```\r\nStringUtils.right(null, *)    = null\r\nStringUtils.right(*, -ve)     = &quot;&quot; // * means anything except null string when len is negative\r\nStringUtils.right(&quot;&quot;, *)      = &quot;&quot;\r\nStringUtils.right(&quot;abc&quot;, 0)   = &quot;&quot;\r\nStringUtils.right(&quot;abc&quot;, 2)   = &quot;bc&quot;\r\nStringUtils.right(&quot;abc&quot;, 1)   = &quot;c&quot;\r\nStringUtils.right(&quot;abc&quot;, 4)   = &quot;abc&quot;\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/commons-lang/blob/ccb4ad2234dbc56a6396e4b1d54a1675b5446c5b/src/main/java/org/apache/commons/lang3/StringUtils.java#L7080","title":"How do I get the last character of a string?","body":"<p>In case if you are already using apache <a href=\"https://github.com/apache/commons-lang/blob/ccb4ad2234dbc56a6396e4b1d54a1675b5446c5b/src/main/java/org/apache/commons/lang3/StringUtils.java#L7080\" rel=\"nofollow noreferrer\">commons-lang3</a> library<br />\nYou can use function from library to get last n characters from the string<br />\n<code>org.apache.commons.lang3.right(final String str, final int len);</code></p>\n<pre><code>StringUtils.right(null, *)    = null\nStringUtils.right(*, -ve)     = &quot;&quot; // * means anything except null string when len is negative\nStringUtils.right(&quot;&quot;, *)      = &quot;&quot;\nStringUtils.right(&quot;abc&quot;, 0)   = &quot;&quot;\nStringUtils.right(&quot;abc&quot;, 2)   = &quot;bc&quot;\nStringUtils.right(&quot;abc&quot;, 1)   = &quot;c&quot;\nStringUtils.right(&quot;abc&quot;, 4)   = &quot;abc&quot;\n</code></pre>\n"}],"owner":{"account_id":244180,"reputation":3261,"user_id":516805,"accept_rate":91,"display_name":"lonesarah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792583,"favorite_count":0,"down_vote_count":0,"up_vote_count":238,"accepted_answer_id":5163852,"answer_count":12,"score":238,"last_activity_date":1680073361,"creation_date":1299044056,"question_id":5163785,"body_markdown":"How do I get the last character of a string?\r\n\r\n    public class Main {\r\n        public static void main(String[] args)  {\r\n            String s = &quot;test string&quot;;\r\n            //char lastChar = ???\r\n        }   \r\n    }\r\n","title":"How do I get the last character of a string?","body":"<p>How do I get the last character of a string?</p>\n<pre><code>public class Main {\n    public static void main(String[] args)  {\n        String s = &quot;test string&quot;;\n        //char lastChar = ???\n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","class"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680073299,"creation_date":1680073299,"answer_id":75874077,"question_id":75872679,"body_markdown":"You&#39;re calling `SpringApplication.run(restAPITest.class, args)`, but `restAPITest` is not the Spring Boot Application. `mainClass` is, because that&#39;s the one with the `@SpringBootApplication` annotation. That annotation defines all the component scanning etc.\r\n\r\nNormally I would say, use `SpringApplication.run(mainClass.class, args)`, but that will load all the test applications / classes. Instead, annotate each of the test classes with `@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })`.","title":"Why I can&#39;t run Spring app when seperated Main Class and Non-Main Class?","body":"<p>You're calling <code>SpringApplication.run(restAPITest.class, args)</code>, but <code>restAPITest</code> is not the Spring Boot Application. <code>mainClass</code> is, because that's the one with the <code>@SpringBootApplication</code> annotation. That annotation defines all the component scanning etc.</p>\n<p>Normally I would say, use <code>SpringApplication.run(mainClass.class, args)</code>, but that will load all the test applications / classes. Instead, annotate each of the test classes with <code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })</code>.</p>\n"}],"owner":{"account_id":24418385,"reputation":731,"user_id":18632985,"display_name":"Hoang Minh Quang FX15045"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874077,"answer_count":1,"score":0,"last_activity_date":1680073299,"creation_date":1680057871,"question_id":75872679,"body_markdown":"I&#39;m trying to find a way to test the multiple Spring Apps in the same project. But I have trouble with `Main class` and `Main method`\r\n\r\nBelow is my simple restAPI.class which creates a web API that accepts POST method:\r\n\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @RestController\r\n    public class restAPITest {\r\n    \r\n    \t@PostMapping(&quot;/example&quot;)\r\n    \tpublic String handleExampleRequest(@RequestBody String requestData) {\r\n    \t\t// Process the incoming data\r\n    \t\tSystem.out.println(&quot;Received data: &quot; + requestData);\r\n    \r\n    \t\t// Return a response\r\n    \t\treturn &quot;Data received successfully&quot;;\r\n    \t}\r\n    }\r\n\r\nThen I create a `main class` with `main method` to run Spring App, like a normal java app\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n    public class mainClass {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(restAPITest.class, args);\r\n        }\r\n    }\r\n\r\nBut then I got an error like below\r\n\r\n    Description:\r\n    \r\n    Web application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\r\n    \r\n    Action:\r\n    \r\n    Check your application&#39;s dependencies for a supported servlet web server.\r\n    Check the configured web application type\r\n\r\n\r\nBelow is my project Structure (Just care about 2 file that I highlight)\r\n[![structured][1]][1]\r\n\r\nIf I put the `main method` inside `public class restAPITest`, it will work like normal. But when separating the `main class`/`main method` like this it won&#39;t work. I don&#39;t understand why in Spring boot `main method` can&#39;t be separated?\r\n\r\nBasically, I want my `main class` like below. When I want to test an App, I will comment out other App (I only want to test App by App, not run 3 Spring Apps at the same time). I tried to create 3 classes with 3 main methods inside, but it doesn&#39;t work as intended.\r\n\r\n    public static void main(String[] args) {\r\n            //SpringApplication.run(testSpringApp1.class, args);\r\n            SpringApplication.run(testSpringApp2.class, args);\r\n            //SpringApplication.run(testSpringApp3.class, args);\r\n        }\r\n     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9GHP9.png","title":"Why I can&#39;t run Spring app when seperated Main Class and Non-Main Class?","body":"<p>I'm trying to find a way to test the multiple Spring Apps in the same project. But I have trouble with <code>Main class</code> and <code>Main method</code></p>\n<p>Below is my simple restAPI.class which creates a web API that accepts POST method:</p>\n<pre><code>import org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\npublic class restAPITest {\n\n    @PostMapping(&quot;/example&quot;)\n    public String handleExampleRequest(@RequestBody String requestData) {\n        // Process the incoming data\n        System.out.println(&quot;Received data: &quot; + requestData);\n\n        // Return a response\n        return &quot;Data received successfully&quot;;\n    }\n}\n</code></pre>\n<p>Then I create a <code>main class</code> with <code>main method</code> to run Spring App, like a normal java app</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class mainClass {\n    public static void main(String[] args) {\n        SpringApplication.run(restAPITest.class, args);\n    }\n}\n</code></pre>\n<p>But then I got an error like below</p>\n<pre><code>Description:\n\nWeb application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\n\nAction:\n\nCheck your application's dependencies for a supported servlet web server.\nCheck the configured web application type\n</code></pre>\n<p>Below is my project Structure (Just care about 2 file that I highlight)\n<a href=\"https://i.stack.imgur.com/9GHP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GHP9.png\" alt=\"structured\" /></a></p>\n<p>If I put the <code>main method</code> inside <code>public class restAPITest</code>, it will work like normal. But when separating the <code>main class</code>/<code>main method</code> like this it won't work. I don't understand why in Spring boot <code>main method</code> can't be separated?</p>\n<p>Basically, I want my <code>main class</code> like below. When I want to test an App, I will comment out other App (I only want to test App by App, not run 3 Spring Apps at the same time). I tried to create 3 classes with 3 main methods inside, but it doesn't work as intended.</p>\n<pre><code>public static void main(String[] args) {\n        //SpringApplication.run(testSpringApp1.class, args);\n        SpringApplication.run(testSpringApp2.class, args);\n        //SpringApplication.run(testSpringApp3.class, args);\n    }\n \n</code></pre>\n"},{"tags":["java","flutter","dart"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680069058,"post_id":75873555,"comment_id":133832197,"body_markdown":"Try using `String::split`","body":"Try using <code>String::split</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1680071390,"post_id":75873555,"comment_id":133832605,"body_markdown":"by what logic do you think this contains should return true?","body":"by what logic do you think this contains should return true?"}],"answers":[{"tags":[],"owner":{"account_id":2352177,"reputation":75759,"user_id":2060725,"accept_rate":83,"display_name":"nvoigt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680073169,"creation_date":1680073169,"answer_id":75874062,"question_id":75873555,"body_markdown":"The variables *are not* the same. \r\n\r\nWhat you probably want to do is take these two sentences, split them into words at the comma and compare whether your lists of words contain the same words (probably without any priority on the order, Pepper and Salt is the same as Salt and Pepper).\r\n\r\nSince you tagged it [tag:Dart]:\r\n\r\n    void main() {\r\n      var a = &#39;Onion,Pepper,Paneer&#39;.split(&#39;,&#39;);\r\n      var b = &#39;Pepper,Paneer,Onion&#39;.split(&#39;,&#39;);\r\n      \r\n      if (a.containsTheSameElementsAs(b)) {\r\n        print(&#39;This is same&#39;);\r\n      } else {\r\n        print(&#39;This is not same.&#39;);\r\n      }\r\n    \r\n      var c = &#39;Onion,Pepper,Paneer&#39;.split(&#39;,&#39;);\r\n      var d = &#39;Pepper,Onion&#39;.split(&#39;,&#39;); \r\n      if (c.containsTheSameElementsAs(d)) {\r\n        print(&#39;This is same&#39;);\r\n      } else {\r\n        print(&#39;This is not same.&#39;);\r\n      }\r\n    }\r\n    \r\n    extension on List {\r\n      bool containsTheSameElementsAs(List other) {\r\n        return length == other.length &amp;&amp; every(other.contains);\r\n      }\r\n    }\r\n\r\nI&#39;m sure something very similar is available in [tag:Java].","title":"problem: How to check variable same or not?","body":"<p>The variables <em>are not</em> the same.</p>\n<p>What you probably want to do is take these two sentences, split them into words at the comma and compare whether your lists of words contain the same words (probably without any priority on the order, Pepper and Salt is the same as Salt and Pepper).</p>\n<p>Since you tagged it <a href=\"/questions/tagged/dart\" class=\"post-tag\" title=\"show questions tagged &#39;dart&#39;\" aria-label=\"show questions tagged &#39;dart&#39;\" rel=\"tag\" aria-labelledby=\"tag-dart-tooltip-container\">dart</a>:</p>\n<pre><code>void main() {\n  var a = 'Onion,Pepper,Paneer'.split(',');\n  var b = 'Pepper,Paneer,Onion'.split(',');\n  \n  if (a.containsTheSameElementsAs(b)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\n  var c = 'Onion,Pepper,Paneer'.split(',');\n  var d = 'Pepper,Onion'.split(','); \n  if (c.containsTheSameElementsAs(d)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n}\n\nextension on List {\n  bool containsTheSameElementsAs(List other) {\n    return length == other.length &amp;&amp; every(other.contains);\n  }\n}\n</code></pre>\n<p>I'm sure something very similar is available in <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" aria-label=\"show questions tagged &#39;java&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-tooltip-container\">java</a>.</p>\n"}],"owner":{"account_id":21224802,"reputation":1834,"user_id":15610685,"display_name":"Deepak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75874062,"answer_count":1,"score":-1,"last_activity_date":1680073169,"creation_date":1680068894,"question_id":75873555,"body_markdown":"Here I have two variable with same item but when i checking it then it is saying its not same.\r\n\r\nHere I want variable a and variable b both same after chacking and I want variable c and variable d both not same after chacking.\r\n\r\n```\r\nvoid main() {\r\n  var a = &#39;Onion,Pepper,Paneer&#39;;\r\n  var b = &#39;Pepper,Paneer,Onion&#39;;\r\n  if (a.contains(b)) {\r\n    print(&#39;This is same&#39;);\r\n  } else {\r\n    print(&#39;This is not same.&#39;);\r\n  }\r\n\r\nvar c = &#39;Onion,Pepper,Paneer&#39;;\r\n  var d = &#39;Pepper,Onion&#39;; Or &#39;Onion,Pepper,Cheese&#39;;\r\n  if (c.contains(d)) {\r\n    print(&#39;This is same&#39;);\r\n  } else {\r\n    print(&#39;This is not same.&#39;);\r\n  }\r\n\r\n}\r\n```","title":"problem: How to check variable same or not?","body":"<p>Here I have two variable with same item but when i checking it then it is saying its not same.</p>\n<p>Here I want variable a and variable b both same after chacking and I want variable c and variable d both not same after chacking.</p>\n<pre><code>void main() {\n  var a = 'Onion,Pepper,Paneer';\n  var b = 'Pepper,Paneer,Onion';\n  if (a.contains(b)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\nvar c = 'Onion,Pepper,Paneer';\n  var d = 'Pepper,Onion'; Or 'Onion,Pepper,Cheese';\n  if (c.contains(d)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\n}\n</code></pre>\n"},{"tags":["java","jdbc","sybase"],"comments":[{"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"score":0,"creation_date":1680114169,"post_id":75857161,"comment_id":133844171,"body_markdown":"try pushing PreparedStatement stm = conn.prepareStatement(...) inside the cycle and explicitly close it after each iteration","body":"try pushing PreparedStatement stm = conn.prepareStatement(...) inside the cycle and explicitly close it after each iteration"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1680237513,"post_id":75857161,"comment_id":133867584,"body_markdown":"@access_granted, this is almost what I do: I refactored this method and call it with 1 query, not with the list. But my purpose was to push multiple queries in 1 connection.","body":"@access_granted, this is almost what I do: I refactored this method and call it with 1 query, not with the list. But my purpose was to push multiple queries in 1 connection."}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073041,"creation_date":1679928356,"question_id":75857161,"body_markdown":"I use `com.sybase.jdbc42.jdbc.SybDriver` to connect to sybase. \r\nI get \r\n\r\n`SQL Anywhere Error -188: Not enough values for host variables` \r\n\r\nwhen I execute multiple statements like this :\r\n\r\n`delete from CHARGING_PLAN2APPLICATIONS where CHARGING_P\r\nLAN_ID=?;update CHARGING_PLAN  set NAME= ? ,ADMIN =?,LAST_CHANGE= current utc timestamp where ID=?;`\r\n\r\nIt could happen with different statements: delete + update or insert + insert.\r\nWith remote debug I checked that I pass all variabless required for statement. In pseudocode it looks like that:\r\n\r\n```\r\npublic void executeMultipleStatementQuery(List&lt;TransactionData&gt; queries) throws SQLException {\r\n    Connection conn = getConnection();\r\n    StringBuilder fullStatement = new StringBuilder(500);\r\n    List&lt;Object&gt; totalParams = new ArrayList&lt;&gt;();\r\n    // save all queries to one string and separate them with &quot;;&quot;\r\n    for (TransactionData query : queries) {\r\n        fullStatement.append(query.getSqlStatement());\r\n\t\tfullStatement.append(&quot;;&quot;);\r\n        Collections.addAll(totalParams, query.getParams());\r\n    }\r\n    PreparedStatement stm = conn.prepareStatement(fullStatement.substring(0, fullStatement.length() - 1));\r\n    // save all parameters to PreparedStatement\r\n    for (Object param : totalParams) {\r\n\t\tif (param instanceof NullValue) {\r\n\t\t\tstm.setNull(i, ((NullValue) param).getType());\r\n\t\t} else {\r\n\t\t\tstm.setObject(i, param);\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n}\r\n```\r\n\r\nBut get SQL error. \r\n\r\nWhen I sent each statement separately - it works...\r\n\r\nWhat could be a root cause of such error?","title":"SybSQLException: SQL Anywhere Error -188: Not enough values for host variables with jdbc42 SybDriver","body":"<p>I use <code>com.sybase.jdbc42.jdbc.SybDriver</code> to connect to sybase.\nI get</p>\n<p><code>SQL Anywhere Error -188: Not enough values for host variables</code></p>\n<p>when I execute multiple statements like this :</p>\n<p><code>delete from CHARGING_PLAN2APPLICATIONS where CHARGING_P LAN_ID=?;update CHARGING_PLAN  set NAME= ? ,ADMIN =?,LAST_CHANGE= current utc timestamp where ID=?;</code></p>\n<p>It could happen with different statements: delete + update or insert + insert.\nWith remote debug I checked that I pass all variabless required for statement. In pseudocode it looks like that:</p>\n<pre><code>public void executeMultipleStatementQuery(List&lt;TransactionData&gt; queries) throws SQLException {\n    Connection conn = getConnection();\n    StringBuilder fullStatement = new StringBuilder(500);\n    List&lt;Object&gt; totalParams = new ArrayList&lt;&gt;();\n    // save all queries to one string and separate them with &quot;;&quot;\n    for (TransactionData query : queries) {\n        fullStatement.append(query.getSqlStatement());\n        fullStatement.append(&quot;;&quot;);\n        Collections.addAll(totalParams, query.getParams());\n    }\n    PreparedStatement stm = conn.prepareStatement(fullStatement.substring(0, fullStatement.length() - 1));\n    // save all parameters to PreparedStatement\n    for (Object param : totalParams) {\n        if (param instanceof NullValue) {\n            stm.setNull(i, ((NullValue) param).getType());\n        } else {\n            stm.setObject(i, param);\n        }\n        i++;\n    }\n}\n</code></pre>\n<p>But get SQL error.</p>\n<p>When I sent each statement separately - it works...</p>\n<p>What could be a root cause of such error?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":4565523,"reputation":343,"user_id":3706623,"display_name":"LucaT"},"score":0,"creation_date":1684161328,"post_id":75746912,"comment_id":134472523,"body_markdown":"not sure if is the same problem..but I&#39;m trying to configure spring boot 3 with the new swagger &quot;springdoc-openapi-starter-webmvc-ui&quot;. In my project I have to extends WebMvcConfigurationSupport but it seems that extending this brake the swagger ui.. Any ideas ?","body":"not sure if is the same problem..but I&#39;m trying to configure spring boot 3 with the new swagger &quot;springdoc-openapi-starter-webmvc-ui&quot;. In my project I have to extends WebMvcConfigurationSupport but it seems that extending this brake the swagger ui.. Any ideas ?"}],"answers":[{"comments":[{"owner":{"account_id":21965373,"reputation":31,"user_id":16242712,"display_name":"Stalowy"},"score":0,"creation_date":1680011619,"post_id":75865133,"comment_id":133821384,"body_markdown":"I will provide more detailed information later, because I&#39;ve found a way to make it works. Some minor code corrections","body":"I will provide more detailed information later, because I&#39;ve found a way to make it works. Some minor code corrections"},{"owner":{"account_id":1944143,"reputation":71,"user_id":1749658,"display_name":"user1749658"},"score":0,"creation_date":1694068166,"post_id":75865133,"comment_id":135842958,"body_markdown":"Thanks, this `.resourceChain(false).addTransformer(swaggerIndexTransformer)` was the missing point in my case.","body":"Thanks, this <code>.resourceChain(false).addTransformer(swaggerIndexTransformer&zwnj;&#8203;)</code> was the missing point in my case."}],"tags":[],"owner":{"account_id":21965373,"reputation":31,"user_id":16242712,"display_name":"Stalowy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680072916,"creation_date":1679999557,"answer_id":75865133,"question_id":75746912,"body_markdown":"I had the same problem. I found one solution when i have tried debugging the springdoc code. I noticed that there is class `SwaggerWebMvcConfigurer` which has method `addResourceHandler()`. Because we have used `WebMvcConfigurationSupport` this method is not triggered in my opinion (For example `DelegatingWebMvcConfiguration` delegating somehow addResourceHandlers upper in class hierarchy, I am not sure). \r\n\r\nSo, this is my code which helped:\r\n\r\n\r\n        @ComponentScan(basePackages = {&quot;org.springdoc&quot;})\r\n    @Import({\r\n            org.springdoc.core.SpringDocConfiguration.class,\r\n            org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\r\n            org.springdoc.webmvc.ui.SwaggerConfig.class,\r\n            org.springdoc.core.SwaggerUiConfigProperties.class,\r\n            org.springdoc.core.SwaggerUiOAuthProperties.class,\r\n        org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class\r\n    })\r\n        public class SwaggerConfig { \r\n        \r\n            private final SwaggerIndexTransformer swaggerIndexTransformer;\r\n            \r\n                public CloudServletConfig(SwaggerIndexTransformer swaggerIndexTransformer) {\r\n                    this.swaggerIndexTransformer = swaggerIndexTransformer;\r\n                }\r\n            \r\n            @Override\r\n            public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n                registry.addResourceHandler(&quot;/swagger-ui*/**&quot;)\r\n                        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;)\r\n                        .resourceChain(false)\r\n                        .addTransformer(swaggerIndexTransformer);\r\n            }\r\n\r\nI&#39;m, just doing the same what `SwaggerWebMvcConfigurer` does. I think so :D\r\n\r\n  [1]: https://i.stack.imgur.com/GBJVI.png","title":"Springdoc doesn&#39;t work WebMvcConfigurationSupport","body":"<p>I had the same problem. I found one solution when i have tried debugging the springdoc code. I noticed that there is class <code>SwaggerWebMvcConfigurer</code> which has method <code>addResourceHandler()</code>. Because we have used <code>WebMvcConfigurationSupport</code> this method is not triggered in my opinion (For example <code>DelegatingWebMvcConfiguration</code> delegating somehow addResourceHandlers upper in class hierarchy, I am not sure).</p>\n<p>So, this is my code which helped:</p>\n<pre><code>    @ComponentScan(basePackages = {&quot;org.springdoc&quot;})\n@Import({\n        org.springdoc.core.SpringDocConfiguration.class,\n        org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\n        org.springdoc.webmvc.ui.SwaggerConfig.class,\n        org.springdoc.core.SwaggerUiConfigProperties.class,\n        org.springdoc.core.SwaggerUiOAuthProperties.class,\n    org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class\n})\n    public class SwaggerConfig { \n    \n        private final SwaggerIndexTransformer swaggerIndexTransformer;\n        \n            public CloudServletConfig(SwaggerIndexTransformer swaggerIndexTransformer) {\n                this.swaggerIndexTransformer = swaggerIndexTransformer;\n            }\n        \n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(&quot;/swagger-ui*/**&quot;)\n                    .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;)\n                    .resourceChain(false)\n                    .addTransformer(swaggerIndexTransformer);\n        }\n</code></pre>\n<p>I'm, just doing the same what <code>SwaggerWebMvcConfigurer</code> does. I think so :D</p>\n"}],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680072916,"creation_date":1678894562,"question_id":75746912,"body_markdown":"I am working on old legacy project where spring boot was configured using WebMvcConfigurationSupport and now need to set up swagger ui using spring doc. Unfortunately it&#39;s not working properly when @EnableWebMvc is disabled.\r\n\r\nWhen I have this\r\n```\r\nregistry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.17.1/&quot;).resourceChain(false);\r\n```\r\nDefault ui with petstore is loaded. \r\n\r\nWith @EnableWebMvc it works but core app functionality is broken as all validators and front-end don&#39;t work. So I can&#39;t use it.\r\n\r\nVia Debug I see that SwaggerIndexPageTransformer is not called. \r\n\r\nWhat should I do? ","title":"Springdoc doesn&#39;t work WebMvcConfigurationSupport","body":"<p>I am working on old legacy project where spring boot was configured using WebMvcConfigurationSupport and now need to set up swagger ui using spring doc. Unfortunately it's not working properly when @EnableWebMvc is disabled.</p>\n<p>When I have this</p>\n<pre><code>registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.17.1/&quot;).resourceChain(false);\n</code></pre>\n<p>Default ui with petstore is loaded.</p>\n<p>With @EnableWebMvc it works but core app functionality is broken as all validators and front-end don't work. So I can't use it.</p>\n<p>Via Debug I see that SwaggerIndexPageTransformer is not called.</p>\n<p>What should I do?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679995277,"post_id":75864185,"comment_id":133816786,"body_markdown":"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter , https://github.com/spring-projects/spring-security/issues/11926 (+ linked)","body":"<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a> , <a href=\"https://github.com/spring-projects/spring-security/issues/11926\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/11926</a> (+ linked)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680020010,"post_id":75864185,"comment_id":133823891,"body_markdown":"Please try (I&#39;m mobile): remove the `@Bean` (but still try to auto-wire it)","body":"Please try (I&#39;m mobile): remove the <code>@Bean</code> (but still try to auto-wire it)"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1680032798,"post_id":75864185,"comment_id":133827179,"body_markdown":"this seems to be your problem [AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider](https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w)","body":"this seems to be your problem <a href=\"https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w\">AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider</a>"}],"answers":[{"comments":[{"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"score":0,"creation_date":1679994501,"post_id":75864231,"comment_id":133816585,"body_markdown":"I want to use the AuthenticationManager to do something like`authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));`\nWhen I do, I still get a StackOverflowError","body":"I want to use the AuthenticationManager to do something like<code>authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));</code> When I do, I still get a StackOverflowError"}],"tags":[],"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679994104,"creation_date":1679994104,"answer_id":75864231,"question_id":75864185,"body_markdown":"You should remove:\r\n\r\n    System.out.println(authenticationManager);\r\n\r\nAs it seems to be called recursively and cause the problem (see the line `$Proxy58.toString(Unknown Source)` ).\r\nIf you want to make sure it is called, just put a simple string, or better yet, use the debugger.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>You should remove:</p>\n<pre><code>System.out.println(authenticationManager);\n</code></pre>\n<p>As it seems to be called recursively and cause the problem (see the line <code>$Proxy58.toString(Unknown Source)</code> ).\nIf you want to make sure it is called, just put a simple string, or better yet, use the debugger.</p>\n"},{"tags":[],"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680072584,"creation_date":1680072584,"answer_id":75873985,"question_id":75864185,"body_markdown":"Thanks for you suggestions. I added a Controller class and put the following code in it:\r\n```\r\n@Autowired\r\nHttpSecurity httpSecurity;\r\n@Autowired\r\nUserService userService;\r\n@Autowired\r\nPasswordEncoder passwordEncoder;\r\n\r\n@Bean\r\npublic AuthenticationManager authenticationManager() throws Exception {\r\n    return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\r\n        .userDetailsService(userService)\r\n        .passwordEncoder(passwordEncoder)\r\n        .and()\r\n        .build();\r\n}\r\n```\r\nThis worked for me.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>Thanks for you suggestions. I added a Controller class and put the following code in it:</p>\n<pre><code>@Autowired\nHttpSecurity httpSecurity;\n@Autowired\nUserService userService;\n@Autowired\nPasswordEncoder passwordEncoder;\n\n@Bean\npublic AuthenticationManager authenticationManager() throws Exception {\n    return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\n        .userDetailsService(userService)\n        .passwordEncoder(passwordEncoder)\n        .and()\n        .build();\n}\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1680258529,"accepted_answer_id":75873985,"answer_count":2,"score":-2,"last_activity_date":1680072584,"creation_date":1679993729,"question_id":75864185,"body_markdown":"I&#39;m trying to make a spring boot application with JWT security. I want to use Spring Security&#39;s AuthenticationManager for authentication. I create a AuthenticationManager Bean in my Configuration Class and Autowire this in my RestController class. But when I want to use the AuthenticationManager I get an StackOverflowError.\r\n\r\nMy Controller class:\r\n```\r\n@RestController\r\npublic class AuthenticationController {\r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n\r\n    @GetMapping(&quot;/sign-in&quot;)\r\n    public String signIn() {\r\n        System.out.println(authenticationManager);\r\n        return &quot;Hello World&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy Configuration class:\r\n```\r\n@Configuration\r\npublic class JwtConfiguration {\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            final AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(final HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/sign-in&quot;).permitAll();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThe error I get when i am doing a GET request to /sign-in:\r\n\r\n```\r\n\r\njava.lang.StackOverflowError: null\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n```\r\netc.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>I'm trying to make a spring boot application with JWT security. I want to use Spring Security's AuthenticationManager for authentication. I create a AuthenticationManager Bean in my Configuration Class and Autowire this in my RestController class. But when I want to use the AuthenticationManager I get an StackOverflowError.</p>\n<p>My Controller class:</p>\n<pre><code>@RestController\npublic class AuthenticationController {\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @GetMapping(&quot;/sign-in&quot;)\n    public String signIn() {\n        System.out.println(authenticationManager);\n        return &quot;Hello World&quot;;\n    }\n}\n</code></pre>\n<p>My Configuration class:</p>\n<pre><code>@Configuration\npublic class JwtConfiguration {\n    @Bean\n    public AuthenticationManager authenticationManager(\n            final AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain configure(final HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/sign-in&quot;).permitAll();\n        return http.build();\n    }\n}\n</code></pre>\n<p>The error I get when i am doing a GET request to /sign-in:</p>\n<pre><code>\njava.lang.StackOverflowError: null\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n</code></pre>\n<p>etc.</p>\n"},{"tags":["java","android","exoplayer","playback","android-media3"],"answers":[{"tags":[],"owner":{"account_id":15376634,"reputation":1,"user_id":11093143,"display_name":"Huzefa Diwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680072215,"creation_date":1680072215,"answer_id":75873935,"question_id":75870538,"body_markdown":"managed to fix it by changing the url. Instead of share URL in One Drive I took the embed URL. In the URL made the following changes\r\n- changed &quot;/embed&quot; to &quot;/download&quot;\r\n- added &quot;&amp;play=1&quot; at the end of URL to make sure it plays directly from server instead of downloading\r\n\r\nafter these changes, the error was gone and the player stared working.","title":"Getting &quot;UnrecognizedInputFormatException&quot; with media3-exoplayer when streaming mp3 from onedrive","body":"<p>managed to fix it by changing the url. Instead of share URL in One Drive I took the embed URL. In the URL made the following changes</p>\n<ul>\n<li>changed &quot;/embed&quot; to &quot;/download&quot;</li>\n<li>added &quot;&amp;play=1&quot; at the end of URL to make sure it plays directly from server instead of downloading</li>\n</ul>\n<p>after these changes, the error was gone and the player stared working.</p>\n"}],"owner":{"account_id":15376634,"reputation":1,"user_id":11093143,"display_name":"Huzefa Diwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680072215,"creation_date":1680033276,"question_id":75870538,"body_markdown":"Very new to android programming, I am trying to implement media3-exoplayer in my app. I read the developer.adroid material and tried the basic scenario first but my mp3 wont play. Getting the below error everytime\r\n\r\n```\r\nE/ExoPlayerImplInternal: Playback error\r\n      androidx.media3.exoplayer.ExoPlaybackException: Source error\r\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:652)\r\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:622)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n     Caused by: androidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors (FlvExtractor, FlacExtractor, WavExtractor, FragmentedMp4Extractor, Mp4Extractor, AmrExtractor, PsExtractor, OggExtractor, TsExtractor, MatroskaExtractor, AdtsExtractor, Ac3Extractor, Ac4Extractor, Mp3Extractor, AviExtractor, JpegExtractor) could read the stream.\r\n        at androidx.media3.exoplayer.source.BundledExtractorsAdapter.init(BundledExtractorsAdapter.java:94)\r\n        at androidx.media3.exoplayer.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1018)\r\n        at androidx.media3.exoplayer.upstream.Loader$LoadTask.run(Loader.java:414)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\n\r\nhere is my java code\r\n\r\n\r\n```\r\naudioURL = &quot;https://1drv.ms/u/s!AinVIRl3CTeehK4nagw3kE9u9ArztA?e=Cvd4v3&quot;;\r\n\r\nUri audioUri = Uri.parse(audioURL);\r\n\r\nexoPlayer = new ExoPlayer.Builder(this).build();\r\n\r\nexoPlayerView = findViewById(R.id.mediaPlayer);\r\n\r\n// Bind the player to the view.\r\nexoPlayerView.setPlayer(exoPlayer);\r\n\r\n// Build the media item.\r\nMediaItem mediaItem = MediaItem.fromUri(audioUri);\r\n\r\n// Set the media item to be played.\r\nexoPlayer.setMediaItem(mediaItem);\r\n\r\n// Prepare the player.\r\nexoPlayer.prepare();\r\n// Start the playback.\r\nexoPlayer.play();\r\n```\r\n\r\n\r\n\r\n\r\nI tried building diffenet media source (hls, progressive etc) instead of media item and setting the mediasource as well but nothing worked.\r\nfile is definately mp3 checked mutiple times to make sure.\r\nmp3 link is directly copied from the share option in one drive ","title":"Getting &quot;UnrecognizedInputFormatException&quot; with media3-exoplayer when streaming mp3 from onedrive","body":"<p>Very new to android programming, I am trying to implement media3-exoplayer in my app. I read the developer.adroid material and tried the basic scenario first but my mp3 wont play. Getting the below error everytime</p>\n<pre><code>E/ExoPlayerImplInternal: Playback error\n      androidx.media3.exoplayer.ExoPlaybackException: Source error\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:652)\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:622)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n     Caused by: androidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors (FlvExtractor, FlacExtractor, WavExtractor, FragmentedMp4Extractor, Mp4Extractor, AmrExtractor, PsExtractor, OggExtractor, TsExtractor, MatroskaExtractor, AdtsExtractor, Ac3Extractor, Ac4Extractor, Mp3Extractor, AviExtractor, JpegExtractor) could read the stream.\n        at androidx.media3.exoplayer.source.BundledExtractorsAdapter.init(BundledExtractorsAdapter.java:94)\n        at androidx.media3.exoplayer.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1018)\n        at androidx.media3.exoplayer.upstream.Loader$LoadTask.run(Loader.java:414)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>here is my java code</p>\n<pre><code>audioURL = &quot;https://1drv.ms/u/s!AinVIRl3CTeehK4nagw3kE9u9ArztA?e=Cvd4v3&quot;;\n\nUri audioUri = Uri.parse(audioURL);\n\nexoPlayer = new ExoPlayer.Builder(this).build();\n\nexoPlayerView = findViewById(R.id.mediaPlayer);\n\n// Bind the player to the view.\nexoPlayerView.setPlayer(exoPlayer);\n\n// Build the media item.\nMediaItem mediaItem = MediaItem.fromUri(audioUri);\n\n// Set the media item to be played.\nexoPlayer.setMediaItem(mediaItem);\n\n// Prepare the player.\nexoPlayer.prepare();\n// Start the playback.\nexoPlayer.play();\n</code></pre>\n<p>I tried building diffenet media source (hls, progressive etc) instead of media item and setting the mediasource as well but nothing worked.\nfile is definately mp3 checked mutiple times to make sure.\nmp3 link is directly copied from the share option in one drive</p>\n"},{"tags":["java","android","kotlin","android-emulator","simulator"],"answers":[{"comments":[{"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"score":0,"creation_date":1662460746,"post_id":73620576,"comment_id":130005316,"body_markdown":"Karan i know this setting but the question is that i want to remove sim from emulator like emulator has slot like real device but no sim in it","body":"Karan i know this setting but the question is that i want to remove sim from emulator like emulator has slot like real device but no sim in it"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1662460863,"post_id":73620576,"comment_id":130005351,"body_markdown":"There is voice status and data status in which you can change that to &quot;Unregistered&quot;","body":"There is voice status and data status in which you can change that to &quot;Unregistered&quot;"}],"tags":[],"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662460504,"creation_date":1662460504,"answer_id":73620576,"question_id":73620525,"body_markdown":"You should go to menu options as shown in below image,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd then,\r\n\r\nChange whichever setting you want from Cellular menu\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6PsOW.png\r\n  [2]: https://i.stack.imgur.com/zcW4g.png","title":"Is There any android Emulator that have Sim slot but no sim in?","body":"<p>You should go to menu options as shown in below image,</p>\n<p><a href=\"https://i.stack.imgur.com/6PsOW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PsOW.png\" alt=\"enter image description here\" /></a></p>\n<p>And then,</p>\n<p>Change whichever setting you want from Cellular menu</p>\n<p><a href=\"https://i.stack.imgur.com/zcW4g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcW4g.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680072195,"creation_date":1662460268,"question_id":73620525,"body_markdown":"I want to Remove insert Sim in android emulator but i cannot see any setting their how i can achive it or is there any specific model here in which we can insert remove sim card..?","title":"Is There any android Emulator that have Sim slot but no sim in?","body":"<p>I want to Remove insert Sim in android emulator but i cannot see any setting their how i can achive it or is there any specific model here in which we can insert remove sim card..?</p>\n"},{"tags":["java","xml","spring-boot","java-8","utf-8"],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680071727,"creation_date":1679635898,"question_id":75830318,"body_markdown":"I am getting the error when I trigger the endpoint from UI. When I try from postman the application is giving success response. And I am not accessible for the XML generated from the UI in my microservice application. \r\n\r\nerror \r\n```\r\norg.springframework.http.converter.HttpMessageNotReadableException: Could not unmarshal to [class com.core.navigation.schema.Navigation]: null; nested exception is javax.xml.bind.UnmarshalException\r\n  with linked exception:\r\n[com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.]\r\n```\r\n\r\nController code\r\n \r\n```\r\n @RequestMapping(value = &quot;/values&quot;, method = RequestMethod.POST)\r\n    @ApiOperation(value = &quot;Method to get the data&quot;)\r\n    @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;), @ApiResponse(code = 400, message = &quot;Bad Request&quot;),\r\n            @ApiResponse(code = 404, message = &quot;Resource not available&quot;),\r\n            @ApiResponse(code = 415, message = &quot;Unsupported Media Type&quot;),\r\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;)})\r\n    @ResponseBody\r\n    Navigation overlays(@RequestBody @ApiParam(name = &quot;navigation&quot;, value = &quot;XML schema&quot;, required = true) Navigation navigation,\r\n            @RequestHeader @ApiParam(name = &quot;headers&quot;, value = &quot;Http headers&quot;, required = true) Map&lt;String, String&gt; headers)\r\n            throws JAXBException; \r\n  ```\r\n    \r\n\r\nPOM.xml dependencies with versions \r\n```\r\nspring-boot-starter-web - 2.0.8.RELEASE\r\ngson                    - 2.3.1\r\njson-lib                - 2.3\r\nspring-cloud-starter-kubernetes-config -1.1.10.RELEASE\r\njson                    - 20230227\r\nxmlrpc-client           - 3.1.3\r\nspring-security-oauth2-autoconfigure - 2.0.8.RELEASE\r\nspring-security-config\r\nspring-security-web\r\nspring-cloud-starter-openfeign - 2.0.0.RELEASE\r\nspring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\r\nspring-boot-starter-actuator\r\ncommons-lang3           - 3.8.1\r\nlombok\r\nspring-cloud-starter-config - 2.0.3.RELEASE\r\nmicrometer-registry-prometheus - 1.2.2\r\nmicrometer-core - 1.2.2\r\nspring-boot-starter-test\r\nspring-cloud-dependencies - Finchley.SR3\r\n```\r\n   \r\n    ","title":"com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence","body":"<p>I am getting the error when I trigger the endpoint from UI. When I try from postman the application is giving success response. And I am not accessible for the XML generated from the UI in my microservice application.</p>\n<p>error</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: Could not unmarshal to [class com.core.navigation.schema.Navigation]: null; nested exception is javax.xml.bind.UnmarshalException\n  with linked exception:\n[com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.]\n</code></pre>\n<p>Controller code</p>\n<pre><code> @RequestMapping(value = &quot;/values&quot;, method = RequestMethod.POST)\n    @ApiOperation(value = &quot;Method to get the data&quot;)\n    @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;), @ApiResponse(code = 400, message = &quot;Bad Request&quot;),\n            @ApiResponse(code = 404, message = &quot;Resource not available&quot;),\n            @ApiResponse(code = 415, message = &quot;Unsupported Media Type&quot;),\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;)})\n    @ResponseBody\n    Navigation overlays(@RequestBody @ApiParam(name = &quot;navigation&quot;, value = &quot;XML schema&quot;, required = true) Navigation navigation,\n            @RequestHeader @ApiParam(name = &quot;headers&quot;, value = &quot;Http headers&quot;, required = true) Map&lt;String, String&gt; headers)\n            throws JAXBException; \n</code></pre>\n<p>POM.xml dependencies with versions</p>\n<pre><code>spring-boot-starter-web - 2.0.8.RELEASE\ngson                    - 2.3.1\njson-lib                - 2.3\nspring-cloud-starter-kubernetes-config -1.1.10.RELEASE\njson                    - 20230227\nxmlrpc-client           - 3.1.3\nspring-security-oauth2-autoconfigure - 2.0.8.RELEASE\nspring-security-config\nspring-security-web\nspring-cloud-starter-openfeign - 2.0.0.RELEASE\nspring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\nspring-boot-starter-actuator\ncommons-lang3           - 3.8.1\nlombok\nspring-cloud-starter-config - 2.0.3.RELEASE\nmicrometer-registry-prometheus - 1.2.2\nmicrometer-core - 1.2.2\nspring-boot-starter-test\nspring-cloud-dependencies - Finchley.SR3\n</code></pre>\n"},{"tags":["java","aws-lambda","dependency-injection","dagger"],"comments":[{"owner":{"account_id":2008941,"reputation":8898,"user_id":1797950,"accept_rate":33,"display_name":"crgarridos"},"score":0,"creation_date":1655030700,"post_id":72569186,"comment_id":128229186,"body_markdown":"Take a look to fast init : https://dagger.dev/dev-guide/compiler-options.html","body":"Take a look to fast init : <a href=\"https://dagger.dev/dev-guide/compiler-options.html\" rel=\"nofollow noreferrer\">dagger.dev/dev-guide/compiler-options.html</a>"}],"owner":{"account_id":23670423,"reputation":11,"user_id":17697251,"display_name":"OwI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680071668,"creation_date":1654836341,"question_id":72569186,"body_markdown":"I am using Dagger for DI in my java program, I will be using AWS lambda to host the service.\r\n\r\nThere is one component that takes a long time to load, and multiple services will be hosted but not all service will require this component.\r\nSo the problem is this large component will be loaded whether or not required.(extra cost in Lambda)\r\n\r\nIs there a way such I can let dagger know not to load this costly component every time, or any way to let dagger only load necessary components?\r\n\r\nI am very new to Dagger, I do not know what keywords to use to search this question. If this question is already answered elsewhere, a paste of the link will be appreciated.\r\n\r\nThanks ahead!","title":"If I have a very large component, can I tell Dagger to only load it when needed at program start?","body":"<p>I am using Dagger for DI in my java program, I will be using AWS lambda to host the service.</p>\n<p>There is one component that takes a long time to load, and multiple services will be hosted but not all service will require this component.\nSo the problem is this large component will be loaded whether or not required.(extra cost in Lambda)</p>\n<p>Is there a way such I can let dagger know not to load this costly component every time, or any way to let dagger only load necessary components?</p>\n<p>I am very new to Dagger, I do not know what keywords to use to search this question. If this question is already answered elsewhere, a paste of the link will be appreciated.</p>\n<p>Thanks ahead!</p>\n"},{"tags":["java","encryption","bouncycastle","private-key"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1565228576,"post_id":57403322,"comment_id":101289757,"body_markdown":"There isn&#39;t enough information in your question to determine why you&#39;re having a problem. When I use your code with a known valid private key in the same format I get no errors.","body":"There isn&#39;t enough information in your question to determine why you&#39;re having a problem. When I use your code with a known valid private key in the same format I get no errors."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1565249184,"post_id":57403322,"comment_id":101295290,"body_markdown":"(1) Yes PEM format does have (required) line breaks in the base64 &#39;blob&#39;; see wikipedia and/or rfc7468 section 2. (2) Confirm if you are using `javax/crypto/EncryptedPrivateKeyInfo` and not any of several other classes with the same relative name. If so the ctor should never give such an error, but an added or subsequent `getKeySpec(various)` might do so depending the data in the keyfile. If you have openssl, look at `openssl asn1parse -i -in pemfile` (or `-in derfile -inform der`), or add to your Q (by editting) with the last OCTET STRING redacted (that&#39;s your actual encrypted key data)","body":"(1) Yes PEM format does have (required) line breaks in the base64 &#39;blob&#39;; see wikipedia and/or rfc7468 section 2. (2) Confirm if you are using <code>javax&#47;crypto&#47;EncryptedPrivateKeyInfo</code> and not any of several other classes with the same relative name. If so the ctor should never give such an error, but an added or subsequent <code>getKeySpec(various)</code> might do so depending the data in the keyfile. If you have openssl, look at <code>openssl asn1parse -i -in pemfile</code> (or <code>-in derfile -inform der</code>), or add to your Q (by editting) with the last OCTET STRING redacted (that&#39;s your actual encrypted key data)"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1565249290,"post_id":57403322,"comment_id":101295339,"body_markdown":"(3) your bouncycastle problem is a different problem; if you want to pursue it, ask a separate question and describe exactly what jar you are using. In particular if you put bcprov into any repackaging such as &#39;one-jar&#39; &#39;single-jar&#39; maven gradle Ecliipse Intellij Netbeans etc that won&#39;t work.","body":"(3) your bouncycastle problem is a different problem; if you want to pursue it, ask a separate question and describe exactly what jar you are using. In particular if you put bcprov into any repackaging such as &#39;one-jar&#39; &#39;single-jar&#39; maven gradle Ecliipse Intellij Netbeans etc that won&#39;t work."},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1565267218,"post_id":57403322,"comment_id":101305072,"body_markdown":"If you can supply the sample encrypted message with a key (otherwise known as a [mcve]), then someone might be able to debug it further.","body":"If you can supply the sample encrypted message with a key (otherwise known as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>), then someone might be able to debug it further."}],"answers":[{"tags":[],"owner":{"account_id":7554090,"reputation":419,"user_id":5734474,"display_name":"Map"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580585281,"creation_date":1580585281,"answer_id":60020403,"question_id":57403322,"body_markdown":"You need to make sure your private key is encrypted with AES ciphers.\r\n\r\nAt the beginning of your encrypted private key file, you can see something like below:\r\n\r\n```\r\n-----BEGIN RSA PRIVATE KEY-----\r\nProc-Type: 4,ENCRYPTED\r\nDEK-Info: DES-CBC,2241040B6A6E0FBE\r\n```\r\nThe `DEK-Info` tells you what encryption algorithm is in use.\r\n\r\nYou can use `openssl` to convert the cipher:\r\n```\r\nopenssl rsa -in des.pem -aes256 -out aes.pem\r\n```\r\nto get an AES encrypted private key:\r\n\r\n```\r\n-----BEGIN RSA PRIVATE KEY-----\r\nProc-Type: 4,ENCRYPTED\r\nDEK-Info: AES-256-CBC,40FACC69B7E9ED576BF8300B871701EB\r\n```\r\nAs of today, `javax.crypto` still only supports AES ciphers only per [JDK-8076999](https://bugs.openjdk.java.net/browse/JDK-8076999). And that&#39;s why you would get this error:\r\n\r\n```\r\nPBE parameter parsing error: expecting the object identifier for AES cipher\r\n```","title":"How to Decrypt private key(String) with passphrase - java","body":"<p>You need to make sure your private key is encrypted with AES ciphers.</p>\n\n<p>At the beginning of your encrypted private key file, you can see something like below:</p>\n\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-CBC,2241040B6A6E0FBE\n</code></pre>\n\n<p>The <code>DEK-Info</code> tells you what encryption algorithm is in use.</p>\n\n<p>You can use <code>openssl</code> to convert the cipher:</p>\n\n<pre><code>openssl rsa -in des.pem -aes256 -out aes.pem\n</code></pre>\n\n<p>to get an AES encrypted private key:</p>\n\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: AES-256-CBC,40FACC69B7E9ED576BF8300B871701EB\n</code></pre>\n\n<p>As of today, <code>javax.crypto</code> still only supports AES ciphers only per <a href=\"https://bugs.openjdk.java.net/browse/JDK-8076999\" rel=\"nofollow noreferrer\">JDK-8076999</a>. And that's why you would get this error:</p>\n\n<pre><code>PBE parameter parsing error: expecting the object identifier for AES cipher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10307502,"reputation":1,"user_id":7604301,"display_name":"pranavan sivasundaram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680071667,"creation_date":1680062672,"answer_id":75873038,"question_id":57403322,"body_markdown":"    public PrivateKey readPrivateKey(String privateKeyContent,String passPhrase) {\r\n      PrivateKey privateKey = null;\r\n      try {\r\n        PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\r\n        byte[] content = pemReader.readPemObject().getContent();\r\n        EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\r\n        Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\r\n        PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\r\n        SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\r\n        Key pbeKey = secFac.generateSecret(pbeKeySpec);\r\n        AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\r\n        cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\r\n        KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        privateKey = kf.generatePrivate(pkcs8KeySpec);\r\n      } catch (Exception e) {\r\n      }\r\n      return privateKey;\r\n    }","title":"How to Decrypt private key(String) with passphrase - java","body":"<pre><code>public PrivateKey readPrivateKey(String privateKeyContent,String passPhrase) {\n  PrivateKey privateKey = null;\n  try {\n    PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\n    byte[] content = pemReader.readPemObject().getContent();\n    EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\n    Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\n    PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\n    SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\n    Key pbeKey = secFac.generateSecret(pbeKeySpec);\n    AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\n    cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\n    KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    privateKey = kf.generatePrivate(pkcs8KeySpec);\n  } catch (Exception e) {\n  }\n  return privateKey;\n}\n</code></pre>\n"}],"owner":{"account_id":16469509,"reputation":11,"user_id":11898890,"display_name":"devi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6800,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680071667,"creation_date":1565219903,"question_id":57403322,"body_markdown":"I am trying to decrypt the private key in a string. The key also has a passphrase. My Private key file has the following header and footer:\r\n\r\n    -----BEGIN ENCRYPTED PRIVATE KEY-----\\n\r\n    -----END ENCRYPTED PRIVATE KEY-----\\n\r\n\r\nI could see more `&#39;\\n&#39;` new line inside the private key. I hope it&#39;s in pem format.\r\n\r\nThe last line of the following code gives me this error:\r\n\r\n&gt; PBE parameter parsing error: expecting the object identifier for AES\r\n&gt; cipher\r\n\r\nThis is the code I tried:\r\n\r\n    String privateKeyPEM = a;\r\n    privateKeyPEM = privateKeyPEM.replace(&quot;-----BEGIN ENCRYPTED PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n    privateKeyPEM = privateKeyPEM.replace(&quot;-----END ENCRYPTED PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n    byte[] encoded = Base64.getMimeDecoder().decode(privateKeyPEM);\r\n    EncryptedPrivateKeyInfo pkinfo = new EncryptedPrivateKeyInfo(encoded);\r\n\r\nI have also tried using **bouncy castle** but I am getting the following error\r\n\r\n&gt; class &quot;org.bouncycastle.asn1.pkcs.RSAPublicKey&quot;&#39;s signer information\r\n&gt; does not match signer information of other classes in the same package\r\n\r\nNote: I&#39;m using jdk11\r\n\r\nI would appreciate the help. Thanks","title":"How to Decrypt private key(String) with passphrase - java","body":"<p>I am trying to decrypt the private key in a string. The key also has a passphrase. My Private key file has the following header and footer:</p>\n\n<pre><code>-----BEGIN ENCRYPTED PRIVATE KEY-----\\n\n-----END ENCRYPTED PRIVATE KEY-----\\n\n</code></pre>\n\n<p>I could see more <code>'\\n'</code> new line inside the private key. I hope it's in pem format.</p>\n\n<p>The last line of the following code gives me this error:</p>\n\n<blockquote>\n  <p>PBE parameter parsing error: expecting the object identifier for AES\n  cipher</p>\n</blockquote>\n\n<p>This is the code I tried:</p>\n\n<pre><code>String privateKeyPEM = a;\nprivateKeyPEM = privateKeyPEM.replace(\"-----BEGIN ENCRYPTED PRIVATE KEY-----\\n\", \"\");\nprivateKeyPEM = privateKeyPEM.replace(\"-----END ENCRYPTED PRIVATE KEY-----\\n\", \"\");\nbyte[] encoded = Base64.getMimeDecoder().decode(privateKeyPEM);\nEncryptedPrivateKeyInfo pkinfo = new EncryptedPrivateKeyInfo(encoded);\n</code></pre>\n\n<p>I have also tried using <strong>bouncy castle</strong> but I am getting the following error</p>\n\n<blockquote>\n  <p>class \"org.bouncycastle.asn1.pkcs.RSAPublicKey\"'s signer information\n  does not match signer information of other classes in the same package</p>\n</blockquote>\n\n<p>Note: I'm using jdk11</p>\n\n<p>I would appreciate the help. Thanks</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1674841646,"post_id":75237165,"comment_id":132806583,"body_markdown":"It&#39;s bad enough that we don&#39;t&#39; get a private (test) key to go on, but could you please at least print out the strings you are using to parameterize the crypto object instances? As it is it is simply impossible to debug unless you know the (horribly described, and with terrible example code) AWS SDK. I mean, really Amazon, who did you hire to write that code?","body":"It&#39;s bad enough that we don&#39;t&#39; get a private (test) key to go on, but could you please at least print out the strings you are using to parameterize the crypto object instances? As it is it is simply impossible to debug unless you know the (horribly described, and with terrible example code) AWS SDK. I mean, really Amazon, who did you hire to write that code?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1680066565,"post_id":75237165,"comment_id":133831807,"body_markdown":"_If_ that PKCS8 uses an old-style i.e. single-OID scheme (not PBES2), which I don&#39;t know and the AWS page doesn&#39;t say, you need to de-PEM it before feeding to `EncryptedPrivateKeyInfo`: remove the header/trailer lines entirely, and de-base64 the rest either removing or ignoring the linebreaks; `java.util.Base64.getMimeDecoder()` does the latter.","body":"<i>If</i> that PKCS8 uses an old-style i.e. single-OID scheme (not PBES2), which I don&#39;t know and the AWS page doesn&#39;t say, you need to de-PEM it before feeding to <code>EncryptedPrivateKeyInfo</code>: remove the header/trailer lines entirely, and de-base64 the rest either removing or ignoring the linebreaks; <code>java.util.Base64.getMimeDecoder()</code> does the latter."}],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1680066610,"post_id":75872906,"comment_id":133831816,"body_markdown":"If you&#39;re going to use BouncyCastle, use `PEMParser` then `JcaPEMKeyConverter` with the result of `JcePKCSPBEInputDecryptorProviderBuilder`; that&#39;s much simpler _and_ handles now-more-common PBES2 as well as traditional single-OID schemes.","body":"If you&#39;re going to use BouncyCastle, use <code>PEMParser</code> then <code>JcaPEMKeyConverter</code> with the result of <code>JcePKCSPBEInputDecryptorProviderBuilder</code>; that&#39;s much simpler <i>and</i> handles now-more-common PBES2 as well as traditional single-OID schemes."}],"tags":[],"owner":{"account_id":10307502,"reputation":1,"user_id":7604301,"display_name":"pranavan sivasundaram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680071552,"creation_date":1680060863,"answer_id":75872906,"question_id":75237165,"body_markdown":"    public PrivateKey readPrivateKey(String privateKeyContent, String passPhrase){\r\n    \r\n      PrivateKey privateKey = null;\r\n    \r\n      try {\r\n        PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\r\n    \r\n        byte[] content = pemReader.readPemObject().getContent();\r\n    \r\n        EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\r\n    \r\n        Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\r\n    \r\n        PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\r\n    \r\n        SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\r\n    \r\n        Key pbeKey = secFac.generateSecret(pbeKeySpec);\r\n    \r\n        AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\r\n    \r\n        cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\r\n    \r\n        KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\r\n    \r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \r\n        privateKey = kf.generatePrivate(pkcs8KeySpec);\r\n    \r\n      } catch (Exception e) {}\r\n    \r\n      return privateKey;\r\n    }","title":"Decrypting password encrypted private key in Java","body":"<pre><code>public PrivateKey readPrivateKey(String privateKeyContent, String passPhrase){\n\n  PrivateKey privateKey = null;\n\n  try {\n    PemReader pemReader = new PemReader(new StringReader(privateKeyContent));\n\n    byte[] content = pemReader.readPemObject().getContent();\n\n    EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(content);\n\n    Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\n\n    PBEKeySpec pbeKeySpec = new PBEKeySpec(passPhrase.toCharArray());\n\n    SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\n\n    Key pbeKey = secFac.generateSecret(pbeKeySpec);\n\n    AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\n\n    cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\n\n    KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\n\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n    privateKey = kf.generatePrivate(pkcs8KeySpec);\n\n  } catch (Exception e) {}\n\n  return privateKey;\n}\n</code></pre>\n"}],"owner":{"account_id":1151061,"reputation":1499,"user_id":1132774,"accept_rate":67,"display_name":"KTB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680071552,"creation_date":1674664905,"question_id":75237165,"body_markdown":"I&#39;ve exported an AWS certificate using the methods described in this tutorial:\r\nhttps://docs.aws.amazon.com/acm/latest/userguide/sdk-export.html\r\n\r\nBut I want to decrypt the password encrypted private key in order to use it in my program. I wrote the following code to do that:\r\n\r\n    String private_key = &quot;&lt;encrypted private key of the form -----BEGIN ENCRYPTED PRIVATE KEY-----&gt;&quot;\r\n    String passwd = &quot;password used to export the key&quot;\r\n\r\n           try{\r\n                EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(private_key.getBytes());\r\n    \r\n                Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\r\n                PBEKeySpec pbeKeySpec = new PBEKeySpec(passwd.toCharArray());\r\n                SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\r\n                Key pbeKey = secFac.generateSecret(pbeKeySpec);\r\n                AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\r\n                cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\r\n                KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                return kf.generatePrivate(pkcs8KeySpec);\r\n            }\r\n            catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n\r\n \r\nBut this code throws:\r\n**java.io.IOException: extra data given to DerValue constructor**\r\n\r\nAny suggestions what I&#39;m missing here?","title":"Decrypting password encrypted private key in Java","body":"<p>I've exported an AWS certificate using the methods described in this tutorial:\n<a href=\"https://docs.aws.amazon.com/acm/latest/userguide/sdk-export.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/acm/latest/userguide/sdk-export.html</a></p>\n<p>But I want to decrypt the password encrypted private key in order to use it in my program. I wrote the following code to do that:</p>\n<pre><code>String private_key = &quot;&lt;encrypted private key of the form -----BEGIN ENCRYPTED PRIVATE KEY-----&gt;&quot;\nString passwd = &quot;password used to export the key&quot;\n\n       try{\n            EncryptedPrivateKeyInfo encryptPKInfo = new EncryptedPrivateKeyInfo(private_key.getBytes());\n\n            Cipher cipher = Cipher.getInstance(encryptPKInfo.getAlgName());\n            PBEKeySpec pbeKeySpec = new PBEKeySpec(passwd.toCharArray());\n            SecretKeyFactory secFac = SecretKeyFactory.getInstance(encryptPKInfo.getAlgName());\n            Key pbeKey = secFac.generateSecret(pbeKeySpec);\n            AlgorithmParameters algParams = encryptPKInfo.getAlgParameters();\n            cipher.init(Cipher.DECRYPT_MODE, pbeKey, algParams);\n            KeySpec pkcs8KeySpec = encryptPKInfo.getKeySpec(cipher);\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n            return kf.generatePrivate(pkcs8KeySpec);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n</code></pre>\n<p>But this code throws:\n<strong>java.io.IOException: extra data given to DerValue constructor</strong></p>\n<p>Any suggestions what I'm missing here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1680070389,"post_id":75873687,"comment_id":133832403,"body_markdown":"Look at your declaration of `valueDto` - it&#39;s the raw type. You&#39;re not specifying a generic type argument anywhere.","body":"Look at your declaration of <code>valueDto</code> - it&#39;s the raw type. You&#39;re not specifying a generic type argument anywhere."}],"answers":[{"tags":[],"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680070837,"creation_date":1680070837,"answer_id":75873767,"question_id":75873687,"body_markdown":"You should specify generic type during object creation.\r\nHere is example with lombok builder with generic:\r\n```java\r\n        ValueDto&lt;String&gt; valueDto = ValueDto.&lt;String&gt;builder()\r\n                .keySet(&quot;1234&quot;)\r\n                .value(&quot;anotherDto&quot;)\r\n                .build();\r\n```","title":"why generic T return Object type when i use getter in java?","body":"<p>You should specify generic type during object creation.\nHere is example with lombok builder with generic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ValueDto&lt;String&gt; valueDto = ValueDto.&lt;String&gt;builder()\n                .keySet(&quot;1234&quot;)\n                .value(&quot;anotherDto&quot;)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":28155021,"reputation":1,"user_id":21515868,"display_name":"Dobbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680070837,"creation_date":1680070162,"question_id":75873687,"body_markdown":"**DTO class**\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ValueDto &lt;T&gt;{\r\n    @NotNull\r\n    private String keySet;\r\n\r\n    @NotNull\r\n    private T value;\r\n}\r\n```\r\n\r\n\r\n**call service method**\r\n\r\n```\r\nValueDto valueDto = ValueDto.builder()\r\n                .key(&quot;1234&quot;)\r\n                .value(anotherDto)\r\n                .build();\r\n\r\n        service.dtoTest(valueDto);\r\n```\r\n\r\n\r\n**Service class**\r\n\r\n```\r\npublic &lt;T&gt; void dtoTest(@Valid ValueDto valueDto) {\r\nTest test = new Test();\r\n\t\ttest.saveKey(valueDto.getKeySet(), valueDto.getValue());\r\n\t}\r\n```\r\n\r\n\r\nI want to return T type from valueDto.getValue(). but, it was returned Object type. \r\nWhat is the problem?\r\n\r\n","title":"why generic T return Object type when i use getter in java?","body":"<p><strong>DTO class</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ValueDto &lt;T&gt;{\n    @NotNull\n    private String keySet;\n\n    @NotNull\n    private T value;\n}\n</code></pre>\n<p><strong>call service method</strong></p>\n<pre><code>ValueDto valueDto = ValueDto.builder()\n                .key(&quot;1234&quot;)\n                .value(anotherDto)\n                .build();\n\n        service.dtoTest(valueDto);\n</code></pre>\n<p><strong>Service class</strong></p>\n<pre><code>public &lt;T&gt; void dtoTest(@Valid ValueDto valueDto) {\nTest test = new Test();\n        test.saveKey(valueDto.getKeySet(), valueDto.getValue());\n    }\n</code></pre>\n<p>I want to return T type from valueDto.getValue(). but, it was returned Object type.\nWhat is the problem?</p>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":23947761,"reputation":1,"user_id":19755024,"display_name":"Sebastian Williams"},"score":0,"creation_date":1680076937,"post_id":75873730,"comment_id":133833898,"body_markdown":"It seems to be the same question:","body":"It seems to be the same question:"},{"owner":{"account_id":23947761,"reputation":1,"user_id":19755024,"display_name":"Sebastian Williams"},"score":0,"creation_date":1680077003,"post_id":75873730,"comment_id":133833916,"body_markdown":"&gt; Could not resolve com.google.guava:guava:29.0-jre.\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom&#39;.\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom&#39;.\n               &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties","body":"&gt; Could not resolve com.google.guava:guava:29.0-jre.          &gt; Could not get resource &#39;<a href=\"https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jr&zwnj;&#8203;e/&hellip;</a>&#39;.             &gt; Could not GET &#39;<a href=\"https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jr&zwnj;&#8203;e/&hellip;</a>&#39;.                &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: <a href=\"https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\" rel=\"nofollow noreferrer\">docs.gradle.org/8.0.2/userguide/&hellip;</a>"},{"owner":{"account_id":23947761,"reputation":1,"user_id":19755024,"display_name":"Sebastian Williams"},"score":0,"creation_date":1680077018,"post_id":75873730,"comment_id":133833926,"body_markdown":"I&#39;m using \n```\n java -version                                                                                            1 ↵\nopenjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment Corretto-8.362.08.1 (build 1.8.0_362-b08)\nOpenJDK 64-Bit Server VM Corretto-8.362.08.1 (build 25.362-b08, mixed mode)\n```\nnow","body":"I&#39;m using  ```  java -version                                                                                            1 ↵ openjdk version &quot;1.8.0_362&quot; OpenJDK Runtime Environment Corretto-8.362.08.1 (build 1.8.0_362-b08) OpenJDK 64-Bit Server VM Corretto-8.362.08.1 (build 25.362-b08, mixed mode) ``` now"}],"tags":[],"owner":{"account_id":1648553,"reputation":3049,"user_id":1519574,"accept_rate":62,"display_name":"Xinchao"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680070505,"creation_date":1680070505,"answer_id":75873730,"question_id":75873633,"body_markdown":"\r\nThe gradle error does suggest some possible reason:\r\n\r\n&gt; The server may not support the client&#39;s requested TLS protocol\r\n&gt; versions: (TLSv1.2, TLSv1.3). You may need to configure the client to\r\n&gt; allow other protocols to be used. See:\r\n&gt; https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\r\n\r\nIf that is the true reason, you need to probably allow TLSv1.1. But given this is maven central, I would expect it should not require any additional configuration for most of the time. \r\n\r\nTry install a different/later version of Java instead of the 1.8 and the Amazon one. Amazon Corretto has its own security patches: \r\n\r\nhttps://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/","title":"Freshly installed gradle doesn&#39;t work showing","body":"<p>The gradle error does suggest some possible reason:</p>\n<blockquote>\n<p>The server may not support the client's requested TLS protocol\nversions: (TLSv1.2, TLSv1.3). You may need to configure the client to\nallow other protocols to be used. See:\n<a href=\"https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties</a></p>\n</blockquote>\n<p>If that is the true reason, you need to probably allow TLSv1.1. But given this is maven central, I would expect it should not require any additional configuration for most of the time.</p>\n<p>Try install a different/later version of Java instead of the 1.8 and the Amazon one. Amazon Corretto has its own security patches:</p>\n<p><a href=\"https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/</a></p>\n"}],"owner":{"account_id":23947761,"reputation":1,"user_id":19755024,"display_name":"Sebastian Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680070505,"creation_date":1680069674,"question_id":75873633,"body_markdown":"I was wondering how to solve this:\r\n\r\n```\r\n**.local ~/Hello  **\r\n╰─➤  gradle run\r\n╰─➤  gradle run   \r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve com.google.guava:guava:29.0-jre.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.google.guava:guava:29.0-jre.\r\n         &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom&#39;.\r\n            &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom&#39;.\r\n               &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\r\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 405ms\r\n1 actionable task: 1 executed\r\n\r\n```\r\n\r\n\r\n```\r\n\r\n**java -version **                                                                                          1 ↵\r\nopenjdk version &quot;1.8.0_362&quot;\r\nOpenJDK Runtime Environment Corretto-8.362.08.1 (build 1.8.0_362-b08)\r\nOpenJDK 64-Bit Server VM Corretto-8.362.08.1 (build 25.362-b08, mixed mode)\r\n```\r\n\r\n\r\n\r\nI&#39;m trying to run the following test file.\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java project to get you started.\r\n * For more details take a look at the Java Quickstart chapter in the Gradle\r\n * User Manual available at https://docs.gradle.org/6.5/userguide/tutorial_java_projects.html\r\n */\r\n\r\nplugins {\r\n    // Apply the java plugin to add support for Java\r\n    id &#39;java&#39;\r\n\r\n    // Apply the application plugin to add support for building a CLI application.\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    // Use jcenter for resolving dependencies.\r\n    // You can declare any Maven/Ivy/file repository here.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:29.0-jre&#39;\r\n\r\n    // Use JUnit Jupiter API for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application\r\n    mainClass = &#39;hello.App&#39;\r\n}\r\n\r\ntest {\r\n    // Use junit platform for unit tests\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n**gradle -version **                                                                                        \r\n\r\n------------------------------------------------------------\r\nGradle 8.0.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-03-03 16:41:37 UTC\r\nRevision:     7d6581558e226a580d91d399f7dfb9e3095c2b1d\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.13\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          1.8.0_362 (Amazon.com Inc. 25.362-b08)\r\nOS:           Mac OS X 13.2.1 aarch64`\r\n\r\nThanks a lot.\r\n","title":"Freshly installed gradle doesn&#39;t work showing","body":"<p>I was wondering how to solve this:</p>\n<pre><code>**.local ~/Hello  **\n╰─➤  gradle run\n╰─➤  gradle run   \n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve com.google.guava:guava:29.0-jre.\n     Required by:\n         project :\n      &gt; Could not resolve com.google.guava:guava:29.0-jre.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/com/google/guava/guava/29.0-jre/guava-29.0-jre.pom'.\n               &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/8.0.2/userguide/build_environment.html#gradle_system_properties\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 405ms\n1 actionable task: 1 executed\n\n</code></pre>\n<pre><code>\n**java -version **                                                                                          1 ↵\nopenjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment Corretto-8.362.08.1 (build 1.8.0_362-b08)\nOpenJDK 64-Bit Server VM Corretto-8.362.08.1 (build 25.362-b08, mixed mode)\n</code></pre>\n<p>I'm trying to run the following test file.</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java project to get you started.\n * For more details take a look at the Java Quickstart chapter in the Gradle\n * User Manual available at https://docs.gradle.org/6.5/userguide/tutorial_java_projects.html\n */\n\nplugins {\n    // Apply the java plugin to add support for Java\n    id 'java'\n\n    // Apply the application plugin to add support for building a CLI application.\n    id 'application'\n}\n\nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    mavenCentral()\n}\n\ndependencies {\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:29.0-jre'\n\n    // Use JUnit Jupiter API for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n}\n\napplication {\n    // Define the main class for the application\n    mainClass = 'hello.App'\n}\n\ntest {\n    // Use junit platform for unit tests\n    useJUnitPlatform()\n}\n</code></pre>\n<p>**gradle -version **</p>\n<hr />\n<h2>Gradle 8.0.2</h2>\n<p>Build time:   2023-03-03 16:41:37 UTC\nRevision:     7d6581558e226a580d91d399f7dfb9e3095c2b1d</p>\n<p>Kotlin:       1.8.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_362 (Amazon.com Inc. 25.362-b08)\nOS:           Mac OS X 13.2.1 aarch64`</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","android","flutter","android-studio"],"comments":[{"owner":{"account_id":21404218,"reputation":1154,"user_id":15765725,"display_name":"MANISH DAYMA"},"score":1,"creation_date":1680069973,"post_id":75873645,"comment_id":133832326,"body_markdown":"https://stackoverflow.com/questions/75108707/android-studio-electric-eel-javahome-seems-to-be-invalid","body":"<a href=\"https://stackoverflow.com/questions/75108707/android-studio-electric-eel-javahome-seems-to-be-invalid\" title=\"android studio electric eel javahome seems to be invalid\">stackoverflow.com/questions/75108707/&hellip;</a>"}],"owner":{"account_id":26917556,"reputation":157,"user_id":20492111,"display_name":"sadegh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680069809,"creation_date":1680069809,"question_id":75873645,"body_markdown":"Hi I Update my android Studio and now when I want run my flutter project I got this error:\r\nhow can I fix this?\r\nplease help\r\n\r\n\r\n&gt; Launching lib\\main.dart on Android SDK built for x86 in debug mode...\r\n&gt; Running Gradle task &#39;assembleDebug&#39;...\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; * What went wrong: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program\r\n&gt; Files\\Android\\Android Studio\\jre\\bin\\java.exe\r\n&gt; \r\n&gt; * Try:\r\n&gt; &gt; Run with --stacktrace option to get the stack trace.\r\n&gt; &gt; Run with --info or --debug option to get more log output.\r\n&gt; &gt; Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Get more help at https://help.gradle.org Exception: Gradle task assembleDebug failed with exit code 1","title":"How to solve error java executable in android studio?","body":"<p>Hi I Update my android Studio and now when I want run my flutter project I got this error:\nhow can I fix this?\nplease help</p>\n<blockquote>\n<p>Launching lib\\main.dart on Android SDK built for x86 in debug mode...\nRunning Gradle task 'assembleDebug'...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program\nFiles\\Android\\Android Studio\\jre\\bin\\java.exe</p>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a> Exception: Gradle task assembleDebug failed with exit code 1</li>\n</ul>\n</blockquote>\n"},{"tags":["java","google-drive-api","google-drive-shared-drive","flysystem-google-drive"],"comments":[{"owner":{"account_id":25872105,"reputation":1405,"user_id":19602805,"display_name":"Bryan Monterrosa"},"score":0,"creation_date":1680095888,"post_id":75873617,"comment_id":133838936,"body_markdown":"I tired the code with a test Google Workspace domain and I was able to get folders and its parents as long as the service account has access to the files, for example, in the structure Folder 1 &gt; Folder 2 &gt; Folder 3 the SA was given access to Folder 1 and it was able to create the path containing Folder 1/Folder 2/Folder 3/, could you share a basic example of your current folder setup and the expected output?","body":"I tired the code with a test Google Workspace domain and I was able to get folders and its parents as long as the service account has access to the files, for example, in the structure Folder 1 &gt; Folder 2 &gt; Folder 3 the SA was given access to Folder 1 and it was able to create the path containing Folder 1/Folder 2/Folder 3/, could you share a basic example of your current folder setup and the expected output?"},{"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"score":0,"creation_date":1680208671,"post_id":75873617,"comment_id":133864051,"body_markdown":"ROOT has 2 folders DD, AE. In these each folders I have FAR1, FAR2, FAR3 and inside this each folder there are folders like FAR1_1 … FAR_N. Within this folder there are pdf files in it","body":"ROOT has 2 folders DD, AE. In these each folders I have FAR1, FAR2, FAR3 and inside this each folder there are folders like FAR1_1 … FAR_N. Within this folder there are pdf files in it"}],"owner":{"account_id":4893121,"reputation":2548,"user_id":3943600,"accept_rate":67,"display_name":"codebot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680069571,"creation_date":1680069571,"question_id":75873617,"body_markdown":"I have a Java program which I use to fetch folders and files from Google Drive. I&#39;m building the path for the file by traversing the parents of each file. \r\nWhen I create a folder in one of my personal G Drives, and share with the SA email, it gives correct parents and path. \r\n\r\nFrom my organization they have shared a folder with me and I&#39;ve added the SA email in shared list as an Editor. but some of the parents are not fetching.\r\n\r\n__Code to fetch folders__\r\n\r\n    Drive.Files.List foldersRequest = service.files().list()\r\n                .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\r\n                .setQ(&quot;trashed=false and mimeType=&#39;application/vnd.google-apps.folder&#39;&quot;)\r\n                .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,&quot; +\r\n                        &quot;createdTime)&quot;).setPageToken(nextPageTokenFolders);\r\n\r\n\r\n__Code to fetch files__\r\n\r\n    Drive.Files.List filesRequest = service.files().list()\r\n                .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\r\n                .setQ(&quot;trashed=false and mimeType=&#39;application/pdf&#39;&quot;)\r\n                .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,createdTime)&quot;)\r\n                .setPageToken(nextPageTokenFiles);\r\n\r\n\r\n__Code to get full path__\r\n\r\n    private static String getFullPath(List&lt;File&gt; files, String parentId) {\r\n        String path = &quot;&quot;;\r\n        String currentFilePath = &quot;&quot;;\r\n        for (File file : files) {\r\n            if (file.getParents() != null) {\r\n                if (file.getId().equals(parentId)) {\r\n                    path = path.concat(currentFilePath + &quot;/&quot; + file.getName());\r\n                    parentId = file.getParents().get(0);\r\n                }\r\n            }\r\n        }\r\n\r\n        String[] completePath = path.split(&quot;/&quot;);\r\n        String finalPath = &quot;&quot;;\r\n        for (int i = completePath.length - 1; i &gt;= 0; i--) {\r\n            finalPath = finalPath.concat(completePath[i] + &quot;/&quot;);\r\n        }\r\n\r\n        return finalPath.substring(0, finalPath.length() - 1);\r\n    }\r\n\r\nWith this code I&#39;m able to get the corrects path for folders in personal accounts. But it misses some parent folders when I&#39;m running the same code with organization G Drive folder. The service account access has set as Editor.\r\n\r\n","title":"Google Drive Java API file parents are not fetching correctly","body":"<p>I have a Java program which I use to fetch folders and files from Google Drive. I'm building the path for the file by traversing the parents of each file.\nWhen I create a folder in one of my personal G Drives, and share with the SA email, it gives correct parents and path.</p>\n<p>From my organization they have shared a folder with me and I've added the SA email in shared list as an Editor. but some of the parents are not fetching.</p>\n<p><strong>Code to fetch folders</strong></p>\n<pre><code>Drive.Files.List foldersRequest = service.files().list()\n            .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\n            .setQ(&quot;trashed=false and mimeType='application/vnd.google-apps.folder'&quot;)\n            .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,&quot; +\n                    &quot;createdTime)&quot;).setPageToken(nextPageTokenFolders);\n</code></pre>\n<p><strong>Code to fetch files</strong></p>\n<pre><code>Drive.Files.List filesRequest = service.files().list()\n            .setPageSize(1000).setSupportsAllDrives(true).setIncludeItemsFromAllDrives(true)\n            .setQ(&quot;trashed=false and mimeType='application/pdf'&quot;)\n            .setFields(&quot;nextPageToken, files(id, name, mimeType, modifiedTime,webContentLink,parents,createdTime)&quot;)\n            .setPageToken(nextPageTokenFiles);\n</code></pre>\n<p><strong>Code to get full path</strong></p>\n<pre><code>private static String getFullPath(List&lt;File&gt; files, String parentId) {\n    String path = &quot;&quot;;\n    String currentFilePath = &quot;&quot;;\n    for (File file : files) {\n        if (file.getParents() != null) {\n            if (file.getId().equals(parentId)) {\n                path = path.concat(currentFilePath + &quot;/&quot; + file.getName());\n                parentId = file.getParents().get(0);\n            }\n        }\n    }\n\n    String[] completePath = path.split(&quot;/&quot;);\n    String finalPath = &quot;&quot;;\n    for (int i = completePath.length - 1; i &gt;= 0; i--) {\n        finalPath = finalPath.concat(completePath[i] + &quot;/&quot;);\n    }\n\n    return finalPath.substring(0, finalPath.length() - 1);\n}\n</code></pre>\n<p>With this code I'm able to get the corrects path for folders in personal accounts. But it misses some parent folders when I'm running the same code with organization G Drive folder. The service account access has set as Editor.</p>\n"},{"tags":["java","unicode","encoding"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1340308311,"post_id":11145681,"comment_id":14611977,"body_markdown":"You&#39;re sure?  You don&#39;t suppose that the characters are simply getting printed as Unicode escapes?","body":"You&#39;re sure?  You don&#39;t suppose that the characters are simply getting printed as Unicode escapes?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":7,"creation_date":1340308459,"post_id":11145681,"comment_id":14612051,"body_markdown":"`\\u0048` *is* `H` -- they are one and the same.  Strings in Java are in Unicode.","body":"<code>\\u0048</code> <i>is</i> <code>H</code> -- they are one and the same.  Strings in Java are in Unicode."},{"owner":{"account_id":1076262,"reputation":1745,"user_id":1074341,"accept_rate":79,"display_name":"SharonBL"},"score":0,"creation_date":1340309150,"post_id":11145681,"comment_id":14612343,"body_markdown":"I guess the problem might be with my java to unix api - the string i get is something like that \\u3123\\u3255_file_name.txt. And java don&#39;t covert it.","body":"I guess the problem might be with my java to unix api - the string i get is something like that \\u3123\\u3255_file_name.txt. And java don&#39;t covert it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1340311904,"post_id":11145681,"comment_id":14613578,"body_markdown":"Most likely you have a problem with the code page conversion when translating Java Unicode strings to the file system character set.","body":"Most likely you have a problem with the code page conversion when translating Java Unicode strings to the file system character set."},{"owner":{"account_id":27779,"reputation":18884,"user_id":73656,"accept_rate":53,"display_name":"Pavel Radzivilovsky"},"score":3,"creation_date":1340378756,"post_id":11145681,"comment_id":14634237,"body_markdown":"UTF-8 _is_ a unicode encoding.","body":"UTF-8 <i>is</i> a unicode encoding."},{"owner":{"account_id":2126511,"reputation":683,"user_id":2667387,"accept_rate":83,"display_name":"DustByte"},"score":8,"creation_date":1453888742,"post_id":11145681,"comment_id":57793100,"body_markdown":"This is not an answer to your question but let me clarify the difference between Unicode and UTF-8, which many people seem to muddle up. Unicode is a particular *one-to-one* mapping between characters as we know them (`a`, `b`, `$`, `&#163;`, etc) to the integers. E.g., the symbol `A` is given number 65, and `\\n` is 10. This has *nothing* to do with how strings or characters are represented on disk or in a text file say. UTF-8 is a specification (i.e. encoding) of how these integers (i.e. symbols) are represented as bytes (bit strings) so they can be unambiguously written and read from say a file.","body":"This is not an answer to your question but let me clarify the difference between Unicode and UTF-8, which many people seem to muddle up. Unicode is a particular <i>one-to-one</i> mapping between characters as we know them (<code>a</code>, <code>b</code>, <code>$</code>, <code>&#163;</code>, etc) to the integers. E.g., the symbol <code>A</code> is given number 65, and <code>\\n</code> is 10. This has <i>nothing</i> to do with how strings or characters are represented on disk or in a text file say. UTF-8 is a specification (i.e. encoding) of how these integers (i.e. symbols) are represented as bytes (bit strings) so they can be unambiguously written and read from say a file."}],"answers":[{"tags":[],"owner":{"account_id":179030,"reputation":13845,"user_id":411393,"accept_rate":100,"display_name":"QuantumMechanic"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340308633,"creation_date":1340308633,"answer_id":11145810,"question_id":11145681,"body_markdown":"It&#39;s not totally clear from your question, but I&#39;m assuming you saying that you have a file where each line of that file is a filename.  And each filename is something like this:\r\n\r\n    \\u0048\\u0065\\u006C\\u006C\\u006F\r\n\r\nIn other words, the characters in the file of filenames are `\\`, `u`, `0`, `0`, `4`, `8` and so on.\r\n\r\nIf so, what you&#39;re seeing is expected.  Java only translates `\\uXXXX` sequences in string literals in source code (and when reading in stored `Properties` objects).  When you read the contents you file you will have a string consisting of the characters `\\`, `u`, `0`, `0`, `4`, `8` and so on and **not** the string `Hello`.\r\n\r\nSo you will need to parse that string to extract the `0048`, `0065`, etc. pieces and then convert them to `char`s and make a string from those `char`s and then pass that string to the routine that opens the file.\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>It's not totally clear from your question, but I'm assuming you saying that you have a file where each line of that file is a filename.  And each filename is something like this:</p>\n\n<pre><code>\\u0048\\u0065\\u006C\\u006C\\u006F\n</code></pre>\n\n<p>In other words, the characters in the file of filenames are <code>\\</code>, <code>u</code>, <code>0</code>, <code>0</code>, <code>4</code>, <code>8</code> and so on.</p>\n\n<p>If so, what you're seeing is expected.  Java only translates <code>\\uXXXX</code> sequences in string literals in source code (and when reading in stored <code>Properties</code> objects).  When you read the contents you file you will have a string consisting of the characters <code>\\</code>, <code>u</code>, <code>0</code>, <code>0</code>, <code>4</code>, <code>8</code> and so on and <strong>not</strong> the string <code>Hello</code>.</p>\n\n<p>So you will need to parse that string to extract the <code>0048</code>, <code>0065</code>, etc. pieces and then convert them to <code>char</code>s and make a string from those <code>char</code>s and then pass that string to the routine that opens the file.</p>\n"},{"comments":[{"owner":{"account_id":1076262,"reputation":1745,"user_id":1074341,"accept_rate":79,"display_name":"SharonBL"},"score":0,"creation_date":1340309565,"post_id":11145854,"comment_id":14612519,"body_markdown":"Seems that might be the solution. Do you have an idea how can i do it in java - can i do it with String.replaceAll or something like that?","body":"Seems that might be the solution. Do you have an idea how can i do it in java - can i do it with String.replaceAll or something like that?"},{"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"score":0,"creation_date":1340311799,"post_id":11145854,"comment_id":14613529,"body_markdown":"@SharonBL I updated with some code, should at least give you an idea of where to start.","body":"@SharonBL I updated with some code, should at least give you an idea of where to start."},{"owner":{"account_id":1076262,"reputation":1745,"user_id":1074341,"accept_rate":79,"display_name":"SharonBL"},"score":2,"creation_date":1340312812,"post_id":11145854,"comment_id":14613943,"body_markdown":"Thank you very much for you help! I also found another solution for that: String s = StringEscapeUtils.unescapeJava(&quot;\\\\u20ac\\\\n&quot;); it does the work!","body":"Thank you very much for you help! I also found another solution for that: String s = StringEscapeUtils.unescapeJava(&quot;\\\\u20ac\\\\n&quot;); it does the work!"},{"owner":{"account_id":700283,"reputation":1607,"user_id":589907,"display_name":"Scott Carey"},"score":0,"creation_date":1483738431,"post_id":11145854,"comment_id":70235497,"body_markdown":"This does not work for surrogate pairs at all but is ok for ASCII or &#39;low&#39; code points.   Edit:  now that I think about it a bit more, it will work OK with surrogate pairs too.","body":"This does not work for surrogate pairs at all but is ok for ASCII or &#39;low&#39; code points.   Edit:  now that I think about it a bit more, it will work OK with surrogate pairs too."},{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":2,"creation_date":1520184713,"post_id":11145854,"comment_id":85201711,"body_markdown":"attempt to reinvent methods provided by Standard Java Library. just check pure implementation https://stackoverflow.com/a/39265921/1511077","body":"attempt to reinvent methods provided by Standard Java Library. just check pure implementation <a href=\"https://stackoverflow.com/a/39265921/1511077\">stackoverflow.com/a/39265921/1511077</a>"},{"owner":{"account_id":420026,"reputation":95122,"user_id":797495,"accept_rate":69,"display_name":"Pedro Lobito"},"score":1,"creation_date":1524046393,"post_id":11145854,"comment_id":86809375,"body_markdown":"I&#39;m always amazed when a &quot;**reinvent the wheel**&quot; answer gets so many votes.","body":"I&#39;m always amazed when a &quot;<b>reinvent the wheel</b>&quot; answer gets so many votes."},{"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"score":0,"creation_date":1562586399,"post_id":11145854,"comment_id":100408796,"body_markdown":"Not works when there is non unicode characters inside string, such as: href=\\u0022\\/en\\/blog\\/d-day-protecting-europe-its-demons\\u0022\\u003E\\n","body":"Not works when there is non unicode characters inside string, such as: href=\\u0022\\/en\\/blog\\/d-day-protecting-europe-its-demons\\u0&zwnj;&#8203;022\\u003E\\n"},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1583494252,"post_id":11145854,"comment_id":107145176,"body_markdown":"@PedroLobito that&#39;s because the linked post does absolutely nothing. `myString.getBytes(&quot;UTF8&quot;)` and then back to `String` does nothing.","body":"@PedroLobito that&#39;s because the linked post does absolutely nothing. <code>myString.getBytes(&quot;UTF8&quot;)</code> and then back to <code>String</code> does nothing."},{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1583700688,"post_id":11145854,"comment_id":107196357,"body_markdown":"I agree with rustyx because `getBytes` should contain source encoding as argument, not utf-8. After that string should be created with required encoding from ByteArray.","body":"I agree with rustyx because <code>getBytes</code> should contain source encoding as argument, not utf-8. After that string should be created with required encoding from ByteArray."},{"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"score":1,"creation_date":1680067906,"post_id":11145854,"comment_id":133832036,"body_markdown":"The type `Char` is only 16 bits,  It will be overflow,if the unicode number gretter than 0XFFFF","body":"The type <code>Char</code> is only 16 bits,  It will be overflow,if the unicode number gretter than 0XFFFF"}],"tags":[],"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"comment_count":10,"down_vote_count":7,"up_vote_count":62,"is_accepted":true,"score":55,"last_activity_date":1340311778,"creation_date":1340308879,"answer_id":11145854,"question_id":11145681,"body_markdown":"Technically doing:\r\n\r\n    String myString = &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;;\r\n\r\nautomatically converts it to `&quot;Hello World&quot;`, so I assume you are reading in the string from some file. In order to convert it to &quot;Hello&quot; you&#39;ll have to parse the text into the separate unicode digits, (take the `\\uXXXX` and just get `XXXX`) then do `Integer.ParseInt(XXXX, 16)` to get a hex value and then case that to `char` to get the actual character.\r\n\r\n**Edit: Some code to accomplish this:**\r\n\r\n    String str = myString.split(&quot; &quot;)[0];\r\n    str = str.replace(&quot;\\\\&quot;,&quot;&quot;);\r\n    String[] arr = str.split(&quot;u&quot;);\r\n    String text = &quot;&quot;;\r\n    for(int i = 1; i &lt; arr.length; i++){\r\n       \tint hexVal = Integer.parseInt(arr[i], 16);\r\n       \ttext += (char)hexVal;\r\n    }\r\n    // Text will now have Hello","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Technically doing:</p>\n\n<pre><code>String myString = \"\\u0048\\u0065\\u006C\\u006C\\u006F World\";\n</code></pre>\n\n<p>automatically converts it to <code>\"Hello World\"</code>, so I assume you are reading in the string from some file. In order to convert it to \"Hello\" you'll have to parse the text into the separate unicode digits, (take the <code>\\uXXXX</code> and just get <code>XXXX</code>) then do <code>Integer.ParseInt(XXXX, 16)</code> to get a hex value and then case that to <code>char</code> to get the actual character.</p>\n\n<p><strong>Edit: Some code to accomplish this:</strong></p>\n\n<pre><code>String str = myString.split(\" \")[0];\nstr = str.replace(\"\\\\\",\"\");\nString[] arr = str.split(\"u\");\nString text = \"\";\nfor(int i = 1; i &lt; arr.length; i++){\n    int hexVal = Integer.parseInt(arr[i], 16);\n    text += (char)hexVal;\n}\n// Text will now have Hello\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3214517,"reputation":101,"user_id":2713651,"display_name":"Shreyansh Shah"},"score":0,"creation_date":1434790301,"post_id":14368185,"comment_id":49937658,"body_markdown":"String sJava=&quot;\\u0048\\\\u0065\\u006C\\u006C\\u006F&quot;; -----&gt; Please do simple change.","body":"String sJava=&quot;\\u0048\\\\u0065\\u006C\\u006C\\u006F&quot;; -----&gt; Please do simple change."},{"owner":{"account_id":244653,"reputation":364,"user_id":1478933,"accept_rate":83,"display_name":"Austin Haws"},"score":0,"creation_date":1652306221,"post_id":14368185,"comment_id":127577806,"body_markdown":"It appears StringEscapeUtils is now located in org.apache.commons.text.StringEscapeUtils","body":"It appears StringEscapeUtils is now located in org.apache.commons.text.StringEscapeUtils"}],"tags":[],"owner":{"account_id":2253500,"reputation":1478,"user_id":1985234,"display_name":"Tony"},"comment_count":2,"down_vote_count":2,"up_vote_count":115,"is_accepted":false,"score":113,"last_activity_date":1465632042,"creation_date":1358371761,"answer_id":14368185,"question_id":11145681,"body_markdown":"The [Apache Commons Lang][1] **StringEscapeUtils.unescapeJava()** can decode it properly. \r\n\r\n    import org.apache.commons.lang.StringEscapeUtils;\r\n\r\n\t@Test\r\n\tpublic void testUnescapeJava() {\r\n\t\tString sJava=&quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F&quot;;\r\n\t\tSystem.out.println(&quot;StringEscapeUtils.unescapeJava(sJava):\\n&quot; + StringEscapeUtils.unescapeJava(sJava));\r\n\t}\r\n\r\n\r\n     output:\r\n     StringEscapeUtils.unescapeJava(sJava):\r\n     Hello\r\n\r\n\r\n  [1]: http://www.mvnrepository.com/artifact/commons-lang/commons-lang/2.6","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>The <a href=\"http://www.mvnrepository.com/artifact/commons-lang/commons-lang/2.6\">Apache Commons Lang</a> <strong>StringEscapeUtils.unescapeJava()</strong> can decode it properly. </p>\n\n<pre><code>import org.apache.commons.lang.StringEscapeUtils;\n\n@Test\npublic void testUnescapeJava() {\n    String sJava=\"\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F\";\n    System.out.println(\"StringEscapeUtils.unescapeJava(sJava):\\n\" + StringEscapeUtils.unescapeJava(sJava));\n}\n\n\n output:\n StringEscapeUtils.unescapeJava(sJava):\n Hello\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5394090,"reputation":1082,"user_id":4295787,"accept_rate":67,"display_name":"Joseph Mekwan"},"score":5,"creation_date":1450257108,"post_id":17216293,"comment_id":56357390,"body_markdown":"after adding dependacy in build.gradle : compile &#39;commons-lang:commons-lang:2.6&#39;\n\nabove working fine.","body":"after adding dependacy in build.gradle : compile &#39;commons-lang:commons-lang:2.6&#39;  above working fine."}],"tags":[],"owner":{"account_id":420026,"reputation":95122,"user_id":797495,"accept_rate":69,"display_name":"Pedro Lobito"},"comment_count":1,"down_vote_count":3,"up_vote_count":38,"is_accepted":false,"score":35,"last_activity_date":1583573281,"creation_date":1371738472,"answer_id":17216293,"question_id":11145681,"body_markdown":"You can use `StringEscapeUtils` from [Apache Commons Lang][1], i.e.:\r\n\r\n\r\n    String Title = StringEscapeUtils.unescapeJava(&quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F&quot;);\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-lang3","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>You can use <code>StringEscapeUtils</code> from <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"noreferrer\">Apache Commons Lang</a>, i.e.:</p>\n\n<pre><code>String Title = StringEscapeUtils.unescapeJava(\"\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F\");\n</code></pre>\n\n<hr>\n"},{"comments":[{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1520184766,"post_id":22492125,"comment_id":85201726,"body_markdown":"attempt to reinvent methods provided by Standard Java Library. just check pure implementation https://stackoverflow.com/a/39265921/1511077","body":"attempt to reinvent methods provided by Standard Java Library. just check pure implementation <a href=\"https://stackoverflow.com/a/39265921/1511077\">stackoverflow.com/a/39265921/1511077</a>"},{"owner":{"account_id":3156594,"reputation":3921,"user_id":2668869,"display_name":"andrew pate"},"score":1,"creation_date":1521026785,"post_id":22492125,"comment_id":85555396,"body_markdown":"Thanks @EvgenyLebedev ... the standard library way looks good and presumably has been thoroughly tested, much appreciated.","body":"Thanks @EvgenyLebedev ... the standard library way looks good and presumably has been thoroughly tested, much appreciated."}],"tags":[],"owner":{"account_id":3156594,"reputation":3921,"user_id":2668869,"display_name":"andrew pate"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1434563854,"creation_date":1395180759,"answer_id":22492125,"question_id":11145681,"body_markdown":"This simple method will work for most cases, but would trip up over something like &quot;u005Cu005C&quot; which should decode to the string &quot;\\u0048&quot; but would actually decode &quot;H&quot; as the first pass produces &quot;\\u0048&quot; as the working string which then gets processed again by the while loop.\r\n\r\n\r\n\tstatic final String decode(final String in)\r\n\t{\r\n\t\tString working = in;\r\n\t\tint index;\r\n\t\tindex = working.indexOf(&quot;\\\\u&quot;);\r\n\t\twhile(index &gt; -1)\r\n\t\t{\r\n\t\t\tint length = working.length();\r\n\t\t\tif(index &gt; (length-6))break;\r\n\t\t\tint numStart = index + 2;\r\n\t\t\tint numFinish = numStart + 4;\r\n\t\t\tString substring = working.substring(numStart, numFinish);\r\n\t\t\tint number = Integer.parseInt(substring,16);\r\n\t\t\tString stringStart = working.substring(0, index);\r\n\t\t\tString stringEnd   = working.substring(numFinish);\r\n\t\t\tworking = stringStart + ((char)number) + stringEnd;\r\n\t\t\tindex = working.indexOf(&quot;\\\\u&quot;);\r\n\t\t}\r\n\t\treturn working;\r\n\t}\r\n\r\n\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>This simple method will work for most cases, but would trip up over something like \"u005Cu005C\" which should decode to the string \"\\u0048\" but would actually decode \"H\" as the first pass produces \"\\u0048\" as the working string which then gets processed again by the while loop.</p>\n\n<pre><code>static final String decode(final String in)\n{\n    String working = in;\n    int index;\n    index = working.indexOf(\"\\\\u\");\n    while(index &gt; -1)\n    {\n        int length = working.length();\n        if(index &gt; (length-6))break;\n        int numStart = index + 2;\n        int numFinish = numStart + 4;\n        String substring = working.substring(numStart, numFinish);\n        int number = Integer.parseInt(substring,16);\n        String stringStart = working.substring(0, index);\n        String stringEnd   = working.substring(numFinish);\n        working = stringStart + ((char)number) + stringEnd;\n        index = working.indexOf(\"\\\\u\");\n    }\n    return working;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4139077,"reputation":1494,"user_id":3394945,"accept_rate":40,"display_name":"Hao"},"comment_count":0,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1401310997,"creation_date":1401310997,"answer_id":23921820,"question_id":11145681,"body_markdown":"try\r\n\r\n    private static final Charset UTF_8 = Charset.forName(&quot;UTF-8&quot;);\r\n    private String forceUtf8Coding(String input) {return new String(input.getBytes(UTF_8), UTF_8))}","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>try</p>\n\n<pre><code>private static final Charset UTF_8 = Charset.forName(\"UTF-8\");\nprivate String forceUtf8Coding(String input) {return new String(input.getBytes(UTF_8), UTF_8))}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1520184640,"post_id":27943212,"comment_id":85201681,"body_markdown":"attempt to reinvent methods provided by Standard Java Library. just check pure implementation https://stackoverflow.com/a/39265921/1511077","body":"attempt to reinvent methods provided by Standard Java Library. just check pure implementation <a href=\"https://stackoverflow.com/a/39265921/1511077\">stackoverflow.com/a/39265921/1511077</a>"}],"tags":[],"owner":{"account_id":1038812,"reputation":8270,"user_id":1332872,"accept_rate":56,"display_name":"ssuukk"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1421239309,"creation_date":1421239309,"answer_id":27943212,"question_id":11145681,"body_markdown":"Shorter version:\r\n\r\n\tpublic static String unescapeJava(String escaped) {\r\n\t\tif(escaped.indexOf(&quot;\\\\u&quot;)==-1)\r\n\t\t\treturn escaped;\r\n\t\t\r\n\t\tString processed=&quot;&quot;;\r\n\t\t\r\n\t\tint position=escaped.indexOf(&quot;\\\\u&quot;);\r\n\t\twhile(position!=-1) {\r\n\t\t\tif(position!=0)\r\n\t\t\t\tprocessed+=escaped.substring(0,position);\r\n\t\t\tString token=escaped.substring(position+2,position+6);\r\n\t\t\tescaped=escaped.substring(position+6);\r\n\t\t\tprocessed+=(char)Integer.parseInt(token,16);\r\n\t\t\tposition=escaped.indexOf(&quot;\\\\u&quot;);\r\n\t\t}\r\n\t\tprocessed+=escaped;\r\n\t\t\r\n\t\treturn processed;\r\n\t}","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Shorter version:</p>\n\n<pre><code>public static String unescapeJava(String escaped) {\n    if(escaped.indexOf(\"\\\\u\")==-1)\n        return escaped;\n\n    String processed=\"\";\n\n    int position=escaped.indexOf(\"\\\\u\");\n    while(position!=-1) {\n        if(position!=0)\n            processed+=escaped.substring(0,position);\n        String token=escaped.substring(position+2,position+6);\n        escaped=escaped.substring(position+6);\n        processed+=(char)Integer.parseInt(token,16);\n        position=escaped.indexOf(\"\\\\u\");\n    }\n    processed+=escaped;\n\n    return processed;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":361875,"reputation":3172,"user_id":704749,"accept_rate":80,"display_name":"Ashkan Ghodrat"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1497156814,"creation_date":1448140341,"answer_id":33848624,"question_id":11145681,"body_markdown":"one easy way i know using JsonObject:\r\n\r\n    try {\r\n    \tJSONObject json = new JSONObject();\r\n    \tjson.put(&quot;string&quot;, myString);\r\n    \tString converted = json.getString(&quot;string&quot;);\r\n    \r\n    } catch (JSONException e) {\r\n    \te.printStackTrace();\r\n    }","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>one easy way i know using JsonObject:</p>\n\n<pre><code>try {\n    JSONObject json = new JSONObject();\n    json.put(\"string\", myString);\n    String converted = json.getString(\"string\");\n\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495452158,"creation_date":1495452158,"answer_id":44111599,"question_id":11145681,"body_markdown":"Actually, I wrote an Open Source library that contains some utilities. One of them is converting a Unicode sequence to String and vise-versa. I found it very useful. Here is the quote from the article about this library about Unicode converter:&lt;br&gt;&lt;br&gt;\r\n\r\n&gt; Class StringUnicodeEncoderDecoder has methods that can convert a\r\n&gt; String (in any language) into a sequence of Unicode characters and\r\n&gt; vise-versa. For example a String &quot;Hello World&quot; will be converted into\r\n&gt; \r\n&gt; &quot;\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020 \\u0057\\u006f\\u0072\\u006c\\u0064&quot;\r\n&gt; \r\n&gt; and may be restored back.&lt;br&gt;\r\n\r\nHere is the link to entire article that explains what Utilities the library has and how to get the library to use it. It is available as Maven artifact or as source from Github. It is very easy to use. [Open Source Java library with stack trace filtering, Silent String parsing Unicode converter and Version comparison][1]\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Actually, I wrote an Open Source library that contains some utilities. One of them is converting a Unicode sequence to String and vise-versa. I found it very useful. Here is the quote from the article about this library about Unicode converter:<br><br></p>\n\n<blockquote>\n  <p>Class StringUnicodeEncoderDecoder has methods that can convert a\n  String (in any language) into a sequence of Unicode characters and\n  vise-versa. For example a String \"Hello World\" will be converted into</p>\n  \n  <p>\"\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020 \\u0057\\u006f\\u0072\\u006c\\u0064\"</p>\n  \n  <p>and may be restored back.<br></p>\n</blockquote>\n\n<p>Here is the link to entire article that explains what Utilities the library has and how to get the library to use it. It is available as Maven artifact or as source from Github. It is very easy to use. <a href=\"https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman\" rel=\"nofollow noreferrer\">Open Source Java library with stack trace filtering, Silent String parsing Unicode converter and Version comparison</a></p>\n"},{"comments":[{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1520184611,"post_id":46209109,"comment_id":85201674,"body_markdown":"attempt to reinvent standard methods provided by Standard Java Library. just check pure implementation https://stackoverflow.com/a/39265921/1511077","body":"attempt to reinvent standard methods provided by Standard Java Library. just check pure implementation <a href=\"https://stackoverflow.com/a/39265921/1511077\">stackoverflow.com/a/39265921/1511077</a>"}],"tags":[],"owner":{"account_id":7879138,"reputation":345,"user_id":5953870,"display_name":"AndyW58"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1505352453,"creation_date":1505352453,"answer_id":46209109,"question_id":11145681,"body_markdown":"Here is my solution...\r\n\r\n                    String decodedName = JwtJson.substring(startOfName, endOfName);\r\n\r\n                    StringBuilder builtName = new StringBuilder();\r\n\r\n                    int i = 0;\r\n\r\n                    while ( i &lt; decodedName.length() )\r\n                    {\r\n                        if ( decodedName.substring(i).startsWith(&quot;\\\\u&quot;))\r\n                        {\r\n                            i=i+2;\r\n                            builtName.append(Character.toChars(Integer.parseInt(decodedName.substring(i,i+4), 16)));\r\n                            i=i+4;\r\n                        }\r\n                        else\r\n                        {\r\n                            builtName.append(decodedName.charAt(i));\r\n                            i = i+1;\r\n                        }\r\n                    };\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Here is my solution...</p>\n\n<pre><code>                String decodedName = JwtJson.substring(startOfName, endOfName);\n\n                StringBuilder builtName = new StringBuilder();\n\n                int i = 0;\n\n                while ( i &lt; decodedName.length() )\n                {\n                    if ( decodedName.substring(i).startsWith(\"\\\\u\"))\n                    {\n                        i=i+2;\n                        builtName.append(Character.toChars(Integer.parseInt(decodedName.substring(i,i+4), 16)));\n                        i=i+4;\n                    }\n                    else\n                    {\n                        builtName.append(decodedName.charAt(i));\n                        i = i+1;\n                    }\n                };\n</code></pre>\n"},{"comments":[{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1583573128,"post_id":49097958,"comment_id":107168443,"body_markdown":"`String(string.toByteArray())` achieves literally nothing.","body":"<code>String(string.toByteArray())</code> achieves literally nothing."},{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1583700346,"post_id":49097958,"comment_id":107196282,"body_markdown":"@rustyx Method `toByteArray()` has default argument with `Charsets.UTF_8`. Then you create a string from bytearray with required encoding. I did test today with `windows-1251` to utf-8, it works. Also i did comparison at byte level :)","body":"@rustyx Method <code>toByteArray()</code> has default argument with <code>Charsets.UTF_8</code>. Then you create a string from bytearray with required encoding. I did test today with <code>windows-1251</code> to utf-8, it works. Also i did comparison at byte level :)"},{"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"score":0,"creation_date":1583700480,"post_id":49097958,"comment_id":107196313,"body_markdown":"@rustyx here is a gist for you - https://gist.github.com/lebe-dev/31e31a3399c7885e298ed86810504676","body":"@rustyx here is a gist for you - <a href=\"https://gist.github.com/lebe-dev/31e31a3399c7885e298ed86810504676\" rel=\"nofollow noreferrer\">gist.github.com/lebe-dev/31e31a3399c7885e298ed86810504676</a>"}],"tags":[],"owner":{"account_id":1638127,"reputation":1407,"user_id":1511077,"display_name":"Eugene Lebedev"},"comment_count":3,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1583700836,"creation_date":1520182921,"answer_id":49097958,"question_id":11145681,"body_markdown":"**Solution for Kotlin:**\r\n\r\n    val sourceContent = File(&quot;test.txt&quot;).readText(Charset.forName(&quot;windows-1251&quot;))\r\n    val result = String(sourceContent.toByteArray())\r\n\r\nKotlin uses UTF-8 everywhere as default encoding.\r\n\r\nMethod `toByteArray()` has default argument - `Charsets.UTF_8`.","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p><strong>Solution for Kotlin:</strong></p>\n\n<pre><code>val sourceContent = File(\"test.txt\").readText(Charset.forName(\"windows-1251\"))\nval result = String(sourceContent.toByteArray())\n</code></pre>\n\n<p>Kotlin uses UTF-8 everywhere as default encoding.</p>\n\n<p>Method <code>toByteArray()</code> has default argument - <code>Charsets.UTF_8</code>.</p>\n"},{"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1658936786,"post_id":51270108,"comment_id":129177667,"body_markdown":"So would just `System.out.println(&quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;)`","body":"So would just <code>System.out.println(&quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;)</code>"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531239761,"creation_date":1531239761,"answer_id":51270108,"question_id":11145681,"body_markdown":"An alternate way of accomplishing this could be to make use of [**`chars()`**](https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#chars()) introduced with Java 9, this can be used to iterate over the characters making sure any char which maps to a [surrogate code point](https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html#unicode) is passed through uninterpreted. This can be used as:-\r\n\r\n    String myString = &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;;\r\n    myString.chars().forEach(a -&gt; System.out.print((char)a));\r\n    // would print &quot;Hello World&quot;","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>An alternate way of accomplishing this could be to make use of <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\"><strong><code>chars()</code></strong></a> introduced with Java 9, this can be used to iterate over the characters making sure any char which maps to a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">surrogate code point</a> is passed through uninterpreted. This can be used as:-</p>\n\n<pre><code>String myString = \"\\u0048\\u0065\\u006C\\u006C\\u006F World\";\nmyString.chars().forEach(a -&gt; System.out.print((char)a));\n// would print \"Hello World\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583311275,"creation_date":1542189008,"answer_id":53297249,"question_id":11145681,"body_markdown":"Updates regarding answers suggesting using The Apache Commons Lang&#39;s:\r\n [StringEscapeUtils.unescapeJava()][1] - it was deprecated, \r\n\r\n&gt;**Deprecated.** \r\nas of 3.6, use commons-text StringEscapeUtils instead\r\n\r\nThe replacement is **Apache Commons Text**&#39;s [StringEscapeUtils.unescapeJava()][2]\r\n\r\n[1]:https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava-java.lang.String-\r\n\r\n[2]:https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Updates regarding answers suggesting using The Apache Commons Lang's:\n <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava-java.lang.String-\" rel=\"nofollow noreferrer\">StringEscapeUtils.unescapeJava()</a> - it was deprecated, </p>\n\n<blockquote>\n  <p><strong>Deprecated.</strong> \n  as of 3.6, use commons-text StringEscapeUtils instead</p>\n</blockquote>\n\n<p>The replacement is <strong>Apache Commons Text</strong>'s <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-\" rel=\"nofollow noreferrer\">StringEscapeUtils.unescapeJava()</a></p>\n"},{"comments":[{"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"score":0,"creation_date":1562586375,"post_id":54285760,"comment_id":100408785,"body_markdown":"Not works when there is non unicode characters inside string, such as: href=\\u0022\\/en\\/blog\\/d-day-protecting-europe-its-demons\\u0022\\u003E\\n","body":"Not works when there is non unicode characters inside string, such as: href=\\u0022\\/en\\/blog\\/d-day-protecting-europe-its-demons\\u0&zwnj;&#8203;022\\u003E\\n"}],"tags":[],"owner":{"account_id":13676611,"reputation":591,"user_id":9867895,"display_name":"lovestackh343"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1548058441,"creation_date":1548058441,"answer_id":54285760,"question_id":11145681,"body_markdown":"I found that many of the answers did not address the issue of &quot;Supplementary Characters&quot;. Here is the correct way to support it. No third-party libraries, pure Java implementation.\r\n\r\nhttp://www.oracle.com/us/technologies/java/supplementary-142654.html\r\n\r\n\r\n    public static String fromUnicode(String unicode) {\r\n        String str = unicode.replace(&quot;\\\\&quot;, &quot;&quot;);\r\n        String[] arr = str.split(&quot;u&quot;);\r\n        StringBuffer text = new StringBuffer();\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n            int hexVal = Integer.parseInt(arr[i], 16);\r\n            text.append(Character.toChars(hexVal));\r\n        }\r\n        return text.toString();\r\n    }\r\n\r\n    public static String toUnicode(String text) {\r\n        StringBuffer sb = new StringBuffer();\r\n        for (int i = 0; i &lt; text.length(); i++) {\r\n            int codePoint = text.codePointAt(i);\r\n            // Skip over the second char in a surrogate pair\r\n            if (codePoint &gt; 0xffff) {\r\n                i++;\r\n            }\r\n            String hex = Integer.toHexString(codePoint);\r\n            sb.append(&quot;\\\\u&quot;);\r\n            for (int j = 0; j &lt; 4 - hex.length(); j++) {\r\n                sb.append(&quot;0&quot;);\r\n            }\r\n            sb.append(hex);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    @Test\r\n    public void toUnicode() {\r\n        System.out.println(toUnicode(&quot;&#128522;&quot;));\r\n        System.out.println(toUnicode(&quot;&#129392;&quot;));\r\n        System.out.println(toUnicode(&quot;Hello World&quot;));\r\n    }\r\n    // output:\r\n    // \\u1f60a\r\n    // \\u1f970\r\n    // \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\r\n\r\n    @Test\r\n    public void fromUnicode() {\r\n        System.out.println(fromUnicode(&quot;\\\\u1f60a&quot;));\r\n        System.out.println(fromUnicode(&quot;\\\\u1f970&quot;));\r\n        System.out.println(fromUnicode(&quot;\\\\u0048\\\\u0065\\\\u006c\\\\u006c\\\\u006f\\\\u0020\\\\u0057\\\\u006f\\\\u0072\\\\u006c\\\\u0064&quot;));\r\n    }\r\n    // output:\r\n    // &#128522;\r\n    // &#129392;\r\n    // Hello World","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>I found that many of the answers did not address the issue of \"Supplementary Characters\". Here is the correct way to support it. No third-party libraries, pure Java implementation.</p>\n\n<p><a href=\"http://www.oracle.com/us/technologies/java/supplementary-142654.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/us/technologies/java/supplementary-142654.html</a></p>\n\n<pre><code>public static String fromUnicode(String unicode) {\n    String str = unicode.replace(\"\\\\\", \"\");\n    String[] arr = str.split(\"u\");\n    StringBuffer text = new StringBuffer();\n    for (int i = 1; i &lt; arr.length; i++) {\n        int hexVal = Integer.parseInt(arr[i], 16);\n        text.append(Character.toChars(hexVal));\n    }\n    return text.toString();\n}\n\npublic static String toUnicode(String text) {\n    StringBuffer sb = new StringBuffer();\n    for (int i = 0; i &lt; text.length(); i++) {\n        int codePoint = text.codePointAt(i);\n        // Skip over the second char in a surrogate pair\n        if (codePoint &gt; 0xffff) {\n            i++;\n        }\n        String hex = Integer.toHexString(codePoint);\n        sb.append(\"\\\\u\");\n        for (int j = 0; j &lt; 4 - hex.length(); j++) {\n            sb.append(\"0\");\n        }\n        sb.append(hex);\n    }\n    return sb.toString();\n}\n\n@Test\npublic void toUnicode() {\n    System.out.println(toUnicode(\"😊\"));\n    System.out.println(toUnicode(\"🥰\"));\n    System.out.println(toUnicode(\"Hello World\"));\n}\n// output:\n// \\u1f60a\n// \\u1f970\n// \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\n\n@Test\npublic void fromUnicode() {\n    System.out.println(fromUnicode(\"\\\\u1f60a\"));\n    System.out.println(fromUnicode(\"\\\\u1f970\"));\n    System.out.println(fromUnicode(\"\\\\u0048\\\\u0065\\\\u006c\\\\u006c\\\\u006f\\\\u0020\\\\u0057\\\\u006f\\\\u0072\\\\u006c\\\\u0064\"));\n}\n// output:\n// 😊\n// 🥰\n// Hello World\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31516,"reputation":571,"user_id":86600,"accept_rate":0,"display_name":"neoedmund"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565921103,"creation_date":1565921103,"answer_id":57518125,"question_id":11145681,"body_markdown":"I wrote a performanced and error-proof solution:\r\n\r\n    public static final String decode(final String in) {\r\n\t\tint p1 = in.indexOf(&quot;\\\\u&quot;);\r\n\t\tif (p1 &lt; 0)\r\n\t\t\treturn in;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\twhile (true) {\r\n\t\t\tint p2 = p1 + 6;\r\n\t\t\tif (p2 &gt; in.length()) {\r\n\t\t\t\tsb.append(in.subSequence(p1, in.length()));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tint c = Integer.parseInt(in.substring(p1 + 2, p1 + 6), 16);\r\n\t\t\t\tsb.append((char) c);\r\n\t\t\t\tp1 += 6;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tsb.append(in.subSequence(p1, p1 + 2));\r\n\t\t\t\tp1 += 2;\r\n\t\t\t}\r\n\t\t\tint p0 = in.indexOf(&quot;\\\\u&quot;, p1);\r\n\t\t\tif (p0 &lt; 0) {\r\n\t\t\t\tsb.append(in.subSequence(p1, in.length()));\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tsb.append(in.subSequence(p1, p0));\r\n\t\t\t\tp1 = p0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>I wrote a performanced and error-proof solution:</p>\n\n<pre><code>public static final String decode(final String in) {\n    int p1 = in.indexOf(\"\\\\u\");\n    if (p1 &lt; 0)\n        return in;\n    StringBuilder sb = new StringBuilder();\n    while (true) {\n        int p2 = p1 + 6;\n        if (p2 &gt; in.length()) {\n            sb.append(in.subSequence(p1, in.length()));\n            break;\n        }\n        try {\n            int c = Integer.parseInt(in.substring(p1 + 2, p1 + 6), 16);\n            sb.append((char) c);\n            p1 += 6;\n        } catch (Exception e) {\n            sb.append(in.subSequence(p1, p1 + 2));\n            p1 += 2;\n        }\n        int p0 = in.indexOf(\"\\\\u\", p1);\n        if (p0 &lt; 0) {\n            sb.append(in.subSequence(p1, in.length()));\n            break;\n        } else {\n            sb.append(in.subSequence(p1, p0));\n            p1 = p0;\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":338971,"reputation":1160,"user_id":668148,"accept_rate":100,"display_name":"Bogdan Kobylynskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598991342,"creation_date":1566006900,"answer_id":57532750,"question_id":11145681,"body_markdown":"StringEscapeUtils from org.apache.commons.lang3 library is [deprecated][1] as of 3.6. \r\n\r\nSo you can use their new [commons-text][2] library instead: \r\n\r\n    compile &#39;org.apache.commons:commons-text:1.9&#39;\r\n\r\n    OR\r\n \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n       &lt;version&gt;1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nExample code:\r\n\r\n    org.apache.commons.text.StringEscapeUtils.unescapeJava(escapedString);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.6/index.html\r\n  [2]: http://commons.apache.org/proper/commons-text/","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>StringEscapeUtils from org.apache.commons.lang3 library is <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.6/index.html\" rel=\"nofollow noreferrer\">deprecated</a> as of 3.6.</p>\n<p>So you can use their new <a href=\"http://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">commons-text</a> library instead:</p>\n<pre><code>compile 'org.apache.commons:commons-text:1.9'\n\nOR\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n   &lt;version&gt;1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Example code:</p>\n<pre><code>org.apache.commons.text.StringEscapeUtils.unescapeJava(escapedString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":239736,"reputation":61,"user_id":509549,"display_name":"Jabrwoky"},"score":0,"creation_date":1658524630,"post_id":58455026,"comment_id":129081661,"body_markdown":"The regex is not complete. The regex referenced by Marcelo for the Java 9+ solution will work in this case for Java 8\n`&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;`","body":"The regex is not complete. The regex referenced by Marcelo for the Java 9+ solution will work in this case for Java 8 <code>&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;</code>"}],"tags":[],"owner":{"account_id":65822,"reputation":1879,"user_id":193444,"accept_rate":50,"display_name":"robertokl"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583769486,"creation_date":1571416944,"answer_id":58455026,"question_id":11145681,"body_markdown":"Just wanted to contribute my version, using regex:\r\n\r\n    \r\n    private static final String UNICODE_REGEX = &quot;\\\\\\\\u([0-9a-f]{4})&quot;;\r\n    private static final Pattern UNICODE_PATTERN = Pattern.compile(UNICODE_REGEX);\r\n    ...\r\n    String message = &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;;\r\n    Matcher matcher = UNICODE_PATTERN.matcher(message);\r\n    StringBuffer decodedMessage = new StringBuffer();\r\n    while (matcher.find()) {\r\n      matcher.appendReplacement(\r\n          decodedMessage, String.valueOf((char) Integer.parseInt(matcher.group(1), 16)));\r\n    }\r\n    matcher.appendTail(decodedMessage);\r\n    System.out.println(decodedMessage.toString());","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Just wanted to contribute my version, using regex:</p>\n\n<pre><code>private static final String UNICODE_REGEX = \"\\\\\\\\u([0-9a-f]{4})\";\nprivate static final Pattern UNICODE_PATTERN = Pattern.compile(UNICODE_REGEX);\n...\nString message = \"\\u0048\\u0065\\u006C\\u006C\\u006F World\";\nMatcher matcher = UNICODE_PATTERN.matcher(message);\nStringBuffer decodedMessage = new StringBuffer();\nwhile (matcher.find()) {\n  matcher.appendReplacement(\n      decodedMessage, String.valueOf((char) Integer.parseInt(matcher.group(1), 16)));\n}\nmatcher.appendTail(decodedMessage);\nSystem.out.println(decodedMessage.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17337085,"reputation":19,"user_id":12558786,"display_name":"Wefyns"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1576673876,"creation_date":1576673876,"answer_id":59392607,"question_id":11145681,"body_markdown":"Fast\r\n\r\n     fun unicodeDecode(unicode: String): String {\r\n            val stringBuffer = StringBuilder()\r\n            var i = 0\r\n            while (i &lt; unicode.length) {\r\n                if (i + 1 &lt; unicode.length)\r\n                    if (unicode[i].toString() + unicode[i + 1].toString() == &quot;\\\\u&quot;) {\r\n                        val symbol = unicode.substring(i + 2, i + 6)\r\n                        val c = Integer.parseInt(symbol, 16)\r\n                        stringBuffer.append(c.toChar())\r\n                        i += 5\r\n                    } else stringBuffer.append(unicode[i])\r\n                i++\r\n            }\r\n            return stringBuffer.toString()\r\n        }","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>Fast</p>\n\n<pre><code> fun unicodeDecode(unicode: String): String {\n        val stringBuffer = StringBuilder()\n        var i = 0\n        while (i &lt; unicode.length) {\n            if (i + 1 &lt; unicode.length)\n                if (unicode[i].toString() + unicode[i + 1].toString() == \"\\\\u\") {\n                    val symbol = unicode.substring(i + 2, i + 6)\n                    val c = Integer.parseInt(symbol, 16)\n                    stringBuffer.append(c.toChar())\n                    i += 5\n                } else stringBuffer.append(unicode[i])\n            i++\n        }\n        return stringBuffer.toString()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477409,"reputation":980,"user_id":1478419,"display_name":"Marcelo Barros"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599244981,"creation_date":1599244981,"answer_id":63746515,"question_id":11145681,"body_markdown":"For Java 9+, you can use the new [replaceAll][1] method of [Matcher][2] class.\r\n\r\n\r\n    private static final Pattern UNICODE_PATTERN = Pattern.compile(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;);\r\n\r\n\tpublic static String unescapeUnicode(String unescaped) {\r\n\t\treturn UNICODE_PATTERN.matcher(unescaped).replaceAll(r -&gt; String.valueOf((char) Integer.parseInt(r.group(1), 16)));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString originalMessage = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\r\n\t\tString unescapedMessage = unescapeUnicode(originalMessage);\r\n\t\tSystem.out.println(unescapedMessage);\r\n\t}\r\n\r\nI believe the main advantage of this approach over [unescapeJava][3] by [StringEscapeUtils][4] (besides not using an extra library) is that you can convert only the unicode characters (if you wish), since the latter converts all escaped Java characters (like \\n or \\t). If you prefer to convert all escaped characters the library is really the best option.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html\r\n  [3]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava(java.lang.String)\r\n  [4]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>For Java 9+, you can use the new <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"noreferrer\">replaceAll</a> method of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\">Matcher</a> class.</p>\n<pre><code>private static final Pattern UNICODE_PATTERN = Pattern.compile(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;);\n\npublic static String unescapeUnicode(String unescaped) {\n    return UNICODE_PATTERN.matcher(unescaped).replaceAll(r -&gt; String.valueOf((char) Integer.parseInt(r.group(1), 16)));\n}\n\npublic static void main(String[] args) {\n    String originalMessage = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\n    String unescapedMessage = unescapeUnicode(originalMessage);\n    System.out.println(unescapedMessage);\n}\n</code></pre>\n<p>I believe the main advantage of this approach over <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeJava(java.lang.String)\" rel=\"noreferrer\">unescapeJava</a> by <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\" rel=\"noreferrer\">StringEscapeUtils</a> (besides not using an extra library) is that you can convert only the unicode characters (if you wish), since the latter converts all escaped Java characters (like \\n or \\t). If you prefer to convert all escaped characters the library is really the best option.</p>\n"},{"tags":[],"owner":{"account_id":2495634,"reputation":89,"user_id":2172134,"display_name":"Jun.wan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600081288,"creation_date":1600081288,"answer_id":63882970,"question_id":11145681,"body_markdown":"@NominSim \r\nThere may be other character, so I should detect it by length.\r\n\r\n\r\n    private String forceUtf8Coding(String str) {\r\n        str = str.replace(&quot;\\\\&quot;,&quot;&quot;);\r\n        String[] arr = str.split(&quot;u&quot;);\r\n        StringBuilder text = new StringBuilder();\r\n        for(int i = 1; i &lt; arr.length; i++){\r\n            String a = arr[i];\r\n            String b = &quot;&quot;;\r\n            if (arr[i].length() &gt; 4){\r\n                a = arr[i].substring(0, 4);\r\n                b = arr[i].substring(4);\r\n            }\r\n            int hexVal = Integer.parseInt(a, 16);\r\n            text.append((char) hexVal).append(b);\r\n        }\r\n        return text.toString();\r\n    }","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>@NominSim\nThere may be other character, so I should detect it by length.</p>\n<pre><code>private String forceUtf8Coding(String str) {\n    str = str.replace(&quot;\\\\&quot;,&quot;&quot;);\n    String[] arr = str.split(&quot;u&quot;);\n    StringBuilder text = new StringBuilder();\n    for(int i = 1; i &lt; arr.length; i++){\n        String a = arr[i];\n        String b = &quot;&quot;;\n        if (arr[i].length() &gt; 4){\n            a = arr[i].substring(0, 4);\n            b = arr[i].substring(4);\n        }\n        int hexVal = Integer.parseInt(a, 16);\n        text.append((char) hexVal).append(b);\n    }\n    return text.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6110762,"reputation":695,"user_id":4767134,"display_name":"anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658937101,"creation_date":1604519338,"answer_id":64686774,"question_id":11145681,"body_markdown":"[`UnicodeUnescaper`][1] from Apache Commons Text does exactly what you want, and ignores any other escape sequences.\r\n\r\n```java\r\nString input = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\r\nString output = new UnicodeUnescaper().translate(input);\r\nassert(&quot;Hello World&quot;.equals(output));\r\nassert(&quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;.equals(output));\r\n```\r\n\r\nWhere `input` would be the string you are reading from a file.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/translate/UnicodeUnescaper.html","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p><a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/translate/UnicodeUnescaper.html\" rel=\"nofollow noreferrer\"><code>UnicodeUnescaper</code></a> from Apache Commons Text does exactly what you want, and ignores any other escape sequences.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;;\nString output = new UnicodeUnescaper().translate(input);\nassert(&quot;Hello World&quot;.equals(output));\nassert(&quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;.equals(output));\n</code></pre>\n<p>Where <code>input</code> would be the string you are reading from a file.</p>\n"},{"tags":[],"owner":{"account_id":22778949,"reputation":481,"user_id":16935158,"display_name":"Yevhen Railian"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1631867521,"creation_date":1631867521,"answer_id":69220212,"question_id":11145681,"body_markdown":"With **Kotlin** you can write your own extension function for *String* \r\n\r\n```kotlin\r\nfun String.unescapeUnicode() = replace(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;.toRegex()) {\r\n    String(Character.toChars(it.groupValues[1].toInt(radix = 16)))\r\n}\r\n```\r\n\r\nand then \r\n\r\n```kotlin\r\nfun main() {\r\n    val originalString = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;\r\n    println(originalString.unescapeUnicode())\r\n}\r\n```\r\n\r\n\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>With <strong>Kotlin</strong> you can write your own extension function for <em>String</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun String.unescapeUnicode() = replace(&quot;\\\\\\\\u([0-9A-Fa-f]{4})&quot;.toRegex()) {\n    String(Character.toChars(it.groupValues[1].toInt(radix = 16)))\n}\n</code></pre>\n<p>and then</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val originalString = &quot;\\\\u0048\\\\u0065\\\\u006C\\\\u006C\\\\u006F World&quot;\n    println(originalString.unescapeUnicode())\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680069491,"creation_date":1680069491,"answer_id":75873606,"question_id":11145681,"body_markdown":"To do this, no need to depend 3-part library. Just use the java built-in library.\r\n\r\nAssuming that we have a unicode &#39;1F914&#39;, \r\n\r\n1. firstly we convert it from hex to decimal using `Integer.parseInt`\r\n2. then we pass the decimal representation to `Character.toChars()`, got a char array. \r\n&gt; Java use UTF-16 to encode String. If a character that codepoint is over than 16 bit, using a char array to represent it.\r\n\r\n3. After that,we new a sting by the char array. Finally we got a emoji : “&#129300;”\r\n\r\n```java\r\nnew String(Character.toChars(Integer.parseInt(unicode, 16)));\r\n```","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>To do this, no need to depend 3-part library. Just use the java built-in library.</p>\n<p>Assuming that we have a unicode '1F914',</p>\n<ol>\n<li>firstly we convert it from hex to decimal using <code>Integer.parseInt</code></li>\n<li>then we pass the decimal representation to <code>Character.toChars()</code>, got a char array.</li>\n</ol>\n<blockquote>\n<p>Java use UTF-16 to encode String. If a character that codepoint is over than 16 bit, using a char array to represent it.</p>\n</blockquote>\n<ol start=\"3\">\n<li>After that,we new a sting by the char array. Finally we got a emoji : “🤔”</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>new String(Character.toChars(Integer.parseInt(unicode, 16)));\n</code></pre>\n"}],"owner":{"account_id":1076262,"reputation":1745,"user_id":1074341,"accept_rate":79,"display_name":"SharonBL"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325505,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":11145854,"answer_count":23,"score":100,"last_activity_date":1680069491,"creation_date":1340308071,"question_id":11145681,"body_markdown":"I have a string with escaped [Unicode][1] characters, `\\uXXXX`, and I want to convert it to regular Unicode letters. For example:\r\n\r\n    &quot;\\u0048\\u0065\\u006C\\u006C\\u006F World&quot;\r\n\r\nshould become\r\n\r\n    &quot;Hello World&quot;\r\n\r\nI know that when I print the first string it already shows `Hello world`. My problem is I read file names from a file, and then I search for them. The files names in the file are escaped with Unicode encoding, and when I search for the files, I can&#39;t find them, since it searches for a file with `\\uXXXX` in its name.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Unicode\r\n  [2]: http://en.wikipedia.org/wiki/UTF-8\r\n","title":"How to convert a string with Unicode encoding to a string of letters","body":"<p>I have a string with escaped <a href=\"http://en.wikipedia.org/wiki/Unicode\" rel=\"noreferrer\">Unicode</a> characters, <code>\\uXXXX</code>, and I want to convert it to regular Unicode letters. For example:</p>\n\n<pre><code>\"\\u0048\\u0065\\u006C\\u006C\\u006F World\"\n</code></pre>\n\n<p>should become</p>\n\n<pre><code>\"Hello World\"\n</code></pre>\n\n<p>I know that when I print the first string it already shows <code>Hello world</code>. My problem is I read file names from a file, and then I search for them. The files names in the file are escaped with Unicode encoding, and when I search for the files, I can't find them, since it searches for a file with <code>\\uXXXX</code> in its name.</p>\n"},{"tags":["java","mysql","database"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680019008,"post_id":75868449,"comment_id":133823605,"body_markdown":"Possibly related: [com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure](https://stackoverflow.com/q/2983248)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/2983248\">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1680019241,"post_id":75868449,"comment_id":133823661,"body_markdown":"BTW instead of `System.out.println(e);` consider using `e.printStackTrace()` to get possibly more info about cause of the exception (with line numbers).","body":"BTW instead of <code>System.out.println(e);</code> consider using <code>e.printStackTrace()</code> to get possibly more info about cause of the exception (with line numbers)."},{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":1,"creation_date":1680020053,"post_id":75868449,"comment_id":133823908,"body_markdown":"Remove one of the colons between host and port in your URL:\n`jdbc:mysql://localhost: **:** 3306/bankingsystem` -&gt;\n`jdbc:mysql://localhost:3306/bankingsystem`\nShould solve your problem!","body":"Remove one of the colons between host and port in your URL: <code>jdbc:mysql:&#47;&#47;localhost: **:** 3306&#47;bankingsystem</code> -&gt; <code>jdbc:mysql:&#47;&#47;localhost:3306&#47;bankingsystem</code> Should solve your problem!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680021168,"post_id":75868449,"comment_id":133824280,"body_markdown":"Please post the full exception stacktrace.","body":"Please post the full exception stacktrace."}],"answers":[{"comments":[{"owner":{"account_id":24836356,"reputation":11,"user_id":18714950,"display_name":"Renato Pomparau"},"score":0,"creation_date":1680020454,"post_id":75868549,"comment_id":133824039,"body_markdown":"ty using e.printStackTrace() i was able to see that i entered an additional : after localhost :))","body":"ty using e.printStackTrace() i was able to see that i entered an additional : after localhost :))"}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680019446,"creation_date":1680019446,"answer_id":75868549,"question_id":75868449,"body_markdown":"You&#39;ll need to look further down the exception because the original exception is chained together with this one.  This is the top of the exception:\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n```\r\nSo this failure to communicate isn&#39;t detailed enough to diagnose the issue.  But if you find a \r\n`java.net.ConnectException: Connection refused` embedded it&#39;s likely that MySQL isn&#39;t running.\r\n\r\nChange your `System.out.println(e)` -&gt; `e.printStackTrace()` to see the full exception chain.","title":"Connection to database using MySQL in Java","body":"<p>You'll need to look further down the exception because the original exception is chained together with this one.  This is the top of the exception:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n</code></pre>\n<p>So this failure to communicate isn't detailed enough to diagnose the issue.  But if you find a\n<code>java.net.ConnectException: Connection refused</code> embedded it's likely that MySQL isn't running.</p>\n<p>Change your <code>System.out.println(e)</code> -&gt; <code>e.printStackTrace()</code> to see the full exception chain.</p>\n"}],"owner":{"account_id":24836356,"reputation":11,"user_id":18714950,"display_name":"Renato Pomparau"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680068846,"creation_date":1680018785,"question_id":75868449,"body_markdown":"I am trying to connect to a database using MySQL. The error I get is:     \r\n&quot;com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure&quot;\r\n\r\nAny ideas what can cause this? \r\n    \r\n    import java.sql.*;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class Conn {\r\n    \r\n        Connection c=null;\r\n       // Statement s;\r\n        public Conn(){\r\n            try{\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                c=DriverManager.getConnection(&quot;jdbc:mysql://localhost::3306/bankingsystem&quot;,&quot;root&quot;,&quot;password&quot;);\r\n              //  Statement statement=c.createStatement();\r\n             //   ResultSet rs=statement.executeQuery();\r\n                if(c!=null)\r\n                {\r\n                    System.out.println(&quot;Connected to DB&quot;);\r\n                }\r\n            }catch (Exception e){\r\n                System.out.println(&quot;Not connected to DB&quot;);\r\n                System.out.println(e);\r\n    \r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            //Conn Conexiune =new Conn();\r\n            \r\n    \r\n        }\r\n    }\r\n    \r\n  ","title":"Connection to database using MySQL in Java","body":"<p>I am trying to connect to a database using MySQL. The error I get is:<br />\n&quot;com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure&quot;</p>\n<p>Any ideas what can cause this?</p>\n<pre><code>import java.sql.*;\nimport java.sql.DriverManager;\n\npublic class Conn {\n\n    Connection c=null;\n   // Statement s;\n    public Conn(){\n        try{\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            c=DriverManager.getConnection(&quot;jdbc:mysql://localhost::3306/bankingsystem&quot;,&quot;root&quot;,&quot;password&quot;);\n          //  Statement statement=c.createStatement();\n         //   ResultSet rs=statement.executeQuery();\n            if(c!=null)\n            {\n                System.out.println(&quot;Connected to DB&quot;);\n            }\n        }catch (Exception e){\n            System.out.println(&quot;Not connected to DB&quot;);\n            System.out.println(e);\n\n        }\n    }\n\n    public static void main(String[] args) {\n        //Conn Conexiune =new Conn();\n        \n\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","timeout","micronaut","wiremock"],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680068803,"creation_date":1680068803,"question_id":75873543,"body_markdown":"I want to test the read timeout for an api which my application is calling using micronaut httpclient.\r\n\r\n    @Validated\r\n    @Client(&quot;${api.url}&quot;)\r\n    public interface ApiClient {\r\n        @Get(&quot;/v1/itemdetails{?ids*}&quot;)\r\n        @Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\r\n        HttpResponse&lt;ItemDto&gt; getItems(\r\n                @NotEmpty List&lt;String&gt; ids,\r\n                @Header(&quot;authorization&quot;) @NotBlank String authorization\r\n        );\r\n    }\r\n\r\n\r\nCode which call this client is as follows:\r\n\r\n    private void saveItems(List&lt;String&gt; ids) {\r\n        try {\r\n            String token = getToken();\r\n            HttpResponse&lt;ItemDto&gt; itemResponse =ApiClient.getItems(ids,token);\r\n            handleItemResponse(ids, itemResponse);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error saving items&quot;, e);\r\n        }\r\n    }\r\n\r\nHow I can write a Test to verify whether Retry is happening 3 times or not? I already configure Wiremock to respond with a delay more than ReadTimeout Value.\r\n\r\nOne way I know is that I can put an ApiClient call inside another method with `Retryable` annotation and verify the number of times `getItems` method gets called.\r\n\r\n    @Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\r\n    private HttpResponse&lt;ItemDto&gt; getItemsFromApi(List&lt;String&gt; ids){\r\n       logs.debug(&quot;calling Api...&quot;);\r\n       return ApiClient.getItems(ids,token);\r\n    }\r\n\r\n Please suggest if there&#39;s any better approach to test this.","title":"How to write a Junit test to Verify Retry on ReadTimeout/Exception for an API","body":"<p>I want to test the read timeout for an api which my application is calling using micronaut httpclient.</p>\n<pre><code>@Validated\n@Client(&quot;${api.url}&quot;)\npublic interface ApiClient {\n    @Get(&quot;/v1/itemdetails{?ids*}&quot;)\n    @Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\n    HttpResponse&lt;ItemDto&gt; getItems(\n            @NotEmpty List&lt;String&gt; ids,\n            @Header(&quot;authorization&quot;) @NotBlank String authorization\n    );\n}\n</code></pre>\n<p>Code which call this client is as follows:</p>\n<pre><code>private void saveItems(List&lt;String&gt; ids) {\n    try {\n        String token = getToken();\n        HttpResponse&lt;ItemDto&gt; itemResponse =ApiClient.getItems(ids,token);\n        handleItemResponse(ids, itemResponse);\n    } catch (Exception e) {\n        log.error(&quot;Error saving items&quot;, e);\n    }\n}\n</code></pre>\n<p>How I can write a Test to verify whether Retry is happening 3 times or not? I already configure Wiremock to respond with a delay more than ReadTimeout Value.</p>\n<p>One way I know is that I can put an ApiClient call inside another method with <code>Retryable</code> annotation and verify the number of times <code>getItems</code> method gets called.</p>\n<pre><code>@Retryable(attempts = &quot;${attempts:3}&quot;, delay = &quot;${delay:1s}&quot;)\nprivate HttpResponse&lt;ItemDto&gt; getItemsFromApi(List&lt;String&gt; ids){\n   logs.debug(&quot;calling Api...&quot;);\n   return ApiClient.getItems(ids,token);\n}\n</code></pre>\n<p>Please suggest if there's any better approach to test this.</p>\n"},{"tags":["java","optimization","hashmap","heap-memory","hocon"],"owner":{"account_id":11633921,"reputation":11,"user_id":8521013,"display_name":"Sai Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680067713,"creation_date":1678902083,"question_id":75748310,"body_markdown":"I am using the lightbend/config library to parse and store the HOCON data. The library uses HashMap to capture the hierarchy of data and has memory overhead (than json, partly because of the extra information for debugging and substitutions).\r\n\r\nI am looking for an alternative way to represent the data **in memory** efficiently based on the structural information we have in the JSON Schema\r\n\r\nthe information is stored in immutable way, so major focus is to efficiently store and fetch.\r\n\r\n(I need to load the configs in memory, there may be a huge number of configs)\r\n\r\n(It would be better if the new structure can reduce memory without losing support for the dot notation access and supports substitutions if possible)\r\n\r\n\r\n\r\nfollowing are the ideas i currently have, \r\n\r\n(I still use lightbend/config for parsing, i focus only on the storing part for now. Also didn&#39;t test support for substitutions.)\r\n\r\n**The data used here to compare ideas does not have any substitutions and i am considering JSON object&#39;s size as base value**\r\n\r\n1) The basic idea was to store them as POJO objects (POJO generated from JSON Schema). There may be thousands of configs \r\n\r\n(for checking purpose i just used jsonschema2pojo to generate classes)\r\n[HOCON to JSON](https://hocon-playground.avelier.dev/)\r\n[JSONSchema to POJO](https://www.jsonschema2pojo.org/)\r\n \r\nthe main advantages i see here are:\r\n - this method preserves dot notation access\r\n - also substitutions can be achieved through object reference (if not primitive types). \r\n - type safe\r\n - The memory is also less than hashmaps and is comparable to the below object array method.\r\n\r\nthe disadvantages:\r\n - This method requires creation of so many classes and many instances of each class.\r\n - high instantiation time (one time operation)\r\n\r\n---\r\n\r\n2) using object arrays (array of references) and dropping keys.\r\neg: \r\n\r\n**json-schema (in HOCON format):**\r\n```\r\n{\r\n  app {\r\n    type: object\r\n    additionalProperties: false\r\n    properties {\r\n      name {type: string}\r\n      version {type: string}\r\n      author {\r\n        type: object\r\n        additionalProperties: { //author name can be anything - retain as hash map\r\n          additionalProperties: false\r\n          properties: {\r\n            name {type: string}\r\n            email {type: string}\r\n          }\r\n        }\r\n      }\r\n      server {\r\n        type: object\r\n        additionalProperties: false\r\n        properties {\r\n          port {type: int}\r\n          host {type: string}\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**HOCON data for above schema:**\r\n```\r\napp {\r\n  name = &quot;My App&quot;\r\n  version = &quot;1.0&quot;\r\n  author {\r\n    alice {\r\n      name = &quot;John Doe&quot;\r\n      email = &quot;john.doe@example.com&quot;\r\n    }\r\n    bob {\r\n      name = &quot;John Doe&quot;\r\n      email = &quot;john.doe@example.com&quot;\r\n    }\r\n  }\r\n  server {\r\n    port = 8080\r\n    host = &quot;localhost&quot;\r\n  }\r\n}\r\n```\r\nA class is created to associate index to each key and based on that the object array holds data (the hashmaps are converted as object arrays).\r\n\r\n```lang-java\r\nfinal class Root {\r\n\r\n    String getPath() {\r\n        return &quot;&quot;;\r\n    }\r\n    App app = new App();\r\n    final class App {\r\n        final int index = 0;\r\n        Name name = new Name();\r\n        Version version = new Version();\r\n        Author author = new Author();\r\n        Server server = new Server();\r\n\r\n        String getPath(){\r\n            return Root.this.getPath() + index;\r\n        }\r\n\r\n        final class Name {\r\n            final int index = 0;\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n        }\r\n        final class Version {\r\n            final int index = 1;\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n        }\r\n        final class Author {                   //handles hash map\r\n            final int index = 2;\r\n            String key;                        //need to get the unknown key at runtime.\r\n            Name name = new Name();\r\n            Email email = new Email();\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index + &quot;&quot;;\r\n            }\r\n\r\n            String getPathWithKey(){\r\n                return app.getPath() + &quot;.&quot; + index + &quot;.&quot; + key;\r\n            }\r\n\r\n            Author setKey(String key) {\r\n                this.key = key;\r\n                return this;\r\n            }\r\n\r\n            final class Name{\r\n                final int index = 0;\r\n\r\n                String getPath(){\r\n                    return author.getPathWithKey() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n\r\n            final class Email{\r\n                final int index = 1;\r\n\r\n                String getPath(){\r\n                    return author.getPathWithKey() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n        }\r\n\r\n        final class Server {\r\n            final int index = 3;\r\n            Port port = new Port();\r\n            Host host = new Host();\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n\r\n            final class Port {\r\n                final int index = 0;\r\n\r\n                String getPath(){\r\n                    return server.getPath() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n\r\n            final class Host {\r\n                final int index = 1;\r\n\r\n                String getPath(){\r\n                    return server.getPath() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe object array based on the above class is\r\n\r\n```\r\n    root[ \r\n    0:  app[  \r\n        0:  name,\r\n        1:  version,\r\n        2:  author { \r\n              alice: [ 0:name,\r\n                       1: email ],\r\n              bob:   [ 0: name,\r\n                       1: email ] \r\n            },\r\n        3:  server [ 0: port,\r\n                     1: host ] \r\n        ] \r\n    ]\r\n\r\n```\r\n\r\nfor which the class provides the path when given:\r\n```\r\nRoot root = new Root();\r\nroot.app.author.authorMap.setKey(&quot;alice&quot;).name.getPath()\r\nreturns: 0.2.alice.0\r\n```\r\nOn comparison to above method:\r\n - memory is not much reduced compared to POJO.\r\n - loss of type safety. (doesn&#39;t feel like good design)\r\n - generic references of type Object\r\n\r\nPOJO and object arrays seem like allocating fixed size for reference, where POJO will have references of specific type and object[] has general object reference.\r\n\r\n**is there any advantage to preferring object arrays over POJOs.**\r\n \r\n[this question discusses the class vs array memory problem](https://stackoverflow.com/questions/33004572/java-performance-memory-consumption-class-vs-array)\r\n\r\nthe solution to above problem was to store every pair of doubles sequentially in single dimension array. Based on this a third approach:\r\n\r\n---\r\n\r\n3) int[] stores the integers contiguously in heap whereas Integer[] stores contiguous references to integer objects spread out in heap. \r\n\r\nIf so based on this, i can treat each schema like a primitive type and fix it&#39;s size. so for the above example schema:\r\n\r\n```\r\nthe leaf values are:\r\napp.name           string - max 50 chars - 100 bytes\r\napp.version        string - max 20 chars - 40 bytes\r\napp.author         Map - reference - 8 bytes\r\napp.server.port    int - 32 bytes \r\napp.server.host    unknown string - ref - 8 bytes\r\n\r\nauthor hash map item array:\r\n&lt;author&gt;.name   string - max 50 chars -    100 bytes\r\n&lt;author&gt;.email  string - max 50 chars -    100 bytes\r\n```\r\n\r\n\r\n```\r\n&lt;--------------app----------------&gt;  \r\n                        &lt;--server--&gt;  \r\n[name, version, author, port, host]    (ByteBuffer)\r\n                |  \r\n                V  \r\n            [name, email]              (ByteBuffer)\r\n```\r\n\r\nand create ByteBuffers to store the data as bytes and access based on offset. This method will require one class per schema to store the offset.\r\n\r\nis there any other efficient ways?","title":"Memory efficient alternative of Hashmap for storing data (HOCON config) conforming to json-schema","body":"<p>I am using the lightbend/config library to parse and store the HOCON data. The library uses HashMap to capture the hierarchy of data and has memory overhead (than json, partly because of the extra information for debugging and substitutions).</p>\n<p>I am looking for an alternative way to represent the data <strong>in memory</strong> efficiently based on the structural information we have in the JSON Schema</p>\n<p>the information is stored in immutable way, so major focus is to efficiently store and fetch.</p>\n<p>(I need to load the configs in memory, there may be a huge number of configs)</p>\n<p>(It would be better if the new structure can reduce memory without losing support for the dot notation access and supports substitutions if possible)</p>\n<p>following are the ideas i currently have,</p>\n<p>(I still use lightbend/config for parsing, i focus only on the storing part for now. Also didn't test support for substitutions.)</p>\n<p><strong>The data used here to compare ideas does not have any substitutions and i am considering JSON object's size as base value</strong></p>\n<ol>\n<li>The basic idea was to store them as POJO objects (POJO generated from JSON Schema). There may be thousands of configs</li>\n</ol>\n<p>(for checking purpose i just used jsonschema2pojo to generate classes)\n<a href=\"https://hocon-playground.avelier.dev/\" rel=\"nofollow noreferrer\">HOCON to JSON</a>\n<a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">JSONSchema to POJO</a></p>\n<p>the main advantages i see here are:</p>\n<ul>\n<li>this method preserves dot notation access</li>\n<li>also substitutions can be achieved through object reference (if not primitive types).</li>\n<li>type safe</li>\n<li>The memory is also less than hashmaps and is comparable to the below object array method.</li>\n</ul>\n<p>the disadvantages:</p>\n<ul>\n<li>This method requires creation of so many classes and many instances of each class.</li>\n<li>high instantiation time (one time operation)</li>\n</ul>\n<hr />\n<ol start=\"2\">\n<li>using object arrays (array of references) and dropping keys.\neg:</li>\n</ol>\n<p><strong>json-schema (in HOCON format):</strong></p>\n<pre><code>{\n  app {\n    type: object\n    additionalProperties: false\n    properties {\n      name {type: string}\n      version {type: string}\n      author {\n        type: object\n        additionalProperties: { //author name can be anything - retain as hash map\n          additionalProperties: false\n          properties: {\n            name {type: string}\n            email {type: string}\n          }\n        }\n      }\n      server {\n        type: object\n        additionalProperties: false\n        properties {\n          port {type: int}\n          host {type: string}\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>HOCON data for above schema:</strong></p>\n<pre><code>app {\n  name = &quot;My App&quot;\n  version = &quot;1.0&quot;\n  author {\n    alice {\n      name = &quot;John Doe&quot;\n      email = &quot;john.doe@example.com&quot;\n    }\n    bob {\n      name = &quot;John Doe&quot;\n      email = &quot;john.doe@example.com&quot;\n    }\n  }\n  server {\n    port = 8080\n    host = &quot;localhost&quot;\n  }\n}\n</code></pre>\n<p>A class is created to associate index to each key and based on that the object array holds data (the hashmaps are converted as object arrays).</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class Root {\n\n    String getPath() {\n        return &quot;&quot;;\n    }\n    App app = new App();\n    final class App {\n        final int index = 0;\n        Name name = new Name();\n        Version version = new Version();\n        Author author = new Author();\n        Server server = new Server();\n\n        String getPath(){\n            return Root.this.getPath() + index;\n        }\n\n        final class Name {\n            final int index = 0;\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n        }\n        final class Version {\n            final int index = 1;\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n        }\n        final class Author {                   //handles hash map\n            final int index = 2;\n            String key;                        //need to get the unknown key at runtime.\n            Name name = new Name();\n            Email email = new Email();\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index + &quot;&quot;;\n            }\n\n            String getPathWithKey(){\n                return app.getPath() + &quot;.&quot; + index + &quot;.&quot; + key;\n            }\n\n            Author setKey(String key) {\n                this.key = key;\n                return this;\n            }\n\n            final class Name{\n                final int index = 0;\n\n                String getPath(){\n                    return author.getPathWithKey() + &quot;.&quot; + index;\n                }\n            }\n\n            final class Email{\n                final int index = 1;\n\n                String getPath(){\n                    return author.getPathWithKey() + &quot;.&quot; + index;\n                }\n            }\n        }\n\n        final class Server {\n            final int index = 3;\n            Port port = new Port();\n            Host host = new Host();\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n\n            final class Port {\n                final int index = 0;\n\n                String getPath(){\n                    return server.getPath() + &quot;.&quot; + index;\n                }\n            }\n\n            final class Host {\n                final int index = 1;\n\n                String getPath(){\n                    return server.getPath() + &quot;.&quot; + index;\n                }\n            }\n        }\n\n    }\n}\n\n</code></pre>\n<p>the object array based on the above class is</p>\n<pre><code>    root[ \n    0:  app[  \n        0:  name,\n        1:  version,\n        2:  author { \n              alice: [ 0:name,\n                       1: email ],\n              bob:   [ 0: name,\n                       1: email ] \n            },\n        3:  server [ 0: port,\n                     1: host ] \n        ] \n    ]\n\n</code></pre>\n<p>for which the class provides the path when given:</p>\n<pre><code>Root root = new Root();\nroot.app.author.authorMap.setKey(&quot;alice&quot;).name.getPath()\nreturns: 0.2.alice.0\n</code></pre>\n<p>On comparison to above method:</p>\n<ul>\n<li>memory is not much reduced compared to POJO.</li>\n<li>loss of type safety. (doesn't feel like good design)</li>\n<li>generic references of type Object</li>\n</ul>\n<p>POJO and object arrays seem like allocating fixed size for reference, where POJO will have references of specific type and object[] has general object reference.</p>\n<p><strong>is there any advantage to preferring object arrays over POJOs.</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/33004572/java-performance-memory-consumption-class-vs-array\">this question discusses the class vs array memory problem</a></p>\n<p>the solution to above problem was to store every pair of doubles sequentially in single dimension array. Based on this a third approach:</p>\n<hr />\n<ol start=\"3\">\n<li>int[] stores the integers contiguously in heap whereas Integer[] stores contiguous references to integer objects spread out in heap.</li>\n</ol>\n<p>If so based on this, i can treat each schema like a primitive type and fix it's size. so for the above example schema:</p>\n<pre><code>the leaf values are:\napp.name           string - max 50 chars - 100 bytes\napp.version        string - max 20 chars - 40 bytes\napp.author         Map - reference - 8 bytes\napp.server.port    int - 32 bytes \napp.server.host    unknown string - ref - 8 bytes\n\nauthor hash map item array:\n&lt;author&gt;.name   string - max 50 chars -    100 bytes\n&lt;author&gt;.email  string - max 50 chars -    100 bytes\n</code></pre>\n<pre><code>&lt;--------------app----------------&gt;  \n                        &lt;--server--&gt;  \n[name, version, author, port, host]    (ByteBuffer)\n                |  \n                V  \n            [name, email]              (ByteBuffer)\n</code></pre>\n<p>and create ByteBuffers to store the data as bytes and access based on offset. This method will require one class per schema to store the offset.</p>\n<p>is there any other efficient ways?</p>\n"},{"tags":["java","for-loop","java-stream"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1680065794,"post_id":75873257,"comment_id":133831708,"body_markdown":"Just don&#39;t `collect` at all. `forEach` is a terminal operation.","body":"Just don&#39;t <code>collect</code> at all. <code>forEach</code> is a terminal operation."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1680065871,"post_id":75873257,"comment_id":133831717,"body_markdown":"Does this answer your question? [What&#39;s the difference between map() and flatMap() methods in Java 8?](https://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8\">What&#39;s the difference between map() and flatMap() methods in Java 8?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680067017,"creation_date":1680067017,"answer_id":75873374,"question_id":75873257,"body_markdown":"You can use `flatMap` and use `forEach` terminal operation as,\r\n\r\n```\r\n\r\nrequest.getCustomers()\r\n        .stream()\r\n        .flatMap(customer -&gt; customer.getOrders().stream())\r\n        .forEach(order -&gt; restrictedValues.forEach(restrictedValue -&gt; {\r\n            if (order.isItemExcluded(restrictedValue)) {\r\n                response.setExcludedItem(order.getId());\r\n            }\r\n            if (treatment.isItemIncluded(restrictedValue)) {\r\n                response.setIncludedItem(order.getId());\r\n            }\r\n        }));\r\n```","title":"3 levels of nested for loop to Java Stream","body":"<p>You can use <code>flatMap</code> and use <code>forEach</code> terminal operation as,</p>\n<pre><code>\nrequest.getCustomers()\n        .stream()\n        .flatMap(customer -&gt; customer.getOrders().stream())\n        .forEach(order -&gt; restrictedValues.forEach(restrictedValue -&gt; {\n            if (order.isItemExcluded(restrictedValue)) {\n                response.setExcludedItem(order.getId());\n            }\n            if (treatment.isItemIncluded(restrictedValue)) {\n                response.setIncludedItem(order.getId());\n            }\n        }));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"score":0,"creation_date":1680067421,"post_id":75873414,"comment_id":133831962,"body_markdown":"you can even use the method reference in anyMatch also","body":"you can even use the method reference in anyMatch also"}],"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680067388,"creation_date":1680067388,"answer_id":75873414,"question_id":75873257,"body_markdown":"    request.getCustomers()\r\n                    .stream()\r\n                    .flatMap(customer -&gt; customer.getOrders().stream())\r\n                    .forEach(order -&gt; {\r\n                        if(restrictedValues.stream().anyMatch(order::isItemExcluded))\r\n                            response.setExcludedItem(order.getId());\r\n                        if(restrictedValues.stream().anyMatch(order::isItemIncluded))\r\n                            response.setIncludedItem(order.getId());\r\n                    }));","title":"3 levels of nested for loop to Java Stream","body":"<pre><code>request.getCustomers()\n                .stream()\n                .flatMap(customer -&gt; customer.getOrders().stream())\n                .forEach(order -&gt; {\n                    if(restrictedValues.stream().anyMatch(order::isItemExcluded))\n                        response.setExcludedItem(order.getId());\n                    if(restrictedValues.stream().anyMatch(order::isItemIncluded))\n                        response.setIncludedItem(order.getId());\n                }));\n</code></pre>\n"}],"owner":{"account_id":28154498,"reputation":3,"user_id":21515420,"display_name":"Mayank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75873414,"answer_count":2,"score":0,"last_activity_date":1680067425,"creation_date":1680065621,"question_id":75873257,"body_markdown":"I am trying to convert normal Java code to Streams but failing to do so. Can anyone please help here?\r\n\r\nHere&#39;s the code I am trying to convert\r\n\r\n    Set&lt;Strings&gt; restrictedValues = getRestrictedValues();\r\n    for (Customer customer : request.getCustomers()) {\r\n        for (Order order : customer.getOrders()) {\r\n            for (String restrictedValue : restrictedValues) {\r\n                if (order.isItemExcluded(restrictedValue)) {\r\n                    response.setExcludedItem(order.getId());\r\n                }\r\n                if (treatment.isItemIncluded(restrictedValue)) {\r\n                    response.setIncludedItem(order.getId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhat I have done so far is below, I am kinda lost here.\r\n\r\n    request.getCustomers().stream()\r\n      .forEach(customer-&gt;{\r\n         customer.getOrders().stream()\r\n             .forEach(order-&gt;{\r\n                 order.isItemExcluded(restrictedValue)\r\n                     }).collect(????) //What to do now });&lt;/code&gt;","title":"3 levels of nested for loop to Java Stream","body":"<p>I am trying to convert normal Java code to Streams but failing to do so. Can anyone please help here?</p>\n<p>Here's the code I am trying to convert</p>\n<pre><code>Set&lt;Strings&gt; restrictedValues = getRestrictedValues();\nfor (Customer customer : request.getCustomers()) {\n    for (Order order : customer.getOrders()) {\n        for (String restrictedValue : restrictedValues) {\n            if (order.isItemExcluded(restrictedValue)) {\n                response.setExcludedItem(order.getId());\n            }\n            if (treatment.isItemIncluded(restrictedValue)) {\n                response.setIncludedItem(order.getId());\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I have done so far is below, I am kinda lost here.</p>\n<pre><code>request.getCustomers().stream()\n  .forEach(customer-&gt;{\n     customer.getOrders().stream()\n         .forEach(order-&gt;{\n             order.isItemExcluded(restrictedValue)\n                 }).collect(????) //What to do now });&lt;/code&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":1,"creation_date":1680066565,"post_id":75873293,"comment_id":133831808,"body_markdown":"In your `addInMap` method create a new array `newParams` with the combined length of `addedParams` and `params`.Then we use `System.arraycopy` to copy the elements of `addedParams` to n`ewParams`. Then loop through the `params` and append values to `newParams`","body":"In your <code>addInMap</code> method create a new array <code>newParams</code> with the combined length of <code>addedParams</code> and <code>params</code>.Then we use <code>System.arraycopy</code> to copy the elements of <code>addedParams</code> to n<code>ewParams</code>. Then loop through the <code>params</code> and append values to <code>newParams</code>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680066918,"creation_date":1680066918,"answer_id":75873367,"question_id":75873293,"body_markdown":"You can create a copy of the array with a larger size to allow adding a new element at the end.\r\n\r\n```java\r\naddedParams = Arrays.copyOf(addedParams, addedParams.length + 1);\r\naddedParams[addedParams.length - 1] = params;\r\n\r\n// or, if you want to merge the two arrays together:\r\naddedParams = Stream.of(addedParams, params).flatMap(Arrays::stream).toArray();\r\n\r\nobjMap.put(str, addedParams);\r\n```\r\n\r\nBut this is quite inefficient. Consider using `ArrayList` instead.","title":"How to Add Values in existing Object[]","body":"<p>You can create a copy of the array with a larger size to allow adding a new element at the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>addedParams = Arrays.copyOf(addedParams, addedParams.length + 1);\naddedParams[addedParams.length - 1] = params;\n\n// or, if you want to merge the two arrays together:\naddedParams = Stream.of(addedParams, params).flatMap(Arrays::stream).toArray();\n\nobjMap.put(str, addedParams);\n</code></pre>\n<p>But this is quite inefficient. Consider using <code>ArrayList</code> instead.</p>\n"}],"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75873367,"answer_count":1,"score":0,"last_activity_date":1680066918,"creation_date":1680065988,"question_id":75873293,"body_markdown":"I am having a `Map&lt;String, Object[]&gt; objMap` and trying to add value in to it. But its not working as expected. My method is as below,\r\n\r\n    public void addInMap(String str, Object... params) {        \r\n            if(params != null &amp;&amp; params.length &gt; 0) {\r\n                if(objMap.containsKey(str)) {\r\n                    Object[] addedParams= objMap.get(str);\r\n                    addedParams[addedParams.length-1]=params;\r\n                    objMap.put(str, addedParams);\r\n                }\r\n                else {\r\n                    objMap.put(str, params);\r\n                }\r\n            }\r\n        }\r\n\r\nI dont want to use the `ArrayList` or `Array.asList` .\r\nWhen i am using `addedParams[addedParams.length]=params` its causing `Attempt to access illegal array index` exception. Where i am doing wrong. With the above code i am not able to add more object its always showing one element in Object[]. Can you please help me to fix this issues.","title":"How to Add Values in existing Object[]","body":"<p>I am having a <code>Map&lt;String, Object[]&gt; objMap</code> and trying to add value in to it. But its not working as expected. My method is as below,</p>\n<pre><code>public void addInMap(String str, Object... params) {        \n        if(params != null &amp;&amp; params.length &gt; 0) {\n            if(objMap.containsKey(str)) {\n                Object[] addedParams= objMap.get(str);\n                addedParams[addedParams.length-1]=params;\n                objMap.put(str, addedParams);\n            }\n            else {\n                objMap.put(str, params);\n            }\n        }\n    }\n</code></pre>\n<p>I dont want to use the <code>ArrayList</code> or <code>Array.asList</code> .\nWhen i am using <code>addedParams[addedParams.length]=params</code> its causing <code>Attempt to access illegal array index</code> exception. Where i am doing wrong. With the above code i am not able to add more object its always showing one element in Object[]. Can you please help me to fix this issues.</p>\n"},{"tags":["java","junit","mockito","powermockito"],"comments":[{"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"score":0,"creation_date":1680066904,"post_id":75873345,"comment_id":133831874,"body_markdown":"Use @InjectMocks","body":"Use @InjectMocks"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1680071395,"post_id":75873345,"comment_id":133832606,"body_markdown":"@InjectMocks would create an instance of the class and inject mocks to this instance, but what I need is a mock object.","body":"@InjectMocks would create an instance of the class and inject mocks to this instance, but what I need is a mock object."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1680078679,"post_id":75873345,"comment_id":133834301,"body_markdown":"Which mock maker are you using?","body":"Which mock maker are you using?"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1680109024,"post_id":75873345,"comment_id":133842974,"body_markdown":"I edited the answer. But, I didn&#39;t find an import for @Mock from Powermock.","body":"I edited the answer. But, I didn&#39;t find an import for @Mock from Powermock."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680112762,"post_id":75873345,"comment_id":133843851,"body_markdown":"Please add MyComponentMapperClass to the PrepareForTest and use PowerMockito.mock(MyComponentMapperClass.class) to create a mock. Instead of Mock annotation.","body":"Please add MyComponentMapperClass to the PrepareForTest and use PowerMockito.mock(MyComponentMapperClass.class) to create a mock. Instead of Mock annotation."}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680066660,"creation_date":1680066660,"question_id":75873345,"body_markdown":"I am trying to create a Mock instance for spring Component class. Below is the spring component class.\r\n\r\n    @Component\r\n    public class MyComponentMapperClass {\r\n    \r\n    @Value(&quot;${some.property}&quot;)\r\n    private String var;\r\n    \r\n    public void someMapperMethod() { // }\r\n\r\nThis is my test class setup where I am trying to mock the above component class.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({MyDAOImpl.class})\r\n    public class MyDAOImplTest {\r\n    \r\n    @Mock MyComponentMapperClass myComponentMapperClass;\r\n    \r\n    }\r\n\r\nWhile debugging, I see that Intellij highlights a mock object as &quot;Mock Object of XYZClass&quot;, but for the mock I created above it doesn&#39;t happen like that.\r\nIn addition I have tried:\r\n\r\n    MyComponentMapperClass myComponentMapperClass =  Mockito.mock(MyComponentMapperClass.class)\r\n\r\nbut still mock object is not created. This seems to be very straight-forward, but I haven&#39;t figured it out yet.\r\n\r\nhere is an answer from https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe https://stackoverflow.com/questions/42049445/mock-spring-component, which suggests to do the same, but is not working for me. Any help is appreciated. Thanks!","title":"@Mock not working to mock @Component class in springboot","body":"<p>I am trying to create a Mock instance for spring Component class. Below is the spring component class.</p>\n<pre><code>@Component\npublic class MyComponentMapperClass {\n\n@Value(&quot;${some.property}&quot;)\nprivate String var;\n\npublic void someMapperMethod() { // }\n</code></pre>\n<p>This is my test class setup where I am trying to mock the above component class.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({MyDAOImpl.class})\npublic class MyDAOImplTest {\n\n@Mock MyComponentMapperClass myComponentMapperClass;\n\n}\n</code></pre>\n<p>While debugging, I see that Intellij highlights a mock object as &quot;Mock Object of XYZClass&quot;, but for the mock I created above it doesn't happen like that.\nIn addition I have tried:</p>\n<pre><code>MyComponentMapperClass myComponentMapperClass =  Mockito.mock(MyComponentMapperClass.class)\n</code></pre>\n<p>but still mock object is not created. This seems to be very straight-forward, but I haven't figured it out yet.</p>\n<p>here is an answer from <a href=\"https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe\">https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe</a> <a href=\"https://stackoverflow.com/questions/42049445/mock-spring-component\">Mock Spring Component</a>, which suggests to do the same, but is not working for me. Any help is appreciated. Thanks!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680064038,"post_id":75873124,"comment_id":133831484,"body_markdown":"Please post the code of the class where you are using `AnotherService`","body":"Please post the code of the class where you are using <code>AnotherService</code>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680064128,"post_id":75873124,"comment_id":133831497,"body_markdown":"Where are you calling `test`?","body":"Where are you calling <code>test</code>?"},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1680065218,"post_id":75873124,"comment_id":133831642,"body_markdown":"Sorry, that was just an example method. I added better example code. Basically I&#39;m autowiring the service in and trying to reference it in a CommandLineRunner. I&#39;m also accessing it in other services, but this is the first way I&#39;ve tested it since setting it up.","body":"Sorry, that was just an example method. I added better example code. Basically I&#39;m autowiring the service in and trying to reference it in a CommandLineRunner. I&#39;m also accessing it in other services, but this is the first way I&#39;ve tested it since setting it up."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680065671,"post_id":75873124,"comment_id":133831696,"body_markdown":"I can&#39;t reproduce it. I get the correct value for `firstService.localDirectory` in `CommandLineRunnerExecutor`. Can you provide a [mre] that shows the issue when run?","body":"I can&#39;t reproduce it. I get the correct value for <code>firstService.localDirectory</code> in <code>CommandLineRunnerExecutor</code>. Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows the issue when run?"},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1680066113,"post_id":75873124,"comment_id":133831742,"body_markdown":"@Unmitigated turns out the autowired service had null fields until I initialized them with the appropriate getter method. ie `firstService.localDirectory` returned null, but `firstService.getLocalDirectory()` returned the correct value;","body":"@Unmitigated turns out the autowired service had null fields until I initialized them with the appropriate getter method. ie <code>firstService.localDirectory</code> returned null, but <code>firstService.getLocalDirectory()</code> returned the correct value;"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680065367,"creation_date":1680065367,"answer_id":75873234,"question_id":75873124,"body_markdown":"Check the following:\r\n1. Whether you create an instance of `AnotherService` by yourself or Spring injects it for you. If you create it bypassing spring, nothing will be injected and `firstService` instance will be `null`.\r\n\r\n2. If its Spring driven - you say that your `FirstService` basically looks like this:\r\n\r\n```\r\n@Service\r\npublic class FirstService {\r\n   @Value(&quot;${test.localDirectory}&quot;)\r\n   public String localDirectory;\r\n}\r\n```\r\n\r\nMake sure that the instance you obtain in the `AnotherService#test` method is the same instance of the `FirstService` again it might be possible that you mix spring injection and regular creation of object with `new`","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>Check the following:</p>\n<ol>\n<li><p>Whether you create an instance of <code>AnotherService</code> by yourself or Spring injects it for you. If you create it bypassing spring, nothing will be injected and <code>firstService</code> instance will be <code>null</code>.</p>\n</li>\n<li><p>If its Spring driven - you say that your <code>FirstService</code> basically looks like this:</p>\n</li>\n</ol>\n<pre><code>@Service\npublic class FirstService {\n   @Value(&quot;${test.localDirectory}&quot;)\n   public String localDirectory;\n}\n</code></pre>\n<p>Make sure that the instance you obtain in the <code>AnotherService#test</code> method is the same instance of the <code>FirstService</code> again it might be possible that you mix spring injection and regular creation of object with <code>new</code></p>\n"},{"tags":[],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680066020,"creation_date":1680066020,"answer_id":75873297,"question_id":75873124,"body_markdown":"I think I figured it out. The autowired service had null values that were not being populated until I called the getter. I had been trying to access the public field directly, which resulted in the null value.","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>I think I figured it out. The autowired service had null values that were not being populated until I called the getter. I had been trying to access the public field directly, which resulted in the null value.</p>\n"}],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75873297,"answer_count":2,"score":1,"last_activity_date":1680066020,"creation_date":1680063829,"question_id":75873124,"body_markdown":"I&#39;ve got a Spring Boot application where I am populating fields in a service class by using the @Value annotation:\r\n\r\n    @Value(&quot;${test.localDirectory}&quot;)\r\n    public String localDirectory;\r\n\r\nI can confirm these are being pulled properly, as I am checking them via ths InitializingBean method:\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        logger.info(localDirectory); //returns expected value here\r\n    }\r\n\r\nHowever, when I try to access these classes from another spring @Service, they are returning null:\r\n\r\n           \r\n    @Service\r\n    public class AnotherService {\r\n    \r\n        @Autowired\r\n        private FirstService firstService\r\n\r\n        public void example(){\r\n            firstService.localDirectory //returns null\r\n        }\r\n    \r\n    }\r\n\r\nIs this expected behavior or am I doing something wrong?\r\n\r\nEDIT: Here&#39;s a better code example:\r\n\r\n\r\n    @Service\r\n    public class FirstService{\r\n     \r\n        @Value(&quot;${test.localDirectory}&quot;)\r\n        public String localDirectory;\r\n    \r\n    }\r\n    \r\n    \r\n    @Component\r\n    public class CommandLineRunnerExecutor implements CommandLineRunner {\r\n    @Autowired\r\n    private FirstService firstService;\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n                logger.info(firstService.localDirectory); //null\r\n        }\r\n    }\r\n\r\n\r\n","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>I've got a Spring Boot application where I am populating fields in a service class by using the @Value annotation:</p>\n<pre><code>@Value(&quot;${test.localDirectory}&quot;)\npublic String localDirectory;\n</code></pre>\n<p>I can confirm these are being pulled properly, as I am checking them via ths InitializingBean method:</p>\n<pre><code>@Override\npublic void afterPropertiesSet() throws Exception {\n    logger.info(localDirectory); //returns expected value here\n}\n</code></pre>\n<p>However, when I try to access these classes from another spring @Service, they are returning null:</p>\n<pre><code>@Service\npublic class AnotherService {\n\n    @Autowired\n    private FirstService firstService\n\n    public void example(){\n        firstService.localDirectory //returns null\n    }\n\n}\n</code></pre>\n<p>Is this expected behavior or am I doing something wrong?</p>\n<p>EDIT: Here's a better code example:</p>\n<pre><code>@Service\npublic class FirstService{\n \n    @Value(&quot;${test.localDirectory}&quot;)\n    public String localDirectory;\n\n}\n\n\n@Component\npublic class CommandLineRunnerExecutor implements CommandLineRunner {\n@Autowired\nprivate FirstService firstService;\n\n    @Override\n    public void run(String... args) throws Exception {\n            logger.info(firstService.localDirectory); //null\n    }\n}\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":1,"creation_date":1410011168,"post_id":25700887,"comment_id":40172128,"body_markdown":"@shekharsuman What is the point in making them static? Add all the numbers to a `LinkedList` sort the `List` in ascending order, take the first two items in the list.","body":"@shekharsuman What is the point in making them static? Add all the numbers to a <code>LinkedList</code> sort the <code>List</code> in ascending order, take the first two items in the list."}],"answers":[{"tags":[],"owner":{"account_id":2191523,"reputation":6723,"user_id":1938435,"accept_rate":92,"display_name":"PurkkaKoodari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1410011193,"creation_date":1410011193,"answer_id":25700932,"question_id":25700887,"body_markdown":"You just have to get the order right. First, see if the number is smaller than the smallest number, and if so, replace it and move the old smallest number to the second smallest number. Else, if it is smaller than the second smallest number, replace that. \r\n\r\nHere&#39;s the code that should be in the loop:\r\n\r\n    if (number &lt; small) {\r\n        nest = small;\r\n        small = number;\r\n    } else if (number &lt; nest) {\r\n        nest = number;\r\n    } ","title":"finding smallest and second smallest number","body":"<p>You just have to get the order right. First, see if the number is smaller than the smallest number, and if so, replace it and move the old smallest number to the second smallest number. Else, if it is smaller than the second smallest number, replace that. </p>\n\n<p>Here's the code that should be in the loop:</p>\n\n<pre><code>if (number &lt; small) {\n    nest = small;\n    small = number;\n} else if (number &lt; nest) {\n    nest = number;\n} \n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user3967885"},"score":0,"creation_date":1410281005,"post_id":25701013,"comment_id":40263579,"body_markdown":"I have to import  Scanner to get this to work, anything else I need to do? I get : List cannot be resolved to type error?","body":"I have to import  Scanner to get this to work, anything else I need to do? I get : List cannot be resolved to type error?"},{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1410480811,"post_id":25701013,"comment_id":40353378,"body_markdown":"@user2938 Import `java.util.List`","body":"@user2938 Import <code>java.util.List</code>"}],"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410011701,"creation_date":1410011701,"answer_id":25701013,"question_id":25700887,"body_markdown":"Add all the numbers to a `LinkedList&lt;Integer&gt;` then sort the `List`.  The first two items in the `List` will be the smallest.\r\n\r\n    public class Sorter {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\tList&lt;Integer&gt; numbers = new LinkedList&lt;Integer&gt;();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;How many numbers?&quot;);\r\n    \t\tint total = keyboard.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;What is the first number&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\tSystem.out.println(&quot;whats the second number&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\t// Assigning the first two numbers to smallest and second largest\r\n    \r\n    \t\tfor (int i =2;i&lt;total;i++) {                     \r\n    \t\tSystem.out.println(&quot;whats the next number?&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\t}//end forloop\r\n    \t\t\r\n    \t\tCollections.sort(numbers);\r\n    \r\n    \t\tSystem.out.printf(&quot;The smallest numbers are %d and %d&quot;,numbers.get(0),numbers.get(1)); \r\n    \t\r\n    \t}\r\n    }","title":"finding smallest and second smallest number","body":"<p>Add all the numbers to a <code>LinkedList&lt;Integer&gt;</code> then sort the <code>List</code>.  The first two items in the <code>List</code> will be the smallest.</p>\n\n<pre><code>public class Sorter {\n\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        List&lt;Integer&gt; numbers = new LinkedList&lt;Integer&gt;();\n\n        System.out.println(\"How many numbers?\");\n        int total = keyboard.nextInt();\n\n        System.out.println(\"What is the first number\");\n        numbers.add( keyboard.nextInt());\n        System.out.println(\"whats the second number\");\n        numbers.add( keyboard.nextInt());\n        // Assigning the first two numbers to smallest and second largest\n\n        for (int i =2;i&lt;total;i++) {                     \n        System.out.println(\"whats the next number?\");\n        numbers.add( keyboard.nextInt());\n        }//end forloop\n\n        Collections.sort(numbers);\n\n        System.out.printf(\"The smallest numbers are %d and %d\",numbers.get(0),numbers.get(1)); \n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28154456,"reputation":1,"user_id":21515387,"display_name":"Petro Lototskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680064479,"creation_date":1680064320,"answer_id":75873147,"question_id":25700887,"body_markdown":"here is the code:\r\n\t\t  \r\n\r\n    Scanner console = new Scanner(System.in);\r\n\t\t  int min = Integer.MAX_VALUE;\r\n\t\t  int secondMin=Integer.MAX_VALUE;\r\n\t\t  while (console.hasNextInt())\r\n\t\t  {\r\n\t\t     int x = console.nextInt();\r\n\t\t     if (x &lt; min) {\r\n\t\t       secondMin=min;\r\n\t\t    \t min = x;\r\n\t\t       } else if (x &lt;secondMin &amp;&amp; x!=min)\r\n\t\t      secondMin=x;\t      \r\n\t\t    \t\t\r\n\t\t  }\r\n\t\t  System.out.println(secondMin);\r\n\r\n\t\t      }\r\n\t\t  }\r\n\r\nYou need to make sure to add **x!=min** to the &quot;**else if**&quot; condition. If this condition is not passed and the smallest number is entered twice it will be assigned to secondMin ","title":"finding smallest and second smallest number","body":"<p>here is the code:</p>\n<pre><code>Scanner console = new Scanner(System.in);\n      int min = Integer.MAX_VALUE;\n      int secondMin=Integer.MAX_VALUE;\n      while (console.hasNextInt())\n      {\n         int x = console.nextInt();\n         if (x &lt; min) {\n           secondMin=min;\n             min = x;\n           } else if (x &lt;secondMin &amp;&amp; x!=min)\n          secondMin=x;        \n                \n      }\n      System.out.println(secondMin);\n\n          }\n      }\n</code></pre>\n<p>You need to make sure to add <strong>x!=min</strong> to the &quot;<strong>else if</strong>&quot; condition. If this condition is not passed and the smallest number is entered twice it will be assigned to secondMin</p>\n"}],"owner":{"display_name":"user3967885"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25700932,"answer_count":3,"score":0,"last_activity_date":1680064479,"creation_date":1410010791,"question_id":25700887,"body_markdown":"This program is supposed to find the smallest and the second smallest number among x numbers. \r\nThe program finds the smallest number every time, but I have problems replacing the second smallest number from the keyboard.\r\n\r\n   \r\n\r\n     System.out.println(&quot;How many numbers?&quot;);\r\n     int total = keyboard.nextInt();\r\n     \r\n     System.out.println(&quot;What is the first number&quot;);\r\n     int small = keyboard.nextInt();\r\n   \r\n     System.out.println(&quot;whats the second number&quot;);\r\n     int nest = keyboard.nextInt();\r\n     // Assigning the first two numbers to smallest and second largest\r\n    \r\n     for (int i =2;i&lt;total;i++) {                     \r\n        System.out.println(&quot;whats the next number?&quot;);\r\n        int number = keyboard.nextInt();\r\n    \r\n        if (number &lt; small) {\r\n           small = number;\r\n        } // this part works (I think)\r\n    \r\n        if ((number &gt; small) &amp;&amp; (number &lt; nest)) {\r\n           nest = number;\r\n        }//this part dont (I think)\r\n    \r\n     }//end forloop\r\n     System.out.printf(&quot;The smallest numbers are %d and %d&quot;,small,nest); \r\n      \r\n\r\n \r\n\r\n","title":"finding smallest and second smallest number","body":"<p>This program is supposed to find the smallest and the second smallest number among x numbers. \nThe program finds the smallest number every time, but I have problems replacing the second smallest number from the keyboard.</p>\n\n<pre><code> System.out.println(\"How many numbers?\");\n int total = keyboard.nextInt();\n\n System.out.println(\"What is the first number\");\n int small = keyboard.nextInt();\n\n System.out.println(\"whats the second number\");\n int nest = keyboard.nextInt();\n // Assigning the first two numbers to smallest and second largest\n\n for (int i =2;i&lt;total;i++) {                     \n    System.out.println(\"whats the next number?\");\n    int number = keyboard.nextInt();\n\n    if (number &lt; small) {\n       small = number;\n    } // this part works (I think)\n\n    if ((number &gt; small) &amp;&amp; (number &lt; nest)) {\n       nest = number;\n    }//this part dont (I think)\n\n }//end forloop\n System.out.printf(\"The smallest numbers are %d and %d\",small,nest); \n</code></pre>\n"},{"tags":["java","clone"],"answers":[{"tags":[],"owner":{"account_id":17466255,"reputation":363,"user_id":12662926,"display_name":"Charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680051206,"creation_date":1680051206,"answer_id":75872195,"question_id":75872168,"body_markdown":"You need to override the equals method for your object. By default the equals method of any objects compares the addresses of both objects. ","title":"Cloned objects aren&#39;t equal","body":"<p>You need to override the equals method for your object. By default the equals method of any objects compares the addresses of both objects.</p>\n"},{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680062193,"creation_date":1680062193,"answer_id":75872997,"question_id":75872168,"body_markdown":"As a supplement to Charles&#39; answer, you have to override ```public boolean equals(Object obj)``` method of your ```BankAccount``` class.\r\n\r\nAnd below is an example for your reference:  \r\n```java\r\nimport java.util.Date;\r\n\r\npublic class Main {\r\n    static class BankAccount implements Cloneable {\r\n        private int id;\r\n        private int balance;\r\n        private Date createDate;\r\n        \r\n        public BankAccount(int id, int balance) {\r\n            this.id = id;\r\n            this.balance = balance;\r\n            this.createDate = new Date();\r\n        }\r\n        \r\n        public int getId() { return id; }\r\n        public int getBalance() { return balance; }\r\n        \r\n        @Override\r\n        public Object clone() { \r\n            try {\r\n                // shallow copy\r\n                BankAccount clone = (BankAccount)super.clone();\r\n                // deep copy\r\n                clone.createDate = (java.util.Date)(createDate.clone());\r\n\r\n                return clone;\r\n            } catch (CloneNotSupportedException y) {\r\n                y.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        // You have to override this function for value comparison\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            // Check if the passing Object is BankAccount\r\n            if (!(obj instanceof BankAccount))\r\n                return false;\r\n                \r\n            BankAccount otherBankAccount = (BankAccount) obj;\r\n            // You need to define your own comparison criteria to determine\r\n            //  whether 2 BankAccounts are equal\r\n            if (otherBankAccount.getId() == this.getId() \r\n                &amp;&amp; otherBankAccount.getBalance() == this.getBalance())\r\n                return true;\r\n            \r\n            return false;\r\n        }\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tBankAccount account1 = new BankAccount(1111, 5347);\r\n\t\tBankAccount account2 = (BankAccount)account1.clone();\r\n\t\tBankAccount account3 = new BankAccount(1111, 5347);\r\n\t\tBankAccount account4 = new BankAccount(1234, 5347);\r\n\t\t\r\n\t\tSystem.out.println(account2.equals(account1));\r\n\t\tSystem.out.println(account3.equals(account2));\r\n\t\tSystem.out.println(account4.equals(account2));\r\n\t}\r\n}\r\n```\r\nOutput:\r\n&gt; true  \r\n&gt; true  \r\n&gt; false","title":"Cloned objects aren&#39;t equal","body":"<p>As a supplement to Charles' answer, you have to override <code>public boolean equals(Object obj)</code> method of your <code>BankAccount</code> class.</p>\n<p>And below is an example for your reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\n\npublic class Main {\n    static class BankAccount implements Cloneable {\n        private int id;\n        private int balance;\n        private Date createDate;\n        \n        public BankAccount(int id, int balance) {\n            this.id = id;\n            this.balance = balance;\n            this.createDate = new Date();\n        }\n        \n        public int getId() { return id; }\n        public int getBalance() { return balance; }\n        \n        @Override\n        public Object clone() { \n            try {\n                // shallow copy\n                BankAccount clone = (BankAccount)super.clone();\n                // deep copy\n                clone.createDate = (java.util.Date)(createDate.clone());\n\n                return clone;\n            } catch (CloneNotSupportedException y) {\n                y.printStackTrace();\n                return null;\n            }\n        }\n        \n        // You have to override this function for value comparison\n        @Override\n        public boolean equals(Object obj) {\n            // Check if the passing Object is BankAccount\n            if (!(obj instanceof BankAccount))\n                return false;\n                \n            BankAccount otherBankAccount = (BankAccount) obj;\n            // You need to define your own comparison criteria to determine\n            //  whether 2 BankAccounts are equal\n            if (otherBankAccount.getId() == this.getId() \n                &amp;&amp; otherBankAccount.getBalance() == this.getBalance())\n                return true;\n            \n            return false;\n        }\n    }\n    \n    public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(1111, 5347);\n        BankAccount account2 = (BankAccount)account1.clone();\n        BankAccount account3 = new BankAccount(1111, 5347);\n        BankAccount account4 = new BankAccount(1234, 5347);\n        \n        System.out.println(account2.equals(account1));\n        System.out.println(account3.equals(account2));\n        System.out.println(account4.equals(account2));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>true<br />\ntrue<br />\nfalse</p>\n</blockquote>\n"}],"owner":{"account_id":27705051,"reputation":3,"user_id":21148883,"display_name":"Jack0thy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75872195,"answer_count":2,"score":0,"last_activity_date":1680062193,"creation_date":1680050828,"question_id":75872168,"body_markdown":"Trying to implement deep copy, but when I test my method in the main with equal() it comes up false though all of the data is the same.  \r\n\r\nThis is my clone method:\r\n\r\n\r\n```\r\n  @Override\r\n    public Object clone() { try {\r\n            // shallow copy\r\n            BankAccount clone = (BankAccount)super.clone();\r\n            // deep copy\r\n            clone.createDate = (java.util.Date)(createDate.clone());\r\n\r\n            return clone;\r\n        }\r\n        catch (CloneNotSupportedException y) {\r\n           return null; }\r\n```\r\n\r\nThis is my main for testing:\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        BankAccount account1 = new BankAccount(1111, 5347);\r\n        BankAccount account2 = (BankAccount)account1.clone();\r\n\r\n        System.out.println(account2.equals(account1));\r\n```\r\n\r\n\r\n","title":"Cloned objects aren&#39;t equal","body":"<p>Trying to implement deep copy, but when I test my method in the main with equal() it comes up false though all of the data is the same.</p>\n<p>This is my clone method:</p>\n<pre><code>  @Override\n    public Object clone() { try {\n            // shallow copy\n            BankAccount clone = (BankAccount)super.clone();\n            // deep copy\n            clone.createDate = (java.util.Date)(createDate.clone());\n\n            return clone;\n        }\n        catch (CloneNotSupportedException y) {\n           return null; }\n</code></pre>\n<p>This is my main for testing:</p>\n<pre><code>public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(1111, 5347);\n        BankAccount account2 = (BankAccount)account1.clone();\n\n        System.out.println(account2.equals(account1));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1680063947,"post_id":75872942,"comment_id":133831469,"body_markdown":"You could follow https://stackoverflow.com/questions/9328727/convert-map-values-into-string-array","body":"You could follow <a href=\"https://stackoverflow.com/questions/9328727/convert-map-values-into-string-array\" title=\"convert map values into string array\">stackoverflow.com/questions/9328727/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680061612,"creation_date":1680061612,"answer_id":75872962,"question_id":75872942,"body_markdown":"You can pass a function to construct an array of the correct type. `toArray()` without any arguments always returns an array of `Object`s.\r\n\r\n```java\r\nCar[] carArray = cars.values().toArray(Car[]::new);\r\n```","title":"How to convert hasmap values to array","body":"<p>You can pass a function to construct an array of the correct type. <code>toArray()</code> without any arguments always returns an array of <code>Object</code>s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Car[] carArray = cars.values().toArray(Car[]::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7558027,"reputation":1424,"user_id":5736835,"accept_rate":100,"display_name":"WDUK"},"score":0,"creation_date":1680063326,"post_id":75872967,"comment_id":133831401,"body_markdown":"Ah i was using array because it had a sort() method, when i used ArrayList i couldn&#39;t simply do `.sort()` and have it call my compareTo method which i had implemented with `Comparable` interface. But i&#39;ll go back to array list and figure out how to use the sort method.","body":"Ah i was using array because it had a sort() method, when i used ArrayList i couldn&#39;t simply do <code>.sort()</code> and have it call my compareTo method which i had implemented with <code>Comparable</code> interface. But i&#39;ll go back to array list and figure out how to use the sort method."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680089371,"post_id":75872967,"comment_id":133837048,"body_markdown":"arrays do not have a sort method. There&#39;s `Arrays.sort()`. If you want to sort a list on its natural order, `list.sort(Comparator.naturalOrder())` is roughly equivalent to `Arrays.sort(arr);`.","body":"arrays do not have a sort method. There&#39;s <code>Arrays.sort()</code>. If you want to sort a list on its natural order, <code>list.sort(Comparator.naturalOrder())</code> is roughly equivalent to <code>Arrays.sort(arr);</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680061692,"creation_date":1680061692,"answer_id":75872967,"question_id":75872942,"body_markdown":"Arrays are low-level constructs you shouldn&#39;t use unless their component type is primitive or you really know what you are doing (e.g. you have a performance need, and you are fully aware of how hard it can be to determine if you truly do have a performance need). \r\n\r\n&gt; I now want to create an array of cars from the values\r\n\r\nNo you don&#39;t. You want a `List&lt;Car&gt;` or `Collection&lt;Car&gt;`:\r\n\r\n```\r\nCollection&lt;Car&gt; justCars = cars.values();\r\n// or, if you need list-specific stuff:\r\nList&lt;Car&gt; justCars = new ArrayList&lt;Car&gt;(cars.values());\r\n```\r\n\r\nThere&#39;s rather little arrays can do that lists cannot, but there&#39;s a lot that lists can do that arrays cannot.\r\n\r\nBut if you&#39;re somehow convinced you _must_ have an array, this has nothing to do with lists; to convert a collection to an array, don&#39;t call `toArray()`. Instead:\r\n\r\n```\r\nanyCollection.toArray(new Car[0]); // always 0\r\nanyCollection.toArray(Car[]::new); // or this\r\n```\r\n\r\ni.e. `cars.values().toArray(new Car[0])` does the job.\r\n","title":"How to convert hasmap values to array","body":"<p>Arrays are low-level constructs you shouldn't use unless their component type is primitive or you really know what you are doing (e.g. you have a performance need, and you are fully aware of how hard it can be to determine if you truly do have a performance need).</p>\n<blockquote>\n<p>I now want to create an array of cars from the values</p>\n</blockquote>\n<p>No you don't. You want a <code>List&lt;Car&gt;</code> or <code>Collection&lt;Car&gt;</code>:</p>\n<pre><code>Collection&lt;Car&gt; justCars = cars.values();\n// or, if you need list-specific stuff:\nList&lt;Car&gt; justCars = new ArrayList&lt;Car&gt;(cars.values());\n</code></pre>\n<p>There's rather little arrays can do that lists cannot, but there's a lot that lists can do that arrays cannot.</p>\n<p>But if you're somehow convinced you <em>must</em> have an array, this has nothing to do with lists; to convert a collection to an array, don't call <code>toArray()</code>. Instead:</p>\n<pre><code>anyCollection.toArray(new Car[0]); // always 0\nanyCollection.toArray(Car[]::new); // or this\n</code></pre>\n<p>i.e. <code>cars.values().toArray(new Car[0])</code> does the job.</p>\n"}],"owner":{"account_id":7558027,"reputation":1424,"user_id":5736835,"accept_rate":100,"display_name":"WDUK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75872967,"answer_count":2,"score":0,"last_activity_date":1680061692,"creation_date":1680061338,"question_id":75872942,"body_markdown":"I have a hashmap setup like this:\r\n\r\n    cars = new HashMap&lt;Integer, Car&gt;();\r\n\r\nI now want to create an array of cars from the values:\r\n\r\n    Car[] carArray = (Car[])cars.values().toArray();\r\n\r\nBut it says I cannot cast\r\n\r\n    java.lang.Object; cannot be cast to Car\r\n\r\nWhat am i doing wrong here?\r\n\r\n","title":"How to convert hasmap values to array","body":"<p>I have a hashmap setup like this:</p>\n<pre><code>cars = new HashMap&lt;Integer, Car&gt;();\n</code></pre>\n<p>I now want to create an array of cars from the values:</p>\n<pre><code>Car[] carArray = (Car[])cars.values().toArray();\n</code></pre>\n<p>But it says I cannot cast</p>\n<pre><code>java.lang.Object; cannot be cast to Car\n</code></pre>\n<p>What am i doing wrong here?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680061581,"post_id":75872933,"comment_id":133831181,"body_markdown":"It is not an error, it is simply a warning the API in use in the compiler is out of date. Thread has many deprecated (no longer used) methods. If you recompile as it instructed it will tell you which methods should be replaced.","body":"It is not an error, it is simply a warning the API in use in the compiler is out of date. Thread has many deprecated (no longer used) methods. If you recompile as it instructed it will tell you which methods should be replaced."},{"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"score":0,"creation_date":1680061845,"post_id":75872933,"comment_id":133831216,"body_markdown":"How to do that?","body":"How to do that?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1680064353,"post_id":75872933,"comment_id":133831526,"body_markdown":"How did you compile it in the first place?","body":"How did you compile it in the first place?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680064407,"post_id":75872933,"comment_id":133831537,"body_markdown":"The deprecation message says how to do it: by adding `-Xlint:deprecation` to the compiler flags.","body":"The deprecation message says how to do it: by adding <code>-Xlint:deprecation</code> to the compiler flags."}],"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680061197,"creation_date":1680061197,"question_id":75872933,"body_markdown":"I am writing a program in java about threads.\r\n\r\n```\r\nclass ThreadOp{\r\n\tpublic static void main(String[] args){\r\n\t\tSystem.out.println(&quot;program started...&quot;);\r\n\t\tint x=36+54;\r\n\t\ttry{\r\n\t\t\tThread.sleep(5000);\r\n\t\t}catch(Exception e){};\r\n\t\tSystem.out.println(&quot;sum is: &quot;+x);\r\n\t\t//Thread...\r\n\t\tThread t=Thread.currentThread();\r\n\t\tString tname=t.getName();\r\n\t\tSystem.out.println(t.getName());\r\n\t\tSystem.out.println(&quot;Current running thread is:&quot;+tname);\r\n\t\tt.setName(&quot;MyMain&quot;);\r\n\t\tSystem.out.println(t.getName());\r\n\t\tSystem.out.println(t.getId());\r\n\t\t\r\n\t\tSystem.out.println(&quot;program ended...&quot;);\r\n\t}\r\n}\r\n```\r\nHowever I am getting an error:\r\nC:\\Users\\PC\\Desktop\\Threads&gt;javac ThreadOp.java\r\nNote: ThreadOp.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\nWhat can I do to resolve it?\r\n\r\nI am trying to understand how the various methods of threads work.\r\nI am trying to implement the methods.","title":"How t resolve the error?Note: ThreadOp.java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details","body":"<p>I am writing a program in java about threads.</p>\n<pre><code>class ThreadOp{\n    public static void main(String[] args){\n        System.out.println(&quot;program started...&quot;);\n        int x=36+54;\n        try{\n            Thread.sleep(5000);\n        }catch(Exception e){};\n        System.out.println(&quot;sum is: &quot;+x);\n        //Thread...\n        Thread t=Thread.currentThread();\n        String tname=t.getName();\n        System.out.println(t.getName());\n        System.out.println(&quot;Current running thread is:&quot;+tname);\n        t.setName(&quot;MyMain&quot;);\n        System.out.println(t.getName());\n        System.out.println(t.getId());\n        \n        System.out.println(&quot;program ended...&quot;);\n    }\n}\n</code></pre>\n<p>However I am getting an error:\nC:\\Users\\PC\\Desktop\\Threads&gt;javac ThreadOp.java\nNote: ThreadOp.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.</p>\n<p>What can I do to resolve it?</p>\n<p>I am trying to understand how the various methods of threads work.\nI am trying to implement the methods.</p>\n"},{"tags":["java","file","parsing","url","filenames"],"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":3,"creation_date":1236073637,"post_id":605696,"comment_id":417884,"body_markdown":"YOU do realize there is no requirement for there to be a filename at the end, or even something that looks like a filename. In this case, there may or may not be a file.xml on server.","body":"YOU do realize there is no requirement for there to be a filename at the end, or even something that looks like a filename. In this case, there may or may not be a file.xml on server."},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":2,"creation_date":1236074241,"post_id":605696,"comment_id":417920,"body_markdown":"in that case, the result would be an empty string, or maybe null.","body":"in that case, the result would be an empty string, or maybe null."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1236075027,"post_id":605696,"comment_id":417957,"body_markdown":"I think you need to define the problem more clearly. What about following URLS endings? ..../abc, ..../abc/, ..../abc.def, ..../abc.def.ghi, ..../abc?def.ghi","body":"I think you need to define the problem more clearly. What about following URLS endings? ..../abc, ..../abc/, ..../abc.def, ..../abc.def.ghi, ..../abc?def.ghi"},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":3,"creation_date":1236076192,"post_id":605696,"comment_id":418017,"body_markdown":"I think it&#39;s pretty clear. If the URL points to a file, I&#39;m interested in the filename minus the extension (if it has one). Query parts fall outside the filename.","body":"I think it&#39;s pretty clear. If the URL points to a file, I&#39;m interested in the filename minus the extension (if it has one). Query parts fall outside the filename."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1236086311,"post_id":605696,"comment_id":418502,"body_markdown":"The client has no means of knowing if the server uses a file!","body":"The client has no means of knowing if the server uses a file!"},{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":0,"creation_date":1337703432,"post_id":605696,"comment_id":13900405,"body_markdown":"You haven&#39;t precisely defined what you mean by a &quot;file name&quot; or an &quot;extension&quot; - and no, those aren&#39;t terms that everyone understands in the same way.","body":"You haven&#39;t precisely defined what you mean by a &quot;file name&quot; or an &quot;extension&quot; - and no, those aren&#39;t terms that everyone understands in the same way."},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":4,"creation_date":1339498798,"post_id":605696,"comment_id":14365383,"body_markdown":"the file name is the part of the url after the last slash.\nthe file extension is the part of the file name after the last period.","body":"the file name is the part of the url after the last slash. the file extension is the part of the file name after the last period."},{"owner":{"account_id":72372,"reputation":1543,"user_id":208992,"accept_rate":95,"display_name":"Spoonface"},"score":0,"creation_date":1353624106,"post_id":605696,"comment_id":18510335,"body_markdown":"You might be able to do this using the Apache Commons IO FilenameUtils class. See answer provided by slashnick: http://stackoverflow.com/questions/8393849/how-to-get-name-of-file-object-without-its-extension-in-java","body":"You might be able to do this using the Apache Commons IO FilenameUtils class. See answer provided by slashnick: <a href=\"http://stackoverflow.com/questions/8393849/how-to-get-name-of-file-object-without-its-extension-in-java\" title=\"how to get name of file object without its extension in java\">stackoverflow.com/questions/8393849/&hellip;</a>"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1430944260,"post_id":605696,"comment_id":48287148,"body_markdown":"Related: http://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-an-uri (Contains the best answer, no dependencies, but does not accomplish goal of removing extension.)","body":"Related: <a href=\"http://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-an-uri\" title=\"how to obtain the last path segment of an uri\">stackoverflow.com/questions/4050087/&hellip;</a> (Contains the best answer, no dependencies, but does not accomplish goal of removing extension.)"}],"answers":[{"comments":[{"owner":{"account_id":52334,"reputation":13057,"user_id":156388,"accept_rate":77,"display_name":"rtpHarry"},"score":1,"creation_date":1295604414,"post_id":605727,"comment_id":5262414,"body_markdown":"One error handling aspect you need to consider is you will end up with an empty string if you accidentally pass it a url that doesnt have a filename (such as `http://www.example.com/` or `http://www.example.com/folder/`)","body":"One error handling aspect you need to consider is you will end up with an empty string if you accidentally pass it a url that doesnt have a filename (such as <code>http:&#47;&#47;www.example.com&#47;</code> or <code>http:&#47;&#47;www.example.com&#47;folder&#47;</code>)"},{"owner":{"account_id":249765,"reputation":2643,"user_id":526040,"display_name":"Robert"},"score":2,"creation_date":1323914304,"post_id":605727,"comment_id":10541109,"body_markdown":"The code doesn&#39;t work. `lastIndexOf` doesn&#39;t work this way. But the intention is clear.","body":"The code doesn&#39;t work. <code>lastIndexOf</code> doesn&#39;t work this way. But the intention is clear."},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1527766939,"post_id":605727,"comment_id":88256694,"body_markdown":"Downvoted because it won&#39;t work if the fragment part contains slashes, and because there are dedicated functions which achieve this in apache commons and in Java since 1.7","body":"Downvoted because it won&#39;t work if the fragment part contains slashes, and because there are dedicated functions which achieve this in apache commons and in Java since 1.7"}],"tags":[],"owner":{"account_id":24343,"reputation":10249,"user_id":61848,"accept_rate":75,"display_name":"tehvan"},"comment_count":3,"down_vote_count":5,"up_vote_count":31,"is_accepted":false,"score":26,"last_activity_date":1516756676,"creation_date":1236072792,"answer_id":605727,"question_id":605696,"body_markdown":"This should about cut it (i&#39;ll leave the error handling to you):\r\n\r\n    int slashIndex = url.lastIndexOf(&#39;/&#39;);\r\n    int dotIndex = url.lastIndexOf(&#39;.&#39;, slashIndex);\r\n    String filenameWithoutExtension;\r\n    if (dotIndex == -1) {\r\n      filenameWithoutExtension = url.substring(slashIndex + 1);\r\n    } else {\r\n      filenameWithoutExtension = url.substring(slashIndex + 1, dotIndex);\r\n    }\r\n","title":"Get file name from URL","body":"<p>This should about cut it (i'll leave the error handling to you):</p>\n\n<pre><code>int slashIndex = url.lastIndexOf('/');\nint dotIndex = url.lastIndexOf('.', slashIndex);\nString filenameWithoutExtension;\nif (dotIndex == -1) {\n  filenameWithoutExtension = url.substring(slashIndex + 1);\n} else {\n  filenameWithoutExtension = url.substring(slashIndex + 1, dotIndex);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":0,"creation_date":1236074417,"post_id":605737,"comment_id":417927,"body_markdown":"Or on URLs with no file, just a path.","body":"Or on URLs with no file, just a path."},{"owner":{"account_id":25448,"reputation":5001,"user_id":65412,"accept_rate":59,"display_name":"Real Red."},"score":0,"creation_date":1236074760,"post_id":605737,"comment_id":417947,"body_markdown":"your code is correct too. we are not supposed to check for negative conditions anyway. an upvote for you.\n\nbtw does the name dirk kuyt sound familiar?","body":"your code is correct too. we are not supposed to check for negative conditions anyway. an upvote for you.  btw does the name dirk kuyt sound familiar?"}],"tags":[],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"comment_count":2,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1236072876,"creation_date":1236072876,"answer_id":605737,"question_id":605696,"body_markdown":"I&#39;ve come up with this:\r\n\r\n    String url = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    String file = url.substring(url.lastIndexOf(&#39;/&#39;)+1, url.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<p>I've come up with this:</p>\n\n<pre><code>String url = \"http://www.example.com/some/path/to/a/file.xml\";\nString file = url.substring(url.lastIndexOf('/')+1, url.lastIndexOf('.'));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":2,"creation_date":1236074376,"post_id":605746,"comment_id":417926,"body_markdown":"I upvoted you, because it&#39;s slightly more readable than my version. The downvote may be because it doesn&#39;t work when there&#39;s no extension or no file.","body":"I upvoted you, because it&#39;s slightly more readable than my version. The downvote may be because it doesn&#39;t work when there&#39;s no extension or no file."},{"owner":{"account_id":45002,"reputation":13531,"user_id":132374,"accept_rate":87,"display_name":"Jon Onstott"},"score":1,"creation_date":1417909638,"post_id":605746,"comment_id":43132355,"body_markdown":"You can leave off the second parameter to `substring()`","body":"You can leave off the second parameter to <code>substring()</code>"},{"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"score":13,"creation_date":1422521886,"post_id":605746,"comment_id":44785506,"body_markdown":"This doesn’t work for neither `http://example.org/file#anchor`, `http://example.org/file?p=foo&amp;q=bar` nor `http://example.org/file.xml#/p=foo&amp;q=bar`","body":"This doesn’t work for neither <code>http:&#47;&#47;example.org&#47;file#anchor</code>, <code>http:&#47;&#47;example.org&#47;file?p=foo&amp;q=bar</code> nor <code>http:&#47;&#47;example.org&#47;file.xml#&#47;p=foo&amp;q=bar</code>"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":3,"creation_date":1430944111,"post_id":605746,"comment_id":48287043,"body_markdown":"If you let `String url = new URL(original_url).getPath()` and add a special case for filenames that don&#39;t contain a `.` then this works fine.","body":"If you let <code>String url = new URL(original_url).getPath()</code> and add a special case for filenames that don&#39;t contain a <code>.</code> then this works fine."},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1527766928,"post_id":605746,"comment_id":88256686,"body_markdown":"Downvoted because it won&#39;t work if the fragment part contains slashes, and because there are dedicated functions which achieve this in apache commons and in Java since 1.7","body":"Downvoted because it won&#39;t work if the fragment part contains slashes, and because there are dedicated functions which achieve this in apache commons and in Java since 1.7"},{"owner":{"display_name":"user187676"},"score":1,"creation_date":1528369252,"post_id":605746,"comment_id":88486499,"body_markdown":"Custom string manipulation on URLs is always a terrible idea. What do you do if a system has different delimiters? Like ``\\`` or `:`?","body":"Custom string manipulation on URLs is always a terrible idea. What do you do if a system has different delimiters? Like <code>\\</code> or <code>:</code>?"}],"tags":[],"owner":{"account_id":25448,"reputation":5001,"user_id":65412,"accept_rate":59,"display_name":"Real Red."},"comment_count":6,"down_vote_count":9,"up_vote_count":220,"is_accepted":false,"score":211,"last_activity_date":1236073406,"creation_date":1236073039,"answer_id":605746,"question_id":605696,"body_markdown":"    String fileName = url.substring( url.lastIndexOf(&#39;/&#39;)+1, url.length() );\r\n    \r\n    String fileNameWithoutExtn = fileName.substring(0, fileName.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<pre><code>String fileName = url.substring( url.lastIndexOf('/')+1, url.length() );\n\nString fileNameWithoutExtn = fileName.substring(0, fileName.lastIndexOf('.'));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10108,"reputation":530037,"user_id":18936,"display_name":"bobince"},"score":2,"creation_date":1236075549,"post_id":605844,"comment_id":417980,"body_markdown":"getFile() doesn&#39;t do what you think. According to the doc it is actually getPath()+getQuery, which is rather pointless. http://java.sun.com/j2se/1.4.2/docs/api/java/net/URL.html#getFile()","body":"getFile() doesn&#39;t do what you think. According to the doc it is actually getPath()+getQuery, which is rather pointless. <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/net/URL.html#getFile()\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/net/URL.html#getFile()</a>"}],"tags":[],"owner":{"account_id":23553,"reputation":3609,"user_id":59090,"accept_rate":47,"display_name":"Ricardo Felgueiras"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1236075182,"creation_date":1236075182,"answer_id":605844,"question_id":605696,"body_markdown":"import java.io.*;\r\n \r\n    import java.net.*;\r\n\r\n    public class ConvertURLToFileName{\r\n\r\n\r\n       public static void main(String[] args)throws IOException{\r\n       BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n       System.out.print(&quot;Please enter the URL : &quot;);\r\n  \r\n       String str = in.readLine();\r\n\r\n     \r\n       try{\r\n \r\n         URL url = new URL(str);\r\n \r\n         System.out.println(&quot;File : &quot;+ url.getFile());\r\n         System.out.println(&quot;Converting process Successfully&quot;);\r\n \r\n       }  \r\n       catch (MalformedURLException me){\r\n \r\n          System.out.println(&quot;Converting process error&quot;);\r\n  \r\n     }\r\n\r\nI hope this will help you. ","title":"Get file name from URL","body":"<p>import java.io.*;</p>\n\n<pre><code>import java.net.*;\n\npublic class ConvertURLToFileName{\n\n\n   public static void main(String[] args)throws IOException{\n   BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n   System.out.print(\"Please enter the URL : \");\n\n   String str = in.readLine();\n\n\n   try{\n\n     URL url = new URL(str);\n\n     System.out.println(\"File : \"+ url.getFile());\n     System.out.println(\"Converting process Successfully\");\n\n   }  \n   catch (MalformedURLException me){\n\n      System.out.println(\"Converting process error\");\n\n }\n</code></pre>\n\n<p>I hope this will help you. </p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1474522627,"creation_date":1236075482,"answer_id":605860,"question_id":605696,"body_markdown":"Create an URL object from the String.  When first you have an URL object there are methods to easily pull out just about any snippet of information you need.\r\n\r\nI can strongly recommend the Javaalmanac web site which has tons of examples, but which has since moved.  You might find http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html interesting:\r\n\r\n    // Create a file object\r\n    File file = new File(&quot;filename&quot;);\r\n    \r\n    // Convert the file object to a URL\r\n    URL url = null;\r\n    try {\r\n        // The file need not exist. It is made into an absolute path\r\n        // by prefixing the current working directory\r\n        url = file.toURL();          // file:/d:/almanac1.4/java.io/filename\r\n    } catch (MalformedURLException e) {\r\n    }\r\n    \r\n    // Convert the URL to a file object\r\n    file = new File(url.getFile());  // d:/almanac1.4/java.io/filename\r\n    \r\n    // Read the file contents using the URL\r\n    try {\r\n        // Open an input stream\r\n        InputStream is = url.openStream();\r\n    \r\n        // Read from is\r\n    \r\n        is.close();\r\n    } catch (IOException e) {\r\n        // Could not open the file\r\n    }","title":"Get file name from URL","body":"<p>Create an URL object from the String.  When first you have an URL object there are methods to easily pull out just about any snippet of information you need.</p>\n\n<p>I can strongly recommend the Javaalmanac web site which has tons of examples, but which has since moved.  You might find <a href=\"http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html\" rel=\"nofollow noreferrer\">http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html</a> interesting:</p>\n\n<pre><code>// Create a file object\nFile file = new File(\"filename\");\n\n// Convert the file object to a URL\nURL url = null;\ntry {\n    // The file need not exist. It is made into an absolute path\n    // by prefixing the current working directory\n    url = file.toURL();          // file:/d:/almanac1.4/java.io/filename\n} catch (MalformedURLException e) {\n}\n\n// Convert the URL to a file object\nfile = new File(url.getFile());  // d:/almanac1.4/java.io/filename\n\n// Read the file contents using the URL\ntry {\n    // Open an input stream\n    InputStream is = url.openStream();\n\n    // Read from is\n\n    is.close();\n} catch (IOException e) {\n    // Could not open the file\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10108,"reputation":530037,"user_id":18936,"display_name":"bobince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236076510,"creation_date":1236076037,"answer_id":605881,"question_id":605696,"body_markdown":"andy&#39;s answer redone using split():\r\n\r\n    Url u= ...;\r\n    String[] pathparts= u.getPath().split(&quot;\\\\/&quot;);\r\n    String filename= pathparts[pathparts.length-1].split(&quot;\\\\.&quot;, 1)[0];\r\n","title":"Get file name from URL","body":"<p>andy's answer redone using split():</p>\n\n<pre><code>Url u= ...;\nString[] pathparts= u.getPath().split(\"\\\\/\");\nString filename= pathparts[pathparts.length-1].split(\"\\\\.\", 1)[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":574438,"reputation":157,"user_id":225940,"display_name":"Mike"},"comment_count":0,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1260132155,"creation_date":1260132155,"answer_id":1856542,"question_id":605696,"body_markdown":"    public static String getFileName(URL extUrl) {\r\n\t\t\t//URL: &quot;http://photosaaaaa.net/photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg&quot;\r\n\t\t\tString filename = &quot;&quot;;\r\n\t\t\t//PATH: /photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\r\n\t\t\tString path = extUrl.getPath();\r\n\t\t\t//Checks for both forward and/or backslash \r\n\t\t\t//NOTE:**While backslashes are not supported in URL&#39;s \r\n\t\t\t//most browsers will autoreplace them with forward slashes\r\n\t\t\t//So technically if you&#39;re parsing an html page you could run into \r\n\t\t\t//a backslash , so i&#39;m accounting for them here;\r\n\t\t\tString[] pathContents = path.split(&quot;[\\\\\\\\/]&quot;);\r\n\t\t\tif(pathContents != null){\r\n\t\t\t\tint pathContentsLength = pathContents.length;\r\n\t\t\t\tSystem.out.println(&quot;Path Contents Length: &quot; + pathContentsLength);\r\n\t\t\t\tfor (int i = 0; i &lt; pathContents.length; i++) {\r\n\t\t\t\t\tSystem.out.println(&quot;Path &quot; + i + &quot;: &quot; + pathContents[i]);\r\n\t\t\t\t}\r\n\t\t\t\t//lastPart: s659629384_752969_4472.jpg\r\n\t\t\t\tString lastPart = pathContents[pathContentsLength-1];\r\n\t\t\t\tString[] lastPartContents = lastPart.split(&quot;\\\\.&quot;);\r\n\t\t\t\tif(lastPartContents != null &amp;&amp; lastPartContents.length &gt; 1){\r\n\t\t\t\t\tint lastPartContentLength = lastPartContents.length;\r\n\t\t\t\t\tSystem.out.println(&quot;Last Part Length: &quot; + lastPartContentLength);\r\n\t\t\t\t\t//filenames can contain . , so we assume everything before\r\n\t\t\t\t\t//the last . is the name, everything after the last . is the \r\n\t\t\t\t\t//extension\r\n\t\t\t\t\tString name = &quot;&quot;;\r\n\t\t\t\t\tfor (int i = 0; i &lt; lastPartContentLength; i++) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Last Part &quot; + i + &quot;: &quot;+ lastPartContents[i]);\r\n\t\t\t\t\t\tif(i &lt; (lastPartContents.length -1)){\r\n\t\t\t\t\t\t\tname += lastPartContents[i] ;\r\n\t\t\t\t\t\t\tif(i &lt; (lastPartContentLength -2)){\r\n\t\t\t\t\t\t\t\tname += &quot;.&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString extension = lastPartContents[lastPartContentLength -1];\r\n\t\t\t\t\tfilename = name + &quot;.&quot; +extension;\r\n\t\t\t\t\tSystem.out.println(&quot;Name: &quot; + name);\r\n\t\t\t\t\tSystem.out.println(&quot;Extension: &quot; + extension);\r\n\t\t\t\t\tSystem.out.println(&quot;Filename: &quot; + filename);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn filename;\r\n\t\t}","title":"Get file name from URL","body":"<pre><code>public static String getFileName(URL extUrl) {\n        //URL: \"http://photosaaaaa.net/photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\"\n        String filename = \"\";\n        //PATH: /photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\n        String path = extUrl.getPath();\n        //Checks for both forward and/or backslash \n        //NOTE:**While backslashes are not supported in URL's \n        //most browsers will autoreplace them with forward slashes\n        //So technically if you're parsing an html page you could run into \n        //a backslash , so i'm accounting for them here;\n        String[] pathContents = path.split(\"[\\\\\\\\/]\");\n        if(pathContents != null){\n            int pathContentsLength = pathContents.length;\n            System.out.println(\"Path Contents Length: \" + pathContentsLength);\n            for (int i = 0; i &lt; pathContents.length; i++) {\n                System.out.println(\"Path \" + i + \": \" + pathContents[i]);\n            }\n            //lastPart: s659629384_752969_4472.jpg\n            String lastPart = pathContents[pathContentsLength-1];\n            String[] lastPartContents = lastPart.split(\"\\\\.\");\n            if(lastPartContents != null &amp;&amp; lastPartContents.length &gt; 1){\n                int lastPartContentLength = lastPartContents.length;\n                System.out.println(\"Last Part Length: \" + lastPartContentLength);\n                //filenames can contain . , so we assume everything before\n                //the last . is the name, everything after the last . is the \n                //extension\n                String name = \"\";\n                for (int i = 0; i &lt; lastPartContentLength; i++) {\n                    System.out.println(\"Last Part \" + i + \": \"+ lastPartContents[i]);\n                    if(i &lt; (lastPartContents.length -1)){\n                        name += lastPartContents[i] ;\n                        if(i &lt; (lastPartContentLength -2)){\n                            name += \".\";\n                        }\n                    }\n                }\n                String extension = lastPartContents[lastPartContentLength -1];\n                filename = name + \".\" +extension;\n                System.out.println(\"Name: \" + name);\n                System.out.println(\"Extension: \" + extension);\n                System.out.println(\"Filename: \" + filename);\n            }\n        }\n        return filename;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":388314,"reputation":11,"user_id":747162,"display_name":"Campa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308815785,"creation_date":1308815785,"answer_id":6450978,"question_id":605696,"body_markdown":"\tpublic String getFileNameWithoutExtension(URL url) {\r\n        String path = url.getPath();\r\n        \r\n        if (StringUtils.isBlank(path)) {\r\n        \treturn null;\r\n        }\r\n        if (StringUtils.endsWith(path, &quot;/&quot;)) {\r\n        \t//is a directory ..\r\n        \treturn null;\r\n        }\r\n \t\t\r\n\t\tFile file = new File(url.getPath());\r\n\t\tString fileNameWithExt = file.getName();\r\n\t\t\r\n\t\tint sepPosition = fileNameWithExt.lastIndexOf(&quot;.&quot;);\r\n\t\tString fileNameWithOutExt = null;\r\n\t\tif (sepPosition &gt;= 0) {\r\n\t\t\tfileNameWithOutExt = fileNameWithExt.substring(0,sepPosition);\r\n\t\t}else{\r\n\t\t\tfileNameWithOutExt = fileNameWithExt;\r\n\t\t}\r\n\t\t\r\n        return fileNameWithOutExt;\r\n\t}","title":"Get file name from URL","body":"<pre><code>public String getFileNameWithoutExtension(URL url) {\n    String path = url.getPath();\n\n    if (StringUtils.isBlank(path)) {\n        return null;\n    }\n    if (StringUtils.endsWith(path, \"/\")) {\n        //is a directory ..\n        return null;\n    }\n\n    File file = new File(url.getPath());\n    String fileNameWithExt = file.getName();\n\n    int sepPosition = fileNameWithExt.lastIndexOf(\".\");\n    String fileNameWithOutExt = null;\n    if (sepPosition &gt;= 0) {\n        fileNameWithOutExt = fileNameWithExt.substring(0,sepPosition);\n    }else{\n        fileNameWithOutExt = fileNameWithExt;\n    }\n\n    return fileNameWithOutExt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2902138,"reputation":228,"user_id":2488520,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371287724,"creation_date":1371287724,"answer_id":17122026,"question_id":605696,"body_markdown":"How about this:\r\n\r\n    String filenameWithoutExtension = null;\r\n    String fullname = new File(\r\n        new URI(&quot;http://www.xyz.com/some/deep/path/to/abc.png&quot;).getPath()).getName();\r\n\r\n    int lastIndexOfDot = fullname.lastIndexOf(&#39;.&#39;);\r\n    filenameWithoutExtension = fullname.substring(0, \r\n        lastIndexOfDot == -1 ? fullname.length() : lastIndexOfDot);\r\n\r\n\r\n    ","title":"Get file name from URL","body":"<p>How about this:</p>\n\n<pre><code>String filenameWithoutExtension = null;\nString fullname = new File(\n    new URI(\"http://www.xyz.com/some/deep/path/to/abc.png\").getPath()).getName();\n\nint lastIndexOfDot = fullname.lastIndexOf('.');\nfilenameWithoutExtension = fullname.substring(0, \n    lastIndexOfDot == -1 ? fullname.length() : lastIndexOfDot);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9886,"reputation":16495,"user_id":18437,"accept_rate":78,"display_name":"Luke Quinane"},"score":2,"creation_date":1376370861,"post_id":17167743,"comment_id":26675154,"body_markdown":"In version commons-io 2.2 at least you still need to manually handle URLs with parameters. E.g. &quot;http://example.com/file.xml?date=2010-10-20&quot;","body":"In version commons-io 2.2 at least you still need to manually handle URLs with parameters. E.g. &quot;<a href=\"http://example.com/file.xml?date=2010-10-20\" rel=\"nofollow noreferrer\">example.com/file.xml?date=2010-10-20</a>&quot;"},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1397824648,"post_id":17167743,"comment_id":35405444,"body_markdown":"yes @LukeQuinane this doesn&#39;t seem to handle the urls with query params :(","body":"yes @LukeQuinane this doesn&#39;t seem to handle the urls with query params :("},{"owner":{"account_id":167704,"reputation":4826,"user_id":392694,"accept_rate":73,"display_name":"ehsun7b"},"score":18,"creation_date":1398146715,"post_id":17167743,"comment_id":35507365,"body_markdown":"FilenameUtils.getName(url) is a better fit.","body":"FilenameUtils.getName(url) is a better fit."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":4,"creation_date":1430944301,"post_id":17167743,"comment_id":48287171,"body_markdown":"It seems odd to add a dependency on commons-io when easy solutions are readily available just using the JDK (see `URL#getPath` and `String#substring` or `Path#getFileName` or `File#getName`).","body":"It seems odd to add a dependency on commons-io when easy solutions are readily available just using the JDK (see <code>URL#getPath</code> and <code>String#substring</code> or <code>Path#getFileName</code> or <code>File#getName</code>)."},{"owner":{"account_id":757004,"reputation":6802,"user_id":769275,"accept_rate":59,"display_name":"Marc"},"score":2,"creation_date":1435674882,"post_id":17167743,"comment_id":50293010,"body_markdown":"I see this solution referenced everywhere when it doesn&#39;t solve the problem of dealing with querystrings.","body":"I see this solution referenced everywhere when it doesn&#39;t solve the problem of dealing with querystrings."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":6,"creation_date":1438161759,"post_id":17167743,"comment_id":51332529,"body_markdown":"The FilenameUtils class is designed to work with Windows and *nix path, not URL.","body":"The FilenameUtils class is designed to work with Windows and *nix path, not URL."},{"owner":{"account_id":4412923,"reputation":7184,"user_id":3595288,"accept_rate":60,"display_name":"Choletski"},"score":0,"creation_date":1445499032,"post_id":17167743,"comment_id":54351596,"body_markdown":"by default we can&#39;t use it, we must import a library...\n`compile &#39;commons-io:commons-io:2.4&#39;` for Gradle and\n\n`&lt;dependency&gt;\n\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\n\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n\t&lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;`\n\nfor maven","body":"by default we can&#39;t use it, we must import a library... <code>compile &#39;commons-io:commons-io:2.4&#39;</code> for Gradle and  <code>&lt;dependency&gt; \t&lt;groupId&gt;commons-io&lt;&#47;groupId&gt; \t&lt;artifactId&gt;commons-io&lt;&#47;artifactId&gt; \t&lt;version&gt;2.4&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>  for maven"},{"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"score":4,"creation_date":1477627946,"post_id":17167743,"comment_id":67853763,"body_markdown":"Updated example to use a URL, show sample output values and use query params.","body":"Updated example to use a URL, show sample output values and use query params."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1516651588,"post_id":17167743,"comment_id":83766536,"body_markdown":"FilenameUtils.getName can return unwanted results at times. [More information here, in another answer on this page](https://stackoverflow.com/a/41244248/26510)","body":"FilenameUtils.getName can return unwanted results at times. <a href=\"https://stackoverflow.com/a/41244248/26510\">More information here, in another answer on this page</a>"},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1517266462,"post_id":17167743,"comment_id":84017527,"body_markdown":"This solution does not takes content-disposition header into account, which needs to make a request to the URL.","body":"This solution does not takes content-disposition header into account, which needs to make a request to the URL."},{"owner":{"display_name":"user187676"},"score":0,"creation_date":1528369449,"post_id":17167743,"comment_id":88486619,"body_markdown":"Since I get `unable to resolve class org.apache.commons.io.FilenameUtils` it&#39;s not a valid solution for every environment.","body":"Since I get <code>unable to resolve class org.apache.commons.io.FilenameUtils</code> it&#39;s not a valid solution for every environment."},{"owner":{"display_name":"user187676"},"score":0,"creation_date":1540389102,"post_id":17167743,"comment_id":92847757,"body_markdown":"@Kronen the question is about Java, and not 3rd party libraries.","body":"@Kronen the question is about Java, and not 3rd party libraries."},{"owner":{"account_id":75340,"reputation":378,"user_id":216161,"accept_rate":86,"display_name":"Kronen"},"score":0,"creation_date":1540389720,"post_id":17167743,"comment_id":92848217,"body_markdown":"@Erik Aigner Apache commons-io is a Java library, is not a C# or Python library, the question doesn&#39;t limit the answers to the standard library at all","body":"@Erik Aigner Apache commons-io is a Java library, is not a C# or Python library, the question doesn&#39;t limit the answers to the standard library at all"}],"tags":[],"owner":{"account_id":312539,"reputation":4333,"user_id":626657,"accept_rate":100,"display_name":"Adrian B."},"comment_count":13,"down_vote_count":5,"up_vote_count":232,"is_accepted":true,"score":227,"last_activity_date":1477627857,"creation_date":1371555054,"answer_id":17167743,"question_id":605696,"body_markdown":"Instead of reinventing the wheel, how about using Apache [commons-io][1]:\r\n\r\n    import org.apache.commons.io.FilenameUtils;\r\n    \r\n    public class FilenameUtilTest {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            URL url = new URL(&quot;http://www.example.com/some/path/to/a/file.xml?foo=bar#test&quot;);\r\n\r\n            System.out.println(FilenameUtils.getBaseName(url.getPath())); // -&gt; file\r\n            System.out.println(FilenameUtils.getExtension(url.getPath())); // -&gt; xml\r\n            System.out.println(FilenameUtils.getName(url.getPath())); // -&gt; file.xml\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/","title":"Get file name from URL","body":"<p>Instead of reinventing the wheel, how about using Apache <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">commons-io</a>:</p>\n\n<pre><code>import org.apache.commons.io.FilenameUtils;\n\npublic class FilenameUtilTest {\n\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(\"http://www.example.com/some/path/to/a/file.xml?foo=bar#test\");\n\n        System.out.println(FilenameUtils.getBaseName(url.getPath())); // -&gt; file\n        System.out.println(FilenameUtils.getExtension(url.getPath())); // -&gt; xml\n        System.out.println(FilenameUtils.getName(url.getPath())); // -&gt; file.xml\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249982,"reputation":1137,"user_id":1567675,"accept_rate":22,"display_name":"Bharat Dodeja"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381481594,"creation_date":1381481594,"answer_id":19314042,"question_id":605696,"body_markdown":"Here is the simplest way to do it in Android. I know it will not work in Java but It may help Android application developer.\r\n\r\n    import android.webkit.URLUtil;\r\n    \r\n    public String getFileNameFromURL(String url) {\r\n\t\tString fileNameWithExtension = null;\r\n\t\tString fileNameWithoutExtension = null;\r\n\t\tif (URLUtil.isValidUrl(url)) {\r\n\t\t\tfileNameWithExtension = URLUtil.guessFileName(url, null, null);\r\n\t\t\tif (fileNameWithExtension != null &amp;&amp; !fileNameWithExtension.isEmpty()) {\r\n\t\t\t\tString[] f = fileNameWithExtension.split(&quot;.&quot;);\r\n\t\t\t\tif (f != null &amp; f.length &gt; 1) {\r\n\t\t\t\t\tfileNameWithoutExtension = f[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn fileNameWithoutExtension;\r\n\t}","title":"Get file name from URL","body":"<p>Here is the simplest way to do it in Android. I know it will not work in Java but It may help Android application developer.</p>\n\n<pre><code>import android.webkit.URLUtil;\n\npublic String getFileNameFromURL(String url) {\n    String fileNameWithExtension = null;\n    String fileNameWithoutExtension = null;\n    if (URLUtil.isValidUrl(url)) {\n        fileNameWithExtension = URLUtil.guessFileName(url, null, null);\n        if (fileNameWithExtension != null &amp;&amp; !fileNameWithExtension.isEmpty()) {\n            String[] f = fileNameWithExtension.split(\".\");\n            if (f != null &amp; f.length &gt; 1) {\n                fileNameWithoutExtension = f[0];\n            }\n        }\n    }\n    return fileNameWithoutExtension;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1438163002,"post_id":19716225,"comment_id":51333346,"body_markdown":"`/` can appear in fragment. You will extract the wrong stuff.","body":"<code>&#47;</code> can appear in fragment. You will extract the wrong stuff."}],"tags":[],"owner":{"account_id":1218420,"reputation":2261,"user_id":1185555,"accept_rate":44,"display_name":"Serhii Bohutskyi"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1383251957,"creation_date":1383251957,"answer_id":19716225,"question_id":605696,"body_markdown":"Urls can have parameters in the end, this\r\n\r\n     /**\r\n     * Getting file name from url without extension\r\n     * @param url string\r\n     * @return file name\r\n     */\r\n    public static String getFileName(String url) {\r\n        String fileName;\r\n        int slashIndex = url.lastIndexOf(&quot;/&quot;);\r\n        int qIndex = url.lastIndexOf(&quot;?&quot;);\r\n        if (qIndex &gt; slashIndex) {//if has parameters\r\n            fileName = url.substring(slashIndex + 1, qIndex);\r\n        } else {\r\n            fileName = url.substring(slashIndex + 1);\r\n        }\r\n        if (fileName.contains(&quot;.&quot;)) {\r\n            fileName = fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;));\r\n        }\r\n\r\n        return fileName;\r\n    }","title":"Get file name from URL","body":"<p>Urls can have parameters in the end, this</p>\n\n<pre><code> /**\n * Getting file name from url without extension\n * @param url string\n * @return file name\n */\npublic static String getFileName(String url) {\n    String fileName;\n    int slashIndex = url.lastIndexOf(\"/\");\n    int qIndex = url.lastIndexOf(\"?\");\n    if (qIndex &gt; slashIndex) {//if has parameters\n        fileName = url.substring(slashIndex + 1, qIndex);\n    } else {\n        fileName = url.substring(slashIndex + 1);\n    }\n    if (fileName.contains(\".\")) {\n        fileName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n    }\n\n    return fileName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1256821,"reputation":769,"user_id":1216112,"accept_rate":85,"display_name":"Chaiavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438161894,"creation_date":1408387926,"answer_id":25370132,"question_id":605696,"body_markdown":"In order to return filename **without extension** and **without parameters** use the following:\r\n\r\n    String filenameWithParams = FilenameUtils.getBaseName(urlStr); // may hold params if http://example.com/a?param=yes\r\n    return filenameWithParams.split(&quot;\\\\?&quot;)[0]; // removing parameters from url if they exist\r\n\r\n\r\n\r\n\r\n\r\nIn order to return **filename with extension without params** use this:\r\n\r\n    /** Parses a URL and extracts the filename from it or returns an empty string (if filename is non existent in the url) &lt;br/&gt;\r\n     * This method will work in win/unix formats, will work with mixed case of slashes (forward and backward) &lt;br/&gt;\r\n     * This method will remove parameters after the extension\r\n     *\r\n     * @param urlStr original url string from which we will extract the filename\r\n     * @return filename from the url if it exists, or an empty string in all other cases */\r\n    private String getFileNameFromUrl(String urlStr) {\r\n        String baseName = FilenameUtils.getBaseName(urlStr);\r\n        String extension = FilenameUtils.getExtension(urlStr);\r\n\r\n        try {\r\n            extension = extension.split(&quot;\\\\?&quot;)[0]; // removing parameters from url if they exist\r\n            return baseName.isEmpty() ? &quot;&quot; : baseName + &quot;.&quot; + extension;\r\n        } catch (NullPointerException npe) {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Get file name from URL","body":"<p>In order to return filename <strong>without extension</strong> and <strong>without parameters</strong> use the following:</p>\n\n<pre><code>String filenameWithParams = FilenameUtils.getBaseName(urlStr); // may hold params if http://example.com/a?param=yes\nreturn filenameWithParams.split(\"\\\\?\")[0]; // removing parameters from url if they exist\n</code></pre>\n\n<p>In order to return <strong>filename with extension without params</strong> use this:</p>\n\n<pre><code>/** Parses a URL and extracts the filename from it or returns an empty string (if filename is non existent in the url) &lt;br/&gt;\n * This method will work in win/unix formats, will work with mixed case of slashes (forward and backward) &lt;br/&gt;\n * This method will remove parameters after the extension\n *\n * @param urlStr original url string from which we will extract the filename\n * @return filename from the url if it exists, or an empty string in all other cases */\nprivate String getFileNameFromUrl(String urlStr) {\n    String baseName = FilenameUtils.getBaseName(urlStr);\n    String extension = FilenameUtils.getExtension(urlStr);\n\n    try {\n        extension = extension.split(\"\\\\?\")[0]; // removing parameters from url if they exist\n        return baseName.isEmpty() ? \"\" : baseName + \".\" + extension;\n    } catch (NullPointerException npe) {\n        return \"\";\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":1,"creation_date":1494751052,"post_id":26810644,"comment_id":74954311,"body_markdown":"@AlexNauda Replace `url.getFile()` with `url.toString()` and it works with `#` in the path.","body":"@AlexNauda Replace <code>url.getFile()</code> with <code>url.toString()</code> and it works with <code>#</code> in the path."}],"tags":[],"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1415397689,"creation_date":1415397004,"answer_id":26810644,"question_id":605696,"body_markdown":"Keep it simple :\r\n\r\n\t/**\r\n\t * This function will take an URL as input and return the file name.\r\n\t * &lt;p&gt;Examples :&lt;/p&gt;\r\n\t * &lt;ul&gt;\r\n\t * &lt;li&gt;http://example.com/a/b/c/test.txt -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/ -&gt; an empty string &lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/test.txt?param=value -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/test.txt#anchor -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;/ul&gt;\r\n\t * \r\n\t * @param url The input URL\r\n\t * @return The URL file name\r\n\t */\r\n\tpublic static String getFileNameFromUrl(URL url) {\r\n\t\t\r\n\t\tString urlString = url.getFile();\r\n\t\t\r\n\t\treturn urlString.substring(urlString.lastIndexOf(&#39;/&#39;) + 1).split(&quot;\\\\?&quot;)[0].split(&quot;#&quot;)[0];\r\n\t}","title":"Get file name from URL","body":"<p>Keep it simple :</p>\n\n<pre><code>/**\n * This function will take an URL as input and return the file name.\n * &lt;p&gt;Examples :&lt;/p&gt;\n * &lt;ul&gt;\n * &lt;li&gt;http://example.com/a/b/c/test.txt -&gt; test.txt&lt;/li&gt;\n * &lt;li&gt;http://example.com/ -&gt; an empty string &lt;/li&gt;\n * &lt;li&gt;http://example.com/test.txt?param=value -&gt; test.txt&lt;/li&gt;\n * &lt;li&gt;http://example.com/test.txt#anchor -&gt; test.txt&lt;/li&gt;\n * &lt;/ul&gt;\n * \n * @param url The input URL\n * @return The URL file name\n */\npublic static String getFileNameFromUrl(URL url) {\n\n    String urlString = url.getFile();\n\n    return urlString.substring(urlString.lastIndexOf('/') + 1).split(\"\\\\?\")[0].split(\"#\")[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4124772,"reputation":1930,"user_id":3384222,"accept_rate":0,"display_name":"Pravin Bhosale"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1422888029,"creation_date":1422888029,"answer_id":28280175,"question_id":605696,"body_markdown":"    create a new file with string image path\r\n    \r\n        String imagePath;\r\n        File test = new File(imagePath);\r\n        test.getName();\r\n        test.getPath();\r\n        getExtension(test.getName());\r\n        \r\n        \r\n        public static String getExtension(String uri) {\r\n        \t\tif (uri == null) {\r\n        \t\t\treturn null;\r\n        \t\t}\r\n        \r\n        \t\tint dot = uri.lastIndexOf(&quot;.&quot;);\r\n        \t\tif (dot &gt;= 0) {\r\n        \t\t\treturn uri.substring(dot);\r\n        \t\t} else {\r\n        \t\t\t// No extension.\r\n        \t\t\treturn &quot;&quot;;\r\n        \t\t}\r\n        \t}","title":"Get file name from URL","body":"<pre><code>create a new file with string image path\n\n    String imagePath;\n    File test = new File(imagePath);\n    test.getName();\n    test.getPath();\n    getExtension(test.getName());\n\n\n    public static String getExtension(String uri) {\n            if (uri == null) {\n                return null;\n            }\n\n            int dot = uri.lastIndexOf(\".\");\n            if (dot &gt;= 0) {\n                return uri.substring(dot);\n            } else {\n                // No extension.\n                return \"\";\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1437111500,"creation_date":1437111500,"answer_id":31469017,"question_id":605696,"body_markdown":"**Get** File **Name with Extension**, **without Extension**, **only Extension** with just 3 line:\r\n\r\n    String urlStr = &quot;http://www.example.com/yourpath/foler/test.png&quot;;\r\n\r\n    String fileName = urlStr.substring(urlStr.lastIndexOf(&#39;/&#39;)+1, urlStr.length());\r\n    String fileNameWithoutExtension = fileName.substring(0, fileName.lastIndexOf(&#39;.&#39;));\r\n    String fileExtension = urlStr.substring(urlStr.lastIndexOf(&quot;.&quot;));\r\n\r\n    Log.i(&quot;File Name&quot;, fileName);\r\n    Log.i(&quot;File Name Without Extension&quot;, fileNameWithoutExtension);\r\n    Log.i(&quot;File Extension&quot;, fileExtension);\r\n\r\n\r\n**Log Result:**\r\n\r\n    File Name(13656): test.png\r\n    File Name Without Extension(13656): test\r\n    File Extension(13656): .png\r\n\r\nHope it will help you.","title":"Get file name from URL","body":"<p><strong>Get</strong> File <strong>Name with Extension</strong>, <strong>without Extension</strong>, <strong>only Extension</strong> with just 3 line:</p>\n\n<pre><code>String urlStr = \"http://www.example.com/yourpath/foler/test.png\";\n\nString fileName = urlStr.substring(urlStr.lastIndexOf('/')+1, urlStr.length());\nString fileNameWithoutExtension = fileName.substring(0, fileName.lastIndexOf('.'));\nString fileExtension = urlStr.substring(urlStr.lastIndexOf(\".\"));\n\nLog.i(\"File Name\", fileName);\nLog.i(\"File Name Without Extension\", fileNameWithoutExtension);\nLog.i(\"File Extension\", fileExtension);\n</code></pre>\n\n<p><strong>Log Result:</strong></p>\n\n<pre><code>File Name(13656): test.png\nFile Name Without Extension(13656): test\nFile Extension(13656): .png\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"comments":[{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":1,"creation_date":1521800152,"post_id":33871029,"comment_id":85896053,"body_markdown":"@Carcigenicate I just tested it again and it seems to work fine. `URI.getPath()` returns a `String`, so I don&#39;t see why it wouldn&#39;t work","body":"@Carcigenicate I just tested it again and it seems to work fine. <code>URI.getPath()</code> returns a <code>String</code>, so I don&#39;t see why it wouldn&#39;t work"},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":1,"creation_date":1521810042,"post_id":33871029,"comment_id":85902584,"body_markdown":"Nvm. I realize now that my problem was due to how Clojure handles var-args during Java-interop. The String overload wasn&#39;t working because an empty array needed to be passed as well to handle the var-args of Paths/get. It still works though if you get rid of the call to `getPath`, and use the URI overload instead.","body":"Nvm. I realize now that my problem was due to how Clojure handles var-args during Java-interop. The String overload wasn&#39;t working because an empty array needed to be passed as well to handle the var-args of Paths/get. It still works though if you get rid of the call to <code>getPath</code>, and use the URI overload instead."},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1547200180,"post_id":33871029,"comment_id":95119087,"body_markdown":"@Carcigenicate you mean `Paths.get(new URI(url))`? That doesn&#39;t seem to work for me","body":"@Carcigenicate you mean <code>Paths.get(new URI(url))</code>? That doesn&#39;t seem to work for me"},{"owner":{"account_id":3341987,"reputation":462,"user_id":2808066,"accept_rate":29,"display_name":"Manuela"},"score":0,"creation_date":1584004316,"post_id":33871029,"comment_id":107304031,"body_markdown":"getFileName requires android api level 26","body":"getFileName requires android api level 26"}],"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"comment_count":4,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1448281416,"creation_date":1448281416,"answer_id":33871029,"question_id":605696,"body_markdown":"If you don&#39;t need to get rid of the file extension, here&#39;s a way to do it without resorting to error-prone String manipulation and without using external libraries. Works with Java 1.7+:\r\n\r\n    import java.net.URI\r\n    import java.nio.file.Paths\r\n    \r\n    String url = &quot;http://example.org/file?p=foo&amp;q=bar&quot;\r\n    String filename = Paths.get(new URI(url).getPath()).getFileName().toString()","title":"Get file name from URL","body":"<p>If you don't need to get rid of the file extension, here's a way to do it without resorting to error-prone String manipulation and without using external libraries. Works with Java 1.7+:</p>\n\n<pre><code>import java.net.URI\nimport java.nio.file.Paths\n\nString url = \"http://example.org/file?p=foo&amp;q=bar\"\nString filename = Paths.get(new URI(url).getPath()).getFileName().toString()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3634060,"reputation":1294,"user_id":3194525,"display_name":"maaw"},"score":0,"creation_date":1607984865,"post_id":35429735,"comment_id":115439072,"body_markdown":"Does not work if query string contains &quot;/&quot; (and believe me, it can).","body":"Does not work if query string contains &quot;/&quot; (and believe me, it can)."},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1608102345,"post_id":35429735,"comment_id":115476649,"body_markdown":"@maaw, Please share one example","body":"@maaw, Please share one example"},{"owner":{"account_id":3634060,"reputation":1294,"user_id":3194525,"display_name":"maaw"},"score":0,"creation_date":1608142087,"post_id":35429735,"comment_id":115494677,"body_markdown":"``https://host.com:9021/path/2721/filename.txt?X-Amz-Credential=n-it-cloud/20201214/standard/s3/aws4_request``","body":"<code>https:&#47;&#47;host.com:9021&#47;path&#47;2721&#47;filename.txt?X-Amz-Credentia&zwnj;&#8203;l=n-it-cloud&#47;2020121&zwnj;&#8203;4&#47;standard&#47;s3&#47;aws4_r&zwnj;&#8203;equest</code>"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1608205230,"post_id":35429735,"comment_id":115514673,"body_markdown":"then you can add additional check for separate query.","body":"then you can add additional check for separate query."}],"tags":[],"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1455617893,"creation_date":1455617893,"answer_id":35429735,"question_id":605696,"body_markdown":"    String fileName = url.substring(url.lastIndexOf(&#39;/&#39;) + 1);","title":"Get file name from URL","body":"<pre><code>String fileName = url.substring(url.lastIndexOf('/') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472119197,"creation_date":1472119197,"answer_id":39142179,"question_id":605696,"body_markdown":"If you want to get only the filename from a java.net.URL (not including any query parameters), you could use the following function:\r\n\r\n    public static String getFilenameFromURL(URL url) {\r\n        return new File(url.getPath().toString()).getName();\r\n    }\r\n\r\nFor example, this input URL:\r\n    \r\n    &quot;http://example.com/image.png?version=2&amp;amp;modificationDate=1449846324000&quot;\r\n\r\nWould be translated to this output String:\r\n\r\n    image.png","title":"Get file name from URL","body":"<p>If you want to get only the filename from a java.net.URL (not including any query parameters), you could use the following function:</p>\n\n<pre><code>public static String getFilenameFromURL(URL url) {\n    return new File(url.getPath().toString()).getName();\n}\n</code></pre>\n\n<p>For example, this input URL:</p>\n\n<pre><code>\"http://example.com/image.png?version=2&amp;amp;modificationDate=1449846324000\"\n</code></pre>\n\n<p>Would be translated to this output String:</p>\n\n<pre><code>image.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482244756,"creation_date":1482242869,"answer_id":41244248,"question_id":605696,"body_markdown":"I&#39;ve found that some urls when passed directly to `FilenameUtils.getName` return unwanted results and this needs to be wrapped up to avoid exploits.\n\nFor example, \n\n    System.out.println(FilenameUtils.getName(&quot;http://www.google.com/..&quot;));\n\nreturns\n\n&gt; ..\n\nwhich I doubt anyone wants to allow.\n\nThe following function seems to work fine, and shows some of these test cases, and it returns `null` when the filename can&#39;t be determined.\n\n    public static String getFilenameFromUrl(String url)\n    {\n        if (url == null)\n            return null;\n        \n        try\n        {\n            // Add a protocol if none found\n            if (! url.contains(&quot;//&quot;))\n                url = &quot;http://&quot; + url;\n\n            URL uri = new URL(url);\n            String result = FilenameUtils.getName(uri.getPath());\n\n            if (result == null || result.isEmpty())\n                return null;\n\n            if (result.contains(&quot;..&quot;))\n                return null;\n\n            return result;\n        }\n        catch (MalformedURLException e)\n        {\n            return null;\n        }\n    }\n   \n\n\n  \n### This is wrapped up with some simple tests cases in the following example:\n\n    import java.util.Objects;\n    import java.net.URL;\n    import org.apache.commons.io.FilenameUtils;\n    \n    class Main {\n    \n      public static void main(String[] args) {\n        validateFilename(null, null);\n        validateFilename(&quot;&quot;, null);\n        validateFilename(&quot;www.google.com/../me/you?trex=5#sdf&quot;, &quot;you&quot;);\n        validateFilename(&quot;www.google.com/../me/you?trex=5 is the num#sdf&quot;, &quot;you&quot;);\n        validateFilename(&quot;http://www.google.com/test.png?test&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;http://www.google.com&quot;, null);\n        validateFilename(&quot;http://www.google.com#test&quot;, null);\n        validateFilename(&quot;http://www.google.com////&quot;, null);\n        validateFilename(&quot;www.google.com/..&quot;, null);\n        validateFilename(&quot;http://www.google.com/..&quot;, null);\n        validateFilename(&quot;http://www.google.com/test&quot;, &quot;test&quot;);\n        validateFilename(&quot;https://www.google.com/../../test.png&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;file://www.google.com/test.png&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;file://www.google.com/../me/you?trex=5&quot;, &quot;you&quot;);\n        validateFilename(&quot;file://www.google.com/../me/you?trex&quot;, &quot;you&quot;);\n      }\n    \n      private static void validateFilename(String url, String expectedFilename){\n        String actualFilename = getFilenameFromUrl(url);\n    \n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;url:&quot; + url);\n        System.out.println(&quot;filename:&quot; + expectedFilename);\n    \n        if (! Objects.equals(actualFilename, expectedFilename))\n          throw new RuntimeException(&quot;Problem, actual=&quot; + actualFilename + &quot; and expected=&quot; + expectedFilename + &quot; are not equal&quot;);\n      }\n    \n      public static String getFilenameFromUrl(String url)\n      {\n        if (url == null)\n          return null;\n    \n        try\n        {\n          // Add a protocol if none found\n          if (! url.contains(&quot;//&quot;))\n            url = &quot;http://&quot; + url;\n    \n          URL uri = new URL(url);\n          String result = FilenameUtils.getName(uri.getPath());\n    \n          if (result == null || result.isEmpty())\n            return null;\n    \n          if (result.contains(&quot;..&quot;))\n            return null;\n    \n          return result;\n        }\n        catch (MalformedURLException e)\n        {\n          return null;\n        }\n      }\n    }\n\n","title":"Get file name from URL","body":"<p>I've found that some urls when passed directly to <code>FilenameUtils.getName</code> return unwanted results and this needs to be wrapped up to avoid exploits.</p>\n<p>For example,</p>\n<pre><code>System.out.println(FilenameUtils.getName(&quot;http://www.google.com/..&quot;));\n</code></pre>\n<p>returns</p>\n<blockquote>\n<p>..</p>\n</blockquote>\n<p>which I doubt anyone wants to allow.</p>\n<p>The following function seems to work fine, and shows some of these test cases, and it returns <code>null</code> when the filename can't be determined.</p>\n<pre><code>public static String getFilenameFromUrl(String url)\n{\n    if (url == null)\n        return null;\n    \n    try\n    {\n        // Add a protocol if none found\n        if (! url.contains(&quot;//&quot;))\n            url = &quot;http://&quot; + url;\n\n        URL uri = new URL(url);\n        String result = FilenameUtils.getName(uri.getPath());\n\n        if (result == null || result.isEmpty())\n            return null;\n\n        if (result.contains(&quot;..&quot;))\n            return null;\n\n        return result;\n    }\n    catch (MalformedURLException e)\n    {\n        return null;\n    }\n}\n</code></pre>\n<h3>This is wrapped up with some simple tests cases in the following example:</h3>\n<pre><code>import java.util.Objects;\nimport java.net.URL;\nimport org.apache.commons.io.FilenameUtils;\n\nclass Main {\n\n  public static void main(String[] args) {\n    validateFilename(null, null);\n    validateFilename(&quot;&quot;, null);\n    validateFilename(&quot;www.google.com/../me/you?trex=5#sdf&quot;, &quot;you&quot;);\n    validateFilename(&quot;www.google.com/../me/you?trex=5 is the num#sdf&quot;, &quot;you&quot;);\n    validateFilename(&quot;http://www.google.com/test.png?test&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;http://www.google.com&quot;, null);\n    validateFilename(&quot;http://www.google.com#test&quot;, null);\n    validateFilename(&quot;http://www.google.com////&quot;, null);\n    validateFilename(&quot;www.google.com/..&quot;, null);\n    validateFilename(&quot;http://www.google.com/..&quot;, null);\n    validateFilename(&quot;http://www.google.com/test&quot;, &quot;test&quot;);\n    validateFilename(&quot;https://www.google.com/../../test.png&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;file://www.google.com/test.png&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;file://www.google.com/../me/you?trex=5&quot;, &quot;you&quot;);\n    validateFilename(&quot;file://www.google.com/../me/you?trex&quot;, &quot;you&quot;);\n  }\n\n  private static void validateFilename(String url, String expectedFilename){\n    String actualFilename = getFilenameFromUrl(url);\n\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;url:&quot; + url);\n    System.out.println(&quot;filename:&quot; + expectedFilename);\n\n    if (! Objects.equals(actualFilename, expectedFilename))\n      throw new RuntimeException(&quot;Problem, actual=&quot; + actualFilename + &quot; and expected=&quot; + expectedFilename + &quot; are not equal&quot;);\n  }\n\n  public static String getFilenameFromUrl(String url)\n  {\n    if (url == null)\n      return null;\n\n    try\n    {\n      // Add a protocol if none found\n      if (! url.contains(&quot;//&quot;))\n        url = &quot;http://&quot; + url;\n\n      URL uri = new URL(url);\n      String result = FilenameUtils.getName(uri.getPath());\n\n      if (result == null || result.isEmpty())\n        return null;\n\n      if (result.contains(&quot;..&quot;))\n        return null;\n\n      return result;\n    }\n    catch (MalformedURLException e)\n    {\n      return null;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496234241,"creation_date":1496234241,"answer_id":44285041,"question_id":605696,"body_markdown":"Beyond the all advanced methods, my simple trick is `StringTokenizer`:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.StringTokenizer;\r\n    \r\n    public class URLName {\r\n    \tpublic static void main(String args[]){\r\n    \t\tString url = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    \t\tStringTokenizer tokens = new StringTokenizer(url, &quot;/&quot;);\r\n    \t\t\r\n    \t\tArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\twhile(tokens.hasMoreTokens()){\r\n    \t\t\tparts.add(tokens.nextToken());\r\n    \t\t}\r\n    \t\tString file = parts.get(parts.size() -1);\r\n    \t\tint dot = file.indexOf(&quot;.&quot;);\r\n    \t\tString fileName = file.substring(0, dot);\r\n    \t\tSystem.out.println(fileName);\r\n    \t}\r\n    }","title":"Get file name from URL","body":"<p>Beyond the all advanced methods, my simple trick is <code>StringTokenizer</code>:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.StringTokenizer;\n\npublic class URLName {\n    public static void main(String args[]){\n        String url = \"http://www.example.com/some/path/to/a/file.xml\";\n        StringTokenizer tokens = new StringTokenizer(url, \"/\");\n\n        ArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\n\n        while(tokens.hasMoreTokens()){\n            parts.add(tokens.nextToken());\n        }\n        String file = parts.get(parts.size() -1);\n        int dot = file.indexOf(\".\");\n        String fileName = file.substring(0, dot);\n        System.out.println(fileName);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5332702,"reputation":2200,"user_id":4628115,"accept_rate":60,"display_name":"CybeX"},"score":2,"creation_date":1516633116,"post_id":47183212,"comment_id":83755844,"body_markdown":"nice solution !","body":"nice solution !"},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":3,"creation_date":1524159386,"post_id":47183212,"comment_id":86870026,"body_markdown":"this is the best option, as it uses only standard JDK","body":"this is the best option, as it uses only standard JDK"},{"owner":{"account_id":7459248,"reputation":450,"user_id":5916511,"display_name":"Yusuph wickama"},"score":3,"creation_date":1627969504,"post_id":47183212,"comment_id":121289703,"body_markdown":"At the end of the day, I&#39;ve just settled with this. Elegant solution.","body":"At the end of the day, I&#39;ve just settled with this. Elegant solution."}],"tags":[],"owner":{"account_id":137257,"reputation":4974,"user_id":341320,"accept_rate":76,"display_name":"juanmirocks"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1568118317,"creation_date":1510153998,"answer_id":47183212,"question_id":605696,"body_markdown":"One liner:\r\n\r\n\r\n    new File(uri.getPath).getName\r\n\r\n\r\nComplete code (in a scala REPL):\r\n\r\n\r\n    import java.io.File\r\n    import java.net.URI\r\n    \r\n    val uri = new URI(&quot;http://example.org/file.txt?whatever&quot;)\r\n    \r\n    new File(uri.getPath).getName\r\n    res18: String = file.txt\r\n\r\n**Note**: `URI#gePath` is already intelligent enough to strip off query parameters and the protocol&#39;s scheme. Examples:\r\n\r\n\r\n    new URI(&quot;http://example.org/hey/file.txt?whatever&quot;).getPath\r\n    res20: String = /hey/file.txt\r\n    \r\n    new URI(&quot;hdfs:///hey/file.txt&quot;).getPath\r\n    res21: String = /hey/file.txt\r\n    \r\n    new URI(&quot;file:///hey/file.txt&quot;).getPath\r\n    res22: String = /hey/file.txt","title":"Get file name from URL","body":"<p>One liner:</p>\n\n<pre><code>new File(uri.getPath).getName\n</code></pre>\n\n<p>Complete code (in a scala REPL):</p>\n\n<pre><code>import java.io.File\nimport java.net.URI\n\nval uri = new URI(\"http://example.org/file.txt?whatever\")\n\nnew File(uri.getPath).getName\nres18: String = file.txt\n</code></pre>\n\n<p><strong>Note</strong>: <code>URI#gePath</code> is already intelligent enough to strip off query parameters and the protocol's scheme. Examples:</p>\n\n<pre><code>new URI(\"http://example.org/hey/file.txt?whatever\").getPath\nres20: String = /hey/file.txt\n\nnew URI(\"hdfs:///hey/file.txt\").getPath\nres21: String = /hey/file.txt\n\nnew URI(\"file:///hey/file.txt\").getPath\nres22: String = /hey/file.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279796,"reputation":74,"user_id":3858815,"display_name":"EricE"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510517777,"creation_date":1510517777,"answer_id":47253488,"question_id":605696,"body_markdown":"The `Url` object in [urllib][1] allows you to access the path&#39;s unescaped filename. Here are some examples:\r\n\r\n    String raw = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    assertEquals(&quot;file.xml&quot;, Url.parse(raw).path().filename());\r\n\r\n    raw = &quot;http://www.example.com/files/r%C3%A9sum%C3%A9.pdf&quot;;\r\n    assertEquals(&quot;r&#233;sum&#233;.pdf&quot;, Url.parse(raw).path().filename());\r\n\r\n\r\n  [1]: https://github.com/EricEdens/urllib","title":"Get file name from URL","body":"<p>The <code>Url</code> object in <a href=\"https://github.com/EricEdens/urllib\" rel=\"nofollow noreferrer\">urllib</a> allows you to access the path's unescaped filename. Here are some examples:</p>\n\n<pre><code>String raw = \"http://www.example.com/some/path/to/a/file.xml\";\nassertEquals(\"file.xml\", Url.parse(raw).path().filename());\n\nraw = \"http://www.example.com/files/r%C3%A9sum%C3%A9.pdf\";\nassertEquals(\"résumé.pdf\", Url.parse(raw).path().filename());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"score":1,"creation_date":1567867263,"post_id":51221150,"comment_id":102098005,"body_markdown":"Unfortunately, your **Java 7 File I/O** solution doesn&#39;t work for me. I got an exception. I succeed with this:\n\n    `Paths.get(new URL(strUrl).getFile()).getFileName().toString();`\n\nThank you for the idea!","body":"Unfortunately, your <b>Java 7 File I/O</b> solution doesn&#39;t work for me. I got an exception. I succeed with this:      <code>Paths.get(new URL(strUrl).getFile()).getFileName().toString();</code>  Thank you for the idea!"}],"tags":[],"owner":{"account_id":5000772,"reputation":534,"user_id":4019879,"display_name":"Giang Phan"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1530950225,"creation_date":1530950225,"answer_id":51221150,"question_id":605696,"body_markdown":"There are some ways:\r\n\r\n**Java 7 File I/O:**\r\n\r\n    String fileName = Paths.get(strUrl).getFileName().toString();\r\n\r\n**Apache Commons:**\r\n\r\n    String fileName = FilenameUtils.getName(strUrl);\r\n\r\n**Using Jersey:**\r\n\r\n    UriBuilder buildURI = UriBuilder.fromUri(strUrl);\r\n    URI uri = buildURI.build();\r\n    String fileName = Paths.get(uri.getPath()).getFileName();\r\n\r\n**Substring:**\r\n\r\n    String fileName = strUrl.substring(strUrl.lastIndexOf(&#39;/&#39;) + 1);\r\n\r\n","title":"Get file name from URL","body":"<p>There are some ways:</p>\n\n<p><strong>Java 7 File I/O:</strong></p>\n\n<pre><code>String fileName = Paths.get(strUrl).getFileName().toString();\n</code></pre>\n\n<p><strong>Apache Commons:</strong></p>\n\n<pre><code>String fileName = FilenameUtils.getName(strUrl);\n</code></pre>\n\n<p><strong>Using Jersey:</strong></p>\n\n<pre><code>UriBuilder buildURI = UriBuilder.fromUri(strUrl);\nURI uri = buildURI.build();\nString fileName = Paths.get(uri.getPath()).getFileName();\n</code></pre>\n\n<p><strong>Substring:</strong></p>\n\n<pre><code>String fileName = strUrl.substring(strUrl.lastIndexOf('/') + 1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8532978,"reputation":834,"user_id":7260220,"accept_rate":25,"display_name":"nathanfranke"},"score":3,"creation_date":1582434746,"post_id":54623329,"comment_id":106773603,"body_markdown":"Java is not JavaScript","body":"Java is not JavaScript"}],"tags":[],"owner":{"account_id":14892216,"reputation":9,"user_id":10935531,"display_name":"Via Marie Inte"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1549853318,"creation_date":1549853318,"answer_id":54623329,"question_id":605696,"body_markdown":"I have the same problem, with yours. I solved it by this:\r\n\r\n    var URL = window.location.pathname; // Gets page name\r\n    var page = URL.substring(URL.lastIndexOf(&#39;/&#39;) + 1); \r\n    console.info(page)\r\n","title":"Get file name from URL","body":"<p>I have the same problem, with yours. I solved it by this:</p>\n\n<pre><code>var URL = window.location.pathname; // Gets page name\nvar page = URL.substring(URL.lastIndexOf('/') + 1); \nconsole.info(page)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"score":0,"creation_date":1652430325,"post_id":57788089,"comment_id":127609053,"body_markdown":"How the heck this answer waited for almost 3 years to be upvoted? Thanks a lot! This solves also case with path variables.","body":"How the heck this answer waited for almost 3 years to be upvoted? Thanks a lot! This solves also case with path variables."}],"tags":[],"owner":{"account_id":4392368,"reputation":2160,"user_id":3580357,"display_name":"Benjamin Caure"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567598929,"creation_date":1567598929,"answer_id":57788089,"question_id":605696,"body_markdown":"If you are using **Spring**, there is a [helper](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html) to handle URIs.\r\nHere is the solution:\r\n\r\n\r\n    List&lt;String&gt; pathSegments = UriComponentsBuilder.fromUriString(url).build().getPathSegments();\r\n    String filename = pathSegments.get(pathSegments.size()-1);","title":"Get file name from URL","body":"<p>If you are using <strong>Spring</strong>, there is a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html\" rel=\"nofollow noreferrer\">helper</a> to handle URIs.\nHere is the solution:</p>\n\n<pre><code>List&lt;String&gt; pathSegments = UriComponentsBuilder.fromUriString(url).build().getPathSegments();\nString filename = pathSegments.get(pathSegments.size()-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218716,"reputation":11,"user_id":1185798,"display_name":"GangrenaGastrit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583944511,"creation_date":1583944511,"answer_id":60640685,"question_id":605696,"body_markdown":"return new File(Uri.parse(url).getPath()).getName()","title":"Get file name from URL","body":"<p>return new File(Uri.parse(url).getPath()).getName()</p>\n"},{"tags":[],"owner":{"account_id":16018762,"reputation":108,"user_id":11560736,"display_name":"AnilF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658347203,"creation_date":1658347203,"answer_id":73057493,"question_id":605696,"body_markdown":"String fileNameWithExtension = url.substring( url.lastIndexOf(&#39;/&#39;)+1);\r\n\r\nString fileNameWithoutExtension = fileNameWithExtension.substring(0, fileNameWithExtension.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<p>String fileNameWithExtension = url.substring( url.lastIndexOf('/')+1);</p>\n<p>String fileNameWithoutExtension = fileNameWithExtension.substring(0, fileNameWithExtension.lastIndexOf('.'));</p>\n"},{"tags":[],"owner":{"account_id":28154175,"reputation":1,"user_id":21515151,"display_name":"Sticky Bandit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680060877,"creation_date":1680060706,"answer_id":75872895,"question_id":605696,"body_markdown":"All these answers are either too much code or don&#39;t address if the url ends in a / or what if it ends in a ///.\r\nThis is what I used.  And I send it into a chooser save dialog so &quot;&quot; just means they have to type in a name.\r\n\r\n    if(remoteURL!=null) {\r\n      String[] urlParts=remoteURL.split(&quot;/&quot;);\r\n      String filename=urlParts[urlParts.length-1];\r\n    }","title":"Get file name from URL","body":"<p>All these answers are either too much code or don't address if the url ends in a / or what if it ends in a ///.\nThis is what I used.  And I send it into a chooser save dialog so &quot;&quot; just means they have to type in a name.</p>\n<pre><code>if(remoteURL!=null) {\n  String[] urlParts=remoteURL.split(&quot;/&quot;);\n  String filename=urlParts[urlParts.length-1];\n}\n</code></pre>\n"}],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251202,"favorite_count":0,"down_vote_count":1,"up_vote_count":178,"accepted_answer_id":17167743,"answer_count":29,"score":177,"last_activity_date":1680060877,"creation_date":1236072265,"question_id":605696,"body_markdown":"In Java, given a `java.net.URL` or a `String` in the form of `http://www.example.com/some/path/to/a/file.xml` , what is the easiest way to get the file name, minus the extension? So, in this example, I&#39;m looking for something that returns `&quot;file&quot;`. \r\n\r\nI can think of several ways to do this, but I&#39;m looking for something that&#39;s easy to read and short.","title":"Get file name from URL","body":"<p>In Java, given a <code>java.net.URL</code> or a <code>String</code> in the form of <code>http://www.example.com/some/path/to/a/file.xml</code> , what is the easiest way to get the file name, minus the extension? So, in this example, I'm looking for something that returns <code>\"file\"</code>. </p>\n\n<p>I can think of several ways to do this, but I'm looking for something that's easy to read and short.</p>\n"},{"tags":["java","spring","gradle","compilation","querydsl"],"owner":{"account_id":27295548,"reputation":11,"user_id":20813230,"display_name":"박민규"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680059723,"creation_date":1680057958,"question_id":75872681,"body_markdown":"inteliJ 2022.3.2\r\ngradle 7.6 version\r\n\r\n\\&lt;build.gradle\\&gt;\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.3&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\r\n    }\r\n    \r\n    group = &#39;heyuniverse&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n        querydsl.extendsFrom compileClasspath\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    //    implementation &#39;ch.pete.appconfig:appconfig:0.1.0&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n        implementation group: &#39;org.javassist&#39;, name: &#39;javassist&#39;, version: &#39;3.15.0-GA&#39;\r\n    \r\n        // === QueryDsl\r\n        implementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n        annotationProcessor &quot;com.querydsl:querydsl-apt:${dependencyManagement.importedProperties[&#39;querydsl.version&#39;]}:jakarta&quot;\r\n    //    annotationProcessor &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n        annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\r\n        annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\r\n    \r\n        //JWT\r\n        implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-api&#39;, version: &#39;0.11.2&#39;\r\n        runtimeOnly group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-impl&#39;, version: &#39;0.11.2&#39;\r\n        runtimeOnly group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-jackson&#39;, version: &#39;0.11.2&#39;\r\n    \r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    def querydslDir = &quot;$buildDir/generated/querydsl&quot;\r\n    \r\n    \r\n    clean {\r\n        delete file(&quot;build/generated&quot;)\r\n    }\r\n    \r\n    querydsl {\r\n        library = &quot;com.querydsl:querydsl-apt&quot;\r\n        jpa = true\r\n        querydslSourcesDir = querydslDir\r\n    }\r\n    \r\n    sourceSets {\r\n        main.java.srcDir querydslDir\r\n    }\r\n    \r\n    compileQuerydsl {\r\n        options.annotationProcessorPath = configurations.querydsl\r\n    }\r\n\r\nI am developing a web application using the above development environment. \r\n\r\nI am able to create and run QClasses using compileQuerydsl locally, but when I try to build using gradle to create a jar file for deployment, I encounter the following error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    \r\n    \r\n    Compilation failed; see the compiler error output for details.\r\n    \r\n    Try:\r\n    Run with --stacktrace option to get the stack trace.\r\n    \r\n    \r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Get more help at https://help.gradle.org\r\n    BUILD FAILED in 4s\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n\r\nI have tried various solutions, but I haven&#39;t been able to find a solution. Could you please advise me on what might be causing the issue? Thank you so much in advance.\r\n\r\nI have tried various methods such as modifying the script in different ways and clearing the caches of IDE and Gradle, but I have not been able to obtain any results.\r\n","title":"An error occurs during the build process in a spring project","body":"<p>inteliJ 2022.3.2\ngradle 7.6 version</p>\n<p>&lt;build.gradle&gt;</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.3'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\n}\n\ngroup = 'heyuniverse'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    querydsl.extendsFrom compileClasspath\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n//    implementation 'ch.pete.appconfig:appconfig:0.1.0'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    implementation group: 'org.javassist', name: 'javassist', version: '3.15.0-GA'\n\n    // === QueryDsl\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    annotationProcessor &quot;com.querydsl:querydsl-apt:${dependencyManagement.importedProperties['querydsl.version']}:jakarta&quot;\n//    annotationProcessor 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n    annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\n    annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\n\n    //JWT\n    implementation group: 'io.jsonwebtoken', name: 'jjwt-api', version: '0.11.2'\n    runtimeOnly group: 'io.jsonwebtoken', name: 'jjwt-impl', version: '0.11.2'\n    runtimeOnly group: 'io.jsonwebtoken', name: 'jjwt-jackson', version: '0.11.2'\n\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ndef querydslDir = &quot;$buildDir/generated/querydsl&quot;\n\n\nclean {\n    delete file(&quot;build/generated&quot;)\n}\n\nquerydsl {\n    library = &quot;com.querydsl:querydsl-apt&quot;\n    jpa = true\n    querydslSourcesDir = querydslDir\n}\n\nsourceSets {\n    main.java.srcDir querydslDir\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n</code></pre>\n<p>I am developing a web application using the above development environment.</p>\n<p>I am able to create and run QClasses using compileQuerydsl locally, but when I try to build using gradle to create a jar file for deployment, I encounter the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':compileJava'.\n\n\nCompilation failed; see the compiler error output for details.\n\nTry:\nRun with --stacktrace option to get the stack trace.\n\n\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nGet more help at https://help.gradle.org\nBUILD FAILED in 4s\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n</code></pre>\n<p>I have tried various solutions, but I haven't been able to find a solution. Could you please advise me on what might be causing the issue? Thank you so much in advance.</p>\n<p>I have tried various methods such as modifying the script in different ways and clearing the caches of IDE and Gradle, but I have not been able to obtain any results.</p>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1421597851,"post_id":28011888,"comment_id":44411027,"body_markdown":"Do you right-click on a folder that is one of the source roots ot test source roots folder of the project?","body":"Do you right-click on a folder that is one of the source roots ot test source roots folder of the project?"},{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":0,"creation_date":1421598154,"post_id":28011888,"comment_id":44411140,"body_markdown":"Added a screenshot @BranislavLazic.","body":"Added a screenshot @BranislavLazic."},{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":0,"creation_date":1421598181,"post_id":28011888,"comment_id":44411151,"body_markdown":"@JBNizet see screenshot, think i&#39;m doing it correctly as this is how it worked in RubyMines","body":"@JBNizet see screenshot, think i&#39;m doing it correctly as this is how it worked in RubyMines"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1421598350,"post_id":28011888,"comment_id":44411212,"body_markdown":"Given the color of the folder, it&#39;s not a sources root folder. Read Bohuslav Burghardt&#39;s answer.","body":"Given the color of the folder, it&#39;s not a sources root folder. Read Bohuslav Burghardt&#39;s answer."}],"answers":[{"comments":[{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":0,"creation_date":1421598309,"post_id":28011967,"comment_id":44411192,"body_markdown":"Awesome that worked, can&#39;t tick it yet as you were too quick! Will do it in a few minutes :)","body":"Awesome that worked, can&#39;t tick it yet as you were too quick! Will do it in a few minutes :)"}],"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1421599584,"creation_date":1421598130,"answer_id":28011967,"question_id":28011888,"body_markdown":"IntelliJ will offer the option to create new class in the new menu, only if you right click within the part of your project structure, which is marked as Sources root or Test sources root.\r\n\r\nIn your case, right click the `src/main` directory in the project structure view and select *Mark directory As/Sources Root*. That should fix it.\r\n\r\n---\r\n\r\nAlso, Gradle expects Java classes to be placed in `src/main/java` (and test Java classes in `src/test/java`) by default. I think that if you followed this convention, IntelliJ would mark those folders as (Test) Sources Root automatically. So maybe it would be better solution to adjust your project structure according to this convention.\r\n\r\nHere is a quote from [Gradle guide][1] regarding this issue:\r\n\r\n&gt; Gradle expects to find your production source code under src/main/java\r\n&gt; and your test source code under src/test/java\r\n\r\n\r\n  [1]: http://www.gradle.org/docs/current/userguide/tutorial_java_projects.html","title":"IntelliJ how do I generate a new class?","body":"<p>IntelliJ will offer the option to create new class in the new menu, only if you right click within the part of your project structure, which is marked as Sources root or Test sources root.</p>\n\n<p>In your case, right click the <code>src/main</code> directory in the project structure view and select <em>Mark directory As/Sources Root</em>. That should fix it.</p>\n\n<hr>\n\n<p>Also, Gradle expects Java classes to be placed in <code>src/main/java</code> (and test Java classes in <code>src/test/java</code>) by default. I think that if you followed this convention, IntelliJ would mark those folders as (Test) Sources Root automatically. So maybe it would be better solution to adjust your project structure according to this convention.</p>\n\n<p>Here is a quote from <a href=\"http://www.gradle.org/docs/current/userguide/tutorial_java_projects.html\">Gradle guide</a> regarding this issue:</p>\n\n<blockquote>\n  <p>Gradle expects to find your production source code under src/main/java\n  and your test source code under src/test/java</p>\n</blockquote>\n"}],"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16384,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":28011967,"answer_count":1,"score":10,"last_activity_date":1680059492,"creation_date":1421597673,"question_id":28011888,"body_markdown":"When I go to my project structure and right click -&gt; new, I only see new file/folder etc... but no class generation or packages. How do I get IntelliJ to do this? (I have Intellij 14 Ultimate - see image below)\r\n\r\n![intellij][1]\r\n\r\n  [1]: http://i.stack.imgur.com/x3Luh.png","title":"IntelliJ how do I generate a new class?","body":"<p>When I go to my project structure and right click -> new, I only see new file/folder etc... but no class generation or packages. How do I get IntelliJ to do this? (I have Intellij 14 Ultimate - see image below)</p>\n\n<p><img src=\"https://i.stack.imgur.com/x3Luh.png\" alt=\"intellij\"></p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":1791896,"reputation":2154,"user_id":1632075,"accept_rate":100,"display_name":"Maddy"},"score":1,"creation_date":1352376612,"post_id":13288735,"comment_id":18118401,"body_markdown":"What&#39;s the value given for ${java.home}?","body":"What&#39;s the value given for ${java.home}?"},{"owner":{"account_id":27595,"reputation":1973,"user_id":72985,"accept_rate":100,"display_name":"groodt"},"score":0,"creation_date":1352376973,"post_id":13288735,"comment_id":18118537,"body_markdown":"Are you running Maven from the command line or in an IDE like Eclipse or IntelliJ?","body":"Are you running Maven from the command line or in an IDE like Eclipse or IntelliJ?"},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352377617,"post_id":13288735,"comment_id":18118810,"body_markdown":"@metalmadz JAVA_HOME is environment variable","body":"@metalmadz JAVA_HOME is environment variable"},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352377643,"post_id":13288735,"comment_id":18118825,"body_markdown":"@cuberoot, i am running it from within the Eclipse","body":"@cuberoot, i am running it from within the Eclipse"},{"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"score":0,"creation_date":1352378287,"post_id":13288735,"comment_id":18119134,"body_markdown":"I have always avoided placing the JDK/JREs in directories containing spaces (cf. &quot;Program Files&quot;) as that has been known to mess with Maven. Perhaps give that a try?","body":"I have always avoided placing the JDK/JREs in directories containing spaces (cf. &quot;Program Files&quot;) as that has been known to mess with Maven. Perhaps give that a try?"}],"answers":[{"tags":[],"owner":{"account_id":27595,"reputation":1973,"user_id":72985,"accept_rate":100,"display_name":"groodt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352378045,"creation_date":1352378045,"answer_id":13289242,"question_id":13288735,"body_markdown":"Sounds like you are running Maven in Eclipse. Eclipse does not consult JAVA_HOME.\r\n\r\nMake sure you have set your JRE in Eclipse preferences to your desired JDK.","title":"Maven not picking JAVA_HOME correctly","body":"<p>Sounds like you are running Maven in Eclipse. Eclipse does not consult JAVA_HOME.</p>\n\n<p>Make sure you have set your JRE in Eclipse preferences to your desired JDK.</p>\n"},{"tags":[],"owner":{"account_id":1791896,"reputation":2154,"user_id":1632075,"accept_rate":100,"display_name":"Maddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352378710,"creation_date":1352378710,"answer_id":13289356,"question_id":13288735,"body_markdown":"It seems your JAVA_HOME is set to point to the JRE in eclipse.","title":"Maven not picking JAVA_HOME correctly","body":"<p>It seems your JAVA_HOME is set to point to the JRE in eclipse.</p>\n"},{"comments":[{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352443108,"post_id":13295026,"comment_id":18142467,"body_markdown":"i know i should never use system scope dependencies but as i communicated in my question, when i don&#39;t mention the tools.jar in dependency maven starts complaining for missing artifact &quot;com.sun:tools:jar:1.4.2&quot;.","body":"i know i should never use system scope dependencies but as i communicated in my question, when i don&#39;t mention the tools.jar in dependency maven starts complaining for missing artifact &quot;com.sun:tools:jar:1.4.2&quot;."},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352444360,"post_id":13295026,"comment_id":18142840,"body_markdown":"Below is the output of mvn -v \n\nC:\\&gt;mvn -v\nApache Maven 3.0.3 (r1075438; 2011-02-28 23:01:09+0530)\nMaven home: C:\\Custom Programs\\apache-maven-3.0.3\\bin\\..\nJava version: 1.6.0_26, vendor: Sun Microsystems Inc.\nJava home: C:\\Program Files\\Java\\jdk1.6.0_26\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows xp&quot;, version: &quot;5.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;","body":"Below is the output of mvn -v   C:\\&gt;mvn -v Apache Maven 3.0.3 (r1075438; 2011-02-28 23:01:09+0530) Maven home: C:\\Custom Programs\\apache-maven-3.0.3\\bin\\.. Java version: 1.6.0_26, vendor: Sun Microsystems Inc. Java home: C:\\Program Files\\Java\\jdk1.6.0_26\\jre Default locale: en_US, platform encoding: Cp1252 OS name: &quot;windows xp&quot;, version: &quot;5.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;"}],"tags":[],"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1352492246,"creation_date":1352397868,"answer_id":13295026,"question_id":13288735,"body_markdown":"You should NEVER use system scope dependencies. All the code in tools.jar will be available just via the running JVM already. You should remove this dependency altogether.. \r\n\r\nAlso in order to check what runtime Maven is using just call\r\n\r\n    mvn -v\r\n\r\nIf you are still having a dependency to the tools jar as a problem, one of the dependencies you added has that dependency (and it is really bad quality). To find out which one it is run \r\n \r\n    mvn dependency:tree\r\n\r\nor if that fails just remove one dependency after another until the problems is gone for the command above. \r\n\r\nThen, when you know where it comes from you can decide what to do next. One path would be to use an exclusion on the dependency that pull tools in.","title":"Maven not picking JAVA_HOME correctly","body":"<p>You should NEVER use system scope dependencies. All the code in tools.jar will be available just via the running JVM already. You should remove this dependency altogether.. </p>\n\n<p>Also in order to check what runtime Maven is using just call</p>\n\n<pre><code>mvn -v\n</code></pre>\n\n<p>If you are still having a dependency to the tools jar as a problem, one of the dependencies you added has that dependency (and it is really bad quality). To find out which one it is run </p>\n\n<pre><code>mvn dependency:tree\n</code></pre>\n\n<p>or if that fails just remove one dependency after another until the problems is gone for the command above. </p>\n\n<p>Then, when you know where it comes from you can decide what to do next. One path would be to use an exclusion on the dependency that pull tools in.</p>\n"},{"tags":[],"owner":{"account_id":35226,"reputation":9468,"user_id":99691,"accept_rate":40,"display_name":"gordy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360022888,"creation_date":1360022888,"answer_id":14698032,"question_id":13288735,"body_markdown":"When you add the JAVA_HOME environment variable, if there are spaces in the path you must wrap the whole thing in quotes.","title":"Maven not picking JAVA_HOME correctly","body":"<p>When you add the JAVA_HOME environment variable, if there are spaces in the path you must wrap the whole thing in quotes.</p>\n"},{"comments":[{"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"score":0,"creation_date":1398095124,"post_id":23129154,"comment_id":35487446,"body_markdown":"Is there a link for the Eclipse Maven bug related to this?","body":"Is there a link for the Eclipse Maven bug related to this?"},{"owner":{"account_id":56734,"reputation":23064,"user_id":169947,"accept_rate":62,"display_name":"Ken Williams"},"score":0,"creation_date":1402086394,"post_id":23129154,"comment_id":37154932,"body_markdown":"What&#39;s the analog of `javaw.exe` in a Linux environment?  `jre/bin/` has a `java` and a `javaws`, but no `javaw`.","body":"What&#39;s the analog of <code>javaw.exe</code> in a Linux environment?  <code>jre&#47;bin&#47;</code> has a <code>java</code> and a <code>javaws</code>, but no <code>javaw</code>."},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":1,"creation_date":1416565669,"post_id":23129154,"comment_id":42633165,"body_markdown":"On a Mac/Linux the path would be smth like `/&lt;your_path_to_jdk170&gt;/jre/bin/java`","body":"On a Mac/Linux the path would be smth like <code>&#47;&lt;your_path_to_jdk170&gt;&#47;jre&#47;bin&#47;java</code>"},{"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"score":0,"creation_date":1418378912,"post_id":23129154,"comment_id":43322014,"body_markdown":"Works perfectly thanks. Garry, you could accept this ;)","body":"Works perfectly thanks. Garry, you could accept this ;)"},{"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"score":1,"creation_date":1491912279,"post_id":23129154,"comment_id":73753846,"body_markdown":"Seems this issues still exists? The same error I got today, and your answer really helped. So, is this issues in existence, even after 4+ years? What exactly is this error?","body":"Seems this issues still exists? The same error I got today, and your answer really helped. So, is this issues in existence, even after 4+ years? What exactly is this error?"},{"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"score":2,"creation_date":1554480820,"post_id":23129154,"comment_id":97782435,"body_markdown":"Five years after this answer this bug is still there (now is 2019-04-05).  I also want to note that be very careful with the path. 1) do not use double quotes around the string. 2) Use forward slash even in windows. 3) Use the jvm.dll 4) make sure you point to `jdk.../jre/...`.  5) as @Daniel Fern&#225;ndez has pointed out, need a line break after -vm (and not --vm!) For me the winning path is this `C:/Program Files/Java/jdk1.8.0_201/jre/bin/server/jvm.dll`","body":"Five years after this answer this bug is still there (now is 2019-04-05).  I also want to note that be very careful with the path. 1) do not use double quotes around the string. 2) Use forward slash even in windows. 3) Use the jvm.dll 4) make sure you point to <code>jdk...&#47;jre&#47;...</code>.  5) as @Daniel Fern&#225;ndez has pointed out, need a line break after -vm (and not --vm!) For me the winning path is this <code>C:&#47;Program Files&#47;Java&#47;jdk1.8.0_201&#47;jre&#47;bin&#47;server&#47;jvm.dll</code>"}],"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"comment_count":6,"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1423581414,"creation_date":1397726288,"answer_id":23129154,"question_id":13288735,"body_markdown":"It&#39;s a bug in the Eclipse Maven support. Eclipse doesn&#39;t support all of the global Maven properties as per the [**Maven specs**][1].\r\n\r\n  [1]: http://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide\r\n\r\nAccording to the specs:\r\n\r\n&gt; ${java.home} specifies the path to the current JRE_HOME environment\r\n&gt; use with relative paths to get for example\r\n\r\nAt least in Eclipse 4.3.1 that is not the case, here `java.home` always points to the *JRE that was used to launch Eclipse*, not the build JRE.\r\n\r\nTo fix the issue you need to start Eclipse using the JRE from the JDK by adding something like this to `eclipse.ini` (*before* `-vmargs`!):\r\n\r\n    -vm\r\n    C:/&lt;your_path_to_jdk170&gt;/jre/bin/server/jvm.dll\r\n\r\n","title":"Maven not picking JAVA_HOME correctly","body":"<p>It's a bug in the Eclipse Maven support. Eclipse doesn't support all of the global Maven properties as per the <a href=\"http://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide\"><strong>Maven specs</strong></a>.</p>\n\n<p>According to the specs:</p>\n\n<blockquote>\n  <p>${java.home} specifies the path to the current JRE_HOME environment\n  use with relative paths to get for example</p>\n</blockquote>\n\n<p>At least in Eclipse 4.3.1 that is not the case, here <code>java.home</code> always points to the <em>JRE that was used to launch Eclipse</em>, not the build JRE.</p>\n\n<p>To fix the issue you need to start Eclipse using the JRE from the JDK by adding something like this to <code>eclipse.ini</code> (<em>before</em> <code>-vmargs</code>!):</p>\n\n<pre><code>-vm\nC:/&lt;your_path_to_jdk170&gt;/jre/bin/server/jvm.dll\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"score":0,"creation_date":1607551291,"post_id":26483355,"comment_id":115312243,"body_markdown":"This answer is still accurate 6 years later (for Eclipse 2020-09)! In my case, the run configuration setting was the faulty one.","body":"This answer is still accurate 6 years later (for Eclipse 2020-09)! In my case, the run configuration setting was the faulty one."}],"tags":[],"owner":{"account_id":5159476,"reputation":21,"user_id":4131642,"display_name":"Alejandro"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413883851,"creation_date":1413883851,"answer_id":26483355,"question_id":13288735,"body_markdown":"Maven ${java.home} property is set and taken from different places depending your Eclipse execution: \r\n\r\n - from the default JRE selected for the workspace\r\n&gt; Window&gt;Preferences&gt;Java&gt;Installed JREs\r\n\r\n - from the specific Eclipse project, \r\n\r\n     &gt; Java Build Path&gt;Libraries&gt;JRE System Library\r\n\r\n - from the Run configuration.\r\n\r\n     &gt;Run Configurations&gt; Specific Run Configuration &gt; JRE\r\n\r\nRemember your JRE home paths points to a JDK or JRE under JDK\r\n\r\n","title":"Maven not picking JAVA_HOME correctly","body":"<p>Maven ${java.home} property is set and taken from different places depending your Eclipse execution: </p>\n\n<ul>\n<li><p>from the default JRE selected for the workspace</p>\n\n<blockquote>\n  <p>Window>Preferences>Java>Installed JREs</p>\n</blockquote></li>\n<li><p>from the specific Eclipse project, </p>\n\n<blockquote>\n  <p>Java Build Path>Libraries>JRE System Library</p>\n</blockquote></li>\n<li><p>from the Run configuration.</p>\n\n<blockquote>\n  <p>Run Configurations> Specific Run Configuration > JRE</p>\n</blockquote></li>\n</ul>\n\n<p>Remember your JRE home paths points to a JDK or JRE under JDK</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484869586,"creation_date":1484869586,"answer_id":41753759,"question_id":13288735,"body_markdown":"You might be using the wrong Maven installation. Switch it in Window &gt; Preferences &gt; Maven &gt; Installations. I had mine set to the Fedora Maven install; changing it back to the default (the version embedded in m2e) fixed the problem for me.\r\n\r\nI suspect what was causing this issue is that the Fedora Maven install was using Fedora&#39;s OpenJDK, which probably puts tools.jar in a weird location (everything about Fedora&#39;s OpenJDK is weird and non-standard), so Maven can&#39;t find it.","title":"Maven not picking JAVA_HOME correctly","body":"<p>You might be using the wrong Maven installation. Switch it in Window > Preferences > Maven > Installations. I had mine set to the Fedora Maven install; changing it back to the default (the version embedded in m2e) fixed the problem for me.</p>\n\n<p>I suspect what was causing this issue is that the Fedora Maven install was using Fedora's OpenJDK, which probably puts tools.jar in a weird location (everything about Fedora's OpenJDK is weird and non-standard), so Maven can't find it.</p>\n"},{"tags":[],"owner":{"account_id":191465,"reputation":2509,"user_id":432053,"accept_rate":60,"display_name":"Vijay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580404722,"creation_date":1580404722,"answer_id":59991263,"question_id":13288735,"body_markdown":"Also look in the .mavenrc file in your home dir. \r\nThis caught me off guard. \r\n\r\nI changed everything as suggested only to find that my .mavenrc file set the JAVA_HOME to an older version. ","title":"Maven not picking JAVA_HOME correctly","body":"<p>Also look in the .mavenrc file in your home dir. \nThis caught me off guard. </p>\n\n<p>I changed everything as suggested only to find that my .mavenrc file set the JAVA_HOME to an older version. </p>\n"},{"tags":[],"owner":{"account_id":2453,"reputation":3435,"user_id":3419,"accept_rate":50,"display_name":"Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631818381,"creation_date":1631818381,"answer_id":69213726,"question_id":13288735,"body_markdown":"Check to see if you have a .mavenrc file, it may be forcing JAVA_HOME to be something other that what is set in the environment variable.","title":"Maven not picking JAVA_HOME correctly","body":"<p>Check to see if you have a .mavenrc file, it may be forcing JAVA_HOME to be something other that what is set in the environment variable.</p>\n"},{"tags":[],"owner":{"account_id":25613331,"reputation":41,"user_id":19386384,"display_name":"Carlos Eduardo Gorges"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680057082,"creation_date":1680057082,"answer_id":75872615,"question_id":13288735,"body_markdown":"it&#39;s just a bug in maven support for eclipse. You can ignore this error for now.\r\n\r\nThe support for local dependencies will be discontinued in near future, I think the maven developers understand this approach is not the best way to resolve this, but we know that exists some proprietary jars (like db2&#39;s JDBC driver license) that never will resided in a public repository ...","title":"Maven not picking JAVA_HOME correctly","body":"<p>it's just a bug in maven support for eclipse. You can ignore this error for now.</p>\n<p>The support for local dependencies will be discontinued in near future, I think the maven developers understand this approach is not the best way to resolve this, but we know that exists some proprietary jars (like db2's JDBC driver license) that never will resided in a public repository ...</p>\n"}],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71908,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":23129154,"answer_count":10,"score":35,"last_activity_date":1680057082,"creation_date":1352376209,"question_id":13288735,"body_markdown":"I am on windows environment and using maven to compile my project. Although I just created the project and added the dependencies for various libararies.\r\n\r\nAs I added them maven started complaining for the missing `tools.jar`, so i added below to my `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen i ran the maven install, i got an error for the missing jar as below :\r\n\r\n    [ERROR] Failed to execute goal on project GApp: Could not resolve dependencies for project GApp:GApp:war:0.0.1-SNAPSHOT: Could not find artifact com.sun:tools:jar:1.6 at specified path C:\\Program Files\\Java\\jre6\\lib\\tools.jar -&gt; [Help 1]\r\n\r\nThe issue is that the `tools.jar` is in &quot;`C:\\Program Files\\Java\\jdk1.6.0_26\\lib`&quot; and is correctly set in the `JAVA_HOME` environment variable but the maven is still looking in jre folder as in error message &quot;`C:\\Program Files\\Java\\jre6\\lib\\tools.jar`&quot;.\r\n\r\n    C:\\&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk1.6.0_26\r\n\r\n**Interestingly**: when i set the full path in dependency, it worked just fine. But i don&#39;t want to hard code it.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan someone suggest any dynamic solution for this?","title":"Maven not picking JAVA_HOME correctly","body":"<p>I am on windows environment and using maven to compile my project. Although I just created the project and added the dependencies for various libararies.</p>\n\n<p>As I added them maven started complaining for the missing <code>tools.jar</code>, so i added below to my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun&lt;/groupId&gt;\n  &lt;artifactId&gt;tools&lt;/artifactId&gt;\n  &lt;version&gt;1.6&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When i ran the maven install, i got an error for the missing jar as below :</p>\n\n<pre><code>[ERROR] Failed to execute goal on project GApp: Could not resolve dependencies for project GApp:GApp:war:0.0.1-SNAPSHOT: Could not find artifact com.sun:tools:jar:1.6 at specified path C:\\Program Files\\Java\\jre6\\lib\\tools.jar -&gt; [Help 1]\n</code></pre>\n\n<p>The issue is that the <code>tools.jar</code> is in \"<code>C:\\Program Files\\Java\\jdk1.6.0_26\\lib</code>\" and is correctly set in the <code>JAVA_HOME</code> environment variable but the maven is still looking in jre folder as in error message \"<code>C:\\Program Files\\Java\\jre6\\lib\\tools.jar</code>\".</p>\n\n<pre><code>C:\\&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.6.0_26\n</code></pre>\n\n<p><strong>Interestingly</strong>: when i set the full path in dependency, it worked just fine. But i don't want to hard code it.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun&lt;/groupId&gt;\n  &lt;artifactId&gt;tools&lt;/artifactId&gt;\n  &lt;version&gt;1.6&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can someone suggest any dynamic solution for this?</p>\n"},{"tags":["java","mysql","spring-boot","jenkins","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680056748,"creation_date":1680056748,"answer_id":75872596,"question_id":75870191,"body_markdown":"Seems to me like perhaps your Spring code is trying to connect to some **local** MySQL instance? i.e. your `application-test.properties` Spring config is not using a remote server? `mysql -h` has nothing to do with your `mvn test` command... \r\n\r\nIn any case, connecting to external instances for tests is not recommended (for the exact reason you are seeing - if the database is unavailable for any reason, you cannot deploy anything).  If your Jenkins instances have Docker available, you can use [TestContainers](https://www.testcontainers.org/modules/databases/jdbc/) to start/run/stop a whole database server as part of your tests. \r\n\r\nOtherwise, depending on your test coverage needs, you can mock the Spring Repository objects and query results, and trust that the library you&#39;re really using at runtime will always do the correct thing. ","title":"Not able to run spring boot mvn test cases while using MySQL DB on Jenkins server","body":"<p>Seems to me like perhaps your Spring code is trying to connect to some <strong>local</strong> MySQL instance? i.e. your <code>application-test.properties</code> Spring config is not using a remote server? <code>mysql -h</code> has nothing to do with your <code>mvn test</code> command...</p>\n<p>In any case, connecting to external instances for tests is not recommended (for the exact reason you are seeing - if the database is unavailable for any reason, you cannot deploy anything).  If your Jenkins instances have Docker available, you can use <a href=\"https://www.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">TestContainers</a> to start/run/stop a whole database server as part of your tests.</p>\n<p>Otherwise, depending on your test coverage needs, you can mock the Spring Repository objects and query results, and trust that the library you're really using at runtime will always do the correct thing.</p>\n"}],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680056748,"creation_date":1680030685,"question_id":75870191,"body_markdown":"I am new to the Jenkins server and am currently testing it out. However, I am encountering an error with the following scenario:\r\n\r\nI have a Spring Boot application with a MySQL database, and I am attempting to run a test case on the Jenkins server. Unfortunately, the Jenkins server is unable to connect to the MySQL database.\r\n\r\nTo troubleshoot the issue, I am adding the following step for testing purposes:\r\n\r\n    stage(&#39;Run the test cases&#39;){\r\n     \tsteps{\r\n     \twithCredentials([usernamePassword(credentialsId: &#39;4a632d56-baf5-4455-90fe-21e6823f58f1&#39;, passwordVariable: &#39;password&#39;, usernameVariable: &#39;user&#39;)]) {\r\n            sh &quot;mysql connection&quot;\r\n            sh &quot;mysql -h 192.168.112.2 -umaninder -pmaninder&quot;\r\n            sh &quot;connection testing done&quot;\r\n            sh &quot;mvn test&quot;\r\n        }\r\n     \t}\r\n    }\r\n\r\nI have mentioned the IP address of the machine on which my MySQL Server is installed and I am able to connect with MySQL DB if I use the same command on Jenkins machine terminal but somehow here it is getting failed.\r\n\r\n**Error:\r\nERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/run/mysqld/mysqld.sock&#39; (2)**\r\n\r\nAny help would be really appeciated:","title":"Not able to run spring boot mvn test cases while using MySQL DB on Jenkins server","body":"<p>I am new to the Jenkins server and am currently testing it out. However, I am encountering an error with the following scenario:</p>\n<p>I have a Spring Boot application with a MySQL database, and I am attempting to run a test case on the Jenkins server. Unfortunately, the Jenkins server is unable to connect to the MySQL database.</p>\n<p>To troubleshoot the issue, I am adding the following step for testing purposes:</p>\n<pre><code>stage('Run the test cases'){\n    steps{\n    withCredentials([usernamePassword(credentialsId: '4a632d56-baf5-4455-90fe-21e6823f58f1', passwordVariable: 'password', usernameVariable: 'user')]) {\n        sh &quot;mysql connection&quot;\n        sh &quot;mysql -h 192.168.112.2 -umaninder -pmaninder&quot;\n        sh &quot;connection testing done&quot;\n        sh &quot;mvn test&quot;\n    }\n    }\n}\n</code></pre>\n<p>I have mentioned the IP address of the machine on which my MySQL Server is installed and I am able to connect with MySQL DB if I use the same command on Jenkins machine terminal but somehow here it is getting failed.</p>\n<p><strong>Error:\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/run/mysqld/mysqld.sock' (2)</strong></p>\n<p>Any help would be really appeciated:</p>\n"},{"tags":["javascript","python","java","selenium-webdriver","robotframework"],"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680055875,"creation_date":1679910654,"question_id":75854316,"body_markdown":"How to perform localization testing on MAC OS.\r\n\r\nI am running the below code to change the browser local to arabic language in windows system and it is working fine but same code I am using on MAC system it is opening the web page in English language only.\r\n         \r\n```\r\n*** Settings ***\r\n    Documentation    Tests to check Rendering of webApps\r\n    Library    SeleniumLibrary\r\n    Resource     ../../../../../resources/commonFunctionality.robot\r\n    \r\n    *** Variables ***\r\n    ${googleF}     https://google.com\r\n\r\n    ${g1}      صور  \r\n    \r\n    *** Test Cases ***\r\n    \r\n    Arabic_Fragment_Win_WebApps_Rendering\r\n         [Documentation]     Test to check  websites are rendering in Arabic language\r\n         [Tags]     261FARAC\r\n          Open brower go to url google.com\r\n          Validate that google page is render in specified language\r\n          close browser\r\n    \r\n    *** Keywords ***\r\n    Open brower go to url google.com\r\n        ${options}=    Evaluate    sys.modules[&#39;selenium.webdriver&#39;].ChromeOptions()    sys, selenium.webdriver\r\n        #Call Method    ${options}    add_argument    --headless\r\n        Call Method    ${options}    add_argument    --no-sandbox\r\n        Call Method    ${options}    add_argument    --disable-dev-shm-usage\r\n        Call Method    ${options}    add_argument    --lang\\=ar\r\n        Create WebDriver    Chrome    chrome_options=${options}\r\n        go to    ${googleF}\r\n        maximize browser window\r\n        sleep  12 seconds\r\n    \r\n    Validate that google page is render in specified language\r\n        ${googlevalidation}=    get text     xpath://a[text()=&#39;صور&#39;]\r\n        log to console      ${googlevalidation}\r\n        should be equal as strings      ${g1}      ${googlevalidation}\r\n    \r\n```\r\n   ","title":"Localization testing in MAC system with selenium and robot framework","body":"<p>How to perform localization testing on MAC OS.</p>\n<p>I am running the below code to change the browser local to arabic language in windows system and it is working fine but same code I am using on MAC system it is opening the web page in English language only.</p>\n<pre><code>*** Settings ***\n    Documentation    Tests to check Rendering of webApps\n    Library    SeleniumLibrary\n    Resource     ../../../../../resources/commonFunctionality.robot\n    \n    *** Variables ***\n    ${googleF}     https://google.com\n\n    ${g1}      صور  \n    \n    *** Test Cases ***\n    \n    Arabic_Fragment_Win_WebApps_Rendering\n         [Documentation]     Test to check  websites are rendering in Arabic language\n         [Tags]     261FARAC\n          Open brower go to url google.com\n          Validate that google page is render in specified language\n          close browser\n    \n    *** Keywords ***\n    Open brower go to url google.com\n        ${options}=    Evaluate    sys.modules['selenium.webdriver'].ChromeOptions()    sys, selenium.webdriver\n        #Call Method    ${options}    add_argument    --headless\n        Call Method    ${options}    add_argument    --no-sandbox\n        Call Method    ${options}    add_argument    --disable-dev-shm-usage\n        Call Method    ${options}    add_argument    --lang\\=ar\n        Create WebDriver    Chrome    chrome_options=${options}\n        go to    ${googleF}\n        maximize browser window\n        sleep  12 seconds\n    \n    Validate that google page is render in specified language\n        ${googlevalidation}=    get text     xpath://a[text()='صور']\n        log to console      ${googlevalidation}\n        should be equal as strings      ${g1}      ${googlevalidation}\n    \n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"score":0,"creation_date":1683524794,"post_id":75872462,"comment_id":134374200,"body_markdown":"I got this working","body":"I got this working"}],"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680054939,"creation_date":1680054939,"question_id":75872462,"body_markdown":"I&#39;m displaying times into a table in thymeleaf that have a Long id, SQL Date time, and Long user which holds the ID of a user who selects the time.\r\n```\r\n&lt;table&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt; ID &lt;/th&gt;\r\n            &lt;th&gt; Date &lt;/th&gt;\r\n            &lt;th&gt; User &lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr th:if=&quot;${times.empty}&quot;&gt;\r\n            &lt;td colspan=&quot;2&quot;&gt; No Times Available &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr th:each=&quot;time : ${times}&quot;&gt;\r\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/add_time_user}&quot; th:object=&quot;${time}&quot; method=&quot;post&quot;&gt;\r\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.id}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.time}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Select&quot; /&gt;&lt;/td&gt;\r\n            &lt;/form&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```\r\n[image of times in html table](https://i.stack.imgur.com/zGr79.png)\r\n\r\nThe thing I&#39;m having a problem with is adding the time to a user that selects it. I&#39;m using this PostMapping to try to add a time to a user by getting them from the database by the username from their auth and then adding the time to user and saving it.\r\n```\r\n@PostMapping(&quot;/add_time_user&quot;)\r\npublic String addTime(Authentication authentication, Time time) {\r\n    if (authentication != null) {\r\n        User user = userService.getUser(authentication.getName());\r\n        user.setTime(time.getTime());\r\n    }\r\n    System.out.println(time.getId());\r\n    System.out.println(authentication.getName());\r\n\r\n    return &quot;redirect:/times&quot;;\r\n}\r\n```\r\nWhen I tried this though, the time was always null but I was able to retrieve the user. I don&#39;t know if I&#39;m sending the data the right way but the registration for a user sends the user data to a different url and then processes it, so I thought I&#39;d try it with this.\r\n\r\nI also looked into another selection option but it was a drop down and I&#39;m looking for using the button next to the item in a list.","title":"How do I select an item from a table or ordered list in thymeleaf and assign a value from the list to a user?","body":"<p>I'm displaying times into a table in thymeleaf that have a Long id, SQL Date time, and Long user which holds the ID of a user who selects the time.</p>\n<pre><code>&lt;table&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt; ID &lt;/th&gt;\n            &lt;th&gt; Date &lt;/th&gt;\n            &lt;th&gt; User &lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr th:if=&quot;${times.empty}&quot;&gt;\n            &lt;td colspan=&quot;2&quot;&gt; No Times Available &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr th:each=&quot;time : ${times}&quot;&gt;\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/add_time_user}&quot; th:object=&quot;${time}&quot; method=&quot;post&quot;&gt;\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.id}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.time}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Select&quot; /&gt;&lt;/td&gt;\n            &lt;/form&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zGr79.png\" rel=\"nofollow noreferrer\">image of times in html table</a></p>\n<p>The thing I'm having a problem with is adding the time to a user that selects it. I'm using this PostMapping to try to add a time to a user by getting them from the database by the username from their auth and then adding the time to user and saving it.</p>\n<pre><code>@PostMapping(&quot;/add_time_user&quot;)\npublic String addTime(Authentication authentication, Time time) {\n    if (authentication != null) {\n        User user = userService.getUser(authentication.getName());\n        user.setTime(time.getTime());\n    }\n    System.out.println(time.getId());\n    System.out.println(authentication.getName());\n\n    return &quot;redirect:/times&quot;;\n}\n</code></pre>\n<p>When I tried this though, the time was always null but I was able to retrieve the user. I don't know if I'm sending the data the right way but the registration for a user sends the user data to a different url and then processes it, so I thought I'd try it with this.</p>\n<p>I also looked into another selection option but it was a drop down and I'm looking for using the button next to the item in a list.</p>\n"},{"tags":["java","google-bigquery"],"owner":{"account_id":28153595,"reputation":1,"user_id":21514663,"display_name":"Tresmail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680054916,"creation_date":1680054916,"question_id":75872460,"body_markdown":"Get the key and values of a record/struct from a Bigquery Java result. \r\n\r\n\r\n\r\n```\r\n\t\tBigQuery bigquery = BigQueryOptions.newBuilder()\r\n\t\t    .setCredentials(credentials)\r\n\t\t    .build()\r\n\t\t    .getService();\r\n\r\n\r\n\t\tQueryJobConfiguration queryConfig =\r\n\t\t    QueryJobConfiguration.newBuilder(\r\n\t\t        &quot;SELECT * FROM `table` LIMIT 2&quot;)\r\n\t\t    \t.setUseLegacySql(false)\r\n\t\t        .build();\r\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n        Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\n    \r\n        queryJob = queryJob.waitFor();\r\n    \r\n        if (queryJob == null) {\r\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\r\n        } \r\n        else if (queryJob.getStatus().getError() != null) {\r\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\r\n        }\r\n        TableResult result = queryJob.getQueryResults();\r\n\t\tfor (FieldValueList row : result.iterateAll()) {\r\n\t\t\t  FieldValue tFieldValue = row.get(&quot;fieldwithRecords&quot;);\r\n\t\t\t  FieldValueList tRow = tFieldValue.getRecordValue();\r\n}\r\n```\r\nI can&#39;t find any functionality within the Bigquery API that allows you to find the key and value pairs. I&#39;ve looked at the schema:\r\n`\t\tSchema schema = result.getSchema(); `, and it does show that the value is indeed returning as a record with repeated fields.","title":"Get the key value pair of record fields","body":"<p>Get the key and values of a record/struct from a Bigquery Java result.</p>\n<pre><code>        BigQuery bigquery = BigQueryOptions.newBuilder()\n            .setCredentials(credentials)\n            .build()\n            .getService();\n\n\n        QueryJobConfiguration queryConfig =\n            QueryJobConfiguration.newBuilder(\n                &quot;SELECT * FROM `table` LIMIT 2&quot;)\n                .setUseLegacySql(false)\n                .build();\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\n        Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\n    \n        queryJob = queryJob.waitFor();\n    \n        if (queryJob == null) {\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\n        } \n        else if (queryJob.getStatus().getError() != null) {\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\n        }\n        TableResult result = queryJob.getQueryResults();\n        for (FieldValueList row : result.iterateAll()) {\n              FieldValue tFieldValue = row.get(&quot;fieldwithRecords&quot;);\n              FieldValueList tRow = tFieldValue.getRecordValue();\n}\n</code></pre>\n<p>I can't find any functionality within the Bigquery API that allows you to find the key and value pairs. I've looked at the schema:\n<code>      Schema schema = result.getSchema();</code>, and it does show that the value is indeed returning as a record with repeated fields.</p>\n"},{"tags":["java","firefox","selenium","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1416518666,"post_id":27049597,"comment_id":42617148,"body_markdown":"You just forgot the // in front of the div but it worked once I made that correction!  Thank you!","body":"You just forgot the // in front of the div but it worked once I made that correction!  Thank you!"},{"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"score":0,"creation_date":1416519003,"post_id":27049597,"comment_id":42617331,"body_markdown":"@user2150250 Ah, man, you&#39;re right.  Sorry about that.  Fixed.","body":"@user2150250 Ah, man, you&#39;re right.  Sorry about that.  Fixed."},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1416519305,"post_id":27049597,"comment_id":42617489,"body_markdown":"No problem.  It&#39;s not like you have the page source to work with so little typos like that are understandable when you can&#39;t test.","body":"No problem.  It&#39;s not like you have the page source to work with so little typos like that are understandable when you can&#39;t test."},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1416849569,"post_id":27049597,"comment_id":42723787,"body_markdown":"It&#39;s throwing an exception when `expectedText` includes single quotes. I tried escaping them with backslashes to no avail. Is there any way to be able to use single quotes in the `expectedText`?","body":"It&#39;s throwing an exception when <code>expectedText</code> includes single quotes. I tried escaping them with backslashes to no avail. Is there any way to be able to use single quotes in the <code>expectedText</code>?"},{"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"score":0,"creation_date":1416850117,"post_id":27049597,"comment_id":42724124,"body_markdown":"@user2150250  I found this:  http://stackoverflow.com/questions/12403870/how-to-escape-single-quote-in-xslt-substring-function  -  I hope it&#39;s useful.","body":"@user2150250  I found this:  <a href=\"http://stackoverflow.com/questions/12403870/how-to-escape-single-quote-in-xslt-substring-function\" title=\"how to escape single quote in xslt substring function\">stackoverflow.com/questions/12403870/&hellip;</a>  -  I hope it&#39;s useful."},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1416850923,"post_id":27049597,"comment_id":42724632,"body_markdown":"I tried replacing an apostrophe with `&amp;apos;` but that didn&#39;t work either.  Do you think it&#39;s just not possible?","body":"I tried replacing an apostrophe with <code>&amp;apos;</code> but that didn&#39;t work either.  Do you think it&#39;s just not possible?"},{"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"score":0,"creation_date":1416851980,"post_id":27049597,"comment_id":42725251,"body_markdown":"@user2150250 Give this a try:  &quot;//div[contains(text(),&quot;+expectedText+&quot;)]&quot;  - I think removing the single quotes from around the `expectedText` might work.   - See http://stackoverflow.com/questions/13482352/xquery-looking-for-text-with-single-quote","body":"@user2150250 Give this a try:  &quot;//div[contains(text(),&quot;+expectedText+&quot;)]&quot;  - I think removing the single quotes from around the <code>expectedText</code> might work.   - See <a href=\"http://stackoverflow.com/questions/13482352/xquery-looking-for-text-with-single-quote\" title=\"xquery looking for text with single quote\">stackoverflow.com/questions/13482352/&hellip;</a>"},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1416852595,"post_id":27049597,"comment_id":42725566,"body_markdown":"Yeah I had actually tried that before posting that first comment to you, and unfortunately that didn&#39;t work either. It&#39;s so strange that the xpath is so sensitive to the use of single quotes.  Any other ideas?  I may just post this as a separate question so I can get more eyes on it.","body":"Yeah I had actually tried that before posting that first comment to you, and unfortunately that didn&#39;t work either. It&#39;s so strange that the xpath is so sensitive to the use of single quotes.  Any other ideas?  I may just post this as a separate question so I can get more eyes on it."},{"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"score":0,"creation_date":1416853252,"post_id":27049597,"comment_id":42725923,"body_markdown":"@user2150250 I had a thought, but don&#39;t know how practical it is.  Say you have a string &quot;foo&#39;bar&quot;.  You could split the string on the single quote so you have `expectedText=&quot;foo&quot;` and `expectedText2=&quot;bar&quot;`.  Then if `expectedText2` isn&#39;t `null` or equal to &quot;&quot;, you could build a different `findElement` that had a selector like this:  `//div[contains(.,&quot;expectedText&quot;) and contains(.,&quot;expectedText2&quot;)]`  -  I don&#39;t feel it&#39;s a terribly great solution, but it&#39;s the best I can come up with at this point.","body":"@user2150250 I had a thought, but don&#39;t know how practical it is.  Say you have a string &quot;foo&#39;bar&quot;.  You could split the string on the single quote so you have <code>expectedText=&quot;foo&quot;</code> and <code>expectedText2=&quot;bar&quot;</code>.  Then if <code>expectedText2</code> isn&#39;t <code>null</code> or equal to &quot;&quot;, you could build a different <code>findElement</code> that had a selector like this:  <code>&#47;&#47;div[contains(.,&quot;expectedText&quot;) and contains(.,&quot;expectedText2&quot;)]</code>  -  I don&#39;t feel it&#39;s a terribly great solution, but it&#39;s the best I can come up with at this point."},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1416854834,"post_id":27049597,"comment_id":42726820,"body_markdown":"Wait did post an answer to this exact question a month ago in a post at this link: stackoverflow.com/questions/26242120/… ? Why did they down-vote you for this? It&#39;s a great question. But yeah, I was thinking along the same lines with the splitting and and&#39;ing. It&#39;s not the most elegant but it may be the only way unfortunately ...","body":"Wait did post an answer to this exact question a month ago in a post at this link: stackoverflow.com/questions/26242120/… ? Why did they down-vote you for this? It&#39;s a great question. But yeah, I was thinking along the same lines with the splitting and and&#39;ing. It&#39;s not the most elegant but it may be the only way unfortunately ..."}],"tags":[],"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"comment_count":10,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1416518972,"creation_date":1416517730,"answer_id":27049597,"question_id":27049514,"body_markdown":"`By.className` is looking for a class with the name entered.\r\n\r\n`By.cssSelector` is looking for a match for the selector you entered.\r\n\r\nWhat you&#39;re attempting is to match the text of the `div` against `class`, which won&#39;t work.\r\n\r\nYou can try something like this:\r\n\r\n    driver.findElement(By.xpath(&quot;//div[contains(text(),&#39;&quot;+expectedText+&quot;&#39;)]&quot;)).click();","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p><code>By.className</code> is looking for a class with the name entered.</p>\n\n<p><code>By.cssSelector</code> is looking for a match for the selector you entered.</p>\n\n<p>What you're attempting is to match the text of the <code>div</code> against <code>class</code>, which won't work.</p>\n\n<p>You can try something like this:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(text(),'\"+expectedText+\"')]\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5359948,"reputation":1,"user_id":4271532,"display_name":"Anthony Long"},"comment_count":0,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1545220521,"creation_date":1416517762,"answer_id":27049609,"question_id":27049514,"body_markdown":"I believe this will work:\r\n\r\n    driver.findElement(By.className(&quot;x-grid3-cell-inner x-grid3-col-expRepCol&quot;).click();\r\n","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p>I believe this will work:</p>\n\n<pre><code>driver.findElement(By.className(\"x-grid3-cell-inner x-grid3-col-expRepCol\").click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15496633,"reputation":3080,"user_id":11179336,"display_name":"Ajeet Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1680054824,"creation_date":1562035419,"answer_id":56844649,"question_id":27049514,"body_markdown":"    &lt;div class=&quot;dd algo algo-sr Sr&quot; data-937=&quot;5d1abd07c5a33&quot;&gt;\r\n    &lt;div class=&quot;dd algo algo-sr fst Sr&quot; data-0ab=&quot;5d1abd837d907&quot;&gt;\r\n\r\nThe above 2 are the HTML elements in yahoo search results. So if we wanna get these elements using a partial class name with selenium python, here is the solution.\r\n    \r\n    # for selenium old version:\r\n    driver.find_element_by_css_selector(&quot;div[class^=&#39;dd algo algo-sr&#39;]&quot;)\r\n\r\n    # for selenium new version\r\n    driver.find_element(By.CSS_SELECTOR, &quot;div[class^=&#39;dd algo algo-sr&#39;]&quot;)\r\nIn the same way, we can get any elements with a partial match on any attribute values like class name, id, etc.\r\n\r\nfind elements with css selector partial match on attribute values:\r\n[![find elements with css selector partial match on attribute values][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/jbq1z.jpg","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<pre><code>&lt;div class=&quot;dd algo algo-sr Sr&quot; data-937=&quot;5d1abd07c5a33&quot;&gt;\n&lt;div class=&quot;dd algo algo-sr fst Sr&quot; data-0ab=&quot;5d1abd837d907&quot;&gt;\n</code></pre>\n<p>The above 2 are the HTML elements in yahoo search results. So if we wanna get these elements using a partial class name with selenium python, here is the solution.</p>\n<pre><code># for selenium old version:\ndriver.find_element_by_css_selector(&quot;div[class^='dd algo algo-sr']&quot;)\n\n# for selenium new version\ndriver.find_element(By.CSS_SELECTOR, &quot;div[class^='dd algo algo-sr']&quot;)\n</code></pre>\n<p>In the same way, we can get any elements with a partial match on any attribute values like class name, id, etc.</p>\n<p>find elements with css selector partial match on attribute values:\n<a href=\"https://i.stack.imgur.com/jbq1z.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jbq1z.jpg\" alt=\"find elements with css selector partial match on attribute values\" /></a></p>\n"}],"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32407,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27049597,"answer_count":3,"score":8,"last_activity_date":1680054824,"creation_date":1416517338,"question_id":27049514,"body_markdown":"In the frame I&#39;m working with, I have the following element:\r\n\r\n    &lt;div class=&quot;x-grid3-cell-inner x-grid3-col-expRepCol&quot;&gt;  New session from client IP 192.168.5.3 (ST=/CC=/C=) at VIP 192.168.5.2 Listener /Common/Tomcat (Reputation=Unknown)&lt;/div&gt;\r\n\r\nAs well as many other similar elements.  I am trying to locate this element by partial name text and click it with the following code:\r\n\r\n    String expectedText = &quot;New session from client IP&quot;;\r\n    driver.findElement(By.className(&quot;div[class*=&#39;&quot;+expectedText+&quot;&#39;]&quot;)).click();\r\n\r\nAnd I have also tried with cssSelector:\r\n\r\n    String expectedText = &quot;New session from client IP&quot;;\r\n    driver.findElement(By.cssSelector(&quot;div[class*=&#39;&quot;+expectedText+&quot;&#39;]&quot;)).click();\r\n\r\nBut WebDriver keeps throwing an exception stating it&#39;s unable to locate that element.  Any suggestions as to what could be the problem?","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p>In the frame I'm working with, I have the following element:</p>\n\n<pre><code>&lt;div class=\"x-grid3-cell-inner x-grid3-col-expRepCol\"&gt;  New session from client IP 192.168.5.3 (ST=/CC=/C=) at VIP 192.168.5.2 Listener /Common/Tomcat (Reputation=Unknown)&lt;/div&gt;\n</code></pre>\n\n<p>As well as many other similar elements.  I am trying to locate this element by partial name text and click it with the following code:</p>\n\n<pre><code>String expectedText = \"New session from client IP\";\ndriver.findElement(By.className(\"div[class*='\"+expectedText+\"']\")).click();\n</code></pre>\n\n<p>And I have also tried with cssSelector:</p>\n\n<pre><code>String expectedText = \"New session from client IP\";\ndriver.findElement(By.cssSelector(\"div[class*='\"+expectedText+\"']\")).click();\n</code></pre>\n\n<p>But WebDriver keeps throwing an exception stating it's unable to locate that element.  Any suggestions as to what could be the problem?</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1680088470,"post_id":75872435,"comment_id":133836832,"body_markdown":"You don&#39;t seem to have created a Docker network; see [How to communicate between Docker containers via &quot;hostname&quot;](https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname/35184695#35184695).  `localhost` in Docker is almost always the current container and not another container or the host system and you probably need a `docker run -e SPRING_DATASOURCE_URL=...` option to point your application container at the database.","body":"You don&#39;t seem to have created a Docker network; see <a href=\"https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname/35184695#35184695\">How to communicate between Docker containers via &quot;hostname&quot;</a>.  <code>localhost</code> in Docker is almost always the current container and not another container or the host system and you probably need a <code>docker run -e SPRING_DATASOURCE_URL=...</code> option to point your application container at the database."}],"owner":{"account_id":23530222,"reputation":23,"user_id":17575988,"display_name":"Stoyan Grozdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680054636,"creation_date":1680054636,"question_id":75872435,"body_markdown":"I am making a java spring boot application and I am having difficulties setting up the database.\r\n\r\nthis is my docker set up:\r\n\r\n\r\n```\r\n pull docker image \r\n\r\n $ docker pull mysql:latest\r\n\r\n $ docker run --name dev-mysql -e MYSQL_ROOT_PASSWORD=pass123 -d mysql:latest\r\n \r\n now mysql server is running now let us pull the phpmyadmin and create the container\r\n\r\n $ docker pull phpmyadmin/phpmyadmin:latest\r\n\r\n $ docker run --name dev-phpmyadmin -d --link dev-mysql:db -p 7098:80 phpmyadmin/phpmyadmin\r\n```\r\nand this is my application.properties: \r\n\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:7098/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=pass123\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n\r\n```\r\nEvery time I run the program I get this:\r\n\r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.example.FitnessApplication.main(FitnessApplication.java:10) ~[main/:na]\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nI tried deleting and creating the containers again and based on the error the problem is in the connection not in the code.","title":"The driver has not received any packets from the server","body":"<p>I am making a java spring boot application and I am having difficulties setting up the database.</p>\n<p>this is my docker set up:</p>\n<pre><code> pull docker image \n\n $ docker pull mysql:latest\n\n $ docker run --name dev-mysql -e MYSQL_ROOT_PASSWORD=pass123 -d mysql:latest\n \n now mysql server is running now let us pull the phpmyadmin and create the container\n\n $ docker pull phpmyadmin/phpmyadmin:latest\n\n $ docker run --name dev-phpmyadmin -d --link dev-mysql:db -p 7098:80 phpmyadmin/phpmyadmin\n</code></pre>\n<p>and this is my application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:7098/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=pass123\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n\n</code></pre>\n<p>Every time I run the program I get this:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.example.FitnessApplication.main(FitnessApplication.java:10) ~[main/:na]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>I tried deleting and creating the containers again and based on the error the problem is in the connection not in the code.</p>\n"},{"tags":["java","maven","evosuite"],"answers":[{"tags":[],"owner":{"account_id":11323030,"reputation":89,"user_id":8302867,"display_name":"Rakesh Mahendrakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524078824,"creation_date":1524078824,"answer_id":49907385,"question_id":49883301,"body_markdown":"I guess you are looking at parameters which will be used to generate unit tests using maven:\r\nI use below maven command for me to generate and test\r\n\r\n    mvn clean compile -DmemoryInMB=2000 -Dcores=4 -DtimeInMinutesPerClass=10 evosuite:generate test\r\n\r\nAbove command should be able to generate the tests and execute. \r\n\r\nYou can refer to this article if you need more information on the Evosuite with Maven http://www.evosuite.org/documentation/maven-plugin/","title":"How to pass EvoSuite parameters when using Maven?","body":"<p>I guess you are looking at parameters which will be used to generate unit tests using maven:\nI use below maven command for me to generate and test</p>\n\n<pre><code>mvn clean compile -DmemoryInMB=2000 -Dcores=4 -DtimeInMinutesPerClass=10 evosuite:generate test\n</code></pre>\n\n<p>Above command should be able to generate the tests and execute. </p>\n\n<p>You can refer to this article if you need more information on the Evosuite with Maven <a href=\"http://www.evosuite.org/documentation/maven-plugin/\" rel=\"nofollow noreferrer\">http://www.evosuite.org/documentation/maven-plugin/</a></p>\n"}],"owner":{"account_id":10952630,"reputation":357,"user_id":8048523,"display_name":"ttk203"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680054292,"creation_date":1523982972,"question_id":49883301,"body_markdown":"When generating tests cases with Evosuite we can pass parameters several parameters, e.g.:\r\n\r\n\r\n    $ java -jar evosuite-1.0.6.jar -listParameters\r\n    ...\r\n    sandbox              boolean        true               Execute tests in a sandbox environment\r\n    sandbox_mode         SandboxMode    RECOMMENDED        Mode in which the sandbox is applied (Values: [OFF, RECOMMENDED\r\n    ...\r\n\r\nNormally those parameters are passed simply by `-D&lt;param&gt;=&lt;value&gt;`.\r\nHowever for my project I&#39;m using Maven and not invoking Evosuite direclty from the command line.\r\n\r\nI tried `mvn -D&lt;param&gt;=&lt;value&gt;` but it doesn&#39;t seem to work. Any idea on how to accomplish that ?\r\n\r\n","title":"How to pass EvoSuite parameters when using Maven?","body":"<p>When generating tests cases with Evosuite we can pass parameters several parameters, e.g.:</p>\n\n<pre><code>$ java -jar evosuite-1.0.6.jar -listParameters\n...\nsandbox              boolean        true               Execute tests in a sandbox environment\nsandbox_mode         SandboxMode    RECOMMENDED        Mode in which the sandbox is applied (Values: [OFF, RECOMMENDED\n...\n</code></pre>\n\n<p>Normally those parameters are passed simply by <code>-D&lt;param&gt;=&lt;value&gt;</code>.\nHowever for my project I'm using Maven and not invoking Evosuite direclty from the command line.</p>\n\n<p>I tried <code>mvn -D&lt;param&gt;=&lt;value&gt;</code> but it doesn't seem to work. Any idea on how to accomplish that ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":416696,"reputation":8975,"user_id":792232,"accept_rate":75,"display_name":"Abhi"},"score":0,"creation_date":1327306678,"post_id":8968687,"comment_id":11233751,"body_markdown":"refer this link http://stackoverflow.com/questions/5332333/android-problem-getting-contacts-photo-from-data-email-query","body":"refer this link <a href=\"http://stackoverflow.com/questions/5332333/android-problem-getting-contacts-photo-from-data-email-query\" title=\"android problem getting contacts photo from data email query\">stackoverflow.com/questions/5332333/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1185553,"reputation":540,"user_id":1159613,"accept_rate":50,"display_name":"Wolf87"},"score":0,"creation_date":1327308166,"post_id":8968740,"comment_id":11234094,"body_markdown":"do I have to put xml like this :\n&lt;ImageView android:id=&quot;@+id/ivSlika&quot;\n\t\tandroid:layout_width=&quot;wrap_content&quot; \n\t\tandroid:layout_height=&quot;wrap_content&quot;\n\t\tandroid:clickable=&quot;true&quot; &gt;\n\t\t&lt;/ImageView&gt;","body":"do I have to put xml like this : &lt;ImageView android:id=&quot;@+id/ivSlika&quot; \t\tandroid:layout_width=&quot;wrap_content&quot;  \t\tandroid:layout_height=&quot;wrap_content&quot; \t\tandroid:clickable=&quot;true&quot; &gt; \t\t&lt;/ImageView&gt;"},{"owner":{"account_id":1185553,"reputation":540,"user_id":1159613,"accept_rate":50,"display_name":"Wolf87"},"score":0,"creation_date":1327308684,"post_id":8968740,"comment_id":11234210,"body_markdown":"because I want to populate listview with contacts names and photos.","body":"because I want to populate listview with contacts names and photos."}],"tags":[],"owner":{"account_id":79683,"reputation":12454,"user_id":225780,"accept_rate":100,"display_name":"Adrian F&#226;ciu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327306767,"creation_date":1327306767,"answer_id":8968740,"question_id":8968687,"body_markdown":"You can use [ContactsContract.Contacts.Photo][1] to get the picture for the specified contact.\r\n\r\nFull example from the above documentation link:\r\n\r\n    public InputStream openDisplayPhoto(long contactId) {\r\n         Uri contactUri = ContentUris.withAppendedId(Contacts.CONTENT_URI, contactId);\r\n         Uri displayPhotoUri = Uri.withAppendedPath(contactUri, Contacts.Photo.DISPLAY_PHOTO);\r\n         try {\r\n             AssetFileDescriptor fd =\r\n                 getContentResolver().openAssetFileDescriptor(displayPhotoUri, &quot;r&quot;);\r\n             return fd.createInputStream();\r\n         } catch (IOException e) {\r\n             return null;\r\n         }\r\n     }\r\n\r\n  [1]: http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html","title":"how to get photo from contacts?","body":"<p>You can use <a href=\"http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html\" rel=\"nofollow\">ContactsContract.Contacts.Photo</a> to get the picture for the specified contact.</p>\n\n<p>Full example from the above documentation link:</p>\n\n<pre><code>public InputStream openDisplayPhoto(long contactId) {\n     Uri contactUri = ContentUris.withAppendedId(Contacts.CONTENT_URI, contactId);\n     Uri displayPhotoUri = Uri.withAppendedPath(contactUri, Contacts.Photo.DISPLAY_PHOTO);\n     try {\n         AssetFileDescriptor fd =\n             getContentResolver().openAssetFileDescriptor(displayPhotoUri, \"r\");\n         return fd.createInputStream();\n     } catch (IOException e) {\n         return null;\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":1185553,"reputation":540,"user_id":1159613,"accept_rate":50,"display_name":"Wolf87"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680053470,"answer_count":1,"score":1,"last_activity_date":1680053479,"creation_date":1327306355,"question_id":8968687,"body_markdown":"I want to get photo from contacts, if some contacts don&#39;t have photo to return default photo(just silhouette), how can I do that?\r\nThanks in advance,\r\nWolf.","title":"how to get photo from contacts?","body":"<p>I want to get photo from contacts, if some contacts don't have photo to return default photo(just silhouette), how can I do that?\nThanks in advance,\nWolf.</p>\n"},{"tags":["java","amazon-web-services","sdk","version"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1680053103,"post_id":75872156,"comment_id":133830292,"body_markdown":"Checking with the SDK team if V2 has an equilivant class.","body":"Checking with the SDK team if V2 has an equilivant class."}],"answers":[{"comments":[{"owner":{"account_id":3460669,"reputation":13,"user_id":9627598,"display_name":"W. Ely Paysinger"},"score":0,"creation_date":1680104138,"post_id":75872348,"comment_id":133841678,"body_markdown":"Thank you! I really don&#39;t know how I missed that being present.","body":"Thank you! I really don&#39;t know how I missed that being present."}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680053457,"creation_date":1680053457,"answer_id":75872348,"question_id":75872156,"body_markdown":"This might be want you are looking for:\r\n\r\n[software.amazon.awssdk.core.util.VersionInfo][1]\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/util/VersionInfo.html","title":"How do I get Java AWS SDK v2 version from code? (ie 2.20.34)","body":"<p>This might be want you are looking for:</p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/util/VersionInfo.html\" rel=\"nofollow noreferrer\">software.amazon.awssdk.core.util.VersionInfo</a></p>\n"}],"owner":{"account_id":3460669,"reputation":13,"user_id":9627598,"display_name":"W. Ely Paysinger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75872348,"answer_count":1,"score":1,"last_activity_date":1680053457,"creation_date":1680050703,"question_id":75872156,"body_markdown":"Same question as [here](https://stackoverflow.com/questions/40617523/how-do-i-get-java-aws-sdk-version-from-code/40734051#40734051) except for this question is for the [v2 sdk](https://sdk.amazonaws.com/java/api/latest/index.html).\r\n\r\n&gt; I have my Java code running in some managed environment that provides AWS SDK. I found out that some methods on classes are unavailable in that environment compared to documentation for recent version of AWS SDK.\r\n&gt; \r\n&gt; Is there a way to programmatically find out version of AWS SDK that is available? Is there any information class that provides such information?\r\n\r\n\r\n\r\nI&#39;ve tried looking in the [Github repo](https://github.com/aws/aws-sdk-java-v2) as well as the [API docs](https://sdk.amazonaws.com/java/api/latest/index.html)  but can&#39;t seem to find it.","title":"How do I get Java AWS SDK v2 version from code? (ie 2.20.34)","body":"<p>Same question as <a href=\"https://stackoverflow.com/questions/40617523/how-do-i-get-java-aws-sdk-version-from-code/40734051#40734051\">here</a> except for this question is for the <a href=\"https://sdk.amazonaws.com/java/api/latest/index.html\" rel=\"nofollow noreferrer\">v2 sdk</a>.</p>\n<blockquote>\n<p>I have my Java code running in some managed environment that provides AWS SDK. I found out that some methods on classes are unavailable in that environment compared to documentation for recent version of AWS SDK.</p>\n<p>Is there a way to programmatically find out version of AWS SDK that is available? Is there any information class that provides such information?</p>\n</blockquote>\n<p>I've tried looking in the <a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">Github repo</a> as well as the <a href=\"https://sdk.amazonaws.com/java/api/latest/index.html\" rel=\"nofollow noreferrer\">API docs</a>  but can't seem to find it.</p>\n"},{"tags":["java","apache-commons-logging"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679956675,"post_id":75860461,"comment_id":133810963,"body_markdown":"Check whether you use `log4j` or `log4j2` as logging api. Depending on that your properties and configuration files may be named differently. https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","body":"Check whether you use <code>log4j</code> or <code>log4j2</code> as logging api. Depending on that your properties and configuration files may be named differently. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680252723,"post_id":75871645,"comment_id":133870209,"body_markdown":"I think you should accept this answer - it&#39;s helpful. I have deleted my answer.","body":"I think you should accept this answer - it&#39;s helpful. I have deleted my answer."}],"tags":[],"owner":{"account_id":17423855,"reputation":694,"user_id":12628951,"display_name":"Jt5"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680043137,"creation_date":1680043137,"answer_id":75871645,"question_id":75860461,"body_markdown":"Thank you to John Williams for his direction- it was very helpful in getting me on the right track.  It did not fully work.  What I ended up doing was the following:\r\n\r\n    -Dlog4j.configuration=&quot;file:/C:/Path/config/log4j.properties&quot;\r\n\r\nSimple- I know- but I was missing the file: in my path.\r\n\r\n","title":"Apache Commons Logging - How to move configuration file to outside the Jar?","body":"<p>Thank you to John Williams for his direction- it was very helpful in getting me on the right track.  It did not fully work.  What I ended up doing was the following:</p>\n<pre><code>-Dlog4j.configuration=&quot;file:/C:/Path/config/log4j.properties&quot;\n</code></pre>\n<p>Simple- I know- but I was missing the file: in my path.</p>\n"}],"owner":{"account_id":17423855,"reputation":694,"user_id":12628951,"display_name":"Jt5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75871645,"answer_count":1,"score":1,"last_activity_date":1680053398,"creation_date":1679952003,"question_id":75860461,"body_markdown":"I have a Java application that uses Apache Commons Logging. Currently the config file for this is in `src/main/resources/`. It runs and logs as I would like. The problem is that this config file gets compiled into the jar file. When it is deployed, this will be an issue. I need to be able to change logging levels etc once deployed. I understand Apache Commons Logging is a &quot;higher level&quot; implementation that actually uses another implementation underneath, in this case it is log4j.  \r\n\r\nI have tried the following to specify a directory named config which will be at the same level as the jar file:\r\n\r\n    static {\r\n       System.setProperty(&quot;log4j.configuration&quot;,&quot;./config/log4j.properties&quot;);\r\n    }\r\n    private Log logger = LogFactory.getLog(MyClass.class);\r\n\r\nI have also tried:\r\n\r\n    -Dlog4j.configuration=file://./config/log4j.properties\r\n\r\nI have tried several variations of the -D, some with file, some without.\r\n\r\nHow do I move the configuration file to outside the Jar?","title":"Apache Commons Logging - How to move configuration file to outside the Jar?","body":"<p>I have a Java application that uses Apache Commons Logging. Currently the config file for this is in <code>src/main/resources/</code>. It runs and logs as I would like. The problem is that this config file gets compiled into the jar file. When it is deployed, this will be an issue. I need to be able to change logging levels etc once deployed. I understand Apache Commons Logging is a &quot;higher level&quot; implementation that actually uses another implementation underneath, in this case it is log4j.</p>\n<p>I have tried the following to specify a directory named config which will be at the same level as the jar file:</p>\n<pre><code>static {\n   System.setProperty(&quot;log4j.configuration&quot;,&quot;./config/log4j.properties&quot;);\n}\nprivate Log logger = LogFactory.getLog(MyClass.class);\n</code></pre>\n<p>I have also tried:</p>\n<pre><code>-Dlog4j.configuration=file://./config/log4j.properties\n</code></pre>\n<p>I have tried several variations of the -D, some with file, some without.</p>\n<p>How do I move the configuration file to outside the Jar?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":27415772,"reputation":1,"user_id":20914989,"display_name":"prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680052460,"creation_date":1680052460,"answer_id":75872276,"question_id":74987912,"body_markdown":"This may not be the exact answer.\r\nI switched my IDE. Using Intellij now. Everything seemed to resolve by itself.\r\nVisual Studio Code is a great IDE. However, I now believe that we need some extra support when building spring-cloud applications. Especially when it comes to new learning.\r\n\r\n","title":"Issue with importing org.springframework.cloud.stream.annotation.Output","body":"<p>This may not be the exact answer.\nI switched my IDE. Using Intellij now. Everything seemed to resolve by itself.\nVisual Studio Code is a great IDE. However, I now believe that we need some extra support when building spring-cloud applications. Especially when it comes to new learning.</p>\n"}],"owner":{"account_id":27415772,"reputation":1,"user_id":20914989,"display_name":"prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680052460,"creation_date":1672702340,"question_id":74987912,"body_markdown":"I am following a book &quot;Hands-On Microservices with Spring Boot and Spring Cloud&quot; by Magnus Larsson. I am using vsCode IDE for coding. With hurdles, I was able to get to 40% of the book.\r\nI am stuck at a point where the vsCode is not able to import the following two classes\r\n\r\n1. org.springframework.cloud.stream.annotation.Output\r\n2. org.springframework.messaging.MessageChannel\r\n\r\nThe Build tool used through out the book is Gradle. As directed, I have added the following in the dependencies in the corresponding project&#39;s build.gradle\r\n\r\n\r\n```\r\n\timplementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-rabbit&#39;)\r\n\timplementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-kafka&#39;)\r\n```\r\n\r\nI also tried adding the following in the cradle-wrapper.properties\r\n  distributionUrl=https\\://github.com/spring-cloud/spring-cloud-release.wiki.git\r\nhowever, it did not help\r\n\r\nHere is a portion of my build.gradle which describes the boot version, java version\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;product-composite-service&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11.0.16.1&#39;\r\n\r\n```\r\n\r\n```\r\next {\r\n\tspringCloudVersion = &quot;2021.0.5.RELEASE&quot;\r\n}\r\n\r\n```\r\n\r\nAlso based on \r\n\r\nThis is the first time I am building a java project with Gradle &amp; vsCode, so, please excuse my ignorance.\r\n\r\n\r\nRegards,\r\nPrakash\r\n\r\n\r\n\r\n\r\nMentioned in the problem.","title":"Issue with importing org.springframework.cloud.stream.annotation.Output","body":"<p>I am following a book &quot;Hands-On Microservices with Spring Boot and Spring Cloud&quot; by Magnus Larsson. I am using vsCode IDE for coding. With hurdles, I was able to get to 40% of the book.\nI am stuck at a point where the vsCode is not able to import the following two classes</p>\n<ol>\n<li>org.springframework.cloud.stream.annotation.Output</li>\n<li>org.springframework.messaging.MessageChannel</li>\n</ol>\n<p>The Build tool used through out the book is Gradle. As directed, I have added the following in the dependencies in the corresponding project's build.gradle</p>\n<pre><code>    implementation('org.springframework.cloud:spring-cloud-starter-stream-rabbit')\n    implementation('org.springframework.cloud:spring-cloud-starter-stream-kafka')\n</code></pre>\n<p>I also tried adding the following in the cradle-wrapper.properties\ndistributionUrl=https://github.com/spring-cloud/spring-cloud-release.wiki.git\nhowever, it did not help</p>\n<p>Here is a portion of my build.gradle which describes the boot version, java version</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.4'\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'java'\n}\n\ngroup = 'product-composite-service'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11.0.16.1'\n\n</code></pre>\n<pre><code>ext {\n    springCloudVersion = &quot;2021.0.5.RELEASE&quot;\n}\n\n</code></pre>\n<p>Also based on</p>\n<p>This is the first time I am building a java project with Gradle &amp; vsCode, so, please excuse my ignorance.</p>\n<p>Regards,\nPrakash</p>\n<p>Mentioned in the problem.</p>\n"},{"tags":["java","ssl-certificate"],"owner":{"account_id":2337062,"reputation":149,"user_id":2049142,"accept_rate":44,"display_name":"user2049142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680052990,"answer_count":0,"score":0,"last_activity_date":1680052069,"creation_date":1680052069,"question_id":75872254,"body_markdown":"I have a simple spring boot web api application using java 20 and I just need to be able to test on localhost/8080. The app works fine; however, talend api tester refuses my requests, asking me if I have a valid certificate instead. Given difficulties with permissions, I created a keystore in a directory under /Home. I assume that I will need to configure my application.properties file, I&#39;m just not sure how to do it. ","title":"How do I configure embedded tomcat server to use self signed certificate?","body":"<p>I have a simple spring boot web api application using java 20 and I just need to be able to test on localhost/8080. The app works fine; however, talend api tester refuses my requests, asking me if I have a valid certificate instead. Given difficulties with permissions, I created a keystore in a directory under /Home. I assume that I will need to configure my application.properties file, I'm just not sure how to do it.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1680054140,"post_id":75871050,"comment_id":133830401,"body_markdown":"Starting with Android 13 and up. You must request runtime authorization to display a message. You must request POST_NOTIFICATIONS access.\n\n&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;","body":"Starting with Android 13 and up. You must request runtime authorization to display a message. You must request POST_NOTIFICATIONS access.  &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680051647,"creation_date":1680051647,"answer_id":75872229,"question_id":75871050,"body_markdown":"Starting from Android 8.0 and above, need to create notification channel before building a notification as follows:\r\n\r\n```\r\nnotificationManager.createNotificationChannel(\r\n            NotificationChannel(\r\n                CHANNEL_ID, CHANNEL_NAME,\r\n                NotificationManager.IMPORTANCE_DEFAULT\r\n            )\r\n        )\r\n```\r\nRead [here](https://developer.android.com/develop/ui/views/notifications/channels)\r\n\r\nFrom Android 13 onwards, request `POST_NOTIFICATIONS` runtime permission. Read [here](https://developer.android.com/develop/ui/views/notifications/notification-permission)","title":"i create an app for notification showing but when i run the app no notifiction is pop","body":"<p>Starting from Android 8.0 and above, need to create notification channel before building a notification as follows:</p>\n<pre><code>notificationManager.createNotificationChannel(\n            NotificationChannel(\n                CHANNEL_ID, CHANNEL_NAME,\n                NotificationManager.IMPORTANCE_DEFAULT\n            )\n        )\n</code></pre>\n<p>Read <a href=\"https://developer.android.com/develop/ui/views/notifications/channels\" rel=\"nofollow noreferrer\">here</a></p>\n<p>From Android 13 onwards, request <code>POST_NOTIFICATIONS</code> runtime permission. Read <a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":18471408,"reputation":5,"user_id":13456203,"display_name":"THE Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680051647,"creation_date":1680037409,"question_id":75871050,"body_markdown":"```\r\npackage com.example.notification;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.res.ResourcesCompat;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nprivate  static final  String CHANNEL_ID =&quot; My channel&quot;;\r\n    private  static final  int  NOTIFICATION_ID= 100;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Drawable drawable= ResourcesCompat.getDrawable(getResources(),R.drawable.handbag,null);\r\n        BitmapDrawable bitmapDrawable= (BitmapDrawable)drawable;\r\n        Bitmap largeIcon = bitmapDrawable.getBitmap();\r\n\r\n\r\n        NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\nNotification notification;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            notification= new Notification.Builder(this)\r\n                    .setLargeIcon(largeIcon)\r\n                    .setSmallIcon(R.drawable.handbag)\r\n                    .setContentText(&quot;new message&quot;)\r\n                    .setSubText(&quot;new message for khan&quot;)\r\n                    .setChannelId(CHANNEL_ID)\r\n                    .build();\r\n            nm.createNotificationChannel((new NotificationChannel(CHANNEL_ID,&quot;New channel&quot;,NotificationManager.IMPORTANCE_HIGH)));\r\n\r\n        } else{\r\n            notification= new Notification.Builder(this)\r\n                    .setLargeIcon(largeIcon)\r\n                    .setSmallIcon(R.drawable.handbag)\r\n                    .setContentText(&quot;new message&quot;)\r\n                    .setSubText(&quot;new message for khan&quot;)\r\n                    .build();\r\n\r\n        }\r\n        nm.notify(NOTIFICATION_ID,notification);\r\n    }\r\n}\r\n```\r\nhere is the code i write \r\n\r\n\r\ncan you please tell me where my code goes wrong it have too show the notification when i open the app but no notification is there ..........................................................................................................................................","title":"i create an app for notification showing but when i run the app no notifiction is pop","body":"<pre><code>package com.example.notification;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.res.ResourcesCompat;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\nprivate  static final  String CHANNEL_ID =&quot; My channel&quot;;\n    private  static final  int  NOTIFICATION_ID= 100;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Drawable drawable= ResourcesCompat.getDrawable(getResources(),R.drawable.handbag,null);\n        BitmapDrawable bitmapDrawable= (BitmapDrawable)drawable;\n        Bitmap largeIcon = bitmapDrawable.getBitmap();\n\n\n        NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\nNotification notification;\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            notification= new Notification.Builder(this)\n                    .setLargeIcon(largeIcon)\n                    .setSmallIcon(R.drawable.handbag)\n                    .setContentText(&quot;new message&quot;)\n                    .setSubText(&quot;new message for khan&quot;)\n                    .setChannelId(CHANNEL_ID)\n                    .build();\n            nm.createNotificationChannel((new NotificationChannel(CHANNEL_ID,&quot;New channel&quot;,NotificationManager.IMPORTANCE_HIGH)));\n\n        } else{\n            notification= new Notification.Builder(this)\n                    .setLargeIcon(largeIcon)\n                    .setSmallIcon(R.drawable.handbag)\n                    .setContentText(&quot;new message&quot;)\n                    .setSubText(&quot;new message for khan&quot;)\n                    .build();\n\n        }\n        nm.notify(NOTIFICATION_ID,notification);\n    }\n}\n</code></pre>\n<p>here is the code i write</p>\n<p>can you please tell me where my code goes wrong it have too show the notification when i open the app but no notification is there ..........................................................................................................................................</p>\n"},{"tags":["java","ansi-escape"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1564623665,"post_id":57299879,"comment_id":101095124,"body_markdown":"Not all Consoles can work with these codes or give unexpected results and therefore it&#39;s basically a waste of time (in my opinion). If you want to add a little pizazz to your console application then perhaps consider displaying a JOptionPane. You can use HTML to format your text whichever way you like.","body":"Not all Consoles can work with these codes or give unexpected results and therefore it&#39;s basically a waste of time (in my opinion). If you want to add a little pizazz to your console application then perhaps consider displaying a JOptionPane. You can use HTML to format your text whichever way you like."},{"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"score":0,"creation_date":1564645311,"post_id":57299879,"comment_id":101101000,"body_markdown":"@DevilsHnd But the plugin says it is for eclipse users and if you look at the image you can clearly see bold/italic and underline examples on eclipse console","body":"@DevilsHnd But the plugin says it is for eclipse users and if you look at the image you can clearly see bold/italic and underline examples on eclipse console"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1564647450,"post_id":57299879,"comment_id":101102153,"body_markdown":"Oh..I&#39;m sorry. I was under the assumption that you wanted to utilize these codes for an application you are developing for anyone to use rather than everyone needing Eclipse for which to properly use the app. I assume you&#39;ve read this [SO Thread](https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes). This sort of thing will always give issues (imho).","body":"Oh..I&#39;m sorry. I was under the assumption that you wanted to utilize these codes for an application you are developing for anyone to use rather than everyone needing Eclipse for which to properly use the app. I assume you&#39;ve read this <a href=\"https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes\">SO Thread</a>. This sort of thing will always give issues (imho)."},{"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"score":0,"creation_date":1564647835,"post_id":57299879,"comment_id":101102370,"body_markdown":"But you can see in the SO Thread link you gave people able to make it work.\nMy problem is that color is working with this plugin on my eclipse console but bold/underline and italic does not and I do not know why or what am I doing wrong","body":"But you can see in the SO Thread link you gave people able to make it work. My problem is that color is working with this plugin on my eclipse console but bold/underline and italic does not and I do not know why or what am I doing wrong"},{"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"score":0,"creation_date":1608509919,"post_id":57299879,"comment_id":115598901,"body_markdown":"I supported, see first screenshot at https://marketplace.eclipse.org/content/ansi-escape-console#group-screenshots. But often the bold font is not very &quot;bold&quot; (and if the plugin is configured &quot;Windows style&quot;, with bold =&gt; intense, that makes it even less visible. Please file a bug if indeed is not bold.","body":"I supported, see first screenshot at <a href=\"https://marketplace.eclipse.org/content/ansi-escape-console#group-screenshots\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/&hellip;</a>. But often the bold font is not very &quot;bold&quot; (and if the plugin is configured &quot;Windows style&quot;, with bold =&gt; intense, that makes it even less visible. Please file a bug if indeed is not bold."}],"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680050914,"creation_date":1564614405,"question_id":57299879,"body_markdown":"I am using eclipse IDE latest version with this plugin:\r\n\r\n[https://github.com/mihnita/ansi-econsole][1]\r\n\r\nor\r\n\r\n[https://mihai-nita.net/java/][2]\r\n\r\nand\r\n\r\n[https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg][3]\r\n\r\nAnd like you can see in the picture the plugin should support **italic/bold/underline** \r\n\r\nBut I can not make it work.\r\nI can not understand why bold, italic and underline does not work I am able to print colored text with ANSI plugin.\r\n\r\nI checked here:\r\n[https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println][4]\r\n\r\n\r\n\r\n\t\tSystem.out.println(&quot;Hello \\u001b[1;31mred\\u001b[0m world!&quot;);\r\n\t\tSystem.out.println(&quot;\\033[0;1m&quot; + &quot;Bold text&quot;);\r\n\t\tSystem.out.println(&quot;\\u001B[1m&quot; + &quot;I am bold&quot;);\r\n\r\n\r\nI want to see italic/underline and bold on console output texts but right now only colors and background colors worth with the plugin\r\n\r\n\r\n  [1]: https://github.com/mihnita/ansi-econsole\r\n  [2]: https://mihai-nita.net/java/\r\n  [3]: https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg\r\n  [4]: https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","title":"Print bold text to console output","body":"<p>I am using eclipse IDE latest version with this plugin:</p>\n\n<p><a href=\"https://github.com/mihnita/ansi-econsole\" rel=\"nofollow noreferrer\">https://github.com/mihnita/ansi-econsole</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://mihai-nita.net/java/\" rel=\"nofollow noreferrer\">https://mihai-nita.net/java/</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg\" rel=\"nofollow noreferrer\">https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg</a></p>\n\n<p>And like you can see in the picture the plugin should support <strong>italic/bold/underline</strong> </p>\n\n<p>But I can not make it work.\nI can not understand why bold, italic and underline does not work I am able to print colored text with ANSI plugin.</p>\n\n<p>I checked here:\n<a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a></p>\n\n<pre><code>    System.out.println(\"Hello \\u001b[1;31mred\\u001b[0m world!\");\n    System.out.println(\"\\033[0;1m\" + \"Bold text\");\n    System.out.println(\"\\u001B[1m\" + \"I am bold\");\n</code></pre>\n\n<p>I want to see italic/underline and bold on console output texts but right now only colors and background colors worth with the plugin</p>\n"},{"tags":["java","sql","spring","postgresql","spring-boot"],"owner":{"account_id":20132331,"reputation":21,"user_id":19057737,"display_name":"dumb163"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680050338,"creation_date":1680049494,"question_id":75872092,"body_markdown":"When I use Post method, i want generate a UUID and add relation with equipment_model, how can I do it?\r\n\r\n**equipment_model**\r\n\r\n*id: Unique identifier*\r\n\r\n*name: Name of equipament model*\r\n\r\n**equipment**\r\n\r\n\r\n*id: Unique identifier equipment*\r\n\r\n*equipment_model_id: foreign key to refer entity equipment_model*\r\n\r\n*name: Name of equipment*\r\n\r\nIm trying that:\r\n\r\n**Equipment  class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;equipment&quot;, schema = &quot;operation&quot;)\r\n    public class Equipment implements Serializable{\r\n    \r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.UUID)\r\n    \tprivate UUID id;\r\n    \t\r\n        @GeneratedValue(strategy = GenerationType.UUID)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;equipment_model_id&quot;, nullable = false)\r\n        private UUID  equipment_model_id;\r\n    \r\n        private String name;\r\n    \r\n    \tpublic UUID getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(UUID id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n        public UUID getEquipment_model_id() {\r\n            return equipment_model_id;\r\n        }\r\n        public void setEquipment_model_id(UUID equipment_model_id) {\r\n            this.equipment_model_id = equipment_model_id;\r\n        }\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n**Equipment_model class**\r\n\r\n    @Entity\r\n    public class Equipment_model implements Serializable{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\n    \tprivate UUID id;\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic UUID getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(UUID id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}    \t\r\n    }\r\n\r\n\r\n**EquipmentResource class:**\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/&quot;)\r\n    @Tag(name = &quot;test&quot;,description = &quot;xd&quot;)\r\n    \r\n    public class EquipmentResource {\r\n    \r\n        @Autowired\r\n        private EquipmentRepository equipmentRepository;\r\n    \r\n        @GetMapping(&quot;/equipments&quot;)\r\n        public List&lt;Equipment&gt; listEquipments(){\r\n            return equipmentRepository.findAll();\r\n        }\r\n    \r\n        @PostMapping(&quot;/post&quot;)\r\n        public Equipment createEquipment(@RequestBody Equipment equipment) {\r\n            equipment.setId(UUID.randomUUID());\r\n            return equipmentRepository.save(equipment);\r\n        }  \r\n    }\r\n\r\n**Equipment repository**\r\n\r\n    public interface EquipmentRepository extends JpaRepository&lt;Equipment,UUID&gt;{\r\n    }\r\n\r\n`ERROR`:   &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [equipment_model_id\\&quot; of relation \\&quot;equipment]&quot;,\r\n\r\n","title":"How can I modify to use PostMapping and add relation with another class?","body":"<p>When I use Post method, i want generate a UUID and add relation with equipment_model, how can I do it?</p>\n<p><strong>equipment_model</strong></p>\n<p><em>id: Unique identifier</em></p>\n<p><em>name: Name of equipament model</em></p>\n<p><strong>equipment</strong></p>\n<p><em>id: Unique identifier equipment</em></p>\n<p><em>equipment_model_id: foreign key to refer entity equipment_model</em></p>\n<p><em>name: Name of equipment</em></p>\n<p>Im trying that:</p>\n<p><strong>Equipment  class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;equipment&quot;, schema = &quot;operation&quot;)\npublic class Equipment implements Serializable{\n\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n    \n    @GeneratedValue(strategy = GenerationType.UUID)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;equipment_model_id&quot;, nullable = false)\n    private UUID  equipment_model_id;\n\n    private String name;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public UUID getEquipment_model_id() {\n        return equipment_model_id;\n    }\n    public void setEquipment_model_id(UUID equipment_model_id) {\n        this.equipment_model_id = equipment_model_id;\n    }\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n}\n</code></pre>\n<p><strong>Equipment_model class</strong></p>\n<pre><code>@Entity\npublic class Equipment_model implements Serializable{\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n\n    private UUID id;\n    private String name;\n    \n    public UUID getId() {\n        return id;\n    }\n    public void setId(UUID id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }       \n}\n</code></pre>\n<p><strong>EquipmentResource class:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/&quot;)\n@Tag(name = &quot;test&quot;,description = &quot;xd&quot;)\n\npublic class EquipmentResource {\n\n    @Autowired\n    private EquipmentRepository equipmentRepository;\n\n    @GetMapping(&quot;/equipments&quot;)\n    public List&lt;Equipment&gt; listEquipments(){\n        return equipmentRepository.findAll();\n    }\n\n    @PostMapping(&quot;/post&quot;)\n    public Equipment createEquipment(@RequestBody Equipment equipment) {\n        equipment.setId(UUID.randomUUID());\n        return equipmentRepository.save(equipment);\n    }  \n}\n</code></pre>\n<p><strong>Equipment repository</strong></p>\n<pre><code>public interface EquipmentRepository extends JpaRepository&lt;Equipment,UUID&gt;{\n}\n</code></pre>\n<p><code>ERROR</code>:   &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [equipment_model_id&quot; of relation &quot;equipment]&quot;,</p>\n"},{"tags":["java","android","datepicker","datepickerdialog"],"comments":[{"owner":{"account_id":6283,"reputation":4942,"user_id":10505,"accept_rate":100,"display_name":"greg7gkb"},"score":0,"creation_date":1328649530,"post_id":8620781,"comment_id":11555728,"body_markdown":"Same issue is being reported by a few of our users (including a Droid x2 user), and we haven&#39;t been able to repro in-house either.","body":"Same issue is being reported by a few of our users (including a Droid x2 user), and we haven&#39;t been able to repro in-house either."},{"owner":{"account_id":957326,"reputation":1010,"user_id":982394,"accept_rate":50,"display_name":"HannahMitt"},"score":0,"creation_date":1339600164,"post_id":8620781,"comment_id":14402025,"body_markdown":"Also repros on the Motorola Razr","body":"Also repros on the Motorola Razr"},{"owner":{"account_id":6283,"reputation":4942,"user_id":10505,"accept_rate":100,"display_name":"greg7gkb"},"score":0,"creation_date":1343674794,"post_id":8620781,"comment_id":15561542,"body_markdown":"Anyone have updates on this?  We&#39;re still getting reports of it in the field... no access to a Razr unfortunately :(","body":"Anyone have updates on this?  We&#39;re still getting reports of it in the field... no access to a Razr unfortunately :("},{"owner":{"account_id":23966,"reputation":276,"user_id":60585,"display_name":"jrg"},"score":0,"creation_date":1387533989,"post_id":8620781,"comment_id":31004829,"body_markdown":"I have a Sony Xperia phone running an Android 4.1.1 which doesn&#39;t offer dates before 1980 in its Date Picker.","body":"I have a Sony Xperia phone running an Android 4.1.1 which doesn&#39;t offer dates before 1980 in its Date Picker."}],"answers":[{"comments":[{"owner":{"account_id":196333,"reputation":5086,"user_id":439716,"accept_rate":100,"display_name":"Telmo Marques"},"score":3,"creation_date":1324677045,"post_id":8620903,"comment_id":10702605,"body_markdown":"Just for reference, this is what&#39;s called &quot;Unix Epoch&quot; or &quot;Unix Time&quot;, and this is just one of the reasons why I try to avoid using it as much as possible. More on the subject here: http://en.wikipedia.org/wiki/Unix_time","body":"Just for reference, this is what&#39;s called &quot;Unix Epoch&quot; or &quot;Unix Time&quot;, and this is just one of the reasons why I try to avoid using it as much as possible. More on the subject here: <a href=\"http://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Unix_time</a>"},{"owner":{"account_id":24103,"reputation":27933,"user_id":61072,"accept_rate":56,"display_name":"esilver"},"score":0,"creation_date":1324678763,"post_id":8620903,"comment_id":10702927,"body_markdown":"While yes, unixtime is frequently the method of time representation on devices, especially for &quot;current&quot; dates (like file modification times), that is not the case for a DatePicker, which has its own internal representation, as per this source here: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.2_r1.1/android/widget/DatePicker.java#DatePicker","body":"While yes, unixtime is frequently the method of time representation on devices, especially for &quot;current&quot; dates (like file modification times), that is not the case for a DatePicker, which has its own internal representation, as per this source here: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.2_r1.1/android/widget/DatePicker.java#DatePicker\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/ext/&hellip;</a>"},{"owner":{"account_id":6283,"reputation":4942,"user_id":10505,"accept_rate":100,"display_name":"greg7gkb"},"score":0,"creation_date":1328651025,"post_id":8620903,"comment_id":11556279,"body_markdown":"We&#39;ve gone with this solution for now, will see how the marketplace responds :)","body":"We&#39;ve gone with this solution for now, will see how the marketplace responds :)"}],"tags":[],"owner":{"account_id":1119582,"reputation":20696,"user_id":1108213,"accept_rate":71,"display_name":"Yury"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324684020,"creation_date":1324676828,"answer_id":8620903,"question_id":8620781,"body_markdown":"Starting date of Android devices starts from Jan 1, 1970. Maybe this can be your case. Android calculates time as a number of milliseconds passed since Jan 1, 1970.\r\n\r\nI&#39;ve found a kind of hack for your case.\r\nHere I create dynamically datePicker:\r\n\r\n         DatePicker dp = new DatePicker(this);\r\n         dp.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));\r\n         v.addView(dp);\r\n\r\nIn the manifest file I declare a custom theme for my application - I want the same theme for the application. By the way you can do the same for activity.\r\n\r\n     &lt;application\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot; \r\n        android:theme=&quot;@style/CustomTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HelloDatePickerActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\nIn a styles.xml I do this:\r\n\r\n    &lt;style name=&quot;CustomTheme&quot; parent=&quot;android:Theme.Light&quot;&gt;\r\n        &lt;item name=&quot;android:startYear&quot;&gt;1890&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nThe default start date in my case is 1900. Thus, for me this approach works.\r\n\r\nHope this will help you!","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>Starting date of Android devices starts from Jan 1, 1970. Maybe this can be your case. Android calculates time as a number of milliseconds passed since Jan 1, 1970.</p>\n\n<p>I've found a kind of hack for your case.\nHere I create dynamically datePicker:</p>\n\n<pre><code>     DatePicker dp = new DatePicker(this);\n     dp.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));\n     v.addView(dp);\n</code></pre>\n\n<p>In the manifest file I declare a custom theme for my application - I want the same theme for the application. By the way you can do the same for activity.</p>\n\n<pre><code> &lt;application\n    android:icon=\"@drawable/ic_launcher\"\n    android:label=\"@string/app_name\" \n    android:theme=\"@style/CustomTheme\"&gt;\n    &lt;activity\n        android:name=\".HelloDatePickerActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>In a styles.xml I do this:</p>\n\n<pre><code>&lt;style name=\"CustomTheme\" parent=\"android:Theme.Light\"&gt;\n    &lt;item name=\"android:startYear\"&gt;1890&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>The default start date in my case is 1900. Thus, for me this approach works.</p>\n\n<p>Hope this will help you!</p>\n"},{"comments":[{"owner":{"account_id":24103,"reputation":27933,"user_id":61072,"accept_rate":56,"display_name":"esilver"},"score":0,"creation_date":1324678492,"post_id":8620981,"comment_id":10702872,"body_markdown":"We don&#39;t have any DatePicker XML. The DatePickerDialog is dynamically constructed. The DatePicker is itself allocated by the DatePickerDialog as per this source here: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.2_r1.1/android/app/DatePickerDialog.java?av=f","body":"We don&#39;t have any DatePicker XML. The DatePickerDialog is dynamically constructed. The DatePicker is itself allocated by the DatePickerDialog as per this source here: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.2_r1.1/android/app/DatePickerDialog.java?av=f\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/ext/&hellip;</a>"},{"owner":{"account_id":196333,"reputation":5086,"user_id":439716,"accept_rate":100,"display_name":"Telmo Marques"},"score":0,"creation_date":1324679199,"post_id":8620981,"comment_id":10703018,"body_markdown":"I can&#39;t seem to find in the docs a way to programmatically set the `startDate` parameter, sorry...","body":"I can&#39;t seem to find in the docs a way to programmatically set the <code>startDate</code> parameter, sorry..."},{"owner":{"account_id":24103,"reputation":27933,"user_id":61072,"accept_rate":56,"display_name":"esilver"},"score":0,"creation_date":1324681429,"post_id":8620981,"comment_id":10703379,"body_markdown":"Per these lines in the DatePicker source:\n\nprivate static final int DEFAULT_START_YEAR = 1900;\n\nI should not have to programmatically set it, and the fact that the Droid x2 was able to do so indicates there is a bug someplace....","body":"Per these lines in the DatePicker source:  private static final int DEFAULT_START_YEAR = 1900;  I should not have to programmatically set it, and the fact that the Droid x2 was able to do so indicates there is a bug someplace...."}],"tags":[],"owner":{"account_id":196333,"reputation":5086,"user_id":439716,"accept_rate":100,"display_name":"Telmo Marques"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324677505,"creation_date":1324677505,"answer_id":8620981,"question_id":8620781,"body_markdown":"I see you already tried something similar, but have you tried setting the following:\r\n\r\n    android:startYear=&quot;1900&quot;\r\n\r\ndirectly on the `DatePicker` XML?\r\n\r\nLike so:\r\n\r\n    &lt;DatePicker\r\n              android:startYear=&quot;1900&quot;\r\n              android:endYear=&quot;2100&quot;\r\n              android:layout_width=&quot;wrap_content&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n    &gt;&lt;/DatePicker&gt;\r\n\r\nReference: http://kevsaidwhat.blogspot.com/2011/10/fun-with-android-datepicker-and-1970.html","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>I see you already tried something similar, but have you tried setting the following:</p>\n\n<pre><code>android:startYear=\"1900\"\n</code></pre>\n\n<p>directly on the <code>DatePicker</code> XML?</p>\n\n<p>Like so:</p>\n\n<pre><code>&lt;DatePicker\n          android:startYear=\"1900\"\n          android:endYear=\"2100\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n&gt;&lt;/DatePicker&gt;\n</code></pre>\n\n<p>Reference: <a href=\"http://kevsaidwhat.blogspot.com/2011/10/fun-with-android-datepicker-and-1970.html\" rel=\"nofollow\">http://kevsaidwhat.blogspot.com/2011/10/fun-with-android-datepicker-and-1970.html</a></p>\n"},{"comments":[{"owner":{"account_id":7247553,"reputation":588,"user_id":5604429,"accept_rate":100,"display_name":"bene25"},"score":0,"creation_date":1679916198,"post_id":23834450,"comment_id":133800792,"body_markdown":"In my case made it simple \nval minDate = Calendar.getInstance().apply {\n                this.set(Calendar.YEAR, 1900)\n            }.timeInMillis\n            datePicker.minDate = minDate","body":"In my case made it simple  val minDate = Calendar.getInstance().apply {                 this.set(Calendar.YEAR, 1900)             }.timeInMillis             datePicker.minDate = minDate"}],"tags":[],"owner":{"account_id":382762,"reputation":437,"user_id":738196,"display_name":"Keilaron"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680048004,"creation_date":1400863273,"answer_id":23834450,"question_id":8620781,"body_markdown":"I realize this question is a little old, and that this answer will not apply to older devices, but I&#39;ve recently been made aware of this issue on a newer device (the **Huawei Mediapad 7 Youth**), so I figured I&#39;d update this with newer information:\r\n\r\nStarting with API 11, the methods necessary to do this are exposed. Remember, while Calendar may use Unix Epoch as zero, Java (at least until ~JRE 8?) uses signed numbers, so negatives are completely acceptable. Thankfully you don&#39;t need to be fully aware of this, as this code runs fine:\r\n\r\n\t// This is API 11!\r\n\ttry {\r\n\t\t// Hack to (try to) force minDate to 1888 instead of 1970.\r\n\t\tDatePicker dp = dialog.getDatePicker();\r\n\t\tCalendar minCal = Calendar.getInstance();\r\n\t\tminCal.set(1888, Calendar.JANUARY, 1, 0, 0, 0);\r\n\t\tdp.setMinDate(minCal.getTimeInMillis());\r\n\r\n\t\tif (maxDate &gt; 0)\r\n\t\t\tdp.setMaxDate(maxDate);\r\n\t} catch (NoSuchMethodError e) {\r\n\t\tLog.w(TAG, &quot;Can&#39;t set min/max dates: device/Android version is too old.&quot;);\r\n\t}\r\n\r\nI used 1888 so that any reports stating this is the minimum will make it clear that the code was executed and not ignored/overridden. I should note I have not yet heard back whether or not this works on the reported device.\r\n\r\nedit: This is an old post. I think I did get confirmation but I don&#39;t remember at this point. Also, instead of try-catch this should likely check the API version instead. I&#39;ve learned much since the days of this post. :)","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>I realize this question is a little old, and that this answer will not apply to older devices, but I've recently been made aware of this issue on a newer device (the <strong>Huawei Mediapad 7 Youth</strong>), so I figured I'd update this with newer information:</p>\n<p>Starting with API 11, the methods necessary to do this are exposed. Remember, while Calendar may use Unix Epoch as zero, Java (at least until ~JRE 8?) uses signed numbers, so negatives are completely acceptable. Thankfully you don't need to be fully aware of this, as this code runs fine:</p>\n<pre><code>// This is API 11!\ntry {\n    // Hack to (try to) force minDate to 1888 instead of 1970.\n    DatePicker dp = dialog.getDatePicker();\n    Calendar minCal = Calendar.getInstance();\n    minCal.set(1888, Calendar.JANUARY, 1, 0, 0, 0);\n    dp.setMinDate(minCal.getTimeInMillis());\n\n    if (maxDate &gt; 0)\n        dp.setMaxDate(maxDate);\n} catch (NoSuchMethodError e) {\n    Log.w(TAG, &quot;Can't set min/max dates: device/Android version is too old.&quot;);\n}\n</code></pre>\n<p>I used 1888 so that any reports stating this is the minimum will make it clear that the code was executed and not ignored/overridden. I should note I have not yet heard back whether or not this works on the reported device.</p>\n<p>edit: This is an old post. I think I did get confirmation but I don't remember at this point. Also, instead of try-catch this should likely check the API version instead. I've learned much since the days of this post. :)</p>\n"},{"tags":[],"owner":{"account_id":2610832,"reputation":6512,"user_id":2260963,"display_name":"Manmohan Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411538796,"creation_date":1411538796,"answer_id":26009686,"question_id":8620781,"body_markdown":"Hi I found the solution for it. you can set the -ve value in the setMinDate() method and it works for me.\r\n\r\n    dp.setMinDate(-1576800000000L);","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>Hi I found the solution for it. you can set the -ve value in the setMinDate() method and it works for me.</p>\n\n<pre><code>dp.setMinDate(-1576800000000L);\n</code></pre>\n"}],"owner":{"account_id":24103,"reputation":27933,"user_id":61072,"accept_rate":56,"display_name":"esilver"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4954,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1680048004,"creation_date":1324675729,"question_id":8620781,"body_markdown":"We have a member reporting that he is unable to set a date before Jan 1, 1970 on our DatePickerDialog. This issue does not repro for us.\r\n\r\nI am already aware that the DatePickerDialog does not expose the setMinDate/setMaxDate functions of the underlying DatePicker, so it would seem that some kind of handset maker-specific modification is affecting the minDate/maxDate.\r\n\r\nThis user reports he is running a Droid x2 on Verizon running 2.2 Froyo. While we believe he is correct in his description of his device model, many users are confused about the OS version, so he may be running 2.3.\r\n\r\nI attempted to solve this problem by adding this theme to my Activity:\r\n\r\n\t&lt;style name=&quot;profile_editor_theme&quot;&gt;\t    \r\n\t\t&lt;item name=&quot;android:endYear&quot;&gt;2025&lt;/item&gt;\r\n\t\t&lt;item name=&quot;android:startYear&quot;&gt;1910&lt;/item&gt;\r\n\t&lt;/style&gt;\r\n\r\nWhile this theme on my activity had the intended effect of constraining the DatePickerDialog on my test devices (a Galaxy tab and an original Motorola Droid), it apparently had no effect for the user. \r\n\r\nThis issue repros for our user 100% of the time, but works correctly for us on our own devices. \r\n\r\nCan anyone explain what might be causing this and how we could fix it? \r\n\r\nI have [filed this bug against Google][1] on this matter.\r\n\r\nThanks!\r\n\r\n\r\n  [1]: http://code.google.com/p/android/issues/detail?id=23481&amp;thanks=23481&amp;ts=1324675034","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>We have a member reporting that he is unable to set a date before Jan 1, 1970 on our DatePickerDialog. This issue does not repro for us.</p>\n\n<p>I am already aware that the DatePickerDialog does not expose the setMinDate/setMaxDate functions of the underlying DatePicker, so it would seem that some kind of handset maker-specific modification is affecting the minDate/maxDate.</p>\n\n<p>This user reports he is running a Droid x2 on Verizon running 2.2 Froyo. While we believe he is correct in his description of his device model, many users are confused about the OS version, so he may be running 2.3.</p>\n\n<p>I attempted to solve this problem by adding this theme to my Activity:</p>\n\n<pre><code>&lt;style name=\"profile_editor_theme\"&gt;     \n    &lt;item name=\"android:endYear\"&gt;2025&lt;/item&gt;\n    &lt;item name=\"android:startYear\"&gt;1910&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>While this theme on my activity had the intended effect of constraining the DatePickerDialog on my test devices (a Galaxy tab and an original Motorola Droid), it apparently had no effect for the user. </p>\n\n<p>This issue repros for our user 100% of the time, but works correctly for us on our own devices. </p>\n\n<p>Can anyone explain what might be causing this and how we could fix it? </p>\n\n<p>I have <a href=\"http://code.google.com/p/android/issues/detail?id=23481&amp;thanks=23481&amp;ts=1324675034\" rel=\"noreferrer\">filed this bug against Google</a> on this matter.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","xml","manifest"],"comments":[{"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"score":0,"creation_date":1533639130,"post_id":51724814,"comment_id":90410198,"body_markdown":"can  you post your Activity xml code","body":"can  you post your Activity xml code"},{"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"score":0,"creation_date":1533639482,"post_id":51724814,"comment_id":90410404,"body_markdown":"Updated @Abhishekkumar","body":"Updated @Abhishekkumar"},{"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"score":0,"creation_date":1533639831,"post_id":51724814,"comment_id":90410630,"body_markdown":"Go with my Answer, sure it will work for you @Emmanuel","body":"Go with my Answer, sure it will work for you @Emmanuel"},{"owner":{"account_id":1353734,"reputation":5840,"user_id":1292557,"accept_rate":65,"display_name":"Abu Yousuf"},"score":0,"creation_date":1533640180,"post_id":51724814,"comment_id":90410831,"body_markdown":"No need to set `Activity` title programatically just set `label` in both `application` and `Activity` tag","body":"No need to set <code>Activity</code> title programatically just set <code>label</code> in both <code>application</code> and <code>Activity</code> tag"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1533640590,"post_id":51724814,"comment_id":90411100,"body_markdown":"I don&#39;t get your question What do you mean by `it changes the application name`? do you mean the name on launcher icon or name on ActionBar ?","body":"I don&#39;t get your question What do you mean by <code>it changes the application name</code>? do you mean the name on launcher icon or name on ActionBar ?"},{"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"score":0,"creation_date":1533640657,"post_id":51724814,"comment_id":90411141,"body_markdown":"Name of the launcher icon @ADM","body":"Name of the launcher icon @ADM"}],"answers":[{"comments":[{"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"score":1,"creation_date":1533638964,"post_id":51724920,"comment_id":90410112,"body_markdown":"Its also a fix! But it doesn&#39;t have to  behave that way . . .","body":"Its also a fix! But it doesn&#39;t have to  behave that way . . ."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1533639752,"post_id":51724920,"comment_id":90410584,"body_markdown":"`because label set only application tag` this is not true . Both labels have different purpose .","body":"<code>because label set only application tag</code> this is not true . Both labels have different purpose ."},{"owner":{"account_id":10559524,"reputation":1790,"user_id":7779712,"display_name":"mehul chauhan"},"score":0,"creation_date":1533639912,"post_id":51724920,"comment_id":90410685,"body_markdown":"@ADM ok you are right we can also used label in activity tag.","body":"@ADM ok you are right we can also used label in activity tag."}],"tags":[],"owner":{"account_id":10559524,"reputation":1790,"user_id":7779712,"display_name":"mehul chauhan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533639863,"creation_date":1533638836,"answer_id":51724920,"question_id":51724814,"body_markdown":"Remove this line from mainfests\r\n\r\n    android:label=&quot;@string/login_screen_label&quot;","title":"Activity android:label change application name","body":"<p>Remove this line from mainfests</p>\n\n<pre><code>android:label=\"@string/login_screen_label\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7733149,"reputation":622,"user_id":5855551,"display_name":"Neha Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533638964,"creation_date":1533638964,"answer_id":51724967,"question_id":51724814,"body_markdown":"    Toolbar toolBar = (Toolbar) findViewById(R.id.toolbar_actionbar);   \r\n    toolbar.setTitle(your label);\r\nif you are using AppTheme with Actionbar like DarkActionbar so you need to setup your toolbar and set title in toolbar as above \r\n    \r\n","title":"Activity android:label change application name","body":"<pre><code>Toolbar toolBar = (Toolbar) findViewById(R.id.toolbar_actionbar);   \ntoolbar.setTitle(your label);\n</code></pre>\n\n<p>if you are using AppTheme with Actionbar like DarkActionbar so you need to setup your toolbar and set title in toolbar as above </p>\n"},{"tags":[],"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533639699,"creation_date":1533639096,"answer_id":51725017,"question_id":51724814,"body_markdown":"You can go with below code inside your `onCreate()`\r\n\r\n    getSupportActionBar().setTitle(&quot;My title&quot;);\r\n\r\nFULL CODE :\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash_screen);\r\n        getSupportActionBar().setTitle(&quot;My title&quot;);\r\n\r\n      }\r\n    }\r\n","title":"Activity android:label change application name","body":"<p>You can go with below code inside your <code>onCreate()</code></p>\n\n<pre><code>getSupportActionBar().setTitle(\"My title\");\n</code></pre>\n\n<p>FULL CODE :</p>\n\n<pre><code>  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_splash_screen);\n    getSupportActionBar().setTitle(\"My title\");\n\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1134918,"reputation":530,"user_id":1120165,"accept_rate":96,"display_name":"DWA"},"score":0,"creation_date":1533642488,"post_id":51725182,"comment_id":90412264,"body_markdown":"I go with @AbuYousuf answer, that makes the most sense","body":"I go with @AbuYousuf answer, that makes the most sense"}],"tags":[],"owner":{"account_id":1353734,"reputation":5840,"user_id":1292557,"accept_rate":65,"display_name":"Abu Yousuf"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1533639680,"creation_date":1533639680,"answer_id":51725182,"question_id":51724814,"body_markdown":"Add `android:label=&quot;app name&quot;` in `application` tag \r\n\r\nUsing `android:label` in `application` tag will set Application name. And using `android:label` in `Activity` tag will set the title of the `Activity`.","title":"Activity android:label change application name","body":"<p>Add <code>android:label=\"app name\"</code> in <code>application</code> tag </p>\n\n<p>Using <code>android:label</code> in <code>application</code> tag will set Application name. And using <code>android:label</code> in <code>Activity</code> tag will set the title of the <code>Activity</code>.</p>\n"},{"tags":[],"owner":{"account_id":18450705,"reputation":11,"user_id":13462745,"display_name":"Loodle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680046957,"creation_date":1680046957,"answer_id":75871934,"question_id":51724814,"body_markdown":"That&#39;s right.\r\nAccording to android developer API documents, &#39;label&#39; in &#39;activity&#39; is first priority then in &#39;application&#39;.\r\n\r\nTo change in-app label use \r\n\r\n    title=&quot;&quot;\r\n\r\nIn\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n    }","title":"Activity android:label change application name","body":"<p>That's right.\nAccording to android developer API documents, 'label' in 'activity' is first priority then in 'application'.</p>\n<p>To change in-app label use</p>\n<pre><code>title=&quot;&quot;\n</code></pre>\n<p>In</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n}\n</code></pre>\n"}],"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51725182,"answer_count":5,"score":1,"last_activity_date":1680046957,"creation_date":1533638535,"question_id":51724814,"body_markdown":"I started a new project without an activity, I then created my own and register them to manifest as below. But it seams whenever I placed a label on my LoginActivity it changes the application name.\r\n\r\n    &lt;application\r\n        android:name=&quot;.app.ApplicationController&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.LoginActivity&quot;\r\n            android:label=&quot;@string/login_screen_label&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.RegisterActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;/&gt;\r\n    \r\n    &lt;/application&gt;\r\n\r\nAnd my string resources \r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;My ToDo&lt;/string&gt;\r\n    &lt;string name=&quot;login_screen_label&quot;&gt;Log in&lt;/string&gt;\r\nWhat am i doing wrong \r\n\r\n\r\nUPDATE `actitity_login.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;0dp&quot; &gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"Activity android:label change application name","body":"<p>I started a new project without an activity, I then created my own and register them to manifest as below. But it seams whenever I placed a label on my LoginActivity it changes the application name.</p>\n\n<pre><code>&lt;application\n    android:name=\".app.ApplicationController\"\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".activities.LoginActivity\"\n        android:label=\"@string/login_screen_label\"\n        android:launchMode=\"singleTop\"\n        android:windowSoftInputMode=\"adjustPan\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=\".activities.RegisterActivity\"\n        android:launchMode=\"singleTop\"\n        android:windowSoftInputMode=\"adjustPan\" /&gt;\n    &lt;activity\n        android:name=\".activities.MainActivity\"\n        android:launchMode=\"singleTop\"/&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>And my string resources </p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;My ToDo&lt;/string&gt;\n&lt;string name=\"login_screen_label\"&gt;Log in&lt;/string&gt;\n</code></pre>\n\n<p>What am i doing wrong </p>\n\n<p>UPDATE <code>actitity_login.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"0dp\" &gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":2,"creation_date":1679674659,"post_id":75835225,"comment_id":133769130,"body_markdown":"use a **Multi Root Workspace**","body":"use a <b>Multi Root Workspace</b>"},{"owner":{"account_id":1852030,"reputation":2067,"user_id":1678371,"accept_rate":44,"display_name":"Lucian Thorr"},"score":0,"creation_date":1679678082,"post_id":75835225,"comment_id":133770020,"body_markdown":"As far as I can, multi root workspaces are essentially the opposite of what I&#39;m looking for.  I would like multiple settings.json files for the same root based on which folder I am in.  Mult-Root workspaces are establishing that disparate folders belong to the same project and settings.json configuration.","body":"As far as I can, multi root workspaces are essentially the opposite of what I&#39;m looking for.  I would like multiple settings.json files for the same root based on which folder I am in.  Mult-Root workspaces are establishing that disparate folders belong to the same project and settings.json configuration."},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":2,"creation_date":1679680675,"post_id":75835225,"comment_id":133770592,"body_markdown":"you have a separate settings.json per Workspace in the Multi Root Workspace","body":"you have a separate settings.json per Workspace in the Multi Root Workspace"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1679882562,"post_id":75835225,"comment_id":133795075,"body_markdown":"[multi-root workspaces](https://code.visualstudio.com/docs/editor/multi-root-workspaces) is the answer you were looking for.","body":"<a href=\"https://code.visualstudio.com/docs/editor/multi-root-workspaces\" rel=\"nofollow noreferrer\">multi-root workspaces</a> is the answer you were looking for."}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680046669,"creation_date":1679690945,"answer_id":75838021,"question_id":75835225,"body_markdown":"If appropriate for your use-case, use [multi-root workspaces](https://code.visualstudio.com/docs/editor/multi-root-workspaces). Each root workspace has its own `.vscode/settings` file, and settings can be applied to the whole multi-root workspace in its `.code-workspace` file.\r\n\r\nIt is currently not supported to have specific `settings.json` apply to specific subdirectories in regular workspaces. See the following issue tickets:\r\n\r\n- [Monolithic structure, multiple project settings\r\n#32693](https://github.com/microsoft/vscode/issues/32693)\r\n\r\n- [Add ability to extend from other settings files #15909](https://github.com/microsoft/vscode/issues/15909)\r\n\r\n&lt;sup&gt;&lt;sub&gt;[You can show your support for the feature-request by giving a thumbs up reaction to the issue. But please _don&#39;t_ make a &quot;me too&quot; comment.](https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions) &quot;me too&quot; comments generally come off as annoying to repo maintainers because they clutter up discussion and don&#39;t contribute anything of significant value.&lt;/sub&gt;&lt;/sup&gt;","title":"Is it possible to have multiple projects in a single VS Code workspace?","body":"<p>If appropriate for your use-case, use <a href=\"https://code.visualstudio.com/docs/editor/multi-root-workspaces\" rel=\"nofollow noreferrer\">multi-root workspaces</a>. Each root workspace has its own <code>.vscode/settings</code> file, and settings can be applied to the whole multi-root workspace in its <code>.code-workspace</code> file.</p>\n<p>It is currently not supported to have specific <code>settings.json</code> apply to specific subdirectories in regular workspaces. See the following issue tickets:</p>\n<ul>\n<li><p><a href=\"https://github.com/microsoft/vscode/issues/32693\" rel=\"nofollow noreferrer\">Monolithic structure, multiple project settings\n#32693</a></p>\n</li>\n<li><p><a href=\"https://github.com/microsoft/vscode/issues/15909\" rel=\"nofollow noreferrer\">Add ability to extend from other settings files #15909</a></p>\n</li>\n</ul>\n<p><sup><sub><a href=\"https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions\" rel=\"nofollow noreferrer\">You can show your support for the feature-request by giving a thumbs up reaction to the issue. But please <em>don't</em> make a &quot;me too&quot; comment.</a> &quot;me too&quot; comments generally come off as annoying to repo maintainers because they clutter up discussion and don't contribute anything of significant value.</sub></sup></p>\n"}],"owner":{"account_id":1852030,"reputation":2067,"user_id":1678371,"accept_rate":44,"display_name":"Lucian Thorr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680046669,"creation_date":1679669974,"question_id":75835225,"body_markdown":"I have a Java project and I&#39;m using VS Code with the Extensions for Java pack.  The project is essentially two separate applications. There&#39;s the app and there&#39;s its build tool.\r\nThey are both in the same repo and are essentially siblings, structure-wise.\r\n```\r\n/src/builder/java/xyz\r\n/src/main/java/xyz\r\n```\r\n\r\nThe problem is that they can have different, conflicting dependencies.\r\nCan I edit the `settings.json` such that I can set a `java.project.referencedLibraries` for each application separately?","title":"Is it possible to have multiple projects in a single VS Code workspace?","body":"<p>I have a Java project and I'm using VS Code with the Extensions for Java pack.  The project is essentially two separate applications. There's the app and there's its build tool.\nThey are both in the same repo and are essentially siblings, structure-wise.</p>\n<pre><code>/src/builder/java/xyz\n/src/main/java/xyz\n</code></pre>\n<p>The problem is that they can have different, conflicting dependencies.\nCan I edit the <code>settings.json</code> such that I can set a <code>java.project.referencedLibraries</code> for each application separately?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680045389,"creation_date":1680045389,"answer_id":75871822,"question_id":75871690,"body_markdown":"Change the return type of the Bean method that returns the `InMemoryUserDetailsManager` to `UserDetailsManager`. Also, remove `@EnableWebSecurity` from the controller; it&#39;s already present on your configuration.\r\n\r\n```java\r\n@Bean\r\npublic UserDetailsManager userDetailsManager() {\r\n    // ...\r\n    return new InMemoryUserDetailsManager(user);\r\n}\r\n```","title":"Injection of UserDetailsManager and AuthenticationManager fails","body":"<p>Change the return type of the Bean method that returns the <code>InMemoryUserDetailsManager</code> to <code>UserDetailsManager</code>. Also, remove <code>@EnableWebSecurity</code> from the controller; it's already present on your configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic UserDetailsManager userDetailsManager() {\n    // ...\n    return new InMemoryUserDetailsManager(user);\n}\n</code></pre>\n"}],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75871822,"answer_count":1,"score":1,"last_activity_date":1680045389,"creation_date":1680043653,"question_id":75871690,"body_markdown":"I want to inject UserDetailsManager and AuthenticationManager into a controller(AuthenticationController):\r\n\r\n```java\r\n@RestController\r\n@EnableWebSecurity\r\npublic class AuthenticationController {\r\n\r\n    private final UserDetailsManager userDetailsManager;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    public AuthenticationController(\r\n            UserDetailsManager userDetailsManager,\r\n            AuthenticationManager authenticationManager) {\r\n        this.userDetailsManager = userDetailsManager;\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n}\r\n```\r\nThe configuration file should have already done that:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n   @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n}\r\n\r\n```\r\nHowever, I get the error when I start the app (SpringChatServerApplication)\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in haohanyang.springchat.server.controllers.AuthenticationController required a bean of type &#39;org.springframework.security.provisioning.UserDetailsManager&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.provisioning.UserDetailsManager&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\nIt worked when I had only one SpringBootApplication. The error occurred after I put the Client SpringBoot application into the project. But those configuration files are in the same context as the server app. According to project facets in the IDE.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe structure of project is \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAny help is much appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xzD3z.png\r\n  [2]: https://i.stack.imgur.com/ZGDHp.png","title":"Injection of UserDetailsManager and AuthenticationManager fails","body":"<p>I want to inject UserDetailsManager and AuthenticationManager into a controller(AuthenticationController):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@EnableWebSecurity\npublic class AuthenticationController {\n\n    private final UserDetailsManager userDetailsManager;\n    private final AuthenticationManager authenticationManager;\n\n    @Autowired\n    public AuthenticationController(\n            UserDetailsManager userDetailsManager,\n            AuthenticationManager authenticationManager) {\n        this.userDetailsManager = userDetailsManager;\n        this.authenticationManager = authenticationManager;\n    }\n}\n</code></pre>\n<p>The configuration file should have already done that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n   @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n}\n\n</code></pre>\n<p>However, I get the error when I start the app (SpringChatServerApplication)</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in haohanyang.springchat.server.controllers.AuthenticationController required a bean of type 'org.springframework.security.provisioning.UserDetailsManager' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.provisioning.UserDetailsManager' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>It worked when I had only one SpringBootApplication. The error occurred after I put the Client SpringBoot application into the project. But those configuration files are in the same context as the server app. According to project facets in the IDE.</p>\n<p><a href=\"https://i.stack.imgur.com/ZGDHp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZGDHp.png\" alt=\"enter image description here\" /></a></p>\n<p>The structure of project is</p>\n<p><a href=\"https://i.stack.imgur.com/xzD3z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xzD3z.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1460656684,"creation_date":1460656324,"answer_id":36630470,"question_id":36630217,"body_markdown":"There are probably (way) better ways to organize this, but probably the cleanest fix is just to define a `boolean validate` parameter to the constructor of your cell implementation. (You really don&#39;t want the logic to be &quot;if the title of the column is equal to some specific text, then validate&quot;. You would be utterly screwed when your boss came in to the office and asked you to internationalize the application, or even just change the title of the column, for example.)\r\n\r\nUsing an entire inner class just to implement the callback seems completely redundant, but keeping that you would have to pass the parameter through it:\r\n\r\n    public static class TextFieldCellFactory\r\n            implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\r\n\r\n        private final boolean validate ;\r\n\r\n        public TextFieldCellFactory(boolean validate) {\r\n            this.validate = validate ;\r\n        }\r\n\r\n        @Override\r\n        public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\r\n            TextFieldCell textFieldCell = new TextFieldCell(validate);\r\n            return textFieldCell;\r\n\r\n        }\r\n\r\n        public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\r\n\r\n            private TextArea textField;\r\n            private StringProperty boundToCurrently = null;\r\n            private String last_text;\r\n\r\n            public TextFieldCell(boolean validate) {\r\n\r\n                textField = new TextArea();\r\n                textField.setWrapText(true);\r\n                textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\r\n                last_text=&quot;&quot;;\r\n\r\n\r\n\r\n                this.setGraphic(textField);\r\n\r\n                if (validate) {\r\n                    textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \r\n    //only if textfield is in the text2 column\r\n                        if(isNowFocused){last_text=textField.getText();  System.out.println(&quot;NOW focus &quot;+last_text);}\r\n                        if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \r\n                            textField.setText(last_text);\r\n                            textField.selectAll();\r\n                            System.out.println(&quot;blur&quot;);\r\n    \r\n                        }\r\n    \r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n          // ...\r\n\r\n    }\r\n\r\nThen of course you just do\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\r\n    clmtext.setMinWidth(160);\r\n    clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\r\n    clmtext.setCellFactory(new TextFieldCellFactory(false));\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\r\n    clmtext2.setMinWidth(160);\r\n    clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\r\n    clmtext2.setCellFactory(new TextFieldCellFactory(true));\r\n\r\n\r\n(To properly answer your question, you can get the text of the column from within the cell to which it is attached with `getTableColumn().getText()`, but as I pointed out, actually basing the logic on the value displayed in a column header will make your code completely unmaintainable.)\r\n\r\nAnd I guess for completeness, I should also mention that your `TextFieldCellFactory` class looks like it is not really serving any purpose. I would remove it entirely and just have the `TextFieldCell` class, and do\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\r\n    clmtext.setMinWidth(160);\r\n    clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\r\n    clmtext.setCellFactory(c -&gt; new TextFieldCell(false));\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\r\n    clmtext2.setMinWidth(160);\r\n    clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\r\n    clmtext2.setCellFactory(c -&gt; new TextFieldCell(true));\r\n\r\n","title":"javafx : get the name of the column","body":"<p>There are probably (way) better ways to organize this, but probably the cleanest fix is just to define a <code>boolean validate</code> parameter to the constructor of your cell implementation. (You really don't want the logic to be \"if the title of the column is equal to some specific text, then validate\". You would be utterly screwed when your boss came in to the office and asked you to internationalize the application, or even just change the title of the column, for example.)</p>\n\n<p>Using an entire inner class just to implement the callback seems completely redundant, but keeping that you would have to pass the parameter through it:</p>\n\n<pre><code>public static class TextFieldCellFactory\n        implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\n\n    private final boolean validate ;\n\n    public TextFieldCellFactory(boolean validate) {\n        this.validate = validate ;\n    }\n\n    @Override\n    public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\n        TextFieldCell textFieldCell = new TextFieldCell(validate);\n        return textFieldCell;\n\n    }\n\n    public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\n\n        private TextArea textField;\n        private StringProperty boundToCurrently = null;\n        private String last_text;\n\n        public TextFieldCell(boolean validate) {\n\n            textField = new TextArea();\n            textField.setWrapText(true);\n            textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\n            last_text=\"\";\n\n\n\n            this.setGraphic(textField);\n\n            if (validate) {\n                textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \n//only if textfield is in the text2 column\n                    if(isNowFocused){last_text=textField.getText();  System.out.println(\"NOW focus \"+last_text);}\n                    if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \n                        textField.setText(last_text);\n                        textField.selectAll();\n                        System.out.println(\"blur\");\n\n                    }\n\n                });\n            }\n\n        }\n\n      // ...\n\n}\n</code></pre>\n\n<p>Then of course you just do</p>\n\n<pre><code>TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(\"Text\");\nclmtext.setMinWidth(160);\nclmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text\"));\nclmtext.setCellFactory(new TextFieldCellFactory(false));\n\nTableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(\"Text2\");\nclmtext2.setMinWidth(160);\nclmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text2\"));\nclmtext2.setCellFactory(new TextFieldCellFactory(true));\n</code></pre>\n\n<p>(To properly answer your question, you can get the text of the column from within the cell to which it is attached with <code>getTableColumn().getText()</code>, but as I pointed out, actually basing the logic on the value displayed in a column header will make your code completely unmaintainable.)</p>\n\n<p>And I guess for completeness, I should also mention that your <code>TextFieldCellFactory</code> class looks like it is not really serving any purpose. I would remove it entirely and just have the <code>TextFieldCell</code> class, and do</p>\n\n<pre><code>TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(\"Text\");\nclmtext.setMinWidth(160);\nclmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text\"));\nclmtext.setCellFactory(c -&gt; new TextFieldCell(false));\n\nTableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(\"Text2\");\nclmtext2.setMinWidth(160);\nclmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text2\"));\nclmtext2.setCellFactory(c -&gt; new TextFieldCell(true));\n</code></pre>\n"}],"owner":{"account_id":4662894,"reputation":224,"user_id":3776738,"accept_rate":78,"display_name":"user3776738"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2789,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36630470,"answer_count":1,"score":1,"last_activity_date":1680042548,"creation_date":1460655491,"question_id":36630217,"body_markdown":"How do I get the name of the column of a `textfield` inside a JavaFX table?\r\nI need this to check the value of the cells only in the `text2` column. I tried it with `textfield.parent()` but I didn&#39;t get a useful result.  \r\n**Edit:** I removed some unnecessary log, which was not helpful for understanding.Now it is more convenient.  \r\nHere is my Code:\r\n\r\n    import java.util.ArrayList;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.scene.control.ContentDisplay;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.util.Callback;\r\n    \r\n    import javafx.application.Application;\r\n    import static javafx.application.Application.launch;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    /*interface inside_table\r\n    {\r\n        public String get_column_name\r\n    }*/\r\n    \r\n    public class Supermain extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            \r\n            ArrayList myindizes=new ArrayList();\r\n            \r\n            \r\n    \r\n            final TableView&lt;myTextRow&gt; table = new TableView&lt;&gt;();\r\n            table.setEditable(true);\r\n            table.setStyle(&quot;-fx-text-wrap: true;&quot;);\r\n    \r\n            //Table columns\r\n            TableColumn&lt;myTextRow, String&gt; clmID = new TableColumn&lt;&gt;(&quot;ID&quot;);\r\n            clmID.setMinWidth(160);\r\n            clmID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\r\n    \r\n            TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\r\n            clmtext.setMinWidth(160);\r\n            clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\r\n            clmtext.setCellFactory(new TextFieldCellFactory());\r\n    \r\n            TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\r\n            clmtext2.setMinWidth(160);\r\n            clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\r\n            clmtext2.setCellFactory(new TextFieldCellFactory());\r\n    \r\n            //Add data\r\n            final ObservableList&lt;myTextRow&gt; data = FXCollections.observableArrayList(\r\n                    new myTextRow(5, &quot;Lorem&quot;,&quot;bla&quot;),\r\n                    new myTextRow(2, &quot;Ipsum&quot;,&quot;bla&quot;)\r\n            );\r\n    \r\n            table.getColumns().addAll(clmID, clmtext,clmtext2);\r\n            table.setItems(data);\r\n    \r\n            HBox hBox = new HBox();\r\n            hBox.setSpacing(5.0);\r\n            hBox.setPadding(new Insets(5, 5, 5, 5));\r\n    \r\n            Button btn = new Button();\r\n            btn.setText(&quot;Get Data&quot;);\r\n            btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \r\n                @Override\r\n                public void handle(ActionEvent event) {\r\n                    for (myTextRow data1 : data) {\r\n                        System.out.println(&quot;data:&quot; + data1.getText2());\r\n                    }\r\n                }\r\n            });\r\n    \r\n            hBox.getChildren().add(btn);\r\n    \r\n            BorderPane pane = new BorderPane();\r\n            pane.setTop(hBox);\r\n            pane.setCenter(table);\r\n            primaryStage.setScene(new Scene(pane, 640, 480));\r\n            primaryStage.show();\r\n            \r\n    \r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    \r\n        public static class TextFieldCellFactory\r\n                implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\r\n    \r\n            @Override\r\n            public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\r\n                TextFieldCell textFieldCell = new TextFieldCell();\r\n                return textFieldCell;\r\n               \r\n            }\r\n    \r\n            public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\r\n                \r\n                private TextArea textField;\r\n                private StringProperty boundToCurrently = null;\r\n                private String last_text;\r\n                \r\n    \r\n                public TextFieldCell() {\r\n    \r\n                    textField = new TextArea();\r\n                    textField.setWrapText(true);\r\n                    textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\r\n                    last_text=&quot;&quot;;\r\n                    \r\n                    \r\n    \r\n                    this.setGraphic(textField);\r\n                    \r\n                    textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \r\n    //only if textfield is in the text2 column\r\n                        if(isNowFocused){last_text=textField.getText();  System.out.println(&quot;NOW focus &quot;+last_text);}\r\n                        if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \r\n                            textField.setText(last_text);\r\n                            textField.selectAll();\r\n                            System.out.println(&quot;blur&quot;);\r\n                            \r\n                        }\r\n                        \r\n                    });\r\n                    \r\n                }\r\n    \r\n                @Override\r\n                protected void updateItem(String item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n                    if (!empty) {\r\n                        // Show the Text Field\r\n                        this.setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\r\n                        \r\n                        \r\n                       // myindizes.add(getIndex());\r\n    \r\n                        // Retrieve the actual String Property that should be bound to the TextField\r\n                        // If the TextField is currently bound to a different StringProperty\r\n                        // Unbind the old property and rebind to the new one\r\n                        ObservableValue&lt;String&gt; ov = getTableColumn().getCellObservableValue(getIndex());\r\n                        SimpleStringProperty sp = (SimpleStringProperty) ov;\r\n    \r\n                        if (this.boundToCurrently == null) {\r\n                            this.boundToCurrently = sp;\r\n                            this.textField.textProperty().bindBidirectional(sp);\r\n                        } else if (this.boundToCurrently != sp) {\r\n                            this.textField.textProperty().unbindBidirectional(this.boundToCurrently);\r\n                            this.boundToCurrently = sp;\r\n                            this.textField.textProperty().bindBidirectional(this.boundToCurrently);\r\n                        }\r\n    \r\n                        double height = real_lines_height(textField.getText(), this.getWidth(), 30, 22);\r\n                        textField.setPrefHeight(height);\r\n                        textField.setMaxHeight(height);\r\n                        \r\n                        textField.setMaxHeight(Double.MAX_VALUE);\r\n                        // if height bigger than the biggest height in the row\r\n                        //-&gt; change all heights of the row(textfields ()typeof textarea) to this height\r\n                        // else leave the height as it is\r\n                        \r\n                        \r\n                        //System.out.println(&quot;item=&quot; + item + &quot; ObservableValue&lt;String&gt;=&quot; + ov.getValue());\r\n                        //this.textField.setText(item);  // No longer need this!!!\r\n                    } else {\r\n                        this.setContentDisplay(ContentDisplay.TEXT_ONLY);\r\n                    }\r\n                }//update\r\n                \r\n                private boolean isValid(String s){\r\n                   \r\n                    if(s.length()&lt;7){return true;}\r\n                    return false;  \r\n\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public class myTextRow {\r\n    \r\n            private final SimpleIntegerProperty ID;\r\n    \r\n            private final SimpleStringProperty text;\r\n            private final SimpleStringProperty text2;\r\n    \r\n            public myTextRow(int ID, String text,String text2) {\r\n    \r\n                this.ID = new SimpleIntegerProperty(ID);\r\n                this.text = new SimpleStringProperty(text);\r\n                this.text2 = new SimpleStringProperty(text2);\r\n    \r\n    \r\n            }\r\n    \r\n            \r\n            //setter\r\n            public void setID(int id) {\r\n                this.ID.set(id);\r\n            }\r\n    \r\n            public void setText(String text) {\r\n                this.text.set(text);\r\n            }\r\n    \r\n            public void setText2(String text) {         \r\n                this.text2.set(text);         \r\n            }\r\n    \r\n           //getter\r\n            public int getID() {\r\n                return ID.get();\r\n            }\r\n    \r\n            public String getText() {\r\n                return text.get();\r\n            }\r\n    \r\n            public String getText2() {\r\n                return text2.get();\r\n            }\r\n            \r\n            //properties\r\n            public StringProperty textProperty() {\r\n            return text;\r\n    \r\n            }\r\n    \r\n            public StringProperty text2Property() {\r\n            return text2;\r\n    \r\n            }\r\n    \r\n        public IntegerProperty IDProperty() {\r\n            return ID;\r\n        }\r\n        \r\n        }\r\n    \r\n        private static double real_lines_height(String s, double width, double heightCorrector, double widthCorrector) {\r\n            HBox h = new HBox();\r\n            Label l = new Label(&quot;Text&quot;);\r\n            h.getChildren().add(l);\r\n            Scene sc = new Scene(h);\r\n            l.applyCss();\r\n            double line_height = l.prefHeight(-1);\r\n    \r\n            int new_lines = s.replaceAll(&quot;[^\\r\\n|\\r|\\n]&quot;, &quot;&quot;).length();\r\n            //  System.out.println(&quot;new lines= &quot;+new_lines);\r\n            String[] lines = s.split(&quot;\\r\\n|\\r|\\n&quot;);\r\n            //  System.out.println(&quot;line count func= &quot;+ lines.length);\r\n            int count = 0;\r\n            //double rest=0;\r\n            for (int i = 0; i &lt; lines.length; i++) {\r\n                double text_width = get_text_width(lines[i]);\r\n                double plus_lines = Math.ceil(text_width / (width - widthCorrector));\r\n                if (plus_lines &gt; 1) {\r\n                    count += plus_lines;\r\n                    //rest+= (text_width / (width-widthCorrector)) - plus_lines;\r\n                } else {\r\n                    count += 1;\r\n                }\r\n    \r\n            }\r\n            //count+=(int) Math.ceil(rest);\r\n            count += new_lines - lines.length;\r\n    \r\n            return count * line_height + heightCorrector;\r\n        }\r\n    \r\n        private static double get_text_width(String s) {\r\n            HBox h = new HBox();\r\n            Label l = new Label(s);\r\n            l.setWrapText(false);\r\n            h.getChildren().add(l);\r\n            Scene sc = new Scene(h);\r\n            l.applyCss();\r\n            \r\n            return l.prefWidth(-1);\r\n    \r\n        }\r\n        \r\n    }","title":"javafx : get the name of the column","body":"<p>How do I get the name of the column of a <code>textfield</code> inside a JavaFX table?\nI need this to check the value of the cells only in the <code>text2</code> column. I tried it with <code>textfield.parent()</code> but I didn't get a useful result.<br />\n<strong>Edit:</strong> I removed some unnecessary log, which was not helpful for understanding.Now it is more convenient.<br />\nHere is my Code:</p>\n<pre><code>import java.util.ArrayList;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.scene.control.ContentDisplay;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TextArea;\nimport javafx.util.Callback;\n\nimport javafx.application.Application;\nimport static javafx.application.Application.launch;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\n\n/*interface inside_table\n{\n    public String get_column_name\n}*/\n\npublic class Supermain extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        ArrayList myindizes=new ArrayList();\n        \n        \n\n        final TableView&lt;myTextRow&gt; table = new TableView&lt;&gt;();\n        table.setEditable(true);\n        table.setStyle(&quot;-fx-text-wrap: true;&quot;);\n\n        //Table columns\n        TableColumn&lt;myTextRow, String&gt; clmID = new TableColumn&lt;&gt;(&quot;ID&quot;);\n        clmID.setMinWidth(160);\n        clmID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\n\n        TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\n        clmtext.setMinWidth(160);\n        clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\n        clmtext.setCellFactory(new TextFieldCellFactory());\n\n        TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\n        clmtext2.setMinWidth(160);\n        clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\n        clmtext2.setCellFactory(new TextFieldCellFactory());\n\n        //Add data\n        final ObservableList&lt;myTextRow&gt; data = FXCollections.observableArrayList(\n                new myTextRow(5, &quot;Lorem&quot;,&quot;bla&quot;),\n                new myTextRow(2, &quot;Ipsum&quot;,&quot;bla&quot;)\n        );\n\n        table.getColumns().addAll(clmID, clmtext,clmtext2);\n        table.setItems(data);\n\n        HBox hBox = new HBox();\n        hBox.setSpacing(5.0);\n        hBox.setPadding(new Insets(5, 5, 5, 5));\n\n        Button btn = new Button();\n        btn.setText(&quot;Get Data&quot;);\n        btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n\n            @Override\n            public void handle(ActionEvent event) {\n                for (myTextRow data1 : data) {\n                    System.out.println(&quot;data:&quot; + data1.getText2());\n                }\n            }\n        });\n\n        hBox.getChildren().add(btn);\n\n        BorderPane pane = new BorderPane();\n        pane.setTop(hBox);\n        pane.setCenter(table);\n        primaryStage.setScene(new Scene(pane, 640, 480));\n        primaryStage.show();\n        \n\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n\n    public static class TextFieldCellFactory\n            implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\n\n        @Override\n        public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\n            TextFieldCell textFieldCell = new TextFieldCell();\n            return textFieldCell;\n           \n        }\n\n        public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\n            \n            private TextArea textField;\n            private StringProperty boundToCurrently = null;\n            private String last_text;\n            \n\n            public TextFieldCell() {\n\n                textField = new TextArea();\n                textField.setWrapText(true);\n                textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\n                last_text=&quot;&quot;;\n                \n                \n\n                this.setGraphic(textField);\n                \n                textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \n//only if textfield is in the text2 column\n                    if(isNowFocused){last_text=textField.getText();  System.out.println(&quot;NOW focus &quot;+last_text);}\n                    if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \n                        textField.setText(last_text);\n                        textField.selectAll();\n                        System.out.println(&quot;blur&quot;);\n                        \n                    }\n                    \n                });\n                \n            }\n\n            @Override\n            protected void updateItem(String item, boolean empty) {\n                super.updateItem(item, empty);\n                if (!empty) {\n                    // Show the Text Field\n                    this.setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\n                    \n                    \n                   // myindizes.add(getIndex());\n\n                    // Retrieve the actual String Property that should be bound to the TextField\n                    // If the TextField is currently bound to a different StringProperty\n                    // Unbind the old property and rebind to the new one\n                    ObservableValue&lt;String&gt; ov = getTableColumn().getCellObservableValue(getIndex());\n                    SimpleStringProperty sp = (SimpleStringProperty) ov;\n\n                    if (this.boundToCurrently == null) {\n                        this.boundToCurrently = sp;\n                        this.textField.textProperty().bindBidirectional(sp);\n                    } else if (this.boundToCurrently != sp) {\n                        this.textField.textProperty().unbindBidirectional(this.boundToCurrently);\n                        this.boundToCurrently = sp;\n                        this.textField.textProperty().bindBidirectional(this.boundToCurrently);\n                    }\n\n                    double height = real_lines_height(textField.getText(), this.getWidth(), 30, 22);\n                    textField.setPrefHeight(height);\n                    textField.setMaxHeight(height);\n                    \n                    textField.setMaxHeight(Double.MAX_VALUE);\n                    // if height bigger than the biggest height in the row\n                    //-&gt; change all heights of the row(textfields ()typeof textarea) to this height\n                    // else leave the height as it is\n                    \n                    \n                    //System.out.println(&quot;item=&quot; + item + &quot; ObservableValue&lt;String&gt;=&quot; + ov.getValue());\n                    //this.textField.setText(item);  // No longer need this!!!\n                } else {\n                    this.setContentDisplay(ContentDisplay.TEXT_ONLY);\n                }\n            }//update\n            \n            private boolean isValid(String s){\n               \n                if(s.length()&lt;7){return true;}\n                return false;  \n\n\n            }\n\n        }\n\n    }\n\n    public class myTextRow {\n\n        private final SimpleIntegerProperty ID;\n\n        private final SimpleStringProperty text;\n        private final SimpleStringProperty text2;\n\n        public myTextRow(int ID, String text,String text2) {\n\n            this.ID = new SimpleIntegerProperty(ID);\n            this.text = new SimpleStringProperty(text);\n            this.text2 = new SimpleStringProperty(text2);\n\n\n        }\n\n        \n        //setter\n        public void setID(int id) {\n            this.ID.set(id);\n        }\n\n        public void setText(String text) {\n            this.text.set(text);\n        }\n\n        public void setText2(String text) {         \n            this.text2.set(text);         \n        }\n\n       //getter\n        public int getID() {\n            return ID.get();\n        }\n\n        public String getText() {\n            return text.get();\n        }\n\n        public String getText2() {\n            return text2.get();\n        }\n        \n        //properties\n        public StringProperty textProperty() {\n        return text;\n\n        }\n\n        public StringProperty text2Property() {\n        return text2;\n\n        }\n\n    public IntegerProperty IDProperty() {\n        return ID;\n    }\n    \n    }\n\n    private static double real_lines_height(String s, double width, double heightCorrector, double widthCorrector) {\n        HBox h = new HBox();\n        Label l = new Label(&quot;Text&quot;);\n        h.getChildren().add(l);\n        Scene sc = new Scene(h);\n        l.applyCss();\n        double line_height = l.prefHeight(-1);\n\n        int new_lines = s.replaceAll(&quot;[^\\r\\n|\\r|\\n]&quot;, &quot;&quot;).length();\n        //  System.out.println(&quot;new lines= &quot;+new_lines);\n        String[] lines = s.split(&quot;\\r\\n|\\r|\\n&quot;);\n        //  System.out.println(&quot;line count func= &quot;+ lines.length);\n        int count = 0;\n        //double rest=0;\n        for (int i = 0; i &lt; lines.length; i++) {\n            double text_width = get_text_width(lines[i]);\n            double plus_lines = Math.ceil(text_width / (width - widthCorrector));\n            if (plus_lines &gt; 1) {\n                count += plus_lines;\n                //rest+= (text_width / (width-widthCorrector)) - plus_lines;\n            } else {\n                count += 1;\n            }\n\n        }\n        //count+=(int) Math.ceil(rest);\n        count += new_lines - lines.length;\n\n        return count * line_height + heightCorrector;\n    }\n\n    private static double get_text_width(String s) {\n        HBox h = new HBox();\n        Label l = new Label(s);\n        l.setWrapText(false);\n        h.getChildren().add(l);\n        Scene sc = new Scene(h);\n        l.applyCss();\n        \n        return l.prefWidth(-1);\n\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1680075305,"post_id":75871578,"comment_id":133833485,"body_markdown":"This is a recipe for disaster on several levels. Don&#39;t do it, even if it perhaps seems to work.","body":"This is a recipe for disaster on several levels. Don&#39;t do it, even if it perhaps seems to work."},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1680105228,"post_id":75871578,"comment_id":133841974,"body_markdown":"@Ladicek could you explain more why it would be a recipe for disaster? \nAlso, you are saying that all quarkus extensions should be based on the same version correct? This specific case didn&#39;t work, but I couldn&#39;t find any documentation that says quarkus extensions have to be the same version.","body":"@Ladicek could you explain more why it would be a recipe for disaster?  Also, you are saying that all quarkus extensions should be based on the same version correct? This specific case didn&#39;t work, but I couldn&#39;t find any documentation that says quarkus extensions have to be the same version."},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":2,"creation_date":1680160568,"post_id":75871578,"comment_id":133851532,"body_markdown":"Quarkus is not a set of libraries, it is a platform. All extensions depend on Quarkus core, and they may depend on each other (for example, most extensions will depend in one way or another on ArC, the CDI implementation in Quarkus). The platform is built and tested and meant to be used as a single cohesive whole. I don&#39;t think anyone has ever considered the option to rip out one piece of the platform and replace it with a transplant of an equivalent piece from a different version of the platform, which is probably why you can&#39;t find anything about that in the documentation.","body":"Quarkus is not a set of libraries, it is a platform. All extensions depend on Quarkus core, and they may depend on each other (for example, most extensions will depend in one way or another on ArC, the CDI implementation in Quarkus). The platform is built and tested and meant to be used as a single cohesive whole. I don&#39;t think anyone has ever considered the option to rip out one piece of the platform and replace it with a transplant of an equivalent piece from a different version of the platform, which is probably why you can&#39;t find anything about that in the documentation."}],"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680042409,"creation_date":1680042409,"question_id":75871578,"body_markdown":"Let&#39;s say I have a pom.xml like \r\n```\r\n&lt;properties&gt;\r\n  &lt;quarkus-plugin.version&gt;2.13.3.Final&lt;/quarkus-plugin.version&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.13.3.Final&lt;/quarkus.platform.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nDo all quarkus extensions have to be 2.13.3.FINAL version? Or would it be possible to have something like the code below? This would allow one extension to be a different version, while all other extensions default to the `quarkus.platform.version`.\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\r\n      &lt;version&gt;2.16.4.FINAL&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Do all quarkus extensions have to be the same version?","body":"<p>Let's say I have a pom.xml like</p>\n<pre><code>&lt;properties&gt;\n  &lt;quarkus-plugin.version&gt;2.13.3.Final&lt;/quarkus-plugin.version&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.13.3.Final&lt;/quarkus.platform.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Do all quarkus extensions have to be 2.13.3.FINAL version? Or would it be possible to have something like the code below? This would allow one extension to be a different version, while all other extensions default to the <code>quarkus.platform.version</code>.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\n      &lt;version&gt;2.16.4.FINAL&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-firestore","arraylist"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":2,"creation_date":1680033339,"post_id":75870438,"comment_id":133827285,"body_markdown":"Please edit your question to show a screenshot of the Firebase console with a document containing the data that you&#39;re trying to read.","body":"Please edit your question to show a screenshot of the Firebase console with a document containing the data that you&#39;re trying to read."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680073677,"post_id":75870438,"comment_id":133833089,"body_markdown":"What do you mean by &quot;how can I retrieve all the data in a single table&quot;? Please show us a concrete example. Please edit your question and add the information Frank asked for, and please also respond using @.","body":"What do you mean by &quot;how can I retrieve all the data in a single table&quot;? Please show us a concrete example. Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":28133137,"reputation":1,"user_id":21497299,"display_name":"michamicha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680041460,"creation_date":1680032480,"question_id":75870438,"body_markdown":"This code is written in Java programming language and uses the Firebase Firestore database to retrieve data. The code retrieves dynamic data of multiple users, and each user has multiple tests. The data includes dwell time, flight time 2, and flight time 3, and the name of the test. but lets assume that the field in this case (dwelltime,ft2,ft3) is a table containing multiple values in the firestore how can i retreive all the data in a single table. i would be extremly grateful any help i would appreciate it\r\n\r\n\r\n```\r\nfor (QueryDocumentSnapshot document : task.getResult()) { \r\n    mdw.add(document.getLong(&quot;dwelltime&quot;)); \r\n    mft2.add(document.getLong(&quot;ft2&quot;));\r\n    mft3.add(document.getLong(&quot;ft3&quot;));\r\n    name.add(doc.getString(&quot;nom&quot;));\r\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\r\n}\r\n```\r\n\r\n\r\nthis is a screenshot of my firebase data :\r\n\r\n\r\n[screenshot][1]\r\n\r\ni tried the following but i only get the first document of the users. something is missing \r\n\r\n     \r\n```\r\nfor (QueryDocumentSnapshot document : task.getResult()) { \r\n    ArrayList&lt;Long&gt; dwellTimes = (ArrayList&lt;Long&gt;) document.get(&quot;dwell time&quot;);\r\n    dwell.addAll(dwellTimes);\r\n\r\n    ArrayList&lt;Long&gt; flightTimes2 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 2&quot;);\r\n    flightm2.addAll(flightTimes2);\r\n\r\n    ArrayList&lt;Long&gt; flightTimes3 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 3&quot;);\r\n    flightm3.addAll(flightTimes3);\r\n\r\n    name.add(doc.getString(&quot;nom&quot;));\r\n\r\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0CuxB.png","title":"how to retreive data from firestore of a field with multiple values","body":"<p>This code is written in Java programming language and uses the Firebase Firestore database to retrieve data. The code retrieves dynamic data of multiple users, and each user has multiple tests. The data includes dwell time, flight time 2, and flight time 3, and the name of the test. but lets assume that the field in this case (dwelltime,ft2,ft3) is a table containing multiple values in the firestore how can i retreive all the data in a single table. i would be extremly grateful any help i would appreciate it</p>\n<pre><code>for (QueryDocumentSnapshot document : task.getResult()) { \n    mdw.add(document.getLong(&quot;dwelltime&quot;)); \n    mft2.add(document.getLong(&quot;ft2&quot;));\n    mft3.add(document.getLong(&quot;ft3&quot;));\n    name.add(doc.getString(&quot;nom&quot;));\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\n}\n</code></pre>\n<p>this is a screenshot of my firebase data :</p>\n<p><a href=\"https://i.stack.imgur.com/0CuxB.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>i tried the following but i only get the first document of the users. something is missing</p>\n<pre><code>for (QueryDocumentSnapshot document : task.getResult()) { \n    ArrayList&lt;Long&gt; dwellTimes = (ArrayList&lt;Long&gt;) document.get(&quot;dwell time&quot;);\n    dwell.addAll(dwellTimes);\n\n    ArrayList&lt;Long&gt; flightTimes2 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 2&quot;);\n    flightm2.addAll(flightTimes2);\n\n    ArrayList&lt;Long&gt; flightTimes3 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 3&quot;);\n    flightm3.addAll(flightTimes3);\n\n    name.add(doc.getString(&quot;nom&quot;));\n\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\n}\n</code></pre>\n"},{"tags":["java","maven","pom.xml","junit5","jacoco"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680041680,"post_id":75871461,"comment_id":133828864,"body_markdown":"I would suggest to remove the configuration part for `default-prepare-agent`...part... and keep the defaults which are defined by the plugin...","body":"I would suggest to remove the configuration part for <code>default-prepare-agent</code>...part... and keep the defaults which are defined by the plugin..."},{"owner":{"account_id":21220868,"reputation":5,"user_id":15607473,"display_name":"Shpot"},"score":0,"creation_date":1680042961,"post_id":75871461,"comment_id":133829061,"body_markdown":"@khmarbaise Thanks! It worked, but build still does not fail: `[INFO] Tests are skipped.`","body":"@khmarbaise Thanks! It worked, but build still does not fail: <code>[INFO] Tests are skipped.</code>"}],"owner":{"account_id":21220868,"reputation":5,"user_id":15607473,"display_name":"Shpot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680041245,"creation_date":1680041245,"question_id":75871461,"body_markdown":"I want to configure Maven build to fail if test coverage is lower than 85%\r\nTried to use Jacoco plugin, but regardless of the coverage the build does not fail.\r\n\r\nRuning tests with coverage in Idea works. \r\n\r\nWhen i try to run `mvn clean verify` or `mvn test` this message appears:\r\n```\r\n[INFO] Skipping JaCoCo execution due to missing execution data file:C:\\Users\\Shpot\\Desktop\\payneteasy\\EQSP_project\\target\\jacoco.exec\r\n```\r\n\r\nWhat have I done wrong?\r\n\r\nMy `pom.xml`:\r\n\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;destFile&gt;${basedir}/target/jacoco.exec&lt;/destFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule implementation=&quot;org.jacoco.maven.RuleConfiguration&quot;&gt;\r\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\r\n                                            &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;0.85&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\r\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\r\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\r\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nMy JUnit5 tests are like that:\r\n\r\n```\r\npackage pne;\r\n\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass CcsrchTest {\r\n\r\n    @Test\r\n    void hideCreditCardInformationInText() {\r\n     ...\r\n    }\r\n}\r\n```","title":"Maven build with Jacoco code coverage check never fails","body":"<p>I want to configure Maven build to fail if test coverage is lower than 85%\nTried to use Jacoco plugin, but regardless of the coverage the build does not fail.</p>\n<p>Runing tests with coverage in Idea works.</p>\n<p>When i try to run <code>mvn clean verify</code> or <code>mvn test</code> this message appears:</p>\n<pre><code>[INFO] Skipping JaCoCo execution due to missing execution data file:C:\\Users\\Shpot\\Desktop\\payneteasy\\EQSP_project\\target\\jacoco.exec\n</code></pre>\n<p>What have I done wrong?</p>\n<p>My <code>pom.xml</code>:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;destFile&gt;${basedir}/target/jacoco.exec&lt;/destFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule implementation=&quot;org.jacoco.maven.RuleConfiguration&quot;&gt;\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\n                                            &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.85&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My JUnit5 tests are like that:</p>\n<pre><code>package pne;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nclass CcsrchTest {\n\n    @Test\n    void hideCreditCardInformationInText() {\n     ...\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data-gemfire","oql"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679590211,"post_id":75823572,"comment_id":133752647,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1965382,"reputation":21,"user_id":1765803,"display_name":"Anthony Baker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679676839,"creation_date":1679676839,"answer_id":75836356,"question_id":75823572,"body_markdown":"Check out the query docs: https://docs.vmware.com/en/VMware-GemFire/10.0/gf/getting_started-querying_quick_reference.html\r\n\r\nHere&#39;s an example of how to use bind parameters.\r\n\r\n    // specify the  query string\r\n     String queryString = &quot;SELECT DISTINCT * FROM /exampleRegion p WHERE p.status = $1&quot;;\r\n    \r\n    QueryService queryService = cache.getQueryService();\r\n    Query query = queryService.newQuery(queryString);\r\n    \r\n    // set a query bind parameter\r\n    Object[] params = new Object[1];\r\n    params[0] = &quot;active&quot;;\r\n    \r\n    // Execute the query locally. It returns the results set.\r\n    SelectResults results = (SelectResults) query.execute(params);\r\n\r\n","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>Check out the query docs: <a href=\"https://docs.vmware.com/en/VMware-GemFire/10.0/gf/getting_started-querying_quick_reference.html\" rel=\"nofollow noreferrer\">https://docs.vmware.com/en/VMware-GemFire/10.0/gf/getting_started-querying_quick_reference.html</a></p>\n<p>Here's an example of how to use bind parameters.</p>\n<pre><code>// specify the  query string\n String queryString = &quot;SELECT DISTINCT * FROM /exampleRegion p WHERE p.status = $1&quot;;\n\nQueryService queryService = cache.getQueryService();\nQuery query = queryService.newQuery(queryString);\n\n// set a query bind parameter\nObject[] params = new Object[1];\nparams[0] = &quot;active&quot;;\n\n// Execute the query locally. It returns the results set.\nSelectResults results = (SelectResults) query.execute(params);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9741041,"reputation":63,"user_id":7222611,"display_name":"Udo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680040256,"creation_date":1679931364,"answer_id":75857661,"question_id":75823572,"body_markdown":"If you require data for a specific time frame, you will have to add a field which will the contain the date/data you want to query against.\r\n\r\nIn your case you want to query some time parameter. Best way to store this, would be a `long` field that would represent the Date as a long. Then your query would require a simple `&gt;=` and `&lt;` comparison, which are quick, because they aren&#39;t String comparisons.\r\n\r\n```String query = &quot;SELECT * from /DataRegion r where r.createdDate &gt;= $1 AND r.createdDate &lt; $2&quot;;```\r\n\r\nThen your query becomes simpler, as all you&#39;d have to do is determine the start and end date in terms of its `long` representation. `new Date(2023,03,10).getTime()` (of course you should use the java.util.Calender class, but this is just for example purposes).\r\n\r\nThen using the bind logic in GemFire, you can then run the query.\r\n\r\n```QueryService queryService = cache.getQueryService();\r\nQuery query = queryService.newQuery(queryString);\r\n\r\n// set a query bind parameter\r\nObject[] params = new Object[2];\r\nparams[0] = new Date(2023,03,10).getTime();\r\nparams[1] = new Date(2023,03,12).getTime();\r\n\r\n// Execute the query locally. It returns the results set.\r\nSelectResults results = (SelectResults) query.execute(params);\r\n","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>If you require data for a specific time frame, you will have to add a field which will the contain the date/data you want to query against.</p>\n<p>In your case you want to query some time parameter. Best way to store this, would be a <code>long</code> field that would represent the Date as a long. Then your query would require a simple <code>&gt;=</code> and <code>&lt;</code> comparison, which are quick, because they aren't String comparisons.</p>\n<p><code>String query = &quot;SELECT * from /DataRegion r where r.createdDate &gt;= $1 AND r.createdDate &lt; $2&quot;;</code></p>\n<p>Then your query becomes simpler, as all you'd have to do is determine the start and end date in terms of its <code>long</code> representation. <code>new Date(2023,03,10).getTime()</code> (of course you should use the java.util.Calender class, but this is just for example purposes).</p>\n<p>Then using the bind logic in GemFire, you can then run the query.</p>\n<pre><code>Query query = queryService.newQuery(queryString);\n\n// set a query bind parameter\nObject[] params = new Object[2];\nparams[0] = new Date(2023,03,10).getTime();\nparams[1] = new Date(2023,03,12).getTime();\n\n// Execute the query locally. It returns the results set.\nSelectResults results = (SelectResults) query.execute(params);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680039313,"creation_date":1680038989,"answer_id":75871229,"question_id":75823572,"body_markdown":"@Udo is correct, here!\r\n\r\nStoring or exposing some timestamp (`long` or `Long&#39; value) on your application domain object(s), that are stored and managed in VMware GemFire, is actually preferable in this case.\r\n\r\nIt could even look something like this...\r\n\r\n```java\r\npackage example.app.customers.model;\r\n\r\nimport java.time.Instant\r\n...\r\n@Region(&quot;Customers&quot;)\r\nclass Customer {\r\n\r\n  private Long id;\r\n\r\n  private Instant joined;\r\n\r\n  private final String name;\r\n\r\n  public long getJoinedTimestamp() {\r\n\r\n    Instant localJoined = this.joined;\r\n\r\n    return localJoined != null ? localJoined.toEpochMilli() : 0L;\r\n  }\r\n\r\n  // other getters, setters and accessors omitted\r\n\r\n}\r\n```\r\n\r\nHowever, I would NOT use `java.util.Calendar`, but rather use the (`@since`) **Java 8** date/time types in the `java.time` package ([Javadoc][1]), like `java.time.Instant` ([Javadoc][2]).\r\n\r\nThen, it would also be a simple matter to write a derived query using the ***Spring Data (SD) [GemFire]*** *Repository* abstraction, too!\r\n\r\nThere is no need to use GemFire&#39;s OQL-based query API (:P) in this case!\r\n\r\nSo, you could have SD GemFire Repository declaration like the following:\r\n\r\n```java\r\npackage example.app.customers.repo;\r\n\r\ninterface CustomerRepository extends CrudRepository&lt;Customer, Long&gt; {\r\n\r\n  List&lt;Customer&gt; findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThan(Long begin, Long end);\r\n```\r\n\r\n&gt; NOTE: The time range could be inclusive, too, such as `findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThanEqual(..)` as well.\r\n\r\n&gt; NOTE: In my example above, the joined timestamp is inclusive on the lower bound and exclusive on the upper bound.\r\n\r\nYou can find out more about *Spring Data GemFire&#39;s* (SDG) extension of *Spring Data&#39;s (SD) Repository* infrastructure and querying capabilities here, in the [SDG doc][3], and specifically on SDG derived (OQL) queries in [doc][4] as well.\r\n\r\nFor more general information on the *Spring Data Repository* infrastructure abstraction, see the *Spring Data Commons&#39;* [documentation][5], and specifically about [query methods][6].\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories\r\n  [4]: https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories.queries.executing\r\n  [5]: https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories\r\n  [6]: https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.query-methods","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>@Udo is correct, here!</p>\n<p>Storing or exposing some timestamp (<code>long</code> or `Long' value) on your application domain object(s), that are stored and managed in VMware GemFire, is actually preferable in this case.</p>\n<p>It could even look something like this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example.app.customers.model;\n\nimport java.time.Instant\n...\n@Region(&quot;Customers&quot;)\nclass Customer {\n\n  private Long id;\n\n  private Instant joined;\n\n  private final String name;\n\n  public long getJoinedTimestamp() {\n\n    Instant localJoined = this.joined;\n\n    return localJoined != null ? localJoined.toEpochMilli() : 0L;\n  }\n\n  // other getters, setters and accessors omitted\n\n}\n</code></pre>\n<p>However, I would NOT use <code>java.util.Calendar</code>, but rather use the (<code>@since</code>) <strong>Java 8</strong> date/time types in the <code>java.time</code> package (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc</a>), like <code>java.time.Instant</code> (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\">Javadoc</a>).</p>\n<p>Then, it would also be a simple matter to write a derived query using the <em><strong>Spring Data (SD) [GemFire]</strong></em> <em>Repository</em> abstraction, too!</p>\n<p>There is no need to use GemFire's OQL-based query API (:P) in this case!</p>\n<p>So, you could have SD GemFire Repository declaration like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example.app.customers.repo;\n\ninterface CustomerRepository extends CrudRepository&lt;Customer, Long&gt; {\n\n  List&lt;Customer&gt; findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThan(Long begin, Long end);\n</code></pre>\n<blockquote>\n<p>NOTE: The time range could be inclusive, too, such as <code>findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThanEqual(..)</code> as well.</p>\n</blockquote>\n<blockquote>\n<p>NOTE: In my example above, the joined timestamp is inclusive on the lower bound and exclusive on the upper bound.</p>\n</blockquote>\n<p>You can find out more about <em>Spring Data GemFire's</em> (SDG) extension of <em>Spring Data's (SD) Repository</em> infrastructure and querying capabilities here, in the <a href=\"https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories\" rel=\"nofollow noreferrer\">SDG doc</a>, and specifically on SDG derived (OQL) queries in <a href=\"https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories.queries.executing\" rel=\"nofollow noreferrer\">doc</a> as well.</p>\n<p>For more general information on the <em>Spring Data Repository</em> infrastructure abstraction, see the <em>Spring Data Commons'</em> <a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories\" rel=\"nofollow noreferrer\">documentation</a>, and specifically about <a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.query-methods\" rel=\"nofollow noreferrer\">query methods</a>.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":19083946,"reputation":11,"user_id":13935616,"display_name":"ayush srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1680040256,"creation_date":1679577749,"question_id":75823572,"body_markdown":"Can anyone help me with fecthing exactly last 24 hr data directly using gemfire OQL or some custom java code.\r\n\r\ni tried using LIKE query and fetch two days of data but i am not sure how two pass dynamic data in gemfire query since everything is treated as string.","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>Can anyone help me with fecthing exactly last 24 hr data directly using gemfire OQL or some custom java code.</p>\n<p>i tried using LIKE query and fetch two days of data but i am not sure how two pass dynamic data in gemfire query since everything is treated as string.</p>\n"},{"tags":["java","tls1.3","ssl-client-authentication"],"owner":{"account_id":4673039,"reputation":125,"user_id":3784352,"display_name":"John Gregg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680039687,"creation_date":1680039687,"question_id":75871305,"body_markdown":"I am getting the &quot;no available authentication&quot; scheme in Oracle Java 11.0.17 with client authentication and TLS 1.3.  Server is 11.0.18.  Many of my search results say the problem is a DSA certificate, but I don&#39;t have a DSA cert so I&#39;d like to know more about what&#39;s happening.\r\n\r\nReverting to TLS 1.2 works around the problem.\r\n\r\nRegardless of whether I force TLS 1.2, even if the client hello message says it supports 1.3, the server hello message always says 1.2.\r\n\r\nBoth client and server have certificate algorithm SHA256withRSA.  That&#39;s what&#39;s printed in verbose SSL and in keytool -list.\r\n\r\nThe certificate requests from the server look identical.\r\n\r\nAfter the server asks for the client cert, I get a sequence of messages like\r\n\r\n    Unavailable authentication scheme: ecdsa_secp256r1_sha256\r\n\r\nI get that same message for secp256, secp384, and secp521.\r\n  \r\nWhen the handshake succeeds with TLS 1.2, the secp521 is the last of those messages before the &quot;matching alias&quot; message.\r\n\r\nWhen the handshake fails with TLS 1.3, I get a bunch more similar &quot;unavailable auth scheme&quot; messages.  The one after 521 is rsa_pss_rsae_sha256, which makes me think that it works for TLS 1.2 but not for 1.3.\r\n\r\nIn both cases, rsa_pss_rsae_sha256 is the signature algo in the ECDH server key exchange message.  My searches of rsa_pss_rsae_sha256 don&#39;t turn up any answers, or at least none that I understand.\r\n","title":"&quot;No available authentication scheme&quot; and TLS 1.3","body":"<p>I am getting the &quot;no available authentication&quot; scheme in Oracle Java 11.0.17 with client authentication and TLS 1.3.  Server is 11.0.18.  Many of my search results say the problem is a DSA certificate, but I don't have a DSA cert so I'd like to know more about what's happening.</p>\n<p>Reverting to TLS 1.2 works around the problem.</p>\n<p>Regardless of whether I force TLS 1.2, even if the client hello message says it supports 1.3, the server hello message always says 1.2.</p>\n<p>Both client and server have certificate algorithm SHA256withRSA.  That's what's printed in verbose SSL and in keytool -list.</p>\n<p>The certificate requests from the server look identical.</p>\n<p>After the server asks for the client cert, I get a sequence of messages like</p>\n<pre><code>Unavailable authentication scheme: ecdsa_secp256r1_sha256\n</code></pre>\n<p>I get that same message for secp256, secp384, and secp521.</p>\n<p>When the handshake succeeds with TLS 1.2, the secp521 is the last of those messages before the &quot;matching alias&quot; message.</p>\n<p>When the handshake fails with TLS 1.3, I get a bunch more similar &quot;unavailable auth scheme&quot; messages.  The one after 521 is rsa_pss_rsae_sha256, which makes me think that it works for TLS 1.2 but not for 1.3.</p>\n<p>In both cases, rsa_pss_rsae_sha256 is the signature algo in the ECDH server key exchange message.  My searches of rsa_pss_rsae_sha256 don't turn up any answers, or at least none that I understand.</p>\n"},{"tags":["c#","java","c++","floating-point","int"],"comments":[{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":0,"creation_date":1340376369,"post_id":11158476,"comment_id":14633000,"body_markdown":"Where are you getting the max floating point value of 3.4 * 10 ^ 38 from?","body":"Where are you getting the max floating point value of 3.4 * 10 ^ 38 from?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":9,"creation_date":1340376370,"post_id":11158476,"comment_id":14633002,"body_markdown":"The precision of the float for large numbers is much lower than an int.","body":"The precision of the float for large numbers is much lower than an int."},{"owner":{"account_id":196596,"reputation":102341,"user_id":440119,"accept_rate":91,"display_name":"Benjamin Lindley"},"score":3,"creation_date":1340376381,"post_id":11158476,"comment_id":14633009,"body_markdown":"Hmm... You say &quot;floating numbers&quot; as if it&#39;s obvious to you what that means, but is it?","body":"Hmm... You say &quot;floating numbers&quot; as if it&#39;s obvious to you what that means, but is it?"},{"owner":{"account_id":5436,"reputation":164882,"user_id":8747,"accept_rate":100,"display_name":"Robᵩ"},"score":0,"creation_date":1340377472,"post_id":11158476,"comment_id":14633571,"body_markdown":"Obligatory link: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","body":"Obligatory link: <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1340378491,"post_id":11158476,"comment_id":14634096,"body_markdown":"Imagine you have an `int` value which represents a price in cents and another `int` value which represents a price in dollars. The question is; how can the amount in dollars be more than the amount in cents? If you can answer that question, you have answered your own. ;)","body":"Imagine you have an <code>int</code> value which represents a price in cents and another <code>int</code> value which represents a price in dollars. The question is; how can the amount in dollars be more than the amount in cents? If you can answer that question, you have answered your own. ;)"},{"owner":{"account_id":249276,"reputation":21540,"user_id":525217,"accept_rate":100,"display_name":"mfontanini"},"score":0,"creation_date":1340378818,"post_id":11158476,"comment_id":14634275,"body_markdown":"How do you know an `int` is represented using 32-bits? This might be true for C# and Java, but not for C++.","body":"How do you know an <code>int</code> is represented using 32-bits? This might be true for C# and Java, but not for C++."},{"owner":{"account_id":86993,"reputation":100152,"user_id":241536,"accept_rate":84,"display_name":"John Dibling"},"score":0,"creation_date":1340379644,"post_id":11158476,"comment_id":14634666,"body_markdown":"A `float` and an `int` are *not* **necesarrily** exactly 32 bits.  The Standard doesn&#39;t define the sizes absolutely -- only in terms relative to other types.","body":"A <code>float</code> and an <code>int</code> are <i>not</i> <b>necesarrily</b> exactly 32 bits.  The Standard doesn&#39;t define the sizes absolutely -- only in terms relative to other types."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1340376376,"creation_date":1340376376,"answer_id":11158535,"question_id":11158476,"body_markdown":"These are based on IEEE754 floating point specification, that is why it is possible. Please read this [documentation][1]. It is not just about how many bits.\r\n\r\n\r\n  [1]: http://steve.hollasch.net/cgindex/coding/ieeefloat.html","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>These are based on IEEE754 floating point specification, that is why it is possible. Please read this <a href=\"http://steve.hollasch.net/cgindex/coding/ieeefloat.html\" rel=\"noreferrer\">documentation</a>. It is not just about how many bits.</p>\n"},{"comments":[{"owner":{"account_id":670541,"reputation":1647,"user_id":512111,"display_name":"j08lue"},"score":4,"creation_date":1520284070,"post_id":11158537,"comment_id":85244422,"body_markdown":"You are demonstrating writing to console here. Does that really tell us anything about precision?","body":"You are demonstrating writing to console here. Does that really tell us anything about precision?"},{"owner":{"account_id":1573896,"reputation":793,"user_id":1460924,"display_name":"rudi"},"score":1,"creation_date":1628606832,"post_id":11158537,"comment_id":121463021,"body_markdown":"Maybe this &quot;console print&quot; example makes it more clear (java code):\nSystem.out.println(16828700f == 16828700f + 1f); // =&gt; true","body":"Maybe this &quot;console print&quot; example makes it more clear (java code): System.out.println(16828700f == 16828700f + 1f); // =&gt; true"}],"tags":[],"owner":{"account_id":459853,"reputation":21492,"user_id":860585,"accept_rate":95,"display_name":"Rotem"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1340376702,"creation_date":1340376380,"answer_id":11158537,"question_id":11158476,"body_markdown":"A float might store a higher number value, but it will not be precise even on digits before the decimal dot.\r\nConsider the following example:\r\n\r\n    float a = 123456789012345678901234567890f; //30 digits\r\n    Console.WriteLine(a);  // 1.234568E+29\r\n\r\nNotice that barely any precision is kept.\r\n\r\nAn integer on the other hand will always precisely store any number within its range of values.\r\n\r\nFor the sake of comparison, let&#39;s look at a double precision floating point number:\r\n\r\n\tdouble a = 123456789012345678901234567890d; //30 digits\r\n\tConsole.WriteLine(a); // 1.23456789012346E+29\r\n\r\nNotice that roughly twice as much significant digits are preserved.","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>A float might store a higher number value, but it will not be precise even on digits before the decimal dot.\nConsider the following example:</p>\n\n<pre><code>float a = 123456789012345678901234567890f; //30 digits\nConsole.WriteLine(a);  // 1.234568E+29\n</code></pre>\n\n<p>Notice that barely any precision is kept.</p>\n\n<p>An integer on the other hand will always precisely store any number within its range of values.</p>\n\n<p>For the sake of comparison, let's look at a double precision floating point number:</p>\n\n<pre><code>double a = 123456789012345678901234567890d; //30 digits\nConsole.WriteLine(a); // 1.23456789012346E+29\n</code></pre>\n\n<p>Notice that roughly twice as much significant digits are preserved.</p>\n"},{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340376688,"creation_date":1340376688,"answer_id":11158636,"question_id":11158476,"body_markdown":"The hint is in the &quot;floating&quot; part of &quot;floating point&quot;. What you say basically assumes fixed point. A floating point number does not &quot;reserve space&quot; for the digits after the decimal point - it has a limited number of digits (23 binary) and remembers what power of two to multiply it by.","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>The hint is in the \"floating\" part of \"floating point\". What you say basically assumes fixed point. A floating point number does not \"reserve space\" for the digits after the decimal point - it has a limited number of digits (23 binary) and remembers what power of two to multiply it by.</p>\n"},{"comments":[{"owner":{"account_id":196596,"reputation":102341,"user_id":440119,"accept_rate":91,"display_name":"Benjamin Lindley"},"score":11,"creation_date":1340377045,"post_id":11158675,"comment_id":14633352,"body_markdown":"Very interesting, easy to understand(though not technical) explanation.  I like it.","body":"Very interesting, easy to understand(though not technical) explanation.  I like it."},{"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"score":1,"creation_date":1340435472,"post_id":11158675,"comment_id":14648325,"body_markdown":"Great explanation on the bit structure of floats: http://www.youtube.com/watch?feature=player_detailpage&amp;list=PL9D558D49CA734A02&amp;v=jTSvthW34GU#t=1984s","body":"Great explanation on the bit structure of floats: <a href=\"http://www.youtube.com/watch?feature=player_detailpage&amp;list=PL9D558D49CA734A02&amp;v=jTSvthW34GU#t=1984s\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":27080,"reputation":62672,"user_id":71059,"accept_rate":95,"display_name":"AakashM"},"comment_count":2,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1340376786,"creation_date":1340376786,"answer_id":11158675,"question_id":11158476,"body_markdown":"Your intuition quite rightly tells you that there can be no more **information content** in one than the other, because they both have 32 bits. But that doesn&#39;t mean we can&#39;t use those bits to **represent** different values.\r\n\r\nSuppose I invent two new datatypes, `uint4` and `foo4`. `uint4` uses 4 bits to represent an integer, in the standard binary representation, so we have\r\n\r\n    bits   value\r\n    0000       0\r\n    0001       1\r\n    0010       2\r\n    ...\r\n    1111      15\r\n\r\nBut `foo4` uses 4 bits to represent these values:\r\n\r\n    bits   value\r\n    0000       0\r\n    0001      42\r\n    0010     -97\r\n    0011       1\r\n    ...\r\n    1110      pi\r\n    1111       e\r\n\r\nNow `foo4` has a  much **wider** range of values than `uint4`, despite having the same number of bits! How? Because there are some `uint4` values that **can&#39;t** be represented by `foo4`, so those &#39;slots&#39; in the bit mapping are available for other values.\r\n\r\n---\r\n\r\nIt is the same for `int` and `float` - they can both store values from a set of 2&lt;sup&gt;32&lt;/sup&gt; values, just *different* sets of 2&lt;sup&gt;32&lt;/sup&gt; values.\r\n\r\n\r\n","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>Your intuition quite rightly tells you that there can be no more <strong>information content</strong> in one than the other, because they both have 32 bits. But that doesn't mean we can't use those bits to <strong>represent</strong> different values.</p>\n\n<p>Suppose I invent two new datatypes, <code>uint4</code> and <code>foo4</code>. <code>uint4</code> uses 4 bits to represent an integer, in the standard binary representation, so we have</p>\n\n<pre><code>bits   value\n0000       0\n0001       1\n0010       2\n...\n1111      15\n</code></pre>\n\n<p>But <code>foo4</code> uses 4 bits to represent these values:</p>\n\n<pre><code>bits   value\n0000       0\n0001      42\n0010     -97\n0011       1\n...\n1110      pi\n1111       e\n</code></pre>\n\n<p>Now <code>foo4</code> has a  much <strong>wider</strong> range of values than <code>uint4</code>, despite having the same number of bits! How? Because there are some <code>uint4</code> values that <strong>can't</strong> be represented by <code>foo4</code>, so those 'slots' in the bit mapping are available for other values.</p>\n\n<hr>\n\n<p>It is the same for <code>int</code> and <code>float</code> - they can both store values from a set of 2<sup>32</sup> values, just <em>different</em> sets of 2<sup>32</sup> values.</p>\n"}],"owner":{"account_id":1240261,"reputation":3190,"user_id":1203043,"accept_rate":84,"display_name":"idish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23582,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":11158675,"answer_count":4,"score":45,"last_activity_date":1680038512,"creation_date":1340376198,"question_id":11158476,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [what the difference between the float and integer data type when the size is same in java?](https://stackoverflow.com/questions/4806944/what-the-difference-between-the-float-and-integer-data-type-when-the-size-is-sam)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nAs you probably know, both of these types are 32-bits.`int` can hold only integer numbers, whereas `float` also supports [floating point](http://en.wikipedia.org/wiki/Floating_point) numbers (as the type names suggest).\r\n\r\nHow is it possible then that the max value of `int` is 2&lt;sup&gt;31&lt;/sup&gt;, and the max value of  `float` is 3.4*10&lt;sup&gt;38&lt;/sup&gt;, while both of them are 32 bits?\r\n\r\nI think that `int`&#39;s max value capacity should be higher than the float because it doesn&#39;t save memory for the floating number and accepts only integer numbers. I&#39;ll be glad for an explanation in that case.","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/4806944/what-the-difference-between-the-float-and-integer-data-type-when-the-size-is-sam\">what the difference between the float and integer data type when the size is same in java?</a>  </p>\n</blockquote>\n\n\n\n<p>As you probably know, both of these types are 32-bits.<code>int</code> can hold only integer numbers, whereas <code>float</code> also supports <a href=\"http://en.wikipedia.org/wiki/Floating_point\" rel=\"noreferrer\">floating point</a> numbers (as the type names suggest).</p>\n\n<p>How is it possible then that the max value of <code>int</code> is 2<sup>31</sup>, and the max value of  <code>float</code> is 3.4*10<sup>38</sup>, while both of them are 32 bits?</p>\n\n<p>I think that <code>int</code>'s max value capacity should be higher than the float because it doesn't save memory for the floating number and accepts only integer numbers. I'll be glad for an explanation in that case.</p>\n"},{"tags":["java","spring","spring-boot","junit"],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680038345,"creation_date":1680037626,"question_id":75871082,"body_markdown":"So stemming from this question: https://stackoverflow.com/questions/42912616/spring-test-context-best-practice \r\n\r\nLet&#39;s say you are trying to load a Spring test in Intellij but do not want to run each JUnit test in its own JVM fork (maven surefire plugin&#39;s `fork=class` mode). \r\n\r\nWe instead want to use the default - where all the tests run in same JVM. This will run much faster.\r\n\r\nBut this does not currently work for me because I&#39;m getting &quot;BeanAlreadyDefined&quot; exceptions for some of my auto-configured beans. \r\n\r\nThe stackoverflow question I linked says how to fix it when the Spring beans are already written. But I&#39;m writing new ones. And I want to make them in a way that is following best practices.\r\n\r\nIs there some guide to making Spring JUnit Tests capable of being ran within the same JVM? ","title":"Are there Spring Test best practices to avoid Spring Bean Already Defined Exceptions without having to resort to Fork=Class?","body":"<p>So stemming from this question: <a href=\"https://stackoverflow.com/questions/42912616/spring-test-context-best-practice\">Spring test context best practice</a></p>\n<p>Let's say you are trying to load a Spring test in Intellij but do not want to run each JUnit test in its own JVM fork (maven surefire plugin's <code>fork=class</code> mode).</p>\n<p>We instead want to use the default - where all the tests run in same JVM. This will run much faster.</p>\n<p>But this does not currently work for me because I'm getting &quot;BeanAlreadyDefined&quot; exceptions for some of my auto-configured beans.</p>\n<p>The stackoverflow question I linked says how to fix it when the Spring beans are already written. But I'm writing new ones. And I want to make them in a way that is following best practices.</p>\n<p>Is there some guide to making Spring JUnit Tests capable of being ran within the same JVM?</p>\n"},{"tags":["java","intellij-idea","tabnine"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1680091057,"post_id":75871155,"comment_id":133837469,"body_markdown":"It should be possible to reassign shortcuts in &quot;Settings/Preferences | Keymap&quot;","body":"It should be possible to reassign shortcuts in &quot;Settings/Preferences | Keymap&quot;"}],"owner":{"account_id":12077366,"reputation":31,"user_id":8830328,"display_name":"C. H."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680038316,"creation_date":1680038316,"question_id":75871155,"body_markdown":"Apparently it is &quot;Alt + ]&quot; for next suggestion and &quot;Alt + [&quot; for the previous suggestion, but how can one input these shortcuts when [ and ] are Alt shortcuts by themselves?","title":"How do you navigate through Tabnine suggestions?","body":"<p>Apparently it is &quot;Alt + ]&quot; for next suggestion and &quot;Alt + [&quot; for the previous suggestion, but how can one input these shortcuts when [ and ] are Alt shortcuts by themselves?</p>\n"},{"tags":["java","hadoop","jar","javac"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680037470,"creation_date":1680037470,"answer_id":75871060,"question_id":75862852,"body_markdown":"Hadoop does not support Java 11 until latest version 3.3.4\r\n\r\nIf you have both 8 and 11 installed and are not using that version, I&#39;d suggest uninstalling Java 11 completely from your systems. \r\n\r\nSame goes for **external** systems that run that JAR file, such as YARN ResourceManagers. \r\n\r\nI&#39;d recommend using Maven/Gradle to compile JARs, not manually running `javac`","title":"UnsupportedClassVersionError in Hadoop despite the version being correct","body":"<p>Hadoop does not support Java 11 until latest version 3.3.4</p>\n<p>If you have both 8 and 11 installed and are not using that version, I'd suggest uninstalling Java 11 completely from your systems.</p>\n<p>Same goes for <strong>external</strong> systems that run that JAR file, such as YARN ResourceManagers.</p>\n<p>I'd recommend using Maven/Gradle to compile JARs, not manually running <code>javac</code></p>\n"}],"owner":{"account_id":23228110,"reputation":1,"user_id":18126343,"display_name":"RS N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680037470,"creation_date":1679983908,"question_id":75862852,"body_markdown":"When I am running a JAR file using Hadoop, I am running into this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: WordCount has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:405)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.hadoop.util.RunJar.run(RunJar.java:316)\r\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\n```\r\n\r\nIt used to work before but I don&#39;t know why it suddenly stopped working. I think after trying this I had worked on some other code and now when I went back to this it started giving this error.\r\n\r\nI have tried:\r\n\r\n1. Both multi-node and single-node.\r\n2. I used update-alternatives to set java, javac and jar to the openJDK 8 version.\r\n3. I have tried target -8 in the javac command.\r\n4. I tried 2 ways to compile it:\r\n   `bin/hadoop com.sun.tools.javac.Main WordCount.java`\r\n   and\r\n   `javac WordCount.java -cp $HADOOP_CLASSPATH`\r\n5. Also tried compiling and jar using the entire path like /usr/lib/jvm/java-8-openjdk-amd64/bin/javac and the same path/jar.\r\n6. I have tried getting the JAR file from someone else for whom the command is working. Using the same JAR file also gave the same error.\r\n\r\nI am really at a loss. How do I proceed now?\r\n\r\nI have Java 11 and 8 installed but I have checked JAVA_HOME, javac -version and java -version. They are correct. hadoop-env.sh is also set correctly.","title":"UnsupportedClassVersionError in Hadoop despite the version being correct","body":"<p>When I am running a JAR file using Hadoop, I am running into this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: WordCount has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:405)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.apache.hadoop.util.RunJar.run(RunJar.java:316)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\n</code></pre>\n<p>It used to work before but I don't know why it suddenly stopped working. I think after trying this I had worked on some other code and now when I went back to this it started giving this error.</p>\n<p>I have tried:</p>\n<ol>\n<li>Both multi-node and single-node.</li>\n<li>I used update-alternatives to set java, javac and jar to the openJDK 8 version.</li>\n<li>I have tried target -8 in the javac command.</li>\n<li>I tried 2 ways to compile it:\n<code>bin/hadoop com.sun.tools.javac.Main WordCount.java</code>\nand\n<code>javac WordCount.java -cp $HADOOP_CLASSPATH</code></li>\n<li>Also tried compiling and jar using the entire path like /usr/lib/jvm/java-8-openjdk-amd64/bin/javac and the same path/jar.</li>\n<li>I have tried getting the JAR file from someone else for whom the command is working. Using the same JAR file also gave the same error.</li>\n</ol>\n<p>I am really at a loss. How do I proceed now?</p>\n<p>I have Java 11 and 8 installed but I have checked JAVA_HOME, javac -version and java -version. They are correct. hadoop-env.sh is also set correctly.</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":9719796,"reputation":88,"user_id":7208876,"display_name":"Loc Le Xuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679480454,"creation_date":1679480454,"answer_id":75810971,"question_id":75810764,"body_markdown":"I don&#39;t think upgrade gradle version is a good idea for this. Since flutter is a cross-platform frameword, it has some limit in use latest version of gradle.\r\n\r\nSo, I can give you some recommend to fix, hope this help you that downgrade java version and gradle version\r\n\r\n```\r\nSampleApp\r\n- android\r\n  - app\r\n  - build.gradle\r\n- gradle\r\n  - gradle-wrapper.properties\r\nbuild.gradle\r\n```\r\n\r\nAs you can see, we have two build.gradle file seperately, \r\nYou should downgrade version in project/build.gradle\r\n\r\n```\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n        ...\r\n    }\r\n\r\n```\r\nAnd in gradle-wrapper.properties, you should downgrade version, too\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\r\n```\r\n\r\n\r\nThen in terminal, you call `flutter clean` and `flutter run` to build again. \r\nHope this help\r\n\r\n\r\n ","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>I don't think upgrade gradle version is a good idea for this. Since flutter is a cross-platform frameword, it has some limit in use latest version of gradle.</p>\n<p>So, I can give you some recommend to fix, hope this help you that downgrade java version and gradle version</p>\n<pre><code>SampleApp\n- android\n  - app\n  - build.gradle\n- gradle\n  - gradle-wrapper.properties\nbuild.gradle\n</code></pre>\n<p>As you can see, we have two build.gradle file seperately,\nYou should downgrade version in project/build.gradle</p>\n<pre><code>    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        ...\n    }\n\n</code></pre>\n<p>And in gradle-wrapper.properties, you should downgrade version, too</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\n</code></pre>\n<p>Then in terminal, you call <code>flutter clean</code> and <code>flutter run</code> to build again.\nHope this help</p>\n"},{"tags":[],"owner":{"account_id":18770926,"reputation":1,"user_id":13687753,"display_name":"Dmitriy Reuta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680037233,"creation_date":1679481042,"answer_id":75811086,"question_id":75810764,"body_markdown":"Try `flutter doctor -v`. This will give you much more detailed info about your environment.\r\n\r\nBut I recommend you use Android Studio so that you don&#39;t have to reinvent the wheel. It&#39;s much easier to start out on and can save you a lot of time.\r\n","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>Try <code>flutter doctor -v</code>. This will give you much more detailed info about your environment.</p>\n<p>But I recommend you use Android Studio so that you don't have to reinvent the wheel. It's much easier to start out on and can save you a lot of time.</p>\n"},{"comments":[{"owner":{"account_id":21024560,"reputation":31,"user_id":15450169,"display_name":"Prathamesh Potabatti"},"score":0,"creation_date":1679486816,"post_id":75811271,"comment_id":133729866,"body_markdown":"Thanks Karl, this solution has worked, its the compatibility issue of Gradle with Java.","body":"Thanks Karl, this solution has worked, its the compatibility issue of Gradle with Java."}],"tags":[],"owner":{"account_id":26669471,"reputation":74,"user_id":20281089,"display_name":"KarlMathuthu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679482112,"creation_date":1679482112,"answer_id":75811271,"question_id":75810764,"body_markdown":"I just answered another guy with the same problem as yours, I guess it&#39;s gonna work as it worked for me Check this , [I answered][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75635750/20281089","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>I just answered another guy with the same problem as yours, I guess it's gonna work as it worked for me Check this , <a href=\"https://stackoverflow.com/a/75635750/20281089\">I answered</a></p>\n"}],"owner":{"account_id":21024560,"reputation":31,"user_id":15450169,"display_name":"Prathamesh Potabatti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680037233,"creation_date":1679479188,"question_id":75810764,"body_markdown":"I am using Windows 11 machine and learning flutter for the first time and I am using it without Android Studio. I have installed and setup the android SDK manually. Added the SDK to path. Made an ANDROID_SDK_ROOT environment variable. Using the sdkmanager I have installed the &quot;build-tools;33.0.1&quot; &quot;platforms;android-33&quot; &quot;platform-tools&quot;. I have added flutter sdk, platform-tools to path.\r\n\r\nI have manually installed Gradle version 8.0.2 and added it to path as well.\r\n\r\nNow I opened VS Code, opened the command palette and selected Flutter:New Project and then selecting Application.\r\n\r\nI ran &quot;flutter run&quot; in the bash terminal but received the following error:\r\n[this is the error I get](https://i.stack.imgur.com/g4p36.png)\r\n\r\nHere is my gradle version:\r\n[gradle version 8.0.2](https://i.stack.imgur.com/G7jIP.png)\r\n\r\nFlutter Doctor output:\r\n[I am using flutter without android studio](https://i.stack.imgur.com/9xcov.png)\r\n\r\nI have installed jdk version 19.0.2 and added that to path as well. Added JAVA_HOME variable in the environment.\r\n\r\nI have tried changing the version of gradle in the gradle-wrapper.properties file:\r\n[Before the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine](https://i.stack.imgur.com/22nCL.png)\r\n\r\nBefore the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine.\r\nDue to this in my .gradle folder there are two subfolders made, which are 7.5 and 8.0.2.\r\n\r\nI have tried deleting this folder and recompiling it, but it still doesn&#39;t work.\r\n\r\nI have searched the web and tried multiple solutions. I ran `flutter clean`, `flutter pub get` etc. etc. but none of them seem to work. What can I try next?\r\n\r\nHere is my `root/android/app/build.gradle` script:\r\n\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n\r\nandroid {\r\n    compileSdkVersion flutter.compileSdkVersion\r\n    ndkVersion flutter.ndkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.example.sampleapp&quot;\r\n        // You can update the following values to match your application needs.\r\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\r\n        minSdkVersion flutter.minSdkVersion\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n}\r\n```\r\n\r\nI tried many solutions available on the internet, but none of them seem to work.","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>I am using Windows 11 machine and learning flutter for the first time and I am using it without Android Studio. I have installed and setup the android SDK manually. Added the SDK to path. Made an ANDROID_SDK_ROOT environment variable. Using the sdkmanager I have installed the &quot;build-tools;33.0.1&quot; &quot;platforms;android-33&quot; &quot;platform-tools&quot;. I have added flutter sdk, platform-tools to path.</p>\n<p>I have manually installed Gradle version 8.0.2 and added it to path as well.</p>\n<p>Now I opened VS Code, opened the command palette and selected Flutter:New Project and then selecting Application.</p>\n<p>I ran &quot;flutter run&quot; in the bash terminal but received the following error:\n<a href=\"https://i.stack.imgur.com/g4p36.png\" rel=\"nofollow noreferrer\">this is the error I get</a></p>\n<p>Here is my gradle version:\n<a href=\"https://i.stack.imgur.com/G7jIP.png\" rel=\"nofollow noreferrer\">gradle version 8.0.2</a></p>\n<p>Flutter Doctor output:\n<a href=\"https://i.stack.imgur.com/9xcov.png\" rel=\"nofollow noreferrer\">I am using flutter without android studio</a></p>\n<p>I have installed jdk version 19.0.2 and added that to path as well. Added JAVA_HOME variable in the environment.</p>\n<p>I have tried changing the version of gradle in the gradle-wrapper.properties file:\n<a href=\"https://i.stack.imgur.com/22nCL.png\" rel=\"nofollow noreferrer\">Before the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine</a></p>\n<p>Before the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine.\nDue to this in my .gradle folder there are two subfolders made, which are 7.5 and 8.0.2.</p>\n<p>I have tried deleting this folder and recompiling it, but it still doesn't work.</p>\n<p>I have searched the web and tried multiple solutions. I ran <code>flutter clean</code>, <code>flutter pub get</code> etc. etc. but none of them seem to work. What can I try next?</p>\n<p>Here is my <code>root/android/app/build.gradle</code> script:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.sampleapp&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdkVersion flutter.minSdkVersion\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n</code></pre>\n<p>I tried many solutions available on the internet, but none of them seem to work.</p>\n"},{"tags":["java","swing","swingutilities"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1680022931,"post_id":75868874,"comment_id":133824732,"body_markdown":"This question has nothing to do with Javascript btw","body":"This question has nothing to do with Javascript btw"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680024152,"post_id":75868874,"comment_id":133825084,"body_markdown":"With regards to this `label.setIcon(image)`. you no not have a variable called `image`. Change it to `label.setIcon(icon)`.","body":"With regards to this <code>label.setIcon(image)</code>. you no not have a variable called <code>image</code>. Change it to <code>label.setIcon(icon)</code>."}],"answers":[{"tags":[],"owner":{"account_id":5209321,"reputation":116,"user_id":4166251,"display_name":"Stanimir Stamenkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022409,"creation_date":1680022409,"answer_id":75868986,"question_id":75868874,"body_markdown":"[`new ImageIcon(&quot;momos.jpeg&quot;)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.lang.String)) searches for a file named `momos.jpeg` in the current working directory.  Are you sure you&#39;re starting the application from the directory containing `momos.jpeg`?\r\n\r\nIt is generally better to specify `URL` to a classpath resource, like:\r\n\r\n```java\r\n        ImageIcon icon = new ImageIcon(Label.class.getResource(&quot;momos.jpeg&quot;));\r\n```\r\n\r\nAs long as `momos.jpeg` is in the same directory/package as the application `Label` class, it will be located no matter the current working directory.\r\n","title":"The image Icon doesn&#39;t show up","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\"><code>new ImageIcon(&quot;momos.jpeg&quot;)</code></a> searches for a file named <code>momos.jpeg</code> in the current working directory.  Are you sure you're starting the application from the directory containing <code>momos.jpeg</code>?</p>\n<p>It is generally better to specify <code>URL</code> to a classpath resource, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ImageIcon icon = new ImageIcon(Label.class.getResource(&quot;momos.jpeg&quot;));\n</code></pre>\n<p>As long as <code>momos.jpeg</code> is in the same directory/package as the application <code>Label</code> class, it will be located no matter the current working directory.</p>\n"}],"owner":{"account_id":28150131,"reputation":1,"user_id":21511852,"display_name":"Federico Serrano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680037203,"creation_date":1680021535,"question_id":75868874,"body_markdown":"I&#39;m trying out the different functions of the frame and label, and the image icon doesn&#39;t show up. The code runs perfectly, but the image doesn&#39;t appear. \r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.border.Border;\r\n\r\npublic class Label {\r\npublic static void main(String[] args) {\r\n\t\r\n\tImageIcon icon = new ImageIcon(&quot;momos.jpeg&quot;);\r\n\t\r\n\tBorder border = BorderFactory.createLineBorder(Color.pink,10);\r\n\t\r\n\tJLabel label = new JLabel();\r\n\tlabel.setText(&quot;MOMAZOS!?!??!?!&quot;);\r\n\tlabel.setIcon(image);\r\n\tlabel.setHorizontalTextPosition(JLabel.CENTER);// set text CENTER, RIGHT OR LEFT of image icon\r\n\tlabel.setVerticalTextPosition(JLabel.BOTTOM);//set text TOP, CENTER OR BOTTOM of image icon\r\n\tlabel.setForeground(new Color(0xFF00AA));\r\n\tlabel.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC,40));\r\n\tlabel.setIconTextGap(100);\r\n\tlabel.setBorder(border);\r\n\tlabel.setVerticalAlignment(JLabel.TOP);\r\n\tlabel.setHorizontalAlignment(JLabel.RIGHT);\r\n\r\n\tJFrame frame = new JFrame();\r\n\tframe.setVisible(true);\r\n\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\tframe.setSize(1000,1000);\r\n\tframe.getContentPane().setBackground(new Color(0x39FF14));\r\n\tframe.add(label);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n```\r\n\r\nI need for the image to work.","title":"The image Icon doesn&#39;t show up","body":"<p>I'm trying out the different functions of the frame and label, and the image icon doesn't show up. The code runs perfectly, but the image doesn't appear.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.border.Border;\n\npublic class Label {\npublic static void main(String[] args) {\n    \n    ImageIcon icon = new ImageIcon(&quot;momos.jpeg&quot;);\n    \n    Border border = BorderFactory.createLineBorder(Color.pink,10);\n    \n    JLabel label = new JLabel();\n    label.setText(&quot;MOMAZOS!?!??!?!&quot;);\n    label.setIcon(image);\n    label.setHorizontalTextPosition(JLabel.CENTER);// set text CENTER, RIGHT OR LEFT of image icon\n    label.setVerticalTextPosition(JLabel.BOTTOM);//set text TOP, CENTER OR BOTTOM of image icon\n    label.setForeground(new Color(0xFF00AA));\n    label.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC,40));\n    label.setIconTextGap(100);\n    label.setBorder(border);\n    label.setVerticalAlignment(JLabel.TOP);\n    label.setHorizontalAlignment(JLabel.RIGHT);\n\n    JFrame frame = new JFrame();\n    frame.setVisible(true);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(1000,1000);\n    frame.getContentPane().setBackground(new Color(0x39FF14));\n    frame.add(label);\n\n    }\n\n}\n</code></pre>\n<pre><code></code></pre>\n<p>I need for the image to work.</p>\n"},{"tags":["java","android","image-processing","renderscript"],"comments":[{"owner":{"account_id":580967,"reputation":2273,"user_id":237912,"display_name":"Greg"},"score":2,"creation_date":1263509733,"post_id":2067955,"comment_id":1997533,"body_markdown":"Unfortunately the images will always be different so I won&#39;t be able create a blurred version ahead of time.  Plus I won&#39;t know the blur intensity ahead of time either.","body":"Unfortunately the images will always be different so I won&#39;t be able create a blurred version ahead of time.  Plus I won&#39;t know the blur intensity ahead of time either."},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":0,"creation_date":1263560337,"post_id":2067955,"comment_id":2001326,"body_markdown":"Could you post your code, it maybe it is the algorithm/code that is inefficient, 30 secs to go through an 640x480 image is slow, I&#39;d have thought  5 secs was slow to but then again depends on the processor.","body":"Could you post your code, it maybe it is the algorithm/code that is inefficient, 30 secs to go through an 640x480 image is slow, I&#39;d have thought  5 secs was slow to but then again depends on the processor."}],"answers":[{"comments":[{"owner":{"account_id":580967,"reputation":2273,"user_id":237912,"display_name":"Greg"},"score":5,"creation_date":1263575219,"post_id":2068981,"comment_id":2003298,"body_markdown":"After some testing and the blurring that I&#39;m doing this actual works well enough for me and it&#39;s fast.  Thanks!","body":"After some testing and the blurring that I&#39;m doing this actual works well enough for me and it&#39;s fast.  Thanks!"},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":4,"creation_date":1263850496,"post_id":2068981,"comment_id":2021782,"body_markdown":"If it works good.  It&#39;s a shame we never got to the bottom of why it was inefficient.","body":"If it works good.  It&#39;s a shame we never got to the bottom of why it was inefficient."},{"owner":{"account_id":55284,"reputation":115615,"user_id":165495,"accept_rate":91,"display_name":"Casebash"},"score":0,"creation_date":1273797228,"post_id":2068981,"comment_id":2872442,"body_markdown":"You might want to try createScaledBitmap and leaving the image the same size. It is blurring it for me :-(","body":"You might want to try createScaledBitmap and leaving the image the same size. It is blurring it for me :-("},{"owner":{"account_id":1445843,"reputation":1494,"user_id":1364368,"accept_rate":100,"display_name":"user1364368"},"score":1,"creation_date":1388086127,"post_id":2068981,"comment_id":31165520,"body_markdown":"Here is a discussion on the meaning of the argument &quot;filter&quot;: http://stackoverflow.com/questions/2895065","body":"Here is a discussion on the meaning of the argument &quot;filter&quot;: <a href=\"http://stackoverflow.com/questions/2895065\">stackoverflow.com/questions/2895065</a>"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":4,"creation_date":1400932225,"post_id":2068981,"comment_id":36692921,"body_markdown":"This is not exactly the way to got because of 2 reasons: 1) it needs the memory of the full image altough you are probably only using a downscaled one 2) you need to load the full image wich is slower - use loading with inSampleSize and BitmapFactory.decodeResource(), which is far superior solution to this.","body":"This is not exactly the way to got because of 2 reasons: 1) it needs the memory of the full image altough you are probably only using a downscaled one 2) you need to load the full image wich is slower - use loading with inSampleSize and BitmapFactory.decodeResource(), which is far superior solution to this."},{"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"score":0,"creation_date":1695855923,"post_id":2068981,"comment_id":136081385,"body_markdown":"So what&#39;s the proper way to use it? First, do it with dstWidth/10 and then dstWidth*10?","body":"So what&#39;s the proper way to use it? First, do it with dstWidth/10 and then dstWidth*10?"}],"tags":[],"owner":{"account_id":78719,"reputation":931,"user_id":223826,"display_name":"Luke"},"comment_count":6,"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1263521012,"creation_date":1263521012,"answer_id":2068981,"question_id":2067955,"body_markdown":"This is a shot in the dark, but you might try shrinking the image and then enlarging it again. This can be done with `Bitmap.createScaledBitmap(Bitmap src, int dstWidth, int dstHeight, boolean filter)`. Make sure and set the filter parameter to true. It&#39;ll run in native code so it might be faster.","title":"Fast Bitmap Blur For Android SDK","body":"<p>This is a shot in the dark, but you might try shrinking the image and then enlarging it again. This can be done with <code>Bitmap.createScaledBitmap(Bitmap src, int dstWidth, int dstHeight, boolean filter)</code>. Make sure and set the filter parameter to true. It'll run in native code so it might be faster.</p>\n"},{"comments":[{"owner":{"account_id":551682,"reputation":15303,"user_id":869867,"display_name":"Sileria"},"score":0,"creation_date":1378931539,"post_id":10028267,"comment_id":27638451,"body_markdown":"This take half the time than blurring using ConvolutionMatrix.","body":"This take half the time than blurring using ConvolutionMatrix."},{"owner":{"account_id":384858,"reputation":3280,"user_id":741652,"accept_rate":55,"display_name":"krisDrOid"},"score":3,"creation_date":1392703835,"post_id":10028267,"comment_id":33067754,"body_markdown":"what should i pass as radius?","body":"what should i pass as radius?"},{"owner":{"account_id":282068,"reputation":8540,"user_id":578746,"accept_rate":83,"display_name":"Yahel"},"score":1,"creation_date":1393867177,"post_id":10028267,"comment_id":33617296,"body_markdown":"Long time since I posted this, but from what I recall, the bigger the radius, the blurrier the final image. The algorithm mixes the pixels in a circle &quot;radius&quot; wide. The final color of the pixel being modified is the average of all the pixel in the &quot;radius&quot; circle.","body":"Long time since I posted this, but from what I recall, the bigger the radius, the blurrier the final image. The algorithm mixes the pixels in a circle &quot;radius&quot; wide. The final color of the pixel being modified is the average of all the pixel in the &quot;radius&quot; circle."},{"owner":{"account_id":1433556,"reputation":5425,"user_id":1355410,"accept_rate":14,"display_name":"MikeL"},"score":16,"creation_date":1394374027,"post_id":10028267,"comment_id":33851655,"body_markdown":"For radius larger than 1 sometimes you get ArrayIndexOutOfBoundsException. I will try to identify the problem.","body":"For radius larger than 1 sometimes you get ArrayIndexOutOfBoundsException. I will try to identify the problem."},{"owner":{"account_id":1625888,"reputation":647,"user_id":1501458,"accept_rate":31,"display_name":"see2851"},"score":7,"creation_date":1411879349,"post_id":10028267,"comment_id":40867562,"body_markdown":"@MichaelLiberman I also encountered the same problem.Found out why yet? &quot;g[yi] = dv[gsum];&quot; --&gt;error :java.lang.ArrayIndexOutOfBoundsException: length=112896; index=114021","body":"@MichaelLiberman I also encountered the same problem.Found out why yet? &quot;g[yi] = dv[gsum];&quot; --&gt;error :java.lang.ArrayIndexOutOfBoundsException: length=112896; index=114021"},{"owner":{"account_id":551682,"reputation":15303,"user_id":869867,"display_name":"Sileria"},"score":0,"creation_date":1425998357,"post_id":10028267,"comment_id":46184778,"body_markdown":"@MichaelLiberman Did you ever identify the ArrayIndexOutOfBoundsException problem? We are having the same problem.","body":"@MichaelLiberman Did you ever identify the ArrayIndexOutOfBoundsException problem? We are having the same problem."},{"owner":{"account_id":1433556,"reputation":5425,"user_id":1355410,"accept_rate":14,"display_name":"MikeL"},"score":0,"creation_date":1426002242,"post_id":10028267,"comment_id":46187644,"body_markdown":"@Mobistry Sorry, I do not remember how I fixed it. If I will find the old code I will post the solution here.","body":"@Mobistry Sorry, I do not remember how I fixed it. If I will find the old code I will post the solution here."},{"owner":{"account_id":282068,"reputation":8540,"user_id":578746,"accept_rate":83,"display_name":"Yahel"},"score":1,"creation_date":1430316287,"post_id":10028267,"comment_id":48013063,"body_markdown":"@OlcayErtaş : That must be one big bitmap you are using :)","body":"@OlcayErtaş : That must be one big bitmap you are using :)"},{"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"score":0,"creation_date":1438818676,"post_id":10028267,"comment_id":51610708,"body_markdown":"Note that this does not work if your app is not fullscreen, because the top toolbar is not taken into consideration. Once you set as a background you will see that the blue effects are off.","body":"Note that this does not work if your app is not fullscreen, because the top toolbar is not taken into consideration. Once you set as a background you will see that the blue effects are off."},{"owner":{"account_id":1730503,"reputation":2905,"user_id":1584214,"accept_rate":25,"display_name":"radu122"},"score":1,"creation_date":1439223747,"post_id":10028267,"comment_id":51761610,"body_markdown":"Optimize the function by scaling the bitmap first:             int width = Math.round(sentBitmap.getWidth() * scale);\n            int height = Math.round(sentBitmap.getHeight() * scale);\n            sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false); .Example of scale value: 0.2f. Radius needed is also smaller, so it is much much faster.","body":"Optimize the function by scaling the bitmap first:             int width = Math.round(sentBitmap.getWidth() * scale);             int height = Math.round(sentBitmap.getHeight() * scale);             sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false); .Example of scale value: 0.2f. Radius needed is also smaller, so it is much much faster."},{"owner":{"account_id":240654,"reputation":7749,"user_id":511012,"accept_rate":67,"display_name":"Ian Newson"},"score":0,"creation_date":1445334439,"post_id":10028267,"comment_id":54269868,"body_markdown":"Thanks. I ported to Xamarin with no trouble.","body":"Thanks. I ported to Xamarin with no trouble."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1451569619,"post_id":10028267,"comment_id":56836299,"body_markdown":"important to know: sentBitmap.getConfig() might return null, so you should have a fallback for it. For example, create the default config. Also, is it possible to have the exact same algorithm on Renderscript, to make it faster?","body":"important to know: sentBitmap.getConfig() might return null, so you should have a fallback for it. For example, create the default config. Also, is it possible to have the exact same algorithm on Renderscript, to make it faster?"},{"owner":{"account_id":4342077,"reputation":475,"user_id":4686096,"accept_rate":60,"display_name":"Janneman96"},"score":0,"creation_date":1473413883,"post_id":10028267,"comment_id":66141544,"body_markdown":"What are recommended parameters for the scale and radius?","body":"What are recommended parameters for the scale and radius?"},{"owner":{"account_id":282068,"reputation":8540,"user_id":578746,"accept_rate":83,"display_name":"Yahel"},"score":1,"creation_date":1473671740,"post_id":10028267,"comment_id":66215641,"body_markdown":"@Janneman96 : It depends what effect you want to achieve. The higher the scale and the radius, the blurrier it gets. Also not that the higher the radius, the more cpu consuming the algorithm gets.","body":"@Janneman96 : It depends what effect you want to achieve. The higher the scale and the radius, the blurrier it gets. Also not that the higher the radius, the more cpu consuming the algorithm gets."},{"owner":{"account_id":4342077,"reputation":475,"user_id":4686096,"accept_rate":60,"display_name":"Janneman96"},"score":1,"creation_date":1473748051,"post_id":10028267,"comment_id":66247432,"body_markdown":"@Yahel 21 I ended up using (0.2f, 10)","body":"@Yahel 21 I ended up using (0.2f, 10)"},{"owner":{"account_id":1433556,"reputation":5425,"user_id":1355410,"accept_rate":14,"display_name":"MikeL"},"score":0,"creation_date":1494225566,"post_id":10028267,"comment_id":74718414,"body_markdown":"@NigamPatro, Regretfully I didn&#39;t, as it was a side project that I am no longer working on. Is there a reason you don&#39;t want to use RenderScript now?","body":"@NigamPatro, Regretfully I didn&#39;t, as it was a side project that I am no longer working on. Is there a reason you don&#39;t want to use RenderScript now?"},{"owner":{"account_id":7306153,"reputation":2760,"user_id":5567009,"display_name":"Nigam Patro"},"score":0,"creation_date":1494306675,"post_id":10028267,"comment_id":74758388,"body_markdown":"@MikeL Renderscript is not working fine in all devices. Some devices its crashing. Till now I also not worked, but got to know from some other developers.","body":"@MikeL Renderscript is not working fine in all devices. Some devices its crashing. Till now I also not worked, but got to know from some other developers."},{"owner":{"account_id":6272909,"reputation":563,"user_id":4876577,"display_name":"the_dude_abides"},"score":0,"creation_date":1501637093,"post_id":10028267,"comment_id":77861154,"body_markdown":"@OlcayErtaş and anyone else getting OOM error: add android:largeHeap=&quot;true&quot; to your &lt;application&gt; in AndroidManifest.xml. I was experiencing this on various devices too. Now it&#39;s fixed!","body":"@OlcayErtaş and anyone else getting OOM error: add android:largeHeap=&quot;true&quot; to your &lt;application&gt; in AndroidManifest.xml. I was experiencing this on various devices too. Now it&#39;s fixed!"},{"owner":{"account_id":1699818,"reputation":849,"user_id":1560231,"display_name":"KoreanDude"},"score":0,"creation_date":1510346236,"post_id":10028267,"comment_id":81412066,"body_markdown":"Workaround is just checking the array length. if (rsum &gt;= dv.length) {\n                    Log.e(TAG, &quot;out of bound rsum: &quot; + rsum);\n                } else {\n                    r[yi] = dv[rsum];\n                }\n                if (gsum &gt;= dv.length) {\n                    Log.e(TAG, &quot;out of bound gsum: &quot; + gsum);\n                } else {\n                    g[yi] = dv[gsum];\n                }\n                if (bsum &gt;= dv.length) {\n                    Log.e(TAG, &quot;out of bound bsum: &quot; + bsum);\n                } else {\n                    b[yi] = dv[bsum];\n                }","body":"Workaround is just checking the array length. if (rsum &gt;= dv.length) {                     Log.e(TAG, &quot;out of bound rsum: &quot; + rsum);                 } else {                     r[yi] = dv[rsum];                 }                 if (gsum &gt;= dv.length) {                     Log.e(TAG, &quot;out of bound gsum: &quot; + gsum);                 } else {                     g[yi] = dv[gsum];                 }                 if (bsum &gt;= dv.length) {                     Log.e(TAG, &quot;out of bound bsum: &quot; + bsum);                 } else {                     b[yi] = dv[bsum];                 }"},{"owner":{"account_id":1699818,"reputation":849,"user_id":1560231,"display_name":"KoreanDude"},"score":0,"creation_date":1510346503,"post_id":10028267,"comment_id":81412198,"body_markdown":"Funny thing is when I launched the app in debug mode, blur worked fine. Looked into it and found that bitmap.getPixels() returned different int array (different size, different data order) than when launched in normal mode. After playing with it for a while, I just added a length check and moved on. It all works now.","body":"Funny thing is when I launched the app in debug mode, blur worked fine. Looked into it and found that bitmap.getPixels() returned different int array (different size, different data order) than when launched in normal mode. After playing with it for a while, I just added a length check and moved on. It all works now."},{"owner":{"account_id":7958023,"reputation":1637,"user_id":6006646,"display_name":"A. Kazarovets"},"score":0,"creation_date":1554364589,"post_id":10028267,"comment_id":97726425,"body_markdown":"Does anybody know why are int arrays used here? We can definetely use less memory if we instead use signed bytes or at least short for r, g and b arrays, maybe for others as well.","body":"Does anybody know why are int arrays used here? We can definetely use less memory if we instead use signed bytes or at least short for r, g and b arrays, maybe for others as well."},{"owner":{"account_id":1623439,"reputation":4156,"user_id":1499541,"display_name":"anthonycr"},"score":3,"creation_date":1557262341,"post_id":10028267,"comment_id":98704205,"body_markdown":"Ran into the known ArrayIndexOutOfBoundsException, and after some analysis, I believe it is caused by an incorrect optimization by the Dalvik VM. In the `for` loop immediately before the bad dereference, either the calculation of the `rbs` variable or the calculation of the `gsum`, `rsum`, or `bsum` variables are not being done right. I found that by replacing `Math.abs` with `StrictMath.abs` or some other `abs` implementation, the crash does not occur. Since `StrictMath.abs` itself delegates to `Math.abs`, it seems like it must be a bad optimization.","body":"Ran into the known ArrayIndexOutOfBoundsException, and after some analysis, I believe it is caused by an incorrect optimization by the Dalvik VM. In the <code>for</code> loop immediately before the bad dereference, either the calculation of the <code>rbs</code> variable or the calculation of the <code>gsum</code>, <code>rsum</code>, or <code>bsum</code> variables are not being done right. I found that by replacing <code>Math.abs</code> with <code>StrictMath.abs</code> or some other <code>abs</code> implementation, the crash does not occur. Since <code>StrictMath.abs</code> itself delegates to <code>Math.abs</code>, it seems like it must be a bad optimization."},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1603206266,"post_id":10028267,"comment_id":113959981,"body_markdown":"Thanks! Optimized for less memory consumption and no copying: https://gist.github.com/Miha-x64/3fb489d13dbf69e1611a8fb688b57d3d","body":"Thanks! Optimized for less memory consumption and no copying: <a href=\"https://gist.github.com/Miha-x64/3fb489d13dbf69e1611a8fb688b57d3d\" rel=\"nofollow noreferrer\">gist.github.com/Miha-x64/3fb489d13dbf69e1611a8fb688b57d3d</a>"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1634630397,"post_id":10028267,"comment_id":123069640,"body_markdown":"It works for `ImageView`, but not for complex layouts with `TextView` (text won&#39;t be blurred). I will turn to `RenderScript` version.","body":"It works for <code>ImageView</code>, but not for complex layouts with <code>TextView</code> (text won&#39;t be blurred). I will turn to <code>RenderScript</code> version."}],"tags":[],"owner":{"account_id":282068,"reputation":8540,"user_id":578746,"accept_rate":83,"display_name":"Yahel"},"comment_count":24,"down_vote_count":1,"up_vote_count":318,"is_accepted":false,"score":317,"last_activity_date":1557308168,"creation_date":1333627596,"answer_id":10028267,"question_id":2067955,"body_markdown":"For future Googlers, here is an algorithm that I ported from Quasimondo. It&#39;s kind of a mix between a box blur and a gaussian blur, it&#39;s very pretty and quite fast too.\r\n\r\n**Update for people encountering the ArrayIndexOutOfBoundsException problem :** @anthonycr in the comments provides this information : \r\n\r\n&gt; I found that by replacing Math.abs with StrictMath.abs or some other\r\n&gt; abs implementation, the crash does not occur.\r\n\r\n\t/**\r\n\t * Stack Blur v1.0 from\r\n\t * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\r\n\t * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\r\n\t * http://incubator.quasimondo.com\r\n\t *\r\n\t * created Feburary 29, 2004\r\n\t * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\r\n\t * http://www.kayenko.com\r\n\t * ported april 5th, 2012\r\n\t *\r\n\t * This is a compromise between Gaussian Blur and Box blur\r\n\t * It creates much better looking blurs than Box Blur, but is\r\n\t * 7x faster than my Gaussian Blur implementation.\r\n\t *\r\n\t * I called it Stack Blur because this describes best how this\r\n\t * filter works internally: it creates a kind of moving stack\r\n\t * of colors whilst scanning through the image. Thereby it\r\n\t * just has to add one new block of color to the right side\r\n\t * of the stack and remove the leftmost color. The remaining\r\n\t * colors on the topmost layer of the stack are either added on\r\n\t * or reduced by one, depending on if they are on the right or\r\n\t * on the left side of the stack.\r\n\t *\t\r\n\t * If you are using this algorithm in your code please add\r\n\t * the following line:\r\n\t * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\r\n\t */\r\n\r\n\tpublic Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\r\n\r\n\t\tint width = Math.round(sentBitmap.getWidth() * scale);\r\n\t\tint height = Math.round(sentBitmap.getHeight() * scale);\r\n\t\tsentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\r\n\r\n\t\tBitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\r\n\r\n\t\tif (radius &lt; 1) {\r\n\t\t\treturn (null);\r\n\t\t}\r\n\r\n\t\tint w = bitmap.getWidth();\r\n\t\tint h = bitmap.getHeight();\r\n\r\n\t\tint[] pix = new int[w * h];\r\n\t\tLog.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n\t\tbitmap.getPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n\t\tint wm = w - 1;\r\n\t\tint hm = h - 1;\r\n\t\tint wh = w * h;\r\n\t\tint div = radius + radius + 1;\r\n\r\n\t\tint r[] = new int[wh];\r\n\t\tint g[] = new int[wh];\r\n\t\tint b[] = new int[wh];\r\n\t\tint rsum, gsum, bsum, x, y, i, p, yp, yi, yw;\r\n\t\tint vmin[] = new int[Math.max(w, h)];\r\n\r\n\t\tint divsum = (div + 1) &gt;&gt; 1;\r\n\t\tdivsum *= divsum;\r\n\t\tint dv[] = new int[256 * divsum];\r\n\t\tfor (i = 0; i &lt; 256 * divsum; i++) {\r\n\t\t\tdv[i] = (i / divsum);\r\n\t\t}\r\n\r\n\t\tyw = yi = 0;\r\n\r\n\t\tint[][] stack = new int[div][3];\r\n\t\tint stackpointer;\r\n\t\tint stackstart;\r\n\t\tint[] sir;\r\n\t\tint rbs;\r\n\t\tint r1 = radius + 1;\r\n\t\tint routsum, goutsum, boutsum;\r\n\t\tint rinsum, ginsum, binsum;\r\n\r\n\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tp = pix[yi + Math.min(wm, Math.max(i, 0))];\r\n\t\t\t\tsir = stack[i + radius];\r\n\t\t\t\tsir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n\t\t\t\tsir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n\t\t\t\tsir[2] = (p &amp; 0x0000ff);\r\n\t\t\t\trbs = r1 - Math.abs(i);\r\n\t\t\t\trsum += sir[0] * rbs;\r\n\t\t\t\tgsum += sir[1] * rbs;\r\n\t\t\t\tbsum += sir[2] * rbs;\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += sir[0];\r\n\t\t\t\t\tginsum += sir[1];\r\n\t\t\t\t\tbinsum += sir[2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += sir[0];\r\n\t\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\t\tboutsum += sir[2];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstackpointer = radius;\r\n\r\n\t\t\tfor (x = 0; x &lt; w; x++) {\r\n\r\n\t\t\t\tr[yi] = dv[rsum];\r\n\t\t\t\tg[yi] = dv[gsum];\r\n\t\t\t\tb[yi] = dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tsir = stack[stackstart % div];\r\n\r\n\t\t\t\troutsum -= sir[0];\r\n\t\t\t\tgoutsum -= sir[1];\r\n\t\t\t\tboutsum -= sir[2];\r\n\r\n\t\t\t\tif (y == 0) {\r\n\t\t\t\t\tvmin[x] = Math.min(x + radius + 1, wm);\r\n\t\t\t\t}\r\n\t\t\t\tp = pix[yw + vmin[x]];\r\n\r\n\t\t\t\tsir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n\t\t\t\tsir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n\t\t\t\tsir[2] = (p &amp; 0x0000ff);\r\n\r\n\t\t\t\trinsum += sir[0];\r\n\t\t\t\tginsum += sir[1];\r\n\t\t\t\tbinsum += sir[2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tsir = stack[(stackpointer) % div];\r\n\r\n\t\t\t\troutsum += sir[0];\r\n\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\tboutsum += sir[2];\r\n\r\n\t\t\t\trinsum -= sir[0];\r\n\t\t\t\tginsum -= sir[1];\r\n\t\t\t\tbinsum -= sir[2];\r\n\r\n\t\t\t\tyi++;\r\n\t\t\t}\r\n\t\t\tyw += w;\r\n\t\t}\r\n\t\tfor (x = 0; x &lt; w; x++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\typ = -radius * w;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tyi = Math.max(0, yp) + x;\r\n\r\n\t\t\t\tsir = stack[i + radius];\r\n\r\n\t\t\t\tsir[0] = r[yi];\r\n\t\t\t\tsir[1] = g[yi];\r\n\t\t\t\tsir[2] = b[yi];\r\n\r\n\t\t\t\trbs = r1 - Math.abs(i);\r\n\r\n\t\t\t\trsum += r[yi] * rbs;\r\n\t\t\t\tgsum += g[yi] * rbs;\r\n\t\t\t\tbsum += b[yi] * rbs;\r\n\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += sir[0];\r\n\t\t\t\t\tginsum += sir[1];\r\n\t\t\t\t\tbinsum += sir[2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += sir[0];\r\n\t\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\t\tboutsum += sir[2];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i &lt; hm) {\r\n\t\t\t\t\typ += w;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tyi = x;\r\n\t\t\tstackpointer = radius;\r\n\t\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\t\t// Preserve alpha channel: ( 0xff000000 &amp; pix[yi] )\r\n\t\t\t\tpix[yi] = ( 0xff000000 &amp; pix[yi] ) | ( dv[rsum] &lt;&lt; 16 ) | ( dv[gsum] &lt;&lt; 8 ) | dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tsir = stack[stackstart % div];\r\n\r\n\t\t\t\troutsum -= sir[0];\r\n\t\t\t\tgoutsum -= sir[1];\r\n\t\t\t\tboutsum -= sir[2];\r\n\r\n\t\t\t\tif (x == 0) {\r\n\t\t\t\t\tvmin[y] = Math.min(y + r1, hm) * w;\r\n\t\t\t\t}\r\n\t\t\t\tp = x + vmin[y];\r\n\r\n\t\t\t\tsir[0] = r[p];\r\n\t\t\t\tsir[1] = g[p];\r\n\t\t\t\tsir[2] = b[p];\r\n\r\n\t\t\t\trinsum += sir[0];\r\n\t\t\t\tginsum += sir[1];\r\n\t\t\t\tbinsum += sir[2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tsir = stack[stackpointer];\r\n\r\n\t\t\t\troutsum += sir[0];\r\n\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\tboutsum += sir[2];\r\n\r\n\t\t\t\trinsum -= sir[0];\r\n\t\t\t\tginsum -= sir[1];\r\n\t\t\t\tbinsum -= sir[2];\r\n\r\n\t\t\t\tyi += w;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tLog.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n\t\tbitmap.setPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n\t\treturn (bitmap);\r\n\t}\r\n","title":"Fast Bitmap Blur For Android SDK","body":"<p>For future Googlers, here is an algorithm that I ported from Quasimondo. It's kind of a mix between a box blur and a gaussian blur, it's very pretty and quite fast too.</p>\n\n<p><strong>Update for people encountering the ArrayIndexOutOfBoundsException problem :</strong> @anthonycr in the comments provides this information : </p>\n\n<blockquote>\n  <p>I found that by replacing Math.abs with StrictMath.abs or some other\n  abs implementation, the crash does not occur.</p>\n</blockquote>\n\n<pre><code>/**\n * Stack Blur v1.0 from\n * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\n * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\n * http://incubator.quasimondo.com\n *\n * created Feburary 29, 2004\n * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\n * http://www.kayenko.com\n * ported april 5th, 2012\n *\n * This is a compromise between Gaussian Blur and Box blur\n * It creates much better looking blurs than Box Blur, but is\n * 7x faster than my Gaussian Blur implementation.\n *\n * I called it Stack Blur because this describes best how this\n * filter works internally: it creates a kind of moving stack\n * of colors whilst scanning through the image. Thereby it\n * just has to add one new block of color to the right side\n * of the stack and remove the leftmost color. The remaining\n * colors on the topmost layer of the stack are either added on\n * or reduced by one, depending on if they are on the right or\n * on the left side of the stack.\n *  \n * If you are using this algorithm in your code please add\n * the following line:\n * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\n */\n\npublic Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\n\n    int width = Math.round(sentBitmap.getWidth() * scale);\n    int height = Math.round(sentBitmap.getHeight() * scale);\n    sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\n\n    Bitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\n\n    if (radius &lt; 1) {\n        return (null);\n    }\n\n    int w = bitmap.getWidth();\n    int h = bitmap.getHeight();\n\n    int[] pix = new int[w * h];\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.getPixels(pix, 0, w, 0, 0, w, h);\n\n    int wm = w - 1;\n    int hm = h - 1;\n    int wh = w * h;\n    int div = radius + radius + 1;\n\n    int r[] = new int[wh];\n    int g[] = new int[wh];\n    int b[] = new int[wh];\n    int rsum, gsum, bsum, x, y, i, p, yp, yi, yw;\n    int vmin[] = new int[Math.max(w, h)];\n\n    int divsum = (div + 1) &gt;&gt; 1;\n    divsum *= divsum;\n    int dv[] = new int[256 * divsum];\n    for (i = 0; i &lt; 256 * divsum; i++) {\n        dv[i] = (i / divsum);\n    }\n\n    yw = yi = 0;\n\n    int[][] stack = new int[div][3];\n    int stackpointer;\n    int stackstart;\n    int[] sir;\n    int rbs;\n    int r1 = radius + 1;\n    int routsum, goutsum, boutsum;\n    int rinsum, ginsum, binsum;\n\n    for (y = 0; y &lt; h; y++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        for (i = -radius; i &lt;= radius; i++) {\n            p = pix[yi + Math.min(wm, Math.max(i, 0))];\n            sir = stack[i + radius];\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n            rbs = r1 - Math.abs(i);\n            rsum += sir[0] * rbs;\n            gsum += sir[1] * rbs;\n            bsum += sir[2] * rbs;\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n            }\n        }\n        stackpointer = radius;\n\n        for (x = 0; x &lt; w; x++) {\n\n            r[yi] = dv[rsum];\n            g[yi] = dv[gsum];\n            b[yi] = dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n\n            if (y == 0) {\n                vmin[x] = Math.min(x + radius + 1, wm);\n            }\n            p = pix[yw + vmin[x]];\n\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[(stackpointer) % div];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n\n            yi++;\n        }\n        yw += w;\n    }\n    for (x = 0; x &lt; w; x++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        yp = -radius * w;\n        for (i = -radius; i &lt;= radius; i++) {\n            yi = Math.max(0, yp) + x;\n\n            sir = stack[i + radius];\n\n            sir[0] = r[yi];\n            sir[1] = g[yi];\n            sir[2] = b[yi];\n\n            rbs = r1 - Math.abs(i);\n\n            rsum += r[yi] * rbs;\n            gsum += g[yi] * rbs;\n            bsum += b[yi] * rbs;\n\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n            }\n\n            if (i &lt; hm) {\n                yp += w;\n            }\n        }\n        yi = x;\n        stackpointer = radius;\n        for (y = 0; y &lt; h; y++) {\n            // Preserve alpha channel: ( 0xff000000 &amp; pix[yi] )\n            pix[yi] = ( 0xff000000 &amp; pix[yi] ) | ( dv[rsum] &lt;&lt; 16 ) | ( dv[gsum] &lt;&lt; 8 ) | dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n\n            if (x == 0) {\n                vmin[y] = Math.min(y + r1, hm) * w;\n            }\n            p = x + vmin[y];\n\n            sir[0] = r[p];\n            sir[1] = g[p];\n            sir[2] = b[p];\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[stackpointer];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n\n            yi += w;\n        }\n    }\n\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.setPixels(pix, 0, w, 0, 0, w, h);\n\n    return (bitmap);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"score":18,"creation_date":1346405507,"post_id":11962240,"comment_id":16358619,"body_markdown":"**BUT** it requires **a lot** of memory. To reduce memory consumption change type of `r[wh]`, `g[wh]` and `b[wh]` to `uint8_t`.","body":"<b>BUT</b> it requires <b>a lot</b> of memory. To reduce memory consumption change type of <code>r[wh]</code>, <code>g[wh]</code> and <code>b[wh]</code> to <code>uint8_t</code>."},{"owner":{"account_id":376162,"reputation":43022,"user_id":727429,"accept_rate":90,"display_name":"CQM"},"score":0,"creation_date":1359432979,"post_id":11962240,"comment_id":20341555,"body_markdown":"can you show me what your Android.mk file looks like, on `pastebin.com`","body":"can you show me what your Android.mk file looks like, on <code>pastebin.com</code>"},{"owner":{"account_id":195874,"reputation":10260,"user_id":439026,"accept_rate":91,"display_name":"zeh"},"score":0,"creation_date":1359478145,"post_id":11962240,"comment_id":20362167,"body_markdown":"@CQM: Sure: http://pastebin.com/8VMTZy85 Consider, though, that using [RenderScript](http://developer.android.com/guide/topics/renderscript/index.html) is probably an easier, more modern, and potentially faster solution to this problem (only available on Android 4+, though).","body":"@CQM: Sure: <a href=\"http://pastebin.com/8VMTZy85\" rel=\"nofollow noreferrer\">pastebin.com/8VMTZy85</a> Consider, though, that using <a href=\"http://developer.android.com/guide/topics/renderscript/index.html\" rel=\"nofollow noreferrer\">RenderScript</a> is probably an easier, more modern, and potentially faster solution to this problem (only available on Android 4+, though)."},{"owner":{"account_id":376162,"reputation":43022,"user_id":727429,"accept_rate":90,"display_name":"CQM"},"score":0,"creation_date":1359478839,"post_id":11962240,"comment_id":20362581,"body_markdown":"@zeh, I implemented this last evening. It is fast enough, but what values should I pass in for Radius, I put in &quot;5&quot; arbitrarily, but I don&#39;t understand the consequences (time, vs aesthetic of blur), should this be a dynamic variable based on resolution ?","body":"@zeh, I implemented this last evening. It is fast enough, but what values should I pass in for Radius, I put in &quot;5&quot; arbitrarily, but I don&#39;t understand the consequences (time, vs aesthetic of blur), should this be a dynamic variable based on resolution ?"},{"owner":{"account_id":195874,"reputation":10260,"user_id":439026,"accept_rate":91,"display_name":"zeh"},"score":0,"creation_date":1359479645,"post_id":11962240,"comment_id":20363059,"body_markdown":"@CQM: It should be whatever you want to blur it with. The higher the number, the more blurred it is. I&#39;m also using an arbitrary value of 14, but that&#39;s because I have static source images that always have the same size. Depending on what you need and how you present it, you may need to take the device resolution or image size into account. I haven&#39;t measured the time impact of different values for radius. Because this is a box blur, I&#39;m assuming there&#39;s some degradation of the effect if the radius is too high, but I haven&#39;t analyzed the algorithm enough to be sure.","body":"@CQM: It should be whatever you want to blur it with. The higher the number, the more blurred it is. I&#39;m also using an arbitrary value of 14, but that&#39;s because I have static source images that always have the same size. Depending on what you need and how you present it, you may need to take the device resolution or image size into account. I haven&#39;t measured the time impact of different values for radius. Because this is a box blur, I&#39;m assuming there&#39;s some degradation of the effect if the radius is too high, but I haven&#39;t analyzed the algorithm enough to be sure."},{"owner":{"account_id":1279137,"reputation":759,"user_id":1233682,"accept_rate":75,"display_name":"Zakharov Roman"},"score":0,"creation_date":1376556933,"post_id":11962240,"comment_id":26759252,"body_markdown":"@zeh, can you tell please how to replace \noutput[yi].red = dv[rsum];\noutput[yi].green = dv[gsum];\noutput[yi].blue = dv[bsum];\n\nfor RGB_565 images?","body":"@zeh, can you tell please how to replace  output[yi].red = dv[rsum]; output[yi].green = dv[gsum]; output[yi].blue = dv[bsum];  for RGB_565 images?"},{"owner":{"account_id":198944,"reputation":13061,"user_id":803225,"accept_rate":58,"display_name":"Chris.Jenkins"},"score":0,"creation_date":1378147129,"post_id":11962240,"comment_id":27338413,"body_markdown":"@zeh do you have a renderscript example?","body":"@zeh do you have a renderscript example?"},{"owner":{"account_id":195874,"reputation":10260,"user_id":439026,"accept_rate":91,"display_name":"zeh"},"score":0,"creation_date":1378305898,"post_id":11962240,"comment_id":27403908,"body_markdown":"@Chris.Jenkins: I don&#39;t, I just know it&#39;s supposed to do that based on the documentation.","body":"@Chris.Jenkins: I don&#39;t, I just know it&#39;s supposed to do that based on the documentation."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":1,"creation_date":1380131099,"post_id":11962240,"comment_id":28088831,"body_markdown":"For a working RenderScript example of a Gaussian Blur on Android SDK 17+ look here: http://stackoverflow.com/questions/14988990/android-fast-bitmap-blur","body":"For a working RenderScript example of a Gaussian Blur on Android SDK 17+ look here: <a href=\"http://stackoverflow.com/questions/14988990/android-fast-bitmap-blur\" title=\"android fast bitmap blur\">stackoverflow.com/questions/14988990/android-fast-bitmap-blu&zwnj;&#8203;r</a>"},{"owner":{"account_id":195874,"reputation":10260,"user_id":439026,"accept_rate":91,"display_name":"zeh"},"score":2,"creation_date":1380288244,"post_id":11962240,"comment_id":28156289,"body_markdown":"RenderScript is also available as part of the support lib for Android 2.2+, so there&#39;s no reason not to use it everywhere anymore: http://android-developers.blogspot.com/2013/09/renderscript-in-android-support-library.html","body":"RenderScript is also available as part of the support lib for Android 2.2+, so there&#39;s no reason not to use it everywhere anymore: <a href=\"http://android-developers.blogspot.com/2013/09/renderscript-in-android-support-library.html\" rel=\"nofollow noreferrer\">android-developers.blogspot.com/2013/09/&hellip;</a>"},{"owner":{"account_id":396403,"reputation":2258,"user_id":759925,"accept_rate":29,"display_name":"xiaowoo"},"score":0,"creation_date":1387308504,"post_id":11962240,"comment_id":30901204,"body_markdown":"this is fast but for some reason, i couldn&#39;t get it to run on a AsyncTask&#39;s doInBackground. When I run it on doInBackground, it would always fail","body":"this is fast but for some reason, i couldn&#39;t get it to run on a AsyncTask&#39;s doInBackground. When I run it on doInBackground, it would always fail"},{"owner":{"account_id":1125273,"reputation":4279,"user_id":1112707,"accept_rate":100,"display_name":"seb"},"score":0,"creation_date":1394904144,"post_id":11962240,"comment_id":34103560,"body_markdown":"Is there some example project, which utilizes RenderScript with the support lib?","body":"Is there some example project, which utilizes RenderScript with the support lib?"}],"tags":[],"owner":{"account_id":195874,"reputation":10260,"user_id":439026,"accept_rate":91,"display_name":"zeh"},"comment_count":12,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1398292248,"creation_date":1344986506,"answer_id":11962240,"question_id":2067955,"body_markdown":"**EDIT (April 2014):** This is a question/answer page that still gets a lot of hits it seems. I know I&#39;m always getting upvotes for this post. But if you&#39;re reading this, you need to realize **the answers posted here (both mine and the accepted answer) are out of date.** If you want to implement efficient blur *today*, [you should use RenderScript](https://stackoverflow.com/questions/14988990/android-fast-bitmap-blur) instead of the NDK or Java. RenderScript runs on Android 2.2+ (using the [Android Support Library](http://android-developers.blogspot.com/2013/09/renderscript-in-android-support-library.html)), so there&#39;s no reason not to use it.\r\n\r\nThe old answer follows, but beware as it&#39;s outdated.\r\n\r\n----------\r\n\r\nFor future&#178; Googlers, here is an algorithm that I ported from Yahel&#39;s port of Quasimondo&#39;s algorithm, but using the NDK. It&#39;s based on Yahel&#39;s answer, of course. But this is running native C code, so it&#39;s faster. Much faster. Like, 40 times faster.\r\n\r\nI find that using the NDK is how all image manipulation should be done on Android... it&#39;s somewhat annoying to implement at first (read a great tutorial on using JNI and the NDK [here][1]), but much better, and near real time for a lot of things.\r\n\r\nFor reference, using Yahel&#39;s Java function, it took 10 seconds to blur my 480x532 pixels image with a blur radius of 10. But it took 250ms using the native C version. And I&#39;m pretty sure it can still be further optimized... I just did a dumb conversion of the java code, there&#39;s probably some manipulations that can be shortened, didn&#39;t want to spend too much time refactoring the whole thing.\r\n\r\n\t#include &lt;jni.h&gt;\r\n\t#include &lt;string.h&gt;\r\n\t#include &lt;math.h&gt;\r\n\t#include &lt;stdio.h&gt;\r\n\t#include &lt;android/log.h&gt;\r\n\t#include &lt;android/bitmap.h&gt;\r\n\r\n\t#define LOG_TAG\t&quot;libbitmaputils&quot;\r\n\t#define LOGI(...)  __android_log_print(ANDROID_LOG_INFO,LOG_TAG,__VA_ARGS__)\r\n\t#define LOGE(...)  __android_log_print(ANDROID_LOG_ERROR,LOG_TAG,__VA_ARGS__)\r\n\r\n\ttypedef struct {\r\n\t\tuint8_t red;\r\n\t\tuint8_t green;\r\n\t\tuint8_t blue;\r\n\t\tuint8_t alpha;\r\n\t} rgba;\r\n\r\n\tJNIEXPORT void JNICALL Java_com_insert_your_package_ClassName_functionToBlur(JNIEnv* env, jobject obj, jobject bitmapIn, jobject bitmapOut, jint radius) {\r\n\t\tLOGI(&quot;Blurring bitmap...&quot;);\r\n\r\n\t\t// Properties\r\n\t\tAndroidBitmapInfo\tinfoIn;\r\n\t\tvoid*\t\t\t\tpixelsIn;\r\n\t\tAndroidBitmapInfo\tinfoOut;\r\n\t\tvoid*\t\t\t\tpixelsOut;\r\n\r\n\t\tint\tret;\r\n\r\n\t\t// Get image info\r\n\t\tif ((ret = AndroidBitmap_getInfo(env, bitmapIn, &amp;infoIn)) &lt; 0 || (ret = AndroidBitmap_getInfo(env, bitmapOut, &amp;infoOut)) &lt; 0) {\r\n\t\t\tLOGE(&quot;AndroidBitmap_getInfo() failed ! error=%d&quot;, ret);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check image\r\n\t\tif (infoIn.format != ANDROID_BITMAP_FORMAT_RGBA_8888 || infoOut.format != ANDROID_BITMAP_FORMAT_RGBA_8888) {\r\n\t\t\tLOGE(&quot;Bitmap format is not RGBA_8888!&quot;);\r\n\t\t\tLOGE(&quot;==&gt; %d %d&quot;, infoIn.format, infoOut.format);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Lock all images\r\n\t\tif ((ret = AndroidBitmap_lockPixels(env, bitmapIn, &amp;pixelsIn)) &lt; 0 || (ret = AndroidBitmap_lockPixels(env, bitmapOut, &amp;pixelsOut)) &lt; 0) {\r\n\t\t\tLOGE(&quot;AndroidBitmap_lockPixels() failed ! error=%d&quot;, ret);\r\n\t\t}\r\n\r\n\t\tint h = infoIn.height;\r\n\t\tint w = infoIn.width;\r\n\r\n\t\tLOGI(&quot;Image size is: %i %i&quot;, w, h);\r\n\t\t\r\n\t\trgba* input = (rgba*) pixelsIn;\r\n\t\trgba* output = (rgba*) pixelsOut;\r\n\r\n\t\tint wm = w - 1;\r\n\t\tint hm = h - 1;\r\n\t\tint wh = w * h;\r\n\t\tint whMax = max(w, h);\r\n\t\tint div = radius + radius + 1;\r\n\r\n\t\tint r[wh];\r\n\t\tint g[wh];\r\n\t\tint b[wh];\r\n\t\tint rsum, gsum, bsum, x, y, i, yp, yi, yw;\r\n\t\trgba p;\r\n\t\tint vmin[whMax];\r\n\r\n\t\tint divsum = (div + 1) &gt;&gt; 1;\r\n\t\tdivsum *= divsum;\r\n\t\tint dv[256 * divsum];\r\n\t\tfor (i = 0; i &lt; 256 * divsum; i++) {\r\n\t\t\tdv[i] = (i / divsum);\r\n\t\t}\r\n\r\n\t\tyw = yi = 0;\r\n\r\n\t\tint stack[div][3];\r\n\t\tint stackpointer;\r\n\t\tint stackstart;\r\n\t\tint rbs;\r\n\t\tint ir;\r\n\t\tint ip;\r\n\t\tint r1 = radius + 1;\r\n\t\tint routsum, goutsum, boutsum;\r\n\t\tint rinsum, ginsum, binsum;\r\n\r\n\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tp = input[yi + min(wm, max(i, 0))];\r\n\r\n\t\t\t\tir = i + radius; // same as sir\r\n\r\n\t\t\t\tstack[ir][0] = p.red;\r\n\t\t\t\tstack[ir][1] = p.green;\r\n\t\t\t\tstack[ir][2] = p.blue;\r\n\t\t\t\trbs = r1 - abs(i);\r\n\t\t\t\trsum += stack[ir][0] * rbs;\r\n\t\t\t\tgsum += stack[ir][1] * rbs;\r\n\t\t\t\tbsum += stack[ir][2] * rbs;\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\t\tbinsum += stack[ir][2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\t\tboutsum += stack[ir][2];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstackpointer = radius;\r\n\r\n\t\t\tfor (x = 0; x &lt; w; x++) {\r\n\r\n\t\t\t\tr[yi] = dv[rsum];\r\n\t\t\t\tg[yi] = dv[gsum];\r\n\t\t\t\tb[yi] = dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tir = stackstart % div; // same as sir\r\n\r\n\t\t\t\troutsum -= stack[ir][0];\r\n\t\t\t\tgoutsum -= stack[ir][1];\r\n\t\t\t\tboutsum -= stack[ir][2];\r\n\r\n\t\t\t\tif (y == 0) {\r\n\t\t\t\t\tvmin[x] = min(x + radius + 1, wm);\r\n\t\t\t\t}\r\n\t\t\t\tp = input[yw + vmin[x]];\r\n\r\n\t\t\t\tstack[ir][0] = p.red;\r\n\t\t\t\tstack[ir][1] = p.green;\r\n\t\t\t\tstack[ir][2] = p.blue;\r\n\r\n\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\tbinsum += stack[ir][2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tir = (stackpointer) % div; // same as sir\r\n\r\n\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\tboutsum += stack[ir][2];\r\n\r\n\t\t\t\trinsum -= stack[ir][0];\r\n\t\t\t\tginsum -= stack[ir][1];\r\n\t\t\t\tbinsum -= stack[ir][2];\r\n\r\n\t\t\t\tyi++;\r\n\t\t\t}\r\n\t\t\tyw += w;\r\n\t\t}\r\n\t\tfor (x = 0; x &lt; w; x++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\typ = -radius * w;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tyi = max(0, yp) + x;\r\n\r\n\t\t\t\tir = i + radius; // same as sir\r\n\r\n\t\t\t\tstack[ir][0] = r[yi];\r\n\t\t\t\tstack[ir][1] = g[yi];\r\n\t\t\t\tstack[ir][2] = b[yi];\r\n\r\n\t\t\t\trbs = r1 - abs(i);\r\n\r\n\t\t\t\trsum += r[yi] * rbs;\r\n\t\t\t\tgsum += g[yi] * rbs;\r\n\t\t\t\tbsum += b[yi] * rbs;\r\n\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\t\tbinsum += stack[ir][2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\t\tboutsum += stack[ir][2];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i &lt; hm) {\r\n\t\t\t\t\typ += w;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tyi = x;\r\n\t\t\tstackpointer = radius;\r\n\t\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\t\toutput[yi].red = dv[rsum];\r\n\t\t\t\toutput[yi].green = dv[gsum];\r\n\t\t\t\toutput[yi].blue = dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tir = stackstart % div; // same as sir\r\n\r\n\t\t\t\troutsum -= stack[ir][0];\r\n\t\t\t\tgoutsum -= stack[ir][1];\r\n\t\t\t\tboutsum -= stack[ir][2];\r\n\r\n\t\t\t\tif (x == 0) vmin[y] = min(y + r1, hm) * w;\r\n\t\t\t\tip = x + vmin[y];\r\n\r\n\t\t\t\tstack[ir][0] = r[ip];\r\n\t\t\t\tstack[ir][1] = g[ip];\r\n\t\t\t\tstack[ir][2] = b[ip];\r\n\r\n\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\tbinsum += stack[ir][2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tir = stackpointer; // same as sir\r\n\r\n\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\tboutsum += stack[ir][2];\r\n\r\n\t\t\t\trinsum -= stack[ir][0];\r\n\t\t\t\tginsum -= stack[ir][1];\r\n\t\t\t\tbinsum -= stack[ir][2];\r\n\r\n\t\t\t\tyi += w;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Unlocks everything\r\n\t\tAndroidBitmap_unlockPixels(env, bitmapIn);\r\n\t\tAndroidBitmap_unlockPixels(env, bitmapOut);\r\n\r\n\t\tLOGI (&quot;Bitmap blurred.&quot;);\r\n\t}\r\n\r\n\tint min(int a, int b) {\r\n\t\treturn a &gt; b ? b : a;\r\n\t}\r\n\r\n\tint max(int a, int b) {\r\n\t\treturn a &gt; b ? a : b;\r\n\t}\r\n\r\nThen use it like this (considering a class called com.insert.your.package.ClassName and a native function called functionToBlur, as the code above states):\r\n\r\n\t// Create a copy\r\n\tBitmap bitmapOut = bitmapIn.copy(Bitmap.Config.ARGB_8888, true);\r\n\t// Blur the copy\r\n\tfunctionToBlur(bitmapIn, bitmapOut, __radius);\r\n\r\nIt expects a RGB_8888 bitmap!\r\n\r\nTo use a RGB_565 bitmap, either create a converted copy before passing the parameter (yuck), or change the function to use a new `rgb565` type instead of `rgba`:\r\n\r\n\ttypedef struct {\r\n\t\tuint16_t byte0;\r\n\t} rgb565;\r\n\r\nThe problem is that if you do that you can&#39;t read `.red`, `.green` and `.blue` of the pixel anymore, you need to read the byte properly, duh. When I needed that before, I did this:\r\n\r\n\tr = (pixels[x].byte0 &amp; 0xF800) &gt;&gt; 8;\r\n\tg = (pixels[x].byte0 &amp; 0x07E0) &gt;&gt; 3;\r\n\tb = (pixels[x].byte0 &amp; 0x001F) &lt;&lt; 3;\r\n\r\nBut there&#39;s probably some less dumb way of doing it. I&#39;m not much of a low-level C coder, I&#39;m afraid.\r\n\r\n  [1]: http://www.ibm.com/developerworks/opensource/tutorials/os-androidndk/section5.html","title":"Fast Bitmap Blur For Android SDK","body":"<p><strong>EDIT (April 2014):</strong> This is a question/answer page that still gets a lot of hits it seems. I know I'm always getting upvotes for this post. But if you're reading this, you need to realize <strong>the answers posted here (both mine and the accepted answer) are out of date.</strong> If you want to implement efficient blur <em>today</em>, <a href=\"https://stackoverflow.com/questions/14988990/android-fast-bitmap-blur\">you should use RenderScript</a> instead of the NDK or Java. RenderScript runs on Android 2.2+ (using the <a href=\"http://android-developers.blogspot.com/2013/09/renderscript-in-android-support-library.html\" rel=\"nofollow noreferrer\">Android Support Library</a>), so there's no reason not to use it.</p>\n\n<p>The old answer follows, but beware as it's outdated.</p>\n\n<hr>\n\n<p>For future² Googlers, here is an algorithm that I ported from Yahel's port of Quasimondo's algorithm, but using the NDK. It's based on Yahel's answer, of course. But this is running native C code, so it's faster. Much faster. Like, 40 times faster.</p>\n\n<p>I find that using the NDK is how all image manipulation should be done on Android... it's somewhat annoying to implement at first (read a great tutorial on using JNI and the NDK <a href=\"http://www.ibm.com/developerworks/opensource/tutorials/os-androidndk/section5.html\" rel=\"nofollow noreferrer\">here</a>), but much better, and near real time for a lot of things.</p>\n\n<p>For reference, using Yahel's Java function, it took 10 seconds to blur my 480x532 pixels image with a blur radius of 10. But it took 250ms using the native C version. And I'm pretty sure it can still be further optimized... I just did a dumb conversion of the java code, there's probably some manipulations that can be shortened, didn't want to spend too much time refactoring the whole thing.</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;string.h&gt;\n#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;android/log.h&gt;\n#include &lt;android/bitmap.h&gt;\n\n#define LOG_TAG \"libbitmaputils\"\n#define LOGI(...)  __android_log_print(ANDROID_LOG_INFO,LOG_TAG,__VA_ARGS__)\n#define LOGE(...)  __android_log_print(ANDROID_LOG_ERROR,LOG_TAG,__VA_ARGS__)\n\ntypedef struct {\n    uint8_t red;\n    uint8_t green;\n    uint8_t blue;\n    uint8_t alpha;\n} rgba;\n\nJNIEXPORT void JNICALL Java_com_insert_your_package_ClassName_functionToBlur(JNIEnv* env, jobject obj, jobject bitmapIn, jobject bitmapOut, jint radius) {\n    LOGI(\"Blurring bitmap...\");\n\n    // Properties\n    AndroidBitmapInfo   infoIn;\n    void*               pixelsIn;\n    AndroidBitmapInfo   infoOut;\n    void*               pixelsOut;\n\n    int ret;\n\n    // Get image info\n    if ((ret = AndroidBitmap_getInfo(env, bitmapIn, &amp;infoIn)) &lt; 0 || (ret = AndroidBitmap_getInfo(env, bitmapOut, &amp;infoOut)) &lt; 0) {\n        LOGE(\"AndroidBitmap_getInfo() failed ! error=%d\", ret);\n        return;\n    }\n\n    // Check image\n    if (infoIn.format != ANDROID_BITMAP_FORMAT_RGBA_8888 || infoOut.format != ANDROID_BITMAP_FORMAT_RGBA_8888) {\n        LOGE(\"Bitmap format is not RGBA_8888!\");\n        LOGE(\"==&gt; %d %d\", infoIn.format, infoOut.format);\n        return;\n    }\n\n    // Lock all images\n    if ((ret = AndroidBitmap_lockPixels(env, bitmapIn, &amp;pixelsIn)) &lt; 0 || (ret = AndroidBitmap_lockPixels(env, bitmapOut, &amp;pixelsOut)) &lt; 0) {\n        LOGE(\"AndroidBitmap_lockPixels() failed ! error=%d\", ret);\n    }\n\n    int h = infoIn.height;\n    int w = infoIn.width;\n\n    LOGI(\"Image size is: %i %i\", w, h);\n\n    rgba* input = (rgba*) pixelsIn;\n    rgba* output = (rgba*) pixelsOut;\n\n    int wm = w - 1;\n    int hm = h - 1;\n    int wh = w * h;\n    int whMax = max(w, h);\n    int div = radius + radius + 1;\n\n    int r[wh];\n    int g[wh];\n    int b[wh];\n    int rsum, gsum, bsum, x, y, i, yp, yi, yw;\n    rgba p;\n    int vmin[whMax];\n\n    int divsum = (div + 1) &gt;&gt; 1;\n    divsum *= divsum;\n    int dv[256 * divsum];\n    for (i = 0; i &lt; 256 * divsum; i++) {\n        dv[i] = (i / divsum);\n    }\n\n    yw = yi = 0;\n\n    int stack[div][3];\n    int stackpointer;\n    int stackstart;\n    int rbs;\n    int ir;\n    int ip;\n    int r1 = radius + 1;\n    int routsum, goutsum, boutsum;\n    int rinsum, ginsum, binsum;\n\n    for (y = 0; y &lt; h; y++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        for (i = -radius; i &lt;= radius; i++) {\n            p = input[yi + min(wm, max(i, 0))];\n\n            ir = i + radius; // same as sir\n\n            stack[ir][0] = p.red;\n            stack[ir][1] = p.green;\n            stack[ir][2] = p.blue;\n            rbs = r1 - abs(i);\n            rsum += stack[ir][0] * rbs;\n            gsum += stack[ir][1] * rbs;\n            bsum += stack[ir][2] * rbs;\n            if (i &gt; 0) {\n                rinsum += stack[ir][0];\n                ginsum += stack[ir][1];\n                binsum += stack[ir][2];\n            } else {\n                routsum += stack[ir][0];\n                goutsum += stack[ir][1];\n                boutsum += stack[ir][2];\n            }\n        }\n        stackpointer = radius;\n\n        for (x = 0; x &lt; w; x++) {\n\n            r[yi] = dv[rsum];\n            g[yi] = dv[gsum];\n            b[yi] = dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            ir = stackstart % div; // same as sir\n\n            routsum -= stack[ir][0];\n            goutsum -= stack[ir][1];\n            boutsum -= stack[ir][2];\n\n            if (y == 0) {\n                vmin[x] = min(x + radius + 1, wm);\n            }\n            p = input[yw + vmin[x]];\n\n            stack[ir][0] = p.red;\n            stack[ir][1] = p.green;\n            stack[ir][2] = p.blue;\n\n            rinsum += stack[ir][0];\n            ginsum += stack[ir][1];\n            binsum += stack[ir][2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            ir = (stackpointer) % div; // same as sir\n\n            routsum += stack[ir][0];\n            goutsum += stack[ir][1];\n            boutsum += stack[ir][2];\n\n            rinsum -= stack[ir][0];\n            ginsum -= stack[ir][1];\n            binsum -= stack[ir][2];\n\n            yi++;\n        }\n        yw += w;\n    }\n    for (x = 0; x &lt; w; x++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        yp = -radius * w;\n        for (i = -radius; i &lt;= radius; i++) {\n            yi = max(0, yp) + x;\n\n            ir = i + radius; // same as sir\n\n            stack[ir][0] = r[yi];\n            stack[ir][1] = g[yi];\n            stack[ir][2] = b[yi];\n\n            rbs = r1 - abs(i);\n\n            rsum += r[yi] * rbs;\n            gsum += g[yi] * rbs;\n            bsum += b[yi] * rbs;\n\n            if (i &gt; 0) {\n                rinsum += stack[ir][0];\n                ginsum += stack[ir][1];\n                binsum += stack[ir][2];\n            } else {\n                routsum += stack[ir][0];\n                goutsum += stack[ir][1];\n                boutsum += stack[ir][2];\n            }\n\n            if (i &lt; hm) {\n                yp += w;\n            }\n        }\n        yi = x;\n        stackpointer = radius;\n        for (y = 0; y &lt; h; y++) {\n            output[yi].red = dv[rsum];\n            output[yi].green = dv[gsum];\n            output[yi].blue = dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            ir = stackstart % div; // same as sir\n\n            routsum -= stack[ir][0];\n            goutsum -= stack[ir][1];\n            boutsum -= stack[ir][2];\n\n            if (x == 0) vmin[y] = min(y + r1, hm) * w;\n            ip = x + vmin[y];\n\n            stack[ir][0] = r[ip];\n            stack[ir][1] = g[ip];\n            stack[ir][2] = b[ip];\n\n            rinsum += stack[ir][0];\n            ginsum += stack[ir][1];\n            binsum += stack[ir][2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            ir = stackpointer; // same as sir\n\n            routsum += stack[ir][0];\n            goutsum += stack[ir][1];\n            boutsum += stack[ir][2];\n\n            rinsum -= stack[ir][0];\n            ginsum -= stack[ir][1];\n            binsum -= stack[ir][2];\n\n            yi += w;\n        }\n    }\n\n    // Unlocks everything\n    AndroidBitmap_unlockPixels(env, bitmapIn);\n    AndroidBitmap_unlockPixels(env, bitmapOut);\n\n    LOGI (\"Bitmap blurred.\");\n}\n\nint min(int a, int b) {\n    return a &gt; b ? b : a;\n}\n\nint max(int a, int b) {\n    return a &gt; b ? a : b;\n}\n</code></pre>\n\n<p>Then use it like this (considering a class called com.insert.your.package.ClassName and a native function called functionToBlur, as the code above states):</p>\n\n<pre><code>// Create a copy\nBitmap bitmapOut = bitmapIn.copy(Bitmap.Config.ARGB_8888, true);\n// Blur the copy\nfunctionToBlur(bitmapIn, bitmapOut, __radius);\n</code></pre>\n\n<p>It expects a RGB_8888 bitmap!</p>\n\n<p>To use a RGB_565 bitmap, either create a converted copy before passing the parameter (yuck), or change the function to use a new <code>rgb565</code> type instead of <code>rgba</code>:</p>\n\n<pre><code>typedef struct {\n    uint16_t byte0;\n} rgb565;\n</code></pre>\n\n<p>The problem is that if you do that you can't read <code>.red</code>, <code>.green</code> and <code>.blue</code> of the pixel anymore, you need to read the byte properly, duh. When I needed that before, I did this:</p>\n\n<pre><code>r = (pixels[x].byte0 &amp; 0xF800) &gt;&gt; 8;\ng = (pixels[x].byte0 &amp; 0x07E0) &gt;&gt; 3;\nb = (pixels[x].byte0 &amp; 0x001F) &lt;&lt; 3;\n</code></pre>\n\n<p>But there's probably some less dumb way of doing it. I'm not much of a low-level C coder, I'm afraid.</p>\n"},{"tags":[],"owner":{"account_id":3252454,"reputation":2597,"user_id":2742365,"display_name":"Victor  Laskin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380280078,"creation_date":1380280078,"answer_id":19049224,"question_id":2067955,"body_markdown":"For future Googlers who choose NDK approach - i find reliable mentioned stackblur algorithm. I found C++ implementation which does not rely on SSE here - http://www.antigrain.com/__code/include/agg_blur.h.html#stack_blur_rgba32 which contains some optimizations using static tables like:\r\n\r\n    static unsigned short const stackblur_mul[255] =\r\n    {\r\n    \t512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\r\n\t\t454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\r\n\t\t482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\r\n\t\t437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\r\n\t\t497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\r\n\t\t320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\r\n\t\t446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\r\n\t\t329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\r\n\t\t505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\r\n\t\t399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\r\n\t\t324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\r\n\t\t268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\r\n\t\t451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\r\n\t\t385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\r\n\t\t332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\r\n\t\t289,287,285,282,280,278,275,273,271,269,267,265,263,261,259\r\n    };\r\n\r\n    static unsigned char const stackblur_shr[255] =\r\n    {\r\n\t\t9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\r\n\t\t17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\r\n\t\t19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\r\n\t\t20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\r\n\t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\r\n\t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\r\n\t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\r\n\t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\r\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n\t\t23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24\r\n    }; \r\n\r\nI made modification of stackblur algorithm for multi-core systems - it can be found here http://vitiy.info/stackblur-algorithm-multi-threaded-blur-for-cpp/ \r\nAs more and more devices have 4 cores - optimizations give 4x speed benefit.","title":"Fast Bitmap Blur For Android SDK","body":"<p>For future Googlers who choose NDK approach - i find reliable mentioned stackblur algorithm. I found C++ implementation which does not rely on SSE here - <a href=\"http://www.antigrain.com/__code/include/agg_blur.h.html#stack_blur_rgba32\" rel=\"nofollow\">http://www.antigrain.com/__code/include/agg_blur.h.html#stack_blur_rgba32</a> which contains some optimizations using static tables like:</p>\n\n<pre><code>static unsigned short const stackblur_mul[255] =\n{\n    512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\n    454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\n    482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\n    437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\n    497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\n    320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\n    446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\n    329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\n    505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\n    399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\n    324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\n    268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\n    451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\n    385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\n    332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\n    289,287,285,282,280,278,275,273,271,269,267,265,263,261,259\n};\n\nstatic unsigned char const stackblur_shr[255] =\n{\n    9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\n    17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\n    19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\n    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24\n}; \n</code></pre>\n\n<p>I made modification of stackblur algorithm for multi-core systems - it can be found here <a href=\"http://vitiy.info/stackblur-algorithm-multi-threaded-blur-for-cpp/\" rel=\"nofollow\">http://vitiy.info/stackblur-algorithm-multi-threaded-blur-for-cpp/</a> \nAs more and more devices have 4 cores - optimizations give 4x speed benefit.</p>\n"},{"tags":[],"owner":{"account_id":2361731,"reputation":1001,"user_id":2068280,"accept_rate":80,"display_name":"Rohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386325826,"creation_date":1386325826,"answer_id":20421640,"question_id":2067955,"body_markdown":"Use Render Script as mentioned here http://blog.neteril.org/blog/2013/08/12/blurring-images-on-android/","title":"Fast Bitmap Blur For Android SDK","body":"<p>Use Render Script as mentioned here <a href=\"http://blog.neteril.org/blog/2013/08/12/blurring-images-on-android/\" rel=\"nofollow\">http://blog.neteril.org/blog/2013/08/12/blurring-images-on-android/</a></p>\n"},{"comments":[{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":3,"creation_date":1398165648,"post_id":21051758,"comment_id":35518321,"body_markdown":"The Renderscript context should not be created in the blur method, but managed statically or given to the method. (if you mind performance)","body":"The Renderscript context should not be created in the blur method, but managed statically or given to the method. (if you mind performance)"},{"owner":{"account_id":88141,"reputation":19747,"user_id":243999,"accept_rate":90,"display_name":"Donal Rafferty"},"score":1,"creation_date":1400431051,"post_id":21051758,"comment_id":36464873,"body_markdown":"Can you give an example of this is use? When I try to use it I get the following error: java.lang.IllegalArgumentException: width and height must be &gt; 0","body":"Can you give an example of this is use? When I try to use it I get the following error: java.lang.IllegalArgumentException: width and height must be &gt; 0"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1634639491,"post_id":21051758,"comment_id":123073447,"body_markdown":"@DonalRafferty, this is because in `onCreate` views have not been measured yet. We should do this after a short delay.","body":"@DonalRafferty, this is because in <code>onCreate</code> views have not been measured yet. We should do this after a short delay."}],"tags":[],"owner":{"account_id":240700,"reputation":14136,"user_id":511082,"accept_rate":91,"display_name":"b_yng"},"comment_count":3,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1389378639,"creation_date":1389378639,"answer_id":21051758,"question_id":2067955,"body_markdown":"You can now use [ScriptIntrinsicBlur][1] from the RenderScript library to blur quickly. [Here][2] is how to access the RenderScript API. The following is a class I made to blur Views and Bitmaps:\r\n\r\n    public class BlurBuilder {\r\n\t    private static final float BITMAP_SCALE = 0.4f;\r\n\t    private static final float BLUR_RADIUS = 7.5f;\r\n\r\n\t    public static Bitmap blur(View v) {\r\n\t\t    return blur(v.getContext(), getScreenshot(v));\r\n\t    }\r\n\r\n\t    public static Bitmap blur(Context ctx, Bitmap image) {\r\n\t\t    int width = Math.round(image.getWidth() * BITMAP_SCALE);\r\n\t\t    int height = Math.round(image.getHeight() * BITMAP_SCALE);\r\n\r\n\t\t    Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\r\n\t\t    Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\r\n\r\n\t\t    RenderScript rs = RenderScript.create(ctx);\r\n\t\t    ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n\t\t    Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\r\n\t\t    Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\r\n\t\t    theIntrinsic.setRadius(BLUR_RADIUS);\r\n\t\t    theIntrinsic.setInput(tmpIn);\r\n\t\t    theIntrinsic.forEach(tmpOut);\r\n\t\t    tmpOut.copyTo(outputBitmap);\r\n\r\n\t\t    return outputBitmap;\r\n\t    }\r\n\t\r\n\t    private static Bitmap getScreenshot(View v) {\r\n\t\t    Bitmap b = Bitmap.createBitmap(v.getWidth(), v.getHeight(), Bitmap.Config.ARGB_8888);\r\n\t\t    Canvas c = new Canvas(b);\r\n\t\t    v.draw(c);\r\n\t\t    return b;\r\n\t    }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\r\n  [2]: http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis","title":"Fast Bitmap Blur For Android SDK","body":"<p>You can now use <a href=\"http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\" rel=\"noreferrer\">ScriptIntrinsicBlur</a> from the RenderScript library to blur quickly. <a href=\"http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\" rel=\"noreferrer\">Here</a> is how to access the RenderScript API. The following is a class I made to blur Views and Bitmaps:</p>\n\n<pre><code>public class BlurBuilder {\n    private static final float BITMAP_SCALE = 0.4f;\n    private static final float BLUR_RADIUS = 7.5f;\n\n    public static Bitmap blur(View v) {\n        return blur(v.getContext(), getScreenshot(v));\n    }\n\n    public static Bitmap blur(Context ctx, Bitmap image) {\n        int width = Math.round(image.getWidth() * BITMAP_SCALE);\n        int height = Math.round(image.getHeight() * BITMAP_SCALE);\n\n        Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\n        Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\n\n        RenderScript rs = RenderScript.create(ctx);\n        ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n        Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\n        Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\n        theIntrinsic.setRadius(BLUR_RADIUS);\n        theIntrinsic.setInput(tmpIn);\n        theIntrinsic.forEach(tmpOut);\n        tmpOut.copyTo(outputBitmap);\n\n        return outputBitmap;\n    }\n\n    private static Bitmap getScreenshot(View v) {\n        Bitmap b = Bitmap.createBitmap(v.getWidth(), v.getHeight(), Bitmap.Config.ARGB_8888);\n        Canvas c = new Canvas(b);\n        v.draw(c);\n        return b;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1544549,"reputation":75904,"user_id":1438393,"display_name":"Amal Murali"},"score":0,"creation_date":1399656338,"post_id":21159565,"comment_id":36170675,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes.","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes."},{"owner":{"account_id":85391,"reputation":5204,"user_id":238089,"accept_rate":76,"display_name":"Yura Shinkarev"},"score":1,"creation_date":1399669482,"post_id":21159565,"comment_id":36177230,"body_markdown":"Amal Murali, you are right. Now change my post. Good, that you not only downvote, but also comment.","body":"Amal Murali, you are right. Now change my post. Good, that you not only downvote, but also comment."}],"tags":[],"owner":{"account_id":85391,"reputation":5204,"user_id":238089,"accept_rate":76,"display_name":"Yura Shinkarev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399699614,"creation_date":1389869185,"answer_id":21159565,"question_id":2067955,"body_markdown":"Nicolas POMEPUY advice. I think this link will be helpful: [**Blur effect for Android design**][1]\r\n\r\nSample project at [github][2]\r\n\r\n\t@TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n\tprivate static Bitmap fastblur16(Bitmap source, int radius, Context ctx) {    \r\n\t\tBitmap bitmap = source.copy(source.getConfig(), true);    \r\n\t\tRenderScript rs = RenderScript.create(ctx);\r\n\t\tAllocation input = Allocation.createFromBitmap(rs, source, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_SCRIPT);\r\n\t\tAllocation output = Allocation.createTyped(rs, input.getType());\r\n\t\tScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n\t\tscript.setRadius(radius);\r\n\t\tscript.setInput(input);\r\n\t\tscript.forEach(output);\r\n\t\toutput.copyTo(bitmap);\r\n\t\treturn bitmap;\r\n\t}\r\n\r\n\r\n\r\n  [1]: http://nicolaspomepuy.fr/blur-effect-for-android-design/ &quot;Blur effect for Android design&quot;\r\n  [2]: https://github.com/PomepuyN/BlurEffectForAndroidDesign","title":"Fast Bitmap Blur For Android SDK","body":"<p>Nicolas POMEPUY advice. I think this link will be helpful: <a href=\"http://nicolaspomepuy.fr/blur-effect-for-android-design/\" rel=\"nofollow\" title=\"Blur effect for Android design\"><strong>Blur effect for Android design</strong></a></p>\n\n<p>Sample project at <a href=\"https://github.com/PomepuyN/BlurEffectForAndroidDesign\" rel=\"nofollow\">github</a></p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\nprivate static Bitmap fastblur16(Bitmap source, int radius, Context ctx) {    \n    Bitmap bitmap = source.copy(source.getConfig(), true);    \n    RenderScript rs = RenderScript.create(ctx);\n    Allocation input = Allocation.createFromBitmap(rs, source, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_SCRIPT);\n    Allocation output = Allocation.createTyped(rs, input.getType());\n    ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n    script.setRadius(radius);\n    script.setInput(input);\n    script.forEach(output);\n    output.copyTo(bitmap);\n    return bitmap;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":233550,"reputation":14286,"user_id":499125,"accept_rate":74,"display_name":"Some Noob Student"},"score":1,"creation_date":1402782230,"post_id":23119957,"comment_id":37408815,"body_markdown":"First of all, thanks for your hard work! But I got a question: &quot;because it uses USAGE_SHARED mode which reuses memory&quot;. Where did you find the constant USAGE_SHARED? I couldn&#39;t find it anywhere.","body":"First of all, thanks for your hard work! But I got a question: &quot;because it uses USAGE_SHARED mode which reuses memory&quot;. Where did you find the constant USAGE_SHARED? I couldn&#39;t find it anywhere."},{"owner":{"account_id":233550,"reputation":14286,"user_id":499125,"accept_rate":74,"display_name":"Some Noob Student"},"score":2,"creation_date":1402782845,"post_id":23119957,"comment_id":37408965,"body_markdown":"I found it, USAGE_SHARED is only available in support.v8.renderscript","body":"I found it, USAGE_SHARED is only available in support.v8.renderscript"},{"owner":{"account_id":2180372,"reputation":3493,"user_id":1930015,"accept_rate":44,"display_name":"WitaloBenicio"},"score":0,"creation_date":1402834124,"post_id":23119957,"comment_id":37417703,"body_markdown":"Man, this deserve to be SO UPVOTED that if i could, i would upvote a thousand times. :D","body":"Man, this deserve to be SO UPVOTED that if i could, i would upvote a thousand times. :D"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1402836207,"post_id":23119957,"comment_id":37418193,"body_markdown":"@SomeNoobStudent that&#39;s not true, USAGE_SHARED was added in API lvl 18, so your target is probably lower http://developer.android.com/reference/android/renderscript/Allocation.html#USAGE_SHARED","body":"@SomeNoobStudent that&#39;s not true, USAGE_SHARED was added in API lvl 18, so your target is probably lower <a href=\"http://developer.android.com/reference/android/renderscript/Allocation.html#USAGE_SHARED\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/renderscript/&hellip;</a>"},{"owner":{"account_id":233550,"reputation":14286,"user_id":499125,"accept_rate":74,"display_name":"Some Noob Student"},"score":1,"creation_date":1402899720,"post_id":23119957,"comment_id":37433928,"body_markdown":"@for3st: I see, thank you again. Have you compared the memory/heap pressure between different methods? I hear scriptintrinsicblur can take up a lot of heap space...","body":"@for3st: I see, thank you again. Have you compared the memory/heap pressure between different methods? I hear scriptintrinsicblur can take up a lot of heap space..."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1402905112,"post_id":23119957,"comment_id":37436164,"body_markdown":"@SomeNoobStudent no, the tip is from json sams from the google renderscript team, I did not verify. Im not REALLY sure if renderscript memory allocations are on the heap, because it gets compiled to C afaik which would not be restricted/using heap memory.","body":"@SomeNoobStudent no, the tip is from json sams from the google renderscript team, I did not verify. Im not REALLY sure if renderscript memory allocations are on the heap, because it gets compiled to C afaik which would not be restricted/using heap memory."},{"owner":{"account_id":664324,"reputation":6003,"user_id":483708,"accept_rate":100,"display_name":"Theo"},"score":2,"creation_date":1407864981,"post_id":23119957,"comment_id":39377093,"body_markdown":"Renderscript fast Gaussian blur fails with C memory allocation errors on low end devices. Tested on ZTE Z992 (Android 4.1.1) and Kyocera Rise (Android 4.0.4) using the provided Play Store app. Also had a failure report on Samsung Galaxy S3 mini. Since errors occur in the C layer, they cannot be trapped as exceptions in Java, meaning an app crash is unavoidable. Looks like RenderScript may not ready for production use.","body":"Renderscript fast Gaussian blur fails with C memory allocation errors on low end devices. Tested on ZTE Z992 (Android 4.1.1) and Kyocera Rise (Android 4.0.4) using the provided Play Store app. Also had a failure report on Samsung Galaxy S3 mini. Since errors occur in the C layer, they cannot be trapped as exceptions in Java, meaning an app crash is unavoidable. Looks like RenderScript may not ready for production use."},{"owner":{"account_id":664324,"reputation":6003,"user_id":483708,"accept_rate":100,"display_name":"Theo"},"score":0,"creation_date":1407866154,"post_id":23119957,"comment_id":39377847,"body_markdown":"Also, regular Gaussian fast blur fails on Nexus 5 (Android 4.4.4) with IllegalStateException when using the code or the Play Store test app.","body":"Also, regular Gaussian fast blur fails on Nexus 5 (Android 4.4.4) with IllegalStateException when using the code or the Play Store test app."},{"owner":{"account_id":1060813,"reputation":1647,"user_id":1062480,"accept_rate":80,"display_name":"MrMaffen"},"score":0,"creation_date":1409699896,"post_id":23119957,"comment_id":40050851,"body_markdown":"Best answer I&#39;ve read on stackoverflow so far! Awesome job man :)","body":"Best answer I&#39;ve read on stackoverflow so far! Awesome job man :)"},{"owner":{"account_id":1125273,"reputation":4279,"user_id":1112707,"accept_rate":100,"display_name":"seb"},"score":4,"creation_date":1416191058,"post_id":23119957,"comment_id":42466934,"body_markdown":"for newer gradle versions, use ``renderscriptSupportModeEnabled true`` or it will not build! I searched for ever!","body":"for newer gradle versions, use <code>renderscriptSupportModeEnabled true</code> or it will not build! I searched for ever!"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1416233742,"post_id":23119957,"comment_id":42484269,"body_markdown":"thx @seb ; the syntax change is for android gradle plugin v0.14+; Ive updated the answer","body":"thx @seb ; the syntax change is for android gradle plugin v0.14+; Ive updated the answer"},{"owner":{"account_id":5669051,"reputation":1251,"user_id":4484340,"accept_rate":62,"display_name":"HaloMediaz"},"score":3,"creation_date":1437868256,"post_id":23119957,"comment_id":51211586,"body_markdown":"[When I tried this solution, rather than getting a blurred bitmap, I got a rainbow colored bitmap](http://i.imgur.com/mQlBoRc.png).  Anyone else experience this problem? If so how did you fix it?","body":"<a href=\"http://i.imgur.com/mQlBoRc.png\" rel=\"nofollow noreferrer\">When I tried this solution, rather than getting a blurred bitmap, I got a rainbow colored bitmap</a>.  Anyone else experience this problem? If so how did you fix it?"},{"owner":{"account_id":288376,"reputation":15560,"user_id":588758,"accept_rate":75,"display_name":"JMRboosties"},"score":0,"creation_date":1438900707,"post_id":23119957,"comment_id":51652996,"body_markdown":"Just started getting the same thing as @HaloMediaz","body":"Just started getting the same thing as @HaloMediaz"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1451569764,"post_id":23119957,"comment_id":56836342,"body_markdown":"This is faster than using on Java, but according to what I&#39;ve noticed, it has relatively bad quality result, compared to the &quot;fastBlur&quot; solution of the other post (here: http://stackoverflow.com/a/10028267/878126 ) . is it possible to convert their solution to RS?","body":"This is faster than using on Java, but according to what I&#39;ve noticed, it has relatively bad quality result, compared to the &quot;fastBlur&quot; solution of the other post (here: <a href=\"http://stackoverflow.com/a/10028267/878126\">stackoverflow.com/a/10028267/878126</a> ) . is it possible to convert their solution to RS?"},{"owner":{"account_id":5593867,"reputation":2094,"user_id":4432176,"accept_rate":36,"display_name":"karthik kolanji"},"score":0,"creation_date":1455277477,"post_id":23119957,"comment_id":58429362,"body_markdown":"The idea of compressing the image to low quality and then blurring did the trick :)","body":"The idea of compressing the image to low quality and then blurring did the trick :)"}],"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":15,"down_vote_count":0,"up_vote_count":273,"is_accepted":false,"score":273,"last_activity_date":1680036776,"creation_date":1397681778,"answer_id":23119957,"question_id":2067955,"body_markdown":"Android Blur Guide 2016\r\n-----------------------\r\n[with Showcase/Benchmark App][1] and [Source on GitHub][2].\r\n*Also check out the Blur framework I&#39;m currently working on: [Dali][3].*\r\n\r\nAfter experimenting a lot I can now safely give you some solid recommendations that will make your life easier in Android when using the Android Framework.\r\n\r\n## Load and Use a down scaled Bitmap (for very blurry images) ##\r\n\r\nNever use the full size of a Bitmap. The bigger the image the more needs to be blurred and also the higher the blur radius needs to be and usually, the higher the blur radius the longer the algorithm takes.\r\n\r\n```java\r\nfinal BitmapFactory.Options options = new BitmapFactory.Options();\r\noptions.inSampleSize = 8;\r\nBitmap blurTemplate = BitmapFactory.decodeResource(getResources(), R.drawable.myImage, options);\r\n```\r\n\r\nThis will load the bitmap with `inSampleSize` 8, so only 1/64 of the original image. Test what `inSampleSize` suits your needs, but keep it 2^n (2,4,8,...) to avoid degrading quality due to scaling. [See Google doc for more][4]\r\n\r\nAnother huge advantage is that bitmap loading will be really fast. In my early blur testing I figured that the longest time during the whole blur process was the image loading. So to load a 1920x1080 image from disk my Nexus 5 needed 500ms while the blurring only took another 250 ms or so.\r\n\r\n## Use Renderscript ##\r\n\r\nRenderscript provides [`ScriptIntrinsicBlur`][5] which is a Gaussian blur filter. It has good visual quality and is just the fastest you realistically get on Android. Google claims to be [&quot;typically 2-3x faster than a multithreaded C implementation and often 10x+ faster than a Java implementation&quot;][6]. Renderscript is really sophisticated (using the fastest processing device (GPU, ISP, etc.), etc.) and there is also the [v8 support library for it making it compatible down to 2.2][7]. Well at least in theory, through my own tests and reports from other devs it seems that it is not possible to use Renderscript blindly, since the hardware/driver fragmentation seems to cause problems with some devices, even with higher SDK level (e.g. I had troubles with the 4.1 Nexus S) so be careful and test on a lot of devices. Here&#39;s a simple example that will get you started:\r\n\r\n```java\r\n//define this only once if blurring multiple times\r\nRenderScript rs = RenderScript.create(context);\r\n\r\n(...)\r\n//this will blur the bitmapOriginal with a radius of 8 and save it in bitmapOriginal\r\nfinal Allocation input = Allocation.createFromBitmap(rs, bitmapOriginal); //use this constructor for best performance, because it uses USAGE_SHARED mode which reuses memory\r\nfinal Allocation output = Allocation.createTyped(rs, input.getType());\r\nfinal ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\nscript.setRadius(8f);\r\nscript.setInput(input);\r\nscript.forEach(output);\r\noutput.copyTo(bitmapOriginal);\r\n```\r\n\r\nWhen using the v8 support with Gradle, which is specifically recommended by Google [&quot;because they include the latest improvements&quot;][7], you only [need to add 2 lines to your build script][8] and use `android.support.v8.renderscript` with current build tools ([updated syntax for android Gradle plugin v14+][9])\r\n\r\n```groovy\r\nandroid {\r\n    ...\r\n    defaultConfig {\r\n        ...\r\n        renderscriptTargetApi 19\r\n        renderscriptSupportModeEnabled true\r\n    }\r\n}\r\n```\r\n\r\nSimple benchmark on a Nexus 5 - comparing RenderScript with different other java and Renderscript implementations:\r\n\r\n![The average runtime per blur on different pic sizes][10]\r\nThe average runtime per blur on different pic sizes\r\n\r\n![Megapixels per sec that can be blurred][11]\r\nMegapixels per sec that can be blurred\r\n\r\nEach value is the avg of 250 rounds. `RS_GAUSS_FAST` is `ScriptIntrinsicBlur` (and nearly always the fastest), others that start with `RS_` are mostly convolve implementations with simple kernels. [The details of the algorithms can be found here][2]. This is not purely blurring, since a good portion is garbage collection that is measured. This can be seen in this here (`ScriptIntrinsicBlur` on a 100x100 image with about 500 rounds)\r\n\r\n![enter image description here][12]\r\n\r\nThe spikes are gc.\r\n\r\nYou can check for yourself, the benchmark app is in the Playstore: [BlurBenchmark][1]\r\n\r\n## Reuses Bitmap wherever possible (if priority: performance &gt; memory footprint) ##\r\n\r\nIf you need multiple blurs for a live blur or similar and your memory allows it, do not load the bitmap from drawables multiple times, but keep it &quot;cached&quot; in a member variable. In this case always try to use the same variables, to keep garbage collecting to a minimum.\r\n\r\nAlso check out the new [`inBitmap` option when loading][13] from a file or drawable which will reuse the bitmap memory and save garbage collection time.\r\n\r\n## For blending from sharp to blurry\r\n\r\nThe simple and naive method is just to use 2 `ImageViews`, one blurred, and alpha fade them. But if you want a more sophisticated look that smoothly fades from sharp to blurry, then check out [Roman Nurik&#39;s post about how to do it like in his Muzei app][14].\r\n\r\nBasically he explains that he pre-blurs some frames with different blur extents and uses them as key frames in an animation that looks really smooth.\r\n\r\n![Diagram where Nurik explains his approach][15]\r\n\r\n\r\n[1]: https://play.google.com/store/apps/details?id=at.favre.app.blurbenchmark\r\n[2]: https://github.com/patrickfav/BlurTestAndroid\r\n[3]: https://github.com/patrickfav/Dali\r\n[4]: http://developer.android.com/training/displaying-bitmaps/load-bitmap.html#load-bitmap\r\n[5]: http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\r\n[6]: http://android-developers.blogspot.co.at/2013/08/renderscript-intrinsics.html\r\n[7]: http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\r\n[8]: http://android-developers.blogspot.co.at/2013/09/renderscript-in-android-support-library.html\r\n[9]: http://tools.android.com/tech-docs/new-build-system\r\n[10]: http://i.stack.imgur.com/pO3LN.png\r\n[11]: http://i.stack.imgur.com/EjRgJ.png\r\n[12]: http://i.stack.imgur.com/AdFr0.png\r\n[13]: http://developer.android.com/training/displaying-bitmaps/manage-memory.html#inBitmap\r\n[14]: https://plus.google.com/+RomanNurik/posts/2sTQ1X2Cb2Z\r\n[15]: http://i.stack.imgur.com/GosOl.png","title":"Fast Bitmap Blur For Android SDK","body":"<h2>Android Blur Guide 2016</h2>\n<p><a href=\"https://play.google.com/store/apps/details?id=at.favre.app.blurbenchmark\" rel=\"nofollow noreferrer\">with Showcase/Benchmark App</a> and <a href=\"https://github.com/patrickfav/BlurTestAndroid\" rel=\"nofollow noreferrer\">Source on GitHub</a>.\n<em>Also check out the Blur framework I'm currently working on: <a href=\"https://github.com/patrickfav/Dali\" rel=\"nofollow noreferrer\">Dali</a>.</em></p>\n<p>After experimenting a lot I can now safely give you some solid recommendations that will make your life easier in Android when using the Android Framework.</p>\n<h2>Load and Use a down scaled Bitmap (for very blurry images)</h2>\n<p>Never use the full size of a Bitmap. The bigger the image the more needs to be blurred and also the higher the blur radius needs to be and usually, the higher the blur radius the longer the algorithm takes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final BitmapFactory.Options options = new BitmapFactory.Options();\noptions.inSampleSize = 8;\nBitmap blurTemplate = BitmapFactory.decodeResource(getResources(), R.drawable.myImage, options);\n</code></pre>\n<p>This will load the bitmap with <code>inSampleSize</code> 8, so only 1/64 of the original image. Test what <code>inSampleSize</code> suits your needs, but keep it 2^n (2,4,8,...) to avoid degrading quality due to scaling. <a href=\"http://developer.android.com/training/displaying-bitmaps/load-bitmap.html#load-bitmap\" rel=\"nofollow noreferrer\">See Google doc for more</a></p>\n<p>Another huge advantage is that bitmap loading will be really fast. In my early blur testing I figured that the longest time during the whole blur process was the image loading. So to load a 1920x1080 image from disk my Nexus 5 needed 500ms while the blurring only took another 250 ms or so.</p>\n<h2>Use Renderscript</h2>\n<p>Renderscript provides <a href=\"http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\" rel=\"nofollow noreferrer\"><code>ScriptIntrinsicBlur</code></a> which is a Gaussian blur filter. It has good visual quality and is just the fastest you realistically get on Android. Google claims to be <a href=\"http://android-developers.blogspot.co.at/2013/08/renderscript-intrinsics.html\" rel=\"nofollow noreferrer\">&quot;typically 2-3x faster than a multithreaded C implementation and often 10x+ faster than a Java implementation&quot;</a>. Renderscript is really sophisticated (using the fastest processing device (GPU, ISP, etc.), etc.) and there is also the <a href=\"http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\" rel=\"nofollow noreferrer\">v8 support library for it making it compatible down to 2.2</a>. Well at least in theory, through my own tests and reports from other devs it seems that it is not possible to use Renderscript blindly, since the hardware/driver fragmentation seems to cause problems with some devices, even with higher SDK level (e.g. I had troubles with the 4.1 Nexus S) so be careful and test on a lot of devices. Here's a simple example that will get you started:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//define this only once if blurring multiple times\nRenderScript rs = RenderScript.create(context);\n\n(...)\n//this will blur the bitmapOriginal with a radius of 8 and save it in bitmapOriginal\nfinal Allocation input = Allocation.createFromBitmap(rs, bitmapOriginal); //use this constructor for best performance, because it uses USAGE_SHARED mode which reuses memory\nfinal Allocation output = Allocation.createTyped(rs, input.getType());\nfinal ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\nscript.setRadius(8f);\nscript.setInput(input);\nscript.forEach(output);\noutput.copyTo(bitmapOriginal);\n</code></pre>\n<p>When using the v8 support with Gradle, which is specifically recommended by Google <a href=\"http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\" rel=\"nofollow noreferrer\">&quot;because they include the latest improvements&quot;</a>, you only <a href=\"http://android-developers.blogspot.co.at/2013/09/renderscript-in-android-support-library.html\" rel=\"nofollow noreferrer\">need to add 2 lines to your build script</a> and use <code>android.support.v8.renderscript</code> with current build tools (<a href=\"http://tools.android.com/tech-docs/new-build-system\" rel=\"nofollow noreferrer\">updated syntax for android Gradle plugin v14+</a>)</p>\n<pre><code>android {\n    ...\n    defaultConfig {\n        ...\n        renderscriptTargetApi 19\n        renderscriptSupportModeEnabled true\n    }\n}\n</code></pre>\n<p>Simple benchmark on a Nexus 5 - comparing RenderScript with different other java and Renderscript implementations:</p>\n<p><img src=\"https://i.stack.imgur.com/pO3LN.png\" alt=\"The average runtime per blur on different pic sizes\" />\nThe average runtime per blur on different pic sizes</p>\n<p><img src=\"https://i.stack.imgur.com/EjRgJ.png\" alt=\"Megapixels per sec that can be blurred\" />\nMegapixels per sec that can be blurred</p>\n<p>Each value is the avg of 250 rounds. <code>RS_GAUSS_FAST</code> is <code>ScriptIntrinsicBlur</code> (and nearly always the fastest), others that start with <code>RS_</code> are mostly convolve implementations with simple kernels. <a href=\"https://github.com/patrickfav/BlurTestAndroid\" rel=\"nofollow noreferrer\">The details of the algorithms can be found here</a>. This is not purely blurring, since a good portion is garbage collection that is measured. This can be seen in this here (<code>ScriptIntrinsicBlur</code> on a 100x100 image with about 500 rounds)</p>\n<p><img src=\"https://i.stack.imgur.com/AdFr0.png\" alt=\"enter image description here\" /></p>\n<p>The spikes are gc.</p>\n<p>You can check for yourself, the benchmark app is in the Playstore: <a href=\"https://play.google.com/store/apps/details?id=at.favre.app.blurbenchmark\" rel=\"nofollow noreferrer\">BlurBenchmark</a></p>\n<h2>Reuses Bitmap wherever possible (if priority: performance &gt; memory footprint)</h2>\n<p>If you need multiple blurs for a live blur or similar and your memory allows it, do not load the bitmap from drawables multiple times, but keep it &quot;cached&quot; in a member variable. In this case always try to use the same variables, to keep garbage collecting to a minimum.</p>\n<p>Also check out the new <a href=\"http://developer.android.com/training/displaying-bitmaps/manage-memory.html#inBitmap\" rel=\"nofollow noreferrer\"><code>inBitmap</code> option when loading</a> from a file or drawable which will reuse the bitmap memory and save garbage collection time.</p>\n<h2>For blending from sharp to blurry</h2>\n<p>The simple and naive method is just to use 2 <code>ImageViews</code>, one blurred, and alpha fade them. But if you want a more sophisticated look that smoothly fades from sharp to blurry, then check out <a href=\"https://plus.google.com/+RomanNurik/posts/2sTQ1X2Cb2Z\" rel=\"nofollow noreferrer\">Roman Nurik's post about how to do it like in his Muzei app</a>.</p>\n<p>Basically he explains that he pre-blurs some frames with different blur extents and uses them as key frames in an animation that looks really smooth.</p>\n<p><img src=\"https://i.stack.imgur.com/GosOl.png\" alt=\"Diagram where Nurik explains his approach\" /></p>\n"},{"comments":[{"owner":{"account_id":3011799,"reputation":2435,"user_id":2555126,"accept_rate":45,"display_name":"AsafK"},"score":0,"creation_date":1447443063,"post_id":24018144,"comment_id":55172663,"body_markdown":"Im also having an issue with RenderScript on some old armeabi devices, but your solution is too memory consuming.","body":"Im also having an issue with RenderScript on some old armeabi devices, but your solution is too memory consuming."}],"tags":[],"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1401806593,"creation_date":1401806593,"answer_id":24018144,"question_id":2067955,"body_markdown":"We tried to implement RenderScript blur like mentioned above in different answers. We were limited to use the v8 RenderScript version and that caused us a lot of trouble.\r\n\r\n- Samsung S3 crashed randomly whenever we tried to use the renderscript\r\n- Other devices (across different APIs) randomly showed different color issues\r\n\r\nI want to share our dirty Java-only version which is slow and should be done on a separate thread and, if possible, before usage and therefore persisted.\r\n\r\n    private final Paint mPaint = new Paint();\r\n\r\n    public Bitmap blur(final String pathToBitmap) {\r\n        final BitmapFactory.Options options = new BitmapFactory.Options();\r\n        final Bitmap normalOne = BitmapFactory.decodeFile(pathToBitmap, options);\r\n        final Bitmap resultBitmap = Bitmap.createBitmap(options.outWidth, options.outHeight, Bitmap.Config.ARGB_8888);\r\n        Canvas canvas = new Canvas(resultBitmap);\r\n        mPaint.setAlpha(180);\r\n        canvas.drawBitmap(normalOne, 0, 0, mPaint);\r\n        int blurRadius = 12;\r\n        for (int row = -blurRadius; row &lt; blurRadius; row += 2) {\r\n            for (int col = -blurRadius; col &lt; blurRadius; col += 2) {\r\n                if (col * col + row * row &lt;= blurRadius * blurRadius) {\r\n                    mPaint.setAlpha((blurRadius * blurRadius) / ((col * col + row * row) + 1) * 2);\r\n                    canvas.drawBitmap(normalOne, row, col, mPaint);\r\n                }\r\n            }\r\n        }\r\n        normalOne.recycle();\r\n        return resultBitmap;\r\n    }\r\n\r\nThis solution is far from perfect but creates a reasonable blur effect based on the fact, that it draws highly transparent version of the same image on top of a barely transparent &quot;sharp&quot; version. The alpha depends on the distance to the origin.\r\n\r\nYou can adjust some &quot;magic numbers&quot; to your needs.\r\nI just wanted to share that &quot;solution&quot; for everybody who has issues with the v8 support version of RenderScript.","title":"Fast Bitmap Blur For Android SDK","body":"<p>We tried to implement RenderScript blur like mentioned above in different answers. We were limited to use the v8 RenderScript version and that caused us a lot of trouble.</p>\n\n<ul>\n<li>Samsung S3 crashed randomly whenever we tried to use the renderscript</li>\n<li>Other devices (across different APIs) randomly showed different color issues</li>\n</ul>\n\n<p>I want to share our dirty Java-only version which is slow and should be done on a separate thread and, if possible, before usage and therefore persisted.</p>\n\n<pre><code>private final Paint mPaint = new Paint();\n\npublic Bitmap blur(final String pathToBitmap) {\n    final BitmapFactory.Options options = new BitmapFactory.Options();\n    final Bitmap normalOne = BitmapFactory.decodeFile(pathToBitmap, options);\n    final Bitmap resultBitmap = Bitmap.createBitmap(options.outWidth, options.outHeight, Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(resultBitmap);\n    mPaint.setAlpha(180);\n    canvas.drawBitmap(normalOne, 0, 0, mPaint);\n    int blurRadius = 12;\n    for (int row = -blurRadius; row &lt; blurRadius; row += 2) {\n        for (int col = -blurRadius; col &lt; blurRadius; col += 2) {\n            if (col * col + row * row &lt;= blurRadius * blurRadius) {\n                mPaint.setAlpha((blurRadius * blurRadius) / ((col * col + row * row) + 1) * 2);\n                canvas.drawBitmap(normalOne, row, col, mPaint);\n            }\n        }\n    }\n    normalOne.recycle();\n    return resultBitmap;\n}\n</code></pre>\n\n<p>This solution is far from perfect but creates a reasonable blur effect based on the fact, that it draws highly transparent version of the same image on top of a barely transparent \"sharp\" version. The alpha depends on the distance to the origin.</p>\n\n<p>You can adjust some \"magic numbers\" to your needs.\nI just wanted to share that \"solution\" for everybody who has issues with the v8 support version of RenderScript.</p>\n"},{"comments":[{"owner":{"account_id":1485549,"reputation":521,"user_id":1393920,"accept_rate":80,"display_name":"VAdaihiep"},"score":1,"creation_date":1448077727,"post_id":25242707,"comment_id":55444077,"body_markdown":"Simplest way to blurring image (y)","body":"Simplest way to blurring image (y)"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1634636740,"post_id":25242707,"comment_id":123072334,"body_markdown":"Thanks! Don&#39;t forget to add RenderScript in build.gradle. This method  requires `Bitmap`, so first copy bitmap from a view, then call `BlurImage(bitmap)`.","body":"Thanks! Don&#39;t forget to add RenderScript in build.gradle. This method  requires <code>Bitmap</code>, so first copy bitmap from a view, then call <code>BlurImage(bitmap)</code>."}],"tags":[],"owner":{"account_id":2374319,"reputation":510,"user_id":3138706,"display_name":"Niks"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1407758131,"creation_date":1407758131,"answer_id":25242707,"question_id":2067955,"body_markdown":"This code is work perfect for me\r\n\r\n    Bitmap tempbg = BitmapFactory.decodeResource(getResources(),R.drawable.b1); //Load a background.\r\n    Bitmap final_Bitmap = BlurImage(tempbg);\r\n\r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n\tBitmap BlurImage (Bitmap input)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\tRenderScript  rsScript = RenderScript.create(getApplicationContext());\r\n\t\tAllocation alloc = Allocation.createFromBitmap(rsScript, input);\r\n\r\n\t\tScriptIntrinsicBlur blur = ScriptIntrinsicBlur.create(rsScript,   Element.U8_4(rsScript));\r\n\t\tblur.setRadius(21);\r\n\t\tblur.setInput(alloc);\r\n\r\n\t\tBitmap result = Bitmap.createBitmap(input.getWidth(), input.getHeight(), Bitmap.Config.ARGB_8888);\r\n\t\tAllocation outAlloc = Allocation.createFromBitmap(rsScript, result);\r\n\t\t\r\n\t\tblur.forEach(outAlloc);\r\n\t\toutAlloc.copyTo(result);\r\n\r\n\t\trsScript.destroy();\r\n\t\treturn result;\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\treturn input;\r\n\t\t}\r\n\t\t\r\n\t}","title":"Fast Bitmap Blur For Android SDK","body":"<p>This code is work perfect for me</p>\n\n<pre><code>Bitmap tempbg = BitmapFactory.decodeResource(getResources(),R.drawable.b1); //Load a background.\nBitmap final_Bitmap = BlurImage(tempbg);\n\n\n@SuppressLint(\"NewApi\")\nBitmap BlurImage (Bitmap input)\n{\n    try\n    {\n    RenderScript  rsScript = RenderScript.create(getApplicationContext());\n    Allocation alloc = Allocation.createFromBitmap(rsScript, input);\n\n    ScriptIntrinsicBlur blur = ScriptIntrinsicBlur.create(rsScript,   Element.U8_4(rsScript));\n    blur.setRadius(21);\n    blur.setInput(alloc);\n\n    Bitmap result = Bitmap.createBitmap(input.getWidth(), input.getHeight(), Bitmap.Config.ARGB_8888);\n    Allocation outAlloc = Allocation.createFromBitmap(rsScript, result);\n\n    blur.forEach(outAlloc);\n    outAlloc.copyTo(result);\n\n    rsScript.destroy();\n    return result;\n    }\n    catch (Exception e) {\n        // TODO: handle exception\n        return input;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2433540,"reputation":614,"user_id":2123961,"accept_rate":64,"display_name":"mradzinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412120995,"creation_date":1412120995,"answer_id":26132078,"question_id":2067955,"body_markdown":"For those still having issues with Renderscript support library on x86 chipsets, please have a look at this post by the creator of the library. It looks like the fix he prepared didn&#39;t make it somehow to the Build Tools v20.0.0, so he provides the files to fix it manually and a brief explanation of how to do it.\r\n\r\nhttps://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=71347","title":"Fast Bitmap Blur For Android SDK","body":"<p>For those still having issues with Renderscript support library on x86 chipsets, please have a look at this post by the creator of the library. It looks like the fix he prepared didn't make it somehow to the Build Tools v20.0.0, so he provides the files to fix it manually and a brief explanation of how to do it.</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=71347\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=71347</a></p>\n"},{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1517862006,"post_id":26426666,"comment_id":84258642,"body_markdown":"no if you scale down the image to scale up later you will retrieve a blocky image instead of a blured image :(","body":"no if you scale down the image to scale up later you will retrieve a blocky image instead of a blured image :("}],"tags":[],"owner":{"account_id":4601602,"reputation":1989,"user_id":3732187,"display_name":"Vansuita Jr."},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413555329,"creation_date":1413554173,"answer_id":26426666,"question_id":2067955,"body_markdown":"This is for all people who need to increase the radius of `ScriptIntrinsicBlur` to obtain a harder gaussian blur.\r\n\r\nInstead of to put the radius more than 25, you can scale down the image and get the same result. I wrote a class called `GaussianBlur`. Below you can see how to use, and the whole class implementation.\r\n\r\nUsage:\r\n\r\n    GaussianBlur gaussian = new GaussianBlur(context);\r\n    gaussian.setMaxImageSize(60);\r\n    gaussian.setRadius(25); //max\r\n\r\n    Bitmap output = gaussian.render(&lt;your bitmap&gt;,true);\r\n    Drawable d = new BitmapDrawable(getResources(),output);\r\nClass:\r\n\r\n   \r\n\r\n     public class GaussianBlur {\r\n        private final int DEFAULT_RADIUS = 25;\r\n        private final float DEFAULT_MAX_IMAGE_SIZE = 400;\r\n    \r\n        private Context context;\r\n        private int radius;\r\n        private float maxImageSize;\r\n    \r\n        public GaussianBlur(Context context) {\r\n        this.context = context;\r\n        setRadius(DEFAULT_RADIUS);\r\n        setMaxImageSize(DEFAULT_MAX_IMAGE_SIZE);\r\n        } \r\n    \r\n        public Bitmap render(Bitmap bitmap, boolean scaleDown) {\r\n        RenderScript rs = RenderScript.create(context);\r\n    \r\n        if (scaleDown) {\r\n            bitmap = scaleDown(bitmap);\r\n        }\r\n    \r\n        Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Config.ARGB_8888);\r\n    \r\n        Allocation inAlloc = Allocation.createFromBitmap(rs, bitmap, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_GRAPHICS_TEXTURE);\r\n        Allocation outAlloc = Allocation.createFromBitmap(rs, output);\r\n    \r\n        ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, inAlloc.getElement()); // Element.U8_4(rs));\r\n        script.setRadius(getRadius());\r\n        script.setInput(inAlloc);\r\n        script.forEach(outAlloc);\r\n        outAlloc.copyTo(output);\r\n    \r\n        rs.destroy();\r\n    \r\n        return output;\r\n    }\r\n    \r\n    public Bitmap scaleDown(Bitmap input) {\r\n        float ratio = Math.min((float) getMaxImageSize() / input.getWidth(), (float) getMaxImageSize() / input.getHeight());\r\n        int width = Math.round((float) ratio * input.getWidth());\r\n        int height = Math.round((float) ratio * input.getHeight());\r\n    \r\n        return Bitmap.createScaledBitmap(input, width, height, true);\r\n    }\r\n    \r\n    public int getRadius() {\r\n        return radius;\r\n    }\r\n    \r\n    public void setRadius(int radius) {\r\n        this.radius = radius;\r\n    }\r\n    \r\n    public float getMaxImageSize() {\r\n        return maxImageSize;\r\n    }\r\n    \r\n    public void setMaxImageSize(float maxImageSize) {\r\n        this.maxImageSize = maxImageSize;\r\n    }\r\n        }","title":"Fast Bitmap Blur For Android SDK","body":"<p>This is for all people who need to increase the radius of <code>ScriptIntrinsicBlur</code> to obtain a harder gaussian blur.</p>\n\n<p>Instead of to put the radius more than 25, you can scale down the image and get the same result. I wrote a class called <code>GaussianBlur</code>. Below you can see how to use, and the whole class implementation.</p>\n\n<p>Usage:</p>\n\n<pre><code>GaussianBlur gaussian = new GaussianBlur(context);\ngaussian.setMaxImageSize(60);\ngaussian.setRadius(25); //max\n\nBitmap output = gaussian.render(&lt;your bitmap&gt;,true);\nDrawable d = new BitmapDrawable(getResources(),output);\n</code></pre>\n\n<p>Class:</p>\n\n<pre><code> public class GaussianBlur {\n    private final int DEFAULT_RADIUS = 25;\n    private final float DEFAULT_MAX_IMAGE_SIZE = 400;\n\n    private Context context;\n    private int radius;\n    private float maxImageSize;\n\n    public GaussianBlur(Context context) {\n    this.context = context;\n    setRadius(DEFAULT_RADIUS);\n    setMaxImageSize(DEFAULT_MAX_IMAGE_SIZE);\n    } \n\n    public Bitmap render(Bitmap bitmap, boolean scaleDown) {\n    RenderScript rs = RenderScript.create(context);\n\n    if (scaleDown) {\n        bitmap = scaleDown(bitmap);\n    }\n\n    Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Config.ARGB_8888);\n\n    Allocation inAlloc = Allocation.createFromBitmap(rs, bitmap, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_GRAPHICS_TEXTURE);\n    Allocation outAlloc = Allocation.createFromBitmap(rs, output);\n\n    ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, inAlloc.getElement()); // Element.U8_4(rs));\n    script.setRadius(getRadius());\n    script.setInput(inAlloc);\n    script.forEach(outAlloc);\n    outAlloc.copyTo(output);\n\n    rs.destroy();\n\n    return output;\n}\n\npublic Bitmap scaleDown(Bitmap input) {\n    float ratio = Math.min((float) getMaxImageSize() / input.getWidth(), (float) getMaxImageSize() / input.getHeight());\n    int width = Math.round((float) ratio * input.getWidth());\n    int height = Math.round((float) ratio * input.getHeight());\n\n    return Bitmap.createScaledBitmap(input, width, height, true);\n}\n\npublic int getRadius() {\n    return radius;\n}\n\npublic void setRadius(int radius) {\n    this.radius = radius;\n}\n\npublic float getMaxImageSize() {\n    return maxImageSize;\n}\n\npublic void setMaxImageSize(float maxImageSize) {\n    this.maxImageSize = maxImageSize;\n}\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419425490,"creation_date":1419425490,"answer_id":27637235,"question_id":2067955,"body_markdown":"from Mario Viviani blog one can use this solution from 17 Android Version:\r\n\r\nhttps://plus.google.com/+MarioViviani/posts/fhuzYkji9zz\r\n\r\nor \r\n\r\nhttps://gist.github.com/Mariuxtheone/903c35b4927c0df18cf8","title":"Fast Bitmap Blur For Android SDK","body":"<p>from Mario Viviani blog one can use this solution from 17 Android Version:</p>\n\n<p><a href=\"https://plus.google.com/+MarioViviani/posts/fhuzYkji9zz\" rel=\"nofollow\">https://plus.google.com/+MarioViviani/posts/fhuzYkji9zz</a></p>\n\n<p>or </p>\n\n<p><a href=\"https://gist.github.com/Mariuxtheone/903c35b4927c0df18cf8\" rel=\"nofollow\">https://gist.github.com/Mariuxtheone/903c35b4927c0df18cf8</a></p>\n"},{"comments":[{"owner":{"account_id":2088060,"reputation":2612,"user_id":1858499,"display_name":"Stephen Hines"},"score":1,"creation_date":1441681815,"post_id":32383118,"comment_id":52760386,"body_markdown":"This would be even better/faster if you cached the RenderScript object that you created. Instantiating a new one every time you want to blur an image just adds unnecessary overhead (Java object creation/destruction).","body":"This would be even better/faster if you cached the RenderScript object that you created. Instantiating a new one every time you want to blur an image just adds unnecessary overhead (Java object creation/destruction)."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1634639659,"post_id":32383118,"comment_id":123073513,"body_markdown":"It is c copy of [b_yng](https://stackoverflow.com/a/21051758/2914140) solution.","body":"It is c copy of <a href=\"https://stackoverflow.com/a/21051758/2914140\">b_yng</a> solution."}],"tags":[],"owner":{"account_id":3514786,"reputation":724,"user_id":2938493,"display_name":"Artificioo"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1441305493,"creation_date":1441305493,"answer_id":32383118,"question_id":2067955,"body_markdown":"This worked fine for me: [How to Blur Images Efficiently with Android&#39;s RenderScript][1]\r\n\r\n    public class BlurBuilder {\r\n\t    private static final float BITMAP_SCALE = 0.4f;\r\n    \tprivate static final float BLUR_RADIUS = 7.5f;\r\n\r\n    \t@SuppressLint(&quot;NewApi&quot;)\r\n    \tpublic static Bitmap blur(Context context, Bitmap image) {\r\n    \t\tint width = Math.round(image.getWidth() * BITMAP_SCALE);\r\n    \t\tint height = Math.round(image.getHeight() * BITMAP_SCALE);\r\n\r\n    \t\tBitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height,\r\n\t\t\t\tfalse);\r\n\t    \tBitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\r\n\r\n\t\t    RenderScript rs = RenderScript.create(context);\r\n\t    \tScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs,\r\n\t\t\t\tElement.U8_4(rs));\r\n\t\t\tAllocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\r\n\t\t\tAllocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\r\n\t\t\ttheIntrinsic.setRadius(BLUR_RADIUS);\r\n\t\t\ttheIntrinsic.setInput(tmpIn);\r\n\t\t\ttheIntrinsic.forEach(tmpOut);\r\n\t\t\ttmpOut.copyTo(outputBitmap);\r\n\r\n\t\t\treturn outputBitmap;\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://futurestud.io/blog/how-to-blur-images-efficiently-with-androids-renderscript/","title":"Fast Bitmap Blur For Android SDK","body":"<p>This worked fine for me: <a href=\"https://futurestud.io/blog/how-to-blur-images-efficiently-with-androids-renderscript/\">How to Blur Images Efficiently with Android's RenderScript</a></p>\n\n<pre><code>public class BlurBuilder {\n    private static final float BITMAP_SCALE = 0.4f;\n    private static final float BLUR_RADIUS = 7.5f;\n\n    @SuppressLint(\"NewApi\")\n    public static Bitmap blur(Context context, Bitmap image) {\n        int width = Math.round(image.getWidth() * BITMAP_SCALE);\n        int height = Math.round(image.getHeight() * BITMAP_SCALE);\n\n        Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height,\n            false);\n        Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\n\n        RenderScript rs = RenderScript.create(context);\n        ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs,\n            Element.U8_4(rs));\n        Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\n        Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\n        theIntrinsic.setRadius(BLUR_RADIUS);\n        theIntrinsic.setInput(tmpIn);\n        theIntrinsic.forEach(tmpOut);\n        tmpOut.copyTo(outputBitmap);\n\n        return outputBitmap;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5929698,"reputation":445,"user_id":4664567,"display_name":"Gabriel Ferreira"},"score":0,"creation_date":1467748723,"post_id":33002383,"comment_id":63847340,"body_markdown":"still with &#39;index out of range&#39; in devices &gt;hdpi as the original source","body":"still with &#39;index out of range&#39; in devices &gt;hdpi as the original source"},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1664970376,"post_id":33002383,"comment_id":130589060,"body_markdown":"The algorithm is fine for premultiplied color values but getPixels() gives us unpremultiplied ones. If the config is ARGB_8888, you can use `copyPixelsFrom/ToBuffer` instead of `get/setPixels`: pixel color values will be premultiplied AABBGGRR (this also saves some (negligible) cycles on color conversion).","body":"The algorithm is fine for premultiplied color values but getPixels() gives us unpremultiplied ones. If the config is ARGB_8888, you can use <code>copyPixelsFrom&#47;ToBuffer</code> instead of <code>get&#47;setPixels</code>: pixel color values will be premultiplied AABBGGRR (this also saves some (negligible) cycles on color conversion)."}],"tags":[],"owner":{"account_id":1897247,"reputation":10210,"user_id":1713920,"accept_rate":92,"display_name":"vir us"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1444251830,"creation_date":1444251830,"answer_id":33002383,"question_id":2067955,"body_markdown":"Thanks @Yahel for the code. \r\nPosting the same method with **alpha channel blurring** support as it took me some time to make it work correctly so it may save someone&#39;s time:\r\n\r\n\r\n    /**\r\n     * Stack Blur v1.0 from\r\n     * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\r\n     * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\r\n     * http://incubator.quasimondo.com\r\n     * &lt;p/&gt;\r\n     * created Feburary 29, 2004\r\n     * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\r\n     * http://www.kayenko.com\r\n     * ported april 5th, 2012\r\n     * &lt;p/&gt;\r\n     * This is a compromise between Gaussian Blur and Box blur\r\n     * It creates much better looking blurs than Box Blur, but is\r\n     * 7x faster than my Gaussian Blur implementation.\r\n     * &lt;p/&gt;\r\n     * I called it Stack Blur because this describes best how this\r\n     * filter works internally: it creates a kind of moving stack\r\n     * of colors whilst scanning through the image. Thereby it\r\n     * just has to add one new block of color to the right side\r\n     * of the stack and remove the leftmost color. The remaining\r\n     * colors on the topmost layer of the stack are either added on\r\n     * or reduced by one, depending on if they are on the right or\r\n     * on the left side of the stack.\r\n     * &lt;p/&gt;\r\n     * If you are using this algorithm in your code please add\r\n     * the following line:\r\n     * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\r\n     */\r\n\r\n    public static Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\r\n\r\n        int width = Math.round(sentBitmap.getWidth() * scale);\r\n        int height = Math.round(sentBitmap.getHeight() * scale);\r\n        sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\r\n\r\n        Bitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\r\n\r\n        if (radius &lt; 1) {\r\n            return (null);\r\n        }\r\n\r\n        int w = bitmap.getWidth();\r\n        int h = bitmap.getHeight();\r\n\r\n        int[] pix = new int[w * h];\r\n        Log.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n        bitmap.getPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n        int wm = w - 1;\r\n        int hm = h - 1;\r\n        int wh = w * h;\r\n        int div = radius + radius + 1;\r\n\r\n        int r[] = new int[wh];\r\n        int g[] = new int[wh];\r\n        int b[] = new int[wh];\r\n        int a[] = new int[wh];\r\n        int rsum, gsum, bsum, asum, x, y, i, p, yp, yi, yw;\r\n        int vmin[] = new int[Math.max(w, h)];\r\n\r\n        int divsum = (div + 1) &gt;&gt; 1;\r\n        divsum *= divsum;\r\n        int dv[] = new int[256 * divsum];\r\n        for (i = 0; i &lt; 256 * divsum; i++) {\r\n            dv[i] = (i / divsum);\r\n        }\r\n\r\n        yw = yi = 0;\r\n\r\n        int[][] stack = new int[div][4];\r\n        int stackpointer;\r\n        int stackstart;\r\n        int[] sir;\r\n        int rbs;\r\n        int r1 = radius + 1;\r\n        int routsum, goutsum, boutsum, aoutsum;\r\n        int rinsum, ginsum, binsum, ainsum;\r\n\r\n        for (y = 0; y &lt; h; y++) {\r\n            rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\r\n            for (i = -radius; i &lt;= radius; i++) {\r\n                p = pix[yi + Math.min(wm, Math.max(i, 0))];\r\n                sir = stack[i + radius];\r\n                sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n                sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n                sir[2] = (p &amp; 0x0000ff);\r\n                sir[3] = 0xff &amp; (p &gt;&gt; 24);\r\n\r\n                rbs = r1 - Math.abs(i);\r\n                rsum += sir[0] * rbs;\r\n                gsum += sir[1] * rbs;\r\n                bsum += sir[2] * rbs;\r\n                asum += sir[3] * rbs;\r\n                if (i &gt; 0) {\r\n                    rinsum += sir[0];\r\n                    ginsum += sir[1];\r\n                    binsum += sir[2];\r\n                    ainsum += sir[3];\r\n                } else {\r\n                    routsum += sir[0];\r\n                    goutsum += sir[1];\r\n                    boutsum += sir[2];\r\n                    aoutsum += sir[3];\r\n                }\r\n            }\r\n            stackpointer = radius;\r\n\r\n            for (x = 0; x &lt; w; x++) {\r\n\r\n                r[yi] = dv[rsum];\r\n                g[yi] = dv[gsum];\r\n                b[yi] = dv[bsum];\r\n                a[yi] = dv[asum];\r\n\r\n                rsum -= routsum;\r\n                gsum -= goutsum;\r\n                bsum -= boutsum;\r\n                asum -= aoutsum;\r\n\r\n                stackstart = stackpointer - radius + div;\r\n                sir = stack[stackstart % div];\r\n\r\n                routsum -= sir[0];\r\n                goutsum -= sir[1];\r\n                boutsum -= sir[2];\r\n                aoutsum -= sir[3];\r\n\r\n                if (y == 0) {\r\n                    vmin[x] = Math.min(x + radius + 1, wm);\r\n                }\r\n                p = pix[yw + vmin[x]];\r\n\r\n                sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n                sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n                sir[2] = (p &amp; 0x0000ff);\r\n                sir[3] = 0xff &amp; (p &gt;&gt; 24);\r\n\r\n                rinsum += sir[0];\r\n                ginsum += sir[1];\r\n                binsum += sir[2];\r\n                ainsum += sir[3];\r\n\r\n                rsum += rinsum;\r\n                gsum += ginsum;\r\n                bsum += binsum;\r\n                asum += ainsum;\r\n\r\n                stackpointer = (stackpointer + 1) % div;\r\n                sir = stack[(stackpointer) % div];\r\n\r\n                routsum += sir[0];\r\n                goutsum += sir[1];\r\n                boutsum += sir[2];\r\n                aoutsum += sir[3];\r\n\r\n                rinsum -= sir[0];\r\n                ginsum -= sir[1];\r\n                binsum -= sir[2];\r\n                ainsum -= sir[3];\r\n\r\n                yi++;\r\n            }\r\n            yw += w;\r\n        }\r\n        for (x = 0; x &lt; w; x++) {\r\n            rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\r\n            yp = -radius * w;\r\n            for (i = -radius; i &lt;= radius; i++) {\r\n                yi = Math.max(0, yp) + x;\r\n\r\n                sir = stack[i + radius];\r\n\r\n                sir[0] = r[yi];\r\n                sir[1] = g[yi];\r\n                sir[2] = b[yi];\r\n                sir[3] = a[yi];\r\n\r\n                rbs = r1 - Math.abs(i);\r\n\r\n                rsum += r[yi] * rbs;\r\n                gsum += g[yi] * rbs;\r\n                bsum += b[yi] * rbs;\r\n                asum += a[yi] * rbs;\r\n\r\n                if (i &gt; 0) {\r\n                    rinsum += sir[0];\r\n                    ginsum += sir[1];\r\n                    binsum += sir[2];\r\n                    ainsum += sir[3];\r\n                } else {\r\n                    routsum += sir[0];\r\n                    goutsum += sir[1];\r\n                    boutsum += sir[2];\r\n                    aoutsum += sir[3];\r\n                }\r\n\r\n                if (i &lt; hm) {\r\n                    yp += w;\r\n                }\r\n            }\r\n            yi = x;\r\n            stackpointer = radius;\r\n            for (y = 0; y &lt; h; y++) {\r\n                pix[yi] = (dv[asum] &lt;&lt; 24) | (dv[rsum] &lt;&lt; 16) | (dv[gsum] &lt;&lt; 8) | dv[bsum];\r\n\r\n                rsum -= routsum;\r\n                gsum -= goutsum;\r\n                bsum -= boutsum;\r\n                asum -= aoutsum;\r\n\r\n                stackstart = stackpointer - radius + div;\r\n                sir = stack[stackstart % div];\r\n\r\n                routsum -= sir[0];\r\n                goutsum -= sir[1];\r\n                boutsum -= sir[2];\r\n                aoutsum -= sir[3];\r\n\r\n                if (x == 0) {\r\n                    vmin[y] = Math.min(y + r1, hm) * w;\r\n                }\r\n                p = x + vmin[y];\r\n\r\n\r\n                sir[0] = r[p];\r\n                sir[1] = g[p];\r\n                sir[2] = b[p];\r\n                sir[3] = a[p];\r\n\r\n                rinsum += sir[0];\r\n                ginsum += sir[1];\r\n                binsum += sir[2];\r\n                ainsum += sir[3];\r\n\r\n                rsum += rinsum;\r\n                gsum += ginsum;\r\n                bsum += binsum;\r\n                asum += ainsum;\r\n\r\n                stackpointer = (stackpointer + 1) % div;\r\n                sir = stack[stackpointer];\r\n\r\n                routsum += sir[0];\r\n                goutsum += sir[1];\r\n                boutsum += sir[2];\r\n                aoutsum += sir[3];\r\n\r\n                rinsum -= sir[0];\r\n                ginsum -= sir[1];\r\n                binsum -= sir[2];\r\n                ainsum -= sir[3];\r\n\r\n                yi += w;\r\n            }\r\n        }\r\n\r\n        Log.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n        bitmap.setPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n        return (bitmap);\r\n    }","title":"Fast Bitmap Blur For Android SDK","body":"<p>Thanks @Yahel for the code. \nPosting the same method with <strong>alpha channel blurring</strong> support as it took me some time to make it work correctly so it may save someone's time:</p>\n\n<pre><code>/**\n * Stack Blur v1.0 from\n * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\n * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\n * http://incubator.quasimondo.com\n * &lt;p/&gt;\n * created Feburary 29, 2004\n * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\n * http://www.kayenko.com\n * ported april 5th, 2012\n * &lt;p/&gt;\n * This is a compromise between Gaussian Blur and Box blur\n * It creates much better looking blurs than Box Blur, but is\n * 7x faster than my Gaussian Blur implementation.\n * &lt;p/&gt;\n * I called it Stack Blur because this describes best how this\n * filter works internally: it creates a kind of moving stack\n * of colors whilst scanning through the image. Thereby it\n * just has to add one new block of color to the right side\n * of the stack and remove the leftmost color. The remaining\n * colors on the topmost layer of the stack are either added on\n * or reduced by one, depending on if they are on the right or\n * on the left side of the stack.\n * &lt;p/&gt;\n * If you are using this algorithm in your code please add\n * the following line:\n * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\n */\n\npublic static Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\n\n    int width = Math.round(sentBitmap.getWidth() * scale);\n    int height = Math.round(sentBitmap.getHeight() * scale);\n    sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\n\n    Bitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\n\n    if (radius &lt; 1) {\n        return (null);\n    }\n\n    int w = bitmap.getWidth();\n    int h = bitmap.getHeight();\n\n    int[] pix = new int[w * h];\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.getPixels(pix, 0, w, 0, 0, w, h);\n\n    int wm = w - 1;\n    int hm = h - 1;\n    int wh = w * h;\n    int div = radius + radius + 1;\n\n    int r[] = new int[wh];\n    int g[] = new int[wh];\n    int b[] = new int[wh];\n    int a[] = new int[wh];\n    int rsum, gsum, bsum, asum, x, y, i, p, yp, yi, yw;\n    int vmin[] = new int[Math.max(w, h)];\n\n    int divsum = (div + 1) &gt;&gt; 1;\n    divsum *= divsum;\n    int dv[] = new int[256 * divsum];\n    for (i = 0; i &lt; 256 * divsum; i++) {\n        dv[i] = (i / divsum);\n    }\n\n    yw = yi = 0;\n\n    int[][] stack = new int[div][4];\n    int stackpointer;\n    int stackstart;\n    int[] sir;\n    int rbs;\n    int r1 = radius + 1;\n    int routsum, goutsum, boutsum, aoutsum;\n    int rinsum, ginsum, binsum, ainsum;\n\n    for (y = 0; y &lt; h; y++) {\n        rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\n        for (i = -radius; i &lt;= radius; i++) {\n            p = pix[yi + Math.min(wm, Math.max(i, 0))];\n            sir = stack[i + radius];\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n            sir[3] = 0xff &amp; (p &gt;&gt; 24);\n\n            rbs = r1 - Math.abs(i);\n            rsum += sir[0] * rbs;\n            gsum += sir[1] * rbs;\n            bsum += sir[2] * rbs;\n            asum += sir[3] * rbs;\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n                ainsum += sir[3];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n                aoutsum += sir[3];\n            }\n        }\n        stackpointer = radius;\n\n        for (x = 0; x &lt; w; x++) {\n\n            r[yi] = dv[rsum];\n            g[yi] = dv[gsum];\n            b[yi] = dv[bsum];\n            a[yi] = dv[asum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n            asum -= aoutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n            aoutsum -= sir[3];\n\n            if (y == 0) {\n                vmin[x] = Math.min(x + radius + 1, wm);\n            }\n            p = pix[yw + vmin[x]];\n\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n            sir[3] = 0xff &amp; (p &gt;&gt; 24);\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n            ainsum += sir[3];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n            asum += ainsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[(stackpointer) % div];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n            aoutsum += sir[3];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n            ainsum -= sir[3];\n\n            yi++;\n        }\n        yw += w;\n    }\n    for (x = 0; x &lt; w; x++) {\n        rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\n        yp = -radius * w;\n        for (i = -radius; i &lt;= radius; i++) {\n            yi = Math.max(0, yp) + x;\n\n            sir = stack[i + radius];\n\n            sir[0] = r[yi];\n            sir[1] = g[yi];\n            sir[2] = b[yi];\n            sir[3] = a[yi];\n\n            rbs = r1 - Math.abs(i);\n\n            rsum += r[yi] * rbs;\n            gsum += g[yi] * rbs;\n            bsum += b[yi] * rbs;\n            asum += a[yi] * rbs;\n\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n                ainsum += sir[3];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n                aoutsum += sir[3];\n            }\n\n            if (i &lt; hm) {\n                yp += w;\n            }\n        }\n        yi = x;\n        stackpointer = radius;\n        for (y = 0; y &lt; h; y++) {\n            pix[yi] = (dv[asum] &lt;&lt; 24) | (dv[rsum] &lt;&lt; 16) | (dv[gsum] &lt;&lt; 8) | dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n            asum -= aoutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n            aoutsum -= sir[3];\n\n            if (x == 0) {\n                vmin[y] = Math.min(y + r1, hm) * w;\n            }\n            p = x + vmin[y];\n\n\n            sir[0] = r[p];\n            sir[1] = g[p];\n            sir[2] = b[p];\n            sir[3] = a[p];\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n            ainsum += sir[3];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n            asum += ainsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[stackpointer];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n            aoutsum += sir[3];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n            ainsum -= sir[3];\n\n            yi += w;\n        }\n    }\n\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.setPixels(pix, 0, w, 0, 0, w, h);\n\n    return (bitmap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4381587,"reputation":567,"user_id":3573092,"accept_rate":50,"display_name":"Huseyin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1474313362,"creation_date":1474313362,"answer_id":39580674,"question_id":2067955,"body_markdown":"I used this before..\r\n\r\n    public static Bitmap myblur(Bitmap image, Context context) {\r\n                final float BITMAP_SCALE = 0.4f;\r\n                final float BLUR_RADIUS = 7.5f;\r\n                int width = Math.round(image.getWidth() * BITMAP_SCALE);\r\n                int height = Math.round(image.getHeight() * BITMAP_SCALE);\r\n                Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\r\n                Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\r\n                RenderScript rs = RenderScript.create(context);\r\n                ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n                Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\r\n                Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\r\n                theIntrinsic.setRadius(BLUR_RADIUS);\r\n                theIntrinsic.setInput(tmpIn);\r\n                theIntrinsic.forEach(tmpOut);\r\n                tmpOut.copyTo(outputBitmap);\r\n                return outputBitmap;\r\n            }","title":"Fast Bitmap Blur For Android SDK","body":"<p>I used this before..</p>\n\n<pre><code>public static Bitmap myblur(Bitmap image, Context context) {\n            final float BITMAP_SCALE = 0.4f;\n            final float BLUR_RADIUS = 7.5f;\n            int width = Math.round(image.getWidth() * BITMAP_SCALE);\n            int height = Math.round(image.getHeight() * BITMAP_SCALE);\n            Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\n            Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\n            RenderScript rs = RenderScript.create(context);\n            ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n            Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\n            Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\n            theIntrinsic.setRadius(BLUR_RADIUS);\n            theIntrinsic.setInput(tmpIn);\n            theIntrinsic.forEach(tmpOut);\n            tmpOut.copyTo(outputBitmap);\n            return outputBitmap;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80183,"reputation":221,"user_id":226896,"display_name":"mmin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474773839,"creation_date":1474773839,"answer_id":39683067,"question_id":2067955,"body_markdown":"Here is a realtime blurring overlay using RenderScript, which seems to be fast enough.\r\n\r\nhttps://github.com/mmin18/RealtimeBlurView\r\n","title":"Fast Bitmap Blur For Android SDK","body":"<p>Here is a realtime blurring overlay using RenderScript, which seems to be fast enough.</p>\n\n<p><a href=\"https://github.com/mmin18/RealtimeBlurView\" rel=\"nofollow\">https://github.com/mmin18/RealtimeBlurView</a></p>\n"},{"tags":[],"owner":{"account_id":7421604,"reputation":358,"user_id":6165150,"accept_rate":40,"display_name":"wings"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486489283,"creation_date":1486489283,"answer_id":42096443,"question_id":2067955,"body_markdown":"I found that decreasing **contrast, brightness and saturation** a little makes blurred images more pretty so I combined various methods from stack overflow and made this [Blur Class](https://github.com/ankit-gaur/android/blob/master/BlurClass.java)  which deals with blurring images, changing brightness, saturation, contrast and size of the blurred images. It can also convert images from drawable to bitmap and vice-versa. ","title":"Fast Bitmap Blur For Android SDK","body":"<p>I found that decreasing <strong>contrast, brightness and saturation</strong> a little makes blurred images more pretty so I combined various methods from stack overflow and made this <a href=\"https://github.com/ankit-gaur/android/blob/master/BlurClass.java\" rel=\"nofollow noreferrer\">Blur Class</a>  which deals with blurring images, changing brightness, saturation, contrast and size of the blurred images. It can also convert images from drawable to bitmap and vice-versa. </p>\n"},{"tags":[],"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557407651,"creation_date":1557407651,"answer_id":56060266,"question_id":2067955,"body_markdown":"On the i/o 2019 the following solution was presented:\r\n\r\n    /**\r\n     * Blurs the given Bitmap image\r\n     * @param bitmap Image to blur\r\n     * @param applicationContext Application context\r\n     * @return Blurred bitmap image\r\n     */\r\n    @WorkerThread\r\n    fun blurBitmap(bitmap: Bitmap, applicationContext: Context): Bitmap {\r\n        lateinit var rsContext: RenderScript\r\n        try {\r\n    \r\n            // Create the output bitmap\r\n            val output = Bitmap.createBitmap(\r\n                    bitmap.width, bitmap.height, bitmap.config)\r\n    \r\n            // Blur the image\r\n            rsContext = RenderScript.create(applicationContext, RenderScript.ContextType.DEBUG)\r\n            val inAlloc = Allocation.createFromBitmap(rsContext, bitmap)\r\n            val outAlloc = Allocation.createTyped(rsContext, inAlloc.type)\r\n            val theIntrinsic = ScriptIntrinsicBlur.create(rsContext, Element.U8_4(rsContext))\r\n            theIntrinsic.apply {\r\n                setRadius(10f)\r\n                theIntrinsic.setInput(inAlloc)\r\n                theIntrinsic.forEach(outAlloc)\r\n            }\r\n            outAlloc.copyTo(output)\r\n    \r\n            return output\r\n        } finally {\r\n            rsContext.finish()\r\n        }\r\n    }","title":"Fast Bitmap Blur For Android SDK","body":"<p>On the i/o 2019 the following solution was presented:</p>\n\n<pre><code>/**\n * Blurs the given Bitmap image\n * @param bitmap Image to blur\n * @param applicationContext Application context\n * @return Blurred bitmap image\n */\n@WorkerThread\nfun blurBitmap(bitmap: Bitmap, applicationContext: Context): Bitmap {\n    lateinit var rsContext: RenderScript\n    try {\n\n        // Create the output bitmap\n        val output = Bitmap.createBitmap(\n                bitmap.width, bitmap.height, bitmap.config)\n\n        // Blur the image\n        rsContext = RenderScript.create(applicationContext, RenderScript.ContextType.DEBUG)\n        val inAlloc = Allocation.createFromBitmap(rsContext, bitmap)\n        val outAlloc = Allocation.createTyped(rsContext, inAlloc.type)\n        val theIntrinsic = ScriptIntrinsicBlur.create(rsContext, Element.U8_4(rsContext))\n        theIntrinsic.apply {\n            setRadius(10f)\n            theIntrinsic.setInput(inAlloc)\n            theIntrinsic.forEach(outAlloc)\n        }\n        outAlloc.copyTo(output)\n\n        return output\n    } finally {\n        rsContext.finish()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":580967,"reputation":2273,"user_id":237912,"display_name":"Greg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158093,"favorite_count":0,"down_vote_count":0,"up_vote_count":196,"accepted_answer_id":2068981,"answer_count":19,"score":196,"last_activity_date":1680036776,"creation_date":1263507287,"question_id":2067955,"body_markdown":"Currently in an Android application that I&#39;m developing I&#39;m looping through the pixels of an image to blur it.  This takes about 30 seconds on a 640x480 image.  \r\n\r\nWhile browsing apps in the Android Market I came across one that includes a blur feature and their blur is very fast (like 5 seconds) so they must be using a different method of blurring.\r\n\r\nAnyone know a faster way other than looping through the pixels?","title":"Fast Bitmap Blur For Android SDK","body":"<p>Currently in an Android application that I'm developing I'm looping through the pixels of an image to blur it.  This takes about 30 seconds on a 640x480 image.  </p>\n\n<p>While browsing apps in the Android Market I came across one that includes a blur feature and their blur is very fast (like 5 seconds) so they must be using a different method of blurring.</p>\n\n<p>Anyone know a faster way other than looping through the pixels?</p>\n"},{"tags":["java","android","orientation","android-videoview"],"comments":[{"owner":{"account_id":1178217,"reputation":8223,"user_id":1153703,"accept_rate":54,"display_name":"Bikesh M"},"score":0,"creation_date":1471341066,"post_id":11031295,"comment_id":65296978,"body_markdown":"check this answer http://stackoverflow.com/a/38971707/1153703","body":"check this answer <a href=\"http://stackoverflow.com/a/38971707/1153703\">stackoverflow.com/a/38971707/1153703</a>"}],"answers":[{"tags":[],"owner":{"account_id":1197713,"reputation":3073,"user_id":1169079,"accept_rate":59,"display_name":"user1169079"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1339670549,"creation_date":1339670549,"answer_id":11031410,"question_id":11031295,"body_markdown":"Unless you specify otherwise, a configuration change (such as a change in screen orientation, language, input devices, etc) will cause your current activity to be destroyed, going through the normal activity lifecycle process of onPause(), onStop(), and onDestroy() as appropriate. If the activity had been in the foreground or visible to the user, once onDestroy() is called in that instance then a new instance of the activity will be created, with whatever savedInstanceState the previous instance had generated from onSaveInstanceState(Bundle).\r\n\r\nSo what happened behind the scenes: currnet VideoView Activity (landscape) is destroyed, a new VideoView Activity (portrait) is created due screenOrientation configuration has been changed, and destoryed immidiately (where you can see the effects on screen), last activity in stack is shown. \r\n\r\nTry to handle this methods and check\r\n\r\n        @Override\r\n    protected void onResume() {\r\n        mVideoView.resume();\r\n        super.onResume();\r\n    }\r\n    \r\n    @Override\r\n    protected void onPause() {\r\n        mVideoView.suspend();\r\n        super.onPause();\r\n    }\r\n    \r\n    @Override\r\n    protected void onDestroy() {\r\n        mVideoView.stopPlayback();\r\n        super.onDestroy();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to keep playing video while changing to landscape mode android","body":"<p>Unless you specify otherwise, a configuration change (such as a change in screen orientation, language, input devices, etc) will cause your current activity to be destroyed, going through the normal activity lifecycle process of onPause(), onStop(), and onDestroy() as appropriate. If the activity had been in the foreground or visible to the user, once onDestroy() is called in that instance then a new instance of the activity will be created, with whatever savedInstanceState the previous instance had generated from onSaveInstanceState(Bundle).</p>\n\n<p>So what happened behind the scenes: currnet VideoView Activity (landscape) is destroyed, a new VideoView Activity (portrait) is created due screenOrientation configuration has been changed, and destoryed immidiately (where you can see the effects on screen), last activity in stack is shown. </p>\n\n<p>Try to handle this methods and check</p>\n\n<pre><code>    @Override\nprotected void onResume() {\n    mVideoView.resume();\n    super.onResume();\n}\n\n@Override\nprotected void onPause() {\n    mVideoView.suspend();\n    super.onPause();\n}\n\n@Override\nprotected void onDestroy() {\n    mVideoView.stopPlayback();\n    super.onDestroy();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":461772,"reputation":485,"user_id":863701,"accept_rate":39,"display_name":"gilush14"},"score":0,"creation_date":1339672454,"post_id":11031762,"comment_id":14424819,"body_markdown":"I tried what you suggested but when i playing in portrait mode the video is small compared to landscape mode that video should be full screen but video still stay small with this code","body":"I tried what you suggested but when i playing in portrait mode the video is small compared to landscape mode that video should be full screen but video still stay small with this code"},{"owner":{"account_id":11898278,"reputation":954,"user_id":8706989,"display_name":"Abdur Rahman"},"score":1,"creation_date":1515844205,"post_id":11031762,"comment_id":83461414,"body_markdown":"Superb I was searching for it from a long time :P At-last","body":"Superb I was searching for it from a long time :P At-last"},{"owner":{"account_id":9254068,"reputation":68,"user_id":6873568,"display_name":"baasu"},"score":0,"creation_date":1604913208,"post_id":11031762,"comment_id":114481672,"body_markdown":"This is what I am looking for","body":"This is what I am looking for"}],"tags":[],"owner":{"account_id":395253,"reputation":27958,"user_id":758104,"accept_rate":65,"display_name":"Vipul"},"comment_count":3,"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1680036741,"creation_date":1339671908,"answer_id":11031762,"question_id":11031295,"body_markdown":"all you need to do is add this to activity in AndroidManifest.xml:\r\n\r\n     android:configChanges=&quot;orientation&quot;\r\n\r\nYour Video activity should look something like this.   \r\n\r\n     &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \r\n      android:configChanges=&quot;orientation&quot; /&gt;\r\n\r\nAccording to [this answer](https://stackoverflow.com/a/7012863):\r\n&gt;If your target API level 13 or higher, you must include the `screenSize` value in addition to the `orientation` value as described [here][1]. Your Video activity should look something like this.   \r\n&gt;\r\n&gt;      &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \r\n&gt;       android:configChanges=&quot;orientation|screenSize&quot; /&gt;\r\n\r\nAnd then add the following method to VideoPlayerActivity:\r\n\r\n    @Override\r\n\tpublic void onConfigurationChanged(Configuration newConfig) {\r\n\t    super.onConfigurationChanged(newConfig);\r\n\t}\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange","title":"How to keep playing video while changing to landscape mode android","body":"<p>all you need to do is add this to activity in AndroidManifest.xml:</p>\n<pre><code> android:configChanges=&quot;orientation&quot;\n</code></pre>\n<p>Your Video activity should look something like this.</p>\n<pre><code> &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \n  android:configChanges=&quot;orientation&quot; /&gt;\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/a/7012863\">this answer</a>:</p>\n<blockquote>\n<p>If your target API level 13 or higher, you must include the <code>screenSize</code> value in addition to the <code>orientation</code> value as described <a href=\"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange\" rel=\"nofollow noreferrer\">here</a>. Your Video activity should look something like this.</p>\n<pre><code> &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \n  android:configChanges=&quot;orientation|screenSize&quot; /&gt;\n</code></pre>\n</blockquote>\n<p>And then add the following method to VideoPlayerActivity:</p>\n<pre><code>@Override\npublic void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13416941,"reputation":71,"user_id":9681087,"display_name":"Mikhael Lauda"},"score":0,"creation_date":1528177047,"post_id":50692079,"comment_id":88394898,"body_markdown":"for full screen landscape video","body":"for full screen landscape video"},{"owner":{"account_id":8357461,"reputation":423,"user_id":6277155,"display_name":"Rishikesh pathak"},"score":0,"creation_date":1542348185,"post_id":50692079,"comment_id":93544188,"body_markdown":"Giving `android:screenOrientation=&quot;landscape&quot;` will fix activity in **landscape** mode only(user can&#39;t change it to portrait).I believe you should read question again.","body":"Giving <code>android:screenOrientation=&quot;landscape&quot;</code> will fix activity in <b>landscape</b> mode only(user can&#39;t change it to portrait).I believe you should read question again."}],"tags":[],"owner":{"account_id":13416941,"reputation":71,"user_id":9681087,"display_name":"Mikhael Lauda"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528176983,"creation_date":1528173095,"answer_id":50692079,"question_id":11031295,"body_markdown":"**Full Screen Landscape Video**\r\n\r\nAndroidManifext.xml (Setting the orientation)\r\n\r\n            &lt;activity\r\n            android:name=&quot;.Video1&quot;\r\n            android:screenOrientation=&quot;landscape&quot; /&gt;\r\n\r\nVideo1.xml Code :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Video1&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/videoView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n    &lt;/VideoView&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\nVideo1.java Code :\r\n\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.WindowManager;\r\n    import android.widget.MediaController;\r\n    import android.widget.VideoView;\r\n\r\n    public class Video1 extends AppCompatActivity {\r\n\r\n    private VideoView videoView;\r\n    private MediaController mediaController;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video1);\r\n\r\n        videoView = findViewById(R.id.videoView);\r\n        String fullScreen =  getIntent().getStringExtra(&quot;fullScreenInd&quot;);\r\n        if(&quot;y&quot;.equals(fullScreen)){\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getSupportActionBar().hide();\r\n        }\r\n\r\n        Uri videoUri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.YOUR_VIDEO_NAME);\r\n\r\n        videoView.setVideoURI(videoUri);\r\n\r\n        mediaController = new FullScreenMediaController(this);\r\n        mediaController.setAnchorView(videoView);\r\n\r\n        videoView.setMediaController(mediaController);\r\n        videoView.start();\r\n        }\r\n    }\r\n\r\nFullScreenMediaControler.java Code :\r\n\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.view.Gravity;\r\n    import android.view.View;\r\n    import android.widget.FrameLayout;\r\n    import android.widget.ImageButton;\r\n    import android.widget.MediaController;\r\n\r\n    public class FullScreenMediaController extends MediaController {\r\n\r\n    private ImageButton fullScreen;\r\n    private String isFullScreen;\r\n\r\n    public FullScreenMediaController(Context context) {\r\n        super(context);\r\n    }\r\n\r\n    @Override\r\n    public void setAnchorView(View view) {\r\n\r\n        super.setAnchorView(view);\r\n\r\n        //image button for full screen to be added to media controller\r\n        fullScreen = new ImageButton (super.getContext());\r\n\r\n        FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\r\n        params.gravity = Gravity.RIGHT;\r\n        params.rightMargin = 80;\r\n        addView(fullScreen, params);\r\n\r\n        //fullscreen indicator from intent\r\n        isFullScreen =  ((Activity)getContext()).getIntent().\r\n                getStringExtra(&quot;fullScreenInd&quot;);\r\n\r\n        if(&quot;y&quot;.equals(isFullScreen)){\r\n            fullScreen.setImageResource(R.drawable.ic_fullscreen_exit);\r\n        }else{\r\n            fullScreen.setImageResource(R.drawable.ic_fullscreen);\r\n        }\r\n\r\n        //add listener to image button to handle full screen and exit full screen events\r\n        fullScreen.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent intent = new Intent(getContext(),Video1.class);\r\n\r\n                if(&quot;y&quot;.equals(isFullScreen)){\r\n                    intent.putExtra(&quot;fullScreenInd&quot;, &quot;&quot;);\r\n                }else{\r\n                    intent.putExtra(&quot;fullScreenInd&quot;, &quot;y&quot;);\r\n                }\r\n                ((Activity)getContext()).startActivity(intent);\r\n            }\r\n        });\r\n      }\r\n    }","title":"How to keep playing video while changing to landscape mode android","body":"<p><strong>Full Screen Landscape Video</strong></p>\n\n<p>AndroidManifext.xml (Setting the orientation)</p>\n\n<pre><code>        &lt;activity\n        android:name=\".Video1\"\n        android:screenOrientation=\"landscape\" /&gt;\n</code></pre>\n\n<p>Video1.xml Code :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".Video1\"&gt;\n\n&lt;VideoView\n    android:id=\"@+id/videoView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"center\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"&gt;\n&lt;/VideoView&gt;\n</code></pre>\n\n<p></p>\n\n<p>Video1.java Code :</p>\n\n<pre><code>import android.net.Uri;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.WindowManager;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\npublic class Video1 extends AppCompatActivity {\n\nprivate VideoView videoView;\nprivate MediaController mediaController;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_video1);\n\n    videoView = findViewById(R.id.videoView);\n    String fullScreen =  getIntent().getStringExtra(\"fullScreenInd\");\n    if(\"y\".equals(fullScreen)){\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n    }\n\n    Uri videoUri = Uri.parse(\"android.resource://\"+getPackageName()+\"/\"+R.raw.YOUR_VIDEO_NAME);\n\n    videoView.setVideoURI(videoUri);\n\n    mediaController = new FullScreenMediaController(this);\n    mediaController.setAnchorView(videoView);\n\n    videoView.setMediaController(mediaController);\n    videoView.start();\n    }\n}\n</code></pre>\n\n<p>FullScreenMediaControler.java Code :</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.Gravity;\nimport android.view.View;\nimport android.widget.FrameLayout;\nimport android.widget.ImageButton;\nimport android.widget.MediaController;\n\npublic class FullScreenMediaController extends MediaController {\n\nprivate ImageButton fullScreen;\nprivate String isFullScreen;\n\npublic FullScreenMediaController(Context context) {\n    super(context);\n}\n\n@Override\npublic void setAnchorView(View view) {\n\n    super.setAnchorView(view);\n\n    //image button for full screen to be added to media controller\n    fullScreen = new ImageButton (super.getContext());\n\n    FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\n    params.gravity = Gravity.RIGHT;\n    params.rightMargin = 80;\n    addView(fullScreen, params);\n\n    //fullscreen indicator from intent\n    isFullScreen =  ((Activity)getContext()).getIntent().\n            getStringExtra(\"fullScreenInd\");\n\n    if(\"y\".equals(isFullScreen)){\n        fullScreen.setImageResource(R.drawable.ic_fullscreen_exit);\n    }else{\n        fullScreen.setImageResource(R.drawable.ic_fullscreen);\n    }\n\n    //add listener to image button to handle full screen and exit full screen events\n    fullScreen.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Intent intent = new Intent(getContext(),Video1.class);\n\n            if(\"y\".equals(isFullScreen)){\n                intent.putExtra(\"fullScreenInd\", \"\");\n            }else{\n                intent.putExtra(\"fullScreenInd\", \"y\");\n            }\n            ((Activity)getContext()).startActivity(intent);\n        }\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":461772,"reputation":485,"user_id":863701,"accept_rate":39,"display_name":"gilush14"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23430,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":11031762,"answer_count":3,"score":25,"last_activity_date":1680036741,"creation_date":1339670077,"question_id":11031295,"body_markdown":"I&#39;m playing video (on `VideoView`) on portrait mode (not on full screen) and when I change to \r\n\r\nlandscape mode the video stop.\r\n\r\nWhen I change it to landscape that video will appear on full screen and will keep playing. \r\n\r\nAny Suggestion?","title":"How to keep playing video while changing to landscape mode android","body":"<p>I'm playing video (on <code>VideoView</code>) on portrait mode (not on full screen) and when I change to </p>\n\n<p>landscape mode the video stop.</p>\n\n<p>When I change it to landscape that video will appear on full screen and will keep playing. </p>\n\n<p>Any Suggestion?</p>\n"},{"tags":["java","jpa","enums","jpa-2.0","enumerated-types"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1680036703,"post_id":75869789,"comment_id":133827971,"body_markdown":"Java 10 has not been supported for about 5 years.  Any reason you&#39;re stuck on that?","body":"Java 10 has not been supported for about 5 years.  Any reason you&#39;re stuck on that?"},{"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"score":1,"creation_date":1680037725,"post_id":75869789,"comment_id":133828190,"body_markdown":"I would love to upgrade, but it&#39;s not my decision.","body":"I would love to upgrade, but it&#39;s not my decision."}],"answers":[{"comments":[{"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"score":0,"creation_date":1680037899,"post_id":75870954,"comment_id":133828216,"body_markdown":"Thanks for this.  Yes, I did mean JPA 2.1.  Didn&#39;t realize it woudl result in so much code!","body":"Thanks for this.  Yes, I did mean JPA 2.1.  Didn&#39;t realize it woudl result in so much code!"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680038558,"post_id":75870954,"comment_id":133828337,"body_markdown":"@Dave in 2.0 you should implement a custom SQL type or UserType, then register the type definition both on the entity, and the entity attribute and to the sessionfactory. On the other hand implementing one interface with two methods is not so much. ;)","body":"@Dave in 2.0 you should implement a custom SQL type or UserType, then register the type definition both on the entity, and the entity attribute and to the sessionfactory. On the other hand implementing one interface with two methods is not so much. ;)"}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680036609,"creation_date":1680036609,"answer_id":75870954,"question_id":75869789,"body_markdown":"If *JPA2* really means ***JPA 2.1*** then ```AttributeConverter``` is the perfect solution.\r\n\r\n&gt;A class that implements this interface can be used to convert entity attribute state into database column representation and back again. Note that the X and Y types may be the same Java type.\r\n\r\nIn this case there is an entity\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // Custom converter registered manually\r\n    @Convert(converter = AccountTypeConverter.class)\r\n    private AccountType type;\r\n\r\n    private Double balance;\r\n\r\n    // Getters and setters omitted for brevity\r\n}\r\n```\r\nand an enumerated field `AccountType`\r\n\r\n```java\r\npublic enum AccountType {\r\n\r\n    DEBIT(&quot;D&quot;),\r\n\r\n    CREDIT(&quot;C&quot;);\r\n    private final String shortValue;\r\n\r\n    private AccountType(String value) {\r\n        this.shortValue = value;\r\n    }\r\n\r\n    public String getShortValue() {\r\n        return shortValue;\r\n    }\r\n\r\n    private static final Function&lt;String, AccountType&gt; byShortValue = s -&gt;\r\n            Arrays.stream(values())\r\n                    .filter(e -&gt; e.getShortValue().equals(s))\r\n                    .findFirst()\r\n                    .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid account type: &quot; + s));\r\n\r\n    public static AccountType fromShortValue(String shortValue) {\r\n        return Optional.ofNullable(shortValue)\r\n                .map(byShortValue)\r\n                .orElse(null);\r\n    }\r\n}\r\n```\r\nFinally, the instructed `AccountTypeConverter` should be like\r\n\r\n```java\r\npublic class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(AccountType attribute) {\r\n        return Optional.ofNullable(attribute)\r\n                .map(AccountType::getShortValue)\r\n                .orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public AccountType convertToEntityAttribute(String dbData) {\r\n        return AccountType.fromShortValue(dbData);\r\n    }\r\n}\r\n```\r\n\r\nWhen opening an `Account`\r\n\r\n```java\r\ndoInJPA(emFactory, em -&gt; {\r\n    var debit = new Account()\r\n            .setId(1L)\r\n            .setBalance(10_000d)\r\n            .setType(AccountType.DEBIT);\r\n    var credit = new Account()\r\n            .setId(2L)\r\n            .setBalance(30_000d)\r\n            .setType(AccountType.CREDIT);\r\n    em.persist(debit);\r\n    em.persist(credit);\r\n});\r\n```\r\nthe generated SQL statements are like this\r\n\r\n```sql\r\nINSERT INTO account \r\n    (balance, type, id) \r\nVALUES (\r\n    10000,\r\n    &#39;D&#39;,\r\n    1\r\n);\r\n\r\nINSERT INTO account \r\n    (balance, type, id) \r\nVALUES (\r\n    30000,\r\n    &#39;C&#39;,\r\n    2\r\n);\r\n```\r\n\r\nThe previous example shows how to implement and register an attribute converter to a field of an enity. If you have multiple entities with the same type of enumerated field and all occurrences should be converted, then it is possible to **auto-register** the converter.\r\n\r\n**Auto-registered `AttributeConverter`**\r\n\r\n```java\r\n@Converter(autoApply = true)\r\npublic class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\r\n\r\n    // implementation is same\r\n}\r\n```\r\nIn this case annotating the entity field is no longer necessary.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // Previously registered converter applied automatically\r\n    private AccountType type;\r\n\r\n    private Double balance;\r\n\r\n    // Getters and setters omitted for brevity\r\n}\r\n```\r\n","title":"In JPA2 and Java 10, how do I map the value of an enum to an @Enumerated column?","body":"<p>If <em>JPA2</em> really means <em><strong>JPA 2.1</strong></em> then <code>AttributeConverter</code> is the perfect solution.</p>\n<blockquote>\n<p>A class that implements this interface can be used to convert entity attribute state into database column representation and back again. Note that the X and Y types may be the same Java type.</p>\n</blockquote>\n<p>In this case there is an entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    private Long id;\n\n    // Custom converter registered manually\n    @Convert(converter = AccountTypeConverter.class)\n    private AccountType type;\n\n    private Double balance;\n\n    // Getters and setters omitted for brevity\n}\n</code></pre>\n<p>and an enumerated field <code>AccountType</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AccountType {\n\n    DEBIT(&quot;D&quot;),\n\n    CREDIT(&quot;C&quot;);\n    private final String shortValue;\n\n    private AccountType(String value) {\n        this.shortValue = value;\n    }\n\n    public String getShortValue() {\n        return shortValue;\n    }\n\n    private static final Function&lt;String, AccountType&gt; byShortValue = s -&gt;\n            Arrays.stream(values())\n                    .filter(e -&gt; e.getShortValue().equals(s))\n                    .findFirst()\n                    .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid account type: &quot; + s));\n\n    public static AccountType fromShortValue(String shortValue) {\n        return Optional.ofNullable(shortValue)\n                .map(byShortValue)\n                .orElse(null);\n    }\n}\n</code></pre>\n<p>Finally, the instructed <code>AccountTypeConverter</code> should be like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(AccountType attribute) {\n        return Optional.ofNullable(attribute)\n                .map(AccountType::getShortValue)\n                .orElse(null);\n    }\n\n    @Override\n    public AccountType convertToEntityAttribute(String dbData) {\n        return AccountType.fromShortValue(dbData);\n    }\n}\n</code></pre>\n<p>When opening an <code>Account</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>doInJPA(emFactory, em -&gt; {\n    var debit = new Account()\n            .setId(1L)\n            .setBalance(10_000d)\n            .setType(AccountType.DEBIT);\n    var credit = new Account()\n            .setId(2L)\n            .setBalance(30_000d)\n            .setType(AccountType.CREDIT);\n    em.persist(debit);\n    em.persist(credit);\n});\n</code></pre>\n<p>the generated SQL statements are like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO account \n    (balance, type, id) \nVALUES (\n    10000,\n    'D',\n    1\n);\n\nINSERT INTO account \n    (balance, type, id) \nVALUES (\n    30000,\n    'C',\n    2\n);\n</code></pre>\n<p>The previous example shows how to implement and register an attribute converter to a field of an enity. If you have multiple entities with the same type of enumerated field and all occurrences should be converted, then it is possible to <strong>auto-register</strong> the converter.</p>\n<p><strong>Auto-registered <code>AttributeConverter</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\n\n    // implementation is same\n}\n</code></pre>\n<p>In this case annotating the entity field is no longer necessary.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    private Long id;\n\n    // Previously registered converter applied automatically\n    private AccountType type;\n\n    private Double balance;\n\n    // Getters and setters omitted for brevity\n}\n</code></pre>\n"}],"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75870954,"answer_count":1,"score":0,"last_activity_date":1680036609,"creation_date":1680027891,"question_id":75869789,"body_markdown":"I&#39;m using Java 10.  If I define an enum like this\r\n\r\n    public enum MyEnum {\r\n      NAME1(&quot;value 1&quot;),\r\n      NAME2(&quot;value 2&quot;),\r\n    \t...\r\n    }\r\n\r\nand then I have a JPA-mapped database column that is defined by the enum\r\n\r\n      @Enumerated(value = EnumType.STRING)\r\n      private MyEnum status;\r\n\r\nWhat else do I need to do to map the value of the enum (e.g. &quot;value 2&quot;) to the column &quot;status&quot; instead of the name, which is getting mapped currently?\r\n\r\n","title":"In JPA2 and Java 10, how do I map the value of an enum to an @Enumerated column?","body":"<p>I'm using Java 10.  If I define an enum like this</p>\n<pre><code>public enum MyEnum {\n  NAME1(&quot;value 1&quot;),\n  NAME2(&quot;value 2&quot;),\n    ...\n}\n</code></pre>\n<p>and then I have a JPA-mapped database column that is defined by the enum</p>\n<pre><code>  @Enumerated(value = EnumType.STRING)\n  private MyEnum status;\n</code></pre>\n<p>What else do I need to do to map the value of the enum (e.g. &quot;value 2&quot;) to the column &quot;status&quot; instead of the name, which is getting mapped currently?</p>\n"},{"tags":["java","gradle","intellij-idea","build.gradle"],"comments":[{"owner":{"account_id":5867721,"reputation":341,"user_id":4621102,"display_name":"StevenPG"},"score":0,"creation_date":1680036614,"post_id":75870946,"comment_id":133827948,"body_markdown":"Recreated question and answer from unanswered other post: https://stackoverflow.com/questions/59167463/gradle-tasks-are-not-appear-in-gradle-tasks-panel","body":"Recreated question and answer from unanswered other post: <a href=\"https://stackoverflow.com/questions/59167463/gradle-tasks-are-not-appear-in-gradle-tasks-panel\" title=\"gradle tasks are not appear in gradle tasks panel\">stackoverflow.com/questions/59167463/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5867721,"reputation":341,"user_id":4621102,"display_name":"StevenPG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680036568,"creation_date":1680036568,"answer_id":75870947,"question_id":75870946,"body_markdown":"Reload the Gradle project and review the logs. If any exception or issue happens during the loading process, it will result in an unpopulated Gradle tasks panel.","title":"Gradle tasks do not appear in the Gradle tasks panel in IntelliJ","body":"<p>Reload the Gradle project and review the logs. If any exception or issue happens during the loading process, it will result in an unpopulated Gradle tasks panel.</p>\n"}],"owner":{"account_id":5867721,"reputation":341,"user_id":4621102,"display_name":"StevenPG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680036568,"creation_date":1680036568,"question_id":75870946,"body_markdown":"While using IntelliJ and gradle, I run into an issue where gradle tasks do not appear in the gradle tasks window.\r\n\r\nFor example, where you can usually select project &gt; Tasks &gt; build &gt; clean to clean the project, the &quot;Tasks&quot; option is unavailable.\r\n\r\nExample from a similar question across two IDEs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dDxuB.png\r\n\r\nWhat would cause the IntelliJ Gradle panel to not populate?","title":"Gradle tasks do not appear in the Gradle tasks panel in IntelliJ","body":"<p>While using IntelliJ and gradle, I run into an issue where gradle tasks do not appear in the gradle tasks window.</p>\n<p>For example, where you can usually select project &gt; Tasks &gt; build &gt; clean to clean the project, the &quot;Tasks&quot; option is unavailable.</p>\n<p>Example from a similar question across two IDEs:</p>\n<p><a href=\"https://i.stack.imgur.com/dDxuB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dDxuB.png\" alt=\"enter image description here\" /></a></p>\n<p>What would cause the IntelliJ Gradle panel to not populate?</p>\n"},{"tags":["java","image","image-processing","bufferedimage"],"comments":[{"owner":{"account_id":2574793,"reputation":8017,"user_id":2232744,"accept_rate":72,"display_name":"Jordan.J.D"},"score":1,"creation_date":1405369093,"post_id":24745147,"comment_id":38389577,"body_markdown":"possible duplicate of [Re-sizing an image without loosing quality](http://stackoverflow.com/questions/7951290/re-sizing-an-image-without-loosing-quality)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7951290/re-sizing-an-image-without-loosing-quality\">Re-sizing an image without loosing quality</a>"},{"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"score":1,"creation_date":1405369524,"post_id":24745147,"comment_id":38389830,"body_markdown":"@JordanD I&#39;ve already looked at that and it did not resolve the issue....","body":"@JordanD I&#39;ve already looked at that and it did not resolve the issue...."},{"owner":{"account_id":2562510,"reputation":1624,"user_id":2223360,"display_name":"clearlyspam23"},"score":0,"creation_date":1405369884,"post_id":24745147,"comment_id":38390009,"body_markdown":"you may have already tried this, but if not, have you tried doing bicubic interpolation instead of bilinear?","body":"you may have already tried this, but if not, have you tried doing bicubic interpolation instead of bilinear?"},{"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"score":0,"creation_date":1405370513,"post_id":24745147,"comment_id":38390367,"body_markdown":"@clearlyspam23 I have tried that and saw no significant difference in the images. Thank you for the suggestion though!","body":"@clearlyspam23 I have tried that and saw no significant difference in the images. Thank you for the suggestion though!"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1405370932,"post_id":24745147,"comment_id":38390570,"body_markdown":"possible duplicate of [How to get a good quality thumbnail](http://stackoverflow.com/questions/7742175/how-to-get-a-good-quality-thumbnail)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7742175/how-to-get-a-good-quality-thumbnail\">How to get a good quality thumbnail</a>"},{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1405371296,"post_id":24745147,"comment_id":38390779,"body_markdown":"This is what linear interpolation looks like. You need to use Bi-Cubic to get proper results.","body":"This is what linear interpolation looks like. You need to use Bi-Cubic to get proper results."},{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1405371495,"post_id":24745147,"comment_id":38390889,"body_markdown":"See this answer for workaround: http://stackoverflow.com/a/6585767/882403","body":"See this answer for workaround: <a href=\"http://stackoverflow.com/a/6585767/882403\">stackoverflow.com/a/6585767/882403</a>"},{"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"score":0,"creation_date":1405371670,"post_id":24745147,"comment_id":38390966,"body_markdown":"@dimoniy Update to show how `BICUBIC` isn&#39;t any different from the `BILINEAR`. That answer and all other ones have been read and looked through. I have found no solution that I&#39;ve worked through that satisfies so far... This is why I decided to ask my own question. Thank you for the suggested [ready looked through] reading :)","body":"@dimoniy Update to show how <code>BICUBIC</code> isn&#39;t any different from the <code>BILINEAR</code>. That answer and all other ones have been read and looked through. I have found no solution that I&#39;ve worked through that satisfies so far... This is why I decided to ask my own question. Thank you for the suggested [ready looked through] reading :)"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1405421727,"post_id":24745147,"comment_id":38410164,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/11967458/how-to-resize-a-image-without-losing-quality-using-java","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11967458/how-to-resize-a-image-without-losing-quality-using-java\" title=\"how to resize a image without losing quality using java\">stackoverflow.com/questions/11967458/&hellip;</a>"},{"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"score":1,"creation_date":1591117764,"post_id":24745147,"comment_id":109932005,"body_markdown":"Another similar question: [How to resize the buffered image n graphics 2d in java?](https://stackoverflow.com/questions/4756268/how-to-resize-the-buffered-image-n-graphics-2d-in-java)","body":"Another similar question: <a href=\"https://stackoverflow.com/questions/4756268/how-to-resize-the-buffered-image-n-graphics-2d-in-java\">How to resize the buffered image n graphics 2d in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1570102553,"creation_date":1405372905,"answer_id":24746194,"question_id":24745147,"body_markdown":"Given your input image, the method from the answer in the first link in the comments (kudos to Chris Campbell) produces one of the following thumbnails:\r\n\r\n![enter image description here][2]\r\n![enter image description here][1]\r\n\r\n\r\n(The other one is the thumbnail that you created with MS Paint. It&#39;s hard to call one of them &quot;better&quot; than the other...)\r\n\r\n\r\nEDIT: Just to point this out as well: The main problem with your original code was that you did not really *scale* the image in multiple steps. You just used a strange loop to &quot;compute&quot; the target size. The key point is that you actually perform the *scaling* in multiple steps.\r\n\r\n\r\nJust for completeness, the MVCE\r\n\r\n*(Edit: I mentioned Chris Campbell and referred to the source via the comments, but to make this more clear here: The following is based on the article [The Perils of Image.getScaledInstance()](https://community.oracle.com/docs/DOC-983611) )*\r\n\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Transparency;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.util.Iterator;\r\n\r\n    import javax.imageio.IIOImage;\r\n    import javax.imageio.ImageIO;\r\n    import javax.imageio.ImageWriteParam;\r\n    import javax.imageio.ImageWriter;\r\n    import javax.imageio.stream.ImageOutputStream;\r\n    import javax.imageio.stream.MemoryCacheImageOutputStream;\r\n\r\n    public class ResizeQuality\r\n    {\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n            BufferedImage image = ImageIO.read(new File(&quot;X0aPT.jpg&quot;));\r\n            BufferedImage scaled = getScaledInstance(\r\n                image, 51, 75, RenderingHints.VALUE_INTERPOLATION_BILINEAR, true);\r\n            writeJPG(scaled, new FileOutputStream(&quot;X0aPT_tn.jpg&quot;), 0.85f);\r\n        }\r\n\r\n        public static BufferedImage getScaledInstance(\r\n            BufferedImage img, int targetWidth,\r\n            int targetHeight, Object hint, \r\n            boolean higherQuality)\r\n        {\r\n            int type =\r\n                (img.getTransparency() == Transparency.OPAQUE)\r\n                ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB;\r\n            BufferedImage ret = (BufferedImage) img;\r\n            int w, h;\r\n            if (higherQuality)\r\n            {\r\n                // Use multi-step technique: start with original size, then\r\n                // scale down in multiple passes with drawImage()\r\n                // until the target size is reached\r\n                w = img.getWidth();\r\n                h = img.getHeight();\r\n            }\r\n            else\r\n            {\r\n                // Use one-step technique: scale directly from original\r\n                // size to target size with a single drawImage() call\r\n                w = targetWidth;\r\n                h = targetHeight;\r\n            }\r\n\r\n            do\r\n            {\r\n                if (higherQuality &amp;&amp; w &gt; targetWidth)\r\n                {\r\n                    w /= 2;\r\n                    if (w &lt; targetWidth)\r\n                    {\r\n                        w = targetWidth;\r\n                    }\r\n                }\r\n\r\n                if (higherQuality &amp;&amp; h &gt; targetHeight)\r\n                {\r\n                    h /= 2;\r\n                    if (h &lt; targetHeight)\r\n                    {\r\n                        h = targetHeight;\r\n                    }\r\n                }\r\n\r\n                BufferedImage tmp = new BufferedImage(w, h, type);\r\n                Graphics2D g2 = tmp.createGraphics();\r\n                g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, hint);\r\n                g2.drawImage(ret, 0, 0, w, h, null);\r\n                g2.dispose();\r\n\r\n                ret = tmp;\r\n            } while (w != targetWidth || h != targetHeight);\r\n\r\n            return ret;\r\n        }\r\n\r\n        public static void writeJPG(\r\n            BufferedImage bufferedImage,\r\n            OutputStream outputStream,\r\n            float quality) throws IOException\r\n        {\r\n            Iterator&lt;ImageWriter&gt; iterator =\r\n                ImageIO.getImageWritersByFormatName(&quot;jpg&quot;);\r\n            ImageWriter imageWriter = iterator.next();\r\n            ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\r\n            imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n            imageWriteParam.setCompressionQuality(quality);\r\n            ImageOutputStream imageOutputStream =\r\n                new MemoryCacheImageOutputStream(outputStream);\r\n            imageWriter.setOutput(imageOutputStream);\r\n            IIOImage iioimage = new IIOImage(bufferedImage, null, null);\r\n            imageWriter.write(null, iioimage, imageWriteParam);\r\n            imageOutputStream.flush();\r\n        }    \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bbPis.jpg\r\n  [2]: http://i.stack.imgur.com/kORO1.jpg","title":"Java - resize image without losing quality","body":"<p>Given your input image, the method from the answer in the first link in the comments (kudos to Chris Campbell) produces one of the following thumbnails:</p>\n\n<p><img src=\"https://i.stack.imgur.com/kORO1.jpg\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/bbPis.jpg\" alt=\"enter image description here\"></p>\n\n<p>(The other one is the thumbnail that you created with MS Paint. It's hard to call one of them \"better\" than the other...)</p>\n\n<p>EDIT: Just to point this out as well: The main problem with your original code was that you did not really <em>scale</em> the image in multiple steps. You just used a strange loop to \"compute\" the target size. The key point is that you actually perform the <em>scaling</em> in multiple steps.</p>\n\n<p>Just for completeness, the MVCE</p>\n\n<p><em>(Edit: I mentioned Chris Campbell and referred to the source via the comments, but to make this more clear here: The following is based on the article <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"nofollow noreferrer\">The Perils of Image.getScaledInstance()</a> )</em></p>\n\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Transparency;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.Iterator;\n\nimport javax.imageio.IIOImage;\nimport javax.imageio.ImageIO;\nimport javax.imageio.ImageWriteParam;\nimport javax.imageio.ImageWriter;\nimport javax.imageio.stream.ImageOutputStream;\nimport javax.imageio.stream.MemoryCacheImageOutputStream;\n\npublic class ResizeQuality\n{\n    public static void main(String[] args) throws IOException\n    {\n        BufferedImage image = ImageIO.read(new File(\"X0aPT.jpg\"));\n        BufferedImage scaled = getScaledInstance(\n            image, 51, 75, RenderingHints.VALUE_INTERPOLATION_BILINEAR, true);\n        writeJPG(scaled, new FileOutputStream(\"X0aPT_tn.jpg\"), 0.85f);\n    }\n\n    public static BufferedImage getScaledInstance(\n        BufferedImage img, int targetWidth,\n        int targetHeight, Object hint, \n        boolean higherQuality)\n    {\n        int type =\n            (img.getTransparency() == Transparency.OPAQUE)\n            ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB;\n        BufferedImage ret = (BufferedImage) img;\n        int w, h;\n        if (higherQuality)\n        {\n            // Use multi-step technique: start with original size, then\n            // scale down in multiple passes with drawImage()\n            // until the target size is reached\n            w = img.getWidth();\n            h = img.getHeight();\n        }\n        else\n        {\n            // Use one-step technique: scale directly from original\n            // size to target size with a single drawImage() call\n            w = targetWidth;\n            h = targetHeight;\n        }\n\n        do\n        {\n            if (higherQuality &amp;&amp; w &gt; targetWidth)\n            {\n                w /= 2;\n                if (w &lt; targetWidth)\n                {\n                    w = targetWidth;\n                }\n            }\n\n            if (higherQuality &amp;&amp; h &gt; targetHeight)\n            {\n                h /= 2;\n                if (h &lt; targetHeight)\n                {\n                    h = targetHeight;\n                }\n            }\n\n            BufferedImage tmp = new BufferedImage(w, h, type);\n            Graphics2D g2 = tmp.createGraphics();\n            g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, hint);\n            g2.drawImage(ret, 0, 0, w, h, null);\n            g2.dispose();\n\n            ret = tmp;\n        } while (w != targetWidth || h != targetHeight);\n\n        return ret;\n    }\n\n    public static void writeJPG(\n        BufferedImage bufferedImage,\n        OutputStream outputStream,\n        float quality) throws IOException\n    {\n        Iterator&lt;ImageWriter&gt; iterator =\n            ImageIO.getImageWritersByFormatName(\"jpg\");\n        ImageWriter imageWriter = iterator.next();\n        ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\n        imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n        imageWriteParam.setCompressionQuality(quality);\n        ImageOutputStream imageOutputStream =\n            new MemoryCacheImageOutputStream(outputStream);\n        imageWriter.setOutput(imageOutputStream);\n        IIOImage iioimage = new IIOImage(bufferedImage, null, null);\n        imageWriter.write(null, iioimage, imageWriteParam);\n        imageOutputStream.flush();\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405379084,"creation_date":1405377016,"answer_id":24747085,"question_id":24745147,"body_markdown":"The result seems to be better (than the result of your program), if you apply **Gaussian blur** before resizing:\r\n\r\nThis is the result I get, with `sigma * (scale factor) = 0.3`:\r\n\r\n![Thumbnail when bluring first(sigma=15.0)][1] \r\n\r\nWith [ImageJ][2] the code to do this is quite short:\r\n\r\n    import ij.IJ;\r\n    import ij.ImagePlus;\r\n    import ij.io.Opener;\r\n    import ij.process.ImageProcessor;\r\n\r\n    public class Resizer {\r\n    \r\n        public static void main(String[] args) {\r\n            processPicture(&quot;X0aPT.jpg&quot;, &quot;output.jpg&quot;, 0.0198, ImageProcessor.NONE, 0.3);\r\n        }\r\n\r\n        public static void processPicture(String inputFile, String outputFilePath, double scaleFactor, int interpolationMethod, double sigmaFactor) {\r\n            Opener opener = new Opener();\r\n            ImageProcessor ip = opener.openImage(inputFile).getProcessor();\r\n            ip.blurGaussian(sigmaFactor / scaleFactor);\r\n            ip.setInterpolationMethod(interpolationMethod);\r\n            ImageProcessor outputProcessor = ip.resize((int)(ip.getWidth() * scaleFactor), (int)(ip.getHeight()*scaleFactor));\r\n            IJ.saveAs(new ImagePlus(&quot;&quot;, outputProcessor), outputFilePath.substring(outputFilePath.lastIndexOf(&#39;.&#39;)+1), outputFilePath);\r\n        }\r\n        \r\n    }\r\n\r\nBTW: You only need `ij-1.49d.jar` (or equivalent for other version); there&#39;s no need to *install* ImageJ.\r\n\r\n  [1]: http://i.stack.imgur.com/SJSTh.jpg\r\n  [2]: http://imagej.net","title":"Java - resize image without losing quality","body":"<p>The result seems to be better (than the result of your program), if you apply <strong>Gaussian blur</strong> before resizing:</p>\n\n<p>This is the result I get, with <code>sigma * (scale factor) = 0.3</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/SJSTh.jpg\" alt=\"Thumbnail when bluring first(sigma=15.0)\"> </p>\n\n<p>With <a href=\"http://imagej.net\" rel=\"nofollow noreferrer\">ImageJ</a> the code to do this is quite short:</p>\n\n<pre><code>import ij.IJ;\nimport ij.ImagePlus;\nimport ij.io.Opener;\nimport ij.process.ImageProcessor;\n\npublic class Resizer {\n\n    public static void main(String[] args) {\n        processPicture(\"X0aPT.jpg\", \"output.jpg\", 0.0198, ImageProcessor.NONE, 0.3);\n    }\n\n    public static void processPicture(String inputFile, String outputFilePath, double scaleFactor, int interpolationMethod, double sigmaFactor) {\n        Opener opener = new Opener();\n        ImageProcessor ip = opener.openImage(inputFile).getProcessor();\n        ip.blurGaussian(sigmaFactor / scaleFactor);\n        ip.setInterpolationMethod(interpolationMethod);\n        ImageProcessor outputProcessor = ip.resize((int)(ip.getWidth() * scaleFactor), (int)(ip.getHeight()*scaleFactor));\n        IJ.saveAs(new ImagePlus(\"\", outputProcessor), outputFilePath.substring(outputFilePath.lastIndexOf('.')+1), outputFilePath);\n    }\n\n}\n</code></pre>\n\n<p>BTW: You only need <code>ij-1.49d.jar</code> (or equivalent for other version); there's no need to <em>install</em> ImageJ.</p>\n"},{"comments":[{"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"score":0,"creation_date":1646508259,"post_id":28658733,"comment_id":126142621,"body_markdown":"Does it support gif and animated webp yet?","body":"Does it support gif and animated webp yet?"},{"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"score":0,"creation_date":1674928612,"post_id":28658733,"comment_id":132820378,"body_markdown":"@CrackerKSR Thumbnailator relies on the Image I/O API for reading/writing images, so as long as a Image I/O plugin to support the format is loaded, Thumbnailator can support that format. A GIF reader/writer is included in the JRE, but for WebP, a 3rd-party plugin like [TwelveMonkeys ImageIO](https://github.com/haraldk/TwelveMonkeys) would be necessary.","body":"@CrackerKSR Thumbnailator relies on the Image I/O API for reading/writing images, so as long as a Image I/O plugin to support the format is loaded, Thumbnailator can support that format. A GIF reader/writer is included in the JRE, but for WebP, a 3rd-party plugin like <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">TwelveMonkeys ImageIO</a> would be necessary."}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":2,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1594852261,"creation_date":1424614129,"answer_id":28658733,"question_id":24745147,"body_markdown":"[Thumbnailator][1] is a library that was written to create high-quality thumbnails in a simple manner, and doing a batch conversion of existing images is one of its use cases.\r\n\r\nPerforming batch resizing\r\n---\r\n\r\nFor example, to adapt your example using Thumbnailator, you should be able to achieve similar results with the following code:\r\n\r\n    File folder = new File(&quot;/Users/me/Desktop/images/&quot;);\r\n    Thumbnails.of(folder.listFiles())\r\n        .size(112, 75)\r\n        .outputFormat(&quot;jpg&quot;)\r\n        .toFiles(Rename.PREFIX_DOT_THUMBNAIL);\r\n\r\nThis will go ahead and takes all files in your `images` directory and proceed to process them one by one, try to resize them to fit in the dimensions of 112 x 75, and it will attempt to preserve the aspect ratio of the original image to prevent &quot;warping&quot; of the image.\r\n\r\nThumbnailator will go ahead and read all files, regardless of image types (as long as the Java Image IO supports the format, Thumbnailator will process it), perform the resizing operation and output the thumbnails as JPEG files, while tacking on a `thumbnail.` to the beginning of the file name.\r\n\r\nThe following is an illustration of how the file name of the original will be used in the file name of the thumbnail if the above code is executed.\r\n\r\n    images/fireworks.jpg     -&gt;  images/thumbnail.fireworks.jpg\r\n    images/illustration.png  -&gt;  images/thumbnail.illustration.png\r\n    images/mountains.jpg     -&gt;  images/thumbnail.mountains.jpg\r\n\r\nGenerating high-quality thumbnails\r\n---\r\n\r\nIn terms of image quality, as mentioned in [Marco13&#39;s answer][2], the technique described by Chris Campbell in his [The Perils of Image.getScaledInstance()][3] is implemented in Thumbnailator, resulting in high-quality thumbnails without requiring any complicated processing.\r\n\r\nThe following is the thumbnail generated when resizing the fireworks image shown in the original question using Thumbnailator:\r\n\r\n![Thumbnail of image in original question][4]\r\n\r\nThe above image was created with the following code:\r\n\r\n    BufferedImage thumbnail = \r\n        Thumbnails.of(new URL(&quot;https://i.stack.imgur.com/X0aPT.jpg&quot;))\r\n            .height(75)\r\n            .asBufferedImage();\r\n    \r\n    ImageIO.write(thumbnail, &quot;png&quot;, new File(&quot;24745147.png&quot;));\r\n\r\nThe code shows that it can also accept URLs as input, and that Thumbnailator is also capable of creating `BufferedImage`s as well.\r\n\r\n---\r\n\r\nDisclaimer: I am the maintainer of the [Thumbnailator][1] library.\r\n\r\n  [1]: https://github.com/coobird/thumbnailator\r\n  [2]: https://stackoverflow.com/a/24746194/17172\r\n  [3]: https://community.oracle.com/docs/DOC-983611\r\n  [4]: https://i.stack.imgur.com/lKM5P.png\r\n","title":"Java - resize image without losing quality","body":"<p><a href=\"https://github.com/coobird/thumbnailator\" rel=\"noreferrer\">Thumbnailator</a> is a library that was written to create high-quality thumbnails in a simple manner, and doing a batch conversion of existing images is one of its use cases.</p>\n<h2>Performing batch resizing</h2>\n<p>For example, to adapt your example using Thumbnailator, you should be able to achieve similar results with the following code:</p>\n<pre><code>File folder = new File(&quot;/Users/me/Desktop/images/&quot;);\nThumbnails.of(folder.listFiles())\n    .size(112, 75)\n    .outputFormat(&quot;jpg&quot;)\n    .toFiles(Rename.PREFIX_DOT_THUMBNAIL);\n</code></pre>\n<p>This will go ahead and takes all files in your <code>images</code> directory and proceed to process them one by one, try to resize them to fit in the dimensions of 112 x 75, and it will attempt to preserve the aspect ratio of the original image to prevent &quot;warping&quot; of the image.</p>\n<p>Thumbnailator will go ahead and read all files, regardless of image types (as long as the Java Image IO supports the format, Thumbnailator will process it), perform the resizing operation and output the thumbnails as JPEG files, while tacking on a <code>thumbnail.</code> to the beginning of the file name.</p>\n<p>The following is an illustration of how the file name of the original will be used in the file name of the thumbnail if the above code is executed.</p>\n<pre><code>images/fireworks.jpg     -&gt;  images/thumbnail.fireworks.jpg\nimages/illustration.png  -&gt;  images/thumbnail.illustration.png\nimages/mountains.jpg     -&gt;  images/thumbnail.mountains.jpg\n</code></pre>\n<h2>Generating high-quality thumbnails</h2>\n<p>In terms of image quality, as mentioned in <a href=\"https://stackoverflow.com/a/24746194/17172\">Marco13's answer</a>, the technique described by Chris Campbell in his <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"noreferrer\">The Perils of Image.getScaledInstance()</a> is implemented in Thumbnailator, resulting in high-quality thumbnails without requiring any complicated processing.</p>\n<p>The following is the thumbnail generated when resizing the fireworks image shown in the original question using Thumbnailator:</p>\n<p><img src=\"https://i.stack.imgur.com/lKM5P.png\" alt=\"Thumbnail of image in original question\" /></p>\n<p>The above image was created with the following code:</p>\n<pre><code>BufferedImage thumbnail = \n    Thumbnails.of(new URL(&quot;https://i.stack.imgur.com/X0aPT.jpg&quot;))\n        .height(75)\n        .asBufferedImage();\n\nImageIO.write(thumbnail, &quot;png&quot;, new File(&quot;24745147.png&quot;));\n</code></pre>\n<p>The code shows that it can also accept URLs as input, and that Thumbnailator is also capable of creating <code>BufferedImage</code>s as well.</p>\n<hr />\n<p>Disclaimer: I am the maintainer of the <a href=\"https://github.com/coobird/thumbnailator\" rel=\"noreferrer\">Thumbnailator</a> library.</p>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1680036244,"creation_date":1459555233,"answer_id":36367652,"question_id":24745147,"body_markdown":"Unfortunately, there is no recommended out-of-the-box scaling in Java that provides visually good results. Among others, here are the methods I recommend for scaling:\r\n\r\n* Lanczos3 Resampling (usually visually better, but slower)\r\n* Progressive Down Scaling (usually visually fine, can be quite fast)\r\n* One-Step scaling for up scaling (with `Graphics2d` bicubic fast and good results, usually not as good as Lanczos3)\r\n\r\nExamples for every method can be found in this answer.\r\n\r\nVisual Comparison\r\n=====================\r\n\r\nHere is your image scaled to `96x140` with different methods/libs. Click on the image to get the full size:\r\n\r\n[![comparison][1]][1]\r\n\r\n[![comparison zoom][2]][2]\r\n\r\n1. Morten Nobel&#39;s lib Lanczos3\r\n2. Thumbnailator Bilinear Progressive Scaling\r\n3. Imgscalr ULTRA_QUALTY (1/7 step Bicubic Progressive Scaling)\r\n4. Imgscalr QUALTY (1/2 step Bicubic Progressive Scaling)\r\n5. Morten Nobel&#39;s lib Bilinear Progressive Scaling\r\n6. `Graphics2d` Bicubic interpolation\r\n7. `Graphics2d` Nearest Neighbor interpolation\r\n8. Photoshop CS5 bicubic as reference\r\n\r\nUnfortunately a single image is not enough to judge a scaling algorithm, you should test icons with sharp edges, photos with text, etc.\r\n\r\nLanczos Resampling\r\n=====================\r\n\r\nIs said to be good for up- and especially downscaling. Unfortunately [there is no native implementation in current JDK][3] so you either implement it yourself and use a lib like [Morten Nobel&#39;s lib][4]. A simple example using said lib:\r\n\r\n```java\r\nResampleOp resizeOp = new ResampleOp(dWidth, dHeight);\r\nresizeOp.setFilter(ResampleFilters.getLanczos3Filter());\r\nBufferedImage scaledImage = resizeOp.filter(imageToScale, null);\r\n```\r\n        \r\nThe lib is [published on maven-central][5] which is not mentioned, unfortunately. The downside is that it usually is very slow without any highly optimized or hardware accelerated implementations known to me. Nobel&#39;s implementation is about 8 times slower than a 1/2 step progressive scaling algorithm with `Graphics2d`. [Read more about this lib on his blog][6].\r\n\r\nProgressive Scaling\r\n=====================\r\nMentioned in [Chris Campbell&#39;s blog about scaling][7] in Java, progressive scaling is basically incrementally scaling an image in smaller steps until the final dimensions are reached. Campbell describes it as halving width/height until you reach target. This produces good results and can be used with `Graphics2D` which can be hardware accelerated, therefore usually having very good performance with acceptable results in most cases. The major downside of this is if downscaled less than half using `Graphics2D` provides the same mediocre results since it is only scaled once.\r\n\r\nHere is a simple example on how it works:\r\n\r\n[![progressive scaling][8]][8]\r\n\r\nThe following libs incorporate forms of progressive scaling based on `Graphics2d`:\r\n\r\n[Thumbnailator v0.4.8][9]\r\n---------------------\r\nUses the progressive bilinear algorithm if the target is at least half of every dimension, otherwise it uses simple `Graphics2d` bilinear scaling and bicubic for upscaling.\r\n\r\n```java\r\nResizer resizer = DefaultResizerFactory.getInstance().getResizer(\r\n  new Dimension(imageToScale.getWidth(), imageToScale.getHeight()), \r\n  new Dimension(dWidth, dHeight))\r\nBufferedImage scaledImage = new FixedSizeThumbnailMaker(\r\n  dWidth, dHeight, false, true).resizer(resizer).make(imageToScale);\r\n```\r\n\r\nIt is as fast or slightly faster than one-step scaling with `Graphics2d` scoring an average of 6.9 sec in my [benchmark][10].\r\n\r\n[Imgscalr v4.2][11]\r\n---------------------\r\nUses progressive bicubic scaling. In the `QUALITY` setting it uses Campbell style algorithm with halving the dimensions every step while the `ULTRA_QUALITY` has finer steps, reducing the size every increment by 1/7 which generates generally softer images but minimizes the instances where only 1 iteration is used.\r\n\r\n```java\r\nBufferedImage scaledImage = Scalr.resize(imageToScale, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_EXACT, dWidth, dHeight, bufferedImageOpArray);\r\n```\r\n        \r\nThe major downside is performance. `ULTRA_QUALITY` is considerably slower than the other libs. Even `QUALITY` a bit slower than Thumbnailator&#39;s implementation. My simple [benchmark][10] resulted in 26.2 sec and 11.1 sec average respectively.\r\n\r\n[Morten Nobel&#39;s lib v0.8.6][4]\r\n---------------------\r\nHas also implementations for progressive scaling for all basic `Graphics2d` (bilinear, bicubic &amp; nearest neighbor)\r\n\r\n```java\r\nBufferedImage scaledImage = new MultiStepRescaleOp(dWidth, dHeight, RenderingHints.VALUE_INTERPOLATION_BILINEAR).filter(imageToScale, null);\r\n```\r\n\r\nA word on JDK Scaling Methods\r\n=====================\r\nCurrent jdk way to scale an image would be something like this\r\n\r\n```java\r\nscaledImage = new BufferedImage(dWidth, dHeight, imageType);\r\nGraphics2D graphics2D = scaledImage.createGraphics();\r\ngraphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\ngraphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\r\ngraphics2D.dispose();\r\n```\r\n\r\nbut most are very disappointed with the result of downscaling no matter what interpolation or other `RenderHints` are used. On the other hand upscaling seems to produce acceptable images (best would be bicubic). In previous JDK version (we&#39;re talking 90s v1.1) `Image.getScaledInstance()` was introduced which provided good visual results with parameter `SCALE_AREA_AVERAGING` but you are discouraged to use it - [read the full explanation here][7].\r\n\r\n\r\n[1]: http://i.stack.imgur.com/sH1tO.png\r\n[2]: http://i.stack.imgur.com/JhRQT.png\r\n[3]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6500894\r\n[4]: https://github.com/mortennobel/java-image-scaling\r\n[5]: http://mvnrepository.com/artifact/com.mortennobel/java-image-scaling\r\n[6]: https://blog.nobel-joergensen.com/2008/12/20/downscaling-images-in-java/\r\n[7]: https://community.oracle.com/docs/DOC-983611\r\n[8]: http://i.stack.imgur.com/xGtdc.png\r\n[9]: https://github.com/coobird/thumbnailator\r\n[10]: https://stackoverflow.com/a/36295066/774398\r\n[11]: https://github.com/thebuzzmedia/imgscalr\r\n","title":"Java - resize image without losing quality","body":"<p>Unfortunately, there is no recommended out-of-the-box scaling in Java that provides visually good results. Among others, here are the methods I recommend for scaling:</p>\n<ul>\n<li>Lanczos3 Resampling (usually visually better, but slower)</li>\n<li>Progressive Down Scaling (usually visually fine, can be quite fast)</li>\n<li>One-Step scaling for up scaling (with <code>Graphics2d</code> bicubic fast and good results, usually not as good as Lanczos3)</li>\n</ul>\n<p>Examples for every method can be found in this answer.</p>\n<h1>Visual Comparison</h1>\n<p>Here is your image scaled to <code>96x140</code> with different methods/libs. Click on the image to get the full size:</p>\n<p><a href=\"https://i.stack.imgur.com/sH1tO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sH1tO.png\" alt=\"comparison\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JhRQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JhRQT.png\" alt=\"comparison zoom\" /></a></p>\n<ol>\n<li>Morten Nobel's lib Lanczos3</li>\n<li>Thumbnailator Bilinear Progressive Scaling</li>\n<li>Imgscalr ULTRA_QUALTY (1/7 step Bicubic Progressive Scaling)</li>\n<li>Imgscalr QUALTY (1/2 step Bicubic Progressive Scaling)</li>\n<li>Morten Nobel's lib Bilinear Progressive Scaling</li>\n<li><code>Graphics2d</code> Bicubic interpolation</li>\n<li><code>Graphics2d</code> Nearest Neighbor interpolation</li>\n<li>Photoshop CS5 bicubic as reference</li>\n</ol>\n<p>Unfortunately a single image is not enough to judge a scaling algorithm, you should test icons with sharp edges, photos with text, etc.</p>\n<h1>Lanczos Resampling</h1>\n<p>Is said to be good for up- and especially downscaling. Unfortunately <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6500894\" rel=\"nofollow noreferrer\">there is no native implementation in current JDK</a> so you either implement it yourself and use a lib like <a href=\"https://github.com/mortennobel/java-image-scaling\" rel=\"nofollow noreferrer\">Morten Nobel's lib</a>. A simple example using said lib:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResampleOp resizeOp = new ResampleOp(dWidth, dHeight);\nresizeOp.setFilter(ResampleFilters.getLanczos3Filter());\nBufferedImage scaledImage = resizeOp.filter(imageToScale, null);\n</code></pre>\n<p>The lib is <a href=\"http://mvnrepository.com/artifact/com.mortennobel/java-image-scaling\" rel=\"nofollow noreferrer\">published on maven-central</a> which is not mentioned, unfortunately. The downside is that it usually is very slow without any highly optimized or hardware accelerated implementations known to me. Nobel's implementation is about 8 times slower than a 1/2 step progressive scaling algorithm with <code>Graphics2d</code>. <a href=\"https://blog.nobel-joergensen.com/2008/12/20/downscaling-images-in-java/\" rel=\"nofollow noreferrer\">Read more about this lib on his blog</a>.</p>\n<h1>Progressive Scaling</h1>\n<p>Mentioned in <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"nofollow noreferrer\">Chris Campbell's blog about scaling</a> in Java, progressive scaling is basically incrementally scaling an image in smaller steps until the final dimensions are reached. Campbell describes it as halving width/height until you reach target. This produces good results and can be used with <code>Graphics2D</code> which can be hardware accelerated, therefore usually having very good performance with acceptable results in most cases. The major downside of this is if downscaled less than half using <code>Graphics2D</code> provides the same mediocre results since it is only scaled once.</p>\n<p>Here is a simple example on how it works:</p>\n<p><a href=\"https://i.stack.imgur.com/xGtdc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGtdc.png\" alt=\"progressive scaling\" /></a></p>\n<p>The following libs incorporate forms of progressive scaling based on <code>Graphics2d</code>:</p>\n<h2><a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">Thumbnailator v0.4.8</a></h2>\n<p>Uses the progressive bilinear algorithm if the target is at least half of every dimension, otherwise it uses simple <code>Graphics2d</code> bilinear scaling and bicubic for upscaling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Resizer resizer = DefaultResizerFactory.getInstance().getResizer(\n  new Dimension(imageToScale.getWidth(), imageToScale.getHeight()), \n  new Dimension(dWidth, dHeight))\nBufferedImage scaledImage = new FixedSizeThumbnailMaker(\n  dWidth, dHeight, false, true).resizer(resizer).make(imageToScale);\n</code></pre>\n<p>It is as fast or slightly faster than one-step scaling with <code>Graphics2d</code> scoring an average of 6.9 sec in my <a href=\"https://stackoverflow.com/a/36295066/774398\">benchmark</a>.</p>\n<h2><a href=\"https://github.com/thebuzzmedia/imgscalr\" rel=\"nofollow noreferrer\">Imgscalr v4.2</a></h2>\n<p>Uses progressive bicubic scaling. In the <code>QUALITY</code> setting it uses Campbell style algorithm with halving the dimensions every step while the <code>ULTRA_QUALITY</code> has finer steps, reducing the size every increment by 1/7 which generates generally softer images but minimizes the instances where only 1 iteration is used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage scaledImage = Scalr.resize(imageToScale, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_EXACT, dWidth, dHeight, bufferedImageOpArray);\n</code></pre>\n<p>The major downside is performance. <code>ULTRA_QUALITY</code> is considerably slower than the other libs. Even <code>QUALITY</code> a bit slower than Thumbnailator's implementation. My simple <a href=\"https://stackoverflow.com/a/36295066/774398\">benchmark</a> resulted in 26.2 sec and 11.1 sec average respectively.</p>\n<h2><a href=\"https://github.com/mortennobel/java-image-scaling\" rel=\"nofollow noreferrer\">Morten Nobel's lib v0.8.6</a></h2>\n<p>Has also implementations for progressive scaling for all basic <code>Graphics2d</code> (bilinear, bicubic &amp; nearest neighbor)</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage scaledImage = new MultiStepRescaleOp(dWidth, dHeight, RenderingHints.VALUE_INTERPOLATION_BILINEAR).filter(imageToScale, null);\n</code></pre>\n<h1>A word on JDK Scaling Methods</h1>\n<p>Current jdk way to scale an image would be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>scaledImage = new BufferedImage(dWidth, dHeight, imageType);\nGraphics2D graphics2D = scaledImage.createGraphics();\ngraphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\ngraphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\ngraphics2D.dispose();\n</code></pre>\n<p>but most are very disappointed with the result of downscaling no matter what interpolation or other <code>RenderHints</code> are used. On the other hand upscaling seems to produce acceptable images (best would be bicubic). In previous JDK version (we're talking 90s v1.1) <code>Image.getScaledInstance()</code> was introduced which provided good visual results with parameter <code>SCALE_AREA_AVERAGING</code> but you are discouraged to use it - <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"nofollow noreferrer\">read the full explanation here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5506710,"reputation":1578,"user_id":4374374,"accept_rate":86,"display_name":"Quark"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466861362,"creation_date":1466861362,"answer_id":38029032,"question_id":24745147,"body_markdown":"We should not forget a [TwelveMonkeys Library][1]\r\n\r\nIt contains a really impressive filter collection.\r\n\r\nUsage example:\r\n\r\n    BufferedImage input = ...; // Image to resample\r\n    int width, height = ...; // new width/height\r\n    \r\n    BufferedImageOp resampler = new ResampleOp(width, height, ResampleOp.FILTER_LANCZOS);\r\n    BufferedImage output = resampler.filter(input, null);\r\n\r\n\r\n  [1]: https://github.com/haraldk/TwelveMonkeys","title":"Java - resize image without losing quality","body":"<p>We should not forget a <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"noreferrer\">TwelveMonkeys Library</a></p>\n\n<p>It contains a really impressive filter collection.</p>\n\n<p>Usage example:</p>\n\n<pre><code>BufferedImage input = ...; // Image to resample\nint width, height = ...; // new width/height\n\nBufferedImageOp resampler = new ResampleOp(width, height, ResampleOp.FILTER_LANCZOS);\nBufferedImage output = resampler.filter(input, null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":407393,"reputation":1182,"user_id":777443,"accept_rate":89,"display_name":"Peter"},"score":0,"creation_date":1510932562,"post_id":47201774,"comment_id":81660453,"body_markdown":"Why is this downvoted? JavaXT uses bilinear interpolation and the output after resize is visually identical to what you get out of Photoshop. I also recommend calling `Image.sharpen()` after resizing the image.","body":"Why is this downvoted? JavaXT uses bilinear interpolation and the output after resize is visually identical to what you get out of Photoshop. I also recommend calling <code>Image.sharpen()</code> after resizing the image."},{"owner":{"account_id":407393,"reputation":1182,"user_id":777443,"accept_rate":89,"display_name":"Peter"},"score":0,"creation_date":1510933338,"post_id":47201774,"comment_id":81660922,"body_markdown":"Correction, JavaXT uses area averaging when scaling images and bilinear interpolation when skewing images.","body":"Correction, JavaXT uses area averaging when scaling images and bilinear interpolation when skewing images."}],"tags":[],"owner":{"account_id":10465628,"reputation":115,"user_id":7715134,"display_name":"MaMaRo N0"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1510939435,"creation_date":1510230185,"answer_id":47201774,"question_id":24745147,"body_markdown":"After days of research i would prefer javaxt.\r\n\r\nuse The[`javaxt.io.Image`][1] class has a constructor like:\r\n\r\n    public Image(java.awt.image.BufferedImage bufferedImage)\r\n\r\nso you can do ([`another example`][2]):\r\n\r\n    javaxt.io.Image image = new javaxt.io.Image(bufferedImage);\r\n    image.setWidth(50);\r\n    image.setOutputQuality(1);\r\n    \r\nHere&#39;s the output:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://www.javaxt.com/documentation/?jar=javaxt-core.jar&amp;class=Image&amp;package=javaxt.io\r\n  [2]: http://www.javaxt.com/javaxt-core/javaxt.io.Image/\r\n  [3]: https://i.stack.imgur.com/PDQ0t.jpg","title":"Java - resize image without losing quality","body":"<p>After days of research i would prefer javaxt.</p>\n\n<p>use The<a href=\"http://www.javaxt.com/documentation/?jar=javaxt-core.jar&amp;class=Image&amp;package=javaxt.io\" rel=\"noreferrer\"><code>javaxt.io.Image</code></a> class has a constructor like:</p>\n\n<pre><code>public Image(java.awt.image.BufferedImage bufferedImage)\n</code></pre>\n\n<p>so you can do (<a href=\"http://www.javaxt.com/javaxt-core/javaxt.io.Image/\" rel=\"noreferrer\"><code>another example</code></a>):</p>\n\n<pre><code>javaxt.io.Image image = new javaxt.io.Image(bufferedImage);\nimage.setWidth(50);\nimage.setOutputQuality(1);\n</code></pre>\n\n<p>Here's the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PDQ0t.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PDQ0t.jpg\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":236135,"reputation":1011,"user_id":503419,"display_name":"Alexandre Roger"},"score":0,"creation_date":1527260563,"post_id":48540076,"comment_id":88076151,"body_markdown":"Wow! I went from illegible text in the scaled image to quite a nice result by using your piece of code.  A thousand thanks.","body":"Wow! I went from illegible text in the scaled image to quite a nice result by using your piece of code.  A thousand thanks."}],"tags":[],"owner":{"account_id":8252988,"reputation":1070,"user_id":6206976,"display_name":"Maxwell Cheng"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517395107,"creation_date":1517395107,"answer_id":48540076,"question_id":24745147,"body_markdown":"Below are my own implementation of Progressive Scaling, without using any external library. Hope this help.\r\n\r\n    private static BufferedImage progressiveScaling(BufferedImage before, Integer longestSideLength) {\r\n        if (before != null) {\r\n            Integer w = before.getWidth();\r\n            Integer h = before.getHeight();\r\n\r\n            Double ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\r\n            \r\n            //Multi Step Rescale operation\r\n            //This technique is describen in Chris Campbell’s blog The Perils of Image.getScaledInstance(). As Chris mentions, when downscaling to something less than factor 0.5, you get the best result by doing multiple downscaling with a minimum factor of 0.5 (in other words: each scaling operation should scale to maximum half the size).\r\n            while (ratio &lt; 0.5) {\r\n                BufferedImage tmp = scale(before, 0.5);\r\n                before = tmp;\r\n                w = before.getWidth();\r\n                h = before.getHeight();\r\n                ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\r\n            }\r\n            BufferedImage after = scale(before, ratio);\r\n            return after;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private static BufferedImage scale(BufferedImage imageToScale, Double ratio) {\r\n        Integer dWidth = ((Double) (imageToScale.getWidth() * ratio)).intValue();\r\n        Integer dHeight = ((Double) (imageToScale.getHeight() * ratio)).intValue();\r\n        BufferedImage scaledImage = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D graphics2D = scaledImage.createGraphics();\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        graphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\r\n        graphics2D.dispose();\r\n        return scaledImage;\r\n    }","title":"Java - resize image without losing quality","body":"<p>Below are my own implementation of Progressive Scaling, without using any external library. Hope this help.</p>\n\n<pre><code>private static BufferedImage progressiveScaling(BufferedImage before, Integer longestSideLength) {\n    if (before != null) {\n        Integer w = before.getWidth();\n        Integer h = before.getHeight();\n\n        Double ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\n\n        //Multi Step Rescale operation\n        //This technique is describen in Chris Campbell’s blog The Perils of Image.getScaledInstance(). As Chris mentions, when downscaling to something less than factor 0.5, you get the best result by doing multiple downscaling with a minimum factor of 0.5 (in other words: each scaling operation should scale to maximum half the size).\n        while (ratio &lt; 0.5) {\n            BufferedImage tmp = scale(before, 0.5);\n            before = tmp;\n            w = before.getWidth();\n            h = before.getHeight();\n            ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\n        }\n        BufferedImage after = scale(before, ratio);\n        return after;\n    }\n    return null;\n}\n\nprivate static BufferedImage scale(BufferedImage imageToScale, Double ratio) {\n    Integer dWidth = ((Double) (imageToScale.getWidth() * ratio)).intValue();\n    Integer dHeight = ((Double) (imageToScale.getHeight() * ratio)).intValue();\n    BufferedImage scaledImage = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\n    Graphics2D graphics2D = scaledImage.createGraphics();\n    graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    graphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\n    graphics2D.dispose();\n    return scaledImage;\n}\n</code></pre>\n"}],"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93786,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"answer_count":7,"score":70,"last_activity_date":1680036244,"creation_date":1405368922,"question_id":24745147,"body_markdown":"I have 10,000 photos that need to be resized so I have a Java program to do that. Unfortunately, the quality of the image is poorly lost and I don&#39;t have access to the uncompressed images.\r\n\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n     \r\n    \r\n    import javax.imageio.ImageIO;\r\n    /**\r\n     * This class will resize all the images in a given folder\r\n     * @author \r\n     *\r\n     */\r\n    public class JavaImageResizer {\r\n     \r\n        public static void main(String[] args) throws IOException {\r\n     \r\n            File folder = new File(&quot;/Users/me/Desktop/images/&quot;);\r\n            File[] listOfFiles = folder.listFiles();\r\n            System.out.println(&quot;Total No of Files:&quot;+listOfFiles.length);\r\n            BufferedImage img = null;\r\n            BufferedImage tempPNG = null;\r\n            BufferedImage tempJPG = null;\r\n            File newFilePNG = null;\r\n            File newFileJPG = null;\r\n            for (int i = 0; i &lt; listOfFiles.length; i++) {\r\n                  if (listOfFiles[i].isFile()) {\r\n                    System.out.println(&quot;File &quot; + listOfFiles[i].getName());\r\n                    img = ImageIO.read(new File(&quot;/Users/me/Desktop/images/&quot;+listOfFiles[i].getName()));\r\n                    tempJPG = resizeImage(img, img.getWidth(), img.getHeight());\r\n                    newFileJPG = new File(&quot;/Users/me/Desktop/images/&quot;+listOfFiles[i].getName()+&quot;_New&quot;);\r\n                    ImageIO.write(tempJPG, &quot;jpg&quot;, newFileJPG);\r\n                  }\r\n            }\r\n            System.out.println(&quot;DONE&quot;);\r\n        }\r\n     \r\n        /**\r\n         * This function resize the image file and returns the BufferedImage object that can be saved to file system.\r\n         */\r\n            public static BufferedImage resizeImage(final Image image, int width, int height) {\r\n    \tint targetw = 0;\r\n    \tint targeth = 75;\r\n    \t\r\n    \tif (width &gt; height)targetw = 112;\r\n    \telse targetw = 50;\r\n    \t\r\n    \tdo {\r\n    \t\tif (width &gt; targetw) {\r\n    \t\t\twidth /= 2;\r\n    \t\t\tif (width &lt; targetw) width = targetw;\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (height &gt; targeth) {\r\n    \t\t\theight /= 2;\r\n    \t\t\tif (height &lt; targeth) height = targeth;\r\n    \t\t}\r\n    \t} while (width != targetw || height != targeth);\r\n    \t\r\n        final BufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n        final Graphics2D graphics2D = bufferedImage.createGraphics();\r\n        graphics2D.setComposite(AlphaComposite.Src);\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n        graphics2D.drawImage(image, 0, 0, width, height, null);\r\n        graphics2D.dispose();\r\n    \t\r\n        return bufferedImage;\r\n    }\r\n\r\nAn image I am working with is this:\r\n![Firwork - original - large][1]\r\n\r\nThis is the manual resizing I&#39;ve done in Microsoft Paint:\r\n\r\n![resize - using Paint - small][2]\r\n\r\nand this is the output from my program [bilinear]:\r\n\r\n![resize - using java program - small][3]\r\n\r\n**UPDATE:** No significant difference using `BICUBIC`\r\n\r\nand this is the output from my program [bicubic]:\r\n\r\n![enter image description here][4]\r\n\r\n\r\nis there anyway to increase the quality of the program output so I don&#39;t have to manually resize all photos?\r\n\r\nThank you in advance!\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/X0aPT.jpg\r\n  [2]: http://i.stack.imgur.com/bbPis.jpg\r\n  [3]: http://i.stack.imgur.com/Z7tD3.jpg\r\n  [4]: http://i.stack.imgur.com/oMU52.jpg","title":"Java - resize image without losing quality","body":"<p>I have 10,000 photos that need to be resized so I have a Java program to do that. Unfortunately, the quality of the image is poorly lost and I don't have access to the uncompressed images.</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.AlphaComposite;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\n\nimport javax.imageio.ImageIO;\n/**\n * This class will resize all the images in a given folder\n * @author \n *\n */\npublic class JavaImageResizer {\n\n    public static void main(String[] args) throws IOException {\n\n        File folder = new File(\"/Users/me/Desktop/images/\");\n        File[] listOfFiles = folder.listFiles();\n        System.out.println(\"Total No of Files:\"+listOfFiles.length);\n        BufferedImage img = null;\n        BufferedImage tempPNG = null;\n        BufferedImage tempJPG = null;\n        File newFilePNG = null;\n        File newFileJPG = null;\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\n              if (listOfFiles[i].isFile()) {\n                System.out.println(\"File \" + listOfFiles[i].getName());\n                img = ImageIO.read(new File(\"/Users/me/Desktop/images/\"+listOfFiles[i].getName()));\n                tempJPG = resizeImage(img, img.getWidth(), img.getHeight());\n                newFileJPG = new File(\"/Users/me/Desktop/images/\"+listOfFiles[i].getName()+\"_New\");\n                ImageIO.write(tempJPG, \"jpg\", newFileJPG);\n              }\n        }\n        System.out.println(\"DONE\");\n    }\n\n    /**\n     * This function resize the image file and returns the BufferedImage object that can be saved to file system.\n     */\n        public static BufferedImage resizeImage(final Image image, int width, int height) {\n    int targetw = 0;\n    int targeth = 75;\n\n    if (width &gt; height)targetw = 112;\n    else targetw = 50;\n\n    do {\n        if (width &gt; targetw) {\n            width /= 2;\n            if (width &lt; targetw) width = targetw;\n        }\n\n        if (height &gt; targeth) {\n            height /= 2;\n            if (height &lt; targeth) height = targeth;\n        }\n    } while (width != targetw || height != targeth);\n\n    final BufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n    final Graphics2D graphics2D = bufferedImage.createGraphics();\n    graphics2D.setComposite(AlphaComposite.Src);\n    graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    graphics2D.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\n    graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n    graphics2D.drawImage(image, 0, 0, width, height, null);\n    graphics2D.dispose();\n\n    return bufferedImage;\n}\n</code></pre>\n\n<p>An image I am working with is this:\n<img src=\"https://i.stack.imgur.com/X0aPT.jpg\" alt=\"Firwork - original - large\"></p>\n\n<p>This is the manual resizing I've done in Microsoft Paint:</p>\n\n<p><img src=\"https://i.stack.imgur.com/bbPis.jpg\" alt=\"resize - using Paint - small\"></p>\n\n<p>and this is the output from my program [bilinear]:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Z7tD3.jpg\" alt=\"resize - using java program - small\"></p>\n\n<p><strong>UPDATE:</strong> No significant difference using <code>BICUBIC</code></p>\n\n<p>and this is the output from my program [bicubic]:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oMU52.jpg\" alt=\"enter image description here\"></p>\n\n<p>is there anyway to increase the quality of the program output so I don't have to manually resize all photos?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1676370163,"post_id":75367061,"comment_id":133118909,"body_markdown":"Have you tried `@Named` ? https://www.baeldung.com/mapstruct-custom-mapper","body":"Have you tried <code>@Named</code> ? <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">baeldung.com/mapstruct-custom-mapper</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680036819,"post_id":75367061,"comment_id":133828005,"body_markdown":"To be clear, your issue is how to map between `String` and the corresponding `enum` of the field?","body":"To be clear, your issue is how to map between <code>String</code> and the corresponding <code>enum</code> of the field?"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680036069,"creation_date":1680036069,"answer_id":75870879,"question_id":75367061,"body_markdown":"Before using a library, look at the documentation, you will always find the solution to common problems.\r\n\r\n[MapStruct 1.5.3.Final Reference Guide][1]\r\n\r\nYou can also look at the documentation of the Mapping annotation:\r\n\r\n[@Mapping][2]\r\n\r\nIf you have all the information from requestDTO to populate the User and the Role you need ([Controlling nested bean mappings][3]):\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserRoleMapper {\r\n    \r\n        @Mapping( target = &quot;user.userName&quot;, source = &quot;userName&quot; )\r\n        @Mapping( target = &quot;role.role&quot;, source = &quot;role&quot; )\r\n        ...\r\n        ...\r\n        UserRole toUserRole(UserRoleRequestDTO dto);\r\n    \r\n    }\r\n\r\nThere is also a project on GitHub with many examples:\r\n\r\n[mapstruct-examples][4]&lt;br&gt;\r\n[mapstruct-examples -&gt; mapstruct-nested-bean-mappings][5]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/\r\n  [2]: https://mapstruct.org/documentation/stable/api/org/mapstruct/Mapping.html\r\n  [3]: https://github.com/mapstruct/mapstruct-examples/blob/main/mapstruct-nested-bean-mappings/src/main/java/org/mapstruct/example/mapper/FishTankMapper.java\r\n  [4]: https://github.com/mapstruct/mapstruct-examples\r\n  [5]: https://github.com/mapstruct/mapstruct-examples/tree/main/mapstruct-nested-bean-mappings","title":"How to map a String to an application object in Mapstruct","body":"<p>Before using a library, look at the documentation, you will always find the solution to common problems.</p>\n<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">MapStruct 1.5.3.Final Reference Guide</a></p>\n<p>You can also look at the documentation of the Mapping annotation:</p>\n<p><a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/Mapping.html\" rel=\"nofollow noreferrer\">@Mapping</a></p>\n<p>If you have all the information from requestDTO to populate the User and the Role you need (<a href=\"https://github.com/mapstruct/mapstruct-examples/blob/main/mapstruct-nested-bean-mappings/src/main/java/org/mapstruct/example/mapper/FishTankMapper.java\" rel=\"nofollow noreferrer\">Controlling nested bean mappings</a>):</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserRoleMapper {\n\n    @Mapping( target = &quot;user.userName&quot;, source = &quot;userName&quot; )\n    @Mapping( target = &quot;role.role&quot;, source = &quot;role&quot; )\n    ...\n    ...\n    UserRole toUserRole(UserRoleRequestDTO dto);\n\n}\n</code></pre>\n<p>There is also a project on GitHub with many examples:</p>\n<p><a href=\"https://github.com/mapstruct/mapstruct-examples\" rel=\"nofollow noreferrer\">mapstruct-examples</a><br>\n<a href=\"https://github.com/mapstruct/mapstruct-examples/tree/main/mapstruct-nested-bean-mappings\" rel=\"nofollow noreferrer\">mapstruct-examples -&gt; mapstruct-nested-bean-mappings</a></p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680036069,"creation_date":1675721142,"question_id":75367061,"body_markdown":"Let&#39;s say I have this UserRole class.\r\n\r\nIt contains the roles of each user.\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;user_roles&quot;)\r\npublic class UserRole implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column\r\n\tprivate long userRoleId;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;user_id&quot;, foreignKey = @ForeignKey(name = &quot;users_fk&quot;), nullable=false)\r\n\tprivate User user;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;role_id&quot;, foreignKey = @ForeignKey(name = &quot;roles_fk&quot;), nullable=false)\r\n\tprivate Role role;\r\n\r\n\t...\r\n\r\n}\r\n```\r\n\r\nNow I want to have a DTO class with just userName and role that will map to the original class.\r\n\r\n```\r\npublic class UserRoleRequestDTO {\r\n\t\r\n\tprivate String userName;\r\n\t\r\n\tprivate String role;\r\n\r\n\t...\r\n}\r\n```\r\n\r\nHow do I create a mapper for that?\r\n\r\n```\r\n@Mapper\r\npublic interface UserRoleMapper {\r\n\t\r\n\t@Mapping(//** What goes here? **//) \r\n\tUserRole UserRoleRequestDTOtoUserRole(UserRoleRequestDTO userRoleRequestDTO);\r\n\t\r\n}\r\n```","title":"How to map a String to an application object in Mapstruct","body":"<p>Let's say I have this UserRole class.</p>\n<p>It contains the roles of each user.</p>\n<pre><code>@Entity\n@Table(name=&quot;user_roles&quot;)\npublic class UserRole implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column\n    private long userRoleId;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, foreignKey = @ForeignKey(name = &quot;users_fk&quot;), nullable=false)\n    private User user;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;role_id&quot;, foreignKey = @ForeignKey(name = &quot;roles_fk&quot;), nullable=false)\n    private Role role;\n\n    ...\n\n}\n</code></pre>\n<p>Now I want to have a DTO class with just userName and role that will map to the original class.</p>\n<pre><code>public class UserRoleRequestDTO {\n    \n    private String userName;\n    \n    private String role;\n\n    ...\n}\n</code></pre>\n<p>How do I create a mapper for that?</p>\n<pre><code>@Mapper\npublic interface UserRoleMapper {\n    \n    @Mapping(//** What goes here? **//) \n    UserRole UserRoleRequestDTOtoUserRole(UserRoleRequestDTO userRoleRequestDTO);\n    \n}\n</code></pre>\n"},{"tags":["java","spring","multithreading"],"owner":{"account_id":5424919,"reputation":1,"user_id":4317524,"display_name":"S100Headache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680034889,"creation_date":1679512079,"question_id":75816360,"body_markdown":"I have a Spring service that processes messages from many devices (more devices than threads), and need a way to ensure multiple threads do not process messages from the same device at once. In other words, if a thread is already handling a message from one device, I want the same one to handle other messages from that device. Most of the problems with the system I am working on stem from simultaneous processing of messages from the same device.\r\n\r\nI also have a message producer class and a message consumer class. The messages are being sent to an ActiveMQ queue. The messages have an identifier field (the IMEI of the device).\r\n\r\nThe question here: https://stackoverflow.com/questions/8162332/thread-pool-that-binds-tasks-for-a-given-id-to-the-same-thread has the original poster hit on exactly what I need, but I am completely lost on how to implement this. Currently in my application, the ThreadPoolTaskExecutor beans are defined in XML. Can I put this logic in the message consumer, or do I have to spin one of the ThreadPoolTaskExecutor beans off into a configuration class to do this? Also, I have never customized a BlockingQueue before.\r\n\r\nEDIT: I tried putting a ConcurrentHashMap in the message consumer class, checking to see if the IMEI was being processed, and either putting it into the map, processing, and removing when done, or throwing the message back into the queue, and it seems to have had no effect. I had two messages, arriving milliseconds apart, being processed by different threads simultaneously.\r\n\r\nEDIT AGAIN: Turns out I was updating the wrong method. It&#39;s now working as I intended it to.","title":"Need help ensuring messages from the same sender do not get handled by multiple ThreadPoolTaskExecutor simultaneously","body":"<p>I have a Spring service that processes messages from many devices (more devices than threads), and need a way to ensure multiple threads do not process messages from the same device at once. In other words, if a thread is already handling a message from one device, I want the same one to handle other messages from that device. Most of the problems with the system I am working on stem from simultaneous processing of messages from the same device.</p>\n<p>I also have a message producer class and a message consumer class. The messages are being sent to an ActiveMQ queue. The messages have an identifier field (the IMEI of the device).</p>\n<p>The question here: <a href=\"https://stackoverflow.com/questions/8162332/thread-pool-that-binds-tasks-for-a-given-id-to-the-same-thread\">Thread pool that binds tasks for a given ID to the same thread</a> has the original poster hit on exactly what I need, but I am completely lost on how to implement this. Currently in my application, the ThreadPoolTaskExecutor beans are defined in XML. Can I put this logic in the message consumer, or do I have to spin one of the ThreadPoolTaskExecutor beans off into a configuration class to do this? Also, I have never customized a BlockingQueue before.</p>\n<p>EDIT: I tried putting a ConcurrentHashMap in the message consumer class, checking to see if the IMEI was being processed, and either putting it into the map, processing, and removing when done, or throwing the message back into the queue, and it seems to have had no effect. I had two messages, arriving milliseconds apart, being processed by different threads simultaneously.</p>\n<p>EDIT AGAIN: Turns out I was updating the wrong method. It's now working as I intended it to.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680036529,"post_id":75870698,"comment_id":133827926,"body_markdown":"What is this property suppose to do: spring.datasource.hikari.schema=classpath:/schema.sql ? If you are initializing the database from the script schema.sql then please add it to the question. It can be the source of the errors reported. On the other hand if you want Spring to initialize it from the entities then remove that file. You can&#39;t have both.","body":"What is this property suppose to do: spring.datasource.hikari.schema=classpath:/schema.sql ? If you are initializing the database from the script schema.sql then please add it to the question. It can be the source of the errors reported. On the other hand if you want Spring to initialize it from the entities then remove that file. You can&#39;t have both."}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680034652,"creation_date":1680034652,"question_id":75870698,"body_markdown":"I try to connect postgreSql with spring boot.\r\nI use jakarta.persistance library \r\n\r\nBut i get an error. Actually, project is running but get an two error. When i send POST request, application give another error.\r\n\r\n```\r\npackage com.fsk.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\n\r\nimport java.io.Serializable;\r\n\r\n@Table\r\n@Entity(name = &quot;employee&quot;)\r\n@Data\r\npublic class Employee implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;employee_name&quot;, nullable = false)\r\n    private String employeeName;\r\n\r\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\r\n    private String employeeSurname;\r\n\r\n    @Column(name = &quot;employee_email&quot;,\r\n            nullable = false,\r\n            unique = true)\r\n    private String employeeEmail;\r\n\r\n    @Column(name = &quot;employee_identity_number&quot;,\r\n            nullable = false,\r\n            unique = true,\r\n            length = 11)\r\n    private String employeeIdentityNumber;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nAbove code is my entity class.\r\n\r\n```\r\n#SERVER-CFG\r\nserver.port=1905\r\n\r\n#SPRING-CFG\r\nspring.application.name=hibernate_tutorial\r\n\r\n#DATABASE_CFG\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/hibernatedatabase\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\nspring.datasource.hikari.schema=classpath:/schema.sql\r\n\r\n#HIBERNATE-CFG\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n```\r\n\r\nAbove code is my application.properties file.\r\n\r\nWhen i click run button,\r\n\r\nFirst error is\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create sequence &quot;employee_seq&quot; start with 1 increment by 50&quot; via JDBC Statement\r\n\t\r\n```\r\n\r\nMy Second error is\r\n\r\n````\r\n2023-03-28T22:48:19.048+03:00  WARN 94178 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    create table &quot;employee&quot; (\r\n       &quot;id&quot; bigint not null,\r\n        &quot;employee_email&quot; varchar(255) not null,\r\n        &quot;employee_identity_number&quot; varchar(11) not null,\r\n        &quot;employee_name&quot; varchar(255) not null,\r\n        &quot;employee_surname&quot; varchar(255) not null,\r\n        primary key (&quot;id&quot;)\r\n    )&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    create table &quot;employee&quot; (\r\n       &quot;id&quot; bigint not null,\r\n        &quot;employee_email&quot; varchar(255) not null,\r\n        &quot;employee_identity_number&quot; varchar(11) not null,\r\n        &quot;employee_name&quot; varchar(255) not null,\r\n        &quot;employee_surname&quot; varchar(255) not null,\r\n        primary key (&quot;id&quot;)\r\n    )&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:502) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:486) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:363) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:176) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.fsk.HibernateApplication.main(HibernateApplication.java:10) ~[classes/:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\r\n  Position: 19\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 36 common frames omitted\r\n````\r\n\r\nWhile i send my post request,\r\n\r\n````\r\nCompleted initialization in 2 ms\r\nHibernate: \r\n    select\r\n        nextval(&#39;&quot;employee_seq&quot;&#39;)\r\n2023-03-28T23:13:04.750+03:00  WARN 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n2023-03-28T23:13:04.750+03:00 ERROR 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;employee_seq&quot; does not exist\r\n  Position: 16\r\n2023-03-28T23:13:04.758+03:00 ERROR 94178 --- [nio-1905-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: relation &quot;employee_seq&quot; does not exist\r\n  Position: 16\r\n```\r\n\r\nHow can i fix theese errors.??","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create sequence &quot;employee_seq&quot; start 1 increment 50&quot; via JDBC Statement","body":"<p>I try to connect postgreSql with spring boot.\nI use jakarta.persistance library</p>\n<p>But i get an error. Actually, project is running but get an two error. When i send POST request, application give another error.</p>\n<pre><code>package com.fsk.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\nimport java.io.Serializable;\n\n@Table\n@Entity(name = &quot;employee&quot;)\n@Data\npublic class Employee implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;employee_name&quot;, nullable = false)\n    private String employeeName;\n\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\n    private String employeeSurname;\n\n    @Column(name = &quot;employee_email&quot;,\n            nullable = false,\n            unique = true)\n    private String employeeEmail;\n\n    @Column(name = &quot;employee_identity_number&quot;,\n            nullable = false,\n            unique = true,\n            length = 11)\n    private String employeeIdentityNumber;\n\n\n}\n\n</code></pre>\n<p>Above code is my entity class.</p>\n<pre><code>#SERVER-CFG\nserver.port=1905\n\n#SPRING-CFG\nspring.application.name=hibernate_tutorial\n\n#DATABASE_CFG\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/hibernatedatabase\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.datasource.hikari.schema=classpath:/schema.sql\n\n#HIBERNATE-CFG\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n<p>Above code is my application.properties file.</p>\n<p>When i click run button,</p>\n<p>First error is</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create sequence &quot;employee_seq&quot; start with 1 increment by 50&quot; via JDBC Statement\n    \n</code></pre>\n<p>My Second error is</p>\n<pre><code>2023-03-28T22:48:19.048+03:00  WARN 94178 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    create table &quot;employee&quot; (\n       &quot;id&quot; bigint not null,\n        &quot;employee_email&quot; varchar(255) not null,\n        &quot;employee_identity_number&quot; varchar(11) not null,\n        &quot;employee_name&quot; varchar(255) not null,\n        &quot;employee_surname&quot; varchar(255) not null,\n        primary key (&quot;id&quot;)\n    )&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    create table &quot;employee&quot; (\n       &quot;id&quot; bigint not null,\n        &quot;employee_email&quot; varchar(255) not null,\n        &quot;employee_identity_number&quot; varchar(11) not null,\n        &quot;employee_name&quot; varchar(255) not null,\n        &quot;employee_surname&quot; varchar(255) not null,\n        primary key (&quot;id&quot;)\n    )&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:502) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:486) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:363) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:176) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at com.fsk.HibernateApplication.main(HibernateApplication.java:10) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\n  Position: 19\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.4.jar:42.5.4]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 36 common frames omitted\n</code></pre>\n<p>While i send my post request,</p>\n<pre><code>Completed initialization in 2 ms\nHibernate: \n    select\n        nextval('&quot;employee_seq&quot;')\n2023-03-28T23:13:04.750+03:00  WARN 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2023-03-28T23:13:04.750+03:00 ERROR 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;employee_seq&quot; does not exist\n  Position: 16\n2023-03-28T23:13:04.758+03:00 ERROR 94178 --- [nio-1905-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: relation &quot;employee_seq&quot; does not exist\n  Position: 16\n```\n\nHow can i fix theese errors.??\n</code></pre>\n"},{"tags":["java","spring","crud-repository"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1679827263,"post_id":75847169,"comment_id":133787105,"body_markdown":"You say that you get message - `could not upload...`. Looking at the code, this does not mean that `save()` does nothing, but that you are actually swallowing an exception thrown somewhere in the service (the `catch` clause for `Exception`). That&#39;s why generally it&#39;s bad idea to catch an `Exception`. Print the stack trace and edit question to include it, people won&#39;t be able to help without it.","body":"You say that you get message - <code>could not upload...</code>. Looking at the code, this does not mean that <code>save()</code> does nothing, but that you are actually swallowing an exception thrown somewhere in the service (the <code>catch</code> clause for <code>Exception</code>). That&#39;s why generally it&#39;s bad idea to catch an <code>Exception</code>. Print the stack trace and edit question to include it, people won&#39;t be able to help without it."},{"owner":{"account_id":12410862,"reputation":1,"user_id":17199917,"display_name":"hendrikvalcke"},"score":0,"creation_date":1679828191,"post_id":75847169,"comment_id":133787241,"body_markdown":"Sorry, you&#39;re right. here&#39;s the exception: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.MeasurementsFile&quot;","body":"Sorry, you&#39;re right. here&#39;s the exception: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.Measurement&zwnj;&#8203;sFile&quot;"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1679829362,"post_id":75847169,"comment_id":133787418,"body_markdown":"Looks like you have not specified generation strategy for the id. Maybe [Hibernate error: ids for this class must be manually assigned before calling save():](https://stackoverflow.com/questions/10997494/hibernate-error-ids-for-this-class-must-be-manually-assigned-before-calling-sav) will help.","body":"Looks like you have not specified generation strategy for the id. Maybe <a href=\"https://stackoverflow.com/questions/10997494/hibernate-error-ids-for-this-class-must-be-manually-assigned-before-calling-sav\">Hibernate error: ids for this class must be manually assigned before calling save():</a> will help."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679835290,"post_id":75847169,"comment_id":133788246,"body_markdown":"Don&#39;t set the id to 0. Try 1 instead. It is just for testing however. After that you should use a generated value.","body":"Don&#39;t set the id to 0. Try 1 instead. It is just for testing however. After that you should use a generated value."}],"owner":{"account_id":12410862,"reputation":1,"user_id":17199917,"display_name":"hendrikvalcke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680033810,"creation_date":1679826618,"question_id":75847169,"body_markdown":"I&#39;m trying to save a `MeasurementsFile` object to a repository and the `repository.save(measurementsFile)` does nothing. I&#39;ve tried googling it but I find nothing similar.    \r\nWeirdly the code did work before when my parser which created the `List&lt;MeasurementsRow&gt;` didn&#39;t work and returned an empty list.\r\nI tried saving it without setting the ID so [this question](https://stackoverflow.com/questions/60812312/crudrepository-save-method-doesnt-save-any-in-db) isn&#39;t relevant.\r\n\r\nUpload method in my controller which calls the `fileservice` `saveMeasurementsFile` method: (I hardcoded the `id` to `0L` while testing. When running this just returns the &quot;could not upload...&quot; message.):\r\n```\r\n @PostMapping(&quot;/upload&quot;)\r\n    public ResponseEntity&lt;ResponseMessage&gt; uploadMeasurements(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        //what about the other parameters such as id, has2ndMic, hasBackboard and references speeds?\r\n        String message = &quot;&quot;;\r\n        logger.info(&quot;POST: excel&quot;);\r\n        if (ExcelHelper.hasExcelFormat(file)) {\r\n            try {\r\n                logger.info(&quot;file name: &quot;+file.getOriginalFilename());\r\n                fileService.saveMeasurementsFile(file,0L);\r\n                message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\r\n                return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n            } catch (Exception e) {\r\n                message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\r\n                return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\r\n            }\r\n        }\r\n        message = &quot;Please upload an excel file!&quot;;\r\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ResponseMessage(message));\r\n    }\r\n\r\n```\r\n  \r\nThe saveMeasurementsFile() method in the fileservice (the program stops after the &quot;inserted MeasurementRows&quot; message. If i leave out the .setID and .setMeasurementsMic1 the problem still occurs):\r\n```\r\npublic void saveMeasurementsFile(MultipartFile file, long id) {\r\n        try {\r\n            logger.info(&quot;reached before excelhelper is called, input stream:&quot;+file.getInputStream()+&quot; with name &quot;+ file.getOriginalFilename() +&quot; and contenttype: &quot;+ file.getContentType());\r\n\r\n            List&lt;MeasurementRow&gt; measurementRows = ExcelHelper.toMeasurementRows(file.getInputStream());\r\n            logger.info(&quot;&quot;+measurementRows.size()+&quot; rows&quot;);\r\n            MeasurementsFile measurementsFile = new MeasurementsFile();\r\n            logger.info(&quot;created new MeasurementsFile&quot;);\r\n            measurementsFile.setMeasurementsMic1(measurementRows);\r\n            logger.info(&quot;inserted measurementRows&quot;);\r\n            measurementsFile.setId(id);\r\n            logger.info(&quot;set id: &quot;+id);\r\n            measurementRepository.save(measurementsFile);\r\n            logger.info(&quot;saved MeasurementsFile&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;fail to store excel data!&quot;);\r\n        }\r\n    }\r\n```\r\nWhen I print the trace of the exception I get the following: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.MeasurementsFile&quot;. Is .setId not what they mean?\r\n\r\n  \r\nMy MeasurentsFile class:  \r\n```\r\n@Entity\r\npublic class MeasurementsFile {\r\n    @Id\r\n    private Long id;\r\n    @Column\r\n    @OneToMany\r\n    private List&lt;MeasurementRow&gt; measurementsMic1;\r\n    @Column\r\n    @OneToMany\r\n    private List&lt;MeasurementRow&gt; measurementsMic2;//when the setup has 2 mics, a second input file is uploaded\r\n    @Column\r\n    private double height;\r\n    @Column\r\n    private int[] referenceSpeeds; //passengercar and heavy vehicles\r\n    @Column\r\n    private boolean hasSecondaryMic;\r\n    @Column\r\n    private boolean hasBackingboard;\r\n    //columnIDs and their default values\r\n    private int numberColumnID=0;\r\n    private int dateColumnID=0;\r\n    private int timeColumnID=0;\r\n    private int vehicleColumnID=0;\r\n    private int speedColumnID=0;\r\n    private int airTempColumnID=0;\r\n    private int roadTempColumnID=0;//(optional)\r\n    private int windSpeedColumnID=0;//(optional)\r\n    private int laMaxColumnID=0;\r\n    private int laMaxArrayColumnID=0;//26 elements by default (optional)\r\n}\r\n``` \r\n(I left out the imports and getter and setter functions since they&#39;re just autogenerated)","title":"CrudRepository .save(Entity e) throws JPASystemException: ids for this class must be manually assigned before calling save()","body":"<p>I'm trying to save a <code>MeasurementsFile</code> object to a repository and the <code>repository.save(measurementsFile)</code> does nothing. I've tried googling it but I find nothing similar.<br />\nWeirdly the code did work before when my parser which created the <code>List&lt;MeasurementsRow&gt;</code> didn't work and returned an empty list.\nI tried saving it without setting the ID so <a href=\"https://stackoverflow.com/questions/60812312/crudrepository-save-method-doesnt-save-any-in-db\">this question</a> isn't relevant.</p>\n<p>Upload method in my controller which calls the <code>fileservice</code> <code>saveMeasurementsFile</code> method: (I hardcoded the <code>id</code> to <code>0L</code> while testing. When running this just returns the &quot;could not upload...&quot; message.):</p>\n<pre><code> @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;ResponseMessage&gt; uploadMeasurements(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        //what about the other parameters such as id, has2ndMic, hasBackboard and references speeds?\n        String message = &quot;&quot;;\n        logger.info(&quot;POST: excel&quot;);\n        if (ExcelHelper.hasExcelFormat(file)) {\n            try {\n                logger.info(&quot;file name: &quot;+file.getOriginalFilename());\n                fileService.saveMeasurementsFile(file,0L);\n                message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\n                return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n            } catch (Exception e) {\n                message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\n                return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\n            }\n        }\n        message = &quot;Please upload an excel file!&quot;;\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ResponseMessage(message));\n    }\n\n</code></pre>\n<p>The saveMeasurementsFile() method in the fileservice (the program stops after the &quot;inserted MeasurementRows&quot; message. If i leave out the .setID and .setMeasurementsMic1 the problem still occurs):</p>\n<pre><code>public void saveMeasurementsFile(MultipartFile file, long id) {\n        try {\n            logger.info(&quot;reached before excelhelper is called, input stream:&quot;+file.getInputStream()+&quot; with name &quot;+ file.getOriginalFilename() +&quot; and contenttype: &quot;+ file.getContentType());\n\n            List&lt;MeasurementRow&gt; measurementRows = ExcelHelper.toMeasurementRows(file.getInputStream());\n            logger.info(&quot;&quot;+measurementRows.size()+&quot; rows&quot;);\n            MeasurementsFile measurementsFile = new MeasurementsFile();\n            logger.info(&quot;created new MeasurementsFile&quot;);\n            measurementsFile.setMeasurementsMic1(measurementRows);\n            logger.info(&quot;inserted measurementRows&quot;);\n            measurementsFile.setId(id);\n            logger.info(&quot;set id: &quot;+id);\n            measurementRepository.save(measurementsFile);\n            logger.info(&quot;saved MeasurementsFile&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;fail to store excel data!&quot;);\n        }\n    }\n</code></pre>\n<p>When I print the trace of the exception I get the following: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.MeasurementsFile&quot;. Is .setId not what they mean?</p>\n<p>My MeasurentsFile class:</p>\n<pre><code>@Entity\npublic class MeasurementsFile {\n    @Id\n    private Long id;\n    @Column\n    @OneToMany\n    private List&lt;MeasurementRow&gt; measurementsMic1;\n    @Column\n    @OneToMany\n    private List&lt;MeasurementRow&gt; measurementsMic2;//when the setup has 2 mics, a second input file is uploaded\n    @Column\n    private double height;\n    @Column\n    private int[] referenceSpeeds; //passengercar and heavy vehicles\n    @Column\n    private boolean hasSecondaryMic;\n    @Column\n    private boolean hasBackingboard;\n    //columnIDs and their default values\n    private int numberColumnID=0;\n    private int dateColumnID=0;\n    private int timeColumnID=0;\n    private int vehicleColumnID=0;\n    private int speedColumnID=0;\n    private int airTempColumnID=0;\n    private int roadTempColumnID=0;//(optional)\n    private int windSpeedColumnID=0;//(optional)\n    private int laMaxColumnID=0;\n    private int laMaxArrayColumnID=0;//26 elements by default (optional)\n}\n</code></pre>\n<p>(I left out the imports and getter and setter functions since they're just autogenerated)</p>\n"},{"tags":["java","android","textview"],"answers":[{"comments":[{"owner":{"account_id":28129776,"reputation":1,"user_id":21494560,"display_name":"Pola90000"},"score":0,"creation_date":1680080592,"post_id":75870501,"comment_id":133834870,"body_markdown":"there is still a problem that the names still dont stack but the some last letters of names gets under the name","body":"there is still a problem that the names still dont stack but the some last letters of names gets under the name"},{"owner":{"account_id":28129776,"reputation":1,"user_id":21494560,"display_name":"Pola90000"},"score":0,"creation_date":1680080934,"post_id":75870501,"comment_id":133834976,"body_markdown":"i think i know why this is happening because every name has its text view so when the screen is filled parts of the text view stack but i want the whole text view to stack under each other.","body":"i think i know why this is happening because every name has its text view so when the screen is filled parts of the text view stack but i want the whole text view to stack under each other."}],"tags":[],"owner":{"account_id":6969075,"reputation":1138,"user_id":5346051,"display_name":"Mohammed Mahmoud"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680032935,"creation_date":1680032935,"answer_id":75870501,"question_id":75870175,"body_markdown":"You can achieve the desired behavior by setting the android:layout_width property of the TextViews to &quot;wrap_content&quot; and setting the android:layout_weight property of the parent LinearLayout to &quot;1&quot;. This will make the TextViews wrap their content and take up equal space within the LinearLayout.\r\n\r\nHere&#39;s the updated code:\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    LinearLayout nameLayout = findViewById(R.id.names);\r\n\r\n    String[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\r\n\r\n    for (String name : playerNames) {\r\n        if (name.contains(&quot;,&quot;)) {\r\n            String[] splitNames = name.split(&quot;,&quot;);\r\n            names.addAll(Arrays.asList(splitNames));\r\n        } else {\r\n            names.add(name);\r\n        }\r\n    }\r\n\r\n    String[] namesArray = names.toArray(new String[0]);\r\n\r\n    for (int i = 0; i &lt; playerNames.length; i++) {\r\n        namesArray[i] = names.get(0).trim();\r\n    }\r\n\r\n    for (String name : playerNames) {\r\n        TextView textView = new TextView(this);\r\n        textView.setTextSize(20);\r\n        textView.setText(name.trim());\r\n        textView.setTextColor(getResources().getColor(R.color.yellow));\r\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                1\r\n        );\r\n        params.setMargins(20, 0, 0, 0);\r\n        textView.setLayoutParams(params);\r\n        nameLayout.addView(textView);\r\n    }\r\n}\r\n\r\nIn the above code, we set the layout_width property of the TextView to &quot;wrap_content&quot; in the LinearLayout.LayoutParams constructor. We also set the layout_weight property of the LinearLayout to &quot;1&quot;, which will make the TextViews take up equal space within the parent LinearLayout.\r\n\r\nWith this updated code, if the player names are too long and fill the width of the screen, the TextViews will stack above each other instead of overflowing horizontally.\r\n\r\n\r\n\r\n","title":"how to stack EditTexts","body":"<p>You can achieve the desired behavior by setting the android:layout_width property of the TextViews to &quot;wrap_content&quot; and setting the android:layout_weight property of the parent LinearLayout to &quot;1&quot;. This will make the TextViews wrap their content and take up equal space within the LinearLayout.</p>\n<p>Here's the updated code:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\nList&lt;String&gt; names = new ArrayList&lt;&gt;();\nLinearLayout nameLayout = findViewById(R.id.names);\n\nString[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\n\nfor (String name : playerNames) {\n    if (name.contains(&quot;,&quot;)) {\n        String[] splitNames = name.split(&quot;,&quot;);\n        names.addAll(Arrays.asList(splitNames));\n    } else {\n        names.add(name);\n    }\n}\n\nString[] namesArray = names.toArray(new String[0]);\n\nfor (int i = 0; i &lt; playerNames.length; i++) {\n    namesArray[i] = names.get(0).trim();\n}\n\nfor (String name : playerNames) {\n    TextView textView = new TextView(this);\n    textView.setTextSize(20);\n    textView.setText(name.trim());\n    textView.setTextColor(getResources().getColor(R.color.yellow));\n    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.WRAP_CONTENT,\n            LinearLayout.LayoutParams.WRAP_CONTENT,\n            1\n    );\n    params.setMargins(20, 0, 0, 0);\n    textView.setLayoutParams(params);\n    nameLayout.addView(textView);\n}\n</code></pre>\n<p>}</p>\n<p>In the above code, we set the layout_width property of the TextView to &quot;wrap_content&quot; in the LinearLayout.LayoutParams constructor. We also set the layout_weight property of the LinearLayout to &quot;1&quot;, which will make the TextViews take up equal space within the parent LinearLayout.</p>\n<p>With this updated code, if the player names are too long and fill the width of the screen, the TextViews will stack above each other instead of overflowing horizontally.</p>\n"}],"owner":{"account_id":28129776,"reputation":1,"user_id":21494560,"display_name":"Pola90000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680032935,"creation_date":1680030564,"question_id":75870175,"body_markdown":"i made a game and added EditTexts for players names but I want to make it that if the players names are long that fills the width of the screen the names should stack above each other\r\nnote: the TextViews are generated using the java code\r\n\r\ni tried asking chatgpt but it did not give me what i want and i searched for it in this site but the problem that the content of the TextViews changes so i dont know how to make it work\r\n\r\nthe code i use (if it would help)\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    LinearLayout nameLayout = findViewById(R.id.names);\r\n\r\n    String[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\r\n\r\n    for (String name : playerNames) {\r\n        if (name.contains(&quot;,&quot;)) {\r\n            String[] splitNames = name.split(&quot;,&quot;);\r\n            names.addAll(Arrays.asList(splitNames));\r\n        } else {\r\n            names.add(name);\r\n        }\r\n    }\r\n\r\n    String[] namesArray = names.toArray(new String[0]);\r\n\r\n    for (int i = 0; i &lt; playerNames.length; i++) {\r\n        namesArray[i] = names.get(0).trim();\r\n    }\r\n\r\n    for (String name : playerNames) {\r\n        TextView textView = new TextView(this);\r\n        textView.setTextSize(20);\r\n        textView.setText(name.trim());\r\n        textView.setTextColor(getResources().getColor(R.color.yellow));\r\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        params.setMargins(20, 0, 0, 0);\r\n        textView.setLayoutParams(params);\r\n        nameLayout.addView(textView);\r\n    }\r\n}\r\n```","title":"how to stack EditTexts","body":"<p>i made a game and added EditTexts for players names but I want to make it that if the players names are long that fills the width of the screen the names should stack above each other\nnote: the TextViews are generated using the java code</p>\n<p>i tried asking chatgpt but it did not give me what i want and i searched for it in this site but the problem that the content of the TextViews changes so i dont know how to make it work</p>\n<p>the code i use (if it would help)</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    LinearLayout nameLayout = findViewById(R.id.names);\n\n    String[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\n\n    for (String name : playerNames) {\n        if (name.contains(&quot;,&quot;)) {\n            String[] splitNames = name.split(&quot;,&quot;);\n            names.addAll(Arrays.asList(splitNames));\n        } else {\n            names.add(name);\n        }\n    }\n\n    String[] namesArray = names.toArray(new String[0]);\n\n    for (int i = 0; i &lt; playerNames.length; i++) {\n        namesArray[i] = names.get(0).trim();\n    }\n\n    for (String name : playerNames) {\n        TextView textView = new TextView(this);\n        textView.setTextSize(20);\n        textView.setText(name.trim());\n        textView.setTextColor(getResources().getColor(R.color.yellow));\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.WRAP_CONTENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT\n        );\n        params.setMargins(20, 0, 0, 0);\n        textView.setLayoutParams(params);\n        nameLayout.addView(textView);\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","connection"],"comments":[{"owner":{"account_id":143722,"reputation":39137,"user_id":352268,"accept_rate":94,"display_name":"Donald Miner"},"score":0,"creation_date":1335409670,"post_id":10326057,"comment_id":13296561,"body_markdown":"Looks like somewhere in your configuration files you need to set the location of the jobtracker or namenode or something.","body":"Looks like somewhere in your configuration files you need to set the location of the jobtracker or namenode or something."},{"owner":{"account_id":1146864,"reputation":1587,"user_id":1129408,"accept_rate":79,"display_name":"Ahmadov"},"score":0,"creation_date":1335423731,"post_id":10326057,"comment_id":13299616,"body_markdown":"The whole thing is totally messed up. I fix one error, subsequently several other errors pop up. Now, the namenode won&#39;t start. Guess I have to erase and reinstall completely","body":"The whole thing is totally messed up. I fix one error, subsequently several other errors pop up. Now, the namenode won&#39;t start. Guess I have to erase and reinstall completely"}],"answers":[{"tags":[],"owner":{"account_id":5147,"reputation":8203,"user_id":8136,"accept_rate":83,"display_name":"MattMcKnight"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1335464888,"creation_date":1335464888,"answer_id":10339271,"question_id":10326057,"body_markdown":"When you see this, it basically means that you are unable to connected to the NameNode. It&#39;s either not running or running on a different port. If you backed up your working *-site.xml files, you may be able go back to the working version without the complete re-install you sugges in the comment to your question.","title":"Hadoop Connection Refused Error","body":"<p>When you see this, it basically means that you are unable to connected to the NameNode. It's either not running or running on a different port. If you backed up your working *-site.xml files, you may be able go back to the working version without the complete re-install you sugges in the comment to your question.</p>\n"},{"tags":[],"owner":{"account_id":2374790,"reputation":24,"user_id":4232708,"display_name":"JaUnCpp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439876597,"creation_date":1439876597,"answer_id":32064380,"question_id":10326057,"body_markdown":"I have struggled two days and the night between to find out the answer to this problem. \r\n\r\nIn my case( and I&#39;m sure this is the problem in most cases )  had to create the hadoop temporary folder by hand and add them to the hdfs-site.xml !\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;dfs.data.dir&lt;/name&gt;\r\n    &lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name/data&lt;/value&gt;\r\n    &lt;final&gt;true&lt;/final&gt; \r\n    &lt;/property&gt; \r\n    &lt;property&gt; \r\n    &lt;name&gt;dfs.name.dir&lt;/name&gt;\r\n    &lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name&lt;/value&gt; \r\n    &lt;final&gt;true&lt;/final&gt; \r\n    &lt;/property&gt;\r\n\r\nI hope this helps you guys not to go through the same hell as me.\r\n\r\nBesides that\r\n\r\n    chown user_name hadoop_folder hadoop_temp_folder\r\n    chmod 755 hadoop_folder hadoop_temp_folder\r\n    \r\n","title":"Hadoop Connection Refused Error","body":"<p>I have struggled two days and the night between to find out the answer to this problem. </p>\n\n<p>In my case( and I'm sure this is the problem in most cases )  had to create the hadoop temporary folder by hand and add them to the hdfs-site.xml !</p>\n\n<pre><code>&lt;property&gt;\n&lt;name&gt;dfs.data.dir&lt;/name&gt;\n&lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name/data&lt;/value&gt;\n&lt;final&gt;true&lt;/final&gt; \n&lt;/property&gt; \n&lt;property&gt; \n&lt;name&gt;dfs.name.dir&lt;/name&gt;\n&lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name&lt;/value&gt; \n&lt;final&gt;true&lt;/final&gt; \n&lt;/property&gt;\n</code></pre>\n\n<p>I hope this helps you guys not to go through the same hell as me.</p>\n\n<p>Besides that</p>\n\n<pre><code>chown user_name hadoop_folder hadoop_temp_folder\nchmod 755 hadoop_folder hadoop_temp_folder\n</code></pre>\n"}],"owner":{"account_id":1146864,"reputation":1587,"user_id":1129408,"accept_rate":79,"display_name":"Ahmadov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10339271,"answer_count":2,"score":0,"last_activity_date":1680032477,"creation_date":1335403457,"question_id":10326057,"body_markdown":"I was trying to install RMR (RHadoop) package and I somehow managed to mess up my hadoop setup. Now, it gives the connection refused error which I just can&#39;t find a solution for. Any help would be appreciated. Thanks\r\n\r\n  \r\n\r\n     java.net.ConnectException: Call to master/***.***.***.***:54310 failed on connection exception: java.net.ConnectException: Connection refused\r\n\tat org.apache.hadoop.ipc.Client.wrapException(Client.java:1095)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1071)\r\n\tat org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:225)\r\n\tat $Proxy2.getProtocolVersion(Unknown Source)\r\n\tat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:396)\r\n\tat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:379)\r\n\tat org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:119)\r\n\tat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:238)\r\n\tat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:203)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1386)\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1404)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:254)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)\r\n\tat org.apache.hadoop.mapred.Child$4.run(Child.java:254)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1093)\r\n\tat org.apache.hadoop.mapred.Child.main(Child.java:249)\r\n    Caused by: java.net.ConnectException: Connection refused\r\n\tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:574)\r\n\tat org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)\r\n\tat org.apache.hadoop.net.NetUtils.connect(NetUtils.java:489)\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:434)\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:560)\r\n\tat org.apache.hadoop.ipc.Client$Connection.access$2000(Client.java:184)\r\n\tat org.apache.hadoop.ipc.Client.getConnection(Client.java:1202)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1046)\r\n\t... 18 more\r\n","title":"Hadoop Connection Refused Error","body":"<p>I was trying to install RMR (RHadoop) package and I somehow managed to mess up my hadoop setup. Now, it gives the connection refused error which I just can't find a solution for. Any help would be appreciated. Thanks</p>\n\n<pre><code> java.net.ConnectException: Call to master/***.***.***.***:54310 failed on connection exception: java.net.ConnectException: Connection refused\nat org.apache.hadoop.ipc.Client.wrapException(Client.java:1095)\nat org.apache.hadoop.ipc.Client.call(Client.java:1071)\nat org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:225)\nat $Proxy2.getProtocolVersion(Unknown Source)\nat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:396)\nat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:379)\nat org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:119)\nat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:238)\nat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:203)\nat org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)\nat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1386)\nat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)\nat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1404)\nat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:254)\nat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)\nat org.apache.hadoop.mapred.Child$4.run(Child.java:254)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:396)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1093)\nat org.apache.hadoop.mapred.Child.main(Child.java:249)\nCaused by: java.net.ConnectException: Connection refused\nat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\nat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:574)\nat org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)\nat org.apache.hadoop.net.NetUtils.connect(NetUtils.java:489)\nat org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:434)\nat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:560)\nat org.apache.hadoop.ipc.Client$Connection.access$2000(Client.java:184)\nat org.apache.hadoop.ipc.Client.getConnection(Client.java:1202)\nat org.apache.hadoop.ipc.Client.call(Client.java:1046)\n... 18 more\n</code></pre>\n"},{"tags":["java","compiler-construction","javac","dead-code","code-elimination"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1375260195,"post_id":17965562,"comment_id":26259554,"body_markdown":"Well have you tried it to see? `javap -c` will make it pretty clear...","body":"Well have you tried it to see? <code>javap -c</code> will make it pretty clear..."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":3,"creation_date":1375260277,"post_id":17965562,"comment_id":26259603,"body_markdown":"@JonSkeet I haven&#39;t yet, since I was hoping to find a list of these constructs, so I don&#39;t have to try them out one by one. Also, I&#39;d probably not be able to come up with all possibilities... But, for the two examples shown above, of course, you are right, I could check...","body":"@JonSkeet I haven&#39;t yet, since I was hoping to find a list of these constructs, so I don&#39;t have to try them out one by one. Also, I&#39;d probably not be able to come up with all possibilities... But, for the two examples shown above, of course, you are right, I could check..."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1375260483,"post_id":17965562,"comment_id":26259732,"body_markdown":"For the record, the first two are eliminated the third one isn&#39;t.","body":"For the record, the first two are eliminated the third one isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375260540,"creation_date":1375260540,"answer_id":17965685,"question_id":17965562,"body_markdown":"I see that for 2nd example it gets removed too\r\n\r\nthis was my class\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\tfinal int VALUE = 3;\r\n    \t\tif (VALUE &gt; 9) System.out.println(&quot;VALUE &gt; 9 ???&quot;);\r\n    \t}\r\n    }\r\n\r\nand this is decompiled version\r\n\r\n    Compiled from &quot;Test.java&quot;\r\n    public class Test extends java.lang.Object{\r\n    public Test();\r\n      Code:\r\n       0:   aload_0\r\n       1:   invokespecial   #1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:   return\r\n    \r\n    public static void main(java.lang.String[])   throws java.lang.Exception;\r\n      Code:\r\n       0:   return\r\n    \r\n    }","title":"javac code elimination capabilities","body":"<p>I see that for 2nd example it gets removed too</p>\n\n<p>this was my class</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception{\n        final int VALUE = 3;\n        if (VALUE &gt; 9) System.out.println(\"VALUE &gt; 9 ???\");\n    }\n}\n</code></pre>\n\n<p>and this is decompiled version</p>\n\n<pre><code>Compiled from \"Test.java\"\npublic class Test extends java.lang.Object{\npublic Test();\n  Code:\n   0:   aload_0\n   1:   invokespecial   #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   return\n\npublic static void main(java.lang.String[])   throws java.lang.Exception;\n  Code:\n   0:   return\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1375260829,"post_id":17965716,"comment_id":26259934,"body_markdown":"That sounds like it would make a lot of sense... Do you know if this is actually specified in the docs somewhere? +1","body":"That sounds like it would make a lot of sense... Do you know if this is actually specified in the docs somewhere? +1"},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1375263939,"post_id":17965716,"comment_id":26261828,"body_markdown":"I&#39;ve put together an answer building on the links and info you provided. I believe it&#39;s more complete/clear this way. But I still think you deserve the credit for providing the relevant building blocks initially. So, I was wondering if you&#39;d like to update your answer one more time (feel free to copy parts from mine), so I can accept yours instead and remove mine. :)","body":"I&#39;ve put together an answer building on the links and info you provided. I believe it&#39;s more complete/clear this way. But I still think you deserve the credit for providing the relevant building blocks initially. So, I was wondering if you&#39;d like to update your answer one more time (feel free to copy parts from mine), so I can accept yours instead and remove mine. :)"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1375264101,"post_id":17965716,"comment_id":26261946,"body_markdown":"@MarkusA. No probs - I think yours is better indeed and you should accept it.","body":"@MarkusA. No probs - I think yours is better indeed and you should accept it."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1375264175,"post_id":17965716,"comment_id":26261997,"body_markdown":"That&#39;ll work... Will do as soon as I&#39;m allowed to! Thanks for your help!","body":"That&#39;ll work... Will do as soon as I&#39;m allowed to! Thanks for your help!"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680032398,"creation_date":1375260613,"answer_id":17965716,"question_id":17965562,"body_markdown":"I have run a few tests and it seems (logically) that javac removes the code iif (if and only if) the condition is a [constant expression][1] that evaluates to false.\r\n\r\nIn summary, constant expressions are expressions that only use constants as operands, i.e. primitives, string literals and `final` primitives or Strings variables that have been initialised with a constant value.\r\n\r\nNote that this is compiler dependent as the JLS does not force the compiler to be that smart as explained at the very bottom of [14.21][2]:\r\n\r\n&gt; An optimizing compiler may realize that the statement x=3; will never be executed and may choose to omit the code for that statement from the generated class file.\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\r\n [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21","title":"javac code elimination capabilities","body":"<p>I have run a few tests and it seems (logically) that javac removes the code iif (if and only if) the condition is a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">constant expression</a> that evaluates to false.</p>\n<p>In summary, constant expressions are expressions that only use constants as operands, i.e. primitives, string literals and <code>final</code> primitives or Strings variables that have been initialised with a constant value.</p>\n<p>Note that this is compiler dependent as the JLS does not force the compiler to be that smart as explained at the very bottom of <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\" rel=\"nofollow noreferrer\">14.21</a>:</p>\n<blockquote>\n<p>An optimizing compiler may realize that the statement x=3; will never be executed and may choose to omit the code for that statement from the generated class file.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375260798,"creation_date":1375260798,"answer_id":17965781,"question_id":17965562,"body_markdown":"My guess would be that this is implementation specific (Oracle, IBM,...).\r\n\r\nIf you&#39;re interested in Oracle&#39;s version, a good place to start looking for resources would be the OpenJDK project:\r\nhttp://openjdk.java.net/groups/compiler/","title":"javac code elimination capabilities","body":"<p>My guess would be that this is implementation specific (Oracle, IBM,...).</p>\n\n<p>If you're interested in Oracle's version, a good place to start looking for resources would be the OpenJDK project:\n<a href=\"http://openjdk.java.net/groups/compiler/\" rel=\"nofollow\">http://openjdk.java.net/groups/compiler/</a></p>\n"},{"tags":[],"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1375291043,"creation_date":1375263751,"answer_id":17966917,"question_id":17965562,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nassylias seems to have found the answer (let me just put it all together):\r\n\r\n[Chapter &quot;14.21. Unreachable Statements&quot; of the JLS][1] specifies, that, in general, any unreachable statement in the code is considered a compile-time-error, with the only exception being a special treatment of `if`-statements to specifically allow for conditional compiles.\r\n\r\nTherefore, the **only** construct that **may** result in code elimination (if the compiler chooses to do so!) is:\r\n\r\n    if (compileTimeConstantExpression) {\r\n        doThis(); // may be removed if compileTimeConstantExpression == false;\r\n    } else {\r\n        doThat(); // may be removed if compileTimeConstantExpression == true;\r\n    }\r\n\r\n(the `else`-part is optional, of course)\r\n\r\nAll other constructs that would allow for code elimination, like for example `while (false) ...`, are disallowed and cause a compile-time-error instead rather than resulting in conditional compilation.\r\n\r\nThe definition for what constitutes an acceptable `compileTimeConstantExpression` can be found in [chapter &quot;15.28. Constant Expressions&quot; of the JLS][2]. Another great page with further examples can be found here: [Compile Time Constants in Java][3]\r\n\r\n*Note: There is no requirement for a compiler to remove the &quot;unreachable&quot; sections of an `if`-stament. `javac` seems to do this reliably, but other compilers may not. The only way to know for sure is to check the output via decompilation, for example using `javap -c` as suggested by Jon Skeet.*\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\r\n  [3]: http://www.jforeach.com/compile-time-constants-in-java/116","title":"javac code elimination capabilities","body":"\n\n<p>assylias seems to have found the answer (let me just put it all together):</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\" rel=\"noreferrer\">Chapter \"14.21. Unreachable Statements\" of the JLS</a> specifies, that, in general, any unreachable statement in the code is considered a compile-time-error, with the only exception being a special treatment of <code>if</code>-statements to specifically allow for conditional compiles.</p>\n\n<p>Therefore, the <strong>only</strong> construct that <strong>may</strong> result in code elimination (if the compiler chooses to do so!) is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (compileTimeConstantExpression) {\n    doThis(); // may be removed if compileTimeConstantExpression == false;\n} else {\n    doThat(); // may be removed if compileTimeConstantExpression == true;\n}\n</code></pre>\n\n<p>(the <code>else</code>-part is optional, of course)</p>\n\n<p>All other constructs that would allow for code elimination, like for example <code>while (false) ...</code>, are disallowed and cause a compile-time-error instead rather than resulting in conditional compilation.</p>\n\n<p>The definition for what constitutes an acceptable <code>compileTimeConstantExpression</code> can be found in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">chapter \"15.28. Constant Expressions\" of the JLS</a>. Another great page with further examples can be found here: <a href=\"http://www.jforeach.com/compile-time-constants-in-java/116\" rel=\"noreferrer\">Compile Time Constants in Java</a></p>\n\n<p><em>Note: There is no requirement for a compiler to remove the \"unreachable\" sections of an <code>if</code>-stament. <code>javac</code> seems to do this reliably, but other compilers may not. The only way to know for sure is to check the output via decompilation, for example using <code>javap -c</code> as suggested by Jon Skeet.</em></p>\n"}],"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":17966917,"answer_count":4,"score":7,"last_activity_date":1680032398,"creation_date":1375260148,"question_id":17965562,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nI&#39;m having a hard time finding information about `javac`&#39;s code elimination capabilities:\r\n\r\nI read that if you have something like the following, the `if`-statement will be eliminated:\r\n\r\n    static final boolean DEBUG = false;\r\n\r\n    if (DEBUG) System.out.println(&quot;Hello World!&quot;); // will be removed\r\n\r\nBut how about this, for example:\r\n\r\n    static final int VALUE = 3;\r\n\r\n    if (VALUE &gt; 9) System.out.println(&quot;VALUE &gt; 9 ???&quot;); // will this be removed?\r\n\r\nOr this:\r\n\r\n    static final SomeEnum VALUE = SomeEnum.FOO;\r\n\r\n    if (VALUE==SomeEnum.BAR) System.out.println(&quot;Bar???&quot;); // will this be removed?\r\n\r\nSince it&#39;s very difficult/impossible to analyze a program to find all dead code (probably similar to the halting problem), I would imagine that there are only a few well-defined constructs (like the first example above), which `javac` will recognize and remove reliably. Is there a comprehensive list of these constructs?","title":"javac code elimination capabilities","body":"\n\n<p>I'm having a hard time finding information about <code>javac</code>'s code elimination capabilities:</p>\n\n<p>I read that if you have something like the following, the <code>if</code>-statement will be eliminated:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static final boolean DEBUG = false;\n\nif (DEBUG) System.out.println(\"Hello World!\"); // will be removed\n</code></pre>\n\n<p>But how about this, for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static final int VALUE = 3;\n\nif (VALUE &gt; 9) System.out.println(\"VALUE &gt; 9 ???\"); // will this be removed?\n</code></pre>\n\n<p>Or this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static final SomeEnum VALUE = SomeEnum.FOO;\n\nif (VALUE==SomeEnum.BAR) System.out.println(\"Bar???\"); // will this be removed?\n</code></pre>\n\n<p>Since it's very difficult/impossible to analyze a program to find all dead code (probably similar to the halting problem), I would imagine that there are only a few well-defined constructs (like the first example above), which <code>javac</code> will recognize and remove reliably. Is there a comprehensive list of these constructs?</p>\n"},{"tags":["java","tree","binary"],"answers":[{"tags":[],"owner":{"account_id":8303122,"reputation":130,"user_id":6241158,"display_name":"M Germanos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680011210,"creation_date":1680011210,"answer_id":75867121,"question_id":75867061,"body_markdown":"Maybe adding to the string when you are at the node only will fix this problem. \r\nso:\r\n\r\n    private String searchAndStore(Node node, String s) {\r\n            if (node == null) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            searchAndStore(node.getR(), s);\r\n            s += node.getElement());\r\n            searchAndStore(node.getL(), s);\r\n            return s\r\n        }","title":"How to store attributes from a node in a binary tree by doing in-order traversal","body":"<p>Maybe adding to the string when you are at the node only will fix this problem.\nso:</p>\n<pre><code>private String searchAndStore(Node node, String s) {\n        if (node == null) {\n            return &quot;&quot;;\n        }\n\n        searchAndStore(node.getR(), s);\n        s += node.getElement());\n        searchAndStore(node.getL(), s);\n        return s\n    }\n</code></pre>\n"}],"owner":{"account_id":25675779,"reputation":13,"user_id":19439224,"display_name":"Stephen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680032320,"creation_date":1680010873,"question_id":75867061,"body_markdown":"```\r\nprivate void searchAndStore(Node node, String s) {\r\n        if (node == null) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        searchAndStore(node.getR(), s);\r\n        System.out.println(node.getElement());\r\n        searchAndStore(node.getL(), s);\r\n    }\r\n```\r\n\r\nI am trying to do a binary search and store the elements in each node in an array in the order of in order traversal.\r\n\r\nIt&#39;s simple enough if I am just printing the result as I&#39;ve done above, but I am trying to return a String with the same results.\r\n\r\nAny insight would be appreciated.\r\n\r\n```\r\nprivate String searchAndStore(Node node, String s) {\r\n        if (node == null) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        s += searchAndStore(node.getR(), s);\r\n        s += node.getElement());\r\n        s += searchAndStore(node.getL(), s);\r\n        return s\r\n    }\r\n```\r\n\r\nThis doesn&#39;t work as nodes are visited multiple times.","title":"How to store attributes from a node in a binary tree by doing in-order traversal","body":"<pre><code>private void searchAndStore(Node node, String s) {\n        if (node == null) {\n            return &quot;&quot;;\n        }\n\n        searchAndStore(node.getR(), s);\n        System.out.println(node.getElement());\n        searchAndStore(node.getL(), s);\n    }\n</code></pre>\n<p>I am trying to do a binary search and store the elements in each node in an array in the order of in order traversal.</p>\n<p>It's simple enough if I am just printing the result as I've done above, but I am trying to return a String with the same results.</p>\n<p>Any insight would be appreciated.</p>\n<pre><code>private String searchAndStore(Node node, String s) {\n        if (node == null) {\n            return &quot;&quot;;\n        }\n\n        s += searchAndStore(node.getR(), s);\n        s += node.getElement());\n        s += searchAndStore(node.getL(), s);\n        return s\n    }\n</code></pre>\n<p>This doesn't work as nodes are visited multiple times.</p>\n"},{"tags":["java","backend"],"comments":[{"owner":{"account_id":8753625,"reputation":9,"user_id":6545854,"display_name":"Siddharth Mone"},"score":0,"creation_date":1680031487,"post_id":75870233,"comment_id":133826863,"body_markdown":"done sorry typing mistake! :) I have corrected it now :)","body":"done sorry typing mistake! :) I have corrected it now :)"},{"owner":{"account_id":8753625,"reputation":9,"user_id":6545854,"display_name":"Siddharth Mone"},"score":0,"creation_date":1680031928,"post_id":75870233,"comment_id":133826960,"body_markdown":"@Progman no it doesn&#39;t answer my question as I have created an abstract class I need to call a method of the parent class I am expecting an output as mentioned in my question. I don&#39;t understand how I get that output!","body":"@Progman no it doesn&#39;t answer my question as I have created an abstract class I need to call a method of the parent class I am expecting an output as mentioned in my question. I don&#39;t understand how I get that output!"},{"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"score":1,"creation_date":1680032190,"post_id":75870233,"comment_id":133827030,"body_markdown":"There are a lot of ways you *could* get to your desired output, but fundamentally, you need to understand that your `obj` is a pointer to a `TestingImpl3333` object that only contains the `m1` implementation from your `TestImpl2222` class.  Casting your `obj` to a type of `TestingImpl1111` doesn&#39;t swap out the implementation of your `m1` function. Generally casting objects is more for appeasing the compiler or for enforcing certain &quot;rules&quot; in your code, rather than changing functional behavior of your code (as opposed to casting primitive types, like double to int, which can change behavior).","body":"There are a lot of ways you <i>could</i> get to your desired output, but fundamentally, you need to understand that your <code>obj</code> is a pointer to a <code>TestingImpl3333</code> object that only contains the <code>m1</code> implementation from your <code>TestImpl2222</code> class.  Casting your <code>obj</code> to a type of <code>TestingImpl1111</code> doesn&#39;t swap out the implementation of your <code>m1</code> function. Generally casting objects is more for appeasing the compiler or for enforcing certain &quot;rules&quot; in your code, rather than changing functional behavior of your code (as opposed to casting primitive types, like double to int, which can change behavior)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1680032249,"post_id":75870233,"comment_id":133827046,"body_markdown":"The accepted answer for [How to call the overridden method of a superclass?](https://stackoverflow.com/questions/15668032/how-to-call-the-overridden-method-of-a-superclass) has the correct answer: _You cannot do what you want. The way polymorphism works is by doing what you are seeing._ And this will never change because that is the way Java is designed to do it.","body":"The accepted answer for <a href=\"https://stackoverflow.com/questions/15668032/how-to-call-the-overridden-method-of-a-superclass\">How to call the overridden method of a superclass?</a> has the correct answer: <i>You cannot do what you want. The way polymorphism works is by doing what you are seeing.</i> And this will never change because that is the way Java is designed to do it."}],"answers":[{"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680032048,"creation_date":1680032048,"answer_id":75870386,"question_id":75870233,"body_markdown":"Ok, casting an object to its parent wont make it a parent object.\r\n \r\nIn your case, ```obj``` is an instance of ```TestingImpl3333```.\r\n\r\nSo whatever method you call on it, it will first check whether ```TestingImpl3333``` is implementing it or not. If implemented, it uses that. \r\n\r\nIf not, it will look into its parent.\r\n\r\nThats how polymorphism works","title":"how do I call a method which was implemented in abstract parent class and which was overridden in child class as well in a new test class?","body":"<p>Ok, casting an object to its parent wont make it a parent object.</p>\n<p>In your case, <code>obj</code> is an instance of <code>TestingImpl3333</code>.</p>\n<p>So whatever method you call on it, it will first check whether <code>TestingImpl3333</code> is implementing it or not. If implemented, it uses that.</p>\n<p>If not, it will look into its parent.</p>\n<p>Thats how polymorphism works</p>\n"}],"owner":{"account_id":8753625,"reputation":9,"user_id":6545854,"display_name":"Siddharth Mone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680032268,"answer_count":1,"score":-1,"last_activity_date":1680032048,"creation_date":1680031024,"question_id":75870233,"body_markdown":"I am very new in programming, while learning Java i got into a doubt, my situation is, I am trying to call a implemented method of a class TestingImpl1111 from interface ITesting1111  in a test class by creating a object of a abstract parent class using child class constructor, \r\nbut i am not able to call the method m1() which was as implemented in class TestingImpl1111 as out put.\r\nit always brings the overridden method m1 in class TestingImpl2222\r\n\r\nthis is my code below :- \r\n\r\n\r\n```\r\npackage PolymorphismAndAbstraction.Example1.Example2;\r\n\r\ninterface ITesting1111\r\n{\r\n\tvoid m1();\r\n\tvoid m2();\r\n\tvoid m3();\r\n}\r\nabstract class TestingImpl1111 implements ITesting1111\r\n{\r\n\tpublic void m1()\r\n\t{\r\n\t\tSystem.out.println(&quot;testing method from interface in class 1111&quot;);\r\n\t}\r\n}\r\nabstract class TestingImpl2222 extends TestingImpl1111\r\n{\r\n\tpublic void m1() \r\n\t{\r\n\t\tSystem.out.println(&quot;testing method m1 from interface in class 2222 which was implemented in class 1111 as well.&quot;);\t\t\r\n\t}\t\r\n\tpublic void m2() \r\n\t{\r\n\t\tSystem.out.println(&quot;testing method from interface in class 2222&quot;);\t\t\r\n\t}\t\r\n}\r\n class TestingImpl3333 extends TestingImpl2222\r\n{\r\n\t\tpublic void m2() \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;testing method m2 from interface in class 3333 which was implemented in class 2222 as well.&quot;);\t\t\r\n\t\t}\r\n\tpublic void m3()\r\n\t{\r\n\t\tSystem.out.println(&quot;testing method from interface in class 3333&quot;);\t\t\r\n\t}\r\n}\r\n\r\npublic class Test1234 \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\t\r\n\t\tTestingImpl1111 obj = new TestingImpl3333();\t\t\r\n\t\t\r\n\t\t((TestingImpl1111)obj).m1();\r\n\t\tobj.m1();\r\n\t\t((TestingImpl2222)obj).m2();\r\n\t\tobj.m2();\t\t\r\n\t\tobj.m3();\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nand below is output i am geting :- \r\n\r\n\r\n```\r\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\r\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\r\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\r\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\r\ntesting method from interface in class 3333\r\n```\r\n\r\nBut output i am expecting is :- \r\n\r\n\r\n```\r\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\r\ntesting method from interface in class 1111\r\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\r\ntesting method from interface in class 2222\r\ntesting method from interface in class 3333\r\n```\r\n\r\nPlease explain me what I am doing wrong here how do i get my desiered output ??\r\n\r\n","title":"how do I call a method which was implemented in abstract parent class and which was overridden in child class as well in a new test class?","body":"<p>I am very new in programming, while learning Java i got into a doubt, my situation is, I am trying to call a implemented method of a class TestingImpl1111 from interface ITesting1111  in a test class by creating a object of a abstract parent class using child class constructor,\nbut i am not able to call the method m1() which was as implemented in class TestingImpl1111 as out put.\nit always brings the overridden method m1 in class TestingImpl2222</p>\n<p>this is my code below :-</p>\n<pre><code>package PolymorphismAndAbstraction.Example1.Example2;\n\ninterface ITesting1111\n{\n    void m1();\n    void m2();\n    void m3();\n}\nabstract class TestingImpl1111 implements ITesting1111\n{\n    public void m1()\n    {\n        System.out.println(&quot;testing method from interface in class 1111&quot;);\n    }\n}\nabstract class TestingImpl2222 extends TestingImpl1111\n{\n    public void m1() \n    {\n        System.out.println(&quot;testing method m1 from interface in class 2222 which was implemented in class 1111 as well.&quot;);      \n    }   \n    public void m2() \n    {\n        System.out.println(&quot;testing method from interface in class 2222&quot;);      \n    }   \n}\n class TestingImpl3333 extends TestingImpl2222\n{\n        public void m2() \n        {\n            System.out.println(&quot;testing method m2 from interface in class 3333 which was implemented in class 2222 as well.&quot;);      \n        }\n    public void m3()\n    {\n        System.out.println(&quot;testing method from interface in class 3333&quot;);      \n    }\n}\n\npublic class Test1234 \n{\n    public static void main(String[] args) \n    {   \n        TestingImpl1111 obj = new TestingImpl3333();        \n        \n        ((TestingImpl1111)obj).m1();\n        obj.m1();\n        ((TestingImpl2222)obj).m2();\n        obj.m2();       \n        obj.m3();       \n    }\n\n}\n\n</code></pre>\n<p>and below is output i am geting :-</p>\n<pre><code>testing method m1 from interface in class 2222 which was implemented in class 1111 as well.\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\ntesting method from interface in class 3333\n</code></pre>\n<p>But output i am expecting is :-</p>\n<pre><code>testing method m1 from interface in class 2222 which was implemented in class 1111 as well.\ntesting method from interface in class 1111\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\ntesting method from interface in class 2222\ntesting method from interface in class 3333\n</code></pre>\n<p>Please explain me what I am doing wrong here how do i get my desiered output ??</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679933875,"post_id":75857654,"comment_id":133806098,"body_markdown":"Is it fine with api &lt; 33 ?","body":"Is it fine with api &lt; 33 ?"},{"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"score":0,"creation_date":1679974964,"post_id":75857654,"comment_id":133813161,"body_markdown":"Yes it was fine in previous version of app. This version has same issue with all api, but I have modified many things in my app so Im not able to find the actual case.\n**can you please, check my updated Q. at the bottom**","body":"Yes it was fine in previous version of app. This version has same issue with all api, but I have modified many things in my app so Im not able to find the actual case. <b>can you please, check my updated Q. at the bottom</b>"},{"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"score":0,"creation_date":1679977969,"post_id":75857654,"comment_id":133813459,"body_markdown":"**Second Attempt**\nWhile I comment SplashActivity and make MainActivity as Launcher Activity then the problem disappear. !!! it means something wrong with the Splach Activity","body":"<b>Second Attempt</b> While I comment SplashActivity and make MainActivity as Launcher Activity then the problem disappear. !!! it means something wrong with the Splach Activity"},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679992017,"post_id":75857654,"comment_id":133815903,"body_markdown":"Suggest you rollback your changes one by one to determine which was the breaking change that caused the issue","body":"Suggest you rollback your changes one by one to determine which was the breaking change that caused the issue"}],"answers":[{"tags":[],"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680031586,"creation_date":1680031586,"answer_id":75870319,"question_id":75857654,"body_markdown":"**FINALLY** found the solution. There was 2 issues 1. OnConfigrationChanged by lifecycle while using appOpenAds. 2. Synchronized background data with server, once finished recreated baseActivity. Anyway thanks dear","title":"SomeActivity.java automatically finish, killed or returned back to previous Activity without touch","body":"<p><strong>FINALLY</strong> found the solution. There was 2 issues 1. OnConfigrationChanged by lifecycle while using appOpenAds. 2. Synchronized background data with server, once finished recreated baseActivity. Anyway thanks dear</p>\n"}],"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680031586,"creation_date":1679931317,"question_id":75857654,"body_markdown":"**Dear Expert**, I&#39;am dealing with one problem since few days. I searched for solution but found nothing so I&#39;m here with you. Hope you will help and thanks in advance...\r\n\r\n**Question:** I have an ABC App trying to update with API level 33(Android 13) Everything goes fine but e.g.- I open app-&gt; click button to launch new Activity.java-&gt; launched success but **PROBLEM** comes here ! The Activity close automatically after 2/3/4 seconds without error or without touching my phone but if again I open same Activity then it remain open until I close it.\r\n\r\n\r\n**Few Things Appear in Logcat before close Activity:**\r\n*This Activity Do Nothing unless I try to do so*\r\n\r\n\r\n```\r\nDEBUG: elapsed 2 / 6\r\n2023-03-27 20:58:20.352 24711-24763 FA                      com.my.package        V  Recording user engagement, ms: 4262\r\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         I  Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:230500000\r\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package        I  Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 230500000\r\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         V  Dynamite loader version &gt;= 2, using loadModule2NoCrashUtils\r\n2023-03-27 20:58:20.396 24711-24711 Ads                     com.my.package         I  Use RequestConfiguration.Builder().setTestDeviceIds(Arrays.asList(&quot;333C8AE82F2C89B0AF4DCBD658E0F35C&quot;)) to get test ads on this device.\r\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity paused, time: 2548080784\r\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity resumed, time: 2548080807\r\n2023-03-27 20:58:20.406 24711-25006 AudioManager            com.my.package         I  In isSpeakerphoneOn(), calling application: # Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n# resources declared in the library itself and none from the library&#39;s dependencies,\r\n# thereby reducing the size of the R class for that library\r\n2023-03-27 20:58:20.419 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus false\r\n2023-03-27 20:58:20.435 24711-25183 Ads                     com.my.package         W  Not retrying to fetch app settings\r\n2023-03-27 20:58:20.460  3263-3714  ActivityManagerWrapper  com.miui.home                        E  getRecentTasks: taskId=5899   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=# Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n# resources declared in the library itself and none from the library&#39;s dependencies,\r\n# thereby reducing the size of the R class for that library/.activities.ActivitySplash }\r\n2023-03-27 20:58:20.521 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus true\r\n2023-03-27 20:58:20.538 24711-24711 RecyclerView            com.my.package         W  No adapter attached; skipping layout\r\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb40000789c40d628 : 5(40960 size) total buffers - 0(0 size) used buffers - 21/27 (recycle/alloc) - 10/27 (fetch/transfer)\r\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb4000079959dc428 : 5(40960 size) total buffers - 0(0 size) used buffers - 15/20 (recycle/alloc) - 7/20 (fetch/transfer)\r\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  evictor expired: 2, evicted: 2\r\n2023-03-27 20:58:21.909 24711-24711 Ads                     com.my.package         W  GET LOCATION COMPILED\r\n2023-03-27 20:58:21.980 24711-24711 ExoPlayerImpl           com.my.package         I  Init 43758ef [AndroidXMedia3/1.0.0-beta03] [curtana, Redmi Note 9 Pro, Xiaomi, 31]\r\n2023-03-27 20:58:21.991 24711-24711 Ads                     com.my.package         I  ExoPlayerAdapter initialized.\r\n2023-03-27 20:58:22.287 24711-25340 DMCodecAdapterFactory   com.my.package         I  Creating an asynchronous MediaCodec adapter for track type audio\r\n2023-03-27 20:58:22.289 24711-25349 CCodec                  com.my.package         D  allocate(c2.android.aac.decoder)\r\n2023-03-27 20:58:22.293 24711-25349 CCodec                  com.my.package         I  Created component [c2.android.aac.decoder]\r\n```\r\n\r\n**Android Studio Version: Electric Eel 2022.1.1**\r\n\r\n**Manifist**\r\n\r\n```\r\n&lt;supports-screens\r\n        android:anyDensity=&quot;true&quot;\r\n        android:largeScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:smallScreens=&quot;true&quot;\r\n        android:xlargeScreens=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; &lt;!-- SET-ALARM --&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;!-- WAKE --&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt; &lt;!-- STORAGE --&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;&lt;!--API 33 for songs--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;&lt;!--API 33 for albumArt--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;&lt;!--API S--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&lt;!--API 33--&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;\r\n        tools:node=&quot;remove&quot; /&gt; &lt;!-- THIS QUERIES ONLY FOR YOUTUBE LIVE --&gt;\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;com.google.android.youtube.api.service.START&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n    &lt;queries&gt;\r\n        &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\r\n        &lt;package android:name=&quot;com.whatsapp.w4b&quot; /&gt;\r\n    &lt;/queries&gt;\r\n&lt;application\r\n        android:name=&quot;.activities.MyApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:resizeableActivity=&quot;false&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;false&quot;\r\n        android:theme=&quot;@style/Theme.RadioApp&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:targetApi=&quot;33&quot;&gt;\r\n...\r\n&lt;activity\r\n            android:name=&quot;.activities.ActivitySplash&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n&lt;activity\r\n            android:name=&quot;.activities.OpenedActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\r\n...\r\n```\r\n\r\n\r\n**Build.gradle (APP)**\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\nandroid {\r\n    compileSdkVersion 33\r\n    defaultConfig {\r\n        applicationId &quot;com.my.package&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 33\r\n        versionCode 71\r\n        versionName &quot;4.8.2&quot;\r\n        ndk.abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86&#39;, &#39;x86_64&#39;\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            shrinkResources false\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n\r\n        release {\r\n            shrinkResources true\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildTypes.each {\r\n        it.buildConfigField &#39;String&#39;, &#39;APP_URL&#39;, APP_URL\r\n        it.buildConfigField &#39;String&#39;, &#39;API_KEY&#39;, API_KEY\r\n        it.buildConfigField &#39;String&#39;, &#39;admob_pub_id&#39;, admob_pub_id\r\n        it.buildConfigField &#39;String&#39;, &#39;admob_app_id&#39;, admob_app_id\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\n    //    bundle {\r\n//        language {\r\n//            enableSplit = false\r\n//        }\r\n//    }\r\n    useLibrary &#39;org.apache.http.legacy&#39;\r\n    lint {\r\n        disable &#39;GradleDependency&#39;, &#39;OldTargetApi&#39;\r\n    }\r\n    namespace &#39;com.my.package&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n\r\n//    GOOGLE LIBRARY\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.3&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n    implementation &#39;com.google.android.play:core:1.10.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.2&#39;\r\n//for app open ads\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.6.0&#39;\r\n    //Duplicate class found- below solve\r\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n\r\n    //seekbar and layout library\r\n    implementation &#39;com.sothree.slidinguppanel:library:3.4.0&#39;\r\n    implementation &#39;com.labo.kaji:relativepopupwindow:0.3.1&#39;\r\n    implementation &#39;com.github.warkiz.widget:indicatorseekbar:2.1.2&#39;\r\n\r\n    //ripple click effect library\r\n    implementation &#39;com.balysv:material-ripple:1.0.2&#39;\r\n    //Player\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.4&#39;\r\n    //image library\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;jp.wasabeef:picasso-transformations:2.4.0&#39;\r\n\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation(platform(&#39;com.squareup.okhttp3:okhttp-bom:5.0.0-alpha.11&#39;))\r\n    implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\r\n    implementation(&quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.11&quot;)\r\n\r\n    //shimmer effect library\r\n    implementation &#39;com.facebook.shimmer:shimmer:0.5.0&#39;\r\n\r\n    //multidex library\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n\r\n    implementation &#39;com.shawnlin:number-picker:2.4.4&#39;\r\n\r\n//for equalizer\r\n    implementation &#39;com.diogobernardino:williamchart:2.2&#39;//don&#39;t change to higher\r\n\r\n    implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n\r\n    implementation &#39;com.pierfrancescosoffritti.androidyoutubeplayer:core:11.1.0&#39;\r\n\r\n    //implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&#39;\r\n    // animation\r\n    implementation &#39;com.airbnb.android:lottie:6.0.0&#39;\r\n\r\n//    TabLayout\r\n    implementation &#39;com.github.Andy671:Dachshund-Tab-Layout:v0.3.3&#39;\r\n\r\n    //implementation &#39;com.github.droidbond:LoadingButton:0.1.5&#39;\r\n    implementation &#39;com.zeugmasolutions.localehelper:locale-helper-android:1.5.1&#39;\r\n    //local storage\r\n    implementation &#39;androidx.room:room-runtime:2.5.0&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.5.0&#39;\r\n    implementation &#39;commons-io:commons-io:20030203.000550&#39;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**build.gradle (project)**\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n        maven {\r\n            url &quot;https://jitpack.io&quot;\r\n        }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\n**Application**\r\n\r\n```\r\n\r\npublic class MyApplication extends Application {\r\n\r\n\tpublic MyApplication() {}\r\n\r\n\t@Override\r\n\tpublic void onCreate() {\r\n\t\tsuper.onCreate();\r\n\t\ttry {\r\n\t\t\tSharedPref.init(this);\r\n\t\t\tAdsManager.initializeAd(this);\r\n\t\t\tMobileAds.initialize(this, initializationStatus -&gt; {\r\n\t\t\t});\r\n\t\t\tSetting setting = SharedPref.get().getSettingModel();\r\n\t\t\tif (setting != null){\r\n\t\t\t\tif (setting.show_open.equals(Constant.ACTIVE)){\r\n\t\t\t\t\tnew AppOpenManager(this, this.getString(R.string.admob_open_ads));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch (Exception e){\r\n\t\t\t//\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tSharedPref.get().setDarkMode(SharedPref.get().isDarkModeOn());\r\n\t\t} catch (Exception e) {\r\n\t\t\t//\r\n\t\t}\r\n\t\tFirebaseAnalytics.getInstance(this);\r\n\t\tFirebaseMessaging.getInstance().subscribeToTopic(&quot;Hello&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Please help, Big Thanks**\r\n\r\n\r\n**I&#39;ve Tried:**\r\n- Opening another Activity -&gt; Same problem\r\n- Unistal/ReInstall App -&gt; Same p.\r\n- Using Emulator/ Real device -&gt; Same p.\r\n- Removed Admob ads from Opened Activity -&gt; Same p.\r\n- And few things more...\r\n\r\n**Update-1**\r\nThis line appear in red color even ActivitySplash.java already finished\r\n```\r\ngetRecentTasks: taskId=5942   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.my.package/.activities.ActivitySplash }\r\n```\r\n**ActivitySplash.java**\r\n```\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\r\n        setWindowFlag(this, WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS, false);\r\n        getWindow().setStatusBarColor(Color.TRANSPARENT);\r\n\r\n        setContentView(R.layout.activity_splash);\r\n\r\n        DataParser.fetchSettingData(ActivitySplash.this, () -&gt; {\r\n            SharedPref.get().getFcmToken();\r\n            notificationOpenHandler();\r\n        });\r\n    }\r\n\r\n\r\n    public void notificationOpenHandler() {\r\n        try {\r\n            if (getIntent().getExtras() != null) {\r\n                new Handler().postDelayed(() -&gt; {\r\n                    Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    intent.putExtra(Constant.FCM_TITLE, getIntent().getStringExtra(Constant.FCM_TITLE));\r\n                    intent.putExtra(Constant.FCM_LINK, getIntent().getStringExtra(Constant.FCM_LINK));\r\n                    intent.putExtra(Constant.FCM_BROWSER, getIntent().getIntExtra(Constant.FCM_BROWSER, 0));\r\n                    intent.putExtra(Constant.FCM_IMAGE, getIntent().getStringExtra(Constant.FCM_IMAGE));\r\n                    intent.putExtra(Constant.FCM_EXTRA, getIntent().getStringExtra(Constant.FCM_EXTRA));\r\n                    startActivity(intent);\r\n                    finish();\r\n                    overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\r\n                }, Constant.SPLASH_TIME);\r\n            } else {\r\n                moveToNext();\r\n            }\r\n        } catch (Exception e) {\r\n            moveToNext();\r\n        }\r\n    }\r\n\r\n    private void moveToNext() {\r\n        new Handler().postDelayed(() -&gt; {\r\n            Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            startActivity(intent);\r\n            finish();\r\n            overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\r\n        }, Constant.SPLASH_TIME);\r\n    }\r\n\r\n    public static void setWindowFlag(Activity activity, final int bits, boolean on) {\r\n        Window win = activity.getWindow();\r\n        WindowManager.LayoutParams winParams = win.getAttributes();\r\n        if (on) {\r\n            winParams.flags |= bits;\r\n        } else {\r\n            winParams.flags &amp;= ~bits;\r\n        }\r\n        win.setAttributes(winParams);\r\n    }\r\n}\r\n```","title":"SomeActivity.java automatically finish, killed or returned back to previous Activity without touch","body":"<p><strong>Dear Expert</strong>, I'am dealing with one problem since few days. I searched for solution but found nothing so I'm here with you. Hope you will help and thanks in advance...</p>\n<p><strong>Question:</strong> I have an ABC App trying to update with API level 33(Android 13) Everything goes fine but e.g.- I open app-&gt; click button to launch new Activity.java-&gt; launched success but <strong>PROBLEM</strong> comes here ! The Activity close automatically after 2/3/4 seconds without error or without touching my phone but if again I open same Activity then it remain open until I close it.</p>\n<p><strong>Few Things Appear in Logcat before close Activity:</strong>\n<em>This Activity Do Nothing unless I try to do so</em></p>\n<pre><code>DEBUG: elapsed 2 / 6\n2023-03-27 20:58:20.352 24711-24763 FA                      com.my.package        V  Recording user engagement, ms: 4262\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         I  Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:230500000\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package        I  Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 230500000\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         V  Dynamite loader version &gt;= 2, using loadModule2NoCrashUtils\n2023-03-27 20:58:20.396 24711-24711 Ads                     com.my.package         I  Use RequestConfiguration.Builder().setTestDeviceIds(Arrays.asList(&quot;333C8AE82F2C89B0AF4DCBD658E0F35C&quot;)) to get test ads on this device.\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity paused, time: 2548080784\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity resumed, time: 2548080807\n2023-03-27 20:58:20.406 24711-25006 AudioManager            com.my.package         I  In isSpeakerphoneOn(), calling application: # Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\n2023-03-27 20:58:20.419 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus false\n2023-03-27 20:58:20.435 24711-25183 Ads                     com.my.package         W  Not retrying to fetch app settings\n2023-03-27 20:58:20.460  3263-3714  ActivityManagerWrapper  com.miui.home                        E  getRecentTasks: taskId=5899   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library/.activities.ActivitySplash }\n2023-03-27 20:58:20.521 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus true\n2023-03-27 20:58:20.538 24711-24711 RecyclerView            com.my.package         W  No adapter attached; skipping layout\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb40000789c40d628 : 5(40960 size) total buffers - 0(0 size) used buffers - 21/27 (recycle/alloc) - 10/27 (fetch/transfer)\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb4000079959dc428 : 5(40960 size) total buffers - 0(0 size) used buffers - 15/20 (recycle/alloc) - 7/20 (fetch/transfer)\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  evictor expired: 2, evicted: 2\n2023-03-27 20:58:21.909 24711-24711 Ads                     com.my.package         W  GET LOCATION COMPILED\n2023-03-27 20:58:21.980 24711-24711 ExoPlayerImpl           com.my.package         I  Init 43758ef [AndroidXMedia3/1.0.0-beta03] [curtana, Redmi Note 9 Pro, Xiaomi, 31]\n2023-03-27 20:58:21.991 24711-24711 Ads                     com.my.package         I  ExoPlayerAdapter initialized.\n2023-03-27 20:58:22.287 24711-25340 DMCodecAdapterFactory   com.my.package         I  Creating an asynchronous MediaCodec adapter for track type audio\n2023-03-27 20:58:22.289 24711-25349 CCodec                  com.my.package         D  allocate(c2.android.aac.decoder)\n2023-03-27 20:58:22.293 24711-25349 CCodec                  com.my.package         I  Created component [c2.android.aac.decoder]\n</code></pre>\n<p><strong>Android Studio Version: Electric Eel 2022.1.1</strong></p>\n<p><strong>Manifist</strong></p>\n<pre><code>&lt;supports-screens\n        android:anyDensity=&quot;true&quot;\n        android:largeScreens=&quot;true&quot;\n        android:normalScreens=&quot;true&quot;\n        android:smallScreens=&quot;true&quot;\n        android:xlargeScreens=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; &lt;!-- SET-ALARM --&gt;\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n     &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;!-- WAKE --&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt; &lt;!-- STORAGE --&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;&lt;!--API 33 for songs--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;&lt;!--API 33 for albumArt--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;&lt;!--API S--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&lt;!--API 33--&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;\n        tools:node=&quot;remove&quot; /&gt; &lt;!-- THIS QUERIES ONLY FOR YOUTUBE LIVE --&gt;\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;com.google.android.youtube.api.service.START&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n    &lt;queries&gt;\n        &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\n        &lt;package android:name=&quot;com.whatsapp.w4b&quot; /&gt;\n    &lt;/queries&gt;\n&lt;application\n        android:name=&quot;.activities.MyApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:resizeableActivity=&quot;false&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;false&quot;\n        android:theme=&quot;@style/Theme.RadioApp&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;33&quot;&gt;\n...\n&lt;activity\n            android:name=&quot;.activities.ActivitySplash&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n            android:exported=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n&lt;activity\n            android:name=&quot;.activities.OpenedActivity&quot;\n            android:exported=&quot;false&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\n...\n</code></pre>\n<p><strong>Build.gradle (APP)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\nandroid {\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;com.my.package&quot;\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode 71\n        versionName &quot;4.8.2&quot;\n        ndk.abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n        multiDexEnabled true\n    }\n    buildTypes {\n        debug {\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n\n        release {\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildTypes.each {\n        it.buildConfigField 'String', 'APP_URL', APP_URL\n        it.buildConfigField 'String', 'API_KEY', API_KEY\n        it.buildConfigField 'String', 'admob_pub_id', admob_pub_id\n        it.buildConfigField 'String', 'admob_app_id', admob_app_id\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    //    bundle {\n//        language {\n//            enableSplit = false\n//        }\n//    }\n    useLibrary 'org.apache.http.legacy'\n    lint {\n        disable 'GradleDependency', 'OldTargetApi'\n    }\n    namespace 'com.my.package'\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.8.0'\n\n//    GOOGLE LIBRARY\n    implementation platform('com.google.firebase:firebase-bom:31.2.3')\n    implementation 'com.google.firebase:firebase-analytics:21.2.0'\n    implementation 'com.google.android.gms:play-services-ads:21.5.0'\n    implementation 'com.google.android.play:core:1.10.3'\n    implementation 'com.google.firebase:firebase-messaging:23.1.2'\n//for app open ads\n\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-common-java8:2.6.0'\n    //Duplicate class found- below solve\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n\n    //seekbar and layout library\n    implementation 'com.sothree.slidinguppanel:library:3.4.0'\n    implementation 'com.labo.kaji:relativepopupwindow:0.3.1'\n    implementation 'com.github.warkiz.widget:indicatorseekbar:2.1.2'\n\n    //ripple click effect library\n    implementation 'com.balysv:material-ripple:1.0.2'\n    //Player\n    implementation 'com.google.android.exoplayer:exoplayer:2.18.4'\n    //image library\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'jp.wasabeef:picasso-transformations:2.4.0'\n\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation(platform('com.squareup.okhttp3:okhttp-bom:5.0.0-alpha.11'))\n    implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\n    implementation(&quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.11&quot;)\n\n    //shimmer effect library\n    implementation 'com.facebook.shimmer:shimmer:0.5.0'\n\n    //multidex library\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n    implementation 'com.shawnlin:number-picker:2.4.4'\n\n//for equalizer\n    implementation 'com.diogobernardino:williamchart:2.2'//don't change to higher\n\n    implementation 'androidx.preference:preference:1.2.0'\n\n    implementation 'com.pierfrancescosoffritti.androidyoutubeplayer:core:11.1.0'\n\n    //implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1'\n    // animation\n    implementation 'com.airbnb.android:lottie:6.0.0'\n\n//    TabLayout\n    implementation 'com.github.Andy671:Dachshund-Tab-Layout:v0.3.3'\n\n    //implementation 'com.github.droidbond:LoadingButton:0.1.5'\n    implementation 'com.zeugmasolutions.localehelper:locale-helper-android:1.5.1'\n    //local storage\n    implementation 'androidx.room:room-runtime:2.5.0'\n    annotationProcessor 'androidx.room:room-compiler:2.5.0'\n    implementation 'commons-io:commons-io:20030203.000550'\n\n}\n\n</code></pre>\n<p><strong>build.gradle (project)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath 'com.google.gms:google-services:4.3.15'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n        maven {\n            url &quot;https://jitpack.io&quot;\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p><strong>Application</strong></p>\n<pre><code>\npublic class MyApplication extends Application {\n\n    public MyApplication() {}\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        try {\n            SharedPref.init(this);\n            AdsManager.initializeAd(this);\n            MobileAds.initialize(this, initializationStatus -&gt; {\n            });\n            Setting setting = SharedPref.get().getSettingModel();\n            if (setting != null){\n                if (setting.show_open.equals(Constant.ACTIVE)){\n                    new AppOpenManager(this, this.getString(R.string.admob_open_ads));\n                }\n            }\n        }catch (Exception e){\n            //\n        }\n        try {\n            SharedPref.get().setDarkMode(SharedPref.get().isDarkModeOn());\n        } catch (Exception e) {\n            //\n        }\n        FirebaseAnalytics.getInstance(this);\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Please help, Big Thanks</strong></p>\n<p><strong>I've Tried:</strong></p>\n<ul>\n<li>Opening another Activity -&gt; Same problem</li>\n<li>Unistal/ReInstall App -&gt; Same p.</li>\n<li>Using Emulator/ Real device -&gt; Same p.</li>\n<li>Removed Admob ads from Opened Activity -&gt; Same p.</li>\n<li>And few things more...</li>\n</ul>\n<p><strong>Update-1</strong>\nThis line appear in red color even ActivitySplash.java already finished</p>\n<pre><code>getRecentTasks: taskId=5942   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.my.package/.activities.ActivitySplash }\n</code></pre>\n<p><strong>ActivitySplash.java</strong></p>\n<pre><code>    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\n        setWindowFlag(this, WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS, false);\n        getWindow().setStatusBarColor(Color.TRANSPARENT);\n\n        setContentView(R.layout.activity_splash);\n\n        DataParser.fetchSettingData(ActivitySplash.this, () -&gt; {\n            SharedPref.get().getFcmToken();\n            notificationOpenHandler();\n        });\n    }\n\n\n    public void notificationOpenHandler() {\n        try {\n            if (getIntent().getExtras() != null) {\n                new Handler().postDelayed(() -&gt; {\n                    Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    intent.putExtra(Constant.FCM_TITLE, getIntent().getStringExtra(Constant.FCM_TITLE));\n                    intent.putExtra(Constant.FCM_LINK, getIntent().getStringExtra(Constant.FCM_LINK));\n                    intent.putExtra(Constant.FCM_BROWSER, getIntent().getIntExtra(Constant.FCM_BROWSER, 0));\n                    intent.putExtra(Constant.FCM_IMAGE, getIntent().getStringExtra(Constant.FCM_IMAGE));\n                    intent.putExtra(Constant.FCM_EXTRA, getIntent().getStringExtra(Constant.FCM_EXTRA));\n                    startActivity(intent);\n                    finish();\n                    overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\n                }, Constant.SPLASH_TIME);\n            } else {\n                moveToNext();\n            }\n        } catch (Exception e) {\n            moveToNext();\n        }\n    }\n\n    private void moveToNext() {\n        new Handler().postDelayed(() -&gt; {\n            Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            startActivity(intent);\n            finish();\n            overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\n        }, Constant.SPLASH_TIME);\n    }\n\n    public static void setWindowFlag(Activity activity, final int bits, boolean on) {\n        Window win = activity.getWindow();\n        WindowManager.LayoutParams winParams = win.getAttributes();\n        if (on) {\n            winParams.flags |= bits;\n        } else {\n            winParams.flags &amp;= ~bits;\n        }\n        win.setAttributes(winParams);\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1680026129,"post_id":75869410,"comment_id":133825612,"body_markdown":"Isn&#39;t a private ctor an implementation detail? Usually you don&#39;t test implementation details inside a class, but you test (at least by mocking/stubbing) the interaction between classes. So a private default ctor (without arguments) is usually used to prevent instantiation of utility classes. If there is any other ctor you could simply remove the private ctor - and it cannot be invoked anylonger. If ther is no other ctor, what would happen if this is invoked?","body":"Isn&#39;t a private ctor an implementation detail? Usually you don&#39;t test implementation details inside a class, but you test (at least by mocking/stubbing) the interaction between classes. So a private default ctor (without arguments) is usually used to prevent instantiation of utility classes. If there is any other ctor you could simply remove the private ctor - and it cannot be invoked anylonger. If ther is no other ctor, what would happen if this is invoked?"},{"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"score":0,"creation_date":1680026753,"post_id":75869410,"comment_id":133825767,"body_markdown":"@cyberbrain there are no other constructors. The test ensures that the class can not be instantiated and the constructor throws exception.","body":"@cyberbrain there are no other constructors. The test ensures that the class can not be instantiated and the constructor throws exception."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1680027694,"post_id":75869410,"comment_id":133825979,"body_markdown":"If you make Foo an interface instead of a class you can delete the constructor. Deleted code doesn&#39;t hurt your test coverage.","body":"If you make Foo an interface instead of a class you can delete the constructor. Deleted code doesn&#39;t hurt your test coverage."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1680030091,"post_id":75869410,"comment_id":133826517,"body_markdown":"Mockito doesn&#39;t support to mock private methods or constructors (see https://github.com/mockito/mockito/wiki/Mockito-And-Private-Methods). Also I don&#39;t see, how you could ever verify this, your test wants to see the exception, so just call the private ctor to get it? Or is the problem the mocking - or better stubbing here - of `final` classes?","body":"Mockito doesn&#39;t support to mock private methods or constructors (see <a href=\"https://github.com/mockito/mockito/wiki/Mockito-And-Private-Methods\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/wiki/Mockito-And-Private-Methods</a>)&zwnj;&#8203;. Also I don&#39;t see, how you could ever verify this, your test wants to see the exception, so just call the private ctor to get it? Or is the problem the mocking - or better stubbing here - of <code>final</code> classes?"},{"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"score":0,"creation_date":1680031494,"post_id":75869410,"comment_id":133826865,"body_markdown":"@cyberbrain there is a compillation error if I just call it - &quot;Foo() has private access&quot;.","body":"@cyberbrain there is a compillation error if I just call it - &quot;Foo() has private access&quot;."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1680031913,"post_id":75869410,"comment_id":133826953,"body_markdown":"exactly. So I still don&#39;t get what should be tested here? That no other ctor calls it? You just wrote there are none. That no static method of that class returns an instance of it? You should check the static methods to not emit an instance of that class then. So what exactly should be tested? Don&#39;t even know why the exception is thrown...","body":"exactly. So I still don&#39;t get what should be tested here? That no other ctor calls it? You just wrote there are none. That no static method of that class returns an instance of it? You should check the static methods to not emit an instance of that class then. So what exactly should be tested? Don&#39;t even know why the exception is thrown..."}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1680122008,"post_id":75869737,"comment_id":133846070,"body_markdown":"Did you read the statement of the OP &quot;I&#39;m trying to get rid of PowerMock&quot; ?","body":"Did you read the statement of the OP &quot;I&#39;m trying to get rid of PowerMock&quot; ?"}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680027477,"creation_date":1680027477,"answer_id":75869737,"question_id":75869410,"body_markdown":"You can try to use supress method of PowerMockito:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Foo.class)\r\n    public class FooTest {\r\n    \r\n        @Test(expected = UnsupportedOperationException.class)\r\n        public void testFoo() throws Exception {\r\n            PowerMockito.suppress(PowerMockito.constructor(Foo.class));\r\n            Foo instance = PowerMockito.newInstance(Foo.class);\r\n        }\r\n    } \r\n\r\nNote that annotations is very necessary here.","title":"How to invoke a private constructor with JUnit / Mockito?","body":"<p>You can try to use supress method of PowerMockito:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Foo.class)\npublic class FooTest {\n\n    @Test(expected = UnsupportedOperationException.class)\n    public void testFoo() throws Exception {\n        PowerMockito.suppress(PowerMockito.constructor(Foo.class));\n        Foo instance = PowerMockito.newInstance(Foo.class);\n    }\n} \n</code></pre>\n<p>Note that annotations is very necessary here.</p>\n"}],"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680031557,"creation_date":1680025188,"question_id":75869410,"body_markdown":"Since PowerMock contains an old version of Mockito, I&#39;m trying to get rid of PowerMock and fix old tests with pure Mockito.\r\n\r\nI am testing the class with private constructor which should not be invoked:\r\n\r\n```\r\npublic final class Foo {\r\n    private Foo() {\r\n        throw new UnsupportedOperationException(&quot;Constructor should not be invoked.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt was tested using PowerMock Whitebox:\r\n\r\n```\r\n@Test(expected=UnsupportedOperationException.class)\r\npublic void testFoo() throws Exception {\r\n    invokeConstructor(Foo.class, (Object[]) null);\r\n}\r\n```\r\n\r\nI could not find a possibility to invoke a constructor using JUnit or Mockito without creating a new instance of a class.","title":"How to invoke a private constructor with JUnit / Mockito?","body":"<p>Since PowerMock contains an old version of Mockito, I'm trying to get rid of PowerMock and fix old tests with pure Mockito.</p>\n<p>I am testing the class with private constructor which should not be invoked:</p>\n<pre><code>public final class Foo {\n    private Foo() {\n        throw new UnsupportedOperationException(&quot;Constructor should not be invoked.&quot;);\n    }\n}\n</code></pre>\n<p>It was tested using PowerMock Whitebox:</p>\n<pre><code>@Test(expected=UnsupportedOperationException.class)\npublic void testFoo() throws Exception {\n    invokeConstructor(Foo.class, (Object[]) null);\n}\n</code></pre>\n<p>I could not find a possibility to invoke a constructor using JUnit or Mockito without creating a new instance of a class.</p>\n"},{"tags":["java","multithreading","performance","rest"],"answers":[{"tags":[],"owner":{"account_id":6354467,"reputation":2024,"user_id":4932315,"display_name":"Anthony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520088514,"creation_date":1520088514,"answer_id":49085389,"question_id":49085197,"body_markdown":"In fact there are some solutions to this problem. It depends on the datas and variables. I will explain some possible results but of course not all.  \r\nIn your case the second option is less possible because you have many variables in a fly, like date and location, return or not and so on. But in other similar problems it could be useful.\r\n\r\n## 1 - Concurrent calls\r\n\r\nA first possibility is to make concurrent calls to all the given APIs, and show the results then.  \r\nIf the longer request lasts 5 seconds, all the requests are sent at the same time and 5 seconds later you have the response.  \r\nImagine: you load the page and there is no results, there is a loader or something like that. During the loader loading, an AJAX request to their servers is getting the results taken from all the websites.  \r\nOnce all the results loaded they are displayed on the page.\r\n\r\n## 2 - Compiling datas\r\n\r\nAn other possiblity is to use the same technique as search engines, loads datas and compile them.  \r\nEvery 5 minutes (for example) a request is sent to every website and stored into a database. So when you are asking for the page, the datas are already in the database.\r\n\r\nThis option is difficult to realize for websites like MakeMyTrip because there are many location, many dates, and it&#39;s impossible to load all the datas.","title":"Rest API call to fetch data from multiple API providers in very minimal time : Example websites like makemytrip","body":"<p>In fact there are some solutions to this problem. It depends on the datas and variables. I will explain some possible results but of course not all.<br>\nIn your case the second option is less possible because you have many variables in a fly, like date and location, return or not and so on. But in other similar problems it could be useful.</p>\n\n<h2>1 - Concurrent calls</h2>\n\n<p>A first possibility is to make concurrent calls to all the given APIs, and show the results then.<br>\nIf the longer request lasts 5 seconds, all the requests are sent at the same time and 5 seconds later you have the response.<br>\nImagine: you load the page and there is no results, there is a loader or something like that. During the loader loading, an AJAX request to their servers is getting the results taken from all the websites.<br>\nOnce all the results loaded they are displayed on the page.</p>\n\n<h2>2 - Compiling datas</h2>\n\n<p>An other possiblity is to use the same technique as search engines, loads datas and compile them.<br>\nEvery 5 minutes (for example) a request is sent to every website and stored into a database. So when you are asking for the page, the datas are already in the database.</p>\n\n<p>This option is difficult to realize for websites like MakeMyTrip because there are many location, many dates, and it's impossible to load all the datas.</p>\n"},{"tags":[],"owner":{"account_id":1356631,"reputation":726,"user_id":1294908,"accept_rate":60,"display_name":"Sree"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520838963,"creation_date":1520838963,"answer_id":49229910,"question_id":49085197,"body_markdown":"You might get a certain price in the first query and later when you try to purchase the ticket, often the prices have gone up. So I would say a mix of everything is used in aggregation sites.\r\n\r\nAPIs are sold commercially by providers and they carry SLAs. So you can have a robust scalable infrastructure on cloud (say AWS) and yours APIs fetch data from a fast highly available data source - and you can always meet millisecond SLAs every single time. An AWS Lambda function always runs as fast as possible regardless of the load.\r\n\r\nSo, I don&#39;t see a problem concurrently accessing APIs, aggregating the results and displaying it. Also, I don&#39;t see a problem applying some level of caching (either at the aggregator side or at the provider side) especially for slow APIs.\r\n\r\nClient side cache can be updated by push notification instead of pull. So whenever there&#39;s an update in server data, the same is replicated at the client side. This avoids the need for running schedulers (check AWS SNS).\r\n\r\nYour question is mainly focusing on tech and not business.\r\n\r\nOnline travel agencies (OTAs), such as Expedia, get most of their flight content through Global Distribution Systems (e.g., Sabre, Amadeus). Most airlines currently have agreed to make available their full content in the GDSs. The OTAs then make money from payments from airlines, GDSs and potentially (although less and less commonly) from the traveler. Air content is usually sold through an agency model, so the OTA does not take inventory risk on it.\r\n","title":"Rest API call to fetch data from multiple API providers in very minimal time : Example websites like makemytrip","body":"<p>You might get a certain price in the first query and later when you try to purchase the ticket, often the prices have gone up. So I would say a mix of everything is used in aggregation sites.</p>\n\n<p>APIs are sold commercially by providers and they carry SLAs. So you can have a robust scalable infrastructure on cloud (say AWS) and yours APIs fetch data from a fast highly available data source - and you can always meet millisecond SLAs every single time. An AWS Lambda function always runs as fast as possible regardless of the load.</p>\n\n<p>So, I don't see a problem concurrently accessing APIs, aggregating the results and displaying it. Also, I don't see a problem applying some level of caching (either at the aggregator side or at the provider side) especially for slow APIs.</p>\n\n<p>Client side cache can be updated by push notification instead of pull. So whenever there's an update in server data, the same is replicated at the client side. This avoids the need for running schedulers (check AWS SNS).</p>\n\n<p>Your question is mainly focusing on tech and not business.</p>\n\n<p>Online travel agencies (OTAs), such as Expedia, get most of their flight content through Global Distribution Systems (e.g., Sabre, Amadeus). Most airlines currently have agreed to make available their full content in the GDSs. The OTAs then make money from payments from airlines, GDSs and potentially (although less and less commonly) from the traveler. Air content is usually sold through an agency model, so the OTA does not take inventory risk on it.</p>\n"}],"owner":{"account_id":6413279,"reputation":1949,"user_id":4972226,"accept_rate":40,"display_name":"Yathish Manjunath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1554,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680031313,"creation_date":1520087411,"question_id":49085197,"body_markdown":"Websites like makemytrip fetches flight booking details from different airlines api providers like jetairways, indigo and so on.\r\n\r\nwhen we visit there home page we see flight booking details of various airlines.\r\n\r\nSince this information cant be cached. \r\nHow will they make rest calls to all those api providers assuming there can be 10k - 20k of airlines api providers to display data on there home/search page.\r\n\r\n**1) Will they make concurrent calls to all those api providers to fetch data, whenever we visit there home/search page ?** \r\n\r\nBut considering number of threads in the pool this would take time to fetch data and map them in the response object, which will cause delay in page load time.\r\n\r\n**2) If we think of storing these data in search engines like elastic search, this even wont help as the data is not latest one.**\r\n\r\nEven if we think of having a **&quot;scheduler job&quot;** which makes rest calls to api providers to get latest data every 5 minutes and store in Elastic search. This would make display stale data in that 5 minutes of span time.","title":"Rest API call to fetch data from multiple API providers in very minimal time : Example websites like makemytrip","body":"<p>Websites like makemytrip fetches flight booking details from different airlines api providers like jetairways, indigo and so on.</p>\n\n<p>when we visit there home page we see flight booking details of various airlines.</p>\n\n<p>Since this information cant be cached. \nHow will they make rest calls to all those api providers assuming there can be 10k - 20k of airlines api providers to display data on there home/search page.</p>\n\n<p><strong>1) Will they make concurrent calls to all those api providers to fetch data, whenever we visit there home/search page ?</strong> </p>\n\n<p>But considering number of threads in the pool this would take time to fetch data and map them in the response object, which will cause delay in page load time.</p>\n\n<p><strong>2) If we think of storing these data in search engines like elastic search, this even wont help as the data is not latest one.</strong></p>\n\n<p>Even if we think of having a <strong>\"scheduler job\"</strong> which makes rest calls to api providers to get latest data every 5 minutes and store in Elastic search. This would make display stale data in that 5 minutes of span time.</p>\n"},{"tags":["java","spring-boot","wsdl"],"owner":{"account_id":2295871,"reputation":77,"user_id":2017319,"display_name":"user2017319"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680030639,"creation_date":1680030639,"question_id":75870184,"body_markdown":"I&#39;m facing an issue with incorrect WSDL files that are not within our jurisdiction. I have fixed all the problematic classes, but the problem is that whenever I run mvn clean install, the classes are regenerated, and the issue reappears.\r\n\r\nDoes anyone know how I can avoid redownloading these WSDL files?","title":"spring boot maven-jaxb2-plugin, prevent regenerating classes from wsdl","body":"<p>I'm facing an issue with incorrect WSDL files that are not within our jurisdiction. I have fixed all the problematic classes, but the problem is that whenever I run mvn clean install, the classes are regenerated, and the issue reappears.</p>\n<p>Does anyone know how I can avoid redownloading these WSDL files?</p>\n"},{"tags":["java","image","spring","properties","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":417030,"reputation":1981,"user_id":792789,"accept_rate":100,"display_name":"Justin Wrobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311108656,"creation_date":1311108656,"answer_id":6753969,"question_id":6752630,"body_markdown":"Upon further inspection, it doesn&#39;t seem like I can set a &#39;location&#39; for images anywhere but I did find out that you can specify images 1 of 3 ways:\r\n\r\n - Classpath: &quot;image.png&quot;\r\n - Absolute: &quot;/home/user/Pictures/image.png&quot; \r\n - Url: &quot;https://encrypted.google.com/images/logos/ssl_ps_logo.png&quot;","title":"Spring JasperReports Images Location","body":"<p>Upon further inspection, it doesn't seem like I can set a 'location' for images anywhere but I did find out that you can specify images 1 of 3 ways:</p>\n\n<ul>\n<li>Classpath: \"image.png\"</li>\n<li>Absolute: \"/home/user/Pictures/image.png\" </li>\n<li>Url: \"https://encrypted.google.com/images/logos/ssl_ps_logo.png\"</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680029540,"creation_date":1311137709,"answer_id":6757176,"question_id":6752630,"body_markdown":"I recommend creating the following report parameters:\r\n\r\n- ROOT_DIR -- `&quot;/reports/&quot;`\r\n- IMAGE_DIR -- `$P{ROOT_DIR} + &quot;images/&quot;`\r\n- STYLE_DIR -- `$P{ROOT_DIR} + &quot;styles/&quot;`\r\n- SUBREPORT_DIR -- `$P{ROOT_DIR} + &quot;subreports/&quot;`\r\n- COMMON_DIR -- `$P{SUBREPORT_DIR} + &quot;common/&quot;`\r\n\r\nThis allows the images directory to be relative to the `ROOT_DIR` path. It also allows you to change `ROOT_DIR` dynamically. The parameters must be declared in their relative order.\r\n\r\nIn your case, using an absolute path:\r\n\r\n- ROOT_DIR -- `&quot;/home/user/&quot;`\r\n- IMAGE_DIR -- `$P{ROOT_DIR} + &quot;Pictures/&quot;`\r\n\r\nNote that changing between operating systems, directory structures, environments (e.g., migrating to JasperReports Server from JasperReports &amp; JSF) and so forth, can be accomplished without having to modify the report. (Well, some modifications are required for JasperReports Server.)\r\n\r\n","title":"Spring JasperReports Images Location","body":"<p>I recommend creating the following report parameters:</p>\n<ul>\n<li>ROOT_DIR -- <code>&quot;/reports/&quot;</code></li>\n<li>IMAGE_DIR -- <code>$P{ROOT_DIR} + &quot;images/&quot;</code></li>\n<li>STYLE_DIR -- <code>$P{ROOT_DIR} + &quot;styles/&quot;</code></li>\n<li>SUBREPORT_DIR -- <code>$P{ROOT_DIR} + &quot;subreports/&quot;</code></li>\n<li>COMMON_DIR -- <code>$P{SUBREPORT_DIR} + &quot;common/&quot;</code></li>\n</ul>\n<p>This allows the images directory to be relative to the <code>ROOT_DIR</code> path. It also allows you to change <code>ROOT_DIR</code> dynamically. The parameters must be declared in their relative order.</p>\n<p>In your case, using an absolute path:</p>\n<ul>\n<li>ROOT_DIR -- <code>&quot;/home/user/&quot;</code></li>\n<li>IMAGE_DIR -- <code>$P{ROOT_DIR} + &quot;Pictures/&quot;</code></li>\n</ul>\n<p>Note that changing between operating systems, directory structures, environments (e.g., migrating to JasperReports Server from JasperReports &amp; JSF) and so forth, can be accomplished without having to modify the report. (Well, some modifications are required for JasperReports Server.)</p>\n"},{"tags":[],"owner":{"account_id":417030,"reputation":1981,"user_id":792789,"accept_rate":100,"display_name":"Justin Wrobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311285983,"creation_date":1311285983,"answer_id":6783401,"question_id":6752630,"body_markdown":"Following @Dave&#39;s advice I split out the base directory into a Parameter and gave it a default. That way I can specify either an absolute path, classpath or url. Here are the relevant pieces of code:\r\n\r\nController:\r\n\r\n   `modelMap.put(&quot;ROOT_DIR&quot;, &quot;/srv/images/&quot;);`\r\n\r\n-Or-\r\n\r\n   `modelMap.put(&quot;ROOT_DIR&quot;, &quot;http://site.com/images/&quot;);`\r\n\r\njrxml File:\r\n\r\n    &lt;parameter name=&quot;ROOT_DIR&quot; class=&quot;java.lang.String&quot;&gt;\r\n\t\t&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;/home/user/Pictures/&quot;]]&gt;&lt;/defaultValueExpression&gt;\r\n    &lt;/parameter&gt;\r\n    ...\r\n    &lt;imageExpression class=&quot;java.lang.String&quot;&gt;\r\n       &lt;![CDATA[$P{ROOT_DIR}+&quot;leaf_banner_red.png&quot;]]&gt;\r\n    &lt;/imageExpression&gt;","title":"Spring JasperReports Images Location","body":"<p>Following @Dave's advice I split out the base directory into a Parameter and gave it a default. That way I can specify either an absolute path, classpath or url. Here are the relevant pieces of code:</p>\n\n<p>Controller:</p>\n\n<p><code>modelMap.put(\"ROOT_DIR\", \"/srv/images/\");</code></p>\n\n<p>-Or-</p>\n\n<p><code>modelMap.put(\"ROOT_DIR\", \"http://site.com/images/\");</code></p>\n\n<p>jrxml File:</p>\n\n<pre><code>&lt;parameter name=\"ROOT_DIR\" class=\"java.lang.String\"&gt;\n    &lt;defaultValueExpression&gt;&lt;![CDATA[\"/home/user/Pictures/\"]]&gt;&lt;/defaultValueExpression&gt;\n&lt;/parameter&gt;\n...\n&lt;imageExpression class=\"java.lang.String\"&gt;\n   &lt;![CDATA[$P{ROOT_DIR}+\"leaf_banner_red.png\"]]&gt;\n&lt;/imageExpression&gt;\n</code></pre>\n"}],"owner":{"account_id":417030,"reputation":1981,"user_id":792789,"accept_rate":100,"display_name":"Justin Wrobel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5010,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6757176,"answer_count":3,"score":4,"last_activity_date":1680029540,"creation_date":1311102204,"question_id":6752630,"body_markdown":"JasperReport requires (by default) that images be in &quot;WEB-INF/classes/&quot;. I&#39;d like to share images between PDFs and normal JSP pages. I&#39;d rather not clutter up classpath with garbage image files. How do I force JR to use a different location for images?","title":"Spring JasperReports Images Location","body":"<p>JasperReport requires (by default) that images be in \"WEB-INF/classes/\". I'd like to share images between PDFs and normal JSP pages. I'd rather not clutter up classpath with garbage image files. How do I force JR to use a different location for images?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9684,"page":541,"page_size":100}
