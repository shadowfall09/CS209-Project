{"items":[{"tags":["java","xml","string","file","parsing"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":8,"creation_date":1462801458,"post_id":562160,"comment_id":61775819,"body_markdown":"Also note that `javax.xml.parsers.DocumentBuilder.parse(string)` assumes the string is a uri (terrible...)","body":"Also note that <code>javax.xml.parsers.DocumentBuilder.parse(string)</code> assumes the string is a uri (terrible...)"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1234979898,"creation_date":1234979898,"answer_id":562163,"question_id":562160,"body_markdown":"[javadocs][1] show that the parse method is overloaded.\r\n\r\nCreate a StringStream or InputSource using your string XML and you should be set.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/javax/xml/parsers/DocumentBuilder.html","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/javax/xml/parsers/DocumentBuilder.html\" rel=\"noreferrer\">javadocs</a> show that the parse method is overloaded.</p>\n\n<p>Create a StringStream or InputSource using your string XML and you should be set.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1403083586,"creation_date":1234979996,"answer_id":562172,"question_id":562160,"body_markdown":"One way is to use the version of parse that takes an InputSource rather than a file\r\n\r\nA SAX InputSource can be constructed from a Reader object. One Reader object is the StringReader\r\n\r\n\r\nSo something like\r\n\r\n    parse(new InputSource(new StringReader(myString))) may work. ","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p>One way is to use the version of parse that takes an InputSource rather than a file</p>\n\n<p>A SAX InputSource can be constructed from a Reader object. One Reader object is the StringReader</p>\n\n<p>So something like</p>\n\n<pre><code>parse(new InputSource(new StringReader(myString))) may work. \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1234981179,"post_id":562184,"comment_id":373375,"body_markdown":"I&#39;d prefer the StringReader because it avoids String.getBytes(), but this should *usually* work also.","body":"I&#39;d prefer the StringReader because it avoids String.getBytes(), but this should <i>usually</i> work also."},{"owner":{"account_id":15696,"reputation":9454,"user_id":33412,"accept_rate":60,"display_name":"bendin"},"score":3,"creation_date":1234982338,"post_id":562184,"comment_id":373482,"body_markdown":"When you call getBytes(), what encoding are you expecting it to use? How are you telling to the XML parser which encoding it&#39;s getting? Do you expect it to guess? What happens when you are on a platform where the default encoding isn&#39;t UTF-8?","body":"When you call getBytes(), what encoding are you expecting it to use? How are you telling to the XML parser which encoding it&#39;s getting? Do you expect it to guess? What happens when you are on a platform where the default encoding isn&#39;t UTF-8?"}],"tags":[],"owner":{"account_id":17597,"reputation":5160,"user_id":39540,"accept_rate":80,"display_name":"Akbar ibrahim"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1462801010,"creation_date":1234980134,"answer_id":562184,"question_id":562160,"body_markdown":"Convert the string to an InputStream and pass it to DocumentBuilder\r\n\r\n    final InputStream stream = new ByteArrayInputStream(string.getBytes(StandardCharsets.UTF_8));\r\n    DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n    builder.parse(stream);\r\n\r\n\r\n**EDIT**&lt;br&gt;In response to **bendin**&#39;s comment regarding encoding, see **shsteimer**&#39;s answer to this question.\r\n\r\n\r\n","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p>Convert the string to an InputStream and pass it to DocumentBuilder</p>\n\n<pre><code>final InputStream stream = new ByteArrayInputStream(string.getBytes(StandardCharsets.UTF_8));\nDocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\nbuilder.parse(stream);\n</code></pre>\n\n<p><strong>EDIT</strong><br>In response to <strong>bendin</strong>'s comment regarding encoding, see <strong>shsteimer</strong>'s answer to this question.</p>\n"},{"comments":[{"owner":{"account_id":1849884,"reputation":650,"user_id":1676632,"accept_rate":48,"display_name":"sattu"},"score":4,"creation_date":1372452476,"post_id":562207,"comment_id":25217269,"body_markdown":"@shsteimer I am passing in xml string and it is returning null. It does not throw any exception. What must be wrong?","body":"@shsteimer I am passing in xml string and it is returning null. It does not throw any exception. What must be wrong?"},{"owner":{"account_id":97323,"reputation":3443,"user_id":264047,"accept_rate":89,"display_name":"Alexander Malakhov"},"score":0,"creation_date":1373529727,"post_id":562207,"comment_id":25594190,"body_markdown":"@sattu: You should post it as a new question. It&#39;s really hard to tell without seeing your code.","body":"@sattu: You should post it as a new question. It&#39;s really hard to tell without seeing your code."},{"owner":{"account_id":179085,"reputation":273,"user_id":411490,"accept_rate":93,"display_name":"nkuebelbeck"},"score":0,"creation_date":1375966236,"post_id":562207,"comment_id":26542171,"body_markdown":"thanks much, saved me bunch lines of code, i was converting it back to text but I knew there was a better way!","body":"thanks much, saved me bunch lines of code, i was converting it back to text but I knew there was a better way!"},{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":3,"creation_date":1390981575,"post_id":562207,"comment_id":32322816,"body_markdown":"if I have &lt;?XML&gt; it returns an empty node what can i do?","body":"if I have &lt;?XML&gt; it returns an empty node what can i do?"},{"owner":{"account_id":6160770,"reputation":1423,"user_id":4802448,"accept_rate":100,"display_name":"Daniel Eisenreich"},"score":2,"creation_date":1570629766,"post_id":562207,"comment_id":102973856,"body_markdown":"Check that you use the right import statement: `import org.xml.sax.InputSource;`","body":"Check that you use the right import statement: <code>import org.xml.sax.InputSource;</code>"},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1620416846,"post_id":562207,"comment_id":119204037,"body_markdown":"For me, parse() takes InputStream, not InputSource","body":"For me, parse() takes InputStream, not InputSource"},{"owner":{"account_id":2144914,"reputation":149,"user_id":1953474,"display_name":"John LaBarge"},"score":0,"creation_date":1651546661,"post_id":562207,"comment_id":127384400,"body_markdown":"Why is everything in Java so gross? Seriously?","body":"Why is everything in Java so gross? Seriously?"}],"tags":[],"owner":{"account_id":237,"reputation":28496,"user_id":292,"accept_rate":68,"display_name":"shsteimer"},"comment_count":7,"down_vote_count":1,"up_vote_count":519,"is_accepted":true,"score":518,"last_activity_date":1383227348,"creation_date":1234980614,"answer_id":562207,"question_id":562160,"body_markdown":"I have this function in my code base, this should work for you.\r\n\r\n    public static Document loadXMLFromString(String xml) throws Exception\r\n    {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        InputSource is = new InputSource(new StringReader(xml));\r\n        return builder.parse(is);\r\n    }\r\n\r\nalso see [this similar question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33262","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p>I have this function in my code base, this should work for you.</p>\n\n<pre><code>public static Document loadXMLFromString(String xml) throws Exception\n{\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    InputSource is = new InputSource(new StringReader(xml));\n    return builder.parse(is);\n}\n</code></pre>\n\n<p>also see <a href=\"https://stackoverflow.com/questions/33262\">this similar question</a></p>\n"},{"tags":[],"owner":{"account_id":4066076,"reputation":2498,"user_id":3340968,"accept_rate":43,"display_name":"Yasir Shabbir Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473241738,"creation_date":1473241738,"answer_id":39366585,"question_id":562160,"body_markdown":"I&#39;m using this method\r\n\r\n    public Document parseXmlFromString(String xmlString){\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\t    DocumentBuilder builder = factory.newDocumentBuilder();\r\n\t    InputStream inputStream = new    ByteArrayInputStream(xmlString.getBytes());\r\n        org.w3c.dom.Document document = builder.parse(inputStream);\r\n        return document;\r\n    }","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p>I'm using this method</p>\n\n<pre><code>public Document parseXmlFromString(String xmlString){\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    InputStream inputStream = new    ByteArrayInputStream(xmlString.getBytes());\n    org.w3c.dom.Document document = builder.parse(inputStream);\n    return document;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9151100,"reputation":733,"user_id":6805653,"accept_rate":57,"display_name":"Shukant Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476084335,"creation_date":1476084335,"answer_id":39953161,"question_id":562160,"body_markdown":"You can use the Scilca XML Progession package available at GitHub.\r\n\r\n    XMLIterator xi = new VirtualXML.XMLIterator(&quot;&lt;xml /&gt;&quot;);\r\n    XMLReader xr = new XMLReader(xi);\r\n    Document d = xr.parseDocument();","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p>You can use the Scilca XML Progession package available at GitHub.</p>\n\n<pre><code>XMLIterator xi = new VirtualXML.XMLIterator(\"&lt;xml /&gt;\");\nXMLReader xr = new XMLReader(xi);\nDocument d = xr.parseDocument();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29871587,"reputation":1,"user_id":22892833,"display_name":"Xinlong Wu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699613765,"creation_date":1699613765,"answer_id":77459465,"question_id":562160,"body_markdown":"you can try\r\n\r\n    File f = new File(sac.getFileName());\r\n\t\tif (f.exists()) {\r\n\t\t\tf.delete();\r\n\t\t}\r\n\r\n\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\ttry {\r\n\r\n\t\t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n\t\t\tDocument doc = db.newDocument();\r\n\r\n\t\t\t// root\r\n\t\t\tElement root = doc.createElement(Person.KEY_ROOT);\r\n\t\t\tdoc.appendChild(root);\r\n\r\n\t\t\tfor(Person p: persons){\r\n\t\t\t\t// people element\r\n\t\t\t\tElement item = doc.createElement(Person.KEY_ELEMENT);\r\n\t\t\t\troot.appendChild(item);\r\n\r\n\t\t\t\tElement name = doc.createElement(Person.KEY_NAME);\r\n\t\t\t\tname.setTextContent(p.getName());\r\n\t\t\t\titem.appendChild(name);\r\n\r\n\t\t\t\tElement gender = doc.createElement(Person.KEY_GENDER);\r\n\t\t\t\tgender.setTextContent(p.getGender());\r\n\t\t\t\titem.appendChild(gender);\r\n\r\n\t\t\t\tElement age = doc.createElement(Person.KEY_AGE);\r\n\t\t\t\tage.setTextContent(String.valueOf(p.getAge()));\r\n\t\t\t\titem.appendChild(age);\r\n\r\n\t\t\t\tElement occ = doc.createElement(Person.KEY_OCCUPATION);\r\n\t\t\t\tocc.setTextContent(p.getOccupation());\r\n\t\t\t\titem.appendChild(occ);\r\n\t\t\t}\r\n\r\n\t\t\tTransformer transformer = TransformerFactory.newInstance().newTransformer();\r\n\r\n\t\t\ttransformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\r\n\r\n\t\t\t// INDENT the xml file is optional, you can\r\n\t\t\t// uncomment the following statement if you would like the xml files to be more\r\n\t\t\t// readable\r\n\t\t\t// transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\n\t\t\tDOMSource source = new DOMSource(doc);\r\n\t\t\tStreamResult result = new StreamResult(f);\r\n\t\t\ttransformer.transform(source, result);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nuse following code to load file\r\n\r\n    File f = new File(lc.getFileName());\r\n\t\tif (!f.exists()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\tDocumentBuilder db;\r\n\t\ttry {\r\n\t\t\tdb = dbf.newDocumentBuilder();\r\n\t\t\tDocument doc = db.parse(f);\r\n\r\n\t\t\tdoc.getDocumentElement().normalize();\r\n\r\n\t\t\tNodeList nList = doc.getElementsByTagName(Person.KEY_ELEMENT);\r\n\r\n\t\t\tfor (int i = 0; i &lt; nList.getLength(); i++) {\r\n\t\t\t\tElement element = (Element) nList.item(i);\r\n\t\t\t\tPerson person = new Person();\r\n\r\n\t\t\t\tif (element.getElementsByTagName(Person.KEY_NAME).item(0) != null)\r\n\t\t\t\t\tperson.setName(element.getElementsByTagName(person.KEY_NAME).item(0).getTextContent());\r\n\r\n\t\t\t\tif (element.getElementsByTagName(Person.KEY_AGE).item(0) != null)\r\n\t\t\t\t\tperson.setAge(Integer.parseInt(element.getElementsByTagName(Person.KEY_AGE).item(0).getTextContent()));\r\n\r\n\t\t\t\tif (element.getElementsByTagName(Person.KEY_OCCUPATION).item(0) != null)\r\n\t\t\t\t\tperson.setOccupation(element.getElementsByTagName(Person.KEY_OCCUPATION).item(0).getTextContent());\r\n\r\n\t\t\t\tif (element.getElementsByTagName(Person.KEY_GENDER).item(0) != null)\r\n\t\t\t\t\tperson.setGender(element.getElementsByTagName(Person.KEY_GENDER).item(0).getTextContent());\r\n\r\n\t\t\t\tpersons.add(person);\r\n\t\t\t}\r\n\r\n\t\t\tthis.db.save(lc.getKey(), persons);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p>you can try</p>\n<pre><code>File f = new File(sac.getFileName());\n    if (f.exists()) {\n        f.delete();\n    }\n\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    try {\n\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        Document doc = db.newDocument();\n\n        // root\n        Element root = doc.createElement(Person.KEY_ROOT);\n        doc.appendChild(root);\n\n        for(Person p: persons){\n            // people element\n            Element item = doc.createElement(Person.KEY_ELEMENT);\n            root.appendChild(item);\n\n            Element name = doc.createElement(Person.KEY_NAME);\n            name.setTextContent(p.getName());\n            item.appendChild(name);\n\n            Element gender = doc.createElement(Person.KEY_GENDER);\n            gender.setTextContent(p.getGender());\n            item.appendChild(gender);\n\n            Element age = doc.createElement(Person.KEY_AGE);\n            age.setTextContent(String.valueOf(p.getAge()));\n            item.appendChild(age);\n\n            Element occ = doc.createElement(Person.KEY_OCCUPATION);\n            occ.setTextContent(p.getOccupation());\n            item.appendChild(occ);\n        }\n\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\n\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\n\n        // INDENT the xml file is optional, you can\n        // uncomment the following statement if you would like the xml files to be more\n        // readable\n        // transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n\n        DOMSource source = new DOMSource(doc);\n        StreamResult result = new StreamResult(f);\n        transformer.transform(source, result);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>use following code to load file</p>\n<pre><code>File f = new File(lc.getFileName());\n    if (!f.exists()) {\n        return;\n    }\n\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    DocumentBuilder db;\n    try {\n        db = dbf.newDocumentBuilder();\n        Document doc = db.parse(f);\n\n        doc.getDocumentElement().normalize();\n\n        NodeList nList = doc.getElementsByTagName(Person.KEY_ELEMENT);\n\n        for (int i = 0; i &lt; nList.getLength(); i++) {\n            Element element = (Element) nList.item(i);\n            Person person = new Person();\n\n            if (element.getElementsByTagName(Person.KEY_NAME).item(0) != null)\n                person.setName(element.getElementsByTagName(person.KEY_NAME).item(0).getTextContent());\n\n            if (element.getElementsByTagName(Person.KEY_AGE).item(0) != null)\n                person.setAge(Integer.parseInt(element.getElementsByTagName(Person.KEY_AGE).item(0).getTextContent()));\n\n            if (element.getElementsByTagName(Person.KEY_OCCUPATION).item(0) != null)\n                person.setOccupation(element.getElementsByTagName(Person.KEY_OCCUPATION).item(0).getTextContent());\n\n            if (element.getElementsByTagName(Person.KEY_GENDER).item(0) != null)\n                person.setGender(element.getElementsByTagName(Person.KEY_GENDER).item(0).getTextContent());\n\n            persons.add(person);\n        }\n\n        this.db.save(lc.getKey(), persons);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":25944,"reputation":3692,"user_id":67117,"accept_rate":67,"display_name":"Dewayne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307816,"favorite_count":0,"down_vote_count":1,"up_vote_count":276,"accepted_answer_id":562207,"answer_count":7,"score":275,"last_activity_date":1699613765,"creation_date":1234979788,"question_id":562160,"body_markdown":"I have the following code: \r\n\r\n    DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(xmlFile);\r\n\r\nHow can I get it to parse XML contained within a String instead of a file?","title":"In Java, how do I parse XML as a String instead of a file?","body":"<p>I have the following code: </p>\n\n<pre><code>DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(xmlFile);\n</code></pre>\n\n<p>How can I get it to parse XML contained within a String instead of a file?</p>\n"},{"tags":["java","sql-server","jdbc","kerberos"],"answers":[{"comments":[{"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"score":0,"creation_date":1549295066,"post_id":54518105,"comment_id":95842036,"body_markdown":"No, my linux is not Joined into windows domain, but if I remove `JavaKerberos`, I have error `java.sql.SQLException: No suitable driver found for...` More details in question body UPD","body":"No, my linux is not Joined into windows domain, but if I remove <code>JavaKerberos</code>, I have error <code>java.sql.SQLException: No suitable driver found for...</code> More details in question body UPD"},{"owner":{"account_id":6486165,"reputation":5690,"user_id":5021687,"display_name":"Alexander Volok"},"score":0,"creation_date":1549295491,"post_id":54518105,"comment_id":95842290,"body_markdown":"Can you then try alternative: \n jdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=MyData;authenticationScheme=JavaKerberos","body":"Can you then try alternative:   jdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=M&zwnj;&#8203;yData;authentication&zwnj;&#8203;Scheme=JavaKerberos"},{"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"score":0,"creation_date":1549298457,"post_id":54518105,"comment_id":95843899,"body_markdown":"Leaving `authenticationScheme=JavaKerberos` and removing `integratedSecurity=true` brings `com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;myuser&#39;`. More details in UPD2 .","body":"Leaving <code>authenticationScheme=JavaKerberos</code> and removing <code>integratedSecurity=true</code> brings <code>com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;myuser&#39;</code>. More details in UPD2 ."},{"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"score":0,"creation_date":1600305989,"post_id":54518105,"comment_id":113048227,"body_markdown":"&quot;If you specify authenticationScheme=JavaKerberos but do not also specify integratedSecurity=true, the driver will ignore the authenticationScheme connection property and it will expect to find user name and password credentials in the connection string.&quot;  From https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver15","body":"&quot;If you specify authenticationScheme=JavaKerberos but do not also specify integratedSecurity=true, the driver will ignore the authenticationScheme connection property and it will expect to find user name and password credentials in the connection string.&quot;  From <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"}],"tags":[],"owner":{"account_id":6486165,"reputation":5690,"user_id":5021687,"display_name":"Alexander Volok"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549289867,"creation_date":1549289867,"answer_id":54518105,"question_id":54517862,"body_markdown":"The app run on Linux machine, is that computer joined to a windows domain?\r\n\r\nIf not, then you may need to use a SQL authentication:\r\n\r\n    jdbc:sqlserver://192.168.1.50\\SQLEXPRESS;user=MyUserName;password=*****;\r\n\r\nOtherwise, this one to try without `authenticationScheme=JavaKerberos` and default port specified:\r\n\r\n    jdbc:sqlserver://192.168.1.50\\SQLEXPRESS;DatabaseName=MyData;integratedSecurity=true;","title":"Windows Authentication problem while connecting to MSSQL server from JDBC","body":"<p>The app run on Linux machine, is that computer joined to a windows domain?</p>\n\n<p>If not, then you may need to use a SQL authentication:</p>\n\n<pre><code>jdbc:sqlserver://192.168.1.50\\SQLEXPRESS;user=MyUserName;password=*****;\n</code></pre>\n\n<p>Otherwise, this one to try without <code>authenticationScheme=JavaKerberos</code> and default port specified:</p>\n\n<pre><code>jdbc:sqlserver://192.168.1.50\\SQLEXPRESS;DatabaseName=MyData;integratedSecurity=true;\n</code></pre>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2539,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699613584,"creation_date":1549289071,"question_id":54517862,"body_markdown":"Trying to connect to MS SQL server via Windows Authentification from Java application that runs on Linux machine. \r\nConnection string:\r\n\r\njdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=MyData;integratedSecurity=true;authenticationScheme=JavaKerberos\r\n\r\nGot  connection error:\r\n\r\n\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Integrated authentication failed. ClientConnectionId:42aee675-fd0d-489e-af73-574ae5c304fa\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2670) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.KerbAuthentication.intAuthInit(KerbAuthentication.java:131) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.KerbAuthentication.GenerateClientContext(KerbAuthentication.java:399) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4306) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3409) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:85) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3373) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7344) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2713) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2261) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1921) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1762) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n           at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1077) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n\r\nHow to understand this error and how to fix it?\r\n\r\n\r\nUPD\r\n\r\nIf I remove `authenticationScheme=JavaKerberos` as following:\r\n\r\n    jdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=MyData;integratedSecurity=true;\r\n\r\nI have error:\r\n\r\n    java.sql.SQLException: No suitable driver found for\r\n           at java.sql.DriverManager.getConnection(DriverManager.java:689) ~[?:1.8.0_171]\r\n           at java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_171]\r\n\r\n\r\nUPD 2\r\n\r\nLeaving `authenticationScheme=JavaKerberos` and removing `integratedSecurity=true` as following:\r\n    \r\n    jdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=MyData;authenticationScheme=JavaKerberos\r\n\r\ngives error:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;myuser&#39;. ClientConnectionId:42aee675-fd0d-489e-af73-574ae5c304fa\r\n            at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:259) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:256) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:108) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4548) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3409) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:85) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3373) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7344) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2713) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2261) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1921) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1762) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1077) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:623) ~[mssql-jdbc-6.4.0.jre8.jar:?]\r\n            at java.sql.DriverManager.getConnection(DriverManager.java:664) ~[?:1.8.0_171]\r\n            at java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_171]\r\n\r\n\r\n\r\n\r\n","title":"Windows Authentication problem while connecting to MSSQL server from JDBC","body":"<p>Trying to connect to MS SQL server via Windows Authentification from Java application that runs on Linux machine. \nConnection string:</p>\n\n<p>jdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=MyData;integratedSecurity=true;authenticationScheme=JavaKerberos</p>\n\n<p>Got  connection error:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Integrated authentication failed. ClientConnectionId:42aee675-fd0d-489e-af73-574ae5c304fa\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2670) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.KerbAuthentication.intAuthInit(KerbAuthentication.java:131) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.KerbAuthentication.GenerateClientContext(KerbAuthentication.java:399) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4306) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3409) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:85) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3373) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7344) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2713) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2261) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1921) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1762) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1077) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n</code></pre>\n\n<p>How to understand this error and how to fix it?</p>\n\n<p>UPD</p>\n\n<p>If I remove <code>authenticationScheme=JavaKerberos</code> as following:</p>\n\n<pre><code>jdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=MyData;integratedSecurity=true;\n</code></pre>\n\n<p>I have error:</p>\n\n<pre><code>java.sql.SQLException: No suitable driver found for\n       at java.sql.DriverManager.getConnection(DriverManager.java:689) ~[?:1.8.0_171]\n       at java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_171]\n</code></pre>\n\n<p>UPD 2</p>\n\n<p>Leaving <code>authenticationScheme=JavaKerberos</code> and removing <code>integratedSecurity=true</code> as following:</p>\n\n<pre><code>jdbc:sqlserver://192.168.1.50\\SQLEXPRESS:1433;DatabaseName=MyData;authenticationScheme=JavaKerberos\n</code></pre>\n\n<p>gives error:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user 'myuser'. ClientConnectionId:42aee675-fd0d-489e-af73-574ae5c304fa\n        at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:259) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:256) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:108) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4548) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3409) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:85) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3373) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7344) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2713) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2261) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1921) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1762) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1077) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:623) ~[mssql-jdbc-6.4.0.jre8.jar:?]\n        at java.sql.DriverManager.getConnection(DriverManager.java:664) ~[?:1.8.0_171]\n        at java.sql.DriverManager.getConnection(DriverManager.java:247) ~[?:1.8.0_171]\n</code></pre>\n"},{"tags":["java","sql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":17056115,"reputation":117,"user_id":12340604,"display_name":"tohhant"},"score":0,"creation_date":1647519401,"post_id":71511165,"comment_id":126394212,"body_markdown":"Hello, try to remove `new HashSet&lt;&gt;()` from roles field.","body":"Hello, try to remove <code>new HashSet&lt;&gt;()</code> from roles field."},{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1647519906,"post_id":71511165,"comment_id":126394384,"body_markdown":"I&#39;ve tried, didn&#39;t work sadly","body":"I&#39;ve tried, didn&#39;t work sadly"},{"owner":{"account_id":17056115,"reputation":117,"user_id":12340604,"display_name":"tohhant"},"score":0,"creation_date":1647520603,"post_id":71511165,"comment_id":126394644,"body_markdown":"Also, you may try to remove @JoinTable annotation at all, because JPA will generate Many to Many relationship itself with default column names, if you are not afraid of different column names, because sometimes people use JPA without auto-creating tables and want to use their custom config","body":"Also, you may try to remove @JoinTable annotation at all, because JPA will generate Many to Many relationship itself with default column names, if you are not afraid of different column names, because sometimes people use JPA without auto-creating tables and want to use their custom config"},{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1647520860,"post_id":71511165,"comment_id":126394731,"body_markdown":"Also tried, didn&#39;t work. Also I had to set cascade to MERGE and REFRESH otherwise I would get the error &quot;detached entity passed to persist&quot;...\nAnother thing I noticed is that all the UUIDs in the database are followed by lots of zeros. I don&#39;t know why tho","body":"Also tried, didn&#39;t work. Also I had to set cascade to MERGE and REFRESH otherwise I would get the error &quot;detached entity passed to persist&quot;... Another thing I noticed is that all the UUIDs in the database are followed by lots of zeros. I don&#39;t know why tho"},{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1647523708,"post_id":71511165,"comment_id":126395921,"body_markdown":"JPA does not understand what you are referencing it with. Try my answer below.","body":"JPA does not understand what you are referencing it with. Try my answer below."}],"answers":[{"comments":[{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1647517780,"post_id":71511381,"comment_id":126393696,"body_markdown":"I tried it but it still didn&#39;t work. Also I had to change CascadeType to MERGE when adding the referencedColumnNames. Btw I&#39;ve noticed something weird, in the user_roles table all the user_ids and role_ids start correctly with the corresponding UUID but end with tons of 0s...","body":"I tried it but it still didn&#39;t work. Also I had to change CascadeType to MERGE when adding the referencedColumnNames. Btw I&#39;ve noticed something weird, in the user_roles table all the user_ids and role_ids start correctly with the corresponding UUID but end with tons of 0s..."},{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1647522749,"post_id":71511381,"comment_id":126395476,"body_markdown":"use to make the ids auto increment and remove the ton of 0: `@Id @GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;` for your classes","body":"use to make the ids auto increment and remove the ton of 0: <code>@Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id;</code> for your classes"},{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1647522977,"post_id":71511381,"comment_id":126395560,"body_markdown":"@michael.tillmanns can you check the data in db, I think the problem is in your save function?","body":"@michael.tillmanns can you check the data in db, I think the problem is in your save function?"},{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1647523120,"post_id":71511381,"comment_id":126395628,"body_markdown":"The data is saved successfully, also the Join table is there and all entries are fine. Just when querying the table and getting the UserEntity it gives me the correct UserEntity but with an empty &quot;PersistenceSet&quot; of RoleEntities","body":"The data is saved successfully, also the Join table is there and all entries are fine. Just when querying the table and getting the UserEntity it gives me the correct UserEntity but with an empty &quot;PersistenceSet&quot; of RoleEntities"},{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1647523307,"post_id":71511381,"comment_id":126395715,"body_markdown":"can you try with jpa findOne(UUID) function?","body":"can you try with jpa findOne(UUID) function?"},{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1647526113,"post_id":71511381,"comment_id":126396968,"body_markdown":"Also doesn&#39;t work","body":"Also doesn&#39;t work"}],"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647523027,"creation_date":1647515723,"answer_id":71511381,"question_id":71511165,"body_markdown":"You `ManyToMany` is not correct, you need to reference the id of each table by using `referencedColumnName`\r\n\r\nTake a look at this one:\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_roles&quot;,\r\n         joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n         inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    private Set&lt;RoleEntity&gt; roles;","title":"ManyToMany relationship not working when executing query (Spring Data JPA)","body":"<p>You <code>ManyToMany</code> is not correct, you need to reference the id of each table by using <code>referencedColumnName</code></p>\n<p>Take a look at this one:</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinTable(name = &quot;user_roles&quot;,\n     joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\n     inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\nprivate Set&lt;RoleEntity&gt; roles;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1647528921,"post_id":71514390,"comment_id":126398297,"body_markdown":"It already set&#39;s the roles correctly and stores them to the database the issue is just that when querying it doesn&#39;t fetch the users roles to UserEntity object","body":"It already set&#39;s the roles correctly and stores them to the database the issue is just that when querying it doesn&#39;t fetch the users roles to UserEntity object"}],"tags":[],"owner":{"account_id":11005216,"reputation":3,"user_id":8084323,"display_name":"Kong Bunthoeurn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647528646,"creation_date":1647528646,"answer_id":71514390,"question_id":71511165,"body_markdown":"Can you try this? by adding an override function setRoles(..) below the UserEntity calss\r\n\r\n```\r\npackage xyz.michaeltprojects.collchecklist.security.persistence;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    @NotBlank\r\n    @Size(min = 3, max = 30)\r\n    private String username;\r\n\r\n    @NotBlank\r\n    @Size(min = 6, max = 50)\r\n    @Email\r\n    private String email;\r\n\r\n    @NotBlank\r\n    @Size(max = 120)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;RoleEntity&gt; roles = new HashSet&lt;&gt;();\r\n\r\n   public UserEntity setRoles(final Set&lt;RoleEntity&gt; roles) {\r\n     this.roles.clear();\r\n     if (roles != null) {\r\n         this.roles.addAll(roles);\r\n     }\r\n     return this;\r\n   }\r\n\r\n}\r\n```","title":"ManyToMany relationship not working when executing query (Spring Data JPA)","body":"<p>Can you try this? by adding an override function setRoles(..) below the UserEntity calss</p>\n<pre><code>package xyz.michaeltprojects.collchecklist.security.persistence;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;users&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @NotBlank\n    @Size(min = 3, max = 30)\n    private String username;\n\n    @NotBlank\n    @Size(min = 6, max = 50)\n    @Email\n    private String email;\n\n    @NotBlank\n    @Size(max = 120)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;RoleEntity&gt; roles = new HashSet&lt;&gt;();\n\n   public UserEntity setRoles(final Set&lt;RoleEntity&gt; roles) {\n     this.roles.clear();\n     if (roles != null) {\n         this.roles.addAll(roles);\n     }\n     return this;\n   }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"score":0,"creation_date":1647608307,"post_id":71519648,"comment_id":126419449,"body_markdown":"Already tried that, didn&#39;t work","body":"Already tried that, didn&#39;t work"}],"tags":[],"owner":{"account_id":24594242,"reputation":11,"user_id":18497669,"display_name":"Nawress Rafrafi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647555262,"creation_date":1647555262,"answer_id":71519648,"question_id":71511165,"body_markdown":"You have to remove `new HashSet&lt;&gt;();` from the user entity.","title":"ManyToMany relationship not working when executing query (Spring Data JPA)","body":"<p>You have to remove <code>new HashSet&lt;&gt;();</code> from the user entity.</p>\n"},{"comments":[{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1647673996,"post_id":71527570,"comment_id":126434317,"body_markdown":"&quot;Now we&#39;ll look at the UUIDGenerator, which was introduced in Hibernate 5.&quot; @ Baeldung. Maybe you use Hibernate &lt;5?","body":"&quot;Now we&#39;ll look at the UUIDGenerator, which was introduced in Hibernate 5.&quot; @ Baeldung. Maybe you use Hibernate &lt;5?"}],"tags":[],"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647609063,"creation_date":1647609063,"answer_id":71527570,"question_id":71511165,"body_markdown":"I&#39;ve somehow solved the issue...\r\nIt seems that populating the relationships didn&#39;t work with UUIDs as identifiers. When I replaced them with longs it worked perfectly. Seems weird but it is like it is","title":"ManyToMany relationship not working when executing query (Spring Data JPA)","body":"<p>I've somehow solved the issue...\nIt seems that populating the relationships didn't work with UUIDs as identifiers. When I replaced them with longs it worked perfectly. Seems weird but it is like it is</p>\n"},{"tags":[],"owner":{"account_id":27270647,"reputation":11,"user_id":20792007,"display_name":"Yazan Sadieh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699613388,"creation_date":1699098056,"answer_id":77421861,"question_id":71511165,"body_markdown":"Try to use `List roles = new ArrayList&lt;&gt;()`\r\n\r\nIn my code, I have used Set with ManyToMany relationship and I didn&#39;t get any associated vale after I changed the Set to List. I didn&#39;t understand Why the Set with hashSet didn&#39;t work.","title":"ManyToMany relationship not working when executing query (Spring Data JPA)","body":"<p>Try to use <code>List roles = new ArrayList&lt;&gt;()</code></p>\n<p>In my code, I have used Set with ManyToMany relationship and I didn't get any associated vale after I changed the Set to List. I didn't understand Why the Set with hashSet didn't work.</p>\n"}],"owner":{"account_id":16856617,"reputation":51,"user_id":12188392,"display_name":"Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1699613388,"creation_date":1647514806,"question_id":71511165,"body_markdown":"I have a UserEntity and a RoleEntity.\r\nThe UserEntity contains a field &quot;roles&quot; which is of type HashSet&lt;RoleEntity&gt; and annotated with the @ManyToMany annotation.\r\nWhen calling my custom query &quot;findByEmail&quot; it successfully fetches the UserEntity, but the roles set keeps empty.\r\n\r\nHere some parts of the code:\r\n\r\n### UserEntity.java\r\n\r\n    package xyz.michaeltprojects.collchecklist.security.persistence;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Email;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.UUID;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class UserEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private UUID id;\r\n    \r\n        @NotBlank\r\n        @Size(min = 3, max = 30)\r\n        private String username;\r\n    \r\n        @NotBlank\r\n        @Size(min = 6, max = 50)\r\n        @Email\r\n        private String email;\r\n    \r\n        @NotBlank\r\n        @Size(max = 120)\r\n        private String password;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n        private Set&lt;RoleEntity&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\n### RoleEntity.java\r\n\r\n    package xyz.michaeltprojects.collchecklist.security.persistence;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.UUID;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;roles&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class RoleEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private UUID id;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(length = 20)\r\n        private ERole name;\r\n    \r\n    }\r\n\r\n### UserRepository.java\r\n\r\n    package xyz.michaeltprojects.collchecklist.security.persistence;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.Optional;\r\n    import java.util.UUID;\r\n    \r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;UserEntity, UUID&gt; {\r\n    \r\n        Optional&lt;UserEntity&gt; findByEmail(String email);\r\n        Boolean existsByUsername(String username);\r\n        Boolean existsByEmail(String email);\r\n    \r\n    }\r\n\r\n### Debug Output when calling findByEmail method\r\n\r\n[![UserEntity response object from findByEmail method][1]][1]\r\n\r\n\r\n### Database tables &quot;user_roles&quot; and &quot;roles&quot;\r\n\r\n[![user_roles table][2]][2]\r\n\r\n[![roles table][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H3nS2.png\r\n  [2]: https://i.stack.imgur.com/2YPkY.png\r\n  [3]: https://i.stack.imgur.com/vWXT3.png","title":"ManyToMany relationship not working when executing query (Spring Data JPA)","body":"<p>I have a UserEntity and a RoleEntity.\nThe UserEntity contains a field &quot;roles&quot; which is of type HashSet and annotated with the @ManyToMany annotation.\nWhen calling my custom query &quot;findByEmail&quot; it successfully fetches the UserEntity, but the roles set keeps empty.</p>\n<p>Here some parts of the code:</p>\n<h3>UserEntity.java</h3>\n<pre><code>package xyz.michaeltprojects.collchecklist.security.persistence;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;users&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @NotBlank\n    @Size(min = 3, max = 30)\n    private String username;\n\n    @NotBlank\n    @Size(min = 6, max = 50)\n    @Email\n    private String email;\n\n    @NotBlank\n    @Size(max = 120)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;RoleEntity&gt; roles = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<h3>RoleEntity.java</h3>\n<pre><code>package xyz.michaeltprojects.collchecklist.security.persistence;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;roles&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class RoleEntity {\n\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private ERole name;\n\n}\n</code></pre>\n<h3>UserRepository.java</h3>\n<pre><code>package xyz.michaeltprojects.collchecklist.security.persistence;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\nimport java.util.UUID;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserEntity, UUID&gt; {\n\n    Optional&lt;UserEntity&gt; findByEmail(String email);\n    Boolean existsByUsername(String username);\n    Boolean existsByEmail(String email);\n\n}\n</code></pre>\n<h3>Debug Output when calling findByEmail method</h3>\n<p><a href=\"https://i.stack.imgur.com/H3nS2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H3nS2.png\" alt=\"UserEntity response object from findByEmail method\" /></a></p>\n<h3>Database tables &quot;user_roles&quot; and &quot;roles&quot;</h3>\n<p><a href=\"https://i.stack.imgur.com/2YPkY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YPkY.png\" alt=\"user_roles table\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/vWXT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWXT3.png\" alt=\"roles table\" /></a></p>\n"},{"tags":["java","docker","intellij-idea"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1699612184,"post_id":77459258,"comment_id":136556805,"body_markdown":"You&#39;re running IntelliJ on the local machine but want it to use the JDK installed on the container? That seems more than weird, of course you install the JDK you need on the machine you&#39;re running your IDE. Is the container even running while you&#39;re using IntelliJ?","body":"You&#39;re running IntelliJ on the local machine but want it to use the JDK installed on the container? That seems more than weird, of course you install the JDK you need on the machine you&#39;re running your IDE. Is the container even running while you&#39;re using IntelliJ?"},{"owner":{"account_id":26580753,"reputation":156,"user_id":20205446,"display_name":"Olga M"},"score":0,"creation_date":1699614612,"post_id":77459258,"comment_id":136557207,"body_markdown":"Hi! If I understand you correctly, you need the functionality described in [this feature request](https://youtrack.jetbrains.com/issue/IDEA-194266) in YouTrack. Please, feel free to upvote it to show your interest.","body":"Hi! If I understand you correctly, you need the functionality described in <a href=\"https://youtrack.jetbrains.com/issue/IDEA-194266\" rel=\"nofollow noreferrer\">this feature request</a> in YouTrack. Please, feel free to upvote it to show your interest."}],"owner":{"account_id":3627477,"reputation":1,"user_id":3024682,"display_name":"baldygeezer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699611874,"creation_date":1699611874,"question_id":77459258,"body_markdown":"I am working with a Spring-boot application using IntelliJ. I am trying to get it running in Docker and have got it building and running fine in a container.  My problem is that the IDE cannot see the JDK in the container and so does not index my classes. This means I have no code completion in IntelliJ.\r\n\r\n I could install a local JDK and point IntelliJ at that, but it seems like a bad idea to be using two JDKs. I would prefer all the dependencies to be in Docker so that I and other developers have only one configuration and don’t have to locally install anything other than Docker to develop, build, and run it.","title":"No code completion in dockerised Java application","body":"<p>I am working with a Spring-boot application using IntelliJ. I am trying to get it running in Docker and have got it building and running fine in a container.  My problem is that the IDE cannot see the JDK in the container and so does not index my classes. This means I have no code completion in IntelliJ.</p>\n<p>I could install a local JDK and point IntelliJ at that, but it seems like a bad idea to be using two JDKs. I would prefer all the dependencies to be in Docker so that I and other developers have only one configuration and don’t have to locally install anything other than Docker to develop, build, and run it.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":2,"creation_date":1625464718,"post_id":68251197,"comment_id":120624450,"body_markdown":"Just look for some of the common syntax differences: Java requires a semicolon at the end of most statements, kotlin does not. Kotlin has a `val` keyword for declarations, Java does not (AFAIK). Kotlin uses `?` at the end of type names to mark a nullable type, Java does not.","body":"Just look for some of the common syntax differences: Java requires a semicolon at the end of most statements, kotlin does not. Kotlin has a <code>val</code> keyword for declarations, Java does not (AFAIK). Kotlin uses <code>?</code> at the end of type names to mark a nullable type, Java does not."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1625464716,"creation_date":1625464716,"answer_id":68251298,"question_id":68251197,"body_markdown":"Kotlin files have extensions `.kt`, Java ones `.java`. besides that easiest way for distinguishing would be to check semicolons `;` at the end of some/most of lines in Java, while in Kotlin they aren&#39;t required. another way: in Kotlin you will find `val` and `var` keywords, commonly used and not present in Java code\r\n\r\nif you don&#39;t know how to distinguish two languages then probably you should start some coding learning, not opening some foreign project","title":"How can you tell if your Android app is using Kotlin or Java in Android Studio?","body":"<p>Kotlin files have extensions <code>.kt</code>, Java ones <code>.java</code>. besides that easiest way for distinguishing would be to check semicolons <code>;</code> at the end of some/most of lines in Java, while in Kotlin they aren't required. another way: in Kotlin you will find <code>val</code> and <code>var</code> keywords, commonly used and not present in Java code</p>\n<p>if you don't know how to distinguish two languages then probably you should start some coding learning, not opening some foreign project</p>\n"},{"comments":[{"owner":{"account_id":1264087,"reputation":2239,"user_id":1221780,"display_name":"oliversisson"},"score":0,"creation_date":1676033527,"post_id":68251560,"comment_id":133060763,"body_markdown":"I&#39;m ignorant on this topic, so bear with me. My project doesn&#39;t have a MainActivity, but in the AndroidManifest.xml there&#39;s an `&lt;activity ...` with \n```&lt;intent-filter&gt;\n&lt;action ... .action.MAIN&quot;/&gt;\n&lt;category... .category.LAUNCHER&quot;/&gt;\n```\nThe `android:name` seems to point to a `.kt` file so I guess it&#39;s Kotlin.","body":"I&#39;m ignorant on this topic, so bear with me. My project doesn&#39;t have a MainActivity, but in the AndroidManifest.xml there&#39;s an <code>&lt;activity ...</code> with  <code>&lt;intent-filter&gt; &lt;action ... .action.MAIN&quot;&#47;&gt; &lt;category... .category.LAUNCHER&quot;&#47;&gt; </code> The <code>android:name</code> seems to point to a <code>.kt</code> file so I guess it&#39;s Kotlin."},{"owner":{"account_id":16958807,"reputation":416,"user_id":12266434,"display_name":"Sarvesh Hon"},"score":0,"creation_date":1676805781,"post_id":68251560,"comment_id":133207793,"body_markdown":"@oliversissonyes it&#39;s a Kotlin project","body":"@oliversissonyes it&#39;s a Kotlin project"}],"tags":[],"owner":{"account_id":16958807,"reputation":416,"user_id":12266434,"display_name":"Sarvesh Hon"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625466394,"creation_date":1625466394,"answer_id":68251560,"question_id":68251197,"body_markdown":"Just Check your Activity Name\r\n\r\nFor Java App\r\n\r\n    MainActivity.java -&gt; (.java) -&gt; It&#39;s Java App\r\n\r\nFor Kotlin App\r\n\r\n    MainActivity.kt -&gt; (.kt) -&gt; It&#39;s Kotlin App\r\n\r\n","title":"How can you tell if your Android app is using Kotlin or Java in Android Studio?","body":"<p>Just Check your Activity Name</p>\n<p>For Java App</p>\n<pre><code>MainActivity.java -&gt; (.java) -&gt; It's Java App\n</code></pre>\n<p>For Kotlin App</p>\n<pre><code>MainActivity.kt -&gt; (.kt) -&gt; It's Kotlin App\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23297249,"reputation":94,"user_id":17394517,"display_name":"shanaka prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699611637,"creation_date":1699611637,"answer_id":77459236,"question_id":68251197,"body_markdown":"01. Check File Extensions:\r\n\r\nKotlin files typically have the extension .kt.\r\nJava files typically have the extension .java.\r\nLook in your project&#39;s source code directory for files with these extensions.\r\n\r\n02. View Project Structure:\r\n\r\nIn Android Studio, you can view the project structure in the &quot;Project&quot; view on the left side of the IDE.\r\nKotlin files are usually located in the src/main/kotlin directory.\r\nJava files are usually located in the src/main/java directory.\r\n\r\n03. Check Build Files:\r\n\r\nOpen the build.gradle files in your project.\r\nIf you see dependencies like implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk7&#39;, it indicates Kotlin usage.\r\nIf you see dependencies like implementation &#39;com.android.tools.build:gradle&#39;, it indicates a Java project.\r\n\r\n04. Check Language Features:\r\n\r\nOpen a source code file (.kt or .java) and look for language-specific features.\r\nKotlin has certain features like val for read-only properties, extension functions, etc., that are not present in Java.","title":"How can you tell if your Android app is using Kotlin or Java in Android Studio?","body":"<ol>\n<li>Check File Extensions:</li>\n</ol>\n<p>Kotlin files typically have the extension .kt.\nJava files typically have the extension .java.\nLook in your project's source code directory for files with these extensions.</p>\n<ol start=\"2\">\n<li>View Project Structure:</li>\n</ol>\n<p>In Android Studio, you can view the project structure in the &quot;Project&quot; view on the left side of the IDE.\nKotlin files are usually located in the src/main/kotlin directory.\nJava files are usually located in the src/main/java directory.</p>\n<ol start=\"3\">\n<li>Check Build Files:</li>\n</ol>\n<p>Open the build.gradle files in your project.\nIf you see dependencies like implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7', it indicates Kotlin usage.\nIf you see dependencies like implementation 'com.android.tools.build:gradle', it indicates a Java project.</p>\n<ol start=\"4\">\n<li>Check Language Features:</li>\n</ol>\n<p>Open a source code file (.kt or .java) and look for language-specific features.\nKotlin has certain features like val for read-only properties, extension functions, etc., that are not present in Java.</p>\n"}],"owner":{"account_id":10323210,"reputation":31,"user_id":7615412,"display_name":"Scott Everhart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2154,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1699611637,"creation_date":1625463846,"question_id":68251197,"body_markdown":"How can you tell if your Android app is using Kotlin or Java in Android Studio?\r\n\r\nI am extremely new to Android app creation still. \r\n\r\nI have looked at the code, but I am enough of a novice that it is hard to tell for sure. \r\n\r\nI tried Googling this question and all that seems to come up is articles about which to use, java or Kotlin. \r\n\r\nPlease help. Thanks. ","title":"How can you tell if your Android app is using Kotlin or Java in Android Studio?","body":"<p>How can you tell if your Android app is using Kotlin or Java in Android Studio?</p>\n<p>I am extremely new to Android app creation still.</p>\n<p>I have looked at the code, but I am enough of a novice that it is hard to tell for sure.</p>\n<p>I tried Googling this question and all that seems to come up is articles about which to use, java or Kotlin.</p>\n<p>Please help. Thanks.</p>\n"},{"tags":["java","image","jpeg","javax.imageio"],"comments":[{"owner":{"account_id":779,"reputation":4357,"user_id":1012,"display_name":"simonlord"},"score":0,"creation_date":1268134604,"post_id":2408613,"comment_id":2389055,"body_markdown":"Would be useful to see the stacktrace from the exception.","body":"Would be useful to see the stacktrace from the exception."},{"owner":{"account_id":128253,"reputation":8594,"user_id":1051355,"accept_rate":75,"display_name":"math"},"score":8,"creation_date":1385108761,"post_id":2408613,"comment_id":30016248,"body_markdown":"Please restore the images!","body":"Please restore the images!"}],"answers":[{"comments":[{"owner":{"account_id":72635,"reputation":1333,"user_id":209641,"accept_rate":84,"display_name":"Malakim"},"score":0,"creation_date":1268138444,"post_id":2408779,"comment_id":2389501,"body_markdown":"Excellent, I will give it a try. Will it work for RGB images as well, or will I need to detect the type somehow?","body":"Excellent, I will give it a try. Will it work for RGB images as well, or will I need to detect the type somehow?"},{"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"score":0,"creation_date":1268138838,"post_id":2408779,"comment_id":2389537,"body_markdown":"You will find many ways to detect the color model, my preferred is using JPEGImageReader, if it throws `Unsupported Image Type` exception then its most probably CMYK.","body":"You will find many ways to detect the color model, my preferred is using JPEGImageReader, if it throws <code>Unsupported Image Type</code> exception then its most probably CMYK."},{"owner":{"account_id":72635,"reputation":1333,"user_id":209641,"accept_rate":84,"display_name":"Malakim"},"score":1,"creation_date":1268159425,"post_id":2408779,"comment_id":2392444,"body_markdown":"This works well enough, however, the colors gets all messed up. See the new image I&#39;ve attached to the question. Do you have any advice regarding this?\n\nThanks!","body":"This works well enough, however, the colors gets all messed up. See the new image I&#39;ve attached to the question. Do you have any advice regarding this?  Thanks!"},{"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"score":0,"creation_date":1268205005,"post_id":2408779,"comment_id":2396584,"body_markdown":"Yea, the color bleed is usual. Maybe you should try to use Javas `ColorConvertOp`, but not sure if it will help either. There is many ways of converting from one color model to another if thats your interest. I only gave the simplest one.   \nIf its a one time image, i would say just save it to RGB model in a professional image editing software.","body":"Yea, the color bleed is usual. Maybe you should try to use Javas <code>ColorConvertOp</code>, but not sure if it will help either. There is many ways of converting from one color model to another if thats your interest. I only gave the simplest one.    If its a one time image, i would say just save it to RGB model in a professional image editing software."},{"owner":{"account_id":72635,"reputation":1333,"user_id":209641,"accept_rate":84,"display_name":"Malakim"},"score":0,"creation_date":1268206297,"post_id":2408779,"comment_id":2396666,"body_markdown":"OK, problem is I don&#39;t have control over what images the users will upload. So I guess I&#39;ll need to look deeper into the color model conversions to support any JPEG&#39;s the users might throw at the application.\n\nThank you so much for the help.","body":"OK, problem is I don&#39;t have control over what images the users will upload. So I guess I&#39;ll need to look deeper into the color model conversions to support any JPEG&#39;s the users might throw at the application.  Thank you so much for the help."},{"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"score":0,"creation_date":1268207776,"post_id":2408779,"comment_id":2396801,"body_markdown":"in that case you should make a function to check the image model before processing it. Check this http://forums.sun.com/thread.jspa?threadID=5391316\n\n  good luck :)","body":"in that case you should make a function to check the image model before processing it. Check this <a href=\"http://forums.sun.com/thread.jspa?threadID=5391316\" rel=\"nofollow noreferrer\">forums.sun.com/thread.jspa?threadID=5391316</a>    good luck :)"},{"owner":{"account_id":103138,"reputation":5722,"user_id":276403,"display_name":"torak"},"score":0,"creation_date":1271182442,"post_id":2408779,"comment_id":2645366,"body_markdown":"+1 Thanks for the solution. Now work on color model conversion.","body":"+1 Thanks for the solution. Now work on color model conversion."},{"owner":{"account_id":7008128,"reputation":446,"user_id":5371889,"accept_rate":75,"display_name":"FunnyJava"},"score":0,"creation_date":1529657907,"post_id":2408779,"comment_id":88963443,"body_markdown":"this fix is ok, but it threw `ArrayIndexOutOfBoundsException` on `bi.getRaster().setRect(raster);` when processing a 2nd image.","body":"this fix is ok, but it threw <code>ArrayIndexOutOfBoundsException</code> on <code>bi.getRaster().setRect(raster);</code> when processing a 2nd image."}],"tags":[],"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"comment_count":8,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1699611505,"creation_date":1268136069,"answer_id":2408779,"question_id":2408613,"body_markdown":"Your image &quot;Color Model&quot; is CMYK, `JPEGImageReader` (the inner class that reads your file) reads only RGB Color Model.\r\n\r\nIf you need to read CMYK images, then you will need to convert them, try this code.\r\n\r\n**UPDATE**\r\n\r\nRead a CMYK image into RGB BufferedImage.\r\n\r\n\t\tFile f = new File(&quot;/path/imagefile.jpg&quot;);\r\n\t\t\r\n\t\t//Find a suitable ImageReader\r\n\t\tIterator readers = ImageIO.getImageReadersByFormatName(&quot;JPEG&quot;);\r\n\t\tImageReader reader = null;\r\n\t\twhile(readers.hasNext()) {\r\n\t\t\treader = (ImageReader)readers.next();\r\n\t\t\tif(reader.canReadRaster()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n        \r\n\t\t//Stream the image file (the original CMYK image)\r\n\t\tImageInputStream input =   ImageIO.createImageInputStream(f); \r\n\t\treader.setInput(input); \r\n\t\t\r\n\t\t//Read the image raster\r\n\t\tRaster raster = reader.readRaster(0, null); \r\n\t\t  \r\n\t\t//Create a new RGB image\r\n\t\tBufferedImage bi = new BufferedImage(raster.getWidth(), raster.getHeight(), \r\n\t\tBufferedImage.TYPE_4BYTE_ABGR); \r\n\t\t\r\n\t\t//Fill the new image with the old raster\r\n\t\tbi.getRaster().setRect(raster);\r\n\r\n\r\n\r\n**UPDATE - March 2015 - Adding simulation images**\r\n\r\nOriginal images were removed from OP&#39;s dropbox. So I&#39;m adding new images (not the originals) that simulates the problem that was happening with them.\r\n\r\n**First image** is how a normal RGB image looks like.\r\n\r\n![Image RGB][1]\r\n\r\n**Second image** is how the same image will look like in CMYK color model.\r\n\r\nYou cannot actually see how it looks on the web because it will be converted to RGB by the host. To see exactly how it looks, take the RGB image and run it through an RGB to CMYK converter.\r\n\r\n**Third image** is how the CMYK image will look like when read then written using Java ImageIO.\r\n\r\n![Image CMYK read through Java RGB][2]\r\n\r\nThe problem that was happening with OP is they had something like image 2 which throws an exception when you try to read it.\r\n\r\n  [1]: http://i.stack.imgur.com/rIq8v.jpg\r\n  [2]: http://i.stack.imgur.com/ipZqf.jpg","title":"Unable to read JPEG image using ImageIO.read(File file)","body":"<p>Your image &quot;Color Model&quot; is CMYK, <code>JPEGImageReader</code> (the inner class that reads your file) reads only RGB Color Model.</p>\n<p>If you need to read CMYK images, then you will need to convert them, try this code.</p>\n<p><strong>UPDATE</strong></p>\n<p>Read a CMYK image into RGB BufferedImage.</p>\n<pre><code>    File f = new File(&quot;/path/imagefile.jpg&quot;);\n    \n    //Find a suitable ImageReader\n    Iterator readers = ImageIO.getImageReadersByFormatName(&quot;JPEG&quot;);\n    ImageReader reader = null;\n    while(readers.hasNext()) {\n        reader = (ImageReader)readers.next();\n        if(reader.canReadRaster()) {\n            break;\n        }\n    }\n    \n    //Stream the image file (the original CMYK image)\n    ImageInputStream input =   ImageIO.createImageInputStream(f); \n    reader.setInput(input); \n    \n    //Read the image raster\n    Raster raster = reader.readRaster(0, null); \n      \n    //Create a new RGB image\n    BufferedImage bi = new BufferedImage(raster.getWidth(), raster.getHeight(), \n    BufferedImage.TYPE_4BYTE_ABGR); \n    \n    //Fill the new image with the old raster\n    bi.getRaster().setRect(raster);\n</code></pre>\n<p><strong>UPDATE - March 2015 - Adding simulation images</strong></p>\n<p>Original images were removed from OP's dropbox. So I'm adding new images (not the originals) that simulates the problem that was happening with them.</p>\n<p><strong>First image</strong> is how a normal RGB image looks like.</p>\n<p><img src=\"https://i.stack.imgur.com/rIq8v.jpg\" alt=\"Image RGB\" /></p>\n<p><strong>Second image</strong> is how the same image will look like in CMYK color model.</p>\n<p>You cannot actually see how it looks on the web because it will be converted to RGB by the host. To see exactly how it looks, take the RGB image and run it through an RGB to CMYK converter.</p>\n<p><strong>Third image</strong> is how the CMYK image will look like when read then written using Java ImageIO.</p>\n<p><img src=\"https://i.stack.imgur.com/ipZqf.jpg\" alt=\"Image CMYK read through Java RGB\" /></p>\n<p>The problem that was happening with OP is they had something like image 2 which throws an exception when you try to read it.</p>\n"},{"comments":[{"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"score":1,"creation_date":1470683567,"post_id":6535408,"comment_id":65039152,"body_markdown":"This was the only answer I found that fixes the issue with green tints on JPEGs that has several questions on SO.","body":"This was the only answer I found that fixes the issue with green tints on JPEGs that has several questions on SO."}],"tags":[],"owner":{"account_id":23783,"reputation":7527,"user_id":59869,"accept_rate":74,"display_name":"enkor"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1309440125,"creation_date":1309440125,"answer_id":6535408,"question_id":2408613,"body_markdown":"I found [ https://stackoverflow.com/questions/22409...][1] on here as well, this one does a great colour conversion\r\n\r\nAnd combined both to get this:\r\n\r\n    private BufferedImage convertCMYK2RGB(BufferedImage image) throws IOException{\r\n\t    log.info(&quot;Converting a CYMK image to RGB&quot;);\r\n        //Create a new RGB image\r\n        BufferedImage rgbImage = new BufferedImage(image.getWidth(), image.getHeight(),\r\n        BufferedImage.TYPE_3BYTE_BGR);\r\n        // then do a funky color convert\r\n        ColorConvertOp op = new ColorConvertOp(null);\r\n        op.filter(image, rgbImage);\r\n        return rgbImage;\r\n\t}\r\n\r\n  [1]: https://stackoverflow.com/questions/22409/how-do-i-convert-images-between-cmyk-and-rgb-in-coldfusion-java","title":"Unable to read JPEG image using ImageIO.read(File file)","body":"<p>I found <a href=\"https://stackoverflow.com/questions/22409/how-do-i-convert-images-between-cmyk-and-rgb-in-coldfusion-java\"> https://stackoverflow.com/questions/22409...</a> on here as well, this one does a great colour conversion</p>\n\n<p>And combined both to get this:</p>\n\n<pre><code>private BufferedImage convertCMYK2RGB(BufferedImage image) throws IOException{\n    log.info(\"Converting a CYMK image to RGB\");\n    //Create a new RGB image\n    BufferedImage rgbImage = new BufferedImage(image.getWidth(), image.getHeight(),\n    BufferedImage.TYPE_3BYTE_BGR);\n    // then do a funky color convert\n    ColorConvertOp op = new ColorConvertOp(null);\n    op.filter(image, rgbImage);\n    return rgbImage;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198549,"reputation":864,"user_id":443283,"accept_rate":100,"display_name":"Omertron"},"score":4,"creation_date":1347885677,"post_id":11775450,"comment_id":16756661,"body_markdown":"From the API documentation:   `Note that the classes in the com.sun.image.codec.jpeg package are not part of the core Java APIs. They are a part of Sun&#39;s JDK and JRE distributions. Although other licensees may choose to distribute these classes, developers cannot depend on their availability in non-Sun implementations. We expect that equivalent functionality will eventually be available in a core API or standard extension.`","body":"From the API documentation:   <code>Note that the classes in the com.sun.image.codec.jpeg package are not part of the core Java APIs. They are a part of Sun&#39;s JDK and JRE distributions. Although other licensees may choose to distribute these classes, developers cannot depend on their availability in non-Sun implementations. We expect that equivalent functionality will eventually be available in a core API or standard extension.</code>"}],"tags":[],"owner":{"account_id":1706279,"reputation":91,"user_id":1565260,"display_name":"Peter"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1343903420,"creation_date":1343902608,"answer_id":11775450,"question_id":2408613,"body_markdown":"`ImageIO.read()` -&gt; \r\n\r\n\r\n    File filePath = new File(&quot;C:\\\\Users\\\\chang\\\\Desktop\\\\05036877.jpg&quot;);\r\n    com.sun.image.codec.jpeg.JPEGImageDecoder jpegDecoder =  JPEGCodec.createJPEGDecoder (new FileInputStream(filePath));\r\n    \r\n    BufferedImage image = jpegDecoder.decodeAsBufferedImage();","title":"Unable to read JPEG image using ImageIO.read(File file)","body":"<p><code>ImageIO.read()</code> -> </p>\n\n<pre><code>File filePath = new File(\"C:\\\\Users\\\\chang\\\\Desktop\\\\05036877.jpg\");\ncom.sun.image.codec.jpeg.JPEGImageDecoder jpegDecoder =  JPEGCodec.createJPEGDecoder (new FileInputStream(filePath));\n\nBufferedImage image = jpegDecoder.decodeAsBufferedImage();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":1,"creation_date":1447457695,"post_id":12132805,"comment_id":55179051,"body_markdown":"This is the best answer I&#39;ve found on this, but don&#39;t you want to close the ImageInputStream in a finally block?","body":"This is the best answer I&#39;ve found on this, but don&#39;t you want to close the ImageInputStream in a finally block?"},{"owner":{"account_id":2530475,"reputation":81,"user_id":2198875,"display_name":"user2198875"},"score":0,"creation_date":1483633744,"post_id":12132805,"comment_id":70185485,"body_markdown":"Thanks for the code snippet, works fine.\n(ISOcoated_v2_300_eci.icc can be found here: http://www.humburg.de/?page=4 )","body":"Thanks for the code snippet, works fine. (ISOcoated_v2_300_eci.icc can be found here: <a href=\"http://www.humburg.de/?page=4\" rel=\"nofollow noreferrer\">humburg.de/?page=4</a> )"}],"tags":[],"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1346005893,"creation_date":1346005893,"answer_id":12132805,"question_id":2408613,"body_markdown":"I&#39;m a bit late to the party. But it&#39;s probably still worth that I post my answer as none of the answers really solves the problem.\r\n\r\nThe solution requires Sanselan (or Apache Commons Imaging as it&#39;s called now) and it requires a reasonable CMYK color profile (.icc file). You can get the later one from Adobe or from eci.org.\r\n\r\nThe basic problem is that Java - out of the box - can only read JPEG files in RGB. If you have a CMYK file, you need to distinguish between regular CMYK, Adobe CMYK (with inverted values, i.e. 255 for no ink and 0 for maximum ink) and Adobe CYYK (some variant with inverted colors as well).\r\n\r\n    public class JpegReader {\r\n    \r\n        public static final int COLOR_TYPE_RGB = 1;\r\n        public static final int COLOR_TYPE_CMYK = 2;\r\n        public static final int COLOR_TYPE_YCCK = 3;\r\n    \r\n        private int colorType = COLOR_TYPE_RGB;\r\n        private boolean hasAdobeMarker = false;\r\n    \r\n        public BufferedImage readImage(File file) throws IOException, ImageReadException {\r\n            colorType = COLOR_TYPE_RGB;\r\n            hasAdobeMarker = false;\r\n    \r\n            ImageInputStream stream = ImageIO.createImageInputStream(file);\r\n            Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(stream);\r\n            while (iter.hasNext()) {\r\n                ImageReader reader = iter.next();\r\n                reader.setInput(stream);\r\n    \r\n                BufferedImage image;\r\n                ICC_Profile profile = null;\r\n                try {\r\n                    image = reader.read(0);\r\n                } catch (IIOException e) {\r\n                    colorType = COLOR_TYPE_CMYK;\r\n                    checkAdobeMarker(file);\r\n                    profile = Sanselan.getICCProfile(file);\r\n                    WritableRaster raster = (WritableRaster) reader.readRaster(0, null);\r\n                    if (colorType == COLOR_TYPE_YCCK)\r\n                        convertYcckToCmyk(raster);\r\n                    if (hasAdobeMarker)\r\n                        convertInvertedColors(raster);\r\n                    image = convertCmykToRgb(raster, profile);\r\n                }\r\n    \r\n                return image;\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public void checkAdobeMarker(File file) throws IOException, ImageReadException {\r\n            JpegImageParser parser = new JpegImageParser();\r\n            ByteSource byteSource = new ByteSourceFile(file);\r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            ArrayList segments = parser.readSegments(byteSource, new int[] { 0xffee }, true);\r\n            if (segments != null &amp;&amp; segments.size() &gt;= 1) {\r\n                UnknownSegment app14Segment = (UnknownSegment) segments.get(0);\r\n                byte[] data = app14Segment.bytes;\r\n                if (data.length &gt;= 12 &amp;&amp; data[0] == &#39;A&#39; &amp;&amp; data[1] == &#39;d&#39; &amp;&amp; data[2] == &#39;o&#39; &amp;&amp; data[3] == &#39;b&#39; &amp;&amp; data[4] == &#39;e&#39;)\r\n                {\r\n                    hasAdobeMarker = true;\r\n                    int transform = app14Segment.bytes[11] &amp; 0xff;\r\n                    if (transform == 2)\r\n                        colorType = COLOR_TYPE_YCCK;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void convertYcckToCmyk(WritableRaster raster) {\r\n            int height = raster.getHeight();\r\n            int width = raster.getWidth();\r\n            int stride = width * 4;\r\n            int[] pixelRow = new int[stride];\r\n            for (int h = 0; h &lt; height; h++) {\r\n                raster.getPixels(0, h, width, 1, pixelRow);\r\n    \r\n                for (int x = 0; x &lt; stride; x += 4) {\r\n                    int y = pixelRow[x];\r\n                    int cb = pixelRow[x + 1];\r\n                    int cr = pixelRow[x + 2];\r\n    \r\n                    int c = (int) (y + 1.402 * cr - 178.956);\r\n                    int m = (int) (y - 0.34414 * cb - 0.71414 * cr + 135.95984);\r\n                    y = (int) (y + 1.772 * cb - 226.316);\r\n    \r\n                    if (c &lt; 0) c = 0; else if (c &gt; 255) c = 255;\r\n                    if (m &lt; 0) m = 0; else if (m &gt; 255) m = 255;\r\n                    if (y &lt; 0) y = 0; else if (y &gt; 255) y = 255;\r\n    \r\n                    pixelRow[x] = 255 - c;\r\n                    pixelRow[x + 1] = 255 - m;\r\n                    pixelRow[x + 2] = 255 - y;\r\n                }\r\n    \r\n                raster.setPixels(0, h, width, 1, pixelRow);\r\n            }\r\n        }\r\n    \r\n        public static void convertInvertedColors(WritableRaster raster) {\r\n            int height = raster.getHeight();\r\n            int width = raster.getWidth();\r\n            int stride = width * 4;\r\n            int[] pixelRow = new int[stride];\r\n            for (int h = 0; h &lt; height; h++) {\r\n                raster.getPixels(0, h, width, 1, pixelRow);\r\n                for (int x = 0; x &lt; stride; x++)\r\n                    pixelRow[x] = 255 - pixelRow[x];\r\n                raster.setPixels(0, h, width, 1, pixelRow);\r\n            }\r\n        }\r\n    \r\n        public static BufferedImage convertCmykToRgb(Raster cmykRaster, ICC_Profile cmykProfile) throws IOException {\r\n            if (cmykProfile == null)\r\n                cmykProfile = ICC_Profile.getInstance(JpegReader.class.getResourceAsStream(&quot;/ISOcoated_v2_300_eci.icc&quot;));\r\n            ICC_ColorSpace cmykCS = new ICC_ColorSpace(cmykProfile);\r\n            BufferedImage rgbImage = new BufferedImage(cmykRaster.getWidth(), cmykRaster.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n            WritableRaster rgbRaster = rgbImage.getRaster();\r\n            ColorSpace rgbCS = rgbImage.getColorModel().getColorSpace();\r\n            ColorConvertOp cmykToRgb = new ColorConvertOp(cmykCS, rgbCS, null);\r\n            cmykToRgb.filter(cmykRaster, rgbRaster);\r\n            return rgbImage;\r\n        }\r\n    }\r\n\r\nThe code first tries to read the file using the regular method, which works for RGB files. If it fails, it reads the details of the color model (profile, Adobe marker, Adobe variant). Then it reads the raw pixel data (raster) and does all the necessary conversion (YCCK to CMYK, inverted colors, CMYK to RGB).\r\n\r\nI&#39;m not quite satisfied with my solution. While the colors are mostly good, dark areas are slightly too bright, in particular black isn&#39;t fully black. If anyone knows what I could improve, I&#39;d be glad to hear it.\r\n","title":"Unable to read JPEG image using ImageIO.read(File file)","body":"<p>I'm a bit late to the party. But it's probably still worth that I post my answer as none of the answers really solves the problem.</p>\n\n<p>The solution requires Sanselan (or Apache Commons Imaging as it's called now) and it requires a reasonable CMYK color profile (.icc file). You can get the later one from Adobe or from eci.org.</p>\n\n<p>The basic problem is that Java - out of the box - can only read JPEG files in RGB. If you have a CMYK file, you need to distinguish between regular CMYK, Adobe CMYK (with inverted values, i.e. 255 for no ink and 0 for maximum ink) and Adobe CYYK (some variant with inverted colors as well).</p>\n\n<pre><code>public class JpegReader {\n\n    public static final int COLOR_TYPE_RGB = 1;\n    public static final int COLOR_TYPE_CMYK = 2;\n    public static final int COLOR_TYPE_YCCK = 3;\n\n    private int colorType = COLOR_TYPE_RGB;\n    private boolean hasAdobeMarker = false;\n\n    public BufferedImage readImage(File file) throws IOException, ImageReadException {\n        colorType = COLOR_TYPE_RGB;\n        hasAdobeMarker = false;\n\n        ImageInputStream stream = ImageIO.createImageInputStream(file);\n        Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(stream);\n        while (iter.hasNext()) {\n            ImageReader reader = iter.next();\n            reader.setInput(stream);\n\n            BufferedImage image;\n            ICC_Profile profile = null;\n            try {\n                image = reader.read(0);\n            } catch (IIOException e) {\n                colorType = COLOR_TYPE_CMYK;\n                checkAdobeMarker(file);\n                profile = Sanselan.getICCProfile(file);\n                WritableRaster raster = (WritableRaster) reader.readRaster(0, null);\n                if (colorType == COLOR_TYPE_YCCK)\n                    convertYcckToCmyk(raster);\n                if (hasAdobeMarker)\n                    convertInvertedColors(raster);\n                image = convertCmykToRgb(raster, profile);\n            }\n\n            return image;\n        }\n\n        return null;\n    }\n\n    public void checkAdobeMarker(File file) throws IOException, ImageReadException {\n        JpegImageParser parser = new JpegImageParser();\n        ByteSource byteSource = new ByteSourceFile(file);\n        @SuppressWarnings(\"rawtypes\")\n        ArrayList segments = parser.readSegments(byteSource, new int[] { 0xffee }, true);\n        if (segments != null &amp;&amp; segments.size() &gt;= 1) {\n            UnknownSegment app14Segment = (UnknownSegment) segments.get(0);\n            byte[] data = app14Segment.bytes;\n            if (data.length &gt;= 12 &amp;&amp; data[0] == 'A' &amp;&amp; data[1] == 'd' &amp;&amp; data[2] == 'o' &amp;&amp; data[3] == 'b' &amp;&amp; data[4] == 'e')\n            {\n                hasAdobeMarker = true;\n                int transform = app14Segment.bytes[11] &amp; 0xff;\n                if (transform == 2)\n                    colorType = COLOR_TYPE_YCCK;\n            }\n        }\n    }\n\n    public static void convertYcckToCmyk(WritableRaster raster) {\n        int height = raster.getHeight();\n        int width = raster.getWidth();\n        int stride = width * 4;\n        int[] pixelRow = new int[stride];\n        for (int h = 0; h &lt; height; h++) {\n            raster.getPixels(0, h, width, 1, pixelRow);\n\n            for (int x = 0; x &lt; stride; x += 4) {\n                int y = pixelRow[x];\n                int cb = pixelRow[x + 1];\n                int cr = pixelRow[x + 2];\n\n                int c = (int) (y + 1.402 * cr - 178.956);\n                int m = (int) (y - 0.34414 * cb - 0.71414 * cr + 135.95984);\n                y = (int) (y + 1.772 * cb - 226.316);\n\n                if (c &lt; 0) c = 0; else if (c &gt; 255) c = 255;\n                if (m &lt; 0) m = 0; else if (m &gt; 255) m = 255;\n                if (y &lt; 0) y = 0; else if (y &gt; 255) y = 255;\n\n                pixelRow[x] = 255 - c;\n                pixelRow[x + 1] = 255 - m;\n                pixelRow[x + 2] = 255 - y;\n            }\n\n            raster.setPixels(0, h, width, 1, pixelRow);\n        }\n    }\n\n    public static void convertInvertedColors(WritableRaster raster) {\n        int height = raster.getHeight();\n        int width = raster.getWidth();\n        int stride = width * 4;\n        int[] pixelRow = new int[stride];\n        for (int h = 0; h &lt; height; h++) {\n            raster.getPixels(0, h, width, 1, pixelRow);\n            for (int x = 0; x &lt; stride; x++)\n                pixelRow[x] = 255 - pixelRow[x];\n            raster.setPixels(0, h, width, 1, pixelRow);\n        }\n    }\n\n    public static BufferedImage convertCmykToRgb(Raster cmykRaster, ICC_Profile cmykProfile) throws IOException {\n        if (cmykProfile == null)\n            cmykProfile = ICC_Profile.getInstance(JpegReader.class.getResourceAsStream(\"/ISOcoated_v2_300_eci.icc\"));\n        ICC_ColorSpace cmykCS = new ICC_ColorSpace(cmykProfile);\n        BufferedImage rgbImage = new BufferedImage(cmykRaster.getWidth(), cmykRaster.getHeight(), BufferedImage.TYPE_INT_RGB);\n        WritableRaster rgbRaster = rgbImage.getRaster();\n        ColorSpace rgbCS = rgbImage.getColorModel().getColorSpace();\n        ColorConvertOp cmykToRgb = new ColorConvertOp(cmykCS, rgbCS, null);\n        cmykToRgb.filter(cmykRaster, rgbRaster);\n        return rgbImage;\n    }\n}\n</code></pre>\n\n<p>The code first tries to read the file using the regular method, which works for RGB files. If it fails, it reads the details of the color model (profile, Adobe marker, Adobe variant). Then it reads the raw pixel data (raster) and does all the necessary conversion (YCCK to CMYK, inverted colors, CMYK to RGB).</p>\n\n<p>I'm not quite satisfied with my solution. While the colors are mostly good, dark areas are slightly too bright, in particular black isn't fully black. If anyone knows what I could improve, I'd be glad to hear it.</p>\n"},{"comments":[{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":1,"creation_date":1367011231,"post_id":16149142,"comment_id":23242235,"body_markdown":"Thanks! I was wishing for something like this. Do you have a readme / docs? :) or should I just check the tests? Thanks again","body":"Thanks! I was wishing for something like this. Do you have a readme / docs? :) or should I just check the tests? Thanks again"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":4,"creation_date":1368022874,"post_id":16149142,"comment_id":23583851,"body_markdown":"Sorry, documentation is sparse at the moment. However, it&#39;s an ImageIO plugin, so if you just want to read a CMYK JPEG do the following: Build the JARs using Maven, place in classpath and ImageIO.read(cmykJPEGFile) should just work. Feel free to ask, if there&#39;s anything specific you&#39;d like to do. :-)","body":"Sorry, documentation is sparse at the moment. However, it&#39;s an ImageIO plugin, so if you just want to read a CMYK JPEG do the following: Build the JARs using Maven, place in classpath and ImageIO.read(cmykJPEGFile) should just work. Feel free to ask, if there&#39;s anything specific you&#39;d like to do. :-)"},{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":0,"creation_date":1492452705,"post_id":16149142,"comment_id":73969615,"body_markdown":"@haraldk Thanks! I&#39;ve thrown the .jars in /lib and my unit test is passing verifying that the reader does get returned but there&#39;s also another reader returned `com.sun.imageio.plugins.jpeg.JPEGImageReader` how do I know which is selected at runtime with `ImageIO.read` ?","body":"@haraldk Thanks! I&#39;ve thrown the .jars in /lib and my unit test is passing verifying that the reader does get returned but there&#39;s also another reader returned <code>com.sun.imageio.plugins.jpeg.JPEGImageReader</code> how do I know which is selected at runtime with <code>ImageIO.read</code> ?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1492454884,"post_id":16149142,"comment_id":73970770,"body_markdown":"@anon58192932 `ImageIO.read()` will use the first `ImageReader` capable of reading the input. When the TwelveMonkeys plugin is registered, it makes sure that it is always [ordered](https://docs.oracle.com/javase/7/docs/api/javax/imageio/spi/ServiceRegistry.html#setOrdering(java.lang.Class,%20T,%20T)) *before* the `com.sun...JPEGImageReader`. So, if these are the only plugins you see, the TwelveMonkeys one should be selected, always (and should always be the first in the iterator in your test).","body":"@anon58192932 <code>ImageIO.read()</code> will use the first <code>ImageReader</code> capable of reading the input. When the TwelveMonkeys plugin is registered, it makes sure that it is always <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/imageio/spi/ServiceRegistry.html#setOrdering(java.lang.Class,%20T,%20T)\" rel=\"nofollow noreferrer\">ordered</a> <i>before</i> the <code>com.sun...JPEGImageReader</code>. So, if these are the only plugins you see, the TwelveMonkeys one should be selected, always (and should always be the first in the iterator in your test)."},{"owner":{"account_id":963056,"reputation":994,"user_id":986966,"accept_rate":80,"display_name":"fall"},"score":1,"creation_date":1496305714,"post_id":16149142,"comment_id":75609859,"body_markdown":"This library works great, Both ``Unsupported Image Type`` and ``java.lang.IllegalArgumentException: Numbers of source Raster bands and source color space components do not match`` exceptions stopped showing up.","body":"This library works great, Both <code>Unsupported Image Type</code> and <code>java.lang.IllegalArgumentException: Numbers of source Raster bands and source color space components do not match</code> exceptions stopped showing up."}],"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":5,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1497337771,"creation_date":1366639441,"answer_id":16149142,"question_id":2408613,"body_markdown":"Old post, but for future reference:\r\n\r\nInspired by this question and links found here, I&#39;ve written a JPEGImageReader plugin for ImageIO that supports CMYK color models (both with original color model, or implicitly converted to RGB on read). The reader also does proper color conversion, using the ICC profile embedded in the JPEG stream, in contrast to other solutions mentioned here.\r\n\r\nIt&#39;s plain Java and does not require JAI. The source code and binary distributions are freely available at [github.com/haraldk/TwelveMonkeys](https://github.com/haraldk/TwelveMonkeys#jpeg), and is covered by a BSD-style license.\r\n\r\nOnce you have it installed, it allows you to read CMYK JPEGs using `ImageIO.read(...)` like this:\r\n\r\n    File cmykJPEGFile = new File(/*path*/);\r\n    BufferedImage image = ImageIO.read(cmykJPEGFile);\r\n\r\nI.e.: In most cases, it&#39;s not necessary to modify your code.","title":"Unable to read JPEG image using ImageIO.read(File file)","body":"<p>Old post, but for future reference:</p>\n\n<p>Inspired by this question and links found here, I've written a JPEGImageReader plugin for ImageIO that supports CMYK color models (both with original color model, or implicitly converted to RGB on read). The reader also does proper color conversion, using the ICC profile embedded in the JPEG stream, in contrast to other solutions mentioned here.</p>\n\n<p>It's plain Java and does not require JAI. The source code and binary distributions are freely available at <a href=\"https://github.com/haraldk/TwelveMonkeys#jpeg\" rel=\"noreferrer\">github.com/haraldk/TwelveMonkeys</a>, and is covered by a BSD-style license.</p>\n\n<p>Once you have it installed, it allows you to read CMYK JPEGs using <code>ImageIO.read(...)</code> like this:</p>\n\n<pre><code>File cmykJPEGFile = new File(/*path*/);\nBufferedImage image = ImageIO.read(cmykJPEGFile);\n</code></pre>\n\n<p>I.e.: In most cases, it's not necessary to modify your code.</p>\n"},{"tags":[],"owner":{"account_id":5654397,"reputation":121,"user_id":4474010,"display_name":"yaoning"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512026456,"creation_date":1512026456,"answer_id":47567918,"question_id":2408613,"body_markdown":"i fix it by this.\r\nonly need add this dependency. i can read CMYK image by ImageIO.\r\n[TwelveMonkeys][1]\r\n\r\n\r\n  [1]: https://github.com/haraldk/TwelveMonkeys#jpeg\r\n\r\n    ImageIO.read(new URL(&quot;http://img3.tianyancha.com/api/9b80a61183787909e719c77fd0f78103.png&quot;))\r\n\r\n","title":"Unable to read JPEG image using ImageIO.read(File file)","body":"<p>i fix it by this.\nonly need add this dependency. i can read CMYK image by ImageIO.\n<a href=\"https://github.com/haraldk/TwelveMonkeys#jpeg\" rel=\"nofollow noreferrer\">TwelveMonkeys</a></p>\n\n<pre><code>ImageIO.read(new URL(\"http://img3.tianyancha.com/api/9b80a61183787909e719c77fd0f78103.png\"))\n</code></pre>\n"}],"owner":{"account_id":72635,"reputation":1333,"user_id":209641,"accept_rate":84,"display_name":"Malakim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86728,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":2408779,"answer_count":6,"score":50,"last_activity_date":1699611505,"creation_date":1268134052,"question_id":2408613,"body_markdown":"I&#39;m having problems reading this one JPEG file using ImageIO.read(File file) - it throws an exception with the message &quot;Unsupported Image Type&quot;.\r\n\r\nI have tried other JPEG images, and they seem to work fine.\r\n\r\nThe only differance I&#39;ve been able to spot is that this file seems to include a thumbnail - is that known to cause problems with ImageIO.read()?\r\n\r\n![Troublesome image][1]\r\n\r\nEDIT:\r\n\r\nAdded the resulting image:\r\n\r\n![Strange colors][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/rIq8v.jpg\r\n  [2]: http://i.stack.imgur.com/ipZqf.jpg","title":"Unable to read JPEG image using ImageIO.read(File file)","body":"<p>I'm having problems reading this one JPEG file using ImageIO.read(File file) - it throws an exception with the message \"Unsupported Image Type\".</p>\n\n<p>I have tried other JPEG images, and they seem to work fine.</p>\n\n<p>The only differance I've been able to spot is that this file seems to include a thumbnail - is that known to cause problems with ImageIO.read()?</p>\n\n<p><img src=\"https://i.stack.imgur.com/rIq8v.jpg\" alt=\"Troublesome image\"></p>\n\n<p>EDIT:</p>\n\n<p>Added the resulting image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ipZqf.jpg\" alt=\"Strange colors\"></p>\n"},{"tags":["java","android","bluetooth"],"owner":{"account_id":29146629,"reputation":1,"user_id":22328402,"display_name":"eduardo henrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699611463,"creation_date":1699611463,"question_id":77459221,"body_markdown":"    @Override\r\n    public void onBindViewHolder(@NonNull ListAdapter.MyViewHolder holder, int position) {\r\n        device = pairedDevices.get(position);\r\n        holder.tvName.setText(device.getName());\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            Log.d(&quot;TAG&quot;, &quot;onBindViewHolder: &quot; + device);\r\n            new ConnectTask().execute(device);\r\n        });\r\n    }\r\n\r\n    private class ConnectTask extends AsyncTask&lt;BluetoothDevice, Void, Boolean&gt; {\r\n        @Override\r\n        protected Boolean doInBackground(BluetoothDevice... devices) {\r\n            UUID uuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\n            try {\r\n                BluetoothSocket socket = device.createRfcommSocketToServiceRecord(uuid);\r\n                socket.connect();\r\n                Log.d(&quot;Bluetooth&quot;, &quot;Conex&#227;o estabelecida com sucesso!&quot;);\r\n\r\n                return true;\r\n            } catch (IOException e) {\r\n                Log.e(&quot;Bluetooth&quot;, e.getMessage());\r\n                return false;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Boolean result) {\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m trying to connect my cell phone to another cell phone via Bluetooth socket, but it&#39;s not working, I&#39;m trying to find out what the error is","title":"error when trying to connect bluetooth socket: read failed, socket might closed or timeout, read ret: -1","body":"<pre><code>@Override\npublic void onBindViewHolder(@NonNull ListAdapter.MyViewHolder holder, int position) {\n    device = pairedDevices.get(position);\n    holder.tvName.setText(device.getName());\n\n    holder.itemView.setOnClickListener(v -&gt; {\n        Log.d(&quot;TAG&quot;, &quot;onBindViewHolder: &quot; + device);\n        new ConnectTask().execute(device);\n    });\n}\n\nprivate class ConnectTask extends AsyncTask&lt;BluetoothDevice, Void, Boolean&gt; {\n    @Override\n    protected Boolean doInBackground(BluetoothDevice... devices) {\n        UUID uuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n\n        try {\n            BluetoothSocket socket = device.createRfcommSocketToServiceRecord(uuid);\n            socket.connect();\n            Log.d(&quot;Bluetooth&quot;, &quot;Conexão estabelecida com sucesso!&quot;);\n\n            return true;\n        } catch (IOException e) {\n            Log.e(&quot;Bluetooth&quot;, e.getMessage());\n            return false;\n        }\n    }\n\n    @Override\n    protected void onPostExecute(Boolean result) {\n    }\n}\n</code></pre>\n<p>I'm trying to connect my cell phone to another cell phone via Bluetooth socket, but it's not working, I'm trying to find out what the error is</p>\n"},{"tags":["java","amazon-web-services","aws-cdk"],"owner":{"account_id":9886704,"reputation":1,"user_id":7321010,"display_name":"Sello L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699610550,"creation_date":1699522383,"question_id":77451966,"body_markdown":"I&#39;m currently trying to add Tags to an ELBs listener via CDK, I can do this on the console UI however even when I run CDK synth I see that the tags arent necessarily added, however this works when adding them directly to the ELB and only fails for the listener, documentation didn&#39;t really help to explain this issue.   \r\n\r\nExample code below.\r\n \r\n```\r\nApplicationListener listener = applicationLoadBalancer.addListener(ELB_LISTENER_REF_NAME, BaseApplicationListenerProps\r\n\t.builder()\r\n\t.protocol(ApplicationProtocol.HTTP)\r\n\t.port(port)\r\n\t.defaultAction(ListenerAction.fixedResponse(200, FixedResponseOptions.builder()\r\n\t.messageBody(&quot;OK&quot;)\r\n\t.contentType(&quot;text/plain&quot;)\r\n\t.build()))\r\n\t.build());\r\n\r\nTags.of(listener).add(&quot;env&quot;, ENVIRONMENT);\r\nTags.of(listener).add(&quot;elb-listener-name&quot;, ELB_LISTENER_REF_NAME);\r\nTags.of(listener).add(&quot;elb-port&quot;, port.toString());\r\n```\r\n\r\n\r\nTags to be added to the ELB Listener ","title":"CDK Wont add tags to ELB listener (Java)","body":"<p>I'm currently trying to add Tags to an ELBs listener via CDK, I can do this on the console UI however even when I run CDK synth I see that the tags arent necessarily added, however this works when adding them directly to the ELB and only fails for the listener, documentation didn't really help to explain this issue.</p>\n<p>Example code below.</p>\n<pre><code>ApplicationListener listener = applicationLoadBalancer.addListener(ELB_LISTENER_REF_NAME, BaseApplicationListenerProps\n    .builder()\n    .protocol(ApplicationProtocol.HTTP)\n    .port(port)\n    .defaultAction(ListenerAction.fixedResponse(200, FixedResponseOptions.builder()\n    .messageBody(&quot;OK&quot;)\n    .contentType(&quot;text/plain&quot;)\n    .build()))\n    .build());\n\nTags.of(listener).add(&quot;env&quot;, ENVIRONMENT);\nTags.of(listener).add(&quot;elb-listener-name&quot;, ELB_LISTENER_REF_NAME);\nTags.of(listener).add(&quot;elb-port&quot;, port.toString());\n</code></pre>\n<p>Tags to be added to the ELB Listener</p>\n"},{"tags":["java","build.gradle","okhttp","liferay-7"],"answers":[{"tags":[],"owner":{"account_id":12792117,"reputation":16,"user_id":9256308,"display_name":"Pibada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699610332,"creation_date":1699610332,"answer_id":77459120,"question_id":77314182,"body_markdown":"I had the same problem with a poi library, it worked for me by adding the line `-fixupmessages: Classes found in the wrong directory: ...;is:=ignore` in the `bnd.bnd` file, leave the compileInclude so the resources are part of your jar file.","title":"Import OkHttp to Liferay 7.4","body":"<p>I had the same problem with a poi library, it worked for me by adding the line <code>-fixupmessages: Classes found in the wrong directory: ...;is:=ignore</code> in the <code>bnd.bnd</code> file, leave the compileInclude so the resources are part of your jar file.</p>\n"}],"owner":{"account_id":235108,"reputation":247,"user_id":501706,"accept_rate":25,"display_name":"Zirui Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699610332,"creation_date":1697613343,"question_id":77314182,"body_markdown":"I made a Liferay 7.4 Service-Builder module, in which I needed to import `okhttp3`. First, I wrote in `build.gradle`:\r\n```\r\ncompileInclude &#39;com.squareup.okhttp3:okhttp:4.10.0&#39;\r\n```\r\nThen the Gradle build process produced an error:\r\n```\r\nerror  : Classes found in the wrong directory: {META-INF/versions/9/module-info.class=module-info}\r\n```\r\nAfter that I changed the `build.gradle` line to:\r\n```\r\ncompile &#39;com.squareup.okhttp3:okhttp:4.10.0&#39;\r\n```\r\nThe build process passed, but in deployment there was an exception:\r\n```\r\ncom.liferay.portal.kernel.log.LogSanitizerException: org.osgi.framework.BundleException: Could not resolve module: com.toptoken.core.service [1610]_  Unresolved requirement: Import-Package: okhttp3_ [Sanitized]\r\n        at org.eclipse.osgi.container.Module.start(Module.java:444) ~[org.eclipse.osgi.jar:?]\r\n        at org.eclipse.osgi.internal.framework.EquinoxBundle.start(EquinoxBundle.java:428) ~[org.eclipse.osgi.jar:?]\r\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._startBundle(DirectoryWatcher.java:1156) [bundleFile:?]\r\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._startBundles(DirectoryWatcher.java:1189) [bundleFile:?]\r\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._startAllBundles(DirectoryWatcher.java:1130) [bundleFile:?]\r\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._process(DirectoryWatcher.java:1041) [bundleFile:?]\r\n        at com.liferay.portal.file.install.internal.DirectoryWatcher.run(DirectoryWatcher.java:247) [bundleFile:?]\r\n```\r\nHow can I import the `okhttp3` library without errors?\r\n\r\nMy Java version is 11.\r\n\r\nAdding `Import-Package: okhttp3;version=&quot;[4.10,5)&quot;` or `Require-Bundle: okhttp3;version=&quot;[4.10,5)&quot;` to `bnd.bnd` didn&#39;t work.","title":"Import OkHttp to Liferay 7.4","body":"<p>I made a Liferay 7.4 Service-Builder module, in which I needed to import <code>okhttp3</code>. First, I wrote in <code>build.gradle</code>:</p>\n<pre><code>compileInclude 'com.squareup.okhttp3:okhttp:4.10.0'\n</code></pre>\n<p>Then the Gradle build process produced an error:</p>\n<pre><code>error  : Classes found in the wrong directory: {META-INF/versions/9/module-info.class=module-info}\n</code></pre>\n<p>After that I changed the <code>build.gradle</code> line to:</p>\n<pre><code>compile 'com.squareup.okhttp3:okhttp:4.10.0'\n</code></pre>\n<p>The build process passed, but in deployment there was an exception:</p>\n<pre><code>com.liferay.portal.kernel.log.LogSanitizerException: org.osgi.framework.BundleException: Could not resolve module: com.toptoken.core.service [1610]_  Unresolved requirement: Import-Package: okhttp3_ [Sanitized]\n        at org.eclipse.osgi.container.Module.start(Module.java:444) ~[org.eclipse.osgi.jar:?]\n        at org.eclipse.osgi.internal.framework.EquinoxBundle.start(EquinoxBundle.java:428) ~[org.eclipse.osgi.jar:?]\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._startBundle(DirectoryWatcher.java:1156) [bundleFile:?]\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._startBundles(DirectoryWatcher.java:1189) [bundleFile:?]\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._startAllBundles(DirectoryWatcher.java:1130) [bundleFile:?]\n        at com.liferay.portal.file.install.internal.DirectoryWatcher._process(DirectoryWatcher.java:1041) [bundleFile:?]\n        at com.liferay.portal.file.install.internal.DirectoryWatcher.run(DirectoryWatcher.java:247) [bundleFile:?]\n</code></pre>\n<p>How can I import the <code>okhttp3</code> library without errors?</p>\n<p>My Java version is 11.</p>\n<p>Adding <code>Import-Package: okhttp3;version=&quot;[4.10,5)&quot;</code> or <code>Require-Bundle: okhttp3;version=&quot;[4.10,5)&quot;</code> to <code>bnd.bnd</code> didn't work.</p>\n"},{"tags":["java","spring-boot","h2","spring-test"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1699511089,"post_id":77450827,"comment_id":136541702,"body_markdown":"Does this help? https://stackoverflow.com/questions/54805597/how-to-print-full-path-to-script-files-in-sql-annotation-in-spring-boot-test","body":"Does this help? <a href=\"https://stackoverflow.com/questions/54805597/how-to-print-full-path-to-script-files-in-sql-annotation-in-spring-boot-test\" title=\"how to print full path to script files in sql annotation in spring boot test\">stackoverflow.com/questions/54805597/&hellip;</a>"},{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1699512650,"post_id":77450827,"comment_id":136541861,"body_markdown":"Where are you storing your application.properties file It seems you&#39;re running a test env so what I would suggest is make a new resource folder inside your test and then make an application-test.properties and annotate @ActiveProfile to test that way you might abe to see the logs on console if it works let me know so that I can put complete Answer","body":"Where are you storing your application.properties file It seems you&#39;re running a test env so what I would suggest is make a new resource folder inside your test and then make an application-test.properties and annotate @ActiveProfile to test that way you might abe to see the logs on console if it works let me know so that I can put complete Answer"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1699512675,"post_id":77450827,"comment_id":136541865,"body_markdown":"@berse2212 It doesn&#39;t work with logging queries, not just script namess","body":"@berse2212 It doesn&#39;t work with logging queries, not just script namess"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1699513088,"post_id":77450827,"comment_id":136541919,"body_markdown":"@Daksharajkamal no, it doesn&#39;t. I still don&#39;t see the queries","body":"@Daksharajkamal no, it doesn&#39;t. I still don&#39;t see the queries"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1699520442,"post_id":77450827,"comment_id":136543125,"body_markdown":"@Kodigas I digged around in the SqlScriptsTestsExecutionListener and maybe this line might help:\n`logging.level.org.springframework.jdbc.datasource.init=DEBUG`","body":"@Kodigas I digged around in the SqlScriptsTestsExecutionListener and maybe this line might help: <code>logging.level.org.springframework.jdbc.datasource.init=DEBUG</code>"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699610012,"creation_date":1699609651,"answer_id":77459053,"question_id":77450827,"body_markdown":"If you want to see which `@Sql` **scripts** are being executed, set the `org.springframework.test.context.jdbc` logging category to `DEBUG`.\r\n\r\nIf you want to see which SQL **statements** are being executed, set the `org.springframework.jdbc.datasource.init` logging category to `DEBUG`.\r\n\r\nNote that I&#39;ve also opened a [ticket][1] to improve the documentation in Spring to reflect this.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/31589","title":"How do I ensure my @Sql queries are shown in my console log?","body":"<p>If you want to see which <code>@Sql</code> <strong>scripts</strong> are being executed, set the <code>org.springframework.test.context.jdbc</code> logging category to <code>DEBUG</code>.</p>\n<p>If you want to see which SQL <strong>statements</strong> are being executed, set the <code>org.springframework.jdbc.datasource.init</code> logging category to <code>DEBUG</code>.</p>\n<p>Note that I've also opened a <a href=\"https://github.com/spring-projects/spring-framework/issues/31589\" rel=\"nofollow noreferrer\">ticket</a> to improve the documentation in Spring to reflect this.</p>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77459053,"answer_count":1,"score":0,"last_activity_date":1699610012,"creation_date":1699510224,"question_id":77450827,"body_markdown":"Here&#39;s an MRE:\r\n```java\r\npackage com.example.h2_demo;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.test.context.jdbc.Sql;\r\n\r\n@DataJpaTest\r\n@Sql(\r\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n        scripts = {&quot;/create_user_table.sql&quot;, &quot;/insert_user.sql&quot;}\r\n)\r\npublic class H2DemoApplicationTest {\r\n    @Test\r\n    void testNothing() {\r\n    }\r\n\r\n    @Test\r\n    void testNothingOneMoreTime() {\r\n    }\r\n}\r\n```\r\n```sql\r\n-- create_user_table.sql\r\n\r\nCREATE TABLE IF NOT EXISTS users(\r\n  id INTEGER PRIMARY KEY,\r\n  name VARCHAR(50) NOT NULL,\r\n  last_name VARCHAR(50)\r\n);\r\n```\r\n```sql\r\n-- insert_user.sql\r\n\r\nINSERT INTO users\r\nVALUES (1, &#39;John&#39;, &#39;Doe&#39;);\r\n```\r\nI tinkered with the scripts a bit and now am fairly sure that the `@Sql` scripts *are* executed. However, it&#39;s not obvious when you look in the logs. No relevant `CREATE` or `INSERT` statements are present\r\n\r\nI did try every property I saw suggested on the Internet (including on StackOverflow). At this point, my properties are:\r\n```properties\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.use_sql_comments=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.type=trace\r\n\r\nlogging.level.org.springframework.jdbc.core=TRACE\r\nlogging.level.org.springframework.test.context.jdbc=debug\r\n```\r\nI double-checked and made sure that these values were present in the `application.properties` of the `target` folder\r\n\r\nNo logs still (sorry for the image, don&#39;t see a workaround)\r\n\r\n[text search for &quot;insert&quot; provides no matches][1]\r\n\r\nHow do I see those `@Sql` queries in my logs?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ABjS3.png","title":"How do I ensure my @Sql queries are shown in my console log?","body":"<p>Here's an MRE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.h2_demo;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.test.context.jdbc.Sql;\n\n@DataJpaTest\n@Sql(\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n        scripts = {&quot;/create_user_table.sql&quot;, &quot;/insert_user.sql&quot;}\n)\npublic class H2DemoApplicationTest {\n    @Test\n    void testNothing() {\n    }\n\n    @Test\n    void testNothingOneMoreTime() {\n    }\n}\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- create_user_table.sql\n\nCREATE TABLE IF NOT EXISTS users(\n  id INTEGER PRIMARY KEY,\n  name VARCHAR(50) NOT NULL,\n  last_name VARCHAR(50)\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- insert_user.sql\n\nINSERT INTO users\nVALUES (1, 'John', 'Doe');\n</code></pre>\n<p>I tinkered with the scripts a bit and now am fairly sure that the <code>@Sql</code> scripts <em>are</em> executed. However, it's not obvious when you look in the logs. No relevant <code>CREATE</code> or <code>INSERT</code> statements are present</p>\n<p>I did try every property I saw suggested on the Internet (including on StackOverflow). At this point, my properties are:</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.type=trace\n\nlogging.level.org.springframework.jdbc.core=TRACE\nlogging.level.org.springframework.test.context.jdbc=debug\n</code></pre>\n<p>I double-checked and made sure that these values were present in the <code>application.properties</code> of the <code>target</code> folder</p>\n<p>No logs still (sorry for the image, don't see a workaround)</p>\n<p><a href=\"https://i.stack.imgur.com/ABjS3.png\" rel=\"nofollow noreferrer\">text search for &quot;insert&quot; provides no matches</a></p>\n<p>How do I see those <code>@Sql</code> queries in my logs?</p>\n"},{"tags":["java","spring-boot","spring-shell"],"answers":[{"tags":[],"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699609648,"creation_date":1671613878,"answer_id":74873658,"question_id":74560916,"body_markdown":"I can&#39;t tell which version of spring-shell that you are using. A possible solution with Spring Shell 3.0.0-M3 and Spring Boot 3.0.0:\r\n\r\n```java\r\npublic class CommandDemo {\r\n\r\n    @ShellMethod(value = &quot;This command is used to greet a user&quot;)\r\n    public void greet(\r\n            @ShellOption(help = &quot;Give the name to greet&quot;, defaultValue = &quot;User&quot;) String name,\r\n            @ShellOption(help = &quot;Give the city name you are from&quot;) String city\r\n    ) {\r\n        String message = &quot;Hello &quot; + name;\r\n        if (city != null &amp;&amp; !city.isEmpty()) {\r\n            message += &quot;, I&#39;m from &quot; + city;\r\n        }\r\n\r\n        System.out.println(message);\r\n     }\r\n}\r\n```\r\n\r\nThe resulting help:\r\n\r\n    shell:&gt;help greet\r\n    NAME\r\n           greet - This command is used to greet a user\r\n    \r\n    SYNOPSIS\r\n           greet --name String [--city String]\r\n    \r\n    OPTIONS\r\n           --name String\r\n           Give the name to greet\r\n           [Optional, default = User]\r\n    \r\n           --city String\r\n           Give the city name you are from\r\n           [Mandatory]\r\n\r\nTest 1:\r\n\r\n```lang-plaintext\r\nshell:&gt;greet --name john --city denver\r\nHello john, I&#39;m from denver\r\n```\r\n\r\nTest 2:\r\n\r\n```lang-plaintext\r\nshell:&gt;greet john denver\r\nHello john, I&#39;m from denver\r\n```\r\n","title":"Unable to use optional parameters in Spring-shell","body":"<p>I can't tell which version of spring-shell that you are using. A possible solution with Spring Shell 3.0.0-M3 and Spring Boot 3.0.0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CommandDemo {\n\n    @ShellMethod(value = &quot;This command is used to greet a user&quot;)\n    public void greet(\n            @ShellOption(help = &quot;Give the name to greet&quot;, defaultValue = &quot;User&quot;) String name,\n            @ShellOption(help = &quot;Give the city name you are from&quot;) String city\n    ) {\n        String message = &quot;Hello &quot; + name;\n        if (city != null &amp;&amp; !city.isEmpty()) {\n            message += &quot;, I'm from &quot; + city;\n        }\n\n        System.out.println(message);\n     }\n}\n</code></pre>\n<p>The resulting help:</p>\n<pre><code>shell:&gt;help greet\nNAME\n       greet - This command is used to greet a user\n\nSYNOPSIS\n       greet --name String [--city String]\n\nOPTIONS\n       --name String\n       Give the name to greet\n       [Optional, default = User]\n\n       --city String\n       Give the city name you are from\n       [Mandatory]\n</code></pre>\n<p>Test 1:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>shell:&gt;greet --name john --city denver\nHello john, I'm from denver\n</code></pre>\n<p>Test 2:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>shell:&gt;greet john denver\nHello john, I'm from denver\n</code></pre>\n"}],"owner":{"account_id":9135172,"reputation":39,"user_id":6795118,"accept_rate":50,"display_name":"Sankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74873658,"answer_count":1,"score":0,"last_activity_date":1699609648,"creation_date":1669293450,"question_id":74560916,"body_markdown":"I&#39;m trying to write some code in spring-shell I&#39;m getting some issues. Please find the code below\r\n\r\n```\r\n@ShellComponent\r\npublic class CommandDemo {\r\n\r\n\t@ShellMethod(value = &quot;This command is used to greet a user&quot;)\r\n\tpublic void greet(\r\n\t\t\t@ShellOption(value = &quot;-name&quot;, help = &quot;Give the name to great&quot;, defaultValue = &quot;User&quot;) String name,\r\n\t\t\t@ShellOption(value = &quot;-city&quot;, help = &quot;Give the city name you are from&quot;) String city\r\n\t\t\t) {\r\n\r\n\t\tString message = &quot;Hello &quot;+name;\r\n\t\tif(city!=null &amp;&amp; !city.isEmpty()) {\r\n\t\t\tmessage+=&quot;, I&#39;m from &quot;+city;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(message);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n **1. When I give the help command on greet, it is giving me as no options available.**\r\n```\r\nshell:&gt;help greet\r\nNAME\r\n       greet - This command is used to greet a user\r\n\r\nSYNOPSIS\r\n       greet \r\n\r\nOPTIONS\r\n```\r\n\r\n **2. &quot;greet -name john&quot; is giving me an unexpected result, my expectation is &quot;Hello john&quot;**\r\n```\r\nshell:&gt;greet -name john\r\nHello null\r\n```\r\n **3. When I execute &quot;mvn clean package&quot; the build is getting struck at the test phase until I delete the test class**\r\n[![enter image description here][1]][1]\r\n4. After deleting &quot;SpringShellExampleApplicationTests&quot;, and when I execute the command `java -jar spring-shell-example-0.0.1-SNAPSHOT.jar --debug` the spring is considering --debug as the spring shell command and giving me the below error.\r\n```\r\nNo command found for &#39;--debug&#39;\r\norg.springframework.shell.CommandNotFound: No command found for &#39;--debug&#39;\r\n        at org.springframework.shell.Shell.evaluate(Shell.java:231)\r\n        at org.springframework.shell.Shell.run(Shell.java:140)\r\n        at org.springframework.shell.jline.NonInteractiveShellRunner.run(NonInteractiveShellRunner.java:104)\r\n        at org.springframework.shell.DefaultShellApplicationRunner.run(DefaultShellApplicationRunner.java:65)\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762)\r\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        at com.experiments.SpringShellExampleApplication.main(SpringShellExampleApplication.java:10)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FvBce.png\r\n\r\nThanks in advance.","title":"Unable to use optional parameters in Spring-shell","body":"<p>I'm trying to write some code in spring-shell I'm getting some issues. Please find the code below</p>\n<pre><code>@ShellComponent\npublic class CommandDemo {\n\n    @ShellMethod(value = &quot;This command is used to greet a user&quot;)\n    public void greet(\n            @ShellOption(value = &quot;-name&quot;, help = &quot;Give the name to great&quot;, defaultValue = &quot;User&quot;) String name,\n            @ShellOption(value = &quot;-city&quot;, help = &quot;Give the city name you are from&quot;) String city\n            ) {\n\n        String message = &quot;Hello &quot;+name;\n        if(city!=null &amp;&amp; !city.isEmpty()) {\n            message+=&quot;, I'm from &quot;+city;\n        }\n\n        System.out.println(message);\n    }\n\n}\n</code></pre>\n<p><strong>1. When I give the help command on greet, it is giving me as no options available.</strong></p>\n<pre><code>shell:&gt;help greet\nNAME\n       greet - This command is used to greet a user\n\nSYNOPSIS\n       greet \n\nOPTIONS\n</code></pre>\n<p><strong>2. &quot;greet -name john&quot; is giving me an unexpected result, my expectation is &quot;Hello john&quot;</strong></p>\n<pre><code>shell:&gt;greet -name john\nHello null\n</code></pre>\n<p><strong>3. When I execute &quot;mvn clean package&quot; the build is getting struck at the test phase until I delete the test class</strong>\n<a href=\"https://i.stack.imgur.com/FvBce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FvBce.png\" alt=\"enter image description here\" /></a>\n4. After deleting &quot;SpringShellExampleApplicationTests&quot;, and when I execute the command <code>java -jar spring-shell-example-0.0.1-SNAPSHOT.jar --debug</code> the spring is considering --debug as the spring shell command and giving me the below error.</p>\n<pre><code>No command found for '--debug'\norg.springframework.shell.CommandNotFound: No command found for '--debug'\n        at org.springframework.shell.Shell.evaluate(Shell.java:231)\n        at org.springframework.shell.Shell.run(Shell.java:140)\n        at org.springframework.shell.jline.NonInteractiveShellRunner.run(NonInteractiveShellRunner.java:104)\n        at org.springframework.shell.DefaultShellApplicationRunner.run(DefaultShellApplicationRunner.java:65)\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762)\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.experiments.SpringShellExampleApplication.main(SpringShellExampleApplication.java:10)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27981791,"reputation":1,"user_id":21369418,"display_name":"WwwZ"},"score":0,"creation_date":1699838358,"post_id":77458983,"comment_id":136577663,"body_markdown":"To add: when upgrading from the old version of 28 APP to the new version of 33 APP. The read and write permission of the APP has always been granted from the system settings, and the request permission pop-up window cannot be called up when you click on the avatar.\nWhen installing 33APP directly, the permission to view the start in the settings is not granted, and the subsequent click on the avatar will pop up the permission request window, which can be used normally after granting. It&#39;s also normal to view in settings.","body":"To add: when upgrading from the old version of 28 APP to the new version of 33 APP. The read and write permission of the APP has always been granted from the system settings, and the request permission pop-up window cannot be called up when you click on the avatar. When installing 33APP directly, the permission to view the start in the settings is not granted, and the subsequent click on the avatar will pop up the permission request window, which can be used normally after granting. It&#39;s also normal to view in settings."}],"owner":{"account_id":27981791,"reputation":1,"user_id":21369418,"display_name":"WwwZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699609357,"creation_date":1699608943,"question_id":77458983,"body_markdown":"Android 28 update 33, users newly install the APP, and the user&#39;s avatar can be called up normally to select the picture and complete the avatar upload. However, if the user has previously installed the old version of the app, when the user overwrites and upgrades to the new version of the app, when the user changes the avatar, the message &quot;open failed: EACCES (Permission denied)&quot; is displayed.\r\n\r\nWhen you click on the avatar again, you will be judged and ask for storage permissions, but there is no Permission dialog.\r\n\r\n\r\nAt the time of this error, the following has been done so far\r\n1. `android:requestLegacyExternalStorage=&quot;true&quot;`\r\n2.  ```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;29&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n    ```\r\n\r\n","title":"android targetSdkVersion28 update 33 Strange question","body":"<p>Android 28 update 33, users newly install the APP, and the user's avatar can be called up normally to select the picture and complete the avatar upload. However, if the user has previously installed the old version of the app, when the user overwrites and upgrades to the new version of the app, when the user changes the avatar, the message &quot;open failed: EACCES (Permission denied)&quot; is displayed.</p>\n<p>When you click on the avatar again, you will be judged and ask for storage permissions, but there is no Permission dialog.</p>\n<p>At the time of this error, the following has been done so far</p>\n<ol>\n<li><code>android:requestLegacyExternalStorage=&quot;true&quot;</code></li>\n<li>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;29&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","android","kotlin","android-workmanager","android-database"],"comments":[{"owner":{"account_id":15412192,"reputation":692,"user_id":11118648,"display_name":"Bhaven Shah"},"score":0,"creation_date":1655786399,"post_id":68660648,"comment_id":128407507,"body_markdown":"same issue. found any solution?","body":"same issue. found any solution?"},{"owner":{"account_id":5684826,"reputation":520,"user_id":4494727,"accept_rate":61,"display_name":"Gaurav Mandlik"},"score":0,"creation_date":1685697216,"post_id":68660648,"comment_id":134700328,"body_markdown":"if you resolved this issue then pls share with us. :)","body":"if you resolved this issue then pls share with us. :)"},{"owner":{"account_id":4311679,"reputation":1548,"user_id":3522570,"accept_rate":50,"display_name":"Ganesh Pokale"},"score":0,"creation_date":1700567140,"post_id":68660648,"comment_id":136668027,"body_markdown":"https://stackoverflow.com/a/77458951/3522570 Check this answer","body":"<a href=\"https://stackoverflow.com/a/77458951/3522570\">stackoverflow.com/a/77458951/3522570</a> Check this answer"}],"owner":{"account_id":2361873,"reputation":339,"user_id":2068397,"accept_rate":50,"display_name":"Bhavesh Jabuvani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":0,"score":10,"last_activity_date":1699608678,"creation_date":1628137890,"question_id":68660648,"body_markdown":"My app is not going to open. When i try to open app it immediately close with below crash.\r\n \r\nIt is happening in only one device Redmi note 10s.(Android 11)\r\n\r\nIt seems issue with Workmanager, but didn&#39;t found any solution\r\n\r\n    The file system on the device is in a bad state. WorkManager cannot access the app&#39;s internal data store.Error Message: The file system on the device is in a bad state. WorkManager cannot access the app&#39;s internal data store.StackTracejava.lang.IllegalStateException: The file system on the device is in a bad state. WorkManager cannot access the app&#39;s internal data store.\r\n        at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:120)\r\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n        Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database &#39;/data/user/0/study.pedagogy.android/no_backup/androidx.work.workdb&#39;: Directory /data/user/0/study.pedagogy.android/no_backup doesn&#39;t exist\r\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:252)\r\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\r\n        at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\r\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\r\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\r\n        at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:918)\r\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:898)\r\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:762)\r\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:751)\r\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:373)\r\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\r\n        at androidx.sqlite.db.framework.FrameworkSQLiteOpenHelper$OpenHelper.getWritableSupportDatabase(FrameworkSQLiteOpenHelper.java:145)\r\n        at androidx.sqlite.db.framework.FrameworkSQLiteOpenHelper.getWritableDatabase(FrameworkSQLiteOpenHelper.java:106)\r\n        at androidx.room.RoomDatabase.inTransaction(RoomDatabase.java:622)\r\n        at androidx.room.RoomDatabase.assertNotSuspendingTransaction(RoomDatabase.java:399)\r\n        at androidx.work.impl.model.SystemIdInfoDao_Impl.getWorkSpecIds(SystemIdInfoDao_Impl.java:120)\r\n        at androidx.work.impl.background.systemjob.SystemJobScheduler.reconcileJobs(SystemJobScheduler.java:284)\r\n        at androidx.work.impl.utils.ForceStopRunnable.cleanUp(ForceStopRunnable.java:199)\r\n        at androidx.work.impl.utils.ForceStopRunnable.forceStopRunnable(ForceStopRunnable.java:165)\r\n        at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:102)\r\n        ... 4 more\r\n        Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database\r\n        at android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:224)\r\n        ... 23 more","title":"IllegalStateException: The file system on the device is in a bad state. WorkManager cannot access the app&#39;s internal data store","body":"<p>My app is not going to open. When i try to open app it immediately close with below crash.</p>\n<p>It is happening in only one device Redmi note 10s.(Android 11)</p>\n<p>It seems issue with Workmanager, but didn't found any solution</p>\n<pre><code>The file system on the device is in a bad state. WorkManager cannot access the app's internal data store.Error Message: The file system on the device is in a bad state. WorkManager cannot access the app's internal data store.StackTracejava.lang.IllegalStateException: The file system on the device is in a bad state. WorkManager cannot access the app's internal data store.\n    at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:120)\n    at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:923)\n    Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database '/data/user/0/study.pedagogy.android/no_backup/androidx.work.workdb': Directory /data/user/0/study.pedagogy.android/no_backup doesn't exist\n    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:252)\n    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\n    at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\n    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\n    at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\n    at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:918)\n    at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:898)\n    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:762)\n    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:751)\n    at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:373)\n    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)\n    at androidx.sqlite.db.framework.FrameworkSQLiteOpenHelper$OpenHelper.getWritableSupportDatabase(FrameworkSQLiteOpenHelper.java:145)\n    at androidx.sqlite.db.framework.FrameworkSQLiteOpenHelper.getWritableDatabase(FrameworkSQLiteOpenHelper.java:106)\n    at androidx.room.RoomDatabase.inTransaction(RoomDatabase.java:622)\n    at androidx.room.RoomDatabase.assertNotSuspendingTransaction(RoomDatabase.java:399)\n    at androidx.work.impl.model.SystemIdInfoDao_Impl.getWorkSpecIds(SystemIdInfoDao_Impl.java:120)\n    at androidx.work.impl.background.systemjob.SystemJobScheduler.reconcileJobs(SystemJobScheduler.java:284)\n    at androidx.work.impl.utils.ForceStopRunnable.cleanUp(ForceStopRunnable.java:199)\n    at androidx.work.impl.utils.ForceStopRunnable.forceStopRunnable(ForceStopRunnable.java:165)\n    at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:102)\n    ... 4 more\n    Caused by: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database\n    at android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\n    at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:224)\n    ... 23 more\n</code></pre>\n"},{"tags":["java","windows","jboss","wildfly"],"comments":[{"owner":{"account_id":5850565,"reputation":346,"user_id":4609342,"accept_rate":33,"display_name":"Angelo Berlin"},"score":0,"creation_date":1651136067,"post_id":72040055,"comment_id":127292998,"body_markdown":"This is also discussed here, if someone has a Red Hat subscription: https://access.redhat.com/solutions/6953431","body":"This is also discussed here, if someone has a Red Hat subscription: <a href=\"https://access.redhat.com/solutions/6953431\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/6953431</a>"},{"owner":{"account_id":156028,"reputation":1747,"user_id":373074,"display_name":"RolKau"},"score":4,"creation_date":1651649799,"post_id":72040055,"comment_id":127410709,"body_markdown":"Related to [JDK-8285445](https://bugs.openjdk.java.net/browse/JDK-8285445) (Cannot open file &quot;NUL:&quot;, JDK 11.0.15 on Windows), perhaps? In that case it could maybe be mitigated by setting up a logging file-handler to &quot;NUL&quot; (without the colon). Scheduled to be fixed in 11.0.16.","body":"Related to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8285445\" rel=\"nofollow noreferrer\">JDK-8285445</a> (Cannot open file &quot;NUL:&quot;, JDK 11.0.15 on Windows), perhaps? In that case it could maybe be mitigated by setting up a logging file-handler to &quot;NUL&quot; (without the colon). Scheduled to be fixed in 11.0.16."},{"owner":{"account_id":5850565,"reputation":346,"user_id":4609342,"accept_rate":33,"display_name":"Angelo Berlin"},"score":0,"creation_date":1651650332,"post_id":72040055,"comment_id":127410866,"body_markdown":"Thanks @RolKau for finding this. I would accept his as an answer if you post it :)","body":"Thanks @RolKau for finding this. I would accept his as an answer if you post it :)"}],"answers":[{"tags":[],"owner":{"account_id":6843661,"reputation":2603,"user_id":5263142,"accept_rate":80,"display_name":"priwiljay"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1654100110,"creation_date":1654100110,"answer_id":72465068,"question_id":72040055,"body_markdown":"This is an issue in the JDK. You can wait for JDK 11.0.16 or downgrade to a lower version like JDK 11.0.14.","title":"Wildfly org.jboss.nio -&gt; FileNotFoundException: Invalid file path with Windows Java JDK 11.0.15+10","body":"<p>This is an issue in the JDK. You can wait for JDK 11.0.16 or downgrade to a lower version like JDK 11.0.14.</p>\n"},{"tags":[],"owner":{"account_id":6660922,"reputation":1169,"user_id":5140049,"display_name":"Michał Jabłoński"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664453377,"creation_date":1657751069,"answer_id":72973272,"question_id":72040055,"body_markdown":"This is caused by a [known JDK bug][1]. You can work around the issue by setting `Djdk.io.File.enableADS` system property. In Intellij go to Run -&gt; Edit configurations and paste `-Djdk.io.File.enableADS=true` in VM Options field.\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8285445","title":"Wildfly org.jboss.nio -&gt; FileNotFoundException: Invalid file path with Windows Java JDK 11.0.15+10","body":"<p>This is caused by a <a href=\"https://bugs.openjdk.org/browse/JDK-8285445\" rel=\"nofollow noreferrer\">known JDK bug</a>. You can work around the issue by setting <code>Djdk.io.File.enableADS</code> system property. In Intellij go to Run -&gt; Edit configurations and paste <code>-Djdk.io.File.enableADS=true</code> in VM Options field.</p>\n"},{"tags":[],"owner":{"account_id":1202742,"reputation":89,"user_id":1173061,"display_name":"Kamal A. SIddiqui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699608502,"creation_date":1699608502,"answer_id":77458943,"question_id":72040055,"body_markdown":"you can use open-jdk 11.0.20+, its works for me in wildfly\r\n\r\n[https://www.openlogic.com/openjdk-downloads?field_java_parent_version_target_id=406&amp;field_operating_system_target_id=436&amp;field_architecture_target_id=391&amp;field_java_package_target_id=396][1]\r\n\r\n\r\n\r\n  [1]: https://www.openlogic.com/openjdk-downloads?field_java_parent_version_target_id=406&amp;field_operating_system_target_id=436&amp;field_architecture_target_id=391&amp;field_java_package_target_id=396","title":"Wildfly org.jboss.nio -&gt; FileNotFoundException: Invalid file path with Windows Java JDK 11.0.15+10","body":"<p>you can use open-jdk 11.0.20+, its works for me in wildfly</p>\n<p><a href=\"https://www.openlogic.com/openjdk-downloads?field_java_parent_version_target_id=406&amp;field_operating_system_target_id=436&amp;field_architecture_target_id=391&amp;field_java_package_target_id=396\" rel=\"nofollow noreferrer\">https://www.openlogic.com/openjdk-downloads?field_java_parent_version_target_id=406&amp;field_operating_system_target_id=436&amp;field_architecture_target_id=391&amp;field_java_package_target_id=396</a></p>\n"}],"owner":{"account_id":5850565,"reputation":346,"user_id":4609342,"accept_rate":33,"display_name":"Angelo Berlin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6356,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":72465068,"answer_count":3,"score":10,"last_activity_date":1699608502,"creation_date":1651132869,"question_id":72040055,"body_markdown":"Since the update to *Eclipse Tamurin* *JDK 11.0.15+10* we notice a problem as soon a HTTP request reaches Wildfly 20.0.1.Final. The same behaviour exsists in Wildfly 26.1.0.Final This only happens with the *JDK* Windows version, the Linux *JDK* works fine.\r\nAs it is an &quot;Invalid file path&quot; error, an OS dependent BUG seems possible.\r\n\r\nUntil now SAP Machine is the only JDK that does not encounter this failure.\r\n\r\nI&#39;m still not sure if this is a *JDK* or a *Wildfly* problem...\r\n\r\nYou can check that when opening the *Wildfly Management Interface*.  \r\n\r\n    ERROR [io.undertow.request] (External Management Request Threads -- 1) UT005071: Undertow request failed HttpServerExchange{ GET /management}: java.io.IOError: java.io.FileNotFoundException: Invalid file path\r\n    \tat org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels$4.run(Channels.java:1103)\r\n    \tat org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels$4.run(Channels.java:1093)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels.&lt;clinit&gt;(Channels.java:1093)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.io.UndertowOutputStream.write(UndertowOutputStream.java:231)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:245)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:238)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:75)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:107)\r\n    \tat org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainUtil.writeResponse(DomainUtil.java:89)\r\n    \tat org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainApiHandler$1.doSendResponse(DomainApiHandler.java:177)\r\n    \tat org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.ResponseCallback.sendResponse(ResponseCallback.java:32)\r\n    \tat org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:232)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\r\n    \tat org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:91)\r\n    \tat org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)\r\n    \tat org.wildfly.security.elytron-private@1.12.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:328)\r\n    \tat org.wildfly.security.elytron-private@1.12.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:285)\r\n    \tat org.jboss.as.controller@12.0.3.Final//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)\r\n    \tat org.jboss.as.controller@12.0.3.Final//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)\r\n    \tat org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\r\n    \tat io.undertow.core@2.1.3.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n    \tat org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n    \tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \tat org.jboss.threads@2.3.3.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)\r\n    Caused by: java.io.FileNotFoundException: Invalid file path\r\n    \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:231)\r\n    \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:126)\r\n    \tat org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels$4.run(Channels.java:1098)\r\n    \t... 29 more\r\n\r\n| JDK             | Works with Wildfly |\r\n|-----------------|--------------------|\r\n| Eclipse Tamurin |  no                |\r\n| Amazon Coretto  |  no                |\r\n| Azul Zulu       |  no                |\r\n| Bellsoft        |  no                |\r\n| Oracle OpenJDK  |  no                |\r\n| Oracle JDK      |  no                |\r\n| SAP Machine     |  yes               |","title":"Wildfly org.jboss.nio -&gt; FileNotFoundException: Invalid file path with Windows Java JDK 11.0.15+10","body":"<p>Since the update to <em>Eclipse Tamurin</em> <em>JDK 11.0.15+10</em> we notice a problem as soon a HTTP request reaches Wildfly 20.0.1.Final. The same behaviour exsists in Wildfly 26.1.0.Final This only happens with the <em>JDK</em> Windows version, the Linux <em>JDK</em> works fine.\nAs it is an &quot;Invalid file path&quot; error, an OS dependent BUG seems possible.</p>\n<p>Until now SAP Machine is the only JDK that does not encounter this failure.</p>\n<p>I'm still not sure if this is a <em>JDK</em> or a <em>Wildfly</em> problem...</p>\n<p>You can check that when opening the <em>Wildfly Management Interface</em>.</p>\n<pre><code>ERROR [io.undertow.request] (External Management Request Threads -- 1) UT005071: Undertow request failed HttpServerExchange{ GET /management}: java.io.IOError: java.io.FileNotFoundException: Invalid file path\n    at org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels$4.run(Channels.java:1103)\n    at org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels$4.run(Channels.java:1093)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels.&lt;clinit&gt;(Channels.java:1093)\n    at io.undertow.core@2.1.3.Final//io.undertow.io.UndertowOutputStream.write(UndertowOutputStream.java:231)\n    at io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:245)\n    at io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.writeBuffer(BlockingSenderImpl.java:238)\n    at io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:75)\n    at io.undertow.core@2.1.3.Final//io.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:107)\n    at org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainUtil.writeResponse(DomainUtil.java:89)\n    at org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainApiHandler$1.doSendResponse(DomainApiHandler.java:177)\n    at org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.ResponseCallback.sendResponse(ResponseCallback.java:32)\n    at org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:232)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)\n    at org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:91)\n    at org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)\n    at org.wildfly.security.elytron-private@1.12.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:328)\n    at org.wildfly.security.elytron-private@1.12.1.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:285)\n    at org.jboss.as.controller@12.0.3.Final//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)\n    at org.jboss.as.controller@12.0.3.Final//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)\n    at org.jboss.as.domain-http-interface@12.0.3.Final//org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)\nCaused by: java.io.FileNotFoundException: Invalid file path\n    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:231)\n    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:126)\n    at org.jboss.xnio@3.8.1.Final//org.xnio.channels.Channels$4.run(Channels.java:1098)\n    ... 29 more\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>JDK</th>\n<th>Works with Wildfly</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Eclipse Tamurin</td>\n<td>no</td>\n</tr>\n<tr>\n<td>Amazon Coretto</td>\n<td>no</td>\n</tr>\n<tr>\n<td>Azul Zulu</td>\n<td>no</td>\n</tr>\n<tr>\n<td>Bellsoft</td>\n<td>no</td>\n</tr>\n<tr>\n<td>Oracle OpenJDK</td>\n<td>no</td>\n</tr>\n<tr>\n<td>Oracle JDK</td>\n<td>no</td>\n</tr>\n<tr>\n<td>SAP Machine</td>\n<td>yes</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","hibernate","jpa","join"],"comments":[{"owner":{"account_id":2792908,"reputation":289,"user_id":2402781,"accept_rate":75,"display_name":"chouk"},"score":0,"creation_date":1415096811,"post_id":26732775,"comment_id":42052557,"body_markdown":"See this post: http://stackoverflow.com/questions/3096985/jpa-or-hibernate-joining-tables-on-columns-of-different-types","body":"See this post: <a href=\"http://stackoverflow.com/questions/3096985/jpa-or-hibernate-joining-tables-on-columns-of-different-types\" title=\"jpa or hibernate joining tables on columns of different types\">stackoverflow.com/questions/3096985/&hellip;</a>"},{"owner":{"account_id":3417600,"reputation":496,"user_id":2866021,"display_name":"Dmytro"},"score":0,"creation_date":1415096937,"post_id":26732775,"comment_id":42052637,"body_markdown":"Types are here to help us write proper code not to hack around. You may want to consider redesign of your data structure.","body":"Types are here to help us write proper code not to hack around. You may want to consider redesign of your data structure."},{"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"score":0,"creation_date":1415097573,"post_id":26732775,"comment_id":42053006,"body_markdown":"Show the program which you have tried and show the complete stacktrace of the exception.","body":"Show the program which you have tried and show the complete stacktrace of the exception."}],"answers":[{"comments":[{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":2,"creation_date":1545191644,"post_id":26765811,"comment_id":94536482,"body_markdown":"This is not an answer.","body":"This is not an answer."}],"tags":[],"owner":{"account_id":4845717,"reputation":23,"user_id":3909389,"display_name":"user3909389"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1415217007,"creation_date":1415217007,"answer_id":26765811,"question_id":26732775,"body_markdown":"Why do You Want to choose that Kind of Design Where there is Type Mismatch?.Its a Best Practice to have consistent data type in POJO and Tables unless and until there is solid usecase for such exceptional scenario.","title":"Join columns of different types in Hibernate","body":"<p>Why do You Want to choose that Kind of Design Where there is Type Mismatch?.Its a Best Practice to have consistent data type in POJO and Tables unless and until there is solid usecase for such exceptional scenario.</p>\n"},{"tags":[],"owner":{"account_id":17351501,"reputation":16,"user_id":12569900,"display_name":"Sophea PHOS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699608451,"creation_date":1699608451,"answer_id":77458935,"question_id":26732775,"body_markdown":"From my experience just case  entity_id to the specfic data type (entity_id::INTEGER) like below example:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Table1&quot;)\r\n    public class Table1 implements Serializable {\r\n        private long id;\r\n        private List&lt;Table2&gt; notes;\r\n        @Id\r\n        @Column(name=&quot;ID&quot;)\r\n        public long getId() {\r\n            return id;\r\n        }\r\n        public void setId(long id) {\r\n            this.id= id;\r\n        }\r\n    \r\n        @OneToMany(fetch=FetchType.EAGER,targetEntity=Table2.class)\r\n        @Fetch(FetchMode.JOIN)\r\n        @JoinColumn(name=&quot;entity_id::INTEGER&quot;,referencedColumnName=&quot;ID&quot;)\r\n        public List&lt;Table2&gt; getNotes() {\r\n            return storeNotes;\r\n        }\r\n        public void setNotes(List&lt;Table2&gt; notes) {\r\n            this.notes = notes;\r\n        }\r\n    }","title":"Join columns of different types in Hibernate","body":"<p>From my experience just case  entity_id to the specfic data type (entity_id::INTEGER) like below example:</p>\n<pre><code>@Entity\n@Table(name=&quot;Table1&quot;)\npublic class Table1 implements Serializable {\n    private long id;\n    private List&lt;Table2&gt; notes;\n    @Id\n    @Column(name=&quot;ID&quot;)\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id= id;\n    }\n\n    @OneToMany(fetch=FetchType.EAGER,targetEntity=Table2.class)\n    @Fetch(FetchMode.JOIN)\n    @JoinColumn(name=&quot;entity_id::INTEGER&quot;,referencedColumnName=&quot;ID&quot;)\n    public List&lt;Table2&gt; getNotes() {\n        return storeNotes;\n    }\n    public void setNotes(List&lt;Table2&gt; notes) {\n        this.notes = notes;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1211926,"reputation":2415,"user_id":1180313,"accept_rate":35,"display_name":"Seeker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2576,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699608451,"creation_date":1415096659,"question_id":26732775,"body_markdown":"I have 2 tables. Table1 has a column called &#39;id&#39; which is a number. Table2 has a column called `entity_id` which is `varchar`. Table1 has one to Many relation with Table2.\r\n\r\nHere is my Hibernate mapping for Table1\r\n\r\n    @Entity\r\n    @Table(name=&quot;Table1&quot;)\r\n    public class Table1 implements Serializable {\r\n    \tprivate long id;\r\n        private List&lt;Table2&gt; notes;\r\n        @Id\r\n    \t@Column(name=&quot;ID&quot;)\r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id= id;\r\n    \t}\r\n    \r\n        @OneToMany(fetch=FetchType.EAGER,targetEntity=Table2.class)\r\n    \t@Fetch(FetchMode.JOIN)\r\n    \t@JoinColumn(name=&quot;ENTITY_ID&quot;,referencedColumnName=&quot;ID&quot;)\r\n    \tpublic List&lt;Table2&gt; getNotes() {\r\n    \t\treturn storeNotes;\r\n    \t}\r\n    \tpublic void setNotes(List&lt;Table2&gt; notes) {\r\n    \t\tthis.notes = notes;\r\n    \t}\r\n    }\r\n\r\nWhen I create a ctiteria with Table1 and try to list the data, I am getting Invalid number error because the type mismatch in the join column. can you please let me know how can I ast id to varchar?","title":"Join columns of different types in Hibernate","body":"<p>I have 2 tables. Table1 has a column called 'id' which is a number. Table2 has a column called <code>entity_id</code> which is <code>varchar</code>. Table1 has one to Many relation with Table2.</p>\n\n<p>Here is my Hibernate mapping for Table1</p>\n\n<pre><code>@Entity\n@Table(name=\"Table1\")\npublic class Table1 implements Serializable {\n    private long id;\n    private List&lt;Table2&gt; notes;\n    @Id\n    @Column(name=\"ID\")\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id= id;\n    }\n\n    @OneToMany(fetch=FetchType.EAGER,targetEntity=Table2.class)\n    @Fetch(FetchMode.JOIN)\n    @JoinColumn(name=\"ENTITY_ID\",referencedColumnName=\"ID\")\n    public List&lt;Table2&gt; getNotes() {\n        return storeNotes;\n    }\n    public void setNotes(List&lt;Table2&gt; notes) {\n        this.notes = notes;\n    }\n}\n</code></pre>\n\n<p>When I create a ctiteria with Table1 and try to list the data, I am getting Invalid number error because the type mismatch in the join column. can you please let me know how can I ast id to varchar?</p>\n"},{"tags":["java","android","material3"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1699629018,"post_id":77458324,"comment_id":136559763,"body_markdown":"So your problem isn&#39;t the lambda, it is the use of a `switch` statement? Does it work in Java if you use if/else if statements?","body":"So your problem isn&#39;t the lambda, it is the use of a <code>switch</code> statement? Does it work in Java if you use if/else if statements?"},{"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"score":0,"creation_date":1699633744,"post_id":77458324,"comment_id":136560731,"body_markdown":"@ianhanniballake Ahh found it, yes its better to initialize the int value, however only override method works and not the lambda expression. Thank you very much","body":"@ianhanniballake Ahh found it, yes its better to initialize the int value, however only override method works and not the lambda expression. Thank you very much"}],"owner":{"account_id":26899499,"reputation":1,"user_id":20476883,"display_name":"Li&#39;s hideout"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699608122,"creation_date":1699601502,"question_id":77458324,"body_markdown":"```\r\nprivate void SelectedItem() {\r\n    NavigationBarView navigationBarView = findViewById(R.id.bottom_navigation);\r\n    navigationBarView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.item_1:\r\n                    // Handle item_1 selection\r\n                    return true; // Return true if you&#39;ve handled the selection.\r\n                case R.id.item_2:\r\n                    // Handle item_2 selection\r\n                    return true; // Return true if you&#39;ve handled the selection.\r\n                default:\r\n                    return false; // Return false for unhandled selections.\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\n\r\n```\r\nnew NavigationBarView.OnItemSelectedListener((AdapterView&lt;?&gt; parent, View view, int position, long id) -&gt; {\r\n\r\n\tswitch (parent.getId()) {\r\n    \tcase R.id.item_1:\r\n\t\t\treturn true;\r\n\t\tcase R.id.item_2:\r\n\t\t\treturn true;\r\n\t\tdefault:\r\n\t\t\treturn false;\r\n\t}\r\n});\r\n```\r\n\r\nReferring in Java, I tried using both the lambda expression and the overriding method, but no matter what I&#39;ve tried it doesn&#39;t work. Yes, I&#39;ve tried Kotlin and it works but i want to use java for my project base entirely.  \r\nI cannot override the SetOnItemSelectedListener referring to both the methods i&#39;ve tried.  \r\nCan anyone explain how i can either use override method or lambda expression correctly?  \r\nIt either gives me getItemId()/getId() error or &quot;R.id.item_1&quot; error.","title":"Why can&#39;t I override setOnItemSelectedListener in MDC Navigation bar for Android studio?","body":"<pre><code>private void SelectedItem() {\n    NavigationBarView navigationBarView = findViewById(R.id.bottom_navigation);\n    navigationBarView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            switch (item.getItemId()) {\n                case R.id.item_1:\n                    // Handle item_1 selection\n                    return true; // Return true if you've handled the selection.\n                case R.id.item_2:\n                    // Handle item_2 selection\n                    return true; // Return true if you've handled the selection.\n                default:\n                    return false; // Return false for unhandled selections.\n            }\n        }\n    });\n}\n</code></pre>\n<pre><code>new NavigationBarView.OnItemSelectedListener((AdapterView&lt;?&gt; parent, View view, int position, long id) -&gt; {\n\n    switch (parent.getId()) {\n        case R.id.item_1:\n            return true;\n        case R.id.item_2:\n            return true;\n        default:\n            return false;\n    }\n});\n</code></pre>\n<p>Referring in Java, I tried using both the lambda expression and the overriding method, but no matter what I've tried it doesn't work. Yes, I've tried Kotlin and it works but i want to use java for my project base entirely.<br />\nI cannot override the SetOnItemSelectedListener referring to both the methods i've tried.<br />\nCan anyone explain how i can either use override method or lambda expression correctly?<br />\nIt either gives me getItemId()/getId() error or &quot;R.id.item_1&quot; error.</p>\n"},{"tags":["java","compiler-construction","parse-tree"],"comments":[{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1699304506,"post_id":77433599,"comment_id":136512663,"body_markdown":"The indent on the upper level depends on the bottom levels. A tree with right-only children will have a 0 indent at the root, regardless of the depth, whereas a left-only tree will have deepest indent at the root level. You can traverse you tree once to calculate assign indent to each node but that require recalculations after any tree change, not sure how relevant is that.","body":"The indent on the upper level depends on the bottom levels. A tree with right-only children will have a 0 indent at the root, regardless of the depth, whereas a left-only tree will have deepest indent at the root level. You can traverse you tree once to calculate assign indent to each node but that require recalculations after any tree change, not sure how relevant is that."},{"owner":{"account_id":28687871,"reputation":1,"user_id":21967760,"display_name":"Seifeldin Elkasrawy"},"score":0,"creation_date":1699433745,"post_id":77433599,"comment_id":136529475,"body_markdown":"How would the indent of the upper level be affected by the bottom levels? I believe it&#39;s the opposite. Also, this tree does have left and right children. I don&#39;t exactly understand this last part. Traverse my tree once to calculate and assign indent to each node first? Then it should recalculate every time a new node is added?","body":"How would the indent of the upper level be affected by the bottom levels? I believe it&#39;s the opposite. Also, this tree does have left and right children. I don&#39;t exactly understand this last part. Traverse my tree once to calculate and assign indent to each node first? Then it should recalculate every time a new node is added?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1699560300,"post_id":77433599,"comment_id":136550973,"body_markdown":"The indent on the upper level does depend on the location where the items in the bottom level are. Just replace identifiers id2, id3 with longer names -&gt; the bottom line will change, the operator in the line above needs to be centered etc.","body":"The indent on the upper level does depend on the location where the items in the bottom level are. Just replace identifiers id2, id3 with longer names -&gt; the bottom line will change, the operator in the line above needs to be centered etc."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699582877,"post_id":77456723,"comment_id":136553520,"body_markdown":"“only the multiply and divide operators can come at the same depth”: this cases being true the moment you use parentheses. Find a general solution.","body":"“only the multiply and divide operators can come at the same depth”: this cases being true the moment you use parentheses. Find a general solution."}],"tags":[],"owner":{"account_id":28687871,"reputation":1,"user_id":21967760,"display_name":"Seifeldin Elkasrawy"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1699607736,"creation_date":1699569343,"answer_id":77456723,"question_id":77433599,"body_markdown":"   I figured it out. Though I think there could&#39;ve been a better solution, but this is what I managed to come up with.\r\n Since, only the multiply and divide operators can come at the same depth so I just made a condition specifically for them. First check that both ops are * or /, if yes print the / \\ branches and then print the ops, then print branches for all their children which is 4 so / \\ / \\ then using a nested loop print both of their children on the same line, else do everything normally. That&#39;s it. After that it was just a matter of adjusting the spaces to get the output I was looking for.\r\n```\r\n    public static void displayParseTree(ParseTreeNode node, int depth) {\r\n        if (node != null) {\r\n            StringBuilder indent = new StringBuilder();\r\n            for (int i = 0; i &lt; depth; i++) {\r\n                indent.append(&quot; &quot;);\r\n            }\r\n\r\n//if node has children print / -&gt; child1  \\ -&gt; child2\r\n            if (node.token.getValue().equals(&quot;=&quot;)){\r\n                System.out.println(&quot;       &quot; + indent.toString() + node.token.getValue());\r\n            }\r\n\r\n            // Check if the node has any children.\r\n            if (!node.children.isEmpty()) {\r\n\r\n                if (node.children.get(0).token.getValue().equals(&quot;*&quot;) &amp;&amp; node.children.get(1).token.getValue().equals(&quot;*&quot;) ||\r\n                        node.children.get(0).token.getValue().equals(&quot;/&quot;) &amp;&amp; node.children.get(1).token.getValue().equals(&quot;/&quot;)) {\r\n                    System.out.print(&quot;        /   &quot;);\r\n                    System.out.println(&quot;  \\\\&quot;);\r\n\r\n                    for (int i = 0; i &lt; 2; i++) {\r\n                        System.out.print(&quot;     &quot;+ node.children.get(i).token.getValue() + &quot;    &quot;);\r\n                    }\r\n                    System.out.println(&quot;&quot;);\r\n\r\n                    System.out.print(&quot;   /  &quot;);\r\n                    System.out.print(&quot; \\\\   &quot;);\r\n                    System.out.print(&quot;  /  &quot;);\r\n                    System.out.println(&quot; \\\\&quot;);\r\n\r\n                    for (int i = 0; i &lt; 2; i++) {\r\n                        for (int j = 0; j &lt; 2; j++)\r\n                        System.out.print(&quot; &quot;+ node.children.get(i).children.get(j).token.getValue() + &quot;  &quot;);\r\n                    }\r\n                    System.out.println(&quot;&quot;);\r\n                }\r\n                else {\r\n                    // Print the left child node.\r\n                    System.out.print(&quot;   /  &quot;);\r\n                    System.out.println(&quot;    \\\\&quot;);\r\n\r\n                    for (int i = 0; i &lt; 2; i++) {\r\n                        System.out.print(&quot;  &quot; + node.children.get(i).token.getValue() + &quot;    &quot;);\r\n                    }\r\n                    System.out.println(&quot;&quot;);\r\n\r\n                    displayParseTree(node.children.get(0), depth + 1);\r\n\r\n                    // Print the right child node.\r\n                    displayParseTree(node.children.get(1), depth + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n```\r\nPlease enter the source code: \r\nz=y*y+x*3\r\nSource Form: z=y*y+x*3\r\nMath Form: z=yxy+xx3\r\nLexical Analyzer: id1=id2*id2+id3*3\r\nSyntax analysis completed. The input is valid.\r\n       =\r\n   /      \\\r\n  id1      +    \r\n        /     \\\r\n     *         *    \r\n   /   \\     /   \\\r\n id2   id2   id3   3\r\n```  ","title":"How to print a proper parse tree in console using Java?","body":"<p>I figured it out. Though I think there could've been a better solution, but this is what I managed to come up with.\nSince, only the multiply and divide operators can come at the same depth so I just made a condition specifically for them. First check that both ops are * or /, if yes print the / \\ branches and then print the ops, then print branches for all their children which is 4 so / \\ / \\ then using a nested loop print both of their children on the same line, else do everything normally. That's it. After that it was just a matter of adjusting the spaces to get the output I was looking for.</p>\n<pre><code>    public static void displayParseTree(ParseTreeNode node, int depth) {\n        if (node != null) {\n            StringBuilder indent = new StringBuilder();\n            for (int i = 0; i &lt; depth; i++) {\n                indent.append(&quot; &quot;);\n            }\n\n//if node has children print / -&gt; child1  \\ -&gt; child2\n            if (node.token.getValue().equals(&quot;=&quot;)){\n                System.out.println(&quot;       &quot; + indent.toString() + node.token.getValue());\n            }\n\n            // Check if the node has any children.\n            if (!node.children.isEmpty()) {\n\n                if (node.children.get(0).token.getValue().equals(&quot;*&quot;) &amp;&amp; node.children.get(1).token.getValue().equals(&quot;*&quot;) ||\n                        node.children.get(0).token.getValue().equals(&quot;/&quot;) &amp;&amp; node.children.get(1).token.getValue().equals(&quot;/&quot;)) {\n                    System.out.print(&quot;        /   &quot;);\n                    System.out.println(&quot;  \\\\&quot;);\n\n                    for (int i = 0; i &lt; 2; i++) {\n                        System.out.print(&quot;     &quot;+ node.children.get(i).token.getValue() + &quot;    &quot;);\n                    }\n                    System.out.println(&quot;&quot;);\n\n                    System.out.print(&quot;   /  &quot;);\n                    System.out.print(&quot; \\\\   &quot;);\n                    System.out.print(&quot;  /  &quot;);\n                    System.out.println(&quot; \\\\&quot;);\n\n                    for (int i = 0; i &lt; 2; i++) {\n                        for (int j = 0; j &lt; 2; j++)\n                        System.out.print(&quot; &quot;+ node.children.get(i).children.get(j).token.getValue() + &quot;  &quot;);\n                    }\n                    System.out.println(&quot;&quot;);\n                }\n                else {\n                    // Print the left child node.\n                    System.out.print(&quot;   /  &quot;);\n                    System.out.println(&quot;    \\\\&quot;);\n\n                    for (int i = 0; i &lt; 2; i++) {\n                        System.out.print(&quot;  &quot; + node.children.get(i).token.getValue() + &quot;    &quot;);\n                    }\n                    System.out.println(&quot;&quot;);\n\n                    displayParseTree(node.children.get(0), depth + 1);\n\n                    // Print the right child node.\n                    displayParseTree(node.children.get(1), depth + 1);\n                }\n            }\n        }\n    }\n</code></pre>\n<pre><code>Please enter the source code: \nz=y*y+x*3\nSource Form: z=y*y+x*3\nMath Form: z=yxy+xx3\nLexical Analyzer: id1=id2*id2+id3*3\nSyntax analysis completed. The input is valid.\n       =\n   /      \\\n  id1      +    \n        /     \\\n     *         *    \n   /   \\     /   \\\n id2   id2   id3   3\n</code></pre>\n"}],"owner":{"account_id":28687871,"reputation":1,"user_id":21967760,"display_name":"Seifeldin Elkasrawy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77456723,"answer_count":1,"score":0,"last_activity_date":1699607736,"creation_date":1699297352,"question_id":77433599,"body_markdown":"I am writing a program that simulates the 6 compiler phases using java. Currently, stuck in the printing of the parse tree in the 2nd phase, syntax Analyzer. I already know what my problem is after some debugging. The parent and children nodes are correct but is visually displayed in wrong depths.\r\n\r\nInput: `z=y*y+x*3`\r\n\r\nWhen it gets to the * symbol which has children, it displays its children first before displaying the its sibling node which is also another *, because of the recursion.\r\n \r\n\r\n\r\n```\r\n    public static void displayParseTree(ParseTreeNode node, int depth) {\r\n        if (node != null) {\r\n            StringBuilder indent = new StringBuilder();\r\n            for (int i = 0; i &lt; depth; i++) {\r\n                indent.append(&quot; &quot;);\r\n            }\r\n\r\n            //if node has children print / -&gt; child1  \\ -&gt; child2\r\n            System.out.print(indent.toString() + node.token.getValue());\r\n            // Check if the node has any children.\r\n            if (!node.children.isEmpty()) {\r\n\r\n                System.out.println(&quot;&quot;);\r\n                \r\n                System.out.print(&quot;/  &quot;);\r\n                System.out.println(&quot; \\\\&quot;);\r\n\r\n                // Print the left child node.\r\n                displayParseTree(node.children.get(0), depth + 1);\r\n\r\n                // Print the right child node.\r\n                displayParseTree(node.children.get(1), depth + 1);\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n[Output](https://i.stack.imgur.com/lrwPy.png)\r\n\r\nIncase img doesn&#39;t open, this is the my current ouput:\r\n\r\n    Please enter the source code: \r\n    z=y*y+x*3\r\n    Source Form: z=y*y+x*3\r\n    Math Form: z=yxy+xx3\r\n    Lexical Analyzer: id1=id2*id2+id3*3\r\n    Syntax analysis completed. The input is valid.\r\n    \r\n    =\r\n    /   \\\r\n     id1 +\r\n    /   \\\r\n      *\r\n    /   \\\r\n       id2   id2\r\n      *\r\n    /   \\\r\n       id3   3\r\n\r\nI want my output to look more like this:\r\n\r\n\r\n        =\r\n      /&#160; \\\r\n    id1   +\r\n        /&#160;   \\\r\n    &#160; * &#160;      *\r\n    /&#160;   \\   /&#160;  \\\r\n    id2&#160;&#160;id2&#160;id3&#160;&#160;3\r\n\r\nEDIT: I somewhat hardcoded it(not proud of it), but I&#39;ll leave it at that till I find a better way\r\n```\r\n    public static void displayParseTree(ParseTreeNode node, int depth) {\r\n        if (node != null) {\r\n            StringBuilder indent = new StringBuilder();\r\n            for (int i = 0; i &lt; depth; i++) {\r\n                indent.append(&quot; &quot;);\r\n            }\r\n\r\n//if node has children print / -&gt; child1  \\ -&gt; child2\r\n            if (node.token.getValue().equals(&quot;=&quot;)){\r\n                System.out.println(&quot;  &quot; + indent.toString() + node.token.getValue());\r\n            }\r\n\r\n            // Check if the node has any children.\r\n            if (!node.children.isEmpty()) {\r\n\r\n                if (node.children.get(0).token.getValue().equals(&quot;*&quot;) &amp;&amp; node.children.get(1).token.getValue().equals(&quot;*&quot;)) {\r\n                    System.out.print(&quot;/  &quot;);\r\n                    System.out.println(&quot; \\\\&quot;);\r\n\r\n                    for (int i = 0; i &lt; 2; i++) {\r\n                        System.out.print(node.children.get(i).token.getValue() + &quot;  &quot;);\r\n                    }\r\n                    System.out.println(&quot;&quot;);\r\n\r\n                    System.out.print(&quot;/  &quot;);\r\n                    System.out.print(&quot; \\\\   &quot;);\r\n                    System.out.print(&quot;  /  &quot;);\r\n                    System.out.println(&quot; \\\\&quot;);\r\n\r\n                    for (int i = 0; i &lt; 2; i++) {\r\n                        for (int j = 0; j &lt; 2; j++)\r\n                        System.out.print(node.children.get(i).children.get(j).token.getValue() + &quot;  &quot;);\r\n                    }\r\n                    System.out.println(&quot;&quot;);\r\n                }\r\n                else {\r\n                    // Print the left child node.\r\n                    System.out.print(&quot;/  &quot;);\r\n                    System.out.println(&quot; \\\\&quot;);\r\n\r\n                    for (int i = 0; i &lt; 2; i++) {\r\n                        System.out.print(node.children.get(i).token.getValue() + &quot;  &quot;);\r\n                    }\r\n                    System.out.println(&quot;&quot;);\r\n\r\n                    displayParseTree(node.children.get(0), depth + 1);\r\n\r\n                    // Print the right child node.\r\n                    displayParseTree(node.children.get(1), depth + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nCurrent Output:\r\n```\r\n      =\r\n    /   \\\r\n    id1  +  \r\n    /   \\\r\n    *  *  \r\n    /   \\     /   \\\r\n    id2  id2  id3  3\r\n```\r\n \r\n\r\n","title":"How to print a proper parse tree in console using Java?","body":"<p>I am writing a program that simulates the 6 compiler phases using java. Currently, stuck in the printing of the parse tree in the 2nd phase, syntax Analyzer. I already know what my problem is after some debugging. The parent and children nodes are correct but is visually displayed in wrong depths.</p>\n<p>Input: <code>z=y*y+x*3</code></p>\n<p>When it gets to the * symbol which has children, it displays its children first before displaying the its sibling node which is also another *, because of the recursion.</p>\n<pre><code>    public static void displayParseTree(ParseTreeNode node, int depth) {\n        if (node != null) {\n            StringBuilder indent = new StringBuilder();\n            for (int i = 0; i &lt; depth; i++) {\n                indent.append(&quot; &quot;);\n            }\n\n            //if node has children print / -&gt; child1  \\ -&gt; child2\n            System.out.print(indent.toString() + node.token.getValue());\n            // Check if the node has any children.\n            if (!node.children.isEmpty()) {\n\n                System.out.println(&quot;&quot;);\n                \n                System.out.print(&quot;/  &quot;);\n                System.out.println(&quot; \\\\&quot;);\n\n                // Print the left child node.\n                displayParseTree(node.children.get(0), depth + 1);\n\n                // Print the right child node.\n                displayParseTree(node.children.get(1), depth + 1);\n                System.out.println(&quot;&quot;);\n            }\n        }\n    }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lrwPy.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<p>Incase img doesn't open, this is the my current ouput:</p>\n<pre><code>Please enter the source code: \nz=y*y+x*3\nSource Form: z=y*y+x*3\nMath Form: z=yxy+xx3\nLexical Analyzer: id1=id2*id2+id3*3\nSyntax analysis completed. The input is valid.\n\n=\n/   \\\n id1 +\n/   \\\n  *\n/   \\\n   id2   id2\n  *\n/   \\\n   id3   3\n</code></pre>\n<p>I want my output to look more like this:</p>\n<pre><code>    =\n  /  \\\nid1   +\n    /    \\\n  *        *\n/    \\   /   \\\nid2  id2 id3  3\n</code></pre>\n<p>EDIT: I somewhat hardcoded it(not proud of it), but I'll leave it at that till I find a better way</p>\n<pre><code>    public static void displayParseTree(ParseTreeNode node, int depth) {\n        if (node != null) {\n            StringBuilder indent = new StringBuilder();\n            for (int i = 0; i &lt; depth; i++) {\n                indent.append(&quot; &quot;);\n            }\n\n//if node has children print / -&gt; child1  \\ -&gt; child2\n            if (node.token.getValue().equals(&quot;=&quot;)){\n                System.out.println(&quot;  &quot; + indent.toString() + node.token.getValue());\n            }\n\n            // Check if the node has any children.\n            if (!node.children.isEmpty()) {\n\n                if (node.children.get(0).token.getValue().equals(&quot;*&quot;) &amp;&amp; node.children.get(1).token.getValue().equals(&quot;*&quot;)) {\n                    System.out.print(&quot;/  &quot;);\n                    System.out.println(&quot; \\\\&quot;);\n\n                    for (int i = 0; i &lt; 2; i++) {\n                        System.out.print(node.children.get(i).token.getValue() + &quot;  &quot;);\n                    }\n                    System.out.println(&quot;&quot;);\n\n                    System.out.print(&quot;/  &quot;);\n                    System.out.print(&quot; \\\\   &quot;);\n                    System.out.print(&quot;  /  &quot;);\n                    System.out.println(&quot; \\\\&quot;);\n\n                    for (int i = 0; i &lt; 2; i++) {\n                        for (int j = 0; j &lt; 2; j++)\n                        System.out.print(node.children.get(i).children.get(j).token.getValue() + &quot;  &quot;);\n                    }\n                    System.out.println(&quot;&quot;);\n                }\n                else {\n                    // Print the left child node.\n                    System.out.print(&quot;/  &quot;);\n                    System.out.println(&quot; \\\\&quot;);\n\n                    for (int i = 0; i &lt; 2; i++) {\n                        System.out.print(node.children.get(i).token.getValue() + &quot;  &quot;);\n                    }\n                    System.out.println(&quot;&quot;);\n\n                    displayParseTree(node.children.get(0), depth + 1);\n\n                    // Print the right child node.\n                    displayParseTree(node.children.get(1), depth + 1);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Current Output:</p>\n<pre><code>      =\n    /   \\\n    id1  +  \n    /   \\\n    *  *  \n    /   \\     /   \\\n    id2  id2  id3  3\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","gradle"],"owner":{"account_id":16000883,"reputation":740,"user_id":11547578,"display_name":"Clancinio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699607174,"creation_date":1699539976,"question_id":77453944,"body_markdown":"I upgraded to spring web 6.0.0 and now I get this exception on my controller tests:\r\n\r\n    JobControllerTest &gt; initializationError FAILED\r\n    java.lang.IllegalStateException at BootstrapUtils.java:104\r\n        Caused by: org.springframework.beans.BeanInstantiationException at BeanUtils.java:224\r\n            Caused by: java.lang.NoClassDefFoundError at DefaultCacheAwareContextLoaderDelegate.java:70\r\n                Caused by: java.lang.ClassNotFoundException at BuiltinClassLoader.java:641\r\n\r\n\r\nI also updated spring test to 6.0.0\r\n\r\nAlso, I have BeanUtil dependency in the build.gradle file(The latest 1.9.4):\r\n\r\n    implementation &quot;commons-beanutils:commons-beanutils:${beansUtilVersion}&quot;\r\n\r\nAny help would be much appreciated.","title":"Why am I getting BeanInstantiationException at BeanUtils after upgrading to spring-web 6.0.0?","body":"<p>I upgraded to spring web 6.0.0 and now I get this exception on my controller tests:</p>\n<pre><code>JobControllerTest &gt; initializationError FAILED\njava.lang.IllegalStateException at BootstrapUtils.java:104\n    Caused by: org.springframework.beans.BeanInstantiationException at BeanUtils.java:224\n        Caused by: java.lang.NoClassDefFoundError at DefaultCacheAwareContextLoaderDelegate.java:70\n            Caused by: java.lang.ClassNotFoundException at BuiltinClassLoader.java:641\n</code></pre>\n<p>I also updated spring test to 6.0.0</p>\n<p>Also, I have BeanUtil dependency in the build.gradle file(The latest 1.9.4):</p>\n<pre><code>implementation &quot;commons-beanutils:commons-beanutils:${beansUtilVersion}&quot;\n</code></pre>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","sql-server","jdbc","azure-sql-database","java-time"],"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1699594644,"post_id":77457883,"comment_id":136554373,"body_markdown":"can you send me link or official docs? I may close this question, there is so much vague and disagreeing internet posts about this topic, @DaleK , feel free to post answer and I can send points, thanks","body":"can you send me link or official docs? I may close this question, there is so much vague and disagreeing internet posts about this topic, @DaleK , feel free to post answer and I can send points, thanks"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1699597989,"post_id":77457883,"comment_id":136554679,"body_markdown":"Hilarious! We need to be specific but the OffsetDateTime type documentation defines it as relative to UTC/Greenwich time?  UTC/Greenwich are not the same thing (thanks to atomic clocks UTC drifts from Greenwich which is mean solar time), so what measure is OffsetDateTime even representing?","body":"Hilarious! We need to be specific but the OffsetDateTime type documentation defines it as relative to UTC/Greenwich time?  UTC/Greenwich are not the same thing (thanks to atomic clocks UTC drifts from Greenwich which is mean solar time), so what measure is OffsetDateTime even representing?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699601603,"post_id":77457883,"comment_id":136555070,"body_markdown":"@AlwaysLearning The *java.time* framework defines its own time-scale, the *Java Time-Scale*. See documentation on the Javadoc of [`Instant`](https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/Instant.html) class. For the purposes of business apps commonly built by Java developers, there is no practical difference between GMT, UTC, and The Java Time-Scale.","body":"@AlwaysLearning The <i>java.time</i> framework defines its own time-scale, the <i>Java Time-Scale</i>. See documentation on the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class. For the purposes of business apps commonly built by Java developers, there is no practical difference between GMT, UTC, and The Java Time-Scale."}],"answers":[{"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1699599987,"post_id":77458199,"comment_id":136554870,"body_markdown":"nice, where did you get the reference? you seem to have [2] [4],  also are you saying in JDBC, use offsetDateTime, and in others like JPA use Instance? thanks","body":"nice, where did you get the reference? you seem to have [2] [4],  also are you saying in JDBC, use offsetDateTime, and in others like JPA use Instance? thanks"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699600313,"post_id":77458199,"comment_id":136554905,"body_markdown":"@mattsmith5 (a) I copied from [an Answer of mine](https://stackoverflow.com/a/77449976/642706) that I wrote yesterday. (b) No, I am not saying that. JPA (now [*Jakarta Persistence*](https://jakarta.ee/specifications/persistence/)) is built on top of JDBC. So the SQL-Java mappings in JDBC apply there.","body":"@mattsmith5 (a) I copied from <a href=\"https://stackoverflow.com/a/77449976/642706\">an Answer of mine</a> that I wrote yesterday. (b) No, I am not saying that. JPA (now <a href=\"https://jakarta.ee/specifications/persistence/\" rel=\"nofollow noreferrer\"><i>Jakarta Persistence</i></a>) is built on top of JDBC. So the SQL-Java mappings in JDBC apply there."},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1699785095,"post_id":77458199,"comment_id":136572676,"body_markdown":"hi, not sure if you know answer to this question either, thanks https://stackoverflow.com/questions/77468561/connect-spring-boot-jdbctemplate-to-azure-sql-issues-with-connection-string-and","body":"hi, not sure if you know answer to this question either, thanks <a href=\"https://stackoverflow.com/questions/77468561/connect-spring-boot-jdbctemplate-to-azure-sql-issues-with-connection-string-and\" title=\"connect spring boot jdbctemplate to azure sql issues with connection string and\">stackoverflow.com/questions/77468561/&hellip;</a>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699607116,"creation_date":1699599732,"answer_id":77458199,"question_id":77457883,"body_markdown":"| Kind of data | Standard SQL | MS SQL Server | Java |\r\n| :---: |:---: | :---: | :---: |\r\n| Point on time line | `TIMESTAMP WITH TIME ZONE` | [`datetimeoffset`][1] | In [JDBC][2], use [`OffsetDateTime`][3].&lt;br /&gt;Outside of JDBC, generally best to use [`Instant`][4] or [`ZonedDateTime`][5]. |\r\n\r\n\r\nTo represent a moment, a specific point on the timeline, use the SQL standard type of `TIMESTAMP WITH TIME ZONE`. In [Microsoft SQL Server][6] that type maps to [`datetimeoffset`][1].\r\n\r\nJava offers three classes to represent a point on the timeline:\r\n\r\n - `java.time.Instant`\r\n - `java.time.OffsetDateTime`\r\n - `java.time.ZonedDateTime`\r\n\r\nThe first represents a moment as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. The second is similar but can have an offset of any number of hours-minutes-seconds ahead/behind UTC. The third one contains a time zone, which is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.\r\n\r\nThe SQL standard barely touches on date-time matters, and does so poorly. The standard lacks the concepts captured in the `Instant` and `ZonedDateTime` classes. So [JDBC][2] maps only the `OffsetDateTime` class to a column of the type `TIMESTAMP WITH TIME ZONE`.\r\n\r\n-----\r\n\r\nAs for your chart, I’ve no idea what is going on. That chart seems to be referencing this class, [microsoft.sql.Types.DATETIMEOFFSET][7]. That class appears to be part of Microsoft’s JDBC driver. But Microsoft defining their own class mapped in JDBC makes no sense as that class would be incompatible with JDBC-compliant programs. I’m not a Microsoft customer, so I cannot provide an explanation. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\r\n  [2]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [6]: https://en.wikipedia.org/wiki/Microsoft_SQL_Server\r\n  [7]: https://learn.microsoft.com/en-us/sql/connect/jdbc/reference/datetimeoffset-class?view=sql-server-ver16","title":"What is the SQL Server Database column type for java.time.OffsetDateTime?","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Kind of data</th>\n<th style=\"text-align: center;\">Standard SQL</th>\n<th style=\"text-align: center;\">MS SQL Server</th>\n<th style=\"text-align: center;\">Java</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">Point on time line</td>\n<td style=\"text-align: center;\"><code>TIMESTAMP WITH TIME ZONE</code></td>\n<td style=\"text-align: center;\"><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetimeoffset</code></a></td>\n<td style=\"text-align: center;\">In <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.<br />Outside of JDBC, generally best to use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>To represent a moment, a specific point on the timeline, use the SQL standard type of <code>TIMESTAMP WITH TIME ZONE</code>. In <a href=\"https://en.wikipedia.org/wiki/Microsoft_SQL_Server\" rel=\"nofollow noreferrer\">Microsoft SQL Server</a> that type maps to <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetimeoffset</code></a>.</p>\n<p>Java offers three classes to represent a point on the timeline:</p>\n<ul>\n<li><code>java.time.Instant</code></li>\n<li><code>java.time.OffsetDateTime</code></li>\n<li><code>java.time.ZonedDateTime</code></li>\n</ul>\n<p>The first represents a moment as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. The second is similar but can have an offset of any number of hours-minutes-seconds ahead/behind UTC. The third one contains a time zone, which is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</p>\n<p>The SQL standard barely touches on date-time matters, and does so poorly. The standard lacks the concepts captured in the <code>Instant</code> and <code>ZonedDateTime</code> classes. So <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> maps only the <code>OffsetDateTime</code> class to a column of the type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<hr />\n<p>As for your chart, I’ve no idea what is going on. That chart seems to be referencing this class, <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/reference/datetimeoffset-class?view=sql-server-ver16\" rel=\"nofollow noreferrer\">microsoft.sql.Types.DATETIMEOFFSET</a>. That class appears to be part of Microsoft’s JDBC driver. But Microsoft defining their own class mapped in JDBC makes no sense as that class would be incompatible with JDBC-compliant programs. I’m not a Microsoft customer, so I cannot provide an explanation.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77458199,"answer_count":1,"score":1,"last_activity_date":1699607116,"creation_date":1699594246,"question_id":77457883,"body_markdown":"We are trying to map `OffsetDateTime` in Java and insert into SQL Server, using `JDBCTemplate`. Our customers are in multiple different time zones around the world.\r\n\r\nWhat is the proper SQL Server / Azure SQL data column type for OffsetDateTime? I didn&#39;t see it in chart here . https://learn.microsoft.com/en-us/sql/connect/jdbc/using-basic-data-types?view=sql-server-ver16\r\n\r\n    using java.time.OffsetDateTime\r\n\r\n    private OffsetDateTime purchaseDate;\r\n\r\n\r\nI am thinking MS SQL `datetimeoffset`, however the table is displaying Java type as `microsoft.sql.DateTimeOffset`, not `java.time.OffsetDateTime` .  \r\n\r\nHowever, using `datetimeoffset` in SQL seems to work with `java.time.OffsetDateTime`, just want to be sure.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tIwiw.png","title":"What is the SQL Server Database column type for java.time.OffsetDateTime?","body":"<p>We are trying to map <code>OffsetDateTime</code> in Java and insert into SQL Server, using <code>JDBCTemplate</code>. Our customers are in multiple different time zones around the world.</p>\n<p>What is the proper SQL Server / Azure SQL data column type for OffsetDateTime? I didn't see it in chart here . <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-basic-data-types?view=sql-server-ver16\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/using-basic-data-types?view=sql-server-ver16</a></p>\n<pre><code>using java.time.OffsetDateTime\n\nprivate OffsetDateTime purchaseDate;\n</code></pre>\n<p>I am thinking MS SQL <code>datetimeoffset</code>, however the table is displaying Java type as <code>microsoft.sql.DateTimeOffset</code>, not <code>java.time.OffsetDateTime</code> .</p>\n<p>However, using <code>datetimeoffset</code> in SQL seems to work with <code>java.time.OffsetDateTime</code>, just want to be sure.</p>\n<p><a href=\"https://i.stack.imgur.com/tIwiw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tIwiw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","entity","screen","jmix"],"comments":[{"owner":{"account_id":2705212,"reputation":627,"user_id":2334952,"display_name":"knstvk"},"score":0,"creation_date":1700142086,"post_id":77458689,"comment_id":136620002,"body_markdown":"It&#39;s hardly possible to say where is the problem from the provided information. I would recommend creating a test project with the reproducible scenario and posting it to the Jmix forum.","body":"It&#39;s hardly possible to say where is the problem from the provided information. I would recommend creating a test project with the reproducible scenario and posting it to the Jmix forum."}],"owner":{"account_id":29845895,"reputation":1,"user_id":22872974,"display_name":"Анастасия Максаймер"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699606964,"creation_date":1699605903,"question_id":77458689,"body_markdown":"I have a successor to the User entity - the client. It is referenced by the Type entity. When I load the application and try to create a new type, I select the client to which I want to bind the type, but an error appears that such a client already exists, although I do not create a client, but select an existing one.\r\n\r\n```java\r\npackage com.company.perfect_project.entity;\r\n\r\nimport io.jmix.core.metamodel.annotation.JmixEntity;\r\n\r\nimport javax.persistence.Entity;\r\n\r\n@JmixEntity\r\n@Entity(name = &quot;Client_&quot;)\r\npublic class Client extends User {\r\n\r\n}\r\n```\r\n\r\nType Entity\r\n\r\n```java\r\npackage com.company.perfect_project.entity;\r\n\r\nimport io.jmix.core.metamodel.annotation.JmixEntity;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@JmixEntity\r\n@Table(name = &quot;TYPE_&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;NAME&quot;, &quot;CLIENT&quot;})})\r\n@Entity(name = &quot;Type_&quot;)\r\npublic class Type {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    @NotNull\r\n    private String name;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;USER_ID&quot;)\r\n    @NotNull\r\n    private Client client;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Client getClient() {\r\n        return client;\r\n    }\r\n\r\n    public void setClient(Client client) {\r\n        this.client = client;\r\n    }\r\n}\r\n```\r\n\r\ntype-edit.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;window xmlns=&quot;http://jmix.io/schema/ui/window&quot;\r\n        caption=&quot;msg://typeEdit.caption&quot;\r\n        focusComponent=&quot;form&quot;&gt;\r\n    &lt;data&gt;\r\n        &lt;instance id=&quot;typeDc&quot;\r\n                  class=&quot;com.company.perfect_project.entity.Type&quot;&gt;\r\n            &lt;fetchPlan extends=&quot;_base&quot;&gt;\r\n                &lt;property name=&quot;client&quot; fetchPlan=&quot;_instance_name&quot;/&gt;\r\n            &lt;/fetchPlan&gt;\r\n            &lt;loader/&gt;\r\n        &lt;/instance&gt;\r\n    &lt;/data&gt;\r\n    &lt;facets&gt;\r\n        &lt;dataLoadCoordinator auto=&quot;true&quot;/&gt;\r\n        &lt;screenSettings id=&quot;settingsFacet&quot; auto=&quot;true&quot;/&gt;\r\n    &lt;/facets&gt;\r\n    &lt;actions&gt;\r\n        &lt;action id=&quot;windowCommitAndClose&quot; caption=&quot;msg:///actions.Ok&quot;\r\n                icon=&quot;EDITOR_OK&quot;\r\n                primary=&quot;true&quot;\r\n                shortcut=&quot;${COMMIT_SHORTCUT}&quot;/&gt;\r\n        &lt;action id=&quot;windowClose&quot;\r\n                caption=&quot;msg:///actions.Close&quot;\r\n                icon=&quot;EDITOR_CANCEL&quot;/&gt;\r\n    &lt;/actions&gt;\r\n    &lt;dialogMode height=&quot;600&quot;\r\n                width=&quot;800&quot;/&gt;\r\n    &lt;layout spacing=&quot;true&quot; expand=&quot;editActions&quot;&gt;\r\n        &lt;form id=&quot;form&quot; dataContainer=&quot;typeDc&quot;&gt;\r\n            &lt;column width=&quot;350px&quot;&gt;\r\n                &lt;textField id=&quot;nameField&quot; property=&quot;name&quot;/&gt;\r\n                &lt;entityPicker id=&quot;clientField&quot; property=&quot;client&quot;&gt;\r\n                    &lt;actions&gt;\r\n                        &lt;action id=&quot;entityLookup&quot; type=&quot;entity_lookup&quot;/&gt;\r\n                        &lt;action id=&quot;entityClear&quot; type=&quot;entity_clear&quot;/&gt;\r\n                    &lt;/actions&gt;\r\n                &lt;/entityPicker&gt;\r\n            &lt;/column&gt;\r\n        &lt;/form&gt;\r\n        &lt;hbox id=&quot;editActions&quot; spacing=&quot;true&quot;&gt;\r\n            &lt;button id=&quot;commitAndCloseBtn&quot; action=&quot;windowCommitAndClose&quot;/&gt;\r\n            &lt;button id=&quot;closeBtn&quot; action=&quot;windowClose&quot;/&gt;\r\n        &lt;/hbox&gt;\r\n    &lt;/layout&gt;\r\n&lt;/window&gt;\r\n```\r\n\r\nwhere is the problem?\r\n\r\nI use Java 17 and JMix 1.1.4, my idea can’t found newer versions, i don’t know why.","title":"Creating referencing entities (Jmix)","body":"<p>I have a successor to the User entity - the client. It is referenced by the Type entity. When I load the application and try to create a new type, I select the client to which I want to bind the type, but an error appears that such a client already exists, although I do not create a client, but select an existing one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.perfect_project.entity;\n\nimport io.jmix.core.metamodel.annotation.JmixEntity;\n\nimport javax.persistence.Entity;\n\n@JmixEntity\n@Entity(name = &quot;Client_&quot;)\npublic class Client extends User {\n\n}\n</code></pre>\n<p>Type Entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.perfect_project.entity;\n\nimport io.jmix.core.metamodel.annotation.JmixEntity;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\n\n@JmixEntity\n@Table(name = &quot;TYPE_&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;NAME&quot;, &quot;CLIENT&quot;})})\n@Entity(name = &quot;Type_&quot;)\npublic class Type {\n\n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;NAME&quot;)\n    @NotNull\n    private String name;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;USER_ID&quot;)\n    @NotNull\n    private Client client;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Client getClient() {\n        return client;\n    }\n\n    public void setClient(Client client) {\n        this.client = client;\n    }\n}\n</code></pre>\n<p>type-edit.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;window xmlns=&quot;http://jmix.io/schema/ui/window&quot;\n        caption=&quot;msg://typeEdit.caption&quot;\n        focusComponent=&quot;form&quot;&gt;\n    &lt;data&gt;\n        &lt;instance id=&quot;typeDc&quot;\n                  class=&quot;com.company.perfect_project.entity.Type&quot;&gt;\n            &lt;fetchPlan extends=&quot;_base&quot;&gt;\n                &lt;property name=&quot;client&quot; fetchPlan=&quot;_instance_name&quot;/&gt;\n            &lt;/fetchPlan&gt;\n            &lt;loader/&gt;\n        &lt;/instance&gt;\n    &lt;/data&gt;\n    &lt;facets&gt;\n        &lt;dataLoadCoordinator auto=&quot;true&quot;/&gt;\n        &lt;screenSettings id=&quot;settingsFacet&quot; auto=&quot;true&quot;/&gt;\n    &lt;/facets&gt;\n    &lt;actions&gt;\n        &lt;action id=&quot;windowCommitAndClose&quot; caption=&quot;msg:///actions.Ok&quot;\n                icon=&quot;EDITOR_OK&quot;\n                primary=&quot;true&quot;\n                shortcut=&quot;${COMMIT_SHORTCUT}&quot;/&gt;\n        &lt;action id=&quot;windowClose&quot;\n                caption=&quot;msg:///actions.Close&quot;\n                icon=&quot;EDITOR_CANCEL&quot;/&gt;\n    &lt;/actions&gt;\n    &lt;dialogMode height=&quot;600&quot;\n                width=&quot;800&quot;/&gt;\n    &lt;layout spacing=&quot;true&quot; expand=&quot;editActions&quot;&gt;\n        &lt;form id=&quot;form&quot; dataContainer=&quot;typeDc&quot;&gt;\n            &lt;column width=&quot;350px&quot;&gt;\n                &lt;textField id=&quot;nameField&quot; property=&quot;name&quot;/&gt;\n                &lt;entityPicker id=&quot;clientField&quot; property=&quot;client&quot;&gt;\n                    &lt;actions&gt;\n                        &lt;action id=&quot;entityLookup&quot; type=&quot;entity_lookup&quot;/&gt;\n                        &lt;action id=&quot;entityClear&quot; type=&quot;entity_clear&quot;/&gt;\n                    &lt;/actions&gt;\n                &lt;/entityPicker&gt;\n            &lt;/column&gt;\n        &lt;/form&gt;\n        &lt;hbox id=&quot;editActions&quot; spacing=&quot;true&quot;&gt;\n            &lt;button id=&quot;commitAndCloseBtn&quot; action=&quot;windowCommitAndClose&quot;/&gt;\n            &lt;button id=&quot;closeBtn&quot; action=&quot;windowClose&quot;/&gt;\n        &lt;/hbox&gt;\n    &lt;/layout&gt;\n&lt;/window&gt;\n</code></pre>\n<p>where is the problem?</p>\n<p>I use Java 17 and JMix 1.1.4, my idea can’t found newer versions, i don’t know why.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":4743774,"reputation":55,"user_id":3835625,"display_name":"srkprasad"},"score":0,"creation_date":1699532552,"post_id":77452698,"comment_id":136545427,"body_markdown":"Thank you Ali Malik, Can you please help me,  With any possible dynamic solution for  this input &quot;length 10 cm width 2 depth 0.5 cm&quot;","body":"Thank you Ali Malik, Can you please help me,  With any possible dynamic solution for  this input &quot;length 10 cm width 2 depth 0.5 cm&quot;"},{"owner":{"account_id":3440545,"reputation":612,"user_id":2882619,"accept_rate":78,"display_name":"Ali Malek"},"score":0,"creation_date":1699534208,"post_id":77452698,"comment_id":136545754,"body_markdown":"@srkprasad What do you mean by dynamic solution? If you give more examples it would be good.","body":"@srkprasad What do you mean by dynamic solution? If you give more examples it would be good."},{"owner":{"account_id":4743774,"reputation":55,"user_id":3835625,"display_name":"srkprasad"},"score":0,"creation_date":1699536547,"post_id":77452698,"comment_id":136546239,"body_markdown":"Sometimes we don&#39;t add units (cm), Given input text like &quot;length 10 width 2 depth 0.5 cm&quot;, I want output like                          \nlength 10\nwidth 2\ndepth 0.5 cm","body":"Sometimes we don&#39;t add units (cm), Given input text like &quot;length 10 width 2 depth 0.5 cm&quot;, I want output like                           length 10 width 2 depth 0.5 cm"},{"owner":{"account_id":3440545,"reputation":612,"user_id":2882619,"accept_rate":78,"display_name":"Ali Malek"},"score":0,"creation_date":1699548384,"post_id":77452698,"comment_id":136548884,"body_markdown":"if you always use `cm` as the unit this regex will help you =&gt; `(\\w+\\s\\d+\\.?\\d*(\\scm)?)`. Otherwise, you need to add other units you have like `mm` and the regex would be =&gt; `(\\w+\\s\\d+\\.?\\d*(\\s(cm|mm))?)","body":"if you always use <code>cm</code> as the unit this regex will help you =&gt; <code>(\\w+\\s\\d+\\.?\\d*(\\scm)?)</code>. Otherwise, you need to add other units you have like <code>mm</code> and the regex would be =&gt; `(\\w+\\s\\d+\\.?\\d*(\\s(cm|mm))?)"},{"owner":{"account_id":3440545,"reputation":612,"user_id":2882619,"accept_rate":78,"display_name":"Ali Malek"},"score":0,"creation_date":1699552786,"post_id":77452698,"comment_id":136549781,"body_markdown":"@srkprasad See the **Update 1** section","body":"@srkprasad See the <b>Update 1</b> section"}],"tags":[],"owner":{"account_id":3440545,"reputation":612,"user_id":2882619,"accept_rate":78,"display_name":"Ali Malek"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699552745,"creation_date":1699528531,"answer_id":77452698,"question_id":77452410,"body_markdown":"You need to change your regex to match the correct result correctly:\r\n\r\nhere is a sample code that comes with your desired output\r\n\r\n```Java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String s = &quot;length 10 cm width 2 cm depth 0.5 cm&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;(\\\\w+\\\\s\\\\d+\\\\.?\\\\d*\\\\s\\\\w+)&quot;);\r\n        Matcher matcher = pattern.matcher(s);\r\n\r\n        while (matcher.find()) {\r\n            System.out.println(matcher.group());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the output would be:\r\n```txt\r\nlength 10 cm\r\nwidth 2 cm\r\ndepth 0.5 cm\r\n```\r\n\r\nFor getting more information on the regex, you can use [Regex 101 Site](https://regex101.com/) and put the string and the regex to get the explanation.\r\n\r\n**Update 1**\r\n\r\nTo achieve the dynamic solution the below code can help you in this case you need to determine the units as well. I assume you have `cm` and `mm` for more units you need to add them to the regex.\r\n\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String s = &quot;length 10 cm width 2 depth 0.5 cm extra 5 mm&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;(\\w+\\s\\d+\\.?\\d*(\\s(cm|mm))?)&quot;);\r\n        Matcher matcher = pattern.matcher(s);\r\n\r\n        while (matcher.find()) {\r\n            System.out.println(matcher.group());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthe output would be:\r\n```txt\r\nlength 10 cm\r\nwidth 2\r\ndepth 0.5 cm\r\nextra 5 mm\r\n```\r\n","title":"How to split a string by using regex in java","body":"<p>You need to change your regex to match the correct result correctly:</p>\n<p>here is a sample code that comes with your desired output</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String s = &quot;length 10 cm width 2 cm depth 0.5 cm&quot;;\n\n        Pattern pattern = Pattern.compile(&quot;(\\\\w+\\\\s\\\\d+\\\\.?\\\\d*\\\\s\\\\w+)&quot;);\n        Matcher matcher = pattern.matcher(s);\n\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre>\n<p>And the output would be:</p>\n<pre><code>length 10 cm\nwidth 2 cm\ndepth 0.5 cm\n</code></pre>\n<p>For getting more information on the regex, you can use <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">Regex 101 Site</a> and put the string and the regex to get the explanation.</p>\n<p><strong>Update 1</strong></p>\n<p>To achieve the dynamic solution the below code can help you in this case you need to determine the units as well. I assume you have <code>cm</code> and <code>mm</code> for more units you need to add them to the regex.</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String s = &quot;length 10 cm width 2 depth 0.5 cm extra 5 mm&quot;;\n\n        Pattern pattern = Pattern.compile(&quot;(\\w+\\s\\d+\\.?\\d*(\\s(cm|mm))?)&quot;);\n        Matcher matcher = pattern.matcher(s);\n\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre>\n<p>the output would be:</p>\n<pre><code>length 10 cm\nwidth 2\ndepth 0.5 cm\nextra 5 mm\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699606726,"creation_date":1699565368,"answer_id":77456467,"question_id":77452410,"body_markdown":"Splitting could lead to unexpected results if you also have other data, but for the example if you don&#39;t want to keep `depth 0.5 cm / length 10 cm` you could use:\r\n\r\n    \\h(?=width|depth)\\b\r\n\r\n[Regex demo](https://regex101.com/r/B9XO53/1)\r\n\r\nThe output after splitting:\r\n\r\n    length 10 cm\r\n    width 2 cm\r\n    depth 0.5 cm / length 10 cm\r\n    width 2\r\n    depth 0.5 cm\r\n\r\n&lt;hr&gt;\r\n\r\nIf you don&#39;t want to keep the &lt;code&gt; / &lt;/code&gt; and have all the units on a separate line:\r\n\r\n    (?&lt;=\\bcm)\\h[\\h/]*|(?&lt;=\\d)\\h+(?!cm\\b)\r\n\r\n\r\nThe pattern matches\r\n\r\n- `(?&lt;=\\bcm)` Positive lookbehind, assert that to the left is the word `cm`\r\n- `\\h[\\h/]*` Match at least a single horizontal whitespace char followed by optional horizontal whitespace chars or `/`\r\n- `|` Or\r\n- `(?&lt;=\\d)` Assert that to the left is a digit\r\n- `\\h+` Match 1 or more horizontal whitspace chars\r\n- `(?!cm\\b)` Assert that the word `cm` is not to the right\r\n\r\n[Regex demo](https://regex101.com/r/VjE3tx/1)\r\n\r\nExample\r\n\r\n    String s = &quot;length 10 cm width 2 cm depth 0.5 cm / length 10 cm width 2 depth 0.5 cm&quot;;\r\n    String[] tok = s.split(&quot;(?&lt;=\\\\bcm)\\\\h[\\\\h/]*|(?&lt;=\\\\d)\\\\h+(?!cm\\\\b)&quot;);\r\n    for (int i = 0; i &lt; tok.length; i++) {\r\n        System.out.println(tok[i]);\r\n    }\r\n\r\nOutput\r\n\r\n    length 10 cm\r\n    width 2 cm\r\n    depth 0.5 cm\r\n    length 10 cm\r\n    width 2\r\n    depth 0.5 cm\r\n\r\n&lt;hr&gt;\r\n\r\nBut matching would allow for a more precise match, which you can adapt to match more unit types as needed.\r\n\r\n**Note** to double escape the backslash in Java.\r\n\r\n    \\b(?:leng|wid|dep)th\\h+\\d+(?:\\.\\d+)?(?:\\h+cm)?\\b\r\n\r\n[Regex demo](https://regex101.com/r/93VgCr/1) | [Java demo](https://ideone.com/fbf8x2)","title":"How to split a string by using regex in java","body":"<p>Splitting could lead to unexpected results if you also have other data, but for the example if you don't want to keep <code>depth 0.5 cm / length 10 cm</code> you could use:</p>\n<pre><code>\\h(?=width|depth)\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/B9XO53/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>The output after splitting:</p>\n<pre><code>length 10 cm\nwidth 2 cm\ndepth 0.5 cm / length 10 cm\nwidth 2\ndepth 0.5 cm\n</code></pre>\n<hr>\n<p>If you don't want to keep the <code> / </code> and have all the units on a separate line:</p>\n<pre><code>(?&lt;=\\bcm)\\h[\\h/]*|(?&lt;=\\d)\\h+(?!cm\\b)\n</code></pre>\n<p>The pattern matches</p>\n<ul>\n<li><code>(?&lt;=\\bcm)</code> Positive lookbehind, assert that to the left is the word <code>cm</code></li>\n<li><code>\\h[\\h/]*</code> Match at least a single horizontal whitespace char followed by optional horizontal whitespace chars or <code>/</code></li>\n<li><code>|</code> Or</li>\n<li><code>(?&lt;=\\d)</code> Assert that to the left is a digit</li>\n<li><code>\\h+</code> Match 1 or more horizontal whitspace chars</li>\n<li><code>(?!cm\\b)</code> Assert that the word <code>cm</code> is not to the right</li>\n</ul>\n<p><a href=\"https://regex101.com/r/VjE3tx/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Example</p>\n<pre><code>String s = &quot;length 10 cm width 2 cm depth 0.5 cm / length 10 cm width 2 depth 0.5 cm&quot;;\nString[] tok = s.split(&quot;(?&lt;=\\\\bcm)\\\\h[\\\\h/]*|(?&lt;=\\\\d)\\\\h+(?!cm\\\\b)&quot;);\nfor (int i = 0; i &lt; tok.length; i++) {\n    System.out.println(tok[i]);\n}\n</code></pre>\n<p>Output</p>\n<pre><code>length 10 cm\nwidth 2 cm\ndepth 0.5 cm\nlength 10 cm\nwidth 2\ndepth 0.5 cm\n</code></pre>\n<hr>\n<p>But matching would allow for a more precise match, which you can adapt to match more unit types as needed.</p>\n<p><strong>Note</strong> to double escape the backslash in Java.</p>\n<pre><code>\\b(?:leng|wid|dep)th\\h+\\d+(?:\\.\\d+)?(?:\\h+cm)?\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/93VgCr/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/fbf8x2\" rel=\"nofollow noreferrer\">Java demo</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699581159,"creation_date":1699581159,"answer_id":77457292,"question_id":77452410,"body_markdown":"Try the following _match pattern_.\r\n\r\n```none\r\n(?: (?&lt;![/*+-] )(?=length|width|depth))\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nlength 10 cm\r\nwidth 2 cm\r\ndepth 0.5 cm / length 10 cm\r\nwidth 2\r\ndepth 0.5 cm\r\n```","title":"How to split a string by using regex in java","body":"<p>Try the following <em>match pattern</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?: (?&lt;![/*+-] )(?=length|width|depth))\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>length 10 cm\nwidth 2 cm\ndepth 0.5 cm / length 10 cm\nwidth 2\ndepth 0.5 cm\n</code></pre>\n"}],"owner":{"account_id":4743774,"reputation":55,"user_id":3835625,"display_name":"srkprasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77457292,"answer_count":3,"score":2,"last_activity_date":1699606726,"creation_date":1699526215,"question_id":77452410,"body_markdown":"I have a string like this \r\n\r\n    length 10 cm width 2 cm depth 0.5 cm / length 10 cm width 2 depth 0.5 cm\r\n   \r\n\r\nI want to get output like\r\n\r\n    length 10 cm\r\n    width 2 cm / width 2\r\n    depth 0.5 cm   \r\n \r\nI tried this\r\n\r\n    public static void main(String []args) {\r\n        String s = &quot;length 10 cm width 2 cm depth 0.5 cm&quot;;\r\n        String[] tok = s.split(&quot;(?&lt;=\\\\d)\\\\s&quot;);\r\n        for(int i=0; i&lt; tok.length; i++) {\r\n            System.out.println(tok[i]);\r\n        }\r\n    }\r\n\r\nIt returns:\r\n\r\n    length 10\r\n    cm width 2\r\n    cm depth 0.5\r\n    cm\r\n  ","title":"How to split a string by using regex in java","body":"<p>I have a string like this</p>\n<pre><code>length 10 cm width 2 cm depth 0.5 cm / length 10 cm width 2 depth 0.5 cm\n</code></pre>\n<p>I want to get output like</p>\n<pre><code>length 10 cm\nwidth 2 cm / width 2\ndepth 0.5 cm   \n</code></pre>\n<p>I tried this</p>\n<pre><code>public static void main(String []args) {\n    String s = &quot;length 10 cm width 2 cm depth 0.5 cm&quot;;\n    String[] tok = s.split(&quot;(?&lt;=\\\\d)\\\\s&quot;);\n    for(int i=0; i&lt; tok.length; i++) {\n        System.out.println(tok[i]);\n    }\n}\n</code></pre>\n<p>It returns:</p>\n<pre><code>length 10\ncm width 2\ncm depth 0.5\ncm\n</code></pre>\n"},{"tags":["java","currency","number-formatting"],"comments":[{"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"score":2,"creation_date":1325088703,"post_id":8658205,"comment_id":10758129,"body_markdown":"Have you tried `.setCurrencySymbol(&quot;&quot;)`?","body":"Have you tried <code>.setCurrencySymbol(&quot;&quot;)</code>?"},{"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"score":0,"creation_date":1325088882,"post_id":8658205,"comment_id":10758187,"body_markdown":"@home: http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormatSymbols.html","body":"@home: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormatSymbols.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":4,"creation_date":1325088895,"post_id":8658205,"comment_id":10758190,"body_markdown":"When there is no need for the currency, why not using `NumberFormat#getInstance( Locale )` ?","body":"When there is no need for the currency, why not using <code>NumberFormat#getInstance( Locale )</code> ?"},{"owner":{"account_id":142682,"reputation":17408,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"score":0,"creation_date":1325089494,"post_id":8658205,"comment_id":10758407,"body_markdown":"@home I was confused to.... \nDecimalFormatSymbols symbols = formatter.getDecimalFormatSymbols();","body":"@home I was confused to....  DecimalFormatSymbols symbols = formatter.getDecimalFormatSymbols();"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":1,"creation_date":1397147222,"post_id":8658205,"comment_id":35116593,"body_markdown":"@home, the result is different. Example: when you use NumberFormat.getInstance(), the result could be &quot;1,200&quot;, but when you use NumberFormat.getCurrencyInstance(), the result is &quot;1,200.00&quot;","body":"@home, the result is different. Example: when you use NumberFormat.getInstance(), the result could be &quot;1,200&quot;, but when you use NumberFormat.getCurrencyInstance(), the result is &quot;1,200.00&quot;"},{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":1,"creation_date":1565185242,"post_id":8658205,"comment_id":101273335,"body_markdown":"For example, Swiss Francs https://learn.microsoft.com/en-us/globalization/locale/currency-formatting\n\n_Most currencies use the same decimal and thousands separator that the numbers in the locale use, but this is not always true. In some places in Switzerland, they use the period as a decimal separator for Swiss frans (Sfr. 127.54), but then use commas as the decimal separator everywhere else (127,54)_","body":"For example, Swiss Francs <a href=\"https://learn.microsoft.com/en-us/globalization/locale/currency-formatting\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/globalization/locale/&hellip;</a>  <i>Most currencies use the same decimal and thousands separator that the numbers in the locale use, but this is not always true. In some places in Switzerland, they use the period as a decimal separator for Swiss frans (Sfr. 127.54), but then use commas as the decimal separator everywhere else (127,54)</i>"},{"owner":{"account_id":12523786,"reputation":115,"user_id":9114314,"display_name":"Dannie"},"score":1,"creation_date":1584110475,"post_id":8658205,"comment_id":107344187,"body_markdown":"You should use the response described here https://stackoverflow.com/a/54439986/9114314","body":"You should use the response described here <a href=\"https://stackoverflow.com/a/54439986/9114314\">stackoverflow.com/a/54439986/9114314</a>"}],"answers":[{"comments":[{"owner":{"account_id":1096730,"reputation":1502,"user_id":1090175,"accept_rate":52,"display_name":"anderswelt"},"score":0,"creation_date":1325135241,"post_id":8658385,"comment_id":10767742,"body_markdown":"this is equally right as well though can only chose one answer as the right one..","body":"this is equally right as well though can only chose one answer as the right one.."},{"owner":{"account_id":72205,"reputation":2651,"user_id":208576,"accept_rate":100,"display_name":"AdrianRM"},"score":2,"creation_date":1350059225,"post_id":8658385,"comment_id":17410428,"body_markdown":"I think the point is what Robin wrote: There is no need for  `getCurrencyInstance`, just use `getNumberInstance`","body":"I think the point is what Robin wrote: There is no need for  <code>getCurrencyInstance</code>, just use <code>getNumberInstance</code>"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":1,"creation_date":1387575977,"post_id":8658385,"comment_id":31026185,"body_markdown":"I think you might also need to set `formatter.setMinimumFractionDigits(2);` in your second example.","body":"I think you might also need to set <code>formatter.setMinimumFractionDigits(2);</code> in your second example."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1548849150,"post_id":8658385,"comment_id":95689134,"body_markdown":"@JoshDM: you shouldn&#39;t hardcode &quot;2&quot; here, unless you know you always want US Dollars, as the number of decimal points in currencies vary.","body":"@JoshDM: you shouldn&#39;t hardcode &quot;2&quot; here, unless you know you always want US Dollars, as the number of decimal points in currencies vary."},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1548870415,"post_id":8658385,"comment_id":95702121,"body_markdown":"@JoachimSauer I certainly can hardcode it in a 5-year old comment; I leave it up to the original requester to design a dynamic approach to setting the variable based on required Locale.","body":"@JoachimSauer I certainly can hardcode it in a 5-year old comment; I leave it up to the original requester to design a dynamic approach to setting the variable based on required Locale."},{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":0,"creation_date":1565185304,"post_id":8658385,"comment_id":101273372,"body_markdown":"_I think the point is what Robin wrote: There is no need for getCurrencyInstance, just use getNumberInstance_. Not true. See my comment on the OP.","body":"<i>I think the point is what Robin wrote: There is no need for getCurrencyInstance, just use getNumberInstance</i>. Not true. See my comment on the OP."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":6,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1456747846,"creation_date":1325089044,"answer_id":8658385,"question_id":8658205,"body_markdown":"Set it with an empty string instead:\r\n\r\n    DecimalFormat formatter = (DecimalFormat) NumberFormat.getCurrencyInstance(Locale.US);\r\n    DecimalFormatSymbols symbols = formatter.getDecimalFormatSymbols();\r\n    symbols.setCurrencySymbol(&quot;&quot;); // Don&#39;t use null.\r\n    formatter.setDecimalFormatSymbols(symbols);\r\n    System.out.println(formatter.format(12.3456)); // 12.35\r\n","title":"Format currency without currency symbol","body":"<p>Set it with an empty string instead:</p>\n\n<pre><code>DecimalFormat formatter = (DecimalFormat) NumberFormat.getCurrencyInstance(Locale.US);\nDecimalFormatSymbols symbols = formatter.getDecimalFormatSymbols();\nsymbols.setCurrencySymbol(\"\"); // Don't use null.\nformatter.setDecimalFormatSymbols(symbols);\nSystem.out.println(formatter.format(12.3456)); // 12.35\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198944,"reputation":13061,"user_id":803225,"accept_rate":58,"display_name":"Chris.Jenkins"},"score":0,"creation_date":1412164278,"post_id":8658399,"comment_id":40974408,"body_markdown":"Until you use negative amounts, then it shows the Symbol again. I&#39;m sure that must be a bug.","body":"Until you use negative amounts, then it shows the Symbol again. I&#39;m sure that must be a bug."},{"owner":{"account_id":268060,"reputation":2056,"user_id":556600,"display_name":"SoftWyer"},"score":0,"creation_date":1546465730,"post_id":8658399,"comment_id":94864222,"body_markdown":"To fix the negative showing the currency, you can add the line:\n\n`((DecimalFormat) nf).setNegativePrefix(&quot;&quot;+decimalFormatSymbols.getMinusSign());`","body":"To fix the negative showing the currency, you can add the line:  <code>((DecimalFormat) nf).setNegativePrefix(&quot;&quot;+decimalFormatSymbols.getMinusSign()&zwnj;&#8203;);</code>"},{"owner":{"account_id":1573402,"reputation":329,"user_id":1460559,"display_name":"bizwiz"},"score":0,"creation_date":1548751608,"post_id":8658399,"comment_id":95643771,"body_markdown":"pattern.replace(&quot;\\u00A4&quot;, &quot;&quot;).trim()  &lt;-- This trim doesn&#39;t work because Java uses non-breaking space \\u00A0 which is not removed by this method.","body":"pattern.replace(&quot;\\u00A4&quot;, &quot;&quot;).trim()  &lt;-- This trim doesn&#39;t work because Java uses non-breaking space \\u00A0 which is not removed by this method."},{"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"score":0,"creation_date":1620392358,"post_id":8658399,"comment_id":119194387,"body_markdown":"Nice Answer @ JB","body":"Nice Answer @ JB"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":4,"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1325089125,"creation_date":1325089125,"answer_id":8658399,"question_id":8658205,"body_markdown":"The following works. It&#39;s a bit ugly, but it fulfils the contract:\r\n\r\n    NumberFormat nf = NumberFormat.getCurrencyInstance();\r\n    DecimalFormatSymbols decimalFormatSymbols = ((DecimalFormat) nf).getDecimalFormatSymbols();\r\n    decimalFormatSymbols.setCurrencySymbol(&quot;&quot;);\r\n    ((DecimalFormat) nf).setDecimalFormatSymbols(decimalFormatSymbols);\r\n    System.out.println(nf.format(12345.124).trim());\r\n\r\nYou could also get the pattern from the currency format, remove the currency symbol, and reconstruct a new format from the new pattern:\r\n\r\n    NumberFormat nf = NumberFormat.getCurrencyInstance();\r\n    String pattern = ((DecimalFormat) nf).toPattern();\r\n    String newPattern = pattern.replace(&quot;\\u00A4&quot;, &quot;&quot;).trim();\r\n    NumberFormat newFormat = new DecimalFormat(newPattern);\r\n    System.out.println(newFormat.format(12345.124));","title":"Format currency without currency symbol","body":"<p>The following works. It's a bit ugly, but it fulfils the contract:</p>\n\n<pre><code>NumberFormat nf = NumberFormat.getCurrencyInstance();\nDecimalFormatSymbols decimalFormatSymbols = ((DecimalFormat) nf).getDecimalFormatSymbols();\ndecimalFormatSymbols.setCurrencySymbol(\"\");\n((DecimalFormat) nf).setDecimalFormatSymbols(decimalFormatSymbols);\nSystem.out.println(nf.format(12345.124).trim());\n</code></pre>\n\n<p>You could also get the pattern from the currency format, remove the currency symbol, and reconstruct a new format from the new pattern:</p>\n\n<pre><code>NumberFormat nf = NumberFormat.getCurrencyInstance();\nString pattern = ((DecimalFormat) nf).toPattern();\nString newPattern = pattern.replace(\"\\u00A4\", \"\").trim();\nNumberFormat newFormat = new DecimalFormat(newPattern);\nSystem.out.println(newFormat.format(12345.124));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1479530,"reputation":6711,"user_id":1389219,"accept_rate":50,"display_name":"vegemite4me"},"score":3,"creation_date":1415382851,"post_id":19160806,"comment_id":42187226,"body_markdown":"This is only helpful if the Locale is US, Canada, Australia, etc. It does not work for Sterling or Euro (where some countries use decimal points instead of commas for the thousand separator).","body":"This is only helpful if the Locale is US, Canada, Australia, etc. It does not work for Sterling or Euro (where some countries use decimal points instead of commas for the thousand separator)."},{"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"score":2,"creation_date":1415615889,"post_id":19160806,"comment_id":42247444,"body_markdown":"The post is not about using period or commas as thousand separators, u are off topic","body":"The post is not about using period or commas as thousand separators, u are off topic"},{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1426439645,"post_id":19160806,"comment_id":46363236,"body_markdown":"I still get for  DecimalFormat df = new DecimalFormat(&quot;#,##0.00&quot;);  Exception in thread &quot;main&quot; java.text.ParseException: Unparseable number: &quot;$400.00&quot;","body":"I still get for  DecimalFormat df = new DecimalFormat(&quot;#,##0.00&quot;);  Exception in thread &quot;main&quot; java.text.ParseException: Unparseable number: &quot;$400.00&quot;"}],"tags":[],"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"comment_count":3,"down_vote_count":6,"up_vote_count":4,"is_accepted":false,"score":-2,"last_activity_date":1380807721,"creation_date":1380807721,"answer_id":19160806,"question_id":8658205,"body_markdown":"there is **a need** for a currency format &quot;WITHOUT the symbol&quot;, when u got huge reports or views and almost all columns represent monetary values, the symbol is annoying, there is no need for the symbol but yes for thousands separator and decimal comma.\r\nU need \r\n   \r\n    new DecimalFormat(&quot;#,##0.00&quot;);\r\n\r\nand not\r\n\r\n    new DecimalFormat(&quot;$#,##0.00&quot;);","title":"Format currency without currency symbol","body":"<p>there is <strong>a need</strong> for a currency format \"WITHOUT the symbol\", when u got huge reports or views and almost all columns represent monetary values, the symbol is annoying, there is no need for the symbol but yes for thousands separator and decimal comma.\nU need </p>\n\n<pre><code>new DecimalFormat(\"#,##0.00\");\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>new DecimalFormat(\"$#,##0.00\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580778,"reputation":672,"user_id":1466212,"accept_rate":78,"display_name":"Velizar Hristov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476303789,"creation_date":1476303789,"answer_id":40007679,"question_id":8658205,"body_markdown":"\r\n    DecimalFormat df = new DecimalFormat();\r\n    df.setMinimumFractionDigits(2);\r\n    String formatted = df.format(num);\r\n\r\nWorks with many types for `num`, but don&#39;t forget to [represent currency with BigDecimal][1].\r\n\r\nFor the situations when your `num` can have more than two digits after the decimal point, you could use `df.setMaximumFractionDigits(2)` to show only two, but that could only hide an underlying problem from whoever is running the application.\r\n\r\n  [1]: https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency","title":"Format currency without currency symbol","body":"<pre><code>DecimalFormat df = new DecimalFormat();\ndf.setMinimumFractionDigits(2);\nString formatted = df.format(num);\n</code></pre>\n\n<p>Works with many types for <code>num</code>, but don't forget to <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">represent currency with BigDecimal</a>.</p>\n\n<p>For the situations when your <code>num</code> can have more than two digits after the decimal point, you could use <code>df.setMaximumFractionDigits(2)</code> to show only two, but that could only hide an underlying problem from whoever is running the application.</p>\n"},{"tags":[],"owner":{"account_id":5814738,"reputation":318,"user_id":4584756,"display_name":"Codingpan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523911988,"creation_date":1523911988,"answer_id":49866048,"question_id":8658205,"body_markdown":"Maybe we can just use replace or substring to just take the number part of the formatted string.\r\n\r\n    NumberFormat fmt = NumberFormat.getCurrencyInstance(Locale.getDefault());\r\n    fmt.format(-1989.64).replace(fmt.getCurrency().getSymbol(), &quot;&quot;);\r\n    //fmt.format(1989.64).substring(1);  //this doesn&#39;t work for negative number since its format is -$1989.64","title":"Format currency without currency symbol","body":"<p>Maybe we can just use replace or substring to just take the number part of the formatted string.</p>\n\n<pre><code>NumberFormat fmt = NumberFormat.getCurrencyInstance(Locale.getDefault());\nfmt.format(-1989.64).replace(fmt.getCurrency().getSymbol(), \"\");\n//fmt.format(1989.64).substring(1);  //this doesn't work for negative number since its format is -$1989.64\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2393803,"reputation":3514,"user_id":2093088,"accept_rate":86,"display_name":"Riot Goes Woof"},"score":0,"creation_date":1564163794,"post_id":55851847,"comment_id":100954267,"body_markdown":"Love me some regex. Good solution using something simple like replaceAll while still being able to account for multiple formats","body":"Love me some regex. Good solution using something simple like replaceAll while still being able to account for multiple formats"},{"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"score":1,"creation_date":1569108097,"post_id":55851847,"comment_id":102489655,"body_markdown":"You might want to keep the minus sign (and also parenthesis)  for negative numbers.  `currencyString.replaceAll(&quot;[^0123456789.,()-]&quot;,&quot;&quot;)`","body":"You might want to keep the minus sign (and also parenthesis)  for negative numbers.  <code>currencyString.replaceAll(&quot;[^0123456789.,()-]&quot;,&quot;&quot;)</code>"},{"owner":{"account_id":14740293,"reputation":477,"user_id":10645087,"display_name":"AndroidKotlinNoob"},"score":0,"creation_date":1658915751,"post_id":55851847,"comment_id":129168507,"body_markdown":"also some languages use an apostrophe (U+0027 or U+2019) as the thousands separator.\nSo you might want to do `currencyString.replaceAll(&quot;[^0123456789.,\\(\\)\\-\\x{0027}\\x{2019}]&quot;,&quot;&quot;)`","body":"also some languages use an apostrophe (U+0027 or U+2019) as the thousands separator. So you might want to do <code>currencyString.replaceAll(&quot;[^0123456789.,\\(\\)\\-\\x{0027}\\x{20&zwnj;&#8203;19}]&quot;,&quot;&quot;)</code>"}],"tags":[],"owner":{"account_id":471385,"reputation":988,"user_id":879154,"display_name":"Quentin G."},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1556202904,"creation_date":1556202904,"answer_id":55851847,"question_id":8658205,"body_markdown":"The given solution worked but ended up lefting some whitespaces for Euro for example.\r\nI ended up doing :\r\n\r\n    numberFormat.format(myNumber).replaceAll(&quot;[^0123456789.,]&quot;,&quot;&quot;);\r\nThis makes sure we have the currency formatting for a number without the currency or any other symbol.","title":"Format currency without currency symbol","body":"<p>The given solution worked but ended up lefting some whitespaces for Euro for example.\nI ended up doing :</p>\n\n<pre><code>numberFormat.format(myNumber).replaceAll(\"[^0123456789.,]\",\"\");\n</code></pre>\n\n<p>This makes sure we have the currency formatting for a number without the currency or any other symbol.</p>\n"},{"tags":[],"owner":{"account_id":10016992,"reputation":74,"user_id":7407911,"display_name":"Vijay Ankith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557204097,"creation_date":1557204097,"answer_id":56015656,"question_id":8658205,"body_markdown":"Two Line answer\r\n   \r\n    NumberFormat formatCurrency = new NumberFormat.currency(symbol: &quot;&quot;);\r\n    var currencyConverted = formatCurrency.format(money);\r\n\r\nIn TextView\r\n\r\n    new Text(&#39;${formatCurrency.format(money}&#39;),","title":"Format currency without currency symbol","body":"<p>Two Line answer</p>\n\n<pre><code>NumberFormat formatCurrency = new NumberFormat.currency(symbol: \"\");\nvar currencyConverted = formatCurrency.format(money);\n</code></pre>\n\n<p>In TextView</p>\n\n<pre><code>new Text('${formatCurrency.format(money}'),\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15270780,"reputation":87,"user_id":11018063,"display_name":"Vincenzo Centofanti"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1572026419,"creation_date":1572009074,"answer_id":58559190,"question_id":8658205,"body_markdown":"Please try below:\r\n\r\n    var totale=64000.15\r\n    var formatter = new Intl.NumberFormat(&#39;de-DE&#39;);\r\n    totaleGT=new Intl.NumberFormat(&#39;de-DE&#39; ).format(totale)","title":"Format currency without currency symbol","body":"<p>Please try below:</p>\n\n<pre><code>var totale=64000.15\nvar formatter = new Intl.NumberFormat('de-DE');\ntotaleGT=new Intl.NumberFormat('de-DE' ).format(totale)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1476229,"reputation":1192,"user_id":1386556,"display_name":"DevinM"},"score":2,"creation_date":1594921675,"post_id":59654767,"comment_id":111303900,"body_markdown":"This returns a value #.# whereas getCurrencyInstance() returns #.##","body":"This returns a value #.# whereas getCurrencyInstance() returns #.##"}],"tags":[],"owner":{"account_id":6461137,"reputation":4433,"user_id":5004910,"display_name":"Gnzlt"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1578523783,"creation_date":1578522990,"answer_id":59654767,"question_id":8658205,"body_markdown":"Just use `NumberFormat.getInstance()` instead of `NumberFormat.getCurrencyInstance()` like follows:\r\n\r\n    val numberFormat = NumberFormat.getInstance().apply {\r\n        this.currency = Currency.getInstance()\r\n    }\r\n\r\n    val formattedText = numberFormat.format(3.4)","title":"Format currency without currency symbol","body":"<p>Just use <code>NumberFormat.getInstance()</code> instead of <code>NumberFormat.getCurrencyInstance()</code> like follows:</p>\n\n<pre><code>val numberFormat = NumberFormat.getInstance().apply {\n    this.currency = Currency.getInstance()\n}\n\nval formattedText = numberFormat.format(3.4)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14740293,"reputation":477,"user_id":10645087,"display_name":"AndroidKotlinNoob"},"score":0,"creation_date":1658922368,"post_id":60392531,"comment_id":129171133,"body_markdown":"this also removes the minus sign for negative numbers","body":"this also removes the minus sign for negative numbers"}],"tags":[],"owner":{"account_id":4271002,"reputation":2019,"user_id":3492805,"accept_rate":72,"display_name":"pzeszko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582626783,"creation_date":1582626783,"answer_id":60392531,"question_id":8658205,"body_markdown":"Most (all?) solutions provided here are useless in newer Java versions. Please use this:\r\n\r\n    DecimalFormat formatter = (DecimalFormat) DecimalFormat.getCurrencyInstance(Locale.forLanguageTag(&quot;hr&quot;));\r\n    formatter.setNegativeSuffix(&quot;&quot;); // does the trick\r\n    formatter.setPositiveSuffix(&quot;&quot;); // does the trick\r\n\r\n    formatter.format(new BigDecimal(&quot;12345.12&quot;))","title":"Format currency without currency symbol","body":"<p>Most (all?) solutions provided here are useless in newer Java versions. Please use this:</p>\n\n<pre><code>DecimalFormat formatter = (DecimalFormat) DecimalFormat.getCurrencyInstance(Locale.forLanguageTag(\"hr\"));\nformatter.setNegativeSuffix(\"\"); // does the trick\nformatter.setPositiveSuffix(\"\"); // does the trick\n\nformatter.format(new BigDecimal(\"12345.12\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4605464,"reputation":1353,"user_id":3735081,"display_name":"J.Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657464028,"creation_date":1592766190,"answer_id":62503204,"question_id":8658205,"body_markdown":"I still see people answering this question in 2020, so why not\r\n    \r\n    NumberFormat nf = NumberFormat.getInstance(Locale.US);\r\n    nf.setMinimumFractionDigits(2); // &lt;- the trick is here\r\n    System.out.println(nf.format(1000)); // &lt;- 1,000.00","title":"Format currency without currency symbol","body":"<p>I still see people answering this question in 2020, so why not</p>\n<pre><code>NumberFormat nf = NumberFormat.getInstance(Locale.US);\nnf.setMinimumFractionDigits(2); // &lt;- the trick is here\nSystem.out.println(nf.format(1000)); // &lt;- 1,000.00\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8935902,"reputation":2314,"user_id":6666745,"display_name":"KETAN PATIL"},"score":1,"creation_date":1606663010,"post_id":65061601,"comment_id":115022501,"body_markdown":"try to explain your solution a bit, what was wrong in users code and what did you do to solve it.","body":"try to explain your solution a bit, what was wrong in users code and what did you do to solve it."}],"tags":[],"owner":{"account_id":20089060,"reputation":1,"user_id":14729993,"display_name":"VIJAY UPPALA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606662579,"creation_date":1606662579,"answer_id":65061601,"question_id":8658205,"body_markdown":"```        \r\nNumberFormat numberFormat  = NumberFormat.getCurrencyInstance(Locale.UK);\r\n        System.out.println(&quot;getCurrency = &quot; + numberFormat.getCurrency());\r\n        String number = numberFormat.format(99.123452323232323232323232);\r\n        System.out.println(&quot;number = &quot; + number);\r\n\r\n```","title":"Format currency without currency symbol","body":"<pre><code>NumberFormat numberFormat  = NumberFormat.getCurrencyInstance(Locale.UK);\n        System.out.println(&quot;getCurrency = &quot; + numberFormat.getCurrency());\n        String number = numberFormat.format(99.123452323232323232323232);\n        System.out.println(&quot;number = &quot; + number);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13654567,"reputation":111,"user_id":9851480,"display_name":"Abdulkerim Yıldırım"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625560155,"creation_date":1625560155,"answer_id":68267081,"question_id":8658205,"body_markdown":"here the code that with any symbol (m2, currency, kilos, etc)\r\n\r\n    fun EditText.addCurrencyFormatter(symbol: String) {\r\n    \r\n       this.addTextChangedListener(object: TextWatcher {\r\n    \r\n            private var current = &quot;&quot;\r\n    \r\n            override fun afterTextChanged(s: Editable?) {\r\n            }\r\n    \r\n            override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\r\n            }\r\n    \r\n            override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\r\n    \r\n                if (s.toString() != current) {\r\n                    this@addCurrencyFormatter.removeTextChangedListener(this)\r\n    \r\n                    val cleanString = s.toString().replace(&quot;\\\\D&quot;.toRegex(), &quot;&quot;)\r\n                    val parsed = if (cleanString.isBlank()) 0.0 else cleanString.toInt()\r\n    \r\n                    val formatter = DecimalFormat.getInstance()\r\n    \r\n                    val formated = formatter.format(parsed).replace(&quot;,&quot;,&quot;.&quot;)\r\n    \r\n                    current = formated\r\n                    this@addCurrencyFormatter.setText(formated + &quot; $symbol&quot;)\r\n                    this@addCurrencyFormatter.setSelection(formated.length)\r\n    \r\n                    this@addCurrencyFormatter.addTextChangedListener(this)\r\n                }\r\n            }\r\n        })\r\n    \r\n    }\r\n\r\n\r\n-use with- \r\n\r\n    edit_text.addCurrencyFormatter(&quot;TL&quot;)\r\n\r\n","title":"Format currency without currency symbol","body":"<p>here the code that with any symbol (m2, currency, kilos, etc)</p>\n<pre><code>fun EditText.addCurrencyFormatter(symbol: String) {\n\n   this.addTextChangedListener(object: TextWatcher {\n\n        private var current = &quot;&quot;\n\n        override fun afterTextChanged(s: Editable?) {\n        }\n\n        override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n        }\n\n        override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n\n            if (s.toString() != current) {\n                this@addCurrencyFormatter.removeTextChangedListener(this)\n\n                val cleanString = s.toString().replace(&quot;\\\\D&quot;.toRegex(), &quot;&quot;)\n                val parsed = if (cleanString.isBlank()) 0.0 else cleanString.toInt()\n\n                val formatter = DecimalFormat.getInstance()\n\n                val formated = formatter.format(parsed).replace(&quot;,&quot;,&quot;.&quot;)\n\n                current = formated\n                this@addCurrencyFormatter.setText(formated + &quot; $symbol&quot;)\n                this@addCurrencyFormatter.setSelection(formated.length)\n\n                this@addCurrencyFormatter.addTextChangedListener(this)\n            }\n        }\n    })\n\n}\n</code></pre>\n<p>-use with-</p>\n<pre><code>edit_text.addCurrencyFormatter(&quot;TL&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19508563,"reputation":736,"user_id":14272972,"display_name":"RJnr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651515992,"creation_date":1651515992,"answer_id":72090865,"question_id":8658205,"body_markdown":"In a function like this\r\n\r\n \r\n\r\n     fun formatWithoutCurrency(value: Any): String {\r\n        val numberFormat = NumberFormat.getInstance()\r\n        return numberFormat.format(value)\r\n    }","title":"Format currency without currency symbol","body":"<p>In a function like this</p>\n<pre><code> fun formatWithoutCurrency(value: Any): String {\n    val numberFormat = NumberFormat.getInstance()\n    return numberFormat.format(value)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223679,"reputation":15080,"user_id":1189762,"accept_rate":90,"display_name":"Robin Wieruch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687520340,"creation_date":1687520340,"answer_id":76539747,"question_id":8658205,"body_markdown":"This does the trick for me. It shows it hardcoded for one locale, but you could pass in any locale as as both NumberFormat constructors use the same locale (and `currency`):\r\n\r\n```\r\nconst locale = &#39;en-US&#39;;\r\nconst currency = &#39;USD&#39;;\r\n\r\nconst getCurrencySymbol = () =&gt;\r\n  (0)\r\n    .toLocaleString(locale, {\r\n      style: &#39;currency&#39;,\r\n      currency: currency,\r\n      maximumFractionDigits: 0,\r\n      minimumFractionDigits: 0,\r\n    })\r\n    .replace(/\\d/g, &#39;&#39;)\r\n    .trim();\r\n\r\nconst formattedNumberWithoutSymbol = new Intl.NumberFormat(locale, {\r\n  style: &#39;currency&#39;,\r\n  currency: currency,\r\n}).format(499.99).replace(getCurrencySymbol(), &#39;&#39;);\r\n\r\nconsole.log(formattedNumberWithoutSymbol);\r\n```","title":"Format currency without currency symbol","body":"<p>This does the trick for me. It shows it hardcoded for one locale, but you could pass in any locale as as both NumberFormat constructors use the same locale (and <code>currency</code>):</p>\n<pre><code>const locale = 'en-US';\nconst currency = 'USD';\n\nconst getCurrencySymbol = () =&gt;\n  (0)\n    .toLocaleString(locale, {\n      style: 'currency',\n      currency: currency,\n      maximumFractionDigits: 0,\n      minimumFractionDigits: 0,\n    })\n    .replace(/\\d/g, '')\n    .trim();\n\nconst formattedNumberWithoutSymbol = new Intl.NumberFormat(locale, {\n  style: 'currency',\n  currency: currency,\n}).format(499.99).replace(getCurrencySymbol(), '');\n\nconsole.log(formattedNumberWithoutSymbol);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1028523,"reputation":8301,"user_id":1037294,"accept_rate":83,"display_name":"a.ch."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699606608,"creation_date":1699606608,"answer_id":77458767,"question_id":8658205,"body_markdown":"Looks like a cleaner solution that doesn&#39;t alter the currency symbol in a hacky way:\r\n\r\n    val numberFormat = NumberFormat.getNumberInstance().apply {\r\n        val priceFormat = NumberFormat.getCurrencyInstance()\r\n        minimumFractionDigits = priceFormat.minimumFractionDigits\r\n        maximumFractionDigits = priceFormat.maximumFractionDigits\r\n    }\r\n\r\nFor some reason, setting the currency in NumberFormat with `Currency.getInstance()` didn&#39;t work for me.","title":"Format currency without currency symbol","body":"<p>Looks like a cleaner solution that doesn't alter the currency symbol in a hacky way:</p>\n<pre><code>val numberFormat = NumberFormat.getNumberInstance().apply {\n    val priceFormat = NumberFormat.getCurrencyInstance()\n    minimumFractionDigits = priceFormat.minimumFractionDigits\n    maximumFractionDigits = priceFormat.maximumFractionDigits\n}\n</code></pre>\n<p>For some reason, setting the currency in NumberFormat with <code>Currency.getInstance()</code> didn't work for me.</p>\n"}],"owner":{"account_id":1096730,"reputation":1502,"user_id":1090175,"accept_rate":52,"display_name":"anderswelt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76688,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":8658399,"answer_count":16,"score":75,"last_activity_date":1699606608,"creation_date":1325088152,"question_id":8658205,"body_markdown":"I am using `NumberFormat.getCurrencyInstance(myLocale)` to get a custom currency format for a locale given by me. However, this always includes the currency symbol which I don&#39;t want, I just want the proper currency number format for my given locale without the currency symbol. \r\n\r\nDoing a `format.setCurrencySymbol(null)` throws an exception..\r\n","title":"Format currency without currency symbol","body":"<p>I am using <code>NumberFormat.getCurrencyInstance(myLocale)</code> to get a custom currency format for a locale given by me. However, this always includes the currency symbol which I don't want, I just want the proper currency number format for my given locale without the currency symbol. </p>\n\n<p>Doing a <code>format.setCurrencySymbol(null)</code> throws an exception..</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1699532367,"post_id":77453123,"comment_id":136545387,"body_markdown":"You *could* use modules introduced in Java 9...","body":"You <i>could</i> use modules introduced in Java 9..."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699532634,"post_id":77453123,"comment_id":136545442,"body_markdown":"&quot;But using this structure it is not possible&quot; why it is not possible? The question is missing the description of the actual issue you seem to have.","body":"&quot;But using this structure it is not possible&quot; why it is not possible? The question is missing the description of the actual issue you seem to have."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1699532678,"post_id":77453123,"comment_id":136545454,"body_markdown":"@aled Because private (or package-private) classes in the sub-packages can’t be accessed by adjacent sub-packages.","body":"@aled Because private (or package-private) classes in the sub-packages can’t be accessed by adjacent sub-packages."},{"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"score":0,"creation_date":1699533039,"post_id":77453123,"comment_id":136545523,"body_markdown":"plus they can not be accessed by Main.class one level up.","body":"plus they can not be accessed by Main.class one level up."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699533099,"post_id":77453123,"comment_id":136545533,"body_markdown":"The question doesn&#39;t mention private classes. I believe is up to the OP to clarify the details for reproduction.","body":"The question doesn&#39;t mention private classes. I believe is up to the OP to clarify the details for reproduction."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":4,"creation_date":1699533525,"post_id":77453123,"comment_id":136545617,"body_markdown":"@aled It does by implication: “make *only* Main.class public” — this clearly implies that the other classes will need to be private or package-private. Those are the only choices.","body":"@aled It does by implication: “make <i>only</i> Main.class public” — this clearly implies that the other classes will need to be private or package-private. Those are the only choices."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1699536924,"post_id":77453123,"comment_id":136546336,"body_markdown":"I think Java 9+ modules are *exactly* the correct use case for that. With them you can have any subset of your classes exposed as usable APIs and the rest for &quot;internal&quot; use.","body":"I think Java 9+ modules are <i>exactly</i> the correct use case for that. With them you can have any subset of your classes exposed as usable APIs and the rest for &quot;internal&quot; use."},{"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"score":0,"creation_date":1699539443,"post_id":77453123,"comment_id":136546864,"body_markdown":"Thank you very much, now you guys mentioned them, it rings a bell. Honestly I have no experience using them. Can they be used in a bigger context where they have never been used before in any component? Just thinking out loud, I am going to look into the docs...","body":"Thank you very much, now you guys mentioned them, it rings a bell. Honestly I have no experience using them. Can they be used in a bigger context where they have never been used before in any component? Just thinking out loud, I am going to look into the docs..."}],"answers":[{"tags":[],"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699606559,"creation_date":1699606559,"answer_id":77458758,"question_id":77453123,"body_markdown":"See comments:\r\nYou could use modules introduced in Java 9...","title":"Access classes from subpackage in Java","body":"<p>See comments:\nYou could use modules introduced in Java 9...</p>\n"}],"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699606559,"creation_date":1699532222,"question_id":77453123,"body_markdown":"I have organized my project&#39;s packages as\r\n```\r\ncom.myproject\r\ncom.myproject.field\r\ncom.myproject.helper\r\ncom.myproject.messages\r\n```\r\nThe project is a component of a bigger context. The only entrypoint to the component is in Main.class in `com.myproject`\r\n\r\nAs part of good practice I would like to make only Main.class public. But using this structure it is not possible. The only way I can think of is, that I put everything in a flat structure and make everything protected - but then it is 0 organzed.\r\n\r\nAm I missing something abount accessibility/visibility here regarding Java?\r\nThanks\r\n","title":"Access classes from subpackage in Java","body":"<p>I have organized my project's packages as</p>\n<pre><code>com.myproject\ncom.myproject.field\ncom.myproject.helper\ncom.myproject.messages\n</code></pre>\n<p>The project is a component of a bigger context. The only entrypoint to the component is in Main.class in <code>com.myproject</code></p>\n<p>As part of good practice I would like to make only Main.class public. But using this structure it is not possible. The only way I can think of is, that I put everything in a flat structure and make everything protected - but then it is 0 organzed.</p>\n<p>Am I missing something abount accessibility/visibility here regarding Java?\nThanks</p>\n"},{"tags":["java","spring-boot","jpa","querydsl","amazon-aurora"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1699601497,"post_id":77458297,"comment_id":136555057,"body_markdown":"[UUID_SHORT()](https://dev.mysql.com/doc/refman/8.0/en/miscellaneous-functions.html#function_uuid-short) output datatype is BIGINT UNSIGNED (unsigned 64-bit integer, not string).","body":"<a href=\"https://dev.mysql.com/doc/refman/8.0/en/miscellaneous-functions.html#function_uuid-short\" rel=\"nofollow noreferrer\">UUID_SHORT()</a> output datatype is BIGINT UNSIGNED (unsigned 64-bit integer, not string)."},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1699601724,"post_id":77458297,"comment_id":136555088,"body_markdown":"I&#39;ve tried `StandardBasicTypes.BIG_INTEGER` with `Expressions.numberTemplate(Long.class, &quot;uuid_short()&quot;)`. But it didn&#39;t work too. Thrown exception was same.","body":"I&#39;ve tried <code>StandardBasicTypes.BIG_INTEGER</code> with <code>Expressions.numberTemplate(Long.class, &quot;uuid_short()&quot;)</code>. But it didn&#39;t work too. Thrown exception was same."}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699606337,"creation_date":1699601253,"question_id":77458297,"body_markdown":"I&#39;m using MySQL8.0(Actually, it&#39;s Amazon Aurora database) with Spring boot/QueryDSL.\r\n\r\nI want to execute `UUID_SHORT()` function declared in MySQL.\r\n\r\nBut When I execute `UUID_SHORT()` function with `JPAQueryFactory`, it throws exeption.\r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode\r\n```\r\n\r\nAnd this is my source code.\r\n\r\n```\r\npublic class MyRepository extends MySQL8Dialect {\r\n  ...\r\n\r\n  // Register unregistered database function(in this case, &#39;UUID_SHORT&#39;)\r\n  public MyRepository() {\r\n    super();\r\n    registerFunction(&quot;uuid_short&quot;, new NoArgSQLFunction(&quot;uuid_short&quot;, StandardBasicTypes.STRING);\r\n  }\r\n\r\n  public String getUuidShort() {\r\n    // Case 1. Native query works\r\n    return entityManager.createNativeQuery(&quot;SELECT uuid_short()&quot;)\r\n      .getSingleResult()\r\n      .toString();\r\n\r\n    // Case 2. JPAQueryFactory doesn&#39;t work\r\n    return jpaQueryFactory.select(Expressions.stringTemplate(&quot;uuid_short()&quot;))\r\n      .from(myEntity)\r\n      .fetchOne();\r\n\r\n    // Case 3. JPAQueryFactory with already registered function in MySQLDialect.class works\r\n    return jpaQueryFactory.select(Expressions.stringTemplate(&quot;sysdate()&quot;))\r\n      .from(myEntity)\r\n      .fetchOne();\r\n  }\r\n}\r\n```\r\n\r\nWhy this happens?","title":"QueryDSL cannot execute registered function","body":"<p>I'm using MySQL8.0(Actually, it's Amazon Aurora database) with Spring boot/QueryDSL.</p>\n<p>I want to execute <code>UUID_SHORT()</code> function declared in MySQL.</p>\n<p>But When I execute <code>UUID_SHORT()</code> function with <code>JPAQueryFactory</code>, it throws exeption.</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode\n</code></pre>\n<p>And this is my source code.</p>\n<pre><code>public class MyRepository extends MySQL8Dialect {\n  ...\n\n  // Register unregistered database function(in this case, 'UUID_SHORT')\n  public MyRepository() {\n    super();\n    registerFunction(&quot;uuid_short&quot;, new NoArgSQLFunction(&quot;uuid_short&quot;, StandardBasicTypes.STRING);\n  }\n\n  public String getUuidShort() {\n    // Case 1. Native query works\n    return entityManager.createNativeQuery(&quot;SELECT uuid_short()&quot;)\n      .getSingleResult()\n      .toString();\n\n    // Case 2. JPAQueryFactory doesn't work\n    return jpaQueryFactory.select(Expressions.stringTemplate(&quot;uuid_short()&quot;))\n      .from(myEntity)\n      .fetchOne();\n\n    // Case 3. JPAQueryFactory with already registered function in MySQLDialect.class works\n    return jpaQueryFactory.select(Expressions.stringTemplate(&quot;sysdate()&quot;))\n      .from(myEntity)\n      .fetchOne();\n  }\n}\n</code></pre>\n<p>Why this happens?</p>\n"},{"tags":["java","moqui"],"owner":{"account_id":29870825,"reputation":1,"user_id":22892230,"display_name":"Nguyễn Ch&#237; Cường"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699606188,"creation_date":1699606188,"question_id":77458719,"body_markdown":"I have configured and installed the moqui framework application but I do not have experience in editing these codes. I want to change the language to Vietnamese and connect to the phpmyadmin database.\r\n\r\nWhat files can I edit?","title":"moqui framework config and install?","body":"<p>I have configured and installed the moqui framework application but I do not have experience in editing these codes. I want to change the language to Vietnamese and connect to the phpmyadmin database.</p>\n<p>What files can I edit?</p>\n"},{"tags":["java","eclipse"],"owner":{"account_id":29870702,"reputation":1,"user_id":22892132,"display_name":"Sergio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699606107,"creation_date":1699605021,"question_id":77458606,"body_markdown":"I have a problem, I have an old Jasper template that generates an invoice and is launched by a java application. The issue is that when compiling with some new modifications it gives me the following error:\r\n \r\n```\r\nCaused by: java.sql.SQLException: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\...\r\nat org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1987)\r\n... 16 more\r\n\r\nCaused by: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\....\r\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:105)\r\n\r\nCaused by: java.lang.ClassNotFoundException: net.sf.jasperreports.compilers.ReportExpressionEvaluationData\r\nat java.net.URLClassLoader.findClass(Unknown Source)\r\nat java.lang.ClassLoader.loadClass(Unknown Source)\r\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\nat java.lang.ClassLoader.loadClass(Unknown Source)\r\nat java.lang.Class.forName0(Native Method)\r\nat java.lang.Class.forName(Unknown Source)\r\nat java.io.ObjectInputStream.resolveClass(Unknown Source)\r\nat net.sf.jasperreports.engine.util.ContextClassLoaderObjectInputStream.resolveClass(ContextClassLoaderObjectInputStream.java:75)\r\nat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\nat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat java.util.HashMap.readObject(Unknown Source)\r\nat sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\nat java.lang.reflect.Method.invoke(Unknown Source)\r\nat java.io.ObjectStreamClass.invokeReadObject(Unknown Source)\r\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\r\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\r\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject0(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat java.io.ObjectInputStream.readObject(Unknown Source)\r\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:97)\r\n... 19 more\r\n```\r\n\r\nI have noticed that when compiling it modifies the expressions used in the old template. I think the error is that, in compile options I am choosing the old version of the project, but it still makes modifications.\r\n\r\nI have tried changing the version of the template","title":"net.sf.jasperreports.compilers.ReportExpressionEvaluationData","body":"<p>I have a problem, I have an old Jasper template that generates an invoice and is launched by a java application. The issue is that when compiling with some new modifications it gives me the following error:</p>\n<pre><code>Caused by: java.sql.SQLException: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\...\nat org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1987)\n... 16 more\n\nCaused by: net.sf.jasperreports.engine.JRException: Class not found when loading object from file : C:\\....\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:105)\n\nCaused by: java.lang.ClassNotFoundException: net.sf.jasperreports.compilers.ReportExpressionEvaluationData\nat java.net.URLClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Unknown Source)\nat java.io.ObjectInputStream.resolveClass(Unknown Source)\nat net.sf.jasperreports.engine.util.ContextClassLoaderObjectInputStream.resolveClass(ContextClassLoaderObjectInputStream.java:75)\nat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\nat java.io.ObjectInputStream.readClassDesc(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat java.util.HashMap.readObject(Unknown Source)\nat sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat java.io.ObjectStreamClass.invokeReadObject(Unknown Source)\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\nat java.io.ObjectInputStream.readSerialData(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:97)\n... 19 more\n</code></pre>\n<p>I have noticed that when compiling it modifies the expressions used in the old template. I think the error is that, in compile options I am choosing the old version of the project, but it still makes modifications.</p>\n<p>I have tried changing the version of the template</p>\n"},{"tags":["java","locale","number-formatting"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1548847773,"post_id":54439562,"comment_id":95688324,"body_markdown":"How does `1.1 -&gt; 1,01` make sense? What&#39;s the logic?","body":"How does <code>1.1 -&gt; 1,01</code> make sense? What&#39;s the logic?"},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548847846,"post_id":54439562,"comment_id":95688363,"body_markdown":"@ernest_k, sorry, that was a typo. I&#39;ll correct it ( the one below as well ).","body":"@ernest_k, sorry, that was a typo. I&#39;ll correct it ( the one below as well )."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1548848108,"post_id":54439562,"comment_id":95688501,"body_markdown":"`NumberFormat instance = NumberFormat.getInstance();\n        instance.setMinimumFractionDigits(2);`","body":"<code>NumberFormat instance = NumberFormat.getInstance();         instance.setMinimumFractionDigits(2);</code>"},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548848185,"post_id":54439562,"comment_id":95688541,"body_markdown":"@davidxxx will this work for all Locales / Currencies? I had assumed there are some that might use more decimals or less. Edit: I found a list, there are some listed that have 0 or 3: http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf","body":"@davidxxx will this work for all Locales / Currencies? I had assumed there are some that might use more decimals or less. Edit: I found a list, there are some listed that have 0 or 3: <a href=\"http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf\" rel=\"nofollow noreferrer\">apps.cybersource.com/library/documentation/sbc/quickref/&hellip;</a>"},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548848396,"post_id":54439562,"comment_id":95688677,"body_markdown":"@dkb, thank you for the link, but I seem to be missing something - the example seems to use the same function as my second example, with the same result.","body":"@dkb, thank you for the link, but I seem to be missing something - the example seems to use the same function as my second example, with the same result."},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1548848672,"post_id":54439562,"comment_id":95688832,"body_markdown":"ohh, now I got it,","body":"ohh, now I got it,"},{"owner":{"account_id":5488368,"reputation":2458,"user_id":4362486,"display_name":"Bor Laze"},"score":0,"creation_date":1548848736,"post_id":54439562,"comment_id":95688865,"body_markdown":"See this question: https://stackoverflow.com/questions/8658205/format-currency-without-currency-symbol","body":"See this question: <a href=\"https://stackoverflow.com/questions/8658205/format-currency-without-currency-symbol\" title=\"format currency without currency symbol\">stackoverflow.com/questions/8658205/&hellip;</a>"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1548848890,"post_id":54439562,"comment_id":95688971,"body_markdown":"@Sirence Of course it will not.  The currency format is implemented in the currency style format. You should customize the instance returned by `NumberFormat.getCurrencyInstance()`  to remove the symbol part.","body":"@Sirence Of course it will not.  The currency format is implemented in the currency style format. You should customize the instance returned by <code>NumberFormat.getCurrencyInstance()</code>  to remove the symbol part."},{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548848983,"post_id":54439562,"comment_id":95689024,"body_markdown":"@BorLaze, thank you for the link! I just tried it and it does seem to work! I&#39;ll close the question.","body":"@BorLaze, thank you for the link! I just tried it and it does seem to work! I&#39;ll close the question."},{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1548849051,"post_id":54439562,"comment_id":95689073,"body_markdown":"Try using `DecimalFormat`, see [this question](https://stackoverflow.com/questions/54402352/is-it-possible-to-change-the-decimal-format-of-the-entire-code-which-includes-sw/54403485#54403485), the output will use the decimal character for the current locale","body":"Try using <code>DecimalFormat</code>, see <a href=\"https://stackoverflow.com/questions/54402352/is-it-possible-to-change-the-decimal-format-of-the-entire-code-which-includes-sw/54403485#54403485\">this question</a>, the output will use the decimal character for the current locale"}],"answers":[{"comments":[{"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"score":0,"creation_date":1548849340,"post_id":54439986,"comment_id":95689242,"body_markdown":"I actually like this solution much better then the linked one, it looks less like a workaround. Thank you very much for your help!","body":"I actually like this solution much better then the linked one, it looks less like a workaround. Thank you very much for your help!"},{"owner":{"account_id":14740293,"reputation":477,"user_id":10645087,"display_name":"AndroidKotlinNoob"},"score":2,"creation_date":1658922897,"post_id":54439986,"comment_id":129171331,"body_markdown":"This is my favourite answer so far, but it isn&#39;t flawless. &quot;Most currencies use the same decimal and thousands separator that other numbers in the locale use, but this is not always true. In some places in Switzerland, they use the period as a decimal separator for Swiss francs (Sfr. 127.54), but then use commas as the decimal separator everywhere else (127,54).&quot; - https://learn.microsoft.com/en-us/globalization/locale/currency-formatting","body":"This is my favourite answer so far, but it isn&#39;t flawless. &quot;Most currencies use the same decimal and thousands separator that other numbers in the locale use, but this is not always true. In some places in Switzerland, they use the period as a decimal separator for Swiss francs (Sfr. 127.54), but then use commas as the decimal separator everywhere else (127,54).&quot; - <a href=\"https://learn.microsoft.com/en-us/globalization/locale/currency-formatting\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/globalization/locale/&hellip;</a>"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1548849020,"creation_date":1548849020,"answer_id":54439986,"question_id":54439562,"body_markdown":"[`java.util.Currency`][1] provides the necessary information. A reasonable approach to print currency values without the currency sign in pure Java code is to get a general-purpose [`NumberFormat`][2] instance and configure it to use the number of digits defined by the appropriate `Currency` object:\r\n\r\n    NumberFormat numberFormat = NumberFormat.getInstance(myLocale);\r\n    Currency currency = Currency.getInstance(myLocale);\r\n    numberFormat.setMinimumFractionDigits(currency.getDefaultFractionDigits());\r\n\r\nIf you need a specific currency as opposed to the default currency of the locale you use, use [the `String` override of `Currency.getInstance()`][3] instead and provide the appropriate currency code.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/text/NumberFormat.html\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html#getInstance(java.lang.String)","title":"Java - NumberValue to String without Currency sign","body":"<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html\" rel=\"noreferrer\"><code>java.util.Currency</code></a> provides the necessary information. A reasonable approach to print currency values without the currency sign in pure Java code is to get a general-purpose <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/NumberFormat.html\" rel=\"noreferrer\"><code>NumberFormat</code></a> instance and configure it to use the number of digits defined by the appropriate <code>Currency</code> object:</p>\n\n<pre><code>NumberFormat numberFormat = NumberFormat.getInstance(myLocale);\nCurrency currency = Currency.getInstance(myLocale);\nnumberFormat.setMinimumFractionDigits(currency.getDefaultFractionDigits());\n</code></pre>\n\n<p>If you need a specific currency as opposed to the default currency of the locale you use, use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Currency.html#getInstance(java.lang.String)\" rel=\"noreferrer\">the <code>String</code> override of <code>Currency.getInstance()</code></a> instead and provide the appropriate currency code.</p>\n"},{"tags":[],"owner":{"account_id":1028523,"reputation":8301,"user_id":1037294,"accept_rate":83,"display_name":"a.ch."},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699605992,"creation_date":1699605992,"answer_id":77458698,"question_id":54439562,"body_markdown":"Here is a more robust approach (for some currencies minimumFractionDigits and maximumFractionDigits are not necessarily equal to  `Currency.getDefaultFractionDigits()`):\r\n\r\n    val numberFormat = NumberFormat.getNumberInstance().apply {\r\n        val priceFormat = NumberFormat.getCurrencyInstance()\r\n        minimumFractionDigits = priceFormat.minimumFractionDigits\r\n        maximumFractionDigits = priceFormat.maximumFractionDigits\r\n    }","title":"Java - NumberValue to String without Currency sign","body":"<p>Here is a more robust approach (for some currencies minimumFractionDigits and maximumFractionDigits are not necessarily equal to  <code>Currency.getDefaultFractionDigits()</code>):</p>\n<pre><code>val numberFormat = NumberFormat.getNumberInstance().apply {\n    val priceFormat = NumberFormat.getCurrencyInstance()\n    minimumFractionDigits = priceFormat.minimumFractionDigits\n    maximumFractionDigits = priceFormat.maximumFractionDigits\n}\n</code></pre>\n"}],"owner":{"account_id":5036820,"reputation":2920,"user_id":4045364,"accept_rate":100,"display_name":"Rence"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54439986,"answer_count":2,"score":2,"last_activity_date":1699605992,"creation_date":1548847701,"question_id":54439562,"body_markdown":"I am trying to format a NumberValue as a String in the current locale format.\r\n\r\nFor example, for Locale.Germany these would be the results I am trying to get:\r\n\r\n    1   -&gt; 1,00\r\n    1.1 -&gt; 1,10\r\n    0.1 -&gt; 0,10\r\n   \r\n\r\nWhat I have tried:\r\n\r\n    String test1 = NumberFormat.getInstance().format(1.1);\r\n    // -&gt; 1,1\r\n    String test2 = NumberFormat.getCurrencyInstance().format(1.1);\r\n    // -&gt; 1,10 €\r\n\r\nHow could I get the same format as the second example, without the currency symbol? Or alternativly, how could I make sure the result from the first example always has the amount of decimals needed for the current locale?\r\n\r\nEdit: Since there are some currencies that have 0,2 or 3 decimals, I don&#39;t think setting the decimals to a fixed amount will have the correct results.\r\n\r\nAlso, some currencies have their symbol in the front, and some in the back, so cutting off the last characters will probably not work either.\r\n   \r\nhttp://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf ","title":"Java - NumberValue to String without Currency sign","body":"<p>I am trying to format a NumberValue as a String in the current locale format.</p>\n\n<p>For example, for Locale.Germany these would be the results I am trying to get:</p>\n\n<pre><code>1   -&gt; 1,00\n1.1 -&gt; 1,10\n0.1 -&gt; 0,10\n</code></pre>\n\n<p>What I have tried:</p>\n\n<pre><code>String test1 = NumberFormat.getInstance().format(1.1);\n// -&gt; 1,1\nString test2 = NumberFormat.getCurrencyInstance().format(1.1);\n// -&gt; 1,10 €\n</code></pre>\n\n<p>How could I get the same format as the second example, without the currency symbol? Or alternativly, how could I make sure the result from the first example always has the amount of decimals needed for the current locale?</p>\n\n<p>Edit: Since there are some currencies that have 0,2 or 3 decimals, I don't think setting the decimals to a fixed amount will have the correct results.</p>\n\n<p>Also, some currencies have their symbol in the front, and some in the back, so cutting off the last characters will probably not work either.</p>\n\n<p><a href=\"http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf\" rel=\"nofollow noreferrer\">http://apps.cybersource.com/library/documentation/sbc/quickref/currencies.pdf</a> </p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1372335330,"post_id":17342850,"comment_id":25161422,"body_markdown":"Spring doesn&#39;t guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe.","body":"Spring doesn&#39;t guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe."},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1372335341,"post_id":17342850,"comment_id":25161433,"body_markdown":"Thread safety has nothing to do with Singletons. Pure singleton or Spring&#39;s doesn&#39;t matter.","body":"Thread safety has nothing to do with Singletons. Pure singleton or Spring&#39;s doesn&#39;t matter."},{"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"score":0,"creation_date":1372335747,"post_id":17342850,"comment_id":25161706,"body_markdown":"Isn&#39;t the guaranteed creation of only 1 instance in a multithreaded environment thread safety ?","body":"Isn&#39;t the guaranteed creation of only 1 instance in a multithreaded environment thread safety ?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1372336205,"post_id":17342850,"comment_id":25161994,"body_markdown":"@AndreiPodopr&#238;gora Of course not--it depends what the bean actually *does*.","body":"@AndreiPodopr&#238;gora Of course not--it depends what the bean actually <i>does</i>."},{"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"score":0,"creation_date":1372336549,"post_id":17342850,"comment_id":25162235,"body_markdown":"@DaveNewton - if the developer don&#39;t care about thread safety and doesn&#39;t write the singleton in a right way - many instances are created - so the singleton isn&#39;t thread safe.","body":"@DaveNewton - if the developer don&#39;t care about thread safety and doesn&#39;t write the singleton in a right way - many instances are created - so the singleton isn&#39;t thread safe."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1372336713,"post_id":17342850,"comment_id":25162344,"body_markdown":"@AndreiPodopr&#238;gora That&#39;s the &quot;singleton&quot; part. Whether or not the singleton&#39;s *code* is thread-safe is a completely separate issue. There&#39;s singleton *creation*, and there&#39;s singleton *execution*: two different things.","body":"@AndreiPodopr&#238;gora That&#39;s the &quot;singleton&quot; part. Whether or not the singleton&#39;s <i>code</i> is thread-safe is a completely separate issue. There&#39;s singleton <i>creation</i>, and there&#39;s singleton <i>execution</i>: two different things."},{"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"score":0,"creation_date":1372338213,"post_id":17342850,"comment_id":25163364,"body_markdown":"@DaveNewton, yep, I agree. That&#39;s what I was saying - singleton creation process relate to thread safety too.","body":"@DaveNewton, yep, I agree. That&#39;s what I was saying - singleton creation process relate to thread safety too."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1372338281,"post_id":17342850,"comment_id":25163415,"body_markdown":"@AndreiPodopr&#238;gora Then I think your question is misleading, because &quot;guaranteed creation of only one instance&quot; isn&#39;t sufficient for thread safety.","body":"@AndreiPodopr&#238;gora Then I think your question is misleading, because &quot;guaranteed creation of only one instance&quot; isn&#39;t sufficient for thread safety."}],"answers":[{"tags":[],"owner":{"account_id":2820825,"reputation":795,"user_id":2424620,"display_name":"Arthur Dent"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1372335304,"creation_date":1372335304,"answer_id":17342887,"question_id":17342850,"body_markdown":"Spring singleton beans are NOT thread-safe just because Spring instantiates them.  Sorry.","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring singleton beans are NOT thread-safe just because Spring instantiates them.  Sorry.</p>\n"},{"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":5,"creation_date":1372336493,"post_id":17342942,"comment_id":25162193,"body_markdown":"or by making your Spring Bean stateless, which is, I think, the better approach.","body":"or by making your Spring Bean stateless, which is, I think, the better approach."},{"owner":{"account_id":8780511,"reputation":442,"user_id":6564268,"display_name":"Man Coding"},"score":0,"creation_date":1576243942,"post_id":17342942,"comment_id":104846725,"body_markdown":"or make all shared instance variables to method local variables (move variables from heap to stack).","body":"or make all shared instance variables to method local variables (move variables from heap to stack)."}],"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372335465,"creation_date":1372335465,"answer_id":17342942,"question_id":17342850,"body_markdown":"Spring just manage the life cycle of singleton bean and maintains single instance of object. Thread safety has nothing to do with it. \r\n\r\n&gt; if not then why?\r\n\r\nBecause singleton and thread safety are two different concepts. You can go for thread safety with synchronized keyword","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring just manage the life cycle of singleton bean and maintains single instance of object. Thread safety has nothing to do with it. </p>\n\n<blockquote>\n  <p>if not then why?</p>\n</blockquote>\n\n<p>Because singleton and thread safety are two different concepts. You can go for thread safety with synchronized keyword</p>\n"},{"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1561941493,"post_id":17342966,"comment_id":100210387,"body_markdown":"You don&#39;t understand what thread safe is. I voted your answer down.","body":"You don&#39;t understand what thread safe is. I voted your answer down."}],"tags":[],"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1372335546,"creation_date":1372335546,"answer_id":17342966,"question_id":17342850,"body_markdown":"&gt;  if not then why?\r\n\r\nbecuase you could have a reference to non-threadsafe objects in your singleton. \r\n\r\nBut if you don&#39;t, and you use spring to inject any instance variables then yes they are thread safe.","title":"Are Spring singleton beans thread-safe?","body":"<blockquote>\n  <p>if not then why?</p>\n</blockquote>\n\n<p>becuase you could have a reference to non-threadsafe objects in your singleton. </p>\n\n<p>But if you don't, and you use spring to inject any instance variables then yes they are thread safe.</p>\n"},{"comments":[{"owner":{"account_id":2445048,"reputation":2251,"user_id":2132642,"accept_rate":80,"display_name":"Scott Shipp"},"score":5,"creation_date":1481760743,"post_id":17344009,"comment_id":69510634,"body_markdown":"I realize this is old but since this was one of the first Google results I came to for a search on spring thread safety I wanted to point out that Spring &quot;singleton beans&quot; are different than the &quot;singleton&quot; design pattern that this answer refers to . . . &quot;Spring singleton bean&quot; really means a Spring bean with singleton scope.","body":"I realize this is old but since this was one of the first Google results I came to for a search on spring thread safety I wanted to point out that Spring &quot;singleton beans&quot; are different than the &quot;singleton&quot; design pattern that this answer refers to . . . &quot;Spring singleton bean&quot; really means a Spring bean with singleton scope."},{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":2,"creation_date":1481797701,"post_id":17344009,"comment_id":69524492,"body_markdown":"@ScottShipp And do you think it&#39;s a coincidence that it&#39;s named singleton scope? Spring creates a bean if it doesn&#39;t exist and provides the existing instance otherwise. Does that sound familiar?","body":"@ScottShipp And do you think it&#39;s a coincidence that it&#39;s named singleton scope? Spring creates a bean if it doesn&#39;t exist and provides the existing instance otherwise. Does that sound familiar?"},{"owner":{"account_id":2445048,"reputation":2251,"user_id":2132642,"accept_rate":80,"display_name":"Scott Shipp"},"score":2,"creation_date":1482175758,"post_id":17344009,"comment_id":69658457,"body_markdown":"Please refer to the [Spring documentation on singleton scope](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-factory-scopes-singleton): &quot;Spring’s concept of a singleton bean differs from the Singleton pattern as defined in the Gang of Four (GoF) patterns book. The GoF Singleton hard-codes the scope of an object such that one and only one instance of a particular class is created per ClassLoader. The scope of the Spring singleton is best described as per container and per bean.&quot;","body":"Please refer to the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-factory-scopes-singleton\" rel=\"nofollow noreferrer\">Spring documentation on singleton scope</a>: &quot;Spring’s concept of a singleton bean differs from the Singleton pattern as defined in the Gang of Four (GoF) patterns book. The GoF Singleton hard-codes the scope of an object such that one and only one instance of a particular class is created per ClassLoader. The scope of the Spring singleton is best described as per container and per bean.&quot;"},{"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"score":0,"creation_date":1574927640,"post_id":17344009,"comment_id":104403991,"body_markdown":"@Faraz and the answer is no. Eventhough the scope differs (per classloader vs. per  container), the initial statement from OP holds. It depends on how the code is implemented that uses the shard memory. In other words, they&#39;re not related.","body":"@Faraz and the answer is no. Eventhough the scope differs (per classloader vs. per  container), the initial statement from OP holds. It depends on how the code is implemented that uses the shard memory. In other words, they&#39;re not related."}],"tags":[],"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"comment_count":4,"down_vote_count":2,"up_vote_count":43,"is_accepted":false,"score":41,"last_activity_date":1372338404,"creation_date":1372338404,"answer_id":17344009,"question_id":17342850,"body_markdown":"No. The two concepts are not even related.\r\n\r\nSingletons are about **creation**. This design pattern ensures that only one instance of a class is created.\r\n\r\nThread safety is about **execution**. To quote [Wikipedia][1]:\r\n\r\n&gt; A piece of code is thread-safe if it only manipulates shared data structures in a manner that guarantees safe execution by multiple threads at the same time.\r\n\r\nSo eventually thread safety depends on the code and the code only. And this is the reason why Spring beans are not thread safe per se.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Thread_safety","title":"Are Spring singleton beans thread-safe?","body":"<p>No. The two concepts are not even related.</p>\n\n<p>Singletons are about <strong>creation</strong>. This design pattern ensures that only one instance of a class is created.</p>\n\n<p>Thread safety is about <strong>execution</strong>. To quote <a href=\"http://en.wikipedia.org/wiki/Thread_safety\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>A piece of code is thread-safe if it only manipulates shared data structures in a manner that guarantees safe execution by multiple threads at the same time.</p>\n</blockquote>\n\n<p>So eventually thread safety depends on the code and the code only. And this is the reason why Spring beans are not thread safe per se.</p>\n"},{"tags":[],"owner":{"account_id":2096763,"reputation":1,"user_id":1865328,"display_name":"user1865328"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395248207,"creation_date":1395248207,"answer_id":22512923,"question_id":17342850,"body_markdown":"Spring doesn&#39;t guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe. IT&#39;S programmer responsibility to take care the spring bean class such way it should be thread safe.","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring doesn't guarantee thread-safety. It will be your responsibility . Spring will create a Singleton , but if its mutable then it might not be thread safe. IT'S programmer responsibility to take care the spring bean class such way it should be thread safe.</p>\n"},{"comments":[{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":1,"creation_date":1533923034,"post_id":42778304,"comment_id":90540590,"body_markdown":"Based on your assertion, how exactly is it thread-safe simply by changing the scope to `prototype`? Bean scope has nothing to do with thread safety.","body":"Based on your assertion, how exactly is it thread-safe simply by changing the scope to <code>prototype</code>? Bean scope has nothing to do with thread safety."},{"owner":{"account_id":5686660,"reputation":279,"user_id":4495988,"accept_rate":58,"display_name":"tiktok"},"score":0,"creation_date":1601669709,"post_id":42778304,"comment_id":113488072,"body_markdown":"@EddieB why not changing the scope from Singleton to Prototype/request supports thread safety as each thread then have single instance of those beans? Sorry, i am new to spring and trying to understand it","body":"@EddieB why not changing the scope from Singleton to Prototype/request supports thread safety as each thread then have single instance of those beans? Sorry, i am new to spring and trying to understand it"},{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":0,"creation_date":1601687597,"post_id":42778304,"comment_id":113491881,"body_markdown":"@tiktok ~ Making the bean a `Prototype` doesn&#39;t mean that it supports thread-safety --- as a matter of fact... a `Prototype` by definition cannot be thread-safe because there are (1-*) instances whereas a `Singleton` bean applies instantiation logic to enforce only one instance exists. However, there are use cases where that can be circumvented as well.","body":"@tiktok ~ Making the bean a <code>Prototype</code> doesn&#39;t mean that it supports thread-safety --- as a matter of fact... a <code>Prototype</code> by definition cannot be thread-safe because there are (1-*) instances whereas a <code>Singleton</code> bean applies instantiation logic to enforce only one instance exists. However, there are use cases where that can be circumvented as well."}],"tags":[],"owner":{"account_id":10418766,"reputation":1,"user_id":7682027,"display_name":"Rajeswari Nandam"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489478731,"creation_date":1489469050,"answer_id":42778304,"question_id":17342850,"body_markdown":"In Spring, singleton beans will not have any state (stateless). Singleton bean scope ensures that single instance per BeanFactory. So in multi threading environment it will not assure the single instance even with singleton bean scope. \r\n\r\nSo to fix this, we need to change the bean scope from **singleton** scope to **prototype** scope as it is the developers responsibility to ensure the thread safety. ","title":"Are Spring singleton beans thread-safe?","body":"<p>In Spring, singleton beans will not have any state (stateless). Singleton bean scope ensures that single instance per BeanFactory. So in multi threading environment it will not assure the single instance even with singleton bean scope. </p>\n\n<p>So to fix this, we need to change the bean scope from <strong>singleton</strong> scope to <strong>prototype</strong> scope as it is the developers responsibility to ensure the thread safety. </p>\n"},{"tags":[],"owner":{"account_id":11423263,"reputation":269,"user_id":8374067,"display_name":"sunil bhardwaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1507789375,"creation_date":1507789375,"answer_id":46702770,"question_id":17342850,"body_markdown":"I have different perception:\r\nSpring singleton beans are created once and there can be only one instance available at any point of time.\r\n\r\nLets say your have an instance variable which is modified in an non-synchronized method. In multi-threaded environment,same class instance will be assigned to all the threads and 2 concurrent threads can update/change the instance variables which may lead unexpected situation. \r\nSingleton beans does not provide thread safety and now you know that instance variables usage may lead to unexpected result, you have 2 options to solve the same : \r\n\r\n1. Don&#39;t use instance variables in multithreaded environment.\r\nOR\r\n2. Use synchronized block/keyword on methods wherever the instance variables are modified to avoid unexpected results.\r\n","title":"Are Spring singleton beans thread-safe?","body":"<p>I have different perception:\nSpring singleton beans are created once and there can be only one instance available at any point of time.</p>\n\n<p>Lets say your have an instance variable which is modified in an non-synchronized method. In multi-threaded environment,same class instance will be assigned to all the threads and 2 concurrent threads can update/change the instance variables which may lead unexpected situation. \nSingleton beans does not provide thread safety and now you know that instance variables usage may lead to unexpected result, you have 2 options to solve the same : </p>\n\n<ol>\n<li>Don't use instance variables in multithreaded environment.\nOR</li>\n<li>Use synchronized block/keyword on methods wherever the instance variables are modified to avoid unexpected results.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5935179,"reputation":371,"user_id":4668446,"display_name":"Ripudaman Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543859633,"creation_date":1543859327,"answer_id":53599128,"question_id":17342850,"body_markdown":"Singleton Beans is thread safe or not depends on how the class whose scope is singleton is written. Each calling thread will have its own execution and does not interfere with another thread&#39;s execution unless there is some code in the singleton scoped class which is shared by all calling threads.e.g if a class has globally declared variables that is being accessed by its method and the values are modified then this may cause concurrency issue so it is better to have those variables at the method level and not at the class level.","title":"Are Spring singleton beans thread-safe?","body":"<p>Singleton Beans is thread safe or not depends on how the class whose scope is singleton is written. Each calling thread will have its own execution and does not interfere with another thread's execution unless there is some code in the singleton scoped class which is shared by all calling threads.e.g if a class has globally declared variables that is being accessed by its method and the values are modified then this may cause concurrency issue so it is better to have those variables at the method level and not at the class level.</p>\n"},{"tags":[],"owner":{"account_id":3380175,"reputation":3541,"user_id":2837359,"accept_rate":67,"display_name":"404 Not Found"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699605819,"creation_date":1571222198,"answer_id":58411310,"question_id":17342850,"body_markdown":"No , Spring singelton bean is not thread safe , Here is example\r\n\r\n  \r\n    public class Emmloyee {\r\n\r\n\tprivate int id;\r\n\t\r\n\tprivate String name;\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\t\r\n    }\r\n\r\n\r\nAnd here is `applicationContext.xml`\r\n\r\n      &lt;bean id=&quot;emp&quot; class=&quot;com.manikant.Emmloyee&quot; p:id=&quot;26&quot;  p:name=&quot;Manikant Gautam&quot;&gt;\r\n   &lt;/bean&gt;\r\nAnd here is test class\r\n\r\n       public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tApplicationContext ctx=new ClassPathXmlApplicationContext(&quot;com/manikant/config.xml&quot;);\r\n\t\tEmmloyee emp=(Emmloyee)ctx.getBean(&quot;emp&quot;);\r\n\t\tSystem.out.println(&quot;User &quot;+emp.getName() + &quot; is of age &quot;+emp.getId());\r\n\t\temp.setName(&quot;Changed value&quot;);\r\n\t\t\r\n\t\tEmmloyee emp1=(Emmloyee)ctx.getBean(&quot;emp&quot;);\r\n\t\tSystem.out.println(&quot;User &quot;+emp1.getName() + &quot; is of age &quot;+emp1.getId());\r\n\t\t\r\n\t\r\n\t}\r\n\r\n    }\r\n\r\nHere is output \r\n        \r\n          User **Manikant Gautam** is of age 26\r\n   \r\n          User **Changed value** is of age 26\r\n\r\nchange in `value` by `emp.setName(&quot;Changed value&quot;);` reflects on different `bean emp1` also . ","title":"Are Spring singleton beans thread-safe?","body":"<p>No , Spring singelton bean is not thread safe , Here is example</p>\n<pre><code>public class Emmloyee {\n\nprivate int id;\n\nprivate String name;\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\n\n}\n</code></pre>\n<p>And here is <code>applicationContext.xml</code></p>\n<pre><code>  &lt;bean id=&quot;emp&quot; class=&quot;com.manikant.Emmloyee&quot; p:id=&quot;26&quot;  p:name=&quot;Manikant Gautam&quot;&gt;\n</code></pre>\n   \nAnd here is test class\n<pre><code>   public class Test {\n\npublic static void main(String[] args) {\n\n    ApplicationContext ctx=new ClassPathXmlApplicationContext(&quot;com/manikant/config.xml&quot;);\n    Emmloyee emp=(Emmloyee)ctx.getBean(&quot;emp&quot;);\n    System.out.println(&quot;User &quot;+emp.getName() + &quot; is of age &quot;+emp.getId());\n    emp.setName(&quot;Changed value&quot;);\n    \n    Emmloyee emp1=(Emmloyee)ctx.getBean(&quot;emp&quot;);\n    System.out.println(&quot;User &quot;+emp1.getName() + &quot; is of age &quot;+emp1.getId());\n    \n\n}\n\n}\n</code></pre>\n<p>Here is output</p>\n<pre><code>      User **Manikant Gautam** is of age 26\n\n      User **Changed value** is of age 26\n</code></pre>\n<p>change in <code>value</code> by <code>emp.setName(&quot;Changed value&quot;);</code> reflects on different <code>bean emp1</code> also .</p>\n"},{"tags":[],"owner":{"account_id":6098137,"reputation":21,"user_id":4965075,"display_name":"Mohit Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571413845,"creation_date":1571413845,"answer_id":58454301,"question_id":17342850,"body_markdown":"According to my view, it totally thread safety of your singleton class totally depends on you have design/written your singleton class.\r\n\r\nIf there is any global variable defined the singleton class then it will not be thread safe because if multiple thread share the singleton object and execute the method which can updates the global variable it will not be thread safe.\r\n\r\nTo make any singleton class thread safe it is advised that make that class stateless means you should avoid defining the global variable in the singleton class.","title":"Are Spring singleton beans thread-safe?","body":"<p>According to my view, it totally thread safety of your singleton class totally depends on you have design/written your singleton class.</p>\n\n<p>If there is any global variable defined the singleton class then it will not be thread safe because if multiple thread share the singleton object and execute the method which can updates the global variable it will not be thread safe.</p>\n\n<p>To make any singleton class thread safe it is advised that make that class stateless means you should avoid defining the global variable in the singleton class.</p>\n"},{"tags":[],"owner":{"account_id":4389573,"reputation":73,"user_id":3578460,"display_name":"Mowgli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614713478,"creation_date":1614713478,"answer_id":66445921,"question_id":17342850,"body_markdown":"My service was called by upstream using parallel processing and it crashed my application. While thread 1 was working on beanA, another request arrived and it set some parameters of beanA. When my beanA was stored in database, I verified that it was a complete mess. I fixed it by using prototype.","title":"Are Spring singleton beans thread-safe?","body":"<p>My service was called by upstream using parallel processing and it crashed my application. While thread 1 was working on beanA, another request arrived and it set some parameters of beanA. When my beanA was stored in database, I verified that it was a complete mess. I fixed it by using prototype.</p>\n"},{"tags":[],"owner":{"account_id":8625795,"reputation":69,"user_id":6459075,"display_name":"Kartik Parihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658168943,"creation_date":1658168943,"answer_id":73026990,"question_id":17342850,"body_markdown":"Spring singleton bean define the single instance is created by BeanAwareFactory in spring IOC container. But when we try to use the same bean in multiple threads then the simultaneous access can cause unexpected behaviour as it not thread safe.\r\n\r\nSingleton is about creating object instance in IOC container. So when running multiple thread then it’s about runtime behaviour.\r\n\r\nAnd the value of same object can be performed by both threads as there’s no restriction on it for multiple thread accesst.","title":"Are Spring singleton beans thread-safe?","body":"<p>Spring singleton bean define the single instance is created by BeanAwareFactory in spring IOC container. But when we try to use the same bean in multiple threads then the simultaneous access can cause unexpected behaviour as it not thread safe.</p>\n<p>Singleton is about creating object instance in IOC container. So when running multiple thread then it’s about runtime behaviour.</p>\n<p>And the value of same object can be performed by both threads as there’s no restriction on it for multiple thread accesst.</p>\n"}],"owner":{"account_id":2966075,"reputation":533,"user_id":2519199,"display_name":"Mounica Reddy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77449,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"answer_count":12,"score":45,"last_activity_date":1699605819,"creation_date":1372335182,"question_id":17342850,"body_markdown":"I want to know whether the Spring singleton beans are thread-safe, if yes then why, if not then why? \r\n\r\nAs I am beginner with spring so help would be appreciated.\r\n\r\n                             ","title":"Are Spring singleton beans thread-safe?","body":"<p>I want to know whether the Spring singleton beans are thread-safe, if yes then why, if not then why? </p>\n\n<p>As I am beginner with spring so help would be appreciated.</p>\n"},{"tags":["java","windows","command-line","java-platform-module-system"],"owner":{"account_id":3463427,"reputation":569,"user_id":2899760,"display_name":"Chisey88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699605540,"creation_date":1699605540,"question_id":77458652,"body_markdown":"I&#39;m trying to learn the &quot;new&quot; Jigsaw Module system and I&#39;m trying to build a simple application from scratch via the Windows command line / no IDE (because it is necessary for the oracle certificate).\r\n\r\nNow I have the problem that my application needs some javaFX modules which I have all defined in my module-info.java file:\r\n\r\n    module main.java.com.injection.configuration{\r\n\r\n    requires javafx.base;\r\n    requires javafx.fxml;\r\n    requires javafx.graphics;\r\n    \r\n}\r\n\r\n\r\nI copied the jar files (all javafx jars are modules too) from Maven repo and put them in the mods folder.\r\n\r\nAfter that I compiled the application successfully.\r\n\r\n    $ javac --module-path mods/ -d out/ src/main/java/com/injection/configuration/*.java src/main/java/com/injection/injection/*.java src/main/java/com/injection/views/*.java src/module-info.java\r\n\r\n`Note: src\\main\\java\\com\\injection\\injection\\Injector.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.`&#39;\r\n\r\n\r\n\r\nBut as soon as I try to run the application, following exception is thrown (although all necessary jars are in the folder): \r\n\r\n    $ java --module-path out/ --module main.java.com.injection.configuration/main.java.com.injection.configuration.Configuration\r\n\r\n`Error occurred during initialization of boot layer\r\njava.lang.module.FindException: Module javafx.base not found, required by main.java.com.injection.configuration`\r\n\r\n\r\n\r\nPlease can you help me? What is the right way to deal with &quot;external&quot; jars (e.g.: from the openjfx sdk) via command line \r\nKind Regards \r\n","title":"Jigsaw Modules (Command Line/no IDE): java.lang.module.FindException: Module javafx.base not found, required by main.java.com.injection.configuration","body":"<p>I'm trying to learn the &quot;new&quot; Jigsaw Module system and I'm trying to build a simple application from scratch via the Windows command line / no IDE (because it is necessary for the oracle certificate).</p>\n<p>Now I have the problem that my application needs some javaFX modules which I have all defined in my module-info.java file:</p>\n<pre><code>module main.java.com.injection.configuration{\n\nrequires javafx.base;\nrequires javafx.fxml;\nrequires javafx.graphics;\n</code></pre>\n<p>}</p>\n<p>I copied the jar files (all javafx jars are modules too) from Maven repo and put them in the mods folder.</p>\n<p>After that I compiled the application successfully.</p>\n<pre><code>$ javac --module-path mods/ -d out/ src/main/java/com/injection/configuration/*.java src/main/java/com/injection/injection/*.java src/main/java/com/injection/views/*.java src/module-info.java\n</code></pre>\n<p><code>Note: src\\main\\java\\com\\injection\\injection\\Injector.java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details.</code>'</p>\n<p>But as soon as I try to run the application, following exception is thrown (although all necessary jars are in the folder):</p>\n<pre><code>$ java --module-path out/ --module main.java.com.injection.configuration/main.java.com.injection.configuration.Configuration\n</code></pre>\n<p><code>Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.base not found, required by main.java.com.injection.configuration</code></p>\n<p>Please can you help me? What is the right way to deal with &quot;external&quot; jars (e.g.: from the openjfx sdk) via command line\nKind Regards</p>\n"},{"tags":["java","multithreading","freeze"],"comments":[{"owner":{"account_id":10245746,"reputation":145,"user_id":7561583,"display_name":"Kerwin Bryant"},"score":0,"creation_date":1699604968,"post_id":77458592,"comment_id":136555515,"body_markdown":"I saw that the program&#39;s memory is very sufficient, and there is no CPU occupation.","body":"I saw that the program&#39;s memory is very sufficient, and there is no CPU occupation."}],"owner":{"account_id":10245746,"reputation":145,"user_id":7561583,"display_name":"Kerwin Bryant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699605537,"creation_date":1699604842,"question_id":77458592,"body_markdown":"The code is:\r\n```java\r\n//=========\r\n//classA\r\n//=========\r\nprivate static final int CORE_POOL_SIZE = Math.max(1, Runtime.getRuntime().availableProcessors() / 2);\r\nprivate static final int MAX_POOL_SIZE = CORE_POOL_SIZE + 1;\r\nprivate static final int KEEP_ALIVE_TIME = 60;\r\nprivate static final int MAX_QUEUE_SIZE = 100000;\r\nprivate ThreadPoolExecutor pool = new ThreadPoolExecutor(CORE_POOL_SIZE, MAX_POOL_SIZE, KEEP_ALIVE_TIME, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(MAX_QUEUE_SIZE));\r\n\r\npublic void addTask(final String md5) {\r\n    pool.submit(() -&gt; {\r\n        try {\r\n            logger.info(&quot;a1&quot;);\r\n            doAction(md5);\r\n            logger.info(&quot;a2&quot;);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;a3&quot;);\r\n        }\r\n    });\r\n}\r\n\r\nprivate void doAction(final String md5) throws Exception {\r\n    logger.error(&quot;b1&quot;);\r\n    saveFile(getFileByMd5(md5), md5);\r\n    logger.error(&quot;b2&quot;);\r\n}\r\n\r\npublic void saveFile(final File file, final String md5) throws Exception {\r\n    synchronized (md5.intern()) {\r\n        log.info(&quot;c1&quot;);\r\n        FileAttUtils.parseFileInfo(file);\r\n        log.info(&quot;c2&quot;);\r\n    }\r\n}\r\n\r\n//=========\r\n//classB\r\n//=========\r\npublic class FileAttUtils {\r\n    public static Map&lt;String, Object&gt; parseFileInfo(File file) {\r\n        log.info(&quot;d1&quot;);\r\n        SimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\r\n        log.info(&quot;d2&quot;);\r\n    }\r\n}\r\n\r\n//=========\r\n//classC\r\n//=========\r\npublic class SimpleImageInfo { \r\n  \r\n  public SimpleImageInfo(String path) {\r\n    String suffix = getFileSuffix(path);\r\n    log.info(&quot;e1&quot;);\r\n    InputStream is = null;\r\n    try {\r\n      ...\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    } finally {\r\n      ...\r\n    } \r\n  }\r\n  \r\n  private static String getFileSuffix(String path) {\r\n    String result = null;\r\n    if (path != null) {\r\n      result = &quot;&quot;;\r\n      if (path.lastIndexOf(&#39;.&#39;) != -1) {\r\n        result = path.substring(path.lastIndexOf(&#39;.&#39;));\r\n        if (result.startsWith(&quot;.&quot;))\r\n          result = result.substring(1); \r\n      } \r\n    } \r\n    log.info(&quot;getFileSuffix: {}&quot;, result);\r\n    return result;\r\n  }\r\n  \r\n}\r\n```  \r\n\r\nWhen `addTask` is called in the program, the `log` displays the following:\r\n```txt\r\n[pool-2-thread-1] xxxxx: a1\r\n[pool-2-thread-2] xxxxx: a1\r\n[pool-2-thread-1] xxxxx: b1\r\n[pool-2-thread-2] xxxxx: b1\r\n[pool-2-thread-1] xxxxx: c1\r\n[pool-2-thread-2] xxxxx: c1\r\n[pool-2-thread-1] xxxxx: d1\r\n[pool-2-thread-2] xxxxx: d1\r\n```\r\n\r\nThe program seems to be stuck in this line:\r\n```java\r\nSimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\r\n```\r\n\r\nBut from the log, it seems that the program did not enter the `SimpleImageInfo#constructor` at all (because `e1` is not printed)  \r\n\r\nI observed the following two thread messages using `jstack`:  \r\n```txt\r\n&quot;pool-2-thread-2&quot; #56 prio=5 os_prio=0 tid=0x00007fb6dc003000 nid=0x4e54 waiting on condition [0x00007fb754fe4000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n        - None\r\n\r\n&quot;pool-2-thread-1&quot; #55 prio=5 os_prio=0 tid=0x00007fb6dc002000 nid=0x4e53 waiting on condition [0x00007fb75fe51000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n   Locked ownable synchronizers:\r\n        - None\r\n```  \r\n\r\nI searched all the output of `jstack`, but I couldn&#39;t find the thread `0x00000006c1931ae8`(parking to wait for  &lt;0x00000006c1931ae8&gt;).  \r\n\r\nI wonder why my program is stuck? Why does code in thread go into waiting state halfway through execution?\r\n\r\n","title":"Java thread stuck","body":"<p>The code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//=========\n//classA\n//=========\nprivate static final int CORE_POOL_SIZE = Math.max(1, Runtime.getRuntime().availableProcessors() / 2);\nprivate static final int MAX_POOL_SIZE = CORE_POOL_SIZE + 1;\nprivate static final int KEEP_ALIVE_TIME = 60;\nprivate static final int MAX_QUEUE_SIZE = 100000;\nprivate ThreadPoolExecutor pool = new ThreadPoolExecutor(CORE_POOL_SIZE, MAX_POOL_SIZE, KEEP_ALIVE_TIME, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(MAX_QUEUE_SIZE));\n\npublic void addTask(final String md5) {\n    pool.submit(() -&gt; {\n        try {\n            logger.info(&quot;a1&quot;);\n            doAction(md5);\n            logger.info(&quot;a2&quot;);\n        } catch (Exception e) {\n            logger.error(&quot;a3&quot;);\n        }\n    });\n}\n\nprivate void doAction(final String md5) throws Exception {\n    logger.error(&quot;b1&quot;);\n    saveFile(getFileByMd5(md5), md5);\n    logger.error(&quot;b2&quot;);\n}\n\npublic void saveFile(final File file, final String md5) throws Exception {\n    synchronized (md5.intern()) {\n        log.info(&quot;c1&quot;);\n        FileAttUtils.parseFileInfo(file);\n        log.info(&quot;c2&quot;);\n    }\n}\n\n//=========\n//classB\n//=========\npublic class FileAttUtils {\n    public static Map&lt;String, Object&gt; parseFileInfo(File file) {\n        log.info(&quot;d1&quot;);\n        SimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\n        log.info(&quot;d2&quot;);\n    }\n}\n\n//=========\n//classC\n//=========\npublic class SimpleImageInfo { \n  \n  public SimpleImageInfo(String path) {\n    String suffix = getFileSuffix(path);\n    log.info(&quot;e1&quot;);\n    InputStream is = null;\n    try {\n      ...\n    } catch (IOException e) {\n      e.printStackTrace();\n    } finally {\n      ...\n    } \n  }\n  \n  private static String getFileSuffix(String path) {\n    String result = null;\n    if (path != null) {\n      result = &quot;&quot;;\n      if (path.lastIndexOf('.') != -1) {\n        result = path.substring(path.lastIndexOf('.'));\n        if (result.startsWith(&quot;.&quot;))\n          result = result.substring(1); \n      } \n    } \n    log.info(&quot;getFileSuffix: {}&quot;, result);\n    return result;\n  }\n  \n}\n</code></pre>\n<p>When <code>addTask</code> is called in the program, the <code>log</code> displays the following:</p>\n<pre><code>[pool-2-thread-1] xxxxx: a1\n[pool-2-thread-2] xxxxx: a1\n[pool-2-thread-1] xxxxx: b1\n[pool-2-thread-2] xxxxx: b1\n[pool-2-thread-1] xxxxx: c1\n[pool-2-thread-2] xxxxx: c1\n[pool-2-thread-1] xxxxx: d1\n[pool-2-thread-2] xxxxx: d1\n</code></pre>\n<p>The program seems to be stuck in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleImageInfo image = new SimpleImageInfo(file.getAbsolutePath());\n</code></pre>\n<p>But from the log, it seems that the program did not enter the <code>SimpleImageInfo#constructor</code> at all (because <code>e1</code> is not printed)</p>\n<p>I observed the following two thread messages using <code>jstack</code>:</p>\n<pre><code>&quot;pool-2-thread-2&quot; #56 prio=5 os_prio=0 tid=0x00007fb6dc003000 nid=0x4e54 waiting on condition [0x00007fb754fe4000]\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\n\n   Locked ownable synchronizers:\n        - None\n\n&quot;pool-2-thread-1&quot; #55 prio=5 os_prio=0 tid=0x00007fb6dc002000 nid=0x4e53 waiting on condition [0x00007fb75fe51000]\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000006c1931ae8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n        at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\n\n   Locked ownable synchronizers:\n        - None\n</code></pre>\n<p>I searched all the output of <code>jstack</code>, but I couldn't find the thread <code>0x00000006c1931ae8</code>(parking to wait for  &lt;0x00000006c1931ae8&gt;).</p>\n<p>I wonder why my program is stuck? Why does code in thread go into waiting state halfway through execution?</p>\n"},{"tags":["java","security","nashorn"],"owner":{"account_id":25415235,"reputation":13,"user_id":19222283,"display_name":"MIX 2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699604934,"creation_date":1699604907,"question_id":77458598,"body_markdown":"I am using the following code to execute the statements\r\n\r\n```\r\n\r\nNashornSandbox sandbox = NashornSandboxes.create();\r\n\r\n\t\t String input = &quot;(20&gt;=10 &amp;&amp; 19&lt;=20 || 33&gt;30 ) &amp;&amp;  233&gt;30&quot;;\r\n\t\t  try {\r\n\t            // Evaluate the logical expression\r\n\t            Object result = sandbox.eval(input);\r\n\r\n\t            if (result instanceof Boolean) {\r\n\t                boolean booleanResult = (boolean) result;\r\n\t                System.out.println(&quot;Result: &quot; + booleanResult);\r\n\t            } else {\r\n\t                System.out.println(&quot;Invalid expression: Result is not a boolean&quot;);\r\n\t            }\r\n\t        } catch (ScriptException e) {\r\n\t            System.out.println(&quot;Invalid expression: &quot; + e.getMessage());\r\n\t        }\r\n```\r\nhow to only allow execute logic expressions and prevent while,for,exist and everything else.\r\n","title":"How to use NashornSandbox in safe way","body":"<p>I am using the following code to execute the statements</p>\n<pre><code>\nNashornSandbox sandbox = NashornSandboxes.create();\n\n         String input = &quot;(20&gt;=10 &amp;&amp; 19&lt;=20 || 33&gt;30 ) &amp;&amp;  233&gt;30&quot;;\n          try {\n                // Evaluate the logical expression\n                Object result = sandbox.eval(input);\n\n                if (result instanceof Boolean) {\n                    boolean booleanResult = (boolean) result;\n                    System.out.println(&quot;Result: &quot; + booleanResult);\n                } else {\n                    System.out.println(&quot;Invalid expression: Result is not a boolean&quot;);\n                }\n            } catch (ScriptException e) {\n                System.out.println(&quot;Invalid expression: &quot; + e.getMessage());\n            }\n</code></pre>\n<p>how to only allow execute logic expressions and prevent while,for,exist and everything else.</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":9795977,"reputation":11,"user_id":7259011,"display_name":"Merih"},"score":1,"creation_date":1481601898,"post_id":41112687,"comment_id":69431290,"body_markdown":"Thank you so much, you make it very simple and easy to understand.","body":"Thank you so much, you make it very simple and easy to understand."}],"tags":[],"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481604269,"creation_date":1481594913,"answer_id":41112687,"question_id":41111977,"body_markdown":"I worked on some **possible** solution using regular expressions:\r\n\r\n 1. Get the String representation of the array:\r\n\r\n      From:`{ 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };`\r\n    \r\n      To: `0002020200`\r\n\r\n 2. Remove leading and trailing zeros from the string.\r\n\r\n      so, what we have so far is: `20202`\r\n\r\n 3. Now you have to options:\r\n\r\n 3.1. If resulting string length is &lt; 2 `return false`. This fits the two non-zero elements requirement.\r\n\r\n 3.2. If &gt;= 2 return matching with regex `^(((-*)[1-9]+)([0]{&quot; + n + &quot;})+)+((-*)[1-9]+)$` (it could be true or false depending on the case).\r\n\r\n&gt; The regex matches any quantity of numbers (negative included)\r\n&gt; separated by n zeros between them.\r\n\r\n\r\n----------\r\n##Implementation:##\r\n\r\nThis implementation takes the input from your question (you could test it further) and return true or false after previous pseudo-algorithm evaluation. I also print the current string (from step 2) with informational purposes.\r\n\r\n###MainProgram:###\r\n\r\n    import java.util.Arrays;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Nzero\r\n    {\r\n    \tpublic static void main ( String [ ] args )\r\n    \t{\r\n    \t\t\r\n    \t\tint [ ] arr1 = { 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };\r\n    \t\tint [ ] arr2 = { 12 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , - 8 };\r\n    \t\tint [ ] arr3 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 6 };\r\n    \t\tint [ ] arr4 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 0 , 6 };\r\n    \t\tint [ ] arr5 = { 0 , 0 , 0 , 0 , 5 , 0 , 4 , 0 , 0 , 6 };\r\n    \t\tint [ ] arr6 = { 0 , 0 , 0 , 0 };\r\n    \t\tint [ ] arr7 = { 0 , 0 , 1 , 0 , 0 };\r\n    \t\t\r\n    \t\tSystem.out.println ( isNzeroPack ( arr1 , 1 ) ); // true\r\n    \t\tSystem.out.println ( isNzeroPack ( arr2 , 7 ) ); // true\r\n    \t\tSystem.out.println ( isNzeroPack ( arr3 , 2 ) ); // true\r\n    \t\tSystem.out.println ( isNzeroPack ( arr4 , 2 ) ); // false\r\n    \t\tSystem.out.println ( isNzeroPack ( arr5 , 2 ) ); // false\r\n    \t\tSystem.out.println ( isNzeroPack ( arr6 , 3 ) ); // false\r\n    \t\tSystem.out.println ( isNzeroPack ( arr7 , 2 ) ); // false\r\n    \r\n    \t}\r\n    \r\n    \tprivate static boolean isNzeroPack ( int [ ] arr , int n )\r\n    \t{\r\n    \t\t\r\n    \t\tString numbers = Arrays.toString ( arr ).replaceAll ( &quot;\\\\[|\\\\]|,|\\\\s&quot; , &quot;&quot; );\r\n    \t\tnumbers = numbers.replaceAll ( &quot;[0]+$&quot; , &quot;&quot; );\r\n    \t\tnumbers = numbers.replaceFirst ( &quot;^0+(?!$)&quot; , &quot;&quot; );\r\n    \t\t//informational print\r\n    \t\tSystem.out.println ( numbers );\r\n    \t\t\r\n    \t\tPattern pattern = Pattern.compile ( &quot;^(((-*)[1-9]+)([0]{&quot; + n + &quot;})+)+((-*)[1-9]+)$&quot; );\r\n    \t\treturn numbers.length ( ) &lt; 2 ? false : pattern.matcher ( numbers ).find ( );\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n##Output:##\r\n\r\n    20202\r\n    true\r\n    120000000-8\r\n    true\r\n    5004006\r\n    true\r\n    50040006\r\n    false\r\n    504006\r\n    false\r\n    \r\n    false\r\n    1\r\n    false\r\n\r\n**Note:** there is an empty line on the output (it&#39;s expected).\r\n\r\nI hope it helps :)\r\n\r\n","title":"n-zero-packed array is a The function returns true if its array argument is n-zero-packed","body":"<p>I worked on some <strong>possible</strong> solution using regular expressions:</p>\n\n<ol>\n<li><p>Get the String representation of the array:</p>\n\n<p>From:<code>{ 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };</code></p>\n\n<p>To: <code>0002020200</code></p></li>\n<li><p>Remove leading and trailing zeros from the string.</p>\n\n<p>so, what we have so far is: <code>20202</code></p></li>\n<li><p>Now you have to options:</p>\n\n<p>3.1. If resulting string length is &lt; 2 <code>return false</code>. This fits the two non-zero elements requirement.</p>\n\n<p>3.2. If >= 2 return matching with regex <code>^(((-*)[1-9]+)([0]{\" + n + \"})+)+((-*)[1-9]+)$</code> (it could be true or false depending on the case).</p></li>\n</ol>\n\n<blockquote>\n  <p>The regex matches any quantity of numbers (negative included)\n  separated by n zeros between them.</p>\n</blockquote>\n\n<hr>\n\n<h2>Implementation:</h2>\n\n<p>This implementation takes the input from your question (you could test it further) and return true or false after previous pseudo-algorithm evaluation. I also print the current string (from step 2) with informational purposes.</p>\n\n<h3>MainProgram:</h3>\n\n<pre><code>import java.util.Arrays;\nimport java.util.regex.Pattern;\n\npublic class Nzero\n{\n    public static void main ( String [ ] args )\n    {\n\n        int [ ] arr1 = { 0 , 0 , 0 , 2 , 0 , 2 , 0 , 2 , 0 , 0 };\n        int [ ] arr2 = { 12 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , - 8 };\n        int [ ] arr3 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 6 };\n        int [ ] arr4 = { 0 , 0 , 0 , 0 , 5 , 0 , 0 , 4 , 0 , 0 , 0 , 6 };\n        int [ ] arr5 = { 0 , 0 , 0 , 0 , 5 , 0 , 4 , 0 , 0 , 6 };\n        int [ ] arr6 = { 0 , 0 , 0 , 0 };\n        int [ ] arr7 = { 0 , 0 , 1 , 0 , 0 };\n\n        System.out.println ( isNzeroPack ( arr1 , 1 ) ); // true\n        System.out.println ( isNzeroPack ( arr2 , 7 ) ); // true\n        System.out.println ( isNzeroPack ( arr3 , 2 ) ); // true\n        System.out.println ( isNzeroPack ( arr4 , 2 ) ); // false\n        System.out.println ( isNzeroPack ( arr5 , 2 ) ); // false\n        System.out.println ( isNzeroPack ( arr6 , 3 ) ); // false\n        System.out.println ( isNzeroPack ( arr7 , 2 ) ); // false\n\n    }\n\n    private static boolean isNzeroPack ( int [ ] arr , int n )\n    {\n\n        String numbers = Arrays.toString ( arr ).replaceAll ( \"\\\\[|\\\\]|,|\\\\s\" , \"\" );\n        numbers = numbers.replaceAll ( \"[0]+$\" , \"\" );\n        numbers = numbers.replaceFirst ( \"^0+(?!$)\" , \"\" );\n        //informational print\n        System.out.println ( numbers );\n\n        Pattern pattern = Pattern.compile ( \"^(((-*)[1-9]+)([0]{\" + n + \"})+)+((-*)[1-9]+)$\" );\n        return numbers.length ( ) &lt; 2 ? false : pattern.matcher ( numbers ).find ( );\n\n    }\n\n}\n</code></pre>\n\n<h2>Output:</h2>\n\n<pre><code>20202\ntrue\n120000000-8\ntrue\n5004006\ntrue\n50040006\nfalse\n504006\nfalse\n\nfalse\n1\nfalse\n</code></pre>\n\n<p><strong>Note:</strong> there is an empty line on the output (it's expected).</p>\n\n<p>I hope it helps :)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699640421,"post_id":77458597,"comment_id":136561773,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77458597/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29870717,"reputation":1,"user_id":22892142,"display_name":"Arefaine Haymanot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699604906,"creation_date":1699604906,"answer_id":77458597,"question_id":41111977,"body_markdown":"static int isNZeroPacked(int[] a, int n) {\r\n\t\t\r\n\t\tint nonZeroCount = 0;\r\n\t\tint zeroCount = 0;\r\n\t\tfor(int i = 0; i &lt; a.length; ++i) {\r\n\t\t\t\r\n\t\t\tboolean nZero = false;\r\n\t\t\tif(a[i] == 0)\r\n\t\t\t\tcontinue;\r\n\t\t\telse if(a[i] != 0 &amp;&amp; i == a.length-1) {\r\n\t\t\t\tnonZeroCount++;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\telse if(a[i] != 0 &amp;&amp; i != a.length-1) {\r\n\t\t\t\t\r\n\t\t\t\tnonZeroCount++;\r\n\t\t\t\t\r\n\t\t\t\tfor(int j = i + 1; j &lt;a.length; ++j) {\r\n\t\t\t\t\tif(a[j] != 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tzeroCount++;\r\n\t\t\t\t\tif(a[a.length-1] == 0 )\r\n\t\t\t\t\t\tzeroCount = n;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(zeroCount == n)\r\n\t\t\t\t\t\tnZero = true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!nZero)\r\n\t\t\t\treturn 0;\r\n\t\t}\r\n\t\tif(nonZeroCount &lt; 2)\r\n\t\t\treturn 0;\r\n\t\treturn 1;\r\n\t}","title":"n-zero-packed array is a The function returns true if its array argument is n-zero-packed","body":"<p>static int isNZeroPacked(int[] a, int n) {</p>\n<pre><code>    int nonZeroCount = 0;\n    int zeroCount = 0;\n    for(int i = 0; i &lt; a.length; ++i) {\n        \n        boolean nZero = false;\n        if(a[i] == 0)\n            continue;\n        else if(a[i] != 0 &amp;&amp; i == a.length-1) {\n            nonZeroCount++;\n            break;\n        }\n            \n        else if(a[i] != 0 &amp;&amp; i != a.length-1) {\n            \n            nonZeroCount++;\n            \n            for(int j = i + 1; j &lt;a.length; ++j) {\n                if(a[j] != 0)\n                    break;\n                zeroCount++;\n                if(a[a.length-1] == 0 )\n                    zeroCount = n;\n                \n                if(zeroCount == n)\n                    nZero = true;\n            }\n            \n        }\n        \n        if(!nZero)\n            return 0;\n    }\n    if(nonZeroCount &lt; 2)\n        return 0;\n    return 1;\n}\n</code></pre>\n"}],"owner":{"account_id":9795977,"reputation":11,"user_id":7259011,"display_name":"Merih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":41112687,"answer_count":2,"score":0,"last_activity_date":1699604906,"creation_date":1481589553,"question_id":41111977,"body_markdown":"An array is defined to be n-zero-packed if it contains two or more non-zero elements and exactly n zeroes separate all non-zero elements that would be adjacent if the zeroes were removed. For example, the array {1, 0, 0, 18, 0, 0, -8, 0, 0} is 2-zero-packed because there are two zeroes between the 1 and the 18 and two zeroes between the 18 and the -8 and this accounts for all the non-zero elements. The array {0, 1, 0, 0, 0, 6, 0, 8, 0, 0, 4} is not 2-zero-packed because there are three zeroes between the 1 and the 6 and only one zero between the 6 and the 8\r\nWrite a function named isNZeroPacked with the following signature\r\nboolean isNZeroPacked(int[] a, int n)\r\nThe function returns true if its array argument is n-zero-packed (note that n is passed as one of the arguments of the function\r\n\r\nExamples\r\n\r\n1. {0, 0, 0, 2, 0, 2, 0, 2, 0, 0}\r\nn= 1\r\nans =&gt; True || 1;\r\nbecause exactly 1 zero separates all the non-zero elements of the array\r\n\r\n2. {12, 0, 0, 0, 0, 0, 0, 0, -8}\r\nn=7\r\nans= true || 1\r\nbecause exactly 7 zeroes separate all the non-zero elements of the array\r\n\r\n3. {0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 6}\r\nn=2\r\nans = true || 1\r\nbecause exactly 2 zeroes separate all the non-zero elements of the array\r\n\r\n4. {0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 0, 6}\r\nn=2\r\nans = false || 0\r\nbecause there are three zeroes between the 4 and the 6.\r\n\r\n5. {0, 0, 0, 0, 5, 0, 4, 0, 0, 6}\r\nn=2\r\nans= false || 0\r\nbecause there is only one zero between the 5 and the 4.\r\n\r\n6. {0, 0, 0, 0}\r\nn=3\r\nans= false 0\r\nbecause array must have at least two non-zero elements\r\n\r\n7. {0, 0, 1, 0, 0}\r\nn=2\r\nans= false || 0\r\nbecause array must have at least two non-zero elements\r\n\r\nNote: zeroes at the beginning and end of the array should be ignored. my solutions is down here, any shorter and a simpler code is appreciated \r\n\r\n\r\n\r\n\r\n\r\n   \r\n\r\n     private static boolean isNzeroPack(int[] arr, int n) {\r\n    \r\n    \t\tboolean firstIf = false;\r\n    \t\tboolean secondIf = false;\r\n    \t\tboolean satisfied=false;\r\n    \r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tif (arr[i] != 0) {\r\n    \t\t\t\tfor (int j = i, k = 1; j &lt; arr.length; k++, j++) {\r\n    \t\t\t\t\tif (i - k &gt;= 0 &amp;&amp; !firstIf &amp;&amp; arr[i - k] != 0) {\r\n    \t\t\t\t\t\tif (j - i != n) {\r\n    \t\t\t\t\t\t\treturn false;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tfirstIf = true;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (((j + 1) &lt; arr.length) &amp;&amp; !secondIf &amp;&amp; (arr[j + 1] != 0)) {\r\n    \t\t\t\t\t\tif (j - i != n) {\r\n    \t\t\t\t\t\t\treturn false;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tsecondIf = true;\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tsatisfied = true;\r\n    \t\t\t}\r\n    \t\t\tfirstIf = false;\r\n    \t\t\tsecondIf = false;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn satisfied;\r\n    \t}","title":"n-zero-packed array is a The function returns true if its array argument is n-zero-packed","body":"<p>An array is defined to be n-zero-packed if it contains two or more non-zero elements and exactly n zeroes separate all non-zero elements that would be adjacent if the zeroes were removed. For example, the array {1, 0, 0, 18, 0, 0, -8, 0, 0} is 2-zero-packed because there are two zeroes between the 1 and the 18 and two zeroes between the 18 and the -8 and this accounts for all the non-zero elements. The array {0, 1, 0, 0, 0, 6, 0, 8, 0, 0, 4} is not 2-zero-packed because there are three zeroes between the 1 and the 6 and only one zero between the 6 and the 8\nWrite a function named isNZeroPacked with the following signature\nboolean isNZeroPacked(int[] a, int n)\nThe function returns true if its array argument is n-zero-packed (note that n is passed as one of the arguments of the function</p>\n\n<p>Examples</p>\n\n<ol>\n<li><p>{0, 0, 0, 2, 0, 2, 0, 2, 0, 0}\nn= 1\nans => True || 1;\nbecause exactly 1 zero separates all the non-zero elements of the array</p></li>\n<li><p>{12, 0, 0, 0, 0, 0, 0, 0, -8}\nn=7\nans= true || 1\nbecause exactly 7 zeroes separate all the non-zero elements of the array</p></li>\n<li><p>{0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 6}\nn=2\nans = true || 1\nbecause exactly 2 zeroes separate all the non-zero elements of the array</p></li>\n<li><p>{0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 0, 6}\nn=2\nans = false || 0\nbecause there are three zeroes between the 4 and the 6.</p></li>\n<li><p>{0, 0, 0, 0, 5, 0, 4, 0, 0, 6}\nn=2\nans= false || 0\nbecause there is only one zero between the 5 and the 4.</p></li>\n<li><p>{0, 0, 0, 0}\nn=3\nans= false 0\nbecause array must have at least two non-zero elements</p></li>\n<li><p>{0, 0, 1, 0, 0}\nn=2\nans= false || 0\nbecause array must have at least two non-zero elements</p></li>\n</ol>\n\n<p>Note: zeroes at the beginning and end of the array should be ignored. my solutions is down here, any shorter and a simpler code is appreciated </p>\n\n<pre><code> private static boolean isNzeroPack(int[] arr, int n) {\n\n        boolean firstIf = false;\n        boolean secondIf = false;\n        boolean satisfied=false;\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] != 0) {\n                for (int j = i, k = 1; j &lt; arr.length; k++, j++) {\n                    if (i - k &gt;= 0 &amp;&amp; !firstIf &amp;&amp; arr[i - k] != 0) {\n                        if (j - i != n) {\n                            return false;\n                        } else {\n                            firstIf = true;\n                        }\n                    }\n                    if (((j + 1) &lt; arr.length) &amp;&amp; !secondIf &amp;&amp; (arr[j + 1] != 0)) {\n                        if (j - i != n) {\n                            return false;\n                        } else {\n                            secondIf = true;\n                        }\n\n                    }\n                }\n                satisfied = true;\n            }\n            firstIf = false;\n            secondIf = false;\n\n        }\n        return satisfied;\n    }\n</code></pre>\n"},{"tags":["java","ssl","spring-data-redis","redis-cluster","lettuce"],"answers":[{"tags":[],"owner":{"account_id":1107434,"reputation":4521,"user_id":1098564,"accept_rate":75,"display_name":"sdoxsee"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618241314,"creation_date":1618241314,"answer_id":67061183,"question_id":64287424,"body_markdown":"If all of your nodes have the same IP address as the hostname (as is the case in Azure Cache for Redis, I think), then this is one way you could configure your client to map unresolved IP addresses back to the hostname listed in the certificate.\r\n\r\n```\r\n    @Bean\r\n    ClientResources clientResources(RedisProperties redisProperties) throws UnknownHostException {\r\n        var clientResourcesBuilder = DefaultClientResources.builder();\r\n        var configuredHost = redisProperties.getHost();\r\n        var inetAddresses = Arrays.asList(InetAddress.getAllByName(configuredHost));\r\n        MappingSocketAddressResolver resolver = MappingSocketAddressResolver.create(\r\n                DnsResolvers.UNRESOLVED,\r\n                hostAndPort -&gt; inetAddresses.stream()\r\n                        .anyMatch(i -&gt; i.getHostAddress().equals(hostAndPort.getHostText())) ?\r\n                        HostAndPort.of(configuredHost, hostAndPort.getPort()) :\r\n                        hostAndPort\r\n        );\r\n        clientResourcesBuilder.socketAddressResolver(resolver);\r\n        return clientResourcesBuilder.build();\r\n    }\r\n```\r\n\r\nAs best I understand it, this is the most preferable of the solutions listed on the Github [issue](https://github.com/lettuce-io/lettuce-core/issues/1454#issuecomment-707537384) until Microsoft fixes things from their end.","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>If all of your nodes have the same IP address as the hostname (as is the case in Azure Cache for Redis, I think), then this is one way you could configure your client to map unresolved IP addresses back to the hostname listed in the certificate.</p>\n<pre><code>    @Bean\n    ClientResources clientResources(RedisProperties redisProperties) throws UnknownHostException {\n        var clientResourcesBuilder = DefaultClientResources.builder();\n        var configuredHost = redisProperties.getHost();\n        var inetAddresses = Arrays.asList(InetAddress.getAllByName(configuredHost));\n        MappingSocketAddressResolver resolver = MappingSocketAddressResolver.create(\n                DnsResolvers.UNRESOLVED,\n                hostAndPort -&gt; inetAddresses.stream()\n                        .anyMatch(i -&gt; i.getHostAddress().equals(hostAndPort.getHostText())) ?\n                        HostAndPort.of(configuredHost, hostAndPort.getPort()) :\n                        hostAndPort\n        );\n        clientResourcesBuilder.socketAddressResolver(resolver);\n        return clientResourcesBuilder.build();\n    }\n</code></pre>\n<p>As best I understand it, this is the most preferable of the solutions listed on the Github <a href=\"https://github.com/lettuce-io/lettuce-core/issues/1454#issuecomment-707537384\" rel=\"noreferrer\">issue</a> until Microsoft fixes things from their end.</p>\n"},{"comments":[{"owner":{"account_id":83617,"reputation":15430,"user_id":234288,"accept_rate":86,"display_name":"Tim Lovell-Smith"},"score":0,"creation_date":1620859313,"post_id":67511216,"comment_id":119329334,"body_markdown":"Note that an additional possible workaround would be to set `.withVerifyPeer(false)` but that is not good security. I think it would instead be ideal if Lettuce library could be improved to allow SSL verification to accept the server hostname of the cluster in this kind of scenario.","body":"Note that an additional possible workaround would be to set <code>.withVerifyPeer(false)</code> but that is not good security. I think it would instead be ideal if Lettuce library could be improved to allow SSL verification to accept the server hostname of the cluster in this kind of scenario."}],"tags":[],"owner":{"account_id":83617,"reputation":15430,"user_id":234288,"accept_rate":86,"display_name":"Tim Lovell-Smith"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620855122,"creation_date":1620855122,"answer_id":67511216,"question_id":64287424,"body_markdown":"Unlike connecting in standalone mode, connecting to Azure redis in cluster mode is a two step process:\r\n\r\n1) Connect to `&lt;hostname:6380&gt;`, authenticate, and fetch the cluster endpoint details\r\n2) Connect to `&lt;ip address:port&gt;` that you got in the cluster endpoint details, authenticate again, and then send commands to the particular cluster shard your key is on\r\n\r\nThe reason you get `No subject alternative names matching IP address &lt;redacted&gt; found` is that Azure redis gives you an IP address + port number in the cluster endpoint details, and then Lettuce tries to validate your SSL connection against the IP address - instead of the hostname, but fails because its trying to verify the the SSL cert subject or SAN `something.redis.cache.windows.net` against the server endpoint that you are currently connecting to `&lt;ip address&gt;:&lt;port&gt;`.\r\n\r\nYou can get around this in most client libraries by configuring or overriding the SSL certificate validation to validate the server cert against your particular redis cache&#39;s hostname. \r\n\r\nE.g. in .Net StackExchange.redis there&#39;s a config setting called &#39;sslhost&#39; useful for this purpose.\r\n\r\nHopefully Lettuce has an equivalent.","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>Unlike connecting in standalone mode, connecting to Azure redis in cluster mode is a two step process:</p>\n<ol>\n<li>Connect to <code>&lt;hostname:6380&gt;</code>, authenticate, and fetch the cluster endpoint details</li>\n<li>Connect to <code>&lt;ip address:port&gt;</code> that you got in the cluster endpoint details, authenticate again, and then send commands to the particular cluster shard your key is on</li>\n</ol>\n<p>The reason you get <code>No subject alternative names matching IP address &lt;redacted&gt; found</code> is that Azure redis gives you an IP address + port number in the cluster endpoint details, and then Lettuce tries to validate your SSL connection against the IP address - instead of the hostname, but fails because its trying to verify the the SSL cert subject or SAN <code>something.redis.cache.windows.net</code> against the server endpoint that you are currently connecting to <code>&lt;ip address&gt;:&lt;port&gt;</code>.</p>\n<p>You can get around this in most client libraries by configuring or overriding the SSL certificate validation to validate the server cert against your particular redis cache's hostname.</p>\n<p>E.g. in .Net StackExchange.redis there's a config setting called 'sslhost' useful for this purpose.</p>\n<p>Hopefully Lettuce has an equivalent.</p>\n"},{"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699604835,"creation_date":1699604835,"answer_id":77458590,"question_id":64287424,"body_markdown":"We got the following error when just using `spring.data.redis.ssl.enabled=true`.\r\n\r\n```\r\nCannot connect Redis Sentinel at rediss://username:***********************************@xxx.xxx.xxx.xxx:26379:\r\njava.util.concurrent.CompletionException: javax.net.ssl.SSLHandshakeException: \r\nNo subject alternative names matching IP address xxx.xxx.xxx.xxx found\r\n```\r\n\r\nAfter some trial and error we changed from lettuce (which is the default library to talk with redis in Spring Boot) to jedis and then it worked :)\r\n\r\nWe did that with the following code in pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWe are using Spring Boot 3.1.5 and java 21.\r\n","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>We got the following error when just using <code>spring.data.redis.ssl.enabled=true</code>.</p>\n<pre><code>Cannot connect Redis Sentinel at rediss://username:***********************************@xxx.xxx.xxx.xxx:26379:\njava.util.concurrent.CompletionException: javax.net.ssl.SSLHandshakeException: \nNo subject alternative names matching IP address xxx.xxx.xxx.xxx found\n</code></pre>\n<p>After some trial and error we changed from lettuce (which is the default library to talk with redis in Spring Boot) to jedis and then it worked :)</p>\n<p>We did that with the following code in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We are using Spring Boot 3.1.5 and java 21.</p>\n"}],"owner":{"account_id":2972390,"reputation":2857,"user_id":3160529,"accept_rate":67,"display_name":"Shubham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11935,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1699604835,"creation_date":1602278197,"question_id":64287424,"body_markdown":"I&#39;ve an Azure Cache for Redis - Premium and Cluster enabled. I&#39;ve been trying to connect to that Redis using `spring-boot-starter-data-redis` (spring boot version: `2.3.4.RELEASE`, Java version: `11`) and using lettuce client but Lettuce is throwing the following SSL exception when I am treating my Redis as a Redis Cluster but connects just fine when using it as a Standalone Redis server. \r\n\r\nMy `pom.xml` dependencies are:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nJava code:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.data.redis.RedisProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.redis.connection.*;\r\n    import org.springframework.data.redis.connection.lettuce.LettuceClientConfiguration;\r\n    import org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\n    import org.springframework.data.redis.core.StringRedisTemplate;\r\n    \r\n    \r\n    @Configuration\r\n    class LettuceConfig {\r\n    \r\n    \t@Bean\r\n    \tStringRedisTemplate getStringRedisTemplate(final RedisProperties redisProperties) {\r\n    \t\treturn new StringRedisTemplate(getRedisConnectionFactory(redisProperties));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRedisConnectionFactory getRedisConnectionFactory(final RedisProperties redisProperties) {\r\n        \r\n    \t\tfinal RedisNode redisNode = RedisNode.newRedisNode()\r\n    \t\t\t\t.listeningAt(redisProperties.getHost(), redisProperties.getPort())\r\n    \t\t\t\t.build();\r\n    \r\n    \t\t// Connecting as a Redis Cluster\r\n    \t\tfinal RedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration();\r\n    \t\tredisClusterConfiguration.addClusterNode(redisNode);\r\n    \t\tredisClusterConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\r\n    \r\n    \t\t// Connecting as a Standalone Redis server\r\n    \t\tfinal RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n    \t\tredisStandaloneConfiguration.setHostName(redisProperties.getHost());\r\n    \t\tredisStandaloneConfiguration.setPort(redisProperties.getPort());\r\n    \t\tredisStandaloneConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\r\n    \r\n    \t\tfinal LettuceClientConfiguration.LettuceClientConfigurationBuilder lettuceClientConfigurationBuilder =\r\n    \t\t\t\tLettuceClientConfiguration.builder()\r\n    \t\t\t\t.clientName(redisProperties.getClientName())\r\n    \t\t\t\t.commandTimeout(redisProperties.getTimeout());\r\n    \r\n    \t\tif (redisProperties.isSsl()) {\r\n    \t\t\tlettuceClientConfigurationBuilder.useSsl();\r\n    \t\t}\r\n    \r\n    \t\tfinal LettuceClientConfiguration lettuceClientConfiguration = lettuceClientConfigurationBuilder.build();\r\n    \r\n    \t\treturn new LettuceConnectionFactory(redisClusterConfiguration, lettuceClientConfiguration);\r\n    \t}\r\n    }\r\n    \r\n    @SpringBootApplication\r\n    public class LettuceClusterApplication implements CommandLineRunner {\r\n    \r\n    \tprivate final StringRedisTemplate stringRedisTemplate;\r\n    \r\n    \t@Autowired\r\n    \tpublic LettuceClusterApplication(final StringRedisTemplate stringRedisTemplate) {\r\n    \t\tthis.stringRedisTemplate = stringRedisTemplate;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(LettuceClusterApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tSystem.out.println(stringRedisTemplate.hasKey(&quot;abc&quot;));\r\n    \t}\r\n    }\r\n\r\nWhen using `redisStandaloneConfiguration` in `new LettuceConnectionFactory(..., ...)`, the code works just fine, but if I use `redisClusterConfiguration`, the code fails with the following exception:\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \t...\r\n    Caused by: org.springframework.data.redis.RedisConnectionFailureException: Redis connection failed; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host=&#39;&lt;redacted&gt;.redis.cache.windows.net&#39;, port=6380]]\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:66) ~[spring-data-redis-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \t...\r\n    Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host=&#39;&lt;redacted&gt;.redis.cache.windows.net&#39;, port=6380]]\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78) ~[lettuce-core-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n    \t...\r\n    Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names matching IP address &lt;redacted&gt; found\r\n    \t...\r\n    Caused by: java.security.cert.CertificateException: No subject alternative names matching IP address &lt;redacted&gt; found\r\n    \tat java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:165) ~[na:na]\r\n    \t...\r\n\r\nMy `application.properties` file:\r\n\r\n    spring.redis.host = &lt;redacted&gt;.redis.cache.windows.net\r\n    spring.redis.port = 6380\r\n    spring.redis.password = &lt;redacted&gt;\r\n    spring.redis.ssl = true\r\n    spring.redis.clientName = ${HOSTNAME}\r\n    spring.redis.timeout = 100000\r\n    \r\n**Update**: Found a similar issue in Github: https://github.com/lettuce-io/lettuce-core/issues/246 but it says that it should work with lettuce versions &gt; `4.2` and my lettuce-core version (bundled under `spring-boot-starter-data-redis`) is `5.3.4.RELEASE`. \r\nAlso worth checking out is the documentation which states the same: https://lettuce.io/core/release/reference/#ssl\r\n\r\n&gt; Lettuce supports SSL connections since version 3.1 on Redis Standalone connections and since version 4.2 on Redis Cluster\r\n\r\nRaised GitHub issue as well: https://github.com/lettuce-io/lettuce-core/issues/1454","title":"Lettuce can&#39;t connect to Redis Cluster using SSL but can connect to same Redis server using SSL by treating it as a Standalone node","body":"<p>I've an Azure Cache for Redis - Premium and Cluster enabled. I've been trying to connect to that Redis using <code>spring-boot-starter-data-redis</code> (spring boot version: <code>2.3.4.RELEASE</code>, Java version: <code>11</code>) and using lettuce client but Lettuce is throwing the following SSL exception when I am treating my Redis as a Redis Cluster but connects just fine when using it as a Standalone Redis server.</p>\n<p>My <code>pom.xml</code> dependencies are:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.redis.RedisProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.*;\nimport org.springframework.data.redis.connection.lettuce.LettuceClientConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.StringRedisTemplate;\n\n\n@Configuration\nclass LettuceConfig {\n\n    @Bean\n    StringRedisTemplate getStringRedisTemplate(final RedisProperties redisProperties) {\n        return new StringRedisTemplate(getRedisConnectionFactory(redisProperties));\n    }\n\n    @Bean\n    RedisConnectionFactory getRedisConnectionFactory(final RedisProperties redisProperties) {\n    \n        final RedisNode redisNode = RedisNode.newRedisNode()\n                .listeningAt(redisProperties.getHost(), redisProperties.getPort())\n                .build();\n\n        // Connecting as a Redis Cluster\n        final RedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration();\n        redisClusterConfiguration.addClusterNode(redisNode);\n        redisClusterConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\n\n        // Connecting as a Standalone Redis server\n        final RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setHostName(redisProperties.getHost());\n        redisStandaloneConfiguration.setPort(redisProperties.getPort());\n        redisStandaloneConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\n\n        final LettuceClientConfiguration.LettuceClientConfigurationBuilder lettuceClientConfigurationBuilder =\n                LettuceClientConfiguration.builder()\n                .clientName(redisProperties.getClientName())\n                .commandTimeout(redisProperties.getTimeout());\n\n        if (redisProperties.isSsl()) {\n            lettuceClientConfigurationBuilder.useSsl();\n        }\n\n        final LettuceClientConfiguration lettuceClientConfiguration = lettuceClientConfigurationBuilder.build();\n\n        return new LettuceConnectionFactory(redisClusterConfiguration, lettuceClientConfiguration);\n    }\n}\n\n@SpringBootApplication\npublic class LettuceClusterApplication implements CommandLineRunner {\n\n    private final StringRedisTemplate stringRedisTemplate;\n\n    @Autowired\n    public LettuceClusterApplication(final StringRedisTemplate stringRedisTemplate) {\n        this.stringRedisTemplate = stringRedisTemplate;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(LettuceClusterApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(stringRedisTemplate.hasKey(&quot;abc&quot;));\n    }\n}\n</code></pre>\n<p>When using <code>redisStandaloneConfiguration</code> in <code>new LettuceConnectionFactory(..., ...)</code>, the code works just fine, but if I use <code>redisClusterConfiguration</code>, the code fails with the following exception:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    ...\nCaused by: org.springframework.data.redis.RedisConnectionFailureException: Redis connection failed; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host='&lt;redacted&gt;.redis.cache.windows.net', port=6380]]\n    at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:66) ~[spring-data-redis-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    ...\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to [RedisURI [host='&lt;redacted&gt;.redis.cache.windows.net', port=6380]]\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78) ~[lettuce-core-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    ...\nCaused by: javax.net.ssl.SSLHandshakeException: No subject alternative names matching IP address &lt;redacted&gt; found\n    ...\nCaused by: java.security.cert.CertificateException: No subject alternative names matching IP address &lt;redacted&gt; found\n    at java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:165) ~[na:na]\n    ...\n</code></pre>\n<p>My <code>application.properties</code> file:</p>\n<pre><code>spring.redis.host = &lt;redacted&gt;.redis.cache.windows.net\nspring.redis.port = 6380\nspring.redis.password = &lt;redacted&gt;\nspring.redis.ssl = true\nspring.redis.clientName = ${HOSTNAME}\nspring.redis.timeout = 100000\n</code></pre>\n<p><strong>Update</strong>: Found a similar issue in Github: <a href=\"https://github.com/lettuce-io/lettuce-core/issues/246\" rel=\"noreferrer\">https://github.com/lettuce-io/lettuce-core/issues/246</a> but it says that it should work with lettuce versions &gt; <code>4.2</code> and my lettuce-core version (bundled under <code>spring-boot-starter-data-redis</code>) is <code>5.3.4.RELEASE</code>.\nAlso worth checking out is the documentation which states the same: <a href=\"https://lettuce.io/core/release/reference/#ssl\" rel=\"noreferrer\">https://lettuce.io/core/release/reference/#ssl</a></p>\n<blockquote>\n<p>Lettuce supports SSL connections since version 3.1 on Redis Standalone connections and since version 4.2 on Redis Cluster</p>\n</blockquote>\n<p>Raised GitHub issue as well: <a href=\"https://github.com/lettuce-io/lettuce-core/issues/1454\" rel=\"noreferrer\">https://github.com/lettuce-io/lettuce-core/issues/1454</a></p>\n"},{"tags":["java","excel","spring-boot","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":14831756,"reputation":83,"user_id":10711074,"display_name":"raymax"},"score":0,"creation_date":1699610455,"post_id":77458581,"comment_id":136556502,"body_markdown":"Hi @Axel Richter . Your solution works for me. Thank you.","body":"Hi @Axel Richter . Your solution works for me. Thank you."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699604760,"creation_date":1699604760,"answer_id":77458581,"question_id":77452853,"body_markdown":"To display values in segments of a pie or doughnut chart, settings for data labels must be set in chart.\r\n\r\nLet it be `XSSFChart chart` and chart be a doughnut chart, then:\r\n\r\n    // Add data labels\r\n    if (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\r\n    }\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\r\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\t\r\n\r\nAnd to remove the border around the chart space code like so:\r\n\r\n\t// chart area (chartspace) without border line\r\n    chart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\r\n\r\nThis sets a line having no fill as shape property to the chart space.\r\n\r\nComplete example usable using current Apache POI 5.2.4.\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class DoughnutChartsXDDF {\r\n    \t\r\n      static XSSFChart createDoughnutChart(XSSFSheet sheet, String[] categories, Number[] values, String titleText, int col1, int row1, int col2, int row2) {\r\n        XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n        XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, col1, row1, col2, row2);\r\n    \r\n        XSSFChart chart = drawing.createChart(anchor);\r\n        chart.setTitleText(titleText);\r\n        chart.setTitleOverlay(false);\r\n        XDDFChartLegend legend = chart.getOrAddLegend();\r\n        legend.setPosition(LegendPosition.BOTTOM);\r\n    \r\n        XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(categories);\r\n        XDDFNumericalDataSource&lt;Number&gt; val = XDDFDataSourcesFactory.fromArray(values);\r\n    \r\n        XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\r\n        data.setVaryColors(true);\r\n        data.setHoleSize(50);\r\n        XDDFChartData.Series series = data.addSeries(cat, val);\r\n        chart.plot(data);\r\n    \r\n        // Do not auto delete the title; is necessary for showing title in Calc\r\n        if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n        chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n        // Data point colors; is necessary for showing data points in Calc\r\n        int pointCount = series.getCategoryData().getPointCount(); \r\n        for (int p = 0; p &lt; pointCount; p++) {\r\n          chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n          chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n            .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n        }\r\n    \t\r\n        // Add data labels\r\n        if (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\r\n        }\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\r\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);\t\r\n    \t\r\n    \t// chart area (chartspace) without border line\r\n        chart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\r\n    \r\n    \treturn chart;\r\n      }\t  \r\n      \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n    \t  \r\n    \t  String[] categories = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\r\n          Number[] values = new Number[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\r\n    \t  XSSFChart chart1 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 1&quot;, 0, 4, 4, 20);\r\n    \r\n          categories = new String[]{&quot;one&quot;,&quot;two&quot;};\r\n          values = new Number[]{ 60L,40L };\r\n    \t  XSSFChart chart2 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 2&quot;, 4, 4, 8, 20);\r\n    \t   \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Apache poi multiple Doughnut Chart in XSSFClientAnchor","body":"<p>To display values in segments of a pie or doughnut chart, settings for data labels must be set in chart.</p>\n<p>Let it be <code>XSSFChart chart</code> and chart be a doughnut chart, then:</p>\n<pre><code>// Add data labels\nif (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\n}\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\nchart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);    \n</code></pre>\n<p>And to remove the border around the chart space code like so:</p>\n<pre><code>// chart area (chartspace) without border line\nchart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\n</code></pre>\n<p>This sets a line having no fill as shape property to the chart space.</p>\n<p>Complete example usable using current Apache POI 5.2.4.</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class DoughnutChartsXDDF {\n    \n  static XSSFChart createDoughnutChart(XSSFSheet sheet, String[] categories, Number[] values, String titleText, int col1, int row1, int col2, int row2) {\n    XSSFDrawing drawing = sheet.createDrawingPatriarch();\n    XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, col1, row1, col2, row2);\n\n    XSSFChart chart = drawing.createChart(anchor);\n    chart.setTitleText(titleText);\n    chart.setTitleOverlay(false);\n    XDDFChartLegend legend = chart.getOrAddLegend();\n    legend.setPosition(LegendPosition.BOTTOM);\n\n    XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(categories);\n    XDDFNumericalDataSource&lt;Number&gt; val = XDDFDataSourcesFactory.fromArray(values);\n\n    XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\n    data.setVaryColors(true);\n    data.setHoleSize(50);\n    XDDFChartData.Series series = data.addSeries(cat, val);\n    chart.plot(data);\n\n    // Do not auto delete the title; is necessary for showing title in Calc\n    if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n    chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n    // Data point colors; is necessary for showing data points in Calc\n    int pointCount = series.getCategoryData().getPointCount(); \n    for (int p = 0; p &lt; pointCount; p++) {\n      chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n      chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n        .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n    }\n    \n    // Add data labels\n    if (!chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).isSetDLbls()) {\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDLbls();\n    }\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowVal().setVal(true);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowCatName().setVal(false);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowPercent().setVal(false);\n    chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDLbls().addNewShowLegendKey().setVal(false);    \n    \n    // chart area (chartspace) without border line\n    chart.getCTChartSpace().addNewSpPr().addNewLn().addNewNoFill();\n\n    return chart;\n  }   \n  \n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n      \n      String[] categories = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\n      Number[] values = new Number[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\n      XSSFChart chart1 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 1&quot;, 0, 4, 4, 20);\n\n      categories = new String[]{&quot;one&quot;,&quot;two&quot;};\n      values = new Number[]{ 60L,40L };\n      XSSFChart chart2 = createDoughnutChart(sheet, categories, values, &quot;Doughnut-Chart 2&quot;, 4, 4, 8, 20);\n       \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14831756,"reputation":83,"user_id":10711074,"display_name":"raymax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77458581,"answer_count":1,"score":-1,"last_activity_date":1699604760,"creation_date":1699529944,"question_id":77452853,"body_markdown":"I am writing a code which creates multiple DoughnutChart in excel file.I can create multiple doughnut Chart and put them side by side using multiple anchore.\r\nNow i have two issues\r\n\r\n 1. Values are not displayed on the DoughnutChart.\r\n 2. Every single anchore has its own border. For multiple chart i need to use multiple Anchore.I dont want those chart seperated by borders.My task is all the charts should be side by side and one single border no seperation.And I think it might not possible to create multiple chart in a single anchore.\r\n\r\n\r\n public String picChart7() throws IOException {\r\n\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n            XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n            sheet.setDisplayGridlines(false);\r\n            final int NUM_OF_ROWS = 2;\r\n            final int NUM_OF_COLUMNS = 10;\r\n\r\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n            XSSFClientAnchor anchor1 = drawing.createAnchor(0, 0, 0, 0, 1, 5, 4, 28);\r\n            anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n            anchor1.getTo().setCol(4);\r\n            XSSFClientAnchor anchor2 = drawing.createAnchor(0, 0, 0, 0, 4, 5, 7, 28);\r\n            anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n\r\n            XSSFChart chart1 = drawing.createChart(anchor1);\r\n            chart1.setTitleText(&quot;chart1&quot;);\r\n            chart1.setTitleOverlay(false);\r\n            //chart1.createValueAxis(AxisPosition.TOP);\r\n\r\n            XSSFChart chart2 = drawing.createChart(anchor2);\r\n            chart2.setTitleText(&quot;chart2&quot;);\r\n            chart2.setTitleOverlay(false);\r\n            //chart2.createValueAxis(AxisPosition.LEFT);\r\n            \r\n            XDDFChartLegend legend1 = chart1.getOrAddLegend();\r\n            legend1.setPosition(LegendPosition.BOTTOM);\r\n\r\n            XDDFChartLegend legend2 = chart2.getOrAddLegend();\r\n            legend2.setPosition(LegendPosition.BOTTOM);\r\n            \r\n            //{1.5,2.5,3.5,4.5,5.5,6.5,7.6,8.5,9.5};\r\n            String[] stringArray1 = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\r\n            XDDFDataSource&lt;String&gt; stringValue1 = XDDFDataSourcesFactory.fromArray(stringArray1);\r\n            Long[] longArray1 = new Long[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\r\n            XDDFNumericalDataSource&lt;Long&gt; longValue1 = XDDFDataSourcesFactory.fromArray(longArray1);\r\n\r\n            String[] stringArray2 = new String[]{&quot;one&quot;,&quot;two&quot;};\r\n            XDDFDataSource&lt;String&gt; stringValue2 = XDDFDataSourcesFactory.fromArray(stringArray2);\r\n            Long[] longArray2 = new Long[]{ 60L,40L };\r\n            XDDFNumericalDataSource&lt;Long&gt; longValue2 = XDDFDataSourcesFactory.fromArray(longArray2);\r\n            \r\n            XDDFDoughnutChartData data1 = new XDDFDoughnutChartData(chart1, chart1.getCTChart().getPlotArea().addNewDoughnutChart());\r\n            data1.setVaryColors(true);\r\n            data1.setHoleSize((short) 50);\r\n            data1.setFirstSliceAngle(10);\r\n\r\n            XDDFDoughnutChartData data2 = new XDDFDoughnutChartData(chart2, chart2.getCTChart().getPlotArea().addNewDoughnutChart());\r\n            data2.setVaryColors(true);\r\n            data2.setHoleSize((short) 50);\r\n            data2.setFirstSliceAngle(10);\r\n            \r\n            XDDFChartData.Series series1 = data1.addSeries(stringValue1, longValue1);\r\n            XDDFChartData.Series series2 = data2.addSeries(stringValue2, longValue2);\r\n\r\n            // Do not auto delete the title; is necessary for showing title in Calc\r\n            \r\n            // Data point colors; is necessary for showing data points in Calc\r\n            int pointCount1 = series1.getCategoryData().getPointCount();\r\n            for (int p = 0; p &lt; pointCount1; p++) {\r\n                chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n                chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n                        .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\r\n            }\r\n            int pointCount2 = series2.getCategoryData().getPointCount();\r\n            for (int p = 0; p &lt; pointCount2; p++) {\r\n                chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n                chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n                        .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\r\n            }\r\n            \r\n            chart1.plot(data1);\r\n            chart2.plot(data2);\r\n\r\n            // Write the output to a file\r\n            try (FileOutputStream fileOut = new FileOutputStream(&quot;picChart7.xlsx&quot;)) {\r\n                wb.write(fileOut);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nThis is my code.It creates an excel file with multiple doughnut chart. Please let me know if you dont understand my question.I am new to Apache POI.Thanks in advance.","title":"Apache poi multiple Doughnut Chart in XSSFClientAnchor","body":"<p>I am writing a code which creates multiple DoughnutChart in excel file.I can create multiple doughnut Chart and put them side by side using multiple anchore.\nNow i have two issues</p>\n<ol>\n<li>Values are not displayed on the DoughnutChart.</li>\n<li>Every single anchore has its own border. For multiple chart i need to use multiple Anchore.I dont want those chart seperated by borders.My task is all the charts should be side by side and one single border no seperation.And I think it might not possible to create multiple chart in a single anchore.</li>\n</ol>\n<p>public String picChart7() throws IOException {</p>\n<pre><code>    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n        XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n        sheet.setDisplayGridlines(false);\n        final int NUM_OF_ROWS = 2;\n        final int NUM_OF_COLUMNS = 10;\n\n        XSSFDrawing drawing = sheet.createDrawingPatriarch();\n        XSSFClientAnchor anchor1 = drawing.createAnchor(0, 0, 0, 0, 1, 5, 4, 28);\n        anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n        anchor1.getTo().setCol(4);\n        XSSFClientAnchor anchor2 = drawing.createAnchor(0, 0, 0, 0, 4, 5, 7, 28);\n        anchor1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n\n        XSSFChart chart1 = drawing.createChart(anchor1);\n        chart1.setTitleText(&quot;chart1&quot;);\n        chart1.setTitleOverlay(false);\n        //chart1.createValueAxis(AxisPosition.TOP);\n\n        XSSFChart chart2 = drawing.createChart(anchor2);\n        chart2.setTitleText(&quot;chart2&quot;);\n        chart2.setTitleOverlay(false);\n        //chart2.createValueAxis(AxisPosition.LEFT);\n        \n        XDDFChartLegend legend1 = chart1.getOrAddLegend();\n        legend1.setPosition(LegendPosition.BOTTOM);\n\n        XDDFChartLegend legend2 = chart2.getOrAddLegend();\n        legend2.setPosition(LegendPosition.BOTTOM);\n        \n        //{1.5,2.5,3.5,4.5,5.5,6.5,7.6,8.5,9.5};\n        String[] stringArray1 = new String[]{&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;};\n        XDDFDataSource&lt;String&gt; stringValue1 = XDDFDataSourcesFactory.fromArray(stringArray1);\n        Long[] longArray1 = new Long[]{ 11L,2L,3L,4L,5L,6L,7L,8L,9L,10L };\n        XDDFNumericalDataSource&lt;Long&gt; longValue1 = XDDFDataSourcesFactory.fromArray(longArray1);\n\n        String[] stringArray2 = new String[]{&quot;one&quot;,&quot;two&quot;};\n        XDDFDataSource&lt;String&gt; stringValue2 = XDDFDataSourcesFactory.fromArray(stringArray2);\n        Long[] longArray2 = new Long[]{ 60L,40L };\n        XDDFNumericalDataSource&lt;Long&gt; longValue2 = XDDFDataSourcesFactory.fromArray(longArray2);\n        \n        XDDFDoughnutChartData data1 = new XDDFDoughnutChartData(chart1, chart1.getCTChart().getPlotArea().addNewDoughnutChart());\n        data1.setVaryColors(true);\n        data1.setHoleSize((short) 50);\n        data1.setFirstSliceAngle(10);\n\n        XDDFDoughnutChartData data2 = new XDDFDoughnutChartData(chart2, chart2.getCTChart().getPlotArea().addNewDoughnutChart());\n        data2.setVaryColors(true);\n        data2.setHoleSize((short) 50);\n        data2.setFirstSliceAngle(10);\n        \n        XDDFChartData.Series series1 = data1.addSeries(stringValue1, longValue1);\n        XDDFChartData.Series series2 = data2.addSeries(stringValue2, longValue2);\n\n        // Do not auto delete the title; is necessary for showing title in Calc\n        \n        // Data point colors; is necessary for showing data points in Calc\n        int pointCount1 = series1.getCategoryData().getPointCount();\n        for (int p = 0; p &lt; pointCount1; p++) {\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n            chart1.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n                    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\n        }\n        int pointCount2 = series2.getCategoryData().getPointCount();\n        for (int p = 0; p &lt; pointCount2; p++) {\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n            chart2.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n                    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(getColor(p));//get custom coloring\n        }\n        \n        chart1.plot(data1);\n        chart2.plot(data2);\n\n        // Write the output to a file\n        try (FileOutputStream fileOut = new FileOutputStream(&quot;picChart7.xlsx&quot;)) {\n            wb.write(fileOut);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>This is my code.It creates an excel file with multiple doughnut chart. Please let me know if you dont understand my question.I am new to Apache POI.Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699604415,"post_id":77457312,"comment_id":136555438,"body_markdown":"`MockMvcRequestBuilders.get(tableUri, id)` Will lead to a URL in the form of `/tables/1/1` which doesn&#39;t have any mapping. Either use a pattern or ommit the `id` in te `get` method.","body":"<code>MockMvcRequestBuilders.get(tableUri, id)</code> Will lead to a URL in the form of <code>&#47;tables&#47;1&#47;1</code> which doesn&#39;t have any mapping. Either use a pattern or ommit the <code>id</code> in te <code>get</code> method."}],"answers":[{"comments":[{"owner":{"account_id":22145955,"reputation":25,"user_id":16395202,"display_name":"Tom&#225;s Iglesias"},"score":0,"creation_date":1700323717,"post_id":77458562,"comment_id":136641610,"body_markdown":"Thanks! With this and adding a getter to my entity class the problem was solved!","body":"Thanks! With this and adding a getter to my entity class the problem was solved!"}],"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699604567,"creation_date":1699604567,"answer_id":77458562,"question_id":77457312,"body_markdown":"The problem is your test setup. `MockMvcRequestBuilders.get(tableUri, id)` will lead to a URL of `/tables/1/1` for which there is no mapping. To solve either use a URL pattern `/tables/{id}` as the `tableUri` property, or ommit the `id` parameter from the `get` call. \r\n\r\n```java\r\nString tableUri = rootUri + &quot;/{id}&quot;;\r\nRequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n```\r\n\r\nor \r\n\r\n```java\r\nRequestBuilder request = MockMvcRequestBuilders.get(tableUri)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n```\r\n\r\nBoth should work. ","title":"Issue with Spring MockMVC and WebMvcTest not returning expected results","body":"<p>The problem is your test setup. <code>MockMvcRequestBuilders.get(tableUri, id)</code> will lead to a URL of <code>/tables/1/1</code> for which there is no mapping. To solve either use a URL pattern <code>/tables/{id}</code> as the <code>tableUri</code> property, or ommit the <code>id</code> parameter from the <code>get</code> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String tableUri = rootUri + &quot;/{id}&quot;;\nRequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\n                .accept(MediaType.APPLICATION_JSON);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestBuilder request = MockMvcRequestBuilders.get(tableUri)\n                .accept(MediaType.APPLICATION_JSON);\n</code></pre>\n<p>Both should work.</p>\n"}],"owner":{"account_id":22145955,"reputation":25,"user_id":16395202,"display_name":"Tom&#225;s Iglesias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77458562,"answer_count":1,"score":0,"last_activity_date":1699604567,"creation_date":1699581674,"question_id":77457312,"body_markdown":"I&#39;m currently working on a Spring Boot application and facing an issue when writing tests for my controllers. I have a controller class called TableController, and I&#39;m trying to test the `getById` method using Spring&#39;s MockMvc. However, I&#39;m not getting the expected results, and I&#39;m not sure what&#39;s going wrong.\r\n\r\nHere&#39;s my setup:\r\n```\r\n@WebMvcTest(TableController.class)\r\n@WithMockUser\r\npublic class TableControllerTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @MockBean\r\n    private TableService tableService;\r\n    private String rootUri;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        this.rootUri = &quot;/tables&quot;;\r\n    }\r\n```\r\nIn my test method:\r\n```\r\n@Test\r\n    public void getTableById() throws Exception {\r\n        // Arrange\r\n        Integer id = 1;\r\n        Table table = new Table(id);\r\n        String tableUri = rootUri + &quot;/&quot; + id;    // /tables/1\r\n        when(this.tableService.getById(id)).thenReturn(table);\r\n\r\n        // Act\r\n        RequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n\r\n        // Assert\r\n        this.mockMvc.perform(request)\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(jsonPath(&quot;$.id&quot;, is(id)));\r\n    }\r\n```\r\nAnd this is my controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/tables&quot;)\r\npublic class TableController {\r\n    @Autowired\r\n    TableService tableService;\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Table&gt; getById(@PathVariable Integer id){\r\n        Table table = this.tableService.getById(id);\r\n\r\n        if (table != null) {\r\n            return ResponseEntity.ok(table); // 200 OK\r\n        } else {\r\n            return ResponseEntity.notFound().build(); // 404 Not Found\r\n        }\r\n    }\r\n```\r\n\r\nThe issue is that I&#39;m getting a 404 error instead of the expected result. It seems that the TableController isn&#39;t returning what I&#39;m mocking in the TableService. I&#39;m not sure if I&#39;m missing something in the configuration or if there&#39;s an issue with my test setup.\r\n\r\nAny guidance on what might be causing this issue and how to resolve it would be greatly appreciated. Thank you!","title":"Issue with Spring MockMVC and WebMvcTest not returning expected results","body":"<p>I'm currently working on a Spring Boot application and facing an issue when writing tests for my controllers. I have a controller class called TableController, and I'm trying to test the <code>getById</code> method using Spring's MockMvc. However, I'm not getting the expected results, and I'm not sure what's going wrong.</p>\n<p>Here's my setup:</p>\n<pre><code>@WebMvcTest(TableController.class)\n@WithMockUser\npublic class TableControllerTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n    @MockBean\n    private TableService tableService;\n    private String rootUri;\n\n    @BeforeEach\n    public void setUp(){\n        this.rootUri = &quot;/tables&quot;;\n    }\n</code></pre>\n<p>In my test method:</p>\n<pre><code>@Test\n    public void getTableById() throws Exception {\n        // Arrange\n        Integer id = 1;\n        Table table = new Table(id);\n        String tableUri = rootUri + &quot;/&quot; + id;    // /tables/1\n        when(this.tableService.getById(id)).thenReturn(table);\n\n        // Act\n        RequestBuilder request = MockMvcRequestBuilders.get(tableUri, id)\n                .accept(MediaType.APPLICATION_JSON);\n\n        // Assert\n        this.mockMvc.perform(request)\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n                .andExpect(jsonPath(&quot;$.id&quot;, is(id)));\n    }\n</code></pre>\n<p>And this is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/tables&quot;)\npublic class TableController {\n    @Autowired\n    TableService tableService;\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Table&gt; getById(@PathVariable Integer id){\n        Table table = this.tableService.getById(id);\n\n        if (table != null) {\n            return ResponseEntity.ok(table); // 200 OK\n        } else {\n            return ResponseEntity.notFound().build(); // 404 Not Found\n        }\n    }\n</code></pre>\n<p>The issue is that I'm getting a 404 error instead of the expected result. It seems that the TableController isn't returning what I'm mocking in the TableService. I'm not sure if I'm missing something in the configuration or if there's an issue with my test setup.</p>\n<p>Any guidance on what might be causing this issue and how to resolve it would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1699531245,"post_id":77452824,"comment_id":136545191,"body_markdown":"But if there are no people in the subgroup, it doesn&#39;t contain any people under 30.\nI&#39;d advise you to break down each of the requirements and check them separately rather than inlining them all into a stream in one go.","body":"But if there are no people in the subgroup, it doesn&#39;t contain any people under 30. I&#39;d advise you to break down each of the requirements and check them separately rather than inlining them all into a stream in one go."}],"answers":[{"comments":[{"owner":{"account_id":3002295,"reputation":475,"user_id":2547551,"display_name":"Jameson_uk"},"score":1,"creation_date":1699535092,"post_id":77452902,"comment_id":136545936,"body_markdown":"Needed an additional predicate and an or to cater for groups with no subgroups but that helped a lot.   Thanks","body":"Needed an additional predicate and an or to cater for groups with no subgroups but that helped a lot.   Thanks"}],"tags":[],"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699604334,"creation_date":1699530383,"answer_id":77452902,"question_id":77452824,"body_markdown":"Like this?\r\n\r\n```\r\nPredicate&lt;SubGroup&gt; isU30OnlySubGroup = subGroup -&gt;\r\n subGroup.getPeople().stream().allMatch(person -&gt; person.getAge() &gt;= 30);\r\n\r\nPredicate&lt;Summary&gt; hasU30OnlySubGroup = summary -&gt; \r\n summary.getGroup().getSubGroups().stream().anyMatch(isU30OnlySubGroup);\r\n\r\nList&lt;Summary&gt; filteredSummaries = \r\n summaries.stream().filter(hasU30OnlySubGroup).collect(Collectors.toList());\r\n```","title":"Using Java Streams to filter list based on grandchildren attributes","body":"<p>Like this?</p>\n<pre><code>Predicate&lt;SubGroup&gt; isU30OnlySubGroup = subGroup -&gt;\n subGroup.getPeople().stream().allMatch(person -&gt; person.getAge() &gt;= 30);\n\nPredicate&lt;Summary&gt; hasU30OnlySubGroup = summary -&gt; \n summary.getGroup().getSubGroups().stream().anyMatch(isU30OnlySubGroup);\n\nList&lt;Summary&gt; filteredSummaries = \n summaries.stream().filter(hasU30OnlySubGroup).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3002295,"reputation":475,"user_id":2547551,"display_name":"Jameson_uk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77452902,"answer_count":1,"score":-1,"last_activity_date":1699604334,"creation_date":1699529699,"question_id":77452824,"body_markdown":"# Problem #\r\nI am wanting to use streams to filter a list based on whether or not a instance exists in the bottom level of a hierarchy.\r\nSo I have `List&lt;Summary&gt;` -&gt; `Group` -&gt; `Summary` -&gt; `Person` and I want to be able to filter this down to include entries where at least one of the subgroups does not contain any people under the age of 30.   If this criteria is met I want to keep that `Summary`.\r\n\r\nI ideally want to use plain Java and I am stuck on JDK-8 due to the application this is hosted on.  I cannot seem to figure out the right way to nest the streams to achieve this.\r\n\r\nI have got this far but it misses cases where there isn&#39;t a subgroup or where there are no people in the subgroup and I am not entirely convinced this is the correct logic\r\n```\r\nsummaries.stream()\r\n  .filter (s -&gt; s.getGreoup().getSubGroups.stream()\r\n    .anyMatch(sg -&gt; sg.getPeople.stream()\r\n      .noneMatch(p -&gt; p.getAge() &lt; 30)))\r\n.collect(Collectors.toList());\r\n```\r\n\r\n# Classes #\r\nI have `List&lt;Summary&gt;` which I want to filter and this breaks down as\r\n```\r\npublic class Summary {\r\n  Group aGroup;\r\n  Long numPeople;\r\n  String manager;\r\n}\r\n```\r\nof which there are multiple instances in a `List`.\r\nI then have\r\n```\r\npublic Class Group {\r\n  List&lt;SubGroup&gt; subGroups;\r\n  //...\r\n}\r\n```\r\n```\r\npublic Class SubGroup {\r\n  List&lt;Person&gt; people;\r\n  //...\r\n}\r\n```\r\n```\r\npublic class Person  {\r\n  String name;\r\n  int age;\r\n  //...\r\n}\r\n```","title":"Using Java Streams to filter list based on grandchildren attributes","body":"<h1>Problem</h1>\n<p>I am wanting to use streams to filter a list based on whether or not a instance exists in the bottom level of a hierarchy.\nSo I have <code>List&lt;Summary&gt;</code> -&gt; <code>Group</code> -&gt; <code>Summary</code> -&gt; <code>Person</code> and I want to be able to filter this down to include entries where at least one of the subgroups does not contain any people under the age of 30.   If this criteria is met I want to keep that <code>Summary</code>.</p>\n<p>I ideally want to use plain Java and I am stuck on JDK-8 due to the application this is hosted on.  I cannot seem to figure out the right way to nest the streams to achieve this.</p>\n<p>I have got this far but it misses cases where there isn't a subgroup or where there are no people in the subgroup and I am not entirely convinced this is the correct logic</p>\n<pre><code>summaries.stream()\n  .filter (s -&gt; s.getGreoup().getSubGroups.stream()\n    .anyMatch(sg -&gt; sg.getPeople.stream()\n      .noneMatch(p -&gt; p.getAge() &lt; 30)))\n.collect(Collectors.toList());\n</code></pre>\n<h1>Classes</h1>\n<p>I have <code>List&lt;Summary&gt;</code> which I want to filter and this breaks down as</p>\n<pre><code>public class Summary {\n  Group aGroup;\n  Long numPeople;\n  String manager;\n}\n</code></pre>\n<p>of which there are multiple instances in a <code>List</code>.\nI then have</p>\n<pre><code>public Class Group {\n  List&lt;SubGroup&gt; subGroups;\n  //...\n}\n</code></pre>\n<pre><code>public Class SubGroup {\n  List&lt;Person&gt; people;\n  //...\n}\n</code></pre>\n<pre><code>public class Person  {\n  String name;\n  int age;\n  //...\n}\n</code></pre>\n"},{"tags":["java","soap","wsdl","maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":17980241,"reputation":11,"user_id":13066769,"display_name":"Hashini Udara"},"score":0,"creation_date":1699618021,"post_id":77458529,"comment_id":136557751,"body_markdown":"I tried this method still some issues are there.    1) I don&#39;t have a separate binding file    2) place of the &lt;dependency&gt; is invalid  3) after running the `mvn jaxws:wsimport` it say that `No WSDLs are found to process, Specify atleast one of the following parameters: wsdlFiles, wsdlDirectory or wsdlUrls.`\n@Techie_Taks","body":"I tried this method still some issues are there.    1) I don&#39;t have a separate binding file    2) place of the &lt;dependency&gt; is invalid  3) after running the <code>mvn jaxws:wsimport</code> it say that <code>No WSDLs are found to process, Specify atleast one of the following parameters: wsdlFiles, wsdlDirectory or wsdlUrls.</code> @Techie_Taks"}],"tags":[],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699604227,"creation_date":1699604227,"answer_id":77458529,"question_id":77457969,"body_markdown":"Can you try to check if below snippet works?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;wsdlDirectory&gt;src/main/resources&lt;/wsdlDirectory&gt;\r\n                    &lt;wsdlFiles&gt;\r\n                        &lt;wsdlFile&gt;hexingws.wsdl&lt;/wsdlFile&gt;\r\n                    &lt;/wsdlFiles&gt;\r\n                    &lt;packageName&gt;com.example.myproject&lt;/packageName&gt;\r\n                    &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\r\n                    &lt;!-- Include binding files for data binding classes --&gt;\r\n                    &lt;bindingFiles&gt;\r\n                        &lt;bindingFile&gt;src/main/resources/your-binding-file.xml&lt;/bindingFile&gt;\r\n                    &lt;/bindingFiles&gt;\r\n                    &lt;!-- Generate client and server stubs --&gt;\r\n                    &lt;genClient&gt;true&lt;/genClient&gt;\r\n                    &lt;genServer&gt;true&lt;/genServer&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Include the required dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nMake sure to replace your-binding-file.xml with the actual path to your binding file if you have one. Also, ensure that the required dependencies, such as jaxws-rt, are included in your project.","title":"I want to generate java code from wsdl file","body":"<p>Can you try to check if below snippet works?</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;wsdlDirectory&gt;src/main/resources&lt;/wsdlDirectory&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;hexingws.wsdl&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;packageName&gt;com.example.myproject&lt;/packageName&gt;\n                &lt;sourceDestDir&gt;src/main/java&lt;/sourceDestDir&gt;\n                &lt;!-- Include binding files for data binding classes --&gt;\n                &lt;bindingFiles&gt;\n                    &lt;bindingFile&gt;src/main/resources/your-binding-file.xml&lt;/bindingFile&gt;\n                &lt;/bindingFiles&gt;\n                &lt;!-- Generate client and server stubs --&gt;\n                &lt;genClient&gt;true&lt;/genClient&gt;\n                &lt;genServer&gt;true&lt;/genServer&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Include the required dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Make sure to replace your-binding-file.xml with the actual path to your binding file if you have one. Also, ensure that the required dependencies, such as jaxws-rt, are included in your project.</p>\n"}],"owner":{"account_id":17980241,"reputation":11,"user_id":13066769,"display_name":"Hashini Udara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699604227,"creation_date":1699595779,"question_id":77457969,"body_markdown":"I have the .wsdl file with me\r\n\r\nI need to generate the below files from it.\r\n-Service interface\r\n-Service implementation\r\n-Data binding classes\r\n-Client and server stub classes\r\n\r\nI used below plugin\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt; jakarta.xml.ws &lt;/groupId&gt;\r\n  &lt;artifactId&gt; jakarta.xml.ws-api &lt;/artifactId&gt;\r\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt; com.sun.xml.ws &lt;/groupId&gt;\r\n  &lt;artifactId&gt; jaxws-maven-plugin &lt;/artifactId&gt;\r\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\r\n&lt;/plugin&gt; \r\n```\r\n\r\nAnd configured following below example\r\n```\r\n&lt;configuration&gt;\r\n  &lt;wsdlDirectory&gt; src/main/resources &lt;/wsdlDirectory&gt;\r\n  &lt;wsdlFiles&gt;\r\n    &lt;wsdlFile&gt; hexingws.wsdl &lt;/wsdlFile&gt;\r\n  &lt;/wsdlFiles&gt;\r\n  &lt;packageName&gt; com.example.myproject &lt;/packageName&gt;\r\n  &lt;sourceDestDir&gt; src/main/java &lt;/sourceDestDir&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI run \r\n\r\n    mvn jaxws:wsimport\r\n\r\nIt generates,\r\n-Service interface\r\n-Service implementation\r\n\r\nbut not generating other 2 files,\r\n-Data binding classes\r\n-Client and server stub classes\r\n","title":"I want to generate java code from wsdl file","body":"<p>I have the .wsdl file with me</p>\n<p>I need to generate the below files from it.\n-Service interface\n-Service implementation\n-Data binding classes\n-Client and server stub classes</p>\n<p>I used below plugin</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt; jakarta.xml.ws &lt;/groupId&gt;\n  &lt;artifactId&gt; jakarta.xml.ws-api &lt;/artifactId&gt;\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;plugin&gt;\n  &lt;groupId&gt; com.sun.xml.ws &lt;/groupId&gt;\n  &lt;artifactId&gt; jaxws-maven-plugin &lt;/artifactId&gt;\n  &lt;version&gt; 4.0.1 &lt;/version&gt;\n&lt;/plugin&gt; \n</code></pre>\n<p>And configured following below example</p>\n<pre><code>&lt;configuration&gt;\n  &lt;wsdlDirectory&gt; src/main/resources &lt;/wsdlDirectory&gt;\n  &lt;wsdlFiles&gt;\n    &lt;wsdlFile&gt; hexingws.wsdl &lt;/wsdlFile&gt;\n  &lt;/wsdlFiles&gt;\n  &lt;packageName&gt; com.example.myproject &lt;/packageName&gt;\n  &lt;sourceDestDir&gt; src/main/java &lt;/sourceDestDir&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I run</p>\n<pre><code>mvn jaxws:wsimport\n</code></pre>\n<p>It generates,\n-Service interface\n-Service implementation</p>\n<p>but not generating other 2 files,\n-Data binding classes\n-Client and server stub classes</p>\n"},{"tags":["java","macos","javafx"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1636310606,"post_id":69875335,"comment_id":123516998,"body_markdown":"I like [sdkman](https://sdkman.io/). Then `sdk install java 17.0.1.fx-librca` to install the current release from Liberica (with included JavaFX). Or `sdk ls java` to see the various other current releases.","body":"I like <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>. Then <code>sdk install java 17.0.1.fx-librca</code> to install the current release from Liberica (with included JavaFX). Or <code>sdk ls java</code> to see the various other current releases."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1636311572,"post_id":69875335,"comment_id":123517234,"body_markdown":"+100000 for sdk man as Elliott suggested above. The main benefits of it is that you can have multiple versions installed, switch them whenever you need and (very important in case something goes wrong) they are installed in your home directory.","body":"+100000 for sdk man as Elliott suggested above. The main benefits of it is that you can have multiple versions installed, switch them whenever you need and (very important in case something goes wrong) they are installed in your home directory."},{"owner":{"account_id":67395,"reputation":370,"user_id":197238,"display_name":"Chris"},"score":0,"creation_date":1664626938,"post_id":69875335,"comment_id":130517510,"body_markdown":"java 17 is likely found where brew installed it under `/usr/local/Cellar/openjdk`","body":"java 17 is likely found where brew installed it under <code>&#47;usr&#47;local&#47;Cellar&#47;openjdk</code>"}],"answers":[{"comments":[{"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"score":0,"creation_date":1677792625,"post_id":69875488,"comment_id":133412816,"body_markdown":"This works. But when i close the terminal this doesn&#39;t get saved, it resets back to the old java version. how to permanently save this?","body":"This works. But when i close the terminal this doesn&#39;t get saved, it resets back to the old java version. how to permanently save this?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677800477,"post_id":69875488,"comment_id":133414225,"body_markdown":"Put a `JAVA_HOME=` command in `~/.profile` or `/etc/profile` - some file that is run by the system itself.","body":"Put a <code>JAVA_HOME=</code> command in <code>~&#47;.profile</code> or <code>&#47;etc&#47;profile</code> - some file that is run by the system itself."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1636310400,"creation_date":1636310400,"answer_id":69875488,"question_id":69875335,"body_markdown":"Java doesn&#39;t mind if you install multiple versions. This is often required; java is not backwards compatible (it tries to change little, but e.g. the java8 to java9 transition broke a ton of stuff, much of it needless and much of it not reasonably expectable or fixable by libraries and apps, so a bunch of java apps and libraries only run on java8 - just an example).\r\n\r\nSo, yes, you have installed JDK17. Also, yes, if you just run `java` without specifying which one you want, you so happen to get java13 here.\r\n\r\nTo see all installed javas, you can run:\r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nto &#39;override&#39;, you can use something like (depends on which shell you&#39;re using on your mac):\r\n\r\n```\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 17`\r\n```\r\n\r\n(the backticks mean: Run this then take the output of it and treat that as the &#39;value&#39; of the expression. here, assign it to the JAVA_HOME env var. `-v 17` requests a path to java 17. The `-V` option lists all and is meant for your eyeballs, not for scripts. The `-v` option is mostly for scripting, and that&#39;s how we&#39;re using it here).\r\n\r\n`JAVA_HOME` decides which java is used by some things, but the `java` you get when you just type `java` is `/usr/bin/java`, and that executable is actually just a wrapper that picks a java to run from amongst all installed versions. It uses JAVA_HOME to decide which java to actually run. There are wrappers for all the common commands (`javac`, too). You can always run e.g. `which javac` to see what that actually runs; you probably see `/usr/bin/javac`. Everything in `/usr/bin` is one of these wrapper thingies that looks at JAVA_HOME and then runs the binary it finds _there_.\r\n","title":"macOS - How to install Java 17","body":"<p>Java doesn't mind if you install multiple versions. This is often required; java is not backwards compatible (it tries to change little, but e.g. the java8 to java9 transition broke a ton of stuff, much of it needless and much of it not reasonably expectable or fixable by libraries and apps, so a bunch of java apps and libraries only run on java8 - just an example).</p>\n<p>So, yes, you have installed JDK17. Also, yes, if you just run <code>java</code> without specifying which one you want, you so happen to get java13 here.</p>\n<p>To see all installed javas, you can run:</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>to 'override', you can use something like (depends on which shell you're using on your mac):</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\n</code></pre>\n<p>(the backticks mean: Run this then take the output of it and treat that as the 'value' of the expression. here, assign it to the JAVA_HOME env var. <code>-v 17</code> requests a path to java 17. The <code>-V</code> option lists all and is meant for your eyeballs, not for scripts. The <code>-v</code> option is mostly for scripting, and that's how we're using it here).</p>\n<p><code>JAVA_HOME</code> decides which java is used by some things, but the <code>java</code> you get when you just type <code>java</code> is <code>/usr/bin/java</code>, and that executable is actually just a wrapper that picks a java to run from amongst all installed versions. It uses JAVA_HOME to decide which java to actually run. There are wrappers for all the common commands (<code>javac</code>, too). You can always run e.g. <code>which javac</code> to see what that actually runs; you probably see <code>/usr/bin/javac</code>. Everything in <code>/usr/bin</code> is one of these wrapper thingies that looks at JAVA_HOME and then runs the binary it finds <em>there</em>.</p>\n"},{"comments":[{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1636326997,"post_id":69875590,"comment_id":123520238,"body_markdown":"Thanks for sharing. I found this later.","body":"Thanks for sharing. I found this later."}],"tags":[],"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636311225,"creation_date":1636311225,"answer_id":69875590,"question_id":69875335,"body_markdown":"To used the version installed by homebrew rather than the one installed by the OS you can get detailed information from homebrew by typing \r\n\r\n    brew info java\r\n\r\nCurrently it states \r\n\r\n&gt;For the system Java wrappers to find this JDK, symlink it with\r\n  sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk  &lt;/P&gt;\r\nopenjdk is keg-only, which means it was not symlinked into /opt/homebrew,\r\nbecause macOS provides similar software and installing this software in\r\nparallel can cause all kinds of trouble. &lt;/P&gt;\r\nIf you need to have openjdk first in your PATH, run:\r\n  echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc &lt;/P&gt;\r\nFor compilers to find openjdk you may need to set:\r\n  export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;","title":"macOS - How to install Java 17","body":"<p>To used the version installed by homebrew rather than the one installed by the OS you can get detailed information from homebrew by typing</p>\n<pre><code>brew info java\n</code></pre>\n<p>Currently it states</p>\n<blockquote>\n<p>For the system Java wrappers to find this JDK, symlink it with\nsudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk  </P>\nopenjdk is keg-only, which means it was not symlinked into /opt/homebrew,\nbecause macOS provides similar software and installing this software in\nparallel can cause all kinds of trouble. </P>\nIf you need to have openjdk first in your PATH, run:\necho 'export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc </P>\nFor compilers to find openjdk you may need to set:\nexport CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1058834,"reputation":2210,"user_id":1060900,"accept_rate":87,"display_name":"amalgamate"},"score":0,"creation_date":1689798267,"post_id":69876906,"comment_id":135266367,"body_markdown":"Is it not &#39;java -version&#39;? I think you have 2 dashes where there should be 1.","body":"Is it not &#39;java -version&#39;? I think you have 2 dashes where there should be 1."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1689819886,"post_id":69876906,"comment_id":135268563,"body_markdown":"@amalgamate Both work, `java -version` and `java --version`. [Both are documented](https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#standard-options-for-java) as being standard options.","body":"@amalgamate Both work, <code>java -version</code> and <code>java --version</code>. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#standard-options-for-java\" rel=\"nofollow noreferrer\">Both are documented</a> as being standard options."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636323791,"creation_date":1636322919,"answer_id":69876906,"question_id":69875335,"body_markdown":"# Steps to install\r\n\r\nYou asked:\r\n\r\n&gt;let me know the steps to install Java on a Mac.\r\n\r\n 1. Download an installer free-of-cost from vendors such as [Adoptium][1], [Azul Systems][1], Bellsoft, [Amazon][2], Oracle, Microsoft, SAP, and others.\r\n 2. Run installer app.\r\n 3. Quit the installer app when done.\r\n 3. Verify installation by typing on a command-line in Terminal.app:&lt;br&gt;`java --version`\r\n 4. Delete installer app that you downloaded.\r\n 5. Configure your [IDE][3] to use that new Java implementation you installed.\r\n\r\n# Java location\r\n\r\nYou asked:\r\n\r\n&gt;Where is java 17 installed??\r\n\r\n`/Library/Java/JavaVirtualMachines/`\r\n\r\nIn the Finder, choose *Go* &gt; *Go to Folder*, and paste `/Library/Java/JavaVirtualMachines/`. \r\n\r\nNote that this is *not* the `Library` folder within your home folder. We are *not* referring to `/Users/your_user_name/Library/…`. We are referring to the root `Library` folder that applies across [all the user accounts][4] on this Mac. \r\n\r\nYou said:\r\n\r\n&gt;I did brew install java\r\n\r\nNo need for the [Homebrew][5] package manager. If you already enjoy using the `brew` tool, proceed. But if new to Homebrew, skip it if your only goal is to install Java. Just use an installer for Java as you would for many Mac apps.\r\n\r\n# *JavaFX*\r\n\r\nYou added a tag for `javafx`. \r\n\r\nBe aware that for JavaFX, you have two options:\r\n\r\n - Include the necessary [OpenJFX][6] libraries within your development project and within your final app, *or* … \r\n - Use a JDK that includes the JavaFX/OpenJFX libraries.\r\n\r\nAt least two vendors provide JDK installers that include the JavaFX/OpenJFX libraries:\r\n\r\n - Azul Systems (*ZuluFX*)\r\n - Bellsoft (*LibericaFX*)\r\n\r\n\r\n  [1]: https://adoptium.net/\r\n  [2]: https://aws.amazon.com/corretto/\r\n  [3]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [4]: https://support.apple.com/guide/mac-help/set-up-other-users-on-your-mac-mtusr001/mac\r\n  [5]: https://en.wikipedia.org/wiki/Homebrew_(package_manager)\r\n  [6]: https://openjfx.io/","title":"macOS - How to install Java 17","body":"<h1>Steps to install</h1>\n<p>You asked:</p>\n<blockquote>\n<p>let me know the steps to install Java on a Mac.</p>\n</blockquote>\n<ol>\n<li>Download an installer free-of-cost from vendors such as <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a>, <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Azul Systems</a>, Bellsoft, <a href=\"https://aws.amazon.com/corretto/\" rel=\"nofollow noreferrer\">Amazon</a>, Oracle, Microsoft, SAP, and others.</li>\n<li>Run installer app.</li>\n<li>Quit the installer app when done.</li>\n<li>Verify installation by typing on a command-line in Terminal.app:<br><code>java --version</code></li>\n<li>Delete installer app that you downloaded.</li>\n<li>Configure your <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> to use that new Java implementation you installed.</li>\n</ol>\n<h1>Java location</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Where is java 17 installed??</p>\n</blockquote>\n<p><code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>In the Finder, choose <em>Go</em> &gt; <em>Go to Folder</em>, and paste <code>/Library/Java/JavaVirtualMachines/</code>.</p>\n<p>Note that this is <em>not</em> the <code>Library</code> folder within your home folder. We are <em>not</em> referring to <code>/Users/your_user_name/Library/…</code>. We are referring to the root <code>Library</code> folder that applies across <a href=\"https://support.apple.com/guide/mac-help/set-up-other-users-on-your-mac-mtusr001/mac\" rel=\"nofollow noreferrer\">all the user accounts</a> on this Mac.</p>\n<p>You said:</p>\n<blockquote>\n<p>I did brew install java</p>\n</blockquote>\n<p>No need for the <a href=\"https://en.wikipedia.org/wiki/Homebrew_(package_manager)\" rel=\"nofollow noreferrer\">Homebrew</a> package manager. If you already enjoy using the <code>brew</code> tool, proceed. But if new to Homebrew, skip it if your only goal is to install Java. Just use an installer for Java as you would for many Mac apps.</p>\n<h1><em>JavaFX</em></h1>\n<p>You added a tag for <code>javafx</code>.</p>\n<p>Be aware that for JavaFX, you have two options:</p>\n<ul>\n<li>Include the necessary <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> libraries within your development project and within your final app, <em>or</em> …</li>\n<li>Use a JDK that includes the JavaFX/OpenJFX libraries.</li>\n</ul>\n<p>At least two vendors provide JDK installers that include the JavaFX/OpenJFX libraries:</p>\n<ul>\n<li>Azul Systems (<em>ZuluFX</em>)</li>\n<li>Bellsoft (<em>LibericaFX</em>)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1636417652,"post_id":69890049,"comment_id":123546610,"body_markdown":"I noticed later. It was cool.","body":"I noticed later. It was cool."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1673035247,"post_id":69890049,"comment_id":132414802,"body_markdown":"Mine still doesn&#39;t work: &quot;Could not read &#39;https://api.adoptopenjdk.net/v3/binary/latest/16/ga/mac/aarch64/jdk/hotspot/normal/adoptopenjdk&#39; as it does not exist&quot;","body":"Mine still doesn&#39;t work: &quot;Could not read &#39;<a href=\"https://api.adoptopenjdk.net/v3/binary/latest/16/ga/mac/aarch64/jdk/hotspot/normal/adoptopenjdk\" rel=\"nofollow noreferrer\">api.adoptopenjdk.net/v3/binary/latest/16/ga/mac/aarch64/jdk&zwnj;&#8203;/&hellip;</a>&#39; as it does not exist&quot;"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673041703,"post_id":69890049,"comment_id":132416503,"body_markdown":"The [adoptionjdk](https://adoptopenjdk.net/) site was replaced by [adoptium](https://adoptium.net/temurin/releases/?version=19).  The adoptopenjdk site warns you of this when you visit the site. Recent releases are not distributed by adoptopenjdk, in particular it does not have releases for modern non-Intel macs. Adoptium JavaFX 19 includes a release for your architecture. Other distributions such as liberica, zulu, oracle openjfx, etc also have packages for M series macs.","body":"The <a href=\"https://adoptopenjdk.net/\" rel=\"nofollow noreferrer\">adoptionjdk</a> site was replaced by <a href=\"https://adoptium.net/temurin/releases/?version=19\" rel=\"nofollow noreferrer\">adoptium</a>.  The adoptopenjdk site warns you of this when you visit the site. Recent releases are not distributed by adoptopenjdk, in particular it does not have releases for modern non-Intel macs. Adoptium JavaFX 19 includes a release for your architecture. Other distributions such as liberica, zulu, oracle openjfx, etc also have packages for M series macs."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636406287,"creation_date":1636406287,"answer_id":69890049,"question_id":69875335,"body_markdown":"**This answer is specifically if you use Intellij on a Mac**\r\n\r\nWithin IntelliJ, you can use the IDE to add new JDKs of selected versions from common vendors.  Instructions for this are here:\r\n\r\n * [Setup the project JDK][1] \r\n\r\nWhen setting up the JDK, you can either:\r\n\r\n 1. Select a pre-existing JDK which has been registered with the IDE OR\r\n 2. Use the **Add JDK** option to add a new JDK which you previously downloaded and installed using the method outlined in [Basil&#39;s answer][2] OR\r\n 3. Use the **Download JDK** option to choose a vendor and version of the JDK that the IDE will automatically download, install and make available for selection.\r\n    * The JDKs installed by Idea will be located in the same location as outlined in [Basil&#39;s answer][2] for a manual install `/Library/Java/JavaVirtualMachines/`.\r\n\r\nOne common issue is that the version of the JDK registered for the project differs from the default version used in the terminal.  This can sometimes mean that the app works when run in Idea, then fails when run in the terminal (or, at least that it is executed against a version of the JDK you didn&#39;t expect).\r\n\r\nTo select the version of the JDK to run in the terminal, configure the Java home setting as outlined in [rzwitserloot&#39;s answer](https://stackoverflow.com/a/69875488/1155209).\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 17`\r\n\r\nAlso, some tools such as the openjfx maven plugin will not use the java version selected in Idea when executing a call to a JDK tool like jlink, but will instead have their own mechanism for finding a JDK to use (e.g. look at JAVA_HOME or use the [Maven toolchains plugin][3]).  So it is always good to check the JAVA_HOME variable and ensure that it is set to a reasonable value, both for terminal execution and for effective use of Java development tools that may rely on it.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk\r\n  [2]: https://stackoverflow.com/a/69876906/1155209\r\n  [3]: https://maven.apache.org/guides/mini/guide-using-toolchains.html","title":"macOS - How to install Java 17","body":"<p><strong>This answer is specifically if you use Intellij on a Mac</strong></p>\n<p>Within IntelliJ, you can use the IDE to add new JDKs of selected versions from common vendors.  Instructions for this are here:</p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk\" rel=\"nofollow noreferrer\">Setup the project JDK</a></li>\n</ul>\n<p>When setting up the JDK, you can either:</p>\n<ol>\n<li>Select a pre-existing JDK which has been registered with the IDE OR</li>\n<li>Use the <strong>Add JDK</strong> option to add a new JDK which you previously downloaded and installed using the method outlined in <a href=\"https://stackoverflow.com/a/69876906/1155209\">Basil's answer</a> OR</li>\n<li>Use the <strong>Download JDK</strong> option to choose a vendor and version of the JDK that the IDE will automatically download, install and make available for selection.\n<ul>\n<li>The JDKs installed by Idea will be located in the same location as outlined in <a href=\"https://stackoverflow.com/a/69876906/1155209\">Basil's answer</a> for a manual install <code>/Library/Java/JavaVirtualMachines/</code>.</li>\n</ul>\n</li>\n</ol>\n<p>One common issue is that the version of the JDK registered for the project differs from the default version used in the terminal.  This can sometimes mean that the app works when run in Idea, then fails when run in the terminal (or, at least that it is executed against a version of the JDK you didn't expect).</p>\n<p>To select the version of the JDK to run in the terminal, configure the Java home setting as outlined in <a href=\"https://stackoverflow.com/a/69875488/1155209\">rzwitserloot's answer</a>.</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\n</code></pre>\n<p>Also, some tools such as the openjfx maven plugin will not use the java version selected in Idea when executing a call to a JDK tool like jlink, but will instead have their own mechanism for finding a JDK to use (e.g. look at JAVA_HOME or use the <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">Maven toolchains plugin</a>).  So it is always good to check the JAVA_HOME variable and ensure that it is set to a reasonable value, both for terminal execution and for effective use of Java development tools that may rely on it.</p>\n"},{"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641416112,"creation_date":1641416112,"answer_id":70599468,"question_id":69875335,"body_markdown":"I think that answers here are not fully out of topic, but from my point of view, my case is exactly the same as that of the author. I had already installed java 8, 11, and 13. All of them resides at:\r\n\r\n`/Library/Java/JavaVirtualMachines/`\r\n\r\nNevertheless when I tried to find the path of JDK 17 it resides:\r\n\r\n`/usr/local/Cellar/openjdk`\r\n\r\nI use **Mac OS Big Sur** and the JDK was installed with **homebrew** ","title":"macOS - How to install Java 17","body":"<p>I think that answers here are not fully out of topic, but from my point of view, my case is exactly the same as that of the author. I had already installed java 8, 11, and 13. All of them resides at:</p>\n<p><code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>Nevertheless when I tried to find the path of JDK 17 it resides:</p>\n<p><code>/usr/local/Cellar/openjdk</code></p>\n<p>I use <strong>Mac OS Big Sur</strong> and the JDK was installed with <strong>homebrew</strong></p>\n"},{"comments":[{"owner":{"account_id":1737339,"reputation":782,"user_id":1589588,"accept_rate":56,"display_name":"Gert-Jan"},"score":8,"creation_date":1647009879,"post_id":70649641,"comment_id":126271995,"body_markdown":"sdkman is the way to go! Versions installed with brew are not recognized by Eclipse.","body":"sdkman is the way to go! Versions installed with brew are not recognized by Eclipse."},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1647009990,"post_id":70649641,"comment_id":126272040,"body_markdown":"@Gert-Jan so do you think the answer should be updated leaving only `sdkman`?","body":"@Gert-Jan so do you think the answer should be updated leaving only <code>sdkman</code>?"},{"owner":{"account_id":1737339,"reputation":782,"user_id":1589588,"accept_rate":56,"display_name":"Gert-Jan"},"score":1,"creation_date":1647012397,"post_id":70649641,"comment_id":126273035,"body_markdown":"Not sure about that, brew may be fine for some use cases but doesn&#39;t work when you try to configure the installed JDK in Eclipse.","body":"Not sure about that, brew may be fine for some use cases but doesn&#39;t work when you try to configure the installed JDK in Eclipse."},{"owner":{"account_id":3241147,"reputation":994,"user_id":2734169,"display_name":"TrogDor"},"score":1,"creation_date":1664462484,"post_id":70649641,"comment_id":130482061,"body_markdown":"@Gert-Jan the full JDK is in the `libexec/openjdk.jdk/Contents/Home` subdir.","body":"@Gert-Jan the full JDK is in the <code>libexec&#47;openjdk.jdk&#47;Contents&#47;Home</code> subdir."},{"owner":{"account_id":406718,"reputation":456,"user_id":776393,"display_name":"Gerson Montenegro"},"score":2,"creation_date":1672594799,"post_id":70649641,"comment_id":132310550,"body_markdown":"sdkman was the best solution for me among all answers. Give it a chance","body":"sdkman was the best solution for me among all answers. Give it a chance"},{"owner":{"account_id":3338587,"reputation":1310,"user_id":2805387,"display_name":"fullStackChris"},"score":2,"creation_date":1672858101,"post_id":70649641,"comment_id":132369696,"body_markdown":"Can someone explain to me why there are different VENDORS for a programming language? This is mind-boggling to me, if I want a version of Python I get that version. If I want a version of Go, I get that version. For example, if I am on macOS, is one vendor better than another here?","body":"Can someone explain to me why there are different VENDORS for a programming language? This is mind-boggling to me, if I want a version of Python I get that version. If I want a version of Go, I get that version. For example, if I am on macOS, is one vendor better than another here?"},{"owner":{"account_id":9840573,"reputation":162,"user_id":7289678,"display_name":"Tbi"},"score":1,"creation_date":1673040234,"post_id":70649641,"comment_id":132416107,"body_markdown":"With Homebrew it was installed to:\n\n/opt/homebrew/Cellar/openjdk@17\n\nOn my machine.","body":"With Homebrew it was installed to:  /opt/homebrew/Cellar/openjdk@17  On my machine."},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1673130670,"post_id":70649641,"comment_id":132430252,"body_markdown":"@Tbi Pay attention during the installation there is a message &quot;If you need to have openjdk@17 first in your PATH, run:\n  `echo &#39;export PATH=&quot;/usr/local/opt/openjdk@17/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc`&quot;. Because `/usr/local/opt/openjdk@17 -&gt; ../Cellar/openjdk@17/17.0.5`.","body":"@Tbi Pay attention during the installation there is a message &quot;If you need to have openjdk@17 first in your PATH, run:   <code>echo &#39;export PATH=&quot;&#47;usr&#47;local&#47;opt&#47;openjdk@17&#47;bin:$PATH&quot;&#39; &gt;&gt; ~&#47;.zshrc</code>&quot;. Because <code>&#47;usr&#47;local&#47;opt&#47;openjdk@17 -&gt; ..&#47;Cellar&#47;openjdk@17&#47;17.0.5</code>."},{"owner":{"account_id":12316529,"reputation":841,"user_id":8995555,"display_name":"RukshanJS"},"score":0,"creation_date":1681064275,"post_id":70649641,"comment_id":133995229,"body_markdown":"Better how and why?","body":"Better how and why?"},{"owner":{"account_id":15050482,"reputation":101,"user_id":11677539,"display_name":"Black Chase"},"score":0,"creation_date":1682104207,"post_id":70649641,"comment_id":134168711,"body_markdown":"@Tbi is right, for my m1, path was `/opt/homebrew/...` rather than `/usr/local/...`","body":"@Tbi is right, for my m1, path was <code>&#47;opt&#47;homebrew&#47;...</code> rather than <code>&#47;usr&#47;local&#47;...</code>"},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1682194067,"post_id":70649641,"comment_id":134177946,"body_markdown":"@BlackChase thanks for letting me know. I’m going to update the answer.","body":"@BlackChase thanks for letting me know. I’m going to update the answer."},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":1,"creation_date":1682196371,"post_id":70649641,"comment_id":134178220,"body_markdown":"@RukshanJS IMHO sdkman is more focused on managing software development kits while homebrew is more general-purpose. I understand your comment but I don’t like to add too many infos in my answers (and this is one of the longest answers I have ever written). This is good for clarity, to get the people straight to the point.","body":"@RukshanJS IMHO sdkman is more focused on managing software development kits while homebrew is more general-purpose. I understand your comment but I don’t like to add too many infos in my answers (and this is one of the longest answers I have ever written). This is good for clarity, to get the people straight to the point."},{"owner":{"account_id":12316529,"reputation":841,"user_id":8995555,"display_name":"RukshanJS"},"score":1,"creation_date":1682478970,"post_id":70649641,"comment_id":134220910,"body_markdown":"@freedev thanks for that clarification. It clears my doubt. Again, thanks for the answer but wanted to have some basic idea why it&#39;s better. Cool!","body":"@freedev thanks for that clarification. It clears my doubt. Again, thanks for the answer but wanted to have some basic idea why it&#39;s better. Cool!"},{"owner":{"account_id":161648,"reputation":1538,"user_id":382587,"accept_rate":70,"display_name":"archgoon"},"score":1,"creation_date":1691357996,"post_id":70649641,"comment_id":135477177,"body_markdown":"@fullStackChris this is an odd comment. There are actually multiple implementations of python (cython, jython, IronPython), there are multiple implementations of go (gcc-go and gc) and there are multiple implementations of, say, the C language (too many to count). If the language has been well specified, multiple implementations are to be expected.","body":"@fullStackChris this is an odd comment. There are actually multiple implementations of python (cython, jython, IronPython), there are multiple implementations of go (gcc-go and gc) and there are multiple implementations of, say, the C language (too many to count). If the language has been well specified, multiple implementations are to be expected."}],"tags":[],"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":14,"down_vote_count":1,"up_vote_count":201,"is_accepted":false,"score":200,"last_activity_date":1699604141,"creation_date":1641803553,"answer_id":70649641,"question_id":69875335,"body_markdown":"## In 2023, even if you can use just `brew`..\r\n\r\n    brew install openjdk@17 \r\n\r\nJava will be installed here:\r\n\r\n    /usr/local/opt/openjdk@17/bin/java\r\n\r\nfor Apple Silicon path is `/opt/homebrew/...` rather than `/usr/local/...`\r\n\r\nFor the system Java wrappers to find this JDK, symlink it with:\r\n\r\n    sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n\r\nresp. for Silicon\r\n\r\n    sudo ln -sfn /opt/homebrew/opt/openjdk\\@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\r\n\r\nNow, running `/usr/libexec/java_home -V` should show the path to JAVA 17, something like:\r\n\r\n    17.0.9 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.9&quot; /usr/local/Cellar/openjdk@17/17.0.9/libexec/openjdk.jdk/Contents/Home\r\n\r\n(This is what you are missing btw, if `javac` or `javac --version` does not give you a command-not-found but an `The operation couldn’t be completed. Unable to locate a Java Runtime.`)\r\n\r\nIn case you see the wrong version, check if the path to `JAVA_HOME` is set correctly. If not, you could set it by:\r\n\r\n    export JAVA_HOME=\\$(/usr/libexec/java_home)\r\n\r\n# ...give a try to [`sdkman`][1], it&#39;s far better than `brew`\r\n\r\n    curl -s &quot;https://get.sdkman.io&quot; | bash\r\n\r\nthen open a **new shell** and try `list` to see what you could install ;-)\r\n\r\n    sdk list java \r\n\r\nAt time of writing you could use:\r\n\r\n    sdk install java 17.0.4.1-tem\r\n\r\nJava will be installed here:\r\n\r\n    /Users/freedev/.sdkman/candidates/java/17.0.4.1-tem\r\n\r\n  [1]: https://sdkman.io/\r\n","title":"macOS - How to install Java 17","body":"<h2>In 2023, even if you can use just <code>brew</code>..</h2>\n<pre><code>brew install openjdk@17 \n</code></pre>\n<p>Java will be installed here:</p>\n<pre><code>/usr/local/opt/openjdk@17/bin/java\n</code></pre>\n<p>for Apple Silicon path is <code>/opt/homebrew/...</code> rather than <code>/usr/local/...</code></p>\n<p>For the system Java wrappers to find this JDK, symlink it with:</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>resp. for Silicon</p>\n<pre><code>sudo ln -sfn /opt/homebrew/opt/openjdk\\@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>Now, running <code>/usr/libexec/java_home -V</code> should show the path to JAVA 17, something like:</p>\n<pre><code>17.0.9 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.9&quot; /usr/local/Cellar/openjdk@17/17.0.9/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<p>(This is what you are missing btw, if <code>javac</code> or <code>javac --version</code> does not give you a command-not-found but an <code>The operation couldn’t be completed. Unable to locate a Java Runtime.</code>)</p>\n<p>In case you see the wrong version, check if the path to <code>JAVA_HOME</code> is set correctly. If not, you could set it by:</p>\n<pre><code>export JAVA_HOME=\\$(/usr/libexec/java_home)\n</code></pre>\n<h1>...give a try to <a href=\"https://sdkman.io/\" rel=\"noreferrer\"><code>sdkman</code></a>, it's far better than <code>brew</code></h1>\n<pre><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>then open a <strong>new shell</strong> and try <code>list</code> to see what you could install ;-)</p>\n<pre><code>sdk list java \n</code></pre>\n<p>At time of writing you could use:</p>\n<pre><code>sdk install java 17.0.4.1-tem\n</code></pre>\n<p>Java will be installed here:</p>\n<pre><code>/Users/freedev/.sdkman/candidates/java/17.0.4.1-tem\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669217162,"creation_date":1649794890,"answer_id":71848711,"question_id":69875335,"body_markdown":"The following method installs Java without the need for any additional tools or package managers.\r\n\r\n&lt;s&gt;Go to https://jdk.java.net/17/ and download the latest macOS archive.&lt;/s&gt;\r\n\r\nDownload the latest Adoptium release for the Java 17 branch by going to https://adoptium.net/temurin/releases/ and be sure to select the `tar.gz` version.\r\n\r\nThe archive is either for x64 (Intel CPU) or for AArch64 (Apple Silicon / M1 CPU).\r\n\r\nThen, open a Terminal, and extract the downloaded archive to the system path for Java virtual machines:\r\n\r\n    cd Downloads\r\n    tar xzf OpenJDK17U-jdk_aarch64_mac_hotspot_17.0.5_8.tar.gz -C /Library/Java/JavaVirtualMachines","title":"macOS - How to install Java 17","body":"<p>The following method installs Java without the need for any additional tools or package managers.</p>\n<p><s>Go to <a href=\"https://jdk.java.net/17/\" rel=\"nofollow noreferrer\">https://jdk.java.net/17/</a> and download the latest macOS archive.</s></p>\n<p>Download the latest Adoptium release for the Java 17 branch by going to <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/</a> and be sure to select the <code>tar.gz</code> version.</p>\n<p>The archive is either for x64 (Intel CPU) or for AArch64 (Apple Silicon / M1 CPU).</p>\n<p>Then, open a Terminal, and extract the downloaded archive to the system path for Java virtual machines:</p>\n<pre><code>cd Downloads\ntar xzf OpenJDK17U-jdk_aarch64_mac_hotspot_17.0.5_8.tar.gz -C /Library/Java/JavaVirtualMachines\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141800,"reputation":609,"user_id":349091,"accept_rate":17,"display_name":"grbonk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655828661,"creation_date":1655828661,"answer_id":72704173,"question_id":69875335,"body_markdown":"Brew now supports searching old formulae and allowing you to install a specific version.  I&#39;m using `Homebrew 3.5.2-117-gb941470`\r\n\r\n1. Create a local tap: `brew tap-new --no-git local/openjdk`\r\n1. Ask Brew to find the formulae of the version you want: `brew extract --version 17.0.2 openjdk local/openjdk`\r\n1. Install Java 17 using your new local tap: `brew install openjdk@17.0.2`\r\n1. Link the JDK into the MacOS JVM Dir: `sudo ln -sfn /usr/local/opt/openjdk@17.0.2/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk17.0.2.jdk`\r\n1. Check Java 17 is available: `/usr/libexec/java_home -V`\r\n1. Set Java Home: `export JAVA_HOME=$(/usr/libexec/java_home -v17)`\r\n1. Check current version of Java is correct...\r\n\r\n```\r\n$ java --version\r\nopenjdk 17.0.2 2022-01-18\r\n```\r\n","title":"macOS - How to install Java 17","body":"<p>Brew now supports searching old formulae and allowing you to install a specific version.  I'm using <code>Homebrew 3.5.2-117-gb941470</code></p>\n<ol>\n<li>Create a local tap: <code>brew tap-new --no-git local/openjdk</code></li>\n<li>Ask Brew to find the formulae of the version you want: <code>brew extract --version 17.0.2 openjdk local/openjdk</code></li>\n<li>Install Java 17 using your new local tap: <code>brew install openjdk@17.0.2</code></li>\n<li>Link the JDK into the MacOS JVM Dir: <code>sudo ln -sfn /usr/local/opt/openjdk@17.0.2/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk17.0.2.jdk</code></li>\n<li>Check Java 17 is available: <code>/usr/libexec/java_home -V</code></li>\n<li>Set Java Home: <code>export JAVA_HOME=$(/usr/libexec/java_home -v17)</code></li>\n<li>Check current version of Java is correct...</li>\n</ol>\n<pre><code>$ java --version\nopenjdk 17.0.2 2022-01-18\n</code></pre>\n"},{"comments":[{"owner":{"account_id":241356,"reputation":565,"user_id":512116,"accept_rate":56,"display_name":"pls"},"score":1,"creation_date":1688311710,"post_id":72767481,"comment_id":135054207,"body_markdown":"jenv looks good, thanks!","body":"jenv looks good, thanks!"}],"tags":[],"owner":{"account_id":2890991,"reputation":2561,"user_id":2479786,"accept_rate":64,"display_name":"Ehud Lev"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1660334366,"creation_date":1656309216,"answer_id":72767481,"question_id":69875335,"body_markdown":"To specify version 17 \r\n\r\n    brew install openjdk@17\r\n\r\nLater I add create a link:\r\n\r\n```\r\nsudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk \\\r\n     /Library/Java/JavaVirtualMachines/openjdk-17.jdk\r\n```\r\n\r\nAnd use [jenv][1] to control which java version to use\r\n\r\n\r\n  [1]: https://www.jenv.be/","title":"macOS - How to install Java 17","body":"<p>To specify version 17</p>\n<pre><code>brew install openjdk@17\n</code></pre>\n<p>Later I add create a link:</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk \\\n     /Library/Java/JavaVirtualMachines/openjdk-17.jdk\n</code></pre>\n<p>And use <a href=\"https://www.jenv.be/\" rel=\"noreferrer\">jenv</a> to control which java version to use</p>\n"},{"tags":[],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664363426,"creation_date":1664363426,"answer_id":73880422,"question_id":69875335,"body_markdown":"For Homebrew, the package that installs the new AdoptOpenJDK is named as temurin. So you need to use below command:\r\n\r\n    brew install --cask temurin17\r\n\r\n\r\nIf you get any error like temurin cask not available then update brew using below commands:\r\n\r\n    brew update\r\n    brew tap homebrew/cask-versions\r\n\r\nTo switch quickly between different versions of java add the entries in bashrc as per your jdk versions like:\r\n\r\n    alias j8=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 1.8`; java -version&quot;\r\n    alias j17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;\r\n\r\n","title":"macOS - How to install Java 17","body":"<p>For Homebrew, the package that installs the new AdoptOpenJDK is named as temurin. So you need to use below command:</p>\n<pre><code>brew install --cask temurin17\n</code></pre>\n<p>If you get any error like temurin cask not available then update brew using below commands:</p>\n<pre><code>brew update\nbrew tap homebrew/cask-versions\n</code></pre>\n<p>To switch quickly between different versions of java add the entries in bashrc as per your jdk versions like:</p>\n<pre><code>alias j8=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 1.8`; java -version&quot;\nalias j17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5865743,"reputation":2651,"user_id":4619784,"display_name":"Hany Sakr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688039508,"creation_date":1680159245,"answer_id":75884985,"question_id":69875335,"body_markdown":"I&#39;m currently using SDKMAN on macOS to switch between JAVA 11 and 17 based on the project I&#39;m working on, it&#39;s pretty easy\r\n\r\n     curl -s &quot;https://get.sdkman.io&quot; | bash \r\n     source &quot;/users/#USER_HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n     sdk list java\r\n     sdk install java #JAVA_IDENTIFIER\r\n     sdk use java #JAVA_IDENTIFIER\r\n\r\nThen each time switch using\r\n\r\n     sdk list java\r\n     sdk use java #JAVA_IDENTIFIER\r\n\r\nYou could also allow your IDE such as Intellij to use the system console bash, so you could switch using SKD command from inside the IDE terminal \r\n","title":"macOS - How to install Java 17","body":"<p>I'm currently using SDKMAN on macOS to switch between JAVA 11 and 17 based on the project I'm working on, it's pretty easy</p>\n<pre><code> curl -s &quot;https://get.sdkman.io&quot; | bash \n source &quot;/users/#USER_HOME/.sdkman/bin/sdkman-init.sh&quot;\n sdk list java\n sdk install java #JAVA_IDENTIFIER\n sdk use java #JAVA_IDENTIFIER\n</code></pre>\n<p>Then each time switch using</p>\n<pre><code> sdk list java\n sdk use java #JAVA_IDENTIFIER\n</code></pre>\n<p>You could also allow your IDE such as Intellij to use the system console bash, so you could switch using SKD command from inside the IDE terminal</p>\n"}],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169239,"favorite_count":0,"down_vote_count":2,"up_vote_count":88,"accepted_answer_id":69875488,"answer_count":11,"score":86,"last_activity_date":1699604141,"creation_date":1636309360,"question_id":69875335,"body_markdown":"Could someone please let me know the steps to install Java on a Mac.\r\n\r\nI did `brew install java`\r\n\r\nI get this\r\n\r\n    Warning: openjdk 17.0.1 is already installed and up-to-date.\r\n    To reinstall 17.0.1, run:\r\n      brew reinstall openjdk\r\n\r\nIf I do java -version, I get this.\r\n\r\n    openjdk version &quot;13.0.8&quot; 2021-07-20\r\n    \r\nIf I have navigate to `/Library/Java`, I have 2 empty directories.\r\n\r\nWhere is java 17 installed??","title":"macOS - How to install Java 17","body":"<p>Could someone please let me know the steps to install Java on a Mac.</p>\n<p>I did <code>brew install java</code></p>\n<p>I get this</p>\n<pre><code>Warning: openjdk 17.0.1 is already installed and up-to-date.\nTo reinstall 17.0.1, run:\n  brew reinstall openjdk\n</code></pre>\n<p>If I do java -version, I get this.</p>\n<pre><code>openjdk version &quot;13.0.8&quot; 2021-07-20\n</code></pre>\n<p>If I have navigate to <code>/Library/Java</code>, I have 2 empty directories.</p>\n<p>Where is java 17 installed??</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":952025,"reputation":593,"user_id":977959,"display_name":"danipenaperez"},"score":0,"creation_date":1699603629,"post_id":77447858,"comment_id":136555344,"body_markdown":"Hi Daniel , thanks for answer!. But in this case the correct hierarchy is needed to sucessfully scan will found the &#39;@configuration&#39; and then defined beans will be loaded. But my question is about manual &#39;@Configuration&#39; class loading  (like @import annotation works , but doing programatically). I am going to clarify the question","body":"Hi Daniel , thanks for answer!. But in this case the correct hierarchy is needed to sucessfully scan will found the &#39;@configuration&#39; and then defined beans will be loaded. But my question is about manual &#39;@Configuration&#39; class loading  (like @import annotation works , but doing programatically). I am going to clarify the question"}],"tags":[],"owner":{"account_id":7780793,"reputation":25,"user_id":5887268,"display_name":"Daniel Jabłoński"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699465688,"creation_date":1699465688,"answer_id":77447858,"question_id":77447286,"body_markdown":"Try without implements BeanDefinitionRegistryPostProcessor\r\n\r\nMy excample\r\n\r\n        @Configuration\r\n        public class ConfigurationProvider {\r\n        \r\n            \r\n            @Bean\r\n            public ConfigurationItem cessionBuyersImportConfigurationItem() {\r\n                return new ImportConfigurationItem(1);\r\n            }\r\n            @Bean\r\n            public ConfigurationItem cessionBuyersImportConfigurationItem() {\r\n                return new ImportConfigurationItem(2);\r\n            }\r\n        \r\n        }\r\n    \t\r\n    \t\r\n    \t@Component\r\n    public class Configuration {\r\n    \r\n     public Configuration(List&lt;ConfigurationItem&gt; configurationItems) {\r\n           // do something with beans\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring boot Manually Inject @Configuration bean registration before Initialization","body":"<p>Try without implements BeanDefinitionRegistryPostProcessor</p>\n<p>My excample</p>\n<pre><code>    @Configuration\n    public class ConfigurationProvider {\n    \n        \n        @Bean\n        public ConfigurationItem cessionBuyersImportConfigurationItem() {\n            return new ImportConfigurationItem(1);\n        }\n        @Bean\n        public ConfigurationItem cessionBuyersImportConfigurationItem() {\n            return new ImportConfigurationItem(2);\n        }\n    \n    }\n    \n    \n    @Component\npublic class Configuration {\n\n public Configuration(List&lt;ConfigurationItem&gt; configurationItems) {\n       // do something with beans\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":952025,"reputation":593,"user_id":977959,"display_name":"danipenaperez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699603771,"creation_date":1699460663,"question_id":77447286,"body_markdown":"I want to know if I can manually inject @Configuration classes (that will fire inject bean creations) manually.\r\n\r\nDesired working code:\r\n\r\n    @SpringBootApplication\r\n    public class EnvironmentApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext ap = SpringApplication.run(EnvironmentApplication.class, args);\r\n    \t\tap.getBean(Car.class); //I hope this will be created\r\n    \t}\r\n    \r\n    }\r\n\r\nThe Car bean would be injected by ManualConfiguration.class. But keep in mind that ManualConfiguration is not scanned (imagine in other top level packaging hierarchy)\r\n\r\n    @Configuration\r\n    public class ManualConfiguration {\r\n    \r\n    \t@Bean\r\n    \tpublic Car car() {\r\n    \t\treturn new Car();\r\n    \t}\r\n    }\r\n\r\nMy question : I am trying to add the @Configuration class (ManuallyConfiguration.class) manually via BeanDefinitionRegistryPostProcessor.\r\n\r\n    @Component\r\n    public class Processors implements BeanDefinitionRegistryPostProcessor{\r\n    \r\n    \t@Override\r\n    \tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n    \t\tSystem.out.println(&quot;postProcessBeanFactory   -&gt;  &quot;+beanFactory);\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n    \t\tSystem.out.println(&quot;postProcessBeanDefinitionRegistry   -&gt;  &quot;+registry);\r\n    \t\tGenericBeanDefinition bd = new GenericBeanDefinition();\r\n    \t\tbd.setBeanClass(ManualConfiguration.class);\r\n    \t\tregistry.registerBeanDefinition(&quot;manualCarLoading&quot;, bd);\r\n    \t}\r\n    }\r\n\r\nBut the ManuallyConfiguration.class is not interpreted as @Configuration class and related beans are not created.\r\n\r\nUpdate: To clarify , I want to do manually like @import(MyConfiguration.class)  annotation works \r\n(Sure in a previous phase before BeanDefinitionRegistryPostProcessor I think, maybe after first spring boot scan phase)\r\n\r\nSure, is a &quot;why do you want to do this?&quot; absurd question, but I want to know how to do work in this way \r\n\r\nThanks in advance","title":"Spring boot Manually Inject @Configuration bean registration before Initialization","body":"<p>I want to know if I can manually inject @Configuration classes (that will fire inject bean creations) manually.</p>\n<p>Desired working code:</p>\n<pre><code>@SpringBootApplication\npublic class EnvironmentApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ap = SpringApplication.run(EnvironmentApplication.class, args);\n        ap.getBean(Car.class); //I hope this will be created\n    }\n\n}\n</code></pre>\n<p>The Car bean would be injected by ManualConfiguration.class. But keep in mind that ManualConfiguration is not scanned (imagine in other top level packaging hierarchy)</p>\n<pre><code>@Configuration\npublic class ManualConfiguration {\n\n    @Bean\n    public Car car() {\n        return new Car();\n    }\n}\n</code></pre>\n<p>My question : I am trying to add the @Configuration class (ManuallyConfiguration.class) manually via BeanDefinitionRegistryPostProcessor.</p>\n<pre><code>@Component\npublic class Processors implements BeanDefinitionRegistryPostProcessor{\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        System.out.println(&quot;postProcessBeanFactory   -&gt;  &quot;+beanFactory);\n        \n    }\n\n    @Override\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n        System.out.println(&quot;postProcessBeanDefinitionRegistry   -&gt;  &quot;+registry);\n        GenericBeanDefinition bd = new GenericBeanDefinition();\n        bd.setBeanClass(ManualConfiguration.class);\n        registry.registerBeanDefinition(&quot;manualCarLoading&quot;, bd);\n    }\n}\n</code></pre>\n<p>But the ManuallyConfiguration.class is not interpreted as @Configuration class and related beans are not created.</p>\n<p>Update: To clarify , I want to do manually like @import(MyConfiguration.class)  annotation works\n(Sure in a previous phase before BeanDefinitionRegistryPostProcessor I think, maybe after first spring boot scan phase)</p>\n<p>Sure, is a &quot;why do you want to do this?&quot; absurd question, but I want to know how to do work in this way</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","json","hibernate","jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":324759,"reputation":1607,"user_id":645536,"accept_rate":50,"display_name":"anirus"},"score":0,"creation_date":1490450565,"post_id":43012963,"comment_id":73122837,"body_markdown":"Thanks for pointing it out. It was a typo and I have corrected it.","body":"Thanks for pointing it out. It was a typo and I have corrected it."}],"tags":[],"owner":{"account_id":8277997,"reputation":1415,"user_id":6223518,"accept_rate":58,"display_name":"Dave Pateral"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584905275,"creation_date":1490420269,"answer_id":43012963,"question_id":43012174,"body_markdown":"You could try to change the column name `collegeId` to `schoolId` in table `school`, and then modify this line:\r\n\r\n    @ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(referencedColumnName = &quot;schoolId&quot;, insertable = false, updatable = false)\r\n    private School school;\r\n\r\n","title":"Save entity object with foreign key using CrudRepository","body":"<p>You could try to change the column name <code>collegeId</code> to <code>schoolId</code> in table <code>school</code>, and then modify this line:</p>\n\n<pre><code>@ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\n@JoinColumn(referencedColumnName = \"schoolId\", insertable = false, updatable = false)\nprivate School school;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490434243,"creation_date":1490434243,"answer_id":43014738,"question_id":43012174,"body_markdown":"In the entity `Student` the property `school` is an object. To insert new student you must use a reference to `school` object. So your payload must be like this:\r\n\r\n    {\r\n        &quot;studentId&quot;: 2015020,\r\n        &quot;studentName&quot;: &quot;ABC&quot;,\r\n        &quot;school&quot;: &quot;http://localhost:8080/api/schools/1&quot;\r\n    }\r\n\r\nAlso you can simplify the definition of the property `school`:\r\n\r\n    @ManyToOne(optional = false)\r\n    private School school;","title":"Save entity object with foreign key using CrudRepository","body":"<p>In the entity <code>Student</code> the property <code>school</code> is an object. To insert new student you must use a reference to <code>school</code> object. So your payload must be like this:</p>\n\n<pre><code>{\n    \"studentId\": 2015020,\n    \"studentName\": \"ABC\",\n    \"school\": \"http://localhost:8080/api/schools/1\"\n}\n</code></pre>\n\n<p>Also you can simplify the definition of the property <code>school</code>:</p>\n\n<pre><code>@ManyToOne(optional = false)\nprivate School school;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6540645,"reputation":588,"user_id":5058362,"display_name":"grizzly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490448874,"creation_date":1490448874,"answer_id":43017007,"question_id":43012174,"body_markdown":"Just check if the name of database column match with entity mapping:\r\nIf identity column of school table in DB is &quot;school_id&quot;, mention it in your mapping:\r\n\r\n      @Id\r\n      @Column(name = &quot;school_id&quot;)\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Integer schoolId;","title":"Save entity object with foreign key using CrudRepository","body":"<p>Just check if the name of database column match with entity mapping:\nIf identity column of school table in DB is \"school_id\", mention it in your mapping:</p>\n\n<pre><code>  @Id\n  @Column(name = \"school_id\")\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Integer schoolId;\n</code></pre>\n"}],"owner":{"account_id":324759,"reputation":1607,"user_id":645536,"accept_rate":50,"display_name":"anirus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9419,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1699603555,"creation_date":1490412390,"question_id":43012174,"body_markdown":"I have two entity classes with @ManyToOne relationship as below.\r\n\r\n    @Entity\r\n    public class Student {\r\n    \r\n      @Id\r\n      private Integer studentId;\r\n    \r\n      @Column(nullable = false)\r\n      private String studentName;\r\n    \r\n      @ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\r\n      @JoinColumn(referencedColumnName = &quot;schoolId&quot;, insertable = false, updatable = false)\r\n      private School school;\r\n\r\n      //Getters and Setters methods\r\n.\r\n\r\n    @Entity\r\n    public class School {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Integer schoolId;\r\n    \r\n      @Column(nullable = false)\r\n      private String schoolName;\r\n\r\n      //Getters and Setters methods\r\n\r\nWhen I try to save the student object using CrudRepository default method `studentRepository.save(student)` with JSON payload, it gives me an error `java.sql.SQLException: Field &#39;school_id&#39; doesn&#39;t have a default value`.  When I run in the debug mode I can see that the School object is being set correctly.\r\n\r\nMy JSON payload is as follows:\r\n\r\n    [\r\n    \t{\r\n          &quot;studentId&quot;: &quot;2015020&quot;,\r\n          &quot;studentName&quot;: &quot;ABC&quot;,\r\n          &quot;school&quot;: {\r\n          \t&quot;schoolId&quot;: 1\r\n          }\r\n        }\r\n    ]\r\n\r\nI am new to Spring Data JPA, so this might be a very basic mistake.\r\n","title":"Save entity object with foreign key using CrudRepository","body":"<p>I have two entity classes with @ManyToOne relationship as below.</p>\n\n<pre><code>@Entity\npublic class Student {\n\n  @Id\n  private Integer studentId;\n\n  @Column(nullable = false)\n  private String studentName;\n\n  @ManyToOne(targetEntity = School.class, fetch = FetchType.LAZY, optional = false)\n  @JoinColumn(referencedColumnName = \"schoolId\", insertable = false, updatable = false)\n  private School school;\n\n  //Getters and Setters methods\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Entity\npublic class School {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Integer schoolId;\n\n  @Column(nullable = false)\n  private String schoolName;\n\n  //Getters and Setters methods\n</code></pre>\n\n<p>When I try to save the student object using CrudRepository default method <code>studentRepository.save(student)</code> with JSON payload, it gives me an error <code>java.sql.SQLException: Field 'school_id' doesn't have a default value</code>.  When I run in the debug mode I can see that the School object is being set correctly.</p>\n\n<p>My JSON payload is as follows:</p>\n\n<pre><code>[\n    {\n      \"studentId\": \"2015020\",\n      \"studentName\": \"ABC\",\n      \"school\": {\n        \"schoolId\": 1\n      }\n    }\n]\n</code></pre>\n\n<p>I am new to Spring Data JPA, so this might be a very basic mistake.</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698806794,"post_id":77399674,"comment_id":136451207,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1698831835,"post_id":77399674,"comment_id":136453842,"body_markdown":"Google this **How to handle dynamic web tables in selenium**. You should get a plenty of solutions. Am posting one of the google search results here https://www.guru99.com/handling-dynamic-selenium-webdriver.html","body":"Google this <b>How to handle dynamic web tables in selenium</b>. You should get a plenty of solutions. Am posting one of the google search results here <a href=\"https://www.guru99.com/handling-dynamic-selenium-webdriver.html\" rel=\"nofollow noreferrer\">guru99.com/handling-dynamic-selenium-webdriver.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":29250061,"reputation":96,"user_id":22409607,"display_name":"touero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699603329,"creation_date":1699602873,"answer_id":77458429,"question_id":77399674,"body_markdown":"    from selenium.webdriver.support.wait import WebDriverWait\r\n    from selenium.webdriver.support import expected_conditions as ec\r\n    from selenium.webdriver.common.by import By\r\n    ...\r\n    rows = WebDriverWait(driver,timeout=5).until(ec.presence_of_all_elements_located((By.XPATH,&#39;//div[@id=&quot;table_ls&quot;]tbodytr&#39;)))\r\n    for row in rows:\r\n        date = row.find_element(By.XPATH, &#39;./td[1]&#39;).text\r\n        closing_price = row.find_element(By.XPATH, &#39;./td[2]&#39;).text\r\n        fluctuation_range = row.find_element(By.XPATH, &#39;./td[3]&#39;).text\r\n        row.find_element(By.XPATH, &#39;./td[4]&#39;).click()\r\n        row.find_element(By.XPATH, &#39;./td[5]&#39;).get_attribute(&#39;value&#39;)\r\n        ...\r\n        ...\r\n    ...\r\nHello, I have not used selenium in Java, but please allow me to use my thought process in python. I have omitted some initialization code and hope you can understand it. First, rows is List of elements in each row of the table. When I want to access which cell of a row I do it in a loop, like above, so you can make sure that the xpath you use has nothing to do with the changing id.","title":"I can&#39;t locate a button that is used to delete a record by its xpath in selenium","body":"<pre><code>from selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as ec\nfrom selenium.webdriver.common.by import By\n...\nrows = WebDriverWait(driver,timeout=5).until(ec.presence_of_all_elements_located((By.XPATH,'//div[@id=&quot;table_ls&quot;]tbodytr')))\nfor row in rows:\n    date = row.find_element(By.XPATH, './td[1]').text\n    closing_price = row.find_element(By.XPATH, './td[2]').text\n    fluctuation_range = row.find_element(By.XPATH, './td[3]').text\n    row.find_element(By.XPATH, './td[4]').click()\n    row.find_element(By.XPATH, './td[5]').get_attribute('value')\n    ...\n    ...\n...\n</code></pre>\n<p>Hello, I have not used selenium in Java, but please allow me to use my thought process in python. I have omitted some initialization code and hope you can understand it. First, rows is List of elements in each row of the table. When I want to access which cell of a row I do it in a loop, like above, so you can make sure that the xpath you use has nothing to do with the changing id.</p>\n"}],"owner":{"account_id":29798523,"reputation":1,"user_id":22836876,"display_name":"Test Freex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699603329,"creation_date":1698797121,"question_id":77399674,"body_markdown":"I have an element that is in a table, in this table records with a different id are saved.\r\n\r\nThis is the type of the delete button\r\n\r\n    &lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\r\n\r\nThis is the relative XPATH:\r\n\r\n    //tr[@id=&#39;223&#39;]//span[contains(@class,&#39;notranslate icon&#39;)][normalize-space()=&#39;delete&#39;]\r\n\r\nIf I search for it with the ID it finds it but the record I created I don&#39;t know what ID it will be, it could be 224 or it could be 14556 so I need to click on that element.\r\n````\r\n&lt;a class=&quot;btn btn-icon btn-destructive-sec btn-md md-component ghost text-capitalize text-danger-400 &quot; data-title=&quot;Delete &quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;left &quot; data-confirm=&quot;Are you sure you want to delete this offer letter template?&quot; rel=&quot;nofollow&quot; data-method=&quot;delete&quot; href=&quot;/recruiting/offer_letter/templates/241&quot; data-original-title=&quot;&quot; title=&quot;&quot;&gt;\r\n&lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\r\n````\r\nWhen I search for an element by xpath it finds it but the next element&#39;s ID will be different and I can&#39;t find it there anymore","title":"I can&#39;t locate a button that is used to delete a record by its xpath in selenium","body":"<p>I have an element that is in a table, in this table records with a different id are saved.</p>\n<p>This is the type of the delete button</p>\n<pre><code>&lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\n</code></pre>\n<p>This is the relative XPATH:</p>\n<pre><code>//tr[@id='223']//span[contains(@class,'notranslate icon')][normalize-space()='delete']\n</code></pre>\n<p>If I search for it with the ID it finds it but the record I created I don't know what ID it will be, it could be 224 or it could be 14556 so I need to click on that element.</p>\n<pre><code>&lt;a class=&quot;btn btn-icon btn-destructive-sec btn-md md-component ghost text-capitalize text-danger-400 &quot; data-title=&quot;Delete &quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;left &quot; data-confirm=&quot;Are you sure you want to delete this offer letter template?&quot; rel=&quot;nofollow&quot; data-method=&quot;delete&quot; href=&quot;/recruiting/offer_letter/templates/241&quot; data-original-title=&quot;&quot; title=&quot;&quot;&gt;\n&lt;span class=&quot; material-icons notranslate icon&quot; aria-hidden=&quot;true&quot;&gt;delete&lt;/span&gt;\n</code></pre>\n<p>When I search for an element by xpath it finds it but the next element's ID will be different and I can't find it there anymore</p>\n"},{"tags":["java","swing","runtime","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1422844887,"post_id":28270340,"comment_id":44896513,"body_markdown":"Never call `updateUI`, it doesn&#39;t do what you think it does and it&#39;s a very expensive call.  `setText` and `setBackground` are bound properties, this means that they will automatically trigger updates to the UI which should cause the UI to update.  This suggests that the problem is elsewhere within the code. Consider providing a [runnable example](https://stackoverflow.com/help/mcve) which demonstrates your problem. This will result in less confusion and better responses","body":"Never call <code>updateUI</code>, it doesn&#39;t do what you think it does and it&#39;s a very expensive call.  <code>setText</code> and <code>setBackground</code> are bound properties, this means that they will automatically trigger updates to the UI which should cause the UI to update.  This suggests that the problem is elsewhere within the code. Consider providing a <a href=\"https://stackoverflow.com/help/mcve\">runnable example</a> which demonstrates your problem. This will result in less confusion and better responses"}],"answers":[{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699602592,"creation_date":1422849728,"answer_id":28270931,"question_id":28270340,"body_markdown":"Here is a solution to update the button at runtime.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.event.ItemEvent;\r\n    import java.awt.event.ItemListener;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.TitledBorder;\r\n    \r\n    public class UpdateButton{\r\n    \tprivate JFrame frame;\r\n    \tprivate DemoPanel demoPanel;\r\n    \tJComboBox styleList;\r\n    \tprivate JButton button;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tUpdateButton updateButton = new UpdateButton();\r\n    \t\t\t\tupdateButton.createUI();\r\n    \t\t\t\tupdateButton.displayUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tpublic void createUI(){\r\n    \t\tframe = new JFrame(&quot;Update Button&quot;);\r\n    \t\tActionPanel actionPanel = new ActionPanel();\r\n    \t\tdemoPanel = new DemoPanel();\r\n    \t\tframe.add(actionPanel,BorderLayout.NORTH);\r\n    \t\tframe.add(demoPanel,BorderLayout.SOUTH);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t}\r\n    \t\r\n    \tpublic void displayUI(){\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic void doUpdate(String styleName){\r\n    \t\tif(styleName.equals(&quot;Style1&quot;)){\r\n    \t\t\tbutton.setBackground(Color.yellow);\r\n    \t\t\tbutton.setText(&quot;Style1 Button&quot;);\r\n    \t\t}else if(styleName.equals(&quot;Style2&quot;)){\r\n    \t\t\tbutton.setBackground(Color.green);\r\n    \t\t\tbutton.setText(&quot;Style2 Button&quot;);\r\n    \t\t}else if(styleName.equals(&quot;Style3&quot;)){\r\n    \t\t\tbutton.setBackground(Color.pink);\r\n    \t\t\tbutton.setText(&quot;Style3 Button&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tclass ActionPanel extends JPanel{\r\n    \t\tpublic ActionPanel(){\r\n    \t\t\tsetBorder(BorderFactory.createTitledBorder(getBorder(), &quot;ActionPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\r\n    \t\t\tString[] style= { &quot;Style1&quot;, &quot;Style2&quot;, &quot;Style3&quot;};\r\n    \t\t\tstyleList = new JComboBox(style);\r\n    \t\t\tstyleList.addItemListener(new styleListener());\r\n    \t\t\tadd(styleList);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tclass DemoPanel extends JPanel{\r\n    \t\tpublic DemoPanel(){\r\n    \t\t\tsetBorder(BorderFactory.createTitledBorder(getBorder(), &quot;DemoPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\r\n    \t\t\tbutton = new JButton(&quot;Ordinary Button&quot;);\r\n    \t\t\tadd(button);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tclass styleListener implements ItemListener{\r\n    \t\t@Override\r\n    \t\tpublic void itemStateChanged(ItemEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\tif(e.getStateChange() == ItemEvent.SELECTED){\r\n    \t\t        String styleName = (String)e.getItem();\r\n    \t\t        doUpdate(styleName);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThis is the effect:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/h60O6.png","title":"Dynamically change JButton Properties at runtime","body":"<p>Here is a solution to update the button at runtime.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\n\nimport javax.swing.*;\nimport javax.swing.border.TitledBorder;\n\npublic class UpdateButton{\n    private JFrame frame;\n    private DemoPanel demoPanel;\n    JComboBox styleList;\n    private JButton button;\n    \n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                // TODO Auto-generated method stub\n                UpdateButton updateButton = new UpdateButton();\n                updateButton.createUI();\n                updateButton.displayUI();\n            }\n        });\n    }\n    \n    public void createUI(){\n        frame = new JFrame(&quot;Update Button&quot;);\n        ActionPanel actionPanel = new ActionPanel();\n        demoPanel = new DemoPanel();\n        frame.add(actionPanel,BorderLayout.NORTH);\n        frame.add(demoPanel,BorderLayout.SOUTH);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n    }\n    \n    public void displayUI(){\n        frame.setVisible(true);\n    }\n    \n    public void doUpdate(String styleName){\n        if(styleName.equals(&quot;Style1&quot;)){\n            button.setBackground(Color.yellow);\n            button.setText(&quot;Style1 Button&quot;);\n        }else if(styleName.equals(&quot;Style2&quot;)){\n            button.setBackground(Color.green);\n            button.setText(&quot;Style2 Button&quot;);\n        }else if(styleName.equals(&quot;Style3&quot;)){\n            button.setBackground(Color.pink);\n            button.setText(&quot;Style3 Button&quot;);\n        }\n    }\n    \n    @SuppressWarnings(&quot;serial&quot;)\n    class ActionPanel extends JPanel{\n        public ActionPanel(){\n            setBorder(BorderFactory.createTitledBorder(getBorder(), &quot;ActionPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\n            String[] style= { &quot;Style1&quot;, &quot;Style2&quot;, &quot;Style3&quot;};\n            styleList = new JComboBox(style);\n            styleList.addItemListener(new styleListener());\n            add(styleList);\n        }\n    }\n    \n    @SuppressWarnings(&quot;serial&quot;)\n    class DemoPanel extends JPanel{\n        public DemoPanel(){\n            setBorder(BorderFactory.createTitledBorder(getBorder(), &quot;DemoPanel&quot;, TitledBorder.LEADING, TitledBorder.TOP, new Font(&quot;Default&quot;,Font.PLAIN,10), Color.gray));\n            button = new JButton(&quot;Ordinary Button&quot;);\n            add(button);\n        }\n    }\n    \n    class styleListener implements ItemListener{\n        @Override\n        public void itemStateChanged(ItemEvent e) {\n            // TODO Auto-generated method stub\n            if(e.getStateChange() == ItemEvent.SELECTED){\n                String styleName = (String)e.getItem();\n                doUpdate(styleName);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is the effect:</p>\n<p><img src=\"https://i.stack.imgur.com/h60O6.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":3061847,"reputation":41,"user_id":2594317,"display_name":"thomasneu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1332,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1422861039,"answer_count":1,"score":-1,"last_activity_date":1699602592,"creation_date":1422844095,"question_id":28270340,"body_markdown":"What is the correct way to change a JButtons Property at runtime?\r\n\r\nThis code snippet doesent work.\r\n\r\n\r\n\r\n    private HashMap&lt;Integer, JButton&gt; fieldMap;\r\n    \r\n    private void updateButton(int coordinate){\r\n    JButton fieldBtn = FieldMap.get(coordinate);\r\n    fieldBtn.setOpaque(true);\r\n    fieldBtn.setBackground(Color.red);\r\n    fieldBtn.setText(String.valueOf(text));\r\n    fieldBtn.updateUI();\r\n    Board.updateUI();\r\n    }\r\n\r\n","title":"Dynamically change JButton Properties at runtime","body":"<p>What is the correct way to change a JButtons Property at runtime?</p>\n\n<p>This code snippet doesent work.</p>\n\n<pre><code>private HashMap&lt;Integer, JButton&gt; fieldMap;\n\nprivate void updateButton(int coordinate){\nJButton fieldBtn = FieldMap.get(coordinate);\nfieldBtn.setOpaque(true);\nfieldBtn.setBackground(Color.red);\nfieldBtn.setText(String.valueOf(text));\nfieldBtn.updateUI();\nBoard.updateUI();\n}\n</code></pre>\n"},{"tags":["java","hibernate","enums"],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":19,"creation_date":1397479728,"post_id":15988403,"comment_id":35237971,"body_markdown":"You can even go further and, now as JPA 2.1 is released, use `@Converter(autoApply = true) public class CategoryTypeConverter implements javax.persistence.AttributeConverter &lt;CategoryType, String&gt;`","body":"You can even go further and, now as JPA 2.1 is released, use <code>@Converter(autoApply = true) public class CategoryTypeConverter implements javax.persistence.AttributeConverter &lt;CategoryType, String&gt;</code>"},{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":8,"creation_date":1458308806,"post_id":15988403,"comment_id":59816459,"body_markdown":"For anyone who might have the same problem..: I had to put this annotation to my getter method instead of the field, like this: `@Enumerated(EnumType.STRING) public CategoryType getCategoryType() { return this.categoryType; }`.","body":"For anyone who might have the same problem..: I had to put this annotation to my getter method instead of the field, like this: <code>@Enumerated(EnumType.STRING) public CategoryType getCategoryType() { return this.categoryType; }</code>."},{"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"score":1,"creation_date":1518730519,"post_id":15988403,"comment_id":84637244,"body_markdown":"I was in `hibernate.ddl-auto=update` mode and I had to drop my table and let hibernate create it again in order to convert my enum from int to varchar. Hopefully it helps someone with similar issue.","body":"I was in <code>hibernate.ddl-auto=update</code> mode and I had to drop my table and let hibernate create it again in order to convert my enum from int to varchar. Hopefully it helps someone with similar issue."},{"owner":{"account_id":3169104,"reputation":2347,"user_id":2678487,"display_name":"metamaker"},"score":0,"creation_date":1544493330,"post_id":15988403,"comment_id":94286713,"body_markdown":"See https://stackoverflow.com/questions/44864675/hibernate-enumerated-seems-to-be-ignored if your enumeration value is being written as ordinal despite Enumerated annotation.","body":"See <a href=\"https://stackoverflow.com/questions/44864675/hibernate-enumerated-seems-to-be-ignored\" title=\"hibernate enumerated seems to be ignored\">stackoverflow.com/questions/44864675/&hellip;</a> if your enumeration value is being written as ordinal despite Enumerated annotation."},{"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"score":0,"creation_date":1595792424,"post_id":15988403,"comment_id":111590078,"body_markdown":"I do not put it on the getter.  Putting it on the variable declaration works fine, which is good for Lombok using @Data, etc.  What if I want to apply this to all Enums without annotating each one?","body":"I do not put it on the getter.  Putting it on the variable declaration works fine, which is good for Lombok using @Data, etc.  What if I want to apply this to all Enums without annotating each one?"}],"tags":[],"owner":{"account_id":481401,"reputation":15020,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"comment_count":5,"down_vote_count":0,"up_vote_count":236,"is_accepted":true,"score":236,"last_activity_date":1365860346,"creation_date":1365860346,"answer_id":15988403,"question_id":15988342,"body_markdown":"Yes, is possible. It should be:\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;category_type&quot;)\r\n    private CategoryType categoryType;\r\n    ","title":"Mapping enum to string in hibernate","body":"<p>Yes, is possible. It should be:</p>\n\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = \"category_type\")\nprivate CategoryType categoryType;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1603726506,"creation_date":1601009229,"answer_id":64057961,"question_id":15988342,"body_markdown":"The accepted answer is not sufficient for **PostgreSQL**. I attach the implementation that worked for me:\r\n\r\nhttps://stackoverflow.com/a/64021041/5279996\r\n","title":"Mapping enum to string in hibernate","body":"<p>The accepted answer is not sufficient for <strong>PostgreSQL</strong>. I attach the implementation that worked for me:</p>\n<p><a href=\"https://stackoverflow.com/a/64021041/5279996\">https://stackoverflow.com/a/64021041/5279996</a></p>\n"},{"comments":[{"owner":{"account_id":10838796,"reputation":167,"user_id":7970858,"display_name":"Oscar"},"score":1,"creation_date":1699520152,"post_id":73996763,"comment_id":136543069,"body_markdown":"Thanks Patrick. Otherwise there is no need to use two @Column annotations. It&#39;s does not work. use just one: @Column(name = &quot;category_type&quot;, columnDefinition = &quot;VARCHAR(30)&quot;).","body":"Thanks Patrick. Otherwise there is no need to use two @Column annotations. It&#39;s does not work. use just one: @Column(name = &quot;category_type&quot;, columnDefinition = &quot;VARCHAR(30)&quot;)."}],"tags":[],"owner":{"account_id":23431821,"reputation":21,"user_id":17490529,"display_name":"Patrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699602409,"creation_date":1665230059,"answer_id":73996763,"question_id":15988342,"body_markdown":"I had to add\r\n\r\n    @Column(columnDefinition = &quot;VARCHAR(30)&quot;)\r\n\r\nto @dcernahoschi solutions to make it work.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Column(name = &quot;category_type&quot;, columnDefinition = &quot;VARCHAR(30)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private CategoryType categoryType\r\n\r\n&lt;!-- end snippet --&gt;\r\nWithout I got the Exception\r\n\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n\r\n","title":"Mapping enum to string in hibernate","body":"<p>I had to add</p>\n<pre><code>@Column(columnDefinition = &quot;VARCHAR(30)&quot;)\n</code></pre>\n<p>to @dcernahoschi solutions to make it work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;category_type&quot;, columnDefinition = &quot;VARCHAR(30)&quot;)\n@Enumerated(EnumType.STRING)\nprivate CategoryType categoryType\n</code></pre>\n<p>Without I got the Exception</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n</code></pre>\n"}],"owner":{"account_id":402300,"reputation":25871,"user_id":769384,"accept_rate":73,"display_name":"ducin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95017,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":15988403,"answer_count":3,"score":124,"last_activity_date":1699602409,"creation_date":1365859944,"question_id":15988342,"body_markdown":"I&#39;ve got a Category Hibernate model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;category&quot;)\r\n    public class Category {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;type&quot;)\r\n        private String type;\r\n\r\nwhich have a type string field. Also I&#39;ve got a Java enum which represent a type of a category:\r\n\r\n    public enum CategoryType {\r\n        INCOME, OUTCOME;\r\n    }\r\n\r\nwhich I would like to use instead of the string type. The SQL accepts two distinct values in the varchar parameter: either `CategoryIncome` or `CategoryOutcome`. I would like the Category model class to accept an enum variable - and map it somehow to the string whenever hibernate asks for it.\r\n\r\nIs it possible?","title":"Mapping enum to string in hibernate","body":"<p>I've got a Category Hibernate model:</p>\n\n<pre><code>@Entity\n@Table(name = \"category\")\npublic class Category {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name = \"id\")\n    private long id;\n\n    @Column(name = \"type\")\n    private String type;\n</code></pre>\n\n<p>which have a type string field. Also I've got a Java enum which represent a type of a category:</p>\n\n<pre><code>public enum CategoryType {\n    INCOME, OUTCOME;\n}\n</code></pre>\n\n<p>which I would like to use instead of the string type. The SQL accepts two distinct values in the varchar parameter: either <code>CategoryIncome</code> or <code>CategoryOutcome</code>. I would like the Category model class to accept an enum variable - and map it somehow to the string whenever hibernate asks for it.</p>\n\n<p>Is it possible?</p>\n"},{"tags":["java","web-services","jax-rs","swagger","swagger-2.0"],"answers":[{"tags":[],"owner":{"account_id":191390,"reputation":1824,"user_id":431941,"accept_rate":75,"display_name":"risingTide"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501602265,"creation_date":1501602265,"answer_id":45442247,"question_id":43720467,"body_markdown":"I finally figured out the issue here.  Apparently the problem with the original design was that I was extending `BaseApiListingResource` on the same class where I was trying to implement ReaderListener.  For whatever reason (feel free to comment if you know why) the `ReaderListener` wasn&#39;t working whenever I extend `BaseApiListingResource`.  If I implement `ReaderListener` on a class that doesn&#39;t extend `BaseApiListingResource` then *`beforeScan`* and *`afterScan`* work just fine.\r\n\r\nHope this helps someone...","title":"Swagger ReaderListener Not Invoked","body":"<p>I finally figured out the issue here.  Apparently the problem with the original design was that I was extending <code>BaseApiListingResource</code> on the same class where I was trying to implement ReaderListener.  For whatever reason (feel free to comment if you know why) the <code>ReaderListener</code> wasn't working whenever I extend <code>BaseApiListingResource</code>.  If I implement <code>ReaderListener</code> on a class that doesn't extend <code>BaseApiListingResource</code> then <em><code>beforeScan</code></em> and <em><code>afterScan</code></em> work just fine.</p>\n\n<p>Hope this helps someone...</p>\n"},{"tags":[],"owner":{"account_id":28141879,"reputation":1,"user_id":21504798,"display_name":"Jiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699601491,"creation_date":1699601491,"answer_id":77458322,"question_id":43720467,"body_markdown":"We are in 2023 and things moved ahead.\r\nHere is what I did to make it functional. I use vanilla jaxrs jars.\r\n\r\n - Create Class implementing `ReaderListener` (io.swagger.v3.jaxrs2.ReaderListener)\r\n - Annotate it `@OpenAPIDefinition` (io.swagger.v3.oas.annotations.OpenAPIDefinition)\r\n - Register `JaxrsAnnotationScanner` class setting it via `SwaggerConfiguration` instance\r\n - if your implementation of `ReaderListener` is in the different package than other resources, register it as resource class via `SwaggerConfiguration` instance as well\r\n\r\nKeep in mind, scanner works **lazily**. To see something in your logs, you must **invoke url** to generate openapi definition.\r\n\r\n","title":"Swagger ReaderListener Not Invoked","body":"<p>We are in 2023 and things moved ahead.\nHere is what I did to make it functional. I use vanilla jaxrs jars.</p>\n<ul>\n<li>Create Class implementing <code>ReaderListener</code> (io.swagger.v3.jaxrs2.ReaderListener)</li>\n<li>Annotate it <code>@OpenAPIDefinition</code> (io.swagger.v3.oas.annotations.OpenAPIDefinition)</li>\n<li>Register <code>JaxrsAnnotationScanner</code> class setting it via <code>SwaggerConfiguration</code> instance</li>\n<li>if your implementation of <code>ReaderListener</code> is in the different package than other resources, register it as resource class via <code>SwaggerConfiguration</code> instance as well</li>\n</ul>\n<p>Keep in mind, scanner works <strong>lazily</strong>. To see something in your logs, you must <strong>invoke url</strong> to generate openapi definition.</p>\n"}],"owner":{"account_id":191390,"reputation":1824,"user_id":431941,"accept_rate":75,"display_name":"risingTide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699601491,"creation_date":1493647713,"question_id":43720467,"body_markdown":"I am trying to invoke the afterScan(...) method from the ReaderListener interface but it is not being called.  Here&#39;s my code:\r\n\r\n    @SwaggerDefinition( info = @Info(\r\n        description = &quot;My API&quot;,\r\n        version = &quot;V1.2.3&quot;,\r\n        title = &quot;The only API you&#39;ll ever need&quot;,\r\n        termsOfService = &quot;share and care&quot;,\r\n        contact = @Contact(name = &quot;Test-Bob&quot;, email = &quot;test-bob@tester.io&quot;, url = &quot;http://swagger.io&quot;),\r\n        license = @License(name = &quot;Apache 2.0&quot;, url = &quot;http://www.apache.org&quot;)))\r\n        @Api(tags = {&quot;something&quot;, &quot;else&quot;})\r\n        @Path(&quot;/myUrl/swagger/{type:json|yaml}&quot;)\r\n        public class MyApiListingResource extends BaseApiListingResource implements ReaderListener {\r\n        \r\n          private static final Logger logger = LoggerFactory.getLogger(MyApiListingResource.class); \r\n        \r\n          @Context ServletContext context;\r\n        \r\n          @GET\r\n          @Produces({MediaType.APPLICATION_JSON, &quot;application/yaml&quot;})\r\n          @ApiOperation(value = &quot;The swagger definition in either JSON or YAML&quot;, \r\n            hidden = true)\r\n          public Response getListing(@Context Application app, @Context ServletConfig servletConfig, @Context HttpHeaders headers,\r\n                    @Context UriInfo uriInfo, @PathParam(&quot;type&quot;) String type) throws JsonProcessingException {\r\n             \r\n                if (isNotBlank(type) &amp;&amp; type.trim().equalsIgnoreCase(&quot;yaml&quot;)) {\r\n                 \r\n                    return getListingYamlResponse(app, context, servletConfig, headers, uriInfo);\r\n                    \r\n                } else {\r\n                 \r\n                    System.out.println(&quot;I found json!&quot;);\r\n                    logger.debug(&quot;I&#39;m also before!!!&quot;);\r\n                 \r\n                    return getListingJsonResponse(app, context, servletConfig, headers, uriInfo);\r\n                }\r\n          }\r\n            \r\n          @Override\r\n          public void beforeScan(Reader reader, Swagger swagger) {\r\n         \r\n          System.out.println(&quot;I&#39;m before!!!&quot;);\r\n          logger.debug(&quot;I&#39;m also before!!!&quot;);\r\n        \r\n          } \r\n         \r\n          @Override\r\n          public void afterScan(Reader reader, Swagger swagger) {\r\n         \r\n          System.out.println(&quot;I&#39;m after!!!&quot;);\r\n          logger.debug(&quot;I&#39;m also after!!!&quot;);     \r\n    \r\n          }\r\n         \r\n        }\r\n\r\nNow when I call the following service:   \r\n\r\n    http://localhost:9081/myApp/myUrl/swagger/json\r\n\r\n I do receive the &quot;I found json!&quot; in my console and log...but none of the &quot;before&quot; or &quot;after&quot; comments are printed in the console or log.\r\n\r\nI&#39;m using Swagger 1.5.10 and Java 7.  I&#39;ll provide any other details that are needed.\r\n\r\nAny ideas are welcome!  Thanks!\r\n\r\n&lt;hr/&gt;\r\n\r\n**UPDATE**:  I tried adding the @SwaggerDefinition annotation to this class as shown above, but it still doesn&#39;t work.\r\n\r\nAny ideas what I&#39;m missing?\r\n","title":"Swagger ReaderListener Not Invoked","body":"<p>I am trying to invoke the afterScan(...) method from the ReaderListener interface but it is not being called.  Here's my code:</p>\n\n<pre><code>@SwaggerDefinition( info = @Info(\n    description = \"My API\",\n    version = \"V1.2.3\",\n    title = \"The only API you'll ever need\",\n    termsOfService = \"share and care\",\n    contact = @Contact(name = \"Test-Bob\", email = \"test-bob@tester.io\", url = \"http://swagger.io\"),\n    license = @License(name = \"Apache 2.0\", url = \"http://www.apache.org\")))\n    @Api(tags = {\"something\", \"else\"})\n    @Path(\"/myUrl/swagger/{type:json|yaml}\")\n    public class MyApiListingResource extends BaseApiListingResource implements ReaderListener {\n\n      private static final Logger logger = LoggerFactory.getLogger(MyApiListingResource.class); \n\n      @Context ServletContext context;\n\n      @GET\n      @Produces({MediaType.APPLICATION_JSON, \"application/yaml\"})\n      @ApiOperation(value = \"The swagger definition in either JSON or YAML\", \n        hidden = true)\n      public Response getListing(@Context Application app, @Context ServletConfig servletConfig, @Context HttpHeaders headers,\n                @Context UriInfo uriInfo, @PathParam(\"type\") String type) throws JsonProcessingException {\n\n            if (isNotBlank(type) &amp;&amp; type.trim().equalsIgnoreCase(\"yaml\")) {\n\n                return getListingYamlResponse(app, context, servletConfig, headers, uriInfo);\n\n            } else {\n\n                System.out.println(\"I found json!\");\n                logger.debug(\"I'm also before!!!\");\n\n                return getListingJsonResponse(app, context, servletConfig, headers, uriInfo);\n            }\n      }\n\n      @Override\n      public void beforeScan(Reader reader, Swagger swagger) {\n\n      System.out.println(\"I'm before!!!\");\n      logger.debug(\"I'm also before!!!\");\n\n      } \n\n      @Override\n      public void afterScan(Reader reader, Swagger swagger) {\n\n      System.out.println(\"I'm after!!!\");\n      logger.debug(\"I'm also after!!!\");     \n\n      }\n\n    }\n</code></pre>\n\n<p>Now when I call the following service:   </p>\n\n<pre><code>http://localhost:9081/myApp/myUrl/swagger/json\n</code></pre>\n\n<p>I do receive the \"I found json!\" in my console and log...but none of the \"before\" or \"after\" comments are printed in the console or log.</p>\n\n<p>I'm using Swagger 1.5.10 and Java 7.  I'll provide any other details that are needed.</p>\n\n<p>Any ideas are welcome!  Thanks!</p>\n\n<hr/>\n\n<p><strong>UPDATE</strong>:  I tried adding the @SwaggerDefinition annotation to this class as shown above, but it still doesn't work.</p>\n\n<p>Any ideas what I'm missing?</p>\n"},{"tags":["java","image","swing","embedded-resource","illegalargumentexception"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1451025298,"post_id":34460547,"comment_id":56663189,"body_markdown":"Check the path of the named resource and make sure it&#39;s (correct) and within reach of the classpath.  What IDE are you using?","body":"Check the path of the named resource and make sure it&#39;s (correct) and within reach of the classpath.  What IDE are you using?"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451025554,"post_id":34460547,"comment_id":56663241,"body_markdown":"double checked the path.... no joy, i&#39;m usng ecllipse","body":"double checked the path.... no joy, i&#39;m usng ecllipse"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1451025735,"post_id":34460547,"comment_id":56663266,"body_markdown":"So the `Resources` directory should either be in the project directory or the src directory. Remember the paths are case sensitive and typically `Resources` is called `resources` ;)","body":"So the <code>Resources</code> directory should either be in the project directory or the src directory. Remember the paths are case sensitive and typically <code>Resources</code> is called <code>resources</code> ;)"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451026240,"post_id":34460547,"comment_id":56663364,"body_markdown":"The Resources directory is in the same level as src directory.... mine &#39;Resources&#39;","body":"The Resources directory is in the same level as src directory.... mine &#39;Resources&#39;"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1451026958,"post_id":34460547,"comment_id":56663484,"body_markdown":"The only reason you would get a `null` input, is because the resource doesn&#39;t exist at the location you are specifying (or the spelling/case is wrong)","body":"The only reason you would get a <code>null</code> input, is because the resource doesn&#39;t exist at the location you are specifying (or the spelling/case is wrong)"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451027578,"post_id":34460547,"comment_id":56663601,"body_markdown":"Spelling is right... I double checked it again...","body":"Spelling is right... I double checked it again..."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1451027751,"post_id":34460547,"comment_id":56663637,"body_markdown":"Do a new build (clean and build if possible), export the project as a Jar, unzip the Jar and verify that the images you are looking for are where you expect them to be within the Jar","body":"Do a new build (clean and build if possible), export the project as a Jar, unzip the Jar and verify that the images you are looking for are where you expect them to be within the Jar"},{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451108331,"post_id":34460547,"comment_id":56679535,"body_markdown":"Thank you very much, I got the answer","body":"Thank you very much, I got the answer"}],"answers":[{"comments":[{"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"score":0,"creation_date":1451112717,"post_id":34461891,"comment_id":56680142,"body_markdown":"it&#39;s working when the image is in the same folder as the .java class. But when the image is in the Resource folder (Find the file hierachy in this link: https://drive.google.com/file/d/0B9bLkMQp6h6SX09nNFdUeklNZzA/view?usp=sharing)                                                                                  I suggest the code should be as like this: ImageIO.read(this.getClass().getResource(&quot;/Resources/Images/Student/Capture.PNG&quot;));                                                                                 But i&#39;m getting a &#39; java.lang.IllegalArgumentException&#39;","body":"it&#39;s working when the image is in the same folder as the .java class. But when the image is in the Resource folder (Find the file hierachy in this link: <a href=\"https://drive.google.com/file/d/0B9bLkMQp6h6SX09nNFdUeklNZzA/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0B9bLkMQp6h6SX09nNFdUeklNZzA/&hellip;</a>)                                                                                  I suggest the code should be as like this: ImageIO.read(this.getClass().getResource(&quot;/Resources/Images/&zwnj;&#8203;Student/Capture.PNG&quot;&zwnj;&#8203;));                                                                                 But i&#39;m getting a &#39; java.lang.IllegalArgumentException&#39;"},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1451116040,"post_id":34461891,"comment_id":56680625,"body_markdown":"Notice the difference in folder icon for my `src` (same as your `src`) or my `img`, but your `Resources` folder has different icon - see the edit ;-) Please edit your question and add the picture there, it might help others in future ;-)","body":"Notice the difference in folder icon for my <code>src</code> (same as your <code>src</code>) or my <code>img</code>, but your <code>Resources</code> folder has different icon - see the edit ;-) Please edit your question and add the picture there, it might help others in future ;-)"}],"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699601398,"creation_date":1451037962,"answer_id":34461891,"question_id":34460547,"body_markdown":"I have standard Eclipse project:\r\n\r\n[![Eclipse project][1]][1]\r\n\r\nand my test class looks like (minimal):\r\n\r\n\tpackage q34460547;\r\n\r\n\timport java.awt.Image;\r\n\timport java.io.IOException;\r\n\r\n\timport javax.imageio.ImageIO;\r\n\r\n\tpublic class LoadTest {\r\n\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tnew LoadTest().loadStdImage();\r\n\t\t}\r\n\r\n\t\tpublic void loadStdImage() throws IOException {\r\n\t\t\tImage image = ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\r\n\t\t}\r\n\r\n\t}\r\n\r\nand now, when I used\r\n\r\n    ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\r\n\r\nimage is loaded from res so called source folder in Eclipse.\r\n\r\nWhen I used\r\n\r\n    ImageIO.read(this.getClass().getResource(&quot;ScreenShot005.png&quot;));\r\n\r\nimage s loaded from the folder in which LoadTest.java file is (to be precise it is also compiled to same folder - in Eclipse it&#39;s bin).\r\n\r\nYou can find more info for example here - https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource\r\n\r\n**edit:**\r\n\r\nThe image has to be on classpath (when using `Class.getResource`), that&#39;s why it was not loaded from `Resources` folder. There are two options, use another version of `ImageIO.read()` or make your `Resources` folder a source folder:\r\n\r\n[![Project properties - source folders in Eclipse][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Gnksr.png\r\n  [2]: http://i.stack.imgur.com/FNn5c.png","title":"Display an image in java","body":"<p>I have standard Eclipse project:</p>\n<p><a href=\"https://i.stack.imgur.com/Gnksr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gnksr.png\" alt=\"Eclipse project\" /></a></p>\n<p>and my test class looks like (minimal):</p>\n<pre><code>package q34460547;\n\nimport java.awt.Image;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\npublic class LoadTest {\n\n    public static void main(String[] args) throws IOException {\n        new LoadTest().loadStdImage();\n    }\n\n    public void loadStdImage() throws IOException {\n        Image image = ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\n    }\n\n}\n</code></pre>\n<p>and now, when I used</p>\n<pre><code>ImageIO.read(this.getClass().getResource(&quot;/ScreenShot005.png&quot;));\n</code></pre>\n<p>image is loaded from res so called source folder in Eclipse.</p>\n<p>When I used</p>\n<pre><code>ImageIO.read(this.getClass().getResource(&quot;ScreenShot005.png&quot;));\n</code></pre>\n<p>image s loaded from the folder in which LoadTest.java file is (to be precise it is also compiled to same folder - in Eclipse it's bin).</p>\n<p>You can find more info for example here - <a href=\"https://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource\">What is the difference between Class.getResource() and ClassLoader.getResource()?</a></p>\n<p><strong>edit:</strong></p>\n<p>The image has to be on classpath (when using <code>Class.getResource</code>), that's why it was not loaded from <code>Resources</code> folder. There are two options, use another version of <code>ImageIO.read()</code> or make your <code>Resources</code> folder a source folder:</p>\n<p><a href=\"https://i.stack.imgur.com/FNn5c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNn5c.png\" alt=\"Project properties - source folders in Eclipse\" /></a></p>\n"}],"owner":{"account_id":6556113,"reputation":978,"user_id":5068770,"accept_rate":76,"display_name":"ONE_FE"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34461891,"answer_count":1,"score":0,"last_activity_date":1699601398,"creation_date":1451024774,"question_id":34460547,"body_markdown":" \r\n\r\n    public void loadStdImage() throws IOException\r\n    {\r\n    \tImage image = ImageIO.read(this.getClass().getResource(&quot;/Resources/Images/Student/Capture.png&quot;));  //Line 350\r\n    \tImageIcon icon = new ImageIcon(image);\r\n    \tJLabel lblImage = new JLabel(icon);\r\n    \tlblImage.setIcon(icon);\r\n    \tlblImage.setBounds(753, 50, 149, 171);\r\n    \tadd(lblImage);\r\n    }\r\n\r\nI tried many things... but nothing works out. Continuously showing the following run-time error\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: input == null!\r\n    \tat javax.imageio.ImageIO.read(Unknown Source)\r\n    \tat View.Student.loadStdImage(Student.java:350)\r\n\r\nProject folder structure is:\r\n\r\n[![Project Explorer view in Eclipse for a project][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/A9nIP.png","title":"Display an image in java","body":"<pre><code>public void loadStdImage() throws IOException\n{\n    Image image = ImageIO.read(this.getClass().getResource(&quot;/Resources/Images/Student/Capture.png&quot;));  //Line 350\n    ImageIcon icon = new ImageIcon(image);\n    JLabel lblImage = new JLabel(icon);\n    lblImage.setIcon(icon);\n    lblImage.setBounds(753, 50, 149, 171);\n    add(lblImage);\n}\n</code></pre>\n<p>I tried many things... but nothing works out. Continuously showing the following run-time error</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: input == null!\n    at javax.imageio.ImageIO.read(Unknown Source)\n    at View.Student.loadStdImage(Student.java:350)\n</code></pre>\n<p>Project folder structure is:</p>\n<p><a href=\"https://i.stack.imgur.com/A9nIP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A9nIP.png\" alt=\"Project Explorer view in Eclipse for a project\" /></a></p>\n"},{"tags":["java","java-io"],"answers":[{"comments":[{"owner":{"account_id":5910052,"reputation":2293,"user_id":4650598,"display_name":"Sri"},"score":0,"creation_date":1425929900,"post_id":28948104,"comment_id":46154538,"body_markdown":"the calls are working fine. WHen i tried above piece of coed it is still writing the file to PATH but not to the directory . I have used the File.seperator for the new File creation.","body":"the calls are working fine. WHen i tried above piece of coed it is still writing the file to PATH but not to the directory . I have used the File.seperator for the new File creation."},{"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"score":0,"creation_date":1425930300,"post_id":28948104,"comment_id":46154747,"body_markdown":"Please explain exactly (with classnames and sample variables) what output you are expecting. I&#39;ve attached my example program in full here http://pastebin.com/3eEg6jQv so you can see that it does what you are describing (as best as I understand).","body":"Please explain exactly (with classnames and sample variables) what output you are expecting. I&#39;ve attached my example program in full here <a href=\"http://pastebin.com/3eEg6jQv\" rel=\"nofollow noreferrer\">pastebin.com/3eEg6jQv</a> so you can see that it does what you are describing (as best as I understand)."},{"owner":{"account_id":5910052,"reputation":2293,"user_id":4650598,"display_name":"Sri"},"score":1,"creation_date":1425933932,"post_id":28948104,"comment_id":46156608,"body_markdown":"File file = new File(directoryName + &quot;/&quot; + fileName);\n\ni replaced the code snippet above with \nStringBuffer fullFilePath = new StringBuffer(directoryName).append(File.separator).append(fileName);\n\n            File file  = new File(String.valueOf(fullFilePath));\n\nand it worked","body":"File file = new File(directoryName + &quot;/&quot; + fileName);  i replaced the code snippet above with  StringBuffer fullFilePath = new StringBuffer(directoryName).append(File.separator).append(fi&zwnj;&#8203;leName);              File file  = new File(String.valueOf(fullFilePath));  and it worked"},{"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"score":0,"creation_date":1484051651,"post_id":28948104,"comment_id":70341900,"body_markdown":"In that case you can use the [`mkdirs()`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs%28%29) method.","body":"In that case you can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs%28%29\" rel=\"nofollow noreferrer\"><code>mkdirs()</code></a> method."},{"owner":{"account_id":7947635,"reputation":581,"user_id":5999589,"display_name":"JosefScript"},"score":5,"creation_date":1484149063,"post_id":28948104,"comment_id":70392634,"body_markdown":"Why do you have to check for the directory&#39;s existence? I played around with this and as far as I can see it does not seem to make a difference, if I create the same directory twice. Even contained files won&#39;t get overwritten. Am I missing something?","body":"Why do you have to check for the directory&#39;s existence? I played around with this and as far as I can see it does not seem to make a difference, if I create the same directory twice. Even contained files won&#39;t get overwritten. Am I missing something?"},{"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"score":0,"creation_date":1484180442,"post_id":28948104,"comment_id":70408769,"body_markdown":"No, you&#39;re probably not. The problem as asked was to &#39;create a directory if it doesn&#39;t exist&#39;, so my code is reflecting that logic, but the JVM&#39;s implementation of that call probably won&#39;t destroy data if you tell it to create a directory that already exists, so you can call it without the check. If the directory is actually created, the call will return `true`, otherwise `false`. I&#39;ll add a note to that effect, thank you.","body":"No, you&#39;re probably not. The problem as asked was to &#39;create a directory if it doesn&#39;t exist&#39;, so my code is reflecting that logic, but the JVM&#39;s implementation of that call probably won&#39;t destroy data if you tell it to create a directory that already exists, so you can call it without the check. If the directory is actually created, the call will return <code>true</code>, otherwise <code>false</code>. I&#39;ll add a note to that effect, thank you."},{"owner":{"account_id":3051575,"reputation":940,"user_id":3462060,"display_name":"Jared"},"score":1,"creation_date":1605323314,"post_id":28948104,"comment_id":114622856,"body_markdown":"As far as I know, Java (at least Java 8) is now happy with forward slashes are directory separators in both Windows and (obviously) Linux.","body":"As far as I know, Java (at least Java 8) is now happy with forward slashes are directory separators in both Windows and (obviously) Linux."}],"tags":[],"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"comment_count":7,"down_vote_count":2,"up_vote_count":238,"is_accepted":true,"score":236,"last_activity_date":1491424258,"creation_date":1425921882,"answer_id":28948104,"question_id":28947250,"body_markdown":"This code checks for the existence of the directory first and creates it if not, and creates the file afterwards. Please note that I couldn&#39;t verify some of your method calls as I don&#39;t have your complete code, so I&#39;m assuming the calls to things like `getTimeStamp()` and `getClassName()` will work. You should also do something with the possible `IOException` that can be thrown when using any of the `java.io.*` classes - either your function that writes the files should throw this exception (and it be handled elsewhere), or you should do it in the method directly. Also, I assumed that `id` is of type `String` - I don&#39;t know as your code doesn&#39;t explicitly define it. If it is something else like an `int`, you should probably cast it to a `String` before using it in the fileName as I have done here.\r\n\r\nAlso, I replaced your `append` calls with `concat` or `+` as I saw appropriate.\r\n\r\n    public void writeFile(String value){\r\n        String PATH = &quot;/remote/dir/server/&quot;;\r\n        String directoryName = PATH.concat(this.getClassName());\r\n        String fileName = id + getTimeStamp() + &quot;.txt&quot;;\r\n\r\n        File directory = new File(directoryName);\r\n        if (! directory.exists()){\r\n            directory.mkdir();\r\n            // If you require it to make the entire directory path including parents,\r\n            // use directory.mkdirs(); here instead.\r\n        }\r\n\r\n        File file = new File(directoryName + &quot;/&quot; + fileName);\r\n        try{\r\n            FileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            bw.write(value);\r\n            bw.close();\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n    }\r\n\r\nYou should probably not use bare path names like this if you want to run the code on Microsoft Windows - I&#39;m not sure what it will do with the `/` in the filenames. For full portability, you should probably use something like [File.separator][1] to construct your paths.\r\n\r\n*Edit*: According to a comment by [JosefScript][2] below, it&#39;s not necessary to test for directory existence. The `directory.mkdir()`  call will return `true` if it created a directory, and `false` if it didn&#39;t, including the case when the directory already existed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\r\n  [2]: https://stackoverflow.com/users/5999589/josefscript","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>This code checks for the existence of the directory first and creates it if not, and creates the file afterwards. Please note that I couldn't verify some of your method calls as I don't have your complete code, so I'm assuming the calls to things like <code>getTimeStamp()</code> and <code>getClassName()</code> will work. You should also do something with the possible <code>IOException</code> that can be thrown when using any of the <code>java.io.*</code> classes - either your function that writes the files should throw this exception (and it be handled elsewhere), or you should do it in the method directly. Also, I assumed that <code>id</code> is of type <code>String</code> - I don't know as your code doesn't explicitly define it. If it is something else like an <code>int</code>, you should probably cast it to a <code>String</code> before using it in the fileName as I have done here.</p>\n\n<p>Also, I replaced your <code>append</code> calls with <code>concat</code> or <code>+</code> as I saw appropriate.</p>\n\n<pre><code>public void writeFile(String value){\n    String PATH = \"/remote/dir/server/\";\n    String directoryName = PATH.concat(this.getClassName());\n    String fileName = id + getTimeStamp() + \".txt\";\n\n    File directory = new File(directoryName);\n    if (! directory.exists()){\n        directory.mkdir();\n        // If you require it to make the entire directory path including parents,\n        // use directory.mkdirs(); here instead.\n    }\n\n    File file = new File(directoryName + \"/\" + fileName);\n    try{\n        FileWriter fw = new FileWriter(file.getAbsoluteFile());\n        BufferedWriter bw = new BufferedWriter(fw);\n        bw.write(value);\n        bw.close();\n    }\n    catch (IOException e){\n        e.printStackTrace();\n        System.exit(-1);\n    }\n}\n</code></pre>\n\n<p>You should probably not use bare path names like this if you want to run the code on Microsoft Windows - I'm not sure what it will do with the <code>/</code> in the filenames. For full portability, you should probably use something like <a href=\"https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\">File.separator</a> to construct your paths.</p>\n\n<p><em>Edit</em>: According to a comment by <a href=\"https://stackoverflow.com/users/5999589/josefscript\">JosefScript</a> below, it's not necessary to test for directory existence. The <code>directory.mkdir()</code>  call will return <code>true</code> if it created a directory, and <code>false</code> if it didn't, including the case when the directory already existed.</p>\n"},{"tags":[],"owner":{"account_id":10539025,"reputation":91,"user_id":7765808,"display_name":"Mukesh "},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1493964332,"creation_date":1493962316,"answer_id":43797194,"question_id":28947250,"body_markdown":" **code:**\r\n\r\n    // Create Directory if not exist then Copy a file.\r\n\r\n \r\n    public static void copyFile_Directory(String origin, String destDir, String destination) throws IOException {\r\n    \r\n        Path FROM = Paths.get(origin);\r\n        Path TO = Paths.get(destination);\r\n        File directory = new File(String.valueOf(destDir));\r\n    \r\n        if (!directory.exists()) {\r\n            directory.mkdir();\r\n        }\r\n            //overwrite the destination file if it exists, and copy\r\n            // the file attributes, including the rwx permissions\r\n         CopyOption[] options = new CopyOption[]{\r\n                    StandardCopyOption.REPLACE_EXISTING,\r\n                    StandardCopyOption.COPY_ATTRIBUTES\r\n    \r\n            };\r\n            Files.copy(FROM, TO, options);\r\n    \r\n    \r\n    }\r\n\r\n","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p><strong>code:</strong></p>\n\n<pre><code>// Create Directory if not exist then Copy a file.\n\n\npublic static void copyFile_Directory(String origin, String destDir, String destination) throws IOException {\n\n    Path FROM = Paths.get(origin);\n    Path TO = Paths.get(destination);\n    File directory = new File(String.valueOf(destDir));\n\n    if (!directory.exists()) {\n        directory.mkdir();\n    }\n        //overwrite the destination file if it exists, and copy\n        // the file attributes, including the rwx permissions\n     CopyOption[] options = new CopyOption[]{\n                StandardCopyOption.REPLACE_EXISTING,\n                StandardCopyOption.COPY_ATTRIBUTES\n\n        };\n        Files.copy(FROM, TO, options);\n\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1663171,"reputation":7769,"user_id":1531064,"accept_rate":76,"display_name":"Cataclysm"},"score":1,"creation_date":1536641461,"post_id":46243328,"comment_id":91485078,"body_markdown":"`Files.createFile(Files.createDirectories(path)).toFile()` should be `Files.createDirectories(path).toFile()` for `Access Denied` reason.","body":"<code>Files.createFile(Files.createDirectories(path)).toFile()</code> should be <code>Files.createDirectories(path).toFile()</code> for <code>Access Denied</code> reason."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":2,"creation_date":1552651975,"post_id":46243328,"comment_id":97102555,"body_markdown":"@Pytry, `Files.createFile(Files.createDirectories(path))` does not work as described in the comment above. `createDirectories` already creates a directory with the file name, e.g. &quot;test.txt&quot;, therefore `createFile` will fail.","body":"@Pytry, <code>Files.createFile(Files.createDirectories(path))</code> does not work as described in the comment above. <code>createDirectories</code> already creates a directory with the file name, e.g. &quot;test.txt&quot;, therefore <code>createFile</code> will fail."}],"tags":[],"owner":{"account_id":1839825,"reputation":6122,"user_id":1669464,"accept_rate":74,"display_name":"Pytry"},"comment_count":2,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1669661822,"creation_date":1505490491,"answer_id":46243328,"question_id":28947250,"body_markdown":"I would suggest the following for Java8+.\r\n\r\n    \r\n    /**\r\n     * Creates a File if the file does not exist, or returns a\r\n     * reference to the File if it already exists.\r\n     */\r\n    public File createOrRetrieve(final String target) throws IOException {\r\n      final File answer;\r\n      Path path = Paths.get(target);\r\n      Path parent = path.getParent();\r\n      if(parent != null &amp;&amp; Files.notExists(parent)) {\r\n        Files.createDirectories(path);\r\n      }\r\n      if(Files.notExists(path)) {\r\n        LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be created.&quot;);\r\n        answer = Files.createFile(path).toFile();\r\n      } else {\r\n        LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be retrieved.&quot;);\r\n        answer = path.toFile();\r\n      }\r\n      return answer;\r\n    }\r\n\r\n\r\nEdit: Updated to fix bug as indicated by @Cataclysm and @Marcono1234. Thx guys:)","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>I would suggest the following for Java8+.</p>\n<pre><code>/**\n * Creates a File if the file does not exist, or returns a\n * reference to the File if it already exists.\n */\npublic File createOrRetrieve(final String target) throws IOException {\n  final File answer;\n  Path path = Paths.get(target);\n  Path parent = path.getParent();\n  if(parent != null &amp;&amp; Files.notExists(parent)) {\n    Files.createDirectories(path);\n  }\n  if(Files.notExists(path)) {\n    LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be created.&quot;);\n    answer = Files.createFile(path).toFile();\n  } else {\n    LOG.info(&quot;Target file \\&quot;&quot; + target + &quot;\\&quot; will be retrieved.&quot;);\n    answer = path.toFile();\n  }\n  return answer;\n}\n</code></pre>\n<p>Edit: Updated to fix bug as indicated by @Cataclysm and @Marcono1234. Thx guys:)</p>\n"},{"comments":[{"owner":{"account_id":10197972,"reputation":1986,"user_id":7529228,"accept_rate":50,"display_name":"cactuschibre"},"score":19,"creation_date":1528795428,"post_id":48551469,"comment_id":88632247,"body_markdown":"Prefer using File.separatorChar instead of &quot;/&quot;.","body":"Prefer using File.separatorChar instead of &quot;/&quot;."}],"tags":[],"owner":{"account_id":1400937,"reputation":1241,"user_id":1329733,"accept_rate":80,"display_name":"Jacob R"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1517432943,"creation_date":1517432943,"answer_id":48551469,"question_id":28947250,"body_markdown":"Trying to make this as short and simple as possible. Creates directory if it doesn&#39;t exist, and then returns the desired file:\r\n\r\n    /** Creates parent directories if necessary. Then returns file */\r\n\tprivate static File fileWithDirectoryAssurance(String directory, String filename) {\r\n\t\tFile dir = new File(directory);\r\n\t\tif (!dir.exists()) dir.mkdirs();\r\n\t\treturn new File(directory + &quot;/&quot; + filename);\r\n\t}","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>Trying to make this as short and simple as possible. Creates directory if it doesn't exist, and then returns the desired file:</p>\n\n<pre><code>/** Creates parent directories if necessary. Then returns file */\nprivate static File fileWithDirectoryAssurance(String directory, String filename) {\n    File dir = new File(directory);\n    if (!dir.exists()) dir.mkdirs();\n    return new File(directory + \"/\" + filename);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1634447753,"creation_date":1547032403,"answer_id":54108842,"question_id":28947250,"body_markdown":"Simple Solution using using `java.nio.Path`\r\n-------------------------------------------\r\n\r\n    public static Path createFileWithDir(String directory, String filename) {\r\n    \t\tFile dir = new File(directory);\r\n    \t\tif (!dir.exists()) dir.mkdirs();\r\n    \t\treturn Paths.get(directory + File.separatorChar + filename);\r\n    \t}","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<h2>Simple Solution using using <code>java.nio.Path</code></h2>\n<pre><code>public static Path createFileWithDir(String directory, String filename) {\n        File dir = new File(directory);\n        if (!dir.exists()) dir.mkdirs();\n        return Paths.get(directory + File.separatorChar + filename);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10082443,"reputation":2920,"user_id":8459403,"display_name":"Dr. X"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573710018,"creation_date":1573710018,"answer_id":58850074,"question_id":28947250,"body_markdown":"If you create a web based application, the better solution is to check the directory exists or not then create the file if not exist. If exists, recreate again.\r\n\r\n \r\n\r\n        private File createFile(String path, String fileName) throws IOException {\r\n           ClassLoader classLoader = getClass().getClassLoader();\r\n           File file = new File(classLoader.getResource(&quot;.&quot;).getFile() + path + fileName);\r\n\r\n           // Lets create the directory\r\n           try {\r\n              file.getParentFile().mkdir();\r\n           } catch (Exception err){\r\n               System.out.println(&quot;ERROR (Directory Create)&quot; + err.getMessage());\r\n           }\r\n\r\n           // Lets create the file if we have credential\r\n           try {\r\n               file.createNewFile();\r\n           } catch (Exception err){\r\n               System.out.println(&quot;ERROR (File Create)&quot; + err.getMessage());\r\n           }\r\n           return  file;\r\n       }","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>If you create a web based application, the better solution is to check the directory exists or not then create the file if not exist. If exists, recreate again.</p>\n\n<pre><code>    private File createFile(String path, String fileName) throws IOException {\n       ClassLoader classLoader = getClass().getClassLoader();\n       File file = new File(classLoader.getResource(\".\").getFile() + path + fileName);\n\n       // Lets create the directory\n       try {\n          file.getParentFile().mkdir();\n       } catch (Exception err){\n           System.out.println(\"ERROR (Directory Create)\" + err.getMessage());\n       }\n\n       // Lets create the file if we have credential\n       try {\n           file.createNewFile();\n       } catch (Exception err){\n           System.out.println(\"ERROR (File Create)\" + err.getMessage());\n       }\n       return  file;\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":2,"creation_date":1594719322,"post_id":59376080,"comment_id":111216862,"body_markdown":"What happens if permission is required to create ?","body":"What happens if permission is required to create ?"},{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":1,"creation_date":1601903973,"post_id":59376080,"comment_id":113542194,"body_markdown":"For Android It only works on API 26 and up so Make sure to check this line  if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) https://developer.android.com/reference/java/nio/file/Files#createDirectories(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute%3C?%3E...)","body":"For Android It only works on API 26 and up so Make sure to check this line  if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) <a href=\"https://developer.android.com/reference/java/nio/file/Files#createDirectories(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute%3C?%3E...)\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/nio/file/&hellip;</a>"},{"owner":{"account_id":8570782,"reputation":103,"user_id":6421779,"display_name":"Thor Lancaster"},"score":0,"creation_date":1607744418,"post_id":59376080,"comment_id":115376099,"body_markdown":"@AjayTakur If you don&#39;t have write permission in the directory you&#39;re trying to create the new directory in, it throws an IOException","body":"@AjayTakur If you don&#39;t have write permission in the directory you&#39;re trying to create the new directory in, it throws an IOException"},{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1631826724,"post_id":59376080,"comment_id":122335131,"body_markdown":"How can make a process get the permission to create directory on Windows 10?","body":"How can make a process get the permission to create directory on Windows 10?"},{"owner":{"account_id":20992047,"reputation":60,"user_id":15424719,"display_name":"Annan Yearian"},"score":0,"creation_date":1675431220,"post_id":59376080,"comment_id":132932900,"body_markdown":"What&#39;s the performance of this like - can I use it before every file write?","body":"What&#39;s the performance of this like - can I use it before every file write?"},{"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"score":0,"creation_date":1679672014,"post_id":59376080,"comment_id":133768410,"body_markdown":"But it throws an `FileAlreadyExistsException` if the path also includes a filename (ends with a filename).","body":"But it throws an <code>FileAlreadyExistsException</code> if the path also includes a filename (ends with a filename)."},{"owner":{"account_id":3321146,"reputation":470,"user_id":2792310,"display_name":"teserecter"},"score":0,"creation_date":1698078227,"post_id":59376080,"comment_id":136356762,"body_markdown":"Please add the import  for both    Files and for Paths","body":"Please add the import  for both    Files and for Paths"}],"tags":[],"owner":{"account_id":2386370,"reputation":4433,"user_id":2087270,"display_name":"In&#234;s Gomes"},"comment_count":7,"down_vote_count":0,"up_vote_count":299,"is_accepted":false,"score":299,"last_activity_date":1699601388,"creation_date":1576591935,"answer_id":59376080,"question_id":28947250,"body_markdown":"Java 8+ version:\r\n\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.Files;\r\n\r\n    Files.createDirectories(Paths.get(&quot;/Your/Path/Here&quot;));\r\n\r\nThe `Files.createDirectories()` creates a new directory and parent directories that do not exist. This method does not throw an exception if the directory already exists.","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>Java 8+ version:</p>\n<pre><code>import java.nio.file.Paths;\nimport java.nio.file.Files;\n\nFiles.createDirectories(Paths.get(&quot;/Your/Path/Here&quot;));\n</code></pre>\n<p>The <code>Files.createDirectories()</code> creates a new directory and parent directories that do not exist. This method does not throw an exception if the directory already exists.</p>\n"},{"tags":[],"owner":{"account_id":14539836,"reputation":11,"user_id":10501904,"display_name":"Mohammed Fayoumi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655146761,"creation_date":1655146716,"answer_id":72607825,"question_id":28947250,"body_markdown":"A simple solution using Java 8\r\n\r\n    public void init(String multipartLocation) throws IOException {\r\n        File storageDirectory = new File(multipartLocation);\r\n\r\n        if (!storageDirectory.exists()) {\r\n            if (!storageDirectory.mkdir()) {\r\n                throw new IOException(&quot;Error creating directory.&quot;);\r\n            }\r\n        }\r\n    }","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>A simple solution using Java 8</p>\n<pre><code>public void init(String multipartLocation) throws IOException {\n    File storageDirectory = new File(multipartLocation);\n\n    if (!storageDirectory.exists()) {\n        if (!storageDirectory.mkdir()) {\n            throw new IOException(&quot;Error creating directory.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15580953,"reputation":21,"user_id":11240750,"display_name":"BitsNcode"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1655634878,"creation_date":1655502966,"answer_id":72665156,"question_id":28947250,"body_markdown":"If you&#39;re using Java 8 or above, then `Files.createDirectories()` method works the best.","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>If you're using Java 8 or above, then <code>Files.createDirectories()</code> method works the best.</p>\n"}],"owner":{"account_id":5910052,"reputation":2293,"user_id":4650598,"display_name":"Sri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500466,"favorite_count":0,"down_vote_count":2,"up_vote_count":229,"accepted_answer_id":28948104,"answer_count":9,"score":227,"last_activity_date":1699601388,"creation_date":1425919123,"question_id":28947250,"body_markdown":"The condition is if the directory exists it has to create files in that specific directory without creating a new directory.\r\n\r\nThe below code only creates a file with the new directory but not for the existing directory . For example the directory name would be like &quot;GETDIRECTION&quot;:\r\n\r\n```java\r\nString PATH = &quot;/remote/dir/server/&quot;;\r\n    \r\nString fileName = PATH.append(id).concat(getTimeStamp()).append(&quot;.txt&quot;);  \r\n             \r\nString directoryName = PATH.append(this.getClassName());   \r\n              \r\nFile file  = new File(String.valueOf(fileName));\r\n\r\nFile directory = new File(String.valueOf(directoryName));\r\n\r\nif (!directory.exists()) {\r\n        directory.mkdir();\r\n        if (!file.exists() &amp;&amp; !checkEnoughDiskSpace()) {\r\n            file.getParentFile().mkdir();\r\n            file.createNewFile();\r\n        }\r\n}\r\nFileWriter fw = new FileWriter(file.getAbsoluteFile());\r\nBufferedWriter bw = new BufferedWriter(fw);\r\nbw.write(value);\r\nbw.close();\r\n\r\n```","title":"Create a directory if it does not exist and then create the files in that directory as well","body":"<p>The condition is if the directory exists it has to create files in that specific directory without creating a new directory.</p>\n<p>The below code only creates a file with the new directory but not for the existing directory . For example the directory name would be like &quot;GETDIRECTION&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String PATH = &quot;/remote/dir/server/&quot;;\n    \nString fileName = PATH.append(id).concat(getTimeStamp()).append(&quot;.txt&quot;);  \n             \nString directoryName = PATH.append(this.getClassName());   \n              \nFile file  = new File(String.valueOf(fileName));\n\nFile directory = new File(String.valueOf(directoryName));\n\nif (!directory.exists()) {\n        directory.mkdir();\n        if (!file.exists() &amp;&amp; !checkEnoughDiskSpace()) {\n            file.getParentFile().mkdir();\n            file.createNewFile();\n        }\n}\nFileWriter fw = new FileWriter(file.getAbsoluteFile());\nBufferedWriter bw = new BufferedWriter(fw);\nbw.write(value);\nbw.close();\n\n</code></pre>\n"},{"tags":["java","google-chrome","testing","selenium-webdriver"],"comments":[{"owner":{"account_id":2348349,"reputation":44453,"user_id":2057919,"accept_rate":100,"display_name":"elixenide"},"score":0,"creation_date":1439780963,"post_id":32042187,"comment_id":51984742,"body_markdown":"Well, are you using that flag?","body":"Well, are you using that flag?"},{"owner":{"account_id":6002011,"reputation":2225,"user_id":4714970,"accept_rate":53,"display_name":"Aequitas"},"score":0,"creation_date":1439781633,"post_id":32042187,"comment_id":51984876,"body_markdown":"The solution is to not use that command line flag because it&#39;s unsupported","body":"The solution is to not use that command line flag because it&#39;s unsupported"},{"owner":{"account_id":6002011,"reputation":2225,"user_id":4714970,"accept_rate":53,"display_name":"Aequitas"},"score":1,"creation_date":1439781746,"post_id":32042187,"comment_id":51984897,"body_markdown":"possible duplicate of [Pass driver ChromeOptions and DesiredCapabilities?](http://stackoverflow.com/questions/23834413/pass-driver-chromeoptions-and-desiredcapabilities)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/23834413/pass-driver-chromeoptions-and-desiredcapabilities\">Pass driver ChromeOptions and DesiredCapabilities?</a>"},{"owner":{"account_id":6002011,"reputation":2225,"user_id":4714970,"accept_rate":53,"display_name":"Aequitas"},"score":0,"creation_date":1439781857,"post_id":32042187,"comment_id":51984921,"body_markdown":"Note: if you actually want to ignore invalid certificates there&#39;s an option you can enable in chrome: `Allow invalid certificates for resources loaded from localhost` in `chrome://flags`","body":"Note: if you actually want to ignore invalid certificates there&#39;s an option you can enable in chrome: <code>Allow invalid certificates for resources loaded from localhost</code> in <code>chrome:&#47;&#47;flags</code>"},{"owner":{"account_id":4481429,"reputation":319,"user_id":3645398,"display_name":"karshitbha"},"score":1,"creation_date":1439979719,"post_id":32042187,"comment_id":52080143,"body_markdown":"Thanks for your answer....the issue which i was facing problem was due to the exe which i was using for chrome I downloaded the latest from","body":"Thanks for your answer....the issue which i was facing problem was due to the exe which i was using for chrome I downloaded the latest from"},{"owner":{"account_id":4481429,"reputation":319,"user_id":3645398,"display_name":"karshitbha"},"score":1,"creation_date":1439979733,"post_id":32042187,"comment_id":52080151,"body_markdown":"https://sites.google.com/a/chromium.org/chromedriver/downloads and it started working","body":"<a href=\"https://sites.google.com/a/chromium.org/chromedriver/downloads\" rel=\"nofollow noreferrer\">sites.google.com/a/chromium.org/chromedriver/downloads</a> and it started working"},{"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"score":0,"creation_date":1511285315,"post_id":32042187,"comment_id":81792369,"body_markdown":"Thanks.. Life saver","body":"Thanks.. Life saver"},{"owner":{"account_id":10491586,"reputation":179,"user_id":7864377,"display_name":"Dmitry Pukhov"},"score":0,"creation_date":1638796059,"post_id":32042187,"comment_id":124175377,"body_markdown":"You have typo: certifcate -&gt; certificate","body":"You have typo: certifcate -&gt; certificate"}],"answers":[{"tags":[],"owner":{"account_id":6658349,"reputation":178,"user_id":5138172,"display_name":"Anton Savostytskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439796648,"creation_date":1439796648,"answer_id":32044935,"question_id":32042187,"body_markdown":"Try this code  when you create driver. I hope it will help:\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    ChromeOptions options = new ChromeOptions();\r\n    setDefaultCapabilities(capabilities);\r\n    capabilities.setCapability(&quot;chrome.switches&quot;, Arrays.asList(&quot;--ignore-certificate-errors&quot;));\r\n    options.addArguments(Arrays.asList(&quot;allow-running-insecure-content&quot;, &quot;ignore-certificate-errors&quot;));\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Try this code  when you create driver. I hope it will help:</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.chrome();\nChromeOptions options = new ChromeOptions();\nsetDefaultCapabilities(capabilities);\ncapabilities.setCapability(\"chrome.switches\", Arrays.asList(\"--ignore-certificate-errors\"));\noptions.addArguments(Arrays.asList(\"allow-running-insecure-content\", \"ignore-certificate-errors\"));\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6146867,"reputation":1086,"user_id":4792552,"display_name":"Berkant İpek"},"score":1,"creation_date":1540487172,"post_id":36746675,"comment_id":92894269,"body_markdown":"This literally suppressed the on-start warning messages in Chromium. Thanks.","body":"This literally suppressed the on-start warning messages in Chromium. Thanks."},{"owner":{"account_id":7651254,"reputation":1257,"user_id":6743127,"accept_rate":100,"display_name":"Fabian R&#246;ling"},"score":0,"creation_date":1550256343,"post_id":36746675,"comment_id":96216421,"body_markdown":"Thanks, worked. For me, it was the &quot;`extensions-on-chrome-urls`&quot; flag that caused it. I don&#39;t even know why it warns about that, there&#39;s a warning on chrome://flags about all the flags anyway. I only have two extensions and trust both of them.","body":"Thanks, worked. For me, it was the &quot;<code>extensions-on-chrome-urls</code>&quot; flag that caused it. I don&#39;t even know why it warns about that, there&#39;s a warning on chrome://flags about all the flags anyway. I only have two extensions and trust both of them."},{"owner":{"account_id":14980001,"reputation":204,"user_id":10971579,"display_name":"Mayur Kandalkar"},"score":0,"creation_date":1592191629,"post_id":36746675,"comment_id":110326256,"body_markdown":"where exactly do I have to add this : I have a location &quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot;","body":"where exactly do I have to add this : I have a location &quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot;"},{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":1,"creation_date":1592191832,"post_id":36746675,"comment_id":110326298,"body_markdown":"@Kmayur7777 wherever you have he startup script","body":"@Kmayur7777 wherever you have he startup script"},{"owner":{"account_id":1714162,"reputation":1423,"user_id":1608670,"display_name":"Ivan Chau"},"score":2,"creation_date":1659445210,"post_id":36746675,"comment_id":129292445,"body_markdown":"It should be `--test-type`","body":"It should be <code>--test-type</code>"}],"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":5,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1699601367,"creation_date":1461161854,"answer_id":36746675,"question_id":32042187,"body_markdown":"You can add this to the shortcut of the chrome browser, in the Target portion:\r\n\r\n    –-test-type\r\n\r\nThis would disable any warning messages.\r\nNot the best solution, but it works.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>You can add this to the shortcut of the chrome browser, in the Target portion:</p>\n<pre><code>–-test-type\n</code></pre>\n<p>This would disable any warning messages.\nNot the best solution, but it works.</p>\n"},{"comments":[{"owner":{"account_id":8385022,"reputation":6556,"user_id":6295712,"display_name":"Hassan Saeed"},"score":0,"creation_date":1512643583,"post_id":40741729,"comment_id":82345549,"body_markdown":"i have same issue i change other version of chromedriver and it works for me.and note that chrome driver don&#39;t have 64bit version .but good thing is that 32bit work on both 64 and 32 bit window.","body":"i have same issue i change other version of chromedriver and it works for me.and note that chrome driver don&#39;t have 64bit version .but good thing is that 32bit work on both 64 and 32 bit window."}],"tags":[],"owner":{"account_id":2919214,"reputation":151,"user_id":2501852,"display_name":"Kunle"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479817214,"creation_date":1479817214,"answer_id":40741729,"question_id":32042187,"body_markdown":"I had this issue recently. I found out I was using a 32-bit chromedriver for a 64-bit Mac. So I simply replaced the chromedriver with a 64-bit chromedriver from https://chromedriver.storage.googleapis.com/index.html?path=2.25/ and the error was gone.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>I had this issue recently. I found out I was using a 32-bit chromedriver for a 64-bit Mac. So I simply replaced the chromedriver with a 64-bit chromedriver from <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=2.25/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=2.25/</a> and the error was gone.</p>\n"},{"comments":[{"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"score":0,"creation_date":1486819636,"post_id":42176177,"comment_id":71516224,"body_markdown":"Although your answer is 100% correct, it might also become 100% useless \nif that link is moved, changed, merged into another one or the main site \njust disappears... **:-(** Therefore, please [edit] your answer, and copy \nthe relevant steps from the link into your answer, thereby guaranteeing \nyour answer for 100% of the lifetime of this site! **;-)** You can always \nleave the link in at the bottom of your answer as a source for your \nmaterial...","body":"Although your answer is 100% correct, it might also become 100% useless  if that link is moved, changed, merged into another one or the main site  just disappears... <b>:-(</b> Therefore, please <a href=\"https://stackoverflow.com/posts/42176177/edit\">edit</a> your answer, and copy  the relevant steps from the link into your answer, thereby guaranteeing  your answer for 100% of the lifetime of this site! <b>;-)</b> You can always  leave the link in at the bottom of your answer as a source for your  material..."}],"tags":[],"owner":{"account_id":6003178,"reputation":469,"user_id":4715839,"accept_rate":33,"display_name":"sanjay pujari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486818201,"creation_date":1486818201,"answer_id":42176177,"question_id":32042187,"body_markdown":"Use chromedriver 2.12 version (chromedriver_win32.zip) from the path  http://chromedriver.storage.googleapis.com/index.html?path=2.12/\r\n\r\nYou wont see this pop up.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Use chromedriver 2.12 version (chromedriver_win32.zip) from the path  <a href=\"http://chromedriver.storage.googleapis.com/index.html?path=2.12/\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html?path=2.12/</a></p>\n\n<p>You wont see this pop up.</p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1495134496,"post_id":44055680,"comment_id":75136913,"body_markdown":"Whilst this may theoretically answer the question, [it would be preferable](//meta.stackoverflow.com/q/8259) to include the essential parts of the answer here, and provide the link for reference.","body":"Whilst this may theoretically answer the question, <a href=\"//meta.stackoverflow.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference."},{"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"score":0,"creation_date":1510058828,"post_id":44055680,"comment_id":81265941,"body_markdown":"@GhostCat for Chrome 44.0.2403.155, try with http://chromedriver.storage.googleapis.com/index.html?path=2.25/  or lesser vesion driver. hope your issue will get resolved. :)","body":"@GhostCat for Chrome 44.0.2403.155, try with <a href=\"http://chromedriver.storage.googleapis.com/index.html?path=2.25/\" rel=\"nofollow noreferrer\">chromedriver.storage.googleapis.com/index.html?path=2.25</a>  or lesser vesion driver. hope your issue will get resolved. :)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1510066716,"post_id":44055680,"comment_id":81271442,"body_markdown":"My comment was meant to explain why link only answers are discouraged. That is all I wanted to say.","body":"My comment was meant to explain why link only answers are discouraged. That is all I wanted to say."}],"tags":[],"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1578658019,"creation_date":1495133271,"answer_id":44055680,"question_id":32042187,"body_markdown":"For a chrome version of `58.0.3029.110`, You should use Chrome.driver of `2.28 version`. Download driver from http://chromedriver.storage.googleapis.com/index.html?path=2.28/\r\n\r\n\r\nNote: If you want to download other `chromedriver of other version` then `change version number` in the above url.\r\n \r\n`Happy learning`","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>For a chrome version of <code>58.0.3029.110</code>, You should use Chrome.driver of <code>2.28 version</code>. Download driver from <a href=\"http://chromedriver.storage.googleapis.com/index.html?path=2.28/\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html?path=2.28/</a></p>\n\n<p>Note: If you want to download other <code>chromedriver of other version</code> then <code>change version number</code> in the above url.</p>\n\n<p><code>Happy learning</code></p>\n"},{"tags":[],"owner":{"account_id":4989784,"reputation":99,"user_id":4012362,"display_name":"Syrus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522158470,"creation_date":1522158470,"answer_id":49514686,"question_id":32042187,"body_markdown":"If your browser the latest version try with the latest chrome driver. I got the same issue but when changed it to the latest driver and it worked.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>If your browser the latest version try with the latest chrome driver. I got the same issue but when changed it to the latest driver and it worked.</p>\n"},{"tags":[],"owner":{"account_id":5952327,"reputation":1,"user_id":9943176,"display_name":"Ankit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529000336,"creation_date":1529000336,"answer_id":50863645,"question_id":32042187,"body_markdown":"I think this is due to chrome driver incompatibility with chrome browser. \r\n1.Uninstall chrome driver.\r\n2.Check the chrome browser version you are using.\r\n3.Find a corresponding compatible chrome driver( browser version compatible) and install it.\r\nDo not forget to restart the system after step 1 and step 3.\r\nI think this should fix the issue. It worked for me.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>I think this is due to chrome driver incompatibility with chrome browser. \n1.Uninstall chrome driver.\n2.Check the chrome browser version you are using.\n3.Find a corresponding compatible chrome driver( browser version compatible) and install it.\nDo not forget to restart the system after step 1 and step 3.\nI think this should fix the issue. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1006097,"reputation":537,"user_id":8389470,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540488197,"creation_date":1530859018,"answer_id":51204339,"question_id":32042187,"body_markdown":"I was able to fix this on Windows by opening the properties of the Chrome shortcut. There I deleted the `--ignore-certificate-errors` flag.","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>I was able to fix this on Windows by opening the properties of the Chrome shortcut. There I deleted the <code>--ignore-certificate-errors</code> flag.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609296099,"creation_date":1609296099,"answer_id":65501355,"question_id":32042187,"body_markdown":"Had similar issue so while the following code i added as ChromeOptions helped me resolve this is just as @Pritam Banerjee said\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\r\n\t\tSystem.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\r\n\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n\t\tchromeOptions.addArguments(&quot;no-sandbox&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--test-type&quot;);// this is the one that helped\r\n\t\tchromeOptions.addArguments(&quot;disable-extensions&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\tWebDriver driver = new ChromeDriver(chromeOptions);\r\n\t\tdriver.get(&quot;https://www.google.com&quot;);\r\n\t\tSystem.out.println(&quot;Google is selected&quot;);","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Had similar issue so while the following code i added as ChromeOptions helped me resolve this is just as @Pritam Banerjee said</p>\n<pre><code>    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\n    System.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(&quot;no-sandbox&quot;);\n    chromeOptions.addArguments(&quot;--test-type&quot;);// this is the one that helped\n    chromeOptions.addArguments(&quot;disable-extensions&quot;);\n    chromeOptions.addArguments(&quot;--start-maximized&quot;);\n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.get(&quot;https://www.google.com&quot;);\n    System.out.println(&quot;Google is selected&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20159600,"reputation":2350,"user_id":14784912,"display_name":"Rishabh Kumar"},"score":0,"creation_date":1613883276,"post_id":66298019,"comment_id":117211492,"body_markdown":"Hi Jennifer, please post this as a comment on the question, as this is not very specific and detailed.  Have a look at https://stackoverflow.com/help/how-to-answer  to get more clarity.","body":"Hi Jennifer, please post this as a comment on the question, as this is not very specific and detailed.  Have a look at <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>  to get more clarity."}],"tags":[],"owner":{"account_id":20767849,"reputation":1,"user_id":15251325,"display_name":"Jennifer Ferrell"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613867685,"creation_date":1613867685,"answer_id":66298019,"question_id":32042187,"body_markdown":"Mine had the same error because of chrome remote desktop. I removed it From my programs and I no longer get the error","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Mine had the same error because of chrome remote desktop. I removed it From my programs and I no longer get the error</p>\n"}],"owner":{"account_id":4481429,"reputation":319,"user_id":3645398,"display_name":"karshitbha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75605,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":10,"score":21,"last_activity_date":1699601367,"creation_date":1439780503,"question_id":32042187,"body_markdown":"Browser opens with the below mentioned line-\r\n\r\n&gt;You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer.\r\n\r\nas well as after few second the browser close and the error is thrown.\r\n\r\nI am facing the above error when i run my code on chrome.\r\n\r\nI am using chrome version - 44.0.2403.155 and latest selenium jars.\r\n\r\nCan anybody help me out?","title":"Chrome Error: You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer","body":"<p>Browser opens with the below mentioned line-</p>\n\n<blockquote>\n  <p>You are using an unsupported command-line flag: --ignore-certifcate-errors. Stability and security will suffer.</p>\n</blockquote>\n\n<p>as well as after few second the browser close and the error is thrown.</p>\n\n<p>I am facing the above error when i run my code on chrome.</p>\n\n<p>I am using chrome version - 44.0.2403.155 and latest selenium jars.</p>\n\n<p>Can anybody help me out?</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1573593954,"post_id":58826876,"comment_id":103930351,"body_markdown":"`When I annotate it with @NonNull, An entity must have at least 1 field annotated with @PrimaryKey` Did you annotate it with __both__ or just `@NonNull`?","body":"<code>When I annotate it with @NonNull, An entity must have at least 1 field annotated with @PrimaryKey</code> Did you annotate it with <b>both</b> or just <code>@NonNull</code>?"},{"owner":{"account_id":13796972,"reputation":313,"user_id":9957948,"display_name":"microflakes"},"score":0,"creation_date":1573594085,"post_id":58826876,"comment_id":103930402,"body_markdown":"The latter is with both.  I tired changing the order too","body":"The latter is with both.  I tired changing the order too"},{"owner":{"account_id":7631591,"reputation":162,"user_id":5786477,"display_name":"Tiberiu Zulean"},"score":0,"creation_date":1573595117,"post_id":58826876,"comment_id":103930785,"body_markdown":"And make sure you import the correct NonNull package: `import android.support.annotation.NonNull;`","body":"And make sure you import the correct NonNull package: <code>import android.support.annotation.NonNull;</code>"},{"owner":{"account_id":13796972,"reputation":313,"user_id":9957948,"display_name":"microflakes"},"score":0,"creation_date":1573595318,"post_id":58826876,"comment_id":103930845,"body_markdown":"Yes, sorry for the sloppy code paste, all are present.  OP edited","body":"Yes, sorry for the sloppy code paste, all are present.  OP edited"},{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1573597069,"post_id":58826876,"comment_id":103931422,"body_markdown":"I have tried out what you did and I did not get any compile or build errors. The problem is elsewhere and not with the annotations. Also, I used the AndroidX annotations and **NOT** the support annotations","body":"I have tried out what you did and I did not get any compile or build errors. The problem is elsewhere and not with the annotations. Also, I used the AndroidX annotations and <b>NOT</b> the support annotations"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1573635433,"post_id":58826876,"comment_id":103942055,"body_markdown":"Do you have the latest libraries? as per Shankha507 works fine (and also tried swapping position of @NonNull in relation to @PrimaryKey). I&#39;m using     `implementation &#39;androidx.room:room-runtime:2.2.1&#39;` and \n    `annotationProcessor &#39;androidx.room:room-compiler:2.2.1&#39;`. I did come accross what appeared to be the same issue with earlier libraries.","body":"Do you have the latest libraries? as per Shankha507 works fine (and also tried swapping position of @NonNull in relation to @PrimaryKey). I&#39;m using     <code>implementation &#39;androidx.room:room-runtime:2.2.1&#39;</code> and      <code>annotationProcessor &#39;androidx.room:room-compiler:2.2.1&#39;</code>. I did come accross what appeared to be the same issue with earlier libraries."}],"answers":[{"comments":[{"owner":{"account_id":13796972,"reputation":313,"user_id":9957948,"display_name":"microflakes"},"score":0,"creation_date":1573596192,"post_id":58827330,"comment_id":103931114,"body_markdown":":( still getting the second error about atleast 1 primary key","body":":( still getting the second error about atleast 1 primary key"},{"owner":{"account_id":7631591,"reputation":162,"user_id":5786477,"display_name":"Tiberiu Zulean"},"score":1,"creation_date":1573596350,"post_id":58827330,"comment_id":103931172,"body_markdown":"Also make sure that you try the other import package for NonNull mentioned in my comment to OP: `import android.support.annotation.NonNull`","body":"Also make sure that you try the other import package for NonNull mentioned in my comment to OP: <code>import android.support.annotation.NonNull</code>"}],"tags":[],"owner":{"account_id":7631591,"reputation":162,"user_id":5786477,"display_name":"Tiberiu Zulean"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573596044,"creation_date":1573596044,"answer_id":58827330,"question_id":58826876,"body_markdown":"You can try binding the primary key with the Entity like this:\r\n\r\n \r\n\r\n    @Entity(tableName = &quot;player_profiles&quot;,\r\n            primaryKeys = { &quot;uidString&quot; })\r\n\r\nAfter that annotate your primary key with `@NonNull` in the class below.\r\n\r\n    @NonNull\r\n    public String uidString = UUID.randomUUID().toString();","title":"You must annotate primary keys with @NonNull?","body":"<p>You can try binding the primary key with the Entity like this:</p>\n\n<pre><code>@Entity(tableName = \"player_profiles\",\n        primaryKeys = { \"uidString\" })\n</code></pre>\n\n<p>After that annotate your primary key with <code>@NonNull</code> in the class below.</p>\n\n<pre><code>@NonNull\npublic String uidString = UUID.randomUUID().toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3220588,"reputation":666,"user_id":4645883,"display_name":"Pranav"},"score":0,"creation_date":1659732907,"post_id":58827360,"comment_id":129373112,"body_markdown":"Thanks! For some reason `androidx.annotation.NonNull` does not work.","body":"Thanks! For some reason <code>androidx.annotation.NonNull</code> does not work."}],"tags":[],"owner":{"account_id":11976783,"reputation":190,"user_id":8763679,"display_name":"otto"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1573596651,"creation_date":1573596194,"answer_id":58827360,"question_id":58826876,"body_markdown":"For Java you should annotate with `@android.support.annotation.NonNull`\n\nDelete the other NonNull import you are using yet and change it to\n\n    import android.support.annotation.NonNull;\n\n\nThen use both annotations\n\n    @PrimaryKey\n    @NonNull\n\n","title":"You must annotate primary keys with @NonNull?","body":"<p>For Java you should annotate with <code>@android.support.annotation.NonNull</code></p>\n\n<p>Delete the other NonNull import you are using yet and change it to</p>\n\n<pre><code>import android.support.annotation.NonNull;\n</code></pre>\n\n<p>Then use both annotations</p>\n\n<pre><code>@PrimaryKey\n@NonNull\n</code></pre>\n"},{"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1587664435,"post_id":61385138,"comment_id":108607643,"body_markdown":"That is, in fact, what the text in the question says.","body":"That is, in fact, what the text in the question says."}],"tags":[],"owner":{"account_id":16660658,"reputation":1,"user_id":12040690,"display_name":"nitin gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587638239,"creation_date":1587638239,"answer_id":61385138,"question_id":58826876,"body_markdown":"check the case sensitiveness it should be &quot;@NonNull&quot; and not &quot;@Nonnull&quot;\r\nimport androidx.annotation.NonNull;","title":"You must annotate primary keys with @NonNull?","body":"<p>check the case sensitiveness it should be \"@NonNull\" and not \"@Nonnull\"\nimport androidx.annotation.NonNull;</p>\n"},{"comments":[{"owner":{"account_id":2574017,"reputation":4150,"user_id":2232127,"accept_rate":100,"display_name":"JensV"},"score":0,"creation_date":1606404926,"post_id":65024995,"comment_id":114959026,"body_markdown":"If you are writing kotlin you shouldn&#39;t need `@NonNull` provided you use the non-nullable type","body":"If you are writing kotlin you shouldn&#39;t need <code>@NonNull</code> provided you use the non-nullable type"}],"tags":[],"owner":{"account_id":6850466,"reputation":63,"user_id":5267791,"display_name":"John Owuor"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606404723,"creation_date":1606404723,"answer_id":65024995,"question_id":58826876,"body_markdown":"In my case I had:\r\n\r\n```\r\n@PrimaryKey @NonNull var reasonId: String? = Constants.EMPTY_STRING, \r\n\r\n```\r\ninstead of:\r\n```\r\n@PrimaryKey @NonNull var reasonId: String = Constants.EMPTY_STRING, \r\n\r\n```\r\n\r\n","title":"You must annotate primary keys with @NonNull?","body":"<p>In my case I had:</p>\n<pre><code>@PrimaryKey @NonNull var reasonId: String? = Constants.EMPTY_STRING, \n\n</code></pre>\n<p>instead of:</p>\n<pre><code>@PrimaryKey @NonNull var reasonId: String = Constants.EMPTY_STRING, \n\n</code></pre>\n"}],"owner":{"account_id":13796972,"reputation":313,"user_id":9957948,"display_name":"microflakes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6559,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1699601243,"creation_date":1573593768,"question_id":58826876,"body_markdown":"I&#39;m getting this error on this piece of code. ```You must annotate primary keys with @NonNull. &quot;uidString&quot; is nullable. ```  When I annotate it with @NonNull and @PrimaryKey, ```An entity must have at least 1 field annotated with @PrimaryKey```\r\n\r\nWhat&#39;s up?\r\n\r\n```\r\nimport androidx.annotation.NonNull;\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.PrimaryKey;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity(tableName = &quot;player_profiles&quot;)\r\npublic class PlayerGameProfile implements Parcelable {\r\n\r\n    @PrimaryKey\r\n    public String uidString = UUID.randomUUID().toString();\r\n\r\n    @ColumnInfo(name = &quot;name&quot;)\r\n    public String name;\r\n\r\n```","title":"You must annotate primary keys with @NonNull?","body":"<p>I'm getting this error on this piece of code. <code>You must annotate primary keys with @NonNull. \"uidString\" is nullable.</code>  When I annotate it with @NonNull and @PrimaryKey, <code>An entity must have at least 1 field annotated with @PrimaryKey</code></p>\n\n<p>What's up?</p>\n\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.room.ColumnInfo;\nimport androidx.room.Entity;\nimport androidx.room.PrimaryKey;\n\nimport java.util.UUID;\n\n@Entity(tableName = \"player_profiles\")\npublic class PlayerGameProfile implements Parcelable {\n\n    @PrimaryKey\n    public String uidString = UUID.randomUUID().toString();\n\n    @ColumnInfo(name = \"name\")\n    public String name;\n\n</code></pre>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1400080019,"post_id":23658239,"comment_id":36338978,"body_markdown":"Are you sure you want to access the DB from an applet? An applet runs in the browser. I doubt that the browser of your users are running on the same machine as your db server.","body":"Are you sure you want to access the DB from an applet? An applet runs in the browser. I doubt that the browser of your users are running on the same machine as your db server."},{"owner":{"account_id":4036829,"reputation":1301,"user_id":3320956,"accept_rate":59,"display_name":"strange_098"},"score":0,"creation_date":1400080493,"post_id":23658239,"comment_id":36339328,"body_markdown":"Thanks for reply.Yes, i&#39;m sure. My application will be run on a server. But i dont no how do the conection :S","body":"Thanks for reply.Yes, i&#39;m sure. My application will be run on a server. But i dont no how do the conection :S"},{"owner":{"account_id":15081,"reputation":4269,"user_id":31493,"accept_rate":38,"display_name":"Daniel Serodio"},"score":0,"creation_date":1400089353,"post_id":23658239,"comment_id":36345173,"body_markdown":"@user3320956 like jdiver said, applets don&#39;t run on the server, they run on the (client) user&#39;s computer","body":"@user3320956 like jdiver said, applets don&#39;t run on the server, they run on the (client) user&#39;s computer"},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1400137914,"post_id":23658239,"comment_id":36364217,"body_markdown":"Do you have a java *applet* or an *application*? This are completely different things.","body":"Do you have a java <i>applet</i> or an <i>application</i>? This are completely different things."},{"owner":{"account_id":4036829,"reputation":1301,"user_id":3320956,"accept_rate":59,"display_name":"strange_098"},"score":0,"creation_date":1400139961,"post_id":23658239,"comment_id":36365442,"body_markdown":"I have an application :S","body":"I have an application :S"}],"answers":[{"tags":[],"owner":{"account_id":4176518,"reputation":2268,"user_id":3422892,"display_name":"jdiver"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400088498,"creation_date":1400079790,"answer_id":23658417,"question_id":23658239,"body_markdown":"First of all you will need JDBC drivers for MS SQL Server. Either from [Microsoft][1] or there are other options like [jTDS][2].\r\n\r\n\r\nThen you should use a connection string like `jdbc:sqlserver://ServerName:Port;databaseName=;user=username;password=password;`\r\n\r\nOf course your SQL Server should be in mixed mode so you can connect with username and password created on server.\r\n\r\nApplets run on users&#39; computer, therefore you should open your SQL Server ports to all visitors which is a BAD idea.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/sqlserver/aa937724.aspx\r\n  [2]: http://jtds.sourceforge.net/","title":"How to connect Java to Microsoft SQL server","body":"<p>First of all you will need JDBC drivers for MS SQL Server. Either from <a href=\"http://msdn.microsoft.com/en-us/sqlserver/aa937724.aspx\" rel=\"nofollow\">Microsoft</a> or there are other options like <a href=\"http://jtds.sourceforge.net/\" rel=\"nofollow\">jTDS</a>.</p>\n\n<p>Then you should use a connection string like <code>jdbc:sqlserver://ServerName:Port;databaseName=;user=username;password=password;</code></p>\n\n<p>Of course your SQL Server should be in mixed mode so you can connect with username and password created on server.</p>\n\n<p>Applets run on users' computer, therefore you should open your SQL Server ports to all visitors which is a BAD idea.</p>\n"},{"tags":[],"owner":{"account_id":2301105,"reputation":164,"user_id":2021389,"accept_rate":30,"display_name":"Dharmraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400088886,"creation_date":1400088886,"answer_id":23661397,"question_id":23658239,"body_markdown":"    Make database URL like :\r\n    \r\n    jdbc:mysql://IP address:DatabasePort/DatabaseName,username, password   \r\n      \r\n    public class Connection {\r\n    \r\n    public static Connection getConexao()throws SQLException{\r\n        try{\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            return DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/world&quot;,&quot;root&quot;, &quot;rootadmin&quot;);\r\n    \r\n        }catch(ClassNotFoundException e) {\r\n            throw new SQLException(e.getMessage());\r\n        }\r\n    }\r\n    \r\n    }","title":"How to connect Java to Microsoft SQL server","body":"<pre><code>Make database URL like :\n\njdbc:mysql://IP address:DatabasePort/DatabaseName,username, password   \n\npublic class Connection {\n\npublic static Connection getConexao()throws SQLException{\n    try{\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        return DriverManager.getConnection(\"jdbc:mysql://127.0.0.1:3306/world\",\"root\", \"rootadmin\");\n\n    }catch(ClassNotFoundException e) {\n        throw new SQLException(e.getMessage());\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4737708,"reputation":3079,"user_id":3831571,"accept_rate":100,"display_name":"Fevly Pallar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699601236,"creation_date":1600803296,"answer_id":64016592,"question_id":23658239,"body_markdown":"This answer is presented for next visitors on this kind of question. Configuring the java driver connection for *SQL Server* can\r\nbe quite confusing for new users. I&#39;ll guide you here through *SQL Server Management Studio (SSMS)*:\r\n\r\nThere&#39;re 2 kinds of authentification accepted on SQL Server. They are *Windows* &amp; *SQL Server* authentification.\r\nIn this answer I&#39;ll active &quot;***sa***&quot; (syst. administrator) account for quick setup demonstration over the connection.\r\n\r\n\r\n***To enable the &quot;***sa***&quot; account*** (you can skip this if it had already been there):\r\n- Login as usual using default window authentification mode\r\n- Right click on the server name (i.e *MYCOMPUTER223\\SQLEXPRESS*) &gt; *Security* &gt; go enable the *SQL Server &amp; Window authentification mode* &gt; *ok*\r\n-  On the left tree menu, click *Security* &gt; *Logins* &gt; right click that &quot;*sa*&quot; &gt; *Properties* &gt; set up your &quot;*password*&quot;  for this &quot;*sa*&quot; account\r\n- and then on the left menu there is the &quot;*Status*&quot;&gt; enable the &quot;*Login:*&quot;\r\n- restart the SQL Server service\r\n- now login as &quot;*sa*&quot; through &quot;*SQL Server authentification mode*&quot; on the SMSS . Using the password we&#39;ve just set up.\r\n\r\n**Enable the TCP/IP for the conn. instance** (this is by default is disabled particularly on sql express editions):\r\n\r\n- Open &quot;Sql Server Configuration Manager&quot;. This is installed along the installation of SQL Server engine.\r\n- &quot;*SQL Server Network Configuration*&quot; &gt; &quot;*Protocol for SQLExpress*&quot; &gt; enable the &quot;*TCP/IP*&quot;\r\n-  right click that &quot;*TCP/IP*&quot; &gt; &quot;*IP Address*&quot; &gt; scroll down till you find &quot;*IPAll*&quot; and then just fill the &quot;*port*&quot; field with *1433*\r\n\r\n\r\nYou can now use this credential for the SMSS:\r\n\r\n \r\n\r\n    username\t   : sa\r\n     password      : ...the password you&#39;ve just set up above..\r\n\r\nOr you can now use this credential on your external java based clients/data or *BI* tools/sql management tools such as *Pentaho*, *Heidi SQL*, *DB Weaver* or any particular java framework conn. manager descriptor, etc. :\r\n\r\n    hostname      : localhost (or any custome host domains)\r\n    database name : your database name..\r\n    instance name : i.e SQLEXPRESS (this can be found through the SMSS, right click the server name &gt; view connection properties)\r\n    port          : 1433\r\n    username\t  : sa\r\n    password      : ...the password you&#39;ve just set up above..\r\n\t\r\nor via url/uri for the Java connection manager/factory:\r\n\t\r\n        String Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=Yourdatabasename;user=sa;password=yourSApassword&quot;;\r\n    \r\n    public Connection createConnection() throws NoSuchAlgorithmException {   \t\r\n    \t\tSystem.out.println(&quot;Creating SQL Server DataBase Connection&quot;);\r\n    \t\tConnection connection = null; \r\n    \t\ttry {  \r\n    \t\t\t// Provide the java database driver\r\n    \t\t\tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);  \r\n    \t\t\t// Provide URL, database and credentials according to your database\r\n    \t\t\t// .getConnection (&quot;url/namadatabase, user, password&quot;)\r\n    \t\t\tString Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=DummyDatabase;user=sa;password=YourSAaccountpassword&quot;;\r\n    \t\t\tconnection = DriverManager.getConnection(Connectionurl);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tif (connection != null) {\r\n    \t\t\tSystem.out.println(&quot;Connection created successfully..&quot;);\r\n    \t\t}\r\n    \t\treturn connection;\r\n    \t}","title":"How to connect Java to Microsoft SQL server","body":"<p>This answer is presented for next visitors on this kind of question. Configuring the java driver connection for <em>SQL Server</em> can\nbe quite confusing for new users. I'll guide you here through <em>SQL Server Management Studio (SSMS)</em>:</p>\n<p>There're 2 kinds of authentification accepted on SQL Server. They are <em>Windows</em> &amp; <em>SQL Server</em> authentification.\nIn this answer I'll active &quot;<em><strong>sa</strong></em>&quot; (syst. administrator) account for quick setup demonstration over the connection.</p>\n<p><em><strong>To enable the &quot;<em><strong>sa</strong></em>&quot; account</strong></em> (you can skip this if it had already been there):</p>\n<ul>\n<li>Login as usual using default window authentification mode</li>\n<li>Right click on the server name (i.e <em>MYCOMPUTER223\\SQLEXPRESS</em>) &gt; <em>Security</em> &gt; go enable the <em>SQL Server &amp; Window authentification mode</em> &gt; <em>ok</em></li>\n<li>On the left tree menu, click <em>Security</em> &gt; <em>Logins</em> &gt; right click that &quot;<em>sa</em>&quot; &gt; <em>Properties</em> &gt; set up your &quot;<em>password</em>&quot;  for this &quot;<em>sa</em>&quot; account</li>\n<li>and then on the left menu there is the &quot;<em>Status</em>&quot;&gt; enable the &quot;<em>Login:</em>&quot;</li>\n<li>restart the SQL Server service</li>\n<li>now login as &quot;<em>sa</em>&quot; through &quot;<em>SQL Server authentification mode</em>&quot; on the SMSS . Using the password we've just set up.</li>\n</ul>\n<p><strong>Enable the TCP/IP for the conn. instance</strong> (this is by default is disabled particularly on sql express editions):</p>\n<ul>\n<li>Open &quot;Sql Server Configuration Manager&quot;. This is installed along the installation of SQL Server engine.</li>\n<li>&quot;<em>SQL Server Network Configuration</em>&quot; &gt; &quot;<em>Protocol for SQLExpress</em>&quot; &gt; enable the &quot;<em>TCP/IP</em>&quot;</li>\n<li>right click that &quot;<em>TCP/IP</em>&quot; &gt; &quot;<em>IP Address</em>&quot; &gt; scroll down till you find &quot;<em>IPAll</em>&quot; and then just fill the &quot;<em>port</em>&quot; field with <em>1433</em></li>\n</ul>\n<p>You can now use this credential for the SMSS:</p>\n<pre><code>username       : sa\n password      : ...the password you've just set up above..\n</code></pre>\n<p>Or you can now use this credential on your external java based clients/data or <em>BI</em> tools/sql management tools such as <em>Pentaho</em>, <em>Heidi SQL</em>, <em>DB Weaver</em> or any particular java framework conn. manager descriptor, etc. :</p>\n<pre><code>hostname      : localhost (or any custome host domains)\ndatabase name : your database name..\ninstance name : i.e SQLEXPRESS (this can be found through the SMSS, right click the server name &gt; view connection properties)\nport          : 1433\nusername      : sa\npassword      : ...the password you've just set up above..\n</code></pre>\n<p>or via url/uri for the Java connection manager/factory:</p>\n<pre><code>    String Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=Yourdatabasename;user=sa;password=yourSApassword&quot;;\n\npublic Connection createConnection() throws NoSuchAlgorithmException {      \n        System.out.println(&quot;Creating SQL Server DataBase Connection&quot;);\n        Connection connection = null; \n        try {  \n            // Provide the java database driver\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);  \n            // Provide URL, database and credentials according to your database\n            // .getConnection (&quot;url/namadatabase, user, password&quot;)\n            String Connectionurl=&quot;jdbc:sqlserver://localhost:1433;DatabaseName=DummyDatabase;user=sa;password=YourSAaccountpassword&quot;;\n            connection = DriverManager.getConnection(Connectionurl);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n        if (connection != null) {\n            System.out.println(&quot;Connection created successfully..&quot;);\n        }\n        return connection;\n    }\n</code></pre>\n"}],"owner":{"account_id":4036829,"reputation":1301,"user_id":3320956,"accept_rate":59,"display_name":"strange_098"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1699601236,"creation_date":1400079340,"question_id":23658239,"body_markdown":"I made a Java application to connect to a MySQL database. \r\nThe connection was made ​​in this way: \r\n\r\n\r\n    public class Connection {\r\n        \r\n        public static Connection getConexao() throws SQLException {\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                //System.out.println(&quot;Conectado&quot;);\r\n                return DriverManager.getConnection(&quot;jdbc:mysql://localhost/world&quot;,&quot;root&quot;, &quot;rootadmin&quot;);\r\n            } catch (ClassNotFoundException e) {\r\n                throw new SQLException(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nNow I needed to change the connection from MySQL to *Microsoft SQL Server 2012*. \r\n\r\nCan anyone  help me change the connection to the database? \r\n\r\nThank you all very much. ","title":"How to connect Java to Microsoft SQL server","body":"<p>I made a Java application to connect to a MySQL database. \nThe connection was made ​​in this way: </p>\n\n<pre><code>public class Connection {\n\n    public static Connection getConexao() throws SQLException {\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            //System.out.println(\"Conectado\");\n            return DriverManager.getConnection(\"jdbc:mysql://localhost/world\",\"root\", \"rootadmin\");\n        } catch (ClassNotFoundException e) {\n            throw new SQLException(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>Now I needed to change the connection from MySQL to <em>Microsoft SQL Server 2012</em>. </p>\n\n<p>Can anyone  help me change the connection to the database? </p>\n\n<p>Thank you all very much. </p>\n"},{"tags":["java","https","get","access-token","http-status-code-401"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1564006199,"post_id":57191786,"comment_id":100893226,"body_markdown":"Please post the `curl` command that worked.","body":"Please post the <code>curl</code> command that worked."},{"owner":{"account_id":15971143,"reputation":79,"user_id":11525251,"display_name":"Xfactor"},"score":0,"creation_date":1564006528,"post_id":57191786,"comment_id":100893322,"body_markdown":"@KarolDowbecki  this was the command  curl -H &quot;X-Risk-Token: &lt;token&gt;&quot; &quot;https://api.security/vulnerabilities/100&quot; -X GET","body":"@KarolDowbecki  this was the command  curl -H &quot;X-Risk-Token: &lt;token&gt;&quot; &quot;<a href=\"https://api.security/vulnerabilities/100\" rel=\"nofollow noreferrer\">api.security/vulnerabilities/100</a>&quot; -X GET"}],"answers":[{"comments":[{"owner":{"account_id":15971143,"reputation":79,"user_id":11525251,"display_name":"Xfactor"},"score":0,"creation_date":1564026582,"post_id":57191829,"comment_id":100896812,"body_markdown":"Thank you for your response but now I am also getting a 500 response {&quot;error&quot;:&quot;Internal Server Error&quot;}  is this error happening because of my code? or that there are issues going on with the server?","body":"Thank you for your response but now I am also getting a 500 response {&quot;error&quot;:&quot;Internal Server Error&quot;}  is this error happening because of my code? or that there are issues going on with the server?"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1564045002,"post_id":57191829,"comment_id":100904460,"body_markdown":"You must debug this on the server, there is not enough details in the server response.","body":"You must debug this on the server, there is not enough details in the server response."}],"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564006844,"creation_date":1564005839,"answer_id":57191829,"question_id":57191786,"body_markdown":"You are setting the `X-Risk-Token` header in your `curl` command. In Java you need to do the same:\r\n\r\n```\r\nconnection.setRequestProperty(&quot;X-Risk-Token&quot;, access_token); \r\n```","title":"How to fix an &quot;401 Unauthorized. No Api Key provided&quot;","body":"<p>You are setting the <code>X-Risk-Token</code> header in your <code>curl</code> command. In Java you need to do the same:</p>\n\n<pre><code>connection.setRequestProperty(\"X-Risk-Token\", access_token); \n</code></pre>\n"}],"owner":{"account_id":15971143,"reputation":79,"user_id":11525251,"display_name":"Xfactor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699601121,"creation_date":1564005602,"question_id":57191786,"body_markdown":"I&#39;m trying to pull data using api in java. When doing so, the  api returns 401: Unauthorized.  I&#39;m currently registered as an admin user and I&#39;m using an api key as a token. I&#39;ve also tried using declaring my token and using a setRequestProperty(&quot;Authorization&quot;, &quot;token&quot;, + access-token). Do you know what I might be doing wrong?\r\n\r\n I&#39;ve also tried using cURL and the UI to similar effect. and I have gotten back the output I expected but in java it is an authentication issue\r\n\r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t//build each line and have a response to it \r\n    \t\tBufferedReader reader;\r\n    \t\tString access_token = &quot;abcde123 &quot;; \r\n    \t\tString line;\r\n    \t\tStringBuffer responseContentReader = new StringBuffer();\r\n    try {\r\n    \t//URL url =  new URL(&quot;https://testurl.com&quot;);\r\n    \t\r\n    \tconnection = (HttpsURLConnection) url.openConnection();\r\n    \t\r\n    \tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Token&quot; + access_token);\r\n    \t\r\n    \t\r\n    \t//here we should be able to &quot;request&quot; our setup\r\n    \t//Here will be the method I will use \r\n    \tconnection.setRequestMethod(&quot;GET&quot;);\r\n    \t\r\n    \t\r\n    \t//after 5 sec if the connection is not successful time it out\r\n    \tconnection.setConnectTimeout(7000);\r\n    \tconnection.setReadTimeout(7000);\r\n    \t\r\n    \tint status = connection.getResponseCode();\r\n    \t//System.out.println(status); //here the connect was established  output was 200 (OK)\r\n    \t\r\n    \t//here we are dealing with the connection isnt succesful\r\n    \tif (status &gt;299) {\r\n    \t\treader = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\r\n    \t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\tresponseContentReader.append(&quot; &quot;);\r\n    \t\t\tresponseContentReader.append(line);\r\n    \t\t\tresponseContentReader.append(&quot;\\n&quot;);\r\n    \t\t}\r\n    \t\treader.close();\r\n    \t//returns what is successful\t\r\n    \t}else {\r\n    \t\treader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n    \t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\tresponseContentReader.append(&quot; &quot;);\r\n    \t\t\tresponseContentReader.append(line);\r\n    \t\t\tresponseContentReader.append(&quot;\\n&quot;);\r\n    \t\t}\r\n    \t\treader.close();\r\n    \t}\r\n    \tSystem.out.println(responseContentReader.toString());\r\n    } catch (MalformedURLException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }catch (IOException e) {\r\n    \t// TODO: handle exception\r\n    \te.printStackTrace();\r\n    }finally {\r\n    \tconnection.disconnect();\r\n    }\r\n    \t}\r\n    \r\n    }\r\n\r\nthe output I get from the console is\r\n\r\n    {&quot;success&quot;:&quot;false&quot;,&quot;error&quot;:&quot;unauthorized&quot;,&quot;message&quot;:&quot;401 Unauthorized. No API key provided.&quot;}\r\n\r\n","title":"How to fix an &quot;401 Unauthorized. No Api Key provided&quot;","body":"<p>I'm trying to pull data using api in java. When doing so, the  api returns 401: Unauthorized.  I'm currently registered as an admin user and I'm using an api key as a token. I've also tried using declaring my token and using a setRequestProperty(\"Authorization\", \"token\", + access-token). Do you know what I might be doing wrong?</p>\n\n<p>I've also tried using cURL and the UI to similar effect. and I have gotten back the output I expected but in java it is an authentication issue</p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        //build each line and have a response to it \n        BufferedReader reader;\n        String access_token = \"abcde123 \"; \n        String line;\n        StringBuffer responseContentReader = new StringBuffer();\ntry {\n    //URL url =  new URL(\"https://testurl.com\");\n\n    connection = (HttpsURLConnection) url.openConnection();\n\n    connection.setRequestProperty(\"Authorization\", \"Token\" + access_token);\n\n\n    //here we should be able to \"request\" our setup\n    //Here will be the method I will use \n    connection.setRequestMethod(\"GET\");\n\n\n    //after 5 sec if the connection is not successful time it out\n    connection.setConnectTimeout(7000);\n    connection.setReadTimeout(7000);\n\n    int status = connection.getResponseCode();\n    //System.out.println(status); //here the connect was established  output was 200 (OK)\n\n    //here we are dealing with the connection isnt succesful\n    if (status &gt;299) {\n        reader = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\n        while ((line = reader.readLine()) != null) {\n            responseContentReader.append(\" \");\n            responseContentReader.append(line);\n            responseContentReader.append(\"\\n\");\n        }\n        reader.close();\n    //returns what is successful    \n    }else {\n        reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        while ((line = reader.readLine()) != null) {\n            responseContentReader.append(\" \");\n            responseContentReader.append(line);\n            responseContentReader.append(\"\\n\");\n        }\n        reader.close();\n    }\n    System.out.println(responseContentReader.toString());\n} catch (MalformedURLException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}catch (IOException e) {\n    // TODO: handle exception\n    e.printStackTrace();\n}finally {\n    connection.disconnect();\n}\n    }\n\n}\n</code></pre>\n\n<p>the output I get from the console is</p>\n\n<pre><code>{\"success\":\"false\",\"error\":\"unauthorized\",\"message\":\"401 Unauthorized. No API key provided.\"}\n</code></pre>\n"},{"tags":["python","java","encryption","aes"],"comments":[{"owner":{"account_id":7414063,"reputation":1403,"user_id":5640517,"display_name":"Daviid"},"score":1,"creation_date":1699366657,"post_id":77438917,"comment_id":136520723,"body_markdown":"`key = Arrays.copyOf(key, 32);` is probably returning an array with empty elements to reach the 32 newLength, while in python `key = key[:16]` does not return a string of length 16","body":"<code>key = Arrays.copyOf(key, 32);</code> is probably returning an array with empty elements to reach the 32 newLength, while in python <code>key = key[:16]</code> does not return a string of length 16"},{"owner":{"account_id":7414063,"reputation":1403,"user_id":5640517,"display_name":"Daviid"},"score":0,"creation_date":1699366696,"post_id":77438917,"comment_id":136520731,"body_markdown":"If you print or log the variables each step on both codes you should be able to see at what point they diverge","body":"If you print or log the variables each step on both codes you should be able to see at what point they diverge"}],"answers":[{"comments":[{"owner":{"account_id":29846778,"reputation":3,"user_id":22873692,"display_name":"Shubham"},"score":0,"creation_date":1699419515,"post_id":77439343,"comment_id":136527750,"body_markdown":"Hi Daviid,  Really appreciate the insights but I can not change the Java code. I think I got the gist of it. Thanks.","body":"Hi Daviid,  Really appreciate the insights but I can not change the Java code. I think I got the gist of it. Thanks."},{"owner":{"account_id":7414063,"reputation":1403,"user_id":5640517,"display_name":"Daviid"},"score":0,"creation_date":1699600289,"post_id":77439343,"comment_id":136554903,"body_markdown":"@Shubham a bit late but if you can modify the python code the easiest way to  achieve the same result as the java code is to also add padding to reach the 32 bytes it uses as the key, add this `key = key.ljust(32, b&#39;\\0&#39;)` which will add the byte 0 to the right of the key until it&#39;s 32 bytes long.","body":"@Shubham a bit late but if you can modify the python code the easiest way to  achieve the same result as the java code is to also add padding to reach the 32 bytes it uses as the key, add this <code>key = key.ljust(32, b&#39;\\0&#39;)</code> which will add the byte 0 to the right of the key until it&#39;s 32 bytes long."}],"tags":[],"owner":{"account_id":7414063,"reputation":1403,"user_id":5640517,"display_name":"Daviid"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699600456,"creation_date":1699369737,"answer_id":77439343,"question_id":77438917,"body_markdown":"Must be the appended zeroes in `key = Arrays.copyOf(key, 32);`\r\n\r\n```\r\nPython Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\r\nPython SHA-1 Digest (key): [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\r\nPython AES Key: [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\r\n\r\nPython Encrypted Data: [142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240]\r\n\r\n\r\n\r\n// With key = Arrays.copyOf(key, 32);\r\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\r\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \r\nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \r\nJava Encrypted Bytes: [-45, 23, -53, 108, -52, 115, 46, -99, 1, -42, -3, 116, -114, 12, -110, 50, -29, -20, 54, 126, -8, 59, 14, 121, -57, 100, 122, 25, 76, -104, -11, 113]\r\n\r\n\r\n\r\n// With key = Arrays.copyOf(key, 16);\r\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\r\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\r\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \r\nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\r\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \r\nJava Encrypted Bytes: [-114, 23, -48, 32, 16, 116, -68, 87, -98, -83, -6, 117, 45, -40, 89, -64, -123, -65, 6, 62, -107, 94, -61, -14, -13, -122, 22, -111, -56, -68, -96, -16]\r\nJava Encrypted Bytes (unsigned): 142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240, \r\nEncrypted Text: jhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\r\n\r\n```\r\n\r\n\r\n\r\nSince you can only modify the python code you need to pad the key up to 32 bytes like in the Java code:\r\n\r\n```\r\n\r\ndef encrypt(str_to_encrypt, my_key):\r\n    try:\r\n        sha = hashlib.sha1()\r\n        sha.update(my_key.encode(&#39;utf-8&#39;))\r\n        key = sha.digest()\r\n        key = key.ljust(32, b&#39;\\0&#39;)\r\n        cipher = AES.new(key, AES.MODE_ECB)\r\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\r\n        padded_data = pad(byte_array, AES.block_size)\r\n        encrypted_data = cipher.encrypt(padded_data)\r\n        return base64.b64encode(encrypted_data).decode(&#39;utf-8&#39;)\r\n    except Exception as e:\r\n        raise e\r\n```\r\n\r\nWith `key = key.ljust(32, b&#39;\\0&#39;)` added we obtain the same output as the Java code `0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=`","title":"AES/ECB/PKCS5Padding Encryption Different Result in Java And Python","body":"<p>Must be the appended zeroes in <code>key = Arrays.copyOf(key, 32);</code></p>\n<pre><code>Python Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\nPython SHA-1 Digest (key): [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\nPython AES Key: [170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234]\n\nPython Encrypted Data: [142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240]\n\n\n\n// With key = Arrays.copyOf(key, 32);\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22, 55, 38, 25, -70, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, 55, 38, 25, 186, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \nJava Encrypted Bytes: [-45, 23, -53, 108, -52, 115, 46, -99, 1, -42, -3, 116, -114, 12, -110, 50, -29, -20, 54, 126, -8, 59, 14, 121, -57, 100, 122, 25, 76, -104, -11, 113]\n\n\n\n// With key = Arrays.copyOf(key, 16);\nJava Original Key: [109, 121, 83, 101, 99, 114, 101, 116, 75, 101, 121]\nJava SHA-1 Digest: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\nJava SHA-1 Digest (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \nJava Secret Key: [-86, -13, -106, 73, -104, 47, -83, 4, -91, 19, 82, -113, -56, -28, 115, -22]\nJava Secret Key (unsigned): 170, 243, 150, 73, 152, 47, 173, 4, 165, 19, 82, 143, 200, 228, 115, 234, \nJava Encrypted Bytes: [-114, 23, -48, 32, 16, 116, -68, 87, -98, -83, -6, 117, 45, -40, 89, -64, -123, -65, 6, 62, -107, 94, -61, -14, -13, -122, 22, -111, -56, -68, -96, -16]\nJava Encrypted Bytes (unsigned): 142, 23, 208, 32, 16, 116, 188, 87, 158, 173, 250, 117, 45, 216, 89, 192, 133, 191, 6, 62, 149, 94, 195, 242, 243, 134, 22, 145, 200, 188, 160, 240, \nEncrypted Text: jhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\n\n</code></pre>\n<p>Since you can only modify the python code you need to pad the key up to 32 bytes like in the Java code:</p>\n<pre><code>\ndef encrypt(str_to_encrypt, my_key):\n    try:\n        sha = hashlib.sha1()\n        sha.update(my_key.encode('utf-8'))\n        key = sha.digest()\n        key = key.ljust(32, b'\\0')\n        cipher = AES.new(key, AES.MODE_ECB)\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\n        padded_data = pad(byte_array, AES.block_size)\n        encrypted_data = cipher.encrypt(padded_data)\n        return base64.b64encode(encrypted_data).decode('utf-8')\n    except Exception as e:\n        raise e\n</code></pre>\n<p>With <code>key = key.ljust(32, b'\\0')</code> added we obtain the same output as the Java code <code>0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=</code></p>\n"}],"owner":{"account_id":29846778,"reputation":3,"user_id":22873692,"display_name":"Shubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77439343,"answer_count":1,"score":0,"last_activity_date":1699600456,"creation_date":1699366389,"question_id":77438917,"body_markdown":"Similar to this Java AES encryption code, I&#39;m encrypting my data in python, however the results are different.\r\nI gave this some serious days. Would be very grateful for assistance here.\r\n\r\n\r\n\r\nJava\r\n\r\n```\r\npublic String encrypt(String strToEncrypt, String myKey) throws Exception {\r\n        try\r\n        {\r\n            MessageDigest sha = null;\r\n            byte[] key = myKey.getBytes(&quot;UTF-8&quot;);\r\n            sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n            key = sha.digest(key);\r\n            key = Arrays.copyOf(key, 32);\r\n            SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n        } \r\n```\r\n\r\nPython\r\n\r\n```\r\nimport base64\r\nimport hashlib\r\nfrom Crypto.Cipher import AES\r\n\r\ndef encrypt(str_to_encrypt, my_key):\r\n    try:\r\n        sha = hashlib.sha1()\r\n        sha.update(my_key.encode(&#39;utf-8&#39;))\r\n        key = sha.digest()\r\n        key = key[:16]  # AES-128\r\n        cipher = AES.new(key, AES.MODE_ECB)\r\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\r\n        padded_data = pad(byte_array, AES.block_size)\r\n        encrypted_data = cipher.encrypt(padded_data)\r\n        return base64.b64encode(encrypted_data).decode(&#39;utf-8&#39;)\r\n    except Exception as e:\r\n        raise e\r\n\r\ndef pad(byte_array: bytearray, block_size: int):\r\n    pad_len = block_size - len(byte_array) % block_size\r\n    return byte_array + (bytes([pad_len]) * pad_len)\r\n\r\n\r\n# Example usage:\r\nmy_key = &quot;mySecretKey&quot;\r\nstr_to_encrypt = &quot;This is the string to encrypt&quot;\r\nencrypted_string = encrypt(str_to_encrypt, my_key)\r\nprint(encrypted_string)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\njava result\r\n\r\n```\r\n0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=\r\n```\r\n\r\npython result\r\n\r\n```\r\njhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\r\n```","title":"AES/ECB/PKCS5Padding Encryption Different Result in Java And Python","body":"<p>Similar to this Java AES encryption code, I'm encrypting my data in python, however the results are different.\nI gave this some serious days. Would be very grateful for assistance here.</p>\n<p>Java</p>\n<pre><code>public String encrypt(String strToEncrypt, String myKey) throws Exception {\n        try\n        {\n            MessageDigest sha = null;\n            byte[] key = myKey.getBytes(&quot;UTF-8&quot;);\n            sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n            key = sha.digest(key);\n            key = Arrays.copyOf(key, 32);\n            SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n            Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n        } \n</code></pre>\n<p>Python</p>\n<pre><code>import base64\nimport hashlib\nfrom Crypto.Cipher import AES\n\ndef encrypt(str_to_encrypt, my_key):\n    try:\n        sha = hashlib.sha1()\n        sha.update(my_key.encode('utf-8'))\n        key = sha.digest()\n        key = key[:16]  # AES-128\n        cipher = AES.new(key, AES.MODE_ECB)\n        byte_array = str_to_encrypt.encode(&quot;UTF-8&quot;)\n        padded_data = pad(byte_array, AES.block_size)\n        encrypted_data = cipher.encrypt(padded_data)\n        return base64.b64encode(encrypted_data).decode('utf-8')\n    except Exception as e:\n        raise e\n\ndef pad(byte_array: bytearray, block_size: int):\n    pad_len = block_size - len(byte_array) % block_size\n    return byte_array + (bytes([pad_len]) * pad_len)\n\n\n# Example usage:\nmy_key = &quot;mySecretKey&quot;\nstr_to_encrypt = &quot;This is the string to encrypt&quot;\nencrypted_string = encrypt(str_to_encrypt, my_key)\nprint(encrypted_string)\n</code></pre>\n<p>java result</p>\n<pre><code>0xfLbMxzLp0B1v10jgySMuPsNn74Ow55x2R6GUyY9XE=\n</code></pre>\n<p>python result</p>\n<pre><code>jhfQIBB0vFeerfp1LdhZwIW/Bj6VXsPy84YWkci8oPA=\n</code></pre>\n"},{"tags":["java","jvm-arguments"],"comments":[{"owner":{"account_id":311679,"reputation":89831,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"score":1,"creation_date":1699596493,"post_id":77456899,"comment_id":136554535,"body_markdown":"(1) It&#39;s not a Clojure issue if you can&#39;t even get the JVM to start; (2) Are you using the same JVM as the one used in the text you&#39;re copying from? `-XX` options are pretty implementation-specific, I think, and I wouldn&#39;t be shocked if another implementation doesn&#39;t support everything the Oracle OpenJDK does.","body":"(1) It&#39;s not a Clojure issue if you can&#39;t even get the JVM to start; (2) Are you using the same JVM as the one used in the text you&#39;re copying from? <code>-XX</code> options are pretty implementation-specific, I think, and I wouldn&#39;t be shocked if another implementation doesn&#39;t support everything the Oracle OpenJDK does."}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699600357,"creation_date":1699572105,"question_id":77456899,"body_markdown":"I&#39;ve below clojure code -\r\n\r\n```clojure\r\n(ns profiler.async.profiler-demo\r\n  (:require [clj-async-profiler.core :as profiler]\r\n            [clj-async-profiler.ui :as profiler.ui]))\r\n\r\n(defn -main [&amp; args]\r\n  (println (System/getProperty &quot;java.version&quot;))\r\n  (profiler/serve-ui 8094)\r\n  (.addShutdownHook (Runtime/getRuntime) (Thread. ^Runnable profiler.ui/stop-server)))\r\n\r\n```\r\nWhen I run the program it is running fine. \r\n\r\n```bash\r\n/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\r\n17.0.9\r\nStarting server on port 8094\r\n\r\nProcess finished with exit code 137 (interrupted by signal 9: SIGKILL)\r\n```\r\n\r\nNow the issue is I&#39;ve to profile my application. I&#39;m following this [example][1]. I add the ` -XX:+DumpPerfMapAtExit` JVM arg I get error  \r\n\r\nThe error is -\r\n\r\n```bash\r\n\r\n/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints  -XX:+DumpPerfMapAtExit -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\r\nUnrecognized VM option &#39;DumpPerfMapAtExit&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nHere is my run configuration in intellij idea -\r\n\r\n[![run configuration][2]][2]\r\n\r\n\r\n  [1]: https://bell-sw.com/announcements/2022/04/07/how-to-use-perf-to-monitor-java-performance/\r\n  [2]: https://i.stack.imgur.com/HExh0.png","title":"Unrecognized VM option &#39;DumpPerfMapAtExit&#39; when running clojure program on eclipse-temurin:17.0.9","body":"<p>I've below clojure code -</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(ns profiler.async.profiler-demo\n  (:require [clj-async-profiler.core :as profiler]\n            [clj-async-profiler.ui :as profiler.ui]))\n\n(defn -main [&amp; args]\n  (println (System/getProperty &quot;java.version&quot;))\n  (profiler/serve-ui 8094)\n  (.addShutdownHook (Runtime/getRuntime) (Thread. ^Runnable profiler.ui/stop-server)))\n\n</code></pre>\n<p>When I run the program it is running fine.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\n17.0.9\nStarting server on port 8094\n\nProcess finished with exit code 137 (interrupted by signal 9: SIGKILL)\n</code></pre>\n<p>Now the issue is I've to profile my application. I'm following this <a href=\"https://bell-sw.com/announcements/2022/04/07/how-to-use-perf-to-monitor-java-performance/\" rel=\"nofollow noreferrer\">example</a>. I add the <code> -XX:+DumpPerfMapAtExit</code> JVM arg I get error</p>\n<p>The error is -</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\n/Users/rnatarajan/.sdkman/candidates/java/17.0.9-tem/bin/java -XX:+UnlockDiagnosticVMOptions -XX:+UseG1GC -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=85 -XX:+PreserveFramePointer -XX:+DebugNonSafepoints  -XX:+DumpPerfMapAtExit -Djdk.attach.allowAttachSelf=true &quot;-javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=59952:/Applications/IntelliJ IDEA.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/rnatarajan/Documents/Coding/others/demo-clj/src:/Users/rnatarajan/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar:/Users/rnatarajan/.m2/repository/net/cgrand/xforms/0.19.4/xforms-0.19.4.jar:/Users/rnatarajan/.m2/repository/traversy/traversy/0.5.0/traversy-0.5.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar:/Users/rnatarajan/.m2/repository/com/clojure-goes-fast/clj-async-profiler/1.1.1/clj-async-profiler-1.1.1.jar:/Users/rnatarajan/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/rnatarajan/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar:/Users/rnatarajan/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.memoize/1.0.253/core.memoize-1.0.253.jar:/Users/rnatarajan/.m2/repository/org/clojure/data.priority-map/1.1.0/data.priority-map-1.1.0.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.cache/1.0.225/core.cache-1.0.225.jar:/Users/rnatarajan/.m2/repository/org/clojure/core.async/1.6.673/core.async-1.6.673.jar:/Users/rnatarajan/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar clojure.main -m profiler.async.profiler-demo\nUnrecognized VM option 'DumpPerfMapAtExit'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here is my run configuration in intellij idea -</p>\n<p><a href=\"https://i.stack.imgur.com/HExh0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HExh0.png\" alt=\"run configuration\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1699451212,"post_id":77445988,"comment_id":136532746,"body_markdown":"File upload/download dialog belongs to operating system, not the browser. You can not handle the dialog using selenium. To avoid the dialog you need to create new browser profile, set up to automatically download files of type do some folder. Once you achieve this browser behavivor just use the browser profile in your selenium test.","body":"File upload/download dialog belongs to operating system, not the browser. You can not handle the dialog using selenium. To avoid the dialog you need to create new browser profile, set up to automatically download files of type do some folder. Once you achieve this browser behavivor just use the browser profile in your selenium test."},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1699600375,"post_id":77445988,"comment_id":136554912,"body_markdown":"Could you show hot to do this ?","body":"Could you show hot to do this ?"},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1699600991,"post_id":77445988,"comment_id":136554988,"body_markdown":"If you&#39;re using Google chrome, then navigate to settings and search for download in the search settings or navigate to downloads section. In that turn off &quot;Ask where to save each file before downloading&quot; and provide desired location for the downloads","body":"If you&#39;re using Google chrome, then navigate to settings and search for download in the search settings or navigate to downloads section. In that turn off &quot;Ask where to save each file before downloading&quot; and provide desired location for the downloads"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1699603466,"post_id":77445988,"comment_id":136555321,"body_markdown":"but I want to do this in java selenium with a use of ChromeOptions class","body":"but I want to do this in java selenium with a use of ChromeOptions class"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699600354,"creation_date":1699450517,"question_id":77445988,"body_markdown":"Java Selenium - how to download file when &quot;Save as&quot; pop up shows up?\r\n\r\nHow to click &quot;Save&quot; button and download file to desired location?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OXJgK.jpg","title":"Java Selenium - how to download file when &quot;Save as&quot; pop up shows up?","body":"<p>Java Selenium - how to download file when &quot;Save as&quot; pop up shows up?</p>\n<p>How to click &quot;Save&quot; button and download file to desired location?</p>\n<p><a href=\"https://i.stack.imgur.com/OXJgK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OXJgK.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows","swt","desktop"],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699600301,"creation_date":1699600301,"question_id":77458234,"body_markdown":"I know this is not possible with just SWT, but tricks using JNA or similar are welcome. \r\n\r\nSimilar to applications like chrome I don&#39;t want the title bar of my shell be painted by windows but by myself, so I can e.g. place tab handles there. I also wonder how I could reliable mimik the typical Windows buttons like - [] X, and provide the Windows specific menus here.\r\n\r\nAny ideas?","title":"How to paint on SWT shell borders on Windows?","body":"<p>I know this is not possible with just SWT, but tricks using JNA or similar are welcome.</p>\n<p>Similar to applications like chrome I don't want the title bar of my shell be painted by windows but by myself, so I can e.g. place tab handles there. I also wonder how I could reliable mimik the typical Windows buttons like - [] X, and provide the Windows specific menus here.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","mysql","jboss","jboss7.x","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":404170,"reputation":4745,"user_id":833820,"accept_rate":100,"display_name":"jyore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356149955,"creation_date":1356149955,"answer_id":14000024,"question_id":13978767,"body_markdown":"\r\n\r\nI think in your datasource you are referencing the driver `mysql`, but you named the driver `com.mysql`.\r\n\r\nTry changing one the driver name to `mysql`.\r\n\r\n\r\nJust a note: it is best to use the CLI to install the drivers and use the CLI or Web Console to build your datasources.  The intention with AS7 is that these tools are used for all of your config and there are very few reasons why you should touch the XML yourself.","title":"JBoss: can not connect to MySQL database","body":"<p>I think in your datasource you are referencing the driver <code>mysql</code>, but you named the driver <code>com.mysql</code>.</p>\n\n<p>Try changing one the driver name to <code>mysql</code>.</p>\n\n<p>Just a note: it is best to use the CLI to install the drivers and use the CLI or Web Console to build your datasources.  The intention with AS7 is that these tools are used for all of your config and there are very few reasons why you should touch the XML yourself.</p>\n"},{"tags":[],"owner":{"account_id":1842611,"reputation":919,"user_id":1671715,"display_name":"Caina Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368152674,"creation_date":1368152674,"answer_id":16474203,"question_id":13978767,"body_markdown":"I had exactly the same mistake. Took me hours to find out how dumb it was.\r\n\r\nIn my case I was running jboss as a service under the jboss-as user, nice and easy. Except that when I created the mysql/main directory, along with the files within, I was under another user. No permissions there for jboss-as guy.\r\n\r\nA simple chown on modules/ directory did the job.","title":"JBoss: can not connect to MySQL database","body":"<p>I had exactly the same mistake. Took me hours to find out how dumb it was.</p>\n\n<p>In my case I was running jboss as a service under the jboss-as user, nice and easy. Except that when I created the mysql/main directory, along with the files within, I was under another user. No permissions there for jboss-as guy.</p>\n\n<p>A simple chown on modules/ directory did the job.</p>\n"},{"tags":[],"owner":{"account_id":130368,"reputation":2042,"user_id":329589,"display_name":"Radu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376386772,"creation_date":1376068593,"answer_id":18152169,"question_id":13978767,"body_markdown":"First of all, your driver definition name doesn&#39;t match the driver name under the `&lt;datasource&gt;` definition. Replace `&lt;driver name=&quot;com.mysql&quot; ...` with `&lt;driver name=&quot;mysql&quot; ...` for it to work.\r\n\r\nSecond, have you added the `module.xml` file? It&#39;s not enough to copy the MySQL connector jar in the `./modules/com/mysql/main` folder, you also have to add the `module.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.mysql&quot;&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource-root path=&quot;mysql-connector-java-5.1.26-bin.jar&quot;/&gt;\r\n      &lt;/resources&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\nAlso, I had a strage similar problem when using the MySQL connector version 5.0.8, where the driver was not found / recognized. It disappeared when I switched to the newer 5.1.26 version. ","title":"JBoss: can not connect to MySQL database","body":"<p>First of all, your driver definition name doesn't match the driver name under the <code>&lt;datasource&gt;</code> definition. Replace <code>&lt;driver name=\"com.mysql\" ...</code> with <code>&lt;driver name=\"mysql\" ...</code> for it to work.</p>\n\n<p>Second, have you added the <code>module.xml</code> file? It's not enough to copy the MySQL connector jar in the <code>./modules/com/mysql/main</code> folder, you also have to add the <code>module.xml</code> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;module xmlns=\"urn:jboss:module:1.1\" name=\"com.mysql\"&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=\"mysql-connector-java-5.1.26-bin.jar\"/&gt;\n  &lt;/resources&gt;\n  &lt;dependencies&gt;\n    &lt;module name=\"javax.api\"/&gt;\n    &lt;module name=\"javax.transaction.api\"/&gt;\n  &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>Also, I had a strage similar problem when using the MySQL connector version 5.0.8, where the driver was not found / recognized. It disappeared when I switched to the newer 5.1.26 version. </p>\n"},{"tags":[],"owner":{"account_id":2185239,"reputation":600,"user_id":1933783,"accept_rate":17,"display_name":"Indra Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392215028,"creation_date":1392215028,"answer_id":21730647,"question_id":13978767,"body_markdown":"Make sure you are using latest version of `mysql jdbc connector` , i solve same issue of mine with replacing latest mysql connetor","title":"JBoss: can not connect to MySQL database","body":"<p>Make sure you are using latest version of <code>mysql jdbc connector</code> , i solve same issue of mine with replacing latest mysql connetor</p>\n"}],"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13014,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1699599935,"creation_date":1356030168,"question_id":13978767,"body_markdown":"I am running `JBoss` as standalone version. I would like to connect to my local `mysql database`\r\n\r\nI copied the mysql connector in modules folder\r\n\r\n    me@air~/Downloads/jboss/standalone/configuration - 10:56:18  $ ls ../../modules/org/mysql/main/\r\n    mysql-connector-java-5.1.22-bin.jar\r\n\r\nNext I changed the `standalone.xml` in `jboss/standalone/configuration` as\r\n\r\n                    &lt;drivers&gt;\r\n                        &lt;driver name=&quot;com.mysql&quot; module=&quot;org.mysql&quot; /&gt;\r\n                        &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt; &lt;!-- default provided--&gt;\r\n                            &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\r\n                        &lt;/driver&gt;\r\n                    &lt;/drivers&gt;\r\n\r\nThen I added the datasource as\r\n\r\n                  &lt;datasource jndi-name=&quot;java:/bb&quot; pool-name=&quot;bb-pool&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; use-ccm=&quot;true&quot;&gt;\r\n                        &lt;connection-url&gt;jdbc:mysql://127.0.0.1:3306/mydb&lt;/connection-url&gt;\r\n                        &lt;driver&gt;mysql&lt;/driver&gt;\r\n                        &lt;pool&gt;\r\n                            &lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\r\n                            &lt;max-pool-size&gt;100&lt;/max-pool-size&gt;\r\n                            &lt;prefill&gt;true&lt;/prefill&gt;\r\n                        &lt;/pool&gt;\r\n                        &lt;security&gt;\r\n                            &lt;user-name&gt;bb&lt;/user-name&gt;\r\n                            &lt;password&gt;bb&lt;/password&gt;\r\n                        &lt;/security&gt;\r\n                        &lt;statement&gt;\r\n                            &lt;prepared-statement-cache-size&gt;100&lt;/prepared-statement-cache-size&gt;\r\n                            &lt;share-prepared-statements&gt;true&lt;/share-prepared-statements&gt;\r\n                        &lt;/statement&gt;\r\n                    &lt;/datasource&gt;\r\n\r\nI am using `JBoss AS 7.1`.\r\nWhen I start the server on console, I see errors\r\n\r\n    10:54:47,458 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]\r\n    10:54:47,671 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report\r\n    JBAS014775:    New missing/unsatisfied dependencies:\r\n          service jboss.jdbc-driver.mysql (missing) dependents: [service jboss.data-source.java:/bb] \r\n    \r\n    10:54:47,676 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990\r\n    10:54:47,676 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: JBoss AS 7.1.1.Final &quot;Brontes&quot; started (with errors) in 2000ms - Started 134 of 212 services (2 services failed or missing dependencies, 74 services are passive or on-demand)\r\nand when I hit `Ctrl+C`, I see\r\n\r\n    ^C10:54:54,998 INFO  [org.jboss.as.osgi] (MSC service thread 1-8) JBAS011942: Stopping OSGi Framework\r\n    10:54:55,004 INFO  [org.jboss.as.logging] JBAS011503: Restored bootstrap log handlers\r\n    10:54:55,007 INFO  [com.arjuna.ats.jbossatx] ARJUNA032018: Destroying TransactionManagerService\r\n    10:54:55,008 INFO  [com.arjuna.ats.jbossatx] ARJUNA032014: Stopping transaction recovery manager\r\n    10:54:55,010 INFO  [org.apache.catalina.core.StandardContext] Container org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/] has not been started\r\n    10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Pausing Coyote HTTP/1.1 on http--127.0.0.1-8080\r\n    10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Stopping Coyote HTTP/1.1 on http--127.0.0.1-8080\r\n    10:54:55,043 INFO  [org.jboss.as.controller] JBAS014774: Service status report\r\n    JBAS014776:    Newly corrected services:\r\n          service jboss.jdbc-driver.mysql (new available)\r\n    \r\n    10:54:55,044 INFO  [org.jboss.as] JBAS015950: JBoss AS 7.1.1.Final &quot;Brontes&quot; stopped in 47ms\r\n\r\nI am new to JBoss and don&#39;t know how to fix this issue or to understand what is that I am doing wrong here","title":"JBoss: can not connect to MySQL database","body":"<p>I am running <code>JBoss</code> as standalone version. I would like to connect to my local <code>mysql database</code></p>\n\n<p>I copied the mysql connector in modules folder</p>\n\n<pre><code>me@air~/Downloads/jboss/standalone/configuration - 10:56:18  $ ls ../../modules/org/mysql/main/\nmysql-connector-java-5.1.22-bin.jar\n</code></pre>\n\n<p>Next I changed the <code>standalone.xml</code> in <code>jboss/standalone/configuration</code> as</p>\n\n<pre><code>                &lt;drivers&gt;\n                    &lt;driver name=\"com.mysql\" module=\"org.mysql\" /&gt;\n                    &lt;driver name=\"h2\" module=\"com.h2database.h2\"&gt; &lt;!-- default provided--&gt;\n                        &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\n                    &lt;/driver&gt;\n                &lt;/drivers&gt;\n</code></pre>\n\n<p>Then I added the datasource as</p>\n\n<pre><code>              &lt;datasource jndi-name=\"java:/bb\" pool-name=\"bb-pool\" enabled=\"true\" use-java-context=\"true\" use-ccm=\"true\"&gt;\n                    &lt;connection-url&gt;jdbc:mysql://127.0.0.1:3306/mydb&lt;/connection-url&gt;\n                    &lt;driver&gt;mysql&lt;/driver&gt;\n                    &lt;pool&gt;\n                        &lt;min-pool-size&gt;10&lt;/min-pool-size&gt;\n                        &lt;max-pool-size&gt;100&lt;/max-pool-size&gt;\n                        &lt;prefill&gt;true&lt;/prefill&gt;\n                    &lt;/pool&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;bb&lt;/user-name&gt;\n                        &lt;password&gt;bb&lt;/password&gt;\n                    &lt;/security&gt;\n                    &lt;statement&gt;\n                        &lt;prepared-statement-cache-size&gt;100&lt;/prepared-statement-cache-size&gt;\n                        &lt;share-prepared-statements&gt;true&lt;/share-prepared-statements&gt;\n                    &lt;/statement&gt;\n                &lt;/datasource&gt;\n</code></pre>\n\n<p>I am using <code>JBoss AS 7.1</code>.\nWhen I start the server on console, I see errors</p>\n\n<pre><code>10:54:47,458 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]\n10:54:47,671 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report\nJBAS014775:    New missing/unsatisfied dependencies:\n      service jboss.jdbc-driver.mysql (missing) dependents: [service jboss.data-source.java:/bb] \n\n10:54:47,676 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990\n10:54:47,676 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: JBoss AS 7.1.1.Final \"Brontes\" started (with errors) in 2000ms - Started 134 of 212 services (2 services failed or missing dependencies, 74 services are passive or on-demand)\n</code></pre>\n\n<p>and when I hit <code>Ctrl+C</code>, I see</p>\n\n<pre><code>^C10:54:54,998 INFO  [org.jboss.as.osgi] (MSC service thread 1-8) JBAS011942: Stopping OSGi Framework\n10:54:55,004 INFO  [org.jboss.as.logging] JBAS011503: Restored bootstrap log handlers\n10:54:55,007 INFO  [com.arjuna.ats.jbossatx] ARJUNA032018: Destroying TransactionManagerService\n10:54:55,008 INFO  [com.arjuna.ats.jbossatx] ARJUNA032014: Stopping transaction recovery manager\n10:54:55,010 INFO  [org.apache.catalina.core.StandardContext] Container org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/] has not been started\n10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Pausing Coyote HTTP/1.1 on http--127.0.0.1-8080\n10:54:55,039 INFO  [org.apache.coyote.http11.Http11Protocol] Stopping Coyote HTTP/1.1 on http--127.0.0.1-8080\n10:54:55,043 INFO  [org.jboss.as.controller] JBAS014774: Service status report\nJBAS014776:    Newly corrected services:\n      service jboss.jdbc-driver.mysql (new available)\n\n10:54:55,044 INFO  [org.jboss.as] JBAS015950: JBoss AS 7.1.1.Final \"Brontes\" stopped in 47ms\n</code></pre>\n\n<p>I am new to JBoss and don't know how to fix this issue or to understand what is that I am doing wrong here</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25114763,"reputation":54,"user_id":19928451,"display_name":"Артём Орёл"},"score":0,"creation_date":1699600524,"post_id":77458188,"comment_id":136554938,"body_markdown":"Why don&#39;t you write a logic that the fever itself searches for your Excel file, naturally specifying a static path, and get the data you need from it : `File file = new File(path); book = (XSSFWorkbook) WorkbookFactory.create(file);` and go on from there..... in Path variable specify the path to your excel file ....","body":"Why don&#39;t you write a logic that the fever itself searches for your Excel file, naturally specifying a static path, and get the data you need from it : <code>File file = new File(path); book = (XSSFWorkbook) WorkbookFactory.create(file);</code> and go on from there..... in Path variable specify the path to your excel file ...."},{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1699600586,"post_id":77458188,"comment_id":136554944,"body_markdown":"Am I correct in my understanding that you want to read data from an Excel that is OPEN at the same time? That&#39;s not possible.","body":"Am I correct in my understanding that you want to read data from an Excel that is OPEN at the same time? That&#39;s not possible."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1699600891,"post_id":77458188,"comment_id":136554980,"body_markdown":"@GabeRAMturn Certainly it&#39;s possible. Did it last week.","body":"@GabeRAMturn Certainly it&#39;s possible. Did it last week."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1699604628,"post_id":77458188,"comment_id":136555472,"body_markdown":"@GabeRAMturn why would that not be possible? The file exists, regardless whether some application opened it.","body":"@GabeRAMturn why would that not be possible? The file exists, regardless whether some application opened it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699652903,"post_id":77458188,"comment_id":136563374,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":29870113,"reputation":1,"user_id":22891654,"display_name":"imti"},"score":0,"creation_date":1699710303,"post_id":77458188,"comment_id":136567078,"body_markdown":"@GabeRAMturn yes I want to read data from an Excel that is OPEN that is open while running the Jar","body":"@GabeRAMturn yes I want to read data from an Excel that is OPEN that is open while running the Jar"},{"owner":{"account_id":29870113,"reputation":1,"user_id":22891654,"display_name":"imti"},"score":0,"creation_date":1699710331,"post_id":77458188,"comment_id":136567081,"body_markdown":"@user207421 can you please share how it can be done","body":"@user207421 can you please share how it can be done"}],"owner":{"account_id":29870113,"reputation":1,"user_id":22891654,"display_name":"imti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699599627,"creation_date":1699599627,"question_id":77458188,"body_markdown":"I have scenario where I have data stored in excel file\r\nwhile running java program , it read parameter from excel file and gives output. \r\nNow I want to create a jar file of my java program, but I want my excel file out of this jar so that while running the jar, user can modify data in the excel as per need and run jar with these updated values.\r\nHow can we achieve this.\r\n\r\nI tried for this issue but excel file  was included in Jar. I want excel out of jar file\r\nI am fine with solution if it is jar, or batch file (to run my Java program)","title":"how can I pass parameter from excel to run a jar file","body":"<p>I have scenario where I have data stored in excel file\nwhile running java program , it read parameter from excel file and gives output.\nNow I want to create a jar file of my java program, but I want my excel file out of this jar so that while running the jar, user can modify data in the excel as per need and run jar with these updated values.\nHow can we achieve this.</p>\n<p>I tried for this issue but excel file  was included in Jar. I want excel out of jar file\nI am fine with solution if it is jar, or batch file (to run my Java program)</p>\n"},{"tags":["java","inheritance","memory","java-8","static-methods"],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1457918384,"post_id":35977941,"comment_id":59610355,"body_markdown":"There are many more reasons why it&#39;s an anti-pattern, but this answer is essentially correct:  It&#39;s a truly bad practice and it should be undone.  One major reason is that it couples every class to the static-method superclass.  And none of those classes can ever extend anything else.","body":"There are many more reasons why it&#39;s an anti-pattern, but this answer is essentially correct:  It&#39;s a truly bad practice and it should be undone.  One major reason is that it couples every class to the static-method superclass.  And none of those classes can ever extend anything else."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1457948573,"post_id":35977941,"comment_id":59621000,"body_markdown":"The fact that the question is about Java&#160;4 code and static imports have been introduced in Java&#160;5 explains the motivation (though even before Java&#160;5 subclassing for ease of import was considered an anti-pattern). Nevertheless it’s worth thinking about splitting the huge class into several smaller classes, maybe separating the utility methods by topic, as, when using static imports rather than inheritance, Java’s single inheritance is not an issue anymore.","body":"The fact that the question is about Java 4 code and static imports have been introduced in Java 5 explains the motivation (though even before Java 5 subclassing for ease of import was considered an anti-pattern). Nevertheless it’s worth thinking about splitting the huge class into several smaller classes, maybe separating the utility methods by topic, as, when using static imports rather than inheritance, Java’s single inheritance is not an issue anymore."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457917406,"creation_date":1457917406,"answer_id":35977941,"question_id":35977844,"body_markdown":"Static members aren&#39;t &quot;inherited&quot; per se. They live on the base class regardless of which subclass they&#39;re called from, so I doubt there&#39;s any memory impact.\r\n\r\nThe reason for creating all classes as a subclass of this common class is just for easy access to static members without the qualifying class name. A common variation is to inherit from an interface that declares a bunch of static fields. The upside is that implementing an interface doesn&#39;t interfere with inheritance the way a superclass would (you can only extend a single superclass). The downside is that until Java 8 it wasn&#39;t possible to declare static methods on an interface.\r\n\r\nIn any case, this trick is generally considered an anti-pattern and has been superseded by [static imports](http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html).","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>Static members aren't \"inherited\" per se. They live on the base class regardless of which subclass they're called from, so I doubt there's any memory impact.</p>\n\n<p>The reason for creating all classes as a subclass of this common class is just for easy access to static members without the qualifying class name. A common variation is to inherit from an interface that declares a bunch of static fields. The upside is that implementing an interface doesn't interfere with inheritance the way a superclass would (you can only extend a single superclass). The downside is that until Java 8 it wasn't possible to declare static methods on an interface.</p>\n\n<p>In any case, this trick is generally considered an anti-pattern and has been superseded by <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html\" rel=\"noreferrer\">static imports</a>.</p>\n"},{"tags":[],"owner":{"account_id":8035300,"reputation":57,"user_id":6058646,"display_name":"Kamil Akhuseyinoglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457920941,"creation_date":1457920941,"answer_id":35978390,"question_id":35977844,"body_markdown":"Inheritance is to customize the behavior of the parent class for the child classes. \r\n\r\nStatic methods cannot be inherited and their behavior does not change due to the state of the object. \r\n\r\nSo you cannot make something static and inheritable. There is no sense to extend a class of full static methods. Also, this does not change the size of the memory usage. Your classes are already loaded. ","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>Inheritance is to customize the behavior of the parent class for the child classes. </p>\n\n<p>Static methods cannot be inherited and their behavior does not change due to the state of the object. </p>\n\n<p>So you cannot make something static and inheritable. There is no sense to extend a class of full static methods. Also, this does not change the size of the memory usage. Your classes are already loaded. </p>\n"},{"tags":[],"owner":{"account_id":2550431,"reputation":452,"user_id":2214297,"display_name":"Parth Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457953210,"creation_date":1457947554,"answer_id":35983669,"question_id":35977844,"body_markdown":"There are beautiful insights written above by members. I would like to put it in different words if it helps understanding. \n\nInheritance : \nAll the member variables and functions of parent classes are included in the child class based on visibility operator (public, private , protected ) \n\nStatic members: \nThe static members of class are stored in memory accessible to all instance variables of the class. It&#39;s like a shared spaced for all the instance variables belonging to that class    \n\nNow coming to inheritance of static variables and functions , it&#39;s always advisable to have static imports. ","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>There are beautiful insights written above by members. I would like to put it in different words if it helps understanding. </p>\n\n<p>Inheritance : \nAll the member variables and functions of parent classes are included in the child class based on visibility operator (public, private , protected ) </p>\n\n<p>Static members: \nThe static members of class are stored in memory accessible to all instance variables of the class. It's like a shared spaced for all the instance variables belonging to that class    </p>\n\n<p>Now coming to inheritance of static variables and functions , it's always advisable to have static imports. </p>\n"},{"tags":[],"owner":{"account_id":3439651,"reputation":1114,"user_id":2881888,"display_name":"Louis Caron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699599380,"creation_date":1699540939,"answer_id":77454063,"question_id":35977844,"body_markdown":"All the previous answers are very useful, I would just like to add a simple point in favor of **NOT** using inheritance of the class that implements static methods: it becomes very tempting (and easy) for a developper to modify that class (add non static elements, remove the static keywords...)\r\n and all of a sudden it becomes non static, it creates dependencies between instances that derive it, creating difficulties of initialization, multi-threading and so on.","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>All the previous answers are very useful, I would just like to add a simple point in favor of <strong>NOT</strong> using inheritance of the class that implements static methods: it becomes very tempting (and easy) for a developper to modify that class (add non static elements, remove the static keywords...)\nand all of a sudden it becomes non static, it creates dependencies between instances that derive it, creating difficulties of initialization, multi-threading and so on.</p>\n"}],"owner":{"account_id":237044,"reputation":45,"user_id":504933,"accept_rate":75,"display_name":"Doug P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35977941,"answer_count":4,"score":3,"last_activity_date":1699599380,"creation_date":1457916429,"question_id":35977844,"body_markdown":"I&#39;m updating some old Java 4 code to Java 8 (way too much to paste here) and the original programmer chose to have nearly every class of theirs extend this single HUGE class full of only static methods and constants, but I do not know their reasoning.\r\n\r\nex:\r\n\r\n    public class BaseClass{\r\n         /* this class has a huge amount of ONLY static methods/constants */\r\n\r\n         public static final int STUFF_DONE = 1;\r\n\r\n         public static String getStuff(){\r\n               String stuff = &quot;this is my stuff.&quot;;\r\n               return stuff;\r\n         }\r\n         ...\r\n    }\r\n\r\n    public class SuperClass extends BaseClass{\r\n         /* this class has only a few methods */\r\n         public String labelStuff(){\r\n              return getStuff();\r\n         }\r\n    }\r\n\r\n    public class MyClass extends SuperClass{\r\n         /* there are many classes that extend SuperClass like this one */\r\n         public int handleStuff(){\r\n              String myString = labelStuff();\r\n              return STUFF_DONE;\r\n         }\r\n         public static void main(){\r\n              if(handleStuff()) System.out.println(&quot;Done.&quot;);\r\n         }\r\n    }\r\n\r\nMy question is this... is it better to keep this design or is it better to remove the inheritance of the static methods/constants and simply call those methods/constants statically?\r\n\r\n&quot;Better&quot; to me is defined as lower memory consumption (again, this base class is quite huge) as CPU is likely not affected by this.  What are the benefits/pitfalls of this approach?\r\n\r\nMy concern is that because BaseClass is so huge that I&#39;m wasting a LOT of memory for usage of only one or two methods/constants in the inheriting classes that I could just be calling statically.","title":"Java 8: Better to extend class of static methods or better to call static methods directly?","body":"<p>I'm updating some old Java 4 code to Java 8 (way too much to paste here) and the original programmer chose to have nearly every class of theirs extend this single HUGE class full of only static methods and constants, but I do not know their reasoning.</p>\n\n<p>ex:</p>\n\n<pre><code>public class BaseClass{\n     /* this class has a huge amount of ONLY static methods/constants */\n\n     public static final int STUFF_DONE = 1;\n\n     public static String getStuff(){\n           String stuff = \"this is my stuff.\";\n           return stuff;\n     }\n     ...\n}\n\npublic class SuperClass extends BaseClass{\n     /* this class has only a few methods */\n     public String labelStuff(){\n          return getStuff();\n     }\n}\n\npublic class MyClass extends SuperClass{\n     /* there are many classes that extend SuperClass like this one */\n     public int handleStuff(){\n          String myString = labelStuff();\n          return STUFF_DONE;\n     }\n     public static void main(){\n          if(handleStuff()) System.out.println(\"Done.\");\n     }\n}\n</code></pre>\n\n<p>My question is this... is it better to keep this design or is it better to remove the inheritance of the static methods/constants and simply call those methods/constants statically?</p>\n\n<p>\"Better\" to me is defined as lower memory consumption (again, this base class is quite huge) as CPU is likely not affected by this.  What are the benefits/pitfalls of this approach?</p>\n\n<p>My concern is that because BaseClass is so huge that I'm wasting a LOT of memory for usage of only one or two methods/constants in the inheriting classes that I could just be calling statically.</p>\n"},{"tags":["java","spring-boot","maven","heroku"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1699555506,"post_id":77455533,"comment_id":136550227,"body_markdown":"deploying this way, heroku probably doesn&#39;t see the `system.properties` file. try to include it with the command option `-i, --includes FILES   # list of files to include in the slug`: https://github.com/heroku/plugin-java","body":"deploying this way, heroku probably doesn&#39;t see the <code>system.properties</code> file. try to include it with the command option <code>-i, --includes FILES   # list of files to include in the slug</code>: <a href=\"https://github.com/heroku/plugin-java\" rel=\"nofollow noreferrer\">github.com/heroku/plugin-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":11156931,"reputation":11,"user_id":8188371,"display_name":"Dipak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699599343,"creation_date":1699599343,"answer_id":77458170,"question_id":77455533,"body_markdown":"When you run the application in heroku it is actually taking it from the Heroku instance but not from the setting specified with in the application .\r\n\r\nTry to run the application using the following command \r\n\r\n&gt; heroku run java -version -a yourapplicationName\r\n\r\n","title":"Proble with Heroku JDK version","body":"<p>When you run the application in heroku it is actually taking it from the Heroku instance but not from the setting specified with in the application .</p>\n<p>Try to run the application using the following command</p>\n<blockquote>\n<p>heroku run java -version -a yourapplicationName</p>\n</blockquote>\n"}],"owner":{"account_id":8152249,"reputation":1,"user_id":6138881,"display_name":"Tom&#225;š Čerm&#225;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699599343,"creation_date":1699554036,"question_id":77455533,"body_markdown":"I&#39;m trying to deploy a springboot application on Heroku via CLI. My problem is that Heroku defaults to JDK 1.8 and I would need JDK 17. I have in system.properties -     `java.runtime.version=17` and in pom.xml -         `&lt;java.version&gt;17&lt;/java.version&gt;     `, but Heroku always installs JDK 1.8 when deploying the jar file. Any advice please?\r\n\r\nI didn&#39;t find an answer here that would help me\r\n\r\n`cerma@cerma-GL503VD:~/git/vendaSkola/target$ heroku deploy:jar VendaSchool3.jar -a vendaskola1  ›   Warning: heroku update available from 7.60.1 to 8.7.1. Uploading VendaSchool3.jar -----&gt; Packaging application...        - app: vendaskola1        - including: VendaSchool3.jar -----&gt; Creating build...        - file: slug.tgz        - size: 17MB -----&gt; Uploading build...        - success -----&gt; Deploying... remote:  remote: -----&gt; Building on the Heroku-22 stack remote: -----&gt; Using buildpack: heroku/jvm remote: -----&gt; heroku-deploy app detected remote: -----&gt; Installing OpenJDK 1.8... done remote: -----&gt; Discovering process types remote:        Procfile declares types -&gt; web remote:  remote: -----&gt; Compressing... remote:        Done: 69.3M remote: -----&gt; Launching... remote:        Released v3    `\r\n\r\nI try write to system.properties      `java.runtime.version=17, pom.xml - &lt;java.version&gt;17&lt;/java.version&gt;,&lt;java.runtime.version&gt;17&lt;/java.runtime.version&gt;`","title":"Proble with Heroku JDK version","body":"<p>I'm trying to deploy a springboot application on Heroku via CLI. My problem is that Heroku defaults to JDK 1.8 and I would need JDK 17. I have in system.properties -     <code>java.runtime.version=17</code> and in pom.xml -         <code>&lt;java.version&gt;17&lt;/java.version&gt;     </code>, but Heroku always installs JDK 1.8 when deploying the jar file. Any advice please?</p>\n<p>I didn't find an answer here that would help me</p>\n<p><code>cerma@cerma-GL503VD:~/git/vendaSkola/target$ heroku deploy:jar VendaSchool3.jar -a vendaskola1  ›   Warning: heroku update available from 7.60.1 to 8.7.1. Uploading VendaSchool3.jar -----&gt; Packaging application...        - app: vendaskola1        - including: VendaSchool3.jar -----&gt; Creating build...        - file: slug.tgz        - size: 17MB -----&gt; Uploading build...        - success -----&gt; Deploying... remote:  remote: -----&gt; Building on the Heroku-22 stack remote: -----&gt; Using buildpack: heroku/jvm remote: -----&gt; heroku-deploy app detected remote: -----&gt; Installing OpenJDK 1.8... done remote: -----&gt; Discovering process types remote:        Procfile declares types -&gt; web remote:  remote: -----&gt; Compressing... remote:        Done: 69.3M remote: -----&gt; Launching... remote:        Released v3    </code></p>\n<p>I try write to system.properties      <code>java.runtime.version=17, pom.xml - &lt;java.version&gt;17&lt;/java.version&gt;,&lt;java.runtime.version&gt;17&lt;/java.runtime.version&gt;</code></p>\n"},{"tags":["java","lambda","enums","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1699580193,"post_id":77456938,"comment_id":136553356,"body_markdown":"Does this answer your question? [List of objects to map in java 8](https://stackoverflow.com/questions/48747537/list-of-objects-to-map-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48747537/list-of-objects-to-map-in-java-8\">List of objects to map in java 8</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1699580301,"post_id":77456938,"comment_id":136553362,"body_markdown":"also, if you dont show the stack trace, its hard for anyone to know what the static vs non-static issue is. probably you have a static variable that you are using inside a method that is not static","body":"also, if you dont show the stack trace, its hard for anyone to know what the static vs non-static issue is. probably you have a static variable that you are using inside a method that is not static"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1699580363,"post_id":77456938,"comment_id":136553366,"body_markdown":"show some real code instead of ... ... ... inside your stream if you want people to correct whats wrong with your refactored method using streams","body":"show some real code instead of ... ... ... inside your stream if you want people to correct whats wrong with your refactored method using streams"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1699580415,"post_id":77456938,"comment_id":136553371,"body_markdown":"What are you passing to `map()`? I&#39;m guessing it&#39;s not a `Function&lt;MyEnum, Map.Entry&lt;MyEnum, MyClass&gt;&gt;`. Please provide a [mcve].","body":"What are you passing to <code>map()</code>? I&#39;m guessing it&#39;s not a <code>Function&lt;MyEnum, Map.Entry&lt;MyEnum, MyClass&gt;&gt;</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699598020,"creation_date":1699598020,"answer_id":77458095,"question_id":77456938,"body_markdown":"Try the following.\r\n\r\n```java\r\nMap&lt;MyEnum, MyClass&gt; result\r\n    = Stream.of(MyEnum.values())\r\n            .map(x -&gt; Map.entry(x, helper(x, input)))\r\n            .filter(x -&gt; x.getValue().isPresent())\r\n            .collect(Collectors.toMap(Map.Entry::getKey, x -&gt; x.getValue().get()));\r\n```","title":"Using stream for Java Enum to generate map","body":"<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;MyEnum, MyClass&gt; result\n    = Stream.of(MyEnum.values())\n            .map(x -&gt; Map.entry(x, helper(x, input)))\n            .filter(x -&gt; x.getValue().isPresent())\n            .collect(Collectors.toMap(Map.Entry::getKey, x -&gt; x.getValue().get()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29868063,"reputation":11,"user_id":22890081,"display_name":"cnmdestroyer"},"score":0,"creation_date":1699640637,"post_id":77458131,"comment_id":136561814,"body_markdown":"wow, thanks for the detail explanation, it really helps!","body":"wow, thanks for the detail explanation, it really helps!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699599010,"creation_date":1699598705,"answer_id":77458131,"question_id":77456938,"body_markdown":"# tl;dr\r\n\r\n```java\r\npublic enum CodeLetter { A, B, C; }\r\n```\r\n\r\n```java\r\nMap &lt; CodeLetter, DayOfWeek &gt; map =\r\n        Stream\r\n                .of ( CodeLetter.values ( ) )\r\n                .collect (\r\n                        ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\r\n                        ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\r\n                        Map :: putAll\r\n                );\r\n```\r\n\r\n# Details\r\n\r\nLet&#39;s make your example code more concrete. Instead of `MyEnum`, we call that `CodeLetter`. Instead of `MyClass`, we use `java.time.DayOfWeek`. \r\n\r\nFirstly, it seems the `key` field is just a distraction, unrelated to your Question. So we reduce that to a simple enum declaration. \r\n\r\n```java\r\npublic enum CodeLetter { A, B, C; }\r\n```\r\n\r\nWe provide an implementation for the `helper` class you mention. Pass one of the `CodeLetter` enum objects, get back a `DayOfWeek` object.\r\n\r\n```java\r\nDayOfWeek helper ( final CodeLetter codeLetter ) {\r\n    DayOfWeek dow =\r\n            switch ( codeLetter ) {\r\n                case A -&gt; DayOfWeek.SATURDAY;\r\n                case B -&gt; DayOfWeek.SUNDAY;\r\n                case C -&gt; null;\r\n            };\r\n    return dow;\r\n}\r\n```\r\n\r\nNow implement fully your example method that builds a map. \r\n\r\n - We rename that method from `myMethod` to `buildMap`. \r\n - We rename `result` to `map` for clarity.\r\n - We eliminate the argument to that method, as it seems irrelevant. \r\n - There is no such class nor method `Maps.newHashMap`, so we replace that with a specific class that implements `Map`. When you have an enum as your map key, use the highly optimized [`EnumMap`][1] class.\r\n - `Optional&lt;MyClass&gt;`, would be `Optional&lt;CodeLetter&gt;` with our new naming. But `Optional` is generally best used only as a return type. In our case here, `EnumMap` allows for map values to be null. So we forgo the `Optional` to use simple null instead. \r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\r\n    for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\r\n        DayOfWeek dow = this.helper ( codeLetter );\r\n        map.put ( codeLetter , dow );\r\n    }\r\n    return map;\r\n}\r\n```\r\n\r\nExercise this code.\r\n\r\n```java\r\nEnumMapExample app = new EnumMapExample ( );\r\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMap ( );\r\nSystem.out.println ( &quot;map = &quot; + map );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;map = {A=SATURDAY, B=SUNDAY, C=null}\r\n\r\nGood, the code runs successfully.\r\n\r\nBack to the thrust of your Question. You seem to want to refactor the `buildMap` method to use a stream rather than our `for` loop. Fair enough. Let&#39;s create a `buildMapByStream` method, as an alternate implementation.\r\n\r\nTo build our map by stream, first get a stream of the values of our key, `CodeLetter`. Then call `collect` on that stream. To the `collect` method we pass a `Collector` implementation. Java provides one via the `Collectors.toMap` method. We pass to the `toMap` method four arguments: a lambda to generate each map key, a lambda to generate each map value, a lambda to resolve any conflicts, and a lambda to construct a resulting `Map` implementation of our choice. \r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n            Stream\r\n                    .of ( CodeLetter.values ( ) )\r\n                    .collect (\r\n                            Collectors.toMap (\r\n                                    ( CodeLetter codeLetter ) -&gt; codeLetter ,\r\n                                    ( CodeLetter codeLetter ) -&gt; this.helper ( codeLetter ) ,\r\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\r\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\r\n                            )\r\n                    );\r\n    return map;\r\n}\r\n```\r\n\r\nWe can simplify the first two arguments. \r\n\r\n - The first argument is a lambda that merely returns the passed object. Java provides a [`Function`][2] implementation that provides the same functionality: [`Function.identity`][3]. \r\n - The second argument is a lambda that calls our `helper` method. We can abbreviate that with a [method reference][4], `this :: helper`. \r\n\r\nAfter those changes our code looks like this:\r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n            Stream\r\n                    .of ( CodeLetter.values ( ) )\r\n                    .collect (\r\n                            Collectors.toMap (\r\n                                    Function.identity ( ) ,\r\n                                    this :: helper ,\r\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\r\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\r\n                            )\r\n                    );\r\n    return map;\r\n}\r\n```\r\n\r\nWe should be able to consider the job done. Unfortunately, Java 8 through 21 has [a known bug][5] in `Collectors.toMap` where a `NullPointerException` is thrown when the generated map value is null. See [this Question](https://stackoverflow.com/q/24630963/642706), and [this Answer](https://stackoverflow.com/a/24634007/642706) by kajacx.\r\n\r\nFortunately, that Answer presents a workaround to replace the use of `Collectors.toMap`.\r\n\r\n\r\n```java\r\nprivate Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n            Stream\r\n                    .of ( CodeLetter.values ( ) )\r\n                    .collect (\r\n                            ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\r\n                            ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\r\n                            Map :: putAll\r\n                    );\r\n    return map;\r\n}\r\n```\r\n\r\nAt this point we can exercise our `buildMapByStream` method.\r\n\r\n```java\r\nEnumMapExample app = new EnumMapExample ( );\r\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\r\nSystem.out.println ( &quot;map = &quot; + map );\r\n```\r\n\r\n&gt;map = {A=SATURDAY, B=SUNDAY, C=null}\r\n\r\nThat works, job done.\r\n\r\nHere is the complete code for your copy-paste convenience.\r\n\r\n```java\r\npackage work.basil.example.enums;\r\n\r\nimport java.time.DayOfWeek;\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\nimport java.util.stream.Stream;\r\n\r\npublic class EnumMapExample {\r\n    public static void main ( String[] args ) {\r\n        EnumMapExample app = new EnumMapExample ( );\r\n        Map &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\r\n        System.out.println ( &quot;map = &quot; + map );\r\n    }\r\n\r\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\r\n        Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\r\n        for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\r\n            DayOfWeek dow = this.helper ( codeLetter );\r\n            map.put ( codeLetter , dow );\r\n        }\r\n        return map;\r\n    }\r\n\r\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\r\n        Map &lt; CodeLetter, DayOfWeek &gt; map =\r\n                Stream\r\n                        .of ( CodeLetter.values ( ) )\r\n                        .collect (\r\n                                ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\r\n                                ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\r\n                                Map :: putAll\r\n                        );\r\n        return map;\r\n    }\r\n\r\n    DayOfWeek helper ( final CodeLetter codeLetter ) {\r\n        DayOfWeek dow =\r\n                switch ( codeLetter ) {\r\n                    case A -&gt; DayOfWeek.SATURDAY;\r\n                    case B -&gt; DayOfWeek.SUNDAY;\r\n                    case C -&gt; null;\r\n                };\r\n        return dow;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/EnumMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html#identity()\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [5]: https://bugs.openjdk.org/browse/JDK-8148463","title":"Using stream for Java Enum to generate map","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CodeLetter { A, B, C; }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; CodeLetter, DayOfWeek &gt; map =\n        Stream\n                .of ( CodeLetter.values ( ) )\n                .collect (\n                        ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\n                        ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\n                        Map :: putAll\n                );\n</code></pre>\n<h1>Details</h1>\n<p>Let's make your example code more concrete. Instead of <code>MyEnum</code>, we call that <code>CodeLetter</code>. Instead of <code>MyClass</code>, we use <code>java.time.DayOfWeek</code>.</p>\n<p>Firstly, it seems the <code>key</code> field is just a distraction, unrelated to your Question. So we reduce that to a simple enum declaration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum CodeLetter { A, B, C; }\n</code></pre>\n<p>We provide an implementation for the <code>helper</code> class you mention. Pass one of the <code>CodeLetter</code> enum objects, get back a <code>DayOfWeek</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DayOfWeek helper ( final CodeLetter codeLetter ) {\n    DayOfWeek dow =\n            switch ( codeLetter ) {\n                case A -&gt; DayOfWeek.SATURDAY;\n                case B -&gt; DayOfWeek.SUNDAY;\n                case C -&gt; null;\n            };\n    return dow;\n}\n</code></pre>\n<p>Now implement fully your example method that builds a map.</p>\n<ul>\n<li>We rename that method from <code>myMethod</code> to <code>buildMap</code>.</li>\n<li>We rename <code>result</code> to <code>map</code> for clarity.</li>\n<li>We eliminate the argument to that method, as it seems irrelevant.</li>\n<li>There is no such class nor method <code>Maps.newHashMap</code>, so we replace that with a specific class that implements <code>Map</code>. When you have an enum as your map key, use the highly optimized <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a> class.</li>\n<li><code>Optional&lt;MyClass&gt;</code>, would be <code>Optional&lt;CodeLetter&gt;</code> with our new naming. But <code>Optional</code> is generally best used only as a return type. In our case here, <code>EnumMap</code> allows for map values to be null. So we forgo the <code>Optional</code> to use simple null instead.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\n    for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\n        DayOfWeek dow = this.helper ( codeLetter );\n        map.put ( codeLetter , dow );\n    }\n    return map;\n}\n</code></pre>\n<p>Exercise this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumMapExample app = new EnumMapExample ( );\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMap ( );\nSystem.out.println ( &quot;map = &quot; + map );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>map = {A=SATURDAY, B=SUNDAY, C=null}</p>\n</blockquote>\n<p>Good, the code runs successfully.</p>\n<p>Back to the thrust of your Question. You seem to want to refactor the <code>buildMap</code> method to use a stream rather than our <code>for</code> loop. Fair enough. Let's create a <code>buildMapByStream</code> method, as an alternate implementation.</p>\n<p>To build our map by stream, first get a stream of the values of our key, <code>CodeLetter</code>. Then call <code>collect</code> on that stream. To the <code>collect</code> method we pass a <code>Collector</code> implementation. Java provides one via the <code>Collectors.toMap</code> method. We pass to the <code>toMap</code> method four arguments: a lambda to generate each map key, a lambda to generate each map value, a lambda to resolve any conflicts, and a lambda to construct a resulting <code>Map</code> implementation of our choice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\n            Stream\n                    .of ( CodeLetter.values ( ) )\n                    .collect (\n                            Collectors.toMap (\n                                    ( CodeLetter codeLetter ) -&gt; codeLetter ,\n                                    ( CodeLetter codeLetter ) -&gt; this.helper ( codeLetter ) ,\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\n                            )\n                    );\n    return map;\n}\n</code></pre>\n<p>We can simplify the first two arguments.</p>\n<ul>\n<li>The first argument is a lambda that merely returns the passed object. Java provides a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function</code></a> implementation that provides the same functionality: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html#identity()\" rel=\"nofollow noreferrer\"><code>Function.identity</code></a>.</li>\n<li>The second argument is a lambda that calls our <code>helper</code> method. We can abbreviate that with a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>, <code>this :: helper</code>.</li>\n</ul>\n<p>After those changes our code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\n            Stream\n                    .of ( CodeLetter.values ( ) )\n                    .collect (\n                            Collectors.toMap (\n                                    Function.identity ( ) ,\n                                    this :: helper ,\n                                    ( DayOfWeek dow1 , DayOfWeek dow2 ) -&gt; dow1 ,\n                                    ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class )\n                            )\n                    );\n    return map;\n}\n</code></pre>\n<p>We should be able to consider the job done. Unfortunately, Java 8 through 21 has <a href=\"https://bugs.openjdk.org/browse/JDK-8148463\" rel=\"nofollow noreferrer\">a known bug</a> in <code>Collectors.toMap</code> where a <code>NullPointerException</code> is thrown when the generated map value is null. See <a href=\"https://stackoverflow.com/q/24630963/642706\">this Question</a>, and <a href=\"https://stackoverflow.com/a/24634007/642706\">this Answer</a> by kajacx.</p>\n<p>Fortunately, that Answer presents a workaround to replace the use of <code>Collectors.toMap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n    Map &lt; CodeLetter, DayOfWeek &gt; map =\n            Stream\n                    .of ( CodeLetter.values ( ) )\n                    .collect (\n                            ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\n                            ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\n                            Map :: putAll\n                    );\n    return map;\n}\n</code></pre>\n<p>At this point we can exercise our <code>buildMapByStream</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumMapExample app = new EnumMapExample ( );\nMap &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\nSystem.out.println ( &quot;map = &quot; + map );\n</code></pre>\n<blockquote>\n<p>map = {A=SATURDAY, B=SUNDAY, C=null}</p>\n</blockquote>\n<p>That works, job done.</p>\n<p>Here is the complete code for your copy-paste convenience.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.enums;\n\nimport java.time.DayOfWeek;\nimport java.util.EnumMap;\nimport java.util.Map;\nimport java.util.stream.Stream;\n\npublic class EnumMapExample {\n    public static void main ( String[] args ) {\n        EnumMapExample app = new EnumMapExample ( );\n        Map &lt; CodeLetter, DayOfWeek &gt; map = app.buildMapByStream ( );\n        System.out.println ( &quot;map = &quot; + map );\n    }\n\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMap ( ) {\n        Map &lt; CodeLetter, DayOfWeek &gt; map = new EnumMap &lt;&gt; ( CodeLetter.class );\n        for ( CodeLetter codeLetter : CodeLetter.values ( ) ) {\n            DayOfWeek dow = this.helper ( codeLetter );\n            map.put ( codeLetter , dow );\n        }\n        return map;\n    }\n\n    private Map &lt; CodeLetter, DayOfWeek &gt; buildMapByStream ( ) {\n        Map &lt; CodeLetter, DayOfWeek &gt; map =\n                Stream\n                        .of ( CodeLetter.values ( ) )\n                        .collect (\n                                ( ) -&gt; new EnumMap &lt;&gt; ( CodeLetter.class ) ,\n                                ( Map &lt; CodeLetter, DayOfWeek &gt; m , CodeLetter v ) -&gt; m.put ( v , this.helper ( v ) ) ,\n                                Map :: putAll\n                        );\n        return map;\n    }\n\n    DayOfWeek helper ( final CodeLetter codeLetter ) {\n        DayOfWeek dow =\n                switch ( codeLetter ) {\n                    case A -&gt; DayOfWeek.SATURDAY;\n                    case B -&gt; DayOfWeek.SUNDAY;\n                    case C -&gt; null;\n                };\n        return dow;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29868063,"reputation":11,"user_id":22890081,"display_name":"cnmdestroyer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699599010,"creation_date":1699572851,"question_id":77456938,"body_markdown":"I have a Enum class\r\n\r\n```\r\npublic enum MyEnum {\r\n    A(&quot;A&quot;),\r\n    B(&quot;B&quot;);\r\n\r\n    private final String key;\r\n}\r\n```\r\n\r\nAnd I want to generate a map like this:\r\n\r\n```\r\nprivate Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\r\n    Map&lt;MyEnum, MyClass&gt; result = Maps.newHashMap();\r\n    for (MyEnum enum : MyEnum.values()) {\r\n        Optional&lt;MyClass&gt; value = helper(enum, input);\r\n        value.ifPresent(val -&gt; result.put(enum, val));\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nI am new to lambda/stream, can we refactor it to something like:\r\n\r\n```\r\nprivate Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\r\n    return MyEnum.values().stream().map(...).collect(Collector.toMap(...));\r\n}\r\n```\r\n\r\nI tried to use `Arrays.stream()...`\r\nbut at last when I use `collect(Collector.toMap(Map.Entry::getKey, Map.Entry::getValue)`\r\nit has some static vs non-static issue","title":"Using stream for Java Enum to generate map","body":"<p>I have a Enum class</p>\n<pre><code>public enum MyEnum {\n    A(&quot;A&quot;),\n    B(&quot;B&quot;);\n\n    private final String key;\n}\n</code></pre>\n<p>And I want to generate a map like this:</p>\n<pre><code>private Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\n    Map&lt;MyEnum, MyClass&gt; result = Maps.newHashMap();\n    for (MyEnum enum : MyEnum.values()) {\n        Optional&lt;MyClass&gt; value = helper(enum, input);\n        value.ifPresent(val -&gt; result.put(enum, val));\n    }\n    return result;\n}\n</code></pre>\n<p>I am new to lambda/stream, can we refactor it to something like:</p>\n<pre><code>private Map&lt;MyEnum, MyClass&gt; myMethod(String input) {\n    return MyEnum.values().stream().map(...).collect(Collector.toMap(...));\n}\n</code></pre>\n<p>I tried to use <code>Arrays.stream()...</code>\nbut at last when I use <code>collect(Collector.toMap(Map.Entry::getKey, Map.Entry::getValue)</code>\nit has some static vs non-static issue</p>\n"},{"tags":["java","aop","aspectj"],"answers":[{"comments":[{"owner":{"account_id":4691397,"reputation":425,"user_id":3797438,"accept_rate":27,"display_name":"user3797438"},"score":0,"creation_date":1412852684,"post_id":26276330,"comment_id":41225946,"body_markdown":"How can I do this using eclipse?","body":"How can I do this using eclipse?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":5,"creation_date":1412855130,"post_id":26276330,"comment_id":41227310,"body_markdown":"Go figure. ;-) That was not part of the original question, but you can do it, I promise. I have answered several of your very vague questions now, but instead of always asking new ones you could start reviewing the existing answers and accept and upvote them (ever heard about etiquette?). Maybe then it would be more fun to invest time in figuring out what you actually want to know and then answer.","body":"Go figure. ;-) That was not part of the original question, but you can do it, I promise. I have answered several of your very vague questions now, but instead of always asking new ones you could start reviewing the existing answers and accept and upvote them (ever heard about etiquette?). Maybe then it would be more fun to invest time in figuring out what you actually want to know and then answer."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1699598713,"creation_date":1412851164,"answer_id":26276330,"question_id":26274584,"body_markdown":"Yes, you can weave aspect code into third-party class files or JARs. There are two ways to achieve that:\r\n\r\n* Binary weaving: Use the AspectJ compiler *ajc* in order to apply your aspects upon class files in an existing JAR. For that purpose, put the JAR on the compiler&#39;s *inpath*. After compilation you can re-package the newly woven class files into a new JAR which then you can deploy and use instead of the original one.\r\n* Load-time weaving (LTW): Start the JVM with the AspectJ weaving agent via command line option `-javaagent:pathto/aspectjweaver.jar` in order to achieve aspect weaving during classloading. This way you sacrifice some start-up time, but do not need to create a modified JAR file. Everything happens dynamically.\r\n\r\nAnd now please read some [AspectJ documentation](https://www.eclipse.org/aspectj/doc/released/).","title":"How can I weave aspect code into existing class files within JARs?","body":"<p>Yes, you can weave aspect code into third-party class files or JARs. There are two ways to achieve that:</p>\n<ul>\n<li>Binary weaving: Use the AspectJ compiler <em>ajc</em> in order to apply your aspects upon class files in an existing JAR. For that purpose, put the JAR on the compiler's <em>inpath</em>. After compilation you can re-package the newly woven class files into a new JAR which then you can deploy and use instead of the original one.</li>\n<li>Load-time weaving (LTW): Start the JVM with the AspectJ weaving agent via command line option <code>-javaagent:pathto/aspectjweaver.jar</code> in order to achieve aspect weaving during classloading. This way you sacrifice some start-up time, but do not need to create a modified JAR file. Everything happens dynamically.</li>\n</ul>\n<p>And now please read some <a href=\"https://www.eclipse.org/aspectj/doc/released/\" rel=\"nofollow noreferrer\">AspectJ documentation</a>.</p>\n"}],"owner":{"account_id":4691397,"reputation":425,"user_id":3797438,"accept_rate":27,"display_name":"user3797438"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":26276330,"answer_count":1,"score":-2,"last_activity_date":1699598713,"creation_date":1412845988,"question_id":26274584,"body_markdown":"I am new to aspectj and I have one doubt whether we can inject the code before the function that exists in the jar file using aspectj.\r\n","title":"How can I weave aspect code into existing class files within JARs?","body":"<p>I am new to aspectj and I have one doubt whether we can inject the code before the function that exists in the jar file using aspectj.</p>\n"},{"tags":["java","garbage-collection","jvm","g1gc"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1652883820,"post_id":72290854,"comment_id":127715438,"body_markdown":"Note that if you want string deduplication, the Serial GC is not an option (prior to JDK&#160;18). Same for ZGC.","body":"Note that if you want string deduplication, the Serial GC is not an option (prior to JDK 18). Same for ZGC."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1652884405,"post_id":72290854,"comment_id":127715753,"body_markdown":"And a few other things too.  Like the fact that G1GC could be unpleasant if you have large short-lived objects that end up as &quot;humongous object&quot;s ... since they get tenured automatically.","body":"And a few other things too.  Like the fact that G1GC could be unpleasant if you have large short-lived objects that end up as &quot;humongous object&quot;s ... since they get tenured automatically."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1652934730,"post_id":72290854,"comment_id":127729045,"body_markdown":"Thanks for the answer! I will look into the &quot;behaviour-based tuning&quot; and see whether it works for us. Meanwhile, we also want low latencies, and therefore low GC pauses ~ 100ms. This I think might be a contradiction, as we also have low heap memory available.","body":"Thanks for the answer! I will look into the &quot;behaviour-based tuning&quot; and see whether it works for us. Meanwhile, we also want low latencies, and therefore low GC pauses ~ 100ms. This I think might be a contradiction, as we also have low heap memory available."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1652935729,"post_id":72290854,"comment_id":127729224,"body_markdown":"See the last sentence of my answer.  It sounds like you may **need** a larger heap.","body":"See the last sentence of my answer.  It sounds like you may <b>need</b> a larger heap."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1652946078,"post_id":72290854,"comment_id":127731910,"body_markdown":"I fully agree, having enough memory is more important than the algorithm or any other tuning option. In fact, given enough memory, the GC’s fraction of the CPU time might be so low, that any tuning might be pointless. That’s why I recommend using Java&#160;9 or newer, because *compact strings* can reduce the memory footprint significantly. Then, try G1GC with String Deduplication turned on, if this saves you another good chunk of memory, it will also help the performance. Therefore, depending on the application, this may even yield better throughput than the throughput collectors (prior to JDK&#160;18).","body":"I fully agree, having enough memory is more important than the algorithm or any other tuning option. In fact, given enough memory, the GC’s fraction of the CPU time might be so low, that any tuning might be pointless. That’s why I recommend using Java 9 or newer, because <i>compact strings</i> can reduce the memory footprint significantly. Then, try G1GC with String Deduplication turned on, if this saves you another good chunk of memory, it will also help the performance. Therefore, depending on the application, this may even yield better throughput than the throughput collectors (prior to JDK 18)."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1652961153,"post_id":72290854,"comment_id":127737228,"body_markdown":"StephenC, @Holger - Thanks a lot for these suggestions! Will look into these.","body":"StephenC, @Holger - Thanks a lot for these suggestions! Will look into these."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1699597676,"creation_date":1652883340,"answer_id":72290854,"question_id":72290017,"body_markdown":"The following summary is based on:\r\n\r\n  - [Java /Java SE / 17 - HotSpot Virtual Machine Garbage Collection Tuning Guide: 5. Available Collectors\r\n](https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html)\r\n\r\n------------------------\r\n\r\n - If you have absolutely no interest in GC pause times, then use the serial collector (if you only have one core) or the parallel collector (if you have more than one core).\r\n\r\n - If you need low pause times (with high probability), then use the G1 collector.\r\n\r\n - If you need ultra-low pause times, and/or you have an extremely large heap, use the Z collector.\r\n\r\nThe old CMS collector has been removed as of Java 14.\r\n\r\n------------------------\r\n\r\nNote that if you specify pause-time and/or throughput goals, you can leave the choice and tuning of the GC to the JVM.  This is probably less risky than manually selecting and tuning the GC ... when you don&#39;t understand what you are doing.  \r\n\r\nThis &quot;behavior-based tuning&quot; approach and its advantages are described [here](https://docs.oracle.com/en/java/javase/17/gctuning/ergonomics.html).\r\n\r\n------------------------\r\n\r\nYou asked:\r\n\r\n&gt; We have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.\r\n\r\nWe can&#39;t tell you whether it would work out fine or not.  It would depend on various aspects of your application&#39;s behavior and also on your expectations.  For example, what &quot;issues&quot; would concern you if your application encountered them.  I would recommend trying &quot;behavior-based tuning&quot; to start with, and see where that gets you.\r\n\r\nFinally, setting a maximum heap size that is too small for the application **will not end well** ... no matter what GC you select.","title":"When not to use G1GC garbage collector?","body":"<p>The following summary is based on:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/available-collectors.html\" rel=\"nofollow noreferrer\">Java /Java SE / 17 - HotSpot Virtual Machine Garbage Collection Tuning Guide: 5. Available Collectors\n</a></li>\n</ul>\n<hr />\n<ul>\n<li><p>If you have absolutely no interest in GC pause times, then use the serial collector (if you only have one core) or the parallel collector (if you have more than one core).</p>\n</li>\n<li><p>If you need low pause times (with high probability), then use the G1 collector.</p>\n</li>\n<li><p>If you need ultra-low pause times, and/or you have an extremely large heap, use the Z collector.</p>\n</li>\n</ul>\n<p>The old CMS collector has been removed as of Java 14.</p>\n<hr />\n<p>Note that if you specify pause-time and/or throughput goals, you can leave the choice and tuning of the GC to the JVM.  This is probably less risky than manually selecting and tuning the GC ... when you don't understand what you are doing.</p>\n<p>This &quot;behavior-based tuning&quot; approach and its advantages are described <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/ergonomics.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<hr />\n<p>You asked:</p>\n<blockquote>\n<p>We have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.</p>\n</blockquote>\n<p>We can't tell you whether it would work out fine or not.  It would depend on various aspects of your application's behavior and also on your expectations.  For example, what &quot;issues&quot; would concern you if your application encountered them.  I would recommend trying &quot;behavior-based tuning&quot; to start with, and see where that gets you.</p>\n<p>Finally, setting a maximum heap size that is too small for the application <strong>will not end well</strong> ... no matter what GC you select.</p>\n"}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5432,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72290854,"answer_count":1,"score":4,"last_activity_date":1699597676,"creation_date":1652880141,"question_id":72290017,"body_markdown":"I looked into differences between various garbage collectors available for JVM. Here is the answer explaining the main differences between them : https://stackoverflow.com/a/54619838/5345646\r\n\r\nHere it&#39;s said for G1GC that : \r\n&gt; It&#39;s low pause / server style gc, mainly for large heap (&gt; 4Gb).\r\n\r\nWe have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.","title":"When not to use G1GC garbage collector?","body":"<p>I looked into differences between various garbage collectors available for JVM. Here is the answer explaining the main differences between them : <a href=\"https://stackoverflow.com/a/54619838/5345646\">https://stackoverflow.com/a/54619838/5345646</a></p>\n<p>Here it's said for G1GC that :</p>\n<blockquote>\n<p>It's low pause / server style gc, mainly for large heap (&gt; 4Gb).</p>\n</blockquote>\n<p>We have a machine that has a total memory of 4 GB, and heap size allocated to JVM of 1 GB. I wanted to understand whether that would cause any issues for us, or would G1GC work out fine.</p>\n"},{"tags":["java","android","search","android-recyclerview","textview"],"comments":[{"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"score":0,"creation_date":1699715864,"post_id":77458073,"comment_id":136567660,"body_markdown":"This may help: https://stackoverflow.com/questions/67257217/android-how-to-fix-spannablestrings-from-search-in-recyclerview/67464940#67464940","body":"This may help: <a href=\"https://stackoverflow.com/questions/67257217/android-how-to-fix-spannablestrings-from-search-in-recyclerview/67464940#67464940\" title=\"android how to fix spannablestrings from search in recyclerview\">stackoverflow.com/questions/67257217/&hellip;</a>"},{"owner":{"account_id":155198,"reputation":1655,"user_id":371686,"accept_rate":88,"display_name":"Armin Taghavizad"},"score":0,"creation_date":1699866994,"post_id":77458073,"comment_id":136580212,"body_markdown":"This not how you ask a question. You should work on your code and put what you have done so far, here. Read the Help Center topics to learn more about what questions you can ask and what type of questions you have to avoid. [Help Center](https://stackoverflow.com/help), [What types of questions should I avoid asking?](https://stackoverflow.com/help/dont-ask), [What topics can I ask about here?](https://stackoverflow.com/help/on-topic). Community will definitely be glad to help you for right questions","body":"This not how you ask a question. You should work on your code and put what you have done so far, here. Read the Help Center topics to learn more about what questions you can ask and what type of questions you have to avoid. <a href=\"https://stackoverflow.com/help\">Help Center</a>, <a href=\"https://stackoverflow.com/help/dont-ask\">What types of questions should I avoid asking?</a>, <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>. Community will definitely be glad to help you for right questions"}],"owner":{"account_id":22520329,"reputation":1,"user_id":16713996,"display_name":"Serizawa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1699597671,"creation_date":1699597671,"question_id":77458073,"body_markdown":"Can anyone help me, im working on offline dictionary app. searching working, but i want to add highlight color in texview when user searching some word.\r\n\r\n\r\n**ListArticles.java**\r\n \r\n```\r\nDataBaseHelper mDBHelper;\r\n\r\nfilterid = getIntent().getIntExtra(&quot;id_filter&quot;, 0);\r\n\r\n............\r\n  @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.articles, menu); \r\n\r\n        MenuItem search = menu.findItem(R.id.action_search);\r\n        final SearchView searchView = (SearchView) search.getActionView();\r\n\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String newText) {\r\n\r\n             \r\n             adapterArticlesFilterByName(newText, filterid);\r\n\r\n             //error GET VALUE HERE\r\n             artikel.setFilter(newText, filterid);\r\n                  \r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n          \r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n\r\n\r\n                return false;\r\n            }\r\n        });\r\n    }    \r\n\r\npublic void adapterArticlesFilterByName(String name, int filterid) {\r\n        mItemList.clear();\r\n        mItemList.addAll(mDBHelper.getListItemFilterByTitle(name, filterid));\r\n        if (mItemList.size() != 0) {\r\n            noArticles.setVisibility(View.GONE);\r\n            adapterRV = new ListArticleAdapter(this, mItemList);\r\n            adapterRV.setClickListener(this, this);\r\n\r\n             RVItems.setAdapter(adapterRV);\r\n        } else {\r\n            currentListCategorie = false;\r\n            noArticles.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n```\r\nsome funtion on :\r\n**DataBaseHelper.java**\r\n\r\n\r\n```\r\n..............\r\npublic List&lt;ItemListview&gt; getListItemFilterByTitle(String title, int filterid) {\r\n        ItemListview item = null;\r\n        List&lt;ItemListview&gt; itemList = new ArrayList&lt;&gt;();\r\n        openDatabase();\r\n        Cursor cursor = mDatabase.rawQuery(&quot;SELECT * FROM tbsubcategory where (deskripsi like &#39;%&quot;+title+&quot;%&#39; )  limit 500 &quot;, null);\r\n        cursor.moveToFirst();\r\n        while (!cursor.isAfterLast()) {\r\n            item = new ItemListview(cursor.getInt(0), cursor.getString(1), cursor.getString(2),\r\n                    cursor.getString(3), cursor.getInt(4));\r\n            itemList.add(item);\r\n            cursor.moveToNext();\r\n        }\r\n        cursor.close();\r\n        closeDatabase();\r\n\r\n        return itemList;\r\n    }\r\n\r\n.............\r\n```\r\n\r\nmodul :  **Itemlistview.java**\r\n\r\n\r\n```\r\n............\r\n\r\n\r\n\tpublic ItemListview(int id,  String icon, String judulnya, String artinya, int k) {\r\n\t\tsuper();\r\n\t\tthis.id=id;\r\n\t\tthis.icon = icon;\r\n\t\tthis.judulnya = judulnya;\r\n\t\tthis.artinya = artinya;;\r\n\t\tthis.k = k;\r\n\r\n\t}\r\n\r\n        public String getJudulnya() {\r\n\t\treturn judulnya;\r\n\t}\r\n\tpublic String getArtinya() {\r\n\t\treturn artinya;\r\n\t}\r\n..........\r\n```\r\n\r\n\r\n**ListArticleAdapter.java**\r\n\r\n\r\n```\r\n\r\n    private List&lt;Object&gt; mData = Collections.emptyList();\r\n    private LayoutInflater mInflater;\r\n    private ItemClickListener mClickListener, klikSuara;\r\n    Context mContext;\r\n    JSONObject json_obj;\r\n    View menuItemLayoutView;\r\n    String searchText;\r\n\r\n........\r\n\r\n// ERROR THIS T_T\r\n public void setFilter(String searchText, int idnya) {\r\n        this.searchText = searchText;\r\n       \r\n\r\n    }\r\n\r\n\r\n@Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        //menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\r\n        menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\r\n        return new MenuItemViewHolder(menuItemLayoutView);\r\n\r\n\r\n    }\r\n@Override\r\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n        final MenuItemViewHolder menuItemHolder = (MenuItemViewHolder) holder;\r\n         menuItemHolder.kelasnya.setText(((ItemListview)mData.get(position)).getArtinya().trim());\r\n         menuItemHolder.title.setText(((ItemListview)mData.get(position)).getJudulnya().trim());\r\n\r\n\r\n\r\n//MODE HIGHLIGHT TEXT HERE ... and error!!\r\n\r\n            String tvt = ((ItemListview)mData.get(position)).getArtinya();\r\n            int ofe = tvt.indexOf(searchText, 0);\r\n            Spannable wordToSpan = new SpannableString(((ItemListview)mData.get(position)).getArtinya());\r\n            for (int ofs = 0; ofs &lt; tvt.length() &amp;&amp; ofe != -1; ofs = ofe + 1) {\r\n                ofe = tvt.indexOf(searchText, ofs);\r\n                if (ofe == -1)\r\n                    break;\r\n                else {\r\n                    // set color here\r\n                    wordToSpan.setSpan(new BackgroundColorSpan(0xFFFFFF00), ofe, ofe + searchText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n                    menuItemHolder.kelasnya.setText(wordToSpan, TextView.BufferType.SPANNABLE);\r\n                }\r\n            }\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\nerror logcat : \r\n`FATAL EXCEPTION: main\r\n                 Process: net.icdx.english.offlline, PID: 18052\r\n                 java.lang.NullPointerException: Attempt to invoke virtual method &#39;void net.icdx.english.offlline.adapter.ListArticleAdapter.setFilter(java.lang.String, int)&#39; on a null object reference\r\n                 \tat net.icdx.english.offlline.daftarlist.ListArticles$5.onQueryTextSubmit(ListArticles.java:474)`\r\n\r\n\r\nmy expectation is if user search word &quot;er&quot; then like this :\r\n\r\n[&quot;er&quot;](https://i.stack.imgur.com/MW0gs.jpg)\r\n\r\n\r\n\r\n","title":"highlight color texview when searching on database sqlite android studio","body":"<p>Can anyone help me, im working on offline dictionary app. searching working, but i want to add highlight color in texview when user searching some word.</p>\n<p><strong>ListArticles.java</strong></p>\n<pre><code>DataBaseHelper mDBHelper;\n\nfilterid = getIntent().getIntExtra(&quot;id_filter&quot;, 0);\n\n............\n  @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.articles, menu); \n\n        MenuItem search = menu.findItem(R.id.action_search);\n        final SearchView searchView = (SearchView) search.getActionView();\n\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String newText) {\n\n             \n             adapterArticlesFilterByName(newText, filterid);\n\n             //error GET VALUE HERE\n             artikel.setFilter(newText, filterid);\n                  \n                }\n\n                return false;\n            }\n\n          \n            @Override\n            public boolean onQueryTextChange(String newText) {\n\n\n                return false;\n            }\n        });\n    }    \n\npublic void adapterArticlesFilterByName(String name, int filterid) {\n        mItemList.clear();\n        mItemList.addAll(mDBHelper.getListItemFilterByTitle(name, filterid));\n        if (mItemList.size() != 0) {\n            noArticles.setVisibility(View.GONE);\n            adapterRV = new ListArticleAdapter(this, mItemList);\n            adapterRV.setClickListener(this, this);\n\n             RVItems.setAdapter(adapterRV);\n        } else {\n            currentListCategorie = false;\n            noArticles.setVisibility(View.VISIBLE);\n        }\n    }\n</code></pre>\n<p>some funtion on :\n<strong>DataBaseHelper.java</strong></p>\n<pre><code>..............\npublic List&lt;ItemListview&gt; getListItemFilterByTitle(String title, int filterid) {\n        ItemListview item = null;\n        List&lt;ItemListview&gt; itemList = new ArrayList&lt;&gt;();\n        openDatabase();\n        Cursor cursor = mDatabase.rawQuery(&quot;SELECT * FROM tbsubcategory where (deskripsi like '%&quot;+title+&quot;%' )  limit 500 &quot;, null);\n        cursor.moveToFirst();\n        while (!cursor.isAfterLast()) {\n            item = new ItemListview(cursor.getInt(0), cursor.getString(1), cursor.getString(2),\n                    cursor.getString(3), cursor.getInt(4));\n            itemList.add(item);\n            cursor.moveToNext();\n        }\n        cursor.close();\n        closeDatabase();\n\n        return itemList;\n    }\n\n.............\n</code></pre>\n<p>modul :  <strong>Itemlistview.java</strong></p>\n<pre><code>............\n\n\n    public ItemListview(int id,  String icon, String judulnya, String artinya, int k) {\n        super();\n        this.id=id;\n        this.icon = icon;\n        this.judulnya = judulnya;\n        this.artinya = artinya;;\n        this.k = k;\n\n    }\n\n        public String getJudulnya() {\n        return judulnya;\n    }\n    public String getArtinya() {\n        return artinya;\n    }\n..........\n</code></pre>\n<p><strong>ListArticleAdapter.java</strong></p>\n<pre><code>\n    private List&lt;Object&gt; mData = Collections.emptyList();\n    private LayoutInflater mInflater;\n    private ItemClickListener mClickListener, klikSuara;\n    Context mContext;\n    JSONObject json_obj;\n    View menuItemLayoutView;\n    String searchText;\n\n........\n\n// ERROR THIS T_T\n public void setFilter(String searchText, int idnya) {\n        this.searchText = searchText;\n       \n\n    }\n\n\n@Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        //menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\n        menuItemLayoutView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_view_artikel, parent, false) ;\n        return new MenuItemViewHolder(menuItemLayoutView);\n\n\n    }\n@Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        final MenuItemViewHolder menuItemHolder = (MenuItemViewHolder) holder;\n         menuItemHolder.kelasnya.setText(((ItemListview)mData.get(position)).getArtinya().trim());\n         menuItemHolder.title.setText(((ItemListview)mData.get(position)).getJudulnya().trim());\n\n\n\n//MODE HIGHLIGHT TEXT HERE ... and error!!\n\n            String tvt = ((ItemListview)mData.get(position)).getArtinya();\n            int ofe = tvt.indexOf(searchText, 0);\n            Spannable wordToSpan = new SpannableString(((ItemListview)mData.get(position)).getArtinya());\n            for (int ofs = 0; ofs &lt; tvt.length() &amp;&amp; ofe != -1; ofs = ofe + 1) {\n                ofe = tvt.indexOf(searchText, ofs);\n                if (ofe == -1)\n                    break;\n                else {\n                    // set color here\n                    wordToSpan.setSpan(new BackgroundColorSpan(0xFFFFFF00), ofe, ofe + searchText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n                    menuItemHolder.kelasnya.setText(wordToSpan, TextView.BufferType.SPANNABLE);\n                }\n            }\n\n\n    }\n</code></pre>\n<p>error logcat :\n<code>FATAL EXCEPTION: main Process: net.icdx.english.offlline, PID: 18052 java.lang.NullPointerException: Attempt to invoke virtual method 'void net.icdx.english.offlline.adapter.ListArticleAdapter.setFilter(java.lang.String, int)' on a null object reference at net.icdx.english.offlline.daftarlist.ListArticles$5.onQueryTextSubmit(ListArticles.java:474)</code></p>\n<p>my expectation is if user search word &quot;er&quot; then like this :</p>\n<p><a href=\"https://i.stack.imgur.com/MW0gs.jpg\" rel=\"nofollow noreferrer\">&quot;er&quot;</a></p>\n"},{"tags":["java","infinispan"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699652772,"post_id":77458048,"comment_id":136563362,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":13189824,"reputation":1,"user_id":22891474,"display_name":"Vikas Jaiswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699597352,"creation_date":1699597289,"question_id":77458048,"body_markdown":"I am using replicated cache with 3 node cluster. Entries are expiring for expiry time set to 30 sec but it does not when expiry time is 24 hrs.\r\nInfinispan : 14.0.1\r\nJava : jdk11\r\n\r\nI am expecting the behaviour to be same for any expiry time provided. ","title":"Replicated cache return value after expiration for long stored values(24hrs) ie. It never expires but works fine when expiry time is less (30 sec)","body":"<p>I am using replicated cache with 3 node cluster. Entries are expiring for expiry time set to 30 sec but it does not when expiry time is 24 hrs.\nInfinispan : 14.0.1\nJava : jdk11</p>\n<p>I am expecting the behaviour to be same for any expiry time provided.</p>\n"},{"tags":["java","jvm","compiler-construction"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1699596563,"post_id":77457966,"comment_id":136554543,"body_markdown":"The JVM doesn&#39;t allocate memory whenever you do a computation using a primitive type.  Primitive values are held in registers and on the stack, and in fields of some object.  There is nothing special about a ternary operator in this respect.  Assuming that you are using primitive types (as in your examples), no memory is allocated.","body":"The JVM doesn&#39;t allocate memory whenever you do a computation using a primitive type.  Primitive values are held in registers and on the stack, and in fields of some object.  There is nothing special about a ternary operator in this respect.  Assuming that you are using primitive types (as in your examples), no memory is allocated."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1699596660,"post_id":77457966,"comment_id":136554552,"body_markdown":"&quot;Explain the problem of compiler type checking and jvm in runtime&quot; - This question is too broad.","body":"&quot;Explain the problem of compiler type checking and jvm in runtime&quot; - This question is too broad."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699596958,"post_id":77457966,"comment_id":136554578,"body_markdown":"`byte c=(a&lt;b)?10:20;` is not valid because `a` and `b` are not *constant expressions*.  (If you declared `a` and `b` as `final`, that example should compile.)   See [JLS 15.29](https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.29) and [JLS 5.2](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2).   Note that this is nothing to do with type checking.  It is just a specific rule that allows an implicit *narrowing conversion* because the compiler &quot;knows&quot; that the value being assigned is within the required range.","body":"<code>byte c=(a&lt;b)?10:20;</code> is not valid because <code>a</code> and <code>b</code> are not <i>constant expressions</i>.  (If you declared <code>a</code> and <code>b</code> as <code>final</code>, that example should compile.)   See <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">JLS 15.29</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">JLS 5.2</a>.   Note that this is nothing to do with type checking.  It is just a specific rule that allows an implicit <i>narrowing conversion</i> because the compiler &quot;knows&quot; that the value being assigned is within the required range."},{"owner":{"account_id":24110472,"reputation":1,"user_id":18081133,"display_name":"Boris Hartin&#237;k"},"score":0,"creation_date":1699599588,"post_id":77457966,"comment_id":136554825,"body_markdown":"Thank you for reply. I am beginner in Java and I dont know whether understand correctly byte c = (a&lt;b)?10:20; what values compiler knows(10 and 20)? and JVM knows a and b? Who wants assigned the value to byte c?","body":"Thank you for reply. I am beginner in Java and I dont know whether understand correctly byte c = (a&lt;b)?10:20; what values compiler knows(10 and 20)? and JVM knows a and b? Who wants assigned the value to byte c?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699600426,"post_id":77457966,"comment_id":136554922,"body_markdown":"If you are a beginner at Java, you should not be asking questions about how memory is managed, and how type checking works.  They are beyond your ability to understand the answers.  Wait until you know more about how to write Java programs before you ask deep questions about how it works.","body":"If you are a beginner at Java, you should not be asking questions about how memory is managed, and how type checking works.  They are beyond your ability to understand the answers.  Wait until you know more about how to write Java programs before you ask deep questions about how it works."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699600525,"post_id":77457966,"comment_id":136554939,"body_markdown":"For that example, all you need to know is that you can use a type-cast to make it work; i.e. `byte c = (byte) ((a &lt; b) ? 10 : 20);`   (If you really want to understand &quot;why&quot; you need to be able to read the JLS.  And you don&#39;t have enough technical knowledge for that ... yet.  And indeed, most Java programmers don&#39;t ever get that far.)","body":"For that example, all you need to know is that you can use a type-cast to make it work; i.e. <code>byte c = (byte) ((a &lt; b) ? 10 : 20);</code>   (If you really want to understand &quot;why&quot; you need to be able to read the JLS.  And you don&#39;t have enough technical knowledge for that ... yet.  And indeed, most Java programmers don&#39;t ever get that far.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699600761,"post_id":77457966,"comment_id":136554967,"body_markdown":"To give you a literal answer to your question: the compiler knows that `10` and `20` are `int` values and it knows that `a` and `b` are `int` variables (not `final`).","body":"To give you a literal answer to your question: the compiler knows that <code>10</code> and <code>20</code> are <code>int</code> values and it knows that <code>a</code> and <code>b</code> are <code>int</code> variables (not <code>final</code>)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699600981,"post_id":77457966,"comment_id":136554987,"body_markdown":"If the code doesn&#39;t compile the JVM can&#39;t execute it at all, so the question of whether the JVM allocates memory doesn&#39;t arise. Your question doesn&#39;t make sense.","body":"If the code doesn&#39;t compile the JVM can&#39;t execute it at all, so the question of whether the JVM allocates memory doesn&#39;t arise. Your question doesn&#39;t make sense."},{"owner":{"account_id":24110472,"reputation":1,"user_id":18081133,"display_name":"Boris Hartin&#237;k"},"score":0,"creation_date":1699601164,"post_id":77457966,"comment_id":136555010,"body_markdown":"aha, so compiler knows datatypes of literal values and knows datatypes of a and b values? and JVM only allocates memory for that datatypes in memory and keep values here? Sorry for inconvenience I am interested in it.","body":"aha, so compiler knows datatypes of literal values and knows datatypes of a and b values? and JVM only allocates memory for that datatypes in memory and keep values here? Sorry for inconvenience I am interested in it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1699608812,"post_id":77457966,"comment_id":136556222,"body_markdown":"You should not conflate compiler and JVM’s memory management. The JVM is entirely irrelevant. The compiler follows strict rules. You can only assign an `int` value to a `byte` variable if the value is a compile-time constant and within the byte value range. In all other cases, it’s not allowed, regardless of how obvious the correctness would look to a human reader. E.g. when you have `void foo(byte b) {}`, you can not do `foo(10);` because it’s not covered by the mentioned rule.","body":"You should not conflate compiler and JVM’s memory management. The JVM is entirely irrelevant. The compiler follows strict rules. You can only assign an <code>int</code> value to a <code>byte</code> variable if the value is a compile-time constant and within the byte value range. In all other cases, it’s not allowed, regardless of how obvious the correctness would look to a human reader. E.g. when you have <code>void foo(byte b) {}</code>, you can not do <code>foo(10);</code> because it’s not covered by the mentioned rule."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1699597424,"post_id":77458037,"comment_id":136554635,"body_markdown":"*&quot;The interpreter is not going to traverse too deep.\nI imagine if you&#39;re providing a dynamic value, it&#39;s not going to evaluate anything.&quot;* - Actually, this is all specified in the JLS.  It is not a question of whether the compiler (or interpreter) *could* implement it.  (Either could ... but they not allowed to ...)","body":"<i>&quot;The interpreter is not going to traverse too deep. I imagine if you&#39;re providing a dynamic value, it&#39;s not going to evaluate anything.&quot;</i> - Actually, this is all specified in the JLS.  It is not a question of whether the compiler (or interpreter) <i>could</i> implement it.  (Either could ... but they not allowed to ...)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699606810,"post_id":77458037,"comment_id":136555850,"body_markdown":"To allocate memory can mean different things, depending on what you are looking at. Further, it’s not clear whether the OP referred to local variables or fields. Memory for fields in only allocated when an instance is created. Memory for local variables, on the other hand, is allocated when the thread is started, which is why you may end up with an error if the stack turns out to be too small for what your code does (unless the JVM supports stack expansion, unlike HotSpot). Further, for local variables the compiled code for, e.g. `int i = 40;`, `byte b = 40;`, or `char c = &#39;(&#39;;` is identical.","body":"To allocate memory can mean different things, depending on what you are looking at. Further, it’s not clear whether the OP referred to local variables or fields. Memory for fields in only allocated when an instance is created. Memory for local variables, on the other hand, is allocated when the thread is started, which is why you may end up with an error if the stack turns out to be too small for what your code does (unless the JVM supports stack expansion, unlike HotSpot). Further, for local variables the compiled code for, e.g. <code>int i = 40;</code>, <code>byte b = 40;</code>, or <code>char c = &#39;(&#39;;</code> is identical."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699597153,"creation_date":1699597153,"answer_id":77458037,"question_id":77457966,"body_markdown":"&gt; _&#39;... Compiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value? ...&#39;_\r\n\r\nThe value _40_ is an _int literal_, so the compiler is going to evaluate if the declared _data-type_ can contain it.\r\n\r\nIn other-words, the following will not compile.\r\n\r\n```java\r\nbyte b =1234;\r\n```\r\n\r\n&gt; _&#39;... Compiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case? ...&#39;_\r\n\r\nIt will only allocate the memory for a _byte_, if your provided value can fit within the bounds.\r\n\r\nMeaning, the following will compile.\r\n\r\n```java\r\nbyte a = 10&lt;20?30:1234;\r\n```\r\n\r\n&gt; _&#39;... Compiler does not know values a, b only does type checking datatypes(int)-first line ...\\\r\n&gt;\\\r\n&gt; ... i dont know where i understand correct why number 20(false) cannot be assigned to byte ...&#39;_\r\n\r\nThe interpreter is not going to traverse too deep.\\\r\nI imagine if you&#39;re providing a dynamic value, it&#39;s not going to evaluate anything.\r\n\r\nAlternately, you can declare _a_ and _b_ as _final_, although I&#39;m not sure how practical that is.\r\n\r\n```java\r\nfinal int a =30,b=20;\r\n\r\nbyte c= (a&lt;b)?10:20;\r\n```","title":"Ternary operator in java - not understandin from compiler and jvm perspective","body":"<blockquote>\n<p><em>'... Compiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value? ...'</em></p>\n</blockquote>\n<p>The value <em>40</em> is an <em>int literal</em>, so the compiler is going to evaluate if the declared <em>data-type</em> can contain it.</p>\n<p>In other-words, the following will not compile.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b =1234;\n</code></pre>\n<blockquote>\n<p><em>'... Compiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case? ...'</em></p>\n</blockquote>\n<p>It will only allocate the memory for a <em>byte</em>, if your provided value can fit within the bounds.</p>\n<p>Meaning, the following will compile.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte a = 10&lt;20?30:1234;\n</code></pre>\n<blockquote>\n<p><em>'... Compiler does not know values a, b only does type checking datatypes(int)-first line ...<br />\n<br />\n... i dont know where i understand correct why number 20(false) cannot be assigned to byte ...'</em></p>\n</blockquote>\n<p>The interpreter is not going to traverse too deep.<br />\nI imagine if you're providing a dynamic value, it's not going to evaluate anything.</p>\n<p>Alternately, you can declare <em>a</em> and <em>b</em> as <em>final</em>, although I'm not sure how practical that is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int a =30,b=20;\n\nbyte c= (a&lt;b)?10:20;\n</code></pre>\n"}],"owner":{"account_id":24110472,"reputation":1,"user_id":18081133,"display_name":"Boris Hartin&#237;k"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699597153,"creation_date":1699595725,"question_id":77457966,"body_markdown":"Do i understand correctly this\r\n\r\nbyte b =40;\r\n\r\nCompiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value?\r\n\r\nIf i unerstand correct, my drama is here in ternary operator\r\n\r\nbyte a = 10&lt;20?30:40;\r\n\r\nCompiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case?\r\n\r\nSecond example\r\n\r\nint a =30,b=20;\r\n\r\nbyte c=(a&lt;b)?10:20;\r\n\r\n\r\n\r\nCompiler does not know values a, b only does type checking datatypes(int)-first line, \r\n\r\nsecond line compiler knows values 10 and 20 but comparison will be done by JVM(jvm knows values?)so jvm comes and do a comparison and promote the number 10 and 20 to int type??, so thhis number cannot be assigned to byte variable?… i dont know where i understand correct why number 20(false) cannot be assigned to byte…\r\n\r\nThank you\r\n\r\nExplain the problem of compiler type checking and jvm in runtime","title":"Ternary operator in java - not understandin from compiler and jvm perspective","body":"<p>Do i understand correctly this</p>\n<p>byte b =40;</p>\n<p>Compiler-type checking whether value belong to within range of datatype(byte) Ok, then JVM allocates memory and keep the value?</p>\n<p>If i unerstand correct, my drama is here in ternary operator</p>\n<p>byte a = 10&lt;20?30:40;</p>\n<p>Compiler knows datatype and value constant, so compiler will do comparison and assigned the value to variable “a”?? So jvm dont allocate memory in this case?</p>\n<p>Second example</p>\n<p>int a =30,b=20;</p>\n<p>byte c=(a&lt;b)?10:20;</p>\n<p>Compiler does not know values a, b only does type checking datatypes(int)-first line,</p>\n<p>second line compiler knows values 10 and 20 but comparison will be done by JVM(jvm knows values?)so jvm comes and do a comparison and promote the number 10 and 20 to int type??, so thhis number cannot be assigned to byte variable?… i dont know where i understand correct why number 20(false) cannot be assigned to byte…</p>\n<p>Thank you</p>\n<p>Explain the problem of compiler type checking and jvm in runtime</p>\n"},{"tags":["java","android"],"owner":{"account_id":28766883,"reputation":1,"user_id":22031589,"display_name":"Petrick Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699596819,"creation_date":1686073969,"question_id":76417228,"body_markdown":"I want to create an android app that will contain a sliding panel from the top of the screen similar to android Quick Settings panel. When I swipe down from the top of the screen, a custom Quick Settings panel layout will be shown. And When I swipe up, the panel will be slide upwards. I want to make the sliding down and sliding up animations same as that of Android Quick Settings panel. I searched for the exact codes in AOSP repository. But the code for this is not in a single place. Rather it&#39;s pretty much scattered in parts there in AOSP. How to achieve this?","title":"How to add android sliding down and sliding up gestures like AOSP QS Panel to my custom quick settings panel?","body":"<p>I want to create an android app that will contain a sliding panel from the top of the screen similar to android Quick Settings panel. When I swipe down from the top of the screen, a custom Quick Settings panel layout will be shown. And When I swipe up, the panel will be slide upwards. I want to make the sliding down and sliding up animations same as that of Android Quick Settings panel. I searched for the exact codes in AOSP repository. But the code for this is not in a single place. Rather it's pretty much scattered in parts there in AOSP. How to achieve this?</p>\n"},{"tags":["java","builder","lombok"],"answers":[{"comments":[{"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"score":1,"creation_date":1448654987,"post_id":30725879,"comment_id":55685717,"body_markdown":"Yes, it could have any visibility, including `private`. The disclosure is to indicate that the answer or opinion might be biased. In this case it&#39;s not that relevant, but I took up the habit to add that to all my lombok related answers.","body":"Yes, it could have any visibility, including <code>private</code>. The disclosure is to indicate that the answer or opinion might be biased. In this case it&#39;s not that relevant, but I took up the habit to add that to all my lombok related answers."},{"owner":{"account_id":2150179,"reputation":133,"user_id":1906791,"display_name":"Staratnight"},"score":80,"creation_date":1460447376,"post_id":30725879,"comment_id":60733130,"body_markdown":"I stumbled over this question and answer since I have the same question in mind.\nThe constructor solution is not really a good one in my case.\nI have a class with 29 properties (an entity) and only want one of them to not be included in the builder (in fact: the id).\n\nIs there no way of exclude mechanism just like in the @ToString?\n\nMain reason to use Lombok is to avoid clutter. A Constructor with 28 parameters is not what I want to see.","body":"I stumbled over this question and answer since I have the same question in mind. The constructor solution is not really a good one in my case. I have a class with 29 properties (an entity) and only want one of them to not be included in the builder (in fact: the id).  Is there no way of exclude mechanism just like in the @ToString?  Main reason to use Lombok is to avoid clutter. A Constructor with 28 parameters is not what I want to see."},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1475852066,"post_id":30725879,"comment_id":67124019,"body_markdown":"Did lombok project address the issue presented here by @Staratnight?","body":"Did lombok project address the issue presented here by @Staratnight?"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":4,"creation_date":1475852497,"post_id":30725879,"comment_id":67124288,"body_markdown":"@Staratnight This answer may help you: http://stackoverflow.com/a/39920328/363573","body":"@Staratnight This answer may help you: <a href=\"http://stackoverflow.com/a/39920328/363573\">stackoverflow.com/a/39920328/363573</a>"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":55,"creation_date":1539335754,"post_id":30725879,"comment_id":92474166,"body_markdown":"Is there any plan to add something like _ignore_ attribute to `@Builder` annotation or annotation `@Builder.Ignore` to fields ?","body":"Is there any plan to add something like <i>ignore</i> attribute to <code>@Builder</code> annotation or annotation <code>@Builder.Ignore</code> to fields ?"},{"owner":{"account_id":1573896,"reputation":793,"user_id":1460924,"display_name":"rudi"},"score":0,"creation_date":1558107542,"post_id":30725879,"comment_id":99004267,"body_markdown":"@Roel Spilker: I tried to set it on the &quot;required-args&quot; constructor generated by lombok (1.18.6), but this causes a NPE at the compiler (java8) :) \n`@RequiredArgsConstructor(onConstructor = @__({ @Builder }))`","body":"@Roel Spilker: I tried to set it on the &quot;required-args&quot; constructor generated by lombok (1.18.6), but this causes a NPE at the compiler (java8) :)  <code>@RequiredArgsConstructor(onConstructor = @__({ @Builder }))</code>"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":1,"creation_date":1575424713,"post_id":30725879,"comment_id":104559179,"body_markdown":"@Staratnight Btw I think the constructor with 29 properties is a reason to think about refactoring)","body":"@Staratnight Btw I think the constructor with 29 properties is a reason to think about refactoring)"},{"owner":{"account_id":2150179,"reputation":133,"user_id":1906791,"display_name":"Staratnight"},"score":0,"creation_date":1575525436,"post_id":30725879,"comment_id":104597704,"body_markdown":"I agree with you in general. Since we use Lombok to help us with entities, 29 is reached easily on central Objects. Even if you try to get all in derived tables, you need to manage foreign keys.","body":"I agree with you in general. Since we use Lombok to help us with entities, 29 is reached easily on central Objects. Even if you try to get all in derived tables, you need to manage foreign keys."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":11,"creation_date":1579211379,"post_id":30725879,"comment_id":105700725,"body_markdown":"Doesn&#39;t work if the fields have been initialized to default values. You can&#39;t reassign final fields. IMO, providing an `ignore` attribute on `Builder` is simply common sense.","body":"Doesn&#39;t work if the fields have been initialized to default values. You can&#39;t reassign final fields. IMO, providing an <code>ignore</code> attribute on <code>Builder</code> is simply common sense."},{"owner":{"account_id":8767179,"reputation":432,"user_id":6555159,"accept_rate":86,"display_name":"socona"},"score":0,"creation_date":1613052281,"post_id":30725879,"comment_id":116960762,"body_markdown":"The second answer, using `final`, works perfect for me: https://stackoverflow.com/a/39920328/6555159","body":"The second answer, using <code>final</code>, works perfect for me: <a href=\"https://stackoverflow.com/a/39920328/6555159\">stackoverflow.com/a/39920328/6555159</a>"},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":5,"creation_date":1615406107,"post_id":30725879,"comment_id":117683747,"body_markdown":"As you made clear that you are a Lombock developer, I am confused by the fact that you encourage to create a constructor, which is exactly what the builder tries to avoid. I don&#39;t know if you&#39;ve read @pirho &#39;s question, but it seems the next natural step on the library and it would be really helpful.","body":"As you made clear that you are a Lombock developer, I am confused by the fact that you encourage to create a constructor, which is exactly what the builder tries to avoid. I don&#39;t know if you&#39;ve read @pirho &#39;s question, but it seems the next natural step on the library and it would be really helpful."},{"owner":{"account_id":7099163,"reputation":381,"user_id":5431486,"display_name":"anas p a"},"score":0,"creation_date":1648028454,"post_id":30725879,"comment_id":126517953,"body_markdown":"How can we exclude a field of an object if it is an inner object otherwise we have to include it?","body":"How can we exclude a field of an object if it is an inner object otherwise we have to include it?"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":5,"creation_date":1650507510,"post_id":30725879,"comment_id":127135639,"body_markdown":"Funny. Lombok provides ways how to avoid boilerplate things. Now it suggests what it once let us avoid.","body":"Funny. Lombok provides ways how to avoid boilerplate things. Now it suggests what it once let us avoid."},{"owner":{"account_id":2104083,"reputation":1196,"user_id":1870884,"display_name":"Tina"},"score":1,"creation_date":1667938406,"post_id":30725879,"comment_id":131286543,"body_markdown":"Thanks for your work on Lombuk, this library has saved me some time. I wish I knew sooner I could annotate a constructor to customize the builder and not just the class. I think the docs could be improved to communicate common use cases like this and include examples, otherwise an amazing library.","body":"Thanks for your work on Lombuk, this library has saved me some time. I wish I knew sooner I could annotate a constructor to customize the builder and not just the class. I think the docs could be improved to communicate common use cases like this and include examples, otherwise an amazing library."},{"owner":{"account_id":424031,"reputation":12090,"user_id":803801,"accept_rate":71,"display_name":"gsgx"},"score":0,"creation_date":1668224803,"post_id":30725879,"comment_id":131359907,"body_markdown":"There was an issue created to improve this, but it was closed: https://github.com/projectlombok/lombok/issues/2307","body":"There was an issue created to improve this, but it was closed: <a href=\"https://github.com/projectlombok/lombok/issues/2307\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/2307</a>"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1687844478,"post_id":30725879,"comment_id":134989460,"body_markdown":"Note: the `@Builder` annotation has to be put on the constructor _instead_ of on the class.  If it&#39;s on both locations, the one on the class appears to win in terms of which methods are added to the builder.","body":"Note: the <code>@Builder</code> annotation has to be put on the constructor <i>instead</i> of on the class.  If it&#39;s on both locations, the one on the class appears to win in terms of which methods are added to the builder."}],"tags":[],"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"comment_count":16,"down_vote_count":9,"up_vote_count":228,"is_accepted":true,"score":219,"last_activity_date":1433835757,"creation_date":1433835757,"answer_id":30725879,"question_id":30717640,"body_markdown":"Yes, you can place [@Builder](https://projectlombok.org/features/Builder.html) on a constructor or static (factory) method, containing just the fields you want. \r\n\r\nDisclosure: I am a Lombok developer.","title":"How to exclude property from Lombok builder?","body":"<p>Yes, you can place <a href=\"https://projectlombok.org/features/Builder.html\">@Builder</a> on a constructor or static (factory) method, containing just the fields you want. </p>\n\n<p>Disclosure: I am a Lombok developer.</p>\n"},{"comments":[{"owner":{"account_id":2150179,"reputation":133,"user_id":1906791,"display_name":"Staratnight"},"score":2,"creation_date":1475997890,"post_id":39920328,"comment_id":67163146,"body_markdown":"Thanks Stephan for the answer. In my case it does not work since the field I want to ignore is derived from parent class.","body":"Thanks Stephan for the answer. In my case it does not work since the field I want to ignore is derived from parent class."},{"owner":{"account_id":4820059,"reputation":331,"user_id":4465567,"display_name":"Dominik"},"score":8,"creation_date":1484648437,"post_id":39920328,"comment_id":70584946,"body_markdown":"What?! I use builder on daily basis with final fields, how could they be ignored? :D currently using version 1.16.12","body":"What?! I use builder on daily basis with final fields, how could they be ignored? :D currently using version 1.16.12"},{"owner":{"account_id":1326695,"reputation":1510,"user_id":1271372,"display_name":"Piohen"},"score":3,"creation_date":1487066739,"post_id":39920328,"comment_id":71606158,"body_markdown":"@Stephan How could this be true? I mean: the purpose of the builder pattern is to avoid a constructors with all these lengthy parameter lists. Field being final has nothing to do: builder&#39;s purpose is to gather all parameters in &quot;chaining method fashion&quot; instead of one huge bump.\nBesides, I checked that and adding final doesn&#39;t affect the builder&#39;s construction.","body":"@Stephan How could this be true? I mean: the purpose of the builder pattern is to avoid a constructors with all these lengthy parameter lists. Field being final has nothing to do: builder&#39;s purpose is to gather all parameters in &quot;chaining method fashion&quot; instead of one huge bump. Besides, I checked that and adding final doesn&#39;t affect the builder&#39;s construction."},{"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"score":0,"creation_date":1550150970,"post_id":39920328,"comment_id":96170576,"body_markdown":"What if I don&#39;t want them to be final and I don&#39;t want them to be on the builder?","body":"What if I don&#39;t want them to be final and I don&#39;t want them to be on the builder?"},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":8,"creation_date":1551278223,"post_id":39920328,"comment_id":96582772,"body_markdown":"Perfect! `@Builder` &quot;adds&quot; only final fields without values: `final String myField` - present, `final String myField=&quot;&quot;` - ignored. :)","body":"Perfect! <code>@Builder</code> &quot;adds&quot; only final fields without values: <code>final String myField</code> - present, <code>final String myField=&quot;&quot;</code> - ignored. :)"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1579210708,"post_id":39920328,"comment_id":105700440,"body_markdown":"Remember not everything is thread-safe, so making it `public static` isn&#39;t always the best idea. Besides, initializing the property like this only works for trivial cases, not when it needs to consider the values of other fields.","body":"Remember not everything is thread-safe, so making it <code>public static</code> isn&#39;t always the best idea. Besides, initializing the property like this only works for trivial cases, not when it needs to consider the values of other fields."},{"owner":{"account_id":2927437,"reputation":1282,"user_id":2508466,"accept_rate":0,"display_name":"yaccob"},"score":0,"creation_date":1620405312,"post_id":39920328,"comment_id":119200164,"body_markdown":"@AbhijitSarkar, even in a single-threaded context public static fields are very problematic (unless they are immutable). I don&#39;t see how public static fields are related with thread-safety.","body":"@AbhijitSarkar, even in a single-threaded context public static fields are very problematic (unless they are immutable). I don&#39;t see how public static fields are related with thread-safety."},{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1622473472,"post_id":39920328,"comment_id":119797138,"body_markdown":"@Stephan That is because they haven&#39;tbeen initialized. This is why he sets it to &quot;bar&quot; in example. Same result with `@Generated`. The generator gives it a value &amp; makes it immutable.","body":"@Stephan That is because they haven&#39;tbeen initialized. This is why he sets it to &quot;bar&quot; in example. Same result with <code>@Generated</code>. The generator gives it a value &amp; makes it immutable."},{"owner":{"account_id":13222712,"reputation":101,"user_id":9548903,"display_name":"Ola"},"score":0,"creation_date":1683473954,"post_id":39920328,"comment_id":134369024,"body_markdown":"Exactly as @Cherry said the fields are &quot;ignored&quot; by being initialised with nulls.","body":"Exactly as @Cherry said the fields are &quot;ignored&quot; by being initialised with nulls."}],"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":9,"down_vote_count":7,"up_vote_count":49,"is_accepted":false,"score":42,"last_activity_date":1475852467,"creation_date":1475852467,"answer_id":39920328,"question_id":30717640,"body_markdown":"Alternatively, I found out that marking a field as **final**, **static** or **static final** instructs `@Builder` to ignore this field.\r\n\r\n    @Builder\r\n    public class MyClass {\r\n       private String myField;\r\n\r\n       private final String excludeThisField = &quot;bar&quot;;\r\n    }\r\n\r\n**Lombok 1.16.10**","title":"How to exclude property from Lombok builder?","body":"<p>Alternatively, I found out that marking a field as <strong>final</strong>, <strong>static</strong> or <strong>static final</strong> instructs <code>@Builder</code> to ignore this field.</p>\n\n<pre><code>@Builder\npublic class MyClass {\n   private String myField;\n\n   private final String excludeThisField = \"bar\";\n}\n</code></pre>\n\n<p><strong>Lombok 1.16.10</strong></p>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":3,"creation_date":1579211762,"post_id":44395110,"comment_id":105700871,"body_markdown":"What happens to the `client` argument, it is ignored.","body":"What happens to the <code>client</code> argument, it is ignored."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":6,"creation_date":1615405925,"post_id":44395110,"comment_id":117683678,"body_markdown":"Best solution so far.","body":"Best solution so far."},{"owner":{"account_id":15537624,"reputation":875,"user_id":11209401,"display_name":"David"},"score":0,"creation_date":1668025262,"post_id":44395110,"comment_id":131310320,"body_markdown":"even works with `private void client() {}`","body":"even works with <code>private void client() {}</code>"}],"tags":[],"owner":{"account_id":3202576,"reputation":480,"user_id":2704362,"accept_rate":60,"display_name":"Bill H"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1496765874,"creation_date":1496765874,"answer_id":44395110,"question_id":30717640,"body_markdown":"Create the builder in code and add a private setter for your property.\r\n    \r\n    @Builder\r\n    XYZClientWrapper{\r\n        String name;\r\n        String domain;\r\n        XYZClient client;\r\n\r\n        public static class XYZClientWrapperBuilder {\r\n            private XYZClientWrapperBuilder client(XYZClient client) { return this; }\r\n        }\r\n    }","title":"How to exclude property from Lombok builder?","body":"<p>Create the builder in code and add a private setter for your property.</p>\n\n<pre><code>@Builder\nXYZClientWrapper{\n    String name;\n    String domain;\n    XYZClient client;\n\n    public static class XYZClientWrapperBuilder {\n        private XYZClientWrapperBuilder client(XYZClient client) { return this; }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37645,"reputation":5554,"user_id":107683,"accept_rate":63,"display_name":"Richard Collette"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514865621,"creation_date":1509430231,"answer_id":47028916,"question_id":30717640,"body_markdown":"I found that I was able to implement a &quot;shell&quot; of the static Builder class, add the method I want to hide with a private access modifier, and it is no longer accessible in the builder.  Likewise I can add custom methods to the builder as well.\r\n\r\n\r\n    package com.something;\r\n    \r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.AttributeOverride;\r\n    import javax.persistence.AttributeOverrides;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Embedded;\r\n    import javax.persistence.Entity;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    @Data\r\n    @Entity\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class MyClass{\r\n    \r\n        //The builder will generate a method for this property for us.\r\n        private String anotherProperty;\r\n    \r\n        @Embedded\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;localDateTime&quot;, column = @Column(name = &quot;some_date_local_date_time&quot;)),\r\n                @AttributeOverride(name = &quot;zoneId&quot;, column = @Column(name = &quot;some__date_zone_id&quot;))\r\n        })\r\n        @Getter(AccessLevel.PRIVATE)\r\n        @Setter(AccessLevel.PRIVATE)\r\n        private ZonedDateTimeEmbeddable someDateInternal;\r\n    \r\n        public ZonedDateTime getSomeDate() {\r\n            return someDateInternal.toZonedDateTime();\r\n        }\r\n    \r\n        public void setSomeDate(ZonedDateTime someDate) {\r\n            someDateInternal = new ZonedDateTimeEmbeddable(someDate);\r\n        }\r\n    \r\n        public static class MyClassBuilder {\r\n            //Prevent direct access to the internal private field by pre-creating builder method with private access.\r\n            private MyClassBuilder shipmentDateInternal(ZonedDateTimeEmbeddable zonedDateTimeEmbeddable) {\r\n                return this;\r\n            }\r\n    \r\n            //Add a builder method because we don&#39;t have a field for this Type\r\n            public MyClassBuilder someDate(ZonedDateTime someDate) {\r\n                someDateInternal = new ZonedDateTimeEmbeddable(someDate);\r\n                return this;\r\n            }\r\n        }\r\n    \r\n    }","title":"How to exclude property from Lombok builder?","body":"<p>I found that I was able to implement a \"shell\" of the static Builder class, add the method I want to hide with a private access modifier, and it is no longer accessible in the builder.  Likewise I can add custom methods to the builder as well.</p>\n\n<pre><code>package com.something;\n\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.AttributeOverride;\nimport javax.persistence.AttributeOverrides;\nimport javax.persistence.Column;\nimport javax.persistence.Embedded;\nimport javax.persistence.Entity;\nimport java.time.ZonedDateTime;\n\n@Data\n@Entity\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MyClass{\n\n    //The builder will generate a method for this property for us.\n    private String anotherProperty;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = \"localDateTime\", column = @Column(name = \"some_date_local_date_time\")),\n            @AttributeOverride(name = \"zoneId\", column = @Column(name = \"some__date_zone_id\"))\n    })\n    @Getter(AccessLevel.PRIVATE)\n    @Setter(AccessLevel.PRIVATE)\n    private ZonedDateTimeEmbeddable someDateInternal;\n\n    public ZonedDateTime getSomeDate() {\n        return someDateInternal.toZonedDateTime();\n    }\n\n    public void setSomeDate(ZonedDateTime someDate) {\n        someDateInternal = new ZonedDateTimeEmbeddable(someDate);\n    }\n\n    public static class MyClassBuilder {\n        //Prevent direct access to the internal private field by pre-creating builder method with private access.\n        private MyClassBuilder shipmentDateInternal(ZonedDateTimeEmbeddable zonedDateTimeEmbeddable) {\n            return this;\n        }\n\n        //Add a builder method because we don't have a field for this Type\n        public MyClassBuilder someDate(ZonedDateTime someDate) {\n            someDateInternal = new ZonedDateTimeEmbeddable(someDate);\n            return this;\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1579211924,"post_id":53661343,"comment_id":105700923,"body_markdown":"This defeats the design principle of a builder. The fields aren&#39;t private or final anymore. If you want default values, you&#39;ll have to do that yourself.","body":"This defeats the design principle of a builder. The fields aren&#39;t private or final anymore. If you want default values, you&#39;ll have to do that yourself."},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":2,"creation_date":1638664725,"post_id":53661343,"comment_id":124148594,"body_markdown":"you can make them final and private","body":"you can make them final and private"}],"tags":[],"owner":{"account_id":4569567,"reputation":1104,"user_id":3709620,"accept_rate":79,"display_name":"SexyNerd"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1697651059,"creation_date":1544139912,"answer_id":53661343,"question_id":30717640,"body_markdown":"Here is my preferred solution. With that, you can create your field `client` at the end and have it depending on other fields that previously set by the builder.\r\n\r\n\r\n    XYZClientWrapper{\r\n        private final String name;\r\n        private final String domain;\r\n        private final XYZClient client;\r\n        \r\n        @Builder\r\n        public XYZClientWrapper(String name, String domain) {\r\n            this.name = name;\r\n            this.domain = domain;\r\n            this.client = calculateClient();\r\n        }\r\n    }","title":"How to exclude property from Lombok builder?","body":"<p>Here is my preferred solution. With that, you can create your field <code>client</code> at the end and have it depending on other fields that previously set by the builder.</p>\n<pre><code>XYZClientWrapper{\n    private final String name;\n    private final String domain;\n    private final XYZClient client;\n    \n    @Builder\n    public XYZClientWrapper(String name, String domain) {\n        this.name = name;\n        this.domain = domain;\n        this.client = calculateClient();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1615568581,"creation_date":1547649058,"answer_id":54219283,"question_id":30717640,"body_markdown":"For factory static method example\r\n\r\n    class Car {\r\n       private String name;\r\n       private String model;\r\n    \r\n    \r\n       private Engine engine; // we want to ignore setting this\r\n       \r\n       @Builder\r\n       private static Car of(String name, String model){\r\n          Car car=new Car();\r\n          car.name = name;\r\n          car.model = model;\r\n          constructEngine(car); // some static private method to construct engine internally\r\n          return car;  \r\n       }\r\n\r\n       private static void constructEngine(Car car) {\r\n           // car.engine = blabla...\r\n           // construct engine internally\r\n       }\r\n    }\r\n\r\nthen you can use as follows:\r\n\r\n    \r\n    Car toyotaCorollaCar=Car.builder().name(&quot;Toyota&quot;).model(&quot;Corolla&quot;).build();\r\n    // You can see now that Car.builder().engine() is not available\r\n\r\n\r\n**Notice** the static method ``of`` will be called whenever build() is called, so doing something like `Car.builder().name(&quot;Toyota&quot;)` won&#39;t actually set the value `&quot;Toyota&quot;` into `name` unless `build()` is called and then assigning logic within the constructor static method `of` is executed.\r\n\r\nAlso, **Notice** that the `of` method is privately accessed so that `build` method is the only method visible to the callers","title":"How to exclude property from Lombok builder?","body":"<p>For factory static method example</p>\n<pre><code>class Car {\n   private String name;\n   private String model;\n\n\n   private Engine engine; // we want to ignore setting this\n   \n   @Builder\n   private static Car of(String name, String model){\n      Car car=new Car();\n      car.name = name;\n      car.model = model;\n      constructEngine(car); // some static private method to construct engine internally\n      return car;  \n   }\n\n   private static void constructEngine(Car car) {\n       // car.engine = blabla...\n       // construct engine internally\n   }\n}\n</code></pre>\n<p>then you can use as follows:</p>\n<pre><code>Car toyotaCorollaCar=Car.builder().name(&quot;Toyota&quot;).model(&quot;Corolla&quot;).build();\n// You can see now that Car.builder().engine() is not available\n</code></pre>\n<p><strong>Notice</strong> the static method <code>of</code> will be called whenever build() is called, so doing something like <code>Car.builder().name(&quot;Toyota&quot;)</code> won't actually set the value <code>&quot;Toyota&quot;</code> into <code>name</code> unless <code>build()</code> is called and then assigning logic within the constructor static method <code>of</code> is executed.</p>\n<p>Also, <strong>Notice</strong> that the <code>of</code> method is privately accessed so that <code>build</code> method is the only method visible to the callers</p>\n"},{"tags":[],"owner":{"account_id":7185024,"reputation":191,"user_id":5487331,"display_name":"kattoha"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566397260,"creation_date":1566397260,"answer_id":57593808,"question_id":30717640,"body_markdown":"I found one more solution\r\nYou can wrap your field into **initiated final** wrapper or proxy. \r\nThe easiest way to wrap it into AtomicReference.\r\n\r\n    @Builder\r\n    public class Example {\r\n        private String field1;\r\n        private String field2;\r\n        private final AtomicReference&lt;String&gt; excluded = new AtomicReference&lt;&gt;(null);\r\n    }\r\nYou can interact with it inside by get and set methods but it won&#39;t be appeared in builder.\r\n\r\n    excluded.set(&quot;Some value&quot;);\r\n    excluded.get();","title":"How to exclude property from Lombok builder?","body":"<p>I found one more solution\nYou can wrap your field into <strong>initiated final</strong> wrapper or proxy. \nThe easiest way to wrap it into AtomicReference.</p>\n\n<pre><code>@Builder\npublic class Example {\n    private String field1;\n    private String field2;\n    private final AtomicReference&lt;String&gt; excluded = new AtomicReference&lt;&gt;(null);\n}\n</code></pre>\n\n<p>You can interact with it inside by get and set methods but it won't be appeared in builder.</p>\n\n<pre><code>excluded.set(\"Some value\");\nexcluded.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26280,"reputation":91,"user_id":68232,"display_name":"Dogan Ersoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586694466,"creation_date":1586662916,"answer_id":61166576,"question_id":30717640,"body_markdown":"Adding a so called &#39;partial builder&#39; to the class with Lombok ```@Builder``` can help. The trick is to add a inner partial builder class like this:\r\n\r\n```java\r\n@Getter\r\n@Builder\r\nclass Human {\r\n    private final String name;\r\n    private final String surname;\r\n    private final Gender gender;\r\n    private final String prefix; // Should be hidden, depends on gender\r\n    \r\n    // Partial builder to manage dependent fields, and hidden fields\r\n    public static class HumanBuilder {\r\n        \r\n        public HumanBuilder gender(final Gender gender) {\r\n            this.gender = gender;\r\n            if (Gender.MALE == gender) {\r\n                this.prefix = &quot;Mr.&quot;;\r\n            } else if (Gender.FEMALE == gender) {\r\n                this.prefix = &quot;Ms.&quot;;\r\n            } else {\r\n                this.prefix = &quot;&quot;;\r\n            }\r\n            return this;\r\n        }\r\n        \r\n        // This method hides the field from external set \r\n        private HumanBuilder prefix(final String prefix) {\r\n            return this;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nPS: @Builder allows the generated builder class name to be changed. The example above assumed the default builder class name is used.\r\n","title":"How to exclude property from Lombok builder?","body":"<p>Adding a so called 'partial builder' to the class with Lombok <code>@Builder</code> can help. The trick is to add a inner partial builder class like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Builder\nclass Human {\n    private final String name;\n    private final String surname;\n    private final Gender gender;\n    private final String prefix; // Should be hidden, depends on gender\n\n    // Partial builder to manage dependent fields, and hidden fields\n    public static class HumanBuilder {\n\n        public HumanBuilder gender(final Gender gender) {\n            this.gender = gender;\n            if (Gender.MALE == gender) {\n                this.prefix = \"Mr.\";\n            } else if (Gender.FEMALE == gender) {\n                this.prefix = \"Ms.\";\n            } else {\n                this.prefix = \"\";\n            }\n            return this;\n        }\n\n        // This method hides the field from external set \n        private HumanBuilder prefix(final String prefix) {\n            return this;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>PS: @Builder allows the generated builder class name to be changed. The example above assumed the default builder class name is used.</p>\n"},{"tags":[],"owner":{"account_id":1565848,"reputation":2174,"user_id":1454678,"accept_rate":91,"display_name":"MEE"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616597376,"creation_date":1604417912,"answer_id":64665954,"question_id":30717640,"body_markdown":"One approach I have used before was to group instance fields into Configuration fields and Session fields. Configuration fields go as class instances and are visible to the Builder, while Session fields go into a *nested* `private static class` and are accessed via a concrete `final` instance field (which the Builder will ignore by default).\r\n\r\n\r\nSomething like this:\r\n\r\n```\r\n@Builder\r\nclass XYZClientWrapper{\r\n    private String name;\r\n    private String domain;\r\n \r\n    private static class Session {\r\n        XYZClient client;\r\n    }\r\n\r\n    private final Session session = new Session();\r\n\r\n    private void initSession() {\r\n        session.client = ...;\r\n    }\r\n \r\n    public void foo() {\r\n        System.out.println(&quot;name: &quot; + name);\r\n        System.out.println(&quot;domain: &quot; + domain;\r\n        System.out.println(&quot;client: &quot; + session.client);\r\n    }\r\n}\r\n\r\n```","title":"How to exclude property from Lombok builder?","body":"<p>One approach I have used before was to group instance fields into Configuration fields and Session fields. Configuration fields go as class instances and are visible to the Builder, while Session fields go into a <em>nested</em> <code>private static class</code> and are accessed via a concrete <code>final</code> instance field (which the Builder will ignore by default).</p>\n<p>Something like this:</p>\n<pre><code>@Builder\nclass XYZClientWrapper{\n    private String name;\n    private String domain;\n \n    private static class Session {\n        XYZClient client;\n    }\n\n    private final Session session = new Session();\n\n    private void initSession() {\n        session.client = ...;\n    }\n \n    public void foo() {\n        System.out.println(&quot;name: &quot; + name);\n        System.out.println(&quot;domain: &quot; + domain;\n        System.out.println(&quot;client: &quot; + session.client);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3210182,"reputation":535,"user_id":2710335,"display_name":"Northnroro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610970164,"creation_date":1610967428,"answer_id":65773183,"question_id":30717640,"body_markdown":"I have another approach using `@Delegate` and `Inner Class`, which supports &quot;computed values&quot; for the excluded fields.\r\n\r\nFirst, we move the fields to be excluded into an `Inner Class` to avoid Lombok from including them in the Builder.\r\n\r\nThen, we use `@Delegate` to expose Getters/Setters of the builder-excluded fields.\r\n\r\n**Example:**\r\n\r\n    @Builder\r\n    @Getter @Setter @ToString\r\n    class Person {\r\n\r\n        private String name;\r\n        private int value;\r\n        /* ... More builder-included fields here */\r\n\r\n        @Getter @Setter @ToString\r\n        private class BuilderIgnored {\r\n\r\n            private String position; // Not included in the Builder, and remain `null` until p.setPosition(...)\r\n            private String nickname; // Lazy initialized as `name+value`, but we can use setter to set a new value\r\n            /* ... More ignored fields here! ... */\r\n\r\n            public String getNickname(){ // Computed value for `nickname`\r\n                if(nickname == null){\r\n                    nickname = name+value;\r\n                }\r\n                return nickname;\r\n            }\r\n            /* ... More computed fields&#39; getters here! ... */\r\n\r\n        }\r\n        @Delegate @Getter(AccessLevel.NONE) // Delegate Lombok Getters/Setters and custom Getters\r\n        private final BuilderIgnored ignored = new BuilderIgnored();\r\n\r\n    }\r\nIt will be transparent to outside of this `Person` class that `position` and `nickname` are actually inner class&#39; fields.\r\n\r\n    Person p = Person.builder().name(&quot;Test&quot;).value(123).build();\r\n    System.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=null, nickname=Test123))\r\n    p.setNickname(&quot;Hello World&quot;);\r\n    p.setPosition(&quot;Manager&quot;);\r\n    System.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=Manager, nickname=Hello World))\r\n\r\n----------\r\n\r\n**Pros:**\r\n- Do not force the excluded fields to be `final`\r\n- Support computed values for the excluded fields\r\n- Allow computed fields to refer to any fields set by the builder (In other words, allow the inner class to be non-static class)\r\n- Do not need to repeat the list of all fields (Eg. listing all fields except the excluded ones in a constructor)\r\n- Do not override Lombok library&#39;s `@Builder` (Eg. creating `MyBuilder extends FooBuilder`)\r\n\r\n**Cons:**\r\n- The excluded fields are actually fields of `Inner Class`; however, using `private` identifier with proper Getters/Setters you can mimic as if they were real fields\r\n- Therefore, this approach limits you to access the excluded fields using Getters/Setters\r\n- The computed values are lazy initialized when Getters are invoked, not when `.build()`.","title":"How to exclude property from Lombok builder?","body":"<p>I have another approach using <code>@Delegate</code> and <code>Inner Class</code>, which supports &quot;computed values&quot; for the excluded fields.</p>\n<p>First, we move the fields to be excluded into an <code>Inner Class</code> to avoid Lombok from including them in the Builder.</p>\n<p>Then, we use <code>@Delegate</code> to expose Getters/Setters of the builder-excluded fields.</p>\n<p><strong>Example:</strong></p>\n<pre><code>@Builder\n@Getter @Setter @ToString\nclass Person {\n\n    private String name;\n    private int value;\n    /* ... More builder-included fields here */\n\n    @Getter @Setter @ToString\n    private class BuilderIgnored {\n\n        private String position; // Not included in the Builder, and remain `null` until p.setPosition(...)\n        private String nickname; // Lazy initialized as `name+value`, but we can use setter to set a new value\n        /* ... More ignored fields here! ... */\n\n        public String getNickname(){ // Computed value for `nickname`\n            if(nickname == null){\n                nickname = name+value;\n            }\n            return nickname;\n        }\n        /* ... More computed fields' getters here! ... */\n\n    }\n    @Delegate @Getter(AccessLevel.NONE) // Delegate Lombok Getters/Setters and custom Getters\n    private final BuilderIgnored ignored = new BuilderIgnored();\n\n}\n</code></pre>\n<p>It will be transparent to outside of this <code>Person</code> class that <code>position</code> and <code>nickname</code> are actually inner class' fields.</p>\n<pre><code>Person p = Person.builder().name(&quot;Test&quot;).value(123).build();\nSystem.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=null, nickname=Test123))\np.setNickname(&quot;Hello World&quot;);\np.setPosition(&quot;Manager&quot;);\nSystem.out.println(p); // Person(name=Test, value=123, ignored=Person.BuilderIgnored(position=Manager, nickname=Hello World))\n</code></pre>\n<hr />\n<p><strong>Pros:</strong></p>\n<ul>\n<li>Do not force the excluded fields to be <code>final</code></li>\n<li>Support computed values for the excluded fields</li>\n<li>Allow computed fields to refer to any fields set by the builder (In other words, allow the inner class to be non-static class)</li>\n<li>Do not need to repeat the list of all fields (Eg. listing all fields except the excluded ones in a constructor)</li>\n<li>Do not override Lombok library's <code>@Builder</code> (Eg. creating <code>MyBuilder extends FooBuilder</code>)</li>\n</ul>\n<p><strong>Cons:</strong></p>\n<ul>\n<li>The excluded fields are actually fields of <code>Inner Class</code>; however, using <code>private</code> identifier with proper Getters/Setters you can mimic as if they were real fields</li>\n<li>Therefore, this approach limits you to access the excluded fields using Getters/Setters</li>\n<li>The computed values are lazy initialized when Getters are invoked, not when <code>.build()</code>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":1,"creation_date":1645469794,"post_id":69371810,"comment_id":125875087,"body_markdown":"That just sets a default value for the field if that field isn&#39;t specified as part of the building.","body":"That just sets a default value for the field if that field isn&#39;t specified as part of the building."}],"tags":[],"owner":{"account_id":14319177,"reputation":1,"user_id":10343099,"display_name":"Gogogo"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1632904517,"creation_date":1632899081,"answer_id":69371810,"question_id":30717640,"body_markdown":"To exclude field from builder, try using `@Builder.Default`","title":"How to exclude property from Lombok builder?","body":"<p>To exclude field from builder, try using <code>@Builder.Default</code></p>\n"},{"tags":[],"owner":{"account_id":5332585,"reputation":836,"user_id":4252764,"accept_rate":50,"display_name":"Vuk Djapic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645202834,"creation_date":1645202834,"answer_id":71177074,"question_id":30717640,"body_markdown":"One method I like and use is this.\r\nKeep required parameters in constructor, and set optional through builder. Works if number of required is not very big.\r\n\r\n    class A {\r\n        private int required1;\r\n        private int required2;\r\n        private int optional1;\r\n        private int optional2;\r\n\r\n        public A(int required1, int required2) {\r\n            this.required1 = required1;\r\n            this.required2 = required2;\r\n        }\r\n\r\n        @Builder(toBuilder = true)\r\n        public A setOptionals(int optional1, int optional2) {\r\n            this.optional1 = optional1;\r\n            this.optional2 = optional2;\r\n            return this;\r\n        }\r\n    }\r\n\r\nAnd then construct it with\r\n\r\n    A a = new A(1, 2).builder().optional1(3).optional2(4).build();\r\n\r\nNice thing with this approach is that optionals can also have default value.","title":"How to exclude property from Lombok builder?","body":"<p>One method I like and use is this.\nKeep required parameters in constructor, and set optional through builder. Works if number of required is not very big.</p>\n<pre><code>class A {\n    private int required1;\n    private int required2;\n    private int optional1;\n    private int optional2;\n\n    public A(int required1, int required2) {\n        this.required1 = required1;\n        this.required2 = required2;\n    }\n\n    @Builder(toBuilder = true)\n    public A setOptionals(int optional1, int optional2) {\n        this.optional1 = optional1;\n        this.optional2 = optional2;\n        return this;\n    }\n}\n</code></pre>\n<p>And then construct it with</p>\n<pre><code>A a = new A(1, 2).builder().optional1(3).optional2(4).build();\n</code></pre>\n<p>Nice thing with this approach is that optionals can also have default value.</p>\n"},{"tags":[],"owner":{"account_id":1788876,"reputation":23,"user_id":1629706,"display_name":"Sōōng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699596311,"creation_date":1699594528,"answer_id":77457896,"question_id":30717640,"body_markdown":"Not sure if this thread is still valid, I just found a solution from [a feature request to Lombok][1], in case somebody needs it, as Lombok team is most likely not going to add a @Builder.Ignore to its code base.\r\n\r\n    @Builder\r\n    public class User{\r\n      @ToString.Exclude\r\n      private String passwordHash;\r\n      // ... rest of the properties\r\n\r\n      public static class UserBuilder {\r\n        private UserBuilder passwordHash(final String passwordHash){\r\n          return this;\r\n        }\r\n      }\r\n    }\r\n\r\nIt works like a charm\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2307#issuecomment-1119511303","title":"How to exclude property from Lombok builder?","body":"<p>Not sure if this thread is still valid, I just found a solution from <a href=\"https://github.com/projectlombok/lombok/issues/2307#issuecomment-1119511303\" rel=\"nofollow noreferrer\">a feature request to Lombok</a>, in case somebody needs it, as Lombok team is most likely not going to add a @Builder.Ignore to its code base.</p>\n<pre><code>@Builder\npublic class User{\n  @ToString.Exclude\n  private String passwordHash;\n  // ... rest of the properties\n\n  public static class UserBuilder {\n    private UserBuilder passwordHash(final String passwordHash){\n      return this;\n    }\n  }\n}\n</code></pre>\n<p>It works like a charm</p>\n"}],"owner":{"account_id":189393,"reputation":23192,"user_id":428705,"accept_rate":76,"display_name":"Vivek Goel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103277,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":30725879,"answer_count":13,"score":124,"last_activity_date":1699596311,"creation_date":1433792321,"question_id":30717640,"body_markdown":"I have a class called as &quot;XYZClientWrapper&quot; , which have following structure:\r\n\r\n    @Builder\r\n    XYZClientWrapper{\r\n        String name;\r\n        String domain;\r\n        XYZClient client;\r\n    }\r\n\r\nWhat I want no build function generated for property `XYZClient client` \r\n\r\nDoes Lombok supports such use case?\r\n","title":"How to exclude property from Lombok builder?","body":"<p>I have a class called as \"XYZClientWrapper\" , which have following structure:</p>\n\n<pre><code>@Builder\nXYZClientWrapper{\n    String name;\n    String domain;\n    XYZClient client;\n}\n</code></pre>\n\n<p>What I want no build function generated for property <code>XYZClient client</code> </p>\n\n<p>Does Lombok supports such use case?</p>\n"},{"tags":["javascript","java","reactjs","react-native","redux"],"comments":[{"owner":{"account_id":5697872,"reputation":697,"user_id":4503858,"display_name":"Edwardth"},"score":1,"creation_date":1544261654,"post_id":53681178,"comment_id":94219619,"body_markdown":"The JAVA_HOME variable is pointing to the wrong directory it should be `/usr/local/java/jdk1.8.0_121`","body":"The JAVA_HOME variable is pointing to the wrong directory it should be <code>&#47;usr&#47;local&#47;java&#47;jdk1.8.0_121</code>"},{"owner":{"account_id":6637276,"reputation":2565,"user_id":9141308,"accept_rate":8,"display_name":"ganesh kaspate"},"score":0,"creation_date":1544261830,"post_id":53681178,"comment_id":94219636,"body_markdown":"what about the  JS server not recognized, continuing with build... is that okay ?","body":"what about the  JS server not recognized, continuing with build... is that okay ?"}],"answers":[{"tags":[],"owner":{"account_id":14889112,"reputation":161,"user_id":10761013,"display_name":"Dennis Griesert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544261837,"creation_date":1544261837,"answer_id":53681252,"question_id":53681178,"body_markdown":"I think you need to set your `JAVA_HOME` to the actual JDK:\r\n\r\n    export JAVA_HOME=&#39;/usr/local/java/jdk1.8.0_121&#39;","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>I think you need to set your <code>JAVA_HOME</code> to the actual JDK:</p>\n\n<pre><code>export JAVA_HOME='/usr/local/java/jdk1.8.0_121'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19609548,"reputation":1,"user_id":14352345,"display_name":"Vajra "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638078185,"creation_date":1638078185,"answer_id":70140962,"question_id":53681178,"body_markdown":"For windows user that is downgrading from JDK 17 to JDK 8, you need to ensure a few things:\r\n\r\n1. Set the java home and path correctly.\r\n2. Remove JDK 17 folder from program files path.","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>For windows user that is downgrading from JDK 17 to JDK 8, you need to ensure a few things:</p>\n<ol>\n<li>Set the java home and path correctly.</li>\n<li>Remove JDK 17 folder from program files path.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":312194,"reputation":75,"user_id":626139,"display_name":"mtz1406"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640776105,"creation_date":1640776105,"answer_id":70518564,"question_id":53681178,"body_markdown":"You just need to set the JAVA_HOME in your Environemnt.\r\nFor Linux users. check these solutions:\r\nhttps://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>You just need to set the JAVA_HOME in your Environemnt.\nFor Linux users. check these solutions:\n<a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n"},{"tags":[],"owner":{"account_id":29241571,"reputation":11,"user_id":22402968,"display_name":"rahul vyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696923832,"creation_date":1696923832,"answer_id":77263803,"question_id":53681178,"body_markdown":"**Set the java home in MacOs Monterey**\r\n 1 Set up JAVA_HOME in environment variable \r\n1.1 Open your shell profile file for editing using a text editor like nano or vim. You can use the nano editor as an example:\r\n**nano ~/.zshrc**   # For Zsh. // Run that command in your Zsh terminal\r\n\r\n2 Add the following line to set the JAVA_HOME variable to the correct Java installation path. Make sure to replace the path with the one you mentioned in your output:\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/Your JDK Version/Contents/Home.\r\n\r\n3 Save the file and exit the text editor. In nano, you can do this by pressing Ctrl + O to write changes, then Enter to confirm the file name, and finally Ctrl + X to exit.\r\n4 Source the profile file to apply the changes to your current terminal session. &gt;&gt;&gt; **source ~/.zshrc**   # For Zsh   //Run that command in your  terminal\r\n5 Verify that the JAVA_HOME variable has been set correctly by running\r\n  **echo $JAVA_HOME**.  //Run that command in your  terminal\r\n\r\n6 Finally, try running your React Native project again:\r\n   **npx react-native run-android**\r\n\r\n**\r\n\r\n&gt; This should resolve the &quot;JAVA_HOME is set to an invalid directory&quot;\r\n&gt; error, and React Native should be able to use the correct Java\r\n&gt; installation for building your Android project.\r\n\r\n**\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"React native JAVA_HOME is set to an invalid directory","body":"<p><strong>Set the java home in MacOs Monterey</strong>\n1 Set up JAVA_HOME in environment variable\n1.1 Open your shell profile file for editing using a text editor like nano or vim. You can use the nano editor as an example:\n<strong>nano ~/.zshrc</strong>   # For Zsh. // Run that command in your Zsh terminal</p>\n<p>2 Add the following line to set the JAVA_HOME variable to the correct Java installation path. Make sure to replace the path with the one you mentioned in your output:\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/Your JDK Version/Contents/Home.</p>\n<p>3 Save the file and exit the text editor. In nano, you can do this by pressing Ctrl + O to write changes, then Enter to confirm the file name, and finally Ctrl + X to exit.\n4 Source the profile file to apply the changes to your current terminal session. &gt;&gt;&gt; <strong>source ~/.zshrc</strong>   # For Zsh   //Run that command in your  terminal\n5 Verify that the JAVA_HOME variable has been set correctly by running\n<strong>echo $JAVA_HOME</strong>.  //Run that command in your  terminal</p>\n<p>6 Finally, try running your React Native project again:\n<strong>npx react-native run-android</strong></p>\n<p>**</p>\n<blockquote>\n<p>This should resolve the &quot;JAVA_HOME is set to an invalid directory&quot;\nerror, and React Native should be able to use the correct Java\ninstallation for building your Android project.</p>\n</blockquote>\n<p>**</p>\n"}],"owner":{"account_id":6637276,"reputation":2565,"user_id":9141308,"accept_rate":8,"display_name":"ganesh kaspate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11792,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1699596019,"creation_date":1544261104,"question_id":53681178,"body_markdown":"I am new to the `react native.` I am using a `linux machine`. I am trying to run an application.\r\n\r\nNow, Here what I have done ,\r\n\r\nI already have java installed in my machine .So, that time I have added,\r\n\r\nin my `profile` \r\n\r\nI have following env variables .\r\n\r\n    export JAVA_HOME=&#39;/usr/local/java&#39;\r\n    export PATH=$PATH:$HOME/bin:$JAVA_HOME/jdk1.8.0_121/bin\r\n\r\n\r\nNow, after that I have installed the `android studio` in my one of folders,\r\n\r\nwhich is `/home/softwares/android-studio`.\r\n\r\nThat time I have added the env variables in the profile file.which are\r\n\r\n    export ANDROID_HOME=$HOME/Android/Sdk\r\n    export PATH=$PATH:$ANDROID_HOME/emulator\r\n    export PATH=$PATH:$ANDROID_HOME/tools\r\n    export PATH=$PATH:$ANDROID_HOME/tools/bin\r\n    export PATH=$PATH:$ANDROID_HOME/platform-tools\r\n\r\nNow, my project folder is like ,\r\n\r\n    /home/projectWork/native/app\r\nAdded the script in the package.json file , but there \r\n\r\nit is giving me this error .\r\n\r\n    JS server not recognized, continuing with build...\r\n    Building and installing the app on the device (cd android &amp;&amp; ./gradlew installDebug)...\r\n    \r\n    ERROR: JAVA_HOME is set to an invalid directory: /usr/local/java\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nNow, I am not getting a way to resolve this issue . Can any one help me with this ?","title":"React native JAVA_HOME is set to an invalid directory","body":"<p>I am new to the <code>react native.</code> I am using a <code>linux machine</code>. I am trying to run an application.</p>\n\n<p>Now, Here what I have done ,</p>\n\n<p>I already have java installed in my machine .So, that time I have added,</p>\n\n<p>in my <code>profile</code> </p>\n\n<p>I have following env variables .</p>\n\n<pre><code>export JAVA_HOME='/usr/local/java'\nexport PATH=$PATH:$HOME/bin:$JAVA_HOME/jdk1.8.0_121/bin\n</code></pre>\n\n<p>Now, after that I have installed the <code>android studio</code> in my one of folders,</p>\n\n<p>which is <code>/home/softwares/android-studio</code>.</p>\n\n<p>That time I have added the env variables in the profile file.which are</p>\n\n<pre><code>export ANDROID_HOME=$HOME/Android/Sdk\nexport PATH=$PATH:$ANDROID_HOME/emulator\nexport PATH=$PATH:$ANDROID_HOME/tools\nexport PATH=$PATH:$ANDROID_HOME/tools/bin\nexport PATH=$PATH:$ANDROID_HOME/platform-tools\n</code></pre>\n\n<p>Now, my project folder is like ,</p>\n\n<pre><code>/home/projectWork/native/app\n</code></pre>\n\n<p>Added the script in the package.json file , but there </p>\n\n<p>it is giving me this error .</p>\n\n<pre><code>JS server not recognized, continuing with build...\nBuilding and installing the app on the device (cd android &amp;&amp; ./gradlew installDebug)...\n\nERROR: JAVA_HOME is set to an invalid directory: /usr/local/java\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n\n<p>Now, I am not getting a way to resolve this issue . Can any one help me with this ?</p>\n"},{"tags":["java","json","http-status-code-415"],"comments":[{"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"score":0,"creation_date":1395426130,"post_id":22566433,"comment_id":34348755,"body_markdown":"Please update your question with the value of `requestJson.toString()`","body":"Please update your question with the value of <code>requestJson.toString()</code>"},{"owner":{"account_id":4204503,"reputation":3521,"user_id":3443794,"display_name":"user3443794"},"score":1,"creation_date":1395426652,"post_id":22566433,"comment_id":34349086,"body_markdown":"Value of requestJson.toString is :\n\n{&quot;type&quot;:&quot;arl&quot;,&quot;action&quot;:&quot;remove&quot;,&quot;domain&quot;:&quot;staging&quot;,&quot;objects&quot;:&quot;http://www.abc.com&quot;}","body":"Value of requestJson.toString is :  {&quot;type&quot;:&quot;arl&quot;,&quot;action&quot;:&quot;remove&quot;,&quot;domain&quot;:&quot;staging&quot;,&quot;objects&quot;&zwnj;&#8203;:&quot;<a href=\"http://www.abc.com\" rel=\"nofollow noreferrer\">abc.com</a>&quot;}"},{"owner":{"account_id":217796,"reputation":4839,"user_id":473775,"accept_rate":83,"display_name":"joscarsson"},"score":0,"creation_date":1395429502,"post_id":22566433,"comment_id":34350808,"body_markdown":"Have you written the server part? If you do the same request with Postman (Chrome extensions, Google it), does it work? Perhaps the server does not accept the JSON content type for some reason?","body":"Have you written the server part? If you do the same request with Postman (Chrome extensions, Google it), does it work? Perhaps the server does not accept the JSON content type for some reason?"},{"owner":{"account_id":4204503,"reputation":3521,"user_id":3443794,"display_name":"user3443794"},"score":0,"creation_date":1395429815,"post_id":22566433,"comment_id":34350981,"body_markdown":"Yes I tested that using soapUI. I sent the exact same request including json and got successful response from the server.","body":"Yes I tested that using soapUI. I sent the exact same request including json and got successful response from the server."},{"owner":{"account_id":11914818,"reputation":476,"user_id":8719007,"display_name":"Serge Kishiko"},"score":0,"creation_date":1531735919,"post_id":22566433,"comment_id":89690873,"body_markdown":"@joscarsson, since 14 Mar 2017, Postman chrome extension is deprecated. They moved to the native app. Here is their blog post: [http://blog.getpostman.com/2017/03/14/going-native/](http://blog.getpostman.com/2017/03/14/going-native/)","body":"@joscarsson, since 14 Mar 2017, Postman chrome extension is deprecated. They moved to the native app. Here is their blog post: <a href=\"http://blog.getpostman.com/2017/03/14/going-native/\" rel=\"nofollow noreferrer\">http://blog.getpostman.com/2017/03/14/going-native/</a>"}],"answers":[{"comments":[{"owner":{"account_id":3134596,"reputation":2439,"user_id":2651381,"accept_rate":40,"display_name":"Tim Martin"},"score":0,"creation_date":1459136354,"post_id":22643964,"comment_id":60140574,"body_markdown":"It&#39;s probably a bug in the ReST service.  They&#39;re probably not expected the `charset` to be set in the Content-Type.  My guess is that they&#39;re checking if the string `&quot;application/json; charset=utf-8&quot; == &quot;application/json&quot;`.  That being said, JSON must be utf-8 so it&#39;s perfectly valid to leave out the charset.","body":"It&#39;s probably a bug in the ReST service.  They&#39;re probably not expected the <code>charset</code> to be set in the Content-Type.  My guess is that they&#39;re checking if the string <code>&quot;application&#47;json; charset=utf-8&quot; == &quot;application&#47;json&quot;</code>.  That being said, JSON must be utf-8 so it&#39;s perfectly valid to leave out the charset."},{"owner":{"account_id":219257,"reputation":11430,"user_id":476048,"accept_rate":72,"display_name":"Berin Loritsch"},"score":37,"creation_date":1499362410,"post_id":22643964,"comment_id":76886471,"body_markdown":"Because `charset=utf8` is not a valid character set designation.  The correct version would be `charset=utf-8`.  The dash is important.  The list of valid character set designations is managed by IANA RFC2879: http://www.iana.org/assignments/character-sets/character-sets.xhtml","body":"Because <code>charset=utf8</code> is not a valid character set designation.  The correct version would be <code>charset=utf-8</code>.  The dash is important.  The list of valid character set designations is managed by IANA RFC2879: <a href=\"http://www.iana.org/assignments/character-sets/character-sets.xhtml\" rel=\"nofollow noreferrer\">iana.org/assignments/character-sets/character-sets.xhtml</a>"},{"owner":{"account_id":1805635,"reputation":3167,"user_id":1642766,"accept_rate":60,"display_name":"Salman"},"score":1,"creation_date":1525689744,"post_id":22643964,"comment_id":87441448,"body_markdown":"Wasted a whole lot of time trying different things and then tried removing the charset=utf8 and it worked. Thanks.","body":"Wasted a whole lot of time trying different things and then tried removing the charset=utf8 and it worked. Thanks."},{"owner":{"account_id":332090,"reputation":1987,"user_id":657174,"display_name":"VoidMain"},"score":0,"creation_date":1604855398,"post_id":22643964,"comment_id":114468017,"body_markdown":"In some implementations, like Dart http, `charset=UTF-8` is the only way to use it.","body":"In some implementations, like Dart http, <code>charset=UTF-8</code> is the only way to use it."},{"owner":{"account_id":17961453,"reputation":472,"user_id":13052333,"display_name":"Etch"},"score":0,"creation_date":1632931986,"post_id":22643964,"comment_id":122628763,"body_markdown":"Which file contains this so I can remove it?","body":"Which file contains this so I can remove it?"}],"tags":[],"owner":{"account_id":4204503,"reputation":3521,"user_id":3443794,"display_name":"user3443794"},"comment_count":5,"down_vote_count":0,"up_vote_count":129,"is_accepted":true,"score":129,"last_activity_date":1699595877,"creation_date":1395774154,"answer_id":22643964,"question_id":22566433,"body_markdown":"Not sure about the reason, but removing `charset=utf8` from  `con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;)` resolved the issue.  ","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Not sure about the reason, but removing <code>charset=utf8</code> from  <code>con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;)</code> resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460624602,"creation_date":1460624602,"answer_id":36618362,"question_id":22566433,"body_markdown":"I was sending &quot;delete&quot; rest request and it failed with 415. I saw what content-type my server uses to hit the api. In my case, It was &quot;application/json&quot; instead of &quot;application/json; charset=utf8&quot;.\r\n\r\nSo ask from your api developer And in the meantime try sending request with content-type= &quot;application/json&quot; only.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I was sending \"delete\" rest request and it failed with 415. I saw what content-type my server uses to hit the api. In my case, It was \"application/json\" instead of \"application/json; charset=utf8\".</p>\n\n<p>So ask from your api developer And in the meantime try sending request with content-type= \"application/json\" only.</p>\n"},{"comments":[{"owner":{"account_id":11149,"reputation":4960,"user_id":21352,"accept_rate":50,"display_name":"djb"},"score":2,"creation_date":1514992837,"post_id":37280585,"comment_id":83134470,"body_markdown":"This is incorrect; spaces are allowed and should be ignored; see https://tools.ietf.org/html/rfc2046 .","body":"This is incorrect; spaces are allowed and should be ignored; see <a href=\"https://tools.ietf.org/html/rfc2046\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc2046</a> ."}],"tags":[],"owner":{"account_id":8460797,"reputation":185,"user_id":6346621,"display_name":"Dhruv"},"comment_count":1,"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1481143697,"creation_date":1463499252,"answer_id":37280585,"question_id":22566433,"body_markdown":"This is because `charset=utf8` should be without a space after `application/json`. That will work fine. Use it like `application/json;charset=utf-8`","title":"Http 415 Unsupported Media type error with JSON","body":"<p>This is because <code>charset=utf8</code> should be without a space after <code>application/json</code>. That will work fine. Use it like <code>application/json;charset=utf-8</code></p>\n"},{"tags":[],"owner":{"account_id":4041030,"reputation":7079,"user_id":3323883,"display_name":"karthik"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1473785352,"creation_date":1473785352,"answer_id":39475198,"question_id":22566433,"body_markdown":"If you are making jquery ajax request, dont forget to add \r\n   \r\n    contentType:&#39;application/json&#39;","title":"Http 415 Unsupported Media type error with JSON","body":"<p>If you are making jquery ajax request, dont forget to add </p>\n\n<pre><code>contentType:'application/json'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4510827,"reputation":1268,"user_id":3667003,"accept_rate":100,"display_name":"Oliver"},"score":8,"creation_date":1570190585,"post_id":39504606,"comment_id":102844997,"body_markdown":"If you using **Postman** for testing, try to add this part to the **Headers**: Content-Type: application/json","body":"If you using <b>Postman</b> for testing, try to add this part to the <b>Headers</b>: Content-Type: application/json"}],"tags":[],"owner":{"account_id":3782951,"reputation":3308,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"comment_count":1,"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1594206786,"creation_date":1473921943,"answer_id":39504606,"question_id":22566433,"body_markdown":"Add `Content-Type`: `application/json` and `Accept`: `application/json`\r\n","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Add <code>Content-Type</code>: <code>application/json</code> and <code>Accept</code>: <code>application/json</code></p>\n"},{"tags":[],"owner":{"account_id":1232284,"reputation":901,"user_id":1196592,"accept_rate":29,"display_name":"spajdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484259133,"creation_date":1484259133,"answer_id":41623926,"question_id":22566433,"body_markdown":"I had the same issue. My problem was complicated object for serialization. One attribute of my object was `Map&lt;Object1, List&lt;Object2&gt;&gt;`. \r\nI changed this attribute like `List&lt;Object3&gt;` where `Object3` contains `Object1` and `Object2` and everything works fine.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I had the same issue. My problem was complicated object for serialization. One attribute of my object was <code>Map&lt;Object1, List&lt;Object2&gt;&gt;</code>. \nI changed this attribute like <code>List&lt;Object3&gt;</code> where <code>Object3</code> contains <code>Object1</code> and <code>Object2</code> and everything works fine.</p>\n"},{"comments":[{"owner":{"account_id":219257,"reputation":11430,"user_id":476048,"accept_rate":72,"display_name":"Berin Loritsch"},"score":2,"creation_date":1499362493,"post_id":43853335,"comment_id":76886524,"body_markdown":"utf8 just isn&#39;t a valid character set.  Look at the spec: http://www.iana.org/assignments/character-sets/character-sets.xhtml","body":"utf8 just isn&#39;t a valid character set.  Look at the spec: <a href=\"http://www.iana.org/assignments/character-sets/character-sets.xhtml\" rel=\"nofollow noreferrer\">iana.org/assignments/character-sets/character-sets.xhtml</a>"}],"tags":[],"owner":{"account_id":10242733,"reputation":13,"user_id":7559614,"display_name":"Murali Gundappan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494262910,"creation_date":1494262910,"answer_id":43853335,"question_id":22566433,"body_markdown":"Some times Charset Metada breaks the json while sending in the request. Better, not use charset=utf8 in the request type.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Some times Charset Metada breaks the json while sending in the request. Better, not use charset=utf8 in the request type.</p>\n"},{"tags":[],"owner":{"account_id":1967729,"reputation":379,"user_id":1767500,"display_name":"Jero Dungog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504077432,"creation_date":1504077432,"answer_id":45954267,"question_id":22566433,"body_markdown":"I know this is way too late to help the OP with his problem, but to all of us who is just encountering this problem, \r\nI had solved this issue by removing the constructor with parameters of my Class which was meant to hold the json data.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I know this is way too late to help the OP with his problem, but to all of us who is just encountering this problem, \nI had solved this issue by removing the constructor with parameters of my Class which was meant to hold the json data.</p>\n"},{"tags":[],"owner":{"account_id":7705580,"reputation":31,"user_id":5836663,"display_name":"Arjun Duggal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511933265,"creation_date":1511933265,"answer_id":47545670,"question_id":22566433,"body_markdown":"Add the HTTP header manager and add in it your API&#39;s header names and values.\r\ne.g. Content-type, Accept, etc. That will resolve your issue.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Add the HTTP header manager and add in it your API's header names and values.\ne.g. Content-type, Accept, etc. That will resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1526473562,"creation_date":1526473562,"answer_id":50370921,"question_id":22566433,"body_markdown":"If you are using `AJAX` `jQuery` Request this is a must to apply. If not it will throw you `415` Error.\r\n\r\n    dataType: &quot;json&quot;,\r\n    contentType:&#39;application/json&#39;\r\n\r\n","title":"Http 415 Unsupported Media type error with JSON","body":"<p>If you are using <code>AJAX</code> <code>jQuery</code> Request this is a must to apply. If not it will throw you <code>415</code> Error.</p>\n\n<pre><code>dataType: \"json\",\ncontentType:'application/json'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4180218,"reputation":115,"user_id":3425475,"accept_rate":75,"display_name":"J&#233;j&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527767064,"creation_date":1527767064,"answer_id":50623520,"question_id":22566433,"body_markdown":"Add MappingJackson2HttpMessageConverter manually in configuration solved the problem for me :\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    @ComponentScan\r\n    public class RestConfiguration extends WebMvcConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\r\n    \t\tmessageConverters.add(new MappingJackson2HttpMessageConverter());\r\n    \t\tsuper.configureMessageConverters(messageConverters);\r\n    \t}\r\n    }","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Add MappingJackson2HttpMessageConverter manually in configuration solved the problem for me :</p>\n\n<pre><code>@EnableWebMvc\n@Configuration\n@ComponentScan\npublic class RestConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters) {\n        messageConverters.add(new MappingJackson2HttpMessageConverter());\n        super.configureMessageConverters(messageConverters);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13598943,"reputation":39,"user_id":9810101,"display_name":"BHARATHWAJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532063219,"creation_date":1532063219,"answer_id":51435417,"question_id":22566433,"body_markdown":"The reason can be not adding &quot;annotation-driven&quot; in your dispatcher servlet xml file. and also it may be due to not adding &lt;content-type&gt; as application/json in the headers","title":"Http 415 Unsupported Media type error with JSON","body":"<p>The reason can be not adding \"annotation-driven\" in your dispatcher servlet xml file. and also it may be due to not adding  as application/json in the headers</p>\n"},{"tags":[],"owner":{"account_id":1258846,"reputation":10254,"user_id":1217713,"display_name":"Nalan Madheswaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555985984,"creation_date":1555985984,"answer_id":55803411,"question_id":22566433,"body_markdown":"If you get this in React RSAA middleware or similar,\r\nAdd the headers:\r\n\r\n      method: &#39;POST&#39;,\r\n      headers: {\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n      },\r\n      body: JSON.stringify(model),","title":"Http 415 Unsupported Media type error with JSON","body":"<p>If you get this in React RSAA middleware or similar,\nAdd the headers:</p>\n\n<pre><code>  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify(model),\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3549742,"reputation":4749,"user_id":2964890,"accept_rate":72,"display_name":"javaPlease42"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564586320,"creation_date":1564586320,"answer_id":57294071,"question_id":22566433,"body_markdown":"I fixed this by updating the `Request` class that my Controller receives.\r\n\r\nI **removed** the following class level annotation from my `Request` class on my server side. After that my client **didn&#39;t get 415 error.**\r\n\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    @XmlRootElement","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I fixed this by updating the <code>Request</code> class that my Controller receives.</p>\n\n<p>I <strong>removed</strong> the following class level annotation from my <code>Request</code> class on my server side. After that my client <strong>didn't get 415 error.</strong></p>\n\n<pre><code>import javax.xml.bind.annotation.XmlRootElement;\n@XmlRootElement\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3614323,"reputation":2734,"user_id":3408531,"accept_rate":56,"display_name":"TiyebM"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1570996488,"creation_date":1570996488,"answer_id":58367299,"question_id":22566433,"body_markdown":"&gt; The 415 (Unsupported Media Type) status code indicates that the\r\n   origin server is refusing to service the request because the payload\r\n   is in a format not supported by this method on the target resource.\r\n   The format problem might be due to the request&#39;s indicated\r\n   Content-Type or Content-Encoding, or as a result of inspecting the\r\n   data directly.\r\n[DOC][1]\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7231#section-6.5.13","title":"Http 415 Unsupported Media type error with JSON","body":"<blockquote>\n<p>The 415 (Unsupported Media Type) status code indicates that the\norigin server is refusing to service the request because the payload\nis in a format not supported by this method on the target resource.\nThe format problem might be due to the request's indicated\nContent-Type or Content-Encoding, or as a result of inspecting the\ndata directly.\n<a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-6.5.13\" rel=\"nofollow noreferrer\">DOC</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13690437,"reputation":13,"user_id":9878373,"display_name":"tharakadil95"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604216155,"creation_date":1604216155,"answer_id":64629641,"question_id":22566433,"body_markdown":"I have also faced this issue when working REST service with a JSON request and it responds with a HTTP 415 &quot;Unsupported Media Type&quot; error.\r\nThese lines of codes will help you to resolve the issue. \r\n\r\n&gt; headers: { &quot;Content-Type&quot;: &quot;application/json&quot;, &quot;accept&quot;: &quot;*/*&quot; },\r\n\r\nAfter that, you should write code to encode the JSON body. \r\nFor an example,\r\n\r\n&gt; body: jsonEncode({&quot;username&quot;: username, &quot;password&quot;: password})","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I have also faced this issue when working REST service with a JSON request and it responds with a HTTP 415 &quot;Unsupported Media Type&quot; error.\nThese lines of codes will help you to resolve the issue.</p>\n<blockquote>\n<p>headers: { &quot;Content-Type&quot;: &quot;application/json&quot;, &quot;accept&quot;: &quot;<em>/</em>&quot; },</p>\n</blockquote>\n<p>After that, you should write code to encode the JSON body.\nFor an example,</p>\n<blockquote>\n<p>body: jsonEncode({&quot;username&quot;: username, &quot;password&quot;: password})</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1970460,"reputation":594,"user_id":1769563,"display_name":"Mahmoud Nasr"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1612975896,"creation_date":1612975896,"answer_id":66141288,"question_id":22566433,"body_markdown":"HttpVerb needs its headers as a dictionary of key-value pairs\r\n\r\n    headers = {&#39;Content-Type&#39;: &#39;application/json&#39;, &#39;charset&#39;: &#39;utf-8&#39;}","title":"Http 415 Unsupported Media type error with JSON","body":"<p>HttpVerb needs its headers as a dictionary of key-value pairs</p>\n<pre><code>headers = {'Content-Type': 'application/json', 'charset': 'utf-8'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1633706107,"creation_date":1626719414,"answer_id":68445383,"question_id":22566433,"body_markdown":"Incase if you are giving a post request through `Postman` then make sure you have choosed these 2 options\r\n\r\n**1.** **JSON (application/json)** should be choosed\r\n[![enter image description here][1]][1]\r\n\r\n**2. Content-Type** - application/json\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aDQFM.png\r\n  [2]: https://i.stack.imgur.com/LRorI.png","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Incase if you are giving a post request through <code>Postman</code> then make sure you have choosed these 2 options</p>\n<p><strong>1.</strong> <strong>JSON (application/json)</strong> should be choosed\n<a href=\"https://i.stack.imgur.com/aDQFM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aDQFM.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2. Content-Type</strong> - application/json</p>\n<p><a href=\"https://i.stack.imgur.com/LRorI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LRorI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11165190,"reputation":3414,"user_id":8194089,"display_name":"Chamila Maddumage"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633638658,"creation_date":1633638658,"answer_id":69487504,"question_id":22566433,"body_markdown":"I had the same issue with Postman. Adding  `Content-Type: application/json` to the headers solved the issue.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I had the same issue with Postman. Adding  <code>Content-Type: application/json</code> to the headers solved the issue.</p>\n"},{"comments":[{"owner":{"account_id":21068258,"reputation":537,"user_id":15485000,"display_name":"Azhar Uddin Sheikh"},"score":0,"creation_date":1666095927,"post_id":72378482,"comment_id":130849901,"body_markdown":"but if I remove this line from `fetchBaseQuery` I will get `cors issue`","body":"but if I remove this line from <code>fetchBaseQuery</code> I will get <code>cors issue</code>"}],"tags":[],"owner":{"account_id":3003206,"reputation":1016,"user_id":2548276,"accept_rate":56,"display_name":"Jyoti Duhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653485011,"creation_date":1653485011,"answer_id":72378482,"question_id":22566433,"body_markdown":"I was facing the same issue and the solution was to remove \r\n\r\n    &#39;mode&#39;: &#39;no-cors&#39;\r\nand adding the hostname as an allowed origin at backend server.\r\nSetting mode to &#39;no-cors&#39; will always take &quot;Content-Type&quot; as &quot;text/plain&quot;.\r\nFor more info, visit [info][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/Request/mode","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I was facing the same issue and the solution was to remove</p>\n<pre><code>'mode': 'no-cors'\n</code></pre>\n<p>and adding the hostname as an allowed origin at backend server.\nSetting mode to 'no-cors' will always take &quot;Content-Type&quot; as &quot;text/plain&quot;.\nFor more info, visit <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Request/mode\" rel=\"nofollow noreferrer\">info</a></p>\n"},{"tags":[],"owner":{"account_id":10794049,"reputation":343,"user_id":7940462,"accept_rate":20,"display_name":"Khalid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665729348,"creation_date":1665729348,"answer_id":74065237,"question_id":22566433,"body_markdown":"In my case: on the body params I set the param to text type instead of JSON \r\nI thought its all the same .:)","title":"Http 415 Unsupported Media type error with JSON","body":"<p>In my case: on the body params I set the param to text type instead of JSON\nI thought its all the same .:)</p>\n"},{"tags":[],"owner":{"account_id":27965961,"reputation":1,"user_id":21356811,"display_name":"NELSON JOSE CORREA DA SILVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678284983,"creation_date":1678284983,"answer_id":75674210,"question_id":22566433,"body_markdown":"In the Postman, in the Headers, you might insert the folows Keys and values\r\nKey = Content_Type    VALUE application/json\r\nKey = Accept          VALUE application/json\r\n\r\nIt is must work!!!","title":"Http 415 Unsupported Media type error with JSON","body":"<p>In the Postman, in the Headers, you might insert the folows Keys and values\nKey = Content_Type    VALUE application/json\nKey = Accept          VALUE application/json</p>\n<p>It is must work!!!</p>\n"},{"tags":[],"owner":{"account_id":7996699,"reputation":13,"user_id":6032757,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680094894,"creation_date":1680094894,"answer_id":75877598,"question_id":22566433,"body_markdown":"I was having same issue even after adding correct “Content-Type” &amp; “content-type” headers. The issue resolved when I added “x-version” header with value as “4”. ","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I was having same issue even after adding correct “Content-Type” &amp; “content-type” headers. The issue resolved when I added “x-version” header with value as “4”.</p>\n"},{"tags":[],"owner":{"account_id":14238335,"reputation":308,"user_id":10285514,"display_name":"elouassif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682583739,"creation_date":1682583739,"answer_id":76118262,"question_id":22566433,"body_markdown":"Adding `&#39;Content-Type&#39;: &#39;*/*&#39;` and `&#39;accept&#39;: &#39;*/*&#39;` in headers resolve this problem for me.","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Adding <code>'Content-Type': '*/*'</code> and <code>'accept': '*/*'</code> in headers resolve this problem for me.</p>\n"},{"tags":[],"owner":{"account_id":1760092,"reputation":802,"user_id":1607450,"accept_rate":75,"display_name":"Satbir Kira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683043589,"creation_date":1683043589,"answer_id":76156791,"question_id":22566433,"body_markdown":"Your request might need a empty body {} even if you have no body data.\r\n    \r\n    body: {}","title":"Http 415 Unsupported Media type error with JSON","body":"<p>Your request might need a empty body {} even if you have no body data.</p>\n<pre><code>body: {}\n</code></pre>\n"}],"owner":{"account_id":4204503,"reputation":3521,"user_id":3443794,"display_name":"user3443794"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934661,"favorite_count":0,"down_vote_count":0,"up_vote_count":223,"accepted_answer_id":22643964,"answer_count":25,"score":223,"last_activity_date":1699595877,"creation_date":1395425494,"question_id":22566433,"body_markdown":"I am calling a REST service with a JSON request and it responds with a `HTTP 415 &quot;Unsupported Media Type&quot;` error. \r\n\r\nThe request content type is set to `(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;)`.\r\n\r\nIt works fine if I don&#39;t include a JSON object in the request. I am using the `google-gson-2.2.4` library for JSON. \r\n \r\nI tried using a couple of different libraries but it made no difference.\r\n\r\nCan anybody please help me to resolve this? \r\n\r\nHere is my code: \r\n\r\n\tpublic static void main(String[] args) throws Exception\r\n\t{\r\n\r\n        JsonObject requestJson = new JsonObject();\r\n        String url = &quot;xxx&quot;;\r\n        \r\n        //method call for generating json\r\n\r\n        requestJson = generateJSON();\r\n        URL myurl = new URL(url);\r\n        HttpURLConnection con = (HttpURLConnection)myurl.openConnection();\r\n        con.setDoOutput(true);\r\n        con.setDoInput(true);\r\n        \r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=utf8&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        con.setRequestProperty(&quot;Method&quot;, &quot;POST&quot;);\r\n        OutputStream os = con.getOutputStream();\r\n        os.write(requestJson.toString().getBytes(&quot;UTF-8&quot;));\r\n        os.close();\r\n\r\n        \r\n        StringBuilder sb = new StringBuilder();  \r\n        int HttpResult =con.getResponseCode();\r\n        if(HttpResult ==HttpURLConnection.HTTP_OK){\r\n        BufferedReader br = new BufferedReader(new   InputStreamReader(con.getInputStream(),&quot;utf-8&quot;));  \r\n\r\n            String line = null;\r\n            while ((line = br.readLine()) != null) {  \r\n            sb.append(line + &quot;\\n&quot;);  \r\n            }\r\n             br.close(); \r\n             System.out.println(&quot;&quot;+sb.toString());  \r\n\r\n        }else{\r\n        \tSystem.out.println(con.getResponseCode());\r\n            System.out.println(con.getResponseMessage());  \r\n        }  \r\n         \r\n    }\r\n\tpublic static JsonObject generateJSON () throws MalformedURLException\r\n\r\n\t{\r\n       String s = &quot;http://www.example.com&quot;;\r\n\t        s.replaceAll(&quot;/&quot;, &quot;\\\\/&quot;);\r\n\t\tJsonObject reqparam=new JsonObject();\r\n\t\treqparam.addProperty(&quot;type&quot;, &quot;arl&quot;);\r\n\t\treqparam.addProperty(&quot;action&quot;, &quot;remove&quot;);\r\n\t\treqparam.addProperty(&quot;domain&quot;, &quot;staging&quot;);\r\n\t\treqparam.addProperty(&quot;objects&quot;, s);\r\n\t\treturn reqparam;\r\n\r\n\t}\r\n    }\r\n\r\nThe value of `requestJson.toString()` is :  \r\n\r\n`{&quot;type&quot;:&quot;arl&quot;,&quot;action&quot;:&quot;remove&quot;,&quot;domain&quot;:&quot;staging&quot;,&quot;objects&quot;:&quot;http://www.example.com&quot;}`","title":"Http 415 Unsupported Media type error with JSON","body":"<p>I am calling a REST service with a JSON request and it responds with a <code>HTTP 415 \"Unsupported Media Type\"</code> error. </p>\n\n<p>The request content type is set to <code>(\"Content-Type\", \"application/json; charset=utf8\")</code>.</p>\n\n<p>It works fine if I don't include a JSON object in the request. I am using the <code>google-gson-2.2.4</code> library for JSON. </p>\n\n<p>I tried using a couple of different libraries but it made no difference.</p>\n\n<p>Can anybody please help me to resolve this? </p>\n\n<p>Here is my code: </p>\n\n<pre><code>public static void main(String[] args) throws Exception\n{\n\n    JsonObject requestJson = new JsonObject();\n    String url = \"xxx\";\n\n    //method call for generating json\n\n    requestJson = generateJSON();\n    URL myurl = new URL(url);\n    HttpURLConnection con = (HttpURLConnection)myurl.openConnection();\n    con.setDoOutput(true);\n    con.setDoInput(true);\n\n    con.setRequestProperty(\"Content-Type\", \"application/json; charset=utf8\");\n    con.setRequestProperty(\"Accept\", \"application/json\");\n    con.setRequestProperty(\"Method\", \"POST\");\n    OutputStream os = con.getOutputStream();\n    os.write(requestJson.toString().getBytes(\"UTF-8\"));\n    os.close();\n\n\n    StringBuilder sb = new StringBuilder();  \n    int HttpResult =con.getResponseCode();\n    if(HttpResult ==HttpURLConnection.HTTP_OK){\n    BufferedReader br = new BufferedReader(new   InputStreamReader(con.getInputStream(),\"utf-8\"));  \n\n        String line = null;\n        while ((line = br.readLine()) != null) {  \n        sb.append(line + \"\\n\");  \n        }\n         br.close(); \n         System.out.println(\"\"+sb.toString());  \n\n    }else{\n        System.out.println(con.getResponseCode());\n        System.out.println(con.getResponseMessage());  \n    }  \n\n}\npublic static JsonObject generateJSON () throws MalformedURLException\n\n{\n   String s = \"http://www.example.com\";\n        s.replaceAll(\"/\", \"\\\\/\");\n    JsonObject reqparam=new JsonObject();\n    reqparam.addProperty(\"type\", \"arl\");\n    reqparam.addProperty(\"action\", \"remove\");\n    reqparam.addProperty(\"domain\", \"staging\");\n    reqparam.addProperty(\"objects\", s);\n    return reqparam;\n\n}\n}\n</code></pre>\n\n<p>The value of <code>requestJson.toString()</code> is :  </p>\n\n<p><code>{\"type\":\"arl\",\"action\":\"remove\",\"domain\":\"staging\",\"objects\":\"http://www.example.com\"}</code></p>\n"},{"tags":["java","docker","maven","grpc","google-cloud-pubsub"],"owner":{"account_id":12808323,"reputation":1,"user_id":9267310,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699595622,"creation_date":1699595622,"question_id":77457960,"body_markdown":"When I try to publish messages using google clould pubsub, it works fine in my local IDE Eclipse but when I use the same code in docker container, it doesn&#39;t work.\r\nThe execution at publisher.publish(message).get(1L, Timeunit.MINUTES) hangs\r\n\r\nWhen I use an ExecutorService to submit this same task, it throws TimeOutException\r\njava.util.concurrent.TimeoutException: Waited 1 minutes (plus 2746930 nanoseconds delay) for com.google.api.core.AbstractApiFuture$InternalSettableFuture@b5df597c[status=PENDING]\r\n\r\nI see Deamon threads - GAX-34, GAX-35 .... , grpc-default-worker-ELG, grpc-default-executor keep running for 10 minutes or so \r\n\r\n\r\n\r\n\r\ncode -\r\n\r\n\t\t\r\n\t\tTopicName topicName = TopicName.of(projectId, topicId);\r\n\t\tExecutorService service = Executors.newSingleThreadExecutor();\r\n\r\n\t\ttry {\r\n\t\t\tpublisher = Publisher.newBuilder(topicName).setEnableMessageOrdering(true).build();\r\n\t\t\t// Message to be published\r\n\t\t\tpubsubMessage = PubsubMessage.newBuilder().setData(ByteString.copyFromUtf8(&quot;Hello, Pub/Sub!&quot;))\r\n\t\t\t\t\t.putAttributes(&quot;Day&quot;, &quot;Sunny&quot;).setOrderingKey(&quot;101&quot;).build();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;Exception while instantiating publisher: &quot; + e);\r\n\t\t}\r\n\t\t\r\n\t\tApiFuture&lt;String&gt; future = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (publisher != null) {\r\n\t\t\t\t\t\tfuture = publisher.publish(pubsubMessage);\r\n\t\t\t\t\t\tif (future != null) {\r\n\t\t\t\t\t\t\tRunnable task = () -&gt; {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;\\n&quot; + &quot;Message: &quot; + future.get() + &quot; published&quot;);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t} catch (ExecutionException e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tservice.submit(task);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tretryCount++;\r\n\t\t\t\tSystem.out.println(&quot;Failed to publish message. Retrying...&quot;);\r\n\t\t\t\tThread.sleep(RETRY_DELAY_MS);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\npom.xml cfgs\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;version.build-helper-maven-plugin&gt;3.4.0&lt;/version.build-helper-maven-plugin&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;26.26.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.125.11&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.34.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;32.0.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.37.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.37.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.37.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"GC PubSub publisher.publish works on local IDE but not in docker container","body":"<p>When I try to publish messages using google clould pubsub, it works fine in my local IDE Eclipse but when I use the same code in docker container, it doesn't work.\nThe execution at publisher.publish(message).get(1L, Timeunit.MINUTES) hangs</p>\n<p>When I use an ExecutorService to submit this same task, it throws TimeOutException\njava.util.concurrent.TimeoutException: Waited 1 minutes (plus 2746930 nanoseconds delay) for com.google.api.core.AbstractApiFuture$InternalSettableFuture@b5df597c[status=PENDING]</p>\n<p>I see Deamon threads - GAX-34, GAX-35 .... , grpc-default-worker-ELG, grpc-default-executor keep running for 10 minutes or so</p>\n<p>code -</p>\n<pre><code>    TopicName topicName = TopicName.of(projectId, topicId);\n    ExecutorService service = Executors.newSingleThreadExecutor();\n\n    try {\n        publisher = Publisher.newBuilder(topicName).setEnableMessageOrdering(true).build();\n        // Message to be published\n        pubsubMessage = PubsubMessage.newBuilder().setData(ByteString.copyFromUtf8(&quot;Hello, Pub/Sub!&quot;))\n                .putAttributes(&quot;Day&quot;, &quot;Sunny&quot;).setOrderingKey(&quot;101&quot;).build();\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(&quot;Exception while instantiating publisher: &quot; + e);\n    }\n    \n    ApiFuture&lt;String&gt; future = null;\n\n        try {\n            if (publisher != null) {\n                    future = publisher.publish(pubsubMessage);\n                    if (future != null) {\n                        Runnable task = () -&gt; {\n                        try {\n                            System.out.println(&quot;\\n&quot; + &quot;Message: &quot; + future.get() + &quot; published&quot;);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        } catch (ExecutionException e) {\n                            e.printStackTrace();\n                        }\n                        };\n                        service.submit(task);\n                    }\n                    }\n        } catch (Exception e) {\n            retryCount++;\n            System.out.println(&quot;Failed to publish message. Retrying...&quot;);\n            Thread.sleep(RETRY_DELAY_MS);\n        }\n    }\n    \n</code></pre>\n<p>pom.xml cfgs</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;version.build-helper-maven-plugin&gt;3.4.0&lt;/version.build-helper-maven-plugin&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n            &lt;version&gt;26.26.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\n        &lt;version&gt;1.125.11&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n                &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n                &lt;artifactId&gt;gax&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n                &lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n        &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;32.0.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\n        &lt;version&gt;2.37.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\n        &lt;version&gt;2.37.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax-httpjson&lt;/artifactId&gt;\n        &lt;version&gt;2.37.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","string","url","servlets","httprequest"],"answers":[{"tags":[],"owner":{"account_id":1999609,"reputation":680,"user_id":1790964,"accept_rate":25,"display_name":"pratikch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356675194,"creation_date":1356675194,"answer_id":14065398,"question_id":14065257,"body_markdown":"In my understanding, you need the domain part and Context path only. Based on this understanding, You can use this method to get the required string.\r\n\r\n    String domain = request.getRequestURL().toString();\r\n    String cpath = request.getContextPath().toString();\r\n    \r\n    String tString = domain.subString(0, domain.indexOf(cpath));\r\n    \r\n    tString = tString + cpath;","title":"How to get only part of URL from HttpServletRequest?","body":"<p>In my understanding, you need the domain part and Context path only. Based on this understanding, You can use this method to get the required string.</p>\n\n<pre><code>String domain = request.getRequestURL().toString();\nString cpath = request.getContextPath().toString();\n\nString tString = domain.subString(0, domain.indexOf(cpath));\n\ntString = tString + cpath;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1494647,"reputation":5396,"user_id":1400897,"accept_rate":53,"display_name":"NPKR"},"comment_count":0,"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1356678228,"creation_date":1356677446,"answer_id":14065785,"question_id":14065257,"body_markdown":"AFAIK for this there is no API provided method, need to customization.\r\n\r\n\r\n    String serverName = request.getServerName();\r\n    int portNumber = request.getServerPort();\r\n    String contextPath = request.getContextPath();\r\n// try this\r\n\r\n    System.out.println(serverName + &quot;:&quot; +portNumber + contextPath );","title":"How to get only part of URL from HttpServletRequest?","body":"<p>AFAIK for this there is no API provided method, need to customization.</p>\n\n<pre><code>String serverName = request.getServerName();\nint portNumber = request.getServerPort();\nString contextPath = request.getContextPath();\n</code></pre>\n\n<p>// try this</p>\n\n<pre><code>System.out.println(serverName + \":\" +portNumber + contextPath );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"comment_count":0,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1699594962,"creation_date":1356734132,"answer_id":14076638,"question_id":14065257,"body_markdown":"You say you want to get exactly:\r\n\r\n    http://localhost:9090/dts\r\n\r\nIn your case, the above string consists of:  \r\n\r\n1) [**scheme**](http://en.wikipedia.org/wiki/URI_scheme): *http*  \r\n2) **server [host name](https://en.wikipedia.org/wiki/Hostname)**: *localhost*  \r\n3) **server [port](https://en.wikipedia.org/wiki/Port_(computer_networking))**: *9090*  \r\n4) [**context path**](https://www.eclipse.org/jetty/documentation/jetty-9/index.html#setting-context-path): *dts*\r\n\r\nMore info about the elements of a request path can be found in the official Oracle *Java EE Tutorial*: [Getting Information from Requests](https://docs.oracle.com/javaee/7/tutorial/servlets005.htm#BNAFW)\r\n\r\n## First variant:\r\n\r\n    String scheme = request.getScheme();\r\n    String serverName = request.getServerName();\r\n    int serverPort = request.getServerPort();\r\n    String contextPath = request.getContextPath();  // includes leading forward slash\r\n    \r\n    String resultPath = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath;\r\n    System.out.println(&quot;Result path: &quot; + resultPath);\r\n&lt;br&gt;\r\n\r\n## Second variant:\r\n\r\n    String scheme = request.getScheme();\r\n    String host = request.getHeader(&quot;Host&quot;);        // includes server name and server port\r\n    String contextPath = request.getContextPath();  // includes leading forward slash\r\n    \r\n    String resultPath = scheme + &quot;://&quot; + host + contextPath;\r\n    System.out.println(&quot;Result path: &quot; + resultPath);\r\n\r\n---\r\n\r\nBoth variants will give you what you wanted: `http://localhost:9090/dts`\r\n\r\n\r\nOf course, there are other variants like others already wrote. It&#39;s just in your original question you asked about how to get `http://localhost:9090/dts`, i.e. you want your path to **include** the *scheme*.  \r\n\r\nBut if you don&#39;t need the *scheme*, the quick way is:\r\n\r\n    String resultPath = request.getHeader(&quot;Host&quot;) + request.getContextPath();\r\n\r\nAnd you&#39;ll get (in your case): `localhost:9090/dts`\r\n\r\n","title":"How to get only part of URL from HttpServletRequest?","body":"<p>You say you want to get exactly:</p>\n<pre><code>http://localhost:9090/dts\n</code></pre>\n<p>In your case, the above string consists of:</p>\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/URI_scheme\" rel=\"nofollow noreferrer\"><strong>scheme</strong></a>: <em>http</em></li>\n<li><strong>server <a href=\"https://en.wikipedia.org/wiki/Hostname\" rel=\"nofollow noreferrer\">host name</a></strong>: <em>localhost</em></li>\n<li><strong>server <a href=\"https://en.wikipedia.org/wiki/Port_(computer_networking)\" rel=\"nofollow noreferrer\">port</a></strong>: <em>9090</em></li>\n<li><a href=\"https://www.eclipse.org/jetty/documentation/jetty-9/index.html#setting-context-path\" rel=\"nofollow noreferrer\"><strong>context path</strong></a>: <em>dts</em></li>\n</ol>\n<p>More info about the elements of a request path can be found in the official Oracle <em>Java EE Tutorial</em>: <a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets005.htm#BNAFW\" rel=\"nofollow noreferrer\">Getting Information from Requests</a></p>\n<h2>First variant:</h2>\n<pre><code>String scheme = request.getScheme();\nString serverName = request.getServerName();\nint serverPort = request.getServerPort();\nString contextPath = request.getContextPath();  // includes leading forward slash\n\nString resultPath = scheme + &quot;://&quot; + serverName + &quot;:&quot; + serverPort + contextPath;\nSystem.out.println(&quot;Result path: &quot; + resultPath);\n</code></pre>\n<br>\n<h2>Second variant:</h2>\n<pre><code>String scheme = request.getScheme();\nString host = request.getHeader(&quot;Host&quot;);        // includes server name and server port\nString contextPath = request.getContextPath();  // includes leading forward slash\n\nString resultPath = scheme + &quot;://&quot; + host + contextPath;\nSystem.out.println(&quot;Result path: &quot; + resultPath);\n</code></pre>\n<hr />\n<p>Both variants will give you what you wanted: <code>http://localhost:9090/dts</code></p>\n<p>Of course, there are other variants like others already wrote. It's just in your original question you asked about how to get <code>http://localhost:9090/dts</code>, i.e. you want your path to <strong>include</strong> the <em>scheme</em>.</p>\n<p>But if you don't need the <em>scheme</em>, the quick way is:</p>\n<pre><code>String resultPath = request.getHeader(&quot;Host&quot;) + request.getContextPath();\n</code></pre>\n<p>And you'll get (in your case): <code>localhost:9090/dts</code></p>\n"},{"comments":[{"owner":{"account_id":1091073,"reputation":4761,"user_id":1085699,"accept_rate":97,"display_name":"Nathaniel Johnson"},"score":2,"creation_date":1398267206,"post_id":14081501,"comment_id":35574092,"body_markdown":"5 similar questions.  Finally an answer that is succinct.","body":"5 similar questions.  Finally an answer that is succinct."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1467611090,"creation_date":1356782925,"answer_id":14081501,"question_id":14065257,"body_markdown":"Just remove URI from URL and then append context path to it. No need to fiddle with loose schemes and ports which is only more tedious when you&#39;re dealing with default port `80` which don&#39;t need to appear in URL at all.\r\n\r\n    StringBuffer url = request.getRequestURL();\r\n    String uri = request.getRequestURI();\r\n    String ctx = request.getContextPath();\r\n    String base = url.substring(0, url.length() - uri.length() + ctx.length());\r\n    // ...\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/3655316/browser-cant-access-find-relative-resources-like-css-images-and-links-when-cal (for the JSP/JSTL variant of composing the base URL)","title":"How to get only part of URL from HttpServletRequest?","body":"<p>Just remove URI from URL and then append context path to it. No need to fiddle with loose schemes and ports which is only more tedious when you're dealing with default port <code>80</code> which don't need to appear in URL at all.</p>\n\n<pre><code>StringBuffer url = request.getRequestURL();\nString uri = request.getRequestURI();\nString ctx = request.getContextPath();\nString base = url.substring(0, url.length() - uri.length() + ctx.length());\n// ...\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3655316/browser-cant-access-find-relative-resources-like-css-images-and-links-when-cal\">Browser can&#39;t access/find relative resources like CSS, images and links when calling a Servlet which forwards to a JSP</a> (for the JSP/JSTL variant of composing the base URL)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2546721,"reputation":321,"user_id":2211386,"display_name":"jacbmelo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608280913,"creation_date":1608280913,"answer_id":65353963,"question_id":14065257,"body_markdown":"Usually I have a method like this:\r\n\r\n    public String getAbsoluteContextPath() throws MalformedURLException {\r\n        ExternalContext context = FacesContext.getCurrentInstance().getExternalContext();\r\n        HttpServletRequest request = (HttpServletRequest) context.getRequest();\r\n        URL url = new URL(request.getRequestURL().toString());\r\n        return url.getProtocol() + &quot;://&quot; + url.getAuthority() + context.getRequestContextPath();\r\n    }\r\n\r\nThis method will return what you want, with the port number only if it exists in the current request. In your case it will return: http://localhost:9090/dts","title":"How to get only part of URL from HttpServletRequest?","body":"<p>Usually I have a method like this:</p>\n<pre><code>public String getAbsoluteContextPath() throws MalformedURLException {\n    ExternalContext context = FacesContext.getCurrentInstance().getExternalContext();\n    HttpServletRequest request = (HttpServletRequest) context.getRequest();\n    URL url = new URL(request.getRequestURL().toString());\n    return url.getProtocol() + &quot;://&quot; + url.getAuthority() + context.getRequestContextPath();\n}\n</code></pre>\n<p>This method will return what you want, with the port number only if it exists in the current request. In your case it will return: http://localhost:9090/dts</p>\n"},{"tags":[],"owner":{"account_id":13803314,"reputation":1330,"user_id":9962824,"display_name":"Izaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625143738,"creation_date":1625143738,"answer_id":68210508,"question_id":14065257,"body_markdown":"For those who want to get, in their **endpoint**, the **URL of the front page** which targeted the endpoint. You can use this: \r\n\r\n```java\r\nrequest.getHeader(&quot;referer&quot;)\r\n```","title":"How to get only part of URL from HttpServletRequest?","body":"<p>For those who want to get, in their <strong>endpoint</strong>, the <strong>URL of the front page</strong> which targeted the endpoint. You can use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>request.getHeader(&quot;referer&quot;)\n</code></pre>\n"}],"owner":{"account_id":1915715,"reputation":627,"user_id":1732653,"accept_rate":57,"display_name":"user1732653"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68491,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":14065785,"answer_count":6,"score":25,"last_activity_date":1699594962,"creation_date":1356674344,"question_id":14065257,"body_markdown":"From the following URL I need to get `(http://localhost:9090/dts)` alone.  \r\nThat is I need to remove `(documents/savedoc)` (OR)  \r\n   need to get only - `(http://localhost:9090/dts)`\r\n\r\n    http://localhost:9090/dts/documents/savedoc  \r\nIs there any method available in request to get the above?\r\n\r\nI tried the following and got the result. But still trying.  \r\n\r\n    System.out.println(&quot;URL****************&quot;+request.getRequestURL().toString());  \r\n    System.out.println(&quot;URI****************&quot;+request.getRequestURI().toString());\r\n    System.out.println(&quot;ContextPath****************&quot;+request.getContextPath().toString());\r\n    \r\n    URL****************http://localhost:9090/dts/documents/savedoc  \r\n    URI****************/dts/documents/savedoc  \r\n    ContextPath****************/dts\r\n\r\nCan anyone please help me in fixing this?","title":"How to get only part of URL from HttpServletRequest?","body":"<p>From the following URL I need to get <code>(http://localhost:9090/dts)</code> alone.<br>\nThat is I need to remove <code>(documents/savedoc)</code> (OR)<br>\n   need to get only - <code>(http://localhost:9090/dts)</code></p>\n\n<pre><code>http://localhost:9090/dts/documents/savedoc  \n</code></pre>\n\n<p>Is there any method available in request to get the above?</p>\n\n<p>I tried the following and got the result. But still trying.  </p>\n\n<pre><code>System.out.println(\"URL****************\"+request.getRequestURL().toString());  \nSystem.out.println(\"URI****************\"+request.getRequestURI().toString());\nSystem.out.println(\"ContextPath****************\"+request.getContextPath().toString());\n\nURL****************http://localhost:9090/dts/documents/savedoc  \nURI****************/dts/documents/savedoc  \nContextPath****************/dts\n</code></pre>\n\n<p>Can anyone please help me in fixing this?</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":133083,"reputation":468,"user_id":334181,"display_name":"Doron Levi"},"score":0,"creation_date":1607613140,"post_id":58609985,"comment_id":115332656,"body_markdown":"Hi Axel, can you provide a 4.1.2 DoughnutChart version?","body":"Hi Axel, can you provide a 4.1.2 DoughnutChart version?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1607618687,"post_id":58609985,"comment_id":115335571,"body_markdown":"@Doron Levi: No, I cannot because `org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData` is incomplete and useless until now. But my `apache poi 4.1.1` example using my own `XDDFDoughnutChartData` works using  `apache poi 4.1.2` as well.","body":"@Doron Levi: No, I cannot because <code>org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData</code> is incomplete and useless until now. But my <code>apache poi 4.1.1</code> example using my own <code>XDDFDoughnutChartData</code> works using  <code>apache poi 4.1.2</code> as well."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1607843020,"post_id":58609985,"comment_id":115396397,"body_markdown":"@Doron Levi: Please read first sentence in my answer. You need  the full jar of all of the schemas `ooxml-schemas-1.4.jar`.","body":"@Doron Levi: Please read first sentence in my answer. You need  the full jar of all of the schemas <code>ooxml-schemas-1.4.jar</code>."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699594023,"creation_date":1572361037,"answer_id":58609985,"question_id":58606841,"body_markdown":"At first note, for each following solution the full jar of all of the schemas `ooxml-schemas-1.4.jar` (lower versions for older releases) is needed as mentioned in [FAQ N10025](https://poi.apache.org/help/faq.html#faq-N10025).\r\n\r\nThere is not a doughnut chart data type already in `apache poi`. So the simplest method and usable in most `apache poi` versions will be using the low level classes of `org.openxmlformats.schemas.drawingml.x2006.chart.`\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    \r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTChart;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTPlotArea;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTBoolean;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumRef;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTStrRef;\r\n    \r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class DoughnutChart {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Workbook wb = new XSSFWorkbook();\r\n            Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\r\n    \r\n            Row row;\r\n            Cell cell;\r\n            for (int r = 0; r &lt; 3; r++) {\r\n                row = sheet.createRow(r);\r\n                cell = row.createCell(0);\r\n                cell.setCellValue(&quot;S&quot; + r);\r\n                cell = row.createCell(1);\r\n                cell.setCellValue(r+1);\r\n            }\r\n    \r\n            XSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\r\n            ClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 5, 5, 20);\r\n    \r\n            XSSFChart chart = drawing.createChart(anchor);\r\n    \r\n            CTChart ctChart = ((XSSFChart)chart).getCTChart();\r\n            CTPlotArea ctPlotArea = ctChart.getPlotArea();\r\n            CTDoughnutChart ctDoughnutChart = ctPlotArea.addNewDoughnutChart();\r\n            ctDoughnutChart.addNewVaryColors().setVal(true);\r\n            ctDoughnutChart.addNewHoleSize().setVal((short)50);\r\n            CTPieSer ctPieSer = ctDoughnutChart.addNewSer();\r\n    \r\n            ctPieSer.addNewIdx().setVal(0);     \r\n    \r\n            CTAxDataSource cttAxDataSource = ctPieSer.addNewCat();\r\n            CTStrRef ctStrRef = cttAxDataSource.addNewStrRef();\r\n            ctStrRef.setF(&quot;Sheet1!$A$1:$A$3&quot;); \r\n            CTNumDataSource ctNumDataSource = ctPieSer.addNewVal();\r\n            CTNumRef ctNumRef = ctNumDataSource.addNewNumRef();\r\n            ctNumRef.setF(&quot;Sheet1!$B$1:$B$3&quot;); \r\n    \r\n            // Data point colors; is necessary for showing data points in Calc\r\n            int pointCount = 3; \r\n            for (int p = 0; p &lt; pointCount; p++) {\r\n                ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n                ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n                    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n            }\r\n    \r\n    System.out.println(ctChart);\r\n    \r\n            FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xlsx&quot;);\r\n            wb.write(fileOut);\r\n            fileOut.close();\r\n            wb.close();\r\n        }\r\n    }\r\n________________________________________________________________\r\n\r\nUsing the current `apache poi 4.1.1` one could provide an own `XDDFDoughnutChartData` as follows:\r\n\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    \r\n    import org.apache.poi.util.Beta;\r\n    import org.apache.poi.xddf.usermodel.XDDFShapeProperties;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTSerTx;\r\n    \r\n    @Beta\r\n    public class XDDFDoughnutChartData extends XDDFChartData {\r\n        private CTDoughnutChart chart;\r\n    \r\n        public XDDFDoughnutChartData(XDDFChart parent, CTDoughnutChart chart) {\r\n            super(parent);\r\n            this.chart = chart;\r\n            for (CTPieSer series : chart.getSerList()) {\r\n                this.series.add(new Series(series, series.getCat(), series.getVal()));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void removeCTSeries(int n) {\r\n            chart.removeSer(n);\r\n        }\r\n    \r\n        @Override\r\n        public void setVaryColors(Boolean varyColors) {\r\n            if (varyColors == null) {\r\n                if (chart.isSetVaryColors()) {\r\n                    chart.unsetVaryColors();\r\n                }\r\n            } else {\r\n                if (chart.isSetVaryColors()) {\r\n                    chart.getVaryColors().setVal(varyColors);\r\n                } else {\r\n                    chart.addNewVaryColors().setVal(varyColors);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public Integer getFirstSliceAngle() {\r\n            if (chart.isSetFirstSliceAng()) {\r\n                return chart.getFirstSliceAng().getVal();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public void setFirstSliceAngle(Integer angle) {\r\n            if (angle == null) {\r\n                if (chart.isSetFirstSliceAng()) {\r\n                    chart.unsetFirstSliceAng();\r\n                }\r\n            } else {\r\n                if (angle &lt; 0 || 360 &lt; angle) {\r\n                    throw new IllegalArgumentException(&quot;angle must be between 0 and 360&quot;);\r\n                }\r\n                if (chart.isSetFirstSliceAng()) {\r\n                    chart.getFirstSliceAng().setVal(angle);\r\n                } else {\r\n                    chart.addNewFirstSliceAng().setVal(angle);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public Short getHoleSize() {\r\n            if (chart.isSetHoleSize()) {\r\n                return chart.getHoleSize().getVal();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public void setHoleSize(Short size) {\r\n            if (size == null) {\r\n                if (chart.isSetHoleSize()) {\r\n                    chart.unsetHoleSize();\r\n                }\r\n            } else {\r\n                if (size &lt; 0 || 100 &lt; size) {\r\n                    throw new IllegalArgumentException(&quot;size must be between 0 and 100&quot;);\r\n                }\r\n                if (chart.isSetHoleSize()) {\r\n                    chart.getHoleSize().setVal(size);\r\n                } else {\r\n                    chart.addNewHoleSize().setVal(size);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public XDDFChartData.Series addSeries(XDDFDataSource&lt;?&gt; category,\r\n                XDDFNumericalDataSource&lt;? extends Number&gt; values) {\r\n            final long index = this.series.size();\r\n            final CTPieSer ctSer = this.chart.addNewSer();\r\n            ctSer.addNewCat();\r\n            ctSer.addNewVal();\r\n            ctSer.addNewIdx().setVal(index);\r\n            ctSer.addNewOrder().setVal(index);\r\n            final Series added = new Series(ctSer, category, values);\r\n            this.series.add(added);\r\n            return added;\r\n        }\r\n    \r\n        public class Series extends XDDFChartData.Series {\r\n            private CTPieSer series;\r\n    \r\n            protected Series(CTPieSer series, XDDFDataSource&lt;?&gt; category,\r\n                    XDDFNumericalDataSource&lt;? extends Number&gt; values) {\r\n                super(category, values);\r\n                this.series = series;\r\n            }\r\n    \r\n            protected Series(CTPieSer series, CTAxDataSource category, CTNumDataSource values) {\r\n                super(XDDFDataSourcesFactory.fromDataSource(category), XDDFDataSourcesFactory.fromDataSource(values));\r\n                this.series = series;\r\n            }\r\n    \r\n            @Override\r\n            protected CTSerTx getSeriesText() {\r\n                if (series.isSetTx()) {\r\n                    return series.getTx();\r\n                } else {\r\n                    return series.addNewTx();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void setShowLeaderLines(boolean showLeaderLines) {\r\n                if (!series.isSetDLbls()) {\r\n                    series.addNewDLbls();\r\n                }\r\n                if (series.getDLbls().isSetShowLeaderLines()) {\r\n                    series.getDLbls().getShowLeaderLines().setVal(showLeaderLines);\r\n                } else {\r\n                    series.getDLbls().addNewShowLeaderLines().setVal(showLeaderLines);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public XDDFShapeProperties getShapeProperties() {\r\n                if (series.isSetSpPr()) {\r\n                    return new XDDFShapeProperties(series.getSpPr());\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void setShapeProperties(XDDFShapeProperties properties) {\r\n                if (properties == null) {\r\n                    if (series.isSetSpPr()) {\r\n                        series.unsetSpPr();\r\n                    }\r\n                } else {\r\n                    if (series.isSetSpPr()) {\r\n                        series.setSpPr(properties.getXmlObject());\r\n                    } else {\r\n                        series.addNewSpPr().set(properties.getXmlObject());\r\n                    }\r\n                }\r\n            }\r\n    \r\n            public Long getExplosion() {\r\n                if (series.isSetExplosion()) {\r\n                    return series.getExplosion().getVal();\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            public void setExplosion(Long explosion) {\r\n                if (explosion == null) {\r\n                    if (series.isSetExplosion()) {\r\n                        series.unsetExplosion();\r\n                    }\r\n                } else {\r\n                    if (series.isSetExplosion()) {\r\n                        series.getExplosion().setVal(explosion);\r\n                    } else {\r\n                        series.addNewExplosion().setVal(explosion);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            protected CTAxDataSource getAxDS() {\r\n                return series.getCat();\r\n            }\r\n    \r\n            @Override\r\n            protected CTNumDataSource getNumDS() {\r\n                return series.getVal();\r\n            }\r\n    \r\n            @Override\r\n            protected void setIndex(long val) {\r\n                series.getIdx().setVal(val);\r\n            }\r\n    \r\n            @Override\r\n            protected void setOrder(long val) {\r\n                series.getOrder().setVal(val);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd using that one can create a doughnut chart using the `XDDF` stuff.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    \r\n    public class DoughnutChartXDDF {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n          final int NUM_OF_ROWS = 2;\r\n          final int NUM_OF_COLUMNS = 10;\r\n    \r\n          // Create a row and put some cells in it. Rows are 0 based.\r\n          Row row;\r\n          Cell cell;\r\n          for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\r\n            row = sheet.createRow((short) rowIndex);\r\n            for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\r\n              cell = row.createCell((short) colIndex);\r\n              if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\r\n              else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\r\n            }\r\n          }\r\n    \r\n          XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Doughnut Chart&quot;);\r\n          chart.setTitleOverlay(false);\r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.TOP_RIGHT);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n              new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n              new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\r\n    \r\n          XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\r\n          data.setVaryColors(true);\r\n          data.setHoleSize((short)50);\r\n          XDDFChartData.Series series = data.addSeries(cat, val);\r\n          chart.plot(data);\r\n    \r\n          // Do not auto delete the title; is necessary for showing title in Calc\r\n          if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n          chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n          // Data point colors; is necessary for showing data points in Calc\r\n          int pointCount = series.getCategoryData().getPointCount(); \r\n          for (int p = 0; p &lt; pointCount; p++) {\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n              .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n          }\r\n     \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n________________________________\r\n\r\nUsing current Apache POI version 5.2.4, there is `org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData` already.\r\n\r\nSo code would be:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class DoughnutChartXDDF {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\r\n          final int NUM_OF_ROWS = 2;\r\n          final int NUM_OF_COLUMNS = 10;\r\n    \r\n          // Create a row and put some cells in it. Rows are 0 based.\r\n          Row row;\r\n          Cell cell;\r\n          for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\r\n            row = sheet.createRow((short) rowIndex);\r\n            for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\r\n              cell = row.createCell((short) colIndex);\r\n              if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\r\n              else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\r\n            }\r\n          }\r\n    \r\n          XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Doughnut Chart&quot;);\r\n          chart.setTitleOverlay(false);\r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.TOP_RIGHT);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n              new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n              new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\r\n    \r\n          //XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\r\n    \t  XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\r\n          data.setVaryColors(true);\r\n          data.setHoleSize(50);\r\n          XDDFChartData.Series series = data.addSeries(cat, val);\r\n          chart.plot(data);\r\n    \r\n          // Do not auto delete the title; is necessary for showing title in Calc\r\n          if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n          chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n          // Data point colors; is necessary for showing data points in Calc\r\n          int pointCount = series.getCategoryData().getPointCount(); \r\n          for (int p = 0; p &lt; pointCount; p++) {\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n            chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\r\n              .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n          }\r\n     \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }","title":"Doughnut Chart Apache-POI","body":"<p>At first note, for each following solution the full jar of all of the schemas <code>ooxml-schemas-1.4.jar</code> (lower versions for older releases) is needed as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">FAQ N10025</a>.</p>\n<p>There is not a doughnut chart data type already in <code>apache poi</code>. So the simplest method and usable in most <code>apache poi</code> versions will be using the low level classes of <code>org.openxmlformats.schemas.drawingml.x2006.chart.</code></p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\n\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTChart;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTPlotArea;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTBoolean;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumRef;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTStrRef;\n\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class DoughnutChart {\n\n    public static void main(String[] args) throws Exception {\n        Workbook wb = new XSSFWorkbook();\n        Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\n\n        Row row;\n        Cell cell;\n        for (int r = 0; r &lt; 3; r++) {\n            row = sheet.createRow(r);\n            cell = row.createCell(0);\n            cell.setCellValue(&quot;S&quot; + r);\n            cell = row.createCell(1);\n            cell.setCellValue(r+1);\n        }\n\n        XSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\n        ClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 5, 5, 20);\n\n        XSSFChart chart = drawing.createChart(anchor);\n\n        CTChart ctChart = ((XSSFChart)chart).getCTChart();\n        CTPlotArea ctPlotArea = ctChart.getPlotArea();\n        CTDoughnutChart ctDoughnutChart = ctPlotArea.addNewDoughnutChart();\n        ctDoughnutChart.addNewVaryColors().setVal(true);\n        ctDoughnutChart.addNewHoleSize().setVal((short)50);\n        CTPieSer ctPieSer = ctDoughnutChart.addNewSer();\n\n        ctPieSer.addNewIdx().setVal(0);     \n\n        CTAxDataSource cttAxDataSource = ctPieSer.addNewCat();\n        CTStrRef ctStrRef = cttAxDataSource.addNewStrRef();\n        ctStrRef.setF(&quot;Sheet1!$A$1:$A$3&quot;); \n        CTNumDataSource ctNumDataSource = ctPieSer.addNewVal();\n        CTNumRef ctNumRef = ctNumDataSource.addNewNumRef();\n        ctNumRef.setF(&quot;Sheet1!$B$1:$B$3&quot;); \n\n        // Data point colors; is necessary for showing data points in Calc\n        int pointCount = 3; \n        for (int p = 0; p &lt; pointCount; p++) {\n            ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n            ctChart.getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n                .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n        }\n\nSystem.out.println(ctChart);\n\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xlsx&quot;);\n        wb.write(fileOut);\n        fileOut.close();\n        wb.close();\n    }\n}\n</code></pre>\n<hr />\n<p>Using the current <code>apache poi 4.1.1</code> one could provide an own <code>XDDFDoughnutChartData</code> as follows:</p>\n<pre><code>import org.apache.poi.xddf.usermodel.chart.*;\n\nimport org.apache.poi.util.Beta;\nimport org.apache.poi.xddf.usermodel.XDDFShapeProperties;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTDoughnutChart;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTSerTx;\n\n@Beta\npublic class XDDFDoughnutChartData extends XDDFChartData {\n    private CTDoughnutChart chart;\n\n    public XDDFDoughnutChartData(XDDFChart parent, CTDoughnutChart chart) {\n        super(parent);\n        this.chart = chart;\n        for (CTPieSer series : chart.getSerList()) {\n            this.series.add(new Series(series, series.getCat(), series.getVal()));\n        }\n    }\n\n    @Override\n    protected void removeCTSeries(int n) {\n        chart.removeSer(n);\n    }\n\n    @Override\n    public void setVaryColors(Boolean varyColors) {\n        if (varyColors == null) {\n            if (chart.isSetVaryColors()) {\n                chart.unsetVaryColors();\n            }\n        } else {\n            if (chart.isSetVaryColors()) {\n                chart.getVaryColors().setVal(varyColors);\n            } else {\n                chart.addNewVaryColors().setVal(varyColors);\n            }\n        }\n    }\n\n    public Integer getFirstSliceAngle() {\n        if (chart.isSetFirstSliceAng()) {\n            return chart.getFirstSliceAng().getVal();\n        } else {\n            return null;\n        }\n    }\n\n    public void setFirstSliceAngle(Integer angle) {\n        if (angle == null) {\n            if (chart.isSetFirstSliceAng()) {\n                chart.unsetFirstSliceAng();\n            }\n        } else {\n            if (angle &lt; 0 || 360 &lt; angle) {\n                throw new IllegalArgumentException(&quot;angle must be between 0 and 360&quot;);\n            }\n            if (chart.isSetFirstSliceAng()) {\n                chart.getFirstSliceAng().setVal(angle);\n            } else {\n                chart.addNewFirstSliceAng().setVal(angle);\n            }\n        }\n    }\n\n    public Short getHoleSize() {\n        if (chart.isSetHoleSize()) {\n            return chart.getHoleSize().getVal();\n        } else {\n            return null;\n        }\n    }\n\n    public void setHoleSize(Short size) {\n        if (size == null) {\n            if (chart.isSetHoleSize()) {\n                chart.unsetHoleSize();\n            }\n        } else {\n            if (size &lt; 0 || 100 &lt; size) {\n                throw new IllegalArgumentException(&quot;size must be between 0 and 100&quot;);\n            }\n            if (chart.isSetHoleSize()) {\n                chart.getHoleSize().setVal(size);\n            } else {\n                chart.addNewHoleSize().setVal(size);\n            }\n        }\n    }\n\n    @Override\n    public XDDFChartData.Series addSeries(XDDFDataSource&lt;?&gt; category,\n            XDDFNumericalDataSource&lt;? extends Number&gt; values) {\n        final long index = this.series.size();\n        final CTPieSer ctSer = this.chart.addNewSer();\n        ctSer.addNewCat();\n        ctSer.addNewVal();\n        ctSer.addNewIdx().setVal(index);\n        ctSer.addNewOrder().setVal(index);\n        final Series added = new Series(ctSer, category, values);\n        this.series.add(added);\n        return added;\n    }\n\n    public class Series extends XDDFChartData.Series {\n        private CTPieSer series;\n\n        protected Series(CTPieSer series, XDDFDataSource&lt;?&gt; category,\n                XDDFNumericalDataSource&lt;? extends Number&gt; values) {\n            super(category, values);\n            this.series = series;\n        }\n\n        protected Series(CTPieSer series, CTAxDataSource category, CTNumDataSource values) {\n            super(XDDFDataSourcesFactory.fromDataSource(category), XDDFDataSourcesFactory.fromDataSource(values));\n            this.series = series;\n        }\n\n        @Override\n        protected CTSerTx getSeriesText() {\n            if (series.isSetTx()) {\n                return series.getTx();\n            } else {\n                return series.addNewTx();\n            }\n        }\n\n        @Override\n        public void setShowLeaderLines(boolean showLeaderLines) {\n            if (!series.isSetDLbls()) {\n                series.addNewDLbls();\n            }\n            if (series.getDLbls().isSetShowLeaderLines()) {\n                series.getDLbls().getShowLeaderLines().setVal(showLeaderLines);\n            } else {\n                series.getDLbls().addNewShowLeaderLines().setVal(showLeaderLines);\n            }\n        }\n\n        @Override\n        public XDDFShapeProperties getShapeProperties() {\n            if (series.isSetSpPr()) {\n                return new XDDFShapeProperties(series.getSpPr());\n            } else {\n                return null;\n            }\n        }\n\n        @Override\n        public void setShapeProperties(XDDFShapeProperties properties) {\n            if (properties == null) {\n                if (series.isSetSpPr()) {\n                    series.unsetSpPr();\n                }\n            } else {\n                if (series.isSetSpPr()) {\n                    series.setSpPr(properties.getXmlObject());\n                } else {\n                    series.addNewSpPr().set(properties.getXmlObject());\n                }\n            }\n        }\n\n        public Long getExplosion() {\n            if (series.isSetExplosion()) {\n                return series.getExplosion().getVal();\n            } else {\n                return null;\n            }\n        }\n\n        public void setExplosion(Long explosion) {\n            if (explosion == null) {\n                if (series.isSetExplosion()) {\n                    series.unsetExplosion();\n                }\n            } else {\n                if (series.isSetExplosion()) {\n                    series.getExplosion().setVal(explosion);\n                } else {\n                    series.addNewExplosion().setVal(explosion);\n                }\n            }\n        }\n\n        @Override\n        protected CTAxDataSource getAxDS() {\n            return series.getCat();\n        }\n\n        @Override\n        protected CTNumDataSource getNumDS() {\n            return series.getVal();\n        }\n\n        @Override\n        protected void setIndex(long val) {\n            series.getIdx().setVal(val);\n        }\n\n        @Override\n        protected void setOrder(long val) {\n            series.getOrder().setVal(val);\n        }\n    }\n}\n</code></pre>\n<p>And using that one can create a doughnut chart using the <code>XDDF</code> stuff.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\n\npublic class DoughnutChartXDDF {\n\n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n      final int NUM_OF_ROWS = 2;\n      final int NUM_OF_COLUMNS = 10;\n\n      // Create a row and put some cells in it. Rows are 0 based.\n      Row row;\n      Cell cell;\n      for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\n        row = sheet.createRow((short) rowIndex);\n        for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\n          cell = row.createCell((short) colIndex);\n          if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\n          else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\n        }\n      }\n\n      XSSFDrawing drawing = sheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(&quot;Doughnut Chart&quot;);\n      chart.setTitleOverlay(false);\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.TOP_RIGHT);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n          new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n          new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\n\n      XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\n      data.setVaryColors(true);\n      data.setHoleSize((short)50);\n      XDDFChartData.Series series = data.addSeries(cat, val);\n      chart.plot(data);\n\n      // Do not auto delete the title; is necessary for showing title in Calc\n      if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n      chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n      // Data point colors; is necessary for showing data points in Calc\n      int pointCount = series.getCategoryData().getPointCount(); \n      for (int p = 0; p &lt; pointCount; p++) {\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n          .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n      }\n \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n<hr />\n<p>Using current Apache POI version 5.2.4, there is <code>org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData</code> already.</p>\n<p>So code would be:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDoughnutChartData;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class DoughnutChartXDDF {\n\n  public static void main(String[] args) throws IOException {\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      XSSFSheet sheet = wb.createSheet(&quot;doughnutChart&quot;);\n      final int NUM_OF_ROWS = 2;\n      final int NUM_OF_COLUMNS = 10;\n\n      // Create a row and put some cells in it. Rows are 0 based.\n      Row row;\n      Cell cell;\n      for (int rowIndex = 0; rowIndex &lt; NUM_OF_ROWS; rowIndex++) {\n        row = sheet.createRow((short) rowIndex);\n        for (int colIndex = 0; colIndex &lt; NUM_OF_COLUMNS; colIndex++) {\n          cell = row.createCell((short) colIndex);\n          if (rowIndex == 0) cell.setCellValue(&quot;Cat &quot; + (colIndex + 1));\n          else cell.setCellValue((colIndex + 1) * (rowIndex + 1));\n        }\n      }\n\n      XSSFDrawing drawing = sheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 10, 25);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(&quot;Doughnut Chart&quot;);\n      chart.setTitleOverlay(false);\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.TOP_RIGHT);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n          new CellRangeAddress(0, 0, 0, NUM_OF_COLUMNS - 1));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n          new CellRangeAddress(1, 1, 0, NUM_OF_COLUMNS - 1));\n\n      //XDDFDoughnutChartData data = new XDDFDoughnutChartData(chart, chart.getCTChart().getPlotArea().addNewDoughnutChart());\n      XDDFDoughnutChartData data = (XDDFDoughnutChartData)chart.createData(ChartTypes.DOUGHNUT, null, null);\n      data.setVaryColors(true);\n      data.setHoleSize(50);\n      XDDFChartData.Series series = data.addSeries(cat, val);\n      chart.plot(data);\n\n      // Do not auto delete the title; is necessary for showing title in Calc\n      if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n      chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n      // Data point colors; is necessary for showing data points in Calc\n      int pointCount = series.getCategoryData().getPointCount(); \n      for (int p = 0; p &lt; pointCount; p++) {\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n        chart.getCTChart().getPlotArea().getDoughnutChartArray(0).getSerArray(0).getDPtArray(p)\n          .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n      }\n \n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-doughnut-chart.xlsx&quot;)) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":15987290,"reputation":21,"user_id":11537330,"display_name":"Andrey Kaplan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699594023,"creation_date":1572349600,"question_id":58606841,"body_markdown":"I&#39;am trying to create Doughnut Chart with apache-poi, but there&#39;s no information or examples. I tried to use example of pie chart but unsuccesful. Can you help with this problem? ","title":"Doughnut Chart Apache-POI","body":"<p>I'am trying to create Doughnut Chart with apache-poi, but there's no information or examples. I tried to use example of pie chart but unsuccesful. Can you help with this problem? </p>\n"},{"tags":["java","linked-list","class-members"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699593540,"post_id":77457828,"comment_id":136554249,"body_markdown":"*&quot;This doesn&#39;t work if the node class is in a separate file&quot;* -- please be more specific and provide more detail since &quot;doesn&#39;t work&quot; doesn&#39;t tell us what problems you in fact are having. Doesn&#39;t work, how? What errors are you seeing? Please show two small complete separate classes and the full error messages you are seeing, if any.","body":"<i>&quot;This doesn&#39;t work if the node class is in a separate file&quot;</i> -- please be more specific and provide more detail since &quot;doesn&#39;t work&quot; doesn&#39;t tell us what problems you in fact are having. Doesn&#39;t work, how? What errors are you seeing? Please show two small complete separate classes and the full error messages you are seeing, if any."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699593668,"post_id":77457828,"comment_id":136554260,"body_markdown":"If both files are in the same package, then there is no need to do an import. If they are in separate packages, then you will need to import the Node class into your LinkedList class.","body":"If both files are in the same package, then there is no need to do an import. If they are in separate packages, then you will need to import the Node class into your LinkedList class."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699593696,"post_id":77457828,"comment_id":136554263,"body_markdown":"And please tell how you are compiling and running your classes. Are you using an IDE or are you running from the command line?","body":"And please tell how you are compiling and running your classes. Are you using an IDE or are you running from the command line?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699593772,"post_id":77457828,"comment_id":136554271,"body_markdown":"Make sure that you&#39;ve fully compiled the Node class. Also, please check out the [What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?](https://stackoverflow.com/q/25706216/) question and answers.","body":"Make sure that you&#39;ve fully compiled the Node class. Also, please check out the <a href=\"https://stackoverflow.com/q/25706216/\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a> question and answers."},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699593936,"post_id":77457828,"comment_id":136554288,"body_markdown":"@HovercraftFullOfEels I just updated my question. They are in the same package called stacks.","body":"@HovercraftFullOfEels I just updated my question. They are in the same package called stacks."},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699593972,"post_id":77457828,"comment_id":136554294,"body_markdown":"@HovercraftFullOfEels I am compiling as : javac LinkedList.java java LinkedList","body":"@HovercraftFullOfEels I am compiling as : javac LinkedList.java java LinkedList"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699594064,"post_id":77457828,"comment_id":136554306,"body_markdown":"Are you compiling the Node.java class?","body":"Are you compiling the Node.java class?"},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1699594118,"post_id":77457828,"comment_id":136554312,"body_markdown":"@HovercraftFullOfEels no... that&#39;s what it was.","body":"@HovercraftFullOfEels no... that&#39;s what it was."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699594121,"post_id":77457828,"comment_id":136554313,"body_markdown":"e.g., `javac Node.java LinkedList.java`","body":"e.g., <code>javac Node.java LinkedList.java</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699594158,"post_id":77457828,"comment_id":136554320,"body_markdown":"Use a decent IDE or learn to use Maven.","body":"Use a decent IDE or learn to use Maven."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1699594187,"post_id":77457828,"comment_id":136554325,"body_markdown":"But glad that your problem has been solved.","body":"But glad that your problem has been solved."}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699593377,"answer_count":0,"score":0,"last_activity_date":1699593868,"creation_date":1699593280,"question_id":77457828,"body_markdown":"This is a total noob question since I cannot remember.\r\n\r\nI want to make a homemade version of linked lists and my LinkedList class is as follows:\r\n\r\n    package stacks;\r\n    \r\n    import java.io.*;\r\n    \r\n    class Node&lt;T&gt;\r\n    {\r\n        T data;\r\n        Node&lt;T&gt; next;\r\n    \r\n        Node(T data)\r\n        {\r\n            this.data = data;\r\n        }\r\n    }\r\n    \r\n    public class LinkedList&lt;AnyType&gt;\r\n    {\r\n        private Node&lt;AnyType&gt; head, tail;\r\n    }\r\n\r\nI want to move the Node class to its own file in the same directory as the Linked List class. How to I reference the Node class as a field in the Linked List class if I do this?\r\n\r\nNode class:\r\n\r\n    package stacks;\r\n    \r\n    public class Node&lt;T&gt;\r\n    {\r\n        T data;\r\n        Node&lt;T&gt; next;\r\n    \r\n        Node(T data)\r\n        {\r\n            this.data = data;\r\n        }\r\n    }\r\n\r\nLinked List class:\r\n\r\n    package stacks;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class LinkedList&lt;AnyType&gt;\r\n    {\r\n        private Node&lt;AnyType&gt; head, tail;\r\n    }\r\n\r\n\r\nThis doesn&#39;t work if the node class is in a separate file. Since the &quot;Node&quot; is a field member of the LinkedList class, I do not want to instantiate it yet. I just want a reference to the class. \r\n\r\n\r\nThis is a very basic question, I know. I haven&#39;t done object oriented programming in a while so I don&#39;t really remember these basic things.\r\n\r\nThis is the error I&#39;m getting:\r\n\r\n    LinkedList.java:13: error: cannot find symbol\r\n        private Node&lt;AnyType&gt; head, tail;\r\n                ^\r\n      symbol:   class Node\r\n      location: class LinkedList&lt;AnyType&gt;\r\n      where AnyType is a type-variable:\r\n        AnyType extends Object declared in class LinkedList\r\n    1 error\r\n\r\n","title":"How do you make a Node class field member if the Node class is in a separate file?","body":"<p>This is a total noob question since I cannot remember.</p>\n<p>I want to make a homemade version of linked lists and my LinkedList class is as follows:</p>\n<pre><code>package stacks;\n\nimport java.io.*;\n\nclass Node&lt;T&gt;\n{\n    T data;\n    Node&lt;T&gt; next;\n\n    Node(T data)\n    {\n        this.data = data;\n    }\n}\n\npublic class LinkedList&lt;AnyType&gt;\n{\n    private Node&lt;AnyType&gt; head, tail;\n}\n</code></pre>\n<p>I want to move the Node class to its own file in the same directory as the Linked List class. How to I reference the Node class as a field in the Linked List class if I do this?</p>\n<p>Node class:</p>\n<pre><code>package stacks;\n\npublic class Node&lt;T&gt;\n{\n    T data;\n    Node&lt;T&gt; next;\n\n    Node(T data)\n    {\n        this.data = data;\n    }\n}\n</code></pre>\n<p>Linked List class:</p>\n<pre><code>package stacks;\n\nimport java.io.*;\n\npublic class LinkedList&lt;AnyType&gt;\n{\n    private Node&lt;AnyType&gt; head, tail;\n}\n</code></pre>\n<p>This doesn't work if the node class is in a separate file. Since the &quot;Node&quot; is a field member of the LinkedList class, I do not want to instantiate it yet. I just want a reference to the class.</p>\n<p>This is a very basic question, I know. I haven't done object oriented programming in a while so I don't really remember these basic things.</p>\n<p>This is the error I'm getting:</p>\n<pre><code>LinkedList.java:13: error: cannot find symbol\n    private Node&lt;AnyType&gt; head, tail;\n            ^\n  symbol:   class Node\n  location: class LinkedList&lt;AnyType&gt;\n  where AnyType is a type-variable:\n    AnyType extends Object declared in class LinkedList\n1 error\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1612031873,"post_id":65971489,"comment_id":116642255,"body_markdown":"Have a look at https://www.baeldung.com/spring-boot-change-context-path/","body":"Have a look at <a href=\"https://www.baeldung.com/spring-boot-change-context-path/\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-change-context-path</a>"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1612031981,"post_id":65971489,"comment_id":116642280,"body_markdown":"Is it possible that you are overriding the context-path somewhere with a configuration that is in your class path?","body":"Is it possible that you are overriding the context-path somewhere with a configuration that is in your class path?"},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":1,"creation_date":1612031996,"post_id":65971489,"comment_id":116642288,"body_markdown":"@DavidBrossard Epic 404? :-)","body":"@DavidBrossard Epic 404? :-)"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1612032429,"post_id":65971489,"comment_id":116642421,"body_markdown":"@DavidBrossard - That Baeldung link doesn&#39;t work for me, but I found a very similar one that I assume is what you wanted to direct us to:  https://www.baeldung.com/spring-boot-context-path - I looked this over, and all it seems to do is confirm that the OP is doing the right thing.","body":"@DavidBrossard - That Baeldung link doesn&#39;t work for me, but I found a very similar one that I assume is what you wanted to direct us to:  <a href=\"https://www.baeldung.com/spring-boot-context-path\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-context-path</a> - I looked this over, and all it seems to do is confirm that the OP is doing the right thing."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1612032668,"post_id":65971489,"comment_id":116642490,"body_markdown":"Strange.  All I can think of is what @RandyCasburn suggests.  You might want to confirm what the final value of that property is by injecting it somewhere or looking it up in the Spring Environment.   That would narrow it down to if the property is not being set to what you think it is, or if it has the right value and that value is somehow not having the expected effect.","body":"Strange.  All I can think of is what @RandyCasburn suggests.  You might want to confirm what the final value of that property is by injecting it somewhere or looking it up in the Spring Environment.   That would narrow it down to if the property is not being set to what you think it is, or if it has the right value and that value is somehow not having the expected effect."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1612032835,"post_id":65971489,"comment_id":116642525,"body_markdown":"@Steve I found the problem, I&#39;ll add an answer for future reference.","body":"@Steve I found the problem, I&#39;ll add an answer for future reference."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1612032858,"post_id":65971489,"comment_id":116642530,"body_markdown":"@html_programmer - Coolio!","body":"@html_programmer - Coolio!"},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":1,"creation_date":1612035436,"post_id":65971489,"comment_id":116643319,"body_markdown":"I have literally no idea what happened to my copy paste there but you found the right article and if anything it confirms that you&#39;re doing the right thing","body":"I have literally no idea what happened to my copy paste there but you found the right article and if anything it confirms that you&#39;re doing the right thing"}],"answers":[{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1612032762,"post_id":65971689,"comment_id":116642510,"body_markdown":"I don&#39;t see that the OP said anything about desiring a dynamic prefix.  The issue here is that a static prefix is being set but seemingly ignored.  (PS: I&#39;m not the downvoter...yet)","body":"I don&#39;t see that the OP said anything about desiring a dynamic prefix.  The issue here is that a static prefix is being set but seemingly ignored.  (PS: I&#39;m not the downvoter...yet)"},{"owner":{"account_id":3401338,"reputation":625,"user_id":2853402,"display_name":"adramazany"},"score":0,"creation_date":1612033089,"post_id":65971689,"comment_id":116642590,"body_markdown":"its your decision that downvote, I tried to say solution that worked for me","body":"its your decision that downvote, I tried to say solution that worked for me"},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1612033240,"post_id":65971689,"comment_id":116642645,"body_markdown":"Thanks for your solution, but indeed I prefer using built-in properties where I can to reduce boilerplate.","body":"Thanks for your solution, but indeed I prefer using built-in properties where I can to reduce boilerplate."}],"tags":[],"owner":{"account_id":3401338,"reputation":625,"user_id":2853402,"display_name":"adramazany"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1612031689,"creation_date":1612031335,"answer_id":65971689,"question_id":65971489,"body_markdown":"if you want to have dynamic and changable prefix for your uri, you could use custom variables in your properties file and use them as prefix of your mapping by ${}","title":"server.servlet.context-path not working (wtf)","body":"<p>if you want to have dynamic and changable prefix for your uri, you could use custom variables in your properties file and use them as prefix of your mapping by ${}</p>\n"},{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1612033700,"post_id":65971948,"comment_id":116642785,"body_markdown":"I thought of this. But doesn&#39;t the Controller you show in your question mean you&#39;re not using WebFlux?  Maybe that&#39;s what you mean by &quot;currently writing boilerplate&quot;.  I&#39;m a bit confused.  Maybe you could clarify, but the answer in the end is clear.  Thanks for posting it.","body":"I thought of this. But doesn&#39;t the Controller you show in your question mean you&#39;re not using WebFlux?  Maybe that&#39;s what you mean by &quot;currently writing boilerplate&quot;.  I&#39;m a bit confused.  Maybe you could clarify, but the answer in the end is clear.  Thanks for posting it."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1612033956,"post_id":65971948,"comment_id":116642873,"body_markdown":"@Steve You&#39;re correct in your assumption that this is what I meant with boilerplate. I have updated the answer accordingly.","body":"@Steve You&#39;re correct in your assumption that this is what I meant with boilerplate. I have updated the answer accordingly."}],"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1612033935,"creation_date":1612032973,"answer_id":65971948,"question_id":65971489,"body_markdown":"What I&#39;m currently writing is boilerplate (this is why I hadn&#39;t implemented Webflux yet, simply to get a basic REST api working), but I have added the Maven Webflux package because I want a reactive api: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn which case the following property is needed instead: \r\n\r\n    spring.webflux.base-path=/api\r\n","title":"server.servlet.context-path not working (wtf)","body":"<p>What I'm currently writing is boilerplate (this is why I hadn't implemented Webflux yet, simply to get a basic REST api working), but I have added the Maven Webflux package because I want a reactive api:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In which case the following property is needed instead:</p>\n<pre><code>spring.webflux.base-path=/api\n</code></pre>\n"}],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4613,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65971948,"answer_count":2,"score":5,"last_activity_date":1699593538,"creation_date":1612030216,"question_id":65971489,"body_markdown":"My application.properties: \r\n\r\n    server.port=8080\r\n    server.servlet.context-path=/api\r\n\r\nController: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/posts&quot;)\r\n    public class PostController {\r\n    \r\n        @GetMapping({ &quot;/v1.0&quot; })\r\n        public ResponseEntity&lt;List&lt;Post&gt;&gt; getPosts(@RequestParam Optional&lt;String&gt; maxId) {\r\n            List&lt;Post&gt; posts = Arrays.asList(\r\n                    new Post(new ObjectId().toString(), &quot;Test status 1&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 2&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 3&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 4&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 5&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 6&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 7&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 8&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 9&quot;, LocalDateTime.now()),\r\n                    new Post(new ObjectId().toString(), &quot;Test status 10&quot;, LocalDateTime.now())\r\n            );\r\n            return ResponseEntity.ok(posts);\r\n        }\r\n    \r\n    }\r\n\r\nThis uri gives me a result in Postman: \r\n\r\n    localhost:8080/posts/v1.0\r\n\r\nWhereas this one does not: \r\n\r\n    localhost:8080/api/posts/v1.0\r\n\r\nDoesn&#39;t make any sense. \r\n\r\nVersion: \r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.2&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nNote: application.properties gets properly read, I can change the port number at will. ","title":"server.servlet.context-path not working (wtf)","body":"<p>My application.properties:</p>\n<pre><code>server.port=8080\nserver.servlet.context-path=/api\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/posts&quot;)\npublic class PostController {\n\n    @GetMapping({ &quot;/v1.0&quot; })\n    public ResponseEntity&lt;List&lt;Post&gt;&gt; getPosts(@RequestParam Optional&lt;String&gt; maxId) {\n        List&lt;Post&gt; posts = Arrays.asList(\n                new Post(new ObjectId().toString(), &quot;Test status 1&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 2&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 3&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 4&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 5&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 6&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 7&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 8&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 9&quot;, LocalDateTime.now()),\n                new Post(new ObjectId().toString(), &quot;Test status 10&quot;, LocalDateTime.now())\n        );\n        return ResponseEntity.ok(posts);\n    }\n\n}\n</code></pre>\n<p>This uri gives me a result in Postman:</p>\n<pre><code>localhost:8080/posts/v1.0\n</code></pre>\n<p>Whereas this one does not:</p>\n<pre><code>localhost:8080/api/posts/v1.0\n</code></pre>\n<p>Doesn't make any sense.</p>\n<p>Version:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Note: application.properties gets properly read, I can change the port number at will.</p>\n"},{"tags":["java","html","jsoup"],"comments":[{"owner":{"account_id":2263322,"reputation":8698,"user_id":1992780,"accept_rate":100,"display_name":"Davide Pastore"},"score":0,"creation_date":1469356897,"post_id":38538353,"comment_id":64493045,"body_markdown":"Your HTML seems not valid. Please take a look to [this answer](http://stackoverflow.com/a/10462413/1992780).","body":"Your HTML seems not valid. Please take a look to <a href=\"http://stackoverflow.com/a/10462413/1992780\">this answer</a>."},{"owner":{"account_id":4187061,"reputation":11,"user_id":3430578,"display_name":"Joon"},"score":1,"creation_date":1469358932,"post_id":38538353,"comment_id":64493526,"body_markdown":"Thank you for the comment! I guess a good place to start is to iterate through the elements and convert the &quot;&lt;&quot; characters in text to &quot;&amp;lt;&quot; before I start parsing.","body":"Thank you for the comment! I guess a good place to start is to iterate through the elements and convert the &quot;&lt;&quot; characters in text to &quot;&amp;lt;&quot; before I start parsing."}],"answers":[{"tags":[],"owner":{"account_id":4187061,"reputation":11,"user_id":3430578,"display_name":"Joon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469410499,"creation_date":1469410499,"answer_id":38558569,"question_id":38538353,"body_markdown":"Thanks to the comment of Davide Pastore, and the question &quot;[Right angle bracket in HTML](https://stackoverflow.com/questions/10462348/right-angle-bracket-in-html/10462413#10462413)&quot;\r\n\r\nI was able to solve the problem with the following code.\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    doc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);\r\n   \t//replace all left-angle tags inside &lt;p&gt; element to &quot;&amp;lt;&quot;\r\n   \tElements pTags = doc.select(&quot;p&quot;);\r\n   \tfor (Element tag : pTags) {\r\n   \t\t//change the boundary of the regex to whatever suits you\r\n   \t\tif (tag.html().matches(&quot;(.*)&lt;[a-z](.*)&quot;)) {\r\n   \t\t\tString innerHTML = tag.html().replaceAll(&quot;&lt;(?=[a-z])&quot;, &quot;&amp;lt;&quot;);\r\n   \t\t\ttag.html(innerHTML);\r\n   \t\t}\r\n   \t}\r\n\r\n\r\nIf you go through the process of converting &quot;&lt;&quot; in text to &lt;code&gt;&amp;lt;&lt;/code&gt; before you start parsing, you will be able the get the right output.","title":"How to prevent Jsoup from erasing angle-brackets inside text when parsing","body":"<p>Thanks to the comment of Davide Pastore, and the question \"<a href=\"https://stackoverflow.com/questions/10462348/right-angle-bracket-in-html/10462413#10462413\">Right angle bracket in HTML</a>\"</p>\n\n<p>I was able to solve the problem with the following code.\n</p>\n\n<pre><code>doc = Jsoup.parse(new File(path), \"UTF-8\");\n//replace all left-angle tags inside &lt;p&gt; element to \"&amp;lt;\"\nElements pTags = doc.select(\"p\");\nfor (Element tag : pTags) {\n    //change the boundary of the regex to whatever suits you\n    if (tag.html().matches(\"(.*)&lt;[a-z](.*)\")) {\n        String innerHTML = tag.html().replaceAll(\"&lt;(?=[a-z])\", \"&amp;lt;\");\n        tag.html(innerHTML);\n    }\n}\n</code></pre>\n\n<p>If you go through the process of converting \"&lt;\" in text to <code>&lt;</code> before you start parsing, you will be able the get the right output.</p>\n"},{"tags":[],"owner":{"account_id":11521950,"reputation":1,"user_id":8443458,"display_name":"Arvind Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699593442,"creation_date":1699593442,"answer_id":77457838,"question_id":38538353,"body_markdown":"   doc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);\r\n\r\nthis first line is changing html from \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div&gt;\r\n        &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nto \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div&gt;\r\n        &lt;p&gt;1. &lt;someUnicodeString&gt; &lt;/someUnicodeString&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt should be like after parsing, non html tags should be there without any modification.","title":"How to prevent Jsoup from erasing angle-brackets inside text when parsing","body":"<p>doc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);</p>\n<p>this first line is changing html from</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\n    &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>to</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\n    &lt;p&gt;1. &lt;someUnicodeString&gt; &lt;/someUnicodeString&gt;&lt;/p&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>It should be like after parsing, non html tags should be there without any modification.</p>\n"}],"owner":{"account_id":4187061,"reputation":11,"user_id":3430578,"display_name":"Joon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38558569,"answer_count":2,"score":1,"last_activity_date":1699593442,"creation_date":1469250192,"question_id":38538353,"body_markdown":"I am trying to parse only the texts of an html document which contains angle-brackets as part of text.\r\n\r\nFor example, the html file would look something like this:\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n     &lt;head&gt;&lt;/head&gt; \r\n     &lt;body&gt; \r\n      &lt;div&gt;\r\n        &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt; \r\n        &lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/p&gt; \r\n        &lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \r\n        &lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \r\n        &lt;p&gt;5. foobarbar&lt;/p&gt; \r\n      &lt;/div&gt;\r\n     &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI want the outcome of the parsed textfile to be like this:\r\n\r\n    1. &lt;someUnicodeString&gt; \r\n    2. &lt;foo 2012.12.26.&gt; \r\n    3. &lt;123 2012.12.26.&gt; \r\n    4. &lt;@ 2012.12.26.&gt; \r\n    5. foobarbar\r\n\r\nI am using Jsoup&#39;s parse function to achieve this as shown below,\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Document doc = null;\r\n\t\r\n\ttry {\r\n\t\tdoc = Jsoup.parse(new File(path), &quot;UTF-8&quot;);\r\n\t\tdoc.outputSettings(new Document.OutputSettings().prettyPrint(false));\r\n\t\tdoc.outputSettings().escapeMode(EscapeMode.xhtml);\r\n\t\t\r\n\t\t//set line breaks in readable format\r\n\t\tdoc.select(&quot;br&quot;).append(&quot;\\\\n&quot;);\r\n\t\tdoc.select(&quot;p&quot;).prepend(&quot;\\\\n\\\\n&quot;);\r\n\t\tString bodyText = doc.body().html().replaceAll(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;);\r\n\t\tbodyText = Jsoup.clean(bodyText, &quot;&quot;, Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\r\n\r\n\t\tFile f = new File(textFileName+&quot;.txt&quot;);\r\n\t\tf.getParentFile().mkdirs();\r\n\t\tPrintWriter writer = new PrintWriter(f, &quot;UTF-8&quot;);\r\n\t\twriter.print(Parser.unescapeEntities(bodyText, false));\r\n    \twriter.close();\r\n\t} catch(IOException e) {\r\n        //Do something\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nHowever once Jsoup goes through the parsing process, it adds tags for each angle-bracket followed by characters.\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/someUnicodeString&gt;&lt;/p&gt; \r\n    &lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/foo&gt;&lt;/p&gt; \r\n    &lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \r\n    &lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \r\n    &lt;p&gt;5. foobarbar&lt;/p&gt; \r\n\r\nEventually producing the outcome\r\n\r\n    1.  \r\n    2.  \r\n    3. &lt;123 2012.12.26.&gt; \r\n    4. &lt;@ 2012.12.26.&gt; \r\n    5. asdasd \r\n\r\nHow can I prevent Jsoup from erasing angle-brackets inside text when parsing?\r\n\r\nOr is there a way to make Jsoup to recognize that certain angle-brackets are not html elements? (perhaps using regex?)\r\n\r\nI am new to Jsoup and would very much appreciate any kind of help.\r\nThank you.","title":"How to prevent Jsoup from erasing angle-brackets inside text when parsing","body":"<p>I am trying to parse only the texts of an html document which contains angle-brackets as part of text.</p>\n\n<p>For example, the html file would look something like this:\n</p>\n\n<pre><code>&lt;html&gt;\n &lt;head&gt;&lt;/head&gt; \n &lt;body&gt; \n  &lt;div&gt;\n    &lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/p&gt; \n    &lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/p&gt; \n    &lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \n    &lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \n    &lt;p&gt;5. foobarbar&lt;/p&gt; \n  &lt;/div&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I want the outcome of the parsed textfile to be like this:</p>\n\n<pre><code>1. &lt;someUnicodeString&gt; \n2. &lt;foo 2012.12.26.&gt; \n3. &lt;123 2012.12.26.&gt; \n4. &lt;@ 2012.12.26.&gt; \n5. foobarbar\n</code></pre>\n\n<p>I am using Jsoup's parse function to achieve this as shown below,\n</p>\n\n<pre><code>Document doc = null;\n\ntry {\n    doc = Jsoup.parse(new File(path), \"UTF-8\");\n    doc.outputSettings(new Document.OutputSettings().prettyPrint(false));\n    doc.outputSettings().escapeMode(EscapeMode.xhtml);\n\n    //set line breaks in readable format\n    doc.select(\"br\").append(\"\\\\n\");\n    doc.select(\"p\").prepend(\"\\\\n\\\\n\");\n    String bodyText = doc.body().html().replaceAll(\"\\\\\\\\n\", \"\\n\");\n    bodyText = Jsoup.clean(bodyText, \"\", Whitelist.none(), new Document.OutputSettings().prettyPrint(false));\n\n    File f = new File(textFileName+\".txt\");\n    f.getParentFile().mkdirs();\n    PrintWriter writer = new PrintWriter(f, \"UTF-8\");\n    writer.print(Parser.unescapeEntities(bodyText, false));\n    writer.close();\n} catch(IOException e) {\n    //Do something\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>However once Jsoup goes through the parsing process, it adds tags for each angle-bracket followed by characters.\n</p>\n\n<pre><code>&lt;p&gt;1. &lt;someUnicodeString&gt;&lt;/someUnicodeString&gt;&lt;/p&gt; \n&lt;p&gt;2. &lt;foo 2012.12.26.&gt;&lt;/foo&gt;&lt;/p&gt; \n&lt;p&gt;3. &lt;123 2012.12.26.&gt;&lt;/p&gt; \n&lt;p&gt;4. &lt;@ 2012.12.26.&gt;&lt;/p&gt; \n&lt;p&gt;5. foobarbar&lt;/p&gt; \n</code></pre>\n\n<p>Eventually producing the outcome</p>\n\n<pre><code>1.  \n2.  \n3. &lt;123 2012.12.26.&gt; \n4. &lt;@ 2012.12.26.&gt; \n5. asdasd \n</code></pre>\n\n<p>How can I prevent Jsoup from erasing angle-brackets inside text when parsing?</p>\n\n<p>Or is there a way to make Jsoup to recognize that certain angle-brackets are not html elements? (perhaps using regex?)</p>\n\n<p>I am new to Jsoup and would very much appreciate any kind of help.\nThank you.</p>\n"},{"tags":["java","groovy","spock","utc","zoneddatetime"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1699038544,"post_id":77419050,"comment_id":136485692,"body_markdown":"BTW comparing reference types (objects) using `==` is often (almost always) an error... it is just comparing the reference, not the *content* - I would expect that even `now.atZone(ZoneOffset.UTC) == now.atZone(ZoneOffset.UTC)` will return `false`, despite `now.atZone(ZoneOffset.UTC).equals( now.atZone(ZoneOffset.UTC) )` being `true`","body":"BTW comparing reference types (objects) using <code>==</code> is often (almost always) an error... it is just comparing the reference, not the <i>content</i> - I would expect that even <code>now.atZone(ZoneOffset.UTC) == now.atZone(ZoneOffset.UTC)</code> will return <code>false</code>, despite <code>now.atZone(ZoneOffset.UTC).equals( now.atZone(ZoneOffset.UTC) )</code> being <code>true</code>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699040007,"post_id":77419050,"comment_id":136485911,"body_markdown":"( even in the [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html) of `ZonedDateTime`: &quot;The `equals` method should be used for comparisons.&quot; )","body":"( even in the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>ZonedDateTime</code>: &quot;The <code>equals</code> method should be used for comparisons.&quot; )"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699046757,"post_id":77419050,"comment_id":136486933,"body_markdown":"If you&#39;re using Spock, this is Groovy not Java, correct?","body":"If you&#39;re using Spock, this is Groovy not Java, correct?"},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":0,"creation_date":1699179905,"post_id":77419050,"comment_id":136496709,"body_markdown":"@s&#246;ren you are right this is written in groovy most likely that is why i got a negative response. But == in groovy is the same as equals method in java","body":"@s&#246;ren you are right this is written in groovy most likely that is why i got a negative response. But == in groovy is the same as equals method in java"},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":0,"creation_date":1699180346,"post_id":77419050,"comment_id":136496754,"body_markdown":"@user85421 it was not clear that the code was written in groovy  so the == is considered the same as equals in java.","body":"@user85421 it was not clear that the code was written in groovy  so the == is considered the same as equals in java."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699377823,"post_id":77419050,"comment_id":136523044,"body_markdown":"I hope I have added the correct tags to *represent* your problem :-/","body":"I hope I have added the correct tags to <i>represent</i> your problem :-/"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699447778,"post_id":77419050,"comment_id":136532033,"body_markdown":"Why are so many people obsessing about `==`, if they don&#39;t even speak Groovy? &#128533;","body":"Why are so many people obsessing about <code>==</code>, if they don&#39;t even speak Groovy? 😕"},{"owner":{"account_id":4541793,"reputation":26874,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1699448330,"post_id":77419050,"comment_id":136532156,"body_markdown":"@kriegaex because there was *no information about this being Groovy* and has initially only tagged with [[tag:java]]. I find it surprising you are dismayed that question that *has not been* tagged with the Groovy tag, doesn&#39;t mention Groovy, and asks about Java (even using the Java tag) is perceived to be about the semantics of `==` in Java.","body":"@kriegaex because there was <i>no information about this being Groovy</i> and has initially only tagged with [<a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>]. I find it surprising you are dismayed that question that <i>has not been</i> tagged with the Groovy tag, doesn&#39;t mention Groovy, and asks about Java (even using the Java tag) is perceived to be about the semantics of <code>==</code> in Java."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699450963,"post_id":77419050,"comment_id":136532670,"body_markdown":"The OP said that he tested with Spock, which, despite missing tags, implies Groovy and, well, Spock. People could just read the whole question...","body":"The OP said that he tested with Spock, which, despite missing tags, implies Groovy and, well, Spock. People could just read the whole question..."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699461666,"post_id":77419050,"comment_id":136535396,"body_markdown":"@kriegaex so every Java developer must know that Spock is Groovy??? And also that `==` in Groovy, is `equals` in Java??? Not sure why you call trying to help &quot;obsessing&quot;. But I would like to point you to the description of the [Comment Everywhere Privilege](https://stackoverflow.com/help/privileges/comment), in special the last *section*.","body":"@kriegaex so every Java developer must know that Spock is Groovy??? And also that <code>==</code> in Groovy, is <code>equals</code> in Java??? Not sure why you call trying to help &quot;obsessing&quot;. But I would like to point you to the description of the <a href=\"https://stackoverflow.com/help/privileges/comment\">Comment Everywhere Privilege</a>, in special the last <i>section</i>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699487350,"post_id":77419050,"comment_id":136539710,"body_markdown":"No, of course not every developer must know. But when reading a question and meeting something she does not know - say a library, tool or technology - she should spare herself the embarrassment of writing a nonsense answer or comment by exerting at least minimal effort to google that, instead of simply allowing herself to be triggered by a cursory glance at a code snippet, falsely believing she knows what is wrong with it.  Like so often in life, also in programming it is about three things: context, context and context. &#128521;","body":"No, of course not every developer must know. But when reading a question and meeting something she does not know - say a library, tool or technology - she should spare herself the embarrassment of writing a nonsense answer or comment by exerting at least minimal effort to google that, instead of simply allowing herself to be triggered by a cursory glance at a code snippet, falsely believing she knows what is wrong with it.  Like so often in life, also in programming it is about three things: context, context and context. 😉"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699487555,"post_id":77419050,"comment_id":136539734,"body_markdown":"I am in no way ridiculing people who are trying to help others. Even a faulty try is commendable, I am totally with you there. But maybe some more care and research are helpful in order to avoid confusing OPs more than helping them. Put yourself in the position of an OP for a minute: He has a problem he cannot solve without help, so he is confused already.","body":"I am in no way ridiculing people who are trying to help others. Even a faulty try is commendable, I am totally with you there. But maybe some more care and research are helpful in order to avoid confusing OPs more than helping them. Put yourself in the position of an OP for a minute: He has a problem he cannot solve without help, so he is confused already."}],"answers":[{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699087151,"post_id":77419191,"comment_id":136489363,"body_markdown":"@JimGarrison Note that OP is using Groovy, where == does call .equals()","body":"@JimGarrison Note that OP is using Groovy, where == does call .equals()"},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":0,"creation_date":1699180548,"post_id":77419191,"comment_id":136496774,"body_markdown":"@robert but utc as a timezone what is that and in that case what kind of politics does it have regarding day light saving time and which countries are within. The real issue is that i am running in a 20+ person projekt and people have sometime chosen the timezone and other time chosen the offset causing the issue that even they IMO should be equal they are not.","body":"@robert but utc as a timezone what is that and in that case what kind of politics does it have regarding day light saving time and which countries are within. The real issue is that i am running in a 20+ person projekt and people have sometime chosen the timezone and other time chosen the offset causing the issue that even they IMO should be equal they are not."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1699198086,"post_id":77419191,"comment_id":136498588,"body_markdown":"@M.A.Tanaka For that reason I&#39;d recommend to always use time stamps in logging in UTC. That makes it much easier to compare / discuss from different locations. UTC is just the location, without daylight savings time, politics, or anything else. UTC is Coordinated Universal Time.","body":"@M.A.Tanaka For that reason I&#39;d recommend to always use time stamps in logging in UTC. That makes it much easier to compare / discuss from different locations. UTC is just the location, without daylight savings time, politics, or anything else. UTC is Coordinated Universal Time."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699489843,"post_id":77419191,"comment_id":136539935,"body_markdown":"OTOH, Z is just a military equivalent to UTC, and the `equals` method should be a bit more precise there. When debugging into the JDK, in the end it boils down to a comparison of two zone IDs, and the fact that `&quot;UTC&quot;.equals(&quot;Z&quot;)` evaluates to `false`. The JDK itself uses both in different contexts, so it also should know that they are equivalent.","body":"OTOH, Z is just a military equivalent to UTC, and the <code>equals</code> method should be a bit more precise there. When debugging into the JDK, in the end it boils down to a comparison of two zone IDs, and the fact that <code>&quot;UTC&quot;.equals(&quot;Z&quot;)</code> evaluates to <code>false</code>. The JDK itself uses both in different contexts, so it also should know that they are equivalent."},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":0,"creation_date":1699592800,"post_id":77419191,"comment_id":136554206,"body_markdown":"Thanks that is what the answer I was looking for","body":"Thanks that is what the answer I was looking for"}],"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1699039405,"creation_date":1699038939,"answer_id":77419191,"question_id":77419050,"body_markdown":"From the [ZoneId documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneId.html):\r\n\r\n&gt; A ZoneId is used to identify the rules used to convert between an Instant and a LocalDateTime. \r\n\r\nFrom the [ZoneOffset documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneOffset.html):\r\n\r\n&gt;  Different parts of the world have different time-zone offsets. The rules for how offsets vary by place and time of year are captured in the ZoneId class.\r\n&gt;\r\n&gt; For example, Paris is one hour ahead of Greenwich/UTC in winter and two hours ahead in summer. The ZoneId instance for Paris will reference two ZoneOffset instances - a +01:00 instance for winter, and a +02:00 instance for summer. \r\n\r\nSo the difference is summer vs winter time (daylight savings time), if the region uses them. There could be different states or countries in the same time zone, for example, Mexico City and Chicago are in the same zone offset (GMT-5), but Mexico stopped switching between summer and winter time in spring of 2023, so during summer they were an hour off, and in winter they&#39;ll match again.\r\n\r\nSo if you want to display or convert to local time, always use the ZoneId which considers the location (state) and the local rules on daylight savings time.","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">ZoneId documentation</a>:</p>\n<blockquote>\n<p>A ZoneId is used to identify the rules used to convert between an Instant and a LocalDateTime.</p>\n</blockquote>\n<p>From the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\">ZoneOffset documentation</a>:</p>\n<blockquote>\n<p>Different parts of the world have different time-zone offsets. The rules for how offsets vary by place and time of year are captured in the ZoneId class.</p>\n<p>For example, Paris is one hour ahead of Greenwich/UTC in winter and two hours ahead in summer. The ZoneId instance for Paris will reference two ZoneOffset instances - a +01:00 instance for winter, and a +02:00 instance for summer.</p>\n</blockquote>\n<p>So the difference is summer vs winter time (daylight savings time), if the region uses them. There could be different states or countries in the same time zone, for example, Mexico City and Chicago are in the same zone offset (GMT-5), but Mexico stopped switching between summer and winter time in spring of 2023, so during summer they were an hour off, and in winter they'll match again.</p>\n<p>So if you want to display or convert to local time, always use the ZoneId which considers the location (state) and the local rules on daylight savings time.</p>\n"},{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1699087120,"post_id":77420182,"comment_id":136489361,"body_markdown":"Note that OP is using Groovy, where == *does* call .equals()","body":"Note that OP is using Groovy, where == <i>does</i> call .equals()"},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":1,"creation_date":1699180717,"post_id":77420182,"comment_id":136496791,"body_markdown":"You are right if it was java (but I was not clear on that. Apology for that).","body":"You are right if it was java (but I was not clear on that. Apology for that)."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699054164,"creation_date":1699054164,"answer_id":77420182,"question_id":77419050,"body_markdown":"\r\nThe _double-equal_ _[equality operator](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html)_ will simply compare, in this case, the _instance_ of the object.\r\n\r\nSince _lhs_, and _rhs_, are assigned different _instances_, the values will return _false_.\r\n\r\nTypically, the _[Object#equals](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object))_ method will return whether the content is equal.\r\n\r\n```java\r\nboolean equal = lhs.equals(rhs)\r\n```\r\n\r\nIf not, implement your own comparison method.","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>The <em>double-equal</em> <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">equality operator</a></em> will simply compare, in this case, the <em>instance</em> of the object.</p>\n<p>Since <em>lhs</em>, and <em>rhs</em>, are assigned different <em>instances</em>, the values will return <em>false</em>.</p>\n<p>Typically, the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Object#equals</a></em> method will return whether the content is equal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean equal = lhs.equals(rhs)\n</code></pre>\n<p>If not, implement your own comparison method.</p>\n"},{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1699593330,"post_id":77449790,"comment_id":136554234,"body_markdown":"Please note my update, linking to a more verbose Groovy Web Console example.","body":"Please note my update, linking to a more verbose Groovy Web Console example."},{"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"score":0,"creation_date":1699593920,"post_id":77449790,"comment_id":136554282,"body_markdown":"Thanks that is the answer i was looking for. Maybe an OT thing but I can&#39;t figure out any use case where it would make sense to disregard them as being equal. It would be a bit like saying 0x10 is not the same as 16 just because they are written in hex and dec format. IMHO. But I guess one has too accept those quirks amongst the other one that  are there in the language.","body":"Thanks that is the answer i was looking for. Maybe an OT thing but I can&#39;t figure out any use case where it would make sense to disregard them as being equal. It would be a bit like saying 0x10 is not the same as 16 just because they are written in hex and dec format. IMHO. But I guess one has too accept those quirks amongst the other one that  are there in the language."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699593280,"creation_date":1699490701,"answer_id":77449790,"question_id":77419050,"body_markdown":"Quoting my own comment:\r\n\r\n&gt; Z is just a military equivalent to UTC, and the `equals` method should be a bit more precise there. When debugging into the JDK, in the end it boils down to a comparison of two zone IDs, and the fact that `&quot;UTC&quot;.equals(&quot;Z&quot;)` evaluates to `false`. The JDK itself uses both in different contexts, so it also should know that they are equivalent.\r\n\r\nHaving said that, your workaround is to use `ZoneId.normalized()`:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77419050\r\n\r\nimport spock.lang.Specification\r\n\r\nimport java.time.Duration\r\nimport java.time.LocalDateTime\r\nimport java.time.ZoneId\r\nimport java.time.ZoneOffset\r\nimport java.time.temporal.ChronoUnit\r\n\r\nclass TimeZoneTest extends Specification {\r\n  def test() {\r\n    given:\r\n    def now = LocalDateTime.now()\r\n    \r\n    when:\r\n    def lhs = now.atZone(ZoneOffset.UTC.normalized())\r\n    def rhs = now.atZone(ZoneId.of(&#39;UTC&#39;).normalized())\r\n    def timeDifference = Duration.between(lhs, rhs).get(ChronoUnit.SECONDS)\r\n\r\n    then:\r\n    lhs == rhs\r\n    timeDifference == 0\r\n  }\r\n}\r\n```\r\n\r\nTry it in the Groovy Web Console,\r\n\r\n  * either the [simple version](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNp1kMFOAjEQhu99it7oJmaCiYZowon1QGLkAFy8mNqdLpVuu7YDazS8u-0SQQQvTWf--Wb-mVaqtayRVwhRhU3z0shIGCBSEvwWg7a-g_fR6Ob6bng7ZMw0rQ_EY-vVGqx0NcxbVEYbJcl4dyh4k1sJZBqEchP20pny6JW0pSRcpOhcfvYOp9Xl_EzriHSuEeaMtDBZBe_80hliTFkZI89DMrrASBw_CF0V-Yl5_sV4uoTmlEpE0Yec12aL7r7_Zs35jo_5iXVIOVH0Ff3TrX4DdhUTkEpAUp4vjv5huZgkODTSmk-sRFEcqHCJmlbgtRgkalD8w-UrlEZrDOgUphY_54dXpA7RieTnKrcvoEYSxzvB_GEyeyrnBeub0WGJfoFxRvbCnwljPkz5Hduxb9_xw64) printed above\r\n\r\n  * or the [more verbose version](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNqtU8Fu2zAMvfsruFNsoBVSoEWxATnFOxgo2kPSSy-DJtGuVltyJSUZMvTfR9lZVMdOgQ07knx875GUWi5eeIUgkTlhN823hjuPljlPBbNFW9Zmx15vb6-vPs9v5kmimtZYD6414oXVXFds1aJQpRLcK6OPgB98y5lXDbJ8Y_vSqHJnBK9z7nFN0bj8ZDQWcjr_UJYO_bjmMWR4zZbP1mjzqJVPElFz5yCIhNY1Og_406OWDgbm4VcCtIkSPEHSrAsBKrVF_QVmYmMtag91cA2SbF8GSeBawuN6CXviBqVLY5uObdZ1BzptdrCAwbSMcml2ROyPIxEwzseId4Ap5KFeSGbKdEb1WZZ0kN1z79I0LbdKV6SqL3UwU6s9yq5dRtsOyGjv2fTCW8f6uMgH1p_ee6OYcR9SafScncI7myfQQkZYMJCrskRaqEDC_nkj7Dv6HaJOB7oXkTdjFfo0Hpetvi4f7vPVYQm-X8JoVtmJkbZrlUfYozWdiUMhuOhnHs77aRGVe_4T4wuYn93-_9z8fWQ7cwMWBdNs4iAfMdBjGnf_5Y0i_8WU6D_ejVv6UpJ-Hf3QeuJC76daTOmevRrAW_KW_AaHsLaF) with comments, showcasing both the equal and non-equal variants.\r\n\r\nMore details can be found in [this answer](https://stackoverflow.com/a/39507023/1082681).","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>Quoting my own comment:</p>\n<blockquote>\n<p>Z is just a military equivalent to UTC, and the <code>equals</code> method should be a bit more precise there. When debugging into the JDK, in the end it boils down to a comparison of two zone IDs, and the fact that <code>&quot;UTC&quot;.equals(&quot;Z&quot;)</code> evaluates to <code>false</code>. The JDK itself uses both in different contexts, so it also should know that they are equivalent.</p>\n</blockquote>\n<p>Having said that, your workaround is to use <code>ZoneId.normalized()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77419050\n\nimport spock.lang.Specification\n\nimport java.time.Duration\nimport java.time.LocalDateTime\nimport java.time.ZoneId\nimport java.time.ZoneOffset\nimport java.time.temporal.ChronoUnit\n\nclass TimeZoneTest extends Specification {\n  def test() {\n    given:\n    def now = LocalDateTime.now()\n    \n    when:\n    def lhs = now.atZone(ZoneOffset.UTC.normalized())\n    def rhs = now.atZone(ZoneId.of('UTC').normalized())\n    def timeDifference = Duration.between(lhs, rhs).get(ChronoUnit.SECONDS)\n\n    then:\n    lhs == rhs\n    timeDifference == 0\n  }\n}\n</code></pre>\n<p>Try it in the Groovy Web Console,</p>\n<ul>\n<li><p>either the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNp1kMFOAjEQhu99it7oJmaCiYZowon1QGLkAFy8mNqdLpVuu7YDazS8u-0SQQQvTWf--Wb-mVaqtayRVwhRhU3z0shIGCBSEvwWg7a-g_fR6Ob6bng7ZMw0rQ_EY-vVGqx0NcxbVEYbJcl4dyh4k1sJZBqEchP20pny6JW0pSRcpOhcfvYOp9Xl_EzriHSuEeaMtDBZBe_80hliTFkZI89DMrrASBw_CF0V-Yl5_sV4uoTmlEpE0Yec12aL7r7_Zs35jo_5iXVIOVH0Ff3TrX4DdhUTkEpAUp4vjv5huZgkODTSmk-sRFEcqHCJmlbgtRgkalD8w-UrlEZrDOgUphY_54dXpA7RieTnKrcvoEYSxzvB_GEyeyrnBeub0WGJfoFxRvbCnwljPkz5Hduxb9_xw64\" rel=\"nofollow noreferrer\">simple version</a> printed above</p>\n</li>\n<li><p>or the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eNqtU8Fu2zAMvfsruFNsoBVSoEWxATnFOxgo2kPSSy-DJtGuVltyJSUZMvTfR9lZVMdOgQ07knx875GUWi5eeIUgkTlhN823hjuPljlPBbNFW9Zmx15vb6-vPs9v5kmimtZYD6414oXVXFds1aJQpRLcK6OPgB98y5lXDbJ8Y_vSqHJnBK9z7nFN0bj8ZDQWcjr_UJYO_bjmMWR4zZbP1mjzqJVPElFz5yCIhNY1Og_406OWDgbm4VcCtIkSPEHSrAsBKrVF_QVmYmMtag91cA2SbF8GSeBawuN6CXviBqVLY5uObdZ1BzptdrCAwbSMcml2ROyPIxEwzseId4Ap5KFeSGbKdEb1WZZ0kN1z79I0LbdKV6SqL3UwU6s9yq5dRtsOyGjv2fTCW8f6uMgH1p_ee6OYcR9SafScncI7myfQQkZYMJCrskRaqEDC_nkj7Dv6HaJOB7oXkTdjFfo0Hpetvi4f7vPVYQm-X8JoVtmJkbZrlUfYozWdiUMhuOhnHs77aRGVe_4T4wuYn93-_9z8fWQ7cwMWBdNs4iAfMdBjGnf_5Y0i_8WU6D_ejVv6UpJ-Hf3QeuJC76daTOmevRrAW_KW_AaHsLaF\" rel=\"nofollow noreferrer\">more verbose version</a> with comments, showcasing both the equal and non-equal variants.</p>\n</li>\n</ul>\n<p>More details can be found in <a href=\"https://stackoverflow.com/a/39507023/1082681\">this answer</a>.</p>\n"}],"owner":{"account_id":1473456,"reputation":175,"user_id":1384439,"accept_rate":0,"display_name":"M. A. Tanaka"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1699593280,"creation_date":1699037239,"question_id":77419050,"body_markdown":"Out of curiosity are there any one who knows what the difference is between UTC as ZoneId and ZoneOffset in Java.\r\n\r\nI was a little bit surprised that it was not true when comparing utc in zoneid and zoneoffset\r\n\r\nI tried to write this test in spock and the only thing I could find was that the zone is different.\r\n\r\nAnd does anyone have any recommendation on which one to use when?\r\n\r\nIt is not clear from the example but I actually used spock/groovy  where == corresponds to the equals method in java, so apoligize for that\r\n\r\nBut no matter if I would have written lhs.equals(rhs) it would still return false\r\n\r\n``` \r\nLocalDateTime now = LocalDateTime.now() // 2023-11-03T19:42:41.772234517\r\nZonedDateTime lhs = now.atZone(ZoneOffset.UTC) \r\nString lhsString = lhs.toString() // 2023-11-03T19:42:41.772234517Z\r\nZonedDateTime rhs = now.atZone(ZoneId.of(&#39;UTC&#39;))\r\nString rhsString = rhs.toString()  // 2023-11-03T19:42:41.772234517Z[UTC]\r\nDuration duration = Duration.between(lhs, rhs)  // PT0S\r\nboolean equal = lhs == rhs   // this is false\r\n ```","title":"What is the difference between UTC (ZoneId) and (ZoneOffSet)","body":"<p>Out of curiosity are there any one who knows what the difference is between UTC as ZoneId and ZoneOffset in Java.</p>\n<p>I was a little bit surprised that it was not true when comparing utc in zoneid and zoneoffset</p>\n<p>I tried to write this test in spock and the only thing I could find was that the zone is different.</p>\n<p>And does anyone have any recommendation on which one to use when?</p>\n<p>It is not clear from the example but I actually used spock/groovy  where == corresponds to the equals method in java, so apoligize for that</p>\n<p>But no matter if I would have written lhs.equals(rhs) it would still return false</p>\n<pre><code>LocalDateTime now = LocalDateTime.now() // 2023-11-03T19:42:41.772234517\nZonedDateTime lhs = now.atZone(ZoneOffset.UTC) \nString lhsString = lhs.toString() // 2023-11-03T19:42:41.772234517Z\nZonedDateTime rhs = now.atZone(ZoneId.of('UTC'))\nString rhsString = rhs.toString()  // 2023-11-03T19:42:41.772234517Z[UTC]\nDuration duration = Duration.between(lhs, rhs)  // PT0S\nboolean equal = lhs == rhs   // this is false\n</code></pre>\n"},{"tags":["java","sql","db2","snowflake-schema"],"comments":[{"owner":{"account_id":16197938,"reputation":3962,"user_id":11695049,"display_name":"tinazmu"},"score":0,"creation_date":1699594153,"post_id":77457823,"comment_id":136554319,"body_markdown":"are you certain that the datepointer and stopdate contain just the dates and no time parts?","body":"are you certain that the datepointer and stopdate contain just the dates and no time parts?"},{"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"score":0,"creation_date":1699596250,"post_id":77457823,"comment_id":136554514,"body_markdown":"No there is no time part in db.","body":"No there is no time part in db."},{"owner":{"account_id":16197938,"reputation":3962,"user_id":11695049,"display_name":"tinazmu"},"score":1,"creation_date":1699599744,"post_id":77457823,"comment_id":136554839,"body_markdown":"It is only 29 entries, select individual values (aggregation) for that subset, and see which is different (if any). Is there a difference between how the cast function is implemented between DB2 and SF?","body":"It is only 29 entries, select individual values (aggregation) for that subset, and see which is different (if any). Is there a difference between how the cast function is implemented between DB2 and SF?"},{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1699627476,"post_id":77457823,"comment_id":136559415,"body_markdown":"what platform and version of Db2?  What are the actual dates involved when there&#39;s a difference?","body":"what platform and version of Db2?  What are the actual dates involved when there&#39;s a difference?"}],"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699593181,"creation_date":1699593181,"question_id":77457823,"body_markdown":"We are migrating from DB2 to Snowflake. For the same query in DB2 and snowflake the datediff() of snowflake is giving count more then one for some of the values not for all campared to Days() of DB2.Most of values are matching. I am generating query dynamically in java and sending it snowflake to execute.\r\n\r\nDb2 Query:\r\n\r\n \r\n\r\n    Select \r\n    &#39;1&#39; as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\r\n    &#39;2&#39; as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\r\n    Cast(Cast(count(*) as Integer) as varchar(20)) as num,\r\n    Cast(Cast(avg(Days(p2.datepointer) - Days(p1.stopdate)) as Integer) as varchar(20)) as avgGap \r\n    from TenMillion_20220731.NS8661_562_20231109_104300_097 p1 \r\n    join TenMillion_20220731.NS8661_564_20231109_104338_543 p2 on p1.personid=p2.personid \r\n    group by p1.patternnumber, p2.patternnumber \r\n    order by fromPattern, toPattern, fromCode, toCode\r\n\r\nSnowflake Query:\r\n\r\n    Select \r\n    &#39;1&#39; as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\r\n    &#39;2&#39; as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\r\n    Cast(Cast(count(*) as Integer) as varchar(20)) as num,\r\n    Cast(Cast(avg(datediff(day,p1.stopdate,p2.datepointer)) as Integer) as varchar(20)) as avgGap \r\n    from TenMillion_20220731.NS10386_147_20231108_235900_717 p1 \r\n    join TenMillion_20220731.NS10386_149_20231108_235900_717 p2 on p1.personid=p2.personid \r\n    group by p1.patternnumber, p2.patternnumber \r\n    order by fromPattern, toPattern, fromCode, toCode \r\n\r\nDb2 Output:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSnowFlake Output:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EnimH.png\r\n  [2]: https://i.stack.imgur.com/ZOWW2.png\r\n\r\nAVGGAP column for DB2 is date difference column which has values 619 and 340 in DB2 but in snowflake is 620 and 341 respectively. Other values are matching except two.\r\n\r\nCan anyone please help me to understand why same function is giving same as well as different values. Its vary important to understand this issue because its data mismatch in our application which needs to clarify to vendor. Please help.\r\n\r\nThanks,\r\nPrabhash Mishra","title":"Date difference function in snowflake is giving one more count for same query in DB2","body":"<p>We are migrating from DB2 to Snowflake. For the same query in DB2 and snowflake the datediff() of snowflake is giving count more then one for some of the values not for all campared to Days() of DB2.Most of values are matching. I am generating query dynamically in java and sending it snowflake to execute.</p>\n<p>Db2 Query:</p>\n<pre><code>Select \n'1' as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\n'2' as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\nCast(Cast(count(*) as Integer) as varchar(20)) as num,\nCast(Cast(avg(Days(p2.datepointer) - Days(p1.stopdate)) as Integer) as varchar(20)) as avgGap \nfrom TenMillion_20220731.NS8661_562_20231109_104300_097 p1 \njoin TenMillion_20220731.NS8661_564_20231109_104338_543 p2 on p1.personid=p2.personid \ngroup by p1.patternnumber, p2.patternnumber \norder by fromPattern, toPattern, fromCode, toCode\n</code></pre>\n<p>Snowflake Query:</p>\n<pre><code>Select \n'1' as fromPattern, Cast(p1.patternnumber as varchar(20)) as fromCode,\n'2' as toPattern, Cast(p2.patternnumber as varchar(20)) as toCode,\nCast(Cast(count(*) as Integer) as varchar(20)) as num,\nCast(Cast(avg(datediff(day,p1.stopdate,p2.datepointer)) as Integer) as varchar(20)) as avgGap \nfrom TenMillion_20220731.NS10386_147_20231108_235900_717 p1 \njoin TenMillion_20220731.NS10386_149_20231108_235900_717 p2 on p1.personid=p2.personid \ngroup by p1.patternnumber, p2.patternnumber \norder by fromPattern, toPattern, fromCode, toCode \n</code></pre>\n<p>Db2 Output:\n<a href=\"https://i.stack.imgur.com/EnimH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EnimH.png\" alt=\"enter image description here\" /></a></p>\n<p>SnowFlake Output:\n<a href=\"https://i.stack.imgur.com/ZOWW2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZOWW2.png\" alt=\"enter image description here\" /></a></p>\n<p>AVGGAP column for DB2 is date difference column which has values 619 and 340 in DB2 but in snowflake is 620 and 341 respectively. Other values are matching except two.</p>\n<p>Can anyone please help me to understand why same function is giving same as well as different values. Its vary important to understand this issue because its data mismatch in our application which needs to clarify to vendor. Please help.</p>\n<p>Thanks,\nPrabhash Mishra</p>\n"},{"tags":["java","velocity"],"comments":[{"owner":{"account_id":23234,"reputation":34610,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"score":0,"creation_date":1529486616,"post_id":50944642,"comment_id":88886691,"body_markdown":"There must be an associated java-based tool that will use and process the templates .","body":"There must be an associated java-based tool that will use and process the templates ."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1529486673,"post_id":50944642,"comment_id":88886733,"body_markdown":"I assume that it is mostly HTML. You can get a pretty good view from any browser if you save the template as `.html` file. The other way I know is to generate the PDF (no preview)","body":"I assume that it is mostly HTML. You can get a pretty good view from any browser if you save the template as <code>.html</code> file. The other way I know is to generate the PDF (no preview)"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1661260864,"post_id":50944642,"comment_id":129725764,"body_markdown":"Not sure if you still need this and if this is what you are looking for, but you can checkout [this answer](https://stackoverflow.com/questions/72512732/previewing-velocity-template/73459449#73459449) about a [velocity-template-tester](https://github.com/devatherock/velocity-template-tester) that I wrote","body":"Not sure if you still need this and if this is what you are looking for, but you can checkout <a href=\"https://stackoverflow.com/questions/72512732/previewing-velocity-template/73459449#73459449\">this answer</a> about a <a href=\"https://github.com/devatherock/velocity-template-tester\" rel=\"nofollow noreferrer\">velocity-template-tester</a> that I wrote"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529490643,"creation_date":1529489117,"answer_id":50945577,"question_id":50944642,"body_markdown":"There&#39;s no [Online Velocity Template Tester][1], There&#39;s an option to write test code for velocity\n\n&gt;I used to test my velocity with unit tests and created some framework code\nsimilar to this approach (https://wiki.apache.org/velocity/TestingVelocity),\nbut more modern (not extending TestCase and so on)\n\nOr different approach but less relevant to you, is to [add velocity to jmeter][2]\n\n&gt;Put velocity-engine-scripting-2.0.jar in JMeter&#39;s lib folder.\n&gt;\n&gt;When JMeter loaded it can find velocity as scripting engine and use it.\n\n[1]:http://mail-archives.apache.org/mod_mbox/velocity-user/201711.mbox/browser\n\n[2]:https://stackoverflow.com/questions/45686685/jmeter-add-velocity-language-to-jsr-223-sampler","title":"Previewing a velocity template","body":"<p>There's no <a href=\"http://mail-archives.apache.org/mod_mbox/velocity-user/201711.mbox/browser\" rel=\"nofollow noreferrer\">Online Velocity Template Tester</a>, There's an option to write test code for velocity</p>\n<blockquote>\n<p>I used to test my velocity with unit tests and created some framework code\nsimilar to this approach (<a href=\"https://wiki.apache.org/velocity/TestingVelocity\" rel=\"nofollow noreferrer\">https://wiki.apache.org/velocity/TestingVelocity</a>),\nbut more modern (not extending TestCase and so on)</p>\n</blockquote>\n<p>Or different approach but less relevant to you, is to <a href=\"https://stackoverflow.com/questions/45686685/jmeter-add-velocity-language-to-jsr-223-sampler\">add velocity to jmeter</a></p>\n<blockquote>\n<p>Put velocity-engine-scripting-2.0.jar in JMeter's lib folder.</p>\n<p>When JMeter loaded it can find velocity as scripting engine and use it.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":8225130,"reputation":141,"user_id":6187655,"display_name":"Andy"},"score":0,"creation_date":1529577440,"post_id":50946054,"comment_id":88929098,"body_markdown":"Thanks. I&#39;m trying to use it but can&#39;t seem to make it work. I think it&#39;s a bit beyond me.\nMost of the instructions I find involve running tomcat or using java references that are a bit beyond my technical abilities. I did java in college but my skills are so rusty I&#39;m struggling. I spent most of yesterday bashing my head against a wall trying to do this :)","body":"Thanks. I&#39;m trying to use it but can&#39;t seem to make it work. I think it&#39;s a bit beyond me. Most of the instructions I find involve running tomcat or using java references that are a bit beyond my technical abilities. I did java in college but my skills are so rusty I&#39;m struggling. I spent most of yesterday bashing my head against a wall trying to do this :)"},{"owner":{"account_id":1993185,"reputation":82,"user_id":1786721,"display_name":"paulo.bing"},"score":1,"creation_date":1529586999,"post_id":50946054,"comment_id":88935308,"body_markdown":"Have you tried their example? http://velocity.apache.org/tools/2.0/view-servlet.html\nIt seems a simple copy/paste and then put the vm file anywhere in the deployed war where is accessible and it&#39;s mapped to use their Servlet because of the .vm extension\nThere is also a plugin that you can embed a tomcat using maven, so you won&#39;t need to download tomcat and install. you just use a set of instructions and run the maven task. It&#39;s more complicated though. Sorry it&#39;s not as simple.\nYou can try just opening the .vm file directly in the browser renaming it to .vm.html, if it&#39;s the layout you want","body":"Have you tried their example? <a href=\"http://velocity.apache.org/tools/2.0/view-servlet.html\" rel=\"nofollow noreferrer\">velocity.apache.org/tools/2.0/view-servlet.html</a> It seems a simple copy/paste and then put the vm file anywhere in the deployed war where is accessible and it&#39;s mapped to use their Servlet because of the .vm extension There is also a plugin that you can embed a tomcat using maven, so you won&#39;t need to download tomcat and install. you just use a set of instructions and run the maven task. It&#39;s more complicated though. Sorry it&#39;s not as simple. You can try just opening the .vm file directly in the browser renaming it to .vm.html, if it&#39;s the layout you want"},{"owner":{"account_id":13209770,"reputation":315,"user_id":9540391,"display_name":"Guilherme Abacherli"},"score":0,"creation_date":1694033672,"post_id":50946054,"comment_id":135839874,"body_markdown":"I was trying to open the `.vm` file in the browser, but it was not working. Thanks to your comment I have noticed that there was missing the `.html` extension to the browser interpret it correctly. Thank you.","body":"I was trying to open the <code>.vm</code> file in the browser, but it was not working. Thanks to your comment I have noticed that there was missing the <code>.html</code> extension to the browser interpret it correctly. Thank you."}],"tags":[],"owner":{"account_id":1993185,"reputation":82,"user_id":1786721,"display_name":"paulo.bing"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529490587,"creation_date":1529490587,"answer_id":50946054,"question_id":50944642,"body_markdown":"Would this [Apache Velocity Tools][1] help you?\r\nThe documentation looks a bit old and the user would need a Tomcat server, but it seems do to the job.\r\n\r\n**Sample of the documentation:**\r\n\r\n&gt; **VelocityViewServlet**\r\n&gt; \r\n&gt; The VelocityViewServlet class is a standalone servlet that renders\r\n&gt; Velocity templates. It can be invoked directly from web client&#39;s\r\n&gt; requests, or via servlet forwarding similar to how JSP files are\r\n&gt; rendered by JSPServlet.\r\n\r\n\r\n  [1]: http://velocity.apache.org/tools/2.0/view.html","title":"Previewing a velocity template","body":"<p>Would this <a href=\"http://velocity.apache.org/tools/2.0/view.html\" rel=\"nofollow noreferrer\">Apache Velocity Tools</a> help you?\nThe documentation looks a bit old and the user would need a Tomcat server, but it seems do to the job.</p>\n\n<p><strong>Sample of the documentation:</strong></p>\n\n<blockquote>\n  <p><strong>VelocityViewServlet</strong></p>\n  \n  <p>The VelocityViewServlet class is a standalone servlet that renders\n  Velocity templates. It can be invoked directly from web client's\n  requests, or via servlet forwarding similar to how JSP files are\n  rendered by JSPServlet.</p>\n</blockquote>\n"}],"owner":{"account_id":8225130,"reputation":141,"user_id":6187655,"display_name":"Andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8732,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1699592525,"creation_date":1529486448,"question_id":50944642,"body_markdown":"I&#39;m editing velocity templates. these are used to generate PDFs. The problem is that I can&#39;t preview them. I can&#39;t see how the template will look when rendered. Are there any tools that can be used for that? I&#39;ve tried googling and I can&#39;t find anything. \r\n\r\nEditing to add: the templates are rendered by a tool I don&#39;t have access to.  So if I was to use it I&#39;d have to send it to someone who&#39;d load it everytime I wanted. And they&#39;re in a different timezone. \r\n\r\nAlso, I know if I load it locally it won&#39;t show variables. What I&#39;m interested in is knowing what it will look like. The layout etc..,","title":"Previewing a velocity template","body":"<p>I'm editing velocity templates. these are used to generate PDFs. The problem is that I can't preview them. I can't see how the template will look when rendered. Are there any tools that can be used for that? I've tried googling and I can't find anything. </p>\n\n<p>Editing to add: the templates are rendered by a tool I don't have access to.  So if I was to use it I'd have to send it to someone who'd load it everytime I wanted. And they're in a different timezone. </p>\n\n<p>Also, I know if I load it locally it won't show variables. What I'm interested in is knowing what it will look like. The layout etc..,</p>\n"},{"tags":["java","binary-tree","binary-search-tree","binary-search"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1417670879,"post_id":27286813,"comment_id":43040909,"body_markdown":"There are many method to compare string, for instance dictionary order or Hamming Distance (http://en.wikipedia.org/wiki/Hamming_distance), so it is incorrect to state that strings cannot be compared","body":"There are many method to compare string, for instance dictionary order or Hamming Distance (<a href=\"http://en.wikipedia.org/wiki/Hamming_distance\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hamming_distance</a>), so it is incorrect to state that strings cannot be compared"},{"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"score":0,"creation_date":1417671421,"post_id":27286813,"comment_id":43041064,"body_markdown":"oh i see ,which one would you recommended to use ,because i am intermediate in java, also  why when ever i insert a &quot;char&quot; value to this tree it goes directly  to right of sub-node .@Ironluca","body":"oh i see ,which one would you recommended to use ,because i am intermediate in java, also  why when ever i insert a &quot;char&quot; value to this tree it goes directly  to right of sub-node .@Ironluca"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1417671801,"post_id":27286813,"comment_id":43041168,"body_markdown":"Easiest for you is to String.compare, that follows the natural ordering i.e. dictionary ordering","body":"Easiest for you is to String.compare, that follows the natural ordering i.e. dictionary ordering"},{"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"score":0,"creation_date":1417672531,"post_id":27286813,"comment_id":43041416,"body_markdown":"Thanks a lot for tips ,what about when i insert a &quot;char&quot; value to this tree it goes directly to right of sub-node.@Ironluca","body":"Thanks a lot for tips ,what about when i insert a &quot;char&quot; value to this tree it goes directly to right of sub-node.@Ironluca"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1417673221,"post_id":27286813,"comment_id":43041663,"body_markdown":"a &#39;char&#39;, not Character is essentially a number so &gt;,&lt;,== operators can be used on them","body":"a &#39;char&#39;, not Character is essentially a number so &gt;,&lt;,== operators can be used on them"},{"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"score":0,"creation_date":1417673623,"post_id":27286813,"comment_id":43041798,"body_markdown":"can you show me how to add the node like the photo &quot; http://share.pho.to/89JtW &quot;i have tried but didn&#39;t  get it.@Ironluca","body":"can you show me how to add the node like the photo &quot; <a href=\"http://share.pho.to/89JtW\" rel=\"nofollow noreferrer\">share.pho.to/89JtW</a> &quot;i have tried but didn&#39;t  get it.@Ironluca"}],"answers":[{"comments":[{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1417681175,"post_id":27287733,"comment_id":43044673,"body_markdown":"A `byte` in Java is 8 bits, range -128 to 127. A `char` is 16 bits, range 0 to 65535. See the JLS, [4.2.1. Integral Types and Values](http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.1)","body":"A <code>byte</code> in Java is 8 bits, range -128 to 127. A <code>char</code> is 16 bits, range 0 to 65535. See the JLS, <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.1\" rel=\"nofollow noreferrer\">4.2.1. Integral Types and Values</a>"},{"owner":{"account_id":3132392,"reputation":491,"user_id":2649759,"display_name":"Sharif"},"score":0,"creation_date":1417682084,"post_id":27287733,"comment_id":43045118,"body_markdown":"@PatriciaShanahan yes, I suppose you&#39;re correct. I think, in this case, the distinction between a chat and a byte is subtle if we&#39;re talking about ASCII characters, which have values from 0-255.","body":"@PatriciaShanahan yes, I suppose you&#39;re correct. I think, in this case, the distinction between a chat and a byte is subtle if we&#39;re talking about ASCII characters, which have values from 0-255."},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1417683556,"post_id":27287733,"comment_id":43045873,"body_markdown":"I looked back at the question, and I don&#39;t see anything saying it is limited to ASCII. The example characters happen to be in the common range, but that does not make the data types the same.","body":"I looked back at the question, and I don&#39;t see anything saying it is limited to ASCII. The example characters happen to be in the common range, but that does not make the data types the same."},{"owner":{"account_id":3132392,"reputation":491,"user_id":2649759,"display_name":"Sharif"},"score":0,"creation_date":1417684273,"post_id":27287733,"comment_id":43046281,"body_markdown":"@PatriciaShanahan That is certainly true. However, I don&#39;t know enough about other character sets to be able to make my answer more general.","body":"@PatriciaShanahan That is certainly true. However, I don&#39;t know enough about other character sets to be able to make my answer more general."},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1417685527,"post_id":27287733,"comment_id":43046961,"body_markdown":"There is no need to drag byte into it at all: &quot;Java `char` is a 16 bit unsigned integer data type, for which the relational operators &lt;, &lt;=, ==, &gt;=, and &gt; are fully supported.&quot;","body":"There is no need to drag byte into it at all: &quot;Java <code>char</code> is a 16 bit unsigned integer data type, for which the relational operators &lt;, &lt;=, ==, &gt;=, and &gt; are fully supported.&quot;"}],"tags":[],"owner":{"account_id":3132392,"reputation":491,"user_id":2649759,"display_name":"Sharif"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417682217,"creation_date":1417674908,"answer_id":27287733,"question_id":27286813,"body_markdown":"**How to compare chars and strings**\r\n\r\nFirst, I should say that a `char` is not a `string`.  In Java (and many other languages), a `char` is actually a two `byte` number.  Take a look at [this ASCII table][1] of characters and you&#39;ll see that every character has a unique byte counterpart.  Since a `byte` can be thought of as a number, **you actually can compare chars using the usual comparison operators &gt;, &lt;, and ==.**  **Strings, on the other hand, are objects, so you have to compare them using the `compareTo` method.**  By reading the documentation on Strings, you can find out that the [compareTo][2] method will return a negative or positive number depending on whether the string is alphabetically before or after the other string you&#39;re comparing it to (click on the link to read the documentation for more info).\r\n\r\n**Why nodes are always being added to the right**\r\n\r\nI&#39;m assuming that you are saying that the nodes that you insert into the tree are always added to the right of the root node.  The root node in your code is the character `A`, which, according to the ASCII table, is actually less than all of the other characters that you add later on since all of the other letters are lowercase.  So that means all of the following nodes are going to be added to the right of `A`.  I&#39;m not sure if that&#39;s what you want, but it&#39;s worth pointing out.\r\n\r\nIf you are saying that the nodes are always added to the right of the whole tree (so that it looks like a long line with no branches), that&#39;s because of the letters you picked and the order you add them to the tree.  If you follow your code, you add &#39;b&#39; to &#39;A&#39;. &#39;b&#39; &gt; &#39;A&#39; so it&#39;s added to the right. Next you add &#39;d&#39;. &#39;d&#39; &gt; &#39;b&#39; so that node is added to the right.  Then you add &#39;c&#39;, and &#39;c&#39; &lt; &#39;d&#39;, so that node should be on the left. After that, you add the nodes in alphabetical order, so each subsequent letter you add is greater than the last letter you added.  To illustrate, &#39;d&#39; &lt; &#39;e&#39; &lt; &#39;f&#39; &lt; &#39;g&#39; &lt; ... &lt; &#39;q&#39;. Hence, all nodes after &#39;c&#39; are added to the right.  This makes sense; on the contrary, the tree in the photo you linked to doesn&#39;t make sense.  That tree is a binary tree in the sense that each node has only two children, but the child nodes aren&#39;t &quot;less&quot; or &quot;greater&quot; than their parent node.  I mean, how is &#39;B&#39; less than &#39;A&#39; and at the same time &#39;C&#39; greater than &#39;A&#39;? I don&#39;t see what you would use that tree for, unless the letters mean something other than their literal characters.  \r\n\r\n**How to make your tree look like the one in the picture**\r\n\r\nIf you really wanted to make your tree look like the one in the picture, you would have to assign numbers to the characters so that &#39;B&#39; is less than &#39;A&#39;, &#39;C&#39; is greater than &#39;A&#39;, etc.  Then in your `insert` method, you would compare those characters using the number rather than the character.  That could be done by making a class with a character field and a number field.  You would then set the number field to be whatever you wanted to make your tree look like you need it look like.  For instance, &#39;A&#39; could be 50, &#39;B&#39; 49, &#39;C&#39; 51, etc.\r\n\r\n\r\n  [1]: http://www.asciitable.com\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)\r\n  [3]: http://en.wikipedia.org/wiki/AVL_tree","title":"Binary Search Tree using char type","body":"<p><strong>How to compare chars and strings</strong></p>\n\n<p>First, I should say that a <code>char</code> is not a <code>string</code>.  In Java (and many other languages), a <code>char</code> is actually a two <code>byte</code> number.  Take a look at <a href=\"http://www.asciitable.com\" rel=\"nofollow\">this ASCII table</a> of characters and you'll see that every character has a unique byte counterpart.  Since a <code>byte</code> can be thought of as a number, <strong>you actually can compare chars using the usual comparison operators >, &lt;, and ==.</strong>  <strong>Strings, on the other hand, are objects, so you have to compare them using the <code>compareTo</code> method.</strong>  By reading the documentation on Strings, you can find out that the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow\">compareTo</a> method will return a negative or positive number depending on whether the string is alphabetically before or after the other string you're comparing it to (click on the link to read the documentation for more info).</p>\n\n<p><strong>Why nodes are always being added to the right</strong></p>\n\n<p>I'm assuming that you are saying that the nodes that you insert into the tree are always added to the right of the root node.  The root node in your code is the character <code>A</code>, which, according to the ASCII table, is actually less than all of the other characters that you add later on since all of the other letters are lowercase.  So that means all of the following nodes are going to be added to the right of <code>A</code>.  I'm not sure if that's what you want, but it's worth pointing out.</p>\n\n<p>If you are saying that the nodes are always added to the right of the whole tree (so that it looks like a long line with no branches), that's because of the letters you picked and the order you add them to the tree.  If you follow your code, you add 'b' to 'A'. 'b' > 'A' so it's added to the right. Next you add 'd'. 'd' > 'b' so that node is added to the right.  Then you add 'c', and 'c' &lt; 'd', so that node should be on the left. After that, you add the nodes in alphabetical order, so each subsequent letter you add is greater than the last letter you added.  To illustrate, 'd' &lt; 'e' &lt; 'f' &lt; 'g' &lt; ... &lt; 'q'. Hence, all nodes after 'c' are added to the right.  This makes sense; on the contrary, the tree in the photo you linked to doesn't make sense.  That tree is a binary tree in the sense that each node has only two children, but the child nodes aren't \"less\" or \"greater\" than their parent node.  I mean, how is 'B' less than 'A' and at the same time 'C' greater than 'A'? I don't see what you would use that tree for, unless the letters mean something other than their literal characters.  </p>\n\n<p><strong>How to make your tree look like the one in the picture</strong></p>\n\n<p>If you really wanted to make your tree look like the one in the picture, you would have to assign numbers to the characters so that 'B' is less than 'A', 'C' is greater than 'A', etc.  Then in your <code>insert</code> method, you would compare those characters using the number rather than the character.  That could be done by making a class with a character field and a number field.  You would then set the number field to be whatever you wanted to make your tree look like you need it look like.  For instance, 'A' could be 50, 'B' 49, 'C' 51, etc.</p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417685086,"creation_date":1417685086,"answer_id":27290331,"question_id":27286813,"body_markdown":"Below is a outline implementation of B-Tree with String:\r\n\r\n    public class TreeNode {\r\n\t\r\n\tprotected String nodeValue;\r\n\tprotected TreeNode leftChild;\r\n\tprotected TreeNode rightChild;\r\n\t\r\n\tpublic TreeNode(String nodeValue){\r\n\t\t\r\n\t\tthis.nodeValue=nodeValue;\r\n\t\t\r\n\t}//constructor closing\r\n\t\r\n\tpublic void addChild(String childNodeValue){\r\n\t\t\r\n\t\tif(childNodeValue.compareTo(nodeValue)&lt;0){//go left\r\n\t\t\t\r\n\t\t\tif(leftChild==null)leftChild=new TreeNode(childNodeValue);\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(childNodeValue.compareTo(leftChild.getNodeValue())&lt;0)leftChild.addChild(childNodeValue);\r\n\t\t\t\telse{\r\n\t\t\t\t\t\r\n\t\t\t\t\tTreeNode tempChild=new TreeNode(childNodeValue);\r\n\t\t\t\t\ttempChild.setLeftChild(this.leftChild);\r\n\t\t\t\t\tthis.leftChild=tempChild;\r\n\t\t\t\t\t\r\n\t\t\t\t}//else closing\r\n\t\t\t\t\r\n\t\t\t}//else closing\r\n\t\t\t\r\n\t\t}//if closing\r\n\t\telse if(childNodeValue.compareTo(nodeValue)&gt;0){//go right\r\n\t\t\t\r\n\t\t\tif(rightChild==null)rightChild=new TreeNode(childNodeValue);\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(childNodeValue.compareTo(rightChild.getNodeValue())&gt;0)rightChild.addChild(childNodeValue);\r\n\t\t\t\telse{\r\n\t\t\t\t\t\r\n\t\t\t\t\tTreeNode tempChild=new TreeNode(childNodeValue);\r\n\t\t\t\t\ttempChild.setRightChild(this.rightChild);\r\n\t\t\t\t\tthis.rightChild=tempChild;\r\n\t\t\t\t\t\r\n\t\t\t\t}//else closing\r\n\t\t\t\t\r\n\t\t\t}//else closing\r\n\t\t\t\r\n\t\t}//if closing\r\n\t\telse throw new RuntimeException(&quot;Problem&quot;);\r\n\t\t\r\n\t}//addChild closing\r\n\t\r\n\tpublic String getNodeValue(){return nodeValue;}\r\n\tpublic TreeNode getLeftChild(){return leftChild;}\r\n\tpublic TreeNode getRightChild(){return rightChild;}\r\n\tpublic void setLeftChild(TreeNode leftChild){this.leftChild=leftChild;}\r\n\tpublic void setRightChild(TreeNode rightChild){this.rightChild=rightChild;}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\r\n\t\tString retVal=&quot;--&quot;+nodeValue+&quot;--\\n&quot;;\r\n\t\t\r\n\t\treturn retVal;\r\n\t\t\r\n\t}//toString closing\r\n\r\n}//class closing\r\n\r\n    public class BTree {\r\n\t\r\n\tprotected TreeNode primaryNode;\r\n\t\r\n\tpublic BTree(String primaryNodeValue){\r\n\t\t\r\n\t\tprimaryNode=new TreeNode(primaryNodeValue);\r\n\t\t\r\n\t}//constructor closing\r\n\t\r\n\tpublic void addChild(String childNodeValue){\r\n\t\t\r\n\t\tprimaryNode.addChild(childNodeValue);\r\n\t\t\r\n\t}//addChild closing\r\n\t\r\n\tpublic TreeNode getPrimayNode(){return primaryNode;}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\t\r\n\t\treturn primaryNode.toString();\r\n\t\t\r\n\t}//toString closing\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString midValue=&quot;m&quot;;\r\n\t\t\r\n\t\tBTree tree=new BTree(midValue);\r\n\r\n\t\ttree.addChild(&quot;a&quot;);\r\n\t\ttree.addChild(&quot;b&quot;);\r\n\t\ttree.addChild(&quot;y&quot;);\r\n\t\ttree.addChild(&quot;z&quot;);\r\n\t\t\r\n\t\tTreeNode mNode=tree.getPrimayNode();\r\n\t\tTreeNode leftOfMNode=mNode.getLeftChild();\r\n\t\tTreeNode rightOfMNode=mNode.getRightChild();\r\n\t\t\r\n\t\tSystem.out.print(mNode);\r\n\t\tSystem.out.print(leftOfMNode);\r\n\t\tSystem.out.print(rightOfMNode);\r\n\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\r\n\t\tTreeNode bNode=leftOfMNode;\r\n\t\tSystem.out.print(bNode);\r\n\t\tSystem.out.print(bNode.getLeftChild());\r\n\t\tSystem.out.print(bNode.getRightChild());\r\n\t\tSystem.out.println(&quot;---------------------------------------------------------------&quot;);\r\n\t\t\r\n\t\tTreeNode yNode=rightOfMNode;\r\n\t\tSystem.out.print(yNode);\r\n\t\tSystem.out.print(yNode.getLeftChild());\r\n\t\tSystem.out.print(yNode.getRightChild());\r\n\t\t\r\n\t}//main closing\r\n\r\n}//class closing\r\n\r\nThis should give you a head start with your actual implementation.","title":"Binary Search Tree using char type","body":"<p>Below is a outline implementation of B-Tree with String:</p>\n\n<pre><code>public class TreeNode {\n\nprotected String nodeValue;\nprotected TreeNode leftChild;\nprotected TreeNode rightChild;\n\npublic TreeNode(String nodeValue){\n\n    this.nodeValue=nodeValue;\n\n}//constructor closing\n\npublic void addChild(String childNodeValue){\n\n    if(childNodeValue.compareTo(nodeValue)&lt;0){//go left\n\n        if(leftChild==null)leftChild=new TreeNode(childNodeValue);\n        else {\n\n            if(childNodeValue.compareTo(leftChild.getNodeValue())&lt;0)leftChild.addChild(childNodeValue);\n            else{\n\n                TreeNode tempChild=new TreeNode(childNodeValue);\n                tempChild.setLeftChild(this.leftChild);\n                this.leftChild=tempChild;\n\n            }//else closing\n\n        }//else closing\n\n    }//if closing\n    else if(childNodeValue.compareTo(nodeValue)&gt;0){//go right\n\n        if(rightChild==null)rightChild=new TreeNode(childNodeValue);\n        else {\n\n\n            if(childNodeValue.compareTo(rightChild.getNodeValue())&gt;0)rightChild.addChild(childNodeValue);\n            else{\n\n                TreeNode tempChild=new TreeNode(childNodeValue);\n                tempChild.setRightChild(this.rightChild);\n                this.rightChild=tempChild;\n\n            }//else closing\n\n        }//else closing\n\n    }//if closing\n    else throw new RuntimeException(\"Problem\");\n\n}//addChild closing\n\npublic String getNodeValue(){return nodeValue;}\npublic TreeNode getLeftChild(){return leftChild;}\npublic TreeNode getRightChild(){return rightChild;}\npublic void setLeftChild(TreeNode leftChild){this.leftChild=leftChild;}\npublic void setRightChild(TreeNode rightChild){this.rightChild=rightChild;}\n\n@Override\npublic String toString() {\n\n    String retVal=\"--\"+nodeValue+\"--\\n\";\n\n    return retVal;\n\n}//toString closing\n</code></pre>\n\n<p>}//class closing</p>\n\n<pre><code>public class BTree {\n\nprotected TreeNode primaryNode;\n\npublic BTree(String primaryNodeValue){\n\n    primaryNode=new TreeNode(primaryNodeValue);\n\n}//constructor closing\n\npublic void addChild(String childNodeValue){\n\n    primaryNode.addChild(childNodeValue);\n\n}//addChild closing\n\npublic TreeNode getPrimayNode(){return primaryNode;}\n\n@Override\npublic String toString() {\n\n    return primaryNode.toString();\n\n}//toString closing\n\npublic static void main(String[] args) {\n\n    String midValue=\"m\";\n\n    BTree tree=new BTree(midValue);\n\n    tree.addChild(\"a\");\n    tree.addChild(\"b\");\n    tree.addChild(\"y\");\n    tree.addChild(\"z\");\n\n    TreeNode mNode=tree.getPrimayNode();\n    TreeNode leftOfMNode=mNode.getLeftChild();\n    TreeNode rightOfMNode=mNode.getRightChild();\n\n    System.out.print(mNode);\n    System.out.print(leftOfMNode);\n    System.out.print(rightOfMNode);\n    System.out.println(\"---------------------------------------------------------------\");\n\n    TreeNode bNode=leftOfMNode;\n    System.out.print(bNode);\n    System.out.print(bNode.getLeftChild());\n    System.out.print(bNode.getRightChild());\n    System.out.println(\"---------------------------------------------------------------\");\n\n    TreeNode yNode=rightOfMNode;\n    System.out.print(yNode);\n    System.out.print(yNode.getLeftChild());\n    System.out.print(yNode.getRightChild());\n\n}//main closing\n</code></pre>\n\n<p>}//class closing</p>\n\n<p>This should give you a head start with your actual implementation.</p>\n"}],"owner":{"account_id":5341718,"reputation":11,"user_id":4258579,"display_name":"baamme"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699592525,"creation_date":1417670374,"question_id":27286813,"body_markdown":"I understand Binary Search Tree  on integers ,because i know the left child must be less then the node,and right child must be greater then the node ,when it comes to &quot;char&quot; or &quot;string&quot; type ,its totally different case,we can&#39;t say ( &#39;a&#39; &lt; &#39;b&#39; ) or any other logical operations .\r\nhow can i compare the char values?!\r\n\r\nThis is my Binary Tree   http://share.pho.to/89JtW i couldn&#39;t work because each time i insert to my code.all nodes are inserted to the right of sub-node  .         \r\n            \r\nthe nodes represent a pages ,i want to check each page  to detect if user is human or spambot .\r\n\r\neach page can be linked to another 2 pages. A human will traverse on the\r\nwebpage in a way that it will be able to go to the previous page or one of the next two pages that they  are linked to. Otherwise, they will be categorized as spambot.\r\n\r\nAnd this code i trying to implement \r\n\r\n        package stringBtree;\r\n\r\n    public class StringBinaryTreeSample {\r\n      public static void main(String[] args)\r\n        {\r\n      new StringBinaryTreeSample().run();\r\n      }\r\n      static class Node \r\n       {\r\n      Node left;\r\n      Node right;\r\n      char  value;\r\n      public Node(char value) {\r\n      this.value = value;\r\n      }\r\n      }\r\n      public void run() {\r\n      Node rootnode = new Node(&#39;A&#39;);\r\n      System.out.println(&quot;Building tree with rootvalue &quot; + rootnode.value);\r\n      System.out.println(&quot;=================================&quot;); \r\n      insert(rootnode, &#39;b&#39; );\r\n      insert(rootnode, &#39;d&#39; );\r\n      insert(rootnode, &#39;c&#39;);\r\n      insert(rootnode, &#39;d&#39;);\r\n      insert(rootnode, &#39;e&#39; );\r\n      insert(rootnode, &#39;f&#39;);\r\n      insert(rootnode, &#39;g&#39;);\r\n      insert(rootnode, &#39;h&#39;);\r\n      insert(rootnode, &#39;i&#39;);\r\n      insert(rootnode, &#39;j&#39;);\r\n      insert(rootnode, &#39;k&#39;);\r\n      insert(rootnode, &#39;l&#39;);\r\n      insert(rootnode, &#39;m&#39;);\r\n      insert(rootnode, &#39;n&#39;);\r\n      insert(rootnode, &#39;o&#39;);\r\n      insert(rootnode, &#39;p&#39;);\r\n      insert(rootnode, &#39;q&#39;);\r\n      System.out.println(&quot;\\n\\nTraversing tree in order&quot;);\r\n      System.out.println(&quot;=================================&quot;);\r\n      printInOrder(rootnode);\r\n      }\r\n      public void insert(Node node, char value) {\r\n        if (value &lt; node.value) {\r\n\r\n        if (node.left != null) {\r\n        insert(node.left, value);\r\n        } else {\r\n        System.out.println(&quot;  Inserted &quot; + value +   &quot; to left of node &quot; + node.value);\r\n        node.left = new Node(value);\r\n        }\r\n\r\n        } else if (value &gt; node.value) {\r\n            if (node.right != null) {\r\n            insert(node.right, value);\r\n            } else {\r\n            System.out.println(&quot;  Inserted &quot; + value + &quot;  to right of node &quot; + node.value);\r\n            node.right = new Node(value);\r\n            }\r\n         }\r\n      }\r\n      public void printInOrder(Node node) {\r\n        if (node != null) {\r\n        printInOrder(node.left);\r\n        System.out.println(&quot;  Traversed &quot; + node.value);\r\n        printInOrder(node.right);\r\n        }\r\n      }\r\n    }","title":"Binary Search Tree using char type","body":"<p>I understand Binary Search Tree  on integers ,because i know the left child must be less then the node,and right child must be greater then the node ,when it comes to \"char\" or \"string\" type ,its totally different case,we can't say ( 'a' &lt; 'b' ) or any other logical operations .\nhow can i compare the char values?!</p>\n\n<p>This is my Binary Tree   <a href=\"http://share.pho.to/89JtW\" rel=\"nofollow\">http://share.pho.to/89JtW</a> i couldn't work because each time i insert to my code.all nodes are inserted to the right of sub-node  .         </p>\n\n<p>the nodes represent a pages ,i want to check each page  to detect if user is human or spambot .</p>\n\n<p>each page can be linked to another 2 pages. A human will traverse on the\nwebpage in a way that it will be able to go to the previous page or one of the next two pages that they  are linked to. Otherwise, they will be categorized as spambot.</p>\n\n<p>And this code i trying to implement </p>\n\n<pre><code>    package stringBtree;\n\npublic class StringBinaryTreeSample {\n  public static void main(String[] args)\n    {\n  new StringBinaryTreeSample().run();\n  }\n  static class Node \n   {\n  Node left;\n  Node right;\n  char  value;\n  public Node(char value) {\n  this.value = value;\n  }\n  }\n  public void run() {\n  Node rootnode = new Node('A');\n  System.out.println(\"Building tree with rootvalue \" + rootnode.value);\n  System.out.println(\"=================================\"); \n  insert(rootnode, 'b' );\n  insert(rootnode, 'd' );\n  insert(rootnode, 'c');\n  insert(rootnode, 'd');\n  insert(rootnode, 'e' );\n  insert(rootnode, 'f');\n  insert(rootnode, 'g');\n  insert(rootnode, 'h');\n  insert(rootnode, 'i');\n  insert(rootnode, 'j');\n  insert(rootnode, 'k');\n  insert(rootnode, 'l');\n  insert(rootnode, 'm');\n  insert(rootnode, 'n');\n  insert(rootnode, 'o');\n  insert(rootnode, 'p');\n  insert(rootnode, 'q');\n  System.out.println(\"\\n\\nTraversing tree in order\");\n  System.out.println(\"=================================\");\n  printInOrder(rootnode);\n  }\n  public void insert(Node node, char value) {\n    if (value &lt; node.value) {\n\n    if (node.left != null) {\n    insert(node.left, value);\n    } else {\n    System.out.println(\"  Inserted \" + value +   \" to left of node \" + node.value);\n    node.left = new Node(value);\n    }\n\n    } else if (value &gt; node.value) {\n        if (node.right != null) {\n        insert(node.right, value);\n        } else {\n        System.out.println(\"  Inserted \" + value + \"  to right of node \" + node.value);\n        node.right = new Node(value);\n        }\n     }\n  }\n  public void printInOrder(Node node) {\n    if (node != null) {\n    printInOrder(node.left);\n    System.out.println(\"  Traversed \" + node.value);\n    printInOrder(node.right);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","interface","static-methods"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":5,"creation_date":1233775606,"post_id":512877,"comment_id":326539,"body_markdown":"You don&#39;t need to clutter method (and field) definitions with public in interfaces, btw.","body":"You don&#39;t need to clutter method (and field) definitions with public in interfaces, btw."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1233777300,"post_id":512877,"comment_id":326652,"body_markdown":"Hmm, seems to be a duplicate of http://stackoverflow.com/questions/21817/why-cant-i-declare-static-methods-in-an-interface. Hadn&#39;t seen that before.","body":"Hmm, seems to be a duplicate of <a href=\"http://stackoverflow.com/questions/21817/why-cant-i-declare-static-methods-in-an-interface\" title=\"why cant i declare static methods in an interface\">stackoverflow.com/questions/21817/&hellip;</a>. Hadn&#39;t seen that before."},{"owner":{"account_id":3785,"reputation":4641,"user_id":5507,"accept_rate":42,"display_name":"Pavel Feldman"},"score":1,"creation_date":1233779257,"post_id":512877,"comment_id":326814,"body_markdown":"Could you provide some code how would you like to use static interface methods?","body":"Could you provide some code how would you like to use static interface methods?"},{"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"score":0,"creation_date":1233779400,"post_id":512877,"comment_id":326833,"body_markdown":"also dupe of http://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok","body":"also dupe of <a href=\"http://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok\" title=\"why no static methods in interfaces but static fields and inner classes ok\">stackoverflow.com/questions/129267/&hellip;</a>"},{"owner":{"account_id":240726,"reputation":2094,"user_id":511125,"accept_rate":100,"display_name":"Deepak"},"score":0,"creation_date":1318173990,"post_id":512877,"comment_id":9369271,"body_markdown":"@Erickson,Could you illustrate with an example where Usage of static method fails in interface","body":"@Erickson,Could you illustrate with an example where Usage of static method fails in interface"},{"owner":{"account_id":4026314,"reputation":13,"user_id":3314427,"display_name":"dakshang"},"score":45,"creation_date":1392497527,"post_id":512877,"comment_id":32999404,"body_markdown":"This will be possible in Java 8: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#static","body":"This will be possible in Java 8: <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#static\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/&hellip;</a>"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1437015208,"post_id":512877,"comment_id":50858119,"body_markdown":"@dakshang Yes, but it doesn&#39;t do what the OP wants.","body":"@dakshang Yes, but it doesn&#39;t do what the OP wants."},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1558097602,"post_id":512877,"comment_id":98998748,"body_markdown":"Possible duplicate of [Why no static methods in Interfaces, but static fields and inner classes OK? \\[pre-Java8\\]](https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok-pr)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok-pr\">Why no static methods in Interfaces, but static fields and inner classes OK? &#91;pre-Java8&#93;</a>"},{"owner":{"account_id":16641188,"reputation":449,"user_id":12026681,"display_name":"lue"},"score":0,"creation_date":1582822135,"post_id":512877,"comment_id":106917701,"body_markdown":"@JohnMercier&#39;s question is closed now. This is now the true thread","body":"@JohnMercier&#39;s question is closed now. This is now the true thread"},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1605151452,"post_id":512877,"comment_id":114565804,"body_markdown":"This is possible in Java 8 - check my answer below: https://stackoverflow.com/a/31162902/1216775","body":"This is possible in Java 8 - check my answer below: <a href=\"https://stackoverflow.com/a/31162902/1216775\">stackoverflow.com/a/31162902/1216775</a>"}],"answers":[{"comments":[{"owner":{"account_id":13444,"reputation":9986,"user_id":27012,"accept_rate":73,"display_name":"MichaelGG"},"score":2,"creation_date":1233777269,"post_id":512884,"comment_id":326651,"body_markdown":"You could always force each type to implement any static interface methods. Typeclasses, anyone?","body":"You could always force each type to implement any static interface methods. Typeclasses, anyone?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":22,"creation_date":1233779678,"post_id":512884,"comment_id":326855,"body_markdown":"Step outside yourself and answer the question: *Why* can&#39;t a static methods be overridden? If static methods could be overridden, what would it look like? What could you do with them? This answer is basically &quot;You can&#39;t because you can&#39;t.&quot;","body":"Step outside yourself and answer the question: <i>Why</i> can&#39;t a static methods be overridden? If static methods could be overridden, what would it look like? What could you do with them? This answer is basically &quot;You can&#39;t because you can&#39;t.&quot;"}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":2,"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1233775379,"creation_date":1233775379,"answer_id":512884,"question_id":512877,"body_markdown":"Because static methods cannot be overridden in subclasses, and hence they cannot be abstract. And all methods in an interface are, *de facto*, abstract.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Because static methods cannot be overridden in subclasses, and hence they cannot be abstract. And all methods in an interface are, <em>de facto</em>, abstract.</p>\n"},{"comments":[{"owner":{"account_id":2539,"reputation":48119,"user_id":3542,"display_name":"Rob"},"score":2,"creation_date":1233778888,"post_id":512886,"comment_id":326789,"body_markdown":"Well, in theory, you could define an interface to include a static behaviour, that is, &quot;implementations of this interface will have a static method foo() with this signature&quot;, and leave the implementation up to the specific class. I have encountered situations where this behaviour would be useful.","body":"Well, in theory, you could define an interface to include a static behaviour, that is, &quot;implementations of this interface will have a static method foo() with this signature&quot;, and leave the implementation up to the specific class. I have encountered situations where this behaviour would be useful."}],"tags":[],"owner":{"account_id":17440,"reputation":57293,"user_id":39036,"accept_rate":87,"display_name":"samoz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233775414,"creation_date":1233775414,"answer_id":512886,"question_id":512877,"body_markdown":"Interfaces just provide a list of things a class will provide, not an actual implementation of those things, which is what your static item is.\r\n\r\nIf you want statics, use an abstract class and inherit it, otherwise, remove the static.\r\n\r\nHope that helps!","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Interfaces just provide a list of things a class will provide, not an actual implementation of those things, which is what your static item is.</p>\n\n<p>If you want statics, use an abstract class and inherit it, otherwise, remove the static.</p>\n\n<p>Hope that helps!</p>\n"},{"comments":[{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":1,"creation_date":1233847275,"post_id":512912,"comment_id":329907,"body_markdown":"What do generics have to do with this? A static method on an interface would still be unexecutable.","body":"What do generics have to do with this? A static method on an interface would still be unexecutable."},{"owner":{"account_id":13444,"reputation":9986,"user_id":27012,"accept_rate":73,"display_name":"MichaelGG"},"score":0,"creation_date":1233852551,"post_id":512912,"comment_id":330308,"body_markdown":"First, that&#39;d be an implementation decision. But I&#39;m guessing he doesn&#39;t want to call static methods on an interface (he could just use a class). But instead wants to have something sorta like a typeclass or whatnot over type parameters. In fact, his latest edit shows this even more clearly.","body":"First, that&#39;d be an implementation decision. But I&#39;m guessing he doesn&#39;t want to call static methods on an interface (he could just use a class). But instead wants to have something sorta like a typeclass or whatnot over type parameters. In fact, his latest edit shows this even more clearly."}],"tags":[],"owner":{"account_id":13444,"reputation":9986,"user_id":27012,"accept_rate":73,"display_name":"MichaelGG"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1233775659,"creation_date":1233775659,"answer_id":512912,"question_id":512877,"body_markdown":"Well, without generics, static interfaces are useless because all static method calls are resolved at compile time. So, there&#39;s no real use for them.\r\n\r\nWith generics, they have use -- with or without a default implementation. Obviously there would need to be overriding and so on. However, my guess is that such usage wasn&#39;t very OO (as the other answers point out obtusely) and hence wasn&#39;t considered worth the effort they&#39;d require to implement usefully.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Well, without generics, static interfaces are useless because all static method calls are resolved at compile time. So, there's no real use for them.</p>\n\n<p>With generics, they have use -- with or without a default implementation. Obviously there would need to be overriding and so on. However, my guess is that such usage wasn't very OO (as the other answers point out obtusely) and hence wasn't considered worth the effort they'd require to implement usefully.</p>\n"},{"comments":[{"owner":{"account_id":2387854,"reputation":334,"user_id":2088427,"display_name":"Oke Uwechue"},"score":0,"creation_date":1565895650,"post_id":512918,"comment_id":101497701,"body_markdown":"Clear, concise logic. Well put.","body":"Clear, concise logic. Well put."}],"tags":[],"owner":{"account_id":18282,"reputation":17675,"user_id":41754,"accept_rate":75,"display_name":"cliff.meyers"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1233775721,"creation_date":1233775721,"answer_id":512918,"question_id":512877,"body_markdown":"Interfaces are concerned with polymorphism which is inherently tied to object instances, not classes.  Therefore static doesn&#39;t make sense in the context of an interface.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Interfaces are concerned with polymorphism which is inherently tied to object instances, not classes.  Therefore static doesn't make sense in the context of an interface.</p>\n"},{"tags":[],"owner":{"account_id":878410,"reputation":375,"user_id":62499,"display_name":"Handerson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233776155,"creation_date":1233776155,"answer_id":512942,"question_id":512877,"body_markdown":"You can&#39;t define static methods in an interface because static methods belongs to a class not to an instance of class, and interfaces are not Classes. [Read more here.][1]\r\n\r\nHowever, If you want you can do this:\r\n\r\n    public class A {\r\n      public static void methodX() {\r\n      }\r\n    }\r\n\r\n    public class B extends A {\r\n      public static void methodX() {\r\n      }\r\n    }\r\n\r\nIn this case what you have is two classes with 2 distinct static methods called methodX().\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/javaOO/classvars.html","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>You can't define static methods in an interface because static methods belongs to a class not to an instance of class, and interfaces are not Classes. <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Read more here.</a></p>\n\n<p>However, If you want you can do this:</p>\n\n<pre><code>public class A {\n  public static void methodX() {\n  }\n}\n\npublic class B extends A {\n  public static void methodX() {\n  }\n}\n</code></pre>\n\n<p>In this case what you have is two classes with 2 distinct static methods called methodX().</p>\n"},{"comments":[{"owner":{"account_id":224531,"reputation":2781,"user_id":484430,"accept_rate":56,"display_name":"Chris Betti"},"score":17,"creation_date":1380032703,"post_id":512987,"comment_id":28042211,"body_markdown":"If you use &lt;T extends MyInterface&gt; as a generic type parameter, it would be nice to guarantee via interface that T can .doSomething().","body":"If you use &lt;T extends MyInterface&gt; as a generic type parameter, it would be nice to guarantee via interface that T can .doSomething()."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":5,"creation_date":1437059129,"post_id":512987,"comment_id":50882748,"body_markdown":"While I understand the arguments, I agree with @Chris_Betti (even for non-generic types): it&#39;d be nice that the code structure ensures that some classes *implements* a specific static API. Maybe it is possible using a different concept...","body":"While I understand the arguments, I agree with @Chris_Betti (even for non-generic types): it&#39;d be nice that the code structure ensures that some classes <i>implements</i> a specific static API. Maybe it is possible using a different concept..."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1472840099,"post_id":512987,"comment_id":65931013,"body_markdown":"@Juh_, .....or a new keyword if absolutely required.  I believe `static` is a crummy term in languages anyway, and has been stretched too far as is.  So having it by itself is already sketchy.  See my example above http://stackoverflow.com/questions/512877/why-cant-i-define-a-static-method-in-a-java-interface#comment65930894_513001 {shrug}.","body":"@Juh_, .....or a new keyword if absolutely required.  I believe <code>static</code> is a crummy term in languages anyway, and has been stretched too far as is.  So having it by itself is already sketchy.  See my example above <a href=\"http://stackoverflow.com/questions/512877/why-cant-i-define-a-static-method-in-a-java-interface#comment65930894_513001\" title=\"why cant i define a static method in a java interface%23comment65930894_513001\">stackoverflow.com/questions/512877/&hellip;</a> {shrug}."},{"owner":{"account_id":2302993,"reputation":2591,"user_id":2022885,"accept_rate":100,"display_name":"Jason"},"score":5,"creation_date":1489691911,"post_id":512987,"comment_id":72794925,"body_markdown":"This seems untrue: &quot;There is never a point to declaring a static method in an interface.&quot; If I have a collection of classes that, without being instantiated, could offer me some information but I&#39;d need a common interface to put this static class-level information in (i.e. an interface with an overridable static method) then that&#39;s a valid use. Think reflection++, where you could capture meta-information about class properties without hacking around with attributes, reflection, etc.","body":"This seems untrue: &quot;There is never a point to declaring a static method in an interface.&quot; If I have a collection of classes that, without being instantiated, could offer me some information but I&#39;d need a common interface to put this static class-level information in (i.e. an interface with an overridable static method) then that&#39;s a valid use. Think reflection++, where you could capture meta-information about class properties without hacking around with attributes, reflection, etc."},{"owner":{"account_id":1326695,"reputation":1510,"user_id":1271372,"display_name":"Piohen"},"score":1,"creation_date":1511512424,"post_id":512987,"comment_id":81892738,"body_markdown":"_There is never a point to declaring a static method in an interface._\nSometimes static methods in interface make sense, because they enforce more functional approach. Static methods in interfaces can&#39;t mutate static state of interface, because there&#39;s no state in interface at all.","body":"<i>There is never a point to declaring a static method in an interface.</i> Sometimes static methods in interface make sense, because they enforce more functional approach. Static methods in interfaces can&#39;t mutate static state of interface, because there&#39;s no state in interface at all."},{"owner":{"account_id":4682564,"reputation":141,"user_id":3790897,"display_name":"ssibal"},"score":2,"creation_date":1530882545,"post_id":512987,"comment_id":89403031,"body_markdown":"&quot;There is never a point to declaring a static method in an interface.&quot; This is not true: imagine your system has a default class resolver. If it detects that you implement ContainerInjectionInterce::create(Container $container) method, than it will create the object with this function for instance.","body":"&quot;There is never a point to declaring a static method in an interface.&quot; This is not true: imagine your system has a default class resolver. If it detects that you implement ContainerInjectionInterce::create(Container $container) method, than it will create the object with this function for instance."}],"tags":[],"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"comment_count":6,"down_vote_count":6,"up_vote_count":61,"is_accepted":false,"score":55,"last_activity_date":1233777428,"creation_date":1233777018,"answer_id":512987,"question_id":512877,"body_markdown":"This was already asked and answered, [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/129934#129934\r\n\r\nTo duplicate my answer:\r\n\r\nThere is never a point to declaring a static method in an interface. They cannot be executed by the normal call MyInterface.staticMethod(). If you call them by specifying the implementing class MyImplementor.staticMethod() then you must know the actual class, so it is irrelevant whether the interface contains it or not.\r\n\r\nMore importantly, static methods are never overridden, and if you try to do:\r\n\r\n    MyInterface var = new MyImplementingClass();\r\n    var.staticMethod();\r\n\r\nthe rules for static say that the method defined in the declared type of var must be executed. Since this is an interface, this is impossible. \r\n\r\nThe reason you can&#39;t execute &quot;result=MyInterface.staticMethod()&quot; is that it would have to execute the version of the method defined in MyInterface. But there can&#39;t be a version defined in MyInterface, because it&#39;s an interface. It doesn&#39;t have code by definition.\r\n\r\nWhile you can say that this amounts to &quot;because Java does it that way&quot;, in reality the decision is a logical consequence of other design decisions, also made for very good reason.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>This was already asked and answered, <a href=\"https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/129934#129934\">here</a></p>\n\n<p>To duplicate my answer:</p>\n\n<p>There is never a point to declaring a static method in an interface. They cannot be executed by the normal call MyInterface.staticMethod(). If you call them by specifying the implementing class MyImplementor.staticMethod() then you must know the actual class, so it is irrelevant whether the interface contains it or not.</p>\n\n<p>More importantly, static methods are never overridden, and if you try to do:</p>\n\n<pre><code>MyInterface var = new MyImplementingClass();\nvar.staticMethod();\n</code></pre>\n\n<p>the rules for static say that the method defined in the declared type of var must be executed. Since this is an interface, this is impossible. </p>\n\n<p>The reason you can't execute \"result=MyInterface.staticMethod()\" is that it would have to execute the version of the method defined in MyInterface. But there can't be a version defined in MyInterface, because it's an interface. It doesn't have code by definition.</p>\n\n<p>While you can say that this amounts to \"because Java does it that way\", in reality the decision is a logical consequence of other design decisions, also made for very good reason.</p>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1236624802,"post_id":513001,"comment_id":440103,"body_markdown":"Good call on Project Coin. http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000117.html","body":"Good call on Project Coin. <a href=\"http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000117.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/coin-dev/2009-March/000117.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":98263,"reputation":7066,"user_id":266103,"accept_rate":87,"display_name":"shrini1000"},"score":12,"creation_date":1298955361,"post_id":513001,"comment_id":5781844,"body_markdown":"Could reason for #1 be multiple inheritance? Since we can inherit from multiple interfaces, if two interfaces contained the same static method signature and then a class implemented them both and called that method, then things could become complicated in a way that Java language creators wanted to avoid by disallowing multiple class inheritance in the first place. Same argument could obviously be made for interface not allowing any method definition in them at all.","body":"Could reason for #1 be multiple inheritance? Since we can inherit from multiple interfaces, if two interfaces contained the same static method signature and then a class implemented them both and called that method, then things could become complicated in a way that Java language creators wanted to avoid by disallowing multiple class inheritance in the first place. Same argument could obviously be made for interface not allowing any method definition in them at all."},{"owner":{"account_id":98263,"reputation":7066,"user_id":266103,"accept_rate":87,"display_name":"shrini1000"},"score":0,"creation_date":1298955586,"post_id":513001,"comment_id":5781878,"body_markdown":"By same argument, even field constants should be disallowed in interfaces, but maybe handling them for multiple inheritance is not as complicated.","body":"By same argument, even field constants should be disallowed in interfaces, but maybe handling them for multiple inheritance is not as complicated."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1298958458,"post_id":513001,"comment_id":5782247,"body_markdown":"@shrini1000 - No, static methods are resolved at compile time. The ambiguity can be handled the same way that it&#39;s handled with constants: [with a compiler error.](http://java.sun.com/docs/books/jls/second_edition/html/interfaces.doc.html#40596) However, the proposal under Project Coin was rejected, citing some unforeseen difficulties. Not sure what they were, but I don&#39;t think it was along these lines.","body":"@shrini1000 - No, static methods are resolved at compile time. The ambiguity can be handled the same way that it&#39;s handled with constants: <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/interfaces.doc.html#40596\" rel=\"nofollow noreferrer\">with a compiler error.</a> However, the proposal under Project Coin was rejected, citing some unforeseen difficulties. Not sure what they were, but I don&#39;t think it was along these lines."},{"owner":{"account_id":240726,"reputation":2094,"user_id":511125,"accept_rate":100,"display_name":"Deepak"},"score":0,"creation_date":1318173973,"post_id":513001,"comment_id":9369268,"body_markdown":"@Erickson,Could you illustrate with an example where _Usage_ of static method fails in interface.","body":"@Erickson,Could you illustrate with an example where <i>Usage</i> of static method fails in interface."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1318187912,"post_id":513001,"comment_id":9371261,"body_markdown":"@Deepak: Sorry, I&#39;m not sure what you mean. This post is about defining static methods in an interface. Are you talking about assigning the result of a static method to a (constant) interface field?","body":"@Deepak: Sorry, I&#39;m not sure what you mean. This post is about defining static methods in an interface. Are you talking about assigning the result of a static method to a (constant) interface field?"},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1362813688,"post_id":513001,"comment_id":21608634,"body_markdown":"I can&#39;t wait until they do. You can declare static fields already, so you can create your static functions wrapped in static objects as a hack.","body":"I can&#39;t wait until they do. You can declare static fields already, so you can create your static functions wrapped in static objects as a hack."},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1381345566,"post_id":513001,"comment_id":28547838,"body_markdown":"Am I correct in understanding that Java 8 addresses point 1. but not 2. ? And btw the short answer to point 2 is &quot;optimization&quot; - because having _static overridable methods in interfaces_ is a quite valid OO requirement (think of behavior common to all instances of each particular implementing class of an interface, which could be used as  `&lt;T extends MyInterface&gt; method(Class&lt;T&gt; cls){cls.staticMethod();//...}`","body":"Am I correct in understanding that Java 8 addresses point 1. but not 2. ? And btw the short answer to point 2 is &quot;optimization&quot; - because having <i>static overridable methods in interfaces</i> is a quite valid OO requirement (think of behavior common to all instances of each particular implementing class of an interface, which could be used as  <code>&lt;T extends MyInterface&gt; method(Class&lt;T&gt; cls){cls.staticMethod();&#47;&#47;...}</code>"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1381350393,"post_id":513001,"comment_id":28550665,"body_markdown":"Yes, Java 8 doesn&#39;t change anything static method &quot;override&quot;. I&#39;m not following your example for how these would be used. But I wonder if Java 8 might actually help you out. I will need to read up on it, but I think there&#39;s a default method implementation mechanism that might address what you&#39;re getting at.","body":"Yes, Java 8 doesn&#39;t change anything static method &quot;override&quot;. I&#39;m not following your example for how these would be used. But I wonder if Java 8 might actually help you out. I will need to read up on it, but I think there&#39;s a default method implementation mechanism that might address what you&#39;re getting at."},{"owner":{"account_id":138791,"reputation":8013,"user_id":343957,"accept_rate":81,"display_name":"mathk"},"score":0,"creation_date":1421788312,"post_id":513001,"comment_id":44492197,"body_markdown":"You&#39;ve mention that class are static. In Java that might be true but it does not need to be the case. There is many language that adopt this position (Smalltalk for one of the pioneer). If you think of it there is many situation where you want a class to be dynamic. If class become an object that is a whole new world that offer to you and many DI framework almost become useless.","body":"You&#39;ve mention that class are static. In Java that might be true but it does not need to be the case. There is many language that adopt this position (Smalltalk for one of the pioneer). If you think of it there is many situation where you want a class to be dynamic. If class become an object that is a whole new world that offer to you and many DI framework almost become useless."},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1461565572,"post_id":513001,"comment_id":61237262,"body_markdown":"I think that the answer should be updated according to Java 8 so that you don&#39;t have to read other answers to know full picture","body":"I think that the answer should be updated according to Java 8 so that you don&#39;t have to read other answers to know full picture"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1461598216,"post_id":513001,"comment_id":61259257,"body_markdown":"@kiedysktos I made some changes. Is that what you meant?","body":"@kiedysktos I made some changes. Is that what you meant?"},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1461669677,"post_id":513001,"comment_id":61294004,"body_markdown":"yes. But now your 1 question is inconsistent with this :) you say &quot;you can do X&quot; and next line: &quot;1. why you can&#39;t do X?&quot;. Maybe 1 point should disappear or be sth like following: &quot;Why can&#39;t interfaces contain static methods up to Java 8?&quot;","body":"yes. But now your 1 question is inconsistent with this :) you say &quot;you can do X&quot; and next line: &quot;1. why you can&#39;t do X?&quot;. Maybe 1 point should disappear or be sth like following: &quot;Why can&#39;t interfaces contain static methods up to Java 8?&quot;"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1461683514,"post_id":513001,"comment_id":61305139,"body_markdown":"@kiedysktos No, question #1 is specifically about interfaces, while question #2 is about static methods generally.","body":"@kiedysktos No, question #1 is specifically about interfaces, while question #2 is about static methods generally."},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1461752680,"post_id":513001,"comment_id":61338454,"body_markdown":"no, you misunderstood. The contradiction I see is between post beginning (With Java 8, interfaces can have static methods) and first point (1. Why can&#39;t interfaces contain static methods). Now you can reread my last comment in this context. If you can, then what&#39;s the point of explaining why you can&#39;t. That&#39;s why I suggested simple reformulating of 1. point.","body":"no, you misunderstood. The contradiction I see is between post beginning (With Java 8, interfaces can have static methods) and first point (1. Why can&#39;t interfaces contain static methods). Now you can reread my last comment in this context. If you can, then what&#39;s the point of explaining why you can&#39;t. That&#39;s why I suggested simple reformulating of 1. point."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1472839888,"post_id":513001,"comment_id":65930894,"body_markdown":"Does any of this discussion address that the Java 8 inclusion of static interfaces does not address the &quot;enforcing a convention&quot; concept that the OP wanted?  Or did I misunderstand both this conversation and the OP?  I would love a code enforcement version of static methods, even if it [grotesquely] required a new keyword.  Something akin to `interface ClassReset{musthave public static void RESET();}`","body":"Does any of this discussion address that the Java 8 inclusion of static interfaces does not address the &quot;enforcing a convention&quot; concept that the OP wanted?  Or did I misunderstand both this conversation and the OP?  I would love a code enforcement version of static methods, even if it [grotesquely] required a new keyword.  Something akin to <code>interface ClassReset{musthave public static void RESET();}</code>"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1472845420,"post_id":513001,"comment_id":65933439,"body_markdown":"@tgm1024 Yes, the section &quot;Constructor &#39;interfaces&#39;&quot; explains why it doesn&#39;t make sense to try to invoke polymorphic behavior through a type known at compile time. How would you invoke `RESET()` on a given class? You&#39;d write `SomeClass.RESET()`. So you don&#39;t need an interface to describe that API; its static. Interfaces are used when you don&#39;t know the concrete type at compile-time. That&#39;s never the case with a static method.","body":"@tgm1024 Yes, the section &quot;Constructor &#39;interfaces&#39;&quot; explains why it doesn&#39;t make sense to try to invoke polymorphic behavior through a type known at compile time. How would you invoke <code>RESET()</code> on a given class? You&#39;d write <code>SomeClass.RESET()</code>. So you don&#39;t need an interface to describe that API; its static. Interfaces are used when you don&#39;t know the concrete type at compile-time. That&#39;s never the case with a static method."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1472932250,"post_id":513001,"comment_id":65954279,"body_markdown":"@erickson, I read that, but it doesn&#39;t apply to what I wrote----I&#39;m not looking for polymorphic behavior at all. I&#39;m looking for code enforcement (note: Not contract enforcement in the polymorphic sense).  I want to make sure that there is a `public static RESET()`. Nothing polymorphic about this: It&#39;s a static method----a member of a class.  Hence the reason I suggested that I could even put up with a new, albeit grotesque, keyword.  There *ought* to be a way to say &quot;This class *must* have these static methods defined&quot;.  Perhaps an `@MustHave`then if it doesn&#39;t fit within the language proper.","body":"@erickson, I read that, but it doesn&#39;t apply to what I wrote----I&#39;m not looking for polymorphic behavior at all. I&#39;m looking for code enforcement (note: Not contract enforcement in the polymorphic sense).  I want to make sure that there is a <code>public static RESET()</code>. Nothing polymorphic about this: It&#39;s a static method----a member of a class.  Hence the reason I suggested that I could even put up with a new, albeit grotesque, keyword.  There <i>ought</i> to be a way to say &quot;This class <i>must</i> have these static methods defined&quot;.  Perhaps an <code>@MustHave</code>then if it doesn&#39;t fit within the language proper."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1473034336,"post_id":513001,"comment_id":65977079,"body_markdown":"@tgm1024 Yes, I completely understood what you are looking for. My reference to polymorphism was because interfaces *only* describe the operations of an instance. I know that&#39;s a tautological response to a question about why interfaces can&#39;t have static methods, so there&#39;s another half to my response: static interface methods make no sense and would be useless. Interfaces are useful for instances because code is written with those interfaces as reference types, i.e., you write code that calls `run()` on a `Runnable` instance. You can&#39;t invoke `Resettable.RESET()`. You&#39;d need the runtime type.","body":"@tgm1024 Yes, I completely understood what you are looking for. My reference to polymorphism was because interfaces <i>only</i> describe the operations of an instance. I know that&#39;s a tautological response to a question about why interfaces can&#39;t have static methods, so there&#39;s another half to my response: static interface methods make no sense and would be useless. Interfaces are useful for instances because code is written with those interfaces as reference types, i.e., you write code that calls <code>run()</code> on a <code>Runnable</code> instance. You can&#39;t invoke <code>Resettable.RESET()</code>. You&#39;d need the runtime type."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1473095875,"post_id":513001,"comment_id":66001687,"body_markdown":"@erickson, I suppose what I&#39;m objecting to is that this should have been clear from what I wrote originally, and while you seem to have understood it, it seemed to me given the response that you didn&#39;t.  The enforcement of a coding convention was one of the goals in the OP&#39;s OP.  In my case, I&#39;m looking for a (static _something_) coding requirement to be enforced within a class; certainly nothing polymorphic in nature. `@ThouShaltHaveThisThing public static int HOOZIT` and `@ThouShaltHaveThisThing public static int WAZZIT(int bla)`, to belabor the point.  Thanks for the response anyway though.","body":"@erickson, I suppose what I&#39;m objecting to is that this should have been clear from what I wrote originally, and while you seem to have understood it, it seemed to me given the response that you didn&#39;t.  The enforcement of a coding convention was one of the goals in the OP&#39;s OP.  In my case, I&#39;m looking for a (static <i>something</i>) coding requirement to be enforced within a class; certainly nothing polymorphic in nature. <code>@ThouShaltHaveThisThing public static int HOOZIT</code> and <code>@ThouShaltHaveThisThing public static int WAZZIT(int bla)</code>, to belabor the point.  Thanks for the response anyway though."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1473119117,"post_id":513001,"comment_id":66008908,"body_markdown":"@tgm1024 Yes, I got that too, but I removed that part because my comment was too long and I hoped that by explaining what interfaces *are* good for, the implication that what they *are not* good for would be sufficiently clear. But, to put too fine a point on it: **Interfaces were never intended to enforce coding conventions.**","body":"@tgm1024 Yes, I got that too, but I removed that part because my comment was too long and I hoped that by explaining what interfaces <i>are</i> good for, the implication that what they <i>are not</i> good for would be sufficiently clear. But, to put too fine a point on it: <b>Interfaces were never intended to enforce coding conventions.</b>"},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":4,"creation_date":1520425485,"post_id":513001,"comment_id":85307929,"body_markdown":"&quot;Construction is part of the implementation, not the interface. Any code that works successfully with the interface doesn&#39;t care about the constructor.&quot; -- That is clearly not true. In other languages (e.g. Swift), I can create new instances of `T` without knowing `T` statically, because I promise in an interface that a certain constructor (or static method) will exist at runtime. The fact that generation is impossible to specify in Java does not mean it&#39;s not a meaningful thing to do.","body":"&quot;Construction is part of the implementation, not the interface. Any code that works successfully with the interface doesn&#39;t care about the constructor.&quot; -- That is clearly not true. In other languages (e.g. Swift), I can create new instances of <code>T</code> without knowing <code>T</code> statically, because I promise in an interface that a certain constructor (or static method) will exist at runtime. The fact that generation is impossible to specify in Java does not mean it&#39;s not a meaningful thing to do."},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":0,"creation_date":1520425545,"post_id":513001,"comment_id":85307968,"body_markdown":"&quot;Any code that cares about the constructor needs to know the concrete type anyway, and the interface can be ignored.&quot; -- with that logic, interfaces can always be ignored, no? Why is caring about constructors/generators different from caring about methods?","body":"&quot;Any code that cares about the constructor needs to know the concrete type anyway, and the interface can be ignored.&quot; -- with that logic, interfaces can always be ignored, no? Why is caring about constructors/generators different from caring about methods?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1520440404,"post_id":513001,"comment_id":85318492,"body_markdown":"@Raphael Good points in your first comment. Of course, Java supports other creational patterns to decouple instantiation from implementation. I might need to re-word some of that. In your Swift example, is `T` a generic type parameter of the code that is performing the instantiation? Of course, Java&#39;s type erasure doesn&#39;t make that easy, but there are some tricks that can be used to achieve something similar. I don&#39;t really understand your second comment though. It doesn&#39;t follow that the type of an injected object can be ignored.","body":"@Raphael Good points in your first comment. Of course, Java supports other creational patterns to decouple instantiation from implementation. I might need to re-word some of that. In your Swift example, is <code>T</code> a generic type parameter of the code that is performing the instantiation? Of course, Java&#39;s type erasure doesn&#39;t make that easy, but there are some tricks that can be used to achieve something similar. I don&#39;t really understand your second comment though. It doesn&#39;t follow that the type of an injected object can be ignored."},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":0,"creation_date":1520447208,"post_id":513001,"comment_id":85322690,"body_markdown":"@erickson\tYes, `T` can be a type parameter; see e.g. [here](https://iswift.org/playground?DnGIgb&amp;v=4). Similarly, you can require static properties and functions of a Swift class or struct. Not that the Swift type system is perfect -- there are serious shortcomings around generics -- but this part is very useful. I don&#39;t see any conceptual reason against it in Java; it&#39;s purely a compiler feature. Requiring constructors and static members by themselves, that is; erasure of generics is another issue.","body":"@erickson\tYes, <code>T</code> can be a type parameter; see e.g. <a href=\"https://iswift.org/playground?DnGIgb&amp;v=4\" rel=\"nofollow noreferrer\">here</a>. Similarly, you can require static properties and functions of a Swift class or struct. Not that the Swift type system is perfect -- there are serious shortcomings around generics -- but this part is very useful. I don&#39;t see any conceptual reason against it in Java; it&#39;s purely a compiler feature. Requiring constructors and static members by themselves, that is; erasure of generics is another issue."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1534841466,"post_id":513001,"comment_id":90839356,"body_markdown":"@Raphael most of this can be solved in Java by defining an additional factory interface. When its sole factory method matches an implementation’s constructor, it can be implemented as simple as `ImplementationType::new`, or via `ImplementationType::factoryMethodName`. The use of this pattern only requires methods to take another parameter for the factory when required. That’s a bit more verbose than factory methods mandated by an interface, on the other hand, it offers much more flexibility, e.g. the opportunity to define, implement, and use other factories than declared in the interface.","body":"@Raphael most of this can be solved in Java by defining an additional factory interface. When its sole factory method matches an implementation’s constructor, it can be implemented as simple as <code>ImplementationType::new</code>, or via <code>ImplementationType::factoryMethodName</code>. The use of this pattern only requires methods to take another parameter for the factory when required. That’s a bit more verbose than factory methods mandated by an interface, on the other hand, it offers much more flexibility, e.g. the opportunity to define, implement, and use other factories than declared in the interface."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":26,"down_vote_count":1,"up_vote_count":574,"is_accepted":true,"score":573,"last_activity_date":1699591981,"creation_date":1233777373,"answer_id":513001,"question_id":512877,"body_markdown":"Java 8 permits static interface methods\r\n=======================================\r\n\r\nWith Java 8, interfaces *can* have static methods. They can also have concrete instance methods, but not instance fields.\r\n\r\nThere are really two questions here: \r\n\r\n 1. Why, in the bad old days, couldn&#39;t interfaces contain static methods?\r\n 2. Why can&#39;t static methods be overridden?\r\n\r\nStatic methods in interfaces\r\n============================\r\n\r\nThere was no strong technical reason why interfaces couldn&#39;t have had static methods in previous versions. This is [summed up nicely by the poster][1] of a duplicate question. Static interface methods were initially considered as [a small language change,][2] and then there was [an official proposal][3] to add them in Java 7, but it was later [dropped due to unforeseen complications.][4]\r\n\r\nFinally, Java 8 introduced static interface methods, as well as override-able instance methods with a default implementation. They still can&#39;t have instance fields though. These features are part of the lambda expression support, and you can read more about them in [Part H of JSR 335.][5]\r\n\r\nOverriding static methods\r\n=========================\r\n\r\nThe answer to the second question is a little more complicated.\r\n\r\nStatic methods are resolvable at compile time. Dynamic dispatch makes sense for instance methods, where the compiler can&#39;t determine the concrete type of the object, and, thus, can&#39;t resolve the method to invoke. But invoking a static method requires a class, and since that class is known *statically*&amp;mdash;at compile time&amp;mdash;dynamic dispatch is unnecessary.\r\n\r\nA little background on how instance methods work is necessary to understand what&#39;s going on here. I&#39;m sure the actual implementation is quite different, but let me explain my notion of method dispatch, which models observed behavior accurately.\r\n\r\nPretend that each class has a hash table that maps method signatures (name and parameter types) to an actual chunk of code to implement the method. When the virtual machine attempts to invoke a method on an instance, it queries the object for its class and looks up the requested signature in the class&#39;s table. If a method body is found, it is invoked. Otherwise, the parent class of the class is obtained, and the lookup is repeated there. This proceeds until the method is found, or there are no more parent classes&amp;mdash;which results in a `NoSuchMethodError`.\r\n\r\nIf a superclass and a subclass both have an entry in their tables for the same method signature, the sub class&#39;s version is encountered first, and the superclass&#39;s version is never used&amp;mdash;this is an &quot;override&quot;.\r\n\r\nNow, suppose we skip the object instance and just start with a subclass. The resolution could proceed as above, giving you a sort of &quot;overridable&quot; static method. The resolution can all happen at compile-time, however, since the compiler is starting from a known class, rather than waiting until runtime to query an object of an unspecified type for its class. There is no point in &quot;overriding&quot; a static method since one can always specify the class that contains the desired version.\r\n\r\n---\r\n\r\nConstructor &quot;interfaces&quot;\r\n=========================\r\n\r\nHere&#39;s a little more material to address the recent edit to the question.\r\n\r\nIt sounds like you want to effectively mandate a constructor-like method for each implementation of `IXMLizable`. Forget about trying to enforce this with an interface for a minute, and pretend that you have some classes that meet this requirement. How would you use it?\r\n\r\n    class Foo implements IXMLizable&lt;Foo&gt; {\r\n      public static Foo newInstanceFromXML(Element e) { ... }\r\n    }\r\n\r\n    Foo obj = Foo.newInstanceFromXML(e);\r\n\r\nSince you have to explicitly name the concrete type `Foo` when &quot;constructing&quot; the new object, the compiler can verify that it does indeed have the necessary factory method. And if it doesn&#39;t, so what? If I can implement an `IXMLizable` that lacks the &quot;constructor&quot;, and I create an instance and pass it to your code, it *is* an `IXMLizable` with all the necessary interface.\r\n\r\n*Construction is part of the implementation,* not the interface. Any code that works successfully with the interface doesn&#39;t care about the constructor. Any code that cares about the constructor needs to know the concrete type anyway, and the interface can be ignored.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/135722#135722\r\n  [2]: https://web.archive.org/web/20150515204937/https://blogs.oracle.com/darcy/entry/project_coin\r\n  [3]: https://mail.openjdk.org/pipermail/coin-dev/2009-March/000127.html\r\n  [4]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4093687\r\n  [5]: http://jcp.org/en/jsr/detail?id=335","title":"Why can&#39;t I define a static method in a Java interface?","body":"<h1>Java 8 permits static interface methods</h1>\n<p>With Java 8, interfaces <em>can</em> have static methods. They can also have concrete instance methods, but not instance fields.</p>\n<p>There are really two questions here:</p>\n<ol>\n<li>Why, in the bad old days, couldn't interfaces contain static methods?</li>\n<li>Why can't static methods be overridden?</li>\n</ol>\n<h1>Static methods in interfaces</h1>\n<p>There was no strong technical reason why interfaces couldn't have had static methods in previous versions. This is <a href=\"https://stackoverflow.com/questions/129267/why-no-static-methods-in-interfaces-but-static-fields-and-inner-classes-ok/135722#135722\">summed up nicely by the poster</a> of a duplicate question. Static interface methods were initially considered as <a href=\"https://web.archive.org/web/20150515204937/https://blogs.oracle.com/darcy/entry/project_coin\" rel=\"nofollow noreferrer\">a small language change,</a> and then there was <a href=\"https://mail.openjdk.org/pipermail/coin-dev/2009-March/000127.html\" rel=\"nofollow noreferrer\">an official proposal</a> to add them in Java 7, but it was later <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4093687\" rel=\"nofollow noreferrer\">dropped due to unforeseen complications.</a></p>\n<p>Finally, Java 8 introduced static interface methods, as well as override-able instance methods with a default implementation. They still can't have instance fields though. These features are part of the lambda expression support, and you can read more about them in <a href=\"http://jcp.org/en/jsr/detail?id=335\" rel=\"nofollow noreferrer\">Part H of JSR 335.</a></p>\n<h1>Overriding static methods</h1>\n<p>The answer to the second question is a little more complicated.</p>\n<p>Static methods are resolvable at compile time. Dynamic dispatch makes sense for instance methods, where the compiler can't determine the concrete type of the object, and, thus, can't resolve the method to invoke. But invoking a static method requires a class, and since that class is known <em>statically</em>—at compile time—dynamic dispatch is unnecessary.</p>\n<p>A little background on how instance methods work is necessary to understand what's going on here. I'm sure the actual implementation is quite different, but let me explain my notion of method dispatch, which models observed behavior accurately.</p>\n<p>Pretend that each class has a hash table that maps method signatures (name and parameter types) to an actual chunk of code to implement the method. When the virtual machine attempts to invoke a method on an instance, it queries the object for its class and looks up the requested signature in the class's table. If a method body is found, it is invoked. Otherwise, the parent class of the class is obtained, and the lookup is repeated there. This proceeds until the method is found, or there are no more parent classes—which results in a <code>NoSuchMethodError</code>.</p>\n<p>If a superclass and a subclass both have an entry in their tables for the same method signature, the sub class's version is encountered first, and the superclass's version is never used—this is an &quot;override&quot;.</p>\n<p>Now, suppose we skip the object instance and just start with a subclass. The resolution could proceed as above, giving you a sort of &quot;overridable&quot; static method. The resolution can all happen at compile-time, however, since the compiler is starting from a known class, rather than waiting until runtime to query an object of an unspecified type for its class. There is no point in &quot;overriding&quot; a static method since one can always specify the class that contains the desired version.</p>\n<hr />\n<h1>Constructor &quot;interfaces&quot;</h1>\n<p>Here's a little more material to address the recent edit to the question.</p>\n<p>It sounds like you want to effectively mandate a constructor-like method for each implementation of <code>IXMLizable</code>. Forget about trying to enforce this with an interface for a minute, and pretend that you have some classes that meet this requirement. How would you use it?</p>\n<pre><code>class Foo implements IXMLizable&lt;Foo&gt; {\n  public static Foo newInstanceFromXML(Element e) { ... }\n}\n\nFoo obj = Foo.newInstanceFromXML(e);\n</code></pre>\n<p>Since you have to explicitly name the concrete type <code>Foo</code> when &quot;constructing&quot; the new object, the compiler can verify that it does indeed have the necessary factory method. And if it doesn't, so what? If I can implement an <code>IXMLizable</code> that lacks the &quot;constructor&quot;, and I create an instance and pass it to your code, it <em>is</em> an <code>IXMLizable</code> with all the necessary interface.</p>\n<p><em>Construction is part of the implementation,</em> not the interface. Any code that works successfully with the interface doesn't care about the constructor. Any code that cares about the constructor needs to know the concrete type anyway, and the interface can be ignored.</p>\n"},{"tags":[],"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1233777576,"creation_date":1233777576,"answer_id":513013,"question_id":512877,"body_markdown":"Static methods aren&#39;t virtual like instance methods so I suppose the Java designers decided they didn&#39;t want them in interfaces.\r\n\r\nBut you can put classes containing static methods inside interfaces.  You could try that!\r\n\r\n    public interface Test {\r\n        static class Inner {\r\n            public static Object get() {\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Static methods aren't virtual like instance methods so I suppose the Java designers decided they didn't want them in interfaces.</p>\n\n<p>But you can put classes containing static methods inside interfaces.  You could try that!</p>\n\n<pre><code>public interface Test {\n    static class Inner {\n        public static Object get() {\n            return 0;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3785,"reputation":4641,"user_id":5507,"accept_rate":42,"display_name":"Pavel Feldman"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1233780110,"creation_date":1233779731,"answer_id":513182,"question_id":512877,"body_markdown":"I think java does not have static interface methods because you do not need them. You may think you do, but...\r\nHow would you use them? If you want to call them like\r\n\r\n    MyImplClass.myMethod()\r\nthen you do not need to declare it in the interface. If you want to call them like\r\n\r\n    myInstance.myMethod()\r\nthen it should not be static.\r\nIf you are actually going to use first way, but just want to enforce each implementation to have such  static method, then it is really a coding convention, not a contract between instance that implements an interface and calling code.\r\n\r\nInterfaces allow you to define contract between instance of class that implement the interface and calling code. And java helps you to be sure that this contract is not violated, so you can rely on it and don&#39;t worry what class implements this contract, just &quot;someone who signed a contract&quot; is enough. In case of static interfaces your code \r\n\r\n    MyImplClass.myMethod()\r\ndoes not rely on the fact that each interface implementation has this method, so you do not need java to help you to be sure with it.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>I think java does not have static interface methods because you do not need them. You may think you do, but...\nHow would you use them? If you want to call them like</p>\n\n<pre><code>MyImplClass.myMethod()\n</code></pre>\n\n<p>then you do not need to declare it in the interface. If you want to call them like</p>\n\n<pre><code>myInstance.myMethod()\n</code></pre>\n\n<p>then it should not be static.\nIf you are actually going to use first way, but just want to enforce each implementation to have such  static method, then it is really a coding convention, not a contract between instance that implements an interface and calling code.</p>\n\n<p>Interfaces allow you to define contract between instance of class that implement the interface and calling code. And java helps you to be sure that this contract is not violated, so you can rely on it and don't worry what class implements this contract, just \"someone who signed a contract\" is enough. In case of static interfaces your code </p>\n\n<pre><code>MyImplClass.myMethod()\n</code></pre>\n\n<p>does not rely on the fact that each interface implementation has this method, so you do not need java to help you to be sure with it.</p>\n"},{"tags":[],"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New 安宇"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1233780048,"creation_date":1233780048,"answer_id":513207,"question_id":512877,"body_markdown":"Several answers have discussed the problems with the concept of overridable static methods.  However sometimes you come across a pattern where it seems like that&#39;s just what you want to use.\r\n\r\nFor example, I work with an object-relational layer that has value objects, but also has commands for manipulating the value objects.  For various reasons, each value object class has to define some static methods that let the framework find the command instance.  For example, to create a Person you&#39;d do:\r\n\r\n    cmd = createCmd(Person.getCreateCmdId());\r\n    Person p = cmd.execute();\r\n\r\nand to load a Person by ID you&#39;d do\r\n\r\n    cmd = createCmd(Person.getGetCmdId());\r\n    cmd.set(ID, id);\r\n    Person p = cmd.execute();\r\n\r\nThis is fairly convenient, however it has its problems; notably the existence of the static methods can not be enforced in the interface.  An overridable static method in the interface would be exactly what we&#39;d need, if only it could work somehow.\r\n\r\nEJBs solve this problem by having a Home interface; each object knows how to find its Home and the Home contains the &quot;static&quot; methods.  This way the &quot;static&quot; methods can be overridden as needed, and you don&#39;t clutter up the normal (it&#39;s called &quot;Remote&quot;) interface with methods that don&#39;t apply to an instance of your bean.  Just make the normal interface specify a &quot;getHome()&quot; method.  Return an instance of the Home object (which could be a singleton, I suppose) and the caller can perform operations that affect all Person objects.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Several answers have discussed the problems with the concept of overridable static methods.  However sometimes you come across a pattern where it seems like that's just what you want to use.</p>\n\n<p>For example, I work with an object-relational layer that has value objects, but also has commands for manipulating the value objects.  For various reasons, each value object class has to define some static methods that let the framework find the command instance.  For example, to create a Person you'd do:</p>\n\n<pre><code>cmd = createCmd(Person.getCreateCmdId());\nPerson p = cmd.execute();\n</code></pre>\n\n<p>and to load a Person by ID you'd do</p>\n\n<pre><code>cmd = createCmd(Person.getGetCmdId());\ncmd.set(ID, id);\nPerson p = cmd.execute();\n</code></pre>\n\n<p>This is fairly convenient, however it has its problems; notably the existence of the static methods can not be enforced in the interface.  An overridable static method in the interface would be exactly what we'd need, if only it could work somehow.</p>\n\n<p>EJBs solve this problem by having a Home interface; each object knows how to find its Home and the Home contains the \"static\" methods.  This way the \"static\" methods can be overridden as needed, and you don't clutter up the normal (it's called \"Remote\") interface with methods that don't apply to an instance of your bean.  Just make the normal interface specify a \"getHome()\" method.  Return an instance of the Home object (which could be a singleton, I suppose) and the caller can perform operations that affect all Person objects.</p>\n"},{"tags":[],"owner":{"account_id":11708,"reputation":21399,"user_id":22704,"display_name":"Darron"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1233782181,"creation_date":1233782181,"answer_id":513390,"question_id":512877,"body_markdown":" * &quot;Is there a particular reason that static methods cannot be overridden&quot;.\r\n\r\nLet me re-word that question for your by filling in the definitions.\r\n\r\n * &quot;Is there a particular reason that methods resolved at compile time cannot be resolved at runtime.&quot;\r\n\r\nOr, to put in more completely, If I want to call a method without an instance, but knowing the class, how can I have it resolved based upon the instance that I don&#39;t have.\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<ul>\n<li>\"Is there a particular reason that static methods cannot be overridden\".</li>\n</ul>\n\n<p>Let me re-word that question for your by filling in the definitions.</p>\n\n<ul>\n<li>\"Is there a particular reason that methods resolved at compile time cannot be resolved at runtime.\"</li>\n</ul>\n\n<p>Or, to put in more completely, If I want to call a method without an instance, but knowing the class, how can I have it resolved based upon the instance that I don't have.</p>\n"},{"comments":[{"owner":{"account_id":24561,"reputation":31944,"user_id":62571,"accept_rate":85,"display_name":"cdmckay"},"score":1,"creation_date":1234713567,"post_id":546494,"comment_id":362645,"body_markdown":"It would print &quot;I&#39;m class A&quot;.  However, if you typed `A.thisIsTheMethod()` it would print &quot;I&#39;m class B&quot;.","body":"It would print &quot;I&#39;m class A&quot;.  However, if you typed <code>A.thisIsTheMethod()</code> it would print &quot;I&#39;m class B&quot;."},{"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"score":0,"creation_date":1234774058,"post_id":546494,"comment_id":364393,"body_markdown":"but oyr calling the methods on the interface how would you (or the compiler) know which method should be called? (rember there can be more classes dricetly implementing Iface","body":"but oyr calling the methods on the interface how would you (or the compiler) know which method should be called? (rember there can be more classes dricetly implementing Iface"},{"owner":{"account_id":24561,"reputation":31944,"user_id":62571,"accept_rate":85,"display_name":"cdmckay"},"score":0,"creation_date":1235076236,"post_id":546494,"comment_id":378337,"body_markdown":"sorry, I meant to say: However, if you typed `B.thisIsTheMethod()` it would print &quot;I&#39;m class B&quot;.","body":"sorry, I meant to say: However, if you typed <code>B.thisIsTheMethod()</code> it would print &quot;I&#39;m class B&quot;."},{"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"score":0,"creation_date":1235122215,"post_id":546494,"comment_id":380316,"body_markdown":"i said IFace.thisIsTHeMethod on purpose because therein lies the problem. it would not be possible to call it on the interface without undefined behavior (even though its declared on it)","body":"i said IFace.thisIsTHeMethod on purpose because therein lies the problem. it would not be possible to call it on the interface without undefined behavior (even though its declared on it)"}],"tags":[],"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234541500,"creation_date":1234541074,"answer_id":546494,"question_id":512877,"body_markdown":"Suppose you could do it; consider this example:\r\n\r\n    interface Iface {\r\n      public static void thisIsTheMethod();\r\n    }\r\n    \r\n    class A implements Iface {\r\n    \r\n      public static void thisIsTheMethod(){\r\n        system.out.print(&quot;I&#39;m class A&quot;);\r\n      }\r\n    \r\n    }\r\n    \r\n    class B extends Class A {\r\n    \r\n      public static void thisIsTheMethod(){\r\n        System.out.print(&quot;I&#39;m class B&quot;);\r\n      } \r\n    }\r\n    \r\n    SomeClass {\r\n     \r\n      void doStuff(Iface face) {\r\n        IFace.thisIsTheMethod();\r\n        // now what would/could/should happen here.\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Suppose you could do it; consider this example:</p>\n\n<pre><code>interface Iface {\n  public static void thisIsTheMethod();\n}\n\nclass A implements Iface {\n\n  public static void thisIsTheMethod(){\n    system.out.print(\"I'm class A\");\n  }\n\n}\n\nclass B extends Class A {\n\n  public static void thisIsTheMethod(){\n    System.out.print(\"I'm class B\");\n  } \n}\n\nSomeClass {\n\n  void doStuff(Iface face) {\n    IFace.thisIsTheMethod();\n    // now what would/could/should happen here.\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"score":7,"creation_date":1235122495,"post_id":547793,"comment_id":380337,"body_markdown":"+1 a factory pattern sounds like the solution to the problem. (though not to the question)","body":"+1 a factory pattern sounds like the solution to the problem. (though not to the question)"},{"owner":{"account_id":16569445,"reputation":222,"user_id":11973019,"display_name":"Nuwan Harshakumara Piyarathna"},"score":0,"creation_date":1588766937,"post_id":547793,"comment_id":109023781,"body_markdown":"Can somebody tell me what is the meaning of putting&lt;T extends IXMLizable&gt; here .I am new to java.What does it do?","body":"Can somebody tell me what is the meaning of putting&lt;T extends IXMLizable&gt; here .I am new to java.What does it do?"},{"owner":{"account_id":7185742,"reputation":1448,"user_id":5487769,"accept_rate":67,"display_name":"adrian"},"score":1,"creation_date":1589743796,"post_id":547793,"comment_id":109408834,"body_markdown":"@NuwanHarshakumaraPiyarathna T must be a class extending IXMLizable. Look into Java generics for a better understanding of what this means","body":"@NuwanHarshakumaraPiyarathna T must be a class extending IXMLizable. Look into Java generics for a better understanding of what this means"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1234561069,"creation_date":1234561069,"answer_id":547793,"question_id":512877,"body_markdown":"Normally this is done using a Factory pattern\r\n\r\n    public interface IXMLizableFactory&lt;T extends IXMLizable&gt; {\r\n      public T newInstanceFromXML(Element e);\r\n    }\r\n    \r\n    public interface IXMLizable {\r\n      public Element toXMLElement();\r\n    }\r\n\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Normally this is done using a Factory pattern</p>\n\n<pre><code>public interface IXMLizableFactory&lt;T extends IXMLizable&gt; {\n  public T newInstanceFromXML(Element e);\n}\n\npublic interface IXMLizable {\n  public Element toXMLElement();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":305559,"reputation":6063,"user_id":615784,"display_name":"Shelby Moore III"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343913124,"creation_date":1297686167,"answer_id":4992095,"question_id":512877,"body_markdown":"An interface can never be dereferenced statically, e.g. `ISomething.member`. An interface is always dereferenced via a variable that refers to an instance of a subclass of the interface. Thus, an interface reference can never know which subclass it refers to without an instance of its subclass.\r\n\r\nThus the closest approximation to a static method in an interface would be a non-static method that ignores &quot;this&quot;, i.e. does not access any non-static members of the instance. At the low-level abstraction, every non-static method (after lookup in any vtable) is really just a function with class scope that takes &quot;this&quot; as an implicit formal parameter. See [Scala&#39;s singleton object and interoperability with Java][1] as evidence of that concept.\r\nAnd thus every static method is a function with class scope that does not take a &quot;this&quot; parameter. Thus normally a static method can be called statically, but as previously stated, an interface has no implementation (is abstract).\r\n\r\nThus to get closest approximation to a static method in an interface, is to use a non-static method, then don&#39;t access any of the non-static instance members. There would be no possible performance benefit any other way, because there is no way to statically link (at compile-time) a `ISomething.member()`. The only benefit I see of a static method in an interface is that it would not input (i.e. ignore) an implicit &quot;this&quot; and thus disallow access to any of the non-static instance members. This would declare implicitly that the function that doesn&#39;t access &quot;this&quot;, is immutate and not even readonly with respect to its containing class. But a declaration of &quot;static&quot; in an interface `ISomething` would also confuse people who tried to access it with `ISomething.member()` which would cause a compiler error. I suppose if the compiler error was sufficiently explanatory, it would be better than trying to educate people about using a non-static method to accomplish what they want (apparently mostly factory methods), as we are doing here (and has been repeated for 3 Q&amp;A times on this site), so it is obviously an issue that is not intuitive for many people. I had to think about it for a while to get the correct understanding.\r\n\r\nThe way to get a mutable static field in an interface is use non-static getter and setter methods in an interface, to access that static field that in the subclass. Sidenote, apparently immutable statics can be declared in a Java interface with `static final`.\r\n\r\n  [1]: http://blogs.oracle.com/sundararajan/entry/scala_for_java_programmers","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>An interface can never be dereferenced statically, e.g. <code>ISomething.member</code>. An interface is always dereferenced via a variable that refers to an instance of a subclass of the interface. Thus, an interface reference can never know which subclass it refers to without an instance of its subclass.</p>\n\n<p>Thus the closest approximation to a static method in an interface would be a non-static method that ignores \"this\", i.e. does not access any non-static members of the instance. At the low-level abstraction, every non-static method (after lookup in any vtable) is really just a function with class scope that takes \"this\" as an implicit formal parameter. See <a href=\"http://blogs.oracle.com/sundararajan/entry/scala_for_java_programmers\" rel=\"nofollow\">Scala's singleton object and interoperability with Java</a> as evidence of that concept.\nAnd thus every static method is a function with class scope that does not take a \"this\" parameter. Thus normally a static method can be called statically, but as previously stated, an interface has no implementation (is abstract).</p>\n\n<p>Thus to get closest approximation to a static method in an interface, is to use a non-static method, then don't access any of the non-static instance members. There would be no possible performance benefit any other way, because there is no way to statically link (at compile-time) a <code>ISomething.member()</code>. The only benefit I see of a static method in an interface is that it would not input (i.e. ignore) an implicit \"this\" and thus disallow access to any of the non-static instance members. This would declare implicitly that the function that doesn't access \"this\", is immutate and not even readonly with respect to its containing class. But a declaration of \"static\" in an interface <code>ISomething</code> would also confuse people who tried to access it with <code>ISomething.member()</code> which would cause a compiler error. I suppose if the compiler error was sufficiently explanatory, it would be better than trying to educate people about using a non-static method to accomplish what they want (apparently mostly factory methods), as we are doing here (and has been repeated for 3 Q&amp;A times on this site), so it is obviously an issue that is not intuitive for many people. I had to think about it for a while to get the correct understanding.</p>\n\n<p>The way to get a mutable static field in an interface is use non-static getter and setter methods in an interface, to access that static field that in the subclass. Sidenote, apparently immutable statics can be declared in a Java interface with <code>static final</code>.</p>\n"},{"tags":[],"owner":{"account_id":440799,"reputation":81,"user_id":830566,"display_name":"tallgirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1309906451,"creation_date":1309906451,"answer_id":6589752,"question_id":512877,"body_markdown":"First, all language decisions are decisions made by the language creators.  There is nothing in the world of software engineering or language defining or compiler / interpreter writing which says that a static method cannot be part of an interface.  I&#39;ve created a couple of languages and written compilers for them -- it&#39;s all just sitting down and defining meaningful semantics.  I&#39;d argue that the semantics of a static method in an interface are remarkably clear -- even if the compiler has to defer resolution of the method to run-time.\r\n\r\nSecondly, that we use static methods at all means there is a valid reason for having an interface pattern which includes static methods -- I can&#39;t speak for any of you, but I use static methods on a regular basis.\r\n\r\nThe most likely correct answer is that there was no perceived need, at the time the language was defined, for static methods in interfaces.  Java has grown a lot over the years and this is an item that has apparently gained some interest.  That it was looked at for Java 7 indicates that its risen to a level of interest that might result in a language change.  I, for one, will be happy when I no longer have to instantiate an object just so I can call my non-static getter method to access a static variable in a subclass instance ...","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>First, all language decisions are decisions made by the language creators.  There is nothing in the world of software engineering or language defining or compiler / interpreter writing which says that a static method cannot be part of an interface.  I've created a couple of languages and written compilers for them -- it's all just sitting down and defining meaningful semantics.  I'd argue that the semantics of a static method in an interface are remarkably clear -- even if the compiler has to defer resolution of the method to run-time.</p>\n\n<p>Secondly, that we use static methods at all means there is a valid reason for having an interface pattern which includes static methods -- I can't speak for any of you, but I use static methods on a regular basis.</p>\n\n<p>The most likely correct answer is that there was no perceived need, at the time the language was defined, for static methods in interfaces.  Java has grown a lot over the years and this is an item that has apparently gained some interest.  That it was looked at for Java 7 indicates that its risen to a level of interest that might result in a language change.  I, for one, will be happy when I no longer have to instantiate an object just so I can call my non-static getter method to access a static variable in a subclass instance ...</p>\n"},{"tags":[],"owner":{"account_id":1512952,"reputation":161,"user_id":1414610,"accept_rate":50,"display_name":"VIckyb"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1383484433,"creation_date":1365073612,"answer_id":15809423,"question_id":512877,"body_markdown":"What is the need of static method in interface, static methods are used basically when you don&#39;t have to create an instance of object whole idea of interface is to bring in OOP concepts with introduction of static method you&#39;re diverting from concept.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>What is the need of static method in interface, static methods are used basically when you don't have to create an instance of object whole idea of interface is to bring in OOP concepts with introduction of static method you're diverting from concept.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1376979820,"creation_date":1376979820,"answer_id":18328276,"question_id":512877,"body_markdown":"    Why can&#39;t I define a static method in a Java interface?\r\n\r\nAll methods in an interface are explicitly abstract and hence you cannot define them as static  because static methods cannot be abstract.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<pre><code>Why can't I define a static method in a Java interface?\n</code></pre>\n\n<p>All methods in an interface are explicitly abstract and hence you cannot define them as static  because static methods cannot be abstract.</p>\n"},{"tags":[],"owner":{"account_id":1655796,"reputation":162,"user_id":1525413,"display_name":"Christophe Bouchon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380811413,"creation_date":1380811413,"answer_id":19162187,"question_id":512877,"body_markdown":"Something that could be implemented is static interface (instead of static method in an interface). All classes implementing a given static interface should implement the corresponding static methods. You could get static interface SI from any Class clazz using\r\n\r\n    SI si = clazz.getStatic(SI.class); // null if clazz doesn&#39;t implement SI\r\n    // alternatively if the class is known at compile time\r\n    SI si = Someclass.static.SI; // either compiler errror or not null\r\nthen you can call `si.method(params)`.\r\nThis would be useful (for factory design pattern for example) because you can get (or check the implementation of) SI static methods implementation from a compile time unknown class !\r\nA dynamic dispatch is necessary and you can override the static methods (if not final) of a class by extending it (when called through the static interface).\r\nObviously, these methods can only access static variables of their class.\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Something that could be implemented is static interface (instead of static method in an interface). All classes implementing a given static interface should implement the corresponding static methods. You could get static interface SI from any Class clazz using</p>\n\n<pre><code>SI si = clazz.getStatic(SI.class); // null if clazz doesn't implement SI\n// alternatively if the class is known at compile time\nSI si = Someclass.static.SI; // either compiler errror or not null\n</code></pre>\n\n<p>then you can call <code>si.method(params)</code>.\nThis would be useful (for factory design pattern for example) because you can get (or check the implementation of) SI static methods implementation from a compile time unknown class !\nA dynamic dispatch is necessary and you can override the static methods (if not final) of a class by extending it (when called through the static interface).\nObviously, these methods can only access static variables of their class.</p>\n"},{"comments":[{"owner":{"display_name":"user8389458"},"score":0,"creation_date":1518925505,"post_id":27155104,"comment_id":84700328,"body_markdown":"This is a perfect example of this question.","body":"This is a perfect example of this question."}],"tags":[],"owner":{"account_id":1494447,"reputation":2413,"user_id":1400737,"accept_rate":78,"display_name":"rogue lad"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1418566439,"creation_date":1417021997,"answer_id":27155104,"question_id":512877,"body_markdown":"With the advent of **Java 8** it is possible now to write **default** and **static** methods in interface.\r\n[docs.oracle/staticMethod][1]\r\n\r\nFor example:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface Arithmetic {\r\n\t\r\n        public int add(int a, int b);\r\n\t\r\n        public static int multiply(int a, int b) {\r\n            return a * b;\r\n        }\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class ArithmaticImplementation implements Arithmetic {\r\n\r\n        @Override\r\n        public int add(int a, int b) {\r\n            return a + b;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            int result = Arithmetic.multiply(2, 3);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n**Result** : 6\r\n\r\n**TIP :** Calling an static interface method doesn&#39;t require to be implemented by any class. Surely, this happens because the same rules for static methods in superclasses applies for static methods on interfaces.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>With the advent of <strong>Java 8</strong> it is possible now to write <strong>default</strong> and <strong>static</strong> methods in interface.\n<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\">docs.oracle/staticMethod</a></p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface Arithmetic {\n\n    public int add(int a, int b);\n\n    public static int multiply(int a, int b) {\n        return a * b;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ArithmaticImplementation implements Arithmetic {\n\n    @Override\n    public int add(int a, int b) {\n        return a + b;\n    }\n\n    public static void main(String[] args) {\n        int result = Arithmetic.multiply(2, 3);\n        System.out.println(result);\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong> : 6</p>\n\n<p><strong>TIP :</strong> Calling an static interface method doesn't require to be implemented by any class. Surely, this happens because the same rules for static methods in superclasses applies for static methods on interfaces.</p>\n"},{"tags":[],"owner":{"account_id":477011,"reputation":139,"user_id":888230,"accept_rate":100,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432228557,"creation_date":1432149056,"answer_id":30358421,"question_id":512877,"body_markdown":"While I realize that Java 8 resolves this issue, I thought I&#39;d chime in with a scenario I am currently working on (locked into using Java 7) where being able to specify static methods in an interface would be helpful.\r\n\r\nI have several enum definitions where I&#39;ve defined &quot;id&quot; and &quot;displayName&quot; fields along with helper methods evaluating the values for various reasons. Implementing an interface allows me to ensure that the getter methods are in place but not the static helper methods. Being an enum, there really isn&#39;t a clean way to offload the helper methods into an inherited abstract class or something of the like so the methods have to be defined in the enum itself. Also because it is an enum, you wouldn&#39;t ever be able to actually pass it as an instanced object and treat it as the interface type, but being able to require the existence of the static helper methods through an interface is what I like about it being supported in Java 8.\r\n\r\nHere&#39;s code illustrating my point.\r\n\r\nInterface definition:\r\n\r\n    public interface IGenericEnum &lt;T extends Enum&lt;T&gt;&gt; {\r\n    \tString getId();\r\n    \tString getDisplayName();\r\n    \t//If I was using Java 8 static helper methods would go here\r\n    }\r\n\r\nExample of one enum definition:\r\n\r\n    public enum ExecutionModeType implements IGenericEnum&lt;ExecutionModeType&gt; {\r\n    \tSTANDARD (&quot;Standard&quot;, &quot;Standard Mode&quot;),\r\n\t    DEBUG (&quot;Debug&quot;, &quot;Debug Mode&quot;);\r\n\t    \r\n    \tString id;\r\n\t    String displayName;\r\n\t    \r\n    \t//Getter methods\r\n\t    public String getId() {\r\n\t\t    return id;\r\n    \t}\r\n    \r\n    \tpublic String getDisplayName() {\r\n\t    \treturn displayName;\r\n    \t}\r\n\t\r\n\t    //Constructor\r\n    \tprivate ExecutionModeType(String id, String displayName) {\r\n\t    \tthis.id = id;\r\n\t\t    this.displayName = displayName;\r\n    \t}\r\n\t    \r\n    \t//Helper methods - not enforced by Interface\r\n\t    public static boolean isValidId(String id) {\r\n\t\t    return GenericEnumUtility.isValidId(ExecutionModeType.class, id);\r\n    \t}\r\n\t    \r\n    \tpublic static String printIdOptions(String delimiter){\r\n\t    \treturn GenericEnumUtility.printIdOptions(ExecutionModeType.class, delimiter);\r\n    \t}\r\n\t    \r\n    \tpublic static String[] getIdArray(){\r\n\t    \treturn GenericEnumUtility.getIdArray(ExecutionModeType.class);\r\n    \t}\r\n\t\r\n\t    public static ExecutionModeType getById(String id) throws NoSuchObjectException {\r\n\t\t    return GenericEnumUtility.getById(ExecutionModeType.class, id);\r\n    \t}\r\n    }\r\n\r\nGeneric enum utility definition:\r\n\r\n\tpublic class GenericEnumUtility {\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; boolean isValidId(Class&lt;T&gt; enumType, String id) {\t\t\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tif(enumOption.getId().equals(id)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String printIdOptions(Class&lt;T&gt; enumType, String delimiter){\r\n\t\t\tString ret = &quot;&quot;;\r\n\t\t\tdelimiter = delimiter == null ? &quot; &quot; : delimiter;\r\n\t\t\t\r\n\t\t\tint i = 0;\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tif(i == 0) {\r\n\t\t\t\t\tret = enumOption.getId();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tret += delimiter + enumOption.getId();\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String[] getIdArray(Class&lt;T&gt; enumType){\r\n\t\t\tList&lt;String&gt; idValues = new ArrayList&lt;String&gt;();\r\n\t\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tidValues.add(enumOption.getId());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn idValues.toArray(new String[idValues.size()]);\r\n\t\t}\r\n\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; T getById(Class&lt;T&gt; enumType, String id) throws NoSuchObjectException {\r\n\t\t\tid = id == null ? &quot;&quot; : id;\r\n\t\t\tfor(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\r\n\t\t\t\tif(id.equals(enumOption.getId())) {\r\n\t\t\t\t\treturn (T)enumOption;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthrow new NoSuchObjectException(String.format(&quot;ERROR: \\&quot;%s\\&quot; is not a valid ID. Valid IDs are: %s.&quot;, id, printIdOptions(enumType, &quot; , &quot;)));\r\n\t\t}\r\n\t}\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>While I realize that Java 8 resolves this issue, I thought I'd chime in with a scenario I am currently working on (locked into using Java 7) where being able to specify static methods in an interface would be helpful.</p>\n\n<p>I have several enum definitions where I've defined \"id\" and \"displayName\" fields along with helper methods evaluating the values for various reasons. Implementing an interface allows me to ensure that the getter methods are in place but not the static helper methods. Being an enum, there really isn't a clean way to offload the helper methods into an inherited abstract class or something of the like so the methods have to be defined in the enum itself. Also because it is an enum, you wouldn't ever be able to actually pass it as an instanced object and treat it as the interface type, but being able to require the existence of the static helper methods through an interface is what I like about it being supported in Java 8.</p>\n\n<p>Here's code illustrating my point.</p>\n\n<p>Interface definition:</p>\n\n<pre><code>public interface IGenericEnum &lt;T extends Enum&lt;T&gt;&gt; {\n    String getId();\n    String getDisplayName();\n    //If I was using Java 8 static helper methods would go here\n}\n</code></pre>\n\n<p>Example of one enum definition:</p>\n\n<pre><code>public enum ExecutionModeType implements IGenericEnum&lt;ExecutionModeType&gt; {\n    STANDARD (\"Standard\", \"Standard Mode\"),\n    DEBUG (\"Debug\", \"Debug Mode\");\n\n    String id;\n    String displayName;\n\n    //Getter methods\n    public String getId() {\n        return id;\n    }\n\n    public String getDisplayName() {\n        return displayName;\n    }\n\n    //Constructor\n    private ExecutionModeType(String id, String displayName) {\n        this.id = id;\n        this.displayName = displayName;\n    }\n\n    //Helper methods - not enforced by Interface\n    public static boolean isValidId(String id) {\n        return GenericEnumUtility.isValidId(ExecutionModeType.class, id);\n    }\n\n    public static String printIdOptions(String delimiter){\n        return GenericEnumUtility.printIdOptions(ExecutionModeType.class, delimiter);\n    }\n\n    public static String[] getIdArray(){\n        return GenericEnumUtility.getIdArray(ExecutionModeType.class);\n    }\n\n    public static ExecutionModeType getById(String id) throws NoSuchObjectException {\n        return GenericEnumUtility.getById(ExecutionModeType.class, id);\n    }\n}\n</code></pre>\n\n<p>Generic enum utility definition:</p>\n\n<pre><code>public class GenericEnumUtility {\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; boolean isValidId(Class&lt;T&gt; enumType, String id) {       \n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            if(enumOption.getId().equals(id)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String printIdOptions(Class&lt;T&gt; enumType, String delimiter){\n        String ret = \"\";\n        delimiter = delimiter == null ? \" \" : delimiter;\n\n        int i = 0;\n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            if(i == 0) {\n                ret = enumOption.getId();\n            } else {\n                ret += delimiter + enumOption.getId();\n            }           \n            i++;\n        }\n\n        return ret;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; String[] getIdArray(Class&lt;T&gt; enumType){\n        List&lt;String&gt; idValues = new ArrayList&lt;String&gt;();\n\n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            idValues.add(enumOption.getId());\n        }\n\n        return idValues.toArray(new String[idValues.size()]);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T extends Enum&lt;T&gt; &amp; IGenericEnum&lt;T&gt;&gt; T getById(Class&lt;T&gt; enumType, String id) throws NoSuchObjectException {\n        id = id == null ? \"\" : id;\n        for(IGenericEnum&lt;T&gt; enumOption : enumType.getEnumConstants()) {\n            if(id.equals(enumOption.getId())) {\n                return (T)enumOption;\n            }\n        }\n\n        throw new NoSuchObjectException(String.format(\"ERROR: \\\"%s\\\" is not a valid ID. Valid IDs are: %s.\", id, printIdOptions(enumType, \" , \")));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1598474172,"post_id":31162902,"comment_id":112474680,"body_markdown":"great to know that these Util classes can be replaced with static methods in the interface itself.","body":"great to know that these Util classes can be replaced with static methods in the interface itself."}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1634098631,"creation_date":1435757585,"answer_id":31162902,"question_id":512877,"body_markdown":"&gt; Why can&#39;t I define a static method in a Java interface?\r\n\r\n**Actually you can in Java 8.**\r\n\r\nAs per Java [doc][1]:\r\n\r\n&gt; A static method is a method that is associated with the class in which\r\n&gt; it is defined rather than with any object. Every instance of the class\r\n&gt; shares its static methods\r\n\r\nIn Java 8 an interface can have **default methods** and **static methods**. This makes it easier for us to organize helper methods in our libraries. We can keep static methods specific to an interface in the same interface rather than in a separate class. \r\n\r\nExample of default method:\r\n--------------------------\r\n    list.sort(ordering);\r\n\r\ninstead of\r\n\r\n    Collections.sort(list, ordering);\r\n\r\nExample of static method (from [doc][2] itself):\r\n------------------------------------------------\r\n\r\n    public interface TimeClient {\r\n        // ...\r\n        static public ZoneId getZoneId (String zoneString) {\r\n            try {\r\n                return ZoneId.of(zoneString);\r\n            } catch (DateTimeException e) {\r\n                System.err.println(&quot;Invalid time zone: &quot; + zoneString +\r\n                    &quot;; using default time zone instead.&quot;);\r\n                return ZoneId.systemDefault();\r\n            }\r\n        }\r\n    \r\n        default public ZonedDateTime getZonedDateTime(String zoneString) {\r\n            return ZonedDateTime.of(getLocalDateTime(), getZoneId(zoneString));\r\n        }    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#:~:text=static%20ZoneId%20getZoneId%20(String%20zoneString)%20%7B","title":"Why can&#39;t I define a static method in a Java interface?","body":"<blockquote>\n<p>Why can't I define a static method in a Java interface?</p>\n</blockquote>\n<p><strong>Actually you can in Java 8.</strong></p>\n<p>As per Java <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">doc</a>:</p>\n<blockquote>\n<p>A static method is a method that is associated with the class in which\nit is defined rather than with any object. Every instance of the class\nshares its static methods</p>\n</blockquote>\n<p>In Java 8 an interface can have <strong>default methods</strong> and <strong>static methods</strong>. This makes it easier for us to organize helper methods in our libraries. We can keep static methods specific to an interface in the same interface rather than in a separate class.</p>\n<h2>Example of default method:</h2>\n<pre><code>list.sort(ordering);\n</code></pre>\n<p>instead of</p>\n<pre><code>Collections.sort(list, ordering);\n</code></pre>\n<h2>Example of static method (from <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html#:%7E:text=static%20ZoneId%20getZoneId%20(String%20zoneString)%20%7B\" rel=\"nofollow noreferrer\">doc</a> itself):</h2>\n<pre><code>public interface TimeClient {\n    // ...\n    static public ZoneId getZoneId (String zoneString) {\n        try {\n            return ZoneId.of(zoneString);\n        } catch (DateTimeException e) {\n            System.err.println(&quot;Invalid time zone: &quot; + zoneString +\n                &quot;; using default time zone instead.&quot;);\n            return ZoneId.systemDefault();\n        }\n    }\n\n    default public ZonedDateTime getZonedDateTime(String zoneString) {\n        return ZonedDateTime.of(getLocalDateTime(), getZoneId(zoneString));\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5597041,"reputation":130,"user_id":4434482,"display_name":"beibichunai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442670863,"creation_date":1442670863,"answer_id":32669019,"question_id":512877,"body_markdown":"Let&#39;s suppose static methods were allowed in interfaces:\r\n* They would force all implementing classes to declare that method. \r\n* Interfaces would usually be used through objects, so the only effective methods on those would be the non-static ones. \r\n* Any class which knows a particular interface could invoke its static methods. Hence a implementing class&#39; static method would be called underneath, but the invoker class does not know which. How to know it? It has no instantiation to guess that! \r\n\r\nInterfaces were thought to be used when working with objects. This way, an object is instantiated from a particular class, so this last matter is solved. The invoking class need not know which particular class is because the instantiation may be done by a third class. So the invoking class knows only the interface. \r\n\r\nIf we want this to be extended to static methods, we should have the possibility to especify an implementing class before, then pass a reference to the invoking class. This could use the class through the static methods in the interface. But what is the differente between this reference and an object? We just need an object representing what it was the class. Now, the object represents the old class, and could implement a new interface including the old static methods - those are now non-static. \r\n\r\nMetaclasses serve for this purpose. You may try the class Class of Java. But the problem is that Java is not flexible enough for this. You can not declare a method in the class object of an interface. \r\n\r\nThis is a meta issue - when you need to do ass\r\n\r\n..blah blah \r\n\r\n\r\n\r\n\r\nanyway you have an easy workaround - making the method non-static with the same logic. But then you would have to first create an object to call the method.\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Let's suppose static methods were allowed in interfaces:\n* They would force all implementing classes to declare that method. \n* Interfaces would usually be used through objects, so the only effective methods on those would be the non-static ones. \n* Any class which knows a particular interface could invoke its static methods. Hence a implementing class' static method would be called underneath, but the invoker class does not know which. How to know it? It has no instantiation to guess that! </p>\n\n<p>Interfaces were thought to be used when working with objects. This way, an object is instantiated from a particular class, so this last matter is solved. The invoking class need not know which particular class is because the instantiation may be done by a third class. So the invoking class knows only the interface. </p>\n\n<p>If we want this to be extended to static methods, we should have the possibility to especify an implementing class before, then pass a reference to the invoking class. This could use the class through the static methods in the interface. But what is the differente between this reference and an object? We just need an object representing what it was the class. Now, the object represents the old class, and could implement a new interface including the old static methods - those are now non-static. </p>\n\n<p>Metaclasses serve for this purpose. You may try the class Class of Java. But the problem is that Java is not flexible enough for this. You can not declare a method in the class object of an interface. </p>\n\n<p>This is a meta issue - when you need to do ass</p>\n\n<p>..blah blah </p>\n\n<p>anyway you have an easy workaround - making the method non-static with the same logic. But then you would have to first create an object to call the method.</p>\n"},{"tags":[],"owner":{"account_id":8480091,"reputation":168,"user_id":6360040,"display_name":"flavio"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465986558,"creation_date":1465986558,"answer_id":37832835,"question_id":512877,"body_markdown":"Commenting `EDIT: As of Java 8, static methods are now allowed in interfaces.`\r\n\r\nIt is right, static methods since Java 8 are allowed in interfaces, but your example still won&#39;t work. You cannot just define a static method: you have to implement it or you will obtain a compilation error.","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>Commenting <code>EDIT: As of Java 8, static methods are now allowed in interfaces.</code></p>\n\n<p>It is right, static methods since Java 8 are allowed in interfaces, but your example still won't work. You cannot just define a static method: you have to implement it or you will obtain a compilation error.</p>\n"},{"comments":[{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":2,"creation_date":1540561717,"post_id":46998522,"comment_id":92923789,"body_markdown":"That&#39;s useless, though. Defining an static method on an interface does not enforce further definitions in classes which implements such interface. If you just remove the static method altogether from interface I, your code will compile and run anyway without problems. In other words, you are NOT *overriding* I interface&#39;s main method in InterDemo class, just creating a new method with the same signature.","body":"That&#39;s useless, though. Defining an static method on an interface does not enforce further definitions in classes which implements such interface. If you just remove the static method altogether from interface I, your code will compile and run anyway without problems. In other words, you are NOT <i>overriding</i> I interface&#39;s main method in InterDemo class, just creating a new method with the same signature."}],"tags":[],"owner":{"display_name":"user8838577"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509268226,"creation_date":1509268226,"answer_id":46998522,"question_id":512877,"body_markdown":"To solve this :\r\nerror: missing method body, or declare abstract\r\n        static void main(String[] args);\r\n\r\n\r\n    interface I\r\n    {\r\n    \tint x=20;\r\n    \tvoid getValue();\r\n    \tstatic void main(String[] args){};//Put curly braces \r\n    }\r\n    class InterDemo implements I\r\n    {\r\n    \tpublic void getValue()\r\n    \t{\r\n    \tSystem.out.println(x);\r\n    \t}\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \tInterDemo i=new InterDemo();\r\n    \ti.getValue();\t\r\n    \t}\r\n    \r\n    }\r\n\r\noutput :\r\n20\r\n\r\nNow we can use static method in interface \r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p>To solve this :\nerror: missing method body, or declare abstract\n        static void main(String[] args);</p>\n\n<pre><code>interface I\n{\n    int x=20;\n    void getValue();\n    static void main(String[] args){};//Put curly braces \n}\nclass InterDemo implements I\n{\n    public void getValue()\n    {\n    System.out.println(x);\n    }\n    public static void main(String[] args)\n    {\n    InterDemo i=new InterDemo();\n    i.getValue();   \n    }\n\n}\n</code></pre>\n\n<p>output :\n20</p>\n\n<p>Now we can use static method in interface </p>\n"}],"owner":{"account_id":24561,"reputation":31944,"user_id":62571,"accept_rate":85,"display_name":"cdmckay"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425975,"favorite_count":0,"down_vote_count":4,"up_vote_count":565,"accepted_answer_id":513001,"answer_count":24,"score":561,"last_activity_date":1699591981,"creation_date":1233775289,"question_id":512877,"body_markdown":"**EDIT:** _As of Java 8, static methods are now allowed in interfaces._\r\n\r\nHere&#39;s the example:\r\n\r\n    public interface IXMLizable&lt;T&gt;\r\n    {\r\n      static T newInstanceFromXML(Element e);\r\n      Element toXMLElement();\r\n    }\r\n\r\nOf course this won&#39;t work.  But why not?\r\n\r\nOne of the possible issues would be, what happens when you call:\r\n\r\n    IXMLizable.newInstanceFromXML(e);\r\n\r\nIn this case, I think it should just call an empty method (i.e. {}).  All subclasses would be forced to implement the static method, so they&#39;d all be fine when calling the static method.  So why isn&#39;t this possible?\r\n\r\n**EDIT:** I guess I&#39;m looking for answer that&#39;s deeper than &quot;because that&#39;s the way Java is&quot;. \r\n\r\nIs there a particular technological reason why static methods can&#39;t be overwritten? That is, why did the designers of Java decide to make instance methods overrideable but not static methods?\r\n\r\n**EDIT:** The problem with my design is I&#39;m trying to use interfaces to enforce a coding convention.\r\n\r\nThat is, the goal of the interface is twofold:\r\n\r\n1. I want the IXMLizable interface to allow me to convert classes that implement it to XML elements (using polymorphism, works fine).\r\n\r\n2. If someone wants to make a new instance of a class that implements the IXMLizable interface, they will always know that there will be a newInstanceFromXML(Element e) static constructor.\r\n\r\nIs there any other way to ensure this, other than just putting a comment in the interface?\r\n","title":"Why can&#39;t I define a static method in a Java interface?","body":"<p><strong>EDIT:</strong> <em>As of Java 8, static methods are now allowed in interfaces.</em></p>\n\n<p>Here's the example:</p>\n\n<pre><code>public interface IXMLizable&lt;T&gt;\n{\n  static T newInstanceFromXML(Element e);\n  Element toXMLElement();\n}\n</code></pre>\n\n<p>Of course this won't work.  But why not?</p>\n\n<p>One of the possible issues would be, what happens when you call:</p>\n\n<pre><code>IXMLizable.newInstanceFromXML(e);\n</code></pre>\n\n<p>In this case, I think it should just call an empty method (i.e. {}).  All subclasses would be forced to implement the static method, so they'd all be fine when calling the static method.  So why isn't this possible?</p>\n\n<p><strong>EDIT:</strong> I guess I'm looking for answer that's deeper than \"because that's the way Java is\". </p>\n\n<p>Is there a particular technological reason why static methods can't be overwritten? That is, why did the designers of Java decide to make instance methods overrideable but not static methods?</p>\n\n<p><strong>EDIT:</strong> The problem with my design is I'm trying to use interfaces to enforce a coding convention.</p>\n\n<p>That is, the goal of the interface is twofold:</p>\n\n<ol>\n<li><p>I want the IXMLizable interface to allow me to convert classes that implement it to XML elements (using polymorphism, works fine).</p></li>\n<li><p>If someone wants to make a new instance of a class that implements the IXMLizable interface, they will always know that there will be a newInstanceFromXML(Element e) static constructor.</p></li>\n</ol>\n\n<p>Is there any other way to ensure this, other than just putting a comment in the interface?</p>\n"},{"tags":["java","drools","kie"],"answers":[{"tags":[],"owner":{"account_id":16338148,"reputation":1,"user_id":11799737,"display_name":"karrot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699591418,"creation_date":1699591418,"answer_id":77457749,"question_id":76431372,"body_markdown":"The error suggests a library incompatibility between Guice and Sisu. You can try to use the Guice and Sisu versions shown in the Sisu documentation: https://eclipse.github.io/sisu.inject/#code\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\r\n      &lt;artifactId&gt;org.eclipse.sisu.inject&lt;/artifactId&gt;\r\n      &lt;version&gt;0.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```","title":"Drools: java.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation","body":"<p>The error suggests a library incompatibility between Guice and Sisu. You can try to use the Guice and Sisu versions shown in the Sisu documentation: <a href=\"https://eclipse.github.io/sisu.inject/#code\" rel=\"nofollow noreferrer\">https://eclipse.github.io/sisu.inject/#code</a></p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n      &lt;artifactId&gt;guice&lt;/artifactId&gt;\n      &lt;version&gt;4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\n      &lt;artifactId&gt;org.eclipse.sisu.inject&lt;/artifactId&gt;\n      &lt;version&gt;0.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":17699448,"reputation":1,"user_id":12849375,"display_name":"rr0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699591418,"creation_date":1686223576,"question_id":76431372,"body_markdown":"I am getting this error when I am trying to execute my Drools project. I am using version `7.73.0.Final`.\r\n\r\n```\r\njava.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation. Please annotate it with @BindingAnnotation.\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:120) ~[na:na]\r\n\tat com.google.inject.Key.ensureIsBindingAnnotation(Key.java:402) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Key.strategyFor(Key.java:389) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Key.get(Key.java:251) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28) ~[na:na]\r\n\tat org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93) ~[na:na]\r\n\tat org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104) ~[na:na]\r\n\tat org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74) ~[na:na]\r\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.spi.Elements.getElements(Elements.java:110) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:96) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:73) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat com.google.inject.Guice.createInjector(Guice.java:62) ~[com.google.inject.guice-4.0.jar:na]\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481) ~[na:na]\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206) ~[na:na]\r\n\tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:168) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:167) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:141) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.PlexusComponentProvider.&lt;init&gt;(PlexusComponentProvider.java:37) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildComponentProvider(MavenEmbedderUtils.java:57) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90) ~[na:na]\r\n\tat org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84) ~[na:na]\r\n\tat org.appformer.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34) ~[na:na]\r\n\tat org.appformer.maven.support.PomModel$Parser.parse(PomModel.java:110) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:594) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:152) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:218) ~[na:na]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:192) ~[na:na]\r\n```\r\n\r\nIt occurs when calling `buildAll()` on `KieBuilder` object.\r\n\r\nRelevant code:\r\n```\r\nKieServices ks = KieServices.Factory.get();\r\nKieRepository kr = ks.getRepository();\r\nKieFileSystem kfs = ks.newKieFileSystem();\r\n\r\nkfs.write(ResourceFactory.newFileResource(new File(drlPath)));\r\n\r\nKieBuilder kb = ks.newKieBuilder(kfs);\r\n\r\nkb.buildAll();\r\nif (kb.getResults().hasMessages(Message.Level.ERROR))\r\n   throw new RuntimeException(&quot;Build Errors:\\n&quot; + kb.getResults().toString());\r\n\r\nKieContainer kContainer = ks.newKieContainer(kr.getDefaultReleaseId());\r\n\r\nKieSession kSession = kContainer.newKieSession();\r\n```","title":"Drools: java.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation","body":"<p>I am getting this error when I am trying to execute my Drools project. I am using version <code>7.73.0.Final</code>.</p>\n<pre><code>java.lang.IllegalArgumentException: org.eclipse.sisu.Parameters is not a binding annotation. Please annotate it with @BindingAnnotation.\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:120) ~[na:na]\n    at com.google.inject.Key.ensureIsBindingAnnotation(Key.java:402) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Key.strategyFor(Key.java:389) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Key.get(Key.java:251) ~[com.google.inject.guice-4.0.jar:na]\n    at org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28) ~[na:na]\n    at org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93) ~[na:na]\n    at org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104) ~[na:na]\n    at org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74) ~[na:na]\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.spi.Elements.getElements(Elements.java:110) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:96) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:73) ~[com.google.inject.guice-4.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:62) ~[com.google.inject.guice-4.0.jar:na]\n    at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481) ~[na:na]\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206) ~[na:na]\n    at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:168) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:167) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildPlexusContainer(MavenEmbedderUtils.java:141) ~[na:na]\n    at org.appformer.maven.integration.embedder.PlexusComponentProvider.&lt;init&gt;(PlexusComponentProvider.java:37) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedderUtils.buildComponentProvider(MavenEmbedderUtils.java:57) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90) ~[na:na]\n    at org.appformer.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84) ~[na:na]\n    at org.appformer.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34) ~[na:na]\n    at org.appformer.maven.support.PomModel$Parser.parse(PomModel.java:110) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:594) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:152) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:218) ~[na:na]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:192) ~[na:na]\n</code></pre>\n<p>It occurs when calling <code>buildAll()</code> on <code>KieBuilder</code> object.</p>\n<p>Relevant code:</p>\n<pre><code>KieServices ks = KieServices.Factory.get();\nKieRepository kr = ks.getRepository();\nKieFileSystem kfs = ks.newKieFileSystem();\n\nkfs.write(ResourceFactory.newFileResource(new File(drlPath)));\n\nKieBuilder kb = ks.newKieBuilder(kfs);\n\nkb.buildAll();\nif (kb.getResults().hasMessages(Message.Level.ERROR))\n   throw new RuntimeException(&quot;Build Errors:\\n&quot; + kb.getResults().toString());\n\nKieContainer kContainer = ks.newKieContainer(kr.getDefaultReleaseId());\n\nKieSession kSession = kContainer.newKieSession();\n</code></pre>\n"},{"tags":["java","java-11","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679385869,"post_id":75797613,"comment_id":133707767,"body_markdown":"Will not speculate about the changes between Java versions. But generally: this is a perfect job for `Scanner` which can extract numbers from the I/O buffer without constructing `String` objects for the lines. Further, don’t create an extra `PrintWriter` for a single `println` call that you could perform on `System.out` directly. Considering that this printing is buffered anyway, you might just use `System.out.println(solve(end)? &quot;YES&quot;: &quot;NO&quot;);` and remove the `StringBuilder` stuff. But if you want to know for sure where the time is spent, use a profiling tool (async-profiler, preferably).","body":"Will not speculate about the changes between Java versions. But generally: this is a perfect job for <code>Scanner</code> which can extract numbers from the I/O buffer without constructing <code>String</code> objects for the lines. Further, don’t create an extra <code>PrintWriter</code> for a single <code>println</code> call that you could perform on <code>System.out</code> directly. Considering that this printing is buffered anyway, you might just use <code>System.out.println(solve(end)? &quot;YES&quot;: &quot;NO&quot;);</code> and remove the <code>StringBuilder</code> stuff. But if you want to know for sure where the time is spent, use a profiling tool (async-profiler, preferably)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699591164,"creation_date":1679385681,"answer_id":75798582,"question_id":75797613,"body_markdown":"It is difficult to know why someone else&#39;s (e.g. Codeforce&#39;s) Java 11 and 17 **platforms** are faster / slower. You don&#39;t know what hardware they are running on, what JVM options they are using and so on. Then there is the issue that Java 11 and 17 are different ... and there are many differences between them. (3 years, 6 releases and many man-years of developer work.) \r\n\r\nMy gut feeling is that this EITHER a red-herring (i.e. platform issues) OR it is to do with JVM startup and warmup overheads.  With a difference as large as you report, I am more inclined to the former explanation.\r\n\r\nNow the *normal* way to deal with this is to write a benchmark that runs the algorithm multiple times, eliminates the anomalous outliers, then averages the rest of them.  Use JMH or a similar framework to deal with the mechanics ...\r\n\r\nThen run the benchmark with Java 11 and 17 on identical hardware with identical JVM options, and compare the results.  If there really is a difference between Java 11 and 17 it should show up there.   You can then investigate the cause of the difference; e.g. by profiling.\r\n\r\n---------------------\r\n\r\nThat the kind of problems that you do on competitive programing platforms are NOT indicative of real world Java programming.  Most real Java applications do much more complicate things, and are designed to run for a long time ... giving time for the JVM to JIT compile and optimize the code.  So ... the performance issue you are looking at here is (most likely) something that is not relevant to the kind of use-cases that Java is designed for.\r\n\r\nThis is unlikely be some &quot;Java 11 inefficiency&quot;.","title":"Java 11 vs Java 17","body":"<p>It is difficult to know why someone else's (e.g. Codeforce's) Java 11 and 17 <strong>platforms</strong> are faster / slower. You don't know what hardware they are running on, what JVM options they are using and so on. Then there is the issue that Java 11 and 17 are different ... and there are many differences between them. (3 years, 6 releases and many man-years of developer work.)</p>\n<p>My gut feeling is that this EITHER a red-herring (i.e. platform issues) OR it is to do with JVM startup and warmup overheads.  With a difference as large as you report, I am more inclined to the former explanation.</p>\n<p>Now the <em>normal</em> way to deal with this is to write a benchmark that runs the algorithm multiple times, eliminates the anomalous outliers, then averages the rest of them.  Use JMH or a similar framework to deal with the mechanics ...</p>\n<p>Then run the benchmark with Java 11 and 17 on identical hardware with identical JVM options, and compare the results.  If there really is a difference between Java 11 and 17 it should show up there.   You can then investigate the cause of the difference; e.g. by profiling.</p>\n<hr />\n<p>That the kind of problems that you do on competitive programing platforms are NOT indicative of real world Java programming.  Most real Java applications do much more complicate things, and are designed to run for a long time ... giving time for the JVM to JIT compile and optimize the code.  So ... the performance issue you are looking at here is (most likely) something that is not relevant to the kind of use-cases that Java is designed for.</p>\n<p>This is unlikely be some &quot;Java 11 inefficiency&quot;.</p>\n"}],"owner":{"account_id":27560246,"reputation":3,"user_id":21033414,"display_name":"hatsunemikufan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75798582,"answer_count":1,"score":0,"last_activity_date":1699591164,"creation_date":1679376797,"question_id":75797613,"body_markdown":"I was working on a codeforces problem ([here](https://codeforces.com/contest/1807/problem/G2) and I gave up. I read the editorial and implemented the solution but it still timed out (over 2000ms) running on Java 11. Noticed that someone got it to work with a similar solution on Java 17 and it worked for me too (ran in around 300ms). Basically, I want to know what might have been added to Java to cause such a difference and if there is anyway I can change my code so that it would work on Java 11 too.\r\n\r\nhere is the code.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.lang.reflect.Array;\r\nimport java.util.*;\r\n\r\npublic class Four {\r\n    static PrintWriter pw = new PrintWriter(System.out);\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        int t=Integer.parseInt(br.readLine());\r\n        StringBuilder sb=new StringBuilder();\r\n        for (int i=0; i&lt;t; i++) {\r\n            int size = Integer.parseInt(br.readLine());\r\n            long[] end = Arrays.stream(br.readLine().split(&quot; &quot;)).mapToLong(Long::parseLong).toArray();\r\n            Arrays.sort(end);\r\n            if (solve(end))\r\n                sb.append(&quot;YES\\n&quot;);\r\n            else\r\n                sb.append(&quot;NO\\n&quot;);\r\n        }\r\n        pw.println(sb);\r\n        pw.close();\r\n    }\r\n\r\n    public static boolean solve(long[] a) {\r\n        if (a[0]!=1)\r\n            return false;\r\n        long sum=1;\r\n        for (int i=1; i&lt;a.length; i++) {\r\n            if (a[i]&gt;sum)\r\n                return false;\r\n            sum+=a[i];\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI would guess it&#39;s something to do with the sort method or adding longs but I&#39;m unsure. I would also think it&#39;s some weird Java 11 inefficiency and not an actual problem with the algorithm since I think my code is O(n log n) and the sum of all n is less than 10^5 as specified in the problem so it should run under 2 seconds no problem?","title":"Java 11 vs Java 17","body":"<p>I was working on a codeforces problem (<a href=\"https://codeforces.com/contest/1807/problem/G2\" rel=\"nofollow noreferrer\">here</a> and I gave up. I read the editorial and implemented the solution but it still timed out (over 2000ms) running on Java 11. Noticed that someone got it to work with a similar solution on Java 17 and it worked for me too (ran in around 300ms). Basically, I want to know what might have been added to Java to cause such a difference and if there is anyway I can change my code so that it would work on Java 11 too.</p>\n<p>here is the code.</p>\n<pre><code>import java.io.*;\nimport java.lang.reflect.Array;\nimport java.util.*;\n\npublic class Four {\n    static PrintWriter pw = new PrintWriter(System.out);\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        int t=Integer.parseInt(br.readLine());\n        StringBuilder sb=new StringBuilder();\n        for (int i=0; i&lt;t; i++) {\n            int size = Integer.parseInt(br.readLine());\n            long[] end = Arrays.stream(br.readLine().split(&quot; &quot;)).mapToLong(Long::parseLong).toArray();\n            Arrays.sort(end);\n            if (solve(end))\n                sb.append(&quot;YES\\n&quot;);\n            else\n                sb.append(&quot;NO\\n&quot;);\n        }\n        pw.println(sb);\n        pw.close();\n    }\n\n    public static boolean solve(long[] a) {\n        if (a[0]!=1)\n            return false;\n        long sum=1;\n        for (int i=1; i&lt;a.length; i++) {\n            if (a[i]&gt;sum)\n                return false;\n            sum+=a[i];\n        }\n        return true;\n    }\n}\n\n</code></pre>\n<p>I would guess it's something to do with the sort method or adding longs but I'm unsure. I would also think it's some weird Java 11 inefficiency and not an actual problem with the algorithm since I think my code is O(n log n) and the sum of all n is less than 10^5 as specified in the problem so it should run under 2 seconds no problem?</p>\n"},{"tags":["java","operating-system","detect"],"answers":[{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1251649229,"creation_date":1251649229,"answer_id":1354209,"question_id":1354186,"body_markdown":"These kind of questions seem to be popping out every now and then and the answer *(almost)* always is no. Most general reason for the negative answer is that Java is run in a homogenous Virtual Machine environment which is by design the same on all platforms; Those operations you can&#39;t abstract away/do reliably on at least the most supported platforms just can&#39;t be done easily. Detecting external events in the OS in general such as which non-Java applications are also run/installed falls into that &quot;not easy to do&quot; category.\r\n\r\nCertainly there could be need/market for JNI libraries for the purpose but those steer heavily from the *cross-platform* requirement these questions always seem to want to and that&#39;s why the short answer is &quot;no&quot;. As far as I can see, what you&#39;re doing currently is the cleanest way to detect Perl unless you&#39;re willing to include [perljvm][1] or similar in your project.\r\n\r\n\r\n  [1]: http://www.ebb.org/perljvm/","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>These kind of questions seem to be popping out every now and then and the answer <em>(almost)</em> always is no. Most general reason for the negative answer is that Java is run in a homogenous Virtual Machine environment which is by design the same on all platforms; Those operations you can't abstract away/do reliably on at least the most supported platforms just can't be done easily. Detecting external events in the OS in general such as which non-Java applications are also run/installed falls into that \"not easy to do\" category.</p>\n\n<p>Certainly there could be need/market for JNI libraries for the purpose but those steer heavily from the <em>cross-platform</em> requirement these questions always seem to want to and that's why the short answer is \"no\". As far as I can see, what you're doing currently is the cleanest way to detect Perl unless you're willing to include <a href=\"http://www.ebb.org/perljvm/\" rel=\"noreferrer\">perljvm</a> or similar in your project.</p>\n"},{"comments":[{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":2,"creation_date":1251649673,"post_id":1354213,"comment_id":1190702,"body_markdown":"Oh geez, with Windows machines the latter could potentially take anywhere from 15 to 500 minutes :) +1 just for the insanity of the thought.","body":"Oh geez, with Windows machines the latter could potentially take anywhere from 15 to 500 minutes :) +1 just for the insanity of the thought."}],"tags":[],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1251725609,"creation_date":1251649283,"answer_id":1354213,"question_id":1354186,"body_markdown":"If the user is not willing to either\r\n\r\n - Install perl in an agreed upon location\r\n - Indicate where perl has been installed by storing it&#39;s location in an environment variable, config file, windows registry, etc.\r\n\r\nthen it seems you&#39;re only option is to search the entire disk for an executable named &#39;Perl&#39;. Obviously this could take a very long time, but if you store the location somewhere, at least you should only need to search for it once","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>If the user is not willing to either</p>\n\n<ul>\n<li>Install perl in an agreed upon location</li>\n<li>Indicate where perl has been installed by storing it's location in an environment variable, config file, windows registry, etc.</li>\n</ul>\n\n<p>then it seems you're only option is to search the entire disk for an executable named 'Perl'. Obviously this could take a very long time, but if you store the location somewhere, at least you should only need to search for it once</p>\n"},{"tags":[],"owner":{"account_id":42603,"reputation":1238,"user_id":124123,"accept_rate":100,"display_name":"Abel Morelos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1252863085,"creation_date":1251649770,"answer_id":1354236,"question_id":1354186,"body_markdown":"I don&#39;t know your target audience (users), but upon failure you could prompt the user to enter the path (a FileChooserDialog) and then store this path for future usage (if the exception is not thrown again). I did that some time ago, luckily I had users that were SysAdmins, so it was OK for them to provide that info when the error happened the first time (I also documented how to update or change these values in a properties file).\r\n\r\nOther option as mentioned by Don, is to install the required software as relative to your installation, that&#39;s a more common option.","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>I don't know your target audience (users), but upon failure you could prompt the user to enter the path (a FileChooserDialog) and then store this path for future usage (if the exception is not thrown again). I did that some time ago, luckily I had users that were SysAdmins, so it was OK for them to provide that info when the error happened the first time (I also documented how to update or change these values in a properties file).</p>\n\n<p>Other option as mentioned by Don, is to install the required software as relative to your installation, that's a more common option.</p>\n"},{"tags":[],"owner":{"account_id":4617960,"reputation":96,"user_id":3743793,"display_name":"Arun Pratap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403119853,"creation_date":1403119853,"answer_id":24293639,"question_id":1354186,"body_markdown":"Getting windows native information using java SDK is not possible without support of external APIs. Instead of using external APIs (which is mostly LGPL licensed and not completely open), we can use the shell commands to get the same.\r\n\r\n**Step 1 - Checking if (perl) an application is installed**\r\n\r\nFor checking if an application is installed, use ProcessBuilder or Runtime.exec to run one of the following PowerShell command,\r\n\r\n*Get-ItemProperty HKLM:\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\* |  Select-Object DisplayName | where {$_.DisplayName -match &quot;perl&quot;}*\r\n\r\nReplace &quot;perl&quot; with your choice of software and stream the output of these and process it.\r\n\r\n\r\n*If PERL (for above question), follow below 2 steps to set path and run perl script from java*\r\n\r\nStep 2 - If available, set it to Environment Path using java code.\r\n\r\nStep 3 - Run your perl script.\r\n","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>Getting windows native information using java SDK is not possible without support of external APIs. Instead of using external APIs (which is mostly LGPL licensed and not completely open), we can use the shell commands to get the same.</p>\n\n<p><strong>Step 1 - Checking if (perl) an application is installed</strong></p>\n\n<p>For checking if an application is installed, use ProcessBuilder or Runtime.exec to run one of the following PowerShell command,</p>\n\n<p><em>Get-ItemProperty HKLM:\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall* |  Select-Object DisplayName | where {$_.DisplayName -match \"perl\"}</em></p>\n\n<p>Replace \"perl\" with your choice of software and stream the output of these and process it.</p>\n\n<p><em>If PERL (for above question), follow below 2 steps to set path and run perl script from java</em></p>\n\n<p>Step 2 - If available, set it to Environment Path using java code.</p>\n\n<p>Step 3 - Run your perl script.</p>\n"}],"owner":{"account_id":41283,"reputation":3873,"user_id":119919,"accept_rate":93,"display_name":"Kryten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4798,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1354236,"answer_count":4,"score":3,"last_activity_date":1699586259,"creation_date":1251648608,"question_id":1354186,"body_markdown":"I have a Java application which requires certain software (one of them being Perl) before it can be run. What I used to do to detect for Perl is:\r\n\r\n    Runtime.getRuntime().exec(&quot;perl Test.pl&quot;);\r\n\r\nand if there was an IOException declare that there was no Perl.\r\n\r\nHowever, one of my users complained that the app kept failing because he had not placed Perl in his path varible. So this is why I&#39;m asking: Is there any cross-operating system way to detect whether Perl (or any other software) is installed on the user&#39;s system and the path to the program?","title":"Detect if certain software is installed on a user&#39;s machine in Java","body":"<p>I have a Java application which requires certain software (one of them being Perl) before it can be run. What I used to do to detect for Perl is:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"perl Test.pl\");\n</code></pre>\n\n<p>and if there was an IOException declare that there was no Perl.</p>\n\n<p>However, one of my users complained that the app kept failing because he had not placed Perl in his path varible. So this is why I'm asking: Is there any cross-operating system way to detect whether Perl (or any other software) is installed on the user's system and the path to the program?</p>\n"},{"tags":["java","maven","docker","path","dockerfile"],"comments":[{"owner":{"account_id":3483673,"reputation":31124,"user_id":2915097,"display_name":"user2915097"},"score":0,"creation_date":1492706588,"post_id":43525202,"comment_id":74103877,"body_markdown":"When is /etc/hadoop created in your Dockerfile?","body":"When is /etc/hadoop created in your Dockerfile?"},{"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"score":0,"creation_date":1492706705,"post_id":43525202,"comment_id":74103935,"body_markdown":"@user2915097 It pulls mdouchement/hdfs as base image, that part was left out in the post.","body":"@user2915097 It pulls mdouchement/hdfs as base image, that part was left out in the post."}],"answers":[{"comments":[{"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"score":0,"creation_date":1492707349,"post_id":43525465,"comment_id":74104352,"body_markdown":"Changed to `basedir` (Dir does not work) and still getting the same error. According to [this](https://github.com/cko/predefined_maven_properties/blob/master/README.md) `basedir` is deprecated.","body":"Changed to <code>basedir</code> (Dir does not work) and still getting the same error. According to <a href=\"https://github.com/cko/predefined_maven_properties/blob/master/README.md\" rel=\"nofollow noreferrer\">this</a> <code>basedir</code> is deprecated."},{"owner":{"account_id":8649850,"reputation":68,"user_id":6475933,"display_name":"MinMiguelM"},"score":0,"creation_date":1492707615,"post_id":43525465,"comment_id":74104529,"body_markdown":"${basedir} is deprecated but ${project.basedir} isn&#39;t it.","body":"${basedir} is deprecated but ${project.basedir} isn&#39;t it."},{"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"score":0,"creation_date":1492708629,"post_id":43525465,"comment_id":74105096,"body_markdown":"I did try `project.basedir` and still the same. One difference I noticed with `basedir` is it prints out the windows-like path `Step 3/3 : COPY C:\\\\Users\\\\H184870\\\\Workspace\\\\core\\\\com.lgc.dist.core.msp.service.hdfs/src/main/resources /etc/hadoop`","body":"I did try <code>project.basedir</code> and still the same. One difference I noticed with <code>basedir</code> is it prints out the windows-like path <code>Step 3&#47;3 : COPY C:\\\\Users\\\\H184870\\\\Workspace\\\\core\\\\com.lgc.dist.core.msp.s&zwnj;&#8203;ervice.hdfs&#47;src&#47;main&zwnj;&#8203;&#47;resources &#47;etc&#47;hadoop</code>"}],"tags":[],"owner":{"account_id":8649850,"reputation":68,"user_id":6475933,"display_name":"MinMiguelM"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492707084,"creation_date":1492707084,"answer_id":43525465,"question_id":43525202,"body_markdown":"Have you tried to declare the second variable as:\r\n\r\n    &lt;resource.dir&gt;${project.baseDir}/src/main/resources&lt;/resource.dir&gt;\r\n\r\nWith baseDir.","title":"How to copy files from an absolute path to docker image using docker maven plugin","body":"<p>Have you tried to declare the second variable as:</p>\n\n<pre><code>&lt;resource.dir&gt;${project.baseDir}/src/main/resources&lt;/resource.dir&gt;\n</code></pre>\n\n<p>With baseDir.</p>\n"},{"tags":[],"owner":{"account_id":1801540,"reputation":723,"user_id":1639765,"display_name":"Juan Jimenez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527092792,"creation_date":1527092792,"answer_id":50493257,"question_id":43525202,"body_markdown":"Include the shared/common resources in your pom &lt;build&gt; by adding:\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;/absolute/path/to/resources&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;targetPath&gt;shared&lt;/targetPath&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen (if using spotify Dockerfile maven plugin) add the resource path on build as a build argument\r\n\r\n    &lt;configuration&gt;\r\n        ...\r\n        &lt;buildArgs&gt;\r\n            ...\r\n            &lt;SHARED_RESOURCES&gt;target/classes/shared&lt;/SHARED_RESOURCES&gt;\r\n        &lt;/buildArgs&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThen use it in Dockerfile as such:\r\n\r\n    ...\r\n    ARG SHARED_RESOURCES\r\n    COPY ${SHARED_RESOURCES}/something /target\r\n    ...","title":"How to copy files from an absolute path to docker image using docker maven plugin","body":"<p>Include the shared/common resources in your pom  by adding:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;/absolute/path/to/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;targetPath&gt;shared&lt;/targetPath&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then (if using spotify Dockerfile maven plugin) add the resource path on build as a build argument</p>\n\n<pre><code>&lt;configuration&gt;\n    ...\n    &lt;buildArgs&gt;\n        ...\n        &lt;SHARED_RESOURCES&gt;target/classes/shared&lt;/SHARED_RESOURCES&gt;\n    &lt;/buildArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Then use it in Dockerfile as such:</p>\n\n<pre><code>...\nARG SHARED_RESOURCES\nCOPY ${SHARED_RESOURCES}/something /target\n...\n</code></pre>\n"}],"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699585350,"creation_date":1492706296,"question_id":43525202,"body_markdown":"I am writing microservices with Java. At the end, I run maven build to generate a Docker image based on a Dockerfile in directory [project-root]/docker. Some files need to be copied into the Docker image. Therefore I have the following lines in my Dockerfile:\r\n\r\n    # HDFS base image\r\n    FROM mdouchement/hdfs\r\n    COPY ${workdir.name} /${workdir.name}\r\n    COPY ${resource.dir} /etc/hadoop\r\n\r\nVariables `workdir.name` and `resource.dir` are defined in pom.xml\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;workdir.name&gt;javarun&lt;/workdir.name&gt;\r\n            &lt;resource.dir&gt;${project.baseUri}/src/main/resources&lt;/resource.dir&gt;\r\n    &lt;/properties&gt;\r\n\r\nWhile first copy command uses relative path which is equivalent to `target/docker/javarun`, second command uses absolute path.\r\n\r\nIt turns out the first `COPY` works while I got error for the second `COPY` saying the directory is not found:\r\n\r\n    [INFO] Building image docker.repo.lgc.com/distarch/com.lgc.dist.core.msp.service.hdfs\r\n    Step 1/3 : FROM mdouchement/hdfs\r\n     ---&gt; c95344e8749d\r\n    Step 2/3 : COPY javarun /javarun\r\n     ---&gt; e2e8cb5bc21f\r\n    Removing intermediate container f49da68fe77e\r\n    Step 3/3 : COPY file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources /etc/hadoop\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 14.906 s\r\n    [INFO] Finished at: 2017-04-20T11:07:12-05:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.spotify:docker-maven-plugin:0.3.10:build (docker-build) on project com.lgc.dist.core.msp.service.hdfs: \r\n    Exception caught: lstat file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources: no such file or directory -&gt; [Help 1]\r\n\r\nThe path printed out is `/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources` which looks weird. My guess is this is not a valid Windows path.\r\n\r\nI am running it on a Windows machine now, but the build process will eventually moved to a Linux server. How do I make an absolute path compatible with both OS when copying files in Dockerfile?\r\n\r\n**EDIT**  Originally thought it was a windows path issue, so tried to build it on Linux and got the same error. \r\n\r\nAccording to [this post][1], the src path should be the relative path from build context. That&#39;s why the absolute path does not work. But what is the default `PATH` of docker build? Is it the same as the directory where Dockerfile is located?\r\n\r\n\r\n  [1]: https://github.com/moby/moby/issues/4592#issuecomment-282702580","title":"How to copy files from an absolute path to docker image using docker maven plugin","body":"<p>I am writing microservices with Java. At the end, I run maven build to generate a Docker image based on a Dockerfile in directory [project-root]/docker. Some files need to be copied into the Docker image. Therefore I have the following lines in my Dockerfile:</p>\n\n<pre><code># HDFS base image\nFROM mdouchement/hdfs\nCOPY ${workdir.name} /${workdir.name}\nCOPY ${resource.dir} /etc/hadoop\n</code></pre>\n\n<p>Variables <code>workdir.name</code> and <code>resource.dir</code> are defined in pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;workdir.name&gt;javarun&lt;/workdir.name&gt;\n        &lt;resource.dir&gt;${project.baseUri}/src/main/resources&lt;/resource.dir&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>While first copy command uses relative path which is equivalent to <code>target/docker/javarun</code>, second command uses absolute path.</p>\n\n<p>It turns out the first <code>COPY</code> works while I got error for the second <code>COPY</code> saying the directory is not found:</p>\n\n<pre><code>[INFO] Building image docker.repo.lgc.com/distarch/com.lgc.dist.core.msp.service.hdfs\nStep 1/3 : FROM mdouchement/hdfs\n ---&gt; c95344e8749d\nStep 2/3 : COPY javarun /javarun\n ---&gt; e2e8cb5bc21f\nRemoving intermediate container f49da68fe77e\nStep 3/3 : COPY file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources /etc/hadoop\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 14.906 s\n[INFO] Finished at: 2017-04-20T11:07:12-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.spotify:docker-maven-plugin:0.3.10:build (docker-build) on project com.lgc.dist.core.msp.service.hdfs: \nException caught: lstat file:/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources: no such file or directory -&gt; [Help 1]\n</code></pre>\n\n<p>The path printed out is <code>/C:/Users/H184870/Workspace/core/com.lgc.dist.core.msp.service.hdfs//src/main/resources</code> which looks weird. My guess is this is not a valid Windows path.</p>\n\n<p>I am running it on a Windows machine now, but the build process will eventually moved to a Linux server. How do I make an absolute path compatible with both OS when copying files in Dockerfile?</p>\n\n<p><strong>EDIT</strong>  Originally thought it was a windows path issue, so tried to build it on Linux and got the same error. </p>\n\n<p>According to <a href=\"https://github.com/moby/moby/issues/4592#issuecomment-282702580\" rel=\"nofollow noreferrer\">this post</a>, the src path should be the relative path from build context. That's why the absolute path does not work. But what is the default <code>PATH</code> of docker build? Is it the same as the directory where Dockerfile is located?</p>\n"},{"tags":["java","android","gradle","android-pageradapter","androidimageslider"],"owner":{"account_id":17389436,"reputation":3,"user_id":12600215,"display_name":"alliumvault"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699584342,"creation_date":1699584342,"question_id":77457430,"body_markdown":"I was trying to build my project and got the following error message: \r\n\r\n\r\n```\r\nC:\\Users\\Lennart\\AndroidStudioProjects\\UrbexGuidePremium\\app\\src\\main\\java\\com\\alliumvault\\urbexguidepremium\\adapter\\SliderAdapter.java:14: error: cannot access PagerAdapter\r\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\r\n       ^\r\n  class file for android.support.v4.view.PagerAdapter not found\r\n```\r\n\r\n\r\nI have never heard of PageAdapter before, and I can&#39;t recall using this class anywhere in my project... \r\nHere is the full code of the relevant class: \r\n\r\n```\r\npackage com.alliumvault.urbexguidepremium.adapter;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n\r\nimport com.alliumvault.urbexguidepremium.R;\r\nimport com.bumptech.glide.Glide;\r\nimport com.smarteist.autoimageslider.SliderViewAdapter;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\r\n\r\n    // list for storing urls of images.\r\n    private final List&lt;SliderData&gt; mSliderItems;\r\n\r\n    // Constructor\r\n    public SliderAdapter(Context context, ArrayList&lt;SliderData&gt; sliderDataArrayList) {\r\n        this.mSliderItems = sliderDataArrayList;\r\n    }\r\n\r\n    // We are inflating the slider_layout\r\n    // inside on Create View Holder method.\r\n    @Override\r\n    public SliderAdapterViewHolder onCreateViewHolder(ViewGroup parent) {\r\n        View inflate = LayoutInflater.from(parent.getContext()).inflate(R.layout.slider_layout, null);\r\n        return new SliderAdapterViewHolder(inflate);\r\n    }\r\n\r\n    // Inside on bind view holder we will\r\n    // set data to item of Slider View.\r\n    @Override\r\n    public void onBindViewHolder(SliderAdapterViewHolder viewHolder, final int position) {\r\n\r\n        final SliderData sliderItem = mSliderItems.get(position);\r\n\r\n        // Glide is use to load image\r\n        // from url in your imageview.\r\n        Glide.with(viewHolder.itemView)\r\n                .load(sliderItem.getImgUrl())\r\n                .fitCenter()\r\n                .into(viewHolder.imageViewBackground);\r\n    }\r\n\r\n    // this method will return\r\n    // the count of our list.\r\n    @Override\r\n    public int getCount() {\r\n        return mSliderItems.size();\r\n    }\r\n\r\n    static class SliderAdapterViewHolder extends SliderViewAdapter.ViewHolder {\r\n        // Adapter class for initializing\r\n        // the views of our slider view.\r\n        View itemView;\r\n        ImageView imageViewBackground;\r\n\r\n        public SliderAdapterViewHolder(View itemView) {\r\n            super(itemView);\r\n            imageViewBackground = itemView.findViewById(R.id.myimage);\r\n            this.itemView = itemView;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m not sure, if it is helpfull but here is also my build.gradle:\r\n\r\n```\r\nplugins {\r\n    id(&quot;com.android.application&quot;)\r\n    id(&quot;com.google.gms.google-services&quot;)\r\n}\r\n\r\nandroid {\r\n    namespace = &quot;com.alliumvault.urbexguidepremium&quot;\r\n    compileSdk = 34\r\n\r\n    defaultConfig {\r\n        applicationId = &quot;com.alliumvault.urbexguidepremium&quot;\r\n        minSdk = 24\r\n        targetSdk = 33\r\n        versionCode = 1\r\n        versionName = &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            isMinifyEnabled = false\r\n            proguardFiles(\r\n                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\r\n                &quot;proguard-rules.pro&quot;\r\n            )\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    implementation(&quot;com.google.android.material:material:1.10.0&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-database:20.3.0&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-firestore:24.9.1&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-storage:20.3.0&quot;)\r\n    implementation(&quot;com.github.bumptech.glide:glide:4.16.0&quot;)\r\n    implementation(&quot;com.github.smarteist:autoimageslider:1.4.0-appcompat&quot;)\r\n    implementation(&quot;com.android.billingclient:billing:6.0.1&quot;)\r\n    implementation(&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)\r\n    implementation(&quot;com.google.android.gms:play-services-location:21.0.1&quot;)\r\n    implementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n}\r\n```\r\n\r\n\r\n\r\nI also tried to add the code bit by bit and have a look when the error starts occurring. It only appears as soon as I add `extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt;` and implement the methods.","title":"PagerAdapter not found when using Auto Image Slider (Java/Android)","body":"<p>I was trying to build my project and got the following error message:</p>\n<pre><code>C:\\Users\\Lennart\\AndroidStudioProjects\\UrbexGuidePremium\\app\\src\\main\\java\\com\\alliumvault\\urbexguidepremium\\adapter\\SliderAdapter.java:14: error: cannot access PagerAdapter\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\n       ^\n  class file for android.support.v4.view.PagerAdapter not found\n</code></pre>\n<p>I have never heard of PageAdapter before, and I can't recall using this class anywhere in my project...\nHere is the full code of the relevant class:</p>\n<pre><code>package com.alliumvault.urbexguidepremium.adapter;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport com.alliumvault.urbexguidepremium.R;\nimport com.bumptech.glide.Glide;\nimport com.smarteist.autoimageslider.SliderViewAdapter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SliderAdapter extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt; {\n\n    // list for storing urls of images.\n    private final List&lt;SliderData&gt; mSliderItems;\n\n    // Constructor\n    public SliderAdapter(Context context, ArrayList&lt;SliderData&gt; sliderDataArrayList) {\n        this.mSliderItems = sliderDataArrayList;\n    }\n\n    // We are inflating the slider_layout\n    // inside on Create View Holder method.\n    @Override\n    public SliderAdapterViewHolder onCreateViewHolder(ViewGroup parent) {\n        View inflate = LayoutInflater.from(parent.getContext()).inflate(R.layout.slider_layout, null);\n        return new SliderAdapterViewHolder(inflate);\n    }\n\n    // Inside on bind view holder we will\n    // set data to item of Slider View.\n    @Override\n    public void onBindViewHolder(SliderAdapterViewHolder viewHolder, final int position) {\n\n        final SliderData sliderItem = mSliderItems.get(position);\n\n        // Glide is use to load image\n        // from url in your imageview.\n        Glide.with(viewHolder.itemView)\n                .load(sliderItem.getImgUrl())\n                .fitCenter()\n                .into(viewHolder.imageViewBackground);\n    }\n\n    // this method will return\n    // the count of our list.\n    @Override\n    public int getCount() {\n        return mSliderItems.size();\n    }\n\n    static class SliderAdapterViewHolder extends SliderViewAdapter.ViewHolder {\n        // Adapter class for initializing\n        // the views of our slider view.\n        View itemView;\n        ImageView imageViewBackground;\n\n        public SliderAdapterViewHolder(View itemView) {\n            super(itemView);\n            imageViewBackground = itemView.findViewById(R.id.myimage);\n            this.itemView = itemView;\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure, if it is helpfull but here is also my build.gradle:</p>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;)\n    id(&quot;com.google.gms.google-services&quot;)\n}\n\nandroid {\n    namespace = &quot;com.alliumvault.urbexguidepremium&quot;\n    compileSdk = 34\n\n    defaultConfig {\n        applicationId = &quot;com.alliumvault.urbexguidepremium&quot;\n        minSdk = 24\n        targetSdk = 33\n        versionCode = 1\n        versionName = &quot;1.0&quot;\n\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            isMinifyEnabled = false\n            proguardFiles(\n                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),\n                &quot;proguard-rules.pro&quot;\n            )\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.10.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth:22.2.0&quot;)\n    implementation(&quot;com.google.firebase:firebase-database:20.3.0&quot;)\n    implementation(&quot;com.google.firebase:firebase-firestore:24.9.1&quot;)\n    implementation(&quot;com.google.firebase:firebase-storage:20.3.0&quot;)\n    implementation(&quot;com.github.bumptech.glide:glide:4.16.0&quot;)\n    implementation(&quot;com.github.smarteist:autoimageslider:1.4.0-appcompat&quot;)\n    implementation(&quot;com.android.billingclient:billing:6.0.1&quot;)\n    implementation(&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)\n    implementation(&quot;com.google.android.gms:play-services-location:21.0.1&quot;)\n    implementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n}\n</code></pre>\n<p>I also tried to add the code bit by bit and have a look when the error starts occurring. It only appears as soon as I add <code>extends SliderViewAdapter&lt;SliderAdapter.SliderAdapterViewHolder&gt;</code> and implement the methods.</p>\n"},{"tags":["java","docker","openshift","s2i"],"answers":[{"comments":[{"owner":{"account_id":2134456,"reputation":351,"user_id":1894580,"accept_rate":44,"display_name":"raghav"},"score":0,"creation_date":1700463385,"post_id":77457366,"comment_id":136653103,"body_markdown":"Tried that and it still does not work","body":"Tried that and it still does not work"}],"tags":[],"owner":{"account_id":9586472,"reputation":788,"user_id":7119031,"display_name":"hiroyukik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699583057,"creation_date":1699583057,"answer_id":77457366,"question_id":77439301,"body_markdown":"Looks like the scripts don&#39;t need to have the extension like `.sh`.  \r\nPlease get rid of the `.sh` on your script name.\r\n\r\n*: https://docs.openshift.com/container-platform/4.14/openshift_images/using_images/customizing-s2i-images.html","title":"Openshift S2I not overriding scripts in the image after build","body":"<p>Looks like the scripts don't need to have the extension like <code>.sh</code>.<br />\nPlease get rid of the <code>.sh</code> on your script name.</p>\n<p>*: <a href=\"https://docs.openshift.com/container-platform/4.14/openshift_images/using_images/customizing-s2i-images.html\" rel=\"nofollow noreferrer\">https://docs.openshift.com/container-platform/4.14/openshift_images/using_images/customizing-s2i-images.html</a></p>\n"}],"owner":{"account_id":2134456,"reputation":351,"user_id":1894580,"accept_rate":44,"display_name":"raghav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699583057,"creation_date":1699369460,"question_id":77439301,"body_markdown":"I am currently using s2i **v1.3.9-dirty** on my MAC to build image of my **Java Application**. I want to override the builder image&#39;s scripts. Thus, I have created `.s2i/bin` directory inside my local repository. Inside this directory I have my `run.sh` and `assemble.sh` scripts. When I build the image, it gets created in my local docker desktop but it does not have my version of run and assemble scripts.\r\n\r\n    s2i build . registry.access.redhat.com/ubi9/openjdk-11:1.16-2 my-image-name\r\n\r\n1. Any pointers as to what am I missing?\r\n2. Am I using the right builder image to build my Java application?\r\n\r\nThanks in advance.","title":"Openshift S2I not overriding scripts in the image after build","body":"<p>I am currently using s2i <strong>v1.3.9-dirty</strong> on my MAC to build image of my <strong>Java Application</strong>. I want to override the builder image's scripts. Thus, I have created <code>.s2i/bin</code> directory inside my local repository. Inside this directory I have my <code>run.sh</code> and <code>assemble.sh</code> scripts. When I build the image, it gets created in my local docker desktop but it does not have my version of run and assemble scripts.</p>\n<pre><code>s2i build . registry.access.redhat.com/ubi9/openjdk-11:1.16-2 my-image-name\n</code></pre>\n<ol>\n<li>Any pointers as to what am I missing?</li>\n<li>Am I using the right builder image to build my Java application?</li>\n</ol>\n<p>Thanks in advance.</p>\n"},{"tags":["java","string","algorithm","arraylist","collections"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1625464855,"post_id":68251181,"comment_id":120624480,"body_markdown":"Welcome to Stack Overflow! Please read &quot;How to create a [mcve]&quot;. Then use the [edit] link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you. In your case: dont just tell us &quot;something is wrong&quot;. Tell us what exactly isnt working with your code.","body":"Welcome to Stack Overflow! Please read &quot;How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Then use the <a href=\"https://stackoverflow.com/posts/68251181/edit\">edit</a> link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you. In your case: dont just tell us &quot;something is wrong&quot;. Tell us what exactly isnt working with your code."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1625464977,"post_id":68251181,"comment_id":120624502,"body_markdown":"And note: that is how you should approach your assignment in the first place: start with small tests, and see what happens. And as soon as you get to a result that is unexpected, use a debugger, or simply: more print statements to figure where your code deviates from your expectations.","body":"And note: that is how you should approach your assignment in the first place: start with small tests, and see what happens. And as soon as you get to a result that is unexpected, use a debugger, or simply: more print statements to figure where your code deviates from your expectations."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1625465072,"post_id":68251181,"comment_id":120624526,"body_markdown":"Finally: please consider to use more meaningful names. Dont use abbreviations like ss ue or meaningless names like test or temp. The names are for your human readers. Make sure they SAY what the variable is about. And be more diligent about indenting and formatting. Your code is much harder to read, just because it is so sloppily indented.","body":"Finally: please consider to use more meaningful names. Dont use abbreviations like ss ue or meaningless names like test or temp. The names are for your human readers. Make sure they SAY what the variable is about. And be more diligent about indenting and formatting. Your code is much harder to read, just because it is so sloppily indented."},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":1,"creation_date":1625468108,"post_id":68251181,"comment_id":120625334,"body_markdown":"Can you explain where your code is going wrong? It is working for the sample input. `Input: &quot;abadbc&quot;`  `Output: aabbdd` which is not wrong. *If you think its wrong, kindly explain why*. I should add, *the problem can be solved in more efficient manner*.","body":"Can you explain where your code is going wrong? It is working for the sample input. <code>Input: &quot;abadbc&quot;</code>  <code>Output: aabbdd</code> which is not wrong. <i>If you think its wrong, kindly explain why</i>. I should add, <i>the problem can be solved in more efficient manner</i>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1625567988,"post_id":68251181,"comment_id":120655283,"body_markdown":"You are removing a character from `temp` when you encounter it a second time, which implies that it will appear as unique when encountering it a third time (or on every odd occurrence). Further, you should not compare strings using `==` nor `!=`. You have to use `equals`. Though, in the case of `ue!=&quot;&quot;`, you can also use `!ue.isEmpty()`.","body":"You are removing a character from <code>temp</code> when you encounter it a second time, which implies that it will appear as unique when encountering it a third time (or on every odd occurrence). Further, you should not compare strings using <code>==</code> nor <code>!=</code>. You have to use <code>equals</code>. Though, in the case of <code>ue!=&quot;&quot;</code>, you can also use <code>!ue.isEmpty()</code>."}],"answers":[{"tags":[],"owner":{"account_id":4991025,"reputation":15651,"user_id":4013258,"display_name":"Surt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625568683,"creation_date":1625568683,"answer_id":68269205,"question_id":68251181,"body_markdown":"When you encounter a char a 2nd time you remove it from the unique characters (1), but if there was a 3rd of that character it would be added again (2).\r\n\r\n```\r\npublic static String uniqueCharacters(String test)\r\n    {\r\n        String temp = &quot;&quot;;\r\n    \r\n        for (int i = 0; i &lt; test.length(); i++)\r\n        {\r\n            char current = test.charAt(i);\r\n            if (temp.indexOf(current) &lt; 0) temp = temp + current; &lt;---- (2)\r\n            else temp = temp.replace(String.valueOf(current), &quot;&quot;); &lt;----- (1)\r\n        }\r\n\r\n        return temp;\r\n    }\r\n```\r\nSolution count the number of chars and then return only those whose count is 1 (one).","title":"First non-repeating character in a stream of characters","body":"<p>When you encounter a char a 2nd time you remove it from the unique characters (1), but if there was a 3rd of that character it would be added again (2).</p>\n<pre><code>public static String uniqueCharacters(String test)\n    {\n        String temp = &quot;&quot;;\n    \n        for (int i = 0; i &lt; test.length(); i++)\n        {\n            char current = test.charAt(i);\n            if (temp.indexOf(current) &lt; 0) temp = temp + current; &lt;---- (2)\n            else temp = temp.replace(String.valueOf(current), &quot;&quot;); &lt;----- (1)\n        }\n\n        return temp;\n    }\n</code></pre>\n<p>Solution count the number of chars and then return only those whose count is 1 (one).</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1625675670,"creation_date":1625675670,"answer_id":68289881,"question_id":68251181,"body_markdown":"It may be better to use a `Set` to detect unique characters in the input string using the result of `Set::add` which returns `false` if no element has been actually added to the set, and a `Queue` to maintain the non-repeated characters.  \r\n\r\nWhen a repeated (non-unique) character is detected, it gets removed from the queue and if necessary, `&quot;#&quot;` is applied as a placeholder.  And if a unique character is detected, it is just added to the queue.\r\n\r\nExample implementation:\r\n```java\r\npublic static String solve(String str) {\r\n    // verify the input\r\n    if (null == str || str.isEmpty()) {\r\n        return str;\r\n    }\r\n    \r\n    Set&lt;Character&gt; previous = new LinkedHashSet&lt;&gt;();\r\n    Queue&lt;Character&gt; nonRepeated = new LinkedList&lt;&gt;();\r\n    \r\n    StringBuilder sb = new StringBuilder();\r\n\r\n    // use the first character\r\n    char curr = str.charAt(0);\r\n    previous.add(curr);\r\n    nonRepeated.add(curr);\r\n    sb.append(curr);\r\n    \r\n    for (int i = 1, n = str.length(); i &lt; n; i++) {\r\n        char c = str.charAt(i);\r\n        \r\n        if (!previous.add(c)) { // duplicate character found\r\n            nonRepeated.remove(c);\r\n            if (nonRepeated.isEmpty()) {\r\n                curr = &#39;#&#39;;\r\n            } else { // get the next non-repeated character\r\n                curr = nonRepeated.peek();\r\n            }\r\n        } else { // unique element is detected\r\n            if (curr == &#39;#&#39;) {\r\n                curr = c;\r\n            }\r\n            nonRepeated.add(c);\r\n        }\r\n        \r\n        sb.append(curr);\r\n    }\r\n    \r\n    return sb.toString();\r\n}\r\n```\r\nTests:\r\n```java\r\nfor (String t : Arrays.asList(&quot;abadbc&quot;, &quot;abcdba&quot;, &quot;aaabbbacab&quot;)) {\r\n    System.out.printf(&quot;input: %s --&gt; %s%n----%n&quot;, t, solve(t));\r\n}\r\n```\r\nOutput:\r\n```\r\ninput: abadbc --&gt; aabbdd\r\n----\r\ninput: abcdba --&gt; aaaaac\r\n----\r\ninput: aaabbbacab --&gt; a##b###ccc\r\n----\r\n```","title":"First non-repeating character in a stream of characters","body":"<p>It may be better to use a <code>Set</code> to detect unique characters in the input string using the result of <code>Set::add</code> which returns <code>false</code> if no element has been actually added to the set, and a <code>Queue</code> to maintain the non-repeated characters.</p>\n<p>When a repeated (non-unique) character is detected, it gets removed from the queue and if necessary, <code>&quot;#&quot;</code> is applied as a placeholder.  And if a unique character is detected, it is just added to the queue.</p>\n<p>Example implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String solve(String str) {\n    // verify the input\n    if (null == str || str.isEmpty()) {\n        return str;\n    }\n    \n    Set&lt;Character&gt; previous = new LinkedHashSet&lt;&gt;();\n    Queue&lt;Character&gt; nonRepeated = new LinkedList&lt;&gt;();\n    \n    StringBuilder sb = new StringBuilder();\n\n    // use the first character\n    char curr = str.charAt(0);\n    previous.add(curr);\n    nonRepeated.add(curr);\n    sb.append(curr);\n    \n    for (int i = 1, n = str.length(); i &lt; n; i++) {\n        char c = str.charAt(i);\n        \n        if (!previous.add(c)) { // duplicate character found\n            nonRepeated.remove(c);\n            if (nonRepeated.isEmpty()) {\n                curr = '#';\n            } else { // get the next non-repeated character\n                curr = nonRepeated.peek();\n            }\n        } else { // unique element is detected\n            if (curr == '#') {\n                curr = c;\n            }\n            nonRepeated.add(c);\n        }\n        \n        sb.append(curr);\n    }\n    \n    return sb.toString();\n}\n</code></pre>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String t : Arrays.asList(&quot;abadbc&quot;, &quot;abcdba&quot;, &quot;aaabbbacab&quot;)) {\n    System.out.printf(&quot;input: %s --&gt; %s%n----%n&quot;, t, solve(t));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>input: abadbc --&gt; aabbdd\n----\ninput: abcdba --&gt; aaaaac\n----\ninput: aaabbbacab --&gt; a##b###ccc\n----\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22100088,"reputation":31,"user_id":16356696,"display_name":"Jay Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699582548,"creation_date":1699582548,"answer_id":77457349,"question_id":68251181,"body_markdown":"**Simple approach to find non repeating character from string using java 8 :**\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String s=&quot;AAHJAKTMJ&quot;;\r\n\r\n        Map&lt;String, Long&gt; counts = Arrays.stream(s.split(&quot;&quot;))\r\n                .collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\r\n\r\n        // Display repeating elements and their counts\r\n        counts.forEach((element, count) -&gt; {\r\n            if (count == 1) {\r\n                System.out.println(&quot;Non Repeating Character From String: &quot; +element);\r\n            }\r\n        });\r\n    }\r\n","title":"First non-repeating character in a stream of characters","body":"<p><strong>Simple approach to find non repeating character from string using java 8 :</strong></p>\n<pre><code>public static void main(String[] args) {\n\n    String s=&quot;AAHJAKTMJ&quot;;\n\n    Map&lt;String, Long&gt; counts = Arrays.stream(s.split(&quot;&quot;))\n            .collect(Collectors.groupingBy(i -&gt; i, Collectors.counting()));\n\n    // Display repeating elements and their counts\n    counts.forEach((element, count) -&gt; {\n        if (count == 1) {\n            System.out.println(&quot;Non Repeating Character From String: &quot; +element);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":22128986,"reputation":3,"user_id":16380822,"display_name":"hari prasath"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68289881,"answer_count":3,"score":0,"last_activity_date":1699582548,"creation_date":1625463758,"question_id":68251181,"body_markdown":"The question asks us to find new string B.\r\n\r\nB is formed such that we have to find first non-repeating character each time a character is inserted to the stream and append it at the end to B. If no non-repeating character is found then append &#39;#&#39; at the end of B.\r\n\r\n    Example:\r\n        &quot;a&quot;      -   first non repeating character &#39;a&#39;\r\n        &quot;ab&quot;     -   first non repeating character &#39;a&#39;\r\n        &quot;aba&quot;    -   first non repeating character &#39;b&#39;\r\n        &quot;abad&quot;   -   first non repeating character &#39;b&#39;\r\n        &quot;abadb&quot;  -   first non repeating character &#39;d&#39;\r\n        &quot;abadbc&quot; -   first non repeating character &#39;d&#39;\r\n\r\nCan someone help me out where my code went wrong. my logic is to use substring function of string and find the unique character and add it to arraylist and print the entire arraylist.\r\n\r\n    public class Solution\r\n    {\r\n        public String solve(String A) \r\n        {\r\n            ArrayList&lt;Character&gt;a=new ArrayList&lt;Character&gt;();\r\n            String res=&quot;&quot;;\r\n\r\n            for(int i=0;i&lt;A.length();i++)\r\n            { \r\n                String ss=A.substring(0,i+1);\r\n                String ue=uniqueCharacters(ss);\r\n               // System.out.println(ue);\r\n          \r\n               if(ue!=&quot;&quot;) a.add(ue.charAt(0));\r\n               else a.add(&#39;#&#39;);\r\n            } \r\n         \r\n            for(Character j:a) res+=j;\r\n        \r\n            return res;\r\n        } \r\n\r\n        public static String uniqueCharacters(String test)\r\n        {\r\n            String temp = &quot;&quot;;\r\n        \r\n            for (int i = 0; i &lt; test.length(); i++)\r\n            {\r\n                char current = test.charAt(i);\r\n                if (temp.indexOf(current) &lt; 0) temp = temp + current;\r\n                else temp = temp.replace(String.valueOf(current), &quot;&quot;);\r\n            }\r\n    \r\n            return temp;\r\n        }\r\n    }    \r\n\r\n\r\n","title":"First non-repeating character in a stream of characters","body":"<p>The question asks us to find new string B.</p>\n<p>B is formed such that we have to find first non-repeating character each time a character is inserted to the stream and append it at the end to B. If no non-repeating character is found then append '#' at the end of B.</p>\n<pre><code>Example:\n    &quot;a&quot;      -   first non repeating character 'a'\n    &quot;ab&quot;     -   first non repeating character 'a'\n    &quot;aba&quot;    -   first non repeating character 'b'\n    &quot;abad&quot;   -   first non repeating character 'b'\n    &quot;abadb&quot;  -   first non repeating character 'd'\n    &quot;abadbc&quot; -   first non repeating character 'd'\n</code></pre>\n<p>Can someone help me out where my code went wrong. my logic is to use substring function of string and find the unique character and add it to arraylist and print the entire arraylist.</p>\n<pre><code>public class Solution\n{\n    public String solve(String A) \n    {\n        ArrayList&lt;Character&gt;a=new ArrayList&lt;Character&gt;();\n        String res=&quot;&quot;;\n\n        for(int i=0;i&lt;A.length();i++)\n        { \n            String ss=A.substring(0,i+1);\n            String ue=uniqueCharacters(ss);\n           // System.out.println(ue);\n      \n           if(ue!=&quot;&quot;) a.add(ue.charAt(0));\n           else a.add('#');\n        } \n     \n        for(Character j:a) res+=j;\n    \n        return res;\n    } \n\n    public static String uniqueCharacters(String test)\n    {\n        String temp = &quot;&quot;;\n    \n        for (int i = 0; i &lt; test.length(); i++)\n        {\n            char current = test.charAt(i);\n            if (temp.indexOf(current) &lt; 0) temp = temp + current;\n            else temp = temp.replace(String.valueOf(current), &quot;&quot;);\n        }\n\n        return temp;\n    }\n}    \n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1699529563,"post_id":77452799,"comment_id":136544928,"body_markdown":"It should be something like `String regex=&quot;((?&lt;!\\\\S)[^\\\\s@]{3}|(?!^)\\\\G)[^\\\\s@](?=[^@\\\\s]*@)&quot;;`. Or with `\\\\b` instead of `(?&lt;!\\\\S)` if your matches must always start with a word char. See https://ideone.com/GfQUPm","body":"It should be something like <code>String regex=&quot;((?&lt;!\\\\S)[^\\\\s@]{3}|(?!^)\\\\G)[^\\\\s@](?=[^@\\\\s]*@)&quot;;</code>. Or with <code>\\\\b</code> instead of <code>(?&lt;!\\\\S)</code> if your matches must always start with a word char. See <a href=\"https://ideone.com/GfQUPm\" rel=\"nofollow noreferrer\">ideone.com/GfQUPm</a>"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1699529993,"post_id":77452799,"comment_id":136544989,"body_markdown":"`[a-zA-Z0-9.!#$%&amp;&#39;*+/=?^_\\`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*` regular expression will match both `riyajose@gmail.com` and `rosymj@gmail.com` in your string, leaving &quot;your my&quot; unmatched. If you don&#39;t want to match the domain, just use `[a-zA-Z0-9.!#$%&amp;&#39;*+/=?^_\\`{|}~-]+@`, which will match the ending `@` too","body":"<code>[a-zA-Z0-9.!#$%&amp;&#39;*+&#47;=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-&zwnj;&#8203;9-]+)*</code> regular expression will match both <code>riyajose@gmail.com</code> and <code>rosymj@gmail.com</code> in your string, leaving &quot;your my&quot; unmatched. If you don&#39;t want to match the domain, just use <code>[a-zA-Z0-9.!#$%&amp;&#39;*+&#47;=?^_`{|}~-]+@</code>, which will match the ending <code>@</code> too"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1699532288,"post_id":77452799,"comment_id":136545374,"body_markdown":"...but do not use the regex in Java, its regex engine is not reliable with such patterns when using them against long texts.","body":"...but do not use the regex in Java, its regex engine is not reliable with such patterns when using them against long texts."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699580475,"creation_date":1699580475,"answer_id":77457270,"question_id":77452799,"body_markdown":"&gt; _&quot;... I want to mask emails present in my string ...&quot;_\r\n\r\nTry a _match pattern_, and the _[StringBuilder](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html)_ class.\r\n\r\n```none\r\n\\b[^ ]+?(?=@)\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nStringBuilder email = new StringBuilder(&quot;riyajose@gmail.com your my rosymj@gmail.com&quot;);\r\nPattern p = Pattern.compile(&quot;\\\\b[^ ]+?(?=@)&quot;);\r\nMatcher m = p.matcher(email);\r\nwhile (m.find()) email.replace(m.start(), m.end(), &quot;x&quot;.repeat(m.group().length()));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nxxxxxxxx@gmail.com your my xxxxxx@gmail.com\r\n```","title":"Email Regex is not working for multiple values in a string message","body":"<blockquote>\n<p><em>&quot;... I want to mask emails present in my string ...&quot;</em></p>\n</blockquote>\n<p>Try a <em>match pattern</em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> class.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\b[^ ]+?(?=@)\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder email = new StringBuilder(&quot;riyajose@gmail.com your my rosymj@gmail.com&quot;);\nPattern p = Pattern.compile(&quot;\\\\b[^ ]+?(?=@)&quot;);\nMatcher m = p.matcher(email);\nwhile (m.find()) email.replace(m.start(), m.end(), &quot;x&quot;.repeat(m.group().length()));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>xxxxxxxx@gmail.com your my xxxxxx@gmail.com\n</code></pre>\n"}],"owner":{"account_id":21276613,"reputation":3,"user_id":15655482,"display_name":"Cdac15655482"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1699580475,"creation_date":1699529364,"question_id":77452799,"body_markdown":"Below is my code, I want to mask emails present in my string.\r\n```java\r\nimport java.util.regex.Pattern;\r\npublic class Main {\r\n   public static void main(String[] args) {\r\n        String email = &quot;riyajose@gmail.com your my rosymj@gmail.com&quot;;\r\n        String regex=&quot;(^[^@]{3}|(?!^)\\\\G)[^@]&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        String mask=&quot;$1*&quot;; // String maskedEmail = email.replaceAll(&quot;\\\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Z]{2,6}\\\\b&quot;, &quot;xxxxxx&quot;);\r\n        String  email1 = pattern.matcher(email).replaceAll(mask);\r\n        System.out.println(&quot;email : &quot;+email);\r\n        System.out.println(&quot;maskedEmail : &quot;+email1);\r\n    }\r\n }\r\n```\r\nThe issue with above code is for the first email id its masking second one not. How to fix this ","title":"Email Regex is not working for multiple values in a string message","body":"<p>Below is my code, I want to mask emails present in my string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\npublic class Main {\n   public static void main(String[] args) {\n        String email = &quot;riyajose@gmail.com your my rosymj@gmail.com&quot;;\n        String regex=&quot;(^[^@]{3}|(?!^)\\\\G)[^@]&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        String mask=&quot;$1*&quot;; // String maskedEmail = email.replaceAll(&quot;\\\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Z]{2,6}\\\\b&quot;, &quot;xxxxxx&quot;);\n        String  email1 = pattern.matcher(email).replaceAll(mask);\n        System.out.println(&quot;email : &quot;+email);\n        System.out.println(&quot;maskedEmail : &quot;+email1);\n    }\n }\n</code></pre>\n<p>The issue with above code is for the first email id its masking second one not. How to fix this</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699579712,"post_id":77457185,"comment_id":136553310,"body_markdown":"Override the _toString_ method for _Employee_, _&quot;[\\&quot;%s\\&quot;, %s, %.0f]&quot;.formatted(name, id, sal)_.","body":"Override the <i>toString</i> method for <i>Employee</i>, <i>&quot;[\\&quot;%s\\&quot;, %s, %.0f]&quot;.formatted(name, id, sal)</i>."}],"owner":{"account_id":29863107,"reputation":1,"user_id":22886347,"display_name":"Chandana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699579572,"answer_count":0,"score":-2,"last_activity_date":1699579590,"creation_date":1699578466,"question_id":77457185,"body_markdown":"**Here is my code:**\r\n\r\n\r\n```\r\nimport java.util.*;\r\nclass Employee\r\n{\r\n    String name;\r\n    int id;\r\n    float sal;\r\n    String country;\r\n}\r\npublic class Main\r\n{\r\n  public static void main (String[] args)\r\n  {\r\n    Employee e1 = new Employee();\r\n    e1.name = &quot;Ram&quot;\r\n    e1.id = 7;\r\n    e1.sal = 50000;\r\n\r\n    Employee e2 = new Employee();\r\n    e2.name = &quot;Seetha&quot;;\r\n    e2.id = 1;\r\n    e2.sal = 60000;\r\n\r\n    Employee[] array = new Employee[] {e1, e2};\r\n    System.out.println(Arrays.toSting(array));\r\n  }\r\n}\r\n```\r\n\r\n\r\n**Output I&#39;m getting:**\r\n[Employee@3b22cdd0, Employee@1e81f4dc]\r\n\r\nThis is the output I&#39;m getting.\r\nBut the output I&#39;m expecting is [[&quot;Ram&quot;, 7, 50000], [&quot;Sita&quot;,1, 60000]]\r\nHow can I get the original values in the output.\r\nCan it be solved using Arrays? Or does it requires collections framework?","title":"Storing a list of Employee details using Arrays in java","body":"<p><strong>Here is my code:</strong></p>\n<pre><code>import java.util.*;\nclass Employee\n{\n    String name;\n    int id;\n    float sal;\n    String country;\n}\npublic class Main\n{\n  public static void main (String[] args)\n  {\n    Employee e1 = new Employee();\n    e1.name = &quot;Ram&quot;\n    e1.id = 7;\n    e1.sal = 50000;\n\n    Employee e2 = new Employee();\n    e2.name = &quot;Seetha&quot;;\n    e2.id = 1;\n    e2.sal = 60000;\n\n    Employee[] array = new Employee[] {e1, e2};\n    System.out.println(Arrays.toSting(array));\n  }\n}\n</code></pre>\n<p><strong>Output I'm getting:</strong>\n[Employee@3b22cdd0, Employee@1e81f4dc]</p>\n<p>This is the output I'm getting.\nBut the output I'm expecting is [[&quot;Ram&quot;, 7, 50000], [&quot;Sita&quot;,1, 60000]]\nHow can I get the original values in the output.\nCan it be solved using Arrays? Or does it requires collections framework?</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699826452,"post_id":77448499,"comment_id":136576814,"body_markdown":"&quot;when &quot;999&quot; is inserted, will break the loop&quot; - yes, that&#39;s what the code does. What is your question?","body":"&quot;when &quot;999&quot; is inserted, will break the loop&quot; - yes, that&#39;s what the code does. What is your question?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699826493,"post_id":77448499,"comment_id":136576817,"body_markdown":"Also, if your question is about the first loop, please don&#39;t include all the stuff below. It&#39;s irrelevant.","body":"Also, if your question is about the first loop, please don&#39;t include all the stuff below. It&#39;s irrelevant."}],"answers":[{"tags":[],"owner":{"account_id":29858191,"reputation":1,"user_id":22882521,"display_name":"alpaca"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1699579125,"creation_date":1699473687,"answer_id":77448609,"question_id":77448499,"body_markdown":"System.exit() if your intent is to close the program\r\nBreak to close out of a loop","title":"An if statement inside a for statement, java program to calculate the grades then assign letter numbers. Scanner class please need assistance for loop","body":"<p>System.exit() if your intent is to close the program\nBreak to close out of a loop</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1699477715,"creation_date":1699477715,"answer_id":77448952,"question_id":77448499,"body_markdown":"&gt; _&quot;... would it be good to sign a exit to the program or just exit the loop with a break statement? ...&quot;_\r\n\r\nUtilize a _boolean_ to determine if the _loop_ exited early.\r\n\r\n```java\r\n...\r\nint b = 999;\r\nboolean exited = false;\r\nfor(i=0; i&lt;10; i++) {\r\n    ...\r\n    if(marks[i]==b)\r\n    {\r\n        exited = true;\r\n        break;\r\n    }\r\n}\r\n\r\nif (!exited) {\r\n   ...\r\n}\r\n```","title":"An if statement inside a for statement, java program to calculate the grades then assign letter numbers. Scanner class please need assistance for loop","body":"<blockquote>\n<p><em>&quot;... would it be good to sign a exit to the program or just exit the loop with a break statement? ...&quot;</em></p>\n</blockquote>\n<p>Utilize a <em>boolean</em> to determine if the <em>loop</em> exited early.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nint b = 999;\nboolean exited = false;\nfor(i=0; i&lt;10; i++) {\n    ...\n    if(marks[i]==b)\n    {\n        exited = true;\n        break;\n    }\n}\n\nif (!exited) {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":14172729,"reputation":45,"user_id":10238884,"display_name":"Jamie Morrissey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1699579125,"creation_date":1699472546,"question_id":77448499,"body_markdown":"Can someone please help me with the if statement in a for loop, new to Java, when &quot;999&quot; is inserted, will break the loop. Thanks. Also, would it be good to sign a exit to the program or just exit the loop with a break statement?\r\n\r\n```\r\npackage java_1.java;\r\nimport java.util.Scanner;\r\n\r\npublic class HelloWorld {\r\n\tpublic static void main(String[] args) {\r\n\t\tint marks[] = new int[10];\r\n\t\tint i;\r\n\t\tfloat total=0,avg;\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint b = 999;\r\n\t\tfor(i=0; i&lt;10; i++) {\r\n\t\t\tSystem.out.print(&quot;Enter Marks of Subject&quot;+(i+1)+&quot;:&quot;);\r\n\t\t\tmarks[i] = scanner.nextInt();\r\n\t\t\ttotal = total + marks[i];\r\n\t\t\tif(marks[i]==b)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tscanner.close();\r\n\t\t\r\n\t\tint sum = 0;\r\n\t\tfloat average = 0.0f;\r\n\t\t\r\n\t\t// Calculating the average in for loop\r\n\t\tfor (i=0; i&lt;marks.length;i++) {\r\n\t\t\tsum += marks[i];\r\n\t\t}\r\n\t\taverage = (float) sum / marks.length;\r\n\t\t\r\n\t\t// Printing the calculating averated value\r\n\t\tSystem.out.print(&quot;The average of he given array: &quot; + average);\r\n\t\t//Calculating the average\r\n\t\tavg = total/10;\r\n\t\tSystem.out.printf(&quot;%n&quot;);\r\n\t\tSystem.out.print(&quot;Average student grade out of the scores is: &quot;);\r\n\t\t\r\n\t\t// Define variables for for loop\r\n\r\n\t\tif(avg&gt;=80)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;A&quot;);\r\n\t\t}\r\n\t\telse if(avg&gt;=60 &amp;&amp; avg&lt;80)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;B&quot;);\r\n\t\t}\r\n\t\telse if(avg&gt;=40 &amp;&amp; avg&lt;60)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;C&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;D&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"An if statement inside a for statement, java program to calculate the grades then assign letter numbers. Scanner class please need assistance for loop","body":"<p>Can someone please help me with the if statement in a for loop, new to Java, when &quot;999&quot; is inserted, will break the loop. Thanks. Also, would it be good to sign a exit to the program or just exit the loop with a break statement?</p>\n<pre><code>package java_1.java;\nimport java.util.Scanner;\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        int marks[] = new int[10];\n        int i;\n        float total=0,avg;\n        Scanner scanner = new Scanner(System.in);\n        int b = 999;\n        for(i=0; i&lt;10; i++) {\n            System.out.print(&quot;Enter Marks of Subject&quot;+(i+1)+&quot;:&quot;);\n            marks[i] = scanner.nextInt();\n            total = total + marks[i];\n            if(marks[i]==b)\n            {\n                break;\n            }\n        }\n        scanner.close();\n        \n        int sum = 0;\n        float average = 0.0f;\n        \n        // Calculating the average in for loop\n        for (i=0; i&lt;marks.length;i++) {\n            sum += marks[i];\n        }\n        average = (float) sum / marks.length;\n        \n        // Printing the calculating averated value\n        System.out.print(&quot;The average of he given array: &quot; + average);\n        //Calculating the average\n        avg = total/10;\n        System.out.printf(&quot;%n&quot;);\n        System.out.print(&quot;Average student grade out of the scores is: &quot;);\n        \n        // Define variables for for loop\n\n        if(avg&gt;=80)\n        {\n            System.out.print(&quot;A&quot;);\n        }\n        else if(avg&gt;=60 &amp;&amp; avg&lt;80)\n        {\n            System.out.print(&quot;B&quot;);\n        }\n        else if(avg&gt;=40 &amp;&amp; avg&lt;60)\n        {\n            System.out.print(&quot;C&quot;);\n        }\n        else\n        {\n            System.out.print(&quot;D&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699577835,"creation_date":1699577835,"question_id":77457163,"body_markdown":"I am developing a CLI app using Spring. One of the things I would like to do is to be able to display a help/usage screen like the way you can do it with [commons-cli](https://commons.apache.org/proper/commons-cli/usage.html):\r\n\r\n```\r\n// automatically generate the help statement\r\nHelpFormatter formatter = new HelpFormatter();\r\nformatter.printHelp(&quot;ant&quot;, options);\r\n```\r\n\r\nHow to do this with Spring? Or is Spring not the right tool for developing a CLI app?\r\n\r\nWhen comparing `commons-cli` with Spring, I feel that with `commons-cli` you cannot auto-parse a config file whereas with Spring you can auto-parse config file but its support for parsing command line arguments is clunky (e.g., boolean flags can&#39;t be turned on by just typing `--flag1`); in fact I haven&#39;t been able to use command line arguments successfully at all with Spring (`-Dspring-boot.run.arguments`)","title":"How to display help screen when developing a CLI app using Spring","body":"<p>I am developing a CLI app using Spring. One of the things I would like to do is to be able to display a help/usage screen like the way you can do it with <a href=\"https://commons.apache.org/proper/commons-cli/usage.html\" rel=\"nofollow noreferrer\">commons-cli</a>:</p>\n<pre><code>// automatically generate the help statement\nHelpFormatter formatter = new HelpFormatter();\nformatter.printHelp(&quot;ant&quot;, options);\n</code></pre>\n<p>How to do this with Spring? Or is Spring not the right tool for developing a CLI app?</p>\n<p>When comparing <code>commons-cli</code> with Spring, I feel that with <code>commons-cli</code> you cannot auto-parse a config file whereas with Spring you can auto-parse config file but its support for parsing command line arguments is clunky (e.g., boolean flags can't be turned on by just typing <code>--flag1</code>); in fact I haven't been able to use command line arguments successfully at all with Spring (<code>-Dspring-boot.run.arguments</code>)</p>\n"},{"tags":["java","servlets","service","response"],"owner":{"account_id":1657432,"reputation":114,"user_id":1526570,"accept_rate":40,"display_name":"sublimelaconic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699577628,"creation_date":1699577628,"question_id":77457155,"body_markdown":"I&#39;m trying to read the response from an API. But I&#39;m getting this error:\r\n\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type [package].ResponseDTO &#39; from Array value (token `JsonToken.START_ARRAY`)_ at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\r\n\r\nHere&#39;s how the response looks like:\r\n\r\n    [\r\n        {\r\n           &quot;success&quot;: true,\r\n           &quot;errors&quot;: []\r\n        }\r\n    ]\r\n\r\nHere&#39;s how I&#39;m calling the API:\r\n\r\n    ResponseDTO response = service.executeAPI(ResponseDTO.class, request, builder);\r\n\r\n\r\nHere&#39;s a slimmed down version of my execute method:\r\n\r\n    private &lt;T&gt; T executeAPI(final Class&lt;T&gt; resType, final Supplier&lt;Response&gt; executor) {\r\n        T response = null;\r\n        // call API\r\n        response = clientResponse.readEntity(resType);\r\n    }\r\n\r\nHere&#39;s my DTO:\r\n\r\n    @XmlRootElement\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ResponseDTO {\r\n        private boolean success;\r\n        private List&lt;String&gt; errors;\r\n        //getters and setters\r\n    }","title":"javax.ws.rs.core.Response.readEntity returning MismatchedInputException","body":"<p>I'm trying to read the response from an API. But I'm getting this error:</p>\n<p>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type [package].ResponseDTO ' from Array value (token <code>JsonToken.START_ARRAY</code>)_ at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]</p>\n<p>Here's how the response looks like:</p>\n<pre><code>[\n    {\n       &quot;success&quot;: true,\n       &quot;errors&quot;: []\n    }\n]\n</code></pre>\n<p>Here's how I'm calling the API:</p>\n<pre><code>ResponseDTO response = service.executeAPI(ResponseDTO.class, request, builder);\n</code></pre>\n<p>Here's a slimmed down version of my execute method:</p>\n<pre><code>private &lt;T&gt; T executeAPI(final Class&lt;T&gt; resType, final Supplier&lt;Response&gt; executor) {\n    T response = null;\n    // call API\n    response = clientResponse.readEntity(resType);\n}\n</code></pre>\n<p>Here's my DTO:</p>\n<pre><code>@XmlRootElement\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ResponseDTO {\n    private boolean success;\n    private List&lt;String&gt; errors;\n    //getters and setters\n}\n</code></pre>\n"},{"tags":["java","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":238580,"reputation":978,"user_id":507563,"display_name":"Scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699576727,"creation_date":1699576727,"answer_id":77457107,"question_id":77441851,"body_markdown":"Answering my own question. I had forgotten about arguments that can be passed to plugins via the [init][1] method. I had switched from building an annotation processor to a plugin, but chose to stick with the `-A` style of argument passing for a couple of reasons.\r\n1. it was an easier transition for existing usage\r\n2. I prefer adding arguments to the javac command line as opposed to my plugin having separate arguments\r\n\r\nI&#39;d still like to file a request to allow plugins to acknowledge `-Akey` args, if there is some way to achieve that.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/jdk.compiler/com/sun/source/util/Plugin.html#init(com.sun.source.util.JavacTask,java.lang.String...)","title":"javac command line `-Akey[=value]` args are not covered via javac plugins, only annotation processors. How best to address this?","body":"<p>Answering my own question. I had forgotten about arguments that can be passed to plugins via the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.compiler/com/sun/source/util/Plugin.html#init(com.sun.source.util.JavacTask,java.lang.String...)\" rel=\"nofollow noreferrer\">init</a> method. I had switched from building an annotation processor to a plugin, but chose to stick with the <code>-A</code> style of argument passing for a couple of reasons.</p>\n<ol>\n<li>it was an easier transition for existing usage</li>\n<li>I prefer adding arguments to the javac command line as opposed to my plugin having separate arguments</li>\n</ol>\n<p>I'd still like to file a request to allow plugins to acknowledge <code>-Akey</code> args, if there is some way to achieve that.</p>\n"}],"owner":{"account_id":238580,"reputation":978,"user_id":507563,"display_name":"Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699576727,"creation_date":1699396287,"question_id":77441851,"body_markdown":"Although the javac docs state the `-Akey[=value]` command line argument is designed for annotation processors, it applies to javac plugins as well; there doesn&#39;t appear to be a separate command line argument exclusive to plugins.\r\n\r\nThe problem, however, is that internally javac emits a warning if a `-Akey` is not acknowledged by an annotation processor. Of course plugins can still process the arguments, but the warning confuses devs.\r\n\r\nI&#39;d like to report a bug/request to perhaps allow plugins to acknowledge `-Akey` command line options. But [openjdk.org][1] is in reality a pretty closed system, I&#39;m just a dude without &quot;project author&quot; privileges necessary to report a bug. Is there some other way to submit an issue?\r\n\r\nAdmittedly, plugins are one of javac&#39;s darker corners, but I&#39;m curious if anyone else has run into this and how they may have addressed it. I am currently suppressing the error via compiler internals, which of course isn&#39;t a desirable approach.\r\n\r\n\r\n[1]: https://openjdk.org","title":"javac command line `-Akey[=value]` args are not covered via javac plugins, only annotation processors. How best to address this?","body":"<p>Although the javac docs state the <code>-Akey[=value]</code> command line argument is designed for annotation processors, it applies to javac plugins as well; there doesn't appear to be a separate command line argument exclusive to plugins.</p>\n<p>The problem, however, is that internally javac emits a warning if a <code>-Akey</code> is not acknowledged by an annotation processor. Of course plugins can still process the arguments, but the warning confuses devs.</p>\n<p>I'd like to report a bug/request to perhaps allow plugins to acknowledge <code>-Akey</code> command line options. But <a href=\"https://openjdk.org\" rel=\"nofollow noreferrer\">openjdk.org</a> is in reality a pretty closed system, I'm just a dude without &quot;project author&quot; privileges necessary to report a bug. Is there some other way to submit an issue?</p>\n<p>Admittedly, plugins are one of javac's darker corners, but I'm curious if anyone else has run into this and how they may have addressed it. I am currently suppressing the error via compiler internals, which of course isn't a desirable approach.</p>\n"},{"tags":["java","spring-boot","jackson","hl7-fhir","hapi-fhir"],"answers":[{"tags":[],"owner":{"account_id":11191086,"reputation":26,"user_id":8211479,"display_name":"jaideep pahwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653285989,"creation_date":1653281385,"answer_id":72343371,"question_id":72203398,"body_markdown":"**SpringBoot does not natively understand the FHIR objects. Any time you will try to accept FHIR in the RequestBody Jackson will try to deserialize the FHIR object and throws the given error.**\r\n\r\nSolutions:\r\n\r\n 1. Send the FHIR object as a raw object(String) and deserialize the same using HAPI FHIR to deserialize the string.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class DemoController {\r\n\r\n        @PostMapping(&quot;/Patient/save&quot;)\r\n        public String savePatientDetails(@RequestBody String p) {\r\n            IGenericClient client = fhirContext.newRestfulGenericClient(&quot;http://localhost:8080/fhir&quot;);\r\n            \r\n            IParser parser = fhirContext.newJsonParser();\r\n            \r\n    \t      Patient firObject=parser.parseResource(Patient.class,p);\r\n        \r\n            MethodOutcome s = client.create().resource(firObject).prettyPrint()\r\n                    .encodedJson()\r\n                    .execute();\r\n                    \r\n            return s.toString();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. Creating the customer serializer &amp; deserializer using HAPI FHIR overriding the Jackson\r\n\r\n[Custom Deserilizer][1]\r\n\r\n\r\n[Custom Serilizer][2]\r\n\r\n\r\n[Registering custom Serializer and Deserializer][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JpFoI.png\r\n  [2]: https://i.stack.imgur.com/tG7kB.png\r\n  [3]: https://i.stack.imgur.com/26ybc.png","title":"Accepting FHIR Resource &#39;Patient&#39; as a RequestBody in spring boot","body":"<p><strong>SpringBoot does not natively understand the FHIR objects. Any time you will try to accept FHIR in the RequestBody Jackson will try to deserialize the FHIR object and throws the given error.</strong></p>\n<p>Solutions:</p>\n<ol>\n<li>Send the FHIR object as a raw object(String) and deserialize the same using HAPI FHIR to deserialize the string.</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@RestController\n@RequestMapping(\"/api\")\npublic class DemoController {\n\n    @PostMapping(\"/Patient/save\")\n    public String savePatientDetails(@RequestBody String p) {\n        IGenericClient client = fhirContext.newRestfulGenericClient(\"http://localhost:8080/fhir\");\n        \n        IParser parser = fhirContext.newJsonParser();\n        \n          Patient firObject=parser.parseResource(Patient.class,p);\n    \n        MethodOutcome s = client.create().resource(firObject).prettyPrint()\n                .encodedJson()\n                .execute();\n                \n        return s.toString();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li>Creating the customer serializer &amp; deserializer using HAPI FHIR overriding the Jackson</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/JpFoI.png\" rel=\"nofollow noreferrer\">Custom Deserilizer</a></p>\n<p><a href=\"https://i.stack.imgur.com/tG7kB.png\" rel=\"nofollow noreferrer\">Custom Serilizer</a></p>\n<p><a href=\"https://i.stack.imgur.com/26ybc.png\" rel=\"nofollow noreferrer\">Registering custom Serializer and Deserializer</a></p>\n"},{"tags":[],"owner":{"account_id":1168771,"reputation":153,"user_id":1146439,"display_name":"Andrew Hall"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699575216,"creation_date":1699575216,"answer_id":77457048,"question_id":72203398,"body_markdown":"A slight variation on the second solution.  You can create a custom Spring MessageConverter to serialize/deserialize FHIR.  To do that:\r\n\r\n 1. [Create a HapiHttpMessageConverter](https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiHttpMessageConverter.java) to serialize/deserialize FHIR Resources\r\n 2. [Create a HapiMessageConverterConfigurer](https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiMessageConverterConfigurer.java) to register the converter\r\n 3. [Register the HapiMessgeConverterConfigurer](https://github.com/developer-x/hapi-springboot-swagger-demo/blob/d21bed71567c5bb591a6eaa358f7f99901bba0bd/src/main/java/developerx/hapidemo/HapiDemoApplication.java#L19C7-L19C7) with the Application Context\r\n","title":"Accepting FHIR Resource &#39;Patient&#39; as a RequestBody in spring boot","body":"<p>A slight variation on the second solution.  You can create a custom Spring MessageConverter to serialize/deserialize FHIR.  To do that:</p>\n<ol>\n<li><a href=\"https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiHttpMessageConverter.java\" rel=\"nofollow noreferrer\">Create a HapiHttpMessageConverter</a> to serialize/deserialize FHIR Resources</li>\n<li><a href=\"https://github.com/developer-x/hapi-springboot-swagger-demo/blob/main/src/main/java/developerx/springframework/HapiMessageConverterConfigurer.java\" rel=\"nofollow noreferrer\">Create a HapiMessageConverterConfigurer</a> to register the converter</li>\n<li><a href=\"https://github.com/developer-x/hapi-springboot-swagger-demo/blob/d21bed71567c5bb591a6eaa358f7f99901bba0bd/src/main/java/developerx/hapidemo/HapiDemoApplication.java#L19C7-L19C7\" rel=\"nofollow noreferrer\">Register the HapiMessgeConverterConfigurer</a> with the Application Context</li>\n</ol>\n"}],"owner":{"account_id":8652046,"reputation":595,"user_id":6477389,"display_name":"Sandip Pawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72343371,"answer_count":2,"score":1,"last_activity_date":1699575216,"creation_date":1652281553,"question_id":72203398,"body_markdown":"I want to accept the JSON body of Patient FHIR resource as @RequestBody in Spring boot API. I tried to do this:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class DemoController {\r\n\r\n    @PostMapping(&quot;/Patient/save&quot;)\r\n    public String savePatientDetails(@RequestBody Patient p) {\r\n        IGenericClient client = fhirContext.newRestfulGenericClient(&quot;http://localhost:8080/fhir&quot;);\r\n        MethodOutcome s = client.create().resource(p).prettyPrint()\r\n                .encodedJson()\r\n                .execute();\r\n        return s.toString();\r\n    }\r\n}\r\n```\r\nUsing the Patient model from HAPI FHIR(https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/Patient.html)\r\n\r\nAnd called the above endpoint using postman with below request body:\r\n```\r\n{\r\n    &quot;resourceType&quot;:&quot;Patient&quot;,\r\n    &quot;name&quot;: [{\r\n        &quot;use&quot;: &quot;official&quot;,\r\n        &quot;given&quot;: [&quot;temp&quot;],\r\n        &quot;family&quot;: &quot;temp&quot;\r\n    }],\r\n    &quot;birthDate&quot;: &quot;1996-04-07&quot;\r\n}\r\n```\r\n\r\nbut its giving below Jackson deserialization error:\r\n```\r\n[nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\r\n2022-02-25 09:32:43.332  WARN 71185 --- [nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\r\n2022-02-25 09:32:43.356  WARN 71185 --- [nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json;charset=UTF-8&#39; not supported]\r\n```\r\n\r\nThanks in advance.","title":"Accepting FHIR Resource &#39;Patient&#39; as a RequestBody in spring boot","body":"<p>I want to accept the JSON body of Patient FHIR resource as @RequestBody in Spring boot API. I tried to do this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class DemoController {\n\n    @PostMapping(&quot;/Patient/save&quot;)\n    public String savePatientDetails(@RequestBody Patient p) {\n        IGenericClient client = fhirContext.newRestfulGenericClient(&quot;http://localhost:8080/fhir&quot;);\n        MethodOutcome s = client.create().resource(p).prettyPrint()\n                .encodedJson()\n                .execute();\n        return s.toString();\n    }\n}\n</code></pre>\n<p>Using the Patient model from HAPI FHIR(<a href=\"https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/Patient.html\" rel=\"nofollow noreferrer\">https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/Patient.html</a>)</p>\n<p>And called the above endpoint using postman with below request body:</p>\n<pre><code>{\n    &quot;resourceType&quot;:&quot;Patient&quot;,\n    &quot;name&quot;: [{\n        &quot;use&quot;: &quot;official&quot;,\n        &quot;given&quot;: [&quot;temp&quot;],\n        &quot;family&quot;: &quot;temp&quot;\n    }],\n    &quot;birthDate&quot;: &quot;1996-04-07&quot;\n}\n</code></pre>\n<p>but its giving below Jackson deserialization error:</p>\n<pre><code>[nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\n2022-02-25 09:32:43.332  WARN 71185 --- [nio-8081-exec-1] .c.j.MappingJackson2HttpMessageConverter : Failed to evaluate Jackson deserialization for type [[simple type, class org.hl7.fhir.r4.model.Patient]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property &quot;referenceElement&quot;: org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params) vs org.hl7.fhir.r4.model.Reference#setReferenceElement(1 params)\n2022-02-25 09:32:43.356  WARN 71185 --- [nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json;charset=UTF-8' not supported]\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":403104,"reputation":1755,"user_id":770674,"accept_rate":71,"display_name":"Gary Tsui"},"score":0,"creation_date":1307086119,"post_id":6224177,"comment_id":7250262,"body_markdown":"are you suggesting the english word &#39;one&#39; to chinese character &#39;one&#39; ?","body":"are you suggesting the english word &#39;one&#39; to chinese character &#39;one&#39; ?"},{"owner":{"account_id":26457,"reputation":33684,"user_id":68805,"display_name":"Reno"},"score":0,"creation_date":1307086174,"post_id":6224177,"comment_id":7250281,"body_markdown":"[&quot;Chinese numbers&quot;](http://en.wikipedia.org/wiki/Chinese_numerals) is not exactly clear. China is huge if you did not know.","body":"<a href=\"http://en.wikipedia.org/wiki/Chinese_numerals\" rel=\"nofollow noreferrer\">&quot;Chinese numbers&quot;</a> is not exactly clear. China is huge if you did not know."},{"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":1,"creation_date":1307086232,"post_id":6224177,"comment_id":7250293,"body_markdown":"@Gary: I think it might be converting `1010` into `一千零一十`","body":"@Gary: I think it might be converting <code>1010</code> into <code>一千零一十</code>"},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1307119977,"post_id":6224177,"comment_id":7258840,"body_markdown":"Do you mean English word numbers (one, two, three) or Arabic numerals (1, 2, 3)?","body":"Do you mean English word numbers (one, two, three) or Arabic numerals (1, 2, 3)?"},{"owner":{"account_id":169501,"reputation":1082,"user_id":395627,"accept_rate":56,"display_name":"Vikram"},"score":0,"creation_date":1307428631,"post_id":6224177,"comment_id":7304474,"body_markdown":"@Gary Joey says right i wan&#39;t to convert Arabic numerals to chines number. example 1010 into 一千零一十.","body":"@Gary Joey says right i wan&#39;t to convert Arabic numerals to chines number. example 1010 into 一千零一十."},{"owner":{"account_id":403104,"reputation":1755,"user_id":770674,"accept_rate":71,"display_name":"Gary Tsui"},"score":0,"creation_date":1307500406,"post_id":6224177,"comment_id":7321961,"body_markdown":"@Vikram  i&#39;ll still suggest what i suggested previously.  A hashtable for look-up based on the wiki link i provided earlier.","body":"@Vikram  i&#39;ll still suggest what i suggested previously.  A hashtable for look-up based on the wiki link i provided earlier."}],"answers":[{"tags":[],"owner":{"account_id":403104,"reputation":1755,"user_id":770674,"accept_rate":71,"display_name":"Gary Tsui"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1307086466,"creation_date":1307086466,"answer_id":6224270,"question_id":6224177,"body_markdown":"In that case, \r\ni suggest you build a hash table for it. \r\nIt&#39;s not that difficult to start with. \r\nwe know that chinese &#39;numerals&#39; are pretty much defined by:\r\nSee: http://en.wikipedia.org/wiki/Chinese_numerals\r\n\r\nWith that, i think you are more than capable to build a table in your programming lang preference, java.\r\n\r\n","title":"how to convert English numbers to Chinese in Java","body":"<p>In that case, \ni suggest you build a hash table for it. \nIt's not that difficult to start with. \nwe know that chinese 'numerals' are pretty much defined by:\nSee: <a href=\"http://en.wikipedia.org/wiki/Chinese_numerals\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Chinese_numerals</a></p>\n\n<p>With that, i think you are more than capable to build a table in your programming lang preference, java.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307092127,"creation_date":1307092127,"answer_id":6225104,"question_id":6224177,"body_markdown":"[ICU4J][1] has support for this:\r\n\r\n    Locale chineseNumbers = new Locale(&quot;en_US@numbers=hansfin&quot;);\r\n    com.ibm.icu.text.NumberFormat formatter =\r\n        com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\r\n    System.out.println(formatter.format(100));\r\n\r\n_Tested with version 4.8._\r\n\r\n  [1]: http://site.icu-project.org/","title":"how to convert English numbers to Chinese in Java","body":"<p><a href=\"http://site.icu-project.org/\" rel=\"nofollow\">ICU4J</a> has support for this:</p>\n\n<pre><code>Locale chineseNumbers = new Locale(\"en_US@numbers=hansfin\");\ncom.ibm.icu.text.NumberFormat formatter =\n    com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\nSystem.out.println(formatter.format(100));\n</code></pre>\n\n<p><em>Tested with version 4.8.</em></p>\n"},{"tags":[],"owner":{"account_id":5339584,"reputation":135,"user_id":4257216,"display_name":"jyw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699574649,"creation_date":1437461133,"answer_id":31532069,"question_id":6224177,"body_markdown":"Instead of rolling your own, it is advisable to use [ICU4J][1] [NumberFormat][2] as @mcdowell&#39;s answer.\r\n\r\nThe only thing different is the Numbering Systems ID `&quot;hansfin&quot;` should be replace with `&quot;hans&quot;` if you wish converting `61305` into `&quot;六万一千三百零五&quot;`.\r\n\r\n    Locale chineseNumbers = new Locale(&quot;C@numbers=hans&quot;);\r\n    com.ibm.icu.text.NumberFormat formatter =\r\n        com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\r\n    System.out.println(formatter.format(61305));\r\n\r\nHere is the results for different Numbering Systems IDes.\r\n\r\n    hans    六万一千三百零五\r\n    hant    六萬一千三百零五\r\n    hansfin 陆万壹仟叁佰零伍\r\n    hantfin 陸萬壹仟參佰零伍\r\n\r\nThe `hans` is the abbreviation of &quot;Han Simplified&quot; (i.e. Simplified Chinese), while the `hant` is &quot;Han Traditional&quot; (i.e. Traditional Chinese) and the `fin` is &quot;Finance&quot;.\r\n\r\n\r\n  [1]: http://site.icu-project.org/\r\n  [2]: http://icu-project.org/apiref/icu4j/com/ibm/icu/text/NumberFormat.html","title":"how to convert English numbers to Chinese in Java","body":"<p>Instead of rolling your own, it is advisable to use <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU4J</a> <a href=\"http://icu-project.org/apiref/icu4j/com/ibm/icu/text/NumberFormat.html\" rel=\"nofollow noreferrer\">NumberFormat</a> as @mcdowell's answer.</p>\n<p>The only thing different is the Numbering Systems ID <code>&quot;hansfin&quot;</code> should be replace with <code>&quot;hans&quot;</code> if you wish converting <code>61305</code> into <code>&quot;六万一千三百零五&quot;</code>.</p>\n<pre><code>Locale chineseNumbers = new Locale(&quot;C@numbers=hans&quot;);\ncom.ibm.icu.text.NumberFormat formatter =\n    com.ibm.icu.text.NumberFormat.getInstance(chineseNumbers);\nSystem.out.println(formatter.format(61305));\n</code></pre>\n<p>Here is the results for different Numbering Systems IDes.</p>\n<pre><code>hans    六万一千三百零五\nhant    六萬一千三百零五\nhansfin 陆万壹仟叁佰零伍\nhantfin 陸萬壹仟參佰零伍\n</code></pre>\n<p>The <code>hans</code> is the abbreviation of &quot;Han Simplified&quot; (i.e. Simplified Chinese), while the <code>hant</code> is &quot;Han Traditional&quot; (i.e. Traditional Chinese) and the <code>fin</code> is &quot;Finance&quot;.</p>\n"}],"owner":{"account_id":169501,"reputation":1082,"user_id":395627,"accept_rate":56,"display_name":"Vikram"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4396,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":6224270,"answer_count":3,"score":5,"last_activity_date":1699574649,"creation_date":1307085818,"question_id":6224177,"body_markdown":"I have to convert English number to Chinese numbers. But the Chinese number system is different than in English. Is there any way to convert english numbers at run time into chinese?","title":"how to convert English numbers to Chinese in Java","body":"<p>I have to convert English number to Chinese numbers. But the Chinese number system is different than in English. Is there any way to convert english numbers at run time into chinese?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1699567540,"post_id":77456269,"comment_id":136552120,"body_markdown":"The proper solution here is still to use `Gson.toJson`. Using `Object.toString` gives you a human-readable output without any guarantees that it can be parsed properly again. You should rather try to solve the issue that there is an extra `values` member, as mentioned in your linked other question, than trying to work around it.","body":"The proper solution here is still to use <code>Gson.toJson</code>. Using <code>Object.toString</code> gives you a human-readable output without any guarantees that it can be parsed properly again. You should rather try to solve the issue that there is an extra <code>values</code> member, as mentioned in your linked other question, than trying to work around it."}],"answers":[{"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1699647203,"post_id":77457006,"comment_id":136562683,"body_markdown":"Manually creating a JSON string like this should be avoided, especially if you are already using a JSON library anyway. For these simple values it might work, but if in the future they contain any characters which need to be escaped, then this will break; or depending on the use case could be exploited by a malicious user. OP should really use `Gson.toJson`, and as mentioned [in their other question](https://stackoverflow.com/q/77455730) find out where the extra `values` is coming from.","body":"Manually creating a JSON string like this should be avoided, especially if you are already using a JSON library anyway. For these simple values it might work, but if in the future they contain any characters which need to be escaped, then this will break; or depending on the use case could be exploited by a malicious user. OP should really use <code>Gson.toJson</code>, and as mentioned <a href=\"https://stackoverflow.com/q/77455730\">in their other question</a> find out where the extra <code>values</code> is coming from."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699653306,"post_id":77457006,"comment_id":136563409,"body_markdown":"@Marcono1234, that&#39;s a bit extraneous. I mean, they might write their code wrong too.  There&#39;s an _RFC_ for _JSON_, check it out, _https://datatracker.ietf.org/doc/html/rfc8259_.","body":"@Marcono1234, that&#39;s a bit extraneous. I mean, they might write their code wrong too.  There&#39;s an <i>RFC</i> for <i>JSON</i>, check it out, <i><a href=\"https://datatracker.ietf.org/doc/html/rfc8259\" rel=\"nofollow noreferrer\">datatracker.ietf.org/doc/html/rfc8259</a></i>."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1699721316,"post_id":77457006,"comment_id":136568238,"body_markdown":"It is not extraneous. If you have a look at the other question of OP, you will see they ask this in the context of a JWT, so this has most likely a security aspect. Run your code with `var m = Map.of(&quot;title&quot;, &quot;mytitle\\&quot;,\\&quot;sub\\&quot;:\\&quot;admin&quot;)` and you suddenly injected a `&quot;sub&quot;:&quot;admin&quot;` entry in the JSON. Yes these JSON libraries might contain bugs, but Gson is more than 10 years old and has lots of unit tests, so the chance that it got escaping on JSON serialization wrong is quite low.","body":"It is not extraneous. If you have a look at the other question of OP, you will see they ask this in the context of a JWT, so this has most likely a security aspect. Run your code with <code>var m = Map.of(&quot;title&quot;, &quot;mytitle\\&quot;,\\&quot;sub\\&quot;:\\&quot;admin&quot;)</code> and you suddenly injected a <code>&quot;sub&quot;:&quot;admin&quot;</code> entry in the JSON. Yes these JSON libraries might contain bugs, but Gson is more than 10 years old and has lots of unit tests, so the chance that it got escaping on JSON serialization wrong is quite low."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699574404,"creation_date":1699574404,"answer_id":77457006,"question_id":77456269,"body_markdown":"&gt; _&quot;... I converted a Map object to String with `toString()` method. However, it striped double quotes from each key and value ...&quot;_\r\n\r\nNote, these structures are not interchangeable to begin with.\\\r\nOnly a _[JSON object](https://en.wikipedia.org/wiki/JSON)_ would be considered a _map_, or _dictionary_.\r\n\r\nAdditionally, a _Map_ uses an _equal-sign_, rather than a _colon_, for each _entry_.\r\n\r\nIf the _JSON_ is simple, just implement your own.\r\n\r\nHere is an example.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nfor (Map.Entry&lt;String, String&gt; e : m.entrySet()) {\r\n    if (!s.isEmpty()) s.append(&quot;, &quot;);\r\n    s.append(&quot;\\&quot;%s\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(e.getKey(), e.getValue()));\r\n}\r\ns.insert(0, &#39;{&#39;).append(&#39;}&#39;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{&quot;title&quot;: &quot;mytitle&quot;, &quot;iss&quot;: &quot;https://google.com&quot;}\r\n```","title":"GSON convert String to JSON with url in the value","body":"<blockquote>\n<p><em>&quot;... I converted a Map object to String with <code>toString()</code> method. However, it striped double quotes from each key and value ...&quot;</em></p>\n</blockquote>\n<p>Note, these structures are not interchangeable to begin with.<br />\nOnly a <em><a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">JSON object</a></em> would be considered a <em>map</em>, or <em>dictionary</em>.</p>\n<p>Additionally, a <em>Map</em> uses an <em>equal-sign</em>, rather than a <em>colon</em>, for each <em>entry</em>.</p>\n<p>If the <em>JSON</em> is simple, just implement your own.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nfor (Map.Entry&lt;String, String&gt; e : m.entrySet()) {\n    if (!s.isEmpty()) s.append(&quot;, &quot;);\n    s.append(&quot;\\&quot;%s\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(e.getKey(), e.getValue()));\n}\ns.insert(0, '{').append('}');\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;title&quot;: &quot;mytitle&quot;, &quot;iss&quot;: &quot;https://google.com&quot;}\n</code></pre>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699574404,"creation_date":1699563210,"question_id":77456269,"body_markdown":"\r\nI converted a Map object to String with `toString()` method. However, it striped double quotes from each key and value\r\n\r\n    {title=mytitle, iss=https://google.com}\r\n    instead of \r\n    {&quot;title&quot;=&quot;mytitle&quot;, &quot;iss&quot;=&quot;https://google.com&quot;}\r\n\r\nThen when I tried to convert it to JSON object with `GSON`, \r\n\r\n    Map&lt;String, ? extends Object&gt; objectMap= GSON.fromJson(myMap.toString(), Map.class);\r\n\r\nit encountered. \r\n\r\n    Unterminated object at line 1 column 34 path $.\r\n\r\nwhere I can see is the forward slash that caused the issue\r\n\r\nIs there any API or function I can use to keep the double quote when convert map object to string or any method to let GSON avoid the `/` validation? I tried `setLient()` but it didn&#39;t work.\r\n\r\n**Edit**:\r\nThe reason I can&#39;t use `GSON.toJson(object)` is because this [thread][1] GSON parse the array as TreeMap due to the extra `values` under the `role` entry\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77455730/how-to-convert-nested-list-to-json-object-with-gson","title":"GSON convert String to JSON with url in the value","body":"<p>I converted a Map object to String with <code>toString()</code> method. However, it striped double quotes from each key and value</p>\n<pre><code>{title=mytitle, iss=https://google.com}\ninstead of \n{&quot;title&quot;=&quot;mytitle&quot;, &quot;iss&quot;=&quot;https://google.com&quot;}\n</code></pre>\n<p>Then when I tried to convert it to JSON object with <code>GSON</code>,</p>\n<pre><code>Map&lt;String, ? extends Object&gt; objectMap= GSON.fromJson(myMap.toString(), Map.class);\n</code></pre>\n<p>it encountered.</p>\n<pre><code>Unterminated object at line 1 column 34 path $.\n</code></pre>\n<p>where I can see is the forward slash that caused the issue</p>\n<p>Is there any API or function I can use to keep the double quote when convert map object to string or any method to let GSON avoid the <code>/</code> validation? I tried <code>setLient()</code> but it didn't work.</p>\n<p><strong>Edit</strong>:\nThe reason I can't use <code>GSON.toJson(object)</code> is because this <a href=\"https://stackoverflow.com/questions/77455730/how-to-convert-nested-list-to-json-object-with-gson\">thread</a> GSON parse the array as TreeMap due to the extra <code>values</code> under the <code>role</code> entry</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":1,"creation_date":1699741896,"post_id":77455125,"comment_id":136570231,"body_markdown":"Check if the Snowflake connection is AUTOCOMMIT ON.","body":"Check if the Snowflake connection is AUTOCOMMIT ON."},{"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"score":0,"creation_date":1699867628,"post_id":77455125,"comment_id":136580303,"body_markdown":"Hi I checked, for all of our Snowflake connections the AutoCommit is checked by default","body":"Hi I checked, for all of our Snowflake connections the AutoCommit is checked by default"}],"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699574161,"creation_date":1699549835,"question_id":77455125,"body_markdown":"I have 2 tables one DWH that contains the data that needs to be insert / updated and ODS that contains the latest unprocessed data.\r\n\r\nHere is the DDL of the two tables : \r\n\r\n- ODS\r\n\r\n    create or replace TABLE ODS.ATT_HFSQL_ETTCTCP (\r\n    \tCTCSOC VARCHAR(5),\r\n    \tCTCAGE VARCHAR(5),\r\n    \tCTCCLI VARCHAR(10),\r\n    \tCTCAFF VARCHAR(10),\r\n    \tCTCMAN VARCHAR(16777216),\r\n    \tCTCCHG VARCHAR(10),\r\n    \tCTCCDE VARCHAR(10),\r\n    \tCTCLIG VARCHAR(10),\r\n    \tCTCSLI VARCHAR(10),\r\n    \tCTCPAG VARCHAR(10),\r\n    \tCTCPER VARCHAR(10),\r\n    \tCTCCTR VARCHAR(10),\r\n    \tCTCAVE VARCHAR(10),\r\n    \tCTCQUA VARCHAR(10),\r\n    \tCTCPON VARCHAR(10),\r\n    \tCTCPOE VARCHAR(10),\r\n    \tCTCPOC VARCHAR(10),\r\n    \tCTCMOT VARCHAR(20),\r\n    \tCTCACT VARCHAR(10),\r\n    \tCTCTER VARCHAR(20),\r\n    \tCTCDEB VARCHAR(20),\r\n    \tCTCFIN VARCHAR(20),\r\n    \tCTCREL VARCHAR(20),\r\n    \tCTCXFI VARCHAR(20),\r\n    \tCTCXF2 VARCHAR(20),\r\n    \tCTCFMO VARCHAR(20),\r\n    \tCTCDAV VARCHAR(20),\r\n    \tCTCFII VARCHAR(20),\r\n    \tCTCFPV VARCHAR(20),\r\n    \tCTCHRE VARCHAR(10),\r\n    \tCTCESS VARCHAR(10),\r\n    \tCTCDUR VARCHAR(10),\r\n    \tCTCSAL VARCHAR(10),\r\n    \tCTCSNH VARCHAR(10),\r\n    \tCTCCOE VARCHAR(10),\r\n    \tCTCSTA VARCHAR(10),\r\n    \tCTCJOD VARCHAR(10),\r\n    \tCTCJOF VARCHAR(10),\r\n    \tCTCTYC VARCHAR(10),\r\n    \tCTCCAT VARCHAR(10),\r\n    \tCTCFBU VARCHAR(10),\r\n    \tCTCREF VARCHAR(100),\r\n    \tCTCMEX VARCHAR(10),\r\n    \tCTCDUE VARCHAR(10),\r\n    \tCTCCD3 VARCHAR(20),\r\n    \tDATCRE VARCHAR(20),\r\n    \tDATMOD VARCHAR(20),\r\n    \tDATE_CHARGEMENT TIMESTAMP_NTZ(9)\r\n    );\r\n\r\n- DWH\r\n\r\n    create or replace TABLE PRD_DWH_SOFINORD.ATT.ATT_CONTRAT (\r\n\tCD_SOCIETE VARCHAR(20) NOT NULL,\r\n\tCD_AGENCE VARCHAR(10) NOT NULL,\r\n\tNUM_CONTRAT_TT VARCHAR(10) NOT NULL,\r\n\tCD_CLIENT VARCHAR(10),\r\n\tCD_SITE VARCHAR(10),\r\n\tCD_CHARGE_AFFAIRE VARCHAR(10),\r\n\tNUM_MATRICULE_TT VARCHAR(10),\r\n\tCD_QUALIF VARCHAR(10),\r\n\tCD_MOTIF_DEBUT VARCHAR(10),\r\n\tCD_TERME VARCHAR(10),\r\n\tDT_DEBUT_CONTRAT DATE,\r\n\tDT_FIN_CONTRAT DATE,\r\n\tHE_DEBUT_CONTRAT TIME(9),\r\n\tDT_AVENANT DATE,\r\n\tNB_ESSAI NUMBER(38,0),\r\n\tMT_SALAIRE_REF FLOAT,\r\n\tNB_HEURE_REF FLOAT,\r\n\tNB_HEURE_HEBDO FLOAT,\r\n\tCD_TYPE_CONTRAT VARCHAR(10),\r\n\tCD_ACTIVITE VARCHAR(10),\r\n\tCD_MOTIF_FIN VARCHAR(10),\r\n\tDT_FIN_REEL DATE,\r\n\tDT_DPAE DATE,\r\n\tNUM_COMMANDE VARCHAR(100),\r\n\tNUM_COMMANDE_INTERNE VARCHAR(10),\r\n\tTX_COEFF FLOAT,\r\n\tCD_STATUT VARCHAR(10),\r\n\tDT_CREATION DATE,\r\n\tDT_MODIFICATION DATE,\r\n\tCD_SOURCE VARCHAR(10),\r\n\tDT_CHARGEMENT TIMESTAMP_NTZ(9),\r\n\tconstraint PK_ATT_CONTRAT primary key (CD_SOCIETE, CD_AGENCE, NUM_CONTRAT_TT)\r\n);\r\n\r\nI have a simple job that &#39;SELECT&#39; the data from the ODS and UPSERT it in the DWH : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd for the configuration of the tDBOutput component (it is configured for UPSERT) : \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd the schema in input of the tDBOutput : \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSo now in the DWH I have a row with the key : CD_SOCIETE = &#39;006&#39; AND CD_AGENCE = &#39;F15&#39; AND NUM_CONTRAT_TT = &#39;201518&#39; and when I check in the DWH table I have for example a DT_MODIFICATION column set at  : 2023-09-15 and in the incoming data with the row with the same key :\r\n \r\n[![enter image description here][4]][4]\r\n\r\nI have the new data for the same field : 2023-11-09\r\n\r\nAnd after the execution I have no errors, reject but the data isn&#39;t updated : \r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nAnd here is the expected data : \r\n\r\n[![enter image description here][6]][6]\r\n\r\nI have no clue why the update isn&#39;t happening.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rHdOe.png\r\n  [2]: https://i.stack.imgur.com/38QX8.png\r\n  [3]: https://i.stack.imgur.com/ScWwB.png\r\n  [4]: https://i.stack.imgur.com/X9gow.png\r\n  [5]: https://i.stack.imgur.com/9FldM.png\r\n  [6]: https://i.stack.imgur.com/OHGDY.png","title":"Talend - Snowflake : tDBOutput UPSERT / UPDATE doesn&#39;t update data","body":"<p>I have 2 tables one DWH that contains the data that needs to be insert / updated and ODS that contains the latest unprocessed data.</p>\n<p>Here is the DDL of the two tables :</p>\n<ul>\n<li><p>ODS</p>\n<p>create or replace TABLE ODS.ATT_HFSQL_ETTCTCP (\nCTCSOC VARCHAR(5),\nCTCAGE VARCHAR(5),\nCTCCLI VARCHAR(10),\nCTCAFF VARCHAR(10),\nCTCMAN VARCHAR(16777216),\nCTCCHG VARCHAR(10),\nCTCCDE VARCHAR(10),\nCTCLIG VARCHAR(10),\nCTCSLI VARCHAR(10),\nCTCPAG VARCHAR(10),\nCTCPER VARCHAR(10),\nCTCCTR VARCHAR(10),\nCTCAVE VARCHAR(10),\nCTCQUA VARCHAR(10),\nCTCPON VARCHAR(10),\nCTCPOE VARCHAR(10),\nCTCPOC VARCHAR(10),\nCTCMOT VARCHAR(20),\nCTCACT VARCHAR(10),\nCTCTER VARCHAR(20),\nCTCDEB VARCHAR(20),\nCTCFIN VARCHAR(20),\nCTCREL VARCHAR(20),\nCTCXFI VARCHAR(20),\nCTCXF2 VARCHAR(20),\nCTCFMO VARCHAR(20),\nCTCDAV VARCHAR(20),\nCTCFII VARCHAR(20),\nCTCFPV VARCHAR(20),\nCTCHRE VARCHAR(10),\nCTCESS VARCHAR(10),\nCTCDUR VARCHAR(10),\nCTCSAL VARCHAR(10),\nCTCSNH VARCHAR(10),\nCTCCOE VARCHAR(10),\nCTCSTA VARCHAR(10),\nCTCJOD VARCHAR(10),\nCTCJOF VARCHAR(10),\nCTCTYC VARCHAR(10),\nCTCCAT VARCHAR(10),\nCTCFBU VARCHAR(10),\nCTCREF VARCHAR(100),\nCTCMEX VARCHAR(10),\nCTCDUE VARCHAR(10),\nCTCCD3 VARCHAR(20),\nDATCRE VARCHAR(20),\nDATMOD VARCHAR(20),\nDATE_CHARGEMENT TIMESTAMP_NTZ(9)\n);</p>\n</li>\n<li><p>DWH</p>\n<p>create or replace TABLE PRD_DWH_SOFINORD.ATT.ATT_CONTRAT (\nCD_SOCIETE VARCHAR(20) NOT NULL,\nCD_AGENCE VARCHAR(10) NOT NULL,\nNUM_CONTRAT_TT VARCHAR(10) NOT NULL,\nCD_CLIENT VARCHAR(10),\nCD_SITE VARCHAR(10),\nCD_CHARGE_AFFAIRE VARCHAR(10),\nNUM_MATRICULE_TT VARCHAR(10),\nCD_QUALIF VARCHAR(10),\nCD_MOTIF_DEBUT VARCHAR(10),\nCD_TERME VARCHAR(10),\nDT_DEBUT_CONTRAT DATE,\nDT_FIN_CONTRAT DATE,\nHE_DEBUT_CONTRAT TIME(9),\nDT_AVENANT DATE,\nNB_ESSAI NUMBER(38,0),\nMT_SALAIRE_REF FLOAT,\nNB_HEURE_REF FLOAT,\nNB_HEURE_HEBDO FLOAT,\nCD_TYPE_CONTRAT VARCHAR(10),\nCD_ACTIVITE VARCHAR(10),\nCD_MOTIF_FIN VARCHAR(10),\nDT_FIN_REEL DATE,\nDT_DPAE DATE,\nNUM_COMMANDE VARCHAR(100),\nNUM_COMMANDE_INTERNE VARCHAR(10),\nTX_COEFF FLOAT,\nCD_STATUT VARCHAR(10),\nDT_CREATION DATE,\nDT_MODIFICATION DATE,\nCD_SOURCE VARCHAR(10),\nDT_CHARGEMENT TIMESTAMP_NTZ(9),\nconstraint PK_ATT_CONTRAT primary key (CD_SOCIETE, CD_AGENCE, NUM_CONTRAT_TT)\n);</p>\n</li>\n</ul>\n<p>I have a simple job that 'SELECT' the data from the ODS and UPSERT it in the DWH :</p>\n<p><a href=\"https://i.stack.imgur.com/rHdOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHdOe.png\" alt=\"enter image description here\" /></a></p>\n<p>And for the configuration of the tDBOutput component (it is configured for UPSERT) :</p>\n<p><a href=\"https://i.stack.imgur.com/38QX8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/38QX8.png\" alt=\"enter image description here\" /></a></p>\n<p>And the schema in input of the tDBOutput :</p>\n<p><a href=\"https://i.stack.imgur.com/ScWwB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ScWwB.png\" alt=\"enter image description here\" /></a></p>\n<p>So now in the DWH I have a row with the key : CD_SOCIETE = '006' AND CD_AGENCE = 'F15' AND NUM_CONTRAT_TT = '201518' and when I check in the DWH table I have for example a DT_MODIFICATION column set at  : 2023-09-15 and in the incoming data with the row with the same key :</p>\n<p><a href=\"https://i.stack.imgur.com/X9gow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9gow.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the new data for the same field : 2023-11-09</p>\n<p>And after the execution I have no errors, reject but the data isn't updated :</p>\n<p><a href=\"https://i.stack.imgur.com/9FldM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9FldM.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is the expected data :</p>\n<p><a href=\"https://i.stack.imgur.com/OHGDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHGDY.png\" alt=\"enter image description here\" /></a></p>\n<p>I have no clue why the update isn't happening.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1699573828,"post_id":77456963,"comment_id":136552754,"body_markdown":"`System.out.println(ZonedDateTime.parse(&quot;2023-11-06T10:28:45.774+00:00&quot;, DateTimeFormatter.ISO_DATE_TIME).format(DateTimeFormatter.ISO_INSTANT));` -&gt; `2023-11-06T10:28:45.774Z`","body":"<code>System.out.println(ZonedDateTime.parse(&quot;2023-11-06T10:28:45.&zwnj;&#8203;774+00:00&quot;, DateTimeFormatter.ISO_DATE_TIME).format(DateTimeFormatter.IS&zwnj;&#8203;O_INSTANT));</code> -&gt; <code>2023-11-06T10:28:45.774Z</code>"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1699574070,"post_id":77456963,"comment_id":136552769,"body_markdown":"@MadProgrammer that looks like it one or two sentences to explain why. And then probably &quot;be an answer&quot; because that&#39;s just straight up an answer at that point =D","body":"@MadProgrammer that looks like it one or two sentences to explain why. And then probably &quot;be an answer&quot; because that&#39;s just straight up an answer at that point =D"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699574147,"post_id":77456963,"comment_id":136552777,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I think there might be a better way to achieve it, as I&#39;d be concerned about possible localisation issues, but that was just my &quot;quick hack&quot; attempt ;)","body":"@Mike&#39;Pomax&#39;Kamermans I think there might be a better way to achieve it, as I&#39;d be concerned about possible localisation issues, but that was just my &quot;quick hack&quot; attempt ;)"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1699574152,"post_id":77456963,"comment_id":136552778,"body_markdown":"`s = s.replace(&quot;+00:00&quot;, &quot;Z&quot;)` :)","body":"<code>s = s.replace(&quot;+00:00&quot;, &quot;Z&quot;)</code> :)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1699574260,"post_id":77456963,"comment_id":136552792,"body_markdown":"I think this is a dup of many other questions; e.g. https://stackoverflow.com/questions/70384955,  The general answer (since Java 8) is use `java.time` classes, design or find the datetime patterns, and convert as per the first comment above.","body":"I think this is a dup of many other questions; e.g. <a href=\"https://stackoverflow.com/questions/70384955\">stackoverflow.com/questions/70384955</a>,  The general answer (since Java 8) is use <code>java.time</code> classes, design or find the datetime patterns, and convert as per the first comment above."},{"owner":{"account_id":25967898,"reputation":132,"user_id":19683595,"display_name":"pan-leszeczek"},"score":0,"creation_date":1699575233,"post_id":77456963,"comment_id":136552894,"body_markdown":"I&#39;d go with:\nString input = &quot;2023-11-05T11:11:11.771+05:00&quot;;\nZonedDateTime dateTimeValue = ZonedDateTime.parse(input, DateTimeFormatter.ISO_ZONED_DATE_TIME);\n       String expectedResult = dateTimeValue.format(DateTimeFormatter.ISO_INSTANT));\n\nthe answer linked above @StephenC is not perfect in my opinion because once you are creating your own patterns it&#39;s easy to loose accuracy due to Zone shift","body":"I&#39;d go with: String input = &quot;2023-11-05T11:11:11.771+05:00&quot;; ZonedDateTime dateTimeValue = ZonedDateTime.parse(input, DateTimeFormatter.ISO_ZONED_DATE_TIME);        String expectedResult = dateTimeValue.format(DateTimeFormatter.ISO_INSTANT));  the answer linked above @StephenC is not perfect in my opinion because once you are creating your own patterns it&#39;s easy to loose accuracy due to Zone shift"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699575895,"post_id":77456963,"comment_id":136552965,"body_markdown":"Huh?  I am talking about these patterns - `https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html`.  In this case you would use `X` to parse and `x` to format.  That is locale and local time zone independent.   (Now obviously, someone *could* create a pattern that is locale or timezone sensitive.  But we assume that programmers know not to do that.)","body":"Huh?  I am talking about these patterns - <code>https:&#47;&#47;docs.oracle.com&#47;javase&#47;8&#47;docs&#47;api&#47;java&#47;time&#47;format&#47;D&zwnj;&#8203;ateTimeFormatter.htm&zwnj;&#8203;l</code>.  In this case you would use <code>X</code> to parse and <code>x</code> to format.  That is locale and local time zone independent.   (Now obviously, someone <i>could</i> create a pattern that is locale or timezone sensitive.  But we assume that programmers know not to do that.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699576311,"post_id":77456963,"comment_id":136553004,"body_markdown":"Also note that I said that this the **general** solution and I said &quot;design **or find** the datetime patterns&quot;.  One of the ways to find existing patterns is to look in the javadocs for the classes where they would be defined.  Like `DateTimeFormatter` itself ... obviously.   (We shouldn&#39;t be training people to be google-and-cut-and-paste programmers.)","body":"Also note that I said that this the <b>general</b> solution and I said &quot;design <b>or find</b> the datetime patterns&quot;.  One of the ways to find existing patterns is to look in the javadocs for the classes where they would be defined.  Like <code>DateTimeFormatter</code> itself ... obviously.   (We shouldn&#39;t be training people to be google-and-cut-and-paste programmers.)"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699574746,"answer_count":0,"score":0,"last_activity_date":1699573360,"creation_date":1699573360,"question_id":77456963,"body_markdown":"- What I would like to achieve:\r\n\r\nThe input is some timestamp, in what I believe in the format logs would create. Something like ```2023-11-05T11:11:11.771+00:00```\r\n\r\nI want to convert this to this specific format: ```2023-11-05T11:11:11.771Z``` with Java\r\n\r\n- What did I try:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;2023-11-06T10:28:45.774+00:00&quot;;\r\n        long d = DateFormat.parse(s);\r\n        System.out.println(d);\r\n    }\r\n\r\n}\r\n```\r\n\r\n- Question:\r\n\r\nUnfortunately, this is not yielding the correct result.\r\nHow can I achieve this using Java 21, without having to bring external libraries if possible?","title":"Convert log timestamp into specific format from 2023-11-05T11:11:11.771+00:00 to 2023-11-05T11:11:11.771Z","body":"<ul>\n<li>What I would like to achieve:</li>\n</ul>\n<p>The input is some timestamp, in what I believe in the format logs would create. Something like <code>2023-11-05T11:11:11.771+00:00</code></p>\n<p>I want to convert this to this specific format: <code>2023-11-05T11:11:11.771Z</code> with Java</p>\n<ul>\n<li>What did I try:</li>\n</ul>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        String s = &quot;2023-11-06T10:28:45.774+00:00&quot;;\n        long d = DateFormat.parse(s);\n        System.out.println(d);\n    }\n\n}\n</code></pre>\n<ul>\n<li>Question:</li>\n</ul>\n<p>Unfortunately, this is not yielding the correct result.\nHow can I achieve this using Java 21, without having to bring external libraries if possible?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"score":0,"creation_date":1699572982,"post_id":77456935,"comment_id":136552675,"body_markdown":"Thank you very much for your detailed answer.","body":"Thank you very much for your detailed answer."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1699572814,"creation_date":1699572814,"answer_id":77456935,"question_id":77456905,"body_markdown":"&gt; I prefer write using this way\r\n\r\nAnd you should. Modern garbage collectors are heavily optimized for the use case of creating a bunch of short-lived objects. That&#39;s because the JVM&#39;s garbage collector (and, indeed, most garbage collectors these days) is *generational*. A generational garbage collector runs on the assumption that most objects being created in the system are either (a) extremely short lived, or (b) extremely long lived.\r\n\r\nThere&#39;s at least two separate generations in the garbage collector. For simplicity, I&#39;ll assume there&#39;s only two ([This](https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html) seems to indicate that there&#39;s several, but that page is also fairly old)\r\n\r\n* All new objects are created in the &quot;young&quot; generation. The young generation is a smaller pool of memory and is cheap to construct and free. Most objects live very short lives in this generation. The &quot;young&quot; generation is relatively small and can be garbage-collected cheaply.\r\n* If an object survives enough &quot;young&quot; garbage-collections, it moves to the &quot;old&quot; generation. The &quot;old&quot; generation consists of longer-lived objects which are less likely to be freed. If a &quot;young&quot; garbage collection doesn&#39;t free enough memory, we&#39;ll go free the &quot;old&quot; generation next, which is a slower operation.\r\n\r\nSo to directly answer your question: Create short-lived objects to your heart&#39;s content, and trust that a high-level language like Java is smart enough to do smart things with your code. If you later discover (through profiling and benchmarking tools) that a particular hot code path is a bottleneck, then (and only then) you can talk about switching to lower-level constructs and eliminating allocations. But doing so now would be a premature optimization.\r\n\r\nRelated questions:\r\n\r\n* https://softwareengineering.stackexchange.com/questions/149563/should-we-avoid-object-creation-in-java\r\n* https://stackoverflow.com/questions/2129044/java-heap-terminology-young-old-and-permanent-generations","title":"Regarding creating new objects in a short time","body":"<blockquote>\n<p>I prefer write using this way</p>\n</blockquote>\n<p>And you should. Modern garbage collectors are heavily optimized for the use case of creating a bunch of short-lived objects. That's because the JVM's garbage collector (and, indeed, most garbage collectors these days) is <em>generational</em>. A generational garbage collector runs on the assumption that most objects being created in the system are either (a) extremely short lived, or (b) extremely long lived.</p>\n<p>There's at least two separate generations in the garbage collector. For simplicity, I'll assume there's only two (<a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">This</a> seems to indicate that there's several, but that page is also fairly old)</p>\n<ul>\n<li>All new objects are created in the &quot;young&quot; generation. The young generation is a smaller pool of memory and is cheap to construct and free. Most objects live very short lives in this generation. The &quot;young&quot; generation is relatively small and can be garbage-collected cheaply.</li>\n<li>If an object survives enough &quot;young&quot; garbage-collections, it moves to the &quot;old&quot; generation. The &quot;old&quot; generation consists of longer-lived objects which are less likely to be freed. If a &quot;young&quot; garbage collection doesn't free enough memory, we'll go free the &quot;old&quot; generation next, which is a slower operation.</li>\n</ul>\n<p>So to directly answer your question: Create short-lived objects to your heart's content, and trust that a high-level language like Java is smart enough to do smart things with your code. If you later discover (through profiling and benchmarking tools) that a particular hot code path is a bottleneck, then (and only then) you can talk about switching to lower-level constructs and eliminating allocations. But doing so now would be a premature optimization.</p>\n<p>Related questions:</p>\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/149563/should-we-avoid-object-creation-in-java\">https://softwareengineering.stackexchange.com/questions/149563/should-we-avoid-object-creation-in-java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2129044/java-heap-terminology-young-old-and-permanent-generations\">Java heap terminology: young, old and permanent generations?</a></li>\n</ul>\n"}],"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77456935,"answer_count":1,"score":1,"last_activity_date":1699572814,"creation_date":1699572199,"question_id":77456905,"body_markdown":"I&#39;m using `JDK-21` and i&#39;m trying to create an A.I. system for a MMORPG game. I prefer writting code using stream/Optional that is available within java library rather than if/for. \r\n\r\nMy code execute every 400ms for a big number of A.I. players. This mean 400-500 players can execute around 20 Optionals per 400 ms. This mean java create 4.000 Optionals objects per 400 ms. Is this bad? Will this cause issues later on? Garbage collector can handle this task? I&#39;m overthinking sometimes that making such complex codes using Optionals and generate more and more can lead into RAM issues later on. \r\n\r\n\r\n\r\nI prefer write using this way\r\n\r\n","title":"Regarding creating new objects in a short time","body":"<p>I'm using <code>JDK-21</code> and i'm trying to create an A.I. system for a MMORPG game. I prefer writting code using stream/Optional that is available within java library rather than if/for.</p>\n<p>My code execute every 400ms for a big number of A.I. players. This mean 400-500 players can execute around 20 Optionals per 400 ms. This mean java create 4.000 Optionals objects per 400 ms. Is this bad? Will this cause issues later on? Garbage collector can handle this task? I'm overthinking sometimes that making such complex codes using Optionals and generate more and more can lead into RAM issues later on.</p>\n<p>I prefer write using this way</p>\n"},{"tags":["java","maven","osgi","classpath"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1699608407,"post_id":77454619,"comment_id":136556140,"body_markdown":"Is it a full path? Or relative path? Adding the path details to the question will help","body":"Is it a full path? Or relative path? Adding the path details to the question will help"}],"answers":[{"tags":[],"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699572484,"creation_date":1699572484,"answer_id":77456923,"question_id":77454619,"body_markdown":"You should try to resolve the resource in the Parent jar before passing it to the Child jar, an example would be with [URL][1]:\r\n\r\n    import java.net.URL;\r\n    \r\n    URL urlToFile = this.getClass().getResource(&quot;path/to/file&quot;);\r\n    ChildJar childJar.methodThatRequiresParentResource(urlToFile);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html","title":"How can Child jar access a resource present on parent Jar&#39;s classpath?","body":"<p>You should try to resolve the resource in the Parent jar before passing it to the Child jar, an example would be with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">URL</a>:</p>\n<pre><code>import java.net.URL;\n\nURL urlToFile = this.getClass().getResource(&quot;path/to/file&quot;);\nChildJar childJar.methodThatRequiresParentResource(urlToFile);\n</code></pre>\n"}],"owner":{"account_id":29865483,"reputation":1,"user_id":22888217,"display_name":"Gam Sham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699572484,"creation_date":1699545452,"question_id":77454619,"body_markdown":"I have parent jar. This parent jar has a resource on its classpath. This parent jar has some 3rd party dependency jar embedded in it (child jar). The child jar has some java code which tries to access a file using a path \r\n```\r\nnew File(pathToParentResourceFile)\r\n```\r\n\r\nThis gives a file not found exception. The file is accessible in Parent jar. If I pass this file path to child jar then it seems inaccessible.\r\n\r\nNOTE - i cannot edit code of child JAR as it is 3rd party library.\r\n\r\nMy jar is an osgi bundle. I can access the resource in Parent Jar in multiple ways. once I get the resource, I get the path also. But when this path is used by child jar then file is not found.","title":"How can Child jar access a resource present on parent Jar&#39;s classpath?","body":"<p>I have parent jar. This parent jar has a resource on its classpath. This parent jar has some 3rd party dependency jar embedded in it (child jar). The child jar has some java code which tries to access a file using a path</p>\n<pre><code>new File(pathToParentResourceFile)\n</code></pre>\n<p>This gives a file not found exception. The file is accessible in Parent jar. If I pass this file path to child jar then it seems inaccessible.</p>\n<p>NOTE - i cannot edit code of child JAR as it is 3rd party library.</p>\n<p>My jar is an osgi bundle. I can access the resource in Parent Jar in multiple ways. once I get the resource, I get the path also. But when this path is used by child jar then file is not found.</p>\n"},{"tags":["java","aws-lambda","ipv6","alexa-skills-kit"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":1,"creation_date":1484649079,"post_id":41694477,"comment_id":70585382,"body_markdown":"You cannot access IPv6 addresses from an IPv4 only place (unless you use certain tunneling software like Teredo)","body":"You cannot access IPv6 addresses from an IPv4 only place (unless you use certain tunneling software like Teredo)"}],"answers":[{"comments":[{"owner":{"account_id":2606259,"reputation":2527,"user_id":2257374,"accept_rate":64,"display_name":"marc3l"},"score":0,"creation_date":1484995329,"post_id":41707241,"comment_id":70747328,"body_markdown":"Just for info: I got a VirtualServer which can handle both, I use this server as a REST Proxy to let this IPv6 compatible server handle the requests and proxy them through ;)","body":"Just for info: I got a VirtualServer which can handle both, I use this server as a REST Proxy to let this IPv6 compatible server handle the requests and proxy them through ;)"}],"tags":[],"owner":{"account_id":1068389,"reputation":9810,"user_id":1068283,"accept_rate":100,"display_name":"Michael Hampton"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484688182,"creation_date":1484688182,"answer_id":41707241,"question_id":41694477,"body_markdown":"The error `Protocol family unavailable` means that the protocol (in this case IPv6) is not available or not configured on the system on which your code is running.\r\n\r\nIn the case of AWS, the only thing you can do about this is to complain and hope they eventually roll out IPv6 support to services which don&#39;t yet have it.","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>The error <code>Protocol family unavailable</code> means that the protocol (in this case IPv6) is not available or not configured on the system on which your code is running.</p>\n\n<p>In the case of AWS, the only thing you can do about this is to complain and hope they eventually roll out IPv6 support to services which don't yet have it.</p>\n"},{"tags":[],"owner":{"account_id":12449657,"reputation":11,"user_id":9064703,"display_name":"Damian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525143629,"creation_date":1525141220,"answer_id":50110613,"question_id":41694477,"body_markdown":"After quite an extensive research and tests the word is: IPv6 is not available for Lambda. This goes a bit further if you run your Lambda functions inside a VPC.\r\n\r\nIf your function is associated with a subnet that includes IPv6 CIDR then no amount of correct config will get your Lambda to access external resources.\r\n\r\nYou will be able to do API calls to some of the AWS resources available as VPC endpoints. This includes services like S3 and Dynamo, they will get an internal IP within your VPC. Services like SQS are not supported under VPC endpoint so will get external resolution.\r\n\r\nAny service or external API call that goes outside your VPC will fail with IPv6 CIDR. The only way to go around this is to remove IPv6 CIDR from the subnet or create a dedicated subnets just for your Lambda functions.\r\n\r\nWe have opted for the latter option and all is working great with appropriate VPC security and routing policies applied.","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>After quite an extensive research and tests the word is: IPv6 is not available for Lambda. This goes a bit further if you run your Lambda functions inside a VPC.</p>\n\n<p>If your function is associated with a subnet that includes IPv6 CIDR then no amount of correct config will get your Lambda to access external resources.</p>\n\n<p>You will be able to do API calls to some of the AWS resources available as VPC endpoints. This includes services like S3 and Dynamo, they will get an internal IP within your VPC. Services like SQS are not supported under VPC endpoint so will get external resolution.</p>\n\n<p>Any service or external API call that goes outside your VPC will fail with IPv6 CIDR. The only way to go around this is to remove IPv6 CIDR from the subnet or create a dedicated subnets just for your Lambda functions.</p>\n\n<p>We have opted for the latter option and all is working great with appropriate VPC security and routing policies applied.</p>\n"},{"tags":[],"owner":{"account_id":1695687,"reputation":51,"user_id":1557105,"display_name":"unaiur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699571961,"creation_date":1699571961,"answer_id":77456887,"question_id":41694477,"body_markdown":"Finally, AWS have added IPv6 support to AWS Lambda service but you need to configure a custom VPC. More details at https://aws.amazon.com/about-aws/whats-new/2023/10/aws-lambda-ipv6-outbound-connections-vpc/","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>Finally, AWS have added IPv6 support to AWS Lambda service but you need to configure a custom VPC. More details at <a href=\"https://aws.amazon.com/about-aws/whats-new/2023/10/aws-lambda-ipv6-outbound-connections-vpc/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/about-aws/whats-new/2023/10/aws-lambda-ipv6-outbound-connections-vpc/</a></p>\n"}],"owner":{"account_id":2606259,"reputation":2527,"user_id":2257374,"accept_rate":64,"display_name":"marc3l"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3805,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77456887,"answer_count":3,"score":2,"last_activity_date":1699571961,"creation_date":1484648339,"question_id":41694477,"body_markdown":"I&#39;ve got an Alexa Skill hosted in AWS Lambda which uses `AsyncHttpClient` to call an `IPv6` REST service under the following EXAMPLE URL:\r\n\r\n    http://[2a12:5375:4151:2300:1353:a632:5f4e:c232]:4711/rest/test\r\n\r\nNow my problem is, that I always get the following exception:\r\n\r\n    ava.util.concurrent.ExecutionException: java.net.ConnectException: Protocol family unavailable\r\n\r\nIf I check the IP address which is assigned to the underlying server or the application?, I get the following address (also example):\r\n\r\n    ip-10-23-56-1.eu-west-1.compute.internal: 10.23.56.1\r\n\r\nSo I think, because I am using an IPv6 while the system uses IPv4, I can&#39;t get it working? \r\nI can call my REST service from another server successfully.\r\n\r\nI am also using the following system properties:\r\n\r\n    System.setProperty(&quot;java.net.preferIPv6Addresses&quot;, &quot;true&quot;);\r\n    System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;false&quot;);\r\n\r\nIs there any solution to provide a &#39;tunnel&#39; over the IPv4 underlying system to tunnel the IPv6 address to call the REST service? Or is there any simpler solution?","title":"How to call a IPv6 REST service over AWS Lambda","body":"<p>I've got an Alexa Skill hosted in AWS Lambda which uses <code>AsyncHttpClient</code> to call an <code>IPv6</code> REST service under the following EXAMPLE URL:</p>\n\n<pre><code>http://[2a12:5375:4151:2300:1353:a632:5f4e:c232]:4711/rest/test\n</code></pre>\n\n<p>Now my problem is, that I always get the following exception:</p>\n\n<pre><code>ava.util.concurrent.ExecutionException: java.net.ConnectException: Protocol family unavailable\n</code></pre>\n\n<p>If I check the IP address which is assigned to the underlying server or the application?, I get the following address (also example):</p>\n\n<pre><code>ip-10-23-56-1.eu-west-1.compute.internal: 10.23.56.1\n</code></pre>\n\n<p>So I think, because I am using an IPv6 while the system uses IPv4, I can't get it working? \nI can call my REST service from another server successfully.</p>\n\n<p>I am also using the following system properties:</p>\n\n<pre><code>System.setProperty(\"java.net.preferIPv6Addresses\", \"true\");\nSystem.setProperty(\"java.net.preferIPv4Stack\", \"false\");\n</code></pre>\n\n<p>Is there any solution to provide a 'tunnel' over the IPv4 underlying system to tunnel the IPv6 address to call the REST service? Or is there any simpler solution?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9846,"page":71,"page_size":100}
