{"items":[{"tags":["java","regex"],"comments":[{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":2,"creation_date":1347567026,"post_id":12413974,"comment_id":16685516,"body_markdown":"There are no capturing groups in your pattern, so `.groupCount()` returns zero. Note that this does **not** return how many matches were found.","body":"There are no capturing groups in your pattern, so <code>.groupCount()</code> returns zero. Note that this does <b>not</b> return how many matches were found."},{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567178,"post_id":12413974,"comment_id":16685571,"body_markdown":"how could i then find the number of &quot;mas&quot; (or any other) words in a string without looping?","body":"how could i then find the number of &quot;mas&quot; (or any other) words in a string without looping?"},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":0,"creation_date":1347567523,"post_id":12413974,"comment_id":16685720,"body_markdown":"I&#39;m not aware of anything in Standard Java that will let you do that. What&#39;s wrong with looping? `int count = 0; for (; m.find(); count++);` should give you what you want.","body":"I&#39;m not aware of anything in Standard Java that will let you do that. What&#39;s wrong with looping? <code>int count = 0; for (; m.find(); count++);</code> should give you what you want."},{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567748,"post_id":12413974,"comment_id":16685817,"body_markdown":"nothing really, i just thought there was a single method (still learning java) which is always cleaner to read","body":"nothing really, i just thought there was a single method (still learning java) which is always cleaner to read"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1519131114,"post_id":12413974,"comment_id":84775983,"body_markdown":"As of Java 8, you might find it useful to use `Pattern.splitAsStream().count()`.","body":"As of Java 8, you might find it useful to use <code>Pattern.splitAsStream().count()</code>."}],"answers":[{"comments":[{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567449,"post_id":12414038,"comment_id":16685688,"body_markdown":"Thanks Keppil, this worked great and I was aware of this solution, I just thought that there was a single method to do this (no looping). have to wait a couple of mins before marking as right (stackoverflow thing)","body":"Thanks Keppil, this worked great and I was aware of this solution, I just thought that there was a single method to do this (no looping). have to wait a couple of mins before marking as right (stackoverflow thing)"},{"owner":{"account_id":3355555,"reputation":2794,"user_id":2818583,"display_name":"AnV"},"score":1,"creation_date":1483505729,"post_id":12414038,"comment_id":70119013,"body_markdown":"@dhomes This answer: http://stackoverflow.com/a/23244470/2818583 provides more clarity","body":"@dhomes This answer: <a href=\"http://stackoverflow.com/a/23244470/2818583\">stackoverflow.com/a/23244470/2818583</a> provides more clarity"}],"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1347567335,"creation_date":1347566990,"answer_id":12414038,"question_id":12413974,"body_markdown":"From the javadoc of [Matcher.groupCount()][1]:  \r\n\r\n&gt; _Returns the number of capturing groups in this matcher&#39;s pattern.  \r\nGroup zero denotes the entire pattern by convention. It is not\r\n&gt; included in this count._\r\n\r\nIf you check the return value from `m.find()` it returns `true`, and `m.group()` returns `mas`, so the matcher does find a match.  \r\n\r\nIf what you are trying to do is to count the number of occurances of `s` in `mybooks.get(i).getBody()`, you can do it like this:  \r\n\r\n    String s=&quot;mas&quot;; // this is for testing, comes from a List&lt;String&gt;\r\n    int hit=0;\r\n    Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\r\n    Matcher m = p.matcher(mybooks.get(i).getBody());\r\n    while (m.find()) {\r\n        hit++;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#groupCount%28%29","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>From the javadoc of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#groupCount%28%29\" rel=\"noreferrer\">Matcher.groupCount()</a>:  </p>\n\n<blockquote>\n  <p><em>Returns the number of capturing groups in this matcher's pattern.<br>\n  Group zero denotes the entire pattern by convention. It is not\n  included in this count.</em></p>\n</blockquote>\n\n<p>If you check the return value from <code>m.find()</code> it returns <code>true</code>, and <code>m.group()</code> returns <code>mas</code>, so the matcher does find a match.  </p>\n\n<p>If what you are trying to do is to count the number of occurances of <code>s</code> in <code>mybooks.get(i).getBody()</code>, you can do it like this:  </p>\n\n<pre><code>String s=\"mas\"; // this is for testing, comes from a List&lt;String&gt;\nint hit=0;\nPattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(mybooks.get(i).getBody());\nwhile (m.find()) {\n    hit++;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567622,"post_id":12414152,"comment_id":16685764,"body_markdown":"will do! got to give credit to Keppil though as his cleared up some core java concepts for me","body":"will do! got to give credit to Keppil though as his cleared up some core java concepts for me"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534830414,"creation_date":1347567540,"answer_id":12414152,"question_id":12413974,"body_markdown":"&gt; How could I then find the number of &quot;mas&quot; (or any other) words in a string without looping?\r\n\r\nYou could use [StringUtils][1] in Apache Commons:\r\n\r\n    int countMatches = StringUtils.countMatches(&quot;quiero mas dinero...&quot;, &quot;mas&quot;);\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\r\n","title":"Java RegEx Matcher.groupCount returns 0","body":"<blockquote>\n  <p>How could I then find the number of \"mas\" (or any other) words in a string without looping?</p>\n</blockquote>\n\n<p>You could use <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> in Apache Commons:</p>\n\n<pre><code>int countMatches = StringUtils.countMatches(\"quiero mas dinero...\", \"mas\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1323740,"reputation":83,"user_id":1269018,"display_name":"jinglezju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405592932,"creation_date":1405592932,"answer_id":24801101,"question_id":12413974,"body_markdown":"You can add parenthesis in the regExp, then it is &quot;(mas)&quot; in your example.","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>You can add parenthesis in the regExp, then it is \"(mas)\" in your example.</p>\n"},{"tags":[],"owner":{"account_id":11721189,"reputation":1,"user_id":8580106,"display_name":"R. Sham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566841380,"creation_date":1507104630,"answer_id":46559996,"question_id":12413974,"body_markdown":"&gt;You can add parenthesis in the regExp, then it is &quot;(mas)&quot; in your example.\r\n&gt;\r\n\r\nThat way is not suitable for this task. It shows number of capturing groups contain result of Matcher m.\r\nIn this case even if pattern is &quot;(mas)&quot; for input text like &quot;mas mas&quot; m.groupcount() show 1 - one and only groop for both matches.\r\n\r\nSo first response is correct and the only possible for the purpose of matches counting.","title":"Java RegEx Matcher.groupCount returns 0","body":"<blockquote>\n  <p>You can add parenthesis in the regExp, then it is \"(mas)\" in your example.</p>\n</blockquote>\n\n<p>That way is not suitable for this task. It shows number of capturing groups contain result of Matcher m.\nIn this case even if pattern is \"(mas)\" for input text like \"mas mas\" m.groupcount() show 1 - one and only groop for both matches.</p>\n\n<p>So first response is correct and the only possible for the purpose of matches counting.</p>\n"}],"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19253,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":12414038,"answer_count":4,"score":11,"last_activity_date":1692800071,"creation_date":1347566731,"question_id":12413974,"body_markdown":"I know this has been asked but I am unable to fix it\r\n\r\nFor a book object with body (spanish): `&quot;quiero mas dinero&quot;` (actually quite a bit longer)\r\n\r\nMy `Matcher` keeps returning 0 for:\r\n\r\n        String s=&quot;mas&quot;; // this is for testing, comes from a List&lt;String&gt;\r\n        int hit=0;\r\n        Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\r\n        Matcher m = p.matcher(mybooks.get(i).getBody());\r\n        m.find();\r\n        System.out.println(s+&quot;  &quot;+m.groupCount()+&quot;  &quot; +mybooks.get(i).getBody());\r\n        hit+=m.groupCount();\r\n\r\nI keep getting `&quot;mas 0 quiero mas dinero&quot;` on console. Why oh why?\r\n\r\n","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>I know this has been asked but I am unable to fix it</p>\n\n<p>For a book object with body (spanish): <code>\"quiero mas dinero\"</code> (actually quite a bit longer)</p>\n\n<p>My <code>Matcher</code> keeps returning 0 for:</p>\n\n<pre><code>    String s=\"mas\"; // this is for testing, comes from a List&lt;String&gt;\n    int hit=0;\n    Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\n    Matcher m = p.matcher(mybooks.get(i).getBody());\n    m.find();\n    System.out.println(s+\"  \"+m.groupCount()+\"  \" +mybooks.get(i).getBody());\n    hit+=m.groupCount();\n</code></pre>\n\n<p>I keep getting <code>\"mas 0 quiero mas dinero\"</code> on console. Why oh why?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":2,"creation_date":1343308957,"post_id":11670224,"comment_id":15468172,"body_markdown":"what&#39;s the question?  What you have seems like an excellent start, although I would write unit tests, each one with a line from a GC log","body":"what&#39;s the question?  What you have seems like an excellent start, although I would write unit tests, each one with a line from a GC log"},{"owner":{"account_id":302308,"reputation":269,"user_id":610618,"accept_rate":67,"display_name":"ddd"},"score":0,"creation_date":1343309493,"post_id":11670224,"comment_id":15468465,"body_markdown":"The string I pass to pattern.matcher is parsed correctly, meaning it matches the patter, but my next step is I would like to split the string into tokens. for the example above: 54.770, 54.770, 5232768,5237824,  1.1304192... and so on. I feel based upon my supplied pattern that there must be a some type of method I can call to split my pattern.","body":"The string I pass to pattern.matcher is parsed correctly, meaning it matches the patter, but my next step is I would like to split the string into tokens. for the example above: 54.770, 54.770, 5232768,5237824,  1.1304192... and so on. I feel based upon my supplied pattern that there must be a some type of method I can call to split my pattern."},{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":0,"creation_date":1343309721,"post_id":11670224,"comment_id":15468608,"body_markdown":"ah i got it now.  added an answer...","body":"ah i got it now.  added an answer..."}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1343310957,"creation_date":1343309592,"answer_id":11670460,"question_id":11670224,"body_markdown":"You need to add groups to your regex.\r\n\r\n`private final static String REGEX_SMALL_COLLECTION = &quot;(\\\\d+\\\\.\\\\d+): \\\\[GC (\\\\d+.\\\\d+): \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]&quot;;`\r\n\r\nand then access the groups to the values.  In the above example, I added parenthesis around the first two items you want -- this tells the regex engine to capture the matching substrings. You will need to add more.  As you are currently doing, you use [&lt;code&gt;Matcher.group()&lt;/code&gt;][1] to get each group.  Note that group 0 is always the entire match. The rest are numbered from &lt;code&gt;1&lt;/code&gt; up, in order of their opening parens &lt;code&gt;(&lt;/code&gt;.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28int%29","title":"Splitting pattern based on Regular Expressions","body":"<p>You need to add groups to your regex.</p>\n\n<p><code>private final static String REGEX_SMALL_COLLECTION = \"(\\\\d+\\\\.\\\\d+): \\\\[GC (\\\\d+.\\\\d+): \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]\";</code></p>\n\n<p>and then access the groups to the values.  In the above example, I added parenthesis around the first two items you want -- this tells the regex engine to capture the matching substrings. You will need to add more.  As you are currently doing, you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28int%29\" rel=\"nofollow\"><code>Matcher.group()</code></a> to get each group.  Note that group 0 is always the entire match. The rest are numbered from <code>1</code> up, in order of their opening parens <code>(</code>.</p>\n"}],"owner":{"account_id":302308,"reputation":269,"user_id":610618,"accept_rate":67,"display_name":"ddd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11670460,"answer_count":1,"score":0,"last_activity_date":1692800067,"creation_date":1343308816,"question_id":11670224,"body_markdown":"I am trying to write a program to parse Java Garbage Collection logs. I just created a grammar that matches a minor collection. Once I have identified a pattern I would like to parse it into individual tokens. My question is, is there any elegant way to do this with my previously defined grammar?\r\n\r\n    public class RegexTestHarness {\r\n      private final static String REGEX_SMALL_COLLECTION = &quot;\\\\d+\\\\.\\\\d+: \\\\[GC \\\\d+.\\\\d+: \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]&quot;;\r\n      \r\n      public static void main(String[] args){\r\n        Pattern pattern = Pattern.compile(REGEX_SMALL_COLLECTION);           \r\n        Matcher matcher = pattern.matcher(&quot;54.770: [GC 54.770: [ParNew: 5232768K-&gt;0K(5237824K), 1.1304192 secs] 5238622K-&gt;380448K(10480704K), 1.1306410 secs]&quot;);\r\n        while (matcher.find()) {           \t\r\n          System.out.println(matcher.group(0));\r\n          System.out.println(matcher.start());\r\n          System.out.println(matcher.end()); \r\n        }\r\n      }\r\n    }","title":"Splitting pattern based on Regular Expressions","body":"<p>I am trying to write a program to parse Java Garbage Collection logs. I just created a grammar that matches a minor collection. Once I have identified a pattern I would like to parse it into individual tokens. My question is, is there any elegant way to do this with my previously defined grammar?</p>\n\n<pre><code>public class RegexTestHarness {\n  private final static String REGEX_SMALL_COLLECTION = \"\\\\d+\\\\.\\\\d+: \\\\[GC \\\\d+.\\\\d+: \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]\";\n\n  public static void main(String[] args){\n    Pattern pattern = Pattern.compile(REGEX_SMALL_COLLECTION);           \n    Matcher matcher = pattern.matcher(\"54.770: [GC 54.770: [ParNew: 5232768K-&gt;0K(5237824K), 1.1304192 secs] 5238622K-&gt;380448K(10480704K), 1.1306410 secs]\");\n    while (matcher.find()) {            \n      System.out.println(matcher.group(0));\n      System.out.println(matcher.start());\n      System.out.println(matcher.end()); \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":3,"creation_date":1342904194,"post_id":11595760,"comment_id":15346975,"body_markdown":"Please learn regex, with online regex tester such as rubular.com (the site is for Ruby, but regex in Ruby has somewhat similar syntax to Java&#39;s).","body":"Please learn regex, with online regex tester such as rubular.com (the site is for Ruby, but regex in Ruby has somewhat similar syntax to Java&#39;s)."},{"owner":{"account_id":138349,"reputation":8426,"user_id":343238,"accept_rate":82,"display_name":"dlras2"},"score":0,"creation_date":1342907092,"post_id":11595760,"comment_id":15347501,"body_markdown":"@nhahtdh http://gskinner.com/RegExr/ is another good online regex tester.","body":"@nhahtdh <a href=\"http://gskinner.com/RegExr/\" rel=\"nofollow noreferrer\">gskinner.com/RegExr</a> is another good online regex tester."}],"answers":[{"comments":[{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1342904430,"post_id":11595778,"comment_id":15347016,"body_markdown":"I believe you are missing `:` between `s` and `64`","body":"I believe you are missing <code>:</code> between <code>s</code> and <code>64</code>"},{"owner":{"account_id":1678197,"reputation":382,"user_id":1543210,"accept_rate":100,"display_name":"grundyboy34"},"score":0,"creation_date":1342904933,"post_id":11595778,"comment_id":15347101,"body_markdown":"Thank you, Worked like a charm. I really need to learn how to construct regular expressions.","body":"Thank you, Worked like a charm. I really need to learn how to construct regular expressions."}],"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1342904224,"creation_date":1342904224,"answer_id":11595778,"question_id":11595760,"body_markdown":"    String data = &quot;s:64:\\&quot;first string\\&quot; random stuff here s:64:\\&quot;second string\\&quot;&quot;;\r\n    Pattern p = Pattern.compile(&quot;s:64:\\&quot;([^\\&quot;]*)\\&quot;.*s:64:\\&quot;([^\\&quot;]*)\\&quot;&quot;);\r\n    Matcher m = p.matcher(data);\r\n    if (m.find()) {\r\n      System.out.println(&quot;First string: &#39;&quot; + m.group(1) + &quot;&#39;&quot;);\r\n      System.out.println(&quot;Second string: &#39;&quot; + m.group(2) + &quot;&#39;&quot;);\r\n    }\r\nprints:\r\n\r\n&gt; First string: &#39;first string&#39;  \r\n&gt; Second string: &#39;second string&#39;","title":"Java how to setup regex for this string","body":"<pre><code>String data = \"s:64:\\\"first string\\\" random stuff here s:64:\\\"second string\\\"\";\nPattern p = Pattern.compile(\"s:64:\\\"([^\\\"]*)\\\".*s:64:\\\"([^\\\"]*)\\\"\");\nMatcher m = p.matcher(data);\nif (m.find()) {\n  System.out.println(\"First string: '\" + m.group(1) + \"'\");\n  System.out.println(\"Second string: '\" + m.group(2) + \"'\");\n}\n</code></pre>\n\n<p>prints:</p>\n\n<blockquote>\n  <p>First string: 'first string'<br>\n  Second string: 'second string'</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342904230,"creation_date":1342904230,"answer_id":11595779,"question_id":11595760,"body_markdown":"Regex you need should be `compile(&quot;s:64:\\&quot;(.*?)\\&quot;.*s:64:\\&quot;(.*?)\\&quot;&quot;)`","title":"Java how to setup regex for this string","body":"<p>Regex you need should be <code>compile(\"s:64:\\\"(.*?)\\\".*s:64:\\\"(.*?)\\\"\")</code></p>\n"},{"tags":[],"owner":{"account_id":234517,"reputation":18006,"user_id":500725,"accept_rate":69,"display_name":"Siva Charan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342907019,"creation_date":1342904533,"answer_id":11595807,"question_id":11595760,"body_markdown":"Try this regex:-\r\n\r\n    s:64:\\&quot;(.*?)\\&quot;\r\n\r\nCode:\r\n-----\r\n\r\n    Pattern pattern = Pattern.compile(&quot;s:64:\\&quot;(.*?)\\&quot;&quot;);\r\n    Matcher matcher = pattern.matcher(YourStringVar);\r\n    // Check all occurance\r\n    int count = 0;\r\n    while (matcher.find() &amp;&amp; count++ &lt; 2) {\r\n        System.out.println(&quot;Group : &quot; + matcher.group(1));\r\n    }\r\n\r\nHere `group(1)` returns the each match.\r\n\r\nOUTPUT:\r\n-------\r\n\r\n    Group : First Match\r\n    Group : Second Match\r\n\r\nRefer **[LIVE DEMO][1]**\r\n\r\n[1]:http://ideone.com/PsbNB\r\n","title":"Java how to setup regex for this string","body":"<p>Try this regex:-</p>\n\n<pre><code>s:64:\\\"(.*?)\\\"\n</code></pre>\n\n<h2>Code:</h2>\n\n<pre><code>Pattern pattern = Pattern.compile(\"s:64:\\\"(.*?)\\\"\");\nMatcher matcher = pattern.matcher(YourStringVar);\n// Check all occurance\nint count = 0;\nwhile (matcher.find() &amp;&amp; count++ &lt; 2) {\n    System.out.println(\"Group : \" + matcher.group(1));\n}\n</code></pre>\n\n<p>Here <code>group(1)</code> returns the each match.</p>\n\n<h2>OUTPUT:</h2>\n\n<pre><code>Group : First Match\nGroup : Second Match\n</code></pre>\n\n<p>Refer <strong><a href=\"http://ideone.com/PsbNB\" rel=\"nofollow\">LIVE DEMO</a></strong></p>\n"}],"owner":{"account_id":1678197,"reputation":382,"user_id":1543210,"accept_rate":100,"display_name":"grundyboy34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11595778,"answer_count":3,"score":0,"last_activity_date":1692800042,"creation_date":1342904071,"question_id":11595760,"body_markdown":"So I&#39;m trying to pull two strings via a matcher object from one string that is stored in my online databases.\r\n\r\nEach string appears after s:64: and is in quotations \r\nExample   s:64:&quot;stringhere&quot;\r\n\r\nI&#39;m currently trying to get them as so but any regex that I&#39;ve tried has failed,\r\n\r\n   \r\n\r\n     Pattern p = Pattern.compile(&quot;I don&#39;t know what to put as the regex&quot;);\r\n    Matcher m = p.matcher(data);\r\n\r\nSo with that said, all I need is the regex that will return the two strings in the matcher so that  m.group(1) is my first string and m.group(2) is my second string.","title":"Java how to setup regex for this string","body":"<p>So I'm trying to pull two strings via a matcher object from one string that is stored in my online databases.</p>\n\n<p>Each string appears after s:64: and is in quotations \nExample   s:64:\"stringhere\"</p>\n\n<p>I'm currently trying to get them as so but any regex that I've tried has failed,</p>\n\n<pre><code> Pattern p = Pattern.compile(\"I don't know what to put as the regex\");\nMatcher m = p.matcher(data);\n</code></pre>\n\n<p>So with that said, all I need is the regex that will return the two strings in the matcher so that  m.group(1) is my first string and m.group(2) is my second string.</p>\n"},{"tags":["java","spring-boot","multithreading","performance"],"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692797210,"post_id":76961776,"comment_id":135673013,"body_markdown":"You could use the singleton pattern. In that way you create your `ThreadPoolTaskExecutor ` once and you can request the instance where needed to submit tasks. More info in this [tutorial](https://www.baeldung.com/java-singleton).","body":"You could use the singleton pattern. In that way you create your <code>ThreadPoolTaskExecutor </code> once and you can request the instance where needed to submit tasks. More info in this <a href=\"https://www.baeldung.com/java-singleton\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"score":0,"creation_date":1692797479,"post_id":76961776,"comment_id":135673054,"body_markdown":"In singleton pattern, at a time a single thread can access the method to get `ThreadPoolTaskExecutor` . Will that be helpful in multithreaded application?","body":"In singleton pattern, at a time a single thread can access the method to get <code>ThreadPoolTaskExecutor</code> . Will that be helpful in multithreaded application?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1692797603,"post_id":76961776,"comment_id":135673083,"body_markdown":"You absolutely do not want to be spinning up executors from incoming requests. Instead, you would pre-allocate this pool, and allow the requests to submit tasks/callables/runnables to the executor. Where you store this is up to you really, just ensure it isn&#39;t being remade.","body":"You absolutely do not want to be spinning up executors from incoming requests. Instead, you would pre-allocate this pool, and allow the requests to submit tasks/callables/runnables to the executor. Where you store this is up to you really, just ensure it isn&#39;t being remade."},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692797974,"post_id":76961776,"comment_id":135673178,"body_markdown":"With regards to the Singleton you would indeed not want that creation of the instance can occur by multiple thread. But after creation there&#39;s no need to synchronize. Maybe the creation can be overcome by using a static block.","body":"With regards to the Singleton you would indeed not want that creation of the instance can occur by multiple thread. But after creation there&#39;s no need to synchronize. Maybe the creation can be overcome by using a static block."}],"answers":[{"comments":[{"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"score":0,"creation_date":1692805146,"post_id":76962131,"comment_id":135674967,"body_markdown":"Sure. I will implement this way and try performance test.","body":"Sure. I will implement this way and try performance test."},{"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"score":0,"creation_date":1692805204,"post_id":76962131,"comment_id":135674986,"body_markdown":"any suggestion on pool size and queue capacity?","body":"any suggestion on pool size and queue capacity?"},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692811890,"post_id":76962131,"comment_id":135676282,"body_markdown":"I&#39;m wondering if you should configure it yourself or use something preconfigured like `Executors.newCachedThreadPool()`. One of the problem with configuring yourself is that if you add more than 100 tasks (the queue size), you will get `TaskRejectedException`. So you need to know very well what you&#39;re doing. I think the other option is in that sense more user-friendly.","body":"I&#39;m wondering if you should configure it yourself or use something preconfigured like <code>Executors.newCachedThreadPool()</code>. One of the problem with configuring yourself is that if you add more than 100 tasks (the queue size), you will get <code>TaskRejectedException</code>. So you need to know very well what you&#39;re doing. I think the other option is in that sense more user-friendly."}],"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692799406,"creation_date":1692799406,"answer_id":76962131,"question_id":76961776,"body_markdown":"It&#39;s a bit of an atypical implementation, but you could use a static block to create the `ThreadPoolTaskExecutor` and then submit tasks to it as you please.\r\n\r\n```\r\npublic class ThreadPoolTaskExecutorSingleton {\r\n    private static ThreadPoolTaskExecutor executor;\r\n\r\n    static {\r\n        executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(4);\r\n        executor.setMaxPoolSize(8);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;customThread-&quot;);\r\n        executor.initialize();\r\n        // This happens during loading of your class so you will only have one ThreadPoolTaskExecutor.\r\n    }\r\n\r\n    public static ThreadPoolTaskExecutor getInstance() {\r\n        return executor;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI created a working example in this [repository](https://github.com/Lefeverw/stackoverflow-threadpoolexecutor-static-block).","title":"Way to implement multi threading in non spring managed class","body":"<p>It's a bit of an atypical implementation, but you could use a static block to create the <code>ThreadPoolTaskExecutor</code> and then submit tasks to it as you please.</p>\n<pre><code>public class ThreadPoolTaskExecutorSingleton {\n    private static ThreadPoolTaskExecutor executor;\n\n    static {\n        executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(4);\n        executor.setMaxPoolSize(8);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;customThread-&quot;);\n        executor.initialize();\n        // This happens during loading of your class so you will only have one ThreadPoolTaskExecutor.\n    }\n\n    public static ThreadPoolTaskExecutor getInstance() {\n        return executor;\n    }\n\n}\n</code></pre>\n<p>I created a working example in this <a href=\"https://github.com/Lefeverw/stackoverflow-threadpoolexecutor-static-block\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"}],"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692799406,"creation_date":1692796944,"question_id":76961776,"body_markdown":"For a single API call, I need to execute code in 4 threads, process it and return the response. I have implemented this using `ThreadPoolTaskExecutor` as below:\r\n\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setCorePoolSize(4);\r\n    executor.setMaxPoolSize(8);\r\n    executor.setQueueCapacity(100);\r\n    executor.setThreadNamePrefix(&quot;customThread-&quot;);\r\n    executor.initialize();\r\n    return executor;\r\n\r\nThe above `executor` I am creating for each API request and calling `shutdown()` at the end. After that, somewhere I read that its costly to create `ThreadPoolTaskExecutor` object for each request.\r\n\r\nAnyways, with above code the performance is not good. Kindly suggest the better way to implement this.\r\n\r\nFYI, I am executing this code in **final non Spring managed class**. So, could not create bean of `ThreadPoolTaskExecutor` and autowire it. \r\n\r\nAny suggestions will be helpful. Thanks in advance. \r\n","title":"Way to implement multi threading in non spring managed class","body":"<p>For a single API call, I need to execute code in 4 threads, process it and return the response. I have implemented this using <code>ThreadPoolTaskExecutor</code> as below:</p>\n<pre><code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\nexecutor.setCorePoolSize(4);\nexecutor.setMaxPoolSize(8);\nexecutor.setQueueCapacity(100);\nexecutor.setThreadNamePrefix(&quot;customThread-&quot;);\nexecutor.initialize();\nreturn executor;\n</code></pre>\n<p>The above <code>executor</code> I am creating for each API request and calling <code>shutdown()</code> at the end. After that, somewhere I read that its costly to create <code>ThreadPoolTaskExecutor</code> object for each request.</p>\n<p>Anyways, with above code the performance is not good. Kindly suggest the better way to implement this.</p>\n<p>FYI, I am executing this code in <strong>final non Spring managed class</strong>. So, could not create bean of <code>ThreadPoolTaskExecutor</code> and autowire it.</p>\n<p>Any suggestions will be helpful. Thanks in advance.</p>\n"},{"tags":["java","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692706843,"post_id":76953253,"comment_id":135658121,"body_markdown":"Did you try just including `null` as a value in the list?","body":"Did you try just including <code>null</code> as a value in the list?"},{"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"score":0,"creation_date":1692786312,"post_id":76953253,"comment_id":135670716,"body_markdown":"@Jorn I tried but it didn&#39;t count that null value in the list in my case.","body":"@Jorn I tried but it didn&#39;t count that null value in the list in my case."}],"answers":[{"tags":[],"owner":{"account_id":4627939,"reputation":29,"user_id":3751177,"display_name":"lbos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692799314,"creation_date":1692799314,"answer_id":76962115,"question_id":76953253,"body_markdown":"You say you want to find users where type is null, yet your method name is findByTypeInOrTypeIs**Not**Null.","title":"Spring Data JPA Repository findAllInList including nulls","body":"<p>You say you want to find users where type is null, yet your method name is findByTypeInOrTypeIs<strong>Not</strong>Null.</p>\n"}],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692799314,"creation_date":1692706758,"question_id":76953253,"body_markdown":"I have a Spring JPA repository:\r\n```\r\n@Repository\r\ninterface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n  List&lt;User&gt; findByTypeIn(List&lt;String&gt; types);\r\n}\r\n```\r\nAnd I want to include `User` entities which have `type is null` into the results of this method. I tried something like `findByTypeInOrTypeIsNotNull` or `findByTypeIsNullOrIn and it didn&#39;t work. Is there a way to do this?","title":"Spring Data JPA Repository findAllInList including nulls","body":"<p>I have a Spring JPA repository:</p>\n<pre><code>@Repository\ninterface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n  List&lt;User&gt; findByTypeIn(List&lt;String&gt; types);\n}\n</code></pre>\n<p>And I want to include <code>User</code> entities which have <code>type is null</code> into the results of this method. I tried something like <code>findByTypeInOrTypeIsNotNull</code> or `findByTypeIsNullOrIn and it didn't work. Is there a way to do this?</p>\n"},{"tags":["java","spring","spring-boot","jdbc","spring-security"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692617292,"post_id":76942338,"comment_id":135643246,"body_markdown":"With &quot;Spring 3&quot;, do you mean a very old version of the core Spring Framework or do you mean Spring Boot 3, the latest version of Spring Boot? As far as I know, there is no big difference between Spring Boot 2 and Spring Boot 3 with regard to this, so the examples you have for Spring Boot 2 should still be useable.","body":"With &quot;Spring 3&quot;, do you mean a very old version of the core Spring Framework or do you mean Spring Boot 3, the latest version of Spring Boot? As far as I know, there is no big difference between Spring Boot 2 and Spring Boot 3 with regard to this, so the examples you have for Spring Boot 2 should still be useable."},{"owner":{"account_id":18102532,"reputation":315,"user_id":13160199,"display_name":"Lav&#237;nia Beghini"},"score":0,"creation_date":1692799233,"post_id":76942338,"comment_id":135673547,"body_markdown":"Spring Boot 3, sorry, I will edit the question. The problem is that I am having many &quot;deprecated&quot; issues if I simply copy and paste the code from Spring Boot 2 to Spring Boot 3, and it is not clear for me how to replace it.\n\nOne example is, in Spring Boot 3, I am unable to use `csrf` nor to get it working.","body":"Spring Boot 3, sorry, I will edit the question. The problem is that I am having many &quot;deprecated&quot; issues if I simply copy and paste the code from Spring Boot 2 to Spring Boot 3, and it is not clear for me how to replace it.  One example is, in Spring Boot 3, I am unable to use <code>csrf</code> nor to get it working."}],"owner":{"account_id":18102532,"reputation":315,"user_id":13160199,"display_name":"Lav&#237;nia Beghini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692799259,"creation_date":1692590933,"question_id":76942338,"body_markdown":"I am having problems to create a project with a simple authentication using JDBC. I have found many examples with Spring Boot 2, but none with Spring Boot 3.\r\n\r\nI tried the [Spring documentation itself][1], but I have difficulties to understand the steps without seeing the folder structure of a project. \r\n\r\nCan someone please guide me?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html","title":"How can I create JDBC auth with Spring Boot 3?","body":"<p>I am having problems to create a project with a simple authentication using JDBC. I have found many examples with Spring Boot 2, but none with Spring Boot 3.</p>\n<p>I tried the <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html\" rel=\"nofollow noreferrer\">Spring documentation itself</a>, but I have difficulties to understand the steps without seeing the folder structure of a project.</p>\n<p>Can someone please guide me?</p>\n"},{"tags":["java","postgresql","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692800945,"post_id":76962043,"comment_id":135673985,"body_markdown":"It will depend on your JPA provider&#39;s implementation of that as well as the database. Not all providers have support for all DBs. The main ones certainly support Postgres, and Postgres does have support for it - PESSIMISTIC_READs are akin to &#39;SELECT ... FOR UPDATE&#39;, while PESSIMISTIC_WRITE is expected DB row level locking within a transaction.","body":"It will depend on your JPA provider&#39;s implementation of that as well as the database. Not all providers have support for all DBs. The main ones certainly support Postgres, and Postgres does have support for it - PESSIMISTIC_READs are akin to &#39;SELECT ... FOR UPDATE&#39;, while PESSIMISTIC_WRITE is expected DB row level locking within a transaction."},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1692801421,"post_id":76962043,"comment_id":135674102,"body_markdown":"hi @Chris - thanks for your input. I am aware of PESSIMISTIC_WRITE but the question is about PESSIMISTIC_FORCE_INCREMENT for postgres","body":"hi @Chris - thanks for your input. I am aware of PESSIMISTIC_WRITE but the question is about PESSIMISTIC_FORCE_INCREMENT for postgres"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692801537,"post_id":76962043,"comment_id":135674146,"body_markdown":"Again, it depends on the implementation. The wording of the spec/javadoc though pretty much states that PESSIMISTIC_FORCE_INCREMENT is just going to immediately increment the version field on your entity - so isn&#39;t anything more than PESSIMISTIC_WRITE","body":"Again, it depends on the implementation. The wording of the spec/javadoc though pretty much states that PESSIMISTIC_FORCE_INCREMENT is just going to immediately increment the version field on your entity - so isn&#39;t anything more than PESSIMISTIC_WRITE"},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1693899002,"post_id":76962043,"comment_id":135816467,"body_markdown":"hi @Chris, I have been able to verify PESSIMISTIC_FORCE_INCREMENT is supported on postgres. However, there is one peculiar observation, PESSIMISTIC_WRITE lock can be taken with and without nowait option, however PESSIMISTIC_FORCE_INCREMENT is taking lock with nowait option only. What could be the possible reason for this?","body":"hi @Chris, I have been able to verify PESSIMISTIC_FORCE_INCREMENT is supported on postgres. However, there is one peculiar observation, PESSIMISTIC_WRITE lock can be taken with and without nowait option, however PESSIMISTIC_FORCE_INCREMENT is taking lock with nowait option only. What could be the possible reason for this?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693914407,"post_id":76962043,"comment_id":135819434,"body_markdown":"You should probably ask a question on it - I&#39;d guess you are using Hibernate as I don&#39;t know of a no-wait option in JPA. Maybe you are trying to use  javax.persistence.lock.timeout query hint? It is up to the JPA provider on how and if it can be supported against the database, and yours may have overlooked it for the PESSIMISTIC_FORCE_INCREMENT option - or they might have thought the entity state would be inconsistent afterward so intentionally left it out.","body":"You should probably ask a question on it - I&#39;d guess you are using Hibernate as I don&#39;t know of a no-wait option in JPA. Maybe you are trying to use  javax.persistence.lock.timeout query hint? It is up to the JPA provider on how and if it can be supported against the database, and yours may have overlooked it for the PESSIMISTIC_FORCE_INCREMENT option - or they might have thought the entity state would be inconsistent afterward so intentionally left it out."},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1693982870,"post_id":76962043,"comment_id":135829649,"body_markdown":"Thanks, will ask a separate question. I have set the hints appropriately - as I have been able to implement PESSIMISTIC_WRITE both with wait and no wait. But PESSIMISTIC_FORCE_INCREMENT is only taking nowait lock, irrespective of hints","body":"Thanks, will ask a separate question. I have set the hints appropriately - as I have been able to implement PESSIMISTIC_WRITE both with wait and no wait. But PESSIMISTIC_FORCE_INCREMENT is only taking nowait lock, irrespective of hints"}],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692798849,"creation_date":1692798849,"question_id":76962043,"body_markdown":"Going through the doc here: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html\r\n\r\n`The persistence implementation must support use of locks of type LockModeType.PESSIMISTIC_READ LockModeType.PESSIMISTIC_WRITE on a non-versioned entity as well as on a versioned entity.`\r\n\r\nThis implies that LockModeType.PESSIMISTIC_WRITE is dependent on persistence implementation. I am interested in LockModeType.PESSIMISTIC_FORCE_INCREMENT - my guess is the same limitation will apply on that. I am unable to find any documentation to give the list of databases that support this lock mode. I am currently using **postgres** database. Will the lock mode work for me as expected?","title":"Is lockmode PESSIMISTIC_FORCE_INCREMENT supported for all database engines including postgres?","body":"<p>Going through the doc here: <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html</a></p>\n<p><code>The persistence implementation must support use of locks of type LockModeType.PESSIMISTIC_READ LockModeType.PESSIMISTIC_WRITE on a non-versioned entity as well as on a versioned entity.</code></p>\n<p>This implies that LockModeType.PESSIMISTIC_WRITE is dependent on persistence implementation. I am interested in LockModeType.PESSIMISTIC_FORCE_INCREMENT - my guess is the same limitation will apply on that. I am unable to find any documentation to give the list of databases that support this lock mode. I am currently using <strong>postgres</strong> database. Will the lock mode work for me as expected?</p>\n"},{"tags":["java","weblogic","drools","kie"],"answers":[{"comments":[{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":0,"creation_date":1696940537,"post_id":45818919,"comment_id":136214374,"body_markdown":"I have kieServer integrated with Spring Boot. I ran into this issue and the `&lt;reuseForks&gt;false&lt;/reuseForks&gt;` solved the problem for me while running my integration tests. Thank you for pointing it out.","body":"I have kieServer integrated with Spring Boot. I ran into this issue and the <code>&lt;reuseForks&gt;false&lt;&#47;reuseForks&gt;</code> solved the problem for me while running my integration tests. Thank you for pointing it out."}],"tags":[],"owner":{"account_id":5841528,"reputation":231,"user_id":4602963,"display_name":"Steve Brewin"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526501563,"creation_date":1503408275,"answer_id":45818919,"question_id":44949679,"body_markdown":"We had the same problem though in a different environment (Kafka, Weld SE). Though counter-intuitive, invoking\r\n \r\n    // Answer the cuurent container if it exists else create a new container\r\n    KieServices.Factory.get().getKieClasspathContainer();\r\n\r\n&lt;strong&gt;not&lt;/strong&gt;\r\n \r\n    // Always create a new container\r\n    KieServices.Factory.get().newKieClasspathContainer();\r\n\r\nfixed most things for us.  \r\n\r\nAlso, before the container goes out of scope be sure to invoke:\r\n \r\n    KieServices.Factory.get().getKieClasspathContainer().dispose();\r\n\r\nThis will release the container and its resources from the Drools global singleton.\r\n\r\nWe also had problems running unit tests in Maven as the Surefire plugin by default does not recreate a JVM per test while Drools assumes that an instance of its global singleton will be created just once per JVM invocation. This is resolved by having Surefire recreate a clean JVM environment per test. Adjust your\r\npom.xml\r\nby adding\r\n\r\n    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n\r\nto your Surefire configuration. For example:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;default-test&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                     &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n           &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nAlso, you might consider assigning each Java EE module its own KieContainer\r\n\r\n    KieContainer getKieClasspathContainer(String containerId);\r\n\r\nThis would allow the lifecycle of each Java EE module to be synchronised to that of each Drools container module.","title":"Drools KieContainer from different ClassLoader","body":"<p>We had the same problem though in a different environment (Kafka, Weld SE). Though counter-intuitive, invoking</p>\n\n<pre><code>// Answer the cuurent container if it exists else create a new container\nKieServices.Factory.get().getKieClasspathContainer();\n</code></pre>\n\n<p><strong>not</strong></p>\n\n<pre><code>// Always create a new container\nKieServices.Factory.get().newKieClasspathContainer();\n</code></pre>\n\n<p>fixed most things for us.  </p>\n\n<p>Also, before the container goes out of scope be sure to invoke:</p>\n\n<pre><code>KieServices.Factory.get().getKieClasspathContainer().dispose();\n</code></pre>\n\n<p>This will release the container and its resources from the Drools global singleton.</p>\n\n<p>We also had problems running unit tests in Maven as the Surefire plugin by default does not recreate a JVM per test while Drools assumes that an instance of its global singleton will be created just once per JVM invocation. This is resolved by having Surefire recreate a clean JVM environment per test. Adjust your\npom.xml\nby adding</p>\n\n<pre><code>&lt;reuseForks&gt;false&lt;/reuseForks&gt;\n</code></pre>\n\n<p>to your Surefire configuration. For example:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-test&lt;/id&gt;\n            &lt;configuration&gt;\n                 &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n       &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>Also, you might consider assigning each Java EE module its own KieContainer</p>\n\n<pre><code>KieContainer getKieClasspathContainer(String containerId);\n</code></pre>\n\n<p>This would allow the lifecycle of each Java EE module to be synchronised to that of each Drools container module.</p>\n"},{"tags":[],"owner":{"account_id":17691437,"reputation":11,"user_id":12843113,"display_name":"Param Natarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580879154,"creation_date":1580879154,"answer_id":60069332,"question_id":44949679,"body_markdown":"The drools code checks if your specified class loader and the current instance this.getClass().getClassLoader() is the same, if not errors out with the KieContainer already exists eror . If you dont specify a classloader it uses         Thread.currentThread().getContextClassLoader() , which is different from this.getClass().getClassLoader() in some situvations. Simple solution is to use\r\n**KieServices.Factory.get().getKieClasspathContainer(this.getClass().getClassLoader())**\r\n\r\n","title":"Drools KieContainer from different ClassLoader","body":"<p>The drools code checks if your specified class loader and the current instance this.getClass().getClassLoader() is the same, if not errors out with the KieContainer already exists eror . If you dont specify a classloader it uses         Thread.currentThread().getContextClassLoader() , which is different from this.getClass().getClassLoader() in some situvations. Simple solution is to use\n<strong>KieServices.Factory.get().getKieClasspathContainer(this.getClass().getClassLoader())</strong></p>\n"},{"tags":[],"owner":{"account_id":15905280,"reputation":31,"user_id":11476660,"display_name":"jim owens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692798492,"creation_date":1692798492,"answer_id":76961993,"question_id":44949679,"body_markdown":"Personally, I think the solution is to transition to using the `KieRuntimeBuilder`, which generates a session through the following code: \r\n\r\n`kieRuntimeBuilder.newKieSession();`\r\n\r\nAt the end, you can dispose of it, but another option I haven&#39;t looked into could be to define a class implementing the KieContainer or KieSession, but who knows where that trail leads.","title":"Drools KieContainer from different ClassLoader","body":"<p>Personally, I think the solution is to transition to using the <code>KieRuntimeBuilder</code>, which generates a session through the following code:</p>\n<p><code>kieRuntimeBuilder.newKieSession();</code></p>\n<p>At the end, you can dispose of it, but another option I haven't looked into could be to define a class implementing the KieContainer or KieSession, but who knows where that trail leads.</p>\n"}],"owner":{"account_id":5174312,"reputation":4637,"user_id":4141980,"accept_rate":86,"display_name":"Jo&#227;o Almeida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2534,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1692798492,"creation_date":1499346070,"question_id":44949679,"body_markdown":"\r\nWe have a Java application with different modules being deployed on Weblogic. We are using drools on different modules and tried to make the class that initializes the KieContainer a singleton by defining it as an enum class. \r\n\r\nHowever, it seems that when we are in the production environment (where the application is deployed through a ear file) there are different ClassLoaders initializing this class and we get the following exception:\r\n\r\n\r\n    null    java.lang.IllegalStateException: There&#39;s already another KieContainer created from a different ClassLoader; \r\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:88); \r\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:73);\r\n\r\n\r\nDo you have any suggestion on how to solve this?\r\n\r\n","title":"Drools KieContainer from different ClassLoader","body":"<p>We have a Java application with different modules being deployed on Weblogic. We are using drools on different modules and tried to make the class that initializes the KieContainer a singleton by defining it as an enum class. </p>\n\n<p>However, it seems that when we are in the production environment (where the application is deployed through a ear file) there are different ClassLoaders initializing this class and we get the following exception:</p>\n\n<pre><code>null    java.lang.IllegalStateException: There's already another KieContainer created from a different ClassLoader; \nat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:88); \nat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:73);\n</code></pre>\n\n<p>Do you have any suggestion on how to solve this?</p>\n"},{"tags":["java","dataframe","geometry","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1688978039,"post_id":76639838,"comment_id":135142435,"body_markdown":"What if you try raw SQL directly like `val dataFrame = snowparkSession.sql(SELECT ST_INTERSECTS(columnName, envelope))`","body":"What if you try raw SQL directly like <code>val dataFrame = snowparkSession.sql(SELECT ST_INTERSECTS(columnName, envelope))</code>"}],"answers":[{"tags":[],"owner":{"account_id":28972502,"reputation":11,"user_id":22192463,"display_name":"Lorenzo Dupont"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692798487,"creation_date":1692798487,"answer_id":76961990,"question_id":76639838,"body_markdown":"I managed to do it thanks to @Sergiu. I did in fact use Functions.sqlExpr and it worked !\r\nFor those mondering, you can transform your envelope to a generic WKTUtilities with WKTUtilities.toWKT(envelope). This can then be sent to a geometric attribute name like so : `Functions.sqlExpr(&quot;$spatialFunction(\\&quot;$geometryAttributeName\\&quot;, ST_GEOGRAPHYFROMWKT(\\&#39;$geometryWKT\\&#39;))&quot;)` (in Kotlin)","title":"Snowflake java (kotlin) use ST_INTERSECTS geospatial","body":"<p>I managed to do it thanks to @Sergiu. I did in fact use Functions.sqlExpr and it worked !\nFor those mondering, you can transform your envelope to a generic WKTUtilities with WKTUtilities.toWKT(envelope). This can then be sent to a geometric attribute name like so : <code>Functions.sqlExpr(&quot;$spatialFunction(\\&quot;$geometryAttributeName\\&quot;, ST_GEOGRAPHYFROMWKT(\\'$geometryWKT\\'))&quot;)</code> (in Kotlin)</p>\n"}],"owner":{"account_id":28972502,"reputation":11,"user_id":22192463,"display_name":"Lorenzo Dupont"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961990,"answer_count":1,"score":0,"last_activity_date":1692798487,"creation_date":1688759088,"question_id":76639838,"body_markdown":"I&#39;ve got a problem. I am trying to use geographical functions from snowflake in my kotlin code. Usualy, it is common to use Functions from com.snowflake.snowpark_java.Functions, and use the funciton you want to filter your query with.\r\nThe [ST_INTERSECTS ](https://docs.snowflake.com/en/sql-reference/functions/st_intersects#usage-notes) function seems to not have its implementation in the Functions package. I didn&#39;t find any other way to use it.\r\nI want to pass it as parameters the geographical column, and the searchEnvelope that is returned by snowflake. The goal is to add the ST_INTERSECTS to my dataframe in a WHERE clause like so :\r\n`val dataFrame = snowparkSession.table(tableName)\r\n            .where(ST_INTERSECTS(columnName, envelope))\r\n            .select(*)`\r\n\r\n\r\nI tried doing this :\r\n`Functions.callUDF(&quot;ST_INTERSECTS&quot;, geometryAttributeColumn)`\r\nsince  it is what was recommended here : https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions\r\nBut it awaits 2 columns attributes, and my envelope isn&#39;t one or doesn&#39;t contain one. It simply contains the Geometry Attribute Name and the search Envelope, which is a rectangle","title":"Snowflake java (kotlin) use ST_INTERSECTS geospatial","body":"<p>I've got a problem. I am trying to use geographical functions from snowflake in my kotlin code. Usualy, it is common to use Functions from com.snowflake.snowpark_java.Functions, and use the funciton you want to filter your query with.\nThe <a href=\"https://docs.snowflake.com/en/sql-reference/functions/st_intersects#usage-notes\" rel=\"nofollow noreferrer\">ST_INTERSECTS </a> function seems to not have its implementation in the Functions package. I didn't find any other way to use it.\nI want to pass it as parameters the geographical column, and the searchEnvelope that is returned by snowflake. The goal is to add the ST_INTERSECTS to my dataframe in a WHERE clause like so :\n<code>val dataFrame = snowparkSession.table(tableName) .where(ST_INTERSECTS(columnName, envelope)) .select(*)</code></p>\n<p>I tried doing this :\n<code>Functions.callUDF(&quot;ST_INTERSECTS&quot;, geometryAttributeColumn)</code>\nsince  it is what was recommended here : <a href=\"https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions</a>\nBut it awaits 2 columns attributes, and my envelope isn't one or doesn't contain one. It simply contains the Geometry Attribute Name and the search Envelope, which is a rectangle</p>\n"},{"tags":["java","selenium-webdriver","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1692798066,"post_id":76960912,"comment_id":135673211,"body_markdown":"Try having a look at this: https://stackoverflow.com/a/71889101/3324415","body":"Try having a look at this: <a href=\"https://stackoverflow.com/a/71889101/3324415\">stackoverflow.com/a/71889101/3324415</a>"}],"answers":[{"tags":[],"owner":{"account_id":25245622,"reputation":9,"user_id":19078929,"display_name":"vizallati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692798289,"creation_date":1692798289,"answer_id":76961963,"question_id":76960912,"body_markdown":"Well you can just place a breakpoint in your IDE in the @after hook and run the test in debug mode then evaluate the given step or function and get various attributes","title":"Selenium/Cucumber: While writing a screenshot file I want to have the Scenarion name in path of the file","body":"<p>Well you can just place a breakpoint in your IDE in the @after hook and run the test in debug mode then evaluate the given step or function and get various attributes</p>\n"}],"owner":{"account_id":3048324,"reputation":93,"user_id":2583445,"accept_rate":62,"display_name":"Peter O"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692798289,"creation_date":1692789954,"question_id":76960912,"body_markdown":"\\initialization\\DriverUtils.java: \r\n- Here I have a takeScreenshot() function\r\n\r\n\\steps\\Hooks.java\r\n   - Here is have a @After where I validate if the scenario.isFailed (io.cucumber.java.Scenario).\r\n\r\nIn the feature files we declare the tags (and suite) at the beginning:\r\n\r\n```\r\n# language: nl\r\n@suite=1A01\r\n@all @aanvraagflow_cv @OK\r\n```\r\nHow can I read this @suite property in the @After step so I can pass it to the takescreenshot function (for example).\r\n\r\nI am not a real JAVA guru. This is the current implementation. I&#39;ve read a lot of different ways to implement Selenium / Cucumber in Java. But I can&#39;t find a match with mine, that&#39;s why my question.","title":"Selenium/Cucumber: While writing a screenshot file I want to have the Scenarion name in path of the file","body":"<p>\\initialization\\DriverUtils.java:</p>\n<ul>\n<li>Here I have a takeScreenshot() function</li>\n</ul>\n<p>\\steps\\Hooks.java</p>\n<ul>\n<li>Here is have a @After where I validate if the scenario.isFailed (io.cucumber.java.Scenario).</li>\n</ul>\n<p>In the feature files we declare the tags (and suite) at the beginning:</p>\n<pre><code># language: nl\n@suite=1A01\n@all @aanvraagflow_cv @OK\n</code></pre>\n<p>How can I read this @suite property in the @After step so I can pass it to the takescreenshot function (for example).</p>\n<p>I am not a real JAVA guru. This is the current implementation. I've read a lot of different ways to implement Selenium / Cucumber in Java. But I can't find a match with mine, that's why my question.</p>\n"},{"tags":["java","spring-boot","asynchronous","jaxb","sigterm"],"answers":[{"comments":[{"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"score":0,"creation_date":1692341338,"post_id":76924562,"comment_id":135612412,"body_markdown":"Thanks! Probably I will have to do this, but this type of error can be caught using Error, since it is not an exception that occurs, but an error","body":"Thanks! Probably I will have to do this, but this type of error can be caught using Error, since it is not an exception that occurs, but an error"}],"tags":[],"owner":{"account_id":15064463,"reputation":40,"user_id":10872098,"display_name":"Reza Eskandari"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1692300434,"creation_date":1692300434,"answer_id":76924562,"question_id":76923513,"body_markdown":" The error message indicates that the SOAP client is throwing an exception because it&#39;s trying to access a resource (`META-INF/services/javax.xml.bind.JAXBContext`) that is not available due to the web application being stopped.\r\n\r\nThis issue can occur when the application is shutting down and the SOAP client is still trying to make requests. To handle this gracefully, you can catch the exception and handle it appropriately. Here&#39;s an example of how you can do this:\r\n\r\n```java\r\nimport javax.xml.ws.WebServiceException;\r\n\r\n// ...\r\n\r\ntry {\r\n    // Call the SOAP method\r\n    // Your SOAP method invocation code here\r\n} catch (WebServiceException ex) {\r\n    if (ex.getCause() instanceof IllegalStateException) {\r\n        IllegalStateException illegalStateException = (IllegalStateException) ex.getCause();\r\n        if (illegalStateException.getMessage().startsWith(&quot;Illegal access: this web application instance has been stopped&quot;)) {\r\n            // Handle the case where the web application is stopping\r\n            // You can choose to log the error or perform any necessary cleanup\r\n            // Example: logger.error(&quot;SOAP client error: Web application is stopping&quot;, ex);\r\n        } else {\r\n            // Handle other WebServiceException cases\r\n        }\r\n    } else {\r\n        // Handle other WebServiceException cases\r\n    }\r\n}\r\n```\r\n\r\nIn the code above, we catch the `WebServiceException` and check if the cause of the exception is an `IllegalStateException` with the specific error message indicating that the web application is stopping. If it matches, you can handle the situation accordingly (e.g., logging an error message or performing cleanup operations).\r\n\r\nBy handling the exception, you can prevent the application from crashing when the SOAP client is invoked during the shutdown process.","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>The error message indicates that the SOAP client is throwing an exception because it's trying to access a resource (<code>META-INF/services/javax.xml.bind.JAXBContext</code>) that is not available due to the web application being stopped.</p>\n<p>This issue can occur when the application is shutting down and the SOAP client is still trying to make requests. To handle this gracefully, you can catch the exception and handle it appropriately. Here's an example of how you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.ws.WebServiceException;\n\n// ...\n\ntry {\n    // Call the SOAP method\n    // Your SOAP method invocation code here\n} catch (WebServiceException ex) {\n    if (ex.getCause() instanceof IllegalStateException) {\n        IllegalStateException illegalStateException = (IllegalStateException) ex.getCause();\n        if (illegalStateException.getMessage().startsWith(&quot;Illegal access: this web application instance has been stopped&quot;)) {\n            // Handle the case where the web application is stopping\n            // You can choose to log the error or perform any necessary cleanup\n            // Example: logger.error(&quot;SOAP client error: Web application is stopping&quot;, ex);\n        } else {\n            // Handle other WebServiceException cases\n        }\n    } else {\n        // Handle other WebServiceException cases\n    }\n}\n</code></pre>\n<p>In the code above, we catch the <code>WebServiceException</code> and check if the cause of the exception is an <code>IllegalStateException</code> with the specific error message indicating that the web application is stopping. If it matches, you can handle the situation accordingly (e.g., logging an error message or performing cleanup operations).</p>\n<p>By handling the exception, you can prevent the application from crashing when the SOAP client is invoked during the shutdown process.</p>\n"},{"tags":[],"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692798278,"creation_date":1692797848,"answer_id":76961894,"question_id":76923513,"body_markdown":"The problem was in the libraries.\r\n\r\nWas: \r\n\r\n    implementation group: &#39;org.glassfish.main.javaee-api&#39;, name: &#39;javax.jws&#39;, version: &#39;3.1.2.2&#39;\r\n    implementation group: &#39;javax.xml.ws&#39;, name: &#39;jaxws-api&#39;, version: &#39;2.3.1&#39;\r\n    implementation group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-rt&#39;, version: &#39;2.3.1&#39;\r\n\r\nNeed to do:\r\n\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n    implementation &#39;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&#39;\r\n    implementation &#39;jakarta.activation:jakarta.activation-api:2.1.2&#39;\r\n    implementation &#39;com.sun.xml.ws:jaxws-rt:4.0.1&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-impl:2.3.1&#39;\r\n    implementation &#39;org.glassfish.jaxb:jaxb-runtime:4.0.2&#39;\r\n    runtimeOnly &#39;jakarta.xml.soap:jakarta.xml.soap-api:3.0.0&#39;\r\n    runtime Only &#39;com.sun.xml.messaging.saaj:saaj-impl:3.0.2&#39;\r\n\r\n**And accordingly, fix the imports in the classes from *javax* to *jakarta***","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>The problem was in the libraries.</p>\n<p>Was:</p>\n<pre><code>implementation group: 'org.glassfish.main.javaee-api', name: 'javax.jws', version: '3.1.2.2'\nimplementation group: 'javax.xml.ws', name: 'jaxws-api', version: '2.3.1'\nimplementation group: 'com.sun.xml.ws', name: 'jaxws-rt', version: '2.3.1'\n</code></pre>\n<p>Need to do:</p>\n<pre><code>implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\nimplementation 'jakarta.xml.ws:jakarta.xml.ws-api:4.0.0'\nimplementation 'jakarta.activation:jakarta.activation-api:2.1.2'\nimplementation 'com.sun.xml.ws:jaxws-rt:4.0.1'\nimplementation 'com.sun.xml.bind:jaxb-impl:2.3.1'\nimplementation 'org.glassfish.jaxb:jaxb-runtime:4.0.2'\nruntimeOnly 'jakarta.xml.soap:jakarta.xml.soap-api:3.0.0'\nruntime Only 'com.sun.xml.messaging.saaj:saaj-impl:3.0.2'\n</code></pre>\n<p><strong>And accordingly, fix the imports in the classes from <em>javax</em> to <em>jakarta</em></strong></p>\n"}],"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961894,"answer_count":2,"score":0,"last_activity_date":1692798278,"creation_date":1692290317,"question_id":76923513,"body_markdown":"I use Java and Spring Boot. I implemented the correct termination of the application when receiving the SIGTERM command.\r\n\r\nSet the settings for SpringBoot:\r\n```\r\nserver:\r\n  shutdown: graceful\r\n\r\nspring.task.execution:\r\n  pool:\r\n    allow-core-thread-timeout: true\r\n    keep-alive: 3m\r\n  shutdown:\r\n    await-termination: true\r\n    await-termination-period: 3m\r\n```\r\n\r\nAnd I also tried it with `ThreadPoolTaskExecutor`:\r\n```\r\nThreadPoolTaskExecutor defaultExecutor = new ThreadPoolTaskExecutor();\r\ndefaultExecutor.setKeepAliveSeconds(180);\r\ndefaultExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\ndefaultExecutor.setAwaitTerminationSeconds(180);\r\n```\r\nBut I ran into a problem. In an asynchronous thread, the SOAP method is called and it crashes with an error:\r\n```\r\nERROR [iso20022.app.FCR,3b58933b54e5e47c,1eb7da1d0650e9d9] 2808 --- [     h2h-async1] r.a.h.c.RepeaterInvocationHandler        : error on calling jdk.proxy6.$Proxy236.wsAccountBaseInfoGet\r\njava.lang.ExceptionInInitializerError: null\r\n\tat com.sun.xml.ws.transport.http.client.HttpTransportPipe.getTransport(HttpTransportPipe.java:154) ~[jaxws-rt-2.3.1.jar:2.3.1]\r\n…\r\nCaused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/javax.xml.bind.JAXBContext]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1140) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat javax.xml.bind.ContextFinder.firstByServiceLoaderDeprecated(ContextFinder.java:611) ~[jaxb-api-2.4.0-b180830.0359.jar:2.3.0]\r\n```\r\n\r\nPlease, help. What do I need to do?","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>I use Java and Spring Boot. I implemented the correct termination of the application when receiving the SIGTERM command.</p>\n<p>Set the settings for SpringBoot:</p>\n<pre><code>server:\n  shutdown: graceful\n\nspring.task.execution:\n  pool:\n    allow-core-thread-timeout: true\n    keep-alive: 3m\n  shutdown:\n    await-termination: true\n    await-termination-period: 3m\n</code></pre>\n<p>And I also tried it with <code>ThreadPoolTaskExecutor</code>:</p>\n<pre><code>ThreadPoolTaskExecutor defaultExecutor = new ThreadPoolTaskExecutor();\ndefaultExecutor.setKeepAliveSeconds(180);\ndefaultExecutor.setWaitForTasksToCompleteOnShutdown(true);\ndefaultExecutor.setAwaitTerminationSeconds(180);\n</code></pre>\n<p>But I ran into a problem. In an asynchronous thread, the SOAP method is called and it crashes with an error:</p>\n<pre><code>ERROR [iso20022.app.FCR,3b58933b54e5e47c,1eb7da1d0650e9d9] 2808 --- [     h2h-async1] r.a.h.c.RepeaterInvocationHandler        : error on calling jdk.proxy6.$Proxy236.wsAccountBaseInfoGet\njava.lang.ExceptionInInitializerError: null\n    at com.sun.xml.ws.transport.http.client.HttpTransportPipe.getTransport(HttpTransportPipe.java:154) ~[jaxws-rt-2.3.1.jar:2.3.1]\n…\nCaused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/javax.xml.bind.JAXBContext]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1140) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at javax.xml.bind.ContextFinder.firstByServiceLoaderDeprecated(ContextFinder.java:611) ~[jaxb-api-2.4.0-b180830.0359.jar:2.3.0]\n</code></pre>\n<p>Please, help. What do I need to do?</p>\n"},{"tags":["java","selenium","junit","junit4","selenium-webdriver"],"comments":[{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":1,"creation_date":1347664397,"post_id":12429793,"comment_id":16716215,"body_markdown":"In what kind of failure? When it can&#39;t click on a element? When it can&#39;t find an element immeaditely? When it can&#39;t find an element after waiting a little bit? When it can&#39;t launch the browser? The way I have done this is have a central method when the browser finds elements, wrap it in a try catch and in the catch, take a screenshot. Whenever I need to find an element, call this. Then this will handle it for you.","body":"In what kind of failure? When it can&#39;t click on a element? When it can&#39;t find an element immeaditely? When it can&#39;t find an element after waiting a little bit? When it can&#39;t launch the browser? The way I have done this is have a central method when the browser finds elements, wrap it in a try catch and in the catch, take a screenshot. Whenever I need to find an element, call this. Then this will handle it for you."},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":1,"creation_date":1347952689,"post_id":12429793,"comment_id":16777382,"body_markdown":"With TestNG you can easly achive that. You only need a listner that takes the screenshot. If you are interested in a TestNG solution I will post my code for that tomorrow.","body":"With TestNG you can easly achive that. You only need a listner that takes the screenshot. If you are interested in a TestNG solution I will post my code for that tomorrow."},{"owner":{"account_id":179989,"reputation":5011,"user_id":413020,"accept_rate":67,"display_name":"Alberto"},"score":1,"creation_date":1386936501,"post_id":12429793,"comment_id":30760221,"body_markdown":"Possible dup of: [Selenium 2 and JUnit4: How to capture screenshot on exception?](http://stackoverflow.com/a/7649994/413020)","body":"Possible dup of: <a href=\"http://stackoverflow.com/a/7649994/413020\">Selenium 2 and JUnit4: How to capture screenshot on exception?</a>"}],"answers":[{"comments":[{"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"score":0,"creation_date":1353536206,"post_id":12470351,"comment_id":18480739,"body_markdown":"Yes, that&#39;s awesome.  I wish I&#39;d seen this earlier.  I&#39;ve already gone with Tarken&#39;s approach.","body":"Yes, that&#39;s awesome.  I wish I&#39;d seen this earlier.  I&#39;ve already gone with Tarken&#39;s approach."},{"owner":{"account_id":3504,"reputation":118651,"user_id":5056,"accept_rate":77,"display_name":"George Mauer"},"score":1,"creation_date":1403823251,"post_id":12470351,"comment_id":37819415,"body_markdown":"I found this searching for a c# way to do it. So for posterity in c# the way to do it is something like `((ITakesScreenshot)driver).GetScreenShot().SaveAsFile(@&quot;path\\to\\file.png&quot; ImageFormat.Png)`","body":"I found this searching for a c# way to do it. So for posterity in c# the way to do it is something like <code>((ITakesScreenshot)driver).GetScreenShot().SaveAsFile(@&quot;path&zwnj;&#8203;\\to\\file.png&quot; ImageFormat.Png)</code>"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1428605937,"post_id":12470351,"comment_id":47244978,"body_markdown":"@bummi Great, thanks! (And thanks Luc for the edit!)","body":"@bummi Great, thanks! (And thanks Luc for the edit!)"},{"owner":{"account_id":334755,"reputation":560,"user_id":661414,"accept_rate":0,"display_name":"Leukipp"},"score":3,"creation_date":1469664211,"post_id":12470351,"comment_id":64635516,"body_markdown":"The following article describes how to use a TestWatcher for taking screenshots: http://www.thinkcode.se/blog/2012/07/08/performing-an-action-when-a-test-fails I found it more helpful than the article mentioned by Jeff.","body":"The following article describes how to use a TestWatcher for taking screenshots: <a href=\"http://www.thinkcode.se/blog/2012/07/08/performing-an-action-when-a-test-fails\" rel=\"nofollow noreferrer\">thinkcode.se/blog/2012/07/08/&hellip;</a> I found it more helpful than the article mentioned by Jeff."},{"owner":{"account_id":1049200,"reputation":1560,"user_id":1053510,"display_name":"user1053510"},"score":0,"creation_date":1692780997,"post_id":12470351,"comment_id":135669717,"body_markdown":"This article back from 2012 doesn&#39;t exist anymore.","body":"This article back from 2012 doesn&#39;t exist anymore."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1692797730,"post_id":12470351,"comment_id":135673116,"body_markdown":"@user1053510 I&#39;ve updated the post with an archive.org link and integrated Leukipp&#39;s other blog (which is very similar and still available).","body":"@user1053510 I&#39;ve updated the post with an archive.org link and integrated Leukipp&#39;s other blog (which is very similar and still available)."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":6,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1692797664,"creation_date":1347942285,"answer_id":12470351,"question_id":12429793,"body_markdown":"A few quick searches led me to a relevant article, &quot;Grabbing Screenshots of Failed Selenium Tests&quot; by Jason Lee, dated 24 Jan 2012. (Defunct original blogs.steeplesoft.com url: &lt;http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html&gt;, now available from [an archive.org mirror dated 7 Mar 2017](https://web.archive.org/web/20170307174236/http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html).)\r\n\r\nIn short, he recommends creating a JUnit4 `Rule` that wraps the test `Statement` in a try/catch block in which he calls:\r\n\r\n    imageFileOutputStream.write(\r\n        ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES));\r\n\r\nIn the comments, Leukipp links to a similar article [&quot;Performing an action when a test fails&quot;](http://www.thinkcode.se/blog/2012/07/08/performing-an-action-when-a-test-fails), by Thomas Sundberg, dated 8 Jul 2012, which offers a very similar @Rule but using `getScreenshotAs(OutputType.FILE)` which is then copied/moved to the intended destination.","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>A few quick searches led me to a relevant article, &quot;Grabbing Screenshots of Failed Selenium Tests&quot; by Jason Lee, dated 24 Jan 2012. (Defunct original blogs.steeplesoft.com url: <a href=\"http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html\" rel=\"nofollow noreferrer\">http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html</a>, now available from <a href=\"https://web.archive.org/web/20170307174236/http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html\" rel=\"nofollow noreferrer\">an archive.org mirror dated 7 Mar 2017</a>.)</p>\n<p>In short, he recommends creating a JUnit4 <code>Rule</code> that wraps the test <code>Statement</code> in a try/catch block in which he calls:</p>\n<pre><code>imageFileOutputStream.write(\n    ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES));\n</code></pre>\n<p>In the comments, Leukipp links to a similar article <a href=\"http://www.thinkcode.se/blog/2012/07/08/performing-an-action-when-a-test-fails\" rel=\"nofollow noreferrer\">&quot;Performing an action when a test fails&quot;</a>, by Thomas Sundberg, dated 8 Jul 2012, which offers a very similar @Rule but using <code>getScreenshotAs(OutputType.FILE)</code> which is then copied/moved to the intended destination.</p>\n"},{"tags":[],"owner":{"account_id":38840,"reputation":932,"user_id":111755,"display_name":"dellsala"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1444769285,"creation_date":1444769285,"answer_id":33112337,"question_id":12429793,"body_markdown":"If you want to quickly add this behavior to **ALL** your tests in the run you can use the `RunListener` interface to listen for test failures.\r\n\r\n    public class ScreenshotListener extends RunListener {\r\n\r\n        private TakesScreenshot screenshotTaker;\r\n\r\n        @Override\r\n\t    public void testFailure(Failure failure) throws Exception {\r\n\t\t    File file = screenshotTaker.getScreenshotAs(OutputType.File);\r\n            // do something with your file\r\n        }\r\n\r\n\t}\r\n\r\n\r\n\r\nAdd the listener to your test runner like this...\r\n\r\n    JUnitCore junit = new JUnitCore();\r\n    junit.addListener(new ScreenshotListener((TakesScreenShots) webDriver));\r\n    \r\n    // then run your test...\r\n    \r\n    Result result = junit.run(Request.classes(FullTestSuite.class));\r\n\r\n\r\n","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>If you want to quickly add this behavior to <strong>ALL</strong> your tests in the run you can use the <code>RunListener</code> interface to listen for test failures.</p>\n\n<pre><code>public class ScreenshotListener extends RunListener {\n\n    private TakesScreenshot screenshotTaker;\n\n    @Override\n    public void testFailure(Failure failure) throws Exception {\n        File file = screenshotTaker.getScreenshotAs(OutputType.File);\n        // do something with your file\n    }\n\n}\n</code></pre>\n\n<p>Add the listener to your test runner like this...</p>\n\n<pre><code>JUnitCore junit = new JUnitCore();\njunit.addListener(new ScreenshotListener((TakesScreenShots) webDriver));\n\n// then run your test...\n\nResult result = junit.run(Request.classes(FullTestSuite.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602058077,"creation_date":1593943711,"answer_id":62739342,"question_id":12429793,"body_markdown":"If you want to take a screenshot on test failure, add this class\r\n\r\n    import java.io.File;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    import org.junit.rules.MethodRule;\r\n    \r\n    import org.junit.runners.model.FrameworkMethod;\r\n    \r\n    import org.junit.runners.model.Statement;\r\n    \r\n    import org.openqa.selenium.OutputType;\r\n    \r\n    import org.openqa.selenium.TakesScreenshot;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class ScreenShotOnFailure implements MethodRule {\r\n    \r\n        private WebDriver driver;\r\n    \r\n        public ScreenShotOnFailure(WebDriver driver){\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object o) {\r\n            return new Statement() {\r\n                @Override\r\n                public void evaluate() throws Throwable {\r\n                    try {\r\n                        statement.evaluate();\r\n                    } catch (Throwable t) {\r\n                        captureScreenShot(frameworkMethod.getName());\r\n                        throw t;\r\n                    }\r\n                }\r\n    \r\n                public void captureScreenShot(String fileName) throws IOException {\r\n                    File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                    fileName += UUID.randomUUID().toString();\r\n                    File targetFile = new File(&quot;./Screenshots/&quot; + fileName + &quot;.png&quot;);\r\n                    FileUtils.copyFile(scrFile, targetFile);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nAnd Before all tests, you should use this Rule:\r\n\r\n    @Rule\r\n    public ScreenShotOnFailure failure = new ScreenShotOnFailure(driver));\r\n    \r\n    @Before\r\n    public void before() {\r\n       ...\r\n    }","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>If you want to take a screenshot on test failure, add this class</p>\n<pre><code>import java.io.File;\n\nimport java.io.IOException;\n\nimport java.util.UUID;\n\nimport org.apache.commons.io.FileUtils;\n\nimport org.junit.rules.MethodRule;\n\nimport org.junit.runners.model.FrameworkMethod;\n\nimport org.junit.runners.model.Statement;\n\nimport org.openqa.selenium.OutputType;\n\nimport org.openqa.selenium.TakesScreenshot;\n\nimport org.openqa.selenium.WebDriver;\n\npublic class ScreenShotOnFailure implements MethodRule {\n\n    private WebDriver driver;\n\n    public ScreenShotOnFailure(WebDriver driver){\n        this.driver = driver;\n    }\n\n    public Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object o) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                try {\n                    statement.evaluate();\n                } catch (Throwable t) {\n                    captureScreenShot(frameworkMethod.getName());\n                    throw t;\n                }\n            }\n\n            public void captureScreenShot(String fileName) throws IOException {\n                File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n                fileName += UUID.randomUUID().toString();\n                File targetFile = new File(&quot;./Screenshots/&quot; + fileName + &quot;.png&quot;);\n                FileUtils.copyFile(scrFile, targetFile);\n            }\n        };\n    }\n}\n</code></pre>\n<p>And Before all tests, you should use this Rule:</p>\n<pre><code>@Rule\npublic ScreenShotOnFailure failure = new ScreenShotOnFailure(driver));\n\n@Before\npublic void before() {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30062,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":12470351,"answer_count":3,"score":22,"last_activity_date":1692797664,"creation_date":1347646251,"question_id":12429793,"body_markdown":"When my test case fails, especially on our build server, I want to take a picture / screenshot of the screen to help me debug what happened later on.  I know how to take a screenshot, but I was hoping for a way in JUnit to call my `takeScreenshot()` method if a test fails, before the browser is closed. \r\n\r\nNo, I don&#39;t want to go edit our bazillions of tests to add a try/catch.  I could maybe, just possibly be talked into an annotation, I suppose.  All of my tests have a common parent class, but I can&#39;t think of anything I can do there to solve this.\r\n\r\nIdeas?\r\n","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>When my test case fails, especially on our build server, I want to take a picture / screenshot of the screen to help me debug what happened later on.  I know how to take a screenshot, but I was hoping for a way in JUnit to call my <code>takeScreenshot()</code> method if a test fails, before the browser is closed. </p>\n\n<p>No, I don't want to go edit our bazillions of tests to add a try/catch.  I could maybe, just possibly be talked into an annotation, I suppose.  All of my tests have a common parent class, but I can't think of anything I can do there to solve this.</p>\n\n<p>Ideas?</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":25,"creation_date":1270816102,"post_id":2607289,"comment_id":2617440,"body_markdown":"I think your example is broken: `Arrays.asList(new int[] { 1, 2, 3 })`; definitely didn&#39;t compile in Java 1.4.2, because an `int[]` is **not** a `Object[]`.","body":"I think your example is broken: <code>Arrays.asList(new int[] { 1, 2, 3 })</code>; definitely didn&#39;t compile in Java 1.4.2, because an <code>int[]</code> is <b>not</b> a <code>Object[]</code>."},{"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"score":1,"creation_date":1270816481,"post_id":2607289,"comment_id":2617486,"body_markdown":"Oh, you may be right. I didn&#39;t have Java 1.4.2 compiler around to test my example before posting. Now, after your comment and Joe&#39;s answer, everything makes much more sense.","body":"Oh, you may be right. I didn&#39;t have Java 1.4.2 compiler around to test my example before posting. Now, after your comment and Joe&#39;s answer, everything makes much more sense."},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":1,"creation_date":1378230847,"post_id":2607289,"comment_id":27372396,"body_markdown":"I thought Autoboxing would have covered conversion from primitive to wrapper Integer class. You can make the cast yourself first and then the above code for `Arrays.asList` should work.","body":"I thought Autoboxing would have covered conversion from primitive to wrapper Integer class. You can make the cast yourself first and then the above code for <code>Arrays.asList</code> should work."},{"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"score":2,"creation_date":1431950504,"post_id":2607289,"comment_id":48700921,"body_markdown":"Java 8&#39;s Stream.boxed() will take care of the autoboxing and can be used for this. See my answer [below](http://stackoverflow.com/a/30281879/752918).","body":"Java 8&#39;s Stream.boxed() will take care of the autoboxing and can be used for this. See my answer <a href=\"http://stackoverflow.com/a/30281879/752918\">below</a>."}],"answers":[{"comments":[{"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"score":4,"creation_date":1270816124,"post_id":2607327,"comment_id":2617446,"body_markdown":"I understand what happened, but not why it is not documented. I am looking for an alternative solution without reimplementing the wheel.","body":"I understand what happened, but not why it is not documented. I am looking for an alternative solution without reimplementing the wheel."}],"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":1,"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1652098699,"creation_date":1270815986,"answer_id":2607327,"question_id":2607289,"body_markdown":"The problem is that varargs got introduced in Java 5 and unfortunately, `Arrays.asList()` got overloaded with a vararg version too. So `Arrays.asList(numbers)` is understood by the Java 5 compiler as a vararg parameter of int arrays.\r\n\r\nThis problem is explained in more details in Effective Java 2nd Ed., Chapter 7, Item 42.","title":"Converting array to list in Java","body":"<p>The problem is that varargs got introduced in Java 5 and unfortunately, <code>Arrays.asList()</code> got overloaded with a vararg version too. So <code>Arrays.asList(numbers)</code> is understood by the Java 5 compiler as a vararg parameter of int arrays.</p>\n<p>This problem is explained in more details in Effective Java 2nd Ed., Chapter 7, Item 42.</p>\n"},{"comments":[{"owner":{"account_id":88318,"reputation":8934,"user_id":244360,"accept_rate":78,"display_name":"Kong"},"score":128,"creation_date":1377310697,"post_id":2607335,"comment_id":27050473,"body_markdown":"Or even simpler: Arrays.asList(1, 2, 3);","body":"Or even simpler: Arrays.asList(1, 2, 3);"},{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":67,"creation_date":1396822077,"post_id":2607335,"comment_id":34949367,"body_markdown":"How does it know not to create a `List&lt;Integer[]&gt;`?","body":"How does it know not to create a <code>List&lt;Integer[]&gt;</code>?"},{"owner":{"account_id":1895262,"reputation":514,"user_id":1712376,"display_name":"user1712376"},"score":8,"creation_date":1400876667,"post_id":2607335,"comment_id":36680141,"body_markdown":"@ThomasAhle \nIt does not create a List&lt;Integer[]&gt; it creates a List&lt;Integer&gt; object. And if you want to be type safe you write:\n\nArrays.&lt;Integer&gt;asList(spam);","body":"@ThomasAhle  It does not create a List&lt;Integer[]&gt; it creates a List&lt;Integer&gt; object. And if you want to be type safe you write:  Arrays.&lt;Integer&gt;asList(spam);"},{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":1,"creation_date":1400878070,"post_id":2607335,"comment_id":36680762,"body_markdown":"@user1712376 I just mean, it&#39;s odd. If I want to create a list of one `Long x` I would do `Arrays.asList(x)`. If I want to create a list of one `Long[] x2` I would do `Arrays.asList(x2)`, but now I&#39;m not sure what I would get out...","body":"@user1712376 I just mean, it&#39;s odd. If I want to create a list of one <code>Long x</code> I would do <code>Arrays.asList(x)</code>. If I want to create a list of one <code>Long[] x2</code> I would do <code>Arrays.asList(x2)</code>, but now I&#39;m not sure what I would get out..."},{"owner":{"account_id":1895262,"reputation":514,"user_id":1712376,"display_name":"user1712376"},"score":2,"creation_date":1400884969,"post_id":2607335,"comment_id":36683302,"body_markdown":"@ThomasAhle you could pass in Arrays.asList 0 or more elements, in comma separated format or array format whichever you desire. And the result will always be the same - a list of the elements you specified. And this is because of the method signature : public static &lt;T&gt; List&lt;T&gt; asList(T... a).  Here you can read more about varargs http://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html#varargs","body":"@ThomasAhle you could pass in Arrays.asList 0 or more elements, in comma separated format or array format whichever you desire. And the result will always be the same - a list of the elements you specified. And this is because of the method signature : public static &lt;T&gt; List&lt;T&gt; asList(T... a).  Here you can read more about varargs <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html#varargs\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":477104,"reputation":321,"user_id":888392,"accept_rate":100,"display_name":"Simon"},"score":9,"creation_date":1415042372,"post_id":2607335,"comment_id":42032715,"body_markdown":"@ThomasAhle That is a good question. A guess it&#39;s just a rule in the java compiler. For exemple the following code returns a List&lt;Integer[]&gt;\n `Integer[] integerArray1 = { 1 };\nInteger[] integerArray2 = { 2 };\nList&lt;Integer[]&gt; integerArrays = Arrays.asList(integerArray1, integerArray2);\n`","body":"@ThomasAhle That is a good question. A guess it&#39;s just a rule in the java compiler. For exemple the following code returns a List&lt;Integer[]&gt;  <code>Integer[] integerArray1 = { 1 }; Integer[] integerArray2 = { 2 }; List&lt;Integer[]&gt; integerArrays = Arrays.asList(integerArray1, integerArray2); </code>"},{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":0,"creation_date":1415118946,"post_id":2607335,"comment_id":42066509,"body_markdown":"Yes, it seems like the have a special rule for detecting when single arrays are passed. I wonder if `Arrays.&lt;Integer[]&gt;asList(spam);` would give a compile error?","body":"Yes, it seems like the have a special rule for detecting when single arrays are passed. I wonder if <code>Arrays.&lt;Integer[]&gt;asList(spam);</code> would give a compile error?"},{"owner":{"account_id":2138149,"reputation":5541,"user_id":1897423,"accept_rate":57,"display_name":"Lingviston"},"score":0,"creation_date":1472131318,"post_id":2607335,"comment_id":65636767,"body_markdown":"For me in failed if I used the primitive type array. I.e. int[]. The result was List&lt;Integer[]&gt;","body":"For me in failed if I used the primitive type array. I.e. int[]. The result was List&lt;Integer[]&gt;"},{"owner":{"account_id":3190994,"reputation":1286,"user_id":2695227,"display_name":"pedram bashiri"},"score":0,"creation_date":1491852420,"post_id":2607335,"comment_id":73726967,"body_markdown":"I have &quot;double[] observations&quot;, and doing &quot;Arrays.asList(observations) &quot; returns &quot;List&lt;double[]&gt;&quot; which obviously is not what I needed!","body":"I have &quot;double[] observations&quot;, and doing &quot;Arrays.asList(observations) &quot; returns &quot;List&lt;double[]&gt;&quot; which obviously is not what I needed!"},{"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"score":2,"creation_date":1506219689,"post_id":2607335,"comment_id":79729910,"body_markdown":"@pedrambashiri It doesn&#39;t work for primitive arrays, like `int[]`, `long[]`, `double[]`, just for `Integer[]`, `Long[]`, `Double[]` ...","body":"@pedrambashiri It doesn&#39;t work for primitive arrays, like <code>int[]</code>, <code>long[]</code>, <code>double[]</code>, just for <code>Integer[]</code>, <code>Long[]</code>, <code>Double[]</code> ..."},{"owner":{"account_id":3190994,"reputation":1286,"user_id":2695227,"display_name":"pedram bashiri"},"score":1,"creation_date":1515018981,"post_id":2607335,"comment_id":83147250,"body_markdown":"@deFreitas exactly, and the question was for a primitive array int[]","body":"@deFreitas exactly, and the question was for a primitive array int[]"},{"owner":{"account_id":8872016,"reputation":111,"user_id":6625465,"display_name":"NiNa"},"score":0,"creation_date":1536828118,"post_id":2607335,"comment_id":91566631,"body_markdown":".asList() method on Arrays returns an ArrayList. The method accepts variable arguments of primitive type. As only primitive data types can be used as generic for Collections, this explains the reason for compile time failure.","body":".asList() method on Arrays returns an ArrayList. The method accepts variable arguments of primitive type. As only primitive data types can be used as generic for Collections, this explains the reason for compile time failure."},{"owner":{"account_id":1487898,"reputation":396,"user_id":1395724,"accept_rate":60,"display_name":"tienthanhakay"},"score":2,"creation_date":1546426516,"post_id":2607335,"comment_id":94846770,"body_markdown":"Remember that, Arrays.asList() returns an Arrays$ArrayList which is fixed-size list and keep reference to the original array. It provides an api to work with actual array via List&#39;s methods.","body":"Remember that, Arrays.asList() returns an Arrays$ArrayList which is fixed-size list and keep reference to the original array. It provides an api to work with actual array via List&#39;s methods."},{"owner":{"account_id":2495633,"reputation":241,"user_id":2172133,"display_name":"theferrit32"},"score":1,"creation_date":1564791813,"post_id":2607335,"comment_id":101158829,"body_markdown":"There&#39;s no special rule. It doesn&#39;t create a `List&lt;Integer[]&gt;` because the input is an `Integer[]`, not a `Integer[][]`. You passed a `Integer[]` so it returns a `List&lt;Integer&gt;`. I think it&#39;s helpful to remember that java varargs is just syntactic sugar on top of object arrays. `T... a` in `asList` is just a `T[]`, which is converted to a `List&lt;T&gt;`.  If you had passed two `Integer[]` (separated by commas) or a `Integer[][]` it would return a `List&lt;Integer[]&gt;`.  `Arrays.asList(new Integer[]{1,2}, new Integer[]{3,4});`  is equivalent to `Arrays.asList(new Integer[][]{{1,2}, {3,4}});`","body":"There&#39;s no special rule. It doesn&#39;t create a <code>List&lt;Integer[]&gt;</code> because the input is an <code>Integer[]</code>, not a <code>Integer[][]</code>. You passed a <code>Integer[]</code> so it returns a <code>List&lt;Integer&gt;</code>. I think it&#39;s helpful to remember that java varargs is just syntactic sugar on top of object arrays. <code>T... a</code> in <code>asList</code> is just a <code>T[]</code>, which is converted to a <code>List&lt;T&gt;</code>.  If you had passed two <code>Integer[]</code> (separated by commas) or a <code>Integer[][]</code> it would return a <code>List&lt;Integer[]&gt;</code>.  <code>Arrays.asList(new Integer[]{1,2}, new Integer[]{3,4});</code>  is equivalent to <code>Arrays.asList(new Integer[][]{{1,2}, {3,4}});</code>"},{"owner":{"account_id":2495633,"reputation":241,"user_id":2172133,"display_name":"theferrit32"},"score":2,"creation_date":1564792018,"post_id":2607335,"comment_id":101158855,"body_markdown":"What happens when you send it a primitive array, is that it interprets that primitive array as the first vararg. This happens because `asList` requires objects because it and `List` use generic typing which requires objects, not primitives. Since an `int` is not an object, but an `int[]` is an object, it interprets it differently than if you sent an `Integer[]` which is an object array containing `Integer` objects. So in the second case it treats the `Integers` within the array as the vararg terms instead of the `Integer[]` as a vararg term itself.","body":"What happens when you send it a primitive array, is that it interprets that primitive array as the first vararg. This happens because <code>asList</code> requires objects because it and <code>List</code> use generic typing which requires objects, not primitives. Since an <code>int</code> is not an object, but an <code>int[]</code> is an object, it interprets it differently than if you sent an <code>Integer[]</code> which is an object array containing <code>Integer</code> objects. So in the second case it treats the <code>Integers</code> within the array as the vararg terms instead of the <code>Integer[]</code> as a vararg term itself."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1597823643,"post_id":2607335,"comment_id":112255913,"body_markdown":"@theferrit32 you can create a `List&lt;Integer[]&gt; list = Arrays.&lt;Integer[]&gt;asList(spam);` The logic has been specified in JLS&#160;&#167;15.12.2. The reason is, as you said, that varargs are syntactic sugar for an array argument and hence, have to stay backwards compatible to code passing in a matching array.","body":"@theferrit32 you can create a <code>List&lt;Integer[]&gt; list = Arrays.&lt;Integer[]&gt;asList(spam);</code> The logic has been specified in JLS &#167;15.12.2. The reason is, as you said, that varargs are syntactic sugar for an array argument and hence, have to stay backwards compatible to code passing in a matching array."},{"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":1,"creation_date":1612664460,"post_id":2607335,"comment_id":116836949,"body_markdown":"This doesnt answer the question. Can you please update your answer on how to convert int[] to Integer[]? Op has a primitive int[] not wrapper Integer[].","body":"This doesnt answer the question. Can you please update your answer on how to convert int[] to Integer[]? Op has a primitive int[] not wrapper Integer[]."},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":1,"creation_date":1625046160,"post_id":2607335,"comment_id":120520774,"body_markdown":"Beware! The array is still behind the list interface, which means you cant remove something as the array has a fixed size!","body":"Beware! The array is still behind the list interface, which means you cant remove something as the array has a fixed size!"}],"tags":[],"owner":{"account_id":15102,"reputation":45656,"user_id":31563,"accept_rate":70,"display_name":"Joe Daley"},"comment_count":18,"down_vote_count":8,"up_vote_count":1720,"is_accepted":true,"score":1712,"last_activity_date":1652098660,"creation_date":1270816043,"answer_id":2607335,"question_id":2607289,"body_markdown":"In your example, it is because you can&#39;t have a List of a primitive type. In other words, `List&lt;int&gt;` is not possible. \r\n\r\nYou can, however, have a `List&lt;Integer&gt;` using the [`Integer`][1] class that wraps the `int` primitive. Convert your array to a [`List`][2] with the [`Arrays.asList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#asList(T...)) utility method.\r\n\r\n    Integer[] numbers = new Integer[] { 1, 2, 3 };\r\n    List&lt;Integer&gt; list = Arrays.asList(numbers);\r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html\r\n  [3]: https://ideone.com/KVd5j4","title":"Converting array to list in Java","body":"<p>In your example, it is because you can't have a List of a primitive type. In other words, <code>List&lt;int&gt;</code> is not possible.</p>\n<p>You can, however, have a <code>List&lt;Integer&gt;</code> using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\" rel=\"noreferrer\"><code>Integer</code></a> class that wraps the <code>int</code> primitive. Convert your array to a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> with the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\"><code>Arrays.asList</code></a> utility method.</p>\n<pre><code>Integer[] numbers = new Integer[] { 1, 2, 3 };\nList&lt;Integer&gt; list = Arrays.asList(numbers);\n</code></pre>\n<p>See this <a href=\"https://ideone.com/KVd5j4\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n"},{"comments":[{"owner":{"account_id":176957,"reputation":1504,"user_id":407986,"accept_rate":43,"display_name":"Dmitry"},"score":3,"creation_date":1416766600,"post_id":25265142,"comment_id":42691081,"body_markdown":"java: incompatible types: int[] cannot be converted to java.lang.Object[]","body":"java: incompatible types: int[] cannot be converted to java.lang.Object[]"},{"owner":{"account_id":163879,"reputation":894,"user_id":386307,"display_name":"Nebril"},"score":0,"creation_date":1419703490,"post_id":25265142,"comment_id":43754792,"body_markdown":"@dVaffection Then cast to int[]. Important part is to cast to an array.","body":"@dVaffection Then cast to int[]. Important part is to cast to an array."}],"tags":[],"owner":{"account_id":217536,"reputation":341,"user_id":473384,"display_name":"Giancarlo Frison"},"comment_count":2,"down_vote_count":5,"up_vote_count":11,"is_accepted":false,"score":6,"last_activity_date":1407848899,"creation_date":1407848899,"answer_id":25265142,"question_id":2607289,"body_markdown":"you have to cast in to array\r\n\r\n    Arrays.asList((Object[]) array)","title":"Converting array to list in Java","body":"<p>you have to cast in to array</p>\n\n<pre><code>Arrays.asList((Object[]) array)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":12,"creation_date":1409506711,"post_id":25594467,"comment_id":39978610,"body_markdown":"`new ArrayList&lt;ListItem&gt;(Arrays.asList(itemsArray))` would to the same","body":"<code>new ArrayList&lt;ListItem&gt;(Arrays.asList(itemsArray))</code> would to the same"},{"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"score":1,"creation_date":1424876731,"post_id":25594467,"comment_id":45731426,"body_markdown":"@BradyZhu: Granted the answer above does not solve my problem with the fixed size array, but you are basically saying RTFM here, which is always bad form.  Please expound on what is wrong with the answer or don&#39;t bother to comment.","body":"@BradyZhu: Granted the answer above does not solve my problem with the fixed size array, but you are basically saying RTFM here, which is always bad form.  Please expound on what is wrong with the answer or don&#39;t bother to comment."},{"owner":{"account_id":1130295,"reputation":16057,"user_id":1116549,"display_name":"Darek Kay"},"score":2,"creation_date":1429882468,"post_id":25594467,"comment_id":47823746,"body_markdown":"Inspection tools may show a warning here, and you&#39;ve named the reason. There is no need to copy the elements manually, use `Collections.addAll(items, itemsArray)` instead.","body":"Inspection tools may show a warning here, and you&#39;ve named the reason. There is no need to copy the elements manually, use <code>Collections.addAll(items, itemsArray)</code> instead."},{"owner":{"display_name":"user1021364"},"score":0,"creation_date":1467797744,"post_id":25594467,"comment_id":63863914,"body_markdown":"Just hit this exception. I am afraid Marco13&#39;s answer should be the correct answer. I may need to go though whole year code to fix all &quot;asList&quot; exception.","body":"Just hit this exception. I am afraid Marco13&#39;s answer should be the correct answer. I may need to go though whole year code to fix all &quot;asList&quot; exception."}],"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"comment_count":4,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1409505984,"creation_date":1409505984,"answer_id":25594467,"question_id":2607289,"body_markdown":"I recently had to convert an array to a List.  Later on the program filtered the list attempting to remove the data.  When you use the Arrays.asList(array) function, you create a fixed size collection:  you can neither add nor delete.  This entry explains the problem better than I can: [https://stackoverflow.com/questions/2965747/why-i-get-unsupportedoperationexception-when-trying-to-remove-from-the-list][1].\r\n\r\nIn the end, I had to do a &quot;manual&quot; conversion:\r\n\r\n        List&lt;ListItem&gt; items = new ArrayList&lt;ListItem&gt;();\r\n\t\tfor (ListItem item: itemsArray) {\r\n\t\t\titems.add(item);\r\n\t\t}\r\n\r\nI suppose I could have added conversion from an array to a list using an List.addAll(items) operation. \r\n\r\n  [1]: https://stackoverflow.com/questions/2965747/why-i-get-unsupportedoperationexception-when-trying-to-remove-from-the-list","title":"Converting array to list in Java","body":"<p>I recently had to convert an array to a List.  Later on the program filtered the list attempting to remove the data.  When you use the Arrays.asList(array) function, you create a fixed size collection:  you can neither add nor delete.  This entry explains the problem better than I can: <a href=\"https://stackoverflow.com/questions/2965747/why-i-get-unsupportedoperationexception-when-trying-to-remove-from-the-list\">Why do I get an UnsupportedOperationException when trying to remove an element from a List?</a>.</p>\n\n<p>In the end, I had to do a \"manual\" conversion:</p>\n\n<pre><code>    List&lt;ListItem&gt; items = new ArrayList&lt;ListItem&gt;();\n    for (ListItem item: itemsArray) {\n        items.add(item);\n    }\n</code></pre>\n\n<p>I suppose I could have added conversion from an array to a list using an List.addAll(items) operation. </p>\n"},{"comments":[{"owner":{"account_id":6397974,"reputation":4200,"user_id":4961688,"accept_rate":100,"display_name":"Tim Pohlmann"},"score":1,"creation_date":1508311536,"post_id":26076682,"comment_id":80556477,"body_markdown":"&quot;immutability&quot; confused me for a moment. You can obviously change the array&#39;s values. You cannot change its size, however.","body":"&quot;immutability&quot; confused me for a moment. You can obviously change the array&#39;s values. You cannot change its size, however."}],"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1508398866,"creation_date":1411834927,"answer_id":26076682,"question_id":2607289,"body_markdown":"Speaking about conversion way, it depends on why do you need your `List`.\r\nIf you need it just to read data. OK, here you go:\r\n\r\n    Integer[] values = { 1, 3, 7 };\r\n    List&lt;Integer&gt; list = Arrays.asList(values);\r\n\r\nBut then if you do something like this:\r\n\r\n    list.add(1);\r\n\r\nyou get `java.lang.UnsupportedOperationException`.\r\nSo for some cases you even need this:\r\n\r\n    Integer[] values = { 1, 3, 7 };\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(values));\r\n\r\nFirst approach actually does not convert array but &#39;represents&#39; it like a `List`. But array is under the hood with all its properties like fixed number of elements. Please note you need to specify type when constructing `ArrayList`.\r\n\r\n\r\n\r\n\r\n","title":"Converting array to list in Java","body":"<p>Speaking about conversion way, it depends on why do you need your <code>List</code>.\nIf you need it just to read data. OK, here you go:</p>\n\n<pre><code>Integer[] values = { 1, 3, 7 };\nList&lt;Integer&gt; list = Arrays.asList(values);\n</code></pre>\n\n<p>But then if you do something like this:</p>\n\n<pre><code>list.add(1);\n</code></pre>\n\n<p>you get <code>java.lang.UnsupportedOperationException</code>.\nSo for some cases you even need this:</p>\n\n<pre><code>Integer[] values = { 1, 3, 7 };\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(values));\n</code></pre>\n\n<p>First approach actually does not convert array but 'represents' it like a <code>List</code>. But array is under the hood with all its properties like fixed number of elements. Please note you need to specify type when constructing <code>ArrayList</code>.</p>\n"},{"comments":[{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":1,"creation_date":1582311535,"post_id":30281879,"comment_id":106747203,"body_markdown":"This is nice, but it won&#39;t work for `boolean[]`.  I guess that&#39;s because it&#39;s just as easy to make a `Boolean[]`.  That&#39;s probably a better solution.  Anyway, it&#39;s an interesting quirk.","body":"This is nice, but it won&#39;t work for <code>boolean[]</code>.  I guess that&#39;s because it&#39;s just as easy to make a <code>Boolean[]</code>.  That&#39;s probably a better solution.  Anyway, it&#39;s an interesting quirk."},{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":4,"creation_date":1637666775,"post_id":30281879,"comment_id":123882111,"body_markdown":"simplified in Java 16 as Arrays.stream(spam).boxed().toList();","body":"simplified in Java 16 as Arrays.stream(spam).boxed().toList();"}],"tags":[],"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"comment_count":2,"down_vote_count":2,"up_vote_count":268,"is_accepted":false,"score":266,"last_activity_date":1652098670,"creation_date":1431820156,"answer_id":30281879,"question_id":2607289,"body_markdown":"In Java 8, you can use streams:\r\n\r\n    int[] numbers = new int[] { 1, 2, 3 };\r\n    Arrays.stream(numbers)\r\n          .boxed()\r\n          .collect(Collectors.toList());","title":"Converting array to list in Java","body":"<p>In Java 8, you can use streams:</p>\n<pre><code>int[] numbers = new int[] { 1, 2, 3 };\nArrays.stream(numbers)\n      .boxed()\n      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1652098718,"creation_date":1442838441,"answer_id":32695224,"question_id":2607289,"body_markdown":"Another workaround if you use Apache commons-lang:\r\n\r\n    int[] numbers = new int[] { 1, 2, 3 };\r\n    Arrays.asList(ArrayUtils.toObject(numbers));\r\n\r\nWhere [ArrayUtils.toObject][1] converts `int[]` to `Integer[]`\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html#toObject(int[])","title":"Converting array to list in Java","body":"<p>Another workaround if you use Apache commons-lang:</p>\n<pre><code>int[] numbers = new int[] { 1, 2, 3 };\nArrays.asList(ArrayUtils.toObject(numbers));\n</code></pre>\n<p>Where <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html#toObject(int%5B%5D)\" rel=\"nofollow noreferrer\">ArrayUtils.toObject</a> converts <code>int[]</code> to <code>Integer[]</code></p>\n"},{"comments":[{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1549164498,"post_id":34428978,"comment_id":95804213,"body_markdown":"@BasilBourque I meant cannot modify the list&#39;s structure by addition/deletion but can change the elements.","body":"@BasilBourque I meant cannot modify the list&#39;s structure by addition/deletion but can change the elements."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1549172325,"post_id":34428978,"comment_id":95805256,"body_markdown":"Indeed, I tried some code and confirmed that calling `List::add` &amp; `List::remove` fails with a list returned by `Arrays.asList`. The JavaDoc for that method is poorly written and unclear on this point. On my third reading, I suppose the phrase “fixed-size” there was meant to say one cannot add or remove elements.","body":"Indeed, I tried some code and confirmed that calling <code>List::add</code> &amp; <code>List::remove</code> fails with a list returned by <code>Arrays.asList</code>. The JavaDoc for that method is poorly written and unclear on this point. On my third reading, I suppose the phrase “fixed-size” there was meant to say one cannot add or remove elements."},{"owner":{"account_id":1482404,"reputation":952,"user_id":1391454,"accept_rate":43,"display_name":"Mubasher"},"score":0,"creation_date":1681116556,"post_id":34428978,"comment_id":134000574,"body_markdown":"comprehensive answer and should be accepted.","body":"comprehensive answer and should be accepted."}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":3,"down_vote_count":1,"up_vote_count":194,"is_accepted":false,"score":193,"last_activity_date":1644589873,"creation_date":1450847223,"answer_id":34428978,"question_id":2607289,"body_markdown":"We cannot have `List&lt;int&gt;` as `int` is a primitive type so we can only have `List&lt;Integer&gt;`. \r\n\r\n**Java 16**\r\n-----------\r\nJava 16 introduces a new method on Stream API called `toList()`. This handy method returns an unmodifiable List containing the stream elements. So, trying to add a new element to the list will simply lead to `UnsupportedOperationException`.\r\n\r\n    int[] ints = new int[] {1,2,3,4,5};\r\n    Arrays.stream(ints).boxed().toList();\r\n\r\n\r\nJava 8 (int array)\r\n--------------------------\r\n\r\n    int[] ints = new int[] {1,2,3,4,5};\r\n    List&lt;Integer&gt; list11 =Arrays.stream(ints).boxed().collect(Collectors.toList()); \r\n\r\nJava 8 and below (Integer array)\r\n-------------------\r\n\r\n    Integer[] integers = new Integer[] {1,2,3,4,5};\r\n    List&lt;Integer&gt; list21 =  Arrays.asList(integers); // returns a fixed-size list backed by the specified array.\r\n    List&lt;Integer&gt; list22 = new ArrayList&lt;&gt;(Arrays.asList(integers)); // good\r\n    List&lt;Integer&gt; list23 = Arrays.stream(integers).collect(Collectors.toList()); //Java 8 only\r\n\r\nNeed ArrayList and not List?\r\n----------------------------\r\n\r\nIn case we want a specific implementation of `List` e.g. `ArrayList` then we can use `toCollection` as:\r\n\r\n    ArrayList&lt;Integer&gt; list24 = Arrays.stream(integers)\r\n                              .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n----------\r\n\r\n**Why `list21` cannot be structurally modified?**\r\n\r\nWhen we use `Arrays.asList` the size of the returned list is fixed because the list returned is not `java.util.ArrayList`, but a private static class defined inside `java.util.Arrays`. So if we add or remove elements from the returned list, an `UnsupportedOperationException` will be thrown. So we should go with `list22` when we want to modify the list. If we have Java8 then we can also go with `list23`.\r\n\r\nTo be clear `list21` can be modified in sense that we can call `list21.set(index,element)` but this list may not be structurally modified i.e. cannot add or remove elements from the list. You can also check this [answer][1] of mine for more explanation.\r\n\r\n----------\r\nIf we want an immutable list then we can wrap it as:\r\n\r\n    List&lt;Integer&gt; list22 = Collections.unmodifiableList(Arrays.asList(integers));\r\n\r\nAnother point to note is that the method `Collections.unmodifiableList` returns an unmodifiable view of the specified list. An unmodifiable view collection is a collection that is unmodifiable and is also a view onto a backing collection. Note that changes to the backing collection might still be possible, and if they occur, they are visible through the unmodifiable view. \r\n\r\nWe can have a truly immutable list in Java 9 and 10.\r\n\r\nTruly Immutable list\r\n-------------------------------------------\r\n\r\nJava 9:\r\n------\r\n\r\n    String[] objects = {&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;};\r\n    List&lt;String&gt; objectList = List.of(objects);\r\n\r\nJava 10 (Truly Immutable list):\r\n-------------------------------------------\r\nWe can use `List.of` introduced in Java 9. Also other ways:\r\n 1. `List.copyOf(Arrays.asList(integers))`\r\n 2. `Arrays.stream(integers).collect(Collectors.toUnmodifiableList());`\r\n\r\n  [1]: https://stackoverflow.com/questions/26027396/arrays-aslist-vs-collections-singletonlist/52536126#52536126","title":"Converting array to list in Java","body":"<p>We cannot have <code>List&lt;int&gt;</code> as <code>int</code> is a primitive type so we can only have <code>List&lt;Integer&gt;</code>.</p>\n<h2><strong>Java 16</strong></h2>\n<p>Java 16 introduces a new method on Stream API called <code>toList()</code>. This handy method returns an unmodifiable List containing the stream elements. So, trying to add a new element to the list will simply lead to <code>UnsupportedOperationException</code>.</p>\n<pre><code>int[] ints = new int[] {1,2,3,4,5};\nArrays.stream(ints).boxed().toList();\n</code></pre>\n<h2>Java 8 (int array)</h2>\n<pre><code>int[] ints = new int[] {1,2,3,4,5};\nList&lt;Integer&gt; list11 =Arrays.stream(ints).boxed().collect(Collectors.toList()); \n</code></pre>\n<h2>Java 8 and below (Integer array)</h2>\n<pre><code>Integer[] integers = new Integer[] {1,2,3,4,5};\nList&lt;Integer&gt; list21 =  Arrays.asList(integers); // returns a fixed-size list backed by the specified array.\nList&lt;Integer&gt; list22 = new ArrayList&lt;&gt;(Arrays.asList(integers)); // good\nList&lt;Integer&gt; list23 = Arrays.stream(integers).collect(Collectors.toList()); //Java 8 only\n</code></pre>\n<h2>Need ArrayList and not List?</h2>\n<p>In case we want a specific implementation of <code>List</code> e.g. <code>ArrayList</code> then we can use <code>toCollection</code> as:</p>\n<pre><code>ArrayList&lt;Integer&gt; list24 = Arrays.stream(integers)\n                          .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n<hr />\n<p><strong>Why <code>list21</code> cannot be structurally modified?</strong></p>\n<p>When we use <code>Arrays.asList</code> the size of the returned list is fixed because the list returned is not <code>java.util.ArrayList</code>, but a private static class defined inside <code>java.util.Arrays</code>. So if we add or remove elements from the returned list, an <code>UnsupportedOperationException</code> will be thrown. So we should go with <code>list22</code> when we want to modify the list. If we have Java8 then we can also go with <code>list23</code>.</p>\n<p>To be clear <code>list21</code> can be modified in sense that we can call <code>list21.set(index,element)</code> but this list may not be structurally modified i.e. cannot add or remove elements from the list. You can also check this <a href=\"https://stackoverflow.com/questions/26027396/arrays-aslist-vs-collections-singletonlist/52536126#52536126\">answer</a> of mine for more explanation.</p>\n<hr />\n<p>If we want an immutable list then we can wrap it as:</p>\n<pre><code>List&lt;Integer&gt; list22 = Collections.unmodifiableList(Arrays.asList(integers));\n</code></pre>\n<p>Another point to note is that the method <code>Collections.unmodifiableList</code> returns an unmodifiable view of the specified list. An unmodifiable view collection is a collection that is unmodifiable and is also a view onto a backing collection. Note that changes to the backing collection might still be possible, and if they occur, they are visible through the unmodifiable view.</p>\n<p>We can have a truly immutable list in Java 9 and 10.</p>\n<h2>Truly Immutable list</h2>\n<h2>Java 9:</h2>\n<pre><code>String[] objects = {&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;};\nList&lt;String&gt; objectList = List.of(objects);\n</code></pre>\n<h2>Java 10 (Truly Immutable list):</h2>\n<p>We can use <code>List.of</code> introduced in Java 9. Also other ways:</p>\n<ol>\n<li><code>List.copyOf(Arrays.asList(integers))</code></li>\n<li><code>Arrays.stream(integers).collect(Collectors.toUnmodifiableList());</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18477,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1457669746,"creation_date":1457669746,"answer_id":35932105,"question_id":2607289,"body_markdown":"One-liner:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(new Integer[] {1, 2, 3, 4});","title":"Converting array to list in Java","body":"<p>One-liner:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(new Integer[] {1, 2, 3, 4});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8060532,"reputation":127,"user_id":6076212,"display_name":"Vitaliy Sokolov"},"comment_count":0,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1458208505,"creation_date":1458208505,"answer_id":36057027,"question_id":2607289,"body_markdown":"Even shorter: \r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\r\n","title":"Converting array to list in Java","body":"<p>Even shorter: </p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30900,"reputation":9089,"user_id":84540,"accept_rate":81,"display_name":"nybon"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528992316,"creation_date":1471013520,"answer_id":38920860,"question_id":2607289,"body_markdown":"If you are targeting Java 8 (or later), you can try this:\r\n    \r\n    int[] numbers = new int[] {1, 2, 3, 4};\r\n    List&lt;Integer&gt; integers = Arrays.stream(numbers)\r\n                            .boxed().collect(Collectors.&lt;Integer&gt;toList());\r\n\r\n\r\nNOTE:\r\n\r\nPay attention to the `Collectors.&lt;Integer&gt;toList()`, this generic method helps you to avoid the error &quot;Type mismatch: cannot convert from `List&lt;Object&gt;` to `List&lt;Integer&gt;`&quot;.\r\n","title":"Converting array to list in Java","body":"<p>If you are targeting Java 8 (or later), you can try this:</p>\n\n<pre><code>int[] numbers = new int[] {1, 2, 3, 4};\nList&lt;Integer&gt; integers = Arrays.stream(numbers)\n                        .boxed().collect(Collectors.&lt;Integer&gt;toList());\n</code></pre>\n\n<p>NOTE:</p>\n\n<p>Pay attention to the <code>Collectors.&lt;Integer&gt;toList()</code>, this generic method helps you to avoid the error \"Type mismatch: cannot convert from <code>List&lt;Object&gt;</code> to <code>List&lt;Integer&gt;</code>\".</p>\n"},{"tags":[],"owner":{"account_id":5516910,"reputation":5424,"user_id":4381330,"accept_rate":92,"display_name":"Mincong Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1488665566,"creation_date":1488665566,"answer_id":42602008,"question_id":2607289,"body_markdown":"### Using Arrays\r\n\r\nThis is the simplest way to convert an array to `List`. However, if you try to add a new element or remove an existing element from the list, an `UnsupportedOperationException` will be thrown.\r\n\r\n    Integer[] existingArray = {1, 2, 3};\r\n    List&lt;Integer&gt; list1 = Arrays.asList(existingArray);\r\n    List&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3);\r\n\r\n    // WARNING:\r\n    list2.add(1);     // Unsupported operation!\r\n    list2.remove(1);  // Unsupported operation!\r\n\r\n### Using ArrayList or Other List Implementations\r\n\r\nYou can use a `for` loop to add all the elements of the array into a `List` implementation, e.g. `ArrayList`:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for (int i : new int[]{1, 2, 3}) {\r\n      list.add(i);\r\n    }\r\n\r\n### Using Stream API in Java 8\r\n\r\nYou can turn the array into a stream, then collect the stream using different collectors: The default collector in Java 8 use `ArrayList` behind the screen, but you can also impose your preferred implementation.\r\n\r\n    List&lt;Integer&gt; list1, list2, list3;\r\n    list1 = Stream.of(1, 2, 3).collect(Collectors.toList());\r\n    list2 = Stream.of(1, 2, 3).collect(Collectors.toCollection(ArrayList::new));\r\n    list3 = Stream.of(1, 2, 3).collect(Collectors.toCollection(LinkedList::new));\r\n\r\nSee also:\r\n\r\n- [Why do we use autoboxing and unboxing in Java?][box]\r\n- [When to use LinkedList over ArrayList?][ArrayList vs LinkedList]\r\n\r\n[box]: https://stackoverflow.com/questions/27647407/why-do-we-use-autoboxing-and-unboxing-in-java\r\n[ArrayList vs LinkedList]: https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\r\n","title":"Converting array to list in Java","body":"<h3>Using Arrays</h3>\n\n<p>This is the simplest way to convert an array to <code>List</code>. However, if you try to add a new element or remove an existing element from the list, an <code>UnsupportedOperationException</code> will be thrown.</p>\n\n<pre><code>Integer[] existingArray = {1, 2, 3};\nList&lt;Integer&gt; list1 = Arrays.asList(existingArray);\nList&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3);\n\n// WARNING:\nlist2.add(1);     // Unsupported operation!\nlist2.remove(1);  // Unsupported operation!\n</code></pre>\n\n<h3>Using ArrayList or Other List Implementations</h3>\n\n<p>You can use a <code>for</code> loop to add all the elements of the array into a <code>List</code> implementation, e.g. <code>ArrayList</code>:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int i : new int[]{1, 2, 3}) {\n  list.add(i);\n}\n</code></pre>\n\n<h3>Using Stream API in Java 8</h3>\n\n<p>You can turn the array into a stream, then collect the stream using different collectors: The default collector in Java 8 use <code>ArrayList</code> behind the screen, but you can also impose your preferred implementation.</p>\n\n<pre><code>List&lt;Integer&gt; list1, list2, list3;\nlist1 = Stream.of(1, 2, 3).collect(Collectors.toList());\nlist2 = Stream.of(1, 2, 3).collect(Collectors.toCollection(ArrayList::new));\nlist3 = Stream.of(1, 2, 3).collect(Collectors.toCollection(LinkedList::new));\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27647407/why-do-we-use-autoboxing-and-unboxing-in-java\">Why do we use autoboxing and unboxing in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\">When to use LinkedList over ArrayList?</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10198121,"reputation":409,"user_id":7529335,"display_name":"Jose Anibal Rodriguez"},"score":0,"creation_date":1637783726,"post_id":44481846,"comment_id":123921242,"body_markdown":"This is the easiest way and should be marked as the right answer. Thanks @yousef","body":"This is the easiest way and should be marked as the right answer. Thanks @yousef"}],"tags":[],"owner":{"account_id":4601207,"reputation":1353,"user_id":3731900,"accept_rate":14,"display_name":"yousef"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1630690665,"creation_date":1497169870,"answer_id":44481846,"question_id":2607289,"body_markdown":"use two line of code to convert array to list if you use it in integer value\r\nyou must use autoboxing type for primitive data type\r\n\r\n      Integer [] arr={1,2};\r\n      List&lt;Integer&gt; listInt=Arrays.asList(arr);","title":"Converting array to list in Java","body":"<p>use two line of code to convert array to list if you use it in integer value\nyou must use autoboxing type for primitive data type</p>\n<pre><code>  Integer [] arr={1,2};\n  List&lt;Integer&gt; listInt=Arrays.asList(arr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4961451,"reputation":1211,"user_id":3992420,"accept_rate":50,"display_name":"Hitesh Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501222917,"creation_date":1501222917,"answer_id":45366236,"question_id":2607289,"body_markdown":"So it depends on which Java version you are trying-\r\n\r\nJava 7\r\n------\r\n\r\n     Arrays.asList(1, 2, 3);\r\n\r\nOR\r\n\r\n           final String arr[] = new String[] { &quot;G&quot;, &quot;E&quot;, &quot;E&quot;, &quot;K&quot; };\r\n           final List&lt;String&gt; initialList = new ArrayList&lt;String&gt;() {{\r\n               add(&quot;C&quot;);\r\n               add(&quot;O&quot;);\r\n               add(&quot;D&quot;);\r\n               add(&quot;I&quot;);\r\n               add(&quot;N&quot;);\r\n           }};\r\n     \r\n           // Elements of the array are appended at the end\r\n           Collections.addAll(initialList, arr);\r\nOR \r\n\r\n    Integer[] arr = new Integer[] { 1, 2, 3 };\r\n    Arrays.asList(arr);\r\n\r\n## In Java 8 ##\r\n\r\n    int[] num = new int[] {1, 2, 3};\r\n    List&lt;Integer&gt; list = Arrays.stream(num)\r\n                            .boxed().collect(Collectors.&lt;Integer&gt;toList())\r\n\r\n**Reference** - [http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/][1]\r\n\r\n\r\n  [1]: http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/","title":"Converting array to list in Java","body":"<p>So it depends on which Java version you are trying-</p>\n\n<h2>Java 7</h2>\n\n<pre><code> Arrays.asList(1, 2, 3);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>       final String arr[] = new String[] { \"G\", \"E\", \"E\", \"K\" };\n       final List&lt;String&gt; initialList = new ArrayList&lt;String&gt;() {{\n           add(\"C\");\n           add(\"O\");\n           add(\"D\");\n           add(\"I\");\n           add(\"N\");\n       }};\n\n       // Elements of the array are appended at the end\n       Collections.addAll(initialList, arr);\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>Integer[] arr = new Integer[] { 1, 2, 3 };\nArrays.asList(arr);\n</code></pre>\n\n<h2>In Java 8</h2>\n\n<pre><code>int[] num = new int[] {1, 2, 3};\nList&lt;Integer&gt; list = Arrays.stream(num)\n                        .boxed().collect(Collectors.&lt;Integer&gt;toList())\n</code></pre>\n\n<p><strong>Reference</strong> - <a href=\"http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/\" rel=\"nofollow noreferrer\">http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":11673657,"reputation":353,"user_id":8547947,"display_name":"kleines Filmr&#246;llchen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644589896,"creation_date":1504624745,"answer_id":46058441,"question_id":2607289,"body_markdown":"I&#39;ve had the same problem and wrote a generic function that takes an array and returns an ArrayList of the same type with the same contents:\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; ArrayToArrayList(T[] array) {\r\n\t\tArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n\t\tfor(T elmt : array) list.add(elmt);\r\n\t\treturn list;\r\n\t}","title":"Converting array to list in Java","body":"<p>I've had the same problem and wrote a generic function that takes an array and returns an ArrayList of the same type with the same contents:</p>\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; ArrayToArrayList(T[] array) {\n    ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    for(T elmt : array) list.add(elmt);\n    return list;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1532848373,"post_id":47542599,"comment_id":90121543,"body_markdown":"FYI, to learn some of the technical details behind this, see [*JEP 269: Convenience Factory Methods for Collections*](http://openjdk.java.net/jeps/269) and [a talk by Stuart Marks](https://www.youtube.com/watch?v=OJrIMv4dAek), the principal author.","body":"FYI, to learn some of the technical details behind this, see <a href=\"http://openjdk.java.net/jeps/269\" rel=\"nofollow noreferrer\"><i>JEP 269: Convenience Factory Methods for Collections</i></a> and <a href=\"https://www.youtube.com/watch?v=OJrIMv4dAek\" rel=\"nofollow noreferrer\">a talk by Stuart Marks</a>, the principal author."}],"tags":[],"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1511944958,"creation_date":1511911370,"answer_id":47542599,"question_id":2607289,"body_markdown":"In Java 9 you have the even more elegant solution of using immutable lists via the new convenience factory method [`List.of`](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-E-E-):\r\n\r\n    List&lt;String&gt; immutableList = List.of(&quot;one&quot;,&quot;two&quot;,&quot;three&quot;);\r\n\r\n(shamelessly copied from [here](https://www.journaldev.com/13121/java-9-features-with-examples#factory-methods-immutable) )","title":"Converting array to list in Java","body":"<p>In Java 9 you have the even more elegant solution of using immutable lists via the new convenience factory method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-E-E-\" rel=\"noreferrer\"><code>List.of</code></a>:</p>\n\n<pre><code>List&lt;String&gt; immutableList = List.of(\"one\",\"two\",\"three\");\n</code></pre>\n\n<p>(shamelessly copied from <a href=\"https://www.journaldev.com/13121/java-9-features-with-examples#factory-methods-immutable\" rel=\"noreferrer\">here</a> )</p>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522674628,"creation_date":1522674213,"answer_id":49611856,"question_id":2607289,"body_markdown":" 1. Using Guava:\r\n\r\n        Integer[] array = { 1, 2, 3};\r\n        List&lt;Integer&gt; list = Lists.newArrayList(sourceArray);\r\n\r\n\r\n 2. Using Apache Commons Collections:\r\n\r\n        Integer[] array = { 1, 2, 3};\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;(6);\r\n        CollectionUtils.addAll(list, array);\r\n\r\n\r\n\r\n\r\n","title":"Converting array to list in Java","body":"<ol>\n<li><p>Using Guava:</p>\n\n<pre><code>Integer[] array = { 1, 2, 3};\nList&lt;Integer&gt; list = Lists.newArrayList(sourceArray);\n</code></pre></li>\n<li><p>Using Apache Commons Collections:</p>\n\n<pre><code>Integer[] array = { 1, 2, 3};\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(6);\nCollectionUtils.addAll(list, array);\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567883781,"creation_date":1567883781,"answer_id":57836782,"question_id":2607289,"body_markdown":"**Given Array:**\r\n\r\n        int[] givenArray = {2,2,3,3,4,5};\r\n\r\n**Converting integer array to Integer List**\r\n\r\n**One way:   boxed() -&gt; returns the IntStream**\r\n\r\n        List&lt;Integer&gt; givenIntArray1 = Arrays.stream(givenArray)\r\n                                      .boxed()\r\n                                      .collect(Collectors.toList());\r\n      \r\n\r\n   \r\n\r\n**Second Way:  map each element of the stream to Integer and then collect**\r\n   \r\n**NOTE:** \r\n**Using mapToObj you can covert each int element into string stream, char stream etc by casing i to (char)i**\r\n\r\n        List&lt;Integer&gt; givenIntArray2 = Arrays.stream(givenArray)\r\n                                             .mapToObj(i-&gt;i)\r\n                                             .collect(Collectors.toList());\r\n\r\n**Converting One array Type to Another Type Example:**\r\n     \r\n    List&lt;Character&gt; givenIntArray2 = Arrays.stream(givenArray)\r\n                                                 .mapToObj(i-&gt;(char)i)\r\n                                                 .collect(Collectors.toList());\r\n\r\n","title":"Converting array to list in Java","body":"<p><strong>Given Array:</strong></p>\n\n<pre><code>    int[] givenArray = {2,2,3,3,4,5};\n</code></pre>\n\n<p><strong>Converting integer array to Integer List</strong></p>\n\n<p><strong>One way:   boxed() -> returns the IntStream</strong></p>\n\n<pre><code>    List&lt;Integer&gt; givenIntArray1 = Arrays.stream(givenArray)\n                                  .boxed()\n                                  .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Second Way:  map each element of the stream to Integer and then collect</strong></p>\n\n<p><strong>NOTE:</strong> \n<strong>Using mapToObj you can covert each int element into string stream, char stream etc by casing i to (char)i</strong></p>\n\n<pre><code>    List&lt;Integer&gt; givenIntArray2 = Arrays.stream(givenArray)\n                                         .mapToObj(i-&gt;i)\n                                         .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Converting One array Type to Another Type Example:</strong></p>\n\n<pre><code>List&lt;Character&gt; givenIntArray2 = Arrays.stream(givenArray)\n                                             .mapToObj(i-&gt;(char)i)\n                                             .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2977257,"reputation":35839,"user_id":2528063,"accept_rate":73,"display_name":"MakePeaceGreatAgain"},"score":0,"creation_date":1579438643,"post_id":58846892,"comment_id":105759382,"body_markdown":"Why should **we** improve **your** question? Either you know the answer, or you don&#180;t. You should of course provide an answer that really helps others, not one that confuses more than it helps.","body":"Why should <b>we</b> improve <b>your</b> question? Either you know the answer, or you don&#180;t. You should of course provide an answer that really helps others, not one that confuses more than it helps."}],"tags":[],"owner":{"account_id":395386,"reputation":1084,"user_id":758323,"accept_rate":75,"display_name":"DevilCode"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573685826,"creation_date":1573685826,"answer_id":58846892,"question_id":2607289,"body_markdown":"Can you improve this answer please as this is what I use but im not 100% clear. It works fine but intelliJ added new WeatherStation[0]. Why the 0 ?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        public WeatherStation[] removeElementAtIndex(WeatherStation[] array, int index)\r\n        {\r\n            List&lt;WeatherStation&gt; list = new ArrayList&lt;WeatherStation&gt;(Arrays.asList(array));\r\n            list.remove(index);\r\n            return list.toArray(new WeatherStation[0]);\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Converting array to list in Java","body":"<p>Can you improve this answer please as this is what I use but im not 100% clear. It works fine but intelliJ added new WeatherStation[0]. Why the 0 ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    public WeatherStation[] removeElementAtIndex(WeatherStation[] array, int index)\r\n    {\r\n        List&lt;WeatherStation&gt; list = new ArrayList&lt;WeatherStation&gt;(Arrays.asList(array));\r\n        list.remove(index);\r\n        return list.toArray(new WeatherStation[0]);\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18642036,"reputation":39,"user_id":13587569,"display_name":"Dishant Tanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626769089,"creation_date":1626769089,"answer_id":68451663,"question_id":2607289,"body_markdown":"**Use this to convert an Array `arr` to List.**\r\n`Arrays.stream(arr).collect(Collectors.toList());`\r\n\r\nAn example of defining a generic method to convert an array to a list:\r\n\r\n    \r\n    public &lt;T&gt; List&lt;T&gt; fromArrayToList(T[] a) {   \r\n        return Arrays.stream(a).collect(Collectors.toList());\r\n    }\r\n    \r\n\r\n","title":"Converting array to list in Java","body":"<p><strong>Use this to convert an Array <code>arr</code> to List.</strong>\n<code>Arrays.stream(arr).collect(Collectors.toList());</code></p>\n<p>An example of defining a generic method to convert an array to a list:</p>\n<pre><code>public &lt;T&gt; List&lt;T&gt; fromArrayToList(T[] a) {   \n    return Arrays.stream(a).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13359715,"reputation":69,"user_id":9642174,"display_name":"ivenpoker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632407283,"creation_date":1632407283,"answer_id":69301974,"question_id":2607289,"body_markdown":"As of Java 8, the following should do\r\n```\r\nint[] temp = {1, 2, 3, 4, 5};\r\nList&lt;Integer&gt; tempList = Arrays.stream(temp).boxed().collect(Collectors.toList());\r\n```\r\n","title":"Converting array to list in Java","body":"<p>As of Java 8, the following should do</p>\n<pre><code>int[] temp = {1, 2, 3, 4, 5};\nList&lt;Integer&gt; tempList = Arrays.stream(temp).boxed().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12173438,"reputation":1361,"user_id":8887313,"display_name":"ATOMP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650355692,"creation_date":1650355692,"answer_id":71921599,"question_id":2607289,"body_markdown":"If you are trying to optimize for memory, etc., (and don&#39;t want to pull in external libraries) it&#39;s simpler than you think to implement your own immutable &quot;array view list&quot;&#160;–&#160;you just need to extend `java.util.AbstractList`.\r\n\r\n```java\r\nclass IntArrayViewList extends AbstractList&lt;Integer&gt; {\r\n    int[] backingArray;\r\n    int size;\r\n\r\n    IntArrayViewList(int[] backingArray, int size) {\r\n        this.backingArray = backingArray;\r\n        this.size = size;\r\n    }\r\n\r\n    public Iterator&lt;Integer&gt; iterator() {\r\n        return new Iterator&lt;Integer&gt;() {\r\n            int i = 0;\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return i &lt; size;\r\n            }\r\n\r\n            @Override\r\n            public Integer next() {\r\n                return get(i++);\r\n            }\r\n        };\r\n    }\r\n\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    public Integer get(int i) {\r\n        return backingArray[i];\r\n    }\r\n}\r\n```","title":"Converting array to list in Java","body":"<p>If you are trying to optimize for memory, etc., (and don't want to pull in external libraries) it's simpler than you think to implement your own immutable &quot;array view list&quot; – you just need to extend <code>java.util.AbstractList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class IntArrayViewList extends AbstractList&lt;Integer&gt; {\n    int[] backingArray;\n    int size;\n\n    IntArrayViewList(int[] backingArray, int size) {\n        this.backingArray = backingArray;\n        this.size = size;\n    }\n\n    public Iterator&lt;Integer&gt; iterator() {\n        return new Iterator&lt;Integer&gt;() {\n            int i = 0;\n\n            @Override\n            public boolean hasNext() {\n                return i &lt; size;\n            }\n\n            @Override\n            public Integer next() {\n                return get(i++);\n            }\n        };\n    }\n\n    public int size() {\n        return size;\n    }\n\n    public Integer get(int i) {\n        return backingArray[i];\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13147502,"reputation":336,"user_id":9497126,"display_name":"acakojic"},"score":1,"creation_date":1674857769,"post_id":74139744,"comment_id":132810634,"body_markdown":"I&#39;m using Java 8. And second example will not Work..","body":"I&#39;m using Java 8. And second example will not Work.."}],"tags":[],"owner":{"account_id":179742,"reputation":9030,"user_id":412591,"accept_rate":46,"display_name":"Angelin Nadar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666268317,"creation_date":1666268142,"answer_id":74139744,"question_id":2607289,"body_markdown":"`int` is a primitive. Primitives can’t accept null and have default value. Hence, to accept `null` you need to use wrapper class `Integer`.\r\n\r\n\r\nOption 1: \r\n\r\n    int[] nos = { 1, 2, 3, 4, 5 };\r\n    Integer[] nosWrapped = Arrays.stream(nos).boxed()&#160;&#160;&#160;\r\n                                            .toArray(Integer[]::new);\r\n    nosWrapped[5] = null // can store null\r\n\r\nOption 2:\r\nYou can use any data structure that uses the wrapper class Integer\r\n\r\n    int[] nos = { 1, 2, 3, 4, 5 };\r\n    List&lt;Integer&gt; = Arrays.asList(nos)\r\n\r\n\r\n\r\n","title":"Converting array to list in Java","body":"<p><code>int</code> is a primitive. Primitives can’t accept null and have default value. Hence, to accept <code>null</code> you need to use wrapper class <code>Integer</code>.</p>\n<p>Option 1:</p>\n<pre><code>int[] nos = { 1, 2, 3, 4, 5 };\nInteger[] nosWrapped = Arrays.stream(nos).boxed()   \n                                        .toArray(Integer[]::new);\nnosWrapped[5] = null // can store null\n</code></pre>\n<p>Option 2:\nYou can use any data structure that uses the wrapper class Integer</p>\n<pre><code>int[] nos = { 1, 2, 3, 4, 5 };\nList&lt;Integer&gt; = Arrays.asList(nos)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6484208,"reputation":1561,"user_id":5020311,"display_name":"Enrique Palacio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674928692,"creation_date":1674928692,"answer_id":75269723,"question_id":2607289,"body_markdown":"I started looking at this by trying to reduce the amount of code preparing the input of some test cases. I see a lot of effort around trying to include advanced and new features along with ***Arrays.asList()***, but below the code chosen due simplicity:\r\n\r\n        //Integer input[]\r\n        List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4});\r\n        \r\n        //String input[]\r\n        List&lt;String&gt; names = Arrays.asList(new String[]{&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;});\r\n        \r\n        //String input[]\r\n        List&lt;Character&gt; letters = Arrays.asList(new Character[]{&#39;A&#39;, &#39;B&#39;, &#39;K&#39;, &#39;J&#39;, &#39;F&#39;});\r\n        \r\nPlease notice that Anonymous array example will work just with Arrays of **Non Primitive Types** as the API uses Generics, that&#39;s the reason you can see several 2 line examples around, more info here: https://stackoverflow.com/questions/2721546/why-dont-java-generics-support-primitive-types\r\n\r\nFor newer JDKs there is another simpler option, the below examples are equivalent to the ones show above:\r\n\r\n        //Integer\r\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4);\r\n        \r\n        //String\r\n        List&lt;String&gt; names = Arrays.asList(&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;); \r\n        \r\n        //Character\r\n        List&lt;Character&gt; letters = Arrays.asList(&#39;A&#39;, &#39;B&#39;, &#39;K&#39;, &#39;J&#39;, &#39;F&#39;);","title":"Converting array to list in Java","body":"<p>I started looking at this by trying to reduce the amount of code preparing the input of some test cases. I see a lot of effort around trying to include advanced and new features along with <em><strong>Arrays.asList()</strong></em>, but below the code chosen due simplicity:</p>\n<pre><code>    //Integer input[]\n    List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4});\n    \n    //String input[]\n    List&lt;String&gt; names = Arrays.asList(new String[]{&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;});\n    \n    //String input[]\n    List&lt;Character&gt; letters = Arrays.asList(new Character[]{'A', 'B', 'K', 'J', 'F'});\n    \n</code></pre>\n<p>Please notice that Anonymous array example will work just with Arrays of <strong>Non Primitive Types</strong> as the API uses Generics, that's the reason you can see several 2 line examples around, more info here: <a href=\"https://stackoverflow.com/questions/2721546/why-dont-java-generics-support-primitive-types\">Why don&#39;t Java Generics support primitive types?</a></p>\n<p>For newer JDKs there is another simpler option, the below examples are equivalent to the ones show above:</p>\n<pre><code>    //Integer\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4);\n    \n    //String\n    List&lt;String&gt; names = Arrays.asList(&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;); \n    \n    //Character\n    List&lt;Character&gt; letters = Arrays.asList('A', 'B', 'K', 'J', 'F');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692797523,"creation_date":1692781300,"answer_id":76959848,"question_id":2607289,"body_markdown":"&gt; _&quot;... How do I convert an array to a list in Java? ...&quot;_\r\n\r\nThere are several ways to accomplish this task.  \r\nAnd, depending on the _data-type_, some solutions may require more code.\r\n\r\nThe most simple approach is to traverse the array, and append each value to a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_.\r\n\r\n```java\r\nint[] values = { 1, 2, 3 };\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nfor (int value : values) list.add(value);\r\n```\r\n\r\nAlthough, if you&#39;re not using a _[primitive data-type](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_, you can utilize the _[List#of](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...))_ method, and get rid of the _loop_.  \r\nTo create a mutable _List_, I supplied the value as a new _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html)_ parameter.\r\n\r\n```java\r\nString[] strings = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(strings));\r\n```\r\n\r\n```java\r\nInteger[] numbers = { 1, 2, 3 };\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(numbers));\r\n```\r\n\r\nAdditionally, you can _[stream](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_ the array, to derive a _List_ object.\r\n\r\n\r\nFor a _primitive data-type_ array, it will take slightly more effort.  \r\nThe _[Collections Framework](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/doc-files/coll-overview.html)_ was built specifically for _objects_, and not _primitive data-types_.  \r\nIt&#39;s recommended to use the _[wrapper-classes](https://docs.oracle.com/javase/tutorial/java/data/numberclasses.html)_, _[Integer](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html)_, _[Float](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Float.html)_, etc., for any resourced array objects.\r\n\r\nYou can stream the array using the _[Arrays#stream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#stream(int[]))_ method.  \r\nThis will return an _[IntStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html)_, which you can then call the _[boxed](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#boxed())_ method on, which returns a stream of wrapped, or _&quot;[boxed](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html)&quot;_ values.  \r\nFinally, use the _[Stream#toList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList())_ method to return the _boxed_ stream as a _List_.\r\n\r\nAgain, to obtain a mutable _List_, I supplied the value as a new _ArrayList_ parameter.\r\n\r\n```java\r\nint[] numbers = { 1, 2, 3 };\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().toList());\r\n```\r\n\r\nOn a final note, if you&#39;re simply looking to add an array of values to a _List_, just use the _List#of_ method.  \r\nJust remember this produces an _[immutable](https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html)_ _List_.\r\n\r\n_Immutable:_\r\n\r\n```java\r\nList&lt;Integer&gt; list = List.of(1, 2, 3);\r\n```\r\n\r\n_Mutable:_\r\n\r\n```java\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\r\n```","title":"Converting array to list in Java","body":"<blockquote>\n<p><em>&quot;... How do I convert an array to a list in Java? ...&quot;</em></p>\n</blockquote>\n<p>There are several ways to accomplish this task.<br />\nAnd, depending on the <em>data-type</em>, some solutions may require more code.</p>\n<p>The most simple approach is to traverse the array, and append each value to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] values = { 1, 2, 3 };\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int value : values) list.add(value);\n</code></pre>\n<p>Although, if you're not using a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitive data-type</a></em>, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\">List#of</a></em> method, and get rid of the <em>loop</em>.<br />\nTo create a mutable <em>List</em>, I supplied the value as a new <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\nList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(strings));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] numbers = { 1, 2, 3 };\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(numbers));\n</code></pre>\n<p>Additionally, you can <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">stream</a></em> the array, to derive a <em>List</em> object.</p>\n<p>For a <em>primitive data-type</em> array, it will take slightly more effort.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/doc-files/coll-overview.html\" rel=\"nofollow noreferrer\">Collections Framework</a></em> was built specifically for <em>objects</em>, and not <em>primitive data-types</em>.<br />\nIt's recommended to use the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberclasses.html\" rel=\"nofollow noreferrer\">wrapper-classes</a></em>, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer</a></em>, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Float.html\" rel=\"nofollow noreferrer\">Float</a></em>, etc., for any resourced array objects.</p>\n<p>You can stream the array using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#stream(int%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#stream</a></em> method.<br />\nThis will return an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">IntStream</a></em>, which you can then call the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#boxed()\" rel=\"nofollow noreferrer\">boxed</a></em> method on, which returns a stream of wrapped, or <em>&quot;<a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">boxed</a>&quot;</em> values.<br />\nFinally, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\">Stream#toList</a></em> method to return the <em>boxed</em> stream as a <em>List</em>.</p>\n<p>Again, to obtain a mutable <em>List</em>, I supplied the value as a new <em>ArrayList</em> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] numbers = { 1, 2, 3 };\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().toList());\n</code></pre>\n<p>On a final note, if you're simply looking to add an array of values to a <em>List</em>, just use the <em>List#of</em> method.<br />\nJust remember this produces an <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow noreferrer\">immutable</a></em> <em>List</em>.</p>\n<p><em>Immutable:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = List.of(1, 2, 3);\n</code></pre>\n<p><em>Mutable:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\n</code></pre>\n"}],"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1937068,"favorite_count":0,"down_vote_count":1,"up_vote_count":1283,"accepted_answer_id":2607335,"answer_count":25,"score":1282,"last_activity_date":1692797523,"creation_date":1270815620,"question_id":2607289,"body_markdown":"How do I convert an array to a list in Java?\r\n\r\nI used the `Arrays.asList()` but the behavior (and signature) somehow changed from Java SE [1.4.2][1] (docs now in archive) to [8][2] and most snippets I found on the web use the 1.4.2 behaviour.\r\n\r\nFor example:\r\n\r\n    int[] numbers = new int[] { 1, 2, 3 };\r\n    Arrays.asList(numbers)\r\n\r\n* on 1.4.2 returns a list containing the elements 1, 2, 3\r\n* on 1.5.0+ returns a list containing the array &#39;numbers&#39;\r\n\r\nIn many cases it should be easy to detect, but sometimes it can slip unnoticed:\r\n\r\n    Assert.assertTrue(Arrays.asList(numbers).indexOf(4) == -1);\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-142docs-2045554.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-","title":"Converting array to list in Java","body":"<p>How do I convert an array to a list in Java?</p>\n<p>I used the <code>Arrays.asList()</code> but the behavior (and signature) somehow changed from Java SE <a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-142docs-2045554.html\" rel=\"noreferrer\">1.4.2</a> (docs now in archive) to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"noreferrer\">8</a> and most snippets I found on the web use the 1.4.2 behaviour.</p>\n<p>For example:</p>\n<pre><code>int[] numbers = new int[] { 1, 2, 3 };\nArrays.asList(numbers)\n</code></pre>\n<ul>\n<li>on 1.4.2 returns a list containing the elements 1, 2, 3</li>\n<li>on 1.5.0+ returns a list containing the array 'numbers'</li>\n</ul>\n<p>In many cases it should be easy to detect, but sometimes it can slip unnoticed:</p>\n<pre><code>Assert.assertTrue(Arrays.asList(numbers).indexOf(4) == -1);\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"score":0,"creation_date":1422828761,"post_id":28268499,"comment_id":44893177,"body_markdown":"Did that path even exist? If you want to create the folder if it didn&#39;t exist, you have to use mkdir","body":"Did that path even exist? If you want to create the folder if it didn&#39;t exist, you have to use mkdir"}],"answers":[{"comments":[{"owner":{"account_id":1367445,"reputation":579,"user_id":1303598,"accept_rate":72,"display_name":"Kyle Walker"},"score":0,"creation_date":1423052173,"post_id":28268621,"comment_id":44990406,"body_markdown":"I apologize for not marking this as the answer. I haven&#39;t tried your solution because I&#39;m backing away from adding the file upload feature. It&#39;s a level of complexity I&#39;m not quite ready, as a newbie, to implement. But I&#39;d like to leave this question intact for others who may be having this same issue.","body":"I apologize for not marking this as the answer. I haven&#39;t tried your solution because I&#39;m backing away from adding the file upload feature. It&#39;s a level of complexity I&#39;m not quite ready, as a newbie, to implement. But I&#39;d like to leave this question intact for others who may be having this same issue."},{"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"score":0,"creation_date":1423056574,"post_id":28268621,"comment_id":44993079,"body_markdown":"No problem kyle. Upload feature is not a big deal, if you need any assistance or tutorial examples for file upload in Spring MVC, feel free to ask.","body":"No problem kyle. Upload feature is not a big deal, if you need any assistance or tutorial examples for file upload in Spring MVC, feel free to ask."}],"tags":[],"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422830420,"creation_date":1422829351,"answer_id":28268621,"question_id":28268499,"body_markdown":"I&#39;ve uploaded files using Spring mvc, but never used transferTo(), I just assume that your problem is due to &quot;No existence of specified path&quot; because there wont be a path ending with .jpg. Try it like this.\r\n\r\n    String path = &quot;/tmp/practicewellness/&quot;;\r\n    File dirPath = new File(path);\r\n    if (!dirPath.exists()) {\r\n            dirPath.mkdirs();     \r\n    }\r\n\r\nAnd then execute the transferTo() code.\r\nAlso do not set the path directly like you&#39;ve done. Since you&#39;re doing it in spring, so I assume you want the folder to be in your Project path not the eclipse&#39;s metadata path. So change your path to this.\r\n\r\n    String path = request.getSession().getServletContext().getRealPath(&quot;/tmp/practicewellness/&quot;);\r\n\r\nIt will create a folder inside your Project&#39;s Webapp folder using mkdir. If you want to save differentiate the files for each user, you can create a folder for each user by using this below path.\r\n\r\n    String path = request.getSession().getServletContext().getRealPath(&quot;/tmp/practicewellness&quot;)+&quot;/&quot;+employee.getUsername()+&quot;/&quot;;","title":"Understanding MultipartFile transferTo() method in Spring MVC","body":"<p>I've uploaded files using Spring mvc, but never used transferTo(), I just assume that your problem is due to \"No existence of specified path\" because there wont be a path ending with .jpg. Try it like this.</p>\n\n<pre><code>String path = \"/tmp/practicewellness/\";\nFile dirPath = new File(path);\nif (!dirPath.exists()) {\n        dirPath.mkdirs();     \n}\n</code></pre>\n\n<p>And then execute the transferTo() code.\nAlso do not set the path directly like you've done. Since you're doing it in spring, so I assume you want the folder to be in your Project path not the eclipse's metadata path. So change your path to this.</p>\n\n<pre><code>String path = request.getSession().getServletContext().getRealPath(\"/tmp/practicewellness/\");\n</code></pre>\n\n<p>It will create a folder inside your Project's Webapp folder using mkdir. If you want to save differentiate the files for each user, you can create a folder for each user by using this below path.</p>\n\n<pre><code>String path = request.getSession().getServletContext().getRealPath(\"/tmp/practicewellness\")+\"/\"+employee.getUsername()+\"/\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441792,"reputation":377,"user_id":832091,"display_name":"marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692797245,"creation_date":1692698059,"answer_id":76952110,"question_id":28268499,"body_markdown":"This post is quite old, but I just wanted to add: the path you&#39;re transferring to is relative. Better idea is to use an absolute path.\r\n\r\nAnyway, transferTo(File) is a perfect method. The problem with multipart file upload is that you have not so much control over where the stream goes when it arrives on the server over HTTP. By definition it works in 2 steps, first file upload will store it in a temp file (out of your control), and then it is up to you to consume it in the file upload callback either by reading the stream out or by transferring it to a location totally in your control. The advantage of transferring is that it takes virtually no time compared to reading the stream (which will block the upload HTTP request).\r\n\r\n**Caution to make sure you pass in a File argument (and not a Path). Seems like a very bad idea to have overloaded methods like this with quite different implementations. Passing in a Path will always execute a streamed copy!**","title":"Understanding MultipartFile transferTo() method in Spring MVC","body":"<p>This post is quite old, but I just wanted to add: the path you're transferring to is relative. Better idea is to use an absolute path.</p>\n<p>Anyway, transferTo(File) is a perfect method. The problem with multipart file upload is that you have not so much control over where the stream goes when it arrives on the server over HTTP. By definition it works in 2 steps, first file upload will store it in a temp file (out of your control), and then it is up to you to consume it in the file upload callback either by reading the stream out or by transferring it to a location totally in your control. The advantage of transferring is that it takes virtually no time compared to reading the stream (which will block the upload HTTP request).</p>\n<p><strong>Caution to make sure you pass in a File argument (and not a Path). Seems like a very bad idea to have overloaded methods like this with quite different implementations. Passing in a Path will always execute a streamed copy!</strong></p>\n"}],"owner":{"account_id":1367445,"reputation":579,"user_id":1303598,"accept_rate":72,"display_name":"Kyle Walker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692797245,"creation_date":1422828405,"question_id":28268499,"body_markdown":"I am using Spring Framework&#39;s MultipartFile to allow a user to upload a picture to a profile. I&#39;ve configured DispatcherServlet in a servlet initializer class that extends AbstractAnnotationConfigDispatcherServletInitializer. In that class, I&#39;ve overridden the customizeRegistration() method as follows:\r\n\r\n    @Override\r\n\tprotected void customizeRegistration(Dynamic registration) {\r\n\t\tregistration.setMultipartConfig(new MultipartConfigElement(&quot;/tmp/practicewellness/uploads&quot;, 2097152, 4194304, 0));\r\n\t}\r\n\r\nThe MultipartFile&#39;s transferTo() method calls for a file location in the filesystem where the uploaded file will be written temporarily. Can this location be anywhere? When I used the following location in the method:\r\n\r\n    profilePicture.transferTo(new File(&quot;tmp/practicewellness/&quot; + employee.getUsername() + &quot;.jpg&quot;));\r\n\r\n... I get the following error:\r\n\r\n    Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.io.IOException: The temporary upload location [C:\\Users\\kyle\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp2\\work\\Catalina\\localhost\\practicewellness\\tmp\\practicewellness\\uploads] is not valid\r\n\r\nSo I can see that it&#39;s looking for this file location deep inside one of my Eclipse plugins. I don&#39;t understand why it looks there. When I look there, the &quot;tmp&quot; directory is not there. But regardless, is it okay for me to go into that plugin and create the directory there? Or is there a better way to smooth this out? ","title":"Understanding MultipartFile transferTo() method in Spring MVC","body":"<p>I am using Spring Framework's MultipartFile to allow a user to upload a picture to a profile. I've configured DispatcherServlet in a servlet initializer class that extends AbstractAnnotationConfigDispatcherServletInitializer. In that class, I've overridden the customizeRegistration() method as follows:</p>\n\n<pre><code>@Override\nprotected void customizeRegistration(Dynamic registration) {\n    registration.setMultipartConfig(new MultipartConfigElement(\"/tmp/practicewellness/uploads\", 2097152, 4194304, 0));\n}\n</code></pre>\n\n<p>The MultipartFile's transferTo() method calls for a file location in the filesystem where the uploaded file will be written temporarily. Can this location be anywhere? When I used the following location in the method:</p>\n\n<pre><code>profilePicture.transferTo(new File(\"tmp/practicewellness/\" + employee.getUsername() + \".jpg\"));\n</code></pre>\n\n<p>... I get the following error:</p>\n\n<pre><code>Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.io.IOException: The temporary upload location [C:\\Users\\kyle\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp2\\work\\Catalina\\localhost\\practicewellness\\tmp\\practicewellness\\uploads] is not valid\n</code></pre>\n\n<p>So I can see that it's looking for this file location deep inside one of my Eclipse plugins. I don't understand why it looks there. When I look there, the \"tmp\" directory is not there. But regardless, is it okay for me to go into that plugin and create the directory there? Or is there a better way to smooth this out? </p>\n"},{"tags":["java","linux","spring","spring-boot","backend"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692797229,"post_id":76961786,"comment_id":135673016,"body_markdown":"can you provide your `yml` configuration file or `application.properties` file ?","body":"can you provide your <code>yml</code> configuration file or <code>application.properties</code> file ?"},{"owner":{"account_id":26389799,"reputation":1,"user_id":20041820,"display_name":"Vignesh"},"score":0,"creation_date":1692902854,"post_id":76961786,"comment_id":135691158,"body_markdown":"Sorry , I accidentally deleted the file","body":"Sorry , I accidentally deleted the file"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692902949,"post_id":76961786,"comment_id":135691177,"body_markdown":"if you want to have a database in the project, you should add params like database url, username, password  in configuration file","body":"if you want to have a database in the project, you should add params like database url, username, password  in configuration file"}],"owner":{"account_id":26389799,"reputation":1,"user_id":20041820,"display_name":"Vignesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692797016,"creation_date":1692797016,"question_id":76961786,"body_markdown":"Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n\r\n2023-08-23T18:50:48.564+05:30 ERROR 18254 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\nI tried to start my spring boot project and expected it to run normally","title":"ERROR 18254 --- [main] o.s.b.d.LoggingFailureAnalysisReporter : in SpringBoot","body":"<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.</p>\n<p>2023-08-23T18:50:48.564+05:30 ERROR 18254 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.</p>\n<p>Reason: Failed to determine a suitable driver class</p>\n<p>I tried to start my spring boot project and expected it to run normally</p>\n"},{"tags":["java","jetty","jetty-10"],"answers":[{"comments":[{"owner":{"account_id":29235090,"reputation":73,"user_id":22397881,"display_name":"Boco909"},"score":0,"creation_date":1692795759,"post_id":76961503,"comment_id":135672655,"body_markdown":"Thanks for you answer. I added the secure-redirect module. My http.ini has port 8081, ssl.ini has 8433 and server.ini securePort=8433. \n\nThe redirect http://localhost:8081/login?lang=en -&gt; https://localhost:8443/login?lang=en = OK \n\nhttp://localhost:8443/login?lang=en -&gt; https://localhost:8443/login?lang=en  = NOT WORKING. Am i missing something?","body":"Thanks for you answer. I added the secure-redirect module. My http.ini has port 8081, ssl.ini has 8433 and server.ini securePort=8433.   The redirect <a href=\"http://localhost:8081/login?lang=en\" rel=\"nofollow noreferrer\">localhost:8081/login?lang=en</a> -&gt; <a href=\"https://localhost:8443/login?lang=en\" rel=\"nofollow noreferrer\">localhost:8443/login?lang=en</a> = OK   <a href=\"http://localhost:8443/login?lang=en\" rel=\"nofollow noreferrer\">localhost:8443/login?lang=en</a> -&gt; <a href=\"https://localhost:8443/login?lang=en\" rel=\"nofollow noreferrer\">localhost:8443/login?lang=en</a>  = NOT WORKING. Am i missing something?"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1692796278,"post_id":76961503,"comment_id":135672783,"body_markdown":"Your comment is lacking schemes.  Edit your question, and add the contents of your `start.d/ssl.ini`, `start.d/https.ini` and `start.d/http.ini`, along with the results of `java -jar /opt/jetty-home/start.jar --list-config`","body":"Your comment is lacking schemes.  Edit your question, and add the contents of your <code>start.d&#47;ssl.ini</code>, <code>start.d&#47;https.ini</code> and <code>start.d&#47;http.ini</code>, along with the results of <code>java -jar &#47;opt&#47;jetty-home&#47;start.jar --list-config</code>"},{"owner":{"account_id":29235090,"reputation":73,"user_id":22397881,"display_name":"Boco909"},"score":0,"creation_date":1692796970,"post_id":76961503,"comment_id":135672937,"body_markdown":"Yes, i added the schemas in the original question","body":"Yes, i added the schemas in the original question"}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692794861,"creation_date":1692794861,"answer_id":76961503,"question_id":76961442,"body_markdown":"Enable the `secure-redirect` module.\r\n\r\n``` shell\r\n$ cd /path/to/my-jetty-base\r\n$ java -jar /opt/jetty-home-10.0.15/start.jar --add-module=secure-redirect\r\n```\r\n\r\nThis will add the `org.eclipse.jetty.server.handler.SecuredRedirectHandler` to your Server.\r\n\r\nThat will use the information present in the `HttpConfiguration` regarding what ports you consider plain text vs secure to know how to redirect properly (be it 80 to 443, or 8080 to 8443, or even arbitrary ports like 20080 to 20443)","title":"Jetty 10 redirect http to https","body":"<p>Enable the <code>secure-redirect</code> module.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ cd /path/to/my-jetty-base\n$ java -jar /opt/jetty-home-10.0.15/start.jar --add-module=secure-redirect\n</code></pre>\n<p>This will add the <code>org.eclipse.jetty.server.handler.SecuredRedirectHandler</code> to your Server.</p>\n<p>That will use the information present in the <code>HttpConfiguration</code> regarding what ports you consider plain text vs secure to know how to redirect properly (be it 80 to 443, or 8080 to 8443, or even arbitrary ports like 20080 to 20443)</p>\n"}],"owner":{"account_id":29235090,"reputation":73,"user_id":22397881,"display_name":"Boco909"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961503,"answer_count":1,"score":0,"last_activity_date":1692796872,"creation_date":1692794372,"question_id":76961442,"body_markdown":"I am trying to modify Jetty 10.0.15 to handle http to https redirection. I tried searching in their official Operations guide but i cant find anything. For example:\r\n\r\nhttp://localhost:8443/login?lang=en -&gt; https://localhost:8443/login?lang=en\r\n\r\nor also have the option to redirect http 8081 port to https post 8443\r\n\r\nhttp://localhost:8081/login?lang=en -&gt; https://localhost:8443/login?lang=en\r\n\r\nIs this possible? Do i need to modify the ssl.ini or http.ini files in the start.d folder? In my webapps folder i am also using a context file xml.\r\n\r\nThanks!\r\n\r\nPS here are the ini files:\r\n\r\nssl.ini\r\n```\r\n# --------------------------------------- \r\n# Module: ssl\r\n# Enables a TLS (SSL) connector to support secure protocols.\r\n# Secure HTTP/1.1 is provided by enabling the &quot;https&quot; module and secure HTTP/2 is provided by enabling the &quot;http2&quot; module.\r\n# --------------------------------------- \r\n--module=ssl\r\n\r\n### TLS (SSL) Connector Configuration\r\n\r\n## The host/address to bind the connector to.\r\n# jetty.ssl.host=0.0.0.0\r\n\r\n## The port the connector listens on.\r\njetty.ssl.port=8443\r\n\r\n## The connector idle timeout, in milliseconds.\r\n# jetty.ssl.idleTimeout=30000\r\n\r\n## The number of acceptors (-1 picks a default value based on number of cores).\r\n# jetty.ssl.acceptors=1\r\n\r\n## The number of selectors (-1 picks a default value based on number of cores).\r\n# jetty.ssl.selectors=-1\r\n\r\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\r\n# jetty.ssl.acceptQueueSize=0\r\n\r\n## The thread priority delta to give to acceptor threads.\r\n# jetty.ssl.acceptorPriorityDelta=0\r\n\r\n## Whether to enable the SO_REUSEADDR socket option.\r\n# jetty.ssl.reuseAddress=true\r\n\r\n## Whether to enable the SO_REUSEPORT socket option.\r\n# jetty.ssl.reusePort=false\r\n\r\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\r\n# jetty.ssl.acceptedTcpNoDelay=true\r\n\r\n## The SO_RCVBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.ssl.acceptedReceiveBufferSize=-1\r\n\r\n## The SO_SNDBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.ssl.acceptedSendBufferSize=-1\r\n\r\n## Whether client SNI data is required for all secure connections.\r\n## When SNI is required, clients that do not send SNI data are rejected with an HTTP 400 response.\r\n# jetty.ssl.sniRequired=false\r\n\r\n## Whether client SNI data is checked to match CN and SAN in server certificates.\r\n## When SNI is checked, if the match fails the connection is rejected with an HTTP 400 response.\r\n# jetty.ssl.sniHostCheck=true\r\n\r\n## The max age, in seconds, for the Strict-Transport-Security response header.\r\n# jetty.ssl.stsMaxAgeSeconds=31536000\r\n\r\n## Whether to include the subdomain property in any Strict-Transport-Security header.\r\n# jetty.ssl.stsIncludeSubdomains=true\r\n\r\n### SslContextFactory Configuration\r\n## Note that OBF passwords are not secure, just protected from casual observation.\r\n\r\n## Whether client SNI data is required for all secure connections.\r\n## When SNI is required, clients that do not send SNI data are rejected with a TLS handshake error.\r\n# jetty.sslContext.sniRequired=false\r\n\r\n## The Endpoint Identification Algorithm.\r\n## Same as javax.net.ssl.SSLParameters#setEndpointIdentificationAlgorithm(String).\r\n# jetty.sslContext.endpointIdentificationAlgorithm=\r\n\r\n## The JSSE Provider.\r\n# jetty.sslContext.provider=\r\n\r\n## The KeyStore file path (relative to $JETTY_BASE).\r\n# jetty.sslContext.keyStorePath=etc/keystore.p12\r\n## The KeyStore absolute file path.\r\n# jetty.sslContext.keyStoreAbsolutePath=${jetty.base}/etc/keystore.p12\r\n\r\n## The TrustStore file path (relative to $JETTY_BASE).\r\n# jetty.sslContext.trustStorePath=etc/keystore.p12\r\n## The TrustStore absolute file path.\r\n# jetty.sslContext.trustStoreAbsolutePath=${jetty.base}/etc/keystore.p12\r\n\r\n## The KeyStore password.\r\n# jetty.sslContext.keyStorePassword=\r\n\r\n## The Keystore type.\r\n# jetty.sslContext.keyStoreType=PKCS12\r\n\r\n## The KeyStore provider.\r\n# jetty.sslContext.keyStoreProvider=\r\n\r\n## The KeyManager password.\r\n# jetty.sslContext.keyManagerPassword=\r\n\r\n## The TrustStore password.\r\n# jetty.sslContext.trustStorePassword=\r\n\r\n## The TrustStore type.\r\n# jetty.sslContext.trustStoreType=PKCS12\r\n\r\n## The TrustStore provider.\r\n# jetty.sslContext.trustStoreProvider=\r\n\r\n## Whether client certificate authentication is required.\r\n# jetty.sslContext.needClientAuth=false\r\n\r\n## Whether client certificate authentication is desired, but not required.\r\n# jetty.sslContext.wantClientAuth=false\r\n\r\n## Whether cipher order is significant.\r\n# jetty.sslContext.useCipherSuitesOrder=true\r\n\r\n## The SSLSession cache size.\r\n# jetty.sslContext.sslSessionCacheSize=-1\r\n\r\n## The SSLSession cache timeout (in seconds).\r\n# jetty.sslContext.sslSessionTimeout=-1\r\n\r\n## Whether TLS renegotiation is allowed.\r\n# jetty.sslContext.renegotiationAllowed=true\r\n\r\n## The max number of TLS renegotiations per connection.\r\n# jetty.sslContext.renegotiationLimit=5\r\n```\r\nserver.ini\r\n```\r\n# --------------------------------------- \r\n# Module: server\r\n# Enables and configures the Jetty server.\r\n# This module does not enable any network protocol support.\r\n# To enable a specific network protocol such as HTTP/1.1, you must enable the correspondent Jetty module.\r\n# --------------------------------------- \r\n--module=server\r\n\r\n### Common HTTP configuration\r\n## Scheme to use to build URIs for secure redirects\r\n#jetty.httpConfig.secureScheme=https\r\n\r\n## Port to use to build URIs for secure redirects\r\njetty.httpConfig.securePort=8443\r\n\r\n## Response content buffer size (in bytes)\r\n# jetty.httpConfig.outputBufferSize=32768\r\n\r\n## Max response content write length that is buffered (in bytes)\r\n# jetty.httpConfig.outputAggregationSize=8192\r\n\r\n## Max request headers size (in bytes)\r\n# jetty.httpConfig.requestHeaderSize=8192\r\n\r\n## Max response headers size (in bytes)\r\n# jetty.httpConfig.responseHeaderSize=8192\r\n\r\n## Whether to send the Server: header\r\n# jetty.httpConfig.sendServerVersion=true\r\n\r\n## Whether to send the Date: header\r\n# jetty.httpConfig.sendDateHeader=false\r\n\r\n## Max per-connection header cache size (in nodes)\r\n# jetty.httpConfig.headerCacheSize=1024\r\n\r\n## Whether, for requests with content, delay dispatch until some content has arrived\r\n# jetty.httpConfig.delayDispatchUntilContent=true\r\n\r\n## Maximum number of error dispatches to prevent looping\r\n# jetty.httpConfig.maxErrorDispatches=10\r\n\r\n## Relative Redirect Locations allowed\r\n# jetty.httpConfig.relativeRedirectAllowed=false\r\n\r\n## Whether to use direct ByteBuffers for reading or writing\r\n# jetty.httpConfig.useInputDirectByteBuffers=true\r\n# jetty.httpConfig.useOutputDirectByteBuffers=true\r\n\r\n## HTTP Compliance: RFC7230, RFC7230_LEGACY, RFC2616, RFC2616_LEGACY, LEGACY\r\n# jetty.httpConfig.compliance=RFC7230\r\n\r\n## URI Compliance: DEFAULT, LEGACY, RFC3986, RFC3986_UNAMBIGUOUS, UNSAFE\r\n# jetty.httpConfig.uriCompliance=DEFAULT\r\n\r\n## Cookie compliance mode for parsing request Cookie headers: RFC6265_STRICT, RFC6265, RFC6265_LEGACY, RFC2965, RFC2965_LEGACY\r\n# jetty.httpConfig.requestCookieCompliance=RFC6265\r\n\r\n## Cookie compliance mode for generating response Set-Cookie: RFC2965, RFC6265\r\n# jetty.httpConfig.responseCookieCompliance=RFC6265\r\n\r\n## multipart/form-data compliance mode of: LEGACY(slow), RFC7578(fast)\r\n# jetty.httpConfig.multiPartFormDataCompliance=RFC7578\r\n\r\n### Server configuration\r\n## Whether ctrl+c on the console gracefully stops the Jetty server\r\n# jetty.server.stopAtShutdown=true\r\n\r\n## Timeout in ms to apply when stopping the server gracefully\r\n# jetty.server.stopTimeout=5000\r\n\r\n## Dump the state of the Jetty server, components, and webapps after startup\r\n# jetty.server.dumpAfterStart=false\r\n\r\n## Dump the state of the Jetty server, components, and webapps before shutdown\r\n# jetty.server.dumpBeforeStop=false\r\n\r\n### Server Scheduler Configuration\r\n## The scheduler thread name, defaults to &quot;Scheduler-{hashCode()}&quot; if blank.\r\n# jetty.scheduler.name=\r\n\r\n## Whether the server scheduler threads are daemon.\r\n# jetty.scheduler.daemon=false\r\n\r\n## The number of server scheduler threads.\r\n# jetty.scheduler.threads=1\r\n```\r\nhttp.ini\r\n```\r\n# --------------------------------------- \r\n# Module: http\r\n# Enables a clear-text HTTP connector.\r\n# By default clear-text HTTP/1.1 is enabled, and clear-text HTTP/2 may be added by enabling the &quot;http2c&quot; module.\r\n# --------------------------------------- \r\n--module=http\r\n\r\n### Clear-Text HTTP Connector Configuration\r\n\r\n## The host/address to bind the connector to.\r\n# jetty.http.host=0.0.0.0\r\n\r\n## The port the connector listens on.\r\n jetty.http.port=8081\r\n\r\n## The connector idle timeout, in milliseconds.\r\n# jetty.http.idleTimeout=30000\r\n\r\n## The number of acceptors (-1 picks a default value based on number of cores).\r\n# jetty.http.acceptors=1\r\n\r\n## The number of selectors (-1 picks a default value based on number of cores).\r\n# jetty.http.selectors=-1\r\n\r\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\r\n# jetty.http.acceptQueueSize=0\r\n\r\n## The thread priority delta to give to acceptor threads.\r\n# jetty.http.acceptorPriorityDelta=0\r\n\r\n## Whether to enable the SO_REUSEADDR socket option.\r\n# jetty.http.reuseAddress=true\r\n\r\n## Whether to enable the SO_REUSEPORT socket option.\r\n# jetty.http.reusePort=false\r\n\r\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\r\n# jetty.http.acceptedTcpNoDelay=true\r\n\r\n## The SO_RCVBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.http.acceptedReceiveBufferSize=-1\r\n\r\n## The SO_SNDBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.http.acceptedSendBufferSize=-1\r\n```\r\nhttps.ini\r\n\r\n```\r\n# --------------------------------------- \r\n# Module: https\r\n# Adds HTTPS protocol support to the TLS(SSL) Connector.\r\n# --------------------------------------- \r\n--module=https\r\n```\r\n\r\n\r\nlist-config\r\n```\r\nEnabled Modules:\r\n----------------\r\n  0) bytebufferpool            transitive provider of bytebufferpool for server\r\n                               ini template available with --add-module=bytebufferpool\r\n  1) resources                 transitive provider of resources for logging-jetty\r\n  2) logging/slf4j             transitive provider of logging/slf4j for logging-jetty\r\n                               dynamic dependency of logging-jetty\r\n  3) logging-jetty             transitive provider of logging for threadpool\r\n                               transitive provider of logging for server\r\n                               transitive provider of logging for console-capture\r\n  4) threadpool                transitive provider of threadpool for server\r\n                               ini template available with --add-module=threadpool\r\n  5) server                    ${jetty.base}\\start.d\\server.ini\r\n  6) jndi                      transitive provider of jndi for plus\r\n  7) security                  transitive provider of security for webapp\r\n                               transitive provider of security for plus\r\n  8) servlet                   transitive provider of servlet for webapp\r\n                               transitive provider of servlet for jsp\r\n  9) webapp                    transitive provider of webapp for plus\r\n                               transitive provider of webapp for deploy\r\n                               ini template available with --add-module=webapp\r\n 10) plus                      transitive provider of plus for annotations\r\n 11) annotations               ${jetty.base}\\start.d\\annotations.ini\r\n 12) apache-jsp                transitive provider of apache-jsp for jsp\r\n 13) apache-jstl               transitive provider of apache-jstl for jstl\r\n 14) console-capture           ${jetty.base}\\start.d\\console-capture.ini\r\n 15) deploy                    ${jetty.base}\\start.d\\deploy.ini\r\n 16) ssl                       ${jetty.base}\\start.d\\ssl.ini\r\n 17) https                     ${jetty.base}\\start.d\\https.ini\r\n 18) jsp                       ${jetty.base}\\start.d\\jsp.ini\r\n 19) jstl                      ${jetty.base}\\start.d\\jstl.ini\r\n 20) secure-redirect           ${jetty.base}\\start.d\\secure-redirect.ini\r\n 21) test-keystore             ${jetty.base}\\start.d\\test-keystore.ini\r\n\r\nJava Environment:\r\n-----------------\r\n java.home = C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7+7\r\n java.vm.vendor = Eclipse Adoptium\r\n java.vm.version = 17.0.7+7\r\n java.vm.name = OpenJDK 64-Bit Server VM\r\n java.vm.info = mixed mode, sharing\r\n java.runtime.name = OpenJDK Runtime Environment\r\n java.runtime.version = 17.0.7+7\r\n java.io.tmpdir = C:\\Users\\Bojan\\AppData\\Local\\Temp\\\r\n user.dir = C:\\qaelum\\services\\Webserver\r\n user.language = en\r\n user.country = US\r\n\r\nJetty Environment:\r\n------------------\r\n jetty.version = 10.0.15\r\n jetty.tag.version = jetty-10.0.15\r\n jetty.build = 68017dbd00236bb7e187330d7585a059610f661d\r\n jetty.home = C:\\qaelum\\frameworks\\jetty10\r\n jetty.base = C:\\qaelum\\services\\Webserver\r\n\r\nConfig Search Order:\r\n--------------------\r\n &lt;command-line&gt;\r\n ${jetty.base} -&gt; C:\\qaelum\\services\\Webserver\r\n ${jetty.home} -&gt; C:\\qaelum\\frameworks\\jetty10\r\n\r\nSystem Properties:\r\n------------------\r\n (no system properties specified)\r\n\r\nProperties:\r\n-----------\r\n bouncycastle.version = 1.70\r\n java.version = 17.0.7\r\n java.version.major = 17\r\n java.version.micro = 7\r\n java.version.minor = 0\r\n java.version.platform = 17\r\n jetty.base = C:\\qaelum\\services\\Webserver\r\n jetty.base.uri = file:///C:/qaelum/services/Webserver\r\n jetty.console-capture.dir = C:\\qaelum\\services\\Webserver\\logs\r\n jetty.home = C:\\qaelum\\frameworks\\jetty10\r\n jetty.home.uri = file:///C:/qaelum/frameworks/jetty10\r\n jetty.httpConfig.securePort = 8443\r\n jetty.ssl.port = 8443\r\n jetty.sslContext.keyStorePassword = OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\r\n jetty.sslContext.keyStorePath = etc/test-keystore.p12\r\n jetty.sslContext.keyStoreType = PKCS12\r\n jetty.webapp.addServerClasses = org.eclipse.jetty.logging.,${jetty.home.uri}/lib/logging/,org.slf4j.,${jetty.base.uri}/lib/bouncycastle/\r\n runtime.feature.alpn = true\r\n slf4j.version = 2.0.5\r\n\r\nJetty Server Classpath:\r\n-----------------------\r\nVersion Information on 32 entries in the classpath.\r\nNote: order presented here is how they would appear on the classpath.\r\n      changes to the --module=name command line options will be reflected here.\r\n 0:                    (dir) | ${jetty.base}\\resources\r\n 1:                    2.0.5 | ${jetty.home}\\lib\\logging\\slf4j-api-2.0.5.jar\r\n 2:                  10.0.15 | ${jetty.home}\\lib\\logging\\jetty-slf4j-impl-10.0.15.jar\r\n 3:                    4.0.6 | ${jetty.home}\\lib\\jetty-servlet-api-4.0.6.jar\r\n 4:                  10.0.15 | ${jetty.home}\\lib\\jetty-http-10.0.15.jar\r\n 5:                  10.0.15 | ${jetty.home}\\lib\\jetty-server-10.0.15.jar\r\n 6:                  10.0.15 | ${jetty.home}\\lib\\jetty-xml-10.0.15.jar\r\n 7:                  10.0.15 | ${jetty.home}\\lib\\jetty-util-10.0.15.jar\r\n 8:                  10.0.15 | ${jetty.home}\\lib\\jetty-io-10.0.15.jar\r\n 9:                  10.0.15 | ${jetty.home}\\lib\\jetty-jndi-10.0.15.jar\r\n10:                  10.0.15 | ${jetty.home}\\lib\\jetty-security-10.0.15.jar\r\n11:                  10.0.15 | ${jetty.home}\\lib\\jetty-servlet-10.0.15.jar\r\n12:                  10.0.15 | ${jetty.home}\\lib\\jetty-webapp-10.0.15.jar\r\n13:                  10.0.15 | ${jetty.home}\\lib\\jetty-plus-10.0.15.jar\r\n14:                    1.3.3 | ${jetty.home}\\lib\\jakarta.transaction-api-1.3.3.jar\r\n15:                  10.0.15 | ${jetty.home}\\lib\\jetty-annotations-10.0.15.jar\r\n16:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-9.5.jar\r\n17:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-analysis-9.5.jar\r\n18:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-commons-9.5.jar\r\n19:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-tree-9.5.jar\r\n20:                    1.3.5 | ${jetty.home}\\lib\\annotations\\jakarta.annotation-api-1.3.5.jar\r\n21:    3.26.0.v20210609-0549 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jdt.ecj-3.26.0.jar\r\n22:                  10.0.15 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jetty.apache-jsp-10.0.15.jar\r\n23:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-el-9.0.52.jar\r\n24:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-jsp-9.0.52.jar\r\n25:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-impl-1.2.5.jar\r\n26:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-spec-1.2.5.jar\r\n27:                  10.0.15 | ${jetty.home}\\lib\\jetty-deploy-10.0.15.jar\r\n28:                  10.0.15 | ${jetty.home}\\lib\\jetty-keystore-10.0.15.jar\r\n29:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcpkix-jdk15on-1.70.jar\r\n30:                   1.70.0 | ${jetty.base}\\lib\\bouncycastle\\bcprov-jdk15on-1.70.jar\r\n31:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcutil-jdk15on-1.70.jar\r\n\r\nJetty Active XMLs:\r\n------------------\r\n ${jetty.home}\\etc\\jetty-bytebufferpool.xml\r\n ${jetty.home}\\etc\\jetty-threadpool.xml\r\n ${jetty.home}\\etc\\jetty.xml\r\n ${jetty.home}\\etc\\jetty-webapp.xml\r\n ${jetty.home}\\etc\\console-capture.xml\r\n ${jetty.home}\\etc\\jetty-deploy.xml\r\n ${jetty.home}\\etc\\jetty-ssl.xml\r\n ${jetty.home}\\etc\\jetty-ssl-context.xml\r\n ${jetty.home}\\etc\\jetty-https.xml\r\n ${jetty.home}\\etc\\jetty-secure-redirect.xml\r\n ${jetty.home}\\etc\\jetty-test-keystore.xml\r\n```\r\ni am also using the test-keystore.ini\r\n\r\n\r\n\r\n\r\n","title":"Jetty 10 redirect http to https","body":"<p>I am trying to modify Jetty 10.0.15 to handle http to https redirection. I tried searching in their official Operations guide but i cant find anything. For example:</p>\n<p>http://localhost:8443/login?lang=en -&gt; https://localhost:8443/login?lang=en</p>\n<p>or also have the option to redirect http 8081 port to https post 8443</p>\n<p>http://localhost:8081/login?lang=en -&gt; https://localhost:8443/login?lang=en</p>\n<p>Is this possible? Do i need to modify the ssl.ini or http.ini files in the start.d folder? In my webapps folder i am also using a context file xml.</p>\n<p>Thanks!</p>\n<p>PS here are the ini files:</p>\n<p>ssl.ini</p>\n<pre><code># --------------------------------------- \n# Module: ssl\n# Enables a TLS (SSL) connector to support secure protocols.\n# Secure HTTP/1.1 is provided by enabling the &quot;https&quot; module and secure HTTP/2 is provided by enabling the &quot;http2&quot; module.\n# --------------------------------------- \n--module=ssl\n\n### TLS (SSL) Connector Configuration\n\n## The host/address to bind the connector to.\n# jetty.ssl.host=0.0.0.0\n\n## The port the connector listens on.\njetty.ssl.port=8443\n\n## The connector idle timeout, in milliseconds.\n# jetty.ssl.idleTimeout=30000\n\n## The number of acceptors (-1 picks a default value based on number of cores).\n# jetty.ssl.acceptors=1\n\n## The number of selectors (-1 picks a default value based on number of cores).\n# jetty.ssl.selectors=-1\n\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\n# jetty.ssl.acceptQueueSize=0\n\n## The thread priority delta to give to acceptor threads.\n# jetty.ssl.acceptorPriorityDelta=0\n\n## Whether to enable the SO_REUSEADDR socket option.\n# jetty.ssl.reuseAddress=true\n\n## Whether to enable the SO_REUSEPORT socket option.\n# jetty.ssl.reusePort=false\n\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\n# jetty.ssl.acceptedTcpNoDelay=true\n\n## The SO_RCVBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.ssl.acceptedReceiveBufferSize=-1\n\n## The SO_SNDBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.ssl.acceptedSendBufferSize=-1\n\n## Whether client SNI data is required for all secure connections.\n## When SNI is required, clients that do not send SNI data are rejected with an HTTP 400 response.\n# jetty.ssl.sniRequired=false\n\n## Whether client SNI data is checked to match CN and SAN in server certificates.\n## When SNI is checked, if the match fails the connection is rejected with an HTTP 400 response.\n# jetty.ssl.sniHostCheck=true\n\n## The max age, in seconds, for the Strict-Transport-Security response header.\n# jetty.ssl.stsMaxAgeSeconds=31536000\n\n## Whether to include the subdomain property in any Strict-Transport-Security header.\n# jetty.ssl.stsIncludeSubdomains=true\n\n### SslContextFactory Configuration\n## Note that OBF passwords are not secure, just protected from casual observation.\n\n## Whether client SNI data is required for all secure connections.\n## When SNI is required, clients that do not send SNI data are rejected with a TLS handshake error.\n# jetty.sslContext.sniRequired=false\n\n## The Endpoint Identification Algorithm.\n## Same as javax.net.ssl.SSLParameters#setEndpointIdentificationAlgorithm(String).\n# jetty.sslContext.endpointIdentificationAlgorithm=\n\n## The JSSE Provider.\n# jetty.sslContext.provider=\n\n## The KeyStore file path (relative to $JETTY_BASE).\n# jetty.sslContext.keyStorePath=etc/keystore.p12\n## The KeyStore absolute file path.\n# jetty.sslContext.keyStoreAbsolutePath=${jetty.base}/etc/keystore.p12\n\n## The TrustStore file path (relative to $JETTY_BASE).\n# jetty.sslContext.trustStorePath=etc/keystore.p12\n## The TrustStore absolute file path.\n# jetty.sslContext.trustStoreAbsolutePath=${jetty.base}/etc/keystore.p12\n\n## The KeyStore password.\n# jetty.sslContext.keyStorePassword=\n\n## The Keystore type.\n# jetty.sslContext.keyStoreType=PKCS12\n\n## The KeyStore provider.\n# jetty.sslContext.keyStoreProvider=\n\n## The KeyManager password.\n# jetty.sslContext.keyManagerPassword=\n\n## The TrustStore password.\n# jetty.sslContext.trustStorePassword=\n\n## The TrustStore type.\n# jetty.sslContext.trustStoreType=PKCS12\n\n## The TrustStore provider.\n# jetty.sslContext.trustStoreProvider=\n\n## Whether client certificate authentication is required.\n# jetty.sslContext.needClientAuth=false\n\n## Whether client certificate authentication is desired, but not required.\n# jetty.sslContext.wantClientAuth=false\n\n## Whether cipher order is significant.\n# jetty.sslContext.useCipherSuitesOrder=true\n\n## The SSLSession cache size.\n# jetty.sslContext.sslSessionCacheSize=-1\n\n## The SSLSession cache timeout (in seconds).\n# jetty.sslContext.sslSessionTimeout=-1\n\n## Whether TLS renegotiation is allowed.\n# jetty.sslContext.renegotiationAllowed=true\n\n## The max number of TLS renegotiations per connection.\n# jetty.sslContext.renegotiationLimit=5\n</code></pre>\n<p>server.ini</p>\n<pre><code># --------------------------------------- \n# Module: server\n# Enables and configures the Jetty server.\n# This module does not enable any network protocol support.\n# To enable a specific network protocol such as HTTP/1.1, you must enable the correspondent Jetty module.\n# --------------------------------------- \n--module=server\n\n### Common HTTP configuration\n## Scheme to use to build URIs for secure redirects\n#jetty.httpConfig.secureScheme=https\n\n## Port to use to build URIs for secure redirects\njetty.httpConfig.securePort=8443\n\n## Response content buffer size (in bytes)\n# jetty.httpConfig.outputBufferSize=32768\n\n## Max response content write length that is buffered (in bytes)\n# jetty.httpConfig.outputAggregationSize=8192\n\n## Max request headers size (in bytes)\n# jetty.httpConfig.requestHeaderSize=8192\n\n## Max response headers size (in bytes)\n# jetty.httpConfig.responseHeaderSize=8192\n\n## Whether to send the Server: header\n# jetty.httpConfig.sendServerVersion=true\n\n## Whether to send the Date: header\n# jetty.httpConfig.sendDateHeader=false\n\n## Max per-connection header cache size (in nodes)\n# jetty.httpConfig.headerCacheSize=1024\n\n## Whether, for requests with content, delay dispatch until some content has arrived\n# jetty.httpConfig.delayDispatchUntilContent=true\n\n## Maximum number of error dispatches to prevent looping\n# jetty.httpConfig.maxErrorDispatches=10\n\n## Relative Redirect Locations allowed\n# jetty.httpConfig.relativeRedirectAllowed=false\n\n## Whether to use direct ByteBuffers for reading or writing\n# jetty.httpConfig.useInputDirectByteBuffers=true\n# jetty.httpConfig.useOutputDirectByteBuffers=true\n\n## HTTP Compliance: RFC7230, RFC7230_LEGACY, RFC2616, RFC2616_LEGACY, LEGACY\n# jetty.httpConfig.compliance=RFC7230\n\n## URI Compliance: DEFAULT, LEGACY, RFC3986, RFC3986_UNAMBIGUOUS, UNSAFE\n# jetty.httpConfig.uriCompliance=DEFAULT\n\n## Cookie compliance mode for parsing request Cookie headers: RFC6265_STRICT, RFC6265, RFC6265_LEGACY, RFC2965, RFC2965_LEGACY\n# jetty.httpConfig.requestCookieCompliance=RFC6265\n\n## Cookie compliance mode for generating response Set-Cookie: RFC2965, RFC6265\n# jetty.httpConfig.responseCookieCompliance=RFC6265\n\n## multipart/form-data compliance mode of: LEGACY(slow), RFC7578(fast)\n# jetty.httpConfig.multiPartFormDataCompliance=RFC7578\n\n### Server configuration\n## Whether ctrl+c on the console gracefully stops the Jetty server\n# jetty.server.stopAtShutdown=true\n\n## Timeout in ms to apply when stopping the server gracefully\n# jetty.server.stopTimeout=5000\n\n## Dump the state of the Jetty server, components, and webapps after startup\n# jetty.server.dumpAfterStart=false\n\n## Dump the state of the Jetty server, components, and webapps before shutdown\n# jetty.server.dumpBeforeStop=false\n\n### Server Scheduler Configuration\n## The scheduler thread name, defaults to &quot;Scheduler-{hashCode()}&quot; if blank.\n# jetty.scheduler.name=\n\n## Whether the server scheduler threads are daemon.\n# jetty.scheduler.daemon=false\n\n## The number of server scheduler threads.\n# jetty.scheduler.threads=1\n</code></pre>\n<p>http.ini</p>\n<pre><code># --------------------------------------- \n# Module: http\n# Enables a clear-text HTTP connector.\n# By default clear-text HTTP/1.1 is enabled, and clear-text HTTP/2 may be added by enabling the &quot;http2c&quot; module.\n# --------------------------------------- \n--module=http\n\n### Clear-Text HTTP Connector Configuration\n\n## The host/address to bind the connector to.\n# jetty.http.host=0.0.0.0\n\n## The port the connector listens on.\n jetty.http.port=8081\n\n## The connector idle timeout, in milliseconds.\n# jetty.http.idleTimeout=30000\n\n## The number of acceptors (-1 picks a default value based on number of cores).\n# jetty.http.acceptors=1\n\n## The number of selectors (-1 picks a default value based on number of cores).\n# jetty.http.selectors=-1\n\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\n# jetty.http.acceptQueueSize=0\n\n## The thread priority delta to give to acceptor threads.\n# jetty.http.acceptorPriorityDelta=0\n\n## Whether to enable the SO_REUSEADDR socket option.\n# jetty.http.reuseAddress=true\n\n## Whether to enable the SO_REUSEPORT socket option.\n# jetty.http.reusePort=false\n\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\n# jetty.http.acceptedTcpNoDelay=true\n\n## The SO_RCVBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.http.acceptedReceiveBufferSize=-1\n\n## The SO_SNDBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.http.acceptedSendBufferSize=-1\n</code></pre>\n<p>https.ini</p>\n<pre><code># --------------------------------------- \n# Module: https\n# Adds HTTPS protocol support to the TLS(SSL) Connector.\n# --------------------------------------- \n--module=https\n</code></pre>\n<p>list-config</p>\n<pre><code>Enabled Modules:\n----------------\n  0) bytebufferpool            transitive provider of bytebufferpool for server\n                               ini template available with --add-module=bytebufferpool\n  1) resources                 transitive provider of resources for logging-jetty\n  2) logging/slf4j             transitive provider of logging/slf4j for logging-jetty\n                               dynamic dependency of logging-jetty\n  3) logging-jetty             transitive provider of logging for threadpool\n                               transitive provider of logging for server\n                               transitive provider of logging for console-capture\n  4) threadpool                transitive provider of threadpool for server\n                               ini template available with --add-module=threadpool\n  5) server                    ${jetty.base}\\start.d\\server.ini\n  6) jndi                      transitive provider of jndi for plus\n  7) security                  transitive provider of security for webapp\n                               transitive provider of security for plus\n  8) servlet                   transitive provider of servlet for webapp\n                               transitive provider of servlet for jsp\n  9) webapp                    transitive provider of webapp for plus\n                               transitive provider of webapp for deploy\n                               ini template available with --add-module=webapp\n 10) plus                      transitive provider of plus for annotations\n 11) annotations               ${jetty.base}\\start.d\\annotations.ini\n 12) apache-jsp                transitive provider of apache-jsp for jsp\n 13) apache-jstl               transitive provider of apache-jstl for jstl\n 14) console-capture           ${jetty.base}\\start.d\\console-capture.ini\n 15) deploy                    ${jetty.base}\\start.d\\deploy.ini\n 16) ssl                       ${jetty.base}\\start.d\\ssl.ini\n 17) https                     ${jetty.base}\\start.d\\https.ini\n 18) jsp                       ${jetty.base}\\start.d\\jsp.ini\n 19) jstl                      ${jetty.base}\\start.d\\jstl.ini\n 20) secure-redirect           ${jetty.base}\\start.d\\secure-redirect.ini\n 21) test-keystore             ${jetty.base}\\start.d\\test-keystore.ini\n\nJava Environment:\n-----------------\n java.home = C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7+7\n java.vm.vendor = Eclipse Adoptium\n java.vm.version = 17.0.7+7\n java.vm.name = OpenJDK 64-Bit Server VM\n java.vm.info = mixed mode, sharing\n java.runtime.name = OpenJDK Runtime Environment\n java.runtime.version = 17.0.7+7\n java.io.tmpdir = C:\\Users\\Bojan\\AppData\\Local\\Temp\\\n user.dir = C:\\qaelum\\services\\Webserver\n user.language = en\n user.country = US\n\nJetty Environment:\n------------------\n jetty.version = 10.0.15\n jetty.tag.version = jetty-10.0.15\n jetty.build = 68017dbd00236bb7e187330d7585a059610f661d\n jetty.home = C:\\qaelum\\frameworks\\jetty10\n jetty.base = C:\\qaelum\\services\\Webserver\n\nConfig Search Order:\n--------------------\n &lt;command-line&gt;\n ${jetty.base} -&gt; C:\\qaelum\\services\\Webserver\n ${jetty.home} -&gt; C:\\qaelum\\frameworks\\jetty10\n\nSystem Properties:\n------------------\n (no system properties specified)\n\nProperties:\n-----------\n bouncycastle.version = 1.70\n java.version = 17.0.7\n java.version.major = 17\n java.version.micro = 7\n java.version.minor = 0\n java.version.platform = 17\n jetty.base = C:\\qaelum\\services\\Webserver\n jetty.base.uri = file:///C:/qaelum/services/Webserver\n jetty.console-capture.dir = C:\\qaelum\\services\\Webserver\\logs\n jetty.home = C:\\qaelum\\frameworks\\jetty10\n jetty.home.uri = file:///C:/qaelum/frameworks/jetty10\n jetty.httpConfig.securePort = 8443\n jetty.ssl.port = 8443\n jetty.sslContext.keyStorePassword = OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\n jetty.sslContext.keyStorePath = etc/test-keystore.p12\n jetty.sslContext.keyStoreType = PKCS12\n jetty.webapp.addServerClasses = org.eclipse.jetty.logging.,${jetty.home.uri}/lib/logging/,org.slf4j.,${jetty.base.uri}/lib/bouncycastle/\n runtime.feature.alpn = true\n slf4j.version = 2.0.5\n\nJetty Server Classpath:\n-----------------------\nVersion Information on 32 entries in the classpath.\nNote: order presented here is how they would appear on the classpath.\n      changes to the --module=name command line options will be reflected here.\n 0:                    (dir) | ${jetty.base}\\resources\n 1:                    2.0.5 | ${jetty.home}\\lib\\logging\\slf4j-api-2.0.5.jar\n 2:                  10.0.15 | ${jetty.home}\\lib\\logging\\jetty-slf4j-impl-10.0.15.jar\n 3:                    4.0.6 | ${jetty.home}\\lib\\jetty-servlet-api-4.0.6.jar\n 4:                  10.0.15 | ${jetty.home}\\lib\\jetty-http-10.0.15.jar\n 5:                  10.0.15 | ${jetty.home}\\lib\\jetty-server-10.0.15.jar\n 6:                  10.0.15 | ${jetty.home}\\lib\\jetty-xml-10.0.15.jar\n 7:                  10.0.15 | ${jetty.home}\\lib\\jetty-util-10.0.15.jar\n 8:                  10.0.15 | ${jetty.home}\\lib\\jetty-io-10.0.15.jar\n 9:                  10.0.15 | ${jetty.home}\\lib\\jetty-jndi-10.0.15.jar\n10:                  10.0.15 | ${jetty.home}\\lib\\jetty-security-10.0.15.jar\n11:                  10.0.15 | ${jetty.home}\\lib\\jetty-servlet-10.0.15.jar\n12:                  10.0.15 | ${jetty.home}\\lib\\jetty-webapp-10.0.15.jar\n13:                  10.0.15 | ${jetty.home}\\lib\\jetty-plus-10.0.15.jar\n14:                    1.3.3 | ${jetty.home}\\lib\\jakarta.transaction-api-1.3.3.jar\n15:                  10.0.15 | ${jetty.home}\\lib\\jetty-annotations-10.0.15.jar\n16:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-9.5.jar\n17:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-analysis-9.5.jar\n18:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-commons-9.5.jar\n19:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-tree-9.5.jar\n20:                    1.3.5 | ${jetty.home}\\lib\\annotations\\jakarta.annotation-api-1.3.5.jar\n21:    3.26.0.v20210609-0549 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jdt.ecj-3.26.0.jar\n22:                  10.0.15 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jetty.apache-jsp-10.0.15.jar\n23:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-el-9.0.52.jar\n24:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-jsp-9.0.52.jar\n25:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-impl-1.2.5.jar\n26:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-spec-1.2.5.jar\n27:                  10.0.15 | ${jetty.home}\\lib\\jetty-deploy-10.0.15.jar\n28:                  10.0.15 | ${jetty.home}\\lib\\jetty-keystore-10.0.15.jar\n29:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcpkix-jdk15on-1.70.jar\n30:                   1.70.0 | ${jetty.base}\\lib\\bouncycastle\\bcprov-jdk15on-1.70.jar\n31:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcutil-jdk15on-1.70.jar\n\nJetty Active XMLs:\n------------------\n ${jetty.home}\\etc\\jetty-bytebufferpool.xml\n ${jetty.home}\\etc\\jetty-threadpool.xml\n ${jetty.home}\\etc\\jetty.xml\n ${jetty.home}\\etc\\jetty-webapp.xml\n ${jetty.home}\\etc\\console-capture.xml\n ${jetty.home}\\etc\\jetty-deploy.xml\n ${jetty.home}\\etc\\jetty-ssl.xml\n ${jetty.home}\\etc\\jetty-ssl-context.xml\n ${jetty.home}\\etc\\jetty-https.xml\n ${jetty.home}\\etc\\jetty-secure-redirect.xml\n ${jetty.home}\\etc\\jetty-test-keystore.xml\n</code></pre>\n<p>i am also using the test-keystore.ini</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1626355388,"post_id":68394081,"comment_id":120874942,"body_markdown":"What type is the collection with a size of zero?","body":"What type is the collection with a size of zero?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1626355799,"post_id":68394081,"comment_id":120875161,"body_markdown":"Can you provide a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)? Even if that code works for you locally, it would **really** help if we saw the code that failed in your build pipelines. My wild guess woud be something related to unit test execution being different in your build vs. your local test runs (did you try running the tests locally via your build script?).","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>? Even if that code works for you locally, it would <b>really</b> help if we saw the code that failed in your build pipelines. My wild guess woud be something related to unit test execution being different in your build vs. your local test runs (did you try running the tests locally via your build script?)."},{"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"score":0,"creation_date":1626358736,"post_id":68394081,"comment_id":120876586,"body_markdown":"@OlivierGr&#233;goire, its a list of a custom object.\nJoachimSauer I really think it&#39;s a bug in the library, since it&#39;s not failing just on the build, it also fails locally when a colleague of mine tries","body":"@OlivierGr&#233;goire, its a list of a custom object. JoachimSauer I really think it&#39;s a bug in the library, since it&#39;s not failing just on the build, it also fails locally when a colleague of mine tries"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1626360050,"post_id":68394081,"comment_id":120877261,"body_markdown":"@UnguruBulan: possible. But without a reproducible example you won&#39;t get far. Reduce the code to the minimum possible that still fails at your collegues computer. Remove unnecessary tests, replace your custom classes with simple dummies, do everything possible to reduce the code until you&#39;ve got a minimal, reproducible example. With that we can continue the hunt, but with just your description above, it&#39;s really anyone&#39;s guess.","body":"@UnguruBulan: possible. But without a reproducible example you won&#39;t get far. Reduce the code to the minimum possible that still fails at your collegues computer. Remove unnecessary tests, replace your custom classes with simple dummies, do everything possible to reduce the code until you&#39;ve got a minimal, reproducible example. With that we can continue the hunt, but with just your description above, it&#39;s really anyone&#39;s guess."},{"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"score":0,"creation_date":1626431045,"post_id":68394081,"comment_id":120896717,"body_markdown":"I found the problem. Will post the solution later on. Thanks for trying to help","body":"I found the problem. Will post the solution later on. Thanks for trying to help"}],"answers":[{"tags":[],"owner":{"account_id":9945374,"reputation":620,"user_id":7361008,"display_name":"Tomas F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692796668,"creation_date":1692796668,"answer_id":76961738,"question_id":68394081,"body_markdown":"This was my case:\r\n\r\nBy default, if your class has some fields already initialized, EasyRandom skips them.\r\n\r\nThis is the case also for initialization at declaration such as `List&lt;YourClass&gt; yourList = new ArrayList&lt;&gt;()`. Even if the collection itself is empty, EasyRandom skips such field.\r\n\r\nYou can use `overrideDefaultInitialization(true)` to change this behavior\r\n\r\n     new EasyRandomParameters()\r\n            .collectionSizeRange(1, 2)\r\n            .overrideDefaultInitialization(true)","title":"EasyRandom collection size bug?","body":"<p>This was my case:</p>\n<p>By default, if your class has some fields already initialized, EasyRandom skips them.</p>\n<p>This is the case also for initialization at declaration such as <code>List&lt;YourClass&gt; yourList = new ArrayList&lt;&gt;()</code>. Even if the collection itself is empty, EasyRandom skips such field.</p>\n<p>You can use <code>overrideDefaultInitialization(true)</code> to change this behavior</p>\n<pre><code> new EasyRandomParameters()\n        .collectionSizeRange(1, 2)\n        .overrideDefaultInitialization(true)\n</code></pre>\n"}],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692796668,"creation_date":1626353028,"question_id":68394081,"body_markdown":"I&#39;m using easy random (4.1.0, but even tried the latest ones).\r\n\r\nSo before each test, I&#39;m running this:\r\n\r\n    easyRandom = new EasyRandom(new EasyRandomParameters().collectionSizeRange(1, 2));\r\n\r\nThen in my tests I&#39;m generating an object which contains an inner object which also contains a List of SomeObject\r\n\r\n    MyObj obj = easyRandom.nextObject(MyObj.class);\r\n\r\nIt works fine. It generates the object and even populates the inner collection with 1-2 elements.\r\nOne colleague of mine had a problem where the inner collection was generated with 0 elements.\r\nThought it was something from his setup. But now, our pipelines are ending in build failure because of the exact same problem. That collection is generated with 0 elements and the tests are failing, even though it works locally.\r\n\r\nHas anyone met this weird bug?","title":"EasyRandom collection size bug?","body":"<p>I'm using easy random (4.1.0, but even tried the latest ones).</p>\n<p>So before each test, I'm running this:</p>\n<pre><code>easyRandom = new EasyRandom(new EasyRandomParameters().collectionSizeRange(1, 2));\n</code></pre>\n<p>Then in my tests I'm generating an object which contains an inner object which also contains a List of SomeObject</p>\n<pre><code>MyObj obj = easyRandom.nextObject(MyObj.class);\n</code></pre>\n<p>It works fine. It generates the object and even populates the inner collection with 1-2 elements.\nOne colleague of mine had a problem where the inner collection was generated with 0 elements.\nThought it was something from his setup. But now, our pipelines are ending in build failure because of the exact same problem. That collection is generated with 0 elements and the tests are failing, even though it works locally.</p>\n<p>Has anyone met this weird bug?</p>\n"},{"tags":["java","spring-boot","version-control","openapi"],"owner":{"account_id":25103965,"reputation":89,"user_id":18954336,"display_name":"JoeBloggs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692796284,"creation_date":1692796284,"question_id":76961686,"body_markdown":"I am using Spring Boot to run my service. Now I want to be able to define different versions of my api and separate them by some header. My current approach is to design specification first and then use openapi generator to get delegates.\r\n\r\nFor example, I have a spec file similar to this\r\n\r\n    openapi: 3.0.2\r\n    paths:\r\n      /api/stuff:\r\n        get:\r\n          operationId: method\r\n          parameters:\r\n            - in: header\r\n              name: version\r\n              type: integer\r\n          responses:\r\n            &#39;200&#39;:\r\n              $ref: &#39;#/components/responses/DtoV1&#39;\r\n\r\nHow can I say that for version 2 I will return `DtoV2`?\r\nAnd how will Spring handle those Controllers and Delegates?","title":"OpenApi versioning by header in Spring","body":"<p>I am using Spring Boot to run my service. Now I want to be able to define different versions of my api and separate them by some header. My current approach is to design specification first and then use openapi generator to get delegates.</p>\n<p>For example, I have a spec file similar to this</p>\n<pre><code>openapi: 3.0.2\npaths:\n  /api/stuff:\n    get:\n      operationId: method\n      parameters:\n        - in: header\n          name: version\n          type: integer\n      responses:\n        '200':\n          $ref: '#/components/responses/DtoV1'\n</code></pre>\n<p>How can I say that for version 2 I will return <code>DtoV2</code>?\nAnd how will Spring handle those Controllers and Delegates?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1340474206,"creation_date":1340471787,"answer_id":11171460,"question_id":11171445,"body_markdown":"Your regular expression can match zero characters. The final match is a zero width string occurring at the end of the string, **after** the character at index 5. The index of this zero width string is therefore 6.\r\n\r\n---\r\n\r\nAs an aside, you might also find it easier to understand what is going on if you use separators to make the output more readable:\r\n\r\n    System.out.println(matcher.start()+ &quot;: &quot; + matcher.group());\r\n\r\nResults:\r\n\r\n    0: \r\n    1: \r\n    2: 34\r\n    4: \r\n    5: \r\n    6: \r\n\r\n[ideone](http://ideone.com/hM4SE#)\r\n","title":"How Matcher.find() works","body":"<p>Your regular expression can match zero characters. The final match is a zero width string occurring at the end of the string, <strong>after</strong> the character at index 5. The index of this zero width string is therefore 6.</p>\n\n<hr>\n\n<p>As an aside, you might also find it easier to understand what is going on if you use separators to make the output more readable:</p>\n\n<pre><code>System.out.println(matcher.start()+ \": \" + matcher.group());\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>0: \n1: \n2: 34\n4: \n5: \n6: \n</code></pre>\n\n<p><a href=\"http://ideone.com/hM4SE#\">ideone</a></p>\n"},{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1340472518,"creation_date":1340472518,"answer_id":11171544,"question_id":11171445,"body_markdown":"Your expression use `*` that means 0 or more digit, so can match no digit too.\r\n\r\nChange your regular expression in this way\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n\r\nUsing `+` means 1 or more.\r\n\r\n\r\n\r\n","title":"How Matcher.find() works","body":"<p>Your expression use <code>*</code> that means 0 or more digit, so can match no digit too.</p>\n\n<p>Change your regular expression in this way</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\d+\");\n</code></pre>\n\n<p>Using <code>+</code> means 1 or more.</p>\n"}],"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57514,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1441914368,"accepted_answer_id":11171460,"answer_count":2,"score":18,"last_activity_date":1692796148,"creation_date":1340471681,"question_id":11171445,"body_markdown":"I am testing a small stub of Matcher and Pattern class...see the following small stub..  \r\n\r\n\r\n    package scjp2.escape.sequence.examples;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Sample_19 {\r\n        \r\n        public static void main(String a[]){\r\n            String stream = &quot;ab34ef&quot;;\r\n            Pattern pattern = Pattern.compile(&quot;\\\\d*&quot;);\r\n    \r\n            //HERE * IS GREEDY QUANTIFIER THAT LOOKS FOR ZERO TO MANY COMBINATION THAT \r\n            //START WITH NUMBER \r\n            Matcher matcher = pattern.matcher(stream);\r\n            \r\n            while(matcher.find()){\r\n                System.out.print(matcher.start()+matcher.group());\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\nHere ...our string which we are comparing is &quot;ab34ef&quot;. which is of length 6.\r\n\r\nNoe let see the iteration...\r\n\r\n---------------------------------------------------\r\nIteration NO    matcher.start()    matcher.group()\r\n-----------------------------------------------------\r\n\r\n1                     0                &quot;&quot;\r\n\r\n2                     1                &quot;&quot;\r\n\r\n3                     2                34\r\n\r\n4                     4                &quot;&quot;\r\n\r\n5                     5                &quot;&quot;\r\n\r\n\r\nNow ..let combine...matcher.start() + matcher.group()....\r\nthe output as per our calculation is : 0123445\r\n\r\nBut, the stub generates 01234456.\r\n\r\nI am not able to understand from where the &quot;6&quot; is coming.\r\nString index starts from zero and so here there can be maximum index is 5.So from where 6 is coming??\r\n\r\nIt iterates over the loop six times..How ?\r\nAny suggestion ?","title":"How Matcher.find() works","body":"<p>I am testing a small stub of Matcher and Pattern class...see the following small stub..  </p>\n\n<pre><code>package scjp2.escape.sequence.examples;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Sample_19 {\n\n    public static void main(String a[]){\n        String stream = \"ab34ef\";\n        Pattern pattern = Pattern.compile(\"\\\\d*\");\n\n        //HERE * IS GREEDY QUANTIFIER THAT LOOKS FOR ZERO TO MANY COMBINATION THAT \n        //START WITH NUMBER \n        Matcher matcher = pattern.matcher(stream);\n\n        while(matcher.find()){\n            System.out.print(matcher.start()+matcher.group());\n        }\n    }\n\n}\n</code></pre>\n\n<p>Here ...our string which we are comparing is \"ab34ef\". which is of length 6.</p>\n\n<p>Noe let see the iteration...</p>\n\n<hr>\n\n<h2>Iteration NO    matcher.start()    matcher.group()</h2>\n\n<p>1                     0                \"\"</p>\n\n<p>2                     1                \"\"</p>\n\n<p>3                     2                34</p>\n\n<p>4                     4                \"\"</p>\n\n<p>5                     5                \"\"</p>\n\n<p>Now ..let combine...matcher.start() + matcher.group()....\nthe output as per our calculation is : 0123445</p>\n\n<p>But, the stub generates 01234456.</p>\n\n<p>I am not able to understand from where the \"6\" is coming.\nString index starts from zero and so here there can be maximum index is 5.So from where 6 is coming??</p>\n\n<p>It iterates over the loop six times..How ?\nAny suggestion ?</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1340385878,"post_id":11161176,"comment_id":14637399,"body_markdown":"might have misunderstood the question.  re-read it and now this doesnt seem like what u want.  dont know what you mean by &quot;grab groups&quot;","body":"might have misunderstood the question.  re-read it and now this doesnt seem like what u want.  dont know what you mean by &quot;grab groups&quot;"},{"owner":{"account_id":436466,"reputation":382,"user_id":823667,"accept_rate":81,"display_name":"aelstonjones"},"score":0,"creation_date":1340386380,"post_id":11161176,"comment_id":14637612,"body_markdown":"Basically, I want a clean way to grab a matched pattern from the group array without using index numbers but a name instead.","body":"Basically, I want a clean way to grab a matched pattern from the group array without using index numbers but a name instead."}],"tags":[],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1340385810,"creation_date":1340385810,"answer_id":11161176,"question_id":11161149,"body_markdown":"I believe you need import \r\n\r\n&gt; org.apache.commons.lang3.StringUtils;\r\n\r\n  for this\r\n\r\n     private Boolean validateEmail(String email)\r\n        {\r\n        \treturn email.matches(&quot;^[-!#$%&amp;&#39;*+/0-9=?A-Z^_a-z{|}~](\\\\.?[-!#$%&amp;&#39;*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9])*(\\\\.[a-zA-Z](-?[a-zA-Z0-9])*)+$&quot;);\r\n        }\r\n        \r\n        private Boolean validateIP(String IP)\r\n        {\r\n        \treturn IP.matches(&quot;^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$&quot;);\r\n        }\r\n        \r\n        private Boolean validateHostname(String Hostname)\r\n        {\r\n        \treturn Hostname.matches(&quot;^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\\\-]*[a-zA-Z0-9])\\\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\\\-]*[A-Za-z0-9])$&quot;);\r\n        }\r\n        ","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>I believe you need import </p>\n\n<blockquote>\n  <p>org.apache.commons.lang3.StringUtils;</p>\n</blockquote>\n\n<p>for this</p>\n\n<pre><code> private Boolean validateEmail(String email)\n    {\n        return email.matches(\"^[-!#$%&amp;'*+/0-9=?A-Z^_a-z{|}~](\\\\.?[-!#$%&amp;'*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9])*(\\\\.[a-zA-Z](-?[a-zA-Z0-9])*)+$\");\n    }\n\n    private Boolean validateIP(String IP)\n    {\n        return IP.matches(\"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\");\n    }\n\n    private Boolean validateHostname(String Hostname)\n    {\n        return Hostname.matches(\"^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\\\-]*[a-zA-Z0-9])\\\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\\\-]*[A-Za-z0-9])$\");\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":436466,"reputation":382,"user_id":823667,"accept_rate":81,"display_name":"aelstonjones"},"score":1,"creation_date":1340386619,"post_id":11161209,"comment_id":14637703,"body_markdown":"Thanks for the fast reply.  Unfortunately, we are still using Java 6.  Maybe I&#39;ll just create an enum: String foo = matcher.group(MyGroups.FOO);","body":"Thanks for the fast reply.  Unfortunately, we are still using Java 6.  Maybe I&#39;ll just create an enum: String foo = matcher.group(MyGroups.FOO);"},{"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"score":1,"creation_date":1340386793,"post_id":11161209,"comment_id":14637785,"body_markdown":"Check out the [named-regexp](http://code.google.com/p/named-regexp/) project.  Its specific purpose is to provide a way to handle named groups pre-Java7.","body":"Check out the <a href=\"http://code.google.com/p/named-regexp/\" rel=\"nofollow noreferrer\">named-regexp</a> project.  Its specific purpose is to provide a way to handle named groups pre-Java7."},{"owner":{"account_id":296083,"reputation":129370,"user_id":6277151,"display_name":"tony19"},"score":1,"creation_date":1393047726,"post_id":11161209,"comment_id":33254830,"body_markdown":"The updated fork of [`named-regexp`](http://tony19.github.io/named-regexp) is preferred.","body":"The updated fork of <a href=\"http://tony19.github.io/named-regexp\" rel=\"nofollow noreferrer\"><code>named-regexp</code></a> is preferred."},{"owner":{"account_id":105487,"reputation":26137,"user_id":281469,"accept_rate":94,"display_name":"bcoughlan"},"score":1,"creation_date":1424778304,"post_id":11161209,"comment_id":45680567,"body_markdown":"Note that named groups will only work after calling `matcher.matches()`","body":"Note that named groups will only work after calling <code>matcher.matches()</code>"},{"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"score":0,"creation_date":1424798300,"post_id":11161209,"comment_id":45694286,"body_markdown":"@bcoughlan Ah, right you are.  Thanks for pointing it out.  I updated the answer to include this, though I used `Matcher#find()` because it matches C#&#39;s `Regex#Match()` method more similarly than `Matcher#matches()`.","body":"@bcoughlan Ah, right you are.  Thanks for pointing it out.  I updated the answer to include this, though I used <code>Matcher#find()</code> because it matches C#&#39;s <code>Regex#Match()</code> method more similarly than <code>Matcher#matches()</code>."}],"tags":[],"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1424798192,"creation_date":1340385932,"answer_id":11161209,"question_id":11161149,"body_markdown":"This is supported starting in [Java 7][1].  Your C# code can be translated to something like this:\r\n\r\n    String pattern = &quot;;(?&lt;foo&gt;\\\\d{6});(?&lt;bar&gt;\\\\d{6});&quot;;\r\n    Pattern regex = Pattern.compile(pattern);\r\n    Matcher matcher = regex.matcher(&quot;;123456;123456;&quot;);\r\n    boolean success = matcher.find();\r\n\r\n    String foo = success ? matcher.group(&quot;foo&quot;) : null;\r\n    String bar = success ? matcher.group(&quot;bar&quot;) : null;\r\n\r\nYou have to create a `Matcher` object which doesn&#39;t actually perform the regex test until you call [`find()`][2].\r\n\r\n(I used `find()` because it can find a match anywhere in the input string, like the [`Regex.Match()`][4] method.  The [`.matches()`][3] method only returns true if the regex matches the entire input string.)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#groupname\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\r\n  [4]: https://msdn.microsoft.com/en-us/library/twcw2f1c(v=vs.110).aspx","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>This is supported starting in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#groupname\">Java 7</a>.  Your C# code can be translated to something like this:</p>\n\n<pre><code>String pattern = \";(?&lt;foo&gt;\\\\d{6});(?&lt;bar&gt;\\\\d{6});\";\nPattern regex = Pattern.compile(pattern);\nMatcher matcher = regex.matcher(\";123456;123456;\");\nboolean success = matcher.find();\n\nString foo = success ? matcher.group(\"foo\") : null;\nString bar = success ? matcher.group(\"bar\") : null;\n</code></pre>\n\n<p>You have to create a <code>Matcher</code> object which doesn't actually perform the regex test until you call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\"><code>find()</code></a>.</p>\n\n<p>(I used <code>find()</code> because it can find a match anywhere in the input string, like the <a href=\"https://msdn.microsoft.com/en-us/library/twcw2f1c(v=vs.110).aspx\"><code>Regex.Match()</code></a> method.  The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\"><code>.matches()</code></a> method only returns true if the regex matches the entire input string.)</p>\n"},{"tags":[],"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340386040,"creation_date":1340386040,"answer_id":11161235,"question_id":11161149,"body_markdown":"Java v1.7 now supports  Perl-standard named groups like `(?&lt;name&gt;...)` and `\\k&lt;name&gt;` in patterns.\r\n\r\n You cannot have duplicate group names in the same pattern, which can be annoying in very complex cases where you are building up larger patterns out of smaller pieces out of your control.  It also lacks relative indexing.  \r\n\r\nHowever, it should be enough for such simple things as you appear to be writing.","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>Java v1.7 now supports  Perl-standard named groups like <code>(?&lt;name&gt;...)</code> and <code>\\k&lt;name&gt;</code> in patterns.</p>\n\n<p>You cannot have duplicate group names in the same pattern, which can be annoying in very complex cases where you are building up larger patterns out of smaller pieces out of your control.  It also lacks relative indexing.  </p>\n\n<p>However, it should be enough for such simple things as you appear to be writing.</p>\n"}],"owner":{"account_id":436466,"reputation":382,"user_id":823667,"accept_rate":81,"display_name":"aelstonjones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17138,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"closed_date":1486588392,"accepted_answer_id":11161209,"answer_count":3,"score":13,"last_activity_date":1692796115,"creation_date":1340385677,"question_id":11161149,"body_markdown":"I was wondering if Java had an equivalent to C#’s named pattern matching.  For example, in C# I can do something like this:\r\n\r\n    var pattern = @&quot;;(?&lt;foo&gt;\\d{6});(?&lt;bar&gt;\\d{6});&quot;;\r\n    var regex = new Regex(pattern , RegexOptions.None);\r\n    var match = regex.Match(&quot;;123456;123456;&quot;);\r\n\r\n    var foo = match.Groups[&quot;foo&quot;].Success ? match.Groups[&quot;foo&quot;].Value : null;\r\n    var bar = match.Groups[&quot;bar&quot;].Success ? match.Groups[&quot;bar&quot;].Value : null;\r\n\r\nThis just seems like a clean way to grab groups.  Can Java do something similar, or do I need to grab groups based on index position?\r\n\r\n    String foo = matcher.group(0);","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>I was wondering if Java had an equivalent to C#’s named pattern matching.  For example, in C# I can do something like this:</p>\n\n<pre><code>var pattern = @\";(?&lt;foo&gt;\\d{6});(?&lt;bar&gt;\\d{6});\";\nvar regex = new Regex(pattern , RegexOptions.None);\nvar match = regex.Match(\";123456;123456;\");\n\nvar foo = match.Groups[\"foo\"].Success ? match.Groups[\"foo\"].Value : null;\nvar bar = match.Groups[\"bar\"].Success ? match.Groups[\"bar\"].Value : null;\n</code></pre>\n\n<p>This just seems like a clean way to grab groups.  Can Java do something similar, or do I need to grab groups based on index position?</p>\n\n<pre><code>String foo = matcher.group(0);\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":300805,"reputation":5077,"user_id":608170,"accept_rate":90,"display_name":"verisimilitude"},"score":0,"creation_date":1339919812,"post_id":11069739,"comment_id":14488148,"body_markdown":"so that means you might be having one or more SECTIONs in your file, correct?","body":"so that means you might be having one or more SECTIONs in your file, correct?"},{"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"score":0,"creation_date":1339921662,"post_id":11069739,"comment_id":14488378,"body_markdown":"Regular expressions are not the right choice for parsing matched, nestable braces.","body":"Regular expressions are not the right choice for parsing matched, nestable braces."}],"answers":[{"tags":[],"owner":{"account_id":1447288,"reputation":3160,"user_id":1365324,"accept_rate":91,"display_name":"EyalAr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339920001,"creation_date":1339920001,"answer_id":11069815,"question_id":11069739,"body_markdown":"Perhaps you have white spaces which you don&#39;t consider.  \r\nTry this:  \r\n\r\n    &quot;SECTIONS\\\\s*\\\\{(.*)\\\\}&quot;\r\n\r\nNotice that I also removed the outer group from the pattern (I don&#39;t see a reason for it).  \r\nIn my example, after matching, use group 1.  \r\nNotice that this will work only if you do greedy matches (which is the case by default).","title":"java pattern and matcher","body":"<p>Perhaps you have white spaces which you don't consider.<br>\nTry this:  </p>\n\n<pre><code>\"SECTIONS\\\\s*\\\\{(.*)\\\\}\"\n</code></pre>\n\n<p>Notice that I also removed the outer group from the pattern (I don't see a reason for it).<br>\nIn my example, after matching, use group 1.<br>\nNotice that this will work only if you do greedy matches (which is the case by default).</p>\n"},{"tags":[],"owner":{"account_id":263393,"reputation":6812,"user_id":548915,"accept_rate":56,"display_name":"Kristof Jozsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1339920220,"creation_date":1339920220,"answer_id":11069827,"question_id":11069739,"body_markdown":"This will match and print the content inside SECTIONS `{` and `}`.:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;SECTIONS.*?\\\\{(.*)\\\\}&quot;, Pattern.DOTALL);\r\n    Matcher matcher = pattern.matcher(sample);\r\n    matcher.find();\r\n\r\n    System.out.println(matcher.group(1));\r\n\r\nwhere `sample` is your pattern sample. `Pattern.DOTALL` is required to handle line breaks correctly, the others should be self-explanatory. ","title":"java pattern and matcher","body":"<p>This will match and print the content inside SECTIONS <code>{</code> and <code>}</code>.:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"SECTIONS.*?\\\\{(.*)\\\\}\", Pattern.DOTALL);\nMatcher matcher = pattern.matcher(sample);\nmatcher.find();\n\nSystem.out.println(matcher.group(1));\n</code></pre>\n\n<p>where <code>sample</code> is your pattern sample. <code>Pattern.DOTALL</code> is required to handle line breaks correctly, the others should be self-explanatory. </p>\n"}],"owner":{"account_id":1306905,"reputation":111,"user_id":1255710,"accept_rate":86,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11069827,"answer_count":2,"score":1,"last_activity_date":1692796108,"creation_date":1339919188,"question_id":11069739,"body_markdown":"I am using Pattern and Matcher classes from Java to parse a link file script.\r\nThe text I need is in the SECTIONS part:\r\n\r\n    SECTIONS\r\n    \t{\r\n    \t\t.text : {} &gt; FAST_MEM /* Link all .text sections into ROM */\r\n    \t\t.intvecs : {} &gt; 0x0 /* Link interrupt vectors at 0x0 */\r\n    \t\t.data : /* Link .data sections */\r\n    \t\t{\r\n    \t\t\ttables.obj(.data)\r\n    \t\t\t. = 0x400; /* Create hole at end of block */\r\n    \t\t} = 0xFF00FF00 &gt; EEPROM /* Fill and link into EEPROM */\r\n    \t\tctrl_vars: /* Create new ctrl_vars section */\r\n    \t\t{\r\n    \t\t\tctrl.obj(.bss)\r\n    \t\t} = 0x00000100 &gt; SLOW_MEM /* Fill with 0x100 and link into RAM */\r\n    \t\t.bss : {} &gt; SLOW_MEM /* Link remaining .bss sections into RAM */\r\n    \t}\r\n\r\nright now I am using \r\n\r\n    Pattern SectPattern = Pattern.compile(&quot;(SECTIONS\\\\{(.*)\\\\})&quot;);\r\n\r\nand I want to extract the (.*) group but the result is not what I expected\r\nDoes anyone have any ideas of a better pattern to use?\r\n","title":"java pattern and matcher","body":"<p>I am using Pattern and Matcher classes from Java to parse a link file script.\nThe text I need is in the SECTIONS part:</p>\n\n<pre><code>SECTIONS\n    {\n        .text : {} &gt; FAST_MEM /* Link all .text sections into ROM */\n        .intvecs : {} &gt; 0x0 /* Link interrupt vectors at 0x0 */\n        .data : /* Link .data sections */\n        {\n            tables.obj(.data)\n            . = 0x400; /* Create hole at end of block */\n        } = 0xFF00FF00 &gt; EEPROM /* Fill and link into EEPROM */\n        ctrl_vars: /* Create new ctrl_vars section */\n        {\n            ctrl.obj(.bss)\n        } = 0x00000100 &gt; SLOW_MEM /* Fill with 0x100 and link into RAM */\n        .bss : {} &gt; SLOW_MEM /* Link remaining .bss sections into RAM */\n    }\n</code></pre>\n\n<p>right now I am using </p>\n\n<pre><code>Pattern SectPattern = Pattern.compile(\"(SECTIONS\\\\{(.*)\\\\})\");\n</code></pre>\n\n<p>and I want to extract the (.*) group but the result is not what I expected\nDoes anyone have any ideas of a better pattern to use?</p>\n"},{"tags":["java","regex","substring"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1339008049,"post_id":10920019,"comment_id":14242686,"body_markdown":"+1 well-structured question, specific, with all relevant details.","body":"+1 well-structured question, specific, with all relevant details."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1339007587,"creation_date":1339007587,"answer_id":10920056,"question_id":10920019,"body_markdown":"It _does_ work.  Your pattern\r\n\r\n    ^.*pattern.*$\r\n\r\nsays to match:\r\n\r\n1. start at the beginning\r\n2. accept any number of characters\r\n3. followed by the string `pattern`\r\n4. followed by any number of characters\r\n5. until the end of the string\r\n\r\nThe result is the entire input string.  If you wanted to find only the word `pattern`, then the regex would be just the word by itself, or as you found, bracketed with word-boundary metacharacters.","title":"Why this code don&#39;t work properly?","body":"<p>It <em>does</em> work.  Your pattern</p>\n\n<pre><code>^.*pattern.*$\n</code></pre>\n\n<p>says to match:</p>\n\n<ol>\n<li>start at the beginning</li>\n<li>accept any number of characters</li>\n<li>followed by the string <code>pattern</code></li>\n<li>followed by any number of characters</li>\n<li>until the end of the string</li>\n</ol>\n\n<p>The result is the entire input string.  If you wanted to find only the word <code>pattern</code>, then the regex would be just the word by itself, or as you found, bracketed with word-boundary metacharacters.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339007643,"creation_date":1339007643,"answer_id":10920068,"question_id":10920019,"body_markdown":"It is not that the first example didn&#39;t work, it is that you inadvertently asked it to match more than you meant.\r\n\r\nThe `.*` expressions expand to contain all the characters before &quot;pattern&quot; and all the characters after pattern, so the whole expression matches the whole line.\r\n\r\nWith your second example, you only specify that it match a blank space before and after &quot;pattern&quot; so the expression matches _mostly_ pattern, plus a couple of spaces.","title":"Why this code don&#39;t work properly?","body":"<p>It is not that the first example didn't work, it is that you inadvertently asked it to match more than you meant.</p>\n\n<p>The <code>.*</code> expressions expand to contain all the characters before \"pattern\" and all the characters after pattern, so the whole expression matches the whole line.</p>\n\n<p>With your second example, you only specify that it match a blank space before and after \"pattern\" so the expression matches <em>mostly</em> pattern, plus a couple of spaces.</p>\n"},{"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1339007831,"post_id":10920100,"comment_id":14242576,"body_markdown":"`To make it working you have to make it greedy, i.e. add question sign after .*` you mean non-greedy right?","body":"<code>To make it working you have to make it greedy, i.e. add question sign after .*</code> you mean non-greedy right?"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339007773,"creation_date":1339007773,"answer_id":10920100,"question_id":10920019,"body_markdown":"The problem is in your regex: `&quot;^.*&quot; + keyword + &quot;.*$&quot;`\r\n\r\nThe expression `.*` matches as many characters as there are in the string. It means that it actually matches whole string. After the whole string it cannot find your keyword.\r\n\r\nTo make it working you have to make it greedy, i.e.  add question sign after `.*`: \r\n\r\n`&quot;^.*?&quot; + keyword + &quot;.*$&quot;`\r\n\r\nThis time `.*?` matches minimum characters followed by your keyword. \r\n\r\n\r\n","title":"Why this code don&#39;t work properly?","body":"<p>The problem is in your regex: <code>\"^.*\" + keyword + \".*$\"</code></p>\n\n<p>The expression <code>.*</code> matches as many characters as there are in the string. It means that it actually matches whole string. After the whole string it cannot find your keyword.</p>\n\n<p>To make it working you have to make it greedy, i.e.  add question sign after <code>.*</code>: </p>\n\n<p><code>\"^.*?\" + keyword + \".*$\"</code></p>\n\n<p>This time <code>.*?</code> matches minimum characters followed by your keyword. </p>\n"}],"owner":{"account_id":417690,"reputation":2002,"user_id":793824,"accept_rate":83,"display_name":"abg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10920056,"answer_count":3,"score":1,"last_activity_date":1692796088,"creation_date":1339007431,"question_id":10920019,"body_markdown":"Why this code:\r\n\r\n    String keyword = &quot;pattern&quot;;\r\n    String text    = &quot;sometextpatternsometext&quot;;\r\n    String patternStr = &quot;^.*&quot; + keyword + &quot;.*$&quot;; //\r\n    Pattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(text);\r\n    while (matcher.find()) {\r\n        int start = matcher.start();\r\n        int end = matcher.end();\r\n        System.out.println(&quot;start = &quot; + start + &quot;, end = &quot; + end);\r\n    }\r\n\r\n&gt; start = 0, end = 23\r\n\r\ndon&#39;t work properly.\r\n\r\nBut, this code:\r\n\r\n    String keyword = &quot;pattern&quot;;\r\n    String text    = &quot;sometext pattern sometext&quot;;\r\n    String patternStr = &quot;\\\\b&quot; + keyword + &quot;\\\\b&quot;; //\r\n    Pattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(text);\r\n    while (matcher.find()) {\r\n        int start = matcher.start();\r\n        int end = matcher.end();\r\n        System.out.println(&quot;start = &quot; + start + &quot;, end = &quot; + end);\r\n    }\r\n\r\n&gt; start = 9, end = 16\r\n\r\nwork fine.","title":"Why this code don&#39;t work properly?","body":"<p>Why this code:</p>\n\n<pre><code>String keyword = \"pattern\";\nString text    = \"sometextpatternsometext\";\nString patternStr = \"^.*\" + keyword + \".*$\"; //\nPattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(text);\nwhile (matcher.find()) {\n    int start = matcher.start();\n    int end = matcher.end();\n    System.out.println(\"start = \" + start + \", end = \" + end);\n}\n</code></pre>\n\n<blockquote>\n  <p>start = 0, end = 23</p>\n</blockquote>\n\n<p>don't work properly.</p>\n\n<p>But, this code:</p>\n\n<pre><code>String keyword = \"pattern\";\nString text    = \"sometext pattern sometext\";\nString patternStr = \"\\\\b\" + keyword + \"\\\\b\"; //\nPattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(text);\nwhile (matcher.find()) {\n    int start = matcher.start();\n    int end = matcher.end();\n    System.out.println(\"start = \" + start + \", end = \" + end);\n}\n</code></pre>\n\n<blockquote>\n  <p>start = 9, end = 16</p>\n</blockquote>\n\n<p>work fine.</p>\n"},{"tags":["java","android","regex"],"answers":[{"tags":[],"owner":{"account_id":439593,"reputation":15022,"user_id":828625,"accept_rate":88,"display_name":"Kazekage Gaara"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1338115170,"creation_date":1338115170,"answer_id":10773321,"question_id":10773296,"body_markdown":"You should use this:\r\n\r\n    while (m.find()) {\r\n    \t\t\tstudent.setName(m.group(1));\r\n                student.setState(m.group(2));\r\n    \t\t}\r\n\r\nRead [this][1] for understanding exactly why should you use `find()` and not `matches()`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex","title":"extract string from http document with matcher/pattern","body":"<p>You should use this:</p>\n\n<pre><code>while (m.find()) {\n            student.setName(m.group(1));\n            student.setState(m.group(2));\n        }\n</code></pre>\n\n<p>Read <a href=\"https://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex\">this</a> for understanding exactly why should you use <code>find()</code> and not <code>matches()</code>.</p>\n"}],"owner":{"account_id":1506371,"reputation":3,"user_id":1409656,"display_name":"user1409656"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10773321,"answer_count":1,"score":0,"last_activity_date":1692796077,"creation_date":1338114911,"question_id":10773296,"body_markdown":"Here is a part of my document:\r\n\r\n    &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;Име:&lt;/b&gt;&lt;/td&gt; &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;Павлин Евгениев Тишев&lt;/td&gt;\r\n    &lt;td rowspan=&quot;7&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\r\n    &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;Състояние:&lt;/b&gt;&lt;/td&gt;\r\n    &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;Редовен&lt;/td&gt;\r\n\r\nI want to extract the String between `&lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;` and `&lt;/td&gt;` from all occurrences one by one because the values are ordered by type.\r\n\r\nI am using this code (**in** is the whole input String part of which is shown above)\r\n\r\n    Pattern p = Pattern.compile(&quot;&lt;td align=\\&quot;left\\&quot; valign=\\&quot;top\\&quot;&gt;(.*?)&lt;/td&gt;&quot;);\r\n    \t\tMatcher m = p.matcher(in);\r\n    \r\n    \t\tif (m.matches()) {\r\n    \t\t\tstudent.setName(m.group(1));\r\n    \t\t\tstudent.setState(m.group(2));\r\n    \t\t}\r\n\r\nbut it does not even enter the **if**","title":"extract string from http document with matcher/pattern","body":"<p>Here is a part of my document:</p>\n\n<pre><code>&lt;td align=\"right\" valign=\"top\"&gt;&lt;b&gt;Име:&lt;/b&gt;&lt;/td&gt; &lt;td align=\"left\" valign=\"top\"&gt;Павлин Евгениев Тишев&lt;/td&gt;\n&lt;td rowspan=\"7\" align=\"center\" valign=\"top\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n&lt;td align=\"right\" valign=\"top\"&gt;&lt;b&gt;Състояние:&lt;/b&gt;&lt;/td&gt;\n&lt;td align=\"left\" valign=\"top\"&gt;Редовен&lt;/td&gt;\n</code></pre>\n\n<p>I want to extract the String between <code>&lt;td align=\"left\" valign=\"top\"&gt;</code> and <code>&lt;/td&gt;</code> from all occurrences one by one because the values are ordered by type.</p>\n\n<p>I am using this code (<strong>in</strong> is the whole input String part of which is shown above)</p>\n\n<pre><code>Pattern p = Pattern.compile(\"&lt;td align=\\\"left\\\" valign=\\\"top\\\"&gt;(.*?)&lt;/td&gt;\");\n        Matcher m = p.matcher(in);\n\n        if (m.matches()) {\n            student.setName(m.group(1));\n            student.setState(m.group(2));\n        }\n</code></pre>\n\n<p>but it does not even enter the <strong>if</strong></p>\n"},{"tags":["java","regex","special-characters"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1338032116,"post_id":10765837,"comment_id":13995599,"body_markdown":"[What have you tried](http://mattgemmell.com/2008/12/08/what-have-you-tried/)?","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried</a>?"},{"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"score":0,"creation_date":1338032910,"post_id":10765837,"comment_id":13995740,"body_markdown":"For the first pattern [&lt;&gt;[]:;/\\&quot;|=+*?,] For the Second Pattern [&lt;&gt;/\\&quot;|] Is this correct? I dont know how can we check for Names cannot start with a period, Can anyone suggest?","body":"For the first pattern [&lt;&gt;[]:;/\\&quot;|=+*?,] For the Second Pattern [&lt;&gt;/\\&quot;|] Is this correct? I dont know how can we check for Names cannot start with a period, Can anyone suggest?"}],"answers":[{"comments":[{"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"score":0,"creation_date":1338034477,"post_id":10765966,"comment_id":13995992,"body_markdown":"String.contains which is the standard way to check for Special character,Regex Pattern is the option which we can for it But I dont have much idea how to create pattern which I specified","body":"String.contains which is the standard way to check for Special character,Regex Pattern is the option which we can for it But I dont have much idea how to create pattern which I specified"}],"tags":[],"owner":{"account_id":250344,"reputation":3620,"user_id":526995,"accept_rate":94,"display_name":"Andy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338033185,"creation_date":1338033185,"answer_id":10765966,"question_id":10765837,"body_markdown":"Instead of using a regular expression, which you&#39;re obviously not confident with, you could use the `String.contains()` method.\r\n\r\nHowever, if you must use regex, like Mayur Patel said, &quot;`[ab]`&quot; basically means a or b ! You should check out regularexpressions.info","title":"Special Character check using Java Pattern","body":"<p>Instead of using a regular expression, which you're obviously not confident with, you could use the <code>String.contains()</code> method.</p>\n\n<p>However, if you must use regex, like Mayur Patel said, \"<code>[ab]</code>\" basically means a or b ! You should check out regularexpressions.info</p>\n"},{"comments":[{"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"score":0,"creation_date":1338034945,"post_id":10766115,"comment_id":13996080,"body_markdown":"Excellent Cylian,Thanks a lot for the detail explanation, I just wanted to confirm that for 1st point, Is this also checking Names cannot start with a period??","body":"Excellent Cylian,Thanks a lot for the detail explanation, I just wanted to confirm that for 1st point, Is this also checking Names cannot start with a period??"},{"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"score":0,"creation_date":1338035258,"post_id":10766115,"comment_id":13996142,"body_markdown":"I just wanted to confirm that for 1st point, Is this also checking Names cannot start with a period?? and For 2nd point its giving compilation error like Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ ) Can you please verify same?","body":"I just wanted to confirm that for 1st point, Is this also checking Names cannot start with a period?? and For 2nd point its giving compilation error like Invalid escape sequence (valid ones are  \\b  \\t  \\n  \\f  \\r  \\&quot;  \\&#39;  \\\\ ) Can you please verify same?"},{"owner":{"account_id":250344,"reputation":3620,"user_id":526995,"accept_rate":94,"display_name":"Andy"},"score":0,"creation_date":1338037539,"post_id":10766115,"comment_id":13996544,"body_markdown":"@MayurPatel I can tell you that the first regex does *not* care whether the string starts with a period","body":"@MayurPatel I can tell you that the first regex does <i>not</i> care whether the string starts with a period"},{"owner":{"account_id":419958,"reputation":11070,"user_id":797393,"accept_rate":88,"display_name":"Cylian"},"score":0,"creation_date":1338037778,"post_id":10766115,"comment_id":13996591,"body_markdown":"@MayurPatel: The RegEx I provided here, is basic and need to escaped as needed by compiler.","body":"@MayurPatel: The RegEx I provided here, is basic and need to escaped as needed by compiler."},{"owner":{"account_id":419958,"reputation":11070,"user_id":797393,"accept_rate":88,"display_name":"Cylian"},"score":0,"creation_date":1338037821,"post_id":10766115,"comment_id":13996601,"body_markdown":"@Andy: The pattern doesn&#39;t match any string that starts-with a ``dot``.","body":"@Andy: The pattern doesn&#39;t match any string that starts-with a <code>dot</code>."},{"owner":{"account_id":250344,"reputation":3620,"user_id":526995,"accept_rate":94,"display_name":"Andy"},"score":0,"creation_date":1338043647,"post_id":10766115,"comment_id":13997767,"body_markdown":"@MayurPatel I think it will be &quot;\\n&quot; causing the compilation error because it can be used a standard string. If I remember rightly you need to put &quot;\\\\n&quot;","body":"@MayurPatel I think it will be &quot;\\n&quot; causing the compilation error because it can be used a standard string. If I remember rightly you need to put &quot;\\\\n&quot;"},{"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"score":0,"creation_date":1338044633,"post_id":10766115,"comment_id":13997992,"body_markdown":"@Andy Same thing is there in 1st point n that&#39;s not giving any error but in 2nd point its giving, Thanks I will check that.","body":"@Andy Same thing is there in 1st point n that&#39;s not giving any error but in 2nd point its giving, Thanks I will check that."},{"owner":{"account_id":419958,"reputation":11070,"user_id":797393,"accept_rate":88,"display_name":"Cylian"},"score":0,"creation_date":1338044725,"post_id":10766115,"comment_id":13998019,"body_markdown":"@Andy: You&#39;re right, it was just an typo. Thanks for spotting that. Updated my answer.","body":"@Andy: You&#39;re right, it was just an typo. Thanks for spotting that. Updated my answer."}],"tags":[],"owner":{"account_id":419958,"reputation":11070,"user_id":797393,"accept_rate":88,"display_name":"Cylian"},"comment_count":8,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1338044690,"creation_date":1338034409,"answer_id":10766115,"question_id":10765837,"body_markdown":"**Try these patterns**\r\n\r\n*for 1st point*\r\n\r\n    (?i)^([a-z][^&quot;\\[:\\]\\|=\\+\\*\\?&lt;&gt;\\\\\\/\\r\\n]+)$\r\n\r\n\r\n*for 2st point*\r\n\r\n    (?i)^([a-z][^&lt;&gt;\\\\\\/\\|\\r\\n]+)$\r\n\r\n\r\n**Explanations**\r\n\r\n    1st Pattern\r\n    \r\n    &quot;(?i)&quot; +                               -- Match the remainder of the regex with the options: case insensitive (i)\r\n    &quot;^&quot; +                                  -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\r\n    &quot;(&quot; +                                  -- Match the regular expression below and capture its match into backreference number 1\r\n       &quot;[a-z]&quot; +                              -- Match a single character in the range between “a” and “z”\r\n       &quot;[^\\&quot;\\\\[:\\\\]\\\\|=\\\\+\\\\*\\\\?&lt;&gt;\\\\\\\\\\\\/\\r\\n]&quot; +       -- Match a single character NOT present in the list below\r\n                                                 -- The character “&quot;”\r\n                                                 -- A [ character\r\n                                                 -- The character “:”\r\n                                                 -- A ] character\r\n                                                 -- A | character\r\n                                                 -- The character “=”\r\n                                                 -- A + character\r\n                                                 -- A * character\r\n                                                 -- A ? character\r\n                                                 -- One of the characters “&lt;&gt;”\r\n                                                 -- A \\ character\r\n                                                 -- A / character\r\n                                                 -- A carriage return character\r\n                                                 -- A line feed character\r\n          &quot;+&quot; +                                  -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\r\n    &quot;)&quot; +\r\n    &quot;$&quot;                                    -- Assert position at the end of a line (at the end of the string or before a line break character)\r\n    \r\n    \r\n    2nd Pattern\r\n    \r\n    &quot;(?i)&quot; +                  -- Match the remainder of the regex with the options: case insensitive (i)\r\n    &quot;^&quot; +                     -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\r\n    &quot;(&quot; +                     -- Match the regular expression below and capture its match into backreference number 1\r\n       &quot;[a-z]&quot; +                 -- Match a single character in the range between “a” and “z”\r\n       &quot;[^&lt;&gt;\\\\\\\\\\\\/\\\\|\\r\\n]&quot; +       -- Match a single character NOT present in the list below\r\n                                    -- One of the characters “&lt;&gt;”\r\n                                    -- A \\ character\r\n                                    -- A / character\r\n                                    -- A | character\r\n                                    -- A carriage return character\r\n                                    -- A line feed character\r\n          &quot;+&quot; +                     -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\r\n    &quot;)&quot; +\r\n    &quot;$&quot;                       -- Assert position at the end of a line (at the end of the string or before a line break character)\r\n\r\n\r\n**code**\r\n\r\n\r\n\r\n    try {\r\n        boolean foundMatch = subjectString.matches(&quot;(?i)^([a-z][^\\&quot;\\\\[:\\\\]|=+*?&lt;&gt;\\\\\\\\/\\\\r\\\\n]+)$&quot;);\r\n    } catch (PatternSyntaxException ex) {\r\n        // Syntax error in the regular expression\r\n    }\r\n\r\n","title":"Special Character check using Java Pattern","body":"<p><strong>Try these patterns</strong></p>\n\n<p><em>for 1st point</em></p>\n\n<pre><code>(?i)^([a-z][^\"\\[:\\]\\|=\\+\\*\\?&lt;&gt;\\\\\\/\\r\\n]+)$\n</code></pre>\n\n<p><em>for 2st point</em></p>\n\n<pre><code>(?i)^([a-z][^&lt;&gt;\\\\\\/\\|\\r\\n]+)$\n</code></pre>\n\n<p><strong>Explanations</strong></p>\n\n<pre><code>1st Pattern\n\n\"(?i)\" +                               -- Match the remainder of the regex with the options: case insensitive (i)\n\"^\" +                                  -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\n\"(\" +                                  -- Match the regular expression below and capture its match into backreference number 1\n   \"[a-z]\" +                              -- Match a single character in the range between “a” and “z”\n   \"[^\\\"\\\\[:\\\\]\\\\|=\\\\+\\\\*\\\\?&lt;&gt;\\\\\\\\\\\\/\\r\\n]\" +       -- Match a single character NOT present in the list below\n                                             -- The character “\"”\n                                             -- A [ character\n                                             -- The character “:”\n                                             -- A ] character\n                                             -- A | character\n                                             -- The character “=”\n                                             -- A + character\n                                             -- A * character\n                                             -- A ? character\n                                             -- One of the characters “&lt;&gt;”\n                                             -- A \\ character\n                                             -- A / character\n                                             -- A carriage return character\n                                             -- A line feed character\n      \"+\" +                                  -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\n\")\" +\n\"$\"                                    -- Assert position at the end of a line (at the end of the string or before a line break character)\n\n\n2nd Pattern\n\n\"(?i)\" +                  -- Match the remainder of the regex with the options: case insensitive (i)\n\"^\" +                     -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\n\"(\" +                     -- Match the regular expression below and capture its match into backreference number 1\n   \"[a-z]\" +                 -- Match a single character in the range between “a” and “z”\n   \"[^&lt;&gt;\\\\\\\\\\\\/\\\\|\\r\\n]\" +       -- Match a single character NOT present in the list below\n                                -- One of the characters “&lt;&gt;”\n                                -- A \\ character\n                                -- A / character\n                                -- A | character\n                                -- A carriage return character\n                                -- A line feed character\n      \"+\" +                     -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\n\")\" +\n\"$\"                       -- Assert position at the end of a line (at the end of the string or before a line break character)\n</code></pre>\n\n<p><strong>code</strong></p>\n\n<pre><code>try {\n    boolean foundMatch = subjectString.matches(\"(?i)^([a-z][^\\\"\\\\[:\\\\]|=+*?&lt;&gt;\\\\\\\\/\\\\r\\\\n]+)$\");\n} catch (PatternSyntaxException ex) {\n    // Syntax error in the regular expression\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338047245,"creation_date":1338047245,"answer_id":10767655,"question_id":10765837,"body_markdown":"Below is the solution of my problem\r\n\r\n1) (?i)^([a-z][^\\&quot;\\\\[:\\\\]|=+*.?&lt;&gt;\\\\\\\\/\\\\r\\\\n]+)$\r\n\r\n2) (?i)^([a-z][^\\&quot;&lt;&gt;|\\\\\\\\/\\\\r\\\\n]+)$\r\n\r\nI&#39;ve also added period symbol in 1) point for checking not to start Names with period symbol.\r\n\r\nThanks a lot Cylian and Andy for the help, It really helped me a lot.\r\n\r\nThanks again :)","title":"Special Character check using Java Pattern","body":"<p>Below is the solution of my problem</p>\n\n<p>1) (?i)^([a-z][^\\\"\\[:\\]|=+*.?&lt;>\\\\/\\r\\n]+)$</p>\n\n<p>2) (?i)^([a-z][^\\\"&lt;>|\\\\/\\r\\n]+)$</p>\n\n<p>I've also added period symbol in 1) point for checking not to start Names with period symbol.</p>\n\n<p>Thanks a lot Cylian and Andy for the help, It really helped me a lot.</p>\n\n<p>Thanks again :)</p>\n"}],"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8735,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":10766115,"answer_count":3,"score":-2,"last_activity_date":1692796067,"creation_date":1338031971,"question_id":10765837,"body_markdown":"I want to generate Two patterns with below information,\r\n\r\n1)The following special characters cannot be entered in the first name, last name, email, phone number fields in the Account form:\r\n\r\n**Pattern**  &quot; [ ] : ; | = + * ? &lt; &gt; / \\ ,\r\n**Names cannot start with a period**\r\n\r\n2)The following special characters cannot be entered in the Company address fields:\r\n\r\n**Pattern** &lt; &gt; / \\ |\r\n\r\nPlease give me an idea.\r\n\r\nThanks in advance","title":"Special Character check using Java Pattern","body":"<p>I want to generate Two patterns with below information,</p>\n\n<p>1)The following special characters cannot be entered in the first name, last name, email, phone number fields in the Account form:</p>\n\n<p><strong>Pattern</strong>  \" [ ] : ; | = + * ? &lt; > / \\ ,\n<strong>Names cannot start with a period</strong></p>\n\n<p>2)The following special characters cannot be entered in the Company address fields:</p>\n\n<p><strong>Pattern</strong> &lt; > / \\ |</p>\n\n<p>Please give me an idea.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1337790522,"creation_date":1337790522,"answer_id":10724147,"question_id":10724038,"body_markdown":"The [**`matches()`**][1] method attempts to match the regular expression against the entire string.  If you want to match a part of the string, you want the [**`find()`**][2] method:\r\n\r\n    if (matcher.find())\r\n\r\nYou could, however, build a single regular expression to match all three parts at once:\r\n\r\n    String regex = &quot;\\&quot;(.+?)\\&quot; \\\\&lt;sip:\\\\+(.+?)@(.+?)\\\\&gt;&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher matcher = p.matcher(remoteUriStr);\r\n    if (matcher.matches()) {\r\n        title = matcher.group(1);\r\n        part2 = matcher.group(2);\r\n        ip = matcher.group(3);\r\n    }\r\n\r\nDemo: http://ideone.com/8t2EC\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#matches%28%29\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#find%28%29","title":"regex extract string between two characters","body":"<p>The <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#matches%28%29\" rel=\"nofollow\"><strong><code>matches()</code></strong></a> method attempts to match the regular expression against the entire string.  If you want to match a part of the string, you want the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow\"><strong><code>find()</code></strong></a> method:</p>\n\n<pre><code>if (matcher.find())\n</code></pre>\n\n<p>You could, however, build a single regular expression to match all three parts at once:</p>\n\n<pre><code>String regex = \"\\\"(.+?)\\\" \\\\&lt;sip:\\\\+(.+?)@(.+?)\\\\&gt;\";\nPattern p = Pattern.compile(regex);\nMatcher matcher = p.matcher(remoteUriStr);\nif (matcher.matches()) {\n    title = matcher.group(1);\n    part2 = matcher.group(2);\n    ip = matcher.group(3);\n}\n</code></pre>\n\n<p>Demo: <a href=\"http://ideone.com/8t2EC\" rel=\"nofollow\">http://ideone.com/8t2EC</a></p>\n"},{"comments":[{"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"score":0,"creation_date":1337791116,"post_id":10724182,"comment_id":13929136,"body_markdown":"+1 Though you need `Pattern.compile` and `String` (uppercase `S`): http://ideone.com/zyNVn.  Probably a CSharpian slip :)","body":"+1 Though you need <code>Pattern.compile</code> and <code>String</code> (uppercase <code>S</code>): <a href=\"http://ideone.com/zyNVn\" rel=\"nofollow noreferrer\">ideone.com/zyNVn</a>.  Probably a CSharpian slip :)"},{"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":0,"creation_date":1337793569,"post_id":10724182,"comment_id":13930055,"body_markdown":"It resulted in pretty much your code as well. And yes, C# is a little closer to me than Java ;)","body":"It resulted in pretty much your code as well. And yes, C# is a little closer to me than Java ;)"}],"tags":[],"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337793581,"creation_date":1337790651,"answer_id":10724182,"question_id":10724038,"body_markdown":"If your input always looks like that and you always want the same parts from it you can put that in a single regex (with multiple capturing groups):\r\n\r\n    &quot;([^&quot;]+)&quot; &lt;sip:([^@]+)@([^&gt;]+)&gt;\r\n\r\nSo you can then use\r\n\r\n    Pattern p = Pattern.compile(&quot;\\&quot;([^\\&quot;]+)\\&quot; &lt;sip:([^@]+)@([^&gt;]+)&gt;&quot;);\r\n    Matcher m = p.matcher(remoteUri);\r\n    if (m.find()) {\r\n      String s1 = m.group(1);\r\n      String s2 = m.group(2);\r\n      String s3 = m.group(3);\r\n    }","title":"regex extract string between two characters","body":"<p>If your input always looks like that and you always want the same parts from it you can put that in a single regex (with multiple capturing groups):</p>\n\n<pre><code>\"([^\"]+)\" &lt;sip:([^@]+)@([^&gt;]+)&gt;\n</code></pre>\n\n<p>So you can then use</p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\"([^\\\"]+)\\\" &lt;sip:([^@]+)@([^&gt;]+)&gt;\");\nMatcher m = p.matcher(remoteUri);\nif (m.find()) {\n  String s1 = m.group(1);\n  String s2 = m.group(2);\n  String s3 = m.group(3);\n}\n</code></pre>\n"}],"owner":{"account_id":158248,"reputation":9125,"user_id":376742,"accept_rate":93,"display_name":"ssk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10724147,"answer_count":2,"score":2,"last_activity_date":1692796048,"creation_date":1337790071,"question_id":10724038,"body_markdown":"I would like to extract the strings between the following characters in the given string using regex in Java:\r\n\r\n    /*\r\n    1) Between \\&quot; and \\&quot;   ===&gt; 12222222222\r\n    2) Between :+ and @    ===&gt; 12222222222\r\n    3) Between @ and &gt;     ===&gt; 192.168.140.1\r\n    */\r\n\r\n    String remoteUriStr = &quot;\\&quot;+12222222222\\&quot; &lt;sip:+12222222222@192.168.140.1&gt;&quot;;\r\n    String regex1 = &quot;\\&quot;(.+?)\\&quot;&quot;;\r\n    String regex2 = &quot;:+(.+?)@&quot;;\r\n    String regex3 = &quot;@(.+?)&gt;&quot;;\r\n    \r\n    Pattern p = Pattern.compile(regex1);\r\n    Matcher matcher = p.matcher(remoteUri);\r\n    if (matcher.matches()) {\r\n        title = matcher.group(1);\r\n    }\r\n\r\nI am using the above given code snippet, its not able to extract the strings that I want it to. Am I doing anything wrong? Meanwhile, I am quite new to regex.\r\n\r\n","title":"regex extract string between two characters","body":"<p>I would like to extract the strings between the following characters in the given string using regex in Java:</p>\n\n<pre><code>/*\n1) Between \\\" and \\\"   ===&gt; 12222222222\n2) Between :+ and @    ===&gt; 12222222222\n3) Between @ and &gt;     ===&gt; 192.168.140.1\n*/\n\nString remoteUriStr = \"\\\"+12222222222\\\" &lt;sip:+12222222222@192.168.140.1&gt;\";\nString regex1 = \"\\\"(.+?)\\\"\";\nString regex2 = \":+(.+?)@\";\nString regex3 = \"@(.+?)&gt;\";\n\nPattern p = Pattern.compile(regex1);\nMatcher matcher = p.matcher(remoteUri);\nif (matcher.matches()) {\n    title = matcher.group(1);\n}\n</code></pre>\n\n<p>I am using the above given code snippet, its not able to extract the strings that I want it to. Am I doing anything wrong? Meanwhile, I am quite new to regex.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1337691158,"post_id":10702367,"comment_id":13894674,"body_markdown":"Assuming you want this in Groovy?  You make no mention of Groovy apart from in the tag...","body":"Assuming you want this in Groovy?  You make no mention of Groovy apart from in the tag..."},{"owner":{"account_id":1458820,"reputation":7821,"user_id":1373711,"accept_rate":83,"display_name":"JHS"},"score":1,"creation_date":1337691191,"post_id":10702367,"comment_id":13894691,"body_markdown":"You mean the 10th character should not be a &lt;space&gt;? What if it is a space?","body":"You mean the 10th character should not be a &lt;space&gt;? What if it is a space?"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1337691372,"post_id":10702367,"comment_id":13894773,"body_markdown":"What happens if there is a word that&#39;s longer than 10 characters all by itself? Should it be split in the middle? For example, should `&quot;quickbrownfoxjumpsoverthelazydog&quot;` become `{&quot;quickbrown&quot;,&quot;foxjumpsov&quot;, &quot;erthelazyd&quot;, &quot;og&quot;}`?","body":"What happens if there is a word that&#39;s longer than 10 characters all by itself? Should it be split in the middle? For example, should <code>&quot;quickbrownfoxjumpsoverthelazydog&quot;</code> become <code>{&quot;quickbrown&quot;,&quot;foxjumpsov&quot;, &quot;erthelazyd&quot;, &quot;og&quot;}</code>?"},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":2,"creation_date":1337691404,"post_id":10702367,"comment_id":13894791,"body_markdown":"It&#39;s not clear to me what you want the output to be - could you specify what how you would like your example sentence to be split?","body":"It&#39;s not clear to me what you want the output to be - could you specify what how you would like your example sentence to be split?"},{"owner":{"account_id":1507056,"reputation":39,"user_id":1410204,"display_name":"Raja"},"score":0,"creation_date":1337695036,"post_id":10702367,"comment_id":13896540,"body_markdown":"@amaidment My requirement is I need to restrict the number of characters in 1 line to less than or equal to 100 characters with out breaking the word.If the word at the end of the 100 the character is breaking we need to add this word in the next line.","body":"@amaidment My requirement is I need to restrict the number of characters in 1 line to less than or equal to 100 characters with out breaking the word.If the word at the end of the 100 the character is breaking we need to add this word in the next line."},{"owner":{"account_id":1507056,"reputation":39,"user_id":1410204,"display_name":"Raja"},"score":0,"creation_date":1337695156,"post_id":10702367,"comment_id":13896597,"body_markdown":"@dasblinkenlight Good question my actual requirement is for 100 characters but just for sample reference I mentioned it as 10 character.","body":"@dasblinkenlight Good question my actual requirement is for 100 characters but just for sample reference I mentioned it as 10 character."}],"answers":[{"comments":[{"owner":{"account_id":1507056,"reputation":39,"user_id":1410204,"display_name":"Raja"},"score":0,"creation_date":1337695249,"post_id":10702760,"comment_id":13896649,"body_markdown":"My requirement is I need to restrict the number of characters in 1 line to less than or equal to 100 characters with out breaking the word.If the word at the end of the 100 the character is breaking we need to add this word in the next line","body":"My requirement is I need to restrict the number of characters in 1 line to less than or equal to 100 characters with out breaking the word.If the word at the end of the 100 the character is breaking we need to add this word in the next line"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337707964,"creation_date":1337692398,"answer_id":10702760,"question_id":10702367,"body_markdown":"I avoided regex as is doesn&#39;t pull the weight. This code word-wraps, and if a single word is more than 10 chars, breaks it. It also takes care of excess whitespace.\r\n\r\n    import static java.lang.Character.isWhitespace;\r\n\r\n    public static void main(String[] args) {\r\n      final String original =\r\n        &quot;This is a sentence.Rajesh want to test the application for the word split.&quot;;\r\n      final StringBuilder b = new StringBuilder(original.trim());\r\n      final List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\r\n      while (true) {\r\n        b.delete(0, indexOfFirstNonWsChar(b));\r\n        if (b.length() == 0) break;\r\n        final int splitAt = lastIndexOfWsBeforeIndex(b, 10);\r\n        matchList.add(b.substring(0, splitAt).trim());\r\n        b.delete(0, splitAt);\r\n      }\r\n      System.out.println(&quot;Match List &quot;+matchList);\r\n    }\r\n    static int lastIndexOfWsBeforeIndex(CharSequence s, int i) {\r\n      if (s.length() &lt;= i) return s.length();\r\n      for (int j = i; j &gt; 0; j--) if (isWhitespace(s.charAt(j-1))) return j;\r\n      return i;\r\n    }\r\n    static int indexOfFirstNonWsChar(CharSequence s) {\r\n      for (int i = 0; i &lt; s.length(); i++) if (!isWhitespace(s.charAt(i))) return i;\r\n      return s.length();\r\n    }\r\n\r\nPrints:\r\n\r\n    Match List [This is a, sentence.R, ajesh, want to, test the, applicatio, n for the, word, split.]\r\n","title":"Break a long string into lines with proper word wrapping","body":"<p>I avoided regex as is doesn't pull the weight. This code word-wraps, and if a single word is more than 10 chars, breaks it. It also takes care of excess whitespace.</p>\n\n<pre><code>import static java.lang.Character.isWhitespace;\n\npublic static void main(String[] args) {\n  final String original =\n    \"This is a sentence.Rajesh want to test the application for the word split.\";\n  final StringBuilder b = new StringBuilder(original.trim());\n  final List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\n  while (true) {\n    b.delete(0, indexOfFirstNonWsChar(b));\n    if (b.length() == 0) break;\n    final int splitAt = lastIndexOfWsBeforeIndex(b, 10);\n    matchList.add(b.substring(0, splitAt).trim());\n    b.delete(0, splitAt);\n  }\n  System.out.println(\"Match List \"+matchList);\n}\nstatic int lastIndexOfWsBeforeIndex(CharSequence s, int i) {\n  if (s.length() &lt;= i) return s.length();\n  for (int j = i; j &gt; 0; j--) if (isWhitespace(s.charAt(j-1))) return j;\n  return i;\n}\nstatic int indexOfFirstNonWsChar(CharSequence s) {\n  for (int i = 0; i &lt; s.length(); i++) if (!isWhitespace(s.charAt(i))) return i;\n  return s.length();\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Match List [This is a, sentence.R, ajesh, want to, test the, applicatio, n for the, word, split.]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284007,"reputation":18939,"user_id":581845,"accept_rate":83,"display_name":"epidemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337718141,"creation_date":1337718141,"answer_id":10709585,"question_id":10702367,"body_markdown":"This question was tagged as Groovy at some point. Assuming a Groovy answer is still valid and you are not worried about preserving multiple white spaces (e.g. &#39;  &#39;):\r\n\r\n    def splitIntoLines(text, maxLineSize) {\r\n        def words = text.split(/\\s+/)\r\n        def lines = [&#39;&#39;]\r\n        words.each { word -&gt;\r\n            def lastLine = (lines[-1] + &#39; &#39; + word).trim()\r\n            if (lastLine.size() &lt;= maxLineSize)\r\n                // Change last line.\r\n                lines[-1] = lastLine\r\n            else\r\n                // Add word as new line.\r\n                lines &lt;&lt; word\r\n        }\r\n        lines\r\n    }\r\n    \r\n    // Tests...\r\n    def original = &quot;This is a sentence. Rajesh want to test the application for the word split.&quot;\r\n    \r\n    assert splitIntoLines(original, 10) == [\r\n        &quot;This is a&quot;,\r\n        &quot;sentence.&quot;,\r\n        &quot;Rajesh&quot;,\r\n        &quot;want to&quot;,\r\n        &quot;test the&quot;,\r\n        &quot;application&quot;,\r\n        &quot;for the&quot;,\r\n        &quot;word&quot;,\r\n        &quot;split.&quot;\r\n    ]\r\n    assert splitIntoLines(original, 20) == [\r\n        &quot;This is a sentence.&quot;,\r\n        &quot;Rajesh want to test&quot;,\r\n        &quot;the application for&quot;,\r\n        &quot;the word split.&quot;\r\n    ]\r\n    assert splitIntoLines(original, original.size()) == [original]","title":"Break a long string into lines with proper word wrapping","body":"<p>This question was tagged as Groovy at some point. Assuming a Groovy answer is still valid and you are not worried about preserving multiple white spaces (e.g. '  '):</p>\n\n<pre><code>def splitIntoLines(text, maxLineSize) {\n    def words = text.split(/\\s+/)\n    def lines = ['']\n    words.each { word -&gt;\n        def lastLine = (lines[-1] + ' ' + word).trim()\n        if (lastLine.size() &lt;= maxLineSize)\n            // Change last line.\n            lines[-1] = lastLine\n        else\n            // Add word as new line.\n            lines &lt;&lt; word\n    }\n    lines\n}\n\n// Tests...\ndef original = \"This is a sentence. Rajesh want to test the application for the word split.\"\n\nassert splitIntoLines(original, 10) == [\n    \"This is a\",\n    \"sentence.\",\n    \"Rajesh\",\n    \"want to\",\n    \"test the\",\n    \"application\",\n    \"for the\",\n    \"word\",\n    \"split.\"\n]\nassert splitIntoLines(original, 20) == [\n    \"This is a sentence.\",\n    \"Rajesh want to test\",\n    \"the application for\",\n    \"the word split.\"\n]\nassert splitIntoLines(original, original.size()) == [original]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":983167,"reputation":523,"user_id":1022978,"accept_rate":100,"display_name":"Rafe"},"score":0,"creation_date":1369878518,"post_id":16826626,"comment_id":24259877,"body_markdown":"if you want to include line breaks then : &quot;(.{1,10}(?:\\\\s\\\\n|$))|(.{0,10})&quot;","body":"if you want to include line breaks then : &quot;(.{1,10}(?:\\\\s\\\\n|$))|(.{0,10})&quot;"},{"owner":{"account_id":3783492,"reputation":1713,"user_id":3142238,"display_name":"Valen"},"score":0,"creation_date":1402301241,"post_id":16826626,"comment_id":37204187,"body_markdown":"that&#39;s great to use regular expression! but it is hard to add &#39;-&#39; between the broken words...","body":"that&#39;s great to use regular expression! but it is hard to add &#39;-&#39; between the broken words..."},{"owner":{"account_id":983167,"reputation":523,"user_id":1022978,"accept_rate":100,"display_name":"Rafe"},"score":0,"creation_date":1402635556,"post_id":16826626,"comment_id":37358068,"body_markdown":"sorry i don&#39;t understand?","body":"sorry i don&#39;t understand?"},{"owner":{"account_id":3783492,"reputation":1713,"user_id":3142238,"display_name":"Valen"},"score":0,"creation_date":1402713269,"post_id":16826626,"comment_id":37393104,"body_markdown":"`This is a `  \n`sentence.`  \n`Rajesh want `  \n`to test `  \n`the `  \n`applicati-`  \n`ons word `  \n`split `  \n`handling.`","body":"<code>This is a </code>   <code>sentence.</code>   <code>Rajesh want </code>   <code>to test </code>   <code>the </code>   <code>applicati-</code>   <code>ons word </code>   <code>split </code>   <code>handling.</code>"}],"tags":[],"owner":{"account_id":983167,"reputation":523,"user_id":1022978,"accept_rate":100,"display_name":"Rafe"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1369878046,"creation_date":1369878046,"answer_id":16826626,"question_id":10702367,"body_markdown":"OK, so I&#39;ve managed to get the following working, with max line length of 10, but also splitting the words that are longer than 10 correctly! \r\n\r\n    String original = &quot;This is a sentence. Rajesh want to test the applications for the word split handling.&quot;;\r\n    List matchList = new ArrayList();\r\n    Pattern regex = Pattern.compile(&quot;(.{1,10}(?:\\\\s|$))|(.{0,10})&quot;, Pattern.DOTALL);\r\n    Matcher regexMatcher = regex.matcher(original);\r\n    while (regexMatcher.find()) {\r\n      matchList.add(regexMatcher.group());\r\n    }\r\n    System.out.println(&quot;Match List &quot;+matchList);\r\n\r\nThis is the result:\r\n\r\n    This is a \r\n    sentence. \r\n    Rajesh want \r\n    to test \r\n    the \r\n    applicatio\r\n    ns word \r\n    split \r\n    handling.\r\n","title":"Break a long string into lines with proper word wrapping","body":"<p>OK, so I've managed to get the following working, with max line length of 10, but also splitting the words that are longer than 10 correctly! </p>\n\n<pre><code>String original = \"This is a sentence. Rajesh want to test the applications for the word split handling.\";\nList matchList = new ArrayList();\nPattern regex = Pattern.compile(\"(.{1,10}(?:\\\\s|$))|(.{0,10})\", Pattern.DOTALL);\nMatcher regexMatcher = regex.matcher(original);\nwhile (regexMatcher.find()) {\n  matchList.add(regexMatcher.group());\n}\nSystem.out.println(\"Match List \"+matchList);\n</code></pre>\n\n<p>This is the result:</p>\n\n<pre><code>This is a \nsentence. \nRajesh want \nto test \nthe \napplicatio\nns word \nsplit \nhandling.\n</code></pre>\n"}],"owner":{"account_id":1507056,"reputation":39,"user_id":1410204,"display_name":"Raja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8491,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1692796042,"creation_date":1337690928,"question_id":10702367,"body_markdown":"\t String original = &quot;This is a sentence.Rajesh want to test the application for the word split.&quot;;\r\n\t List matchList = new ArrayList();\r\n\t Pattern regex = Pattern.compile(&quot;.{1,10}(?:\\\\s|$)&quot;, Pattern.DOTALL);\r\n\t Matcher regexMatcher = regex.matcher(original);\r\n\t while (regexMatcher.find()) {\r\n\t\t matchList.add(regexMatcher.group());\r\n\t }\r\n\t System.out.println(&quot;Match List &quot;+matchList);\r\n\r\nI need to parse text into an array of lines that do not exceed 10 characters in length and should not have a break in word at the end of the line. \r\n\r\nI used below logic in my scenario but the problem it is parsing to the nearest white space after 10 characters if there is a break at end of line\r\n\r\nfor eg: The actual sentence is &quot;**This is a sentence.Rajesh want to test the application for the word split.**&quot; But after logic execution its getting as below.\r\n\r\nMatch List [This is a , nce.Rajesh , want to , test the , pplication , for the , word , split.]","title":"Break a long string into lines with proper word wrapping","body":"<pre><code> String original = \"This is a sentence.Rajesh want to test the application for the word split.\";\n List matchList = new ArrayList();\n Pattern regex = Pattern.compile(\".{1,10}(?:\\\\s|$)\", Pattern.DOTALL);\n Matcher regexMatcher = regex.matcher(original);\n while (regexMatcher.find()) {\n     matchList.add(regexMatcher.group());\n }\n System.out.println(\"Match List \"+matchList);\n</code></pre>\n\n<p>I need to parse text into an array of lines that do not exceed 10 characters in length and should not have a break in word at the end of the line. </p>\n\n<p>I used below logic in my scenario but the problem it is parsing to the nearest white space after 10 characters if there is a break at end of line</p>\n\n<p>for eg: The actual sentence is \"<strong>This is a sentence.Rajesh want to test the application for the word split.</strong>\" But after logic execution its getting as below.</p>\n\n<p>Match List [This is a , nce.Rajesh , want to , test the , pplication , for the , word , split.]</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":124855,"reputation":19802,"user_id":320220,"accept_rate":85,"display_name":"beerbajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1337516567,"creation_date":1337516567,"answer_id":10673356,"question_id":10673344,"body_markdown":"The `+` quantifier is greedy so it matches as much as possible. You should the [reluctant version][1] of this quantifier `+?`; your pattern then becomes:\r\n\r\n    (.+?)1\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#reluc","title":"Java Regexp Matcher","body":"<p>The <code>+</code> quantifier is greedy so it matches as much as possible. You should the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#reluc\" rel=\"noreferrer\">reluctant version</a> of this quantifier <code>+?</code>; your pattern then becomes:</p>\n\n<pre><code>(.+?)1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337522823,"creation_date":1337516681,"answer_id":10673370,"question_id":10673344,"body_markdown":"Greedy and non greedy regexps. `.+` is greedy and will make the longest possible match. Adding a `?` will make it non-greedy: `.+?`\r\n\r\nFor your example you don&#39;t really need a regexp though, but I guess it was just an example.\r\nInstead you could do this with your example:\r\n\r\n    String firstPart = text.substring(0, text.indexOf(&#39;1&#39;))\r\n\r\nor even a (very simple) regexp in split:\r\n\r\n    String firstPart = text.split(&quot;1&quot;)[0]\r\n\r\nBoth would be easier to read than regexp for most people. Be careful if you don&#39;t have an &quot;1&quot; in there though.","title":"Java Regexp Matcher","body":"<p>Greedy and non greedy regexps. <code>.+</code> is greedy and will make the longest possible match. Adding a <code>?</code> will make it non-greedy: <code>.+?</code></p>\n\n<p>For your example you don't really need a regexp though, but I guess it was just an example.\nInstead you could do this with your example:</p>\n\n<pre><code>String firstPart = text.substring(0, text.indexOf('1'))\n</code></pre>\n\n<p>or even a (very simple) regexp in split:</p>\n\n<pre><code>String firstPart = text.split(\"1\")[0]\n</code></pre>\n\n<p>Both would be easier to read than regexp for most people. Be careful if you don't have an \"1\" in there though.</p>\n"},{"tags":[],"owner":{"account_id":240061,"reputation":6801,"user_id":510081,"display_name":"SuperJulietta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337517496,"creation_date":1337517496,"answer_id":10673464,"question_id":10673344,"body_markdown":"An alternative may be using split function:\r\n\r\n    String s=&quot;foobar1foobar2&quot;;\r\n    String[] splitted = s.split(&quot;1&quot;);\r\n\r\n\r\nThe string you are searching for is in splitted[0].","title":"Java Regexp Matcher","body":"<p>An alternative may be using split function:</p>\n\n<pre><code>String s=\"foobar1foobar2\";\nString[] splitted = s.split(\"1\");\n</code></pre>\n\n<p>The string you are searching for is in splitted[0].</p>\n"}],"owner":{"account_id":1501790,"reputation":147,"user_id":1406196,"accept_rate":79,"display_name":"user1406196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10673356,"answer_count":3,"score":1,"last_activity_date":1692796036,"creation_date":1337516388,"question_id":10673344,"body_markdown":"Simple question about regexps.\r\nI&#39;ve got \r\n\r\n    String text = &quot;foobar1foobar1&quot;;\r\n\r\nAnd I need to get part before first 1 (foobar)\r\nWhen I do something like that:\r\n\r\n    Pattern date_pattern = Pattern.compile(&quot;(.+)1&quot;);\r\n    Matcher matcher = date_pattern.matcher(text);\r\n    matcher.group(1);\r\n\r\nBut I recieve &quot;foobar1foobar&quot;.\r\n\r\n","title":"Java Regexp Matcher","body":"<p>Simple question about regexps.\nI've got </p>\n\n<pre><code>String text = \"foobar1foobar1\";\n</code></pre>\n\n<p>And I need to get part before first 1 (foobar)\nWhen I do something like that:</p>\n\n<pre><code>Pattern date_pattern = Pattern.compile(\"(.+)1\");\nMatcher matcher = date_pattern.matcher(text);\nmatcher.group(1);\n</code></pre>\n\n<p>But I recieve \"foobar1foobar\".</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":1473160,"reputation":1261,"user_id":1384205,"accept_rate":23,"display_name":"user1384205"},"score":0,"creation_date":1336566316,"post_id":10514295,"comment_id":13598211,"body_markdown":"The files im working with sometimes run to several MBs and the application is very io intensive. The reason I decided to use regex against string manipulation was the same since i&#39;d be reading the stream instead of reading it line by line. Please correct me if im worng.","body":"The files im working with sometimes run to several MBs and the application is very io intensive. The reason I decided to use regex against string manipulation was the same since i&#39;d be reading the stream instead of reading it line by line. Please correct me if im worng."},{"owner":{"account_id":1266557,"reputation":3015,"user_id":1223744,"accept_rate":89,"display_name":"alexg"},"score":0,"creation_date":1336567031,"post_id":10514295,"comment_id":13598553,"body_markdown":"If you want good IO performance, have a look at `java.nio` (new I/O). If you want to read a line with NIO, use `BufferedReader.readLine()` on the NIO stream. All this has nothing to do with whether you&#39;ll choose to use regex or not.","body":"If you want good IO performance, have a look at <code>java.nio</code> (new I/O). If you want to read a line with NIO, use <code>BufferedReader.readLine()</code> on the NIO stream. All this has nothing to do with whether you&#39;ll choose to use regex or not."}],"tags":[],"owner":{"account_id":1266557,"reputation":3015,"user_id":1223744,"accept_rate":89,"display_name":"alexg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336559794,"creation_date":1336559474,"answer_id":10514295,"question_id":10514258,"body_markdown":"If you&#39;re searching for a constant string and not for a pattern, there&#39;s a number of reasons why you shouldn&#39;t use regex:\r\n\r\n - The user might type in some character that has a special meaning in regex grammar.\r\n - Regular expressions are slow compared to substring searching.\r\n - You don&#39;t want to allow the user more features (using regex matching) than you intend to.\r\n\r\nUse `String.indexOf` and/or `String.replace` instead.\r\n\r\n    while ((line = readLine()) != null)\r\n        if (line.indexOf(searchString) != -1 )\r\n            line.replace(searchString, replaceString);","title":"Search for any given string using JAVA REGEX","body":"<p>If you're searching for a constant string and not for a pattern, there's a number of reasons why you shouldn't use regex:</p>\n\n<ul>\n<li>The user might type in some character that has a special meaning in regex grammar.</li>\n<li>Regular expressions are slow compared to substring searching.</li>\n<li>You don't want to allow the user more features (using regex matching) than you intend to.</li>\n</ul>\n\n<p>Use <code>String.indexOf</code> and/or <code>String.replace</code> instead.</p>\n\n<pre><code>while ((line = readLine()) != null)\n    if (line.indexOf(searchString) != -1 )\n        line.replace(searchString, replaceString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1336567135,"post_id":10514417,"comment_id":13598608,"body_markdown":"@user1384205 You must upvote the answers that work for you and choose one as your final answer.","body":"@user1384205 You must upvote the answers that work for you and choose one as your final answer."}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1336560023,"creation_date":1336560023,"answer_id":10514417,"question_id":10514258,"body_markdown":"Shouldn&#39;t it be...?\r\n\r\n    patternMatcher = Pattern.compile(searchString);\r\n    while ((line = readLine()) != null) {\r\n    \tMatcher regexMatcher = patternMatcher.matcher(line);\r\n           while (regexMatcher.find()) {\r\n              line = regexMatcher.replaceAll(replaceString); \r\n\r\nTake into account that the quatifier may affect the results, perhapaps the search string should be &quot;(this)+&quot; or &quot;(this)+?&quot;.","title":"Search for any given string using JAVA REGEX","body":"<p>Shouldn't it be...?</p>\n\n<pre><code>patternMatcher = Pattern.compile(searchString);\nwhile ((line = readLine()) != null) {\n    Matcher regexMatcher = patternMatcher.matcher(line);\n       while (regexMatcher.find()) {\n          line = regexMatcher.replaceAll(replaceString); \n</code></pre>\n\n<p>Take into account that the quatifier may affect the results, perhapaps the search string should be \"(this)+\" or \"(this)+?\".</p>\n"},{"comments":[{"owner":{"account_id":1473160,"reputation":1261,"user_id":1384205,"accept_rate":23,"display_name":"user1384205"},"score":0,"creation_date":1336566398,"post_id":10514523,"comment_id":13598254,"body_markdown":"Thanks a ton. lookingAt was a wrong usage in my case. find works well.","body":"Thanks a ton. lookingAt was a wrong usage in my case. find works well."},{"owner":{"account_id":1266557,"reputation":3015,"user_id":1223744,"accept_rate":89,"display_name":"alexg"},"score":0,"creation_date":1336567241,"post_id":10514523,"comment_id":13598660,"body_markdown":"Keep in mind that `String.replaceAll()` compiles a regex out of the search string. If you don&#39;t need this, use `String.replace()`.","body":"Keep in mind that <code>String.replaceAll()</code> compiles a regex out of the search string. If you don&#39;t need this, use <code>String.replace()</code>."}],"tags":[],"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336560446,"creation_date":1336560446,"answer_id":10514523,"question_id":10514258,"body_markdown":"I&#39;m not familiar with Java, but as per the docs, `lookingAt` looks at the beginning of the string.  I would just skip looking for the match and blindly run `replaceAll` regardless of whether there is a match; it will replace nothing if there is no match.\r\n\r\nIf for some reason you need to look for a match before attempting to replace (which is wasteful), the correct function is `find`.  See http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html","title":"Search for any given string using JAVA REGEX","body":"<p>I'm not familiar with Java, but as per the docs, <code>lookingAt</code> looks at the beginning of the string.  I would just skip looking for the match and blindly run <code>replaceAll</code> regardless of whether there is a match; it will replace nothing if there is no match.</p>\n\n<p>If for some reason you need to look for a match before attempting to replace (which is wasteful), the correct function is <code>find</code>.  See <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html</a></p>\n"},{"tags":[],"owner":{"account_id":1473453,"reputation":555,"user_id":1384436,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336563162,"creation_date":1336563162,"answer_id":10515209,"question_id":10514258,"body_markdown":"If memory is not an issue, you can read the entire file as String and use `public String replaceAll(String regex, String replacement)` in String API.","title":"Search for any given string using JAVA REGEX","body":"<p>If memory is not an issue, you can read the entire file as String and use <code>public String replaceAll(String regex, String replacement)</code> in String API.</p>\n"}],"owner":{"account_id":1473160,"reputation":1261,"user_id":1384205,"accept_rate":23,"display_name":"user1384205"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10514417,"answer_count":4,"score":0,"last_activity_date":1692796030,"creation_date":1336559340,"question_id":10514258,"body_markdown":"I am trying to write a generic method that will search a file for a given string and replace it with another string. I am using java regex for the same\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    patternMatcher = Pattern.compile(searchString);\r\n    while ((line = readLine()) != null) {\r\n    \tMatcher regexMatcher = patternMatcher.matcher(line);\r\n           if (regexMatcher.lookingAt()) {\r\n              line = regexMatcher.replaceAll(replaceString); \r\n..so on\r\n\r\nThis logic works as long as the search string is in the beginning of each line in the file. otherwise the pattern matching does not occur. Can anyone please suggest a solution?\r\n\r\nfor eg. My search String is &quot;This&quot; and Replace string is &quot;That&quot; &lt;br/&gt;\r\nInput file contains: `This is not This funny` &lt;br/&gt;\r\nOutput: `That is not That funny` &lt;br/&gt;\r\n\r\nBut when &lt;br/&gt;\r\nInput file contains: `007 This is not This funny` &lt;br/&gt;\r\nOutput: `007 This is not This funny` &lt;br/&gt;\r\n","title":"Search for any given string using JAVA REGEX","body":"<p>I am trying to write a generic method that will search a file for a given string and replace it with another string. I am using java regex for the same</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>patternMatcher = Pattern.compile(searchString);\nwhile ((line = readLine()) != null) {\n    Matcher regexMatcher = patternMatcher.matcher(line);\n       if (regexMatcher.lookingAt()) {\n          line = regexMatcher.replaceAll(replaceString); \n</code></pre>\n\n<p>..so on</p>\n\n<p>This logic works as long as the search string is in the beginning of each line in the file. otherwise the pattern matching does not occur. Can anyone please suggest a solution?</p>\n\n<p>for eg. My search String is \"This\" and Replace string is \"That\" <br/>\nInput file contains: <code>This is not This funny</code> <br/>\nOutput: <code>That is not That funny</code> <br/></p>\n\n<p>But when <br/>\nInput file contains: <code>007 This is not This funny</code> <br/>\nOutput: <code>007 This is not This funny</code> <br/></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4756,"reputation":4005,"user_id":7295,"accept_rate":100,"display_name":"erikxiv"},"score":0,"creation_date":1336319935,"post_id":10471923,"comment_id":13528636,"body_markdown":"&quot;Returns the offset **after** the last character matched&quot;?","body":"&quot;Returns the offset <b>after</b> the last character matched&quot;?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1336320072,"post_id":10471923,"comment_id":13528656,"body_markdown":"It&#39;s not index-offset semantics. Both are indices, one of the start position, the other of one past the end position. Just like in `String.substring`","body":"It&#39;s not index-offset semantics. Both are indices, one of the start position, the other of one past the end position. Just like in <code>String.substring</code>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1336319941,"creation_date":1336319941,"answer_id":10471955,"question_id":10471923,"body_markdown":"No, it doesn&#39;t start with 1 - it starts with 0. The documentation makes it reasonably clear:\r\n\r\n&gt; Returns the offset **after** the last character matched.\r\n\r\n(Emphasis mine.)\r\n\r\nBasically it&#39;s the end of the match in *exclusive* form, which is common in Java. It means you can do something like:\r\n\r\n    String text = candidate.substring(matcher.start(), matcher.end());\r\n\r\nNote that your &quot;index&quot; and &quot;offset&quot; should really be regarded as &quot;start&quot; and &quot;end&quot; (hence the method names). The terms &quot;index&quot; and &quot;offset&quot; are effectively synonymous in this context; the important point is that `start()` returns the index/offset of the *start* of the match, and `end()` returns the index/offset after the *end* of the match.","title":"index and offset have different meaning in Java Regex?","body":"<p>No, it doesn't start with 1 - it starts with 0. The documentation makes it reasonably clear:</p>\n\n<blockquote>\n  <p>Returns the offset <strong>after</strong> the last character matched.</p>\n</blockquote>\n\n<p>(Emphasis mine.)</p>\n\n<p>Basically it's the end of the match in <em>exclusive</em> form, which is common in Java. It means you can do something like:</p>\n\n<pre><code>String text = candidate.substring(matcher.start(), matcher.end());\n</code></pre>\n\n<p>Note that your \"index\" and \"offset\" should really be regarded as \"start\" and \"end\" (hence the method names). The terms \"index\" and \"offset\" are effectively synonymous in this context; the important point is that <code>start()</code> returns the index/offset of the <em>start</em> of the match, and <code>end()</code> returns the index/offset after the <em>end</em> of the match.</p>\n"}],"owner":{"account_id":955577,"reputation":578,"user_id":1007447,"accept_rate":63,"display_name":"Jones"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10471955,"answer_count":1,"score":1,"last_activity_date":1692795963,"creation_date":1336319671,"question_id":10471923,"body_markdown":"I&#39;m bit confused with Java doc about Matcher in the definition of `start()` and `end()`.\n\n[`Matcher.start()`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#start())\n\n[`Matcher.end()`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#end())\n\nConsider the following code:\n\n    public static void test()\n    {\n        String candidate = &quot;stackoverflow&quot;;\n        Pattern p = Pattern.compile(&quot;s&quot;);\n        Matcher m = p.matcher(candidate);\n        \n        m.find();\n        int index = m.start();\n        out.println(&quot;Index from Match\\t&quot;+index);\n        \n        int offset = m.end();\n        out.println(&quot;Offset from match\\t&quot;+offset);\n    }\n\nThe above will return the following result.\n\n&gt; Index from Match  0\n&gt;\n&gt; Offset from match 1\n\nAs I learned every char array or string will start by Index 0 and it&#39;s right in the above expression. \nBut Offset also returns the same character &#39;s&#39; but why it starts with 1?\n","title":"index and offset have different meaning in Java Regex?","body":"<p>I'm bit confused with Java doc about Matcher in the definition of <code>start()</code> and <code>end()</code>.</p>\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#start()\" rel=\"nofollow noreferrer\"><code>Matcher.start()</code></a></p>\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#end()\" rel=\"nofollow noreferrer\"><code>Matcher.end()</code></a></p>\n<p>Consider the following code:</p>\n<pre><code>public static void test()\n{\n    String candidate = &quot;stackoverflow&quot;;\n    Pattern p = Pattern.compile(&quot;s&quot;);\n    Matcher m = p.matcher(candidate);\n    \n    m.find();\n    int index = m.start();\n    out.println(&quot;Index from Match\\t&quot;+index);\n    \n    int offset = m.end();\n    out.println(&quot;Offset from match\\t&quot;+offset);\n}\n</code></pre>\n<p>The above will return the following result.</p>\n<blockquote>\n<p>Index from Match  0</p>\n<p>Offset from match 1</p>\n</blockquote>\n<p>As I learned every char array or string will start by Index 0 and it's right in the above expression.\nBut Offset also returns the same character 's' but why it starts with 1?</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":153878,"reputation":2055,"user_id":369446,"accept_rate":100,"display_name":"Michael Shopsin"},"score":0,"creation_date":1335363577,"post_id":10317613,"comment_id":13281623,"body_markdown":"You can precompile the regex matcher if you&#39;re going to use it frequently and the values will not change.","body":"You can precompile the regex matcher if you&#39;re going to use it frequently and the values will not change."},{"owner":{"account_id":229505,"reputation":5896,"user_id":492508,"accept_rate":87,"display_name":"Thomas Buckley"},"score":1,"creation_date":1335363610,"post_id":10317613,"comment_id":13281645,"body_markdown":"That works, I just thought there might be some other recommended way. Cheers Martijn...and Andy.","body":"That works, I just thought there might be some other recommended way. Cheers Martijn...and Andy."}],"tags":[],"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1335363864,"creation_date":1335363450,"answer_id":10317613,"question_id":10317603,"body_markdown":"Use Java&#39;s simple string concatenation, using the plus sign.\r\n\r\n\r\n    if (mobile.matches(&quot;[0-9]{&quot; + minValue + &quot;,&quot; + maxValue + &quot;}&quot;)) {\r\n\r\nIndeed, as Michael suggested compiling it is better for performance if you use it a lot.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9]{&quot; + minValue + &quot;,&quot; + maxValue + &quot;}&quot;);\r\n\r\nThen use it when needed like this:\r\n\r\n    Matcher m = pattern.matcher(mobile);\r\n    if (m.matches()) {","title":"Use variables in pattern matcher","body":"<p>Use Java's simple string concatenation, using the plus sign.</p>\n\n<pre><code>if (mobile.matches(\"[0-9]{\" + minValue + \",\" + maxValue + \"}\")) {\n</code></pre>\n\n<p>Indeed, as Michael suggested compiling it is better for performance if you use it a lot.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9]{\" + minValue + \",\" + maxValue + \"}\");\n</code></pre>\n\n<p>Then use it when needed like this:</p>\n\n<pre><code>Matcher m = pattern.matcher(mobile);\nif (m.matches()) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10803388,"reputation":336,"user_id":7946496,"display_name":"P Szuberski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617712958,"creation_date":1617712958,"answer_id":66968889,"question_id":10317603,"body_markdown":"You can also use `String.format(&quot;[0-9]{%s,%s}&quot;, minValue, maxValue)`","title":"Use variables in pattern matcher","body":"<p>You can also use <code>String.format(&quot;[0-9]{%s,%s}&quot;, minValue, maxValue)</code></p>\n"}],"owner":{"account_id":229505,"reputation":5896,"user_id":492508,"accept_rate":87,"display_name":"Thomas Buckley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38098,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":10317613,"answer_count":2,"score":12,"last_activity_date":1692795948,"creation_date":1335363429,"question_id":10317603,"body_markdown":"I have the following:\r\n\r\n    if (mobile.matches(&quot;[0-9]{6,20}&quot;)) {\r\n       ...\r\n    }\r\n\r\nBut would like to replace the {6,20} with variable values due to them been dynamic in some cases.\r\n\r\nI.e.\r\n\r\n    int minValue = 11;\r\n    int maxValue = 20\r\n    \r\n    if (mobile.matches(&quot;[0-9]{minValue,maxValue}&quot;)) {\r\n       ...\r\n    }\r\n\r\nHow can I include variables in the Reg Exp?\r\n\r\nThanks","title":"Use variables in pattern matcher","body":"<p>I have the following:</p>\n\n<pre><code>if (mobile.matches(\"[0-9]{6,20}\")) {\n   ...\n}\n</code></pre>\n\n<p>But would like to replace the {6,20} with variable values due to them been dynamic in some cases.</p>\n\n<p>I.e.</p>\n\n<pre><code>int minValue = 11;\nint maxValue = 20\n\nif (mobile.matches(\"[0-9]{minValue,maxValue}\")) {\n   ...\n}\n</code></pre>\n\n<p>How can I include variables in the Reg Exp?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":50098,"reputation":32608,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"score":0,"creation_date":1263814920,"post_id":2085637,"comment_id":2017475,"body_markdown":"Just one additional issue: zos won&#39;t be closed if an exception is thrown. Could you paste the rest of the outer try/catch/finally?","body":"Just one additional issue: zos won&#39;t be closed if an exception is thrown. Could you paste the rest of the outer try/catch/finally?"}],"answers":[{"comments":[{"owner":{"account_id":63233,"reputation":4374,"user_id":187309,"accept_rate":67,"display_name":"Kico Lobo"},"score":0,"creation_date":1263814667,"post_id":2085670,"comment_id":2017452,"body_markdown":"Actually no exception is thrown in the process. The zip file is fully generated, but we can&#39;t open it with Filzip, Winzip or any other zip extraction application. :/","body":"Actually no exception is thrown in the process. The zip file is fully generated, but we can&#39;t open it with Filzip, Winzip or any other zip extraction application. :/"}],"tags":[],"owner":{"account_id":92349,"reputation":166,"user_id":253125,"display_name":"John Doe"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263814578,"creation_date":1263814578,"answer_id":2085670,"question_id":2085637,"body_markdown":"I think you&#39;ll see correspondent exception stack trace during zip-file generation. So, you probably wan&#39;t to enhance your exception handling. \r\n\r\n","title":"How to check if a generated zip file is corrupted?","body":"<p>I think you'll see correspondent exception stack trace during zip-file generation. So, you probably wan't to enhance your exception handling. </p>\n"},{"comments":[{"owner":{"account_id":63233,"reputation":4374,"user_id":187309,"accept_rate":67,"display_name":"Kico Lobo"},"score":0,"creation_date":1263815420,"post_id":2085697,"comment_id":2017512,"body_markdown":"Well: I tried, but the problem persists.\nActually, our problem is happening in a single case only. :/","body":"Well: I tried, but the problem persists. Actually, our problem is happening in a single case only. :/"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1338218054,"post_id":2085697,"comment_id":14029634,"body_markdown":"`ZipOutputStream does not close the underlying stream` - this seems to be wrong. finish() doesn&#39;t close, but close() does. This can be verified in source of DeflaterOutputStream#close() method.","body":"<code>ZipOutputStream does not close the underlying stream</code> - this seems to be wrong. finish() doesn&#39;t close, but close() does. This can be verified in source of DeflaterOutputStream#close() method."}],"tags":[],"owner":{"display_name":"user7094"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1263814927,"creation_date":1263814927,"answer_id":2085697,"question_id":2085637,"body_markdown":"ZipOutputStream [does not close][1] the underlying stream.\r\n\r\nWhat you need to do is:\r\n\r\n    FileOutputStream fos = new FileOutputStream(...);\r\n    ZipOutputStream zos = new ZipOutputStream(fos);\r\n\r\nThen in your closing block:\r\n\r\n    zos.close();\r\n    fos.flush(); // Can&#39;t remember whether this is necessary off the top of my head!\r\n    fos.close();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/zip/ZipOutputStream.html#close%28%29","title":"How to check if a generated zip file is corrupted?","body":"<p>ZipOutputStream <a href=\"http://java.sun.com/javase/6/docs/api/java/util/zip/ZipOutputStream.html#close%28%29\" rel=\"nofollow noreferrer\">does not close</a> the underlying stream.</p>\n\n<p>What you need to do is:</p>\n\n<pre><code>FileOutputStream fos = new FileOutputStream(...);\nZipOutputStream zos = new ZipOutputStream(fos);\n</code></pre>\n\n<p>Then in your closing block:</p>\n\n<pre><code>zos.close();\nfos.flush(); // Can't remember whether this is necessary off the top of my head!\nfos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67380,"reputation":2024,"user_id":197198,"display_name":"Waverick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263815031,"creation_date":1263815031,"answer_id":2085705,"question_id":2085637,"body_markdown":"\r\nPerhaps swap the following two lines?;\r\n\r\n    fis.close();\r\n    zos.closeEntry();\r\n\r\nI can imagine that the closeEntry() will still read some data from the stream.\r\n\r\n","title":"How to check if a generated zip file is corrupted?","body":"<p>Perhaps swap the following two lines?;</p>\n\n<pre><code>fis.close();\nzos.closeEntry();\n</code></pre>\n\n<p>I can imagine that the closeEntry() will still read some data from the stream.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263820013,"creation_date":1263820013,"answer_id":2086158,"question_id":2085637,"body_markdown":"Your code is basically OK, try to find out which file is responsible for the corrupted zip file. Check whether digitalFile.getFile() always returns a valid and accessible argument to FileInputStream. Just add a bit logging to your code and you will find out what&#39;s wrong.","title":"How to check if a generated zip file is corrupted?","body":"<p>Your code is basically OK, try to find out which file is responsible for the corrupted zip file. Check whether digitalFile.getFile() always returns a valid and accessible argument to FileInputStream. Just add a bit logging to your code and you will find out what's wrong.</p>\n"},{"comments":[{"owner":{"account_id":63233,"reputation":4374,"user_id":187309,"accept_rate":67,"display_name":"Kico Lobo"},"score":0,"creation_date":1263826759,"post_id":2086792,"comment_id":2018773,"body_markdown":"Perfect! Didn&#39;t know this class. Thank&#39;s a lot!","body":"Perfect! Didn&#39;t know this class. Thank&#39;s a lot!"},{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":1,"creation_date":1263827057,"post_id":2086792,"comment_id":2018807,"body_markdown":"If you want to test all the zip file (not only check if it has zip heads) then do a complete read of it using zip file (iterate over its entries and for each one ask for the stream and read it until it ends).","body":"If you want to test all the zip file (not only check if it has zip heads) then do a complete read of it using zip file (iterate over its entries and for each one ask for the stream and read it until it ends)."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":3,"creation_date":1263835065,"post_id":2086792,"comment_id":2019818,"body_markdown":"The zip file format is redundant, so you can&#39;t for certain make sure that it is not corrupt. Best you can do without having your own implementation is read all the data through `ZipFile` and through `ZipInputStream` and compare secure hashes.","body":"The zip file format is redundant, so you can&#39;t for certain make sure that it is not corrupt. Best you can do without having your own implementation is read all the data through <code>ZipFile</code> and through <code>ZipInputStream</code> and compare secure hashes."},{"owner":{"account_id":142616,"reputation":34842,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":2,"creation_date":1380985799,"post_id":2086792,"comment_id":28409124,"body_markdown":"ZipException is an IOException. The extra catch block is therefore redundant.","body":"ZipException is an IOException. The extra catch block is therefore redundant."},{"owner":{"account_id":7942920,"reputation":1581,"user_id":5996295,"accept_rate":15,"display_name":"Harsh Bhavsar"},"score":0,"creation_date":1518154748,"post_id":2086792,"comment_id":84397287,"body_markdown":"Can we do this same to VideoFile?","body":"Can we do this same to VideoFile?"}],"tags":[],"owner":{"account_id":82187,"reputation":531,"user_id":231289,"display_name":"Arnaud"},"comment_count":5,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1430405143,"creation_date":1263826343,"answer_id":2086792,"question_id":2085637,"body_markdown":"You can use the `ZipFile` class to check your file :\r\n\r\n     static boolean isValid(final File file) {\r\n\t\tZipFile zipfile = null;\r\n\t\ttry {\r\n\t\t\tzipfile = new ZipFile(file);\r\n\t\t\treturn true;\r\n\t\t} catch (IOException e) {\r\n\t\t\treturn false;\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tif (zipfile != null) {\r\n\t\t\t\t\tzipfile.close();\r\n\t\t\t\t\tzipfile = null;\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to check if a generated zip file is corrupted?","body":"<p>You can use the <code>ZipFile</code> class to check your file :</p>\n\n<pre><code> static boolean isValid(final File file) {\n    ZipFile zipfile = null;\n    try {\n        zipfile = new ZipFile(file);\n        return true;\n    } catch (IOException e) {\n        return false;\n    } finally {\n        try {\n            if (zipfile != null) {\n                zipfile.close();\n                zipfile = null;\n            }\n        } catch (IOException e) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":700783,"reputation":21,"user_id":583210,"display_name":"S&#246;ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295539010,"creation_date":1295539010,"answer_id":4749347,"question_id":2085637,"body_markdown":"in my implementation it looks like that. maybe it helps you:\r\n\r\n    //[...]\r\n\r\n    try {\r\n        FileInputStream fis = new FileInputStream(file);\r\n        BufferedInputStream bis = new BufferedInputStream(fis);\r\n\r\n        zos.putNextEntry(new ZipEntry(file.getName()));\r\n\r\n        try {\r\n            final byte[] buf = new byte[BUFFER_SIZE];\r\n            while (true) {\r\n                final int len = bis.read(buf);\r\n                if (len == -1) {\r\n                    break;\r\n                }\r\n                zos.write(buf, 0, len);\r\n            }\r\n            zos.flush();\r\n            zos.closeEntry();\r\n        } finally {\r\n            try {\r\n                bis.close();\r\n            } catch (IOException e) {\r\n                LOG.debug(&quot;Buffered Stream closing failed&quot;);\r\n            } finally {\r\n                fis.close();\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        throw new Exception(e);\r\n    }\r\n\r\n    //[...]\r\n    zos.close","title":"How to check if a generated zip file is corrupted?","body":"<p>in my implementation it looks like that. maybe it helps you:</p>\n\n<pre><code>//[...]\n\ntry {\n    FileInputStream fis = new FileInputStream(file);\n    BufferedInputStream bis = new BufferedInputStream(fis);\n\n    zos.putNextEntry(new ZipEntry(file.getName()));\n\n    try {\n        final byte[] buf = new byte[BUFFER_SIZE];\n        while (true) {\n            final int len = bis.read(buf);\n            if (len == -1) {\n                break;\n            }\n            zos.write(buf, 0, len);\n        }\n        zos.flush();\n        zos.closeEntry();\n    } finally {\n        try {\n            bis.close();\n        } catch (IOException e) {\n            LOG.debug(\"Buffered Stream closing failed\");\n        } finally {\n            fis.close();\n        }\n    }\n} catch (IOException e) {\n    throw new Exception(e);\n}\n\n//[...]\nzos.close\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451920,"reputation":12682,"user_id":848072,"accept_rate":47,"display_name":"albfan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348709232,"creation_date":1348709232,"answer_id":12612804,"question_id":2085637,"body_markdown":"    new ZipFile(file) \r\n\r\ncompress again the file, so duplicate efforts and that is not what you are looking for. Despite of the fact that only check one file and the question compress n-files.\r\n\r\nTake a look to this: http://www.kodejava.org/examples/336.html\r\n\r\nCreate a checksum for your zip:\r\n\r\n    CheckedOutputStream checksum = new CheckedOutputStream(fos, new CRC32());\r\n    ZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(checksum));\r\n    ...\r\n\r\nAnd when you finish the compression show it\r\n\r\n    System.out.println(&quot;Checksum   : &quot; + checksum.getChecksum().getValue());\r\n\r\nYou must do the same reading the zip with java or others tools checking if checksums match.\r\n\r\nsee https://stackoverflow.com/a/10689488/848072 for more information","title":"How to check if a generated zip file is corrupted?","body":"<pre><code>new ZipFile(file) \n</code></pre>\n\n<p>compress again the file, so duplicate efforts and that is not what you are looking for. Despite of the fact that only check one file and the question compress n-files.</p>\n\n<p>Take a look to this: <a href=\"http://www.kodejava.org/examples/336.html\" rel=\"nofollow noreferrer\">http://www.kodejava.org/examples/336.html</a></p>\n\n<p>Create a checksum for your zip:</p>\n\n<pre><code>CheckedOutputStream checksum = new CheckedOutputStream(fos, new CRC32());\nZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(checksum));\n...\n</code></pre>\n\n<p>And when you finish the compression show it</p>\n\n<pre><code>System.out.println(\"Checksum   : \" + checksum.getChecksum().getValue());\n</code></pre>\n\n<p>You must do the same reading the zip with java or others tools checking if checksums match.</p>\n\n<p>see <a href=\"https://stackoverflow.com/a/10689488/848072\">https://stackoverflow.com/a/10689488/848072</a> for more information</p>\n"},{"comments":[{"owner":{"account_id":2548032,"reputation":330,"user_id":2212420,"display_name":"svattom"},"score":0,"creation_date":1431386490,"post_id":17222756,"comment_id":48464269,"body_markdown":"Thanks for this! One suggestion, you could simplify this a bit by using ZipFile.entries() to get each ZipEntry, saving the hassle of creating (and closing) the ZipInputStream.","body":"Thanks for this! One suggestion, you could simplify this a bit by using ZipFile.entries() to get each ZipEntry, saving the hassle of creating (and closing) the ZipInputStream."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":1,"creation_date":1503525585,"post_id":17222756,"comment_id":78658052,"body_markdown":"ze.get*() doesn&#39;t do anything. You can see here: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/zip/ZipEntry.java#ZipEntry","body":"ze.get*() doesn&#39;t do anything. You can see here: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/zip/ZipEntry.java#ZipEntry\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>"}],"tags":[],"owner":{"account_id":1888409,"reputation":1893,"user_id":1707141,"accept_rate":48,"display_name":"Nikhil Das Nomula"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1371758582,"creation_date":1371758582,"answer_id":17222756,"question_id":2085637,"body_markdown":"I know its been a while that this has been posted, I have used the code that all of you provided and came up with this. This is working great for the actual question. Checking if the zip file is corrupted or not\r\n\r\n    private boolean isValid(File file) {\r\n\t    ZipFile zipfile = null;\r\n\t    ZipInputStream zis = null;\r\n\t    try {\r\n\t        zipfile = new ZipFile(file);\r\n\t        zis = new ZipInputStream(new FileInputStream(file));\r\n\t    \tZipEntry ze = zis.getNextEntry();\r\n\t    \tif(ze == null) {\r\n\t    \t\treturn false;\r\n\t    \t}\r\n\t    \twhile(ze != null) {\r\n\t    \t\t// if it throws an exception fetching any of the following then we know the file is corrupted.\r\n\t    \t\tzipfile.getInputStream(ze);\r\n\t    \t\tze.getCrc();\r\n\t    \t\tze.getCompressedSize();\r\n\t    \t\tze.getName();\r\n\t    \t\tze = zis.getNextEntry();\r\n\t    \t} \r\n\t        return true;\r\n\t    } catch (ZipException e) {\r\n\t        return false;\r\n\t    } catch (IOException e) {\r\n\t        return false;\r\n\t    } finally {\r\n\t        try {\r\n\t            if (zipfile != null) {\r\n\t                zipfile.close();\r\n\t                zipfile = null;\r\n\t            }\r\n\t        } catch (IOException e) {\r\n\t        \treturn false;\r\n\t        } try {\r\n\t            if (zis != null) {\r\n\t            \tzis.close();\r\n\t                zis = null;\r\n\t            }\r\n\t        } catch (IOException e) {\r\n\t        \treturn false;\r\n\t        }\r\n\t        \r\n\t    }\r\n\t}","title":"How to check if a generated zip file is corrupted?","body":"<p>I know its been a while that this has been posted, I have used the code that all of you provided and came up with this. This is working great for the actual question. Checking if the zip file is corrupted or not</p>\n\n<pre><code>private boolean isValid(File file) {\n    ZipFile zipfile = null;\n    ZipInputStream zis = null;\n    try {\n        zipfile = new ZipFile(file);\n        zis = new ZipInputStream(new FileInputStream(file));\n        ZipEntry ze = zis.getNextEntry();\n        if(ze == null) {\n            return false;\n        }\n        while(ze != null) {\n            // if it throws an exception fetching any of the following then we know the file is corrupted.\n            zipfile.getInputStream(ze);\n            ze.getCrc();\n            ze.getCompressedSize();\n            ze.getName();\n            ze = zis.getNextEntry();\n        } \n        return true;\n    } catch (ZipException e) {\n        return false;\n    } catch (IOException e) {\n        return false;\n    } finally {\n        try {\n            if (zipfile != null) {\n                zipfile.close();\n                zipfile = null;\n            }\n        } catch (IOException e) {\n            return false;\n        } try {\n            if (zis != null) {\n                zis.close();\n                zis = null;\n            }\n        } catch (IOException e) {\n            return false;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692795807,"creation_date":1692795209,"answer_id":76961543,"question_id":2085637,"body_markdown":"I simplified the code from `Nikhil Das Nomula` by using try-with-resources:\r\n\r\n```\r\n    public static boolean isValidZipFile(File file) {\r\n        try(ZipFile zipfile = new ZipFile(file); \r\n            ZipInputStream zis = new ZipInputStream(new FileInputStream(file))\r\n        ) {\r\n            ZipEntry ze = zis.getNextEntry();\r\n            if (ze == null) {\r\n                return false;\r\n            }\r\n            while (ze != null) {\r\n                // if it throws an exception fetching any of the following then we know the file is corrupted.\r\n                zipfile.getInputStream(ze);\r\n                ze.getCrc();\r\n                ze.getCompressedSize();\r\n                ze.getName();\r\n\r\n                ze = zis.getNextEntry();\r\n            }\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nAt first I thought using `ZipFile` was redundant, but then I deleted one byte at the end of the archive file. `ZipEntry` did not show the problem, but `ZipFile` threw the error `java.util.zip.ZipException: zip END header not found`.","title":"How to check if a generated zip file is corrupted?","body":"<p>I simplified the code from <code>Nikhil Das Nomula</code> by using try-with-resources:</p>\n<pre><code>    public static boolean isValidZipFile(File file) {\n        try(ZipFile zipfile = new ZipFile(file); \n            ZipInputStream zis = new ZipInputStream(new FileInputStream(file))\n        ) {\n            ZipEntry ze = zis.getNextEntry();\n            if (ze == null) {\n                return false;\n            }\n            while (ze != null) {\n                // if it throws an exception fetching any of the following then we know the file is corrupted.\n                zipfile.getInputStream(ze);\n                ze.getCrc();\n                ze.getCompressedSize();\n                ze.getName();\n\n                ze = zis.getNextEntry();\n            }\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n</code></pre>\n<p>At first I thought using <code>ZipFile</code> was redundant, but then I deleted one byte at the end of the archive file. <code>ZipEntry</code> did not show the problem, but <code>ZipFile</code> threw the error <code>java.util.zip.ZipException: zip END header not found</code>.</p>\n"}],"owner":{"account_id":63233,"reputation":4374,"user_id":187309,"accept_rate":67,"display_name":"Kico Lobo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38224,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":2086792,"answer_count":9,"score":28,"last_activity_date":1692795807,"creation_date":1263814259,"question_id":2085637,"body_markdown":"we have a piece of code which generates a zip file on our system. Everything is ok, but sometimes this zip file while opened by FilZip or WinZip is considered to be corrupted.\r\n\r\nSo here is my question: how can we check programatically if a generated zip file is corrupted?\r\n\r\nHere is the code we are using to generate our zip files:\r\n\r\n    try {\r\n        ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(tmpFile));\r\n        byte[] buffer = new byte[16384];\r\n        int contador = -1;\r\n        for (DigitalFile digitalFile : document.getDigitalFiles().getContent()) {\r\n           ZipEntry entry = new ZipEntry(digitalFile.getName());\r\n           FileInputStream fis = new FileInputStream(digitalFile.getFile());\r\n           try {\r\n              zos.putNextEntry(entry);\r\n              while ((counter = fis.read(buffer)) != -1) {\r\n                 zos.write(buffer, 0, counter);\r\n              }\r\n              fis.close();\r\n              zos.closeEntry();\r\n           } catch (IOException ex) {\r\n              throw new OurException(&quot;It was not possible to read this file &quot; + arquivo.getId());\r\n           }\r\n        }\r\n        try {\r\n          zos.close();\r\n        } catch (IOException ex) {\r\n          throw new OurException(&quot;We couldn&#39;t close this stream&quot;, ex);\r\n        }\r\n\r\nIs there anything we are doing wrong here?\r\n\r\nEDIT:\r\nActually, the code above is absolutely ok. My problem was that I was redirecting the WRONG stream for my users. So, instead of opening a zip file they where opening something completely different. Mea culpa :(\r\n\r\nBUT the main question remains: **how programatically I can verify if a given zip file is not corrupted?**","title":"How to check if a generated zip file is corrupted?","body":"<p>we have a piece of code which generates a zip file on our system. Everything is ok, but sometimes this zip file while opened by FilZip or WinZip is considered to be corrupted.</p>\n\n<p>So here is my question: how can we check programatically if a generated zip file is corrupted?</p>\n\n<p>Here is the code we are using to generate our zip files:</p>\n\n<pre><code>try {\n    ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(tmpFile));\n    byte[] buffer = new byte[16384];\n    int contador = -1;\n    for (DigitalFile digitalFile : document.getDigitalFiles().getContent()) {\n       ZipEntry entry = new ZipEntry(digitalFile.getName());\n       FileInputStream fis = new FileInputStream(digitalFile.getFile());\n       try {\n          zos.putNextEntry(entry);\n          while ((counter = fis.read(buffer)) != -1) {\n             zos.write(buffer, 0, counter);\n          }\n          fis.close();\n          zos.closeEntry();\n       } catch (IOException ex) {\n          throw new OurException(\"It was not possible to read this file \" + arquivo.getId());\n       }\n    }\n    try {\n      zos.close();\n    } catch (IOException ex) {\n      throw new OurException(\"We couldn't close this stream\", ex);\n    }\n</code></pre>\n\n<p>Is there anything we are doing wrong here?</p>\n\n<p>EDIT:\nActually, the code above is absolutely ok. My problem was that I was redirecting the WRONG stream for my users. So, instead of opening a zip file they where opening something completely different. Mea culpa :(</p>\n\n<p>BUT the main question remains: <strong>how programatically I can verify if a given zip file is not corrupted?</strong></p>\n"},{"tags":["java","java-8","java-stream","functional-interface"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":6,"creation_date":1540484766,"post_id":52993929,"comment_id":92893028,"body_markdown":"probably because its `BiFunction&lt;Integer, Integer, Integer&gt;` and not `BiFunction&lt;Integer, Integer&gt;` that you&#39;ve given a try.... also if you look at the BinaryOperator itself, it reads `BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt;`","body":"probably because its <code>BiFunction&lt;Integer, Integer, Integer&gt;</code> and not <code>BiFunction&lt;Integer, Integer&gt;</code> that you&#39;ve given a try.... also if you look at the BinaryOperator itself, it reads <code>BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt;</code>"}],"answers":[{"comments":[{"owner":{"account_id":51103,"reputation":142502,"user_id":152602,"display_name":"Lee"},"score":3,"creation_date":1540484995,"post_id":52993974,"comment_id":92893152,"body_markdown":"I didn&#39;t downvote but it&#39;s probably because the question asks why it&#39;s not possible. You have incidentally answered the question by including the missing type parameter in your usage of `BiFunction`.","body":"I didn&#39;t downvote but it&#39;s probably because the question asks why it&#39;s not possible. You have incidentally answered the question by including the missing type parameter in your usage of <code>BiFunction</code>."}],"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1540485135,"creation_date":1540484593,"answer_id":52993974,"question_id":52993929,"body_markdown":"`BinaryOperator` is a special `BiFunction`. So you can assign the same expression to both of them. Check this out.\r\n\r\n\tBinaryOperator&lt;Integer&gt; foo = (a, b) -&gt; {\r\n\t\treturn a * a + b * b;\r\n\t};\r\n\tBiFunction&lt;Integer, Integer, Integer&gt; barFn = (a, b) -&gt; {\r\n\t\treturn a * a + b * b;\r\n\t};\r\n\r\nIf you look at the source code, it would be\r\n\r\n    public interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\r\n       // Remainder omitted.\r\n    }","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p><code>BinaryOperator</code> is a special <code>BiFunction</code>. So you can assign the same expression to both of them. Check this out.</p>\n\n<pre><code>BinaryOperator&lt;Integer&gt; foo = (a, b) -&gt; {\n    return a * a + b * b;\n};\nBiFunction&lt;Integer, Integer, Integer&gt; barFn = (a, b) -&gt; {\n    return a * a + b * b;\n};\n</code></pre>\n\n<p>If you look at the source code, it would be</p>\n\n<pre><code>public interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\n   // Remainder omitted.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14056454,"reputation":69,"user_id":11272787,"display_name":"Mehrose"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558778304,"creation_date":1558778304,"answer_id":56303766,"question_id":52993929,"body_markdown":"The Bifunction&lt;T,T,T&gt; and the BinaryOperator&lt;T&gt; are same but the only difference here is the argument type and the return type of interfaces.\r\n\r\nConsider a case where you want to concatenate two strings and return the result. In this case, you can choose either one of them but BinaryOperator is a good choice to go with because if you focus on the arguments and the return type, they all are the same.\r\n   \r\n    BinaryOperator&lt;String&gt; c=(str,str1)-&gt;str+str1;\r\n\r\nyou can do the same with Bifunction but now see the difference here:\r\n\r\n    \r\n    BiFunction&lt;String,String,String&gt; c=(str,str1)-&gt;str+str1;\r\n\r\nNow consider a case in which we want to add two integers and return a string. Here we can only choose the BiFunction and not the BinaryOperator:\r\n\r\n    BiFunction&lt;Integer,Integer,String&gt; c=(a,b)-&gt;&quot;Answer=&quot;+(a+b);\r\n   ","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p>The Bifunction and the BinaryOperator are same but the only difference here is the argument type and the return type of interfaces.</p>\n\n<p>Consider a case where you want to concatenate two strings and return the result. In this case, you can choose either one of them but BinaryOperator is a good choice to go with because if you focus on the arguments and the return type, they all are the same.</p>\n\n<pre><code>BinaryOperator&lt;String&gt; c=(str,str1)-&gt;str+str1;\n</code></pre>\n\n<p>you can do the same with Bifunction but now see the difference here:</p>\n\n<pre><code>BiFunction&lt;String,String,String&gt; c=(str,str1)-&gt;str+str1;\n</code></pre>\n\n<p>Now consider a case in which we want to add two integers and return a string. Here we can only choose the BiFunction and not the BinaryOperator:</p>\n\n<pre><code>BiFunction&lt;Integer,Integer,String&gt; c=(a,b)-&gt;\"Answer=\"+(a+b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5722938,"reputation":1123,"user_id":4520839,"display_name":"Amir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692795670,"creation_date":1692795670,"answer_id":76961606,"question_id":52993929,"body_markdown":"If you take a look at `BinaryOperator` code you will see that `BinaryOperator` has been extended `BiFunction` which means `BinaryOperator` is a special kind of `BiFunction`.\r\n```java\r\n@FunctionalInterface\r\npublic interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\r\n    // interface implementation\r\n}\r\n```\r\nbut the main difference is that when you use `BinaryOperator` your two inputs and return type is the same.\r\nhere is an example of `BinaryOperator` and `BiFunction` to get more of it:\r\n```java\r\nBinaryOperator&lt;Integer&gt; sum = (a, b) -&gt; a + b;\r\nBiFunction&lt;Integer, Integer, Integer&gt; sum2 = (a, b) -&gt; a + b;\r\n```\r\na better way to use BinaryOperator if you want to use java&#39;s primitive data type there has been some functional interface to have a good experience and get rid of boxing thing: `IntBinaryOperator` &amp; `LongBinaryOperator` &amp; `DoubleBinaryOperator`.\r\nand finally you can write above code like this:\r\n```java\r\nIntBinaryOperator sum = (a, b) -&gt; a + b;\r\n// OR use method reference like bellow\r\nIntBinaryOperator sum = Integer::sum;\r\n```","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p>If you take a look at <code>BinaryOperator</code> code you will see that <code>BinaryOperator</code> has been extended <code>BiFunction</code> which means <code>BinaryOperator</code> is a special kind of <code>BiFunction</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\n    // interface implementation\n}\n</code></pre>\n<p>but the main difference is that when you use <code>BinaryOperator</code> your two inputs and return type is the same.\nhere is an example of <code>BinaryOperator</code> and <code>BiFunction</code> to get more of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BinaryOperator&lt;Integer&gt; sum = (a, b) -&gt; a + b;\nBiFunction&lt;Integer, Integer, Integer&gt; sum2 = (a, b) -&gt; a + b;\n</code></pre>\n<p>a better way to use BinaryOperator if you want to use java's primitive data type there has been some functional interface to have a good experience and get rid of boxing thing: <code>IntBinaryOperator</code> &amp; <code>LongBinaryOperator</code> &amp; <code>DoubleBinaryOperator</code>.\nand finally you can write above code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntBinaryOperator sum = (a, b) -&gt; a + b;\n// OR use method reference like bellow\nIntBinaryOperator sum = Integer::sum;\n</code></pre>\n"}],"owner":{"account_id":179063,"reputation":12273,"user_id":411449,"accept_rate":63,"display_name":"skip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2229,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"accepted_answer_id":52993974,"answer_count":3,"score":-1,"last_activity_date":1692795670,"creation_date":1540484380,"question_id":52993929,"body_markdown":"I am not able to understand that how come `BinaryOperator&lt;Integer&gt;` could be placed at the place of `A` in the code below, but not `BiFunction&lt;Integer, Integer&gt;`?\r\n\r\n    A foo = (a, b) -&gt; { return a * a + b * b; };\r\n    int bar = foo.apply(2, 3);\r\n    System.out.println(bar);\r\n\r\nCould someone please help me understand it.","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p>I am not able to understand that how come <code>BinaryOperator&lt;Integer&gt;</code> could be placed at the place of <code>A</code> in the code below, but not <code>BiFunction&lt;Integer, Integer&gt;</code>?</p>\n\n<pre><code>A foo = (a, b) -&gt; { return a * a + b * b; };\nint bar = foo.apply(2, 3);\nSystem.out.println(bar);\n</code></pre>\n\n<p>Could someone please help me understand it.</p>\n"},{"tags":["java","ldap-query","spring-ldap"],"answers":[{"comments":[{"owner":{"account_id":3407728,"reputation":103,"user_id":2858411,"accept_rate":17,"display_name":"jimny"},"score":0,"creation_date":1692858628,"post_id":76961574,"comment_id":135681520,"body_markdown":"Thanks...that solved it. It was a parameter related to user limits on queries.","body":"Thanks...that solved it. It was a parameter related to user limits on queries."}],"tags":[],"owner":{"account_id":10045362,"reputation":114,"user_id":7426965,"accept_rate":100,"display_name":"kpenza"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692795460,"creation_date":1692795460,"answer_id":76961574,"question_id":76951669,"body_markdown":"LDAP servers implement resources limits, to reduce the impact of client queries. OpenLDAP support to two limits; size (no of entries returned) and time (no of seconds an operation takes). LDAP servers such as Fedora 389/RedHat Directory Server have more granular limits. [How to count large number of attribute entries using an anonymous bind][1] \r\n\r\nHad the same error on 389/RedHat Directory Server. The searchable field (in your case &quot;department&quot;) was not indexed and it was hitting the Look-through limit. Fixed the issue by adding attribute `nsLookThroughLimit` with value of `-1` for the bind dn user to disable the check. [Improving Search Performance through Resource Limits][2] Afterwards the query worked fine.\r\n\r\n  [1]: https://www.port389.org/docs/389ds/howto/howto-ldapsearchmanyattr.html\r\n  [2]: https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/administration_guide/ldapsearch-ex-complex-range","title":"Spring LDAP filter search on a multivalued attribute","body":"<p>LDAP servers implement resources limits, to reduce the impact of client queries. OpenLDAP support to two limits; size (no of entries returned) and time (no of seconds an operation takes). LDAP servers such as Fedora 389/RedHat Directory Server have more granular limits. <a href=\"https://www.port389.org/docs/389ds/howto/howto-ldapsearchmanyattr.html\" rel=\"nofollow noreferrer\">How to count large number of attribute entries using an anonymous bind</a></p>\n<p>Had the same error on 389/RedHat Directory Server. The searchable field (in your case &quot;department&quot;) was not indexed and it was hitting the Look-through limit. Fixed the issue by adding attribute <code>nsLookThroughLimit</code> with value of <code>-1</code> for the bind dn user to disable the check. <a href=\"https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/administration_guide/ldapsearch-ex-complex-range\" rel=\"nofollow noreferrer\">Improving Search Performance through Resource Limits</a> Afterwards the query worked fine.</p>\n"}],"owner":{"account_id":3407728,"reputation":103,"user_id":2858411,"accept_rate":17,"display_name":"jimny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961574,"answer_count":1,"score":0,"last_activity_date":1692795460,"creation_date":1692694691,"question_id":76951669,"body_markdown":"I am using Spring LDAP and have entries (person) with a multivalued attribute named Department. i.e each person can have zero or more Department attributes.\r\nI am trying to make a search (filter) and return those entries that have only a specified value in one of their Department Values.  However when I add the filter on the multivalued attribute I am getting the following error\r\n\r\n**LDAP: error code 11 - Administrative Limit Exceeded**\r\n\r\nThis is the query code I am using. \r\n\r\n    LdapQuery query = query().base(&quot;ou=People&quot;).attributes(&quot;uid&quot;).where(&quot;objectclass&quot;).is(&quot;person&quot;).and(&quot;department&quot;).is(&quot;Marketing&quot;);\r\n\r\nHas anyone encountered this situation or can it even be done to filter on a multivalued attribute?\r\n\r\nThanks","title":"Spring LDAP filter search on a multivalued attribute","body":"<p>I am using Spring LDAP and have entries (person) with a multivalued attribute named Department. i.e each person can have zero or more Department attributes.\nI am trying to make a search (filter) and return those entries that have only a specified value in one of their Department Values.  However when I add the filter on the multivalued attribute I am getting the following error</p>\n<p><strong>LDAP: error code 11 - Administrative Limit Exceeded</strong></p>\n<p>This is the query code I am using.</p>\n<pre><code>LdapQuery query = query().base(&quot;ou=People&quot;).attributes(&quot;uid&quot;).where(&quot;objectclass&quot;).is(&quot;person&quot;).and(&quot;department&quot;).is(&quot;Marketing&quot;);\n</code></pre>\n<p>Has anyone encountered this situation or can it even be done to filter on a multivalued attribute?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692715979,"post_id":76954309,"comment_id":135660558,"body_markdown":"Try to execute the sql generated at the Caused by line in the database and see what error it gives.","body":"Try to execute the sql generated at the Caused by line in the database and see what error it gives."}],"answers":[{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692795206,"creation_date":1692736663,"answer_id":76956716,"question_id":76954309,"body_markdown":"You have the wrong class in your Native Query: \r\n\r\n```\r\nfrom SKU\r\n```\r\n\r\nNative Queries are case sensitive, if you want to select from your entity you should change it to: \r\n\r\n```\r\nfrom Sku\r\n```\r\n","title":"spring boot hibernate SQLGrammarException: could not extract ResultSet","body":"<p>You have the wrong class in your Native Query:</p>\n<pre><code>from SKU\n</code></pre>\n<p>Native Queries are case sensitive, if you want to select from your entity you should change it to:</p>\n<pre><code>from Sku\n</code></pre>\n"}],"owner":{"account_id":3766723,"reputation":246,"user_id":3130060,"accept_rate":67,"display_name":"unknowncodder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692795206,"creation_date":1692714590,"question_id":76954309,"body_markdown":"I would like to fetch specific fields of an entity via spring data jpa and dto peojection.\r\n\r\nPerson class:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Entity(name = &quot;SKU&quot;)\r\n@DynamicUpdate\r\n@OptimisticLocking(type = OptimisticLockType.DIRTY)\r\npublic class Sku extends BaseCqrsEntity {\r\n    private Long sellerId;\r\n    private String gtin;\r\n    @Enumerated(EnumType.STRING)\r\n    private SkuState state;\r\n    @Enumerated(EnumType.STRING)\r\n    private VariantState variantState;\r\n    private String brand;\r\n    \r\n    @ElementCollection(targetClass = VariantImage.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;SKU_VARIANT_IMAGES&quot;, joinColumns = @JoinColumn(name = &quot;SKU_ID&quot;))\r\n    @Fetch(FetchMode.SELECT)\r\n    @BatchSize(size = 1000)\r\n    private List&lt;VariantImage&gt; variantImages = new ArrayList&lt;&gt;();\r\n\r\n    //OTHER ATTRIBUTES\r\n }\r\n```\r\n\r\nPersonImage class:\r\n\r\n```\r\n@Embeddable\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class VariantImage implements Serializable {\r\n\r\n    private static final long serialVersionUID = -7449583602767726061L;\r\n\r\n    private Long id;\r\n\r\n    private Integer position;\r\n\r\n    private String relativePath;\r\n}\r\n```\r\n\r\nJPA repository class:\r\n\r\n\r\n```\r\n@Query(&quot; select new SkuFeedProjection(s.productId, s.variantId, s.categoryId, s.sellerId, s.gtin, s.brand, s.unitPrice, s.discountValue, s.discountType, s.saleStartDate, s.saleEndDate, s.variantTitle, s.currencyId, s.variantImages, s.discountStartDate, s.discountEndDate) from SKU s where s.variantState = :variantState and s.state = :skuState&quot;)\r\n    Page&lt;SkuFeedProjection&gt; pageAllByVariantStateAndState(@Param(&quot;variantState&quot;) VariantState variantState,\r\n                                                          @Param(&quot;skuState&quot;) SkuState skuState,\r\n                                                          Pageable pageable);\r\n}\r\n```\r\n\r\nException log:\r\n\r\n\r\n```\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1454)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 131 more\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00936: missing expression\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:747)\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:904)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1082)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\t... 163 more\r\n\r\nCaused by: Error : 936, Position : 408, Sql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=:1  and sku0_.state=:2  fetch first :3  rows only, \r\n\r\nOriginalSql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=? and sku0_.state=? fetch first ? rows only, Error Msg = ORA-00936: missing expression\r\n```\r\n\r\n\r\nwhenever repository method is called. I am getting **org.hibernate.exception.SQLGrammarException: could not extract ResultSet.**\r\n\r\nThis is because, I guess Hibernate does not handle embedded collections (@ElementCollection) well in JPQL when using them in a projection. Could I hear your suggestions. How can I get rid of this problem ? \r\n\r\nThanks in advance.","title":"spring boot hibernate SQLGrammarException: could not extract ResultSet","body":"<p>I would like to fetch specific fields of an entity via spring data jpa and dto peojection.</p>\n<p>Person class:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Entity(name = &quot;SKU&quot;)\n@DynamicUpdate\n@OptimisticLocking(type = OptimisticLockType.DIRTY)\npublic class Sku extends BaseCqrsEntity {\n    private Long sellerId;\n    private String gtin;\n    @Enumerated(EnumType.STRING)\n    private SkuState state;\n    @Enumerated(EnumType.STRING)\n    private VariantState variantState;\n    private String brand;\n    \n    @ElementCollection(targetClass = VariantImage.class, fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;SKU_VARIANT_IMAGES&quot;, joinColumns = @JoinColumn(name = &quot;SKU_ID&quot;))\n    @Fetch(FetchMode.SELECT)\n    @BatchSize(size = 1000)\n    private List&lt;VariantImage&gt; variantImages = new ArrayList&lt;&gt;();\n\n    //OTHER ATTRIBUTES\n }\n</code></pre>\n<p>PersonImage class:</p>\n<pre><code>@Embeddable\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class VariantImage implements Serializable {\n\n    private static final long serialVersionUID = -7449583602767726061L;\n\n    private Long id;\n\n    private Integer position;\n\n    private String relativePath;\n}\n</code></pre>\n<p>JPA repository class:</p>\n<pre><code>@Query(&quot; select new SkuFeedProjection(s.productId, s.variantId, s.categoryId, s.sellerId, s.gtin, s.brand, s.unitPrice, s.discountValue, s.discountType, s.saleStartDate, s.saleEndDate, s.variantTitle, s.currencyId, s.variantImages, s.discountStartDate, s.discountEndDate) from SKU s where s.variantState = :variantState and s.state = :skuState&quot;)\n    Page&lt;SkuFeedProjection&gt; pageAllByVariantStateAndState(@Param(&quot;variantState&quot;) VariantState variantState,\n                                                          @Param(&quot;skuState&quot;) SkuState skuState,\n                                                          Pageable pageable);\n}\n</code></pre>\n<p>Exception log:</p>\n<pre><code>Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\n    at org.hibernate.loader.Loader.list(Loader.java:2677)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1454)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\n    at org.hibernate.query.Query.getResultList(Query.java:165)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 131 more\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00936: missing expression\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494)\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:747)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:904)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1082)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    ... 163 more\n\nCaused by: Error : 936, Position : 408, Sql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=:1  and sku0_.state=:2  fetch first :3  rows only, \n\nOriginalSql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=? and sku0_.state=? fetch first ? rows only, Error Msg = ORA-00936: missing expression\n</code></pre>\n<p>whenever repository method is called. I am getting <strong>org.hibernate.exception.SQLGrammarException: could not extract ResultSet.</strong></p>\n<p>This is because, I guess Hibernate does not handle embedded collections (@ElementCollection) well in JPQL when using them in a projection. Could I hear your suggestions. How can I get rid of this problem ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","rest","http"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1692443888,"post_id":76934595,"comment_id":135625864,"body_markdown":"The first version is clearly incorrect.  Characters such as `[`, `]` and `:` in the query part must be encoded. In the second version, the problem is mostly something to do with the URL path being unknown to the server or the query being invalid.  Check the response body for error messages and the server access and error logs.  (We have no knowledge of the server you are trying to use or its request syntax.)","body":"The first version is clearly incorrect.  Characters such as <code>[</code>, <code>]</code> and <code>:</code> in the query part must be encoded. In the second version, the problem is mostly something to do with the URL path being unknown to the server or the query being invalid.  Check the response body for error messages and the server access and error logs.  (We have no knowledge of the server you are trying to use or its request syntax.)"},{"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"score":0,"creation_date":1692444016,"post_id":76934595,"comment_id":135625883,"body_markdown":"I could see postman sending encoded url like this:\n\n&#39;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q={%24and%3A[{customerSignatureRequestSentOn_srq%3A{%24gte%3A%20%272023-04-13%27}}%2C{customerSignatureRequestSentOn_srq%3A{%24lte%3A%20%272023-07-14%27}}%2C{customerSigned_srq%3A{%20%24exists%3A%20false%20}}%2C{renewalType_srq%3A{%20%24eq%3A%20%27Amendment%27}}%2C{subType_srq%3A{%20%24eq%3A%20%27Proactive%27}}]}&amp;fields=quoteNumber_srq%2CcustomerSignatureRequestSentOn_srq&#39;\n\n\nI dont know what encoding its using, but its getting proper result","body":"I could see postman sending encoded url like this:  &#39;<a href=\"https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=\" rel=\"nofollow noreferrer\">host.com/rest/v14/&hellip;</a>{%24and%3A[{customerSignatureRequestSent&zwnj;&#8203;On_srq%3A{%24gte%3A%&zwnj;&#8203;20%272023-04-13%27}}&zwnj;&#8203;%2C{customerSignatur&zwnj;&#8203;eRequestSentOn_srq%3&zwnj;&#8203;A{%24lte%3A%20%27202&zwnj;&#8203;3-07-14%27}}%2C{cust&zwnj;&#8203;omerSigned_srq%3A{%2&zwnj;&#8203;0%24exists%3A%20fals&zwnj;&#8203;e%20}}%2C{renewalTyp&zwnj;&#8203;e_srq%3A{%20%24eq%3A&zwnj;&#8203;%20%27Amendment%27}}&zwnj;&#8203;%2C{subType_srq%3A{%&zwnj;&#8203;20%24eq%3A%20%27Proa&zwnj;&#8203;ctive%27}}]}&amp;fields=&zwnj;&#8203;quoteNumber_srq%2Ccu&zwnj;&#8203;stomerSignatureReque&zwnj;&#8203;stSentOn_srq&#39;   I dont know what encoding its using, but its getting proper result"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692444194,"post_id":76934595,"comment_id":135625900,"body_markdown":"Put the details into the question.  They are unreadable in the comments.  (Look at it!!)","body":"Put the details into the question.  They are unreadable in the comments.  (Look at it!!)"},{"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"score":0,"creation_date":1692444224,"post_id":76934595,"comment_id":135625906,"body_markdown":"@StephenC \n{&quot;type&quot;:&quot;HTTP://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&quot;,&quot;title&quot;:&quot;Parameter q is invalid.\\nUnexpected character (&#39;&amp;&#39; (code 38)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\\n at [Source: (String)\\&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq\\&quot;; line: 1, column: 240]&quot;}","body":"@StephenC  {&quot;type&quot;:&quot;<a href=\"HTTP://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&quot;,&quot;title&quot;:&quot;Parameter\" rel=\"nofollow noreferrer\">HTTP://www.w3.org/Protocols/rfc2616/&hellip;</a> q is invalid.\\nUnexpected character (&#39;&amp;&#39; (code 38)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\\n at [Source: (String)\\&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_s&zwnj;&#8203;rq\\&quot;; line: 1, column: 240]&quot;}"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692444258,"post_id":76934595,"comment_id":135625910,"body_markdown":"And it is completely unreadable.  This is a &gt;you&lt; problem!   Use the [Edit button](https://stackoverflow.com/posts/76934595/edit).","body":"And it is completely unreadable.  This is a &gt;you&lt; problem!   Use the <a href=\"https://stackoverflow.com/posts/76934595/edit\">Edit button</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1692444691,"post_id":76934595,"comment_id":135625958,"body_markdown":"By the way ... you seem to be setting a `Content-Type` header in your `GET` request.  That has no effect since your request has no body.  The header is redundant.","body":"By the way ... you seem to be setting a <code>Content-Type</code> header in your <code>GET</code> request.  That has no effect since your request has no body.  The header is redundant."},{"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"score":0,"creation_date":1692444711,"post_id":76934595,"comment_id":135625959,"body_markdown":"@StephenC I have encoded the part still &#39;&amp;&#39; and sent it. Its working. All I need to find is how to append parameters with &amp; symbol. coz I am getting the error:\n\nUnexpected character (&#39;&amp;&#39; (code 38)):","body":"@StephenC I have encoded the part still &#39;&amp;&#39; and sent it. Its working. All I need to find is how to append parameters with &amp; symbol. coz I am getting the error:  Unexpected character (&#39;&amp;&#39; (code 38)):"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692444775,"post_id":76934595,"comment_id":135625969,"body_markdown":"I&#39;m not answering any further until you fix the question.  This is the 3rd and final time I will say this.  All relevant information should be 1) in the question (not the comments) and 2) readable.","body":"I&#39;m not answering any further until you fix the question.  This is the 3rd and final time I will say this.  All relevant information should be 1) in the question (not the comments) and 2) readable."}],"answers":[{"tags":[],"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692633136,"creation_date":1692445011,"answer_id":76934900,"question_id":76934595,"body_markdown":"Finally, I got the solution to this. I am posting here, so it may help whomever face this:\r\n\r\nSolution: Instead of sending complete encoded URL, I sent it partially encoded like below:\r\n\r\n\r\n    String encodedUrl = `&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=&quot; +  URLEncoder.encode(&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&quot;, StandardCharsets.UTF_8) + &quot;&amp;fields=&quot;+ URLEncoder.encode(&quot;quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;, StandardCharsets.UTF_8);`\r\n\r\nand it worked...\r\n\r\nIf anyone has a better approach, please share.\r\n\r\nThanks.\r\n","title":"Encoding issue while fetching with Java HTTP Request","body":"<p>Finally, I got the solution to this. I am posting here, so it may help whomever face this:</p>\n<p>Solution: Instead of sending complete encoded URL, I sent it partially encoded like below:</p>\n<pre><code>String encodedUrl = `&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=&quot; +  URLEncoder.encode(&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: '2023-04-01'}},{customerSignatureRequestSentOn_srq:{$lte: '2023-06-04'}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&quot;, StandardCharsets.UTF_8) + &quot;&amp;fields=&quot;+ URLEncoder.encode(&quot;quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;, StandardCharsets.UTF_8);`\n</code></pre>\n<p>and it worked...</p>\n<p>If anyone has a better approach, please share.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76934900,"answer_count":1,"score":0,"last_activity_date":1692795111,"creation_date":1692440111,"question_id":76934595,"body_markdown":"I am trying to hit a URL with a Java HTTP request. I have tried with both encodings and without encoding methods for it. It failed with both approaches. \r\n\r\nURL: &gt; https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q={$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: &quot;Amendment&quot; }},{subType_srq:{ $eq: &quot;Proactive&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq\r\n\r\n\r\nHere is my source code:\r\n```\r\nURL url = new URI(uri).toURL();\r\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\nvar apiUsername = &quot;***&quot;;\r\nvar apiPassword = &quot;***&quot;;\r\nconn.setRequestProperty(HEADERS_AUTHORIZATION, generateBasicAuthInHeaders(apiUsername, apiPassword));\r\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\nconn.setConnectTimeout(3000);\r\nconn.setRequestMethod(&quot;GET&quot;);\r\nconn.connect();\r\n```\r\n\r\nError I am getting without encoding:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.net.URISyntaxException: Illegal character in query at index 98\r\n\r\nIf I encode only the query part:\r\n\r\nURL will be like:\r\n\r\n&gt; https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B%24and%3A%5B%7BcustomerSignatureRequestSentOn_srq%3A%7B%24gte%3A+%272023-04-01%27%7D%7D%2C%7BcustomerSignatureRequestSentOn_srq%3A%7B%24lte%3A+%272023-06-04%27%7D%7D%2C%7BcustomerSigned_srq%3A%7B+%24exists%3A+false+%7D%7D%2C%7BrenewalType_srq%3A%7B+%24eq%3A+%22Amendment%22+%7D%7D%2C%7BsubType_srq%3A%7B+%24eq%3A+%22Proactive%22+%7D%7D%5D%7D%26fields%3DquoteNumber_srq%2CcustomerSignatureRequestSentOn_srq`\r\n\r\nand I am getting the response:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 400 for URL:\r\n\r\nI have tried using Jersey client for URL building:\r\n\r\n```   \r\nURI url = UriBuilder.fromPath(&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction&quot;)\r\n        .queryParam(&quot;q&quot;, &quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;)\r\n        .build();\r\n```\r\n\r\nI didn&#39;t get success either. Any help would be great.","title":"Encoding issue while fetching with Java HTTP Request","body":"<p>I am trying to hit a URL with a Java HTTP request. I have tried with both encodings and without encoding methods for it. It failed with both approaches.</p>\n<p>URL: &gt; <a href=\"https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B$and:%5B%7BcustomerSignatureRequestSentOn_srq:%7B$gte\" rel=\"nofollow noreferrer\">https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q={$and:[{customerSignatureRequestSentOn_srq:{$gte</a>: '2023-04-01'}},{customerSignatureRequestSentOn_srq:{$lte: '2023-06-04'}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: &quot;Amendment&quot; }},{subType_srq:{ $eq: &quot;Proactive&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq</p>\n<p>Here is my source code:</p>\n<pre><code>URL url = new URI(uri).toURL();\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\nvar apiUsername = &quot;***&quot;;\nvar apiPassword = &quot;***&quot;;\nconn.setRequestProperty(HEADERS_AUTHORIZATION, generateBasicAuthInHeaders(apiUsername, apiPassword));\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\nconn.setConnectTimeout(3000);\nconn.setRequestMethod(&quot;GET&quot;);\nconn.connect();\n</code></pre>\n<p>Error I am getting without encoding:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.net.URISyntaxException: Illegal character in query at index 98</p>\n</blockquote>\n<p>If I encode only the query part:</p>\n<p>URL will be like:</p>\n<blockquote>\n<p><a href=\"https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B%24and%3A%5B%7BcustomerSignatureRequestSentOn_srq%3A%7B%24gte%3A+%272023-04-01%27%7D%7D%2C%7BcustomerSignatureRequestSentOn_srq%3A%7B%24lte%3A+%272023-06-04%27%7D%7D%2C%7BcustomerSigned_srq%3A%7B+%24exists%3A+false+%7D%7D%2C%7BrenewalType_srq%3A%7B+%24eq%3A+%22Amendment%22+%7D%7D%2C%7BsubType_srq%3A%7B+%24eq%3A+%22Proactive%22+%7D%7D%5D%7D%26fields%3DquoteNumber_srq%2CcustomerSignatureRequestSentOn_srq%60\" rel=\"nofollow noreferrer\">https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B%24and%3A%5B%7BcustomerSignatureRequestSentOn_srq%3A%7B%24gte%3A+%272023-04-01%27%7D%7D%2C%7BcustomerSignatureRequestSentOn_srq%3A%7B%24lte%3A+%272023-06-04%27%7D%7D%2C%7BcustomerSigned_srq%3A%7B+%24exists%3A+false+%7D%7D%2C%7BrenewalType_srq%3A%7B+%24eq%3A+%22Amendment%22+%7D%7D%2C%7BsubType_srq%3A%7B+%24eq%3A+%22Proactive%22+%7D%7D%5D%7D%26fields%3DquoteNumber_srq%2CcustomerSignatureRequestSentOn_srq`</a></p>\n</blockquote>\n<p>and I am getting the response:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 400 for URL:</p>\n</blockquote>\n<p>I have tried using Jersey client for URL building:</p>\n<pre><code>URI url = UriBuilder.fromPath(&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction&quot;)\n        .queryParam(&quot;q&quot;, &quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: '2023-04-01'}},{customerSignatureRequestSentOn_srq:{$lte: '2023-06-04'}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;)\n        .build();\n</code></pre>\n<p>I didn't get success either. Any help would be great.</p>\n"},{"tags":["java","jackson","deserialization","bigdecimal","json-deserialization"],"answers":[{"comments":[{"owner":{"account_id":2968965,"reputation":474,"user_id":2521500,"accept_rate":43,"display_name":"Andr&#233; Lu&#237;s Oliveira"},"score":0,"creation_date":1649420143,"post_id":56386102,"comment_id":126876930,"body_markdown":"is it possible to do it just for some classes and attributes?","body":"is it possible to do it just for some classes and attributes?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":1,"creation_date":1649424637,"post_id":56386102,"comment_id":126878843,"body_markdown":"@Andr&#233;Lu&#237;sOliveira, Yes, custom deserialiser will be used only for these properties where you explicite declare `@JsonDeserialize(using = BigDecimal2JsonDeserializer.class)` annotation.","body":"@Andr&#233;Lu&#237;sOliveira, Yes, custom deserialiser will be used only for these properties where you explicite declare <code>@JsonDeserialize(using = BigDecimal2JsonDeserializer.class)</code> annotation."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1559253210,"creation_date":1559253210,"answer_id":56386102,"question_id":56383123,"body_markdown":"When you want to set scale you need to take care about rounding. You have some options such as [ROUND_HALF_EVEN][1] and you need to decide which rounding mode to use.\r\n\r\nTo intercept `BigDecimal` deserialisation you can write custom deserialiser. Below example shows how to do that, we can extend default one and set scale after deserialzation:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import com.fasterxml.jackson.databind.deser.std.NumberDeserializers;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.math.BigDecimal;\r\n    \r\n    public class JsonApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tFoo person = mapper.readValue(jsonFile, Foo.class);\r\n    \t\tSystem.out.println(person);\r\n    \t}\r\n    }\r\n    \r\n    class BigDecimal2JsonDeserializer extends NumberDeserializers.BigDecimalDeserializer {\r\n    \r\n    \t@Override\r\n    \tpublic BigDecimal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n    \t\tBigDecimal value = super.deserialize(p, ctxt);\r\n    \r\n    \t\t// set scale\r\n    \t\tvalue = value.setScale(2, BigDecimal.ROUND_HALF_EVEN);\r\n    \r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n    \r\n    class Foo {\r\n    \r\n    \t@JsonDeserialize(using = BigDecimal2JsonDeserializer.class)\r\n    \tprivate BigDecimal amount;\r\n    \r\n    \tpublic BigDecimal getAmount() {\r\n    \t\treturn amount;\r\n    \t}\r\n    \r\n    \tpublic void setAmount(BigDecimal amount) {\r\n    \t\tthis.amount = amount;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Foo{&quot; +\r\n    \t\t\t\t&quot;amount=&quot; + amount +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n\r\nFor below `JSON` payload:\r\n\r\n    {\r\n      &quot;amount&quot;: 16.127\r\n    }\r\n\r\nabove app prints:\r\n\r\n    Foo{amount=16.13}\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\r\n","title":"Jackson annotation to convert BigDecimal value and set scale to 2","body":"<p>When you want to set scale you need to take care about rounding. You have some options such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\" rel=\"noreferrer\">ROUND_HALF_EVEN</a> and you need to decide which rounding mode to use.</p>\n\n<p>To intercept <code>BigDecimal</code> deserialisation you can write custom deserialiser. Below example shows how to do that, we can extend default one and set scale after deserialzation:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.deser.std.NumberDeserializers;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.math.BigDecimal;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(\"./resource/test.json\").getAbsoluteFile();\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        Foo person = mapper.readValue(jsonFile, Foo.class);\n        System.out.println(person);\n    }\n}\n\nclass BigDecimal2JsonDeserializer extends NumberDeserializers.BigDecimalDeserializer {\n\n    @Override\n    public BigDecimal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        BigDecimal value = super.deserialize(p, ctxt);\n\n        // set scale\n        value = value.setScale(2, BigDecimal.ROUND_HALF_EVEN);\n\n        return value;\n    }\n}\n\nclass Foo {\n\n    @JsonDeserialize(using = BigDecimal2JsonDeserializer.class)\n    private BigDecimal amount;\n\n    public BigDecimal getAmount() {\n        return amount;\n    }\n\n    public void setAmount(BigDecimal amount) {\n        this.amount = amount;\n    }\n\n    @Override\n    public String toString() {\n        return \"Foo{\" +\n                \"amount=\" + amount +\n                '}';\n    }\n}\n</code></pre>\n\n<p>For below <code>JSON</code> payload:</p>\n\n<pre><code>{\n  \"amount\": 16.127\n}\n</code></pre>\n\n<p>above app prints:</p>\n\n<pre><code>Foo{amount=16.13}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3376274,"reputation":160,"user_id":2834361,"display_name":"gizit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692794981,"creation_date":1692793816,"answer_id":76961376,"question_id":56383123,"body_markdown":"For you Kotlin lovers, I implemented this BigDecimal ContextualSerializer where the number of decimal places can be configured using an annotation. Although it is strange place to introduce rounding in the serializer, for my case this was not an issue. Check for yourselves if rounding can be an issue.\r\n\r\nThe Serializer class:\r\n\r\n    class CustomBigDecimalSerializer(private val decimalPlaces: Int = 2) : StdSerializer&lt;BigDecimal&gt;(BigDecimal::class.java),\r\n            ContextualSerializer {\r\n    \r\n        override fun serialize(value: BigDecimal?, jsonGenerator: JsonGenerator?, serializerProvider: SerializerProvider?) {\r\n            if (value != null) {\r\n                jsonGenerator?.writeNumber(value.setScale(decimalPlaces, RoundingMode.HALF_UP))\r\n            } else {\r\n                jsonGenerator?.writeNull()\r\n            }\r\n        }\r\n    \r\n        override fun createContextual(provider: SerializerProvider?, property: BeanProperty?): JsonSerializer&lt;*&gt; {\r\n            val decimalPlaces = property?.getAnnotation(DecimalPlaces::class.java)\r\n            return CustomBigDecimalSerializer(decimalPlaces?.numberOfDigits ?: 2)\r\n        }\r\n    }\r\n\r\nThe annotation that can be used to configure the number of decimal places:\r\n\r\n    @Target(AnnotationTarget.FIELD)\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    annotation class DecimalPlaces(val numberOfDigits: Int)\r\n\r\nAnd finally the usage of it in this &#39;unit test&#39;:\r\n\r\n    class CustomBigDecimalSerializerTest {\r\n    \r\n        @Test\r\n        fun serializeBigDecimals(){\r\n            val objectMapper: ObjectMapper = ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT)\r\n            val container = BigDecimalContainer(BigDecimal(Math.PI))\r\n            // no assertions, just print the serialized container\r\n            println(objectMapper.writeValueAsString(container))\r\n        }\r\n    \r\n        data class BigDecimalContainer(val rawValue: BigDecimal){\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            val defaultDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 1)\r\n            val oneDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 2)\r\n            val twoDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 3)\r\n            val threeDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 10)\r\n            val tenDecimalPlaces = rawValue\r\n        }\r\n    }\r\n\r\nThe output of the test is:\r\n\r\n    {\r\n      &quot;rawValue&quot; : 3.141592653589793115997963468544185161590576171875,\r\n      &quot;defaultDecimalPlaces&quot; : 3.14,\r\n      &quot;oneDecimalPlaces&quot; : 3.1,\r\n      &quot;twoDecimalPlaces&quot; : 3.14,\r\n      &quot;threeDecimalPlaces&quot; : 3.142,\r\n      &quot;tenDecimalPlaces&quot; : 3.1415926536\r\n    }\r\n\r\nHave fun with it!","title":"Jackson annotation to convert BigDecimal value and set scale to 2","body":"<p>For you Kotlin lovers, I implemented this BigDecimal ContextualSerializer where the number of decimal places can be configured using an annotation. Although it is strange place to introduce rounding in the serializer, for my case this was not an issue. Check for yourselves if rounding can be an issue.</p>\n<p>The Serializer class:</p>\n<pre><code>class CustomBigDecimalSerializer(private val decimalPlaces: Int = 2) : StdSerializer&lt;BigDecimal&gt;(BigDecimal::class.java),\n        ContextualSerializer {\n\n    override fun serialize(value: BigDecimal?, jsonGenerator: JsonGenerator?, serializerProvider: SerializerProvider?) {\n        if (value != null) {\n            jsonGenerator?.writeNumber(value.setScale(decimalPlaces, RoundingMode.HALF_UP))\n        } else {\n            jsonGenerator?.writeNull()\n        }\n    }\n\n    override fun createContextual(provider: SerializerProvider?, property: BeanProperty?): JsonSerializer&lt;*&gt; {\n        val decimalPlaces = property?.getAnnotation(DecimalPlaces::class.java)\n        return CustomBigDecimalSerializer(decimalPlaces?.numberOfDigits ?: 2)\n    }\n}\n</code></pre>\n<p>The annotation that can be used to configure the number of decimal places:</p>\n<pre><code>@Target(AnnotationTarget.FIELD)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class DecimalPlaces(val numberOfDigits: Int)\n</code></pre>\n<p>And finally the usage of it in this 'unit test':</p>\n<pre><code>class CustomBigDecimalSerializerTest {\n\n    @Test\n    fun serializeBigDecimals(){\n        val objectMapper: ObjectMapper = ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT)\n        val container = BigDecimalContainer(BigDecimal(Math.PI))\n        // no assertions, just print the serialized container\n        println(objectMapper.writeValueAsString(container))\n    }\n\n    data class BigDecimalContainer(val rawValue: BigDecimal){\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        val defaultDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 1)\n        val oneDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 2)\n        val twoDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 3)\n        val threeDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 10)\n        val tenDecimalPlaces = rawValue\n    }\n}\n</code></pre>\n<p>The output of the test is:</p>\n<pre><code>{\n  &quot;rawValue&quot; : 3.141592653589793115997963468544185161590576171875,\n  &quot;defaultDecimalPlaces&quot; : 3.14,\n  &quot;oneDecimalPlaces&quot; : 3.1,\n  &quot;twoDecimalPlaces&quot; : 3.14,\n  &quot;threeDecimalPlaces&quot; : 3.142,\n  &quot;tenDecimalPlaces&quot; : 3.1415926536\n}\n</code></pre>\n<p>Have fun with it!</p>\n"}],"owner":{"account_id":3570477,"reputation":631,"user_id":2980916,"accept_rate":20,"display_name":"ernitingoel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10880,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56386102,"answer_count":2,"score":6,"last_activity_date":1692794981,"creation_date":1559238146,"question_id":56383123,"body_markdown":"I have `POJO` like where I have a `BigDecimal` field:\r\n\r\n    public class Foo implements Serializable {\r\n    \r\n       private BigDecimal amount;\r\n    }\r\n\r\nI want to have the `BigDecimal` value up to `2` decimal place only. Is there any annotation exist using which I can directly change it&#39;s value at the field level itself? I cannot change it&#39;s type as well.\r\n\r\nThough it can be done with getter and `ObjectMapper` within the application.","title":"Jackson annotation to convert BigDecimal value and set scale to 2","body":"<p>I have <code>POJO</code> like where I have a <code>BigDecimal</code> field:</p>\n\n<pre><code>public class Foo implements Serializable {\n\n   private BigDecimal amount;\n}\n</code></pre>\n\n<p>I want to have the <code>BigDecimal</code> value up to <code>2</code> decimal place only. Is there any annotation exist using which I can directly change it's value at the field level itself? I cannot change it's type as well.</p>\n\n<p>Though it can be done with getter and <code>ObjectMapper</code> within the application.</p>\n"},{"tags":["java","spring-boot","resttemplate"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692794924,"creation_date":1692794924,"question_id":76961511,"body_markdown":"`DefaultResponseErrorHandler` has some methods, but I would like to point out only a few of them. From source code:\r\n```\r\n    /**\r\n\t * Template method called from {@link #hasError(ClientHttpResponse)}.\r\n\t * &lt;p&gt;The default implementation checks {@link HttpStatusCode#isError()}.\r\n\t * Can be overridden in subclasses.\r\n\t * @param statusCode the HTTP status code\r\n\t * @return {@code true} if the response indicates an error; {@code false} otherwise\r\n\t * @see HttpStatusCode#isError()\r\n\t */\r\n    protected boolean hasError(HttpStatusCode statusCode) {\r\n\t\treturn statusCode.isError();\r\n\t}\r\n\r\n    /**\r\n\t * Handle the error based on the resolved status code.\r\n\t *\r\n\t * &lt;p&gt;The default implementation delegates to\r\n\t * {@link HttpClientErrorException#create} for errors in the 4xx range, to\r\n\t * {@link HttpServerErrorException#create} for errors in the 5xx range,\r\n\t * or otherwise raises {@link UnknownHttpStatusCodeException}.\r\n\t * @since 5.0\r\n\t * @see HttpClientErrorException#create\r\n\t * @see HttpServerErrorException#create\r\n\t */\r\n\tprotected void handleError(ClientHttpResponse response, HttpStatusCode statusCode) throws IOException {\r\n\t\tString statusText = response.getStatusText();\r\n\t\tHttpHeaders headers = response.getHeaders();\r\n\t\tbyte[] body = getResponseBody(response);\r\n\t\tCharset charset = getCharset(response);\r\n\t\tString message = getErrorMessage(statusCode.value(), statusText, body, charset);\r\n\r\n\t\tRestClientResponseException ex;\r\n\t\tif (statusCode.is4xxClientError()) {\r\n\t\t\tex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n\t\t}\r\n\t\telse if (statusCode.is5xxServerError()) {\r\n\t\t\tex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\r\n\t\t}\r\n\r\n\t\tif (!CollectionUtils.isEmpty(this.messageConverters)) {\r\n\t\t\tex.setBodyConvertFunction(initBodyConvertFunction(response, body));\r\n\t\t}\r\n\r\n\t\tthrow ex;\r\n\t}\r\n\r\n    /**\r\n\t * Read the body of the given response (for inclusion in a status exception).\r\n\t * @param response the response to inspect\r\n\t * @return the response body as a byte array,\r\n\t * or an empty byte array if the body could not be read\r\n\t * @since 4.3.8\r\n\t */\r\n\tprotected byte[] getResponseBody(ClientHttpResponse response) {\r\n\t\ttry {\r\n\t\t\treturn FileCopyUtils.copyToByteArray(response.getBody());\r\n\t\t}\r\n\t\tcatch (IOException ex) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\treturn new byte[0];\r\n\t}\r\n```\r\nThe reason I created this thread is that I can&#39;t understand how the `getResponseBody` method works...\r\n\r\nOK - to the point. I&#39;ve extended this class to create my implementation of `ResponseErrorHandler` interface. Here it is:\r\n\r\n```\r\npublic class RestTemplateErrorHandler extends DefaultResponseErrorHandler {\r\n\r\n    @Override\r\n    protected boolean hasError(ClientHttpResponse response) {\r\n        getResponseBody(response);\r\n        return super.hasError(response);\r\n    }\r\n\r\n    @Override\r\n    protected void handleError(ClientHttpResponse response) {\r\n        String statusText = response.getStatusText();\r\n        HttpHeaders headers = response.getHeaders();\r\n        byte[] body = &quot;Dummy message&quot;.getBytes(); // &lt;--- ONLY CHANGE COMPARING TO DefaultResponseErrorHandler.handleError\r\n        Charset charset = getCharset(response);\r\n        String message = getErrorMessage(statusCode.value(), statusText, body, charset);\r\n\r\n        RestClientResponseException ex;\r\n        if (statusCode.is4xxClientError()) {\r\n            ex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n        }\r\n        else if (statusCode.is5xxServerError()) {\r\n            ex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n        }\r\n        else {\r\n            ex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\r\n        }\r\n\r\n        if (!CollectionUtils.isEmpty(this.messageConverters)) {\r\n            ex.setBodyConvertFunction(initBodyConvertFunction(response, body));\r\n        }\r\n\r\n        throw ex;\r\n    }\r\n}\r\n```\r\nAs you noticed, I&#39;ve only added `getResponseBody(response)` method call in overriden `hasError` and changed body in the handleError. When I make a `RestTemplate` call, it results in `StreamClosedException` of Apache HttpClient (under-the-hood HTTP client for `RestTemplate`).\r\n\r\nI have no idea why that happens. Why `hasError` does not have an &quot;access&quot; to the `InputStream` of `response.getBody()`? Why is the stream closed there, but works perfectly fine in the **next** method? Also, in Spring Boot&#39;s source code we can also see:\r\n\r\n```\r\n\t/**\r\n\t * Handle the given response, performing appropriate logging and\r\n\t * invoking the {@link ResponseErrorHandler} if necessary.\r\n\t * &lt;p&gt;Can be overridden in subclasses.\r\n\t * @param url the fully-expanded URL to connect to\r\n\t * @param method the HTTP method to execute (GET, POST, etc.)\r\n\t * @param response the resulting {@link ClientHttpResponse}\r\n\t * @throws IOException if propagated from {@link ResponseErrorHandler}\r\n\t * @since 4.1.6\r\n\t * @see #setErrorHandler\r\n\t */\r\n\tprotected void handleResponse(URI url, HttpMethod method, ClientHttpResponse response) throws IOException {\r\n\t\tResponseErrorHandler errorHandler = getErrorHandler();\r\n\t\tboolean hasError = errorHandler.hasError(response);\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\ttry {\r\n\t\t\t\tHttpStatusCode statusCode = response.getStatusCode();\r\n\t\t\t\tlogger.debug(&quot;Response &quot; + statusCode);\r\n\t\t\t}\r\n\t\t\tcatch (IOException ex) {\r\n\t\t\t\tlogger.debug(&quot;Failed to obtain response status code&quot;, ex);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (hasError) {\r\n\t\t\terrorHandler.handleError(url, method, response);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n`HasError` is the 1st method to be called, after the request has been made and response retrieved... and the stream is closed. But if the if statement `if(hasError)` is executed, then `handleErrors` *DO* have an access to the `getResponseBody`: stream is not closed and everything works fine. In both cases, it works on the same `ClientHttpResponse` object.\r\n\r\nWhat&#39;s going on here?","title":"getResponseBody(ClientHttpResponse) not quite working in DefaultResponseErrorHandler","body":"<p><code>DefaultResponseErrorHandler</code> has some methods, but I would like to point out only a few of them. From source code:</p>\n<pre><code>    /**\n     * Template method called from {@link #hasError(ClientHttpResponse)}.\n     * &lt;p&gt;The default implementation checks {@link HttpStatusCode#isError()}.\n     * Can be overridden in subclasses.\n     * @param statusCode the HTTP status code\n     * @return {@code true} if the response indicates an error; {@code false} otherwise\n     * @see HttpStatusCode#isError()\n     */\n    protected boolean hasError(HttpStatusCode statusCode) {\n        return statusCode.isError();\n    }\n\n    /**\n     * Handle the error based on the resolved status code.\n     *\n     * &lt;p&gt;The default implementation delegates to\n     * {@link HttpClientErrorException#create} for errors in the 4xx range, to\n     * {@link HttpServerErrorException#create} for errors in the 5xx range,\n     * or otherwise raises {@link UnknownHttpStatusCodeException}.\n     * @since 5.0\n     * @see HttpClientErrorException#create\n     * @see HttpServerErrorException#create\n     */\n    protected void handleError(ClientHttpResponse response, HttpStatusCode statusCode) throws IOException {\n        String statusText = response.getStatusText();\n        HttpHeaders headers = response.getHeaders();\n        byte[] body = getResponseBody(response);\n        Charset charset = getCharset(response);\n        String message = getErrorMessage(statusCode.value(), statusText, body, charset);\n\n        RestClientResponseException ex;\n        if (statusCode.is4xxClientError()) {\n            ex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else if (statusCode.is5xxServerError()) {\n            ex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else {\n            ex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\n        }\n\n        if (!CollectionUtils.isEmpty(this.messageConverters)) {\n            ex.setBodyConvertFunction(initBodyConvertFunction(response, body));\n        }\n\n        throw ex;\n    }\n\n    /**\n     * Read the body of the given response (for inclusion in a status exception).\n     * @param response the response to inspect\n     * @return the response body as a byte array,\n     * or an empty byte array if the body could not be read\n     * @since 4.3.8\n     */\n    protected byte[] getResponseBody(ClientHttpResponse response) {\n        try {\n            return FileCopyUtils.copyToByteArray(response.getBody());\n        }\n        catch (IOException ex) {\n            // ignore\n        }\n        return new byte[0];\n    }\n</code></pre>\n<p>The reason I created this thread is that I can't understand how the <code>getResponseBody</code> method works...</p>\n<p>OK - to the point. I've extended this class to create my implementation of <code>ResponseErrorHandler</code> interface. Here it is:</p>\n<pre><code>public class RestTemplateErrorHandler extends DefaultResponseErrorHandler {\n\n    @Override\n    protected boolean hasError(ClientHttpResponse response) {\n        getResponseBody(response);\n        return super.hasError(response);\n    }\n\n    @Override\n    protected void handleError(ClientHttpResponse response) {\n        String statusText = response.getStatusText();\n        HttpHeaders headers = response.getHeaders();\n        byte[] body = &quot;Dummy message&quot;.getBytes(); // &lt;--- ONLY CHANGE COMPARING TO DefaultResponseErrorHandler.handleError\n        Charset charset = getCharset(response);\n        String message = getErrorMessage(statusCode.value(), statusText, body, charset);\n\n        RestClientResponseException ex;\n        if (statusCode.is4xxClientError()) {\n            ex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else if (statusCode.is5xxServerError()) {\n            ex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else {\n            ex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\n        }\n\n        if (!CollectionUtils.isEmpty(this.messageConverters)) {\n            ex.setBodyConvertFunction(initBodyConvertFunction(response, body));\n        }\n\n        throw ex;\n    }\n}\n</code></pre>\n<p>As you noticed, I've only added <code>getResponseBody(response)</code> method call in overriden <code>hasError</code> and changed body in the handleError. When I make a <code>RestTemplate</code> call, it results in <code>StreamClosedException</code> of Apache HttpClient (under-the-hood HTTP client for <code>RestTemplate</code>).</p>\n<p>I have no idea why that happens. Why <code>hasError</code> does not have an &quot;access&quot; to the <code>InputStream</code> of <code>response.getBody()</code>? Why is the stream closed there, but works perfectly fine in the <strong>next</strong> method? Also, in Spring Boot's source code we can also see:</p>\n<pre><code>    /**\n     * Handle the given response, performing appropriate logging and\n     * invoking the {@link ResponseErrorHandler} if necessary.\n     * &lt;p&gt;Can be overridden in subclasses.\n     * @param url the fully-expanded URL to connect to\n     * @param method the HTTP method to execute (GET, POST, etc.)\n     * @param response the resulting {@link ClientHttpResponse}\n     * @throws IOException if propagated from {@link ResponseErrorHandler}\n     * @since 4.1.6\n     * @see #setErrorHandler\n     */\n    protected void handleResponse(URI url, HttpMethod method, ClientHttpResponse response) throws IOException {\n        ResponseErrorHandler errorHandler = getErrorHandler();\n        boolean hasError = errorHandler.hasError(response);\n        if (logger.isDebugEnabled()) {\n            try {\n                HttpStatusCode statusCode = response.getStatusCode();\n                logger.debug(&quot;Response &quot; + statusCode);\n            }\n            catch (IOException ex) {\n                logger.debug(&quot;Failed to obtain response status code&quot;, ex);\n            }\n        }\n        if (hasError) {\n            errorHandler.handleError(url, method, response);\n        }\n    }\n</code></pre>\n<p><code>HasError</code> is the 1st method to be called, after the request has been made and response retrieved... and the stream is closed. But if the if statement <code>if(hasError)</code> is executed, then <code>handleErrors</code> <em>DO</em> have an access to the <code>getResponseBody</code>: stream is not closed and everything works fine. In both cases, it works on the same <code>ClientHttpResponse</code> object.</p>\n<p>What's going on here?</p>\n"},{"tags":["java","git","maven","selenium-webdriver","jenkins"],"answers":[{"comments":[{"owner":{"account_id":3454844,"reputation":53,"user_id":2893577,"accept_rate":25,"display_name":"vishalpamnani"},"score":0,"creation_date":1692801988,"post_id":76961405,"comment_id":135674253,"body_markdown":"Yes, I am running v4.11.0 of Selenium. So are you suggesting that I should downgrade my browser to 115?","body":"Yes, I am running v4.11.0 of Selenium. So are you suggesting that I should downgrade my browser to 115?"},{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":1,"creation_date":1692865741,"post_id":76961405,"comment_id":135682832,"body_markdown":"If all your tests are passing and things are stable you could wait until the next release of Selenium as this could just remain a warning for a while. If things are really unstable it would probably be best to try and go back one version of Chrome.","body":"If all your tests are passing and things are stable you could wait until the next release of Selenium as this could just remain a warning for a while. If things are really unstable it would probably be best to try and go back one version of Chrome."}],"tags":[],"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692794900,"creation_date":1692794056,"answer_id":76961405,"question_id":76961325,"body_markdown":"So your logs state:\r\n\r\n&gt; Aug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder\r\n&gt; findNearestMatch WARNING: Unable to find an exact match for CDP\r\n&gt; version 116, so returning the closest version found: 115\r\n\r\nThis means you need to update your Selenium dependancy, it&#39;s not only your browser version that is in play here.\r\n\r\nAs you can see in the [last two release notes][1], I am guessing that you are running `v4.11.0` of Selenium, you might need to wait for version `v4.12.0` if it&#39;s not available yet to get support for `CDP version 116`...\r\n\r\n&gt; v4.12.0\r\n&gt; ======\r\n&gt; * Supported CDP versions: 85, 114, 115, 116\r\n&gt; \r\n&gt; v4.11.0\r\n&gt; ======\r\n&gt; * Supported CDP versions: 85, 113, 114, 115\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG","title":"Setup breaking in Selenium project in Jenkins but all tests passing","body":"<p>So your logs state:</p>\n<blockquote>\n<p>Aug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder\nfindNearestMatch WARNING: Unable to find an exact match for CDP\nversion 116, so returning the closest version found: 115</p>\n</blockquote>\n<p>This means you need to update your Selenium dependancy, it's not only your browser version that is in play here.</p>\n<p>As you can see in the <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">last two release notes</a>, I am guessing that you are running <code>v4.11.0</code> of Selenium, you might need to wait for version <code>v4.12.0</code> if it's not available yet to get support for <code>CDP version 116</code>...</p>\n<blockquote>\n<h1>v4.12.0</h1>\n<ul>\n<li>Supported CDP versions: 85, 114, 115, 116</li>\n</ul>\n<h1>v4.11.0</h1>\n<ul>\n<li>Supported CDP versions: 85, 113, 114, 115</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":3454844,"reputation":53,"user_id":2893577,"accept_rate":25,"display_name":"vishalpamnani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692794900,"creation_date":1692793342,"question_id":76961325,"body_markdown":"I have a Selenium Java UI automation freestyle project setup at my local Jenkins and after building it I am facing the error, &quot;Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114. The current browser version is 116.0.5845.96.&quot;\r\n\r\nDue to this error, my setup step is breaking which is eventually making the build unstable but all my tests are passing.\r\n\r\nAttaching the setup step error and the console output as well below:\r\n \r\n\r\n        org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\n    Current browser version is 116.0.5845.96 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome \r\n    Host info: host: &#39;Vishals-MacBook-Air.local&#39;, ip: &#39;2405:201:401d:e834:1d4e:a572:5d7c:4fae%en0&#39;\r\n    Build info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\n    System info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.4&#39;, java.version: &#39;11.0.20&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\r\n    \tat com.qa.opencart.factory.DriverFactory.initDriver(DriverFactory.java:47)\r\n    \tat com.qa.opencart.base.BaseTest.setup(BaseTest.java:35)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\r\n    \tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\r\n    \tat org.testng.TestRunner.beforeRun(TestRunner.java:529)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:497)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n    \tat org.testng.SuiteRunner.access$000(SuiteRunner.java:40)\r\n    \tat org.testng.SuiteRunner$SuiteWorker.run(SuiteRunner.java:489)\r\n    \tat org.testng.internal.thread.ThreadUtil$1.call(ThreadUtil.java:52)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \r\n    \r\n        Started by user Vishal Pamnani\r\n    Running as SYSTEM\r\n    Building in workspace /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job\r\n    The recommended git tool is: NONE\r\n    No credentials specified\r\n     &gt; git rev-parse --resolve-git-dir /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/.git # timeout=10\r\n    Fetching changes from the remote Git repository\r\n     &gt; git config remote.origin.url https://github.com/vishalpamnani/November2022POMSeriesCode # timeout=10\r\n    Fetching upstream changes from https://github.com/vishalpamnani/November2022POMSeriesCode\r\n     &gt; git --version # timeout=10\r\n     &gt; git --version # &#39;git version 2.39.2 (Apple Git-143)&#39;\r\n     &gt; git fetch --tags --force --progress -- https://github.com/vishalpamnani/November2022POMSeriesCode +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n     &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10\r\n    Checking out Revision e1430e2a702e3c86527088e040790422dcc3ca48 (refs/remotes/origin/main)\r\n     &gt; git config core.sparsecheckout # timeout=10\r\n     &gt; git checkout -f e1430e2a702e3c86527088e040790422dcc3ca48 # timeout=10\r\n    Commit message: &quot;added set browser version code in options manager&quot;\r\n     &gt; git rev-list --no-walk 4e661f14c03d38eca0bccbcad65fa7d84e4d500b # timeout=10\r\n    Parsing POMs\r\n    Established TCP socket on 57753\r\n    [OpenCart Automation Job] $ /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home//bin/java -cp /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-agent-1.14.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/boot/plexus-classworlds-2.7.0.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/conf/logging jenkins.maven3.agent.Maven35Main /Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven /Users/vishalpamnani/.jenkins/war/WEB-INF/lib/remoting-3107.v665000b_51092.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-interceptor-1.14.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.14.jar 57753\r\n    &lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started\r\n    Executing Maven:  -B -f /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml clean install\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] --------------&lt; Naveen2023POMSeries:Naveen2023POMSeries &gt;---------------\r\n    [INFO] Building Naveen2023POMSeries 0.0.1-SNAPSHOT\r\n    [INFO]   from pom.xml\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- clean:3.2.0:clean (default-clean) @ Naveen2023POMSeries ---\r\n    [INFO] Deleting /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target\r\n    [INFO] \r\n    [INFO] --- resources:3.3.1:resources (default-resources) @ Naveen2023POMSeries ---\r\n    [INFO] skip non existing resourceDirectory /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/src/main/resources\r\n    [INFO] \r\n    [INFO] --- compiler:3.8.1:compile (default-compile) @ Naveen2023POMSeries ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 14 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/classes\r\n    [INFO] \r\n    [INFO] --- resources:3.3.1:testResources (default-testResources) @ Naveen2023POMSeries ---\r\n    [INFO] Copying 3 resources from src/test/resources to target/test-classes\r\n    [INFO] \r\n    [INFO] --- compiler:3.8.1:testCompile (default-testCompile) @ Naveen2023POMSeries ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 5 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/test-classes\r\n    [INFO] \r\n    [INFO] --- surefire:3.0.0-M1:test (default-test) @ Naveen2023POMSeries ---\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running TestSuite\r\n    ...\r\n    ... TestNG 6.14.3 by C&#233;dric Beust (cedric@beust.com)\r\n    ...\r\n    \r\n    I am in onStart method Login Page Test\r\n    Test Suite started!\r\n    Browser Name is: chrome\r\n    Aug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    WARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 115\r\n    I am in onTestStart method loginPageTitleTeststart\r\n    loginPageTitleTeststarted!\r\n    Login page title is: Account Login\r\n    I am in onTestSuccess method loginPageTitleTestsucceeded\r\n    loginPageTitleTestpassed!\r\n    I am in onTestStart method loginPageURLTeststart\r\n    loginPageURLTeststarted!\r\n    Login page url is: https://naveenautomationlabs.com/opencart/index.php?route=account/login\r\n    I am in onTestSuccess method loginPageURLTestsucceeded\r\n    loginPageURLTestpassed!\r\n    I am in onTestStart method forgotPasswordLinkExistTeststart\r\n    forgotPasswordLinkExistTeststarted!\r\n    I am in onTestSuccess method forgotPasswordLinkExistTestsucceeded\r\n    forgotPasswordLinkExistTestpassed!\r\n    I am in onTestStart method loginTeststart\r\n    loginTeststarted!\r\n    App credentials are: best@yopmail.com : Trying@123\r\n    I am in onTestSuccess method loginTestsucceeded\r\n    loginTestpassed!\r\n    I am in onFinish method Login Page Test\r\n    Test Suite is ending!\r\n    log4j:WARN No appenders could be found for logger (freemarker.cache).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    [INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.816 s - in TestSuite\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [JENKINS] Recording test results\r\n    [INFO] \r\n    [INFO] --- jar:3.3.0:jar (default-jar) @ Naveen2023POMSeries ---\r\n    [INFO] Building jar: /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\r\n    [INFO] \r\n    [INFO] --- install:3.1.1:install (default-install) @ Naveen2023POMSeries ---\r\n    [INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\r\n    [INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  13.469 s\r\n    [INFO] Finished at: 2023-08-23T16:15:12+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    Waiting for Jenkins to finish collecting data\r\n    [JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\r\n    [JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\r\n    channel stopped\r\n    [OpenCart Automation Job] $ /Users/vishalpamnani/.jenkins/tools/ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation/allure/bin/allure generate &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history/history&quot; -c -o &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report&quot;\r\n    Report successfully generated to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report\r\n    Allure report was successfully generated.\r\n    Creating artifact for the build.\r\n    Artifact was added to the build.\r\n    Build step &#39;Allure Report&#39; changed build result to UNSTABLE\r\n    [htmlpublisher] Archiving HTML reports...\r\n    [htmlpublisher] Archiving at BUILD level /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/reports to /Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/htmlreports/Extent_20HTML_20Report\r\n    TestNG Reports Processing: START\r\n    Looking for TestNG results report in workspace using pattern: **/testng-results.xml\r\n    Saving reports...\r\n    Processing &#39;/Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/testng/testng-results.xml&#39;\r\n    TestNG Reports Processing: FINISH\r\n    Finished: UNSTABLE\r\n\r\n","title":"Setup breaking in Selenium project in Jenkins but all tests passing","body":"<p>I have a Selenium Java UI automation freestyle project setup at my local Jenkins and after building it I am facing the error, &quot;Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114. The current browser version is 116.0.5845.96.&quot;</p>\n<p>Due to this error, my setup step is breaking which is eventually making the build unstable but all my tests are passing.</p>\n<p>Attaching the setup step error and the console output as well below:</p>\n<pre><code>    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 116.0.5845.96 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome \nHost info: host: 'Vishals-MacBook-Air.local', ip: '2405:201:401d:e834:1d4e:a572:5d7c:4fae%en0'\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.4', java.version: '11.0.20'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\n    at com.qa.opencart.factory.DriverFactory.initDriver(DriverFactory.java:47)\n    at com.qa.opencart.base.BaseTest.setup(BaseTest.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:529)\n    at org.testng.TestRunner.run(TestRunner.java:497)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.access$000(SuiteRunner.java:40)\n    at org.testng.SuiteRunner$SuiteWorker.run(SuiteRunner.java:489)\n    at org.testng.internal.thread.ThreadUtil$1.call(ThreadUtil.java:52)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\n\n    Started by user Vishal Pamnani\nRunning as SYSTEM\nBuilding in workspace /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job\nThe recommended git tool is: NONE\nNo credentials specified\n &gt; git rev-parse --resolve-git-dir /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/.git # timeout=10\nFetching changes from the remote Git repository\n &gt; git config remote.origin.url https://github.com/vishalpamnani/November2022POMSeriesCode # timeout=10\nFetching upstream changes from https://github.com/vishalpamnani/November2022POMSeriesCode\n &gt; git --version # timeout=10\n &gt; git --version # 'git version 2.39.2 (Apple Git-143)'\n &gt; git fetch --tags --force --progress -- https://github.com/vishalpamnani/November2022POMSeriesCode +refs/heads/*:refs/remotes/origin/* # timeout=10\n &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10\nChecking out Revision e1430e2a702e3c86527088e040790422dcc3ca48 (refs/remotes/origin/main)\n &gt; git config core.sparsecheckout # timeout=10\n &gt; git checkout -f e1430e2a702e3c86527088e040790422dcc3ca48 # timeout=10\nCommit message: &quot;added set browser version code in options manager&quot;\n &gt; git rev-list --no-walk 4e661f14c03d38eca0bccbcad65fa7d84e4d500b # timeout=10\nParsing POMs\nEstablished TCP socket on 57753\n[OpenCart Automation Job] $ /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home//bin/java -cp /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-agent-1.14.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/boot/plexus-classworlds-2.7.0.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/conf/logging jenkins.maven3.agent.Maven35Main /Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven /Users/vishalpamnani/.jenkins/war/WEB-INF/lib/remoting-3107.v665000b_51092.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-interceptor-1.14.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.14.jar 57753\n&lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started\nExecuting Maven:  -B -f /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml clean install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------&lt; Naveen2023POMSeries:Naveen2023POMSeries &gt;---------------\n[INFO] Building Naveen2023POMSeries 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- clean:3.2.0:clean (default-clean) @ Naveen2023POMSeries ---\n[INFO] Deleting /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target\n[INFO] \n[INFO] --- resources:3.3.1:resources (default-resources) @ Naveen2023POMSeries ---\n[INFO] skip non existing resourceDirectory /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/src/main/resources\n[INFO] \n[INFO] --- compiler:3.8.1:compile (default-compile) @ Naveen2023POMSeries ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 14 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/classes\n[INFO] \n[INFO] --- resources:3.3.1:testResources (default-testResources) @ Naveen2023POMSeries ---\n[INFO] Copying 3 resources from src/test/resources to target/test-classes\n[INFO] \n[INFO] --- compiler:3.8.1:testCompile (default-testCompile) @ Naveen2023POMSeries ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 5 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/test-classes\n[INFO] \n[INFO] --- surefire:3.0.0-M1:test (default-test) @ Naveen2023POMSeries ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running TestSuite\n...\n... TestNG 6.14.3 by Cédric Beust (cedric@beust.com)\n...\n\nI am in onStart method Login Page Test\nTest Suite started!\nBrowser Name is: chrome\nAug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 115\nI am in onTestStart method loginPageTitleTeststart\nloginPageTitleTeststarted!\nLogin page title is: Account Login\nI am in onTestSuccess method loginPageTitleTestsucceeded\nloginPageTitleTestpassed!\nI am in onTestStart method loginPageURLTeststart\nloginPageURLTeststarted!\nLogin page url is: https://naveenautomationlabs.com/opencart/index.php?route=account/login\nI am in onTestSuccess method loginPageURLTestsucceeded\nloginPageURLTestpassed!\nI am in onTestStart method forgotPasswordLinkExistTeststart\nforgotPasswordLinkExistTeststarted!\nI am in onTestSuccess method forgotPasswordLinkExistTestsucceeded\nforgotPasswordLinkExistTestpassed!\nI am in onTestStart method loginTeststart\nloginTeststarted!\nApp credentials are: best@yopmail.com : Trying@123\nI am in onTestSuccess method loginTestsucceeded\nloginTestpassed!\nI am in onFinish method Login Page Test\nTest Suite is ending!\nlog4j:WARN No appenders could be found for logger (freemarker.cache).\nlog4j:WARN Please initialize the log4j system properly.\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.816 s - in TestSuite\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[JENKINS] Recording test results\n[INFO] \n[INFO] --- jar:3.3.0:jar (default-jar) @ Naveen2023POMSeries ---\n[INFO] Building jar: /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\n[INFO] \n[INFO] --- install:3.1.1:install (default-install) @ Naveen2023POMSeries ---\n[INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\n[INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  13.469 s\n[INFO] Finished at: 2023-08-23T16:15:12+05:30\n[INFO] ------------------------------------------------------------------------\nWaiting for Jenkins to finish collecting data\n[JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\n[JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\nchannel stopped\n[OpenCart Automation Job] $ /Users/vishalpamnani/.jenkins/tools/ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation/allure/bin/allure generate &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history/history&quot; -c -o &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report&quot;\nReport successfully generated to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report\nAllure report was successfully generated.\nCreating artifact for the build.\nArtifact was added to the build.\nBuild step 'Allure Report' changed build result to UNSTABLE\n[htmlpublisher] Archiving HTML reports...\n[htmlpublisher] Archiving at BUILD level /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/reports to /Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/htmlreports/Extent_20HTML_20Report\nTestNG Reports Processing: START\nLooking for TestNG results report in workspace using pattern: **/testng-results.xml\nSaving reports...\nProcessing '/Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/testng/testng-results.xml'\nTestNG Reports Processing: FINISH\nFinished: UNSTABLE\n</code></pre>\n"},{"tags":["java","android","google-ads-api"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1692832804,"post_id":76961151,"comment_id":135679328,"body_markdown":"What is the error exactly?","body":"What is the error exactly?"},{"owner":{"account_id":29250126,"reputation":11,"user_id":22409668,"display_name":"Sinan_KECE"},"score":0,"creation_date":1692955926,"post_id":76961151,"comment_id":135698173,"body_markdown":"error is adSize adSize attribute not found","body":"error is adSize adSize attribute not found"}],"owner":{"account_id":29250126,"reputation":11,"user_id":22409668,"display_name":"Sinan_KECE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692794843,"creation_date":1692792045,"question_id":76961151,"body_markdown":"\r\n```\r\nAdRequest adRequest = new AdRequest.Builder()\r\n                .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\r\n                .build();\r\n\r\n        adView.loadAd(adRequest);\r\n```\r\n\r\n    ads:adSize=&quot;BANNER&quot;\r\n\r\nads code is errorring\r\n\r\nThis is the Code But .addTestDevice is erroring how can ı add addTestDevice\r\nThis is the code thanks","title":"How to add a addTestDevice in Android studio","body":"<pre><code>AdRequest adRequest = new AdRequest.Builder()\n                .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\n                .build();\n\n        adView.loadAd(adRequest);\n</code></pre>\n<pre><code>ads:adSize=&quot;BANNER&quot;\n</code></pre>\n<p>ads code is errorring</p>\n<p>This is the Code But .addTestDevice is erroring how can ı add addTestDevice\nThis is the code thanks</p>\n"},{"tags":["java","regex","string"],"answers":[{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1314309450,"post_id":7197717,"comment_id":8645508,"body_markdown":"Be warned that `\\s` is broken in Java on U+00A0, `NO-BREAK SPACE`.  This just bit sometbody yesterday here.","body":"Be warned that <code>\\s</code> is broken in Java on U+00A0, <code>NO-BREAK SPACE</code>.  This just bit sometbody yesterday here."}],"tags":[],"owner":{"account_id":218391,"reputation":3815,"user_id":474693,"accept_rate":67,"display_name":"Jong Bor Lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314309375,"creation_date":1314309375,"answer_id":7197717,"question_id":7197618,"body_markdown":"This should give the desired output.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;abc     123 xyz&quot;;\r\n    \t\tString[] result = s.split(&quot;\\\\s+&quot;,2);\r\n    \t\tSystem.out.println(&quot;Result: &quot;+result[1]);\r\n    \t}\r\n    }","title":"How do I get the remaining text after the first occurrence of a word following whitespace?","body":"<p>This should give the desired output.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String s = \"abc     123 xyz\";\n        String[] result = s.split(\"\\\\s+\",2);\n        System.out.println(\"Result: \"+result[1]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":774236,"reputation":1,"user_id":913024,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692794330,"creation_date":1314308846,"question_id":7197618,"body_markdown":"Example:\r\n\r\n&lt;pre&gt;abc     123 xyz&lt;/pre&gt;\r\n\r\nExpected result:\r\n\r\n&lt;pre&gt;123 xyz&lt;/pre&gt;\r\n\r\nThe two strings could be separated by one or more whitespace characters. The text is abritary and there is no guarantee to the number of whitespace and non-whitespace characters.\r\n\r\n","title":"How do I get the remaining text after the first occurrence of a word following whitespace?","body":"<p>Example:</p>\n\n<pre>abc     123 xyz</pre>\n\n<p>Expected result:</p>\n\n<pre>123 xyz</pre>\n\n<p>The two strings could be separated by one or more whitespace characters. The text is abritary and there is no guarantee to the number of whitespace and non-whitespace characters.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":0,"creation_date":1319426535,"post_id":7871007,"comment_id":9603314,"body_markdown":"Are you constructing a separate Matcher for each line, or one for the entire contents of the file, or something else? Some code would be nice.","body":"Are you constructing a separate Matcher for each line, or one for the entire contents of the file, or something else? Some code would be nice."},{"owner":{"account_id":446533,"reputation":550,"user_id":839628,"accept_rate":86,"display_name":"Pengume"},"score":0,"creation_date":1319426765,"post_id":7871007,"comment_id":9603339,"body_markdown":"no not separate matcher for each line. one for the entire file right now.  and loop through finding all text using this regex = &quot;&lt;[^&lt;?!&gt;]+&gt;&quot; let me see if I can simplify some code to post","body":"no not separate matcher for each line. one for the entire file right now.  and loop through finding all text using this regex = &quot;&lt;[^&lt;?!&gt;]+&gt;&quot; let me see if I can simplify some code to post"}],"answers":[{"comments":[{"owner":{"account_id":446533,"reputation":550,"user_id":839628,"accept_rate":86,"display_name":"Pengume"},"score":0,"creation_date":1319427207,"post_id":7871021,"comment_id":9603387,"body_markdown":"thanks Ernest but I don&#39;t quite understand, I posted some code up to better explain what I was trying to do.","body":"thanks Ernest but I don&#39;t quite understand, I posted some code up to better explain what I was trying to do."},{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":0,"creation_date":1319427956,"post_id":7871021,"comment_id":9603478,"body_markdown":"Before running the above code, run some similar code which finds all the line endings in the file. Keep their file indexes in a list or array. Now you have a list of the first character offset of each line. Then when you&#39;re running your code above, and you call matcher.start() to get an offset and you want to know the line number, you just search through that array until you find the largest entry smaller than your offset. The index of that entry is the line number. There&#39;s really no other way to do this!","body":"Before running the above code, run some similar code which finds all the line endings in the file. Keep their file indexes in a list or array. Now you have a list of the first character offset of each line. Then when you&#39;re running your code above, and you call matcher.start() to get an offset and you want to know the line number, you just search through that array until you find the largest entry smaller than your offset. The index of that entry is the line number. There&#39;s really no other way to do this!"},{"owner":{"account_id":446533,"reputation":550,"user_id":839628,"accept_rate":86,"display_name":"Pengume"},"score":0,"creation_date":1319428209,"post_id":7871021,"comment_id":9603502,"body_markdown":"okay thanks you have confirmed what I was just going to try. Thanks!","body":"okay thanks you have confirmed what I was just going to try. Thanks!"}],"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1319426559,"creation_date":1319426559,"answer_id":7871021,"question_id":7871007,"body_markdown":"You need to separately create an array of the indexes where each line starts, and then you can use this array together with the index returned by `start()` to figure out which line your match is on. A binary search of that line index array would do nicely. You could actually create this list of line indexes also by using a regex that matches a line end (matching just &#39;\\n&#39; would be fine) and then starting each line at the next character.","title":"get line number within matcher.find() using matcher.start()","body":"<p>You need to separately create an array of the indexes where each line starts, and then you can use this array together with the index returned by <code>start()</code> to figure out which line your match is on. A binary search of that line index array would do nicely. You could actually create this list of line indexes also by using a regex that matches a line end (matching just '\\n' would be fine) and then starting each line at the next character.</p>\n"},{"tags":[],"owner":{"account_id":5160313,"reputation":624,"user_id":4132230,"display_name":"Sandeep Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413029248,"creation_date":1413029248,"answer_id":26314471,"question_id":7871007,"body_markdown":"You can use a reverse method to get line number by creating a region from 0 to character number returned from start().\r\n\r\nFor example,\r\n\r\n    class MatchTest {\r\n   \tpublic static void main(String...args) {\r\n   \t\ttry {\r\n   \t\t\tFileInputStream fis = new FileInputStream(&quot;source.txt&quot;);\r\n   \t\t\tbyte[] buffer = new byte[fis.available()];\r\n   \t\t\tfis.read(buffer);\r\n   \t\t\tString data = new String(buffer);\r\n   \t\t\tfis.close();\r\n   \r\n   \t\t\t\t\t\r\n   \t\t\tPattern pattern = Pattern.compile(args[0]);\r\n   \t\t\tMatcher matcher = pattern.matcher(data);\r\n   \t\t\twhile(matcher.find()) {\r\n   \t\t\t\tout.println(matcher.group());\r\n   \t\t\t\tout.println(getLine(data, matcher.start()));\r\n   \r\n   \t\t\t\t\r\n   \t\t\t}\r\n   \t\t}\r\n   \t\tcatch(Exception e) {\r\n   \t\t\te.printStackTrace();\r\n   \t\t}\r\n   \t}\r\n   \r\n   \tstatic int getLine(String data, int start) {\r\n   \t\tint line = 1;\r\n   \t\tPattern pattern = Pattern.compile(&quot;\\n&quot;);\r\n   \t\tMatcher matcher = pattern.matcher(data);\r\n   \t\tmatcher.region(0, start);\r\n   \t\twhile(matcher.find()) {\r\n   \t\t\tline++;\r\n   \t\t}\r\n   \t\treturn(line);\r\n   \t}\r\n   }\r\n\r\nHere, the getLine method will return line number.","title":"get line number within matcher.find() using matcher.start()","body":"<p>You can use a reverse method to get line number by creating a region from 0 to character number returned from start().</p>\n\n<p>For example,</p>\n\n<pre><code>class MatchTest {\npublic static void main(String...args) {\n    try {\n        FileInputStream fis = new FileInputStream(\"source.txt\");\n        byte[] buffer = new byte[fis.available()];\n        fis.read(buffer);\n        String data = new String(buffer);\n        fis.close();\n\n\n        Pattern pattern = Pattern.compile(args[0]);\n        Matcher matcher = pattern.matcher(data);\n        while(matcher.find()) {\n            out.println(matcher.group());\n            out.println(getLine(data, matcher.start()));\n\n\n        }\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n\nstatic int getLine(String data, int start) {\n    int line = 1;\n    Pattern pattern = Pattern.compile(\"\\n\");\n    Matcher matcher = pattern.matcher(data);\n    matcher.region(0, start);\n    while(matcher.find()) {\n        line++;\n    }\n    return(line);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here, the getLine method will return line number.</p>\n"}],"owner":{"account_id":446533,"reputation":550,"user_id":839628,"accept_rate":86,"display_name":"Pengume"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7871021,"answer_count":2,"score":2,"last_activity_date":1692793956,"creation_date":1319426276,"question_id":7871007,"body_markdown":"I am using `while(matcher.find())` to loop through and retrieve things from a file. I was wondering how would I get a line number from within this loop, if I knew the index of what I have found is at `matcher.start()`.\r\n\r\nI am confused, could someone please explain? \r\n\r\n     String expr = &quot;&lt;[^&lt;?!&gt;]+&gt;&quot;;\r\n\t\t String[] response = new String[5];\r\n\t\t   \r\n\t\t    Pattern p = Pattern.compile(expr);\r\n\t\t    Matcher m = p.matcher(xmlDocument);\r\n\t\t    while (m.find()) {\r\n\t\t    //\tSystem.out.println(m.group() + &quot; located at &quot; + m.start());\r\n\t\t   //   txtMatches.append(m.group() + &quot; located at &quot; + m.start() + &quot;\\n&quot;);\r\n\t\t    \tif (itemStack.getCount() == 0 &amp;&amp; m.group().contains(&quot;&lt;/&quot;)) {\r\n\t\t    \t\tresponse[0] = &quot;Orphan closing tag&quot; ; \r\n\t\t    \t\tresponse[1] = stripUnwantedChars(m.group(), true); \r\n\t\t    \t\tresponse[2] =  String.valueOf(m.start()); //right here is where i want to return line number\r\n\t\t    \t\treturn response; \r\n\t\t    \t}\r\n            //rest of code\r\n\r\n`itemStack` is a stack of pushed matches and then I am comparing them to see if there is no more items in the stack but there is a match with a closing tag.","title":"get line number within matcher.find() using matcher.start()","body":"<p>I am using <code>while(matcher.find())</code> to loop through and retrieve things from a file. I was wondering how would I get a line number from within this loop, if I knew the index of what I have found is at <code>matcher.start()</code>.</p>\n\n<p>I am confused, could someone please explain? </p>\n\n<pre><code> String expr = \"&lt;[^&lt;?!&gt;]+&gt;\";\n     String[] response = new String[5];\n\n        Pattern p = Pattern.compile(expr);\n        Matcher m = p.matcher(xmlDocument);\n        while (m.find()) {\n        //  System.out.println(m.group() + \" located at \" + m.start());\n       //   txtMatches.append(m.group() + \" located at \" + m.start() + \"\\n\");\n            if (itemStack.getCount() == 0 &amp;&amp; m.group().contains(\"&lt;/\")) {\n                response[0] = \"Orphan closing tag\" ; \n                response[1] = stripUnwantedChars(m.group(), true); \n                response[2] =  String.valueOf(m.start()); //right here is where i want to return line number\n                return response; \n            }\n        //rest of code\n</code></pre>\n\n<p><code>itemStack</code> is a stack of pushed matches and then I am comparing them to see if there is no more items in the stack but there is a match with a closing tag.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":185612,"reputation":10607,"user_id":422437,"accept_rate":84,"display_name":"Sandeep Pathak"},"score":0,"creation_date":1334311818,"post_id":10138885,"comment_id":12998372,"body_markdown":"So how to make it not allow single or multiple spaces in between . Do I need to do it separately ?","body":"So how to make it not allow single or multiple spaces in between . Do I need to do it separately ?"},{"owner":{"account_id":208799,"reputation":18960,"user_id":459517,"accept_rate":83,"display_name":"Robbie"},"score":0,"creation_date":1334312038,"post_id":10138885,"comment_id":12998463,"body_markdown":"No, this should just work as is. single or multiple spaces will not be allowed by this. The suggestion by @rodion to use `\\S` is also a good one, but would produce similar results. I might favour it as it is more specific about what is (not) being matched.","body":"No, this should just work as is. single or multiple spaces will not be allowed by this. The suggestion by @rodion to use <code>\\S</code> is also a good one, but would produce similar results. I might favour it as it is more specific about what is (not) being matched."},{"owner":{"account_id":185612,"reputation":10607,"user_id":422437,"accept_rate":84,"display_name":"Sandeep Pathak"},"score":0,"creation_date":1334313619,"post_id":10138885,"comment_id":12998993,"body_markdown":"Can you please provide some additional check to the above check in the Original post ? The expression you suggested does not seem to working for few cases .","body":"Can you please provide some additional check to the above check in the Original post ? The expression you suggested does not seem to working for few cases ."},{"owner":{"account_id":208799,"reputation":18960,"user_id":459517,"accept_rate":83,"display_name":"Robbie"},"score":0,"creation_date":1334314029,"post_id":10138885,"comment_id":12999128,"body_markdown":"@SandeepPathak i&#39;m happy to add additional info, what cases are not matching? If i know that i might better understand what you need.","body":"@SandeepPathak i&#39;m happy to add additional info, what cases are not matching? If i know that i might better understand what you need."},{"owner":{"account_id":45707,"reputation":6613,"user_id":134848,"accept_rate":100,"display_name":"krystan honour"},"score":0,"creation_date":1334314104,"post_id":10138885,"comment_id":12999150,"body_markdown":"@SandeepPathak would be useful if you showed us what those cases are","body":"@SandeepPathak would be useful if you showed us what those cases are"},{"owner":{"account_id":185612,"reputation":10607,"user_id":422437,"accept_rate":84,"display_name":"Sandeep Pathak"},"score":0,"creation_date":1334314688,"post_id":10138885,"comment_id":12999341,"body_markdown":"@All : The case is :  only AlphaNumeric values , $, _ and # are allowed . No other characters will be allowed  + We should not allow spaces in between also .","body":"@All : The case is :  only AlphaNumeric values , $, _ and # are allowed . No other characters will be allowed  + We should not allow spaces in between also ."},{"owner":{"account_id":208799,"reputation":18960,"user_id":459517,"accept_rate":83,"display_name":"Robbie"},"score":0,"creation_date":1334319569,"post_id":10138885,"comment_id":13001152,"body_markdown":"@SandeepPathak looks like you&#39;ve already got your solution, but i&#39;ve updated the answer based on your new requirements.","body":"@SandeepPathak looks like you&#39;ve already got your solution, but i&#39;ve updated the answer based on your new requirements."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1334321108,"post_id":10138885,"comment_id":13001789,"body_markdown":"@Robbie: `\\w` is equivalent to `[A-Za-z0-9_]`, so the `\\d` amd `_` in your regex are redundant.","body":"@Robbie: <code>\\w</code> is equivalent to <code>[A-Za-z0-9_]</code>, so the <code>\\d</code> amd <code>_</code> in your regex are redundant."}],"tags":[],"owner":{"account_id":208799,"reputation":18960,"user_id":459517,"accept_rate":83,"display_name":"Robbie"},"comment_count":8,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1334350284,"creation_date":1334311516,"answer_id":10138885,"question_id":10138828,"body_markdown":"Your regular expression matches either a single digit, OR any single char that is NOT a word OR any single char that is a white space char.\r\n\r\nAny of those three alternatives must start at the beginning of the subject because you have `^` in each alternation.\r\n\r\nBased on your description, i think you want an expression like this:\r\n\r\n    ^[\\w#$]+$\r\n\r\nWhich will match anything containing one or more word characters `[A-Za-z0-9_]`, hash `#`, and dollar `$`. Word characters do not include spaces, so this should work.\r\n\r\nI&#39;ve added anchors `^` and `$` which ensure that it only matches the whole string (is this what you want?) If you just want it to match at the beginning as in your example, then remove the `$`.\r\n\r\nNote that as in your example, you will need to escape the `\\` in your java code like this:\r\n\r\n    Pattern p = Pattern.compile(&quot;^[\\\\w#$]+$&quot;);\r\n\r\n    ","title":"Java Regular Expression","body":"<p>Your regular expression matches either a single digit, OR any single char that is NOT a word OR any single char that is a white space char.</p>\n\n<p>Any of those three alternatives must start at the beginning of the subject because you have <code>^</code> in each alternation.</p>\n\n<p>Based on your description, i think you want an expression like this:</p>\n\n<pre><code>^[\\w#$]+$\n</code></pre>\n\n<p>Which will match anything containing one or more word characters <code>[A-Za-z0-9_]</code>, hash <code>#</code>, and dollar <code>$</code>. Word characters do not include spaces, so this should work.</p>\n\n<p>I've added anchors <code>^</code> and <code>$</code> which ensure that it only matches the whole string (is this what you want?) If you just want it to match at the beginning as in your example, then remove the <code>$</code>.</p>\n\n<p>Note that as in your example, you will need to escape the <code>\\</code> in your java code like this:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^[\\\\w#$]+$\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":185612,"reputation":10607,"user_id":422437,"accept_rate":84,"display_name":"Sandeep Pathak"},"score":0,"creation_date":1334313643,"post_id":10138922,"comment_id":12999003,"body_markdown":"Can you please provide some additional check to the above check in the Original post ? The expression you suggested does not seem to working for few cases.","body":"Can you please provide some additional check to the above check in the Original post ? The expression you suggested does not seem to working for few cases."}],"tags":[],"owner":{"account_id":56438,"reputation":14829,"user_id":169045,"accept_rate":89,"display_name":"rodion"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334311715,"creation_date":1334311715,"answer_id":10138922,"question_id":10138828,"body_markdown":"To add to other answers: I think you are looking for a pattern like `&quot;^\\\\S*$&quot;`, which means: match any number of non-space characters (`\\\\S*`) from beginning (`^`) to the end (`$`).","title":"Java Regular Expression","body":"<p>To add to other answers: I think you are looking for a pattern like <code>\"^\\\\S*$\"</code>, which means: match any number of non-space characters (<code>\\\\S*</code>) from beginning (<code>^</code>) to the end (<code>$</code>).</p>\n"}],"owner":{"account_id":185612,"reputation":10607,"user_id":422437,"accept_rate":84,"display_name":"Sandeep Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10138885,"answer_count":2,"score":1,"last_activity_date":1692793824,"creation_date":1334311309,"question_id":10138828,"body_markdown":"I have a below peace of code :\r\n\r\n         Pattern p = Pattern.compile(&quot;^\\\\d|^\\\\W|^\\\\s&quot;);\r\n         Matcher m = p.matcher(&quot;stack overflow&quot;);\r\n\r\nCan somebody explain the above regex pattern ? What it does ? \r\nI have to make it not allow spaces in between with the existing functionality .e.g. it should not allow &quot;stack overflow &quot; since it contains spaces . \r\n\r\n**EDIT**\r\n\r\n\r\nBelow  pattern I tried is working fine for me . Thanks all for your suggestion:\r\n   \r\n\r\n    [a-zA-Z0-9_$#]\r\n\r\n","title":"Java Regular Expression","body":"<p>I have a below peace of code :</p>\n\n<pre><code>     Pattern p = Pattern.compile(\"^\\\\d|^\\\\W|^\\\\s\");\n     Matcher m = p.matcher(\"stack overflow\");\n</code></pre>\n\n<p>Can somebody explain the above regex pattern ? What it does ? \nI have to make it not allow spaces in between with the existing functionality .e.g. it should not allow \"stack overflow \" since it contains spaces . </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Below  pattern I tried is working fine for me . Thanks all for your suggestion:</p>\n\n<pre><code>[a-zA-Z0-9_$#]\n</code></pre>\n"},{"tags":["java","regex","newline"],"comments":[{"owner":{"account_id":411534,"reputation":2703,"user_id":784043,"accept_rate":50,"display_name":"RokL"},"score":0,"creation_date":1333107709,"post_id":9942036,"comment_id":12693740,"body_markdown":"You should change `      itemLines.append(text.substring(matcher.start(), matcher.end())\n                + &quot;\\n&quot;);` to `itemLines.append(matcher.group()); itemLines.append(&#39;\\n&#39;);`\n\nYou shouldn&#39;t do string concatenations using + when you have string buffer at hand. Also I would use StringBuilder instead of StringBuffer.","body":"You should change `      itemLines.append(text.substring(matcher.start(), matcher.end())                 + &quot;\\n&quot;);` to <code>itemLines.append(matcher.group()); itemLines.append(&#39;\\n&#39;);</code>  You shouldn&#39;t do string concatenations using + when you have string buffer at hand. Also I would use StringBuilder instead of StringBuffer."}],"answers":[{"tags":[],"owner":{"account_id":1266891,"reputation":9885,"user_id":1224016,"accept_rate":80,"display_name":"Michał Kosmulski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333107085,"creation_date":1333107085,"answer_id":9942105,"question_id":9942036,"body_markdown":"Use `Pattern.compile(patternHolder, Pattern.DOTALL)` to compile the pattern. This way the dot will match the newline. By default, newline is treated in a special way and not matched by the dot.","title":"Pattern/Matcher in Java?","body":"<p>Use <code>Pattern.compile(patternHolder, Pattern.DOTALL)</code> to compile the pattern. This way the dot will match the newline. By default, newline is treated in a special way and not matched by the dot.</p>\n"},{"comments":[{"owner":{"account_id":989343,"reputation":3301,"user_id":1007059,"accept_rate":77,"display_name":"ZimZim"},"score":0,"creation_date":1333116285,"post_id":9942117,"comment_id":12697147,"body_markdown":"Thanks you sir, that was incredibly helpful!","body":"Thanks you sir, that was incredibly helpful!"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1333122678,"creation_date":1333107135,"answer_id":9942117,"question_id":9942036,"body_markdown":"Use this instead:\n\n    Pattern.compile(patternHolder, Pattern.DOTALL);\n\nFrom the [javadoc][1], the `DOTALL` flag means:\n\n&gt; Enables dotall mode.\n&gt;\n&gt; In dotall mode, the expression . matches any character, including a line terminator. By default this expression does not match line terminators.\n\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Pattern/Matcher in Java?","body":"<p>Use this instead:</p>\n<pre><code>Pattern.compile(patternHolder, Pattern.DOTALL);\n</code></pre>\n<p>From the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"noreferrer\">javadoc</a>, the <code>DOTALL</code> flag means:</p>\n<blockquote>\n<p>Enables dotall mode.</p>\n<p>In dotall mode, the expression . matches any character, including a line terminator. By default this expression does not match line terminators.</p>\n</blockquote>\n"}],"owner":{"account_id":989343,"reputation":3301,"user_id":1007059,"accept_rate":77,"display_name":"ZimZim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9942117,"answer_count":2,"score":3,"last_activity_date":1692793816,"creation_date":1333106801,"question_id":9942036,"body_markdown":"I have a certain text in Java, and I want to use pattern and matcher to extract something from it. This is my program: \r\n\r\n    public String getItemsByType(String text, String start, String end) {\r\n\r\n\t\tString patternHolder;\r\n\t\tStringBuffer itemLines = new StringBuffer();\r\n\r\n\t\tpatternHolder = start + &quot;.*&quot; + end;\r\n\r\n\t\tPattern pattern = Pattern.compile(patternHolder);\r\n\t\tMatcher matcher = pattern.matcher(text);\r\n\r\n\t\twhile (matcher.find()) {\r\n\t\t\titemLines.append(text.substring(matcher.start(), matcher.end())\r\n\t\t\t\t\t+ &quot;\\n&quot;);\r\n\t\t}\r\n\r\n\t\treturn itemLines.toString();\r\n\t}\r\n\r\nThis code works fully WHEN the searched text is on the same line, for instance: \r\n\r\n    String text = &quot;My name is John and I am 18 years Old&quot;; \r\n    \r\n    getItemsByType(text, &quot;My&quot;, &quot;John&quot;);\r\n\r\nimmediately grabs the text &quot;My name is John&quot; out of the text. However, when my text looks like this: \r\n\r\n    String text = &quot;My name\\nis John\\nand I&#39;m\\n18 years\\nold&quot;; \r\n    \r\n    getItemsByType(text, &quot;My&quot;, &quot;John&quot;); \r\n\r\nIt doesn&#39;t grab anything, since &quot;My&quot; and &quot;John&quot; are on different lines. How do I solve this? ","title":"Pattern/Matcher in Java?","body":"<p>I have a certain text in Java, and I want to use pattern and matcher to extract something from it. This is my program: </p>\n\n<pre><code>public String getItemsByType(String text, String start, String end) {\n\n    String patternHolder;\n    StringBuffer itemLines = new StringBuffer();\n\n    patternHolder = start + \".*\" + end;\n\n    Pattern pattern = Pattern.compile(patternHolder);\n    Matcher matcher = pattern.matcher(text);\n\n    while (matcher.find()) {\n        itemLines.append(text.substring(matcher.start(), matcher.end())\n                + \"\\n\");\n    }\n\n    return itemLines.toString();\n}\n</code></pre>\n\n<p>This code works fully WHEN the searched text is on the same line, for instance: </p>\n\n<pre><code>String text = \"My name is John and I am 18 years Old\"; \n\ngetItemsByType(text, \"My\", \"John\");\n</code></pre>\n\n<p>immediately grabs the text \"My name is John\" out of the text. However, when my text looks like this: </p>\n\n<pre><code>String text = \"My name\\nis John\\nand I'm\\n18 years\\nold\"; \n\ngetItemsByType(text, \"My\", \"John\"); \n</code></pre>\n\n<p>It doesn't grab anything, since \"My\" and \"John\" are on different lines. How do I solve this? </p>\n"},{"tags":["java","regex","parsing","key-value"],"answers":[{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332234102,"creation_date":1332234102,"answer_id":9783849,"question_id":9783733,"body_markdown":"    StringBuffer s = new StringBuffer(&quot;ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations&quot;);\r\n\tint i = s.indexOf(&quot;ID2&quot;);\r\n\ts.insert(i, &quot;\\n&quot;);\r\n\ti = s.indexOf(&quot;TYPE&quot;);\r\n\ts.insert(i, &quot;\\n&quot;);\r\n        //............The rest code for other keywords\r\n\r\nNOTE: This is just a temporary solution what I know, there may be some more efficient logic.","title":"How do I parse a log line in Java delimited by keywords?","body":"<pre><code>StringBuffer s = new StringBuffer(\"ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations\");\nint i = s.indexOf(\"ID2\");\ns.insert(i, \"\\n\");\ni = s.indexOf(\"TYPE\");\ns.insert(i, \"\\n\");\n    //............The rest code for other keywords\n</code></pre>\n\n<p>NOTE: This is just a temporary solution what I know, there may be some more efficient logic.</p>\n"},{"tags":[],"owner":{"account_id":312289,"reputation":91007,"user_id":626273,"accept_rate":92,"display_name":"stema"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1332234531,"creation_date":1332234531,"answer_id":9783947,"question_id":9783733,"body_markdown":"The main problem in your expression are the square brackets, they create a [character class][1], this matches exactly one character from those inside.\r\n\r\n    (ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\r\n                                                        ^                                  ^\r\n\r\nI made the alternation at the end also a [positive lookahead assertion][2] (The group starting with `?=`), so this is not matched, just ensured that one of those alternatives are ahead. I added also the end of the string `$` to the alternation.\r\n\r\n    (ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*(?=ID1|ID2|TYPE|DATE|CLASS|SUBCLASS|$)\r\n\r\nSee it [here on Regexr][3], a good tool to test regular expressions!\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/charclass.html\r\n  [2]: http://www.regular-expressions.info/lookaround.html\r\n  [3]: http://regexr.com?30ch8","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>The main problem in your expression are the square brackets, they create a <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow\">character class</a>, this matches exactly one character from those inside.</p>\n\n<pre><code>(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\n                                                    ^                                  ^\n</code></pre>\n\n<p>I made the alternation at the end also a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">positive lookahead assertion</a> (The group starting with <code>?=</code>), so this is not matched, just ensured that one of those alternatives are ahead. I added also the end of the string <code>$</code> to the alternation.</p>\n\n<pre><code>(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*(?=ID1|ID2|TYPE|DATE|CLASS|SUBCLASS|$)\n</code></pre>\n\n<p>See it <a href=\"http://regexr.com?30ch8\" rel=\"nofollow\">here on Regexr</a>, a good tool to test regular expressions!</p>\n"},{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332234578,"creation_date":1332234578,"answer_id":9783952,"question_id":9783733,"body_markdown":"You can try this :\n\n            String s = &quot;ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations&quot;;  \n            Pattern pattern = Pattern.compile(&quot;(ID1 :\\\\s+\\\\d+|ID2 :\\\\s+\\\\d+|TYPE :\\\\s+\\\\w+|DATE :\\\\s+\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{3}|CLASS :\\\\s+\\\\w+|SUBCLASS :\\\\s+\\\\w+)&quot;);  \n            Matcher matcher = pattern.matcher(s); \n            String res=&quot;&quot;;\n            while(matcher.find()){\n                res+=matcher.group(0)+System.getProperty(&quot;line.separator&quot;);\n            }\n            System.out.println(res);\n\n\nI assume ID and ID2 are only digits and TYPE, CLASS, SUBCLASS are words.\n\n**Output**\n&gt;ID1 : 0\n&gt;\n&gt;ID2 : 214\n&gt;\n&gt;TYPE : ERROR\n&gt;\n&gt;DATE : 2012-01-11 14:08:07.432\n&gt;\n&gt;CLASS : Maintenance\n&gt;\n&gt;SUBCLASS : Operations","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>You can try this :</p>\n<pre><code>        String s = &quot;ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations&quot;;  \n        Pattern pattern = Pattern.compile(&quot;(ID1 :\\\\s+\\\\d+|ID2 :\\\\s+\\\\d+|TYPE :\\\\s+\\\\w+|DATE :\\\\s+\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{3}|CLASS :\\\\s+\\\\w+|SUBCLASS :\\\\s+\\\\w+)&quot;);  \n        Matcher matcher = pattern.matcher(s); \n        String res=&quot;&quot;;\n        while(matcher.find()){\n            res+=matcher.group(0)+System.getProperty(&quot;line.separator&quot;);\n        }\n        System.out.println(res);\n</code></pre>\n<p>I assume ID and ID2 are only digits and TYPE, CLASS, SUBCLASS are words.</p>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>ID1 : 0</p>\n<p>ID2 : 214</p>\n<p>TYPE : ERROR</p>\n<p>DATE : 2012-01-11 14:08:07.432</p>\n<p>CLASS : Maintenance</p>\n<p>SUBCLASS : Operations</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1230248,"reputation":337,"user_id":1195001,"accept_rate":92,"display_name":"Kiwy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332234828,"creation_date":1332234828,"answer_id":9783997,"question_id":9783733,"body_markdown":"You could probably use a regex like this: &quot;(\\\\w*)\\\\s\\\\:\\\\s([\\\\w\\\\.\\\\-\\\\,]*)\\\\s*&quot;\r\nand use a patern matcher this way:\r\n     \r\n     Pattern p = Pattern.compile(&quot;(\\\\w*)\\\\s\\\\:\\\\s([\\\\w\\\\.\\\\-\\\\,]*)\\\\s*&quot;);\r\n     Matcher matcher = pattern.matcher(s); \r\n        \r\n     while(matcher.find()){\r\n         //your couple &quot;properties + : + value&quot;\r\n         System.out.println( matcher.group(0) );\r\n         //your properties\r\n         System.out.println( matcher.group(1) );\r\n         //your value\r\n         System.out.println( matcher.group(2) );\r\n     }\r\n\r\n ","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>You could probably use a regex like this: \"(\\w*)\\s\\:\\s([\\w\\.\\-\\,]<em>)\\s</em>\"\nand use a patern matcher this way:</p>\n\n<pre><code> Pattern p = Pattern.compile(\"(\\\\w*)\\\\s\\\\:\\\\s([\\\\w\\\\.\\\\-\\\\,]*)\\\\s*\");\n Matcher matcher = pattern.matcher(s); \n\n while(matcher.find()){\n     //your couple \"properties + : + value\"\n     System.out.println( matcher.group(0) );\n     //your properties\n     System.out.println( matcher.group(1) );\n     //your value\n     System.out.println( matcher.group(2) );\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1329238,"reputation":46,"user_id":1273466,"display_name":"fanzhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332234952,"creation_date":1332234952,"answer_id":9784020,"question_id":9783733,"body_markdown":"    public static String format(String line) {\r\n\t\treturn\r\n\t\tline.replaceFirst(&quot;ID2&quot;, &quot;\\nID2&quot;)\r\n\t\t.replaceFirst(&quot;ID1&quot;, &quot;\\nID1&quot;)\r\n\t\t.replaceFirst(&quot;TYPE&quot;, &quot;\\nTYPE&quot;)\r\n\t\t.replaceFirst(&quot;DATE&quot;, &quot;\\nDATE&quot;)\r\n\t\t.replaceFirst(&quot;CLASS&quot;, &quot;\\nCLASS&quot;)\r\n\t\t.replaceFirst(&quot;SUBCLASS&quot;, &quot;\\nSUBCLASS&quot;);\r\n\t}","title":"How do I parse a log line in Java delimited by keywords?","body":"<pre><code>public static String format(String line) {\n    return\n    line.replaceFirst(\"ID2\", \"\\nID2\")\n    .replaceFirst(\"ID1\", \"\\nID1\")\n    .replaceFirst(\"TYPE\", \"\\nTYPE\")\n    .replaceFirst(\"DATE\", \"\\nDATE\")\n    .replaceFirst(\"CLASS\", \"\\nCLASS\")\n    .replaceFirst(\"SUBCLASS\", \"\\nSUBCLASS\");\n}\n</code></pre>\n"}],"owner":{"account_id":1025610,"reputation":201,"user_id":1034976,"accept_rate":62,"display_name":"amor214"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9783947,"answer_count":5,"score":3,"last_activity_date":1692793795,"creation_date":1332233446,"question_id":9783733,"body_markdown":"I&#39;m working on a log parser that should parse a line like this:\r\n\r\n    ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations\r\n\r\nID1, ID2, TYPE, DATE, CLASS, and SUBCLASS are all keywords and I want to have something like this:\r\n\r\n    ID1 : 0  \r\n    ID2 : 214  \r\n    TYPE : ERROR  \r\n    DATE : 2012-01-11 14:08:07.432  \r\n    CLASS : Maintenance  \r\n    SUBCLASS : Operations\r\n\r\nI am really quite new to regex and I have the following:\r\n\r\n    (ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\r\n\r\nOf course, it does not work.\r\n\r\nAny advice will be very much appreciated.","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>I'm working on a log parser that should parse a line like this:</p>\n\n<pre><code>ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations\n</code></pre>\n\n<p>ID1, ID2, TYPE, DATE, CLASS, and SUBCLASS are all keywords and I want to have something like this:</p>\n\n<pre><code>ID1 : 0  \nID2 : 214  \nTYPE : ERROR  \nDATE : 2012-01-11 14:08:07.432  \nCLASS : Maintenance  \nSUBCLASS : Operations\n</code></pre>\n\n<p>I am really quite new to regex and I have the following:</p>\n\n<pre><code>(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\n</code></pre>\n\n<p>Of course, it does not work.</p>\n\n<p>Any advice will be very much appreciated.</p>\n"},{"tags":["java","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":29283088,"reputation":1,"user_id":22435271,"display_name":"yogesh kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692793401,"creation_date":1692793361,"answer_id":76961329,"question_id":75462962,"body_markdown":"Do the required changes to fix this issue:\r\n\r\n      SimpleClientHttpRequestFactory simpleClientHttpRequestFactory = new SimpleClientHttpRequestFactory();\r\n            simpleClientHttpRequestFactory.setOutputStreaming(false);\r\n            BufferingClientHttpRequestFactory requestFactory = new BufferingClientHttpRequestFactory(simpleClientHttpRequestFactory);","title":"HttpRetryException: cannot retry due to server authentication, in streaming mode","body":"<p>Do the required changes to fix this issue:</p>\n<pre><code>  SimpleClientHttpRequestFactory simpleClientHttpRequestFactory = new SimpleClientHttpRequestFactory();\n        simpleClientHttpRequestFactory.setOutputStreaming(false);\n        BufferingClientHttpRequestFactory requestFactory = new BufferingClientHttpRequestFactory(simpleClientHttpRequestFactory);\n</code></pre>\n"}],"owner":{"account_id":27795107,"reputation":1,"user_id":21220811,"display_name":"Alok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692793401,"creation_date":1676479654,"question_id":75462962,"body_markdown":"I am getting this error on a POST request even though i don&#39;t have any retry logic in my code. \r\nMy application is running on spring boot version 2.6.4 and java 17.\r\n\r\n```\r\nI/O error on POST request for {url}: cannot retry due to server authentication, in streaming mode; nested exception is java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.base/java.lang.Thread.run(Thread.java:833)\\n\r\n```\r\n\r\n\r\nBelow is the configuration of restTemplate which application is using for making requests \r\n\r\n\r\n```\r\n@Bean\r\n\tpublic RestTemplate getRestTemplate() {\r\n\t\tClientHttpRequestFactory factory =\r\n\t\t\t\tnew BufferingClientHttpRequestFactory(new SimpleClientHttpRequestFactory());\r\n\t\tRestTemplate restTemplate = new RestTemplate(factory);\r\n\t\tList&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\r\n\t\tif (CollectionUtils.isEmpty(interceptors)) {\r\n\t\t\tinterceptors = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\tinterceptors.add(new LoggingInterceptor());\r\n\t\trestTemplate.setInterceptors(interceptors);\r\n\t\treturn restTemplate;\r\n\t}\r\n```\r\n\r\nWhat could be the reason of this exception ??\r\n\r\nI tried debugging the problem to find out the cause but nothing worked.\r\n","title":"HttpRetryException: cannot retry due to server authentication, in streaming mode","body":"<p>I am getting this error on a POST request even though i don't have any retry logic in my code.\nMy application is running on spring boot version 2.6.4 and java 17.</p>\n<pre><code>I/O error on POST request for {url}: cannot retry due to server authentication, in streaming mode; nested exception is java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:833)\\n\n</code></pre>\n<p>Below is the configuration of restTemplate which application is using for making requests</p>\n<pre><code>@Bean\n    public RestTemplate getRestTemplate() {\n        ClientHttpRequestFactory factory =\n                new BufferingClientHttpRequestFactory(new SimpleClientHttpRequestFactory());\n        RestTemplate restTemplate = new RestTemplate(factory);\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\n        if (CollectionUtils.isEmpty(interceptors)) {\n            interceptors = new ArrayList&lt;&gt;();\n        }\n        interceptors.add(new LoggingInterceptor());\n        restTemplate.setInterceptors(interceptors);\n        return restTemplate;\n    }\n</code></pre>\n<p>What could be the reason of this exception ??</p>\n<p>I tried debugging the problem to find out the cause but nothing worked.</p>\n"},{"tags":["java","ocr","tesseract"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1692793653,"post_id":76961259,"comment_id":135672203,"body_markdown":"[What The Font](https://www.myfonts.com/pages/whatthefont) says this is [Bourgeois Rounded Medium](https://www.myfonts.com/collections/bourgeois-rounded-font-virus).  Can you train Tesseract on that specific font?","body":"<a href=\"https://www.myfonts.com/pages/whatthefont\" rel=\"nofollow noreferrer\">What The Font</a> says this is <a href=\"https://www.myfonts.com/collections/bourgeois-rounded-font-virus\" rel=\"nofollow noreferrer\">Bourgeois Rounded Medium</a>.  Can you train Tesseract on that specific font?"},{"owner":{"account_id":12692819,"reputation":21,"user_id":9222228,"display_name":"The Doctor"},"score":0,"creation_date":1692794863,"post_id":76961259,"comment_id":135672462,"body_markdown":"@RobertHarvey Probably, but I am totally new to Tesseract and training it on a specific font seems pretty involved to me at this point. I would rather like to find an &quot;easier&quot; solution, if possible, using training only as a very last resort :)","body":"@RobertHarvey Probably, but I am totally new to Tesseract and training it on a specific font seems pretty involved to me at this point. I would rather like to find an &quot;easier&quot; solution, if possible, using training only as a very last resort :)"},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1692798075,"post_id":76961259,"comment_id":135673213,"body_markdown":"If your goal is accuracy, training Tesseract on that specific font is your best strategy.","body":"If your goal is accuracy, training Tesseract on that specific font is your best strategy."}],"owner":{"account_id":12692819,"reputation":21,"user_id":9222228,"display_name":"The Doctor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692793210,"creation_date":1692792851,"question_id":76961259,"body_markdown":"Dear StackOverflowers,\r\n\r\nI am currently working on a Java program utilizing bytedecos Tesseract port (https://github.com/bytedeco/javacpp-presets/tree/master/tesseract) to extract text from a very specific kind of images. All images contain 5x5 to 7x7 matrices with each matrix element consisting of a hex number.\r\n\r\nThe example image I currently try to extract from is this one:\r\n[![first image of matrix](https://i.stack.imgur.com/yuSsB.jpg)](https://i.stack.imgur.com/yuSsB.jpg)\r\n\r\nWith some preprocessing and binarization, converted to png:\r\n[![enter image description here](https://i.stack.imgur.com/LJjq1.png)](https://i.stack.imgur.com/LJjq1.png)\r\n\r\nOriginal image size is 395x395, size of preprocessed image is 790x790.\r\n\r\nFor this image, Tesseract gives me the following result (with page segmentation mode 6 automatically chosen by Tesseract itself):\r\n\r\n    1C 55 E9 55 E9\r\n    E9 18 18 BD 18\r\n    55 E9 18 E9 55\r\n    E9 18 55 55 BD\r\n    E9 10 BD 55 55\r\n\r\nMy testcode for text extraction (ignore the `return null` at the end, will be replaced by a proper return value later):\r\n\r\n```\r\nprivate String[] analyseStep(String imagePath) {\r\n        BytePointer outText;\r\n\r\n        TessBaseAPI api = new TessBaseAPI();\r\n        if(api.Init(null, &quot;eng&quot;) != 0) {\r\n            throw new RuntimeException(&quot;Could not initialize Tesseract!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;Analyzing: &quot; + imagePath);\r\n\r\n        PIX image = pixRead(imagePath);\r\n        api.SetImage(image);\r\n        outText = api.GetUTF8Text();\r\n\r\n        System.out.println(&quot;OCR result:\\n&quot; + outText.getString());\r\n\r\n        return null;\r\n    }\r\n```\r\n\r\n\r\nAs you can see, recognition is already good, but it seems to have severe problems with the letter &quot;C&quot; nonetheless, sometimes correctly recognizing it as &quot;C&quot;, sometimes as &quot;8&quot;, sometimes as &quot;0&quot;. This is a big problem, since i have to automatically process the images later, extract the correct text and then perform operations on it, so ideally there are no recognition errors whatsoever.\r\n\r\nI already tried the following operations on the image to improve recognition, all with no improvements as of yet:\r\n- Converting the image from .jpg to .png and .tif\r\n- Color inversion\r\n- Contrast enhancement\r\n- Erosion and Dilation\r\n- Doubling image size from 395x395 to 790x790\r\n- Trying all page segmentation modes of Tesseract (mode 6 &quot;Assume a single uniform block of text.&quot; gives the result above, which is the already the best of all results)\r\n- Splitting the matrix in five rows\r\n\r\nI would greatly appreciate any hint or advice on what else i could try to correctly recognize all letters in the image.\r\n\r\n\r\n**Addendum, maybe unrelated to recognition quality:**\r\nAlso, after each run of Tesseract, i get the following error messages at the end, i don&#39;t know if they have anything to do with the bad recognition quality:\r\n\r\n```\r\nWarning: Parameter not found: enable_new_segsearch\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 00000209807427e0 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatapunc-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742770 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddataword-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742a80 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatanumber-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742380 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatabigram-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742850 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatafreq-dawg)\r\n```\r\n\r\n(I am using Tesseract with Maven in IntelliJ. Dependency from pom.xml if this helps:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tesseract-platform&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1-1.5.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nContent of tessdata, which i had to download manually:\r\n[![enter image description here](https://i.stack.imgur.com/hxUlZ.jpg)](https://i.stack.imgur.com/hxUlZ.jpg)\r\n)","title":"Can&#39;t get better OCR recognition quality with Tesseract in Java for specific samples","body":"<p>Dear StackOverflowers,</p>\n<p>I am currently working on a Java program utilizing bytedecos Tesseract port (<a href=\"https://github.com/bytedeco/javacpp-presets/tree/master/tesseract\" rel=\"nofollow noreferrer\">https://github.com/bytedeco/javacpp-presets/tree/master/tesseract</a>) to extract text from a very specific kind of images. All images contain 5x5 to 7x7 matrices with each matrix element consisting of a hex number.</p>\n<p>The example image I currently try to extract from is this one:\n<a href=\"https://i.stack.imgur.com/yuSsB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yuSsB.jpg\" alt=\"first image of matrix\" /></a></p>\n<p>With some preprocessing and binarization, converted to png:\n<a href=\"https://i.stack.imgur.com/LJjq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJjq1.png\" alt=\"enter image description here\" /></a></p>\n<p>Original image size is 395x395, size of preprocessed image is 790x790.</p>\n<p>For this image, Tesseract gives me the following result (with page segmentation mode 6 automatically chosen by Tesseract itself):</p>\n<pre><code>1C 55 E9 55 E9\nE9 18 18 BD 18\n55 E9 18 E9 55\nE9 18 55 55 BD\nE9 10 BD 55 55\n</code></pre>\n<p>My testcode for text extraction (ignore the <code>return null</code> at the end, will be replaced by a proper return value later):</p>\n<pre><code>private String[] analyseStep(String imagePath) {\n        BytePointer outText;\n\n        TessBaseAPI api = new TessBaseAPI();\n        if(api.Init(null, &quot;eng&quot;) != 0) {\n            throw new RuntimeException(&quot;Could not initialize Tesseract!&quot;);\n        }\n\n        System.out.println(&quot;Analyzing: &quot; + imagePath);\n\n        PIX image = pixRead(imagePath);\n        api.SetImage(image);\n        outText = api.GetUTF8Text();\n\n        System.out.println(&quot;OCR result:\\n&quot; + outText.getString());\n\n        return null;\n    }\n</code></pre>\n<p>As you can see, recognition is already good, but it seems to have severe problems with the letter &quot;C&quot; nonetheless, sometimes correctly recognizing it as &quot;C&quot;, sometimes as &quot;8&quot;, sometimes as &quot;0&quot;. This is a big problem, since i have to automatically process the images later, extract the correct text and then perform operations on it, so ideally there are no recognition errors whatsoever.</p>\n<p>I already tried the following operations on the image to improve recognition, all with no improvements as of yet:</p>\n<ul>\n<li>Converting the image from .jpg to .png and .tif</li>\n<li>Color inversion</li>\n<li>Contrast enhancement</li>\n<li>Erosion and Dilation</li>\n<li>Doubling image size from 395x395 to 790x790</li>\n<li>Trying all page segmentation modes of Tesseract (mode 6 &quot;Assume a single uniform block of text.&quot; gives the result above, which is the already the best of all results)</li>\n<li>Splitting the matrix in five rows</li>\n</ul>\n<p>I would greatly appreciate any hint or advice on what else i could try to correctly recognize all letters in the image.</p>\n<p><strong>Addendum, maybe unrelated to recognition quality:</strong>\nAlso, after each run of Tesseract, i get the following error messages at the end, i don't know if they have anything to do with the bad recognition quality:</p>\n<pre><code>Warning: Parameter not found: enable_new_segsearch\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 00000209807427e0 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatapunc-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742770 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddataword-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742a80 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatanumber-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742380 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatabigram-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742850 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatafreq-dawg)\n</code></pre>\n<p>(I am using Tesseract with Maven in IntelliJ. Dependency from pom.xml if this helps:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n            &lt;artifactId&gt;tesseract-platform&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1-1.5.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Content of tessdata, which i had to download manually:\n<a href=\"https://i.stack.imgur.com/hxUlZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hxUlZ.jpg\" alt=\"enter image description here\" /></a>\n)</p>\n"},{"tags":["java","git","jgit"],"comments":[{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1492496866,"post_id":43445457,"comment_id":73985484,"body_markdown":"Possible duplicate of [Is partial checkout supported by JGit 3.7?](http://stackoverflow.com/questions/29505919/is-partial-checkout-supported-by-jgit-3-7)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/29505919/is-partial-checkout-supported-by-jgit-3-7\">Is partial checkout supported by JGit 3.7?</a>"}],"answers":[{"comments":[{"owner":{"account_id":4924093,"reputation":41,"user_id":3965846,"display_name":"sabari "},"score":0,"creation_date":1492408081,"post_id":43445717,"comment_id":73947809,"body_markdown":"I tried it, no use. And as well , I only want to checkout a particular folder from a unique branch,  and checking out straight away from origin/ would give me the entire merged code, wouldn&#39;t it? And I don&#39;t want that.","body":"I tried it, no use. And as well , I only want to checkout a particular folder from a unique branch,  and checking out straight away from origin/ would give me the entire merged code, wouldn&#39;t it? And I don&#39;t want that."},{"owner":{"account_id":10368452,"reputation":374,"user_id":7646830,"display_name":"zachi"},"score":0,"creation_date":1492409273,"post_id":43445717,"comment_id":73948189,"body_markdown":"I think what you want to do is a `sparse checkout`. Pls check this link\nhttps://git-scm.com/book/en/v2/Git-Basics-Viewing-the-Commit-History","body":"I think what you want to do is a <code>sparse checkout</code>. Pls check this link <a href=\"https://git-scm.com/book/en/v2/Git-Basics-Viewing-the-Commit-History\" rel=\"nofollow noreferrer\">git-scm.com/book/en/v2/Git-Basics-Viewing-the-Commit-History</a>"}],"tags":[],"owner":{"account_id":10368452,"reputation":374,"user_id":7646830,"display_name":"zachi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492409367,"creation_date":1492407258,"answer_id":43445717,"question_id":43445457,"body_markdown":"Try making changes in the checkout part like this\r\n\r\n`&quot;origin/&quot;`\r\n\r\nand give it a try.\r\n \r\nOtherwise you want to do is a `sparse checkout`\r\n\r\nhttps://stackoverflow.com/questions/14407461/how-do-i-implement-sparse-checkout-in-jgit","title":"How to checkout a certain folder with JGit","body":"<p>Try making changes in the checkout part like this</p>\n\n<p><code>\"origin/\"</code></p>\n\n<p>and give it a try.</p>\n\n<p>Otherwise you want to do is a <code>sparse checkout</code></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14407461/how-do-i-implement-sparse-checkout-in-jgit\">How do I implement sparse checkout in JGit?</a></p>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692793145,"creation_date":1492424681,"answer_id":43449642,"question_id":43445457,"body_markdown":"In order to check out a particular folder with JGit (a sparse checkout), you need to tell the `CheckoutCommand` which folder to check out.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    git.checkout().setName(&quot;branch-to-check-out&quot;).addPath(&quot;path/to/folder&quot;).call();\r\n\r\n\r\n`addPath()` can be called multiple times to check out each of the given paths. The path is interpreted relative to the work directory.","title":"How to checkout a certain folder with JGit","body":"<p>In order to check out a particular folder with JGit (a sparse checkout), you need to tell the <code>CheckoutCommand</code> which folder to check out.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>git.checkout().setName(&quot;branch-to-check-out&quot;).addPath(&quot;path/to/folder&quot;).call();\n</code></pre>\n<p><code>addPath()</code> can be called multiple times to check out each of the given paths. The path is interpreted relative to the work directory.</p>\n"}],"owner":{"account_id":4924093,"reputation":41,"user_id":3965846,"display_name":"sabari "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1909,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43445717,"answer_count":2,"score":0,"last_activity_date":1692793145,"creation_date":1492405659,"question_id":43445457,"body_markdown":"&lt;!-- language: java --&gt;\r\n\r\n    FetchResult fr = git.fetch().setCredentialsProvider(credentials).setCheckFetchedObjects(true).Call();\r\n    git.checkout().setCreateBranch(true).setName(&quot;origin/&quot; + branchName).setStartPoint(&quot;origin/&quot; + branchName + &quot;path/to/folder&quot;).call()\r\n\r\nThis is the code I&#39;m using to check out a single folder from a remote repository.\r\nEquivalent git commands are:\r\n\r\n    git fetch origin\r\n    git checkout origin/branch -- path/to/folder\r\n\r\n \r\n\r\nBut, the Java code doesn&#39;t work for me, I was only able to initialise the local repository and configure remote repository. The checkout didn&#39;t work and I couldn&#39;t find out what mistake I&#39;m making. ","title":"How to checkout a certain folder with JGit","body":"<pre class=\"lang-java prettyprint-override\"><code>FetchResult fr = git.fetch().setCredentialsProvider(credentials).setCheckFetchedObjects(true).Call();\ngit.checkout().setCreateBranch(true).setName(\"origin/\" + branchName).setStartPoint(\"origin/\" + branchName + \"path/to/folder\").call()\n</code></pre>\n\n<p>This is the code I'm using to check out a single folder from a remote repository.\nEquivalent git commands are:</p>\n\n<pre><code>git fetch origin\ngit checkout origin/branch -- path/to/folder\n</code></pre>\n\n<p>But, the Java code doesn't work for me, I was only able to initialise the local repository and configure remote repository. The checkout didn't work and I couldn't find out what mistake I'm making. </p>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692768953,"creation_date":1692768916,"answer_id":76958517,"question_id":76956856,"body_markdown":"Shall you change to the following code ,and use the client.getId() to use the client id?\r\nYou hava to ensure the table in you database named client is exist\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;client&quot;)\r\n        private Client client;","title":"Not saving ClientID in Address","body":"<p>Shall you change to the following code ,and use the client.getId() to use the client id?\nYou hava to ensure the table in you database named client is exist</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;client&quot;)\n    private Client client;\n</code></pre>\n"}],"owner":{"account_id":17737221,"reputation":1,"user_id":12878379,"display_name":"Joaquim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692793093,"creation_date":1692738283,"question_id":76956856,"body_markdown":"#### Client\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;client&quot;)\r\npublic class Client implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;cpf&quot;, nullable = false)\r\n    private String cpf;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n    @Column(name = &quot;registration_data&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM-dd-yyyy HH:mm&quot;, timezone = &quot;GMT&quot;) //ISO 8601\r\n    private Date registrationData;\r\n\r\n    @OneToMany(mappedBy = &quot;clientId&quot;)\r\n    private List&lt;Contact&gt; contacts;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;clientId&quot;)\r\n    @JoinColumn(name = &quot;address&quot;)\r\n    private Address address;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;pets&quot;)\r\n    private List&lt;Pet&gt; pets;\r\n\r\n    @Column(name = &quot;type_profile&quot;, nullable = false)\r\n    private String typeProfile;\r\n\r\n    @Lob\r\n    @Basic(fetch = FetchType.LAZY)\r\n    @Column(name = &quot;image&quot;)\r\n    private byte[] image;\r\n}\r\n```\r\n\r\n#### Address\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name = &quot;address&quot;)\r\npublic class Address implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;clientId&quot;)\r\n    private Client clientId;\r\n\r\n    @Column(name = &quot;publicPlace&quot;)\r\n    private String publicPlace;\r\n\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n\r\n    @Column(name = &quot;district&quot;)\r\n    private String district;\r\n\r\n    @Column(name = &quot;complement&quot;)\r\n    private String complement;\r\n\r\n    @Column(name = &quot;tag&quot;)\r\n    private String tag;\r\n}\r\n```\r\nI tried messing with the one to many relationships but it didn&#39;t work.\r\n\r\nNone of the relations are working as expected, saving the id.\r\n\r\nIn the database saves only the first object without having the cascade of adding the ID in the related table.\r\n\r\nI don&#39;t know what I could be doing wrong, because it saves the object and creates the ID in the table, but it doesn&#39;t associate as a cascade in the second object.","title":"Not saving ClientID in Address","body":"<h4>Client</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;client&quot;)\npublic class Client implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;cpf&quot;, nullable = false)\n    private String cpf;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n    @Column(name = &quot;registration_data&quot;)\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM-dd-yyyy HH:mm&quot;, timezone = &quot;GMT&quot;) //ISO 8601\n    private Date registrationData;\n\n    @OneToMany(mappedBy = &quot;clientId&quot;)\n    private List&lt;Contact&gt; contacts;\n\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;clientId&quot;)\n    @JoinColumn(name = &quot;address&quot;)\n    private Address address;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;pets&quot;)\n    private List&lt;Pet&gt; pets;\n\n    @Column(name = &quot;type_profile&quot;, nullable = false)\n    private String typeProfile;\n\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    @Column(name = &quot;image&quot;)\n    private byte[] image;\n}\n</code></pre>\n<h4>Address</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;address&quot;)\npublic class Address implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;clientId&quot;)\n    private Client clientId;\n\n    @Column(name = &quot;publicPlace&quot;)\n    private String publicPlace;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n\n    @Column(name = &quot;district&quot;)\n    private String district;\n\n    @Column(name = &quot;complement&quot;)\n    private String complement;\n\n    @Column(name = &quot;tag&quot;)\n    private String tag;\n}\n</code></pre>\n<p>I tried messing with the one to many relationships but it didn't work.</p>\n<p>None of the relations are working as expected, saving the id.</p>\n<p>In the database saves only the first object without having the cascade of adding the ID in the related table.</p>\n<p>I don't know what I could be doing wrong, because it saves the object and creates the ID in the table, but it doesn't associate as a cascade in the second object.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692214236,"post_id":76916348,"comment_id":135594728,"body_markdown":"Which line of that stack trace implicates which line of the code presented?  My first impression from the code and the exception message is that the code in the question is at best peripherally related to the exception, and in particular, that if there is an association at all, then it is with *creating* or *executing* the statement, not with closing it.","body":"Which line of that stack trace implicates which line of the code presented?  My first impression from the code and the exception message is that the code in the question is at best peripherally related to the exception, and in particular, that if there is an association at all, then it is with <i>creating</i> or <i>executing</i> the statement, not with closing it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692216891,"post_id":76916348,"comment_id":135595191,"body_markdown":"*I have the following code:* Really - what query is it executing exactly?","body":"<i>I have the following code:</i> Really - what query is it executing exactly?"},{"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"score":0,"creation_date":1692255243,"post_id":76916348,"comment_id":135599062,"body_markdown":"The code is crashing when calling mypackage.NamedParameterStatement.close method which will simply close the prepared statement.\nThe first query is a select query","body":"The code is crashing when calling mypackage.NamedParameterStatement.close method which will simply close the prepared statement. The first query is a select query"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1692274545,"post_id":76916348,"comment_id":135602667,"body_markdown":"I still mistrust `createStatement`","body":"I still mistrust <code>createStatement</code>"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692216926,"creation_date":1692215241,"answer_id":76916627,"question_id":76916348,"body_markdown":"&gt; I have googled but didn&#39;t find an explanation why I&#39;m getting this crash when closing my statement.\r\n\r\nI&#39;m not sure you are.  Not when *closing* the statement.\r\n\r\n&gt; The &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my statement.close got called.\r\n\r\nQuite so.\r\n\r\n&gt; Even if my resultset.close is not called, I would expect statement.close() will also check if resultset is opened and close it if needed.\r\n\r\nThe specs say that `Statement.close()` has that effect, yes.\r\n\r\nRead the exception message again, especially the highlighted part:\r\n\r\n&gt; Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. **No statements may be issued** when any streaming result sets are open and in use on a given connection.\r\n\r\nThat message sure doesn&#39;t look like it&#39;s about closing the statement. And per your own analysis, it should not be about a conflict between closing the `Statement` and `ResultSet` that are created by the same execution of that code fragment.\r\n\r\nI&#39;m inclined to think that you have a *different* `ResultSet` associated with a *different* `Statement` belonging to the same `Connection` still active, and that the exception is thrown when you try to create or execute a new `Statement`, not when you try to close a statement (though the analysis is not much affected if the exception is thrown from the `close()` after all).\r\n\r\nGood candidates for the source of such an issue include\r\n\r\n - having erroneously failed to close a previously obtained `ResultSet`;\r\n - using the same `Connection` concurrently in multiple threads; or\r\n - simply using your connection to attempt to perform a new query within the context of processing the results of another query.\r\n\r\nThe last of those should be determinate, so identifiable from the full stack trace.  The other two are more likely to seem random, and you might well expect to see similar exceptions originating from different parts of your application code.","title":"Random mysql crash when closing a statement","body":"<blockquote>\n<p>I have googled but didn't find an explanation why I'm getting this crash when closing my statement.</p>\n</blockquote>\n<p>I'm not sure you are.  Not when <em>closing</em> the statement.</p>\n<blockquote>\n<p>The &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my statement.close got called.</p>\n</blockquote>\n<p>Quite so.</p>\n<blockquote>\n<p>Even if my resultset.close is not called, I would expect statement.close() will also check if resultset is opened and close it if needed.</p>\n</blockquote>\n<p>The specs say that <code>Statement.close()</code> has that effect, yes.</p>\n<p>Read the exception message again, especially the highlighted part:</p>\n<blockquote>\n<p>Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. <strong>No statements may be issued</strong> when any streaming result sets are open and in use on a given connection.</p>\n</blockquote>\n<p>That message sure doesn't look like it's about closing the statement. And per your own analysis, it should not be about a conflict between closing the <code>Statement</code> and <code>ResultSet</code> that are created by the same execution of that code fragment.</p>\n<p>I'm inclined to think that you have a <em>different</em> <code>ResultSet</code> associated with a <em>different</em> <code>Statement</code> belonging to the same <code>Connection</code> still active, and that the exception is thrown when you try to create or execute a new <code>Statement</code>, not when you try to close a statement (though the analysis is not much affected if the exception is thrown from the <code>close()</code> after all).</p>\n<p>Good candidates for the source of such an issue include</p>\n<ul>\n<li>having erroneously failed to close a previously obtained <code>ResultSet</code>;</li>\n<li>using the same <code>Connection</code> concurrently in multiple threads; or</li>\n<li>simply using your connection to attempt to perform a new query within the context of processing the results of another query.</li>\n</ul>\n<p>The last of those should be determinate, so identifiable from the full stack trace.  The other two are more likely to seem random, and you might well expect to see similar exceptions originating from different parts of your application code.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692239465,"creation_date":1692238887,"answer_id":76918083,"question_id":76916348,"body_markdown":"[try-with-resources][1]\r\n\r\n&gt; The try-with-resources statement is a try statement that declares one or more resources. A resource is as an object that must be closed after the program is finished with it\r\n\r\nIn fact, it has been automatically closed, you don&#39;t need to manually call the close method.\r\n\r\nback to your question！\r\n\r\nPay attention to the error message you provided\r\n&gt; caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection. \r\n\r\n[refer here][2]\r\n&gt; streaming mode has one limitation: When a resultset is open in streaming mode on a MySQL connection, you cannot use that same database connection to run other queries.\r\n\r\nIn other words, when you execute this statement, it is likely that there are already other result sets in the open stage.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html\r\n  [2]: https://support.datavirtuality.com/hc/en-us/articles/212166126-Error-message-Streaming-result-set-com-mysql-jdbc-RowDataDynamic-XXXXXX-is-still-active-","title":"Random mysql crash when closing a statement","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow noreferrer\">try-with-resources</a></p>\n<blockquote>\n<p>The try-with-resources statement is a try statement that declares one or more resources. A resource is as an object that must be closed after the program is finished with it</p>\n</blockquote>\n<p>In fact, it has been automatically closed, you don't need to manually call the close method.</p>\n<p>back to your question！</p>\n<p>Pay attention to the error message you provided</p>\n<blockquote>\n<p>caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection.</p>\n</blockquote>\n<p><a href=\"https://support.datavirtuality.com/hc/en-us/articles/212166126-Error-message-Streaming-result-set-com-mysql-jdbc-RowDataDynamic-XXXXXX-is-still-active-\" rel=\"nofollow noreferrer\">refer here</a></p>\n<blockquote>\n<p>streaming mode has one limitation: When a resultset is open in streaming mode on a MySQL connection, you cannot use that same database connection to run other queries.</p>\n</blockquote>\n<p>In other words, when you execute this statement, it is likely that there are already other result sets in the open stage.</p>\n"},{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1693936811,"post_id":76921097,"comment_id":135824515,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692272376,"creation_date":1692271905,"answer_id":76921097,"question_id":76916348,"body_markdown":"Answered your own question.\r\n\r\n Hence, it is good practice to explicitly close the `Statement`.\r\n\r\n True, it must be added here that if an implicit closure is performed, i.e.  if [*try-with-resources*][1] is used, then the exception that occurs when executing `close()` should be caught separately.\r\n\r\n The `AutoClosable` interface **does not** automatically close a `Statement`, but is used to close it *implicitly*, as in the situation mentioned above.\r\n\r\n And now\r\n\r\n //todo and if it was not possible to close the statement, then what to do?\r\n\r\n Well, here the reasons may be different, but in most cases there is little sense from this, so the exception can simply be ignored.\r\n\r\n&gt;I know that statement object should be created in the try-with-resource block but this is a generated code.\r\n\r\n\r\nHere is a typical code for working with a database\r\n```\r\n try(Connection con = .......) {\r\n   ......\r\n   try (Statement stmt = con.PrepareStatement(...)) {\r\n     ......\r\n     try(ResultSet res = stmt.executeQuery()) {\r\n       .........\r\n     }\r\n   }\r\n }\r\n```\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Random mysql crash when closing a statement","body":"<p>Answered your own question.</p>\n<p>Hence, it is good practice to explicitly close the <code>Statement</code>.</p>\n<p>True, it must be added here that if an implicit closure is performed, i.e.  if <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>try-with-resources</em></a> is used, then the exception that occurs when executing <code>close()</code> should be caught separately.</p>\n<p>The <code>AutoClosable</code> interface <strong>does not</strong> automatically close a <code>Statement</code>, but is used to close it <em>implicitly</em>, as in the situation mentioned above.</p>\n<p>And now</p>\n<p>//todo and if it was not possible to close the statement, then what to do?</p>\n<p>Well, here the reasons may be different, but in most cases there is little sense from this, so the exception can simply be ignored.</p>\n<blockquote>\n<p>I know that statement object should be created in the try-with-resource block but this is a generated code.</p>\n</blockquote>\n<p>Here is a typical code for working with a database</p>\n<pre><code> try(Connection con = .......) {\n   ......\n   try (Statement stmt = con.PrepareStatement(...)) {\n     ......\n     try(ResultSet res = stmt.executeQuery()) {\n       .........\n     }\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692793018,"creation_date":1692793018,"answer_id":76961286,"question_id":76916348,"body_markdown":"What is also interesting is that the query is crashing randomly after more than two hours.\r\nI rerun the same process/query and it work in less than one minute sometime the second retry, third retry...\r\n\r\nThis how the thread dump look when the query is stuck/running for long time:\r\n\r\n    &quot;f2297067-13d5-427a-83ec-fc31253922c6_Worker-6&quot; #83 prio=5 os_prio=0 cpu=202433.86ms elapsed=85008.80s tid=0x00007fb527394800 nid=0x159 runnable  [0x00007fb462df1000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.net.SocketInputStream.socketRead0(java.base@11.0.19/Native Method)\r\n    \tat java.net.SocketInputStream.socketRead(java.base@11.0.19/Unknown Source)\r\n    \tat java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\r\n    \tat java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\r\n    \tat com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)\r\n    \tat com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)\r\n    \tat com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)\r\n    \t- locked &lt;0x00007fba710040e8&gt; (a com.mysql.cj.protocol.ReadAheadInputStream)\r\n    \tat java.io.FilterInputStream.read(java.base@11.0.19/Unknown Source)\r\n    \tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readMessageLocal(SimplePacketReader.java:137)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:102)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:45)\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:66)\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:44)\r\n    \tat com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:75)\r\n    \tat com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:42)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1587)\r\n    \tat com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:194)\r\n    \tat com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:62)\r\n    \tat com.mysql.cj.jdbc.result.ResultSetImpl.next(ResultSetImpl.java:1813)\r\n    \t- locked &lt;0x00007fba71004690&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyResultSet.next(HikariProxyResultSet.java)\r\n\r\n","title":"Random mysql crash when closing a statement","body":"<p>What is also interesting is that the query is crashing randomly after more than two hours.\nI rerun the same process/query and it work in less than one minute sometime the second retry, third retry...</p>\n<p>This how the thread dump look when the query is stuck/running for long time:</p>\n<pre><code>&quot;f2297067-13d5-427a-83ec-fc31253922c6_Worker-6&quot; #83 prio=5 os_prio=0 cpu=202433.86ms elapsed=85008.80s tid=0x00007fb527394800 nid=0x159 runnable  [0x00007fb462df1000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(java.base@11.0.19/Native Method)\n    at java.net.SocketInputStream.socketRead(java.base@11.0.19/Unknown Source)\n    at java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\n    at java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\n    at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)\n    at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)\n    at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)\n    - locked &lt;0x00007fba710040e8&gt; (a com.mysql.cj.protocol.ReadAheadInputStream)\n    at java.io.FilterInputStream.read(java.base@11.0.19/Unknown Source)\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readMessageLocal(SimplePacketReader.java:137)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:102)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:45)\n    at com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:66)\n    at com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:44)\n    at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:75)\n    at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:42)\n    at com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1587)\n    at com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:194)\n    at com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:62)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.next(ResultSetImpl.java:1813)\n    - locked &lt;0x00007fba71004690&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\n    at com.zaxxer.hikari.pool.HikariProxyResultSet.next(HikariProxyResultSet.java)\n</code></pre>\n"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692793018,"creation_date":1692212183,"question_id":76916348,"body_markdown":"I have the following code:\r\n\r\n    Statement statement =createStatement();\r\n    try (java.sql.ResultSet resultset = statement.executeQuery()) {\r\n    \twhile (resultset.next()) {\r\n    \t\tmyObject.setProcessingDate(resultset.getDate(1));\r\n    \t\tmyObject.set...\r\n    \r\n    \t}\r\n    }finally {\r\n    \tif (statement != null) {\r\n    \t\tstatement.close();\r\n    \t}\r\n    }\r\n\r\nI know that statement object should be created in the try-with-resource block but this is a generated code.\r\n\r\nRandomly, I&#39;m getting the following exception:\r\n\r\n    caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection. \r\n    Ensure that you have called .close() on any active streaming result sets before attempting more queries.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ServerPreparedStatement.realClose(ServerPreparedStatement.java:549)\r\n    \tat com.mysql.cj.jdbc.ServerPreparedStatement.close(ServerPreparedStatement.java:284)\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.close(ProxyStatement.java:76)\r\n    \tat mypackage.NamedParameterStatement.close(NamedParameterStatement.java:520)\r\n\r\nI have googled but didn&#39;t find an explanation why I&#39;m getting this crash when closing my statement.\r\n\r\nThe &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my `statement.close()` got called.\r\n\r\nEven if my `resultset.close()` is not called, I would expect `statement.close()` will also check if resultset is opened and close it if needed.\r\n\r\nAm I missing something or why is this issue?","title":"Random mysql crash when closing a statement","body":"<p>I have the following code:</p>\n<pre><code>Statement statement =createStatement();\ntry (java.sql.ResultSet resultset = statement.executeQuery()) {\n    while (resultset.next()) {\n        myObject.setProcessingDate(resultset.getDate(1));\n        myObject.set...\n\n    }\n}finally {\n    if (statement != null) {\n        statement.close();\n    }\n}\n</code></pre>\n<p>I know that statement object should be created in the try-with-resource block but this is a generated code.</p>\n<p>Randomly, I'm getting the following exception:</p>\n<pre><code>caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection. \nEnsure that you have called .close() on any active streaming result sets before attempting more queries.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ServerPreparedStatement.realClose(ServerPreparedStatement.java:549)\n    at com.mysql.cj.jdbc.ServerPreparedStatement.close(ServerPreparedStatement.java:284)\n    at com.zaxxer.hikari.pool.ProxyStatement.close(ProxyStatement.java:76)\n    at mypackage.NamedParameterStatement.close(NamedParameterStatement.java:520)\n</code></pre>\n<p>I have googled but didn't find an explanation why I'm getting this crash when closing my statement.</p>\n<p>The &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my <code>statement.close()</code> got called.</p>\n<p>Even if my <code>resultset.close()</code> is not called, I would expect <code>statement.close()</code> will also check if resultset is opened and close it if needed.</p>\n<p>Am I missing something or why is this issue?</p>\n"},{"tags":["java","android","kotlin","android-studio","android-intent-chooser"],"answers":[{"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692792758,"creation_date":1692792758,"answer_id":76961246,"question_id":76961245,"body_markdown":"You can **override this behaviour** by using the below code:\r\n\r\n     val i = Intent(Intent.ACTION_VIEW)\r\n                    i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                    i.data = Uri.parse(deepLinkUri)\r\n\r\n\r\n                    // Create a chooser intent\r\n                    val chooserIntent = Intent.createChooser(i, &quot;Choose an app&quot;)\r\n                    // Clear any previous default setting\r\n                    chooserIntent.putExtra(\r\n                        Intent.EXTRA_EXCLUDE_COMPONENTS,\r\n                        arrayOf&lt;ComponentName&gt;()\r\n                    )\r\n                    chooserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                    startActivity(chooserIntent)","title":"How can I change the default app for opening a URI and enlist all the supported Android apps for this purpose?","body":"<p>You can <strong>override this behaviour</strong> by using the below code:</p>\n<pre><code> val i = Intent(Intent.ACTION_VIEW)\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                i.data = Uri.parse(deepLinkUri)\n\n\n                // Create a chooser intent\n                val chooserIntent = Intent.createChooser(i, &quot;Choose an app&quot;)\n                // Clear any previous default setting\n                chooserIntent.putExtra(\n                    Intent.EXTRA_EXCLUDE_COMPONENTS,\n                    arrayOf&lt;ComponentName&gt;()\n                )\n                chooserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                startActivity(chooserIntent)\n</code></pre>\n"}],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76961246,"answer_count":1,"score":-1,"last_activity_date":1692792758,"creation_date":1692792758,"question_id":76961245,"body_markdown":"Override the always-selected app by the user in Android Kotlin\r\n\r\n**Use case:**&lt;br&gt;\r\nI parse the URL to intent in order to initialize the system to open the supported app by the user.\r\nNow user selects Firefox as always and whenever the user taps on the URL(to share as intent) it doesn&#39;t show any more all apps(e.g.: Firefox, Chrome, Edge, etc.) for a user to select again rather just using Firefox as the always remember by the android system.\r\n\r\n**Actual Problem To Solve:**&lt;br&gt;\r\nNeed to show all apps to users that support that URL rather than the always selected app the user selected somewhere. (e.g.: **Firefox** is **default** *but* I **want all the supported apps** in the system i.e.: ***Firefox, chrome*** **to preview** for the **user** to select)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I change the default app for opening a URI and enlist all the supported Android apps for this purpose?","body":"<p>Override the always-selected app by the user in Android Kotlin</p>\n<p><strong>Use case:</strong><br>\nI parse the URL to intent in order to initialize the system to open the supported app by the user.\nNow user selects Firefox as always and whenever the user taps on the URL(to share as intent) it doesn't show any more all apps(e.g.: Firefox, Chrome, Edge, etc.) for a user to select again rather just using Firefox as the always remember by the android system.</p>\n<p><strong>Actual Problem To Solve:</strong><br>\nNeed to show all apps to users that support that URL rather than the always selected app the user selected somewhere. (e.g.: <strong>Firefox</strong> is <strong>default</strong> <em>but</em> I <strong>want all the supported apps</strong> in the system i.e.: <em><strong>Firefox, chrome</strong></em> <strong>to preview</strong> for the <strong>user</strong> to select)</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":201896,"reputation":57765,"user_id":448625,"accept_rate":96,"display_name":"Caner"},"score":0,"creation_date":1331045388,"post_id":9585859,"comment_id":12156233,"body_markdown":"Your pattern is not even close to what you want. I recommend you should more about regex before: http://docs.oracle.com/javase/tutorial/essential/regex/","body":"Your pattern is not even close to what you want. I recommend you should more about regex before: <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/regex</a>"}],"answers":[{"comments":[{"owner":{"account_id":1245683,"reputation":199,"user_id":1207197,"accept_rate":44,"display_name":"Davidoff"},"score":0,"creation_date":1331045326,"post_id":9585897,"comment_id":12156197,"body_markdown":"But shouldn&#39;t the entire string match the regular expression? I think it should!\n\nAnyway, I have tried using a while (m.find) and it doesn&#39;t even loop once so I think it&#39;s a different problem!","body":"But shouldn&#39;t the entire string match the regular expression? I think it should!  Anyway, I have tried using a while (m.find) and it doesn&#39;t even loop once so I think it&#39;s a different problem!"},{"owner":{"account_id":327641,"reputation":4103,"user_id":650136,"accept_rate":82,"display_name":"Petter"},"score":1,"creation_date":1331045612,"post_id":9585897,"comment_id":12156344,"body_markdown":"Maybe I was a bit unclear. matches() implicitly adds &quot;^&quot; and &quot;$&quot; at the beginning and end of your pattern, so your string won&#39;t match since it begins with &quot;&lt;!--&quot; and ends with &quot;--&gt;&quot;. Maybe a combination of find() and arc&#39;s solution will work? Edit: sorry, I read your pattern wrong. Like Caner says, it looks a bit wrong though.","body":"Maybe I was a bit unclear. matches() implicitly adds &quot;^&quot; and &quot;$&quot; at the beginning and end of your pattern, so your string won&#39;t match since it begins with &quot;&lt;!--&quot; and ends with &quot;--&gt;&quot;. Maybe a combination of find() and arc&#39;s solution will work? Edit: sorry, I read your pattern wrong. Like Caner says, it looks a bit wrong though."}],"tags":[],"owner":{"account_id":327641,"reputation":4103,"user_id":650136,"accept_rate":82,"display_name":"Petter"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1331045138,"creation_date":1331045138,"answer_id":9585897,"question_id":9585859,"body_markdown":"m.matches() will only return true if the entire string matches. Use m.find() instead, and it should work better!","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>m.matches() will only return true if the entire string matches. Use m.find() instead, and it should work better!</p>\n"},{"tags":[],"owner":{"account_id":1300670,"reputation":584,"user_id":1250670,"display_name":"arc"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1331045214,"creation_date":1331045214,"answer_id":9585924,"question_id":9585859,"body_markdown":"By default, the . does not match line breaks. You would need to add a regex option so that it does:\r\n\r\n    Pattern p = Pattern.compile(myPattern,Pattern.DOTALL);","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>By default, the . does not match line breaks. You would need to add a regex option so that it does:</p>\n\n<pre><code>Pattern p = Pattern.compile(myPattern,Pattern.DOTALL);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":125401,"reputation":63,"user_id":321157,"display_name":"greguren"},"score":0,"creation_date":1331046362,"post_id":9586142,"comment_id":12156684,"body_markdown":"Also, you could use your expression with matches() enabling Pattern.DOTALL AND removing all the ? characters from the expression. Remember a? matches a between 0 and 1 times, and a* matches a between 0 and n times... so writing something like a*? is kind of moot. This way, your own expression could be simplified to: &quot;.*FILES_SECTION.*FILES_SECTION.*&quot;, provided you use the Pattern.DOTALL. Anyway, I think that this expression could be too broad. :)","body":"Also, you could use your expression with matches() enabling Pattern.DOTALL AND removing all the ? characters from the expression. Remember a? matches a between 0 and 1 times, and a* matches a between 0 and n times... so writing something like a*? is kind of moot. This way, your own expression could be simplified to: &quot;.*FILES_SECTION.*FILES_SECTION.*&quot;, provided you use the Pattern.DOTALL. Anyway, I think that this expression could be too broad. :)"},{"owner":{"account_id":1300670,"reputation":584,"user_id":1250670,"display_name":"arc"},"score":0,"creation_date":1331046741,"post_id":9586142,"comment_id":12156865,"body_markdown":"Another way you could avoid DOTALL would be using this character class: [\\d\\D]+\n\nThat would match anything that is either a digit or not a digit.. ie anything at all","body":"Another way you could avoid DOTALL would be using this character class: [\\d\\D]+  That would match anything that is either a digit or not a digit.. ie anything at all"}],"tags":[],"owner":{"account_id":125401,"reputation":63,"user_id":321157,"display_name":"greguren"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331045986,"creation_date":1331045986,"answer_id":9586142,"question_id":9585859,"body_markdown":"First, as arc has said, . won&#39;t match to \\n unless you activate Pattern.DOTALL, and as Petter M, you should use m.find(), or else it won&#39;t match.\r\n\r\nThen, you could use this other expression, if, by any reason, you cannot work with Pattern.DOTALL.\r\n\r\nFILES_SECTION(?:.|\\s)*FILES_SECTION\r\n\r\n(Note I&#39;m using a non-capturing group for the characters between the FILES_SECTION delimiters).","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>First, as arc has said, . won't match to \\n unless you activate Pattern.DOTALL, and as Petter M, you should use m.find(), or else it won't match.</p>\n\n<p>Then, you could use this other expression, if, by any reason, you cannot work with Pattern.DOTALL.</p>\n\n<p>FILES_SECTION(?:.|\\s)*FILES_SECTION</p>\n\n<p>(Note I'm using a non-capturing group for the characters between the FILES_SECTION delimiters).</p>\n"}],"owner":{"account_id":1245683,"reputation":199,"user_id":1207197,"accept_rate":44,"display_name":"Davidoff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18978,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9585924,"answer_count":3,"score":4,"last_activity_date":1692792728,"creation_date":1331045024,"question_id":9585859,"body_markdown":"I have the following code:\r\n\r\n    String example = &quot;&lt;!--&#167;FILES_SECTION&#167;\\n&quot; +\r\n                    &quot;Example line one\\n&quot; +\r\n                    &quot;Example line two\\n&quot; +\r\n                    &quot;&#167;FILES_SECTION&#167;--&gt;&quot;;\r\n            \r\n            String myPattern = &quot;.*?FILES_SECTION.*?\\n(.*?)\\n.*?FILES_SECTION.*?&quot;;\r\n            Pattern p = Pattern.compile(myPattern);\r\n            Matcher m = p.matcher(example);\r\n            \r\n            if ( m.matches() )\r\n                Log.d(&quot;Matcher&quot;, &quot;PATTERN MATCHES!&quot;);\r\n            else\r\n                Log.d(&quot;MATCHER&quot;, &quot;PATTERN DOES NOT MATCH!&quot;);\r\n\r\nWhy does it always return &quot;PATTERN DOES NOT MATCH?&quot;","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>I have the following code:</p>\n\n<pre><code>String example = \"&lt;!--§FILES_SECTION§\\n\" +\n                \"Example line one\\n\" +\n                \"Example line two\\n\" +\n                \"§FILES_SECTION§--&gt;\";\n\n        String myPattern = \".*?FILES_SECTION.*?\\n(.*?)\\n.*?FILES_SECTION.*?\";\n        Pattern p = Pattern.compile(myPattern);\n        Matcher m = p.matcher(example);\n\n        if ( m.matches() )\n            Log.d(\"Matcher\", \"PATTERN MATCHES!\");\n        else\n            Log.d(\"MATCHER\", \"PATTERN DOES NOT MATCH!\");\n</code></pre>\n\n<p>Why does it always return \"PATTERN DOES NOT MATCH?\"</p>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328450729,"creation_date":1328450729,"answer_id":9149855,"question_id":9149838,"body_markdown":"&gt; Can you please give me any hint?\r\n\r\nYes. Neither `-`, nor `:`, nor `+` are part of `\\w`.","title":"JAVA regex failing","body":"<blockquote>\n  <p>Can you please give me any hint?</p>\n</blockquote>\n\n<p>Yes. Neither <code>-</code>, nor <code>:</code>, nor <code>+</code> are part of <code>\\w</code>.</p>\n"},{"tags":[],"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328453095,"creation_date":1328452025,"answer_id":9150002,"question_id":9149838,"body_markdown":"Do you have to use a regex? Why not call `String.split()` to break up the string on semi-colon boundaries. Then call it again to break up the chunks by the equals sign. At that point you&#39;ll have an integer and the date in string form. From there you can [parse][1] the [date][2] string.\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public final class DateScan {\r\n        private static final String INPUT = &quot;;1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;&quot;;\r\n        public static void main(final String... args) {\r\n            final SimpleDateFormat parser = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n            final String[] pairs = INPUT.split(&quot;;&quot;);\r\n            for (final String pair : pairs) {\r\n                if (&quot;&quot;.equals(pair)) {\r\n                    continue;\r\n                }\r\n                final String[] integerAndDate = pair.split(&quot;=&quot;);\r\n                final Integer integer = Integer.parseInt(integerAndDate[0]);\r\n                final String dateString = integerAndDate[1];\r\n                try {\r\n                    final Date date = parser.parse(dateString);\r\n                    System.out.println(integer + &quot; -&gt; &quot; + date);\r\n                } catch (final ParseException pe) {\r\n                    System.err.println(&quot;bad date: &quot; + dateString + &quot;: &quot; + pe);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/999172\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"JAVA regex failing","body":"<p>Do you have to use a regex? Why not call <code>String.split()</code> to break up the string on semi-colon boundaries. Then call it again to break up the chunks by the equals sign. At that point you'll have an integer and the date in string form. From there you can <a href=\"https://stackoverflow.com/questions/999172\">parse</a> the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">date</a> string.</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic final class DateScan {\n    private static final String INPUT = \";1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;\";\n    public static void main(final String... args) {\n        final SimpleDateFormat parser = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\");\n        final String[] pairs = INPUT.split(\";\");\n        for (final String pair : pairs) {\n            if (\"\".equals(pair)) {\n                continue;\n            }\n            final String[] integerAndDate = pair.split(\"=\");\n            final Integer integer = Integer.parseInt(integerAndDate[0]);\n            final String dateString = integerAndDate[1];\n            try {\n                final Date date = parser.parse(dateString);\n                System.out.println(integer + \" -&gt; \" + date);\n            } catch (final ParseException pe) {\n                System.err.println(\"bad date: \" + dateString + \": \" + pe);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1328452611,"creation_date":1328452611,"answer_id":9150064,"question_id":9149838,"body_markdown":"I&#39;ve change the input a bit, but just for presentation reasons that is\r\n\r\nYou can try this:\r\n\r\n     String input = &quot; ;1=2011-10-23T16:16:53+0530;   2=2011-10-23T16:17:53+0530;3=2011-10-23T16:18:53+0530;4=2011-10-23T16:19:53+0530;&quot;;\r\n\t\r\n\tPattern p = Pattern.compile(&quot;(;\\\\d+?)?=(.+?);&quot;);\r\n\tMatcher m = p.matcher(input);\r\n\t\r\n\twhile(m.find()){\r\n\t    System.out.println(m.group(2));\r\n\t}\r\n\r\n ","title":"JAVA regex failing","body":"<p>I've change the input a bit, but just for presentation reasons that is</p>\n\n<p>You can try this:</p>\n\n<pre><code> String input = \" ;1=2011-10-23T16:16:53+0530;   2=2011-10-23T16:17:53+0530;3=2011-10-23T16:18:53+0530;4=2011-10-23T16:19:53+0530;\";\n\nPattern p = Pattern.compile(\"(;\\\\d+?)?=(.+?);\");\nMatcher m = p.matcher(input);\n\nwhile(m.find()){\n    System.out.println(m.group(2));\n}\n</code></pre>\n"}],"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9150064,"answer_count":3,"score":0,"last_activity_date":1692792696,"creation_date":1328450571,"question_id":9149838,"body_markdown":"I have string which is of format: \r\n    \r\n`;1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;`\r\n\r\nI have written following code to find string `2011-10-23T16:16:53+0530` from `(;1=2011-10-23T16:16:53+0530;)`\r\n\r\n    Pattern pattern = Pattern.compile(&quot;(;1+)=(\\\\w+);&quot;);\r\n\r\n    String strFound= &quot;&quot;;\r\n    Matcher matcher = pattern.matcher(strindData);\r\n    while (matcher.find()) {\r\n       strFound= matcher.group(2);\r\n    }\r\n\r\nBut it is not working as expected. Can you please give me any hint?","title":"JAVA regex failing","body":"<p>I have string which is of format: </p>\n\n<p><code>;1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;</code></p>\n\n<p>I have written following code to find string <code>2011-10-23T16:16:53+0530</code> from <code>(;1=2011-10-23T16:16:53+0530;)</code></p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(;1+)=(\\\\w+);\");\n\nString strFound= \"\";\nMatcher matcher = pattern.matcher(strindData);\nwhile (matcher.find()) {\n   strFound= matcher.group(2);\n}\n</code></pre>\n\n<p>But it is not working as expected. Can you please give me any hint?</p>\n"},{"tags":["javascript","java","regex"],"answers":[{"comments":[{"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"score":0,"creation_date":1325833461,"post_id":8754472,"comment_id":10908278,"body_markdown":"Thx a lot..I did not quite get the 2nd part...replace each &#39;\\&#39; with &#39;\\&#39; .....Are they both not the same ?","body":"Thx a lot..I did not quite get the 2nd part...replace each &#39;\\&#39; with &#39;\\&#39; .....Are they both not the same ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1328388943,"post_id":8754472,"comment_id":11496208,"body_markdown":"@testndtv - I said &quot;has to be **escaped** with a 2nd backslash&quot;. I didn&#39;t say it has to be replaced.","body":"@testndtv - I said &quot;has to be <b>escaped</b> with a 2nd backslash&quot;. I didn&#39;t say it has to be replaced."},{"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"score":1,"creation_date":1518081084,"post_id":8754472,"comment_id":84360209,"body_markdown":"If only it could be this easy... Regex in Java and JS have subtle differences that&#39;ll bite those unaware: e.g. JS: `&#39;ab]cd&#39;.replace(/[^]]/g, &#39;()&#39;)` -&gt; `a()cd`, Java: `&quot;ab]cd&quot;.replaceAll(&quot;[^]]&quot;, &quot;()&quot;)` -&gt; `()()]()()`","body":"If only it could be this easy... Regex in Java and JS have subtle differences that&#39;ll bite those unaware: e.g. JS: <code>&#39;ab]cd&#39;.replace(&#47;[^]]&#47;g, &#39;()&#39;)</code> -&gt; <code>a()cd</code>, Java: <code>&quot;ab]cd&quot;.replaceAll(&quot;[^]]&quot;, &quot;()&quot;)</code> -&gt; <code>()()]()()</code>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1612879158,"creation_date":1325833233,"answer_id":8754472,"question_id":8754444,"body_markdown":"Change the leading and trailing `&#39;/&#39;` characters to `&#39;&quot;&#39;`, and then replace each `&#39;\\&#39;` with `&quot;\\\\&quot;`.\r\n\r\nUnlike, JavaScript, Perl and other scripting languages, Java doesn&#39;t have a special syntax for regexes.  Instead, they are (typically) expressed using Java string literals.  But `&#39;\\&#39;` is the escape character in a Java string literal, so each `&#39;\\&#39;` in the original regex has to be escaped with a 2nd `&#39;\\&#39;`.  (And if you have a literal backslash character in the regex, you end up with `&quot;\\\\\\\\&quot;` in the Java string literal!!)  \r\n\r\nThis is a bit confusing / daunting for Java novices, but it is totally logical.  Just remember that you are using a Java *string literal* to express the regex.\r\n\r\n---------\r\n\r\nHowever as @antak notes, there are various differences between the regex languages implemented by Java and JavaScript.  So if you take an arbitrary JavaScript regex and transliterate it to Java (as above) it might not work.\r\n\r\nHere are some references that summarize the differences.\r\n\r\n  - https://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines\r\n  - https://gist.github.com/CMCDragonkai/6c933f4a7d713ef712145c5eb94a1816\r\n","title":"Convert Javascript regular expression to Java syntax","body":"<p>Change the leading and trailing <code>'/'</code> characters to <code>'&quot;'</code>, and then replace each <code>'\\'</code> with <code>&quot;\\\\&quot;</code>.</p>\n<p>Unlike, JavaScript, Perl and other scripting languages, Java doesn't have a special syntax for regexes.  Instead, they are (typically) expressed using Java string literals.  But <code>'\\'</code> is the escape character in a Java string literal, so each <code>'\\'</code> in the original regex has to be escaped with a 2nd <code>'\\'</code>.  (And if you have a literal backslash character in the regex, you end up with <code>&quot;\\\\\\\\&quot;</code> in the Java string literal!!)</p>\n<p>This is a bit confusing / daunting for Java novices, but it is totally logical.  Just remember that you are using a Java <em>string literal</em> to express the regex.</p>\n<hr />\n<p>However as @antak notes, there are various differences between the regex languages implemented by Java and JavaScript.  So if you take an arbitrary JavaScript regex and transliterate it to Java (as above) it might not work.</p>\n<p>Here are some references that summarize the differences.</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines</a></li>\n<li><a href=\"https://gist.github.com/CMCDragonkai/6c933f4a7d713ef712145c5eb94a1816\" rel=\"noreferrer\">https://gist.github.com/CMCDragonkai/6c933f4a7d713ef712145c5eb94a1816</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":2,"creation_date":1325834615,"post_id":8754491,"comment_id":10908522,"body_markdown":"@testndtv: Don&#39;t ever say you are getting an error without showing the error message.","body":"@testndtv: Don&#39;t ever say you are getting an error without showing the error message."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1325835334,"post_id":8754491,"comment_id":10908654,"body_markdown":"It was missing the second `find()` call; try it now.","body":"It was missing the second <code>find()</code> call; try it now."},{"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"score":0,"creation_date":1325838694,"post_id":8754491,"comment_id":10909232,"body_markdown":"Thx again...Actually I replaced with .matches() which I hope should also be fine...Pls confirm..","body":"Thx again...Actually I replaced with .matches() which I hope should also be fine...Pls confirm.."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325835288,"creation_date":1325833361,"answer_id":8754491,"question_id":8754444,"body_markdown":"The only thing you have to do is to duplicate back slashes.\r\n\r\n\r\n    Pattern p1 = Pattern.compile(&quot;[a-zA-Z]&quot;);\r\n    Pattern p2 = Pattern.compile(&quot;[0-9]|[\\\\x21-\\\\x2F|\\\\x3A-\\\\x40|\\\\x5B-\\\\x60|\\\\x7B-\\\\x7E]&quot;);\r\n    \r\n    if (p1.matcher(str).find() &amp;&amp; p2.matcher(str).find()) {\r\n        return true;\r\n    }","title":"Convert Javascript regular expression to Java syntax","body":"<p>The only thing you have to do is to duplicate back slashes.</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"[a-zA-Z]\");\nPattern p2 = Pattern.compile(\"[0-9]|[\\\\x21-\\\\x2F|\\\\x3A-\\\\x40|\\\\x5B-\\\\x60|\\\\x7B-\\\\x7E]\");\n\nif (p1.matcher(str).find() &amp;&amp; p2.matcher(str).find()) {\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1325837097,"post_id":8754505,"comment_id":10908955,"body_markdown":"It&#39;s not the regex engine itself, it&#39;s the `matches()` method that requires the regex to consume the whole string, as if it were anchored at both ends.  The `find()` method performs the more traditional kind of match, but you can&#39;t call it from the String object like you can with `matches()`; you have to explicitly create a Matcher object like [AlexR did](http://stackoverflow.com/a/8754491/20938).","body":"It&#39;s not the regex engine itself, it&#39;s the <code>matches()</code> method that requires the regex to consume the whole string, as if it were anchored at both ends.  The <code>find()</code> method performs the more traditional kind of match, but you can&#39;t call it from the String object like you can with <code>matches()</code>; you have to explicitly create a Matcher object like <a href=\"http://stackoverflow.com/a/8754491/20938\">AlexR did</a>."},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1325839254,"post_id":8754505,"comment_id":10909328,"body_markdown":"@AlanMoore: Thanks for letting me know. I have rarely used find, I have almost always used `matches()`. I have removed that section from my answer, thanks again for the clarification.","body":"@AlanMoore: Thanks for letting me know. I have rarely used find, I have almost always used <code>matches()</code>. I have removed that section from my answer, thanks again for the clarification."}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325839199,"creation_date":1325833434,"answer_id":8754505,"question_id":8754444,"body_markdown":"Java regular expressions are first and foremost strings, so you must start with double quotes and not `/`. Also, in java, you need to escape the `\\` by doing two of them like so `\\\\`. \r\n\r\nTake a look at [this][1] tutorial from Oracle for more information.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/regex/","title":"Convert Javascript regular expression to Java syntax","body":"<p>Java regular expressions are first and foremost strings, so you must start with double quotes and not <code>/</code>. Also, in java, you need to escape the <code>\\</code> by doing two of them like so <code>\\\\</code>. </p>\n\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow\">this</a> tutorial from Oracle for more information.</p>\n"},{"tags":[],"owner":{"account_id":12057011,"reputation":41,"user_id":8817433,"display_name":"Thayakoti krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526390001,"creation_date":1508736925,"answer_id":46882545,"question_id":8754444,"body_markdown":"If you really need Javascript regex semantics in Java, one approach would be to use the embedded Javascript engine to evaluate the regex.   For example:\r\n\r\n    javax.script.ScriptEngineManager se = new javax.script.ScriptEngineManager();\r\n    javax.script.ScriptEngine engine = se.getEngineByName(&quot;js&quot;);\r\n    \r\n    String regExp = &quot;/^\\\\d+$/&quot;;\r\n    engine.put(&quot;str&quot;, &quot;1234&quot;);\r\n    engine.eval(&quot;var rgx=&quot; + regExp);\r\n    Object value = engine.eval(\r\n        &quot;function validate(r, s){ return (r).test(s);};validate(rgx, str);&quot;);\r\n    logger.log(value);","title":"Convert Javascript regular expression to Java syntax","body":"<p>If you really need Javascript regex semantics in Java, one approach would be to use the embedded Javascript engine to evaluate the regex.   For example:</p>\n\n<pre><code>javax.script.ScriptEngineManager se = new javax.script.ScriptEngineManager();\njavax.script.ScriptEngine engine = se.getEngineByName(\"js\");\n\nString regExp = \"/^\\\\d+$/\";\nengine.put(\"str\", \"1234\");\nengine.eval(\"var rgx=\" + regExp);\nObject value = engine.eval(\n    \"function validate(r, s){ return (r).test(s);};validate(rgx, str);\");\nlogger.log(value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8825361,"reputation":583,"user_id":6593782,"accept_rate":50,"display_name":"Rajas47Ashtikar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540198567,"creation_date":1540198567,"answer_id":52925590,"question_id":8754444,"body_markdown":"If you want to use the same regex in Javascript as well as Java try to get the regex string at runtime, rather than trying to define the regex at compile time. At compile time it will check for syntax and it will give you invalid escape character error, however at runtime it will not check for the syntax and will directly compile the pattern.\r\n\r\nIf you can get the regex from API or can read it from locally stored text file, it will great.","title":"Convert Javascript regular expression to Java syntax","body":"<p>If you want to use the same regex in Javascript as well as Java try to get the regex string at runtime, rather than trying to define the regex at compile time. At compile time it will check for syntax and it will give you invalid escape character error, however at runtime it will not check for the syntax and will directly compile the pattern.</p>\n\n<p>If you can get the regex from API or can read it from locally stored text file, it will great.</p>\n"},{"comments":[{"owner":{"account_id":8075635,"reputation":2057,"user_id":6086782,"display_name":"varun"},"score":3,"creation_date":1567173607,"post_id":57575475,"comment_id":101896530,"body_markdown":"I had stared at some long JS regex and re-programmed that NPM module into a Java package... I carefully escaped the escaping escapes to escape my headache... At the end of this escapade, this answer helped me escape my doubts that my escape sequences had escaped some of the encoding escape logic!","body":"I had stared at some long JS regex and re-programmed that NPM module into a Java package... I carefully escaped the escaping escapes to escape my headache... At the end of this escapade, this answer helped me escape my doubts that my escape sequences had escaped some of the encoding escape logic!"}],"tags":[],"owner":{"account_id":4819617,"reputation":1007,"user_id":3890692,"display_name":"Evgeny Kharitonov"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1566309928,"creation_date":1566309928,"answer_id":57575475,"question_id":8754444,"body_markdown":"You can use **online regex evaluators** like https://regex101.com for conversion.\r\n\r\n1. Go to https://regex101.com\r\n2. Choose `ECMAScript (JavaScript) FLAVOR`\r\n3. Insert your regex\r\n4. Open `TOOLS -&gt; Code Generator (LANGUAGE - Java)`\r\n5. Copy-paste\r\n\r\nEven though it isn&#39;t hardcore programmer way, it is significantly less error-prone.\r\nEspecially if you need to convert only one or two expressions.\r\n","title":"Convert Javascript regular expression to Java syntax","body":"<p>You can use <strong>online regex evaluators</strong> like <a href=\"https://regex101.com\" rel=\"noreferrer\">https://regex101.com</a> for conversion.</p>\n\n<ol>\n<li>Go to <a href=\"https://regex101.com\" rel=\"noreferrer\">https://regex101.com</a></li>\n<li>Choose <code>ECMAScript (JavaScript) FLAVOR</code></li>\n<li>Insert your regex</li>\n<li>Open <code>TOOLS -&gt; Code Generator (LANGUAGE - Java)</code></li>\n<li>Copy-paste</li>\n</ol>\n\n<p>Even though it isn't hardcore programmer way, it is significantly less error-prone.\nEspecially if you need to convert only one or two expressions.</p>\n"},{"tags":[],"owner":{"account_id":10593161,"reputation":79,"user_id":7802954,"display_name":"Bhanu PS Kushwah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666095712,"creation_date":1666095712,"answer_id":74110891,"question_id":8754444,"body_markdown":"**Javascript regex pattern to java 8 regex pattern.**\r\n\r\nAbove comment I think he forget to mention some point when we convert such **complex Javascript based regex pattern**.\r\nFor example below regex basically for email validate. \r\n\r\n^(([^&lt;&gt;#&amp;%/?~()\\[\\]\\.,;:|\\s@\\&quot;]+(\\.[^&lt;&gt;#&amp;%/?~()\\[\\]\\.,;:|\\s@\\&quot;]+)*)|(\\&quot;.+\\&quot;))@((&lt;&gt;#&amp;%/?~()[\\]\\.,;:|\\s@\\&quot;]+\\.)+&lt;&gt;#&amp;%/?~()[\\]\\.,;:|\\s@\\&quot;]+)$\r\n\r\nGo to **https://regex101.com** \r\n\r\nInsert your regex. \r\n\r\nThen select Java 8 refer below screenshot. \r\n\r\nYou can see in below screenshot there is some error showing in right hand side just fix that error and copy the same script and it will work same as in JS.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI fixed that error which was showing please refer below screenshot. It will give true if user have given invalid mail address. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAdding below code snap which help you to test string cases\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString testEmailAddress = &quot;hello@gmail.com&quot;;\r\n    \t\tPattern _PATTERN = Pattern.compile(&quot;^(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+(\\\\.[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+)*)|(\\\\\\&quot;.+\\\\\\&quot;))@(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+\\\\.)+[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+)$&quot;);\r\n\r\n    \t\tif (!_PATTERN .matcher(testEmailAddress).matches()) {\r\n    \t\t\tSystem.out.println(true);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(false);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YMy34.png\r\n  [2]: https://i.stack.imgur.com/hHIIr.png","title":"Convert Javascript regular expression to Java syntax","body":"<p><strong>Javascript regex pattern to java 8 regex pattern.</strong></p>\n<p>Above comment I think he forget to mention some point when we convert such <strong>complex Javascript based regex pattern</strong>.\nFor example below regex basically for email validate.</p>\n<p>^(([^&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+(.[^&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+)*)|(&quot;.+&quot;))@((&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+.)+&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+)$</p>\n<p>Go to <strong><a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">https://regex101.com</a></strong></p>\n<p>Insert your regex.</p>\n<p>Then select Java 8 refer below screenshot.</p>\n<p>You can see in below screenshot there is some error showing in right hand side just fix that error and copy the same script and it will work same as in JS.</p>\n<p><a href=\"https://i.stack.imgur.com/YMy34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YMy34.png\" alt=\"enter image description here\" /></a></p>\n<p>I fixed that error which was showing please refer below screenshot. It will give true if user have given invalid mail address.</p>\n<p><a href=\"https://i.stack.imgur.com/hHIIr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hHIIr.png\" alt=\"enter image description here\" /></a></p>\n<p>Adding below code snap which help you to test string cases</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.util.regex.Pattern;\n\npublic class Test {\n    public static void main(String[] args) {\n        String testEmailAddress = \"hello@gmail.com\";\n        Pattern _PATTERN = Pattern.compile(\"^(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+(\\\\.[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+)*)|(\\\\\\\".+\\\\\\\"))@(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+\\\\.)+[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+)$\");\n\n        if (!_PATTERN .matcher(testEmailAddress).matches()) {\n            System.out.println(true);\n        } else {\n            System.out.println(false);\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43524,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":8754472,"answer_count":7,"score":39,"last_activity_date":1692792678,"creation_date":1325833032,"question_id":8754444,"body_markdown":"I am aware that regEx are common across languages...But I am having trouble in writing the Java syntax.\r\nI have a regular expression coded in JS as;\r\n\r\n    if((/[a-zA-Z]/).test(str) &amp;&amp; (/[0-9]|[\\x21-\\x2F|\\x3A-\\x40|\\x5B-\\x60|\\x7B-\\x7E]/).test(str))    \t\t\r\n    return true;\r\n\r\nHow do I write the same in Java ?\r\n\r\nI have imported\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n\r\nJust to add, from what I am trying it is saying \\x is an invalid escape character..\r\n","title":"Convert Javascript regular expression to Java syntax","body":"<p>I am aware that regEx are common across languages...But I am having trouble in writing the Java syntax.\nI have a regular expression coded in JS as;</p>\n\n<pre><code>if((/[a-zA-Z]/).test(str) &amp;&amp; (/[0-9]|[\\x21-\\x2F|\\x3A-\\x40|\\x5B-\\x60|\\x7B-\\x7E]/).test(str))         \nreturn true;\n</code></pre>\n\n<p>How do I write the same in Java ?</p>\n\n<p>I have imported</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n</code></pre>\n\n<p>Just to add, from what I am trying it is saying \\x is an invalid escape character..</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":424031,"reputation":12090,"user_id":803801,"accept_rate":71,"display_name":"gsgx"},"score":2,"creation_date":1325807364,"post_id":8751568,"comment_id":10903799,"body_markdown":"The answer is I needed to escape the `{}`. However, I did need a `+` instead of a `*`","body":"The answer is I needed to escape the <code>{}</code>. However, I did need a <code>+</code> instead of a <code>*</code>"}],"tags":[],"owner":{"account_id":71375,"reputation":2999,"user_id":206502,"accept_rate":100,"display_name":"Jirka Kopřiva"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1325807344,"creation_date":1325807013,"answer_id":8751568,"question_id":8751482,"body_markdown":"There should be plus operator:\r\n\r\n    user_id : [0-9]+\r\n\r\nDouble apostrophes only when the string has to contain it.\r\n\r\nWhen the string including curly brackets use:\r\n\r\n    \\{user_id : [0-9]+\\}\r\n","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p>There should be plus operator:</p>\n\n<pre><code>user_id : [0-9]+\n</code></pre>\n\n<p>Double apostrophes only when the string has to contain it.</p>\n\n<p>When the string including curly brackets use:</p>\n\n<pre><code>\\{user_id : [0-9]+\\}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3071426,"reputation":6563,"user_id":2601995,"accept_rate":100,"display_name":"user2601995"},"score":11,"creation_date":1423354583,"post_id":8751574,"comment_id":45115726,"body_markdown":"As a side note, brackets `[` `]` are also reserved. http://stackoverflow.com/questions/14442162/java-replace-all-square-brackets-in-a-string","body":"As a side note, brackets <code>[</code> <code>]</code> are also reserved. <a href=\"http://stackoverflow.com/questions/14442162/java-replace-all-square-brackets-in-a-string\" title=\"java replace all square brackets in a string\">stackoverflow.com/questions/14442162/&hellip;</a>"},{"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"score":1,"creation_date":1634765335,"post_id":8751574,"comment_id":123117112,"body_markdown":"Same for parenthesis ( )  used in capture groups.","body":"Same for parenthesis ( )  used in capture groups."}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":2,"down_vote_count":0,"up_vote_count":231,"is_accepted":true,"score":231,"last_activity_date":1537831672,"creation_date":1325807034,"answer_id":8751574,"question_id":8751482,"body_markdown":"The `{` and `}` are special in Java&#39;s regex dialect (and most other dialects for that matter): they are the opening and closing tokens for the repetition quantifier `{n,m}` where `n` and `m` are integers. Hence the error message: &quot;Illegal repetition&quot;.\r\n\r\nYou should escape them: `&quot;\\\\{\\&quot;user_id\\&quot; : [0-9]*\\\\}&quot;`.\r\n\r\nAnd since you seem to be trying to parse JSON, I suggest you have a look at [Jackson][1].\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p>The <code>{</code> and <code>}</code> are special in Java's regex dialect (and most other dialects for that matter): they are the opening and closing tokens for the repetition quantifier <code>{n,m}</code> where <code>n</code> and <code>m</code> are integers. Hence the error message: \"Illegal repetition\".</p>\n\n<p>You should escape them: <code>\"\\\\{\\\"user_id\\\" : [0-9]*\\\\}\"</code>.</p>\n\n<p>And since you seem to be trying to parse JSON, I suggest you have a look at <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a>.</p>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664287118,"creation_date":1664221902,"answer_id":73859278,"question_id":8751482,"body_markdown":"**@IntelliJ** IDE for example detects the inconsistency. Depending on the input, What you could do is to escape the characters or handle the problem using the data provided by the exception.\r\n\r\n[![enter image description here][1]][1]\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.util.regex.PatternSyntaxException;\r\n\r\npublic class StackOverflow {\r\n    private static String REGEX = &quot;{\\&quot;user_id\\&quot; : [0-9]*}&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Pattern pattern = Pattern.compile(REGEX);\r\n\r\n            // get a matcher object\r\n            String input = &quot;Hello stackoverflow&quot;;\r\n            Matcher matcher = pattern.matcher(input);\r\n            input = matcher.replaceAll(&quot;something&quot;);\r\n        } catch (PatternSyntaxException e){\r\n            System.out.println(&quot;PatternSyntaxException: &quot;);\r\n            System.out.println(&quot;Description: &quot;+ e.getDescription());\r\n            System.out.println(&quot;Index: &quot;+ e.getIndex());\r\n            System.out.println(&quot;Message: &quot;+ e.getMessage());\r\n            System.out.println(&quot;Pattern: &quot;+ e.getPattern());\r\n        }\r\n    }\r\n}\r\n```\r\n**Output** \r\n```\r\nPatternSyntaxException: \r\nDescription: Illegal repetition\r\nIndex: 1\r\nMessage: Illegal repetition near index 1\r\n{&quot;user_id&quot; : [0-9]*}\r\n ^\r\nPattern: {&quot;user_id&quot; : [0-9]*}\r\n```\r\n**Possible solution**\r\n```java\r\n\r\ncatch... ex\r\n    StringBuilder sb = new StringBuilder(text);\r\n    sb.insert(ex.getIndex() + 1, &quot;\\\\&quot;);\r\n    matcher.replaceAll(sb.toString())\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/bGgQT.png","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p><strong>@IntelliJ</strong> IDE for example detects the inconsistency. Depending on the input, What you could do is to escape the characters or handle the problem using the data provided by the exception.</p>\n<p><a href=\"https://i.stack.imgur.com/bGgQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGgQT.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.regex.PatternSyntaxException;\n\npublic class StackOverflow {\n    private static String REGEX = &quot;{\\&quot;user_id\\&quot; : [0-9]*}&quot;;\n\n    public static void main(String[] args) {\n        try {\n            Pattern pattern = Pattern.compile(REGEX);\n\n            // get a matcher object\n            String input = &quot;Hello stackoverflow&quot;;\n            Matcher matcher = pattern.matcher(input);\n            input = matcher.replaceAll(&quot;something&quot;);\n        } catch (PatternSyntaxException e){\n            System.out.println(&quot;PatternSyntaxException: &quot;);\n            System.out.println(&quot;Description: &quot;+ e.getDescription());\n            System.out.println(&quot;Index: &quot;+ e.getIndex());\n            System.out.println(&quot;Message: &quot;+ e.getMessage());\n            System.out.println(&quot;Pattern: &quot;+ e.getPattern());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>PatternSyntaxException: \nDescription: Illegal repetition\nIndex: 1\nMessage: Illegal repetition near index 1\n{&quot;user_id&quot; : [0-9]*}\n ^\nPattern: {&quot;user_id&quot; : [0-9]*}\n</code></pre>\n<p><strong>Possible solution</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\ncatch... ex\n    StringBuilder sb = new StringBuilder(text);\n    sb.insert(ex.getIndex() + 1, &quot;\\\\&quot;);\n    matcher.replaceAll(sb.toString())\n</code></pre>\n"}],"owner":{"account_id":424031,"reputation":12090,"user_id":803801,"accept_rate":71,"display_name":"gsgx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124144,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":8751574,"answer_count":3,"score":131,"last_activity_date":1692792636,"creation_date":1325806465,"question_id":8751482,"body_markdown":"I don&#39;t know much regex, but I need to match a simple pattern. The following should return true,\r\n\r\n    Pattern.matches(&quot;{\\&quot;user_id\\&quot; : [0-9]*}&quot;, inputLine)\r\n\r\nwhen inputLine is\r\n\r\n    {&quot;user_id&quot; : 34}\r\n\r\nHowever, I&#39;m getting this exception:\r\n\r\n    java.util.regex.PatternSyntaxException: Illegal repetition\r\n    {&quot;user_id&quot; : 24}\r\n    \tat java.util.regex.Pattern.error(Unknown Source)\r\n    \tat java.util.regex.Pattern.closure(Unknown Source)\r\n    \tat java.util.regex.Pattern.sequence(Unknown Source)\r\n    \tat java.util.regex.Pattern.expr(Unknown Source)\r\n    \tat java.util.regex.Pattern.compile(Unknown Source)\r\n    \tat java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\r\n    \tat java.util.regex.Pattern.compile(Unknown Source)\r\n    \tat java.util.regex.Pattern.matches(Unknown Source)\r\n    \tat org.whispercomm.manes.server.http.IntegrationTest.createUser(IntegrationTest.java:173)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n\r\nWhat am I doing wrong?","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p>I don't know much regex, but I need to match a simple pattern. The following should return true,</p>\n\n<pre><code>Pattern.matches(\"{\\\"user_id\\\" : [0-9]*}\", inputLine)\n</code></pre>\n\n<p>when inputLine is</p>\n\n<pre><code>{\"user_id\" : 34}\n</code></pre>\n\n<p>However, I'm getting this exception:</p>\n\n<pre><code>java.util.regex.PatternSyntaxException: Illegal repetition\n{\"user_id\" : 24}\n    at java.util.regex.Pattern.error(Unknown Source)\n    at java.util.regex.Pattern.closure(Unknown Source)\n    at java.util.regex.Pattern.sequence(Unknown Source)\n    at java.util.regex.Pattern.expr(Unknown Source)\n    at java.util.regex.Pattern.compile(Unknown Source)\n    at java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\n    at java.util.regex.Pattern.compile(Unknown Source)\n    at java.util.regex.Pattern.matches(Unknown Source)\n    at org.whispercomm.manes.server.http.IntegrationTest.createUser(IntegrationTest.java:173)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","regex","serial-port"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324892902,"post_id":8634591,"comment_id":10723428,"body_markdown":"What do you mean by &quot;alphabet a&quot;? `(a)` will just capture the `a` character in a group, you don&#39;t even need the parentheses here if you don&#39;t want to catpure the a. Same goes for the space and the quote.","body":"What do you mean by &quot;alphabet a&quot;? <code>(a)</code> will just capture the <code>a</code> character in a group, you don&#39;t even need the parentheses here if you don&#39;t want to catpure the a. Same goes for the space and the quote."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324893008,"post_id":8634591,"comment_id":10723452,"body_markdown":"And you didn&#39;t tell what you wanted to capture either. Give sample input data and what you want as a result.","body":"And you didn&#39;t tell what you wanted to capture either. Give sample input data and what you want as a result."},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324898022,"post_id":8634591,"comment_id":10724193,"body_markdown":"The above string will be a the sample data. Following a there will 017 and a space. This string is read through the serial port from a device.","body":"The above string will be a the sample data. Following a there will 017 and a space. This string is read through the serial port from a device."},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324898159,"post_id":8634591,"comment_id":10724209,"body_markdown":"oh so how will my pattern be defined? thank you","body":"oh so how will my pattern be defined? thank you"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324898215,"post_id":8634591,"comment_id":10724221,"body_markdown":"Please edit your post to include that sample data and what you want out of it","body":"Please edit your post to include that sample data and what you want out of it"},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324898762,"post_id":8634591,"comment_id":10724302,"body_markdown":"On running the above program, I couldn&#39;t append the file or get a value for m1.group(); \nis this because of continous flow of data or any logical issues with my code?","body":"On running the above program, I couldn&#39;t append the file or get a value for m1.group();  is this because of continous flow of data or any logical issues with my code?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324899003,"post_id":8634591,"comment_id":10724328,"body_markdown":"I&#39;m sorry, I just don&#39;t understand, is this really all you want to extract? Where does that come from?","body":"I&#39;m sorry, I just don&#39;t understand, is this really all you want to extract? Where does that come from?"},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324899105,"post_id":8634591,"comment_id":10724346,"body_markdown":"its being generated by an external machine through a serial port.The sample data is similar to wat the machine sends. This data is read and then decoded.What i&#39;m trying to do is decode as and when i receive it.","body":"its being generated by an external machine through a serial port.The sample data is similar to wat the machine sends. This data is read and then decoded.What i&#39;m trying to do is decode as and when i receive it."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324903021,"post_id":8634591,"comment_id":10724985,"body_markdown":"OK, but I don&#39;t see how your sample data relates to the CSV at all. Please be more specific.","body":"OK, but I don&#39;t see how your sample data relates to the CSV at all. Please be more specific."},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324912697,"post_id":8634591,"comment_id":10726573,"body_markdown":"I&#39;m appending the System time , 17 , 00\n17 comes from pattern p1 and 00 comes from pattern p2. \ni defined a \nFileWriter writer = new FileWriter(&quot;test.csv&quot;);","body":"I&#39;m appending the System time , 17 , 00 17 comes from pattern p1 and 00 comes from pattern p2.  i defined a  FileWriter writer = new FileWriter(&quot;test.csv&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":451220,"reputation":36,"user_id":846988,"display_name":"cheapwax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1359319331,"creation_date":1359319331,"answer_id":14552033,"question_id":8634591,"body_markdown":"Let&#39;s clarify the specification based on the comments.  This is the input string:\r\n\r\n   79 0009a017 009a047\r\n\r\nThis is the output string:\r\n\r\n    017,00\r\n\r\nAnd &quot;017&quot; is a decimal (not octal) number.  It may be convient to format it as &quot;17&quot; later.\r\n\r\nAs was mentioned in the comments, this regular expression is incorrect:\r\n\r\n    Pattern p1 = Pattern.compile(&quot;\\\\b(a)\\\\w*( )\\\\b&quot;);\r\n\r\nIt should be:\r\n\r\n    Pattern p1 = Pattern.compile(&quot;a(\\\\d+) (\\\\d{2})&quot;);\r\n\r\nQuick demonstration:\r\n\r\n    echo &quot;79 0009a017 009a047&quot; | perl -lne &#39;print $1,&quot;,&quot;,$2 if /a(\\d+) (\\d{2})/&#39;\r\n    017,00\r\n\r\n","title":"Calling a matcher function inside a try while reading continuous data using GNU","body":"<p>Let's clarify the specification based on the comments.  This is the input string:</p>\n\n<p>79 0009a017 009a047</p>\n\n<p>This is the output string:</p>\n\n<pre><code>017,00\n</code></pre>\n\n<p>And \"017\" is a decimal (not octal) number.  It may be convient to format it as \"17\" later.</p>\n\n<p>As was mentioned in the comments, this regular expression is incorrect:</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"\\\\b(a)\\\\w*( )\\\\b\");\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"a(\\\\d+) (\\\\d{2})\");\n</code></pre>\n\n<p>Quick demonstration:</p>\n\n<pre><code>echo \"79 0009a017 009a047\" | perl -lne 'print $1,\",\",$2 if /a(\\d+) (\\d{2})/'\n017,00\n</code></pre>\n"}],"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14552033,"answer_count":1,"score":2,"last_activity_date":1692792592,"creation_date":1324892753,"question_id":8634591,"body_markdown":"    case SerialPortEvent.DATA_AVAILABLE:\r\n\r\n          byte[] readBuffer = new byte[64];\r\n         try {\r\n                // read data\r\n                int numBytes = inputStream.read(readBuffer);\r\n                inputStream.close();\r\n                //-------------------------------\r\n               //send the received data to the GUI\r\n                String result = new String(readBuffer,0,numBytes);\r\n                //-----------------------------\r\n                gui.setjtaReceived(result);\r\n               \r\n                matcher(result,writer,df);\r\n\t\t\t\t//gui.setjtaReceived(result);\r\n         }\r\n         catch (IOException e) {exceptionReport(e);}\r\n\r\nIn the above switch case for SerialPortEvent.Dat_Available, I&#39;m receiving continuous data in real time. The matcher function calls for the below defined function\r\n\r\n        private void matcher(String str,FileWriter writer,DateFormat df) {\r\n        Matcher m1 = p1.matcher(str);\r\n        Matcher m2 = p2.matcher(str);\r\n    \tSystem.out.println(m1.group());\r\n    \tCalendar cal = Calendar.getInstance();\r\n    \tString match_heartBeat = null;\r\n    \tString match1 = m1.group();\r\n \t\tint length1 = match1.length();\r\n \t    if(m2.find()){\r\n \t    \tString match2 = m2.group();\r\n \t    \tint length2 = match2.length();\r\n \t    \tmatch_heartBeat = match2.substring(2, length2-1);\r\n \t    \t//System.out.println(match1.subSequence(2, 4) + &quot;;&quot; + match_heartBeat);\r\n \t    }\r\n \t    String realTime = df.format(cal.getTime());\r\n \t    writer.append(realTime);\r\n \t    writer.append(&#39;,&#39;);\r\n \t    writer.append(match1.subSequence(2, length1-1));\r\n \t    writer.append(&#39;,&#39;);\r\n \t    writer.append(match_heartBeat);\r\n \t    writer.append(&#39;\\n&#39;);\r\n \t    writer.flush();\r\n    \t\r\n     \t\r\n     }\r\nWhen I tried writing to an external csv file or even doing a System.out.println(m1.group) or System.out.println(match_heartBeat), I couldn&#39;t write it to the file or print to screen. however System.out.println(m1) is printed on screen. Any idea how to overcome this? I&#39;m trying to decode the data received in realtime. \r\nThe pattern is as follows:\r\n\r\n        Pattern p1 = Pattern.compile(&quot;\\\\b(a)\\\\w*( )\\\\b&quot;);\r\n        Pattern p2 = Pattern.compile(&quot;\\\\b(&#39;)\\\\w*( )\\\\b&quot;);\r\nIt looks for alphabet &#39;a&#39; until space and &#39; to space. The file &#39;writer&#39; is generated once the program starts running. But could append the decoded data.\r\n\r\nSample data:\r\n\r\n    79 0009a017 009a047 9%0009a047 90009a046 9%0009a0469 0009a045 9%0009a0459&#39;00 90009a045 9%0009a044 90009a044 9%0009a044 9 \r\n\r\nSample output\r\nCSV file\r\n\r\n    System time , 17 , 00","title":"Calling a matcher function inside a try while reading continuous data using GNU","body":"<pre><code>case SerialPortEvent.DATA_AVAILABLE:\n\n      byte[] readBuffer = new byte[64];\n     try {\n            // read data\n            int numBytes = inputStream.read(readBuffer);\n            inputStream.close();\n            //-------------------------------\n           //send the received data to the GUI\n            String result = new String(readBuffer,0,numBytes);\n            //-----------------------------\n            gui.setjtaReceived(result);\n\n            matcher(result,writer,df);\n            //gui.setjtaReceived(result);\n     }\n     catch (IOException e) {exceptionReport(e);}\n</code></pre>\n\n<p>In the above switch case for SerialPortEvent.Dat_Available, I'm receiving continuous data in real time. The matcher function calls for the below defined function</p>\n\n<pre><code>    private void matcher(String str,FileWriter writer,DateFormat df) {\n    Matcher m1 = p1.matcher(str);\n    Matcher m2 = p2.matcher(str);\n    System.out.println(m1.group());\n    Calendar cal = Calendar.getInstance();\n    String match_heartBeat = null;\n    String match1 = m1.group();\n    int length1 = match1.length();\n    if(m2.find()){\n        String match2 = m2.group();\n        int length2 = match2.length();\n        match_heartBeat = match2.substring(2, length2-1);\n        //System.out.println(match1.subSequence(2, 4) + \";\" + match_heartBeat);\n    }\n    String realTime = df.format(cal.getTime());\n    writer.append(realTime);\n    writer.append(',');\n    writer.append(match1.subSequence(2, length1-1));\n    writer.append(',');\n    writer.append(match_heartBeat);\n    writer.append('\\n');\n    writer.flush();\n\n\n }\n</code></pre>\n\n<p>When I tried writing to an external csv file or even doing a System.out.println(m1.group) or System.out.println(match_heartBeat), I couldn't write it to the file or print to screen. however System.out.println(m1) is printed on screen. Any idea how to overcome this? I'm trying to decode the data received in realtime. \nThe pattern is as follows:</p>\n\n<pre><code>    Pattern p1 = Pattern.compile(\"\\\\b(a)\\\\w*( )\\\\b\");\n    Pattern p2 = Pattern.compile(\"\\\\b(')\\\\w*( )\\\\b\");\n</code></pre>\n\n<p>It looks for alphabet 'a' until space and ' to space. The file 'writer' is generated once the program starts running. But could append the decoded data.</p>\n\n<p>Sample data:</p>\n\n<pre><code>79 0009a017 009a047 9%0009a047 90009a046 9%0009a0469 0009a045 9%0009a0459'00 90009a045 9%0009a044 90009a044 9%0009a044 9 \n</code></pre>\n\n<p>Sample output\nCSV file</p>\n\n<pre><code>System time , 17 , 00\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1316723739,"post_id":7521118,"comment_id":9109780,"body_markdown":"Is this a post-mortem fix for a character encoding issue?","body":"Is this a post-mortem fix for a character encoding issue?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1316723742,"post_id":7521118,"comment_id":9109781,"body_markdown":"Any reason you want to use a regular expression for this rather than just replacing one character sequence with another?","body":"Any reason you want to use a regular expression for this rather than just replacing one character sequence with another?"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1316723768,"post_id":7521118,"comment_id":9109790,"body_markdown":"How will you avoid `Is this John?s ball?` from turning into `Is this John&#39;s ball&#39;`","body":"How will you avoid <code>Is this John?s ball?</code> from turning into <code>Is this John&#39;s ball&#39;</code>"}],"answers":[{"comments":[{"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":0,"creation_date":1316724143,"post_id":7521181,"comment_id":9109892,"body_markdown":"Is this John?s ball? -&gt; Is this John&#39;s ball&#39;","body":"Is this John?s ball? -&gt; Is this John&#39;s ball&#39;"},{"owner":{"account_id":374427,"reputation":81252,"user_id":724626,"accept_rate":100,"display_name":"Joe"},"score":0,"creation_date":1316724269,"post_id":7521181,"comment_id":9109944,"body_markdown":"@smas, that won&#39;t happen because of `([st])`","body":"@smas, that won&#39;t happen because of <code>([st])</code>"},{"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":0,"creation_date":1316724486,"post_id":7521181,"comment_id":9110014,"body_markdown":"I&#39;ve commented the 1st version of your post. But still replacing &#39;?&#39; to &#39; is strange to me.","body":"I&#39;ve commented the 1st version of your post. But still replacing &#39;?&#39; to &#39; is strange to me."}],"tags":[],"owner":{"account_id":374427,"reputation":81252,"user_id":724626,"accept_rate":100,"display_name":"Joe"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1316724165,"creation_date":1316723827,"answer_id":7521181,"question_id":7521118,"body_markdown":"[string.replaceall][1]\r\n\r\n     String fixed = old.replaceAll(&quot;\\\\?([ts])&quot;, &quot;&#39;$1&quot;);\r\n\r\nHere&#39;s an [**example**][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://ideone.com/cJEYh","title":"Replace a character squence in java using regular expression","body":"<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">string.replaceall</a></p>\n\n<pre><code> String fixed = old.replaceAll(\"\\\\?([ts])\", \"'$1\");\n</code></pre>\n\n<p>Here's an <a href=\"http://ideone.com/cJEYh\" rel=\"nofollow\"><strong>example</strong></a></p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316725197,"creation_date":1316725197,"answer_id":7521456,"question_id":7521118,"body_markdown":"In this case you could use:\r\n\r\n    s = s.replaceAll(&quot;\\\\b?\\\\b&quot;, &quot;&#39;&quot;);\r\n\r\nThen you&#39;ll be much less likely to replace legitimate question marks, as @glowcoder mentioned.  However, I think @Philipp is right, and this is really a character-encoding issue.  It looks like your text was supposed to be:\r\n\r\n    &quot;This ball isn’t yours, this one is John’s&quot;\r\n\r\nIf it was encoded as cp-1252 but decoded as ASCII, the curly single-quotes would be replaced with question marks.  If that&#39;s the case, you&#39;re likely to find other characters, like curly double-quotes (`“ ”`), en-dash (`–`) and em-dash (`—`), that have been munged in the same way.","title":"Replace a character squence in java using regular expression","body":"<p>In this case you could use:</p>\n\n<pre><code>s = s.replaceAll(\"\\\\b?\\\\b\", \"'\");\n</code></pre>\n\n<p>Then you'll be much less likely to replace legitimate question marks, as @glowcoder mentioned.  However, I think @Philipp is right, and this is really a character-encoding issue.  It looks like your text was supposed to be:</p>\n\n<pre><code>\"This ball isn’t yours, this one is John’s\"\n</code></pre>\n\n<p>If it was encoded as cp-1252 but decoded as ASCII, the curly single-quotes would be replaced with question marks.  If that's the case, you're likely to find other characters, like curly double-quotes (<code>“ ”</code>), en-dash (<code>–</code>) and em-dash (<code>—</code>), that have been munged in the same way.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692792565,"creation_date":1692792565,"answer_id":76961221,"question_id":7521118,"body_markdown":"In this particular case, a regular expression is not needed.\r\n```\r\nString s = &quot;This ball isn?t yours, this one is John?s&quot;;\r\ns = s.replace(&quot;?&quot;,&quot;&#39;&quot;);\r\nSystem.out.println(s);\r\n```\r\nprints\r\n```\r\nThis ball isn&#39;t yours, this one is John&#39;s\r\n","title":"Replace a character squence in java using regular expression","body":"<p>In this particular case, a regular expression is not needed.</p>\n<pre><code>String s = &quot;This ball isn?t yours, this one is John?s&quot;;\ns = s.replace(&quot;?&quot;,&quot;'&quot;);\nSystem.out.println(s);\n</code></pre>\n<p>prints</p>\n<pre><code>This ball isn't yours, this one is John's\n</code></pre>\n"}],"owner":{"account_id":357104,"reputation":335,"user_id":697053,"accept_rate":47,"display_name":"Amer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7521181,"answer_count":3,"score":0,"last_activity_date":1692792565,"creation_date":1316723549,"question_id":7521118,"body_markdown":"I have the following text\r\n\r\n&quot;This ball isn?t yours, this one is John?s&quot;\r\n\r\nI want to correct this to be \r\n\r\n&quot;This ball isn&#39;t yours, this one is John&#39;s&quot;\r\n\r\nHow can I do this in Java using Pattern and Matcher?","title":"Replace a character squence in java using regular expression","body":"<p>I have the following text</p>\n\n<p>\"This ball isn?t yours, this one is John?s\"</p>\n\n<p>I want to correct this to be </p>\n\n<p>\"This ball isn't yours, this one is John's\"</p>\n\n<p>How can I do this in Java using Pattern and Matcher?</p>\n"},{"tags":["java","regex","regex-greedy"],"comments":[{"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":0,"creation_date":1324285678,"post_id":8558966,"comment_id":10608238,"body_markdown":"Your requirements are unclear. Do you want to assert that 11, 33, and 55 are present in the string, but that 77 isn&#39;t? Is the order of numbers relevant? What are you actually trying to achieve?","body":"Your requirements are unclear. Do you want to assert that 11, 33, and 55 are present in the string, but that 77 isn&#39;t? Is the order of numbers relevant? What are you actually trying to achieve?"},{"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"score":0,"creation_date":1324286594,"post_id":8558966,"comment_id":10608465,"body_markdown":"I want all 11 or 33 or 55. In aa33ss33dd33ee I need 3 times 33","body":"I want all 11 or 33 or 55. In aa33ss33dd33ee I need 3 times 33"},{"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"score":0,"creation_date":1324287641,"post_id":8558966,"comment_id":10608723,"body_markdown":"I use:\n    Pattern p = Pattern.compile(&quot;(11|33|55)&quot;);\n    Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);\n    int start = 0;\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\n    while (m.find()) {\n        matches.add(m.group());\n    }\n    System.err.println(&quot;matches = &quot; + matches);","body":"I use:     Pattern p = Pattern.compile(&quot;(11|33|55)&quot;);     Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);     int start = 0;     List&lt;String&gt; matches = new ArrayList&lt;String&gt;();     while (m.find()) {         matches.add(m.group());     }     System.err.println(&quot;matches = &quot; + matches);"}],"answers":[{"comments":[{"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":0,"creation_date":1324285732,"post_id":8558993,"comment_id":10608254,"body_markdown":"This finds any two-digit number, not just 11, 33 or 55 (although it&#39;s unclear to me what @tricpod would need a regex for this anyway).","body":"This finds any two-digit number, not just 11, 33 or 55 (although it&#39;s unclear to me what @tricpod would need a regex for this anyway)."},{"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"score":0,"creation_date":1324286719,"post_id":8558993,"comment_id":10608500,"body_markdown":"Oh my question was not precise enough. 11 33 55 are only an example.","body":"Oh my question was not precise enough. 11 33 55 are only an example."},{"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":0,"creation_date":1324287483,"post_id":8558993,"comment_id":10608691,"body_markdown":"Then this is the correct solution. +1 for best use of crystal ball today.","body":"Then this is the correct solution. +1 for best use of crystal ball today."}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1324285138,"creation_date":1324285138,"answer_id":8558993,"question_id":8558966,"body_markdown":"Use `(?!77)(\\d\\d)` as a `Pattern` and `while (m.find()) { m.group(1) }` where `m` is a `Matcher`.","title":"Java Regexp Groups","body":"<p>Use <code>(?!77)(\\d\\d)</code> as a <code>Pattern</code> and <code>while (m.find()) { m.group(1) }</code> where <code>m</code> is a <code>Matcher</code>.</p>\n"},{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324285549,"creation_date":1324285549,"answer_id":8559046,"question_id":8558966,"body_markdown":"Groups are fixed, you cannot use &quot;+&quot; on a group to get a list of matches. You have to do this with a loop:\r\n\r\n        Pattern p = Pattern.compile(&quot;((11)|(33)|(55))&quot;);\r\n        Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);\r\n        int start = 0;\r\n        List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\r\n        while (m.find()) {\r\n            matches.add(m.group());\r\n        }\r\n        System.err.println(&quot;matches = &quot; + matches);\r\n","title":"Java Regexp Groups","body":"<p>Groups are fixed, you cannot use \"+\" on a group to get a list of matches. You have to do this with a loop:</p>\n\n<pre><code>    Pattern p = Pattern.compile(\"((11)|(33)|(55))\");\n    Matcher m = p.matcher(\"asd11sdf33sdf55sdfg77sdf\");\n    int start = 0;\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\n    while (m.find()) {\n        matches.add(m.group());\n    }\n    System.err.println(\"matches = \" + matches);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455438,"reputation":2729,"user_id":853599,"accept_rate":95,"display_name":"Dante WWWW"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324286578,"creation_date":1324286135,"answer_id":8559159,"question_id":8558966,"body_markdown":"try to use  \r\n\r\n    .*?(11|33|55)\r\n\r\nas your regexp to compile the pattern, and use the loop in fge&#39;s answer. (and I think his answer is more universal and meaningful...\r\n\r\nThis is because the .* or something after (11|33|55) in your regexp matches the whole string after 11. (and if you use greedy match the .* before (11|33|55) will match the whole string before 55... just because it is greedy)\r\n\r\nThis way you will get a match whose match(1) is 11, find() is the match of string after 11.\r\n\r\ntested with http://www.regexplanet.com/simple/index.html","title":"Java Regexp Groups","body":"<p>try to use  </p>\n\n<pre><code>.*?(11|33|55)\n</code></pre>\n\n<p>as your regexp to compile the pattern, and use the loop in fge's answer. (and I think his answer is more universal and meaningful...</p>\n\n<p>This is because the .* or something after (11|33|55) in your regexp matches the whole string after 11. (and if you use greedy match the .* before (11|33|55) will match the whole string before 55... just because it is greedy)</p>\n\n<p>This way you will get a match whose match(1) is 11, find() is the match of string after 11.</p>\n\n<p>tested with <a href=\"http://www.regexplanet.com/simple/index.html\" rel=\"nofollow\">http://www.regexplanet.com/simple/index.html</a></p>\n"}],"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8558993,"answer_count":3,"score":2,"last_activity_date":1692792504,"creation_date":1324284939,"question_id":8558966,"body_markdown":"I need a expression to extract some alternatives. The input is:\r\n\r\n    asd11sdf33sdf55sdfg77sdf\r\n\r\nI need the 11 33 and 55 but not 77.\r\n\r\nI tried first: \r\n\r\n    .*(((11)|(33)|(55)).*)+.*\r\n\r\nSo I got only 55. But with lazy (non greedy)\r\n\r\n    .*?(((11)|(33)|(55)).*)+.*\r\n\r\nI got only 11. How to get all?\r\n\r\nregards Thomas\r\n","title":"Java Regexp Groups","body":"<p>I need a expression to extract some alternatives. The input is:</p>\n\n<pre><code>asd11sdf33sdf55sdfg77sdf\n</code></pre>\n\n<p>I need the 11 33 and 55 but not 77.</p>\n\n<p>I tried first: </p>\n\n<pre><code>.*(((11)|(33)|(55)).*)+.*\n</code></pre>\n\n<p>So I got only 55. But with lazy (non greedy)</p>\n\n<pre><code>.*?(((11)|(33)|(55)).*)+.*\n</code></pre>\n\n<p>I got only 11. How to get all?</p>\n\n<p>regards Thomas</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":1011299,"reputation":26793,"user_id":1023815,"display_name":"Adam Zalcman"},"score":0,"creation_date":1324233728,"post_id":8553813,"comment_id":10600383,"body_markdown":"@fge Nope. Shell does **not** turn &quot;\\d+&quot; into &quot;d+&quot;. See bash manpage.","body":"@fge Nope. Shell does <b>not</b> turn &quot;\\d+&quot; into &quot;d+&quot;. See bash manpage."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324234125,"post_id":8553813,"comment_id":10600469,"body_markdown":"Yes indeed, sorry for the confusion...","body":"Yes indeed, sorry for the confusion..."},{"owner":{"account_id":1600677,"reputation":2713,"user_id":1481755,"accept_rate":69,"display_name":"sdc"},"score":0,"creation_date":1475139281,"post_id":8553813,"comment_id":66826147,"body_markdown":"@AdamZalcman, can you elaborate on the **Empty string** at the end. Is there a hidden termination character? Like C&#39;s `\\0` why is there an empty char at the end of the string? Does the bash shell inject a `\\n` or `\\r` I am confused as to why there are 6 indices.","body":"@AdamZalcman, can you elaborate on the <b>Empty string</b> at the end. Is there a hidden termination character? Like C&#39;s <code>\\0</code> why is there an empty char at the end of the string? Does the bash shell inject a <code>\\n</code> or <code>\\r</code> I am confused as to why there are 6 indices."}],"tags":[],"owner":{"account_id":1011299,"reputation":26793,"user_id":1023815,"display_name":"Adam Zalcman"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1324233048,"creation_date":1324233048,"answer_id":8553813,"question_id":8553761,"body_markdown":"It is helpful to change\r\n\r\n    System.out.print(m.start() + m.group());\r\n\r\nto\r\n\r\n    System.out.println(m.start() + &quot;: &quot; + m.group());\r\n\r\nThis way the output is much clearer:\r\n\r\n    0: \r\n    1: \r\n    2: 34\r\n    4: \r\n    5: \r\n    6: \r\n\r\nYou can see that it matched at 7 different positions: at position 2 it matched string &quot;34&quot; and at any other position it matched an empty string. **Empty string matches at the end** as well, which is why you see &quot;6&quot; at the end of your output.\r\n\r\nNote that if you run your program like this:\r\n\r\n    java Regex2 &quot;\\d+&quot; ab34ef\r\n\r\nit will only output\r\n\r\n    2: 34\r\n","title":"Regular expression - Greedy quantifier","body":"<p>It is helpful to change</p>\n\n<pre><code>System.out.print(m.start() + m.group());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>System.out.println(m.start() + \": \" + m.group());\n</code></pre>\n\n<p>This way the output is much clearer:</p>\n\n<pre><code>0: \n1: \n2: 34\n4: \n5: \n6: \n</code></pre>\n\n<p>You can see that it matched at 7 different positions: at position 2 it matched string \"34\" and at any other position it matched an empty string. <strong>Empty string matches at the end</strong> as well, which is why you see \"6\" at the end of your output.</p>\n\n<p>Note that if you run your program like this:</p>\n\n<pre><code>java Regex2 \"\\d+\" ab34ef\n</code></pre>\n\n<p>it will only output</p>\n\n<pre><code>2: 34\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1441914463,"accepted_answer_id":8553813,"answer_count":1,"score":0,"last_activity_date":1692792373,"creation_date":1324232601,"question_id":8553761,"body_markdown":"I am really struggling with this question: \r\n\r\n    import java.util.regex.*;    \r\n    class Regex2 {    \r\n        public static void main(String[] args) {    \r\n            Pattern p = Pattern.compile(args[0]);    \r\n            Matcher m = p.matcher(args[1]);    \r\n            boolean b = false;    \r\n            while(b = m.find()) {    \r\n                System.out.print(m.start() + m.group());    \r\n            }    \r\n        }\r\n    }  \r\n\r\nWhen the above program is run with the following command:\r\n\r\n    java Regex2 &quot;\\d*&quot; ab34ef \r\n\r\nIt outputs `01234456`. I don&#39;t really understand this output. Consider the following indexes for each of the characters:\r\n\r\n    a b 3 4 e f\r\n    ^ ^ ^ ^ ^ ^\r\n    0 1 2 3 4 5\r\n\r\nShouldn&#39;t the output have been `0123445`?\r\n\r\nI have been reading around and it looks like the RegEx engine will also read the end of the string but I just don&#39;t understand. Would appreciate if someone can provide a step by step guide as to how it is getting that result. i.e. how it is finding each of the numbers. ","title":"Regular expression - Greedy quantifier","body":"<p>I am really struggling with this question: </p>\n\n<pre><code>import java.util.regex.*;    \nclass Regex2 {    \n    public static void main(String[] args) {    \n        Pattern p = Pattern.compile(args[0]);    \n        Matcher m = p.matcher(args[1]);    \n        boolean b = false;    \n        while(b = m.find()) {    \n            System.out.print(m.start() + m.group());    \n        }    \n    }\n}  \n</code></pre>\n\n<p>When the above program is run with the following command:</p>\n\n<pre><code>java Regex2 \"\\d*\" ab34ef \n</code></pre>\n\n<p>It outputs <code>01234456</code>. I don't really understand this output. Consider the following indexes for each of the characters:</p>\n\n<pre><code>a b 3 4 e f\n^ ^ ^ ^ ^ ^\n0 1 2 3 4 5\n</code></pre>\n\n<p>Shouldn't the output have been <code>0123445</code>?</p>\n\n<p>I have been reading around and it looks like the RegEx engine will also read the end of the string but I just don't understand. Would appreciate if someone can provide a step by step guide as to how it is getting that result. i.e. how it is finding each of the numbers. </p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1505368828,"post_id":46211554,"comment_id":79386059,"body_markdown":"Have you research any thing?","body":"Have you research any thing?"},{"owner":{"account_id":9094546,"reputation":1250,"user_id":6768947,"accept_rate":67,"display_name":"passion"},"score":0,"creation_date":1505369421,"post_id":46211554,"comment_id":79386318,"body_markdown":"set unwanted field null","body":"set unwanted field null"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1505370218,"post_id":46211554,"comment_id":79386688,"body_markdown":"Possible duplicate of [Ignoring new fields on JSON objects using Jackson](https://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson\">Ignoring new fields on JSON objects using Jackson</a>"}],"answers":[{"tags":[],"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505369583,"creation_date":1505369583,"answer_id":46211787,"question_id":46211554,"body_markdown":"Annotate your POJO `id` and `name` attributes with @JsonProperty and manager with @JsonIgnore\r\n\r\nWhen you want just `id` and `name`, use a default ObjectMapper.\r\nWhen you want all fields, use a custom ObjectMapper per this [question/answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>Annotate your POJO <code>id</code> and <code>name</code> attributes with @JsonProperty and manager with @JsonIgnore</p>\n\n<p>When you want just <code>id</code> and <code>name</code>, use a default ObjectMapper.\nWhen you want all fields, use a custom ObjectMapper per this <a href=\"https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally\">question/answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505370153,"creation_date":1505370153,"answer_id":46211928,"question_id":46211554,"body_markdown":"There are many ways to do this:\r\n\r\n1. set unwanted field to `null`, and use `@JsonInclude(Include.NON_NULL)` annotation at class level.\r\n\r\n2. supply `SimpleBeanPropertyFilter`, while using `ObjectMapper` and use annotation `@JsonFilter(&lt;filter_name&gt;)` at class level.\r\n\r\n3. use a custom-serializer.","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>There are many ways to do this:</p>\n\n<ol>\n<li><p>set unwanted field to <code>null</code>, and use <code>@JsonInclude(Include.NON_NULL)</code> annotation at class level.</p></li>\n<li><p>supply <code>SimpleBeanPropertyFilter</code>, while using <code>ObjectMapper</code> and use annotation <code>@JsonFilter(&lt;filter_name&gt;)</code> at class level.</p></li>\n<li><p>use a custom-serializer.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6525393,"reputation":332,"user_id":5048304,"display_name":"Tob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692792111,"creation_date":1692792111,"answer_id":76961160,"question_id":46211554,"body_markdown":"You can achieve this with `@JsonView` (kudos to [baeldung][1]):\r\n\r\n**`@JsonView` indicates the View in which the property will be included for serialization/deserialization.**\r\n\r\nFor example, we&#39;ll use @JsonView to serialize an instance of Item entity.\r\n\r\nFirst, let&#39;s start with the views:\r\n```java\r\npublic class Views {\r\n    public static class Public {}\r\n    public static class Internal extends Public {}\r\n}\r\n```\r\nNext here&#39;s the Item entity using the views:\r\n```java\r\npublic class Item {\r\n    @JsonView(Views.Public.class)\r\n    public int id;\r\n\r\n    @JsonView(Views.Public.class)\r\n    public String itemName;\r\n\r\n    @JsonView(Views.Internal.class)\r\n    public String ownerName;\r\n}\r\n```\r\nFinally, the full test:\r\n```java\r\n@Test\r\npublic void whenSerializingUsingJsonView_thenCorrect()\r\n  throws JsonProcessingException {\r\n    Item item = new Item(2, &quot;book&quot;, &quot;John&quot;);\r\n\r\n    String result = new ObjectMapper()\r\n      .writerWithView(Views.Public.class)\r\n      .writeValueAsString(item);\r\n\r\n    assertThat(result, containsString(&quot;book&quot;));\r\n    assertThat(result, containsString(&quot;2&quot;));\r\n    assertThat(result, not(containsString(&quot;John&quot;)));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations#bd-4-jsonview","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>You can achieve this with <code>@JsonView</code> (kudos to <a href=\"https://www.baeldung.com/jackson-annotations#bd-4-jsonview\" rel=\"nofollow noreferrer\">baeldung</a>):</p>\n<p><strong><code>@JsonView</code> indicates the View in which the property will be included for serialization/deserialization.</strong></p>\n<p>For example, we'll use @JsonView to serialize an instance of Item entity.</p>\n<p>First, let's start with the views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n    public static class Public {}\n    public static class Internal extends Public {}\n}\n</code></pre>\n<p>Next here's the Item entity using the views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item {\n    @JsonView(Views.Public.class)\n    public int id;\n\n    @JsonView(Views.Public.class)\n    public String itemName;\n\n    @JsonView(Views.Internal.class)\n    public String ownerName;\n}\n</code></pre>\n<p>Finally, the full test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void whenSerializingUsingJsonView_thenCorrect()\n  throws JsonProcessingException {\n    Item item = new Item(2, &quot;book&quot;, &quot;John&quot;);\n\n    String result = new ObjectMapper()\n      .writerWithView(Views.Public.class)\n      .writeValueAsString(item);\n\n    assertThat(result, containsString(&quot;book&quot;));\n    assertThat(result, containsString(&quot;2&quot;));\n    assertThat(result, not(containsString(&quot;John&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":9656169,"reputation":9,"user_id":7165659,"display_name":"D.Zhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1391,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1692792111,"creation_date":1505368583,"question_id":46211554,"body_markdown":"I have a java class \r\n\r\n        public class CategoryItem implements Serializable {\r\n        private Long id;            \r\n    \r\n        private String name;           \r\n    \r\n        private Manager manager;\r\n    }\r\n\r\nIn one case,I need to convert all the fields to json.\r\non the other case,I only need &#39;id&#39;and &#39;name&#39; \r\nHow can I do? \r\n\r\nGive me some tips.Thanks\r\n","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>I have a java class </p>\n\n<pre><code>    public class CategoryItem implements Serializable {\n    private Long id;            \n\n    private String name;           \n\n    private Manager manager;\n}\n</code></pre>\n\n<p>In one case,I need to convert all the fields to json.\non the other case,I only need 'id'and 'name' \nHow can I do? </p>\n\n<p>Give me some tips.Thanks</p>\n"},{"tags":["java","regex","backreference"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1319397892,"post_id":7868553,"comment_id":9599549,"body_markdown":"Matcher.replaceAll(&quot;$1$2&quot;) should work. You&#39;re doing something wrong","body":"Matcher.replaceAll(&quot;$1$2&quot;) should work. You&#39;re doing something wrong"},{"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"score":1,"creation_date":1319398092,"post_id":7868553,"comment_id":9599575,"body_markdown":"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String) Nothing strange here. Probably your second backreference is empty?","body":"<a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\">download.oracle.com/javase/7/docs/api/java/util/regex/&hellip;</a> Nothing strange here. Probably your second backreference is empty?"}],"answers":[{"comments":[{"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"score":0,"creation_date":1319400862,"post_id":7868596,"comment_id":9600024,"body_markdown":"You are all correct. The syntax I used was the right one, but I failed to assign the return value from `Matcher.replaceAll(&quot;$1$2&quot;)` to the output string. All is well now. Thanks!","body":"You are all correct. The syntax I used was the right one, but I failed to assign the return value from <code>Matcher.replaceAll(&quot;$1$2&quot;)</code> to the output string. All is well now. Thanks!"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1319398249,"creation_date":1319398249,"answer_id":7868596,"question_id":7868553,"body_markdown":"It works just fine. The following snippet:\r\n\r\n    Pattern p = Pattern.compile(&quot;(.)(.)&quot;);\r\n    Matcher m = p.matcher(&quot;ab&quot;);\r\n    System.out.println(m.replaceAll(&quot;$2$1&quot;));\r\n\r\nwill print:\r\n\r\n    ba","title":"Multiple Backreferences in Matcher.replaceAll()","body":"<p>It works just fine. The following snippet:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(.)(.)\");\nMatcher m = p.matcher(\"ab\");\nSystem.out.println(m.replaceAll(\"$2$1\"));\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>ba\n</code></pre>\n"}],"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7868596,"answer_count":1,"score":1,"last_activity_date":1692792017,"creation_date":1319397793,"question_id":7868553,"body_markdown":"`Matcher.replaceAll()` with a **single** [backreference][1] works great (i.e. `Matcher.replaceAll(&quot;$2&quot;)`).\r\n\r\nBut I haven&#39;t been able to make it work with two or more backreferences, e.g. `Matcher.replaceAll(&quot;$1$2&quot;)`.\r\n\r\nDoes `Matcher.replaceAll()` support multiple backreferences at all? If so, what is the proper syntax to use it?\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/java.html","title":"Multiple Backreferences in Matcher.replaceAll()","body":"<p><code>Matcher.replaceAll()</code> with a <strong>single</strong> <a href=\"http://www.regular-expressions.info/java.html\" rel=\"nofollow\">backreference</a> works great (i.e. <code>Matcher.replaceAll(\"$2\")</code>).</p>\n\n<p>But I haven't been able to make it work with two or more backreferences, e.g. <code>Matcher.replaceAll(\"$1$2\")</code>.</p>\n\n<p>Does <code>Matcher.replaceAll()</code> support multiple backreferences at all? If so, what is the proper syntax to use it?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319314318,"creation_date":1319313174,"answer_id":7862192,"question_id":7862167,"body_markdown":"I have no idea about android but this regex : \r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\W&quot;);\r\n\r\nWill match any **non** alphanumeric character. If you would expand it, it would look like this : \r\n\r\n    [^a-zA-Z0-9_]\r\n\r\nIf you want to match a single alphanumeric character including _ just use  : \r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\w&quot;);\r\n\r\nelse use : `Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]&quot;);`","title":"Android regex always returning false","body":"<p>I have no idea about android but this regex : </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\W\");\n</code></pre>\n\n<p>Will match any <strong>non</strong> alphanumeric character. If you would expand it, it would look like this : </p>\n\n<pre><code>[^a-zA-Z0-9_]\n</code></pre>\n\n<p>If you want to match a single alphanumeric character including _ just use  : </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\w\");\n</code></pre>\n\n<p>else use : <code>Pattern p = Pattern.compile(\"[a-zA-Z0-9]\");</code></p>\n"},{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1319317135,"post_id":7862209,"comment_id":9590636,"body_markdown":"The square brackets in your second regex are redundant, and at least one of those backslashes has to go.  In &quot;raw&quot; form the regex would be `\\W*`, and as a Java string literal, `&quot;\\\\W*&quot;`.  (But I think `+` is more appropriate than `*`.)","body":"The square brackets in your second regex are redundant, and at least one of those backslashes has to go.  In &quot;raw&quot; form the regex would be <code>\\W*</code>, and as a Java string literal, <code>&quot;\\\\W*&quot;</code>.  (But I think <code>+</code> is more appropriate than <code>*</code>.)"}],"tags":[],"owner":{"account_id":250517,"reputation":30575,"user_id":527288,"accept_rate":81,"display_name":"Kurtis Nusbaum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319317505,"creation_date":1319313399,"answer_id":7862209,"question_id":7862167,"body_markdown":"If you want a regular express that **matches all alphanumeric characters** try `[a-zA-Z0-9]*`. If you want to **match all non alphanumeric characters in a string** try this `\\\\W*`","title":"Android regex always returning false","body":"<p>If you want a regular express that <strong>matches all alphanumeric characters</strong> try <code>[a-zA-Z0-9]*</code>. If you want to <strong>match all non alphanumeric characters in a string</strong> try this <code>\\\\W*</code></p>\n"},{"tags":[],"owner":{"account_id":896870,"reputation":5766,"user_id":933926,"accept_rate":100,"display_name":"aleph_null"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319313853,"creation_date":1319313853,"answer_id":7862247,"question_id":7862167,"body_markdown":"The Matcher method, &quot;matches&quot;, tries to match the Pattern against the entire region. The regular expression &quot;\\\\W&quot; matches a SINGLE non-alphanumeric character. In other words, m.matches() will return true when you attempt to match it to a SINGLE special character. If you attempt to match it to  &quot;&amp;$@R@,&quot;, it will return false since the string contains more than just a single non-alphanumeric character.\r\n","title":"Android regex always returning false","body":"<p>The Matcher method, \"matches\", tries to match the Pattern against the entire region. The regular expression \"\\W\" matches a SINGLE non-alphanumeric character. In other words, m.matches() will return true when you attempt to match it to a SINGLE special character. If you attempt to match it to  \"&amp;$@R@,\", it will return false since the string contains more than just a single non-alphanumeric character.</p>\n"},{"comments":[{"owner":{"account_id":366146,"reputation":337,"user_id":711502,"accept_rate":100,"display_name":"Taylor Kems"},"score":0,"creation_date":1319319043,"post_id":7862269,"comment_id":9590928,"body_markdown":"Where would I add that in the above code? It&#39;s a String and I&#39;m reading patters need to be Pattern. Also yes, I am trying to make sure the whole string is alphanumeric only.","body":"Where would I add that in the above code? It&#39;s a String and I&#39;m reading patters need to be Pattern. Also yes, I am trying to make sure the whole string is alphanumeric only."},{"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"score":0,"creation_date":1319319188,"post_id":7862269,"comment_id":9590939,"body_markdown":"Where you construct your pattern you assign it a string: `Pattern p = Pattern.compile(&quot;\\\\W&quot;);`. Just replace the &quot;\\\\W&quot; with the above mentioned string :)","body":"Where you construct your pattern you assign it a string: <code>Pattern p = Pattern.compile(&quot;\\\\W&quot;);</code>. Just replace the &quot;\\\\W&quot; with the above mentioned string :)"},{"owner":{"account_id":366146,"reputation":337,"user_id":711502,"accept_rate":100,"display_name":"Taylor Kems"},"score":0,"creation_date":1319319590,"post_id":7862269,"comment_id":9590996,"body_markdown":"This example you give is actually the exact opposite of what I was needing. Not in a bad way it will work if I (b==false |b2==false). It went ahead and went with the find(). Thanks for your help.","body":"This example you give is actually the exact opposite of what I was needing. Not in a bad way it will work if I (b==false |b2==false). It went ahead and went with the find(). Thanks for your help."}],"tags":[],"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319314131,"creation_date":1319314131,"answer_id":7862269,"question_id":7862167,"body_markdown":"First of all an uppercase `W` matches any **non**-alphanumeric character. Secondly you only matches **one** single character. To match that the string only contains alphanumerical characters use the following regex:\r\n\r\n    String pattern = &quot;[\\\\w]*&quot;;\r\n\r\nNote that `\\w` also matches underscore.","title":"Android regex always returning false","body":"<p>First of all an uppercase <code>W</code> matches any <strong>non</strong>-alphanumeric character. Secondly you only matches <strong>one</strong> single character. To match that the string only contains alphanumerical characters use the following regex:</p>\n\n<pre><code>String pattern = \"[\\\\w]*\";\n</code></pre>\n\n<p>Note that <code>\\w</code> also matches underscore.</p>\n"},{"comments":[{"owner":{"account_id":366146,"reputation":337,"user_id":711502,"accept_rate":100,"display_name":"Taylor Kems"},"score":0,"creation_date":1319319630,"post_id":7862296,"comment_id":9591005,"body_markdown":"First thing I tried that worked. Thank you. If anyone has any insight on to why I shouldn&#39;t use this syntax let me know. Thanks.","body":"First thing I tried that worked. Thank you. If anyone has any insight on to why I shouldn&#39;t use this syntax let me know. Thanks."}],"tags":[],"owner":{"account_id":23634,"reputation":9967,"user_id":59352,"accept_rate":100,"display_name":"Lycha"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1319314507,"creation_date":1319314507,"answer_id":7862296,"question_id":7862167,"body_markdown":"Instead of `matches()` which tries to match the whole string to pattern you can use `find()` which just tries to find any occurrence of the pattern. [Source][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/regex/Matcher.html#find%28%29","title":"Android regex always returning false","body":"<p>Instead of <code>matches()</code> which tries to match the whole string to pattern you can use <code>find()</code> which just tries to find any occurrence of the pattern. <a href=\"http://developer.android.com/reference/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319316775,"creation_date":1319316775,"answer_id":7862527,"question_id":7862167,"body_markdown":"`\\W` (or as a java string literal, `&quot;\\\\W&quot;`) matches one non-word character.  The `matches()` method implicitly anchors the match at both ends, as if you had really written `&quot;\\\\A\\\\W\\\\z&quot;`.  So you&#39;ll only get a match if the string consists of exactly *one* non-word character.  If you want to match **one or more** characters, you should change the regex to \r\n\r\n    &quot;\\\\W+&quot;","title":"Android regex always returning false","body":"<p><code>\\W</code> (or as a java string literal, <code>\"\\\\W\"</code>) matches one non-word character.  The <code>matches()</code> method implicitly anchors the match at both ends, as if you had really written <code>\"\\\\A\\\\W\\\\z\"</code>.  So you'll only get a match if the string consists of exactly <em>one</em> non-word character.  If you want to match <strong>one or more</strong> characters, you should change the regex to </p>\n\n<pre><code>\"\\\\W+\"\n</code></pre>\n"}],"owner":{"account_id":366146,"reputation":337,"user_id":711502,"accept_rate":100,"display_name":"Taylor Kems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7862296,"answer_count":6,"score":2,"last_activity_date":1692791947,"creation_date":1319312912,"question_id":7862167,"body_markdown":"I am having issues with regex always returning false even though \r\n&quot;http://developer.android.com/reference/java/util/regex/Pattern.html&quot; states it shouldn&#39;t.\r\n\r\nI am entering all kinds of specials charaters &quot;&amp;$@R@,&quot; and b/b2 are both returning false in the logcat. The string I am putting into the edit text even displays in logcat as the exact one I input. Anyone have an idea as to why it won&#39;t match the alphanumeric characters? \r\n\r\nCode:\r\n\r\n        EditText et1 = (EditText) findViewById(R.id.editText1);\r\n\t\tString et1Text = et1.getText().toString();\r\n\t\tint et1Length = et1.getText().toString().length();\r\n\t\tEditText et2 = (EditText) findViewById(R.id.editText2);\r\n\t\tString et2Text = et2.getText().toString();\r\n\t\tint et2Length = et2.getText().toString().length();\r\n\t\t\r\n\t\tPattern p = Pattern.compile(&quot;\\\\W&quot;);\r\n\t\tLog.d(TAG,et1Text);\r\n\t\tMatcher m = p.matcher(et1Text);\r\n\t\tboolean b = m.matches();\r\n\t\tif (b == true){\r\n\t\t\tLog.d(TAG,&quot;True&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLog.d(TAG,&quot;False&quot;);\r\n\t\t}\r\n\t\tLog.d(TAG,et2Text);\r\n\t\tMatcher m2 = p.matcher(et2Text);\r\n\t\tboolean b2 = m2.matches();\r\n\t\tif (b2 == true){\r\n\t\t\tLog.d(TAG,&quot;True&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLog.d(TAG,&quot;False&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (et1Length &lt; 4 | et1Length &gt; 15 | et2Length &lt; 4 | et2Length &gt; 15){\r\n\t\t\tLog.d(TAG,&quot;Length dialog&quot;);\r\n\t\t\tdialog(1);\r\n\t\t}\r\n\t\t\r\n\t\tif (b==true | b2==true){\r\n\t\t\tLog.d(TAG,&quot;Special char dialog&quot;);\r\n\t\t\tdialog(1);\r\n\t\t}\r\n\r\n","title":"Android regex always returning false","body":"<p>I am having issues with regex always returning false even though \n\"http://developer.android.com/reference/java/util/regex/Pattern.html\" states it shouldn't.</p>\n\n<p>I am entering all kinds of specials charaters \"&amp;$@R@,\" and b/b2 are both returning false in the logcat. The string I am putting into the edit text even displays in logcat as the exact one I input. Anyone have an idea as to why it won't match the alphanumeric characters? </p>\n\n<p>Code:</p>\n\n<pre><code>    EditText et1 = (EditText) findViewById(R.id.editText1);\n    String et1Text = et1.getText().toString();\n    int et1Length = et1.getText().toString().length();\n    EditText et2 = (EditText) findViewById(R.id.editText2);\n    String et2Text = et2.getText().toString();\n    int et2Length = et2.getText().toString().length();\n\n    Pattern p = Pattern.compile(\"\\\\W\");\n    Log.d(TAG,et1Text);\n    Matcher m = p.matcher(et1Text);\n    boolean b = m.matches();\n    if (b == true){\n        Log.d(TAG,\"True\");\n    }\n    else {\n        Log.d(TAG,\"False\");\n    }\n    Log.d(TAG,et2Text);\n    Matcher m2 = p.matcher(et2Text);\n    boolean b2 = m2.matches();\n    if (b2 == true){\n        Log.d(TAG,\"True\");\n    }\n    else {\n        Log.d(TAG,\"False\");\n    }\n\n    if (et1Length &lt; 4 | et1Length &gt; 15 | et2Length &lt; 4 | et2Length &gt; 15){\n        Log.d(TAG,\"Length dialog\");\n        dialog(1);\n    }\n\n    if (b==true | b2==true){\n        Log.d(TAG,\"Special char dialog\");\n        dialog(1);\n    }\n</code></pre>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1318858662,"creation_date":1318858662,"answer_id":7794585,"question_id":7794543,"body_markdown":"It&#39;s because when you split you have a trailing space.\r\n\r\n    String str = &quot;EGLA 0F 020&quot;;\r\n    String str2 = &quot;ALT 1F 001 &quot;;\r\n    //                       ^ trailing space\r\n\r\nYou could fix it a number of ways. For example:\r\n\r\n * by splitting on `&quot; TO &quot;`\r\n * trimming the result\r\n * allowing trailing spaces in your regular expression.\r\n\r\nFor example, this change would work:\r\n\r\n    String arr[] = def.split(&quot; TO &quot;);","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>It's because when you split you have a trailing space.</p>\n\n<pre><code>String str = \"EGLA 0F 020\";\nString str2 = \"ALT 1F 001 \";\n//                       ^ trailing space\n</code></pre>\n\n<p>You could fix it a number of ways. For example:</p>\n\n<ul>\n<li>by splitting on <code>\" TO \"</code></li>\n<li>trimming the result</li>\n<li>allowing trailing spaces in your regular expression.</li>\n</ul>\n\n<p>For example, this change would work:</p>\n\n<pre><code>String arr[] = def.split(\" TO \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116347,"reputation":879,"user_id":305116,"accept_rate":50,"display_name":"mtrovo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318858870,"creation_date":1318858870,"answer_id":7794630,"question_id":7794543,"body_markdown":"If you notice your split take effect only on the letters `&quot;TO&quot;`, it means str2 pattern is `&quot;ALT 1F 001 &quot;`.\r\n\r\nTo resolve this you can try to split on `&quot;\\s*TO\\s*&quot;` instead of `&quot;TO&quot;` so that any spaces surrounding the work TO would be removed too. Another solution would be to replace your pattern `&quot;[0-9][0-9][0-9]$&quot;` with `&quot;[0-9][0-9][0-9]&quot;` without the final `$`, so that it would accept ending spaces on your String.","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>If you notice your split take effect only on the letters <code>\"TO\"</code>, it means str2 pattern is <code>\"ALT 1F 001 \"</code>.</p>\n\n<p>To resolve this you can try to split on <code>\"\\s*TO\\s*\"</code> instead of <code>\"TO\"</code> so that any spaces surrounding the work TO would be removed too. Another solution would be to replace your pattern <code>\"[0-9][0-9][0-9]$\"</code> with <code>\"[0-9][0-9][0-9]\"</code> without the final <code>$</code>, so that it would accept ending spaces on your String.</p>\n"},{"tags":[],"owner":{"account_id":978657,"reputation":437,"user_id":998965,"display_name":"Jo&#227;o Paulo G. Brandt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318859145,"creation_date":1318859145,"answer_id":7794687,"question_id":7794543,"body_markdown":"Try this pattern:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9][0-9][0-9]\\\\s*$&quot;); \r\n\r\nor \r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9]{3}\\\\s*$&quot;); ","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>Try this pattern:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9][0-9][0-9]\\\\s*$\"); \n</code></pre>\n\n<p>or </p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9]{3}\\\\s*$\"); \n</code></pre>\n"}],"owner":{"account_id":915334,"reputation":934,"user_id":948241,"accept_rate":62,"display_name":"cryptonkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7794585,"answer_count":3,"score":1,"last_activity_date":1692791899,"creation_date":1318858471,"question_id":7794543,"body_markdown":"Hi I was recently developing a code where i had to extract the last 3 group of digits. So i used pattern to extract the data. But i failed to understand. CAN any one help me to understand it ??\r\n\r\n        String str =&quot;EGLA 0F 020&quot;;\r\n\t\tString def = &quot;ALT 1F 001 TO ALT 1F 029&quot;;\r\n\t\tString arr[] = def.split(&quot;TO&quot;);\r\n\t\tString str2 = arr[0];\r\n\t\tSystem.out.println(&quot;str2:&quot;+str2);\r\n\t\tPattern pt = Pattern.compile(&quot;[0-9][0-9][0-9]$&quot;);\r\n\t\tMatcher m1 = pt.matcher(str);\r\n\t\tMatcher m2 = pt.matcher(str2);\r\n\t\tboolean flag = m1.find();\r\n\t\tboolean flag2 = m2.find();\r\n\t\tif(flag)\r\n\t\t\tSystem.out.println(&quot;first match:::&quot;+m1.group(0));\r\n\t\telse \r\n\t\t\tSystem.out.println(&quot;Not found&quot;);\r\n\t\tif(flag2)\r\n\t\t\tSystem.out.println(&quot;first match:::&quot;+m2.group(0));\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Not found&quot;);\r\n\r\n\r\nThe output produced for the above code is As follows:::\r\n\r\n        str2:ALT 1F 001 \r\n        first match:::020\r\n        Not found\r\n\r\nPlease Do reply iam stuck here ??\t\t\r\n","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>Hi I was recently developing a code where i had to extract the last 3 group of digits. So i used pattern to extract the data. But i failed to understand. CAN any one help me to understand it ??</p>\n\n<pre><code>    String str =\"EGLA 0F 020\";\n    String def = \"ALT 1F 001 TO ALT 1F 029\";\n    String arr[] = def.split(\"TO\");\n    String str2 = arr[0];\n    System.out.println(\"str2:\"+str2);\n    Pattern pt = Pattern.compile(\"[0-9][0-9][0-9]$\");\n    Matcher m1 = pt.matcher(str);\n    Matcher m2 = pt.matcher(str2);\n    boolean flag = m1.find();\n    boolean flag2 = m2.find();\n    if(flag)\n        System.out.println(\"first match:::\"+m1.group(0));\n    else \n        System.out.println(\"Not found\");\n    if(flag2)\n        System.out.println(\"first match:::\"+m2.group(0));\n    else\n        System.out.println(\"Not found\");\n</code></pre>\n\n<p>The output produced for the above code is As follows:::</p>\n\n<pre><code>    str2:ALT 1F 001 \n    first match:::020\n    Not found\n</code></pre>\n\n<p>Please Do reply iam stuck here ??       </p>\n"},{"tags":["java","php","regex","preg-replace-callback"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1318705047,"post_id":7779913,"comment_id":9474134,"body_markdown":"Why wouldn&#39;t you just use `YUICompressor.php`? http://code.google.com/p/minify/source/browse/trunk/min/lib/Minify/YUICompressor.php Writing your own port sounds like a maintenance headache.","body":"Why wouldn&#39;t you just use <code>YUICompressor.php</code>? <a href=\"http://code.google.com/p/minify/source/browse/trunk/min/lib/Minify/YUICompressor.php\" rel=\"nofollow noreferrer\">code.google.com/p/minify/source/browse/trunk/min/lib/Minify/&zwnj;&#8203;&hellip;</a> Writing your own port sounds like a maintenance headache."},{"owner":{"account_id":2693,"reputation":8711,"user_id":3779,"accept_rate":73,"display_name":"Steve Clay"},"score":0,"creation_date":1318706052,"post_id":7779913,"comment_id":9474309,"body_markdown":"@MattBall because that&#39;s a wrapper for Java, which is commonly not available on shared hosting.","body":"@MattBall because that&#39;s a wrapper for Java, which is commonly not available on shared hosting."},{"owner":{"account_id":46733,"reputation":3195,"user_id":138148,"accept_rate":90,"display_name":"Nathan Loding"},"score":0,"creation_date":1318956906,"post_id":7779913,"comment_id":9517763,"body_markdown":"Sounds like no one has - sounds like a fun project!","body":"Sounds like no one has - sounds like a fun project!"}],"answers":[{"comments":[{"owner":{"account_id":2693,"reputation":8711,"user_id":3779,"accept_rate":73,"display_name":"Steve Clay"},"score":0,"creation_date":1332439342,"post_id":9817351,"comment_id":12521537,"body_markdown":"I&#39;m already using this technique in [my own port](http://code.google.com/p/mrclay/source/browse/trunk/php/java/util/regex/Matcher.php), which isn&#39;t complete.","body":"I&#39;m already using this technique in <a href=\"http://code.google.com/p/mrclay/source/browse/trunk/php/java/util/regex/Matcher.php\" rel=\"nofollow noreferrer\">my own port</a>, which isn&#39;t complete."}],"tags":[],"owner":{"account_id":37482,"reputation":33416,"user_id":107152,"accept_rate":87,"display_name":"Qtax"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332397052,"creation_date":1332397052,"answer_id":9817351,"question_id":7779913,"body_markdown":"Are you looking for the `while(find next match){ do stuff }` equivalent in PHP (without using `preg_match_all`)?\r\n\r\nIn that case use `preg_match` with the offset parameter. For example:\r\n\r\n    offset = 0;\r\n    while(preg_match(re, str, matches, PREG_OFFSET_CAPTURE, offset)){\r\n        offset = matches[0][1] + strlen(matches[0][0]);\r\n\r\n        // do stuff\r\n    }","title":"Is there a PHP port of Java&#39;s Matcher class?","body":"<p>Are you looking for the <code>while(find next match){ do stuff }</code> equivalent in PHP (without using <code>preg_match_all</code>)?</p>\n\n<p>In that case use <code>preg_match</code> with the offset parameter. For example:</p>\n\n<pre><code>offset = 0;\nwhile(preg_match(re, str, matches, PREG_OFFSET_CAPTURE, offset)){\n    offset = matches[0][1] + strlen(matches[0][0]);\n\n    // do stuff\n}\n</code></pre>\n"}],"owner":{"account_id":2693,"reputation":8711,"user_id":3779,"accept_rate":73,"display_name":"Steve Clay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1692791892,"answer_count":1,"score":2,"last_activity_date":1692791824,"creation_date":1318704584,"question_id":7779913,"body_markdown":"I&#39;m porting YUI&#39;s [CssCompressor][1], which has several [Matcher][2] uses, to PHP. For the sake of long-term maintenance I&#39;d like to keep the PHP port as similar to the Java original as possible (`preg_replace_callback` of course works, but drastically changes the program flow).\r\n\r\nSo, **has anyone ported Matcher to PHP?**\r\n\r\n  [1]: https://github.com/yui/yuicompressor/blob/master/src/com/yahoo/platform/yui/compressor/CssCompressor.java\r\n  [2]: http://www.google.com/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CDAQFjAA&amp;url=http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html&amp;rct=j&amp;q=java%20matcher&amp;ei=gs6ZTsWIJa_IsQLO2eHNBA&amp;usg=AFQjCNGutJxfYmy4w3yoE04HegjfyzfixQ&amp;cad=rja","title":"Is there a PHP port of Java&#39;s Matcher class?","body":"<p>I'm porting YUI's <a href=\"https://github.com/yui/yuicompressor/blob/master/src/com/yahoo/platform/yui/compressor/CssCompressor.java\" rel=\"nofollow\">CssCompressor</a>, which has several <a href=\"http://www.google.com/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CDAQFjAA&amp;url=http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html&amp;rct=j&amp;q=java%20matcher&amp;ei=gs6ZTsWIJa_IsQLO2eHNBA&amp;usg=AFQjCNGutJxfYmy4w3yoE04HegjfyzfixQ&amp;cad=rja\" rel=\"nofollow\">Matcher</a> uses, to PHP. For the sake of long-term maintenance I'd like to keep the PHP port as similar to the Java original as possible (<code>preg_replace_callback</code> of course works, but drastically changes the program flow).</p>\n\n<p>So, <strong>has anyone ported Matcher to PHP?</strong></p>\n"},{"tags":["java","regex","regex-group"],"answers":[{"comments":[{"owner":{"account_id":411019,"reputation":2223,"user_id":783204,"accept_rate":89,"display_name":"theking963"},"score":0,"creation_date":1318000492,"post_id":7688995,"comment_id":9347705,"body_markdown":"Approaching that way would be easier.","body":"Approaching that way would be easier."}],"tags":[],"owner":{"account_id":324587,"reputation":18477,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1317999264,"creation_date":1317999264,"answer_id":7688995,"question_id":7688867,"body_markdown":"I think instead of having one huge complex regex, I will prefer to do it in conditional loops with multiple regexes.","title":"Java Linked regex","body":"<p>I think instead of having one huge complex regex, I will prefer to do it in conditional loops with multiple regexes.</p>\n"}],"owner":{"account_id":411019,"reputation":2223,"user_id":783204,"accept_rate":89,"display_name":"theking963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692791811,"creation_date":1317998653,"question_id":7688867,"body_markdown":"I have to parse the following sample output. The requirements are there should be no text after `Fabric management FPC state:` i.e. it should be empty `\\s`. The next part is a bit tricky and I am stuck there. So each `FPC` has one or more `PFE` and each `FPE` has one or more `SIB`. There are four possible states for each `SIB`. They are `Plane Enabled, Link Error, Desination Error and Plane Disabled`. I am supposed to parse this using regex and keep track of the state for each `FPC, PFE and SIB`. I am not sure how to have a `&#39;linked&#39;` groups in regex. \r\n\r\n    Fabric management FPC state:                                  \r\n    FPC #0\r\n      PFE #0\r\n        SIB #0 \r\n                Plane enabled\r\n        SIB #1 \r\n                Link Error        \r\n      PFE #1\r\n        SIB #0 \r\n                Destination Error\r\n        SIB #1 \r\n                Plane Disabled\r\n        SIB #2 \r\n                Plane enabled       \r\n    FPC #1\r\n      PFE #1\r\n        SIB #0 \r\n                Plane enabled\r\n\r\nSo far what I have is \r\n\r\n    public void parseFPCS(String commandOutput) {\r\n            regex = &quot;FPC state:(\\\\s*)(FPC\\\\s*#?\\\\d+)\\\\s*(PFE\\\\s*#\\\\d+)\\\\s*(SIB\\\\s*#\\\\d+)\\\\s*(\\\\w*\\\\s*\\\\w*)&quot;;\r\n            pattern = Pattern.compile(regex, patternFlag);\r\n            matcher = pattern.matcher(commandOutput);\r\n            \r\n            while(matcher.find()) {\r\n                String empty = matcher.group(1);\r\n                Boolean isEmpty = empty.trim().isEmpty();\r\n                if(isEmpty) {\r\n                    System.out.println(&quot;Link Empty&quot;);\r\n                    System.out.println(matcher.group(2));\r\n                    System.out.println(matcher.group(3));\r\n                    System.out.println(matcher.group(4));\r\n                    System.out.println(matcher.group(5));\r\n                    //Right now I am just printing it out to see the outcome. \r\n                }\r\n                \r\n            }\r\n\r\n    The current outcome is \r\n        Link Empty\r\n        FPC #0\r\n        PFE #0\r\n        SIB #0\r\n        Plane enabled //This is expected.\r\n\r\n","title":"Java Linked regex","body":"<p>I have to parse the following sample output. The requirements are there should be no text after <code>Fabric management FPC state:</code> i.e. it should be empty <code>\\s</code>. The next part is a bit tricky and I am stuck there. So each <code>FPC</code> has one or more <code>PFE</code> and each <code>FPE</code> has one or more <code>SIB</code>. There are four possible states for each <code>SIB</code>. They are <code>Plane Enabled, Link Error, Desination Error and Plane Disabled</code>. I am supposed to parse this using regex and keep track of the state for each <code>FPC, PFE and SIB</code>. I am not sure how to have a <code>'linked'</code> groups in regex. </p>\n\n<pre><code>Fabric management FPC state:                                  \nFPC #0\n  PFE #0\n    SIB #0 \n            Plane enabled\n    SIB #1 \n            Link Error        \n  PFE #1\n    SIB #0 \n            Destination Error\n    SIB #1 \n            Plane Disabled\n    SIB #2 \n            Plane enabled       \nFPC #1\n  PFE #1\n    SIB #0 \n            Plane enabled\n</code></pre>\n\n<p>So far what I have is </p>\n\n<pre><code>public void parseFPCS(String commandOutput) {\n        regex = \"FPC state:(\\\\s*)(FPC\\\\s*#?\\\\d+)\\\\s*(PFE\\\\s*#\\\\d+)\\\\s*(SIB\\\\s*#\\\\d+)\\\\s*(\\\\w*\\\\s*\\\\w*)\";\n        pattern = Pattern.compile(regex, patternFlag);\n        matcher = pattern.matcher(commandOutput);\n\n        while(matcher.find()) {\n            String empty = matcher.group(1);\n            Boolean isEmpty = empty.trim().isEmpty();\n            if(isEmpty) {\n                System.out.println(\"Link Empty\");\n                System.out.println(matcher.group(2));\n                System.out.println(matcher.group(3));\n                System.out.println(matcher.group(4));\n                System.out.println(matcher.group(5));\n                //Right now I am just printing it out to see the outcome. \n            }\n\n        }\n\nThe current outcome is \n    Link Empty\n    FPC #0\n    PFE #0\n    SIB #0\n    Plane enabled //This is expected.\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":306012,"reputation":7257,"user_id":616504,"accept_rate":74,"display_name":"Hidden"},"score":0,"creation_date":1363210481,"post_id":5199847,"comment_id":21765885,"body_markdown":"I&#39;m getting the same. When I debug and step through it works. When I run it, it doesn&#39;t. I&#39;ve found by wrapping my code in a \nif(matcher.matches() &amp;&amp; matcher.groupCount() &gt; 0)\nCan make it work","body":"I&#39;m getting the same. When I debug and step through it works. When I run it, it doesn&#39;t. I&#39;ve found by wrapping my code in a  if(matcher.matches() &amp;&amp; matcher.groupCount() &gt; 0) Can make it work"}],"answers":[{"comments":[{"owner":{"account_id":176705,"reputation":93,"user_id":407556,"display_name":"uzrbin"},"score":0,"creation_date":1299277245,"post_id":5199912,"comment_id":5845664,"body_markdown":"Interesting.  Thanks for the feedback.  I&#39;ve declared addrLong as static final, but I don&#39;t think that should affect it?","body":"Interesting.  Thanks for the feedback.  I&#39;ve declared addrLong as static final, but I don&#39;t think that should affect it?"},{"owner":{"account_id":176705,"reputation":93,"user_id":407556,"display_name":"uzrbin"},"score":0,"creation_date":1299278062,"post_id":5199912,"comment_id":5845811,"body_markdown":"So, I tried doing the same.  And got the same results.  (it worked when run alone)  I guess I&#39;ll find what&#39;s messing this up in the tomcat environment.","body":"So, I tried doing the same.  And got the same results.  (it worked when run alone)  I guess I&#39;ll find what&#39;s messing this up in the tomcat environment."}],"tags":[],"owner":{"account_id":99449,"reputation":9368,"user_id":268619,"accept_rate":86,"display_name":"Matthew Gilliard"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1299277665,"creation_date":1299277133,"answer_id":5199912,"question_id":5199847,"body_markdown":"I copied and pasted your code and it compiles and runs as expected, no exception thrown.  Is there some other part of your code causing this?\r\n\r\n\r\n----------\r\n\r\nMy complete code is:\r\n\r\n    public class StackOverflow {\r\n    \r\n        private static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\r\n        private static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\r\n        private static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\r\n        private static final Pattern addrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\r\n    \r\n        public static void main(final String[] args) {\r\n            final String address = &quot;12 CLARE ST E&quot;;\r\n            final Hashtable&lt;String, String&gt; result = splitAddress(address);\r\n            System.out.println(result.get(&quot;number&quot;));\r\n        }\r\n    \r\n        private static Hashtable&lt;String, String&gt; splitAddress(final String address) {\r\n            final Hashtable&lt;String, String&gt; result = new Hashtable&lt;String, String&gt;();\r\n    \r\n            final Matcher m = addrLong.matcher(address);\r\n            if (m.matches()) {\r\n                result.put(&quot;number&quot;, m.group(1));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nWhich runs fine and prints `12` as its output.\r\n","title":"Matcher throwing IllegalStateException after matches","body":"<p>I copied and pasted your code and it compiles and runs as expected, no exception thrown.  Is there some other part of your code causing this?</p>\n\n<hr>\n\n<p>My complete code is:</p>\n\n<pre><code>public class StackOverflow {\n\n    private static final String numberRegex = \"[0-9]*[a-zA-Z]?\"; // 123a 123\n    private static final String compassRegex = \"N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST\";\n    private static final String typeRegex = \"STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR\";\n    private static final Pattern addrLong = Pattern.compile(\"(\" + numberRegex + \")\\\\s(.*)\\\\s(\" + typeRegex + \")\\\\s?(\" + compassRegex + \")?\");\n\n    public static void main(final String[] args) {\n        final String address = \"12 CLARE ST E\";\n        final Hashtable&lt;String, String&gt; result = splitAddress(address);\n        System.out.println(result.get(\"number\"));\n    }\n\n    private static Hashtable&lt;String, String&gt; splitAddress(final String address) {\n        final Hashtable&lt;String, String&gt; result = new Hashtable&lt;String, String&gt;();\n\n        final Matcher m = addrLong.matcher(address);\n        if (m.matches()) {\n            result.put(\"number\", m.group(1));\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>Which runs fine and prints <code>12</code> as its output.</p>\n"}],"owner":{"account_id":176705,"reputation":93,"user_id":407556,"display_name":"uzrbin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2874,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":5199912,"answer_count":1,"score":7,"last_activity_date":1692791642,"creation_date":1299276533,"question_id":5199847,"body_markdown":"I&#39;m having some strange issues with Matches, hoping someone could shed some light.  \r\nAccording to Java docs:\r\n\r\n&gt; public boolean matches() ... If the\r\n&gt; match succeeds then more information\r\n&gt; can be obtained via the start, end,\r\n&gt; and group methods.\r\n\r\nSome code:\r\n\r\n    private static Hashtable&lt;String,String&gt; splitAddress(String address){\r\n    \t\tHashtable&lt;String,String&gt; result = new Hashtable&lt;String,String&gt;();\r\n    \t\t\r\n    \t\tMatcher m = addrLong.matcher(address);\r\n    \t\tif (m.matches()) {\r\n    \t\t\tresult.put(&quot;number&quot;, m.group(1));\r\n\r\nThis is where it throws:\r\n\r\n    java.lang.IllegalStateException: No match found\r\n    \tjava.util.regex.Matcher.group(Matcher.java:485)\r\n    \tsplitAddress(WebServiceHelper.java:699)\r\n\r\nThis alone is strange to me. Here&#39;s some more info if it helps:\r\n\r\n    \tprivate static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\r\n    \tprivate static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\r\n    \tprivate static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\r\n    \r\n    addrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\r\n\r\nThe input string I&#39;ve been testing against is &quot;12 CLARE ST E&quot;\r\n\r\n\r\nI know naming conventions are being broken. I didn&#39;t write that part, I swear.\r\n\r\n\r\n\r\nThis executes successfully as a standalone function.  \r\n\r\nAny ideas why it would break in a Tomcat environment?  \r\n\r\nI&#39;ll see if I can find anything that could be impacting this, but my addrLong is my only static variable and is not used anywhere else.\r\n\r\nThis is driving me crazy. I even tried:\r\n\r\n\t\tPattern p = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)&quot;);\r\n\t\tMatcher m = p.matcher(address);\r\n\t\t\r\n\t\tif (m.matches()) {\r\n\t\t\tresult.put(&quot;number&quot;, m.group(1));\r\n\r\nIn my server environment and it fails.\r\n\r\n\r\n\r\nIt even runs fine when it&#39;s alone in a servlet. I&#39;m stumped. Any hints or ideas greatly appreciated.","title":"Matcher throwing IllegalStateException after matches","body":"<p>I'm having some strange issues with Matches, hoping someone could shed some light.<br />\nAccording to Java docs:</p>\n<blockquote>\n<p>public boolean matches() ... If the\nmatch succeeds then more information\ncan be obtained via the start, end,\nand group methods.</p>\n</blockquote>\n<p>Some code:</p>\n<pre><code>private static Hashtable&lt;String,String&gt; splitAddress(String address){\n        Hashtable&lt;String,String&gt; result = new Hashtable&lt;String,String&gt;();\n        \n        Matcher m = addrLong.matcher(address);\n        if (m.matches()) {\n            result.put(&quot;number&quot;, m.group(1));\n</code></pre>\n<p>This is where it throws:</p>\n<pre><code>java.lang.IllegalStateException: No match found\n    java.util.regex.Matcher.group(Matcher.java:485)\n    splitAddress(WebServiceHelper.java:699)\n</code></pre>\n<p>This alone is strange to me. Here's some more info if it helps:</p>\n<pre><code>    private static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\n    private static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\n    private static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\n\naddrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\n</code></pre>\n<p>The input string I've been testing against is &quot;12 CLARE ST E&quot;</p>\n<p>I know naming conventions are being broken. I didn't write that part, I swear.</p>\n<p>This executes successfully as a standalone function.</p>\n<p>Any ideas why it would break in a Tomcat environment?</p>\n<p>I'll see if I can find anything that could be impacting this, but my addrLong is my only static variable and is not used anywhere else.</p>\n<p>This is driving me crazy. I even tried:</p>\n<pre><code>    Pattern p = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)&quot;);\n    Matcher m = p.matcher(address);\n    \n    if (m.matches()) {\n        result.put(&quot;number&quot;, m.group(1));\n</code></pre>\n<p>In my server environment and it fails.</p>\n<p>It even runs fine when it's alone in a servlet. I'm stumped. Any hints or ideas greatly appreciated.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":4,"creation_date":1307643127,"post_id":6297119,"comment_id":7355511,"body_markdown":"Nastiest regex I&#39;ve ever seen.","body":"Nastiest regex I&#39;ve ever seen."},{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":3,"creation_date":1307644091,"post_id":6297119,"comment_id":7355773,"body_markdown":"I am not sure I can understand what&#39;s your goal. Could you post the example input and expected output for it?","body":"I am not sure I can understand what&#39;s your goal. Could you post the example input and expected output for it?"},{"owner":{"account_id":410120,"reputation":953,"user_id":2278151,"accept_rate":100,"display_name":"NorthGuard"},"score":0,"creation_date":1307648578,"post_id":6297119,"comment_id":7357047,"body_markdown":"It is almost certainly easier and definitely more readable if you simply output the http part you extract from the string to a variable and then breaking that variable into 10 char pieces through a separate function than to keep adding to that regex and have it done in one line, if it&#39;s even possible. In fact, I can&#39;t believe you&#39;re seriously contemplating how to **add** to that pattern.","body":"It is almost certainly easier and definitely more readable if you simply output the http part you extract from the string to a variable and then breaking that variable into 10 char pieces through a separate function than to keep adding to that regex and have it done in one line, if it&#39;s even possible. In fact, I can&#39;t believe you&#39;re seriously contemplating how to <b>add</b> to that pattern."}],"answers":[{"tags":[],"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307864737,"creation_date":1307863898,"answer_id":6320727,"question_id":6297119,"body_markdown":"You can&#39;t use replaceAll; you should iterate through the matches and process each one individually.  Java&#39;s Matcher already has an [API](http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,%20java.lang.String)) for this:\r\n\r\n     // expanding on the example in the &#39;appendReplacement&#39; JavaDoc:\r\n     Pattern p = Pattern.compile(&quot;...&quot;); // your URL regexp\r\n     Matcher m = p.matcher(text);\r\n     StringBuffer sb = new StringBuffer();\r\n     while (m.find()) {\r\n         String truncatedURL = m.group(1).replaceFirst(&quot;^(.{10}).*&quot;,&quot;$1...&quot;); // i iz smrt\r\n         m.appendReplacement(sb,\r\n             &quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;&quot;); // simple replacement for $1\r\n         sb.append(truncatedURL);\r\n         sb.append(&quot;&lt;/a&gt;&quot;);\r\n     }\r\n     m.appendTail(sb);\r\n     System.out.println(sb.toString());\r\n\r\n(For performance, you should factor out compiled Patterns for the replace* calls inside the loop.)\r\n\r\n**Edit**: use sb.append() so not to worry about escaping $ and \\ in &#39;truncatedURL&#39;.","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>You can't use replaceAll; you should iterate through the matches and process each one individually.  Java's Matcher already has an <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29\" rel=\"nofollow\">API</a> for this:</p>\n\n<pre><code> // expanding on the example in the 'appendReplacement' JavaDoc:\n Pattern p = Pattern.compile(\"...\"); // your URL regexp\n Matcher m = p.matcher(text);\n StringBuffer sb = new StringBuffer();\n while (m.find()) {\n     String truncatedURL = m.group(1).replaceFirst(\"^(.{10}).*\",\"$1...\"); // i iz smrt\n     m.appendReplacement(sb,\n         \"&lt;a href=\\\"http://$1\\\" target=\\\"_blank\\\"&gt;\"); // simple replacement for $1\n     sb.append(truncatedURL);\n     sb.append(\"&lt;/a&gt;\");\n }\n m.appendTail(sb);\n System.out.println(sb.toString());\n</code></pre>\n\n<p>(For performance, you should factor out compiled Patterns for the replace* calls inside the loop.)</p>\n\n<p><strong>Edit</strong>: use sb.append() so not to worry about escaping $ and \\ in 'truncatedURL'.</p>\n"},{"tags":[],"owner":{"account_id":106909,"reputation":65,"user_id":1325539,"display_name":"Isaac.Lopez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334814775,"creation_date":1334814775,"answer_id":10222371,"question_id":6297119,"body_markdown":"I think that you have a similar problem to the one mentioned on this question \r\n\r\nhttps://stackoverflow.com/questions/1909534/java-replacing-text-url-with-clickable-html-link\r\n\r\nthey suggested something like this \r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String basicUrlRegex =  &quot;(.*://[^&lt;&gt;[:space:]]+[[:alnum:]/])&quot;; \r\n    myString.replaceAll(basicUrlRegex, &quot;&lt;a href=\\&quot;$1\\&quot;&gt;$1&lt;/a&gt;&quot;);\r\n\r\n","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>I think that you have a similar problem to the one mentioned on this question </p>\n\n<p><a href=\"https://stackoverflow.com/questions/1909534/java-replacing-text-url-with-clickable-html-link\">Java : replacing text URL with clickable HTML link</a></p>\n\n<p>they suggested something like this </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String basicUrlRegex =  \"(.*://[^&lt;&gt;[:space:]]+[[:alnum:]/])\"; \nmyString.replaceAll(basicUrlRegex, \"&lt;a href=\\\"$1\\\"&gt;$1&lt;/a&gt;\");\n</code></pre>\n"}],"owner":{"account_id":239936,"reputation":3048,"user_id":509865,"accept_rate":70,"display_name":"Gondim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5096,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692791605,"creation_date":1307642003,"question_id":6297119,"body_markdown":"In my application I need get the link and break it if it is bigger than 10 (example) characters.\r\nThe problem is, if I send the whole text, for example: &quot;this is my website www.stackoverflow.com&quot; directly to this matcher\r\n\r\n    Pattern patt = Pattern.compile(&quot;(?i)\\\\b((?:https?://|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.][a-z]{2,4}/)(?:[^\\\\s()&lt;&gt;]+|\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\))+(?:\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\)|[^\\\\s`!()\\\\[\\\\]{};:\\&#39;\\&quot;.,&lt;&gt;???“”‘’]))&quot;);\r\n    Matcher matcher = patt.matcher(text);  \r\n\r\n  \r\n\r\n    matcher.replaceAll(&quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;$1&lt;/a&gt;&quot;);\r\n\r\nIt would show the whole website, without breaking it.\r\n\r\nWhat I was trying to do, is to get the value of $1, so I could break the second one, keeping the first one correctly.\r\n\r\nI&#39;ve got another method to break the string up.\r\n\r\nWhat I want to get is only the website so I could break it after all.","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>In my application I need get the link and break it if it is bigger than 10 (example) characters.\nThe problem is, if I send the whole text, for example: &quot;this is my website www.stackoverflow.com&quot; directly to this matcher</p>\n<pre><code>Pattern patt = Pattern.compile(&quot;(?i)\\\\b((?:https?://|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.][a-z]{2,4}/)(?:[^\\\\s()&lt;&gt;]+|\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\))+(?:\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\)|[^\\\\s`!()\\\\[\\\\]{};:\\'\\&quot;.,&lt;&gt;???“”‘’]))&quot;);\nMatcher matcher = patt.matcher(text);  \n\n\n\nmatcher.replaceAll(&quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;$1&lt;/a&gt;&quot;);\n</code></pre>\n<p>It would show the whole website, without breaking it.</p>\n<p>What I was trying to do, is to get the value of $1, so I could break the second one, keeping the first one correctly.</p>\n<p>I've got another method to break the string up.</p>\n<p>What I want to get is only the website so I could break it after all.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1313778556,"post_id":7125805,"comment_id":8540130,"body_markdown":"This is only valid if the Matcher responds to `Thread.intterupt()`  If it does this is a better solution if it doesn&#39;t its not a valid solution.","body":"This is only valid if the Matcher responds to <code>Thread.intterupt()</code>  If it does this is a better solution if it doesn&#39;t its not a valid solution."},{"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"score":0,"creation_date":1313779098,"post_id":7125805,"comment_id":8540281,"body_markdown":"I am already running these in separate threads, but not sure how that helps, because unless I can stop the threads, they keep running in the background. @Sanjay, I don&#39;t think interrupt() will magically stop these runaway threads, but maybe I&#39;m wrong.","body":"I am already running these in separate threads, but not sure how that helps, because unless I can stop the threads, they keep running in the background. @Sanjay, I don&#39;t think interrupt() will magically stop these runaway threads, but maybe I&#39;m wrong."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1313779342,"post_id":7125805,"comment_id":8540369,"body_markdown":"Youre not wrong.  Thread.interrupt is only as useful as the application&#39;s responsiveness to interruption","body":"Youre not wrong.  Thread.interrupt is only as useful as the application&#39;s responsiveness to interruption"},{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":0,"creation_date":1313780187,"post_id":7125805,"comment_id":8540638,"body_markdown":"You folks are of course right. It completely slipped my mind that Matcher methods don&#39;t respond to `Thread.interrupt`. As a last resort, you can try monkey patching &quot;Matcher&quot; class methods by checking for `Thread.interrupt` in every loop.","body":"You folks are of course right. It completely slipped my mind that Matcher methods don&#39;t respond to <code>Thread.interrupt</code>. As a last resort, you can try monkey patching &quot;Matcher&quot; class methods by checking for <code>Thread.interrupt</code> in every loop."},{"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"score":0,"creation_date":1313781287,"post_id":7125805,"comment_id":8540945,"body_markdown":"Yeah, I&#39;m looking at a thread dump now, and its basically a stack of calls to all these match methods inside the Pattern class. So I&#39;m seeing like Pattern$GroupHead.match, followed by Pattern$Ques.match, then Pattern$Curly.match(. So what I may have to do is subclass Pattern and at the start of every match method, insert some code to have them all return false if some time has expired or maybe call thread.wait()?","body":"Yeah, I&#39;m looking at a thread dump now, and its basically a stack of calls to all these match methods inside the Pattern class. So I&#39;m seeing like Pattern$GroupHead.match, followed by Pattern$Ques.match, then Pattern$Curly.match(. So what I may have to do is subclass Pattern and at the start of every match method, insert some code to have them all return false if some time has expired or maybe call thread.wait()?"},{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":0,"creation_date":1313781665,"post_id":7125805,"comment_id":8541051,"body_markdown":"No, just check for Thread interruption and if it has been interrupted, propagate the interruption. Look [here](https://bitbucket.org/sanjayts/java-snippets/src/1dc970ebb770/src/main/net/sanjayts/snippets/threading/ThreadStopTest.java) for a sample snippet.","body":"No, just check for Thread interruption and if it has been interrupted, propagate the interruption. Look <a href=\"https://bitbucket.org/sanjayts/java-snippets/src/1dc970ebb770/src/main/net/sanjayts/snippets/threading/ThreadStopTest.java\" rel=\"nofollow noreferrer\">here</a> for a sample snippet."}],"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313778474,"creation_date":1313778474,"answer_id":7125805,"question_id":7125732,"body_markdown":"One possible solution, which has a nice thing that it doesn&#39;t block the main thread, would be to spawn off the &quot;matching&quot; in a separate thread. You can create a customized `Callable` which returns `null` after the duration/threshold has expired or the &quot;match&quot; result if it is successful.","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>One possible solution, which has a nice thing that it doesn't block the main thread, would be to spawn off the \"matching\" in a separate thread. You can create a customized <code>Callable</code> which returns <code>null</code> after the duration/threshold has expired or the \"match\" result if it is successful.</p>\n"},{"comments":[{"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"score":0,"creation_date":1313779288,"post_id":7125816,"comment_id":8540347,"body_markdown":"Right, I am running in a separate thread. I&#39;m pretty sure I have tried thread.stop() before and it caused some weird problems. Of course its deprecated and all and we are told not to use it, etc. Have you used thread.stop() successfully with recent jvms?","body":"Right, I am running in a separate thread. I&#39;m pretty sure I have tried thread.stop() before and it caused some weird problems. Of course its deprecated and all and we are told not to use it, etc. Have you used thread.stop() successfully with recent jvms?"},{"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"score":0,"creation_date":1313781879,"post_id":7125816,"comment_id":8541111,"body_markdown":"Well it was a while ago since I tried. I think the JVM just died or something with no stack trace or anything. Could have been due to something else since little evidence was left behind. I could always give it another shot.","body":"Well it was a while ago since I tried. I think the JVM just died or something with no stack trace or anything. Could have been due to something else since little evidence was left behind. I could always give it another shot."}],"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313778527,"creation_date":1313778527,"answer_id":7125816,"question_id":7125732,"body_markdown":"A worst case scenario and one which may have people yelling at me is:\r\n\r\nYou can run the regex matching in another thread and if its running too long you can `thread.stop()` it.  ","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>A worst case scenario and one which may have people yelling at me is:</p>\n\n<p>You can run the regex matching in another thread and if its running too long you can <code>thread.stop()</code> it.  </p>\n"},{"tags":[],"owner":{"account_id":464336,"reputation":51,"user_id":867772,"display_name":"Nick"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1313782778,"creation_date":1313782778,"answer_id":7126578,"question_id":7125732,"body_markdown":"If I were you, I would make my own class that I would put between my application and the library you&#39;re using to match, and implement methods like &quot;interrupt&quot; that you need to kill the thread, and manage the matching that way.","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>If I were you, I would make my own class that I would put between my application and the library you're using to match, and implement methods like \"interrupt\" that you need to kill the thread, and manage the matching that way.</p>\n"},{"comments":[{"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"score":0,"creation_date":1313783814,"post_id":7126658,"comment_id":8541676,"body_markdown":"Looks promising. Easier than what I was about to try (replacing jdk Pattern class with my own version, and using Xbootclasspath to get it to load instead of the default).","body":"Looks promising. Easier than what I was about to try (replacing jdk Pattern class with my own version, and using Xbootclasspath to get it to load instead of the default)."},{"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"score":0,"creation_date":1313784042,"post_id":7126658,"comment_id":8541729,"body_markdown":"However, some of the comments left in the other answer, lead me to think it may not always work. Worth a shot though. It makes the assumption that charAt will be called when we are stuck in these kinds of loops, which may not always be the case.","body":"However, some of the comments left in the other answer, lead me to think it may not always work. Worth a shot though. It makes the assumption that charAt will be called when we are stuck in these kinds of loops, which may not always be the case."}],"tags":[],"owner":{"account_id":30849,"reputation":39991,"user_id":84378,"accept_rate":85,"display_name":"Reverend Gonzo"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1313783373,"creation_date":1313783373,"answer_id":7126658,"question_id":7125732,"body_markdown":"There is a solution [here][1] which would solve your problem. (That question is the same problem yours is.)\r\n\r\nEssentially, its a CharSequence that can notice thread interrupts.\r\n\r\nThe code from that answer:\r\n\r\n    /**\r\n     * CharSequence that noticed thread interrupts -- as might be necessary \r\n     * to recover from a loose regex on unexpected challenging input. \r\n     * \r\n     * @author gojomo\r\n     */\r\n    public class InterruptibleCharSequence implements CharSequence {\r\n        CharSequence inner;\r\n        // public long counter = 0; \r\n    \r\n        public InterruptibleCharSequence(CharSequence inner) {\r\n            super();\r\n            this.inner = inner;\r\n        }\r\n    \r\n        public char charAt(int index) {\r\n            if (Thread.interrupted()) { // clears flag if set\r\n                throw new RuntimeException(new InterruptedException());\r\n            }\r\n            // counter++;\r\n            return inner.charAt(index);\r\n        }\r\n    \r\n        public int length() {\r\n            return inner.length();\r\n        }\r\n    \r\n        public CharSequence subSequence(int start, int end) {\r\n            return new InterruptibleCharSequence(inner.subSequence(start, end));\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return inner.toString();\r\n        }\r\n    }\r\n\r\nWrap your string with this and you can interrupt the thread.\r\n\r\n  [1]: https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/910798#910798\r\n","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>There is a solution <a href=\"https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/910798#910798\">here</a> which would solve your problem. (That question is the same problem yours is.)</p>\n\n<p>Essentially, its a CharSequence that can notice thread interrupts.</p>\n\n<p>The code from that answer:</p>\n\n<pre><code>/**\n * CharSequence that noticed thread interrupts -- as might be necessary \n * to recover from a loose regex on unexpected challenging input. \n * \n * @author gojomo\n */\npublic class InterruptibleCharSequence implements CharSequence {\n    CharSequence inner;\n    // public long counter = 0; \n\n    public InterruptibleCharSequence(CharSequence inner) {\n        super();\n        this.inner = inner;\n    }\n\n    public char charAt(int index) {\n        if (Thread.interrupted()) { // clears flag if set\n            throw new RuntimeException(new InterruptedException());\n        }\n        // counter++;\n        return inner.charAt(index);\n    }\n\n    public int length() {\n        return inner.length();\n    }\n\n    public CharSequence subSequence(int start, int end) {\n        return new InterruptibleCharSequence(inner.subSequence(start, end));\n    }\n\n    @Override\n    public String toString() {\n        return inner.toString();\n    }\n}\n</code></pre>\n\n<p>Wrap your string with this and you can interrupt the thread.</p>\n"},{"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376818055,"creation_date":1313783811,"answer_id":7126719,"question_id":7125732,"body_markdown":"You need to use another thread and stop it when it runs out of time.\r\n\r\nThere are two ways of stopping: Thread#stop() and Thread#interrupt().\r\n\r\nUsing Thread.stop() is rather dangerous, and Matcher does not respond to Thread.interrupt (answering to interrupt is an opt-in behavior).\r\n\r\nBUT there is a really clever solution, some details are [here][1]. Use the provided InterruptibleCharSequence (it wraps yours string and works almost like one, BUT it adds support for Thread#interrupt()), then build your own Callable returning whatever matcher returns. Each runnable can be now executed using a FutureTask / ThreadPool combo, and you can get the result with any timeout you desire:\r\n\r\n    Boolean result = myMatchingTask().get(2, TimeUnit.SECONDS)\r\n\r\nIf you are in Java EE environment, you can skip the complicated part, just use the InterruptipleCharSequence and @Asynchronous calls.\r\n\r\nIf this sounds cryptic, ask for details.\r\n\r\n  [1]: https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match\r\n\r\n","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>You need to use another thread and stop it when it runs out of time.</p>\n\n<p>There are two ways of stopping: Thread#stop() and Thread#interrupt().</p>\n\n<p>Using Thread.stop() is rather dangerous, and Matcher does not respond to Thread.interrupt (answering to interrupt is an opt-in behavior).</p>\n\n<p>BUT there is a really clever solution, some details are <a href=\"https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match\">here</a>. Use the provided InterruptibleCharSequence (it wraps yours string and works almost like one, BUT it adds support for Thread#interrupt()), then build your own Callable returning whatever matcher returns. Each runnable can be now executed using a FutureTask / ThreadPool combo, and you can get the result with any timeout you desire:</p>\n\n<pre><code>Boolean result = myMatchingTask().get(2, TimeUnit.SECONDS)\n</code></pre>\n\n<p>If you are in Java EE environment, you can skip the complicated part, just use the InterruptipleCharSequence and @Asynchronous calls.</p>\n\n<p>If this sounds cryptic, ask for details.</p>\n"},{"tags":[],"owner":{"account_id":1387426,"reputation":101,"user_id":1468211,"display_name":"wuranbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468427717,"creation_date":1455529690,"answer_id":35406053,"question_id":7125732,"body_markdown":"Just show another solution. \r\n\r\nYou can use the NFA algorithm which is not sensitive to input and hundreds of times faster than the Java standard library.\r\n\r\nI think the sensitivity to input is the original reason which causes your problem.\r\n\r\nYou can check out the introduction here: [Regular Expression Matching Can Be Simple And Fast (but is slow in Java, Perl, PHP, Python, Ruby, ...)][1]\r\n\r\nI also answered a similar question with more detail here: https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/35405926#35405926\r\n\r\n\r\n  [1]: https://swtch.com/~rsc/regexp/regexp1.html","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>Just show another solution. </p>\n\n<p>You can use the NFA algorithm which is not sensitive to input and hundreds of times faster than the Java standard library.</p>\n\n<p>I think the sensitivity to input is the original reason which causes your problem.</p>\n\n<p>You can check out the introduction here: <a href=\"https://swtch.com/~rsc/regexp/regexp1.html\" rel=\"nofollow noreferrer\">Regular Expression Matching Can Be Simple And Fast (but is slow in Java, Perl, PHP, Python, Ruby, ...)</a></p>\n\n<p>I also answered a similar question with more detail here: <a href=\"https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/35405926#35405926\">Cancelling a long running regex match?</a></p>\n"}],"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3646,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1692791570,"creation_date":1313778179,"question_id":7125732,"body_markdown":"Wondering about techniques for terminating long running regular expression matches (java matcher.find() method). Maybe subclassing Matcher and adding some logic to terminate after x number of iterations?\r\n\r\nBasically I&#39;m generating regular expressions using a genetic algorithm, so I don&#39;t have a lot of control over them. Then I test each one against some text to see if they match a certain target area of the text. \r\n\r\nSo since I&#39;m sort of randomly generating these regular expressions, I get some crazy stuff going on, and it eats a ton of cpu and some find() calls take a while to terminate. I&#39;d rather just kill them after a while, but not sure of best way to do that. \r\n\r\nSo if anyone has ideas, please let me know. \r\n\r\n","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>Wondering about techniques for terminating long running regular expression matches (java matcher.find() method). Maybe subclassing Matcher and adding some logic to terminate after x number of iterations?</p>\n\n<p>Basically I'm generating regular expressions using a genetic algorithm, so I don't have a lot of control over them. Then I test each one against some text to see if they match a certain target area of the text. </p>\n\n<p>So since I'm sort of randomly generating these regular expressions, I get some crazy stuff going on, and it eats a ton of cpu and some find() calls take a while to terminate. I'd rather just kill them after a while, but not sure of best way to do that. </p>\n\n<p>So if anyone has ideas, please let me know. </p>\n"},{"tags":["java","jodatime","duration"],"comments":[{"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"score":1,"creation_date":1338541074,"post_id":10829870,"comment_id":14126551,"body_markdown":"I have temporary implemented this with `org.apache.commons.lang.time.DurationFormatUtils`","body":"I have temporary implemented this with <code>org.apache.commons.lang.time.DurationFormatUtils</code>"},{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":0,"creation_date":1367830292,"post_id":10829870,"comment_id":23501037,"body_markdown":"Related: http://stackoverflow.com/questions/1440557/joda-time-period-to-string","body":"Related: <a href=\"http://stackoverflow.com/questions/1440557/joda-time-period-to-string\" title=\"joda time period to string\">stackoverflow.com/questions/1440557/joda-time-period-to-stri&zwnj;&#8203;ng</a>"}],"answers":[{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"comment_count":0,"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1442230099,"creation_date":1338570863,"answer_id":10854663,"question_id":10829870,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n    Duration yourDuration = //...\r\n    Period period = yourDuration.toPeriod();\r\n    PeriodFormatter minutesAndSeconds = new PeriodFormatterBuilder()\r\n         .printZeroAlways()\r\n         .appendMinutes()\r\n         .appendSeparator(&quot;:&quot;)\r\n         .appendSeconds()\r\n         .toFormatter();\r\n    String result = minutesAndSeconds.print(period);","title":"Convert JodaTime duration to string","body":"<pre class=\"lang-java prettyprint-override\"><code>Duration yourDuration = //...\nPeriod period = yourDuration.toPeriod();\nPeriodFormatter minutesAndSeconds = new PeriodFormatterBuilder()\n     .printZeroAlways()\n     .appendMinutes()\n     .appendSeparator(\":\")\n     .appendSeconds()\n     .toFormatter();\nString result = minutesAndSeconds.print(period);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":1,"creation_date":1445517532,"post_id":28691397,"comment_id":54362814,"body_markdown":"This does seem to work better and I would upvote in preference to the accepted answer","body":"This does seem to work better and I would upvote in preference to the accepted answer"},{"owner":{"account_id":958617,"reputation":4858,"user_id":983430,"accept_rate":100,"display_name":"Amos M. Carpenter"},"score":0,"creation_date":1448496265,"post_id":28691397,"comment_id":55618046,"body_markdown":"I agree with Brian, the `minimumPrintedDigits(2)` was exactly what I needed.","body":"I agree with Brian, the <code>minimumPrintedDigits(2)</code> was exactly what I needed."}],"tags":[],"owner":{"account_id":1712991,"reputation":1257,"user_id":1570640,"accept_rate":53,"display_name":"Yokich"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1691743032,"creation_date":1424767672,"answer_id":28691397,"question_id":10829870,"body_markdown":"I wanted this for myself and I did not find llyas answer to be accurate.\r\nI want to have a counter and when I had 0 hours and 1 minute I got `0:1` with his answer- but this is fixed easily with one line of code!\r\n\r\n```java\r\nPeriod p = time.toPeriod();\r\nPeriodFormatter hm = new PeriodFormatterBuilder()\r\n    .printZeroAlways()\r\n    .minimumPrintedDigits(2) // gives the &#39;01&#39;\r\n    .appendHours()\r\n    .appendSeparator(&quot;:&quot;)\r\n    .appendMinutes()\r\n    .toFormatter();\r\nString result = hm.print(p);\r\n```\r\n\r\nThis will give you `02:07`!","title":"Convert JodaTime duration to string","body":"<p>I wanted this for myself and I did not find llyas answer to be accurate.\nI want to have a counter and when I had 0 hours and 1 minute I got <code>0:1</code> with his answer- but this is fixed easily with one line of code!</p>\n<pre class=\"lang-java prettyprint-override\"><code>Period p = time.toPeriod();\nPeriodFormatter hm = new PeriodFormatterBuilder()\n    .printZeroAlways()\n    .minimumPrintedDigits(2) // gives the '01'\n    .appendHours()\n    .appendSeparator(&quot;:&quot;)\n    .appendMinutes()\n    .toFormatter();\nString result = hm.print(p);\n</code></pre>\n<p>This will give you <code>02:07</code>!</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692791562,"creation_date":1692781632,"answer_id":76959890,"question_id":10829870,"body_markdown":"java.time\r\n--\r\n\r\nQuoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; **Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this project**.\r\n\r\nSolution using `java.time`, the modern date-time API\r\n--\r\n\r\nYou can use [`java.time.Duration`][1] which is modelled on [ISO-8601 standards][2] and was introduced with *Java-8* as part of [JSR-310 implementation][3]. With *Java-9* some more convenience methods were introduced.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Duration duration = Duration.ofSeconds(127);\r\n            // Default format\r\n            System.out.println(duration);\r\n    \r\n            // Custom format\r\n            // ####################################Java-8####################################\r\n            String formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutes(), duration.toSeconds() % 60);\r\n            System.out.println(formattedElapsedTime);\r\n            // ##############################################################################\r\n    \r\n            // ####################################Java-9####################################\r\n            formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutesPart(),\r\n                    duration.toSecondsPart());\r\n            System.out.println(formattedElapsedTime);\r\n            // ##############################################################################\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT2M7S\r\n    02:07\r\n    02:07\r\n\r\n[Online Demo](https://ideone.com/MBOyPQ)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\r\n\r\n","title":"Convert JodaTime duration to string","body":"<h2>java.time</h2>\n<p>Quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p><strong>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this project</strong>.</p>\n</blockquote>\n<h2>Solution using <code>java.time</code>, the modern date-time API</h2>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>java.time.Duration</code></a> which is modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO-8601 standards</a> and was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"nofollow noreferrer\">JSR-310 implementation</a>. With <em>Java-9</em> some more convenience methods were introduced.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\n\npublic class Main {\n    public static void main(String[] args) {\n        Duration duration = Duration.ofSeconds(127);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutes(), duration.toSeconds() % 60);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutesPart(),\n                duration.toSecondsPart());\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT2M7S\n02:07\n02:07\n</code></pre>\n<p><a href=\"https://ideone.com/MBOyPQ\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12040,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":10854663,"answer_count":3,"score":27,"last_activity_date":1692791562,"creation_date":1338452559,"question_id":10829870,"body_markdown":"I have movie with duration 127 seconds. I wanna display it as `02:07`. What is the best way to implement this?","title":"Convert JodaTime duration to string","body":"<p>I have movie with duration 127 seconds. I wanna display it as <code>02:07</code>. What is the best way to implement this?</p>\n"},{"tags":["java","android","java-9"],"comments":[{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":49,"creation_date":1508452655,"post_id":46402772,"comment_id":80627592,"body_markdown":"Actually this question asks a legit problem with installing the android sdk when having java9","body":"Actually this question asks a legit problem with installing the android sdk when having java9"},{"owner":{"account_id":930765,"reputation":3811,"user_id":960691,"accept_rate":72,"display_name":"Le Mot Juiced"},"score":51,"creation_date":1508952167,"post_id":46402772,"comment_id":80824103,"body_markdown":"I has this problem, and I copy/pasted the first line of my error message into google, and this question was the first hit that came up. Not only that, one of the answers below solved it. This should totally not be closed: no matter what the rules of questions are, this question demonstrably fulfills the whole purpose of the site.","body":"I has this problem, and I copy/pasted the first line of my error message into google, and this question was the first hit that came up. Not only that, one of the answers below solved it. This should totally not be closed: no matter what the rules of questions are, this question demonstrably fulfills the whole purpose of the site."},{"owner":{"account_id":33045,"reputation":13500,"user_id":92182,"accept_rate":77,"display_name":"Dimitris"},"score":1,"creation_date":1522339470,"post_id":46402772,"comment_id":86129027,"body_markdown":"Delete anything older than Java 8 from `/Library/Java/JavaVirtualMachines`","body":"Delete anything older than Java 8 from <code>&#47;Library&#47;Java&#47;JavaVirtualMachines</code>"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":7,"creation_date":1571132466,"post_id":46402772,"comment_id":103129702,"body_markdown":"The problem occurs with Java 8 and Java 11 on Ubuntu 18.04 using packages `openjdk-8-jdk` and `openjdk-11-jdk`. Does anyone know what to install for `javax/xml/bind/annotation/XmlSchema`, or how to avoid `javax/xml/bind/annotation/XmlSchema` in the NDK?","body":"The problem occurs with Java 8 and Java 11 on Ubuntu 18.04 using packages <code>openjdk-8-jdk</code> and <code>openjdk-11-jdk</code>. Does anyone know what to install for <code>javax&#47;xml&#47;bind&#47;annotation&#47;XmlSchema</code>, or how to avoid <code>javax&#47;xml&#47;bind&#47;annotation&#47;XmlSchema</code> in the NDK?"},{"owner":{"account_id":4910284,"reputation":155,"user_id":3955763,"accept_rate":50,"display_name":"devsin"},"score":16,"creation_date":1625555332,"post_id":46402772,"comment_id":120649895,"body_markdown":"it is not about the Java version guys. it&#39;s about the command-line tools. I passed this error Java 16 after I install command-line tools. Also you can find the correct answer page two in this question.\n`Android Studio -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Command-line Tools -&gt; Install`","body":"it is not about the Java version guys. it&#39;s about the command-line tools. I passed this error Java 16 after I install command-line tools. Also you can find the correct answer page two in this question. <code>Android Studio -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Command-line Tools -&gt; Install</code>"},{"owner":{"account_id":10388697,"reputation":638,"user_id":7660775,"display_name":"Imrul Kayes"},"score":0,"creation_date":1625846889,"post_id":46402772,"comment_id":120744863,"body_markdown":"@ssss, thanks. that&#39;s the actual cause &quot;command-line tools&quot;.","body":"@ssss, thanks. that&#39;s the actual cause &quot;command-line tools&quot;."}],"answers":[{"comments":[{"owner":{"account_id":346706,"reputation":668,"user_id":680392,"accept_rate":55,"display_name":"tcardoso"},"score":0,"creation_date":1506396899,"post_id":46405092,"comment_id":79792397,"body_markdown":"thx... brew cask install java is installing java9 now and that will cause this error when installing android-sdk. Had to install java8 in order to proceed","body":"thx... brew cask install java is installing java9 now and that will cause this error when installing android-sdk. Had to install java8 in order to proceed"},{"owner":{"account_id":7222862,"reputation":514,"user_id":5512649,"display_name":"Kxrr"},"score":1,"creation_date":1508521033,"post_id":46405092,"comment_id":80656287,"body_markdown":"1. brew case uninstall java  # uninstall java9\n2. brew tap caskroom/versions\n3. brew cask install java8  # install java8\n4. touch ~/.android/repositories.cfg  # without this file, error will occur on next step\n5. brew cask install android-sdk","body":"1. brew case uninstall java  # uninstall java9 2. brew tap caskroom/versions 3. brew cask install java8  # install java8 4. touch ~/.android/repositories.cfg  # without this file, error will occur on next step 5. brew cask install android-sdk"},{"owner":{"account_id":7076594,"reputation":302,"user_id":5416353,"accept_rate":62,"display_name":"Vedvart1"},"score":2,"creation_date":1516580140,"post_id":46405092,"comment_id":83733335,"body_markdown":"Got the error on windows 10, tried this, still doesn&#39;t work. Any tips?","body":"Got the error on windows 10, tried this, still doesn&#39;t work. Any tips?"},{"owner":{"account_id":127935,"reputation":1726,"user_id":325442,"accept_rate":83,"display_name":"Mr. Bungle"},"score":0,"creation_date":1517960201,"post_id":46405092,"comment_id":84305457,"body_markdown":"@Vedvart1 On Windows 10 x64, uninstalling JDK 9.x and installing JDK 8u161 fixed the issue for me.","body":"@Vedvart1 On Windows 10 x64, uninstalling JDK 9.x and installing JDK 8u161 fixed the issue for me."},{"owner":{"account_id":120488,"reputation":13826,"user_id":312962,"accept_rate":100,"display_name":"Darragh Enright"},"score":3,"creation_date":1521995294,"post_id":46405092,"comment_id":85958758,"body_markdown":"Great - this worked for me building a Flutter app in Android Studio. Thanks!","body":"Great - this worked for me building a Flutter app in Android Studio. Thanks!"},{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":1,"creation_date":1522528826,"post_id":46405092,"comment_id":86191973,"body_markdown":"On Windows 10, I installed JDK 8u162 and set the `JAVA_HOME` this JDK to correct the issue. No need to uninstall JDK 9.x","body":"On Windows 10, I installed JDK 8u162 and set the <code>JAVA_HOME</code> this JDK to correct the issue. No need to uninstall JDK 9.x"},{"owner":{"account_id":10438765,"reputation":3736,"user_id":7696155,"display_name":"Ambroise Rabier"},"score":0,"creation_date":1539804537,"post_id":46405092,"comment_id":92638948,"body_markdown":"Just read `Unity requires the 64-bit version JDK 8 (1.8).` https://docs.unity3d.com/Manual/android-sdksetup.html","body":"Just read <code>Unity requires the 64-bit version JDK 8 (1.8).</code> <a href=\"https://docs.unity3d.com/Manual/android-sdksetup.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/Manual/android-sdksetup.html</a>"},{"owner":{"account_id":7059882,"reputation":333,"user_id":5405601,"display_name":"Eligio Mari&#241;o"},"score":1,"creation_date":1541618525,"post_id":46405092,"comment_id":93281207,"body_markdown":"I prefer [this answer](https://stackoverflow.com/a/52788062/5405601) posted below because it doesn&#39;t need to downgrade java. Just set correctly `JAVA_HOME`.","body":"I prefer <a href=\"https://stackoverflow.com/a/52788062/5405601\">this answer</a> posted below because it doesn&#39;t need to downgrade java. Just set correctly <code>JAVA_HOME</code>."},{"owner":{"account_id":8169537,"reputation":390,"user_id":6193633,"accept_rate":80,"display_name":"kdy"},"score":28,"creation_date":1556202207,"post_id":46405092,"comment_id":98364919,"body_markdown":"This stopped working, brew cask install java8 does not work.","body":"This stopped working, brew cask install java8 does not work."},{"owner":{"account_id":2409636,"reputation":2018,"user_id":2125530,"display_name":"caesarsol"},"score":4,"creation_date":1560802874,"post_id":46405092,"comment_id":99847713,"body_markdown":"the correct command seems to be now `brew cask install homebrew/cask-versions/java8`","body":"the correct command seems to be now <code>brew cask install homebrew&#47;cask-versions&#47;java8</code>"},{"owner":{"account_id":2133,"reputation":1614,"user_id":2941,"accept_rate":67,"display_name":"guruz"},"score":36,"creation_date":1567416144,"post_id":46405092,"comment_id":101945349,"body_markdown":"`brew cask install homebrew/cask-versions/adoptopenjdk8` seems to work","body":"<code>brew cask install homebrew&#47;cask-versions&#47;adoptopenjdk8</code> seems to work"},{"owner":{"account_id":13845576,"reputation":353,"user_id":9994802,"display_name":"Anubhav Dinkar"},"score":1,"creation_date":1578123086,"post_id":46405092,"comment_id":105343424,"body_markdown":"I have tried doing all of these steps as mentioned above, but I still get the same error message. Can anyone help me out?","body":"I have tried doing all of these steps as mentioned above, but I still get the same error message. Can anyone help me out?"},{"owner":{"account_id":8668829,"reputation":4701,"user_id":6488361,"display_name":"Kaka Ruto"},"score":0,"creation_date":1588198774,"post_id":46405092,"comment_id":108812166,"body_markdown":"@AnubhavDinkar, looks like a problem with later versions after version 8. You&#39;d have to install any java after v-8 and then install v-8(`jdk8`)","body":"@AnubhavDinkar, looks like a problem with later versions after version 8. You&#39;d have to install any java after v-8 and then install v-8(<code>jdk8</code>)"},{"owner":{"account_id":6591,"reputation":746,"user_id":11148,"display_name":"puzz"},"score":1,"creation_date":1610529487,"post_id":46405092,"comment_id":116159866,"body_markdown":"Another solution is to use the JDK included in your Android studio. In my case it&#39;s:\n `JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home&quot; ./sdkmanager --licenses`","body":"Another solution is to use the JDK included in your Android studio. In my case it&#39;s:  <code>JAVA_HOME=&quot;&#47;Applications&#47;Android Studio.app&#47;Contents&#47;jre&#47;jdk&#47;Contents&#47;Home&quot; .&#47;sdkmanager --licenses</code>"},{"owner":{"account_id":440629,"reputation":2482,"user_id":830304,"accept_rate":60,"display_name":"Anna Billstrom"},"score":11,"creation_date":1613701190,"post_id":46405092,"comment_id":117163613,"body_markdown":"I had to use ```brew install --cask homebrew/cask-versions/adoptopenjdk8``` instead of ```brew cask install java8```","body":"I had to use <code>brew install --cask homebrew&#47;cask-versions&#47;adoptopenjdk8</code> instead of <code>brew cask install java8</code>"},{"owner":{"account_id":7607,"reputation":22631,"user_id":13263,"accept_rate":100,"display_name":"slf"},"score":1,"creation_date":1614638018,"post_id":46405092,"comment_id":117441295,"body_markdown":"You can `brew install jenv` to switch between java versions, much like nvm or virtualenv and other languages","body":"You can <code>brew install jenv</code> to switch between java versions, much like nvm or virtualenv and other languages"},{"owner":{"account_id":1456103,"reputation":19471,"user_id":1395668,"display_name":"Andrew Alcock"},"score":0,"creation_date":1620381030,"post_id":46405092,"comment_id":119189816,"body_markdown":"I&#39;d strongly suggest adding [SDKMan](https://sdkman.io/) to the solutions. This does a better job of managing multiple versions of Java","body":"I&#39;d strongly suggest adding <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMan</a> to the solutions. This does a better job of managing multiple versions of Java"},{"owner":{"account_id":10226829,"reputation":541,"user_id":7708102,"display_name":"Omar Shabab"},"score":0,"creation_date":1621499390,"post_id":46405092,"comment_id":119516001,"body_markdown":"`brew install homebrew/cask-versions/adoptopenjdk8` worked for me.","body":"<code>brew install homebrew&#47;cask-versions&#47;adoptopenjdk8</code> worked for me."},{"owner":{"account_id":76186,"reputation":7909,"user_id":218294,"display_name":"Sam Watkins"},"score":1,"creation_date":1621748062,"post_id":46405092,"comment_id":119585598,"body_markdown":"This answer is obsolete, see below for up-to-date answers, e.g. this one: https://stackoverflow.com/a/64389804/218294","body":"This answer is obsolete, see below for up-to-date answers, e.g. this one: <a href=\"https://stackoverflow.com/a/64389804/218294\">stackoverflow.com/a/64389804/218294</a>"},{"owner":{"account_id":13412017,"reputation":571,"user_id":9678050,"display_name":"ANDYNVT"},"score":1,"creation_date":1622514443,"post_id":46405092,"comment_id":119807629,"body_markdown":"For macOS Big Sur users, use: `brew install --cask ...`","body":"For macOS Big Sur users, use: <code>brew install --cask ...</code>"},{"owner":{"account_id":4910284,"reputation":155,"user_id":3955763,"accept_rate":50,"display_name":"devsin"},"score":2,"creation_date":1625956620,"post_id":46405092,"comment_id":120766281,"body_markdown":"it is not about the Java version guys. it&#39;s about the `command-line tools`. I passed this error Java 16 after I install command-line tools. Also you can find the correct answer page two in this question. `Android Studio -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Command-line Tools -&gt; Install`","body":"it is not about the Java version guys. it&#39;s about the <code>command-line tools</code>. I passed this error Java 16 after I install command-line tools. Also you can find the correct answer page two in this question. <code>Android Studio -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Command-line Tools -&gt; Install</code>"},{"owner":{"account_id":527532,"reputation":405,"user_id":938128,"accept_rate":86,"display_name":"DaveFX"},"score":0,"creation_date":1629872451,"post_id":46405092,"comment_id":121797915,"body_markdown":"This shouldn&#39;t be the accepted solution any longer, but the one from EdYuTo!","body":"This shouldn&#39;t be the accepted solution any longer, but the one from EdYuTo!"}],"tags":[],"owner":{"account_id":3759746,"reputation":3489,"user_id":3125123,"accept_rate":83,"display_name":"spassvogel"},"comment_count":22,"down_vote_count":16,"up_vote_count":203,"is_accepted":true,"score":187,"last_activity_date":1671786318,"creation_date":1506341931,"answer_id":46405092,"question_id":46402772,"body_markdown":"I had a similar problem this morning (trying to build for Android using Unity3D). I ended up uninstalling JDK9 and installing [Java SE Development Kit 8u144](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html).\r\n\r\n\r\n1. `brew cask uninstall java` # uninstall java9\r\n2. `brew tap homebrew/cask-versions` \r\n3. `brew cask install java8` # install java8 \r\n4. `touch ~/.android/repositories.cfg` # without this file, error will occur on next step \r\n5. `brew install --cask android-sdk` ","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I had a similar problem this morning (trying to build for Android using Unity3D). I ended up uninstalling JDK9 and installing <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">Java SE Development Kit 8u144</a>.</p>\n<ol>\n<li><code>brew cask uninstall java</code> # uninstall java9</li>\n<li><code>brew tap homebrew/cask-versions</code></li>\n<li><code>brew cask install java8</code> # install java8</li>\n<li><code>touch ~/.android/repositories.cfg</code> # without this file, error will occur on next step</li>\n<li><code>brew install --cask android-sdk</code></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3444631,"reputation":8971,"user_id":3872976,"accept_rate":85,"display_name":"deathangel908"},"score":0,"creation_date":1602948421,"post_id":49218234,"comment_id":113883570,"body_markdown":"Error: caskroom/versions was moved. Tap homebrew/cask-versions instead.","body":"Error: caskroom/versions was moved. Tap homebrew/cask-versions instead."}],"tags":[],"owner":{"account_id":5232216,"reputation":763,"user_id":4182109,"display_name":"Well Smith"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1520757963,"creation_date":1520757963,"answer_id":49218234,"question_id":46402772,"body_markdown":"Strangely Java9 is not compatible with android-sdk\r\n\r\n    $ avdmanager\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\r\n    \tat com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n    \t... 5 more\r\n\r\n\r\n\r\nCombined all commands into one for easy reference:\r\n\r\n    $ sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-9*.jdk/\r\n    $ sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    $ sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    \r\n    $ /usr/libexec/java_home -V\r\n    Unable to find any JVMs matching version &quot;(null)&quot;.\r\n    Matching Java Virtual Machines (0):\r\n    Default Java Virtual Machines (0):\r\n    No Java runtime present, try --request to install\r\n    \r\n    $ brew tap caskroom/versions\r\n    $ brew cask install java8\r\n    $ touch ~/.android/repositories.cfg\r\n    $ brew cask install android-sdk\r\n    $ echo &#39;export ANDROID_SDK_ROOT=&quot;/usr/local/share/android-sdk&quot;&#39; &gt;&gt; ~/.bash_profile\r\n    $ java -version\r\n    java version &quot;1.8.0_162&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_162-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)\r\n    $ avdmanager\r\n    \r\n    Usage:\r\n          avdmanager [global options] [action] [action options]\r\n          Global options:\r\n      -s --silent     : Silent mode, shows errors only.\r\n      -v --verbose    : Verbose mode, shows errors, warnings and all messages.\r\n         --clear-cache: Clear the SDK Manager repository manifest cache.\r\n      -h --help       : Help on a specific command.\r\n    \r\n    Valid actions are composed of a verb and an optional direct object:\r\n    -   list              : Lists existing targets or virtual devices.\r\n    -   list avd          : Lists existing Android Virtual Devices.\r\n    -   list target       : Lists existing targets.\r\n    -   list device       : Lists existing devices.\r\n    - create avd          : Creates a new Android Virtual Device.\r\n    -   move avd          : Moves or renames an Android Virtual Device.\r\n    - delete avd          : Deletes an Android Virtual Device.\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Strangely Java9 is not compatible with android-sdk</p>\n\n<pre><code>$ avdmanager\nException in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\n    at com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n    ... 5 more\n</code></pre>\n\n<p>Combined all commands into one for easy reference:</p>\n\n<pre><code>$ sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-9*.jdk/\n$ sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\n$ sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\n\n$ /usr/libexec/java_home -V\nUnable to find any JVMs matching version \"(null)\".\nMatching Java Virtual Machines (0):\nDefault Java Virtual Machines (0):\nNo Java runtime present, try --request to install\n\n$ brew tap caskroom/versions\n$ brew cask install java8\n$ touch ~/.android/repositories.cfg\n$ brew cask install android-sdk\n$ echo 'export ANDROID_SDK_ROOT=\"/usr/local/share/android-sdk\"' &gt;&gt; ~/.bash_profile\n$ java -version\njava version \"1.8.0_162\"\nJava(TM) SE Runtime Environment (build 1.8.0_162-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)\n$ avdmanager\n\nUsage:\n      avdmanager [global options] [action] [action options]\n      Global options:\n  -s --silent     : Silent mode, shows errors only.\n  -v --verbose    : Verbose mode, shows errors, warnings and all messages.\n     --clear-cache: Clear the SDK Manager repository manifest cache.\n  -h --help       : Help on a specific command.\n\nValid actions are composed of a verb and an optional direct object:\n-   list              : Lists existing targets or virtual devices.\n-   list avd          : Lists existing Android Virtual Devices.\n-   list target       : Lists existing targets.\n-   list device       : Lists existing devices.\n- create avd          : Creates a new Android Virtual Device.\n-   move avd          : Moves or renames an Android Virtual Device.\n- delete avd          : Deletes an Android Virtual Device.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":343272,"reputation":3164,"user_id":674882,"display_name":"4levels"},"score":1,"creation_date":1526811309,"post_id":50285218,"comment_id":87881677,"body_markdown":"Worked perfectly, best solution IMHO as it doesn&#39;t force you to downgrade java","body":"Worked perfectly, best solution IMHO as it doesn&#39;t force you to downgrade java"},{"owner":{"account_id":343272,"reputation":3164,"user_id":674882,"display_name":"4levels"},"score":0,"creation_date":1527677076,"post_id":50285218,"comment_id":88214345,"body_markdown":"Somehow, after experimenting a lot with ao. Android Studio, this issue disappeared and the new error was `Could not find or load main class java.se.ee` - reverting the DEFAULT_JVM_OPTS fixed this and the previous issue went away..","body":"Somehow, after experimenting a lot with ao. Android Studio, this issue disappeared and the new error was <code>Could not find or load main class java.se.ee</code> - reverting the DEFAULT_JVM_OPTS fixed this and the previous issue went away.."},{"owner":{"account_id":176790,"reputation":2069,"user_id":407700,"accept_rate":58,"display_name":"Oscar"},"score":3,"creation_date":1548714022,"post_id":50285218,"comment_id":95633162,"body_markdown":"Unfortunately, this doesn&#39;t work now. The result is:\n\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module java.se.ee not found","body":"Unfortunately, this doesn&#39;t work now. The result is:  Error occurred during initialization of boot layer java.lang.module.FindException: Module java.se.ee not found"},{"owner":{"account_id":2591738,"reputation":461,"user_id":2246310,"display_name":"harrisjb"},"score":1,"creation_date":1556509566,"post_id":50285218,"comment_id":98449655,"body_markdown":"Upvoted https://stackoverflow.com/a/49630166/5411817 for having the correct solution for keeping jdk-11 and jdk1.8 installed without downgrading","body":"Upvoted <a href=\"https://stackoverflow.com/a/49630166/5411817\">stackoverflow.com/a/49630166/5411817</a> for having the correct solution for keeping jdk-11 and jdk1.8 installed without downgrading"}],"tags":[],"owner":{"account_id":7069828,"reputation":16961,"user_id":5411817,"accept_rate":100,"display_name":"SherylHohman"},"comment_count":4,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1528043478,"creation_date":1526014535,"answer_id":50285218,"question_id":46402772,"body_markdown":"I found two answers that worked for me, without having to uninstall JDK 10 (or 9), which I need for `create-react-app`.  Both JDK 9 and 10 are incompatible with android-sdk !\r\n\r\n----   \r\n[Siu Ching Pong -Asuka Kenji-](https://stackoverflow.com/a/47150411/5411817) suggests modifying the `sdkmanager` script, replacing this line:  \r\n\r\n    DEFAULT_JVM_OPTS=&#39;&quot;-Dcom.android.sdklib.toolsdir=$APP_HOME&quot;&#39;  \r\nwith:\r\n\r\n    DEFAULT_JVM_OPTS=&#39;&quot;-Dcom.android.sdklib.toolsdir=$APP_HOME&quot; -XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;\r\n\r\nNote that this mod will be overwritten when updating sdkmanager.  \r\nCheck out his post, and the one he links to, for more details.  \r\nThis solution was also one of the solutions mentioned in this [github issues thread](https://github.com/NativeScript/nativescript-cli/issues/3139).\r\n\r\n\r\n----\r\n[German&#39;s post](https://stackoverflow.com/a/49630166/5411817) indicates the source of the conflict, and presents fix that will not not be overwritten by updates.  \r\nHe suggests renaming `/Library/Java/JavaVirtualMachines/Info.plist` as a means of obscuring it from the script that looks for the highest version of Java that resides on your system.  In this way, JDK 8 is returned as the default.  \r\nReferring to JDK 10 explicitly, or by setting it to `$JAVA_HOME`, you can use JDK 10 , instead of the default, whenever needed.  \r\nDetails are in his post.\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I found two answers that worked for me, without having to uninstall JDK 10 (or 9), which I need for <code>create-react-app</code>.  Both JDK 9 and 10 are incompatible with android-sdk !</p>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/a/47150411/5411817\">Siu Ching Pong -Asuka Kenji-</a> suggests modifying the <code>sdkmanager</code> script, replacing this line:  </p>\n\n<pre><code>DEFAULT_JVM_OPTS='\"-Dcom.android.sdklib.toolsdir=$APP_HOME\"'  \n</code></pre>\n\n<p>with:</p>\n\n<pre><code>DEFAULT_JVM_OPTS='\"-Dcom.android.sdklib.toolsdir=$APP_HOME\" -XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'\n</code></pre>\n\n<p>Note that this mod will be overwritten when updating sdkmanager.<br>\nCheck out his post, and the one he links to, for more details.<br>\nThis solution was also one of the solutions mentioned in this <a href=\"https://github.com/NativeScript/nativescript-cli/issues/3139\" rel=\"noreferrer\">github issues thread</a>.</p>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/a/49630166/5411817\">German's post</a> indicates the source of the conflict, and presents fix that will not not be overwritten by updates.<br>\nHe suggests renaming <code>/Library/Java/JavaVirtualMachines/Info.plist</code> as a means of obscuring it from the script that looks for the highest version of Java that resides on your system.  In this way, JDK 8 is returned as the default.<br>\nReferring to JDK 10 explicitly, or by setting it to <code>$JAVA_HOME</code>, you can use JDK 10 , instead of the default, whenever needed.<br>\nDetails are in his post.</p>\n"},{"comments":[{"owner":{"account_id":1575156,"reputation":772,"user_id":1461815,"display_name":"Benjamin Conlan"},"score":2,"creation_date":1529230714,"post_id":50604833,"comment_id":88791347,"body_markdown":"Also used this on ubuntu 16.04 (using `export` not `set`) and it resolved the problem.","body":"Also used this on ubuntu 16.04 (using <code>export</code> not <code>set</code>) and it resolved the problem."},{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":0,"creation_date":1531665484,"post_id":50604833,"comment_id":89671299,"body_markdown":"Genius. Thanks so much. Thought I was gonna have to change my JVM","body":"Genius. Thanks so much. Thought I was gonna have to change my JVM"},{"owner":{"account_id":1894969,"reputation":534,"user_id":1712151,"accept_rate":56,"display_name":"pabz"},"score":1,"creation_date":1532837214,"post_id":50604833,"comment_id":90119611,"body_markdown":"Worked like a charm on Windows 10 with Java 10","body":"Worked like a charm on Windows 10 with Java 10"},{"owner":{"account_id":76020,"reputation":5402,"user_id":217893,"accept_rate":100,"display_name":"Alastair Maw"},"score":4,"creation_date":1541285344,"post_id":50604833,"comment_id":93165491,"body_markdown":"Unfortunately that seems to have been removed entirely in Java 11.","body":"Unfortunately that seems to have been removed entirely in Java 11."},{"owner":{"account_id":135802,"reputation":28349,"user_id":338904,"accept_rate":93,"display_name":"D&#233;j&#224; vu"},"score":0,"creation_date":1547985391,"post_id":50604833,"comment_id":95374335,"body_markdown":"Worked doing `export JAVA_OPTS = &#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;` on Ubuntu 18.04","body":"Worked doing <code>export JAVA_OPTS = &#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;</code> on Ubuntu 18.04"},{"owner":{"account_id":6648449,"reputation":55,"user_id":5256282,"accept_rate":75,"display_name":"Yogesh Gosavi"},"score":0,"creation_date":1596291595,"post_id":50604833,"comment_id":111768246,"body_markdown":"Thanks a lot for this , worked on jdk-14.0.2 , windows 10","body":"Thanks a lot for this , worked on jdk-14.0.2 , windows 10"}],"tags":[],"owner":{"account_id":6138879,"reputation":903,"user_id":4786886,"display_name":"Tim Jen&#223;en"},"comment_count":6,"down_vote_count":4,"up_vote_count":72,"is_accepted":false,"score":68,"last_activity_date":1531523044,"creation_date":1527683706,"answer_id":50604833,"question_id":46402772,"body_markdown":"    set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\r\n\r\nThis fixed the problem on Windows for me.\r\n\r\n[Source 1][1], [source 2][2]\r\n\r\n\r\n  [1]: https://github.com/NativeScript/nativescript-cli/issues/3139#issuecomment-363950869\r\n  [2]: https://stackoverflow.com/a/47150411/270197","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<pre><code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\n</code></pre>\n\n<p>This fixed the problem on Windows for me.</p>\n\n<p><a href=\"https://github.com/NativeScript/nativescript-cli/issues/3139#issuecomment-363950869\" rel=\"noreferrer\">Source 1</a>, <a href=\"https://stackoverflow.com/a/47150411/270197\">source 2</a></p>\n"},{"tags":[],"owner":{"account_id":8524532,"reputation":79,"user_id":6390370,"display_name":"Jagan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1527966513,"creation_date":1527966513,"answer_id":50660264,"question_id":46402772,"body_markdown":"For windows machine uninstall the JDK if its more than 1.8.172. \r\nInstall JDK 1.8.172\r\n\r\nI was facing the same issue in windows 10 with java 10. I uninstalled the java 10 and installed java8 its working fine for me now :)","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For windows machine uninstall the JDK if its more than 1.8.172. \nInstall JDK 1.8.172</p>\n\n<p>I was facing the same issue in windows 10 with java 10. I uninstalled the java 10 and installed java8 its working fine for me now :)</p>\n"},{"comments":[{"owner":{"account_id":11447064,"reputation":947,"user_id":8390589,"display_name":"Jorge Valvert"},"score":2,"creation_date":1539063538,"post_id":51474639,"comment_id":92353536,"body_markdown":"thanks! it solves the problem when you have installed jdk 9","body":"thanks! it solves the problem when you have installed jdk 9"}],"tags":[],"owner":{"account_id":70834,"reputation":5583,"user_id":205049,"display_name":"oori"},"comment_count":1,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1582075343,"creation_date":1532334914,"answer_id":51474639,"question_id":46402772,"body_markdown":"On Mac/Linux use the following command:\r\n\r\n```\r\nexport JAVA_OPTS=&#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;\r\n```\r\n\r\nWorks for both JDK 9 and 10, __without__ patching any script (sdkmanager, avdmanager).\r\n\r\nFor Java 11 see: https://stackoverflow.com/a/51644855/798165","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>On Mac/Linux use the following command:</p>\n\n<pre><code>export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'\n</code></pre>\n\n<p>Works for both JDK 9 and 10, <strong>without</strong> patching any script (sdkmanager, avdmanager).</p>\n\n<p>For Java 11 see: <a href=\"https://stackoverflow.com/a/51644855/798165\">https://stackoverflow.com/a/51644855/798165</a></p>\n"},{"comments":[{"owner":{"display_name":"user1243584"},"score":7,"creation_date":1535122734,"post_id":51644855,"comment_id":90964294,"body_markdown":"This worked for me in Ubuntu 18.04 w/ OpenJDK 10.0.2","body":"This worked for me in Ubuntu 18.04 w/ OpenJDK 10.0.2"},{"owner":{"account_id":395395,"reputation":1819,"user_id":758334,"display_name":"Subfuzion"},"score":3,"creation_date":1545997476,"post_id":51644855,"comment_id":94753642,"body_markdown":"Worked for me on macOS Mojave (10.14.2) with Java version &quot;10.0.1&quot; 2018-04-17.","body":"Worked for me on macOS Mojave (10.14.2) with Java version &quot;10.0.1&quot; 2018-04-17."},{"owner":{"account_id":1853541,"reputation":965,"user_id":1679571,"accept_rate":60,"display_name":"Randy"},"score":23,"creation_date":1547166531,"post_id":51644855,"comment_id":95109139,"body_markdown":"Created a new error for me on macOS Mojave (10.14.2):\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module java.se.ee not found","body":"Created a new error for me on macOS Mojave (10.14.2): Error occurred during initialization of boot layer java.lang.module.FindException: Module java.se.ee not found"},{"owner":{"account_id":5196485,"reputation":14200,"user_id":4157589,"accept_rate":100,"display_name":"valdeci"},"score":0,"creation_date":1547167540,"post_id":51644855,"comment_id":95109381,"body_markdown":"@Randy your Java version?","body":"@Randy your Java version?"},{"owner":{"account_id":1853541,"reputation":965,"user_id":1679571,"accept_rate":60,"display_name":"Randy"},"score":0,"creation_date":1547169921,"post_id":51644855,"comment_id":95109872,"body_markdown":"java version &quot;11.0.1&quot; 2018-10-16 LTS","body":"java version &quot;11.0.1&quot; 2018-10-16 LTS"},{"owner":{"account_id":1853541,"reputation":965,"user_id":1679571,"accept_rate":60,"display_name":"Randy"},"score":4,"creation_date":1547170871,"post_id":51644855,"comment_id":95110084,"body_markdown":"I also tried 1.8.0_191, but am still getting:\nError: Could not find or load main class java.se.ee","body":"I also tried 1.8.0_191, but am still getting: Error: Could not find or load main class java.se.ee"},{"owner":{"account_id":5196485,"reputation":14200,"user_id":4157589,"accept_rate":100,"display_name":"valdeci"},"score":4,"creation_date":1547170939,"post_id":51644855,"comment_id":95110101,"body_markdown":"This option is not needed for the Java 8 and doesn&#39;t work for the Java 11, which doesn&#39;t have Java EE modules.","body":"This option is not needed for the Java 8 and doesn&#39;t work for the Java 11, which doesn&#39;t have Java EE modules."},{"owner":{"account_id":2008955,"reputation":1811,"user_id":1797959,"accept_rate":57,"display_name":"Marwan"},"score":13,"creation_date":1568714581,"post_id":51644855,"comment_id":102353795,"body_markdown":"Not working, \njava.lang.module.FindException: Module java.se.ee not found","body":"Not working,  java.lang.module.FindException: Module java.se.ee not found"},{"owner":{"account_id":453092,"reputation":359,"user_id":849897,"display_name":"MGM"},"score":2,"creation_date":1597091041,"post_id":51644855,"comment_id":112015543,"body_markdown":"In window syntax you must not use apostrophes, simply: set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee   \nBut it not works out of the box: java.lang.module.FindException: Module java.se.ee not found","body":"In window syntax you must not use apostrophes, simply: set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee    But it not works out of the box: java.lang.module.FindException: Module java.se.ee not found"},{"owner":{"account_id":5196485,"reputation":14200,"user_id":4157589,"accept_rate":100,"display_name":"valdeci"},"score":0,"creation_date":1601399349,"post_id":51644855,"comment_id":113393805,"body_markdown":"@JavaRunner, yes, like we can see at the end of the answer","body":"@JavaRunner, yes, like we can see at the end of the answer"},{"owner":{"account_id":5464222,"reputation":2787,"user_id":4345461,"display_name":"Filip Savic"},"score":0,"creation_date":1605523327,"post_id":51644855,"comment_id":114666737,"body_markdown":"@MGM YES! I can&#39;t believe i copied the apostrophes... :D \nThank you!","body":"@MGM YES! I can&#39;t believe i copied the apostrophes... :D  Thank you!"},{"owner":{"account_id":6489497,"reputation":2793,"user_id":9789097,"display_name":"Trect"},"score":1,"creation_date":1628347290,"post_id":51644855,"comment_id":121398520,"body_markdown":"Apparently, java.se.ee does not exist anymore","body":"Apparently, java.se.ee does not exist anymore"}],"tags":[],"owner":{"account_id":5196485,"reputation":14200,"user_id":4157589,"accept_rate":100,"display_name":"valdeci"},"comment_count":12,"down_vote_count":8,"up_vote_count":107,"is_accepted":false,"score":99,"last_activity_date":1614693140,"creation_date":1533178508,"answer_id":51644855,"question_id":46402772,"body_markdown":"To solve this error, you can downgrade your Java version.\r\n\r\nOr exports the following option on your terminal:\r\n \r\n**Linux/MAC:**\r\n\r\n    export JAVA_OPTS=&#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;\r\n\r\n**Windows**:\r\n\r\n    set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\r\n\r\n\r\nIf this does not work try to exports the `java.xml.bind` instead.\r\n\r\n**Linux:**\r\n\r\n    export JAVA_OPTS=&#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind&#39;\r\n\r\n**Windows**:\r\n\r\n    set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind\r\n\r\n\r\nAnd to save it permanently you can exports the `JAVA_OPTS` in your profile file on Linux (`.zshrc`, `.bashrc` and etc.) or add it as an environment variable permanently on Windows.\r\n\r\n---\r\n\r\n**ps.** This doesn&#39;t work for Java 11/11+, which doesn&#39;t have Java EE modules. For this option is a good idea, downgrade your Java version or wait for a Flutter [update](https://github.com/flutter/flutter/wiki/Changelog).\r\n\r\nRef: [JDK 11: End of the road for Java EE modules](https://jaxenter.com/jdk-11-java-ee-modules-140674.html)","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>To solve this error, you can downgrade your Java version.</p>\n<p>Or exports the following option on your terminal:</p>\n<p><strong>Linux/MAC:</strong></p>\n<pre><code>export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'\n</code></pre>\n<p><strong>Windows</strong>:</p>\n<pre><code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\n</code></pre>\n<p>If this does not work try to exports the <code>java.xml.bind</code> instead.</p>\n<p><strong>Linux:</strong></p>\n<pre><code>export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind'\n</code></pre>\n<p><strong>Windows</strong>:</p>\n<pre><code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind\n</code></pre>\n<p>And to save it permanently you can exports the <code>JAVA_OPTS</code> in your profile file on Linux (<code>.zshrc</code>, <code>.bashrc</code> and etc.) or add it as an environment variable permanently on Windows.</p>\n<hr />\n<p><strong>ps.</strong> This doesn't work for Java 11/11+, which doesn't have Java EE modules. For this option is a good idea, downgrade your Java version or wait for a Flutter <a href=\"https://github.com/flutter/flutter/wiki/Changelog\" rel=\"noreferrer\">update</a>.</p>\n<p>Ref: <a href=\"https://jaxenter.com/jdk-11-java-ee-modules-140674.html\" rel=\"noreferrer\">JDK 11: End of the road for Java EE modules</a></p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536900429,"creation_date":1536900429,"answer_id":52325125,"question_id":46402772,"body_markdown":"Run `java -version` and `javac -version` commands in a command line to make sure that they come from the same JDK (eg: version 1.8.0_181) \r\n\r\nIf not, you have to modify `PATH` variable so that it only points to a single JDK. If you are not sure how to, just uninstall all other Java instances except for Java 8 (Add/Remove Programs in Windows). As for today, both Unity and Android recommends that you use JDK 8.\r\n\r\nWith Java 8, it is not necessary to export `java.se.ee` module as shown in some of the other answers. You may also remove any `JAVA_OPTS` or other [environment variables][1] that you have set.\r\n\r\n\r\n  [1]: https://www.java.com/en/download/help/path.xml","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Run <code>java -version</code> and <code>javac -version</code> commands in a command line to make sure that they come from the same JDK (eg: version 1.8.0_181) </p>\n\n<p>If not, you have to modify <code>PATH</code> variable so that it only points to a single JDK. If you are not sure how to, just uninstall all other Java instances except for Java 8 (Add/Remove Programs in Windows). As for today, both Unity and Android recommends that you use JDK 8.</p>\n\n<p>With Java 8, it is not necessary to export <code>java.se.ee</code> module as shown in some of the other answers. You may also remove any <code>JAVA_OPTS</code> or other <a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">environment variables</a> that you have set.</p>\n"},{"comments":[{"owner":{"account_id":228155,"reputation":9749,"user_id":490291,"accept_rate":50,"display_name":"Tino"},"score":4,"creation_date":1540202988,"post_id":52788062,"comment_id":92763131,"body_markdown":"`$ /usr/libexec/java_home -V` gives `bash: /usr/libexec/java_home: No such file or directory`.  `apt-file search /usr/libexec/java_home` gives exactly nothing.","body":"<code>$ &#47;usr&#47;libexec&#47;java_home -V</code> gives <code>bash: &#47;usr&#47;libexec&#47;java_home: No such file or directory</code>.  <code>apt-file search &#47;usr&#47;libexec&#47;java_home</code> gives exactly nothing."},{"owner":{"account_id":2117459,"reputation":1195,"user_id":1881391,"accept_rate":53,"display_name":"Sarah A"},"score":0,"creation_date":1540224606,"post_id":52788062,"comment_id":92776283,"body_markdown":"Do you have $JAVA_HOME set correctly? Run: ```echo &quot;export JAVA_HOME=`/usr/libexec/java_home`&quot; &gt;&gt; ~/.bashrc``` (or profile if you use profile) - reload: ```. ~/.bashrc```","body":"Do you have $JAVA_HOME set correctly? Run: <code>echo &quot;export JAVA_HOME=`&#47;usr&#47;libexec&#47;java_home`&quot; &gt;&gt; ~&#47;.bashrc</code> (or profile if you use profile) - reload: <code>. ~&#47;.bashrc</code>"},{"owner":{"account_id":228155,"reputation":9749,"user_id":490291,"accept_rate":50,"display_name":"Tino"},"score":1,"creation_date":1540233716,"post_id":52788062,"comment_id":92780614,"body_markdown":"There is no `/usr/libexec` either.  Are you on MacOS? (I am on Ubuntu/Linux and Ubuntu/Windows)","body":"There is no <code>&#47;usr&#47;libexec</code> either.  Are you on MacOS? (I am on Ubuntu/Linux and Ubuntu/Windows)"},{"owner":{"account_id":2117459,"reputation":1195,"user_id":1881391,"accept_rate":53,"display_name":"Sarah A"},"score":0,"creation_date":1540245743,"post_id":52788062,"comment_id":92785798,"body_markdown":"I am using mac. where&#39;s your Java_home?","body":"I am using mac. where&#39;s your Java_home?"}],"tags":[],"owner":{"account_id":2117459,"reputation":1195,"user_id":1881391,"accept_rate":53,"display_name":"Sarah A"},"comment_count":4,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1683681042,"creation_date":1539385815,"answer_id":52788062,"question_id":46402772,"body_markdown":"If you&#39;re on Mac OS, and you don&#39;t want to change your Java version (I don&#39;t), you can temporarily change the version in your shell:\r\n\r\nFirst run \r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nThen pick a major version if you have it installed, otherwise install it first:\r\n\r\n```\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n```\r\n\r\nNow you can run sdkmanager.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>If you're on Mac OS, and you don't want to change your Java version (I don't), you can temporarily change the version in your shell:</p>\n<p>First run</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>Then pick a major version if you have it installed, otherwise install it first:</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n</code></pre>\n<p>Now you can run sdkmanager.</p>\n"},{"comments":[{"owner":{"account_id":284063,"reputation":377,"user_id":7471766,"display_name":"AndyMc"},"score":0,"creation_date":1544438468,"post_id":53340887,"comment_id":94262503,"body_markdown":"It works, but I get this warning:\nWARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector (file:/F:/android_sdk/java/jaxb-ri/lib/jaxb-impl.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)","body":"It works, but I get this warning: WARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector (file:/F:/android_sdk/java/jaxb-ri/lib/jaxb-impl.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],in&zwnj;&#8203;t,int)"},{"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"score":0,"creation_date":1544454018,"post_id":53340887,"comment_id":94271027,"body_markdown":"Ya, looks like Java is starting to warn against bad programming practice of using reflection to bypass class security, which JAXB uses (Oracle breaking their own rules) ;)","body":"Ya, looks like Java is starting to warn against bad programming practice of using reflection to bypass class security, which JAXB uses (Oracle breaking their own rules) ;)"}],"tags":[],"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1542382253,"creation_date":1542382253,"answer_id":53340887,"question_id":46402772,"body_markdown":"Since Java 11 has removed JavaEE you&#39;ll need to download some jars and add to the classpath:\r\n\r\nJAXB:\r\nhttps://javaee.github.io/jaxb-v2/\r\n\r\nJAF:\r\nhttps://www.oracle.com/technetwork/articles/java/index-135046.html\r\n\r\nThen edit sdkmanager.bat so that **set CLASSPATH=...** ends with **;%CLASSPATH%**\r\n\r\nSet CLASSPATH to include JAXB and JAF:\r\n\r\n    set CLASSPATH=jaxb-core.jar;jaxb-impl.jar;jaxb-api.jar;activation.jar\r\n\r\nThen sdkmanager.bat will work.\r\n\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Since Java 11 has removed JavaEE you'll need to download some jars and add to the classpath:</p>\n\n<p>JAXB:\n<a href=\"https://javaee.github.io/jaxb-v2/\" rel=\"noreferrer\">https://javaee.github.io/jaxb-v2/</a></p>\n\n<p>JAF:\n<a href=\"https://www.oracle.com/technetwork/articles/java/index-135046.html\" rel=\"noreferrer\">https://www.oracle.com/technetwork/articles/java/index-135046.html</a></p>\n\n<p>Then edit sdkmanager.bat so that <strong>set CLASSPATH=...</strong> ends with <strong>;%CLASSPATH%</strong></p>\n\n<p>Set CLASSPATH to include JAXB and JAF:</p>\n\n<pre><code>set CLASSPATH=jaxb-core.jar;jaxb-impl.jar;jaxb-api.jar;activation.jar\n</code></pre>\n\n<p>Then sdkmanager.bat will work.</p>\n"},{"tags":[],"owner":{"account_id":14566339,"reputation":201,"user_id":10520928,"display_name":"hugovicfortman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543950920,"creation_date":1543950920,"answer_id":53619947,"question_id":46402772,"body_markdown":"For Linux users (I&#39;m using a Debian Distro, Kali)\r\nHere&#39;s how I resolved mine.\r\n\r\nIf you don&#39;t already have jdk-8, you want to get it at oracle&#39;s site\r\n\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\nI got the jdk-8u191-linux-x64.tar.gz\r\n\r\nStep 1 - Installing Java\r\nMove and unpack it at a suitable location like so\r\n\r\n    $ mv jdk-8u191-linux-x64.tar.gz /suitablelocation/\r\n    $ tar -xzvf /suitablelocation/jdk-8u191-linux-x64.tar.gz\r\n\r\nYou should get an unzipped folder like jdk1.8.0_191\r\nYou can delete the tarball afterwards to conserve space\r\n\r\nStep 2 - Setting up alternatives to the default java location\r\n\r\n    $ update-alternatives --install /usr/bin/java java /suitablelocation/jdk1.8.0_191/bin/java 1\r\n    $ update-alternatives --install /usr/bin/javac javac /suitablelocation/jdk1.8.0_191/bin/javac 1\r\n\r\nStep 3 - Selecting your alternatives as default\r\n\r\n    $ update-alternatives --set java /suitablelocation/jdk1.8.0_191/bin/java\r\n    $ update-alternatives --set javac /suitablelocation/jdk1.8.0_191/bin/javac\r\n\r\nStep 4 - Confirming default java version\r\n\r\n    $ java -version\r\n\r\nNotes\r\n\r\n 1. In the original article here: https://forums.kali.org/showthread.php?41-Installing-Java-on-Kali-Linux,\r\n   the default plugin for mozilla was also set. I assume we don&#39;t really need the plugins as we&#39;re\r\n   simply trying to develop for android.\r\n 2. As in @spassvogel&#39;s answer, you should also place a @repositories.cfg file in your ~/.android directory\r\n   as this is needed to update the tools repo lists\r\n 3. Moving some things around may require root authority. Use sudo wisely.\r\n 4. For sdkmanager usage, see official guide: https://developer.android.com/studio/command-line/sdkmanager","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For Linux users (I'm using a Debian Distro, Kali)\nHere's how I resolved mine.</p>\n\n<p>If you don't already have jdk-8, you want to get it at oracle's site</p>\n\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n\n<p>I got the jdk-8u191-linux-x64.tar.gz</p>\n\n<p>Step 1 - Installing Java\nMove and unpack it at a suitable location like so</p>\n\n<pre><code>$ mv jdk-8u191-linux-x64.tar.gz /suitablelocation/\n$ tar -xzvf /suitablelocation/jdk-8u191-linux-x64.tar.gz\n</code></pre>\n\n<p>You should get an unzipped folder like jdk1.8.0_191\nYou can delete the tarball afterwards to conserve space</p>\n\n<p>Step 2 - Setting up alternatives to the default java location</p>\n\n<pre><code>$ update-alternatives --install /usr/bin/java java /suitablelocation/jdk1.8.0_191/bin/java 1\n$ update-alternatives --install /usr/bin/javac javac /suitablelocation/jdk1.8.0_191/bin/javac 1\n</code></pre>\n\n<p>Step 3 - Selecting your alternatives as default</p>\n\n<pre><code>$ update-alternatives --set java /suitablelocation/jdk1.8.0_191/bin/java\n$ update-alternatives --set javac /suitablelocation/jdk1.8.0_191/bin/javac\n</code></pre>\n\n<p>Step 4 - Confirming default java version</p>\n\n<pre><code>$ java -version\n</code></pre>\n\n<p>Notes</p>\n\n<ol>\n<li>In the original article here: <a href=\"https://forums.kali.org/showthread.php?41-Installing-Java-on-Kali-Linux\" rel=\"nofollow noreferrer\">https://forums.kali.org/showthread.php?41-Installing-Java-on-Kali-Linux</a>,\nthe default plugin for mozilla was also set. I assume we don't really need the plugins as we're\nsimply trying to develop for android.</li>\n<li>As in @spassvogel's answer, you should also place a @repositories.cfg file in your ~/.android directory\nas this is needed to update the tools repo lists</li>\n<li>Moving some things around may require root authority. Use sudo wisely.</li>\n<li>For sdkmanager usage, see official guide: <a href=\"https://developer.android.com/studio/command-line/sdkmanager\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/command-line/sdkmanager</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":481692,"reputation":16428,"user_id":895659,"accept_rate":55,"display_name":"Farshid Ashouri"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1544039892,"creation_date":1544039892,"answer_id":53639855,"question_id":46402772,"body_markdown":"You need to add the following to your Profile (Works on MacOS):\r\n\r\n&gt;     export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n\r\nNo need to patch anything.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>You need to add the following to your Profile (Works on MacOS):</p>\n\n<blockquote>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n</code></pre>\n</blockquote>\n\n<p>No need to patch anything.</p>\n"},{"comments":[{"owner":{"account_id":5208066,"reputation":76,"user_id":4165343,"display_name":"Yingsong"},"score":0,"creation_date":1554779292,"post_id":54801138,"comment_id":97866659,"body_markdown":"This is the best case. If you already export JAVA_OPTS. Please remove it first before you do the steps from this answer.","body":"This is the best case. If you already export JAVA_OPTS. Please remove it first before you do the steps from this answer."}],"tags":[],"owner":{"account_id":3080498,"reputation":346,"user_id":2608802,"display_name":"Sandeep"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1571132342,"creation_date":1550732833,"answer_id":54801138,"question_id":46402772,"body_markdown":"I ran into same issue when running:\r\n\r\n    $ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager &quot;platforms;android-28&quot; &quot;build-tools;28.0.3&quot;_\r\n\r\nI solved it as \r\n\r\n    $ echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home    \r\n    \r\n    $ ls /Library/Java/JavaVirtualMachines/\r\n    \r\n    jdk-11.0.1.jdk\t\t\r\n    jdk1.8.0_202.jdk\r\n\r\n**Change Java to use 1.8**\r\n\r\n    $ export JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home&#39;\r\n\r\nThen the same command runs fine\r\n\r\n    $ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager &quot;platforms;android-28&quot; &quot;build-tools;28.0.3&quot;\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I ran into same issue when running:</p>\n\n<pre><code>$ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager \"platforms;android-28\" \"build-tools;28.0.3\"_\n</code></pre>\n\n<p>I solved it as </p>\n\n<pre><code>$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home    \n\n$ ls /Library/Java/JavaVirtualMachines/\n\njdk-11.0.1.jdk      \njdk1.8.0_202.jdk\n</code></pre>\n\n<p><strong>Change Java to use 1.8</strong></p>\n\n<pre><code>$ export JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home'\n</code></pre>\n\n<p>Then the same command runs fine</p>\n\n<pre><code>$ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager \"platforms;android-28\" \"build-tools;28.0.3\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4422027,"reputation":8012,"user_id":3601660,"accept_rate":61,"display_name":"c z"},"score":1,"creation_date":1605176198,"post_id":55120918,"comment_id":114573014,"body_markdown":"should probably mention this is linux only","body":"should probably mention this is linux only"}],"tags":[],"owner":{"account_id":345385,"reputation":1224,"user_id":678284,"accept_rate":100,"display_name":"Steven"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1611659067,"creation_date":1552391821,"answer_id":55120918,"question_id":46402772,"body_markdown":"When using Linux, an easy option is installation of` JDK version 8` then selecting it as the default using:\r\n\r\n    sudo update-alternatives --config java\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>When using Linux, an easy option is installation of<code> JDK version 8</code> then selecting it as the default using:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9288944,"reputation":1498,"user_id":6897913,"display_name":"linjiejun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554986536,"creation_date":1554986536,"answer_id":55632802,"question_id":46402772,"body_markdown":"Downgrade your java version.Whatever system or ide.\r\n\r\nMake sure java version is not higher than 8\r\n\r\nIn my case.I change the ide java verion.This solves my issue.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0c9Uf.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Downgrade your java version.Whatever system or ide.</p>\n\n<p>Make sure java version is not higher than 8</p>\n\n<p>In my case.I change the ide java verion.This solves my issue.\n<a href=\"https://i.stack.imgur.com/0c9Uf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0c9Uf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6228201,"reputation":5409,"user_id":4845808,"display_name":"Chinese Cat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563175490,"creation_date":1563175490,"answer_id":57034996,"question_id":46402772,"body_markdown":"When your Android stuio/jre uses a differ version of java, you will receive this error. to solve it, just set Android studio/jre to your JAVA_HOME. and uninstall your own java.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>When your Android stuio/jre uses a differ version of java, you will receive this error. to solve it, just set Android studio/jre to your JAVA_HOME. and uninstall your own java.</p>\n"},{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":4,"creation_date":1593811738,"post_id":58652345,"comment_id":110918955,"body_markdown":"When using Java 9+, this should be the answer from now on!","body":"When using Java 9+, this should be the answer from now on!"},{"owner":{"account_id":4501967,"reputation":4694,"user_id":3660290,"display_name":"G00fY"},"score":0,"creation_date":1597942068,"post_id":58652345,"comment_id":112303965,"body_markdown":"You should probably use the new command-line tools regardless of Java 8 oder 9+ ;)","body":"You should probably use the new command-line tools regardless of Java 8 oder 9+ ;)"},{"owner":{"account_id":16742469,"reputation":3041,"user_id":12793212,"display_name":"Rohan Devaki"},"score":0,"creation_date":1609155603,"post_id":58652345,"comment_id":115760421,"body_markdown":"i am still having the same error, can you tell me where exactly do i need to place it","body":"i am still having the same error, can you tell me where exactly do i need to place it"},{"owner":{"account_id":2405256,"reputation":2360,"user_id":2112218,"display_name":"Smit Johnth"},"score":2,"creation_date":1609213316,"post_id":58652345,"comment_id":115778326,"body_markdown":"@RohanDevaki `c:\\Users\\username\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat`","body":"@RohanDevaki <code>c:\\Users\\username\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\la&zwnj;&#8203;test\\bin\\sdkmanager.&zwnj;&#8203;bat</code>"},{"owner":{"account_id":4501967,"reputation":4694,"user_id":3660290,"display_name":"G00fY"},"score":0,"creation_date":1617711447,"post_id":58652345,"comment_id":118375364,"body_markdown":"@Ashish it works for all OS. I don&#39;t know what &quot;did not work&quot; means, but you may check out this issue if you manually unpacked the executables: https://issuetracker.google.com/issues/143335476","body":"@Ashish it works for all OS. I don&#39;t know what &quot;did not work&quot; means, but you may check out this issue if you manually unpacked the executables: <a href=\"https://issuetracker.google.com/issues/143335476\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/143335476</a>"},{"owner":{"account_id":538250,"reputation":14477,"user_id":903137,"accept_rate":71,"display_name":"Ashish"},"score":1,"creation_date":1617713372,"post_id":58652345,"comment_id":118376221,"body_markdown":"you are right. I was putting it in wrong directory. It should be in $ANDROID_HOME/cmdline-tools/latest ... I was using latest stable command-line tool mentioned at the bootom.","body":"you are right. I was putting it in wrong directory. It should be in $ANDROID_HOME/cmdline-tools/latest ... I was using latest stable command-line tool mentioned at the bootom."},{"owner":{"account_id":7435857,"reputation":93,"user_id":5655325,"display_name":"mandrewsan"},"score":0,"creation_date":1620237332,"post_id":58652345,"comment_id":119144092,"body_markdown":"This worked for me on Fedora 34 in May 2021, after a fresh install of Android Studio. Had to navigate to $ANDROID_HOME/cmdline-tools/latest/bin and accept licenses using the sdkmanager script here.","body":"This worked for me on Fedora 34 in May 2021, after a fresh install of Android Studio. Had to navigate to $ANDROID_HOME/cmdline-tools/latest/bin and accept licenses using the sdkmanager script here."},{"owner":{"account_id":3740561,"reputation":940,"user_id":4218210,"accept_rate":100,"display_name":"nafsaka"},"score":0,"creation_date":1622786723,"post_id":58652345,"comment_id":119896166,"body_markdown":"Now (6 Juni 2021), android studio no longer use java8 but java11. This should be the correct answer, rather downgrade the version of java.","body":"Now (6 Juni 2021), android studio no longer use java8 but java11. This should be the correct answer, rather downgrade the version of java."}],"tags":[],"owner":{"account_id":4501967,"reputation":4694,"user_id":3660290,"display_name":"G00fY"},"comment_count":8,"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1621747499,"creation_date":1572564229,"answer_id":58652345,"question_id":46402772,"body_markdown":"**Update 2019-10:**\r\n\r\nAs [stated in the issue tracker][1], Google has been working on a new **Android SDK Command-line Tools** release that runs on current JVMs (9, 10, 11+) and does not depend on deprecated JAXB EE modules!\r\n\r\nYou can download and use the new **Android SDK Command-line Tools** inside Android Studio or by manually downloading them from the Google servers:\r\n\r\n - [SDK Tools for Linux](https://dl.google.com/android/repository/commandlinetools-linux-6200805_latest.zip)\r\n - [SDK Tools for Mac OS](https://dl.google.com/android/repository/commandlinetools-mac-6200805_latest.zip)\r\n - [SDK Tools for Windows](https://dl.google.com/android/repository/commandlinetools-win-6200805_latest.zip)\r\n\r\nFor the latest versions check the URLs inside the [repository.xml][2].\r\n\r\nIf you manually unpack the command line tools, take care of placing them in a subfolder inside your `$ANDROID_HOME` (e.g. `$ANDROID_HOME/cmdline-tools/...`).\r\n\r\n**Update 2021-03:**\r\n\r\nThe latest stable command-line tools are available at [Googles Downloads-Website][3].  These tools are newer than those linked above.\r\n\r\n\r\n  [1]: https://issuetracker.google.com/issues/67495440#comment13\r\n  [2]: https://dl.google.com/android/repository/repository2-1.xml\r\n  [3]: https://developer.android.com/studio#command-tools","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p><strong>Update 2019-10:</strong></p>\n<p>As <a href=\"https://issuetracker.google.com/issues/67495440#comment13\" rel=\"noreferrer\">stated in the issue tracker</a>, Google has been working on a new <strong>Android SDK Command-line Tools</strong> release that runs on current JVMs (9, 10, 11+) and does not depend on deprecated JAXB EE modules!</p>\n<p>You can download and use the new <strong>Android SDK Command-line Tools</strong> inside Android Studio or by manually downloading them from the Google servers:</p>\n<ul>\n<li><a href=\"https://dl.google.com/android/repository/commandlinetools-linux-6200805_latest.zip\" rel=\"noreferrer\">SDK Tools for Linux</a></li>\n<li><a href=\"https://dl.google.com/android/repository/commandlinetools-mac-6200805_latest.zip\" rel=\"noreferrer\">SDK Tools for Mac OS</a></li>\n<li><a href=\"https://dl.google.com/android/repository/commandlinetools-win-6200805_latest.zip\" rel=\"noreferrer\">SDK Tools for Windows</a></li>\n</ul>\n<p>For the latest versions check the URLs inside the <a href=\"https://dl.google.com/android/repository/repository2-1.xml\" rel=\"noreferrer\">repository.xml</a>.</p>\n<p>If you manually unpack the command line tools, take care of placing them in a subfolder inside your <code>$ANDROID_HOME</code> (e.g. <code>$ANDROID_HOME/cmdline-tools/...</code>).</p>\n<p><strong>Update 2021-03:</strong></p>\n<p>The latest stable command-line tools are available at <a href=\"https://developer.android.com/studio#command-tools\" rel=\"noreferrer\">Googles Downloads-Website</a>.  These tools are newer than those linked above.</p>\n"},{"comments":[{"owner":{"account_id":5811106,"reputation":486,"user_id":4582142,"display_name":"mauriii"},"score":2,"creation_date":1586340718,"post_id":59226884,"comment_id":108090605,"body_markdown":"This along with the top answer worked for me on windows 10!","body":"This along with the top answer worked for me on windows 10!"},{"owner":{"account_id":11270334,"reputation":177,"user_id":8265987,"display_name":"Raghav Joshi"},"score":1,"creation_date":1594407462,"post_id":59226884,"comment_id":111126492,"body_markdown":"THANKSSSSSSSSSSSSSS","body":"THANKSSSSSSSSSSSSSS"},{"owner":{"account_id":7684265,"reputation":526,"user_id":5822606,"display_name":"Antonio Reyes"},"score":2,"creation_date":1595573830,"post_id":59226884,"comment_id":111527252,"body_markdown":"Works! I just want to add, that if you are using VS code, you have to restart the program after this change","body":"Works! I just want to add, that if you are using VS code, you have to restart the program after this change"},{"owner":{"account_id":3039160,"reputation":644,"user_id":2576595,"display_name":"Quimbo"},"score":0,"creation_date":1664808295,"post_id":59226884,"comment_id":130550117,"body_markdown":"This worked for me on windows 10. Thanks.","body":"This worked for me on windows 10. Thanks."}],"tags":[],"owner":{"account_id":13447875,"reputation":916,"user_id":9703362,"display_name":"THE_BLESSED_MEDIUM"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586364828,"creation_date":1575728307,"answer_id":59226884,"question_id":46402772,"body_markdown":"I faced the same problem. Though I am a little bit backdated developer (Still using windows to develop :P)\r\n\r\nTo solve this issue **on windows** :\r\n\r\nSTEP 1: Install jdk 8 if it wasn&#39;t installed (jdk 9 or 11 doesn&#39;t work but you may have them installed for using in other dev uses).\r\n\r\nVery simple using Chocolatey:\r\n&gt; choco install jdk8\r\n\r\n**(If installed using Chocolatey, skip steps 2 and 3)**\r\n\r\n\r\nSTEP 2: Go to the Environment variables settings and set JAVA_HOME TO jdk 8&#39;s installation directory.\r\n\r\n[![JAVA_HOME][1]][1]\r\n\r\n\r\nSTEP 3: Go to path variable and add bin directory of jdk 8 and move it to top.\r\n\r\n[![Path_varriable][2]][2]\r\n\r\n\r\nSTEP 4: Close any open terminal sessions and restart a new session\r\n\r\n\r\nOPTIONAL STEP 5: Depending on your objective in the terminal run (may need to add sdkmanager to path or just navigate to the directory):\r\n\r\n&gt; sdkmanager --update\r\n\r\nThat&#39;s all! :O Enjoy fluttering! :D\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/joRg8.png\r\n  [2]: https://i.stack.imgur.com/qoqzJ.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I faced the same problem. Though I am a little bit backdated developer (Still using windows to develop :P)</p>\n\n<p>To solve this issue <strong>on windows</strong> :</p>\n\n<p>STEP 1: Install jdk 8 if it wasn't installed (jdk 9 or 11 doesn't work but you may have them installed for using in other dev uses).</p>\n\n<p>Very simple using Chocolatey:</p>\n\n<blockquote>\n  <p>choco install jdk8</p>\n</blockquote>\n\n<p><strong>(If installed using Chocolatey, skip steps 2 and 3)</strong></p>\n\n<p>STEP 2: Go to the Environment variables settings and set JAVA_HOME TO jdk 8's installation directory.</p>\n\n<p><a href=\"https://i.stack.imgur.com/joRg8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/joRg8.png\" alt=\"JAVA_HOME\"></a></p>\n\n<p>STEP 3: Go to path variable and add bin directory of jdk 8 and move it to top.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qoqzJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qoqzJ.png\" alt=\"Path_varriable\"></a></p>\n\n<p>STEP 4: Close any open terminal sessions and restart a new session</p>\n\n<p>OPTIONAL STEP 5: Depending on your objective in the terminal run (may need to add sdkmanager to path or just navigate to the directory):</p>\n\n<blockquote>\n  <p>sdkmanager --update</p>\n</blockquote>\n\n<p>That's all! :O Enjoy fluttering! :D</p>\n"},{"tags":[],"owner":{"account_id":2125702,"reputation":73,"user_id":1887942,"display_name":"Michael Liesenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576404500,"creation_date":1576404500,"answer_id":59342864,"question_id":46402772,"body_markdown":"For me i install java version 8 and just select the java version in &quot;JDK location&quot;:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2oTIW.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For me i install java version 8 and just select the java version in \"JDK location\":\n<a href=\"https://i.stack.imgur.com/2oTIW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2oTIW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3665399,"reputation":1025,"user_id":3053996,"display_name":"Brian Ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580694640,"creation_date":1580694640,"answer_id":60032270,"question_id":46402772,"body_markdown":"For my circumstance, I&#39;m using sdkman to manage multiple java versions. I set default java version to 13. Install version 8 and now it&#39;s working fine.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For my circumstance, I'm using sdkman to manage multiple java versions. I set default java version to 13. Install version 8 and now it's working fine.</p>\n"},{"tags":[],"owner":{"account_id":10556730,"reputation":119,"user_id":7777652,"display_name":"Milan Adhikari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585588433,"creation_date":1585588433,"answer_id":60935850,"question_id":46402772,"body_markdown":"I had recently solved this problem by uninstalling the higher version of JDK and installing JDK 8. After installing the JDK you need to give the path. Then you need to open command prompt in &quot;C:\\Users\\Milan Adhikari\\AppData\\Local\\Android\\Sdk\\tools&quot; and run &quot;sdkmanager --update&quot; which will update your sdk and then you need to run &quot;flutter doctor --android-licenses&quot; in cmd and accept all the licenses.  \r\nNow your problem should be solved.\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I had recently solved this problem by uninstalling the higher version of JDK and installing JDK 8. After installing the JDK you need to give the path. Then you need to open command prompt in \"C:\\Users\\Milan Adhikari\\AppData\\Local\\Android\\Sdk\\tools\" and run \"sdkmanager --update\" which will update your sdk and then you need to run \"flutter doctor --android-licenses\" in cmd and accept all the licenses.<br>\nNow your problem should be solved.</p>\n"},{"tags":[],"owner":{"account_id":2811364,"reputation":513,"user_id":2417546,"accept_rate":25,"display_name":"zishan paya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589036929,"creation_date":1589036929,"answer_id":61698922,"question_id":46402772,"body_markdown":"Best way is to use below command\r\n\r\n       $ wget https://dl.google.com/android/repository/platform-tools-latest-linux.zip\r\n       $ unzip \\platform-tools-latest-linux.zip\r\n       $ sudo cp platform-tools/adb /usr/bin/adb\r\n       $ sudo cp platform-tools/fastboot /usr/bin/fastboot\r\n\r\nNow run adb version to verify it’s been updated.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Best way is to use below command</p>\n\n<pre><code>   $ wget https://dl.google.com/android/repository/platform-tools-latest-linux.zip\n   $ unzip \\platform-tools-latest-linux.zip\n   $ sudo cp platform-tools/adb /usr/bin/adb\n   $ sudo cp platform-tools/fastboot /usr/bin/fastboot\n</code></pre>\n\n<p>Now run adb version to verify it’s been updated.</p>\n"},{"comments":[{"owner":{"account_id":487921,"reputation":1196,"user_id":1360042,"display_name":"dvlcube"},"score":0,"creation_date":1605806321,"post_id":62473418,"comment_id":114771464,"body_markdown":"best option if you don&#39;t want to mess with PATH variables.","body":"best option if you don&#39;t want to mess with PATH variables."}],"tags":[],"owner":{"account_id":12881052,"reputation":1512,"user_id":9316077,"display_name":"Will59"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1592580066,"creation_date":1592580066,"answer_id":62473418,"question_id":46402772,"body_markdown":"In my case, I need both JDK 8 (trying to use the AVD and SDK manager in Qt under ubuntu) and 11 for different tools. Removing version 11 is not an option.\r\n\r\nThe &#39;JAVA_OPTS&#39; solutions did not do anything. I don&#39;t really like the export JAVA_HOME, as it might force you do launch whatever tool calls these utils from the same shell (like Qt), or force you to make this permanent, which is not convenient.\r\n\r\nSo for me the solution is quite simple. Add something like this in the second line of ~/Android/tools/bin/sdkmanager and  ~/Android/tools/bin/avdmanager:\r\n\r\n```JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;```\r\n\r\n(or whatever the path is to your rev 8 jdk).\r\n\r\nWith this, these command line tools work in a stand alone mode, they work also when called by other tools such as Qt, and jdk 11 is still the system default for others. No need to mix libs etc...\r\n\r\nThe only downside is that any update to these command line tools will erase these modifications, which you will have to put back in.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>In my case, I need both JDK 8 (trying to use the AVD and SDK manager in Qt under ubuntu) and 11 for different tools. Removing version 11 is not an option.</p>\n\n<p>The 'JAVA_OPTS' solutions did not do anything. I don't really like the export JAVA_HOME, as it might force you do launch whatever tool calls these utils from the same shell (like Qt), or force you to make this permanent, which is not convenient.</p>\n\n<p>So for me the solution is quite simple. Add something like this in the second line of ~/Android/tools/bin/sdkmanager and  ~/Android/tools/bin/avdmanager:</p>\n\n<p><code>JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64\"</code></p>\n\n<p>(or whatever the path is to your rev 8 jdk).</p>\n\n<p>With this, these command line tools work in a stand alone mode, they work also when called by other tools such as Qt, and jdk 11 is still the system default for others. No need to mix libs etc...</p>\n\n<p>The only downside is that any update to these command line tools will erase these modifications, which you will have to put back in.</p>\n"},{"tags":[],"owner":{"account_id":6978224,"reputation":520,"user_id":5382576,"accept_rate":71,"display_name":"Enrique Ren&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1624971798,"creation_date":1596931838,"answer_id":63321328,"question_id":46402772,"body_markdown":"In my case, I have Java 14 and need Java 8.\r\n\r\nI&#39;m in a Arch Linux and has installed `jdk8-openjdk jre8-openjdk` https://www.archlinux.org/packages/extra/x86_64/java8-openjdk/\r\n\r\nFor Debian users https://wiki.debian.org/Java, or Fedora https://docs.fedoraproject.org/en-US/quick-docs/installing-java/.\r\n\r\n\r\nInstall Java 8 (or desired version, in this case `jdk8-openjdk jre8-openjdk`) using your package manager before doing the following steps.\r\n\r\n\r\n---\r\n\r\n# 1. Figuring out where is my Java:\r\n\r\n    # which java\r\n    /usr/bin/java\r\n\r\n# 2. Checking java files:\r\nI can see all java files here are links to `/usr/lib/jvm/default[something]`. This means that the `java` command is linked to some specific version of `java` executable.\r\n\r\n    # ls -l /usr/bin/java*\r\n    lrwxrwxrwx 1 root root 37 May 16 06:30 /usr/bin/java -&gt; /usr/lib/jvm/default-runtime/bin/java\r\n    lrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javac -&gt; /usr/lib/jvm/default/bin/javac\r\n    lrwxrwxrwx 1 root root 32 May 16 06:30 /usr/bin/javadoc -&gt; /usr/lib/jvm/default/bin/javadoc\r\n    lrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javah -&gt; /usr/lib/jvm/default/bin/javah\r\n    lrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javap -&gt; /usr/lib/jvm/default/bin/javap\r\n\r\n\r\n# 3. Checking the `default` and `default-runtime`\r\nHere I could see the default version was linked to 14 (unique installed version).\r\n\r\n    # cd /usr/lib/jvm\r\n    # ls -l\r\n    lrwxrwxrwx 1 root root   14 Aug  8 20:44 default -&gt; java-14-openjdk\r\n    lrwxrwxrwx 1 root root   14 Aug  8 20:44 default-runtime -&gt; java-14-openjdk\r\n    drwxr-xr-x 7 root root 4096 Jul 19 22:38 java-14-openjdk\r\n    drwxr-xr-x 6 root root 4096 Aug  8 20:42 java-8-openjdk\r\n\r\n# 4. Switching the default version\r\nFirst, remove the existing `default` and `default-runtime` which linked to java-14 version.\r\n\r\n    # rm default default-runtime\r\n\r\nThen, create new links to the desired version (in this case, java-8).\r\n\r\n    # ln -s java-8-openjdk default\r\n    # ln -s java-8-openjdk default-runtime\r\n\r\n---\r\n\r\nThe strategy is to make links to the desired version of software (java8 in this case) using `ln -s` above. Then, this links are linked to the binaries inside the java bin directory (**without changing the `$PATH` environment variable!**)\r\n\r\n---\r\n\r\nOr you might be wanted to change the Java version using `archlinux-java` command instead with more safely approach: https://wiki.archlinux.org/index.php/Java","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>In my case, I have Java 14 and need Java 8.</p>\n<p>I'm in a Arch Linux and has installed <code>jdk8-openjdk jre8-openjdk</code> <a href=\"https://www.archlinux.org/packages/extra/x86_64/java8-openjdk/\" rel=\"nofollow noreferrer\">https://www.archlinux.org/packages/extra/x86_64/java8-openjdk/</a></p>\n<p>For Debian users <a href=\"https://wiki.debian.org/Java\" rel=\"nofollow noreferrer\">https://wiki.debian.org/Java</a>, or Fedora <a href=\"https://docs.fedoraproject.org/en-US/quick-docs/installing-java/\" rel=\"nofollow noreferrer\">https://docs.fedoraproject.org/en-US/quick-docs/installing-java/</a>.</p>\n<p>Install Java 8 (or desired version, in this case <code>jdk8-openjdk jre8-openjdk</code>) using your package manager before doing the following steps.</p>\n<hr />\n<h1>1. Figuring out where is my Java:</h1>\n<pre><code># which java\n/usr/bin/java\n</code></pre>\n<h1>2. Checking java files:</h1>\n<p>I can see all java files here are links to <code>/usr/lib/jvm/default[something]</code>. This means that the <code>java</code> command is linked to some specific version of <code>java</code> executable.</p>\n<pre><code># ls -l /usr/bin/java*\nlrwxrwxrwx 1 root root 37 May 16 06:30 /usr/bin/java -&gt; /usr/lib/jvm/default-runtime/bin/java\nlrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javac -&gt; /usr/lib/jvm/default/bin/javac\nlrwxrwxrwx 1 root root 32 May 16 06:30 /usr/bin/javadoc -&gt; /usr/lib/jvm/default/bin/javadoc\nlrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javah -&gt; /usr/lib/jvm/default/bin/javah\nlrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javap -&gt; /usr/lib/jvm/default/bin/javap\n</code></pre>\n<h1>3. Checking the <code>default</code> and <code>default-runtime</code></h1>\n<p>Here I could see the default version was linked to 14 (unique installed version).</p>\n<pre><code># cd /usr/lib/jvm\n# ls -l\nlrwxrwxrwx 1 root root   14 Aug  8 20:44 default -&gt; java-14-openjdk\nlrwxrwxrwx 1 root root   14 Aug  8 20:44 default-runtime -&gt; java-14-openjdk\ndrwxr-xr-x 7 root root 4096 Jul 19 22:38 java-14-openjdk\ndrwxr-xr-x 6 root root 4096 Aug  8 20:42 java-8-openjdk\n</code></pre>\n<h1>4. Switching the default version</h1>\n<p>First, remove the existing <code>default</code> and <code>default-runtime</code> which linked to java-14 version.</p>\n<pre><code># rm default default-runtime\n</code></pre>\n<p>Then, create new links to the desired version (in this case, java-8).</p>\n<pre><code># ln -s java-8-openjdk default\n# ln -s java-8-openjdk default-runtime\n</code></pre>\n<hr />\n<p>The strategy is to make links to the desired version of software (java8 in this case) using <code>ln -s</code> above. Then, this links are linked to the binaries inside the java bin directory (<strong>without changing the <code>$PATH</code> environment variable!</strong>)</p>\n<hr />\n<p>Or you might be wanted to change the Java version using <code>archlinux-java</code> command instead with more safely approach: <a href=\"https://wiki.archlinux.org/index.php/Java\" rel=\"nofollow noreferrer\">https://wiki.archlinux.org/index.php/Java</a></p>\n"},{"tags":[],"owner":{"account_id":1204548,"reputation":5005,"user_id":1174521,"accept_rate":60,"display_name":"jbg"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598855335,"creation_date":1598855335,"answer_id":63665844,"question_id":46402772,"body_markdown":"As of the latest version of the Android command-line tools (2.1 as of this writing), it is no longer necessary to patch sdkmanager nor to downgrade to an ancient version of Java.\r\n\r\nSimply update your SDK packages and switch your command-line tools to the `latest` release, which will track new versions as they come:\r\n\r\n```\r\nsdkmanager --update\r\nsdkmanager &#39;cmdline-tools;latest&#39;\r\nsdkmanager --uninstall &#39;cmdline-tools;1.0&#39;\r\n```\r\n\r\nYou may need to provide the full path to `sdkmanager` if it&#39;s not on your `PATH`, and you may need to adjust your `PATH` afterwards if it was referring to the `1.0` tools explicitly.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>As of the latest version of the Android command-line tools (2.1 as of this writing), it is no longer necessary to patch sdkmanager nor to downgrade to an ancient version of Java.</p>\n<p>Simply update your SDK packages and switch your command-line tools to the <code>latest</code> release, which will track new versions as they come:</p>\n<pre><code>sdkmanager --update\nsdkmanager 'cmdline-tools;latest'\nsdkmanager --uninstall 'cmdline-tools;1.0'\n</code></pre>\n<p>You may need to provide the full path to <code>sdkmanager</code> if it's not on your <code>PATH</code>, and you may need to adjust your <code>PATH</code> afterwards if it was referring to the <code>1.0</code> tools explicitly.</p>\n"},{"comments":[{"owner":{"account_id":41266,"reputation":11137,"user_id":119861,"accept_rate":73,"display_name":"hansaplast"},"score":0,"creation_date":1644466613,"post_id":64016074,"comment_id":125616357,"body_markdown":"I tried a lot of things, this was the missing link for me on OSX Big Sur","body":"I tried a lot of things, this was the missing link for me on OSX Big Sur"}],"tags":[],"owner":{"account_id":9012314,"reputation":4743,"user_id":6716408,"accept_rate":58,"display_name":"locropulenton"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600800925,"creation_date":1600800925,"answer_id":64016074,"question_id":46402772,"body_markdown":"TLDR; Try setting JAVA_HOME worked fine for me on OSX\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\nTo install the JDKs 8 ( LTS ) from AdoptOpenJDK:\r\n\r\n    # brew tap adoptopenjdk/openjdk\r\n\r\n    brew cask install adoptopenjdk/openjdk/adoptopenjdk8\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>TLDR; Try setting JAVA_HOME worked fine for me on OSX</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n<p>To install the JDKs 8 ( LTS ) from AdoptOpenJDK:</p>\n<pre><code># brew tap adoptopenjdk/openjdk\n\nbrew cask install adoptopenjdk/openjdk/adoptopenjdk8\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216352,"reputation":888,"user_id":471554,"display_name":"ZooMMX"},"score":13,"creation_date":1611433494,"post_id":64389804,"comment_id":116451747,"body_markdown":"Tried the above solutions but as 2021 in a freshly installed env none worked. This is was the right answer for me.","body":"Tried the above solutions but as 2021 in a freshly installed env none worked. This is was the right answer for me."},{"owner":{"account_id":2983258,"reputation":2564,"user_id":2532763,"accept_rate":60,"display_name":"lordvcs"},"score":3,"creation_date":1619505734,"post_id":64389804,"comment_id":118919069,"body_markdown":"Ubuntu 21 woked flawlessly","body":"Ubuntu 21 woked flawlessly"},{"owner":{"account_id":14116001,"reputation":370,"user_id":13023928,"display_name":"The Chinky Sight"},"score":0,"creation_date":1620452545,"post_id":64389804,"comment_id":119210074,"body_markdown":"Getting following error when performing `flutter doctor --android-licenses` after installing the `Android SDK Command-line Tools (latest)`: `Error: Could not find or load main class Sight\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\\\..\nCaused by: java.lang.ClassNotFoundException: Sight\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\\\//`","body":"Getting following error when performing <code>flutter doctor --android-licenses</code> after installing the <code>Android SDK Command-line Tools (latest)</code>: <code>Error: Could not find or load main class Sight\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\\\.. Caused by: java.lang.ClassNotFoundException: Sight\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\\\&#47;&#47;</code>"},{"owner":{"account_id":17551947,"reputation":648,"user_id":12732187,"display_name":"Dasun wijesundara"},"score":0,"creation_date":1622497221,"post_id":64389804,"comment_id":119804759,"body_markdown":"Work for me on Ubuntu 20.04 LTS..Thanks @Sam_Watkins","body":"Work for me on Ubuntu 20.04 LTS..Thanks @Sam_Watkins"},{"owner":{"account_id":14280875,"reputation":683,"user_id":10436569,"display_name":"Suryakant Bharti"},"score":7,"creation_date":1624858443,"post_id":64389804,"comment_id":120461746,"body_markdown":"This should be marked correct answer. Downgrading Java is not the correct approach, that is highly regressive!","body":"This should be marked correct answer. Downgrading Java is not the correct approach, that is highly regressive!"},{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":0,"creation_date":1627417239,"post_id":64389804,"comment_id":121150202,"body_markdown":"Worked on macOS 10.15.7 and Java 11.0.4","body":"Worked on macOS 10.15.7 and Java 11.0.4"},{"owner":{"account_id":15230785,"reputation":3429,"user_id":10989990,"display_name":"Priyanka"},"score":0,"creation_date":1627552075,"post_id":64389804,"comment_id":121188631,"body_markdown":"this worked for me on M1 chip macOS big Sur 11.5.1","body":"this worked for me on M1 chip macOS big Sur 11.5.1"},{"owner":{"account_id":1669921,"reputation":595,"user_id":1536567,"display_name":"Eloy B."},"score":0,"creation_date":1627970137,"post_id":64389804,"comment_id":121289841,"body_markdown":"Solved my issue with Flutter setup not being able to accept licenses on M1 Big Sur","body":"Solved my issue with Flutter setup not being able to accept licenses on M1 Big Sur"},{"owner":{"account_id":6489497,"reputation":2793,"user_id":9789097,"display_name":"Trect"},"score":3,"creation_date":1628347261,"post_id":64389804,"comment_id":121398510,"body_markdown":"Now, there is no option called &quot;Preferences&quot; on Android studio. &quot;System Settings&quot; are now available in File","body":"Now, there is no option called &quot;Preferences&quot; on Android studio. &quot;System Settings&quot; are now available in File"},{"owner":{"account_id":1168702,"reputation":422,"user_id":1146391,"display_name":"nathan"},"score":0,"creation_date":1630177160,"post_id":64389804,"comment_id":121887049,"body_markdown":"Preferences is now under File -&gt; Settings... (Ctrl + Alt + S)","body":"Preferences is now under File -&gt; Settings... (Ctrl + Alt + S)"},{"owner":{"account_id":8603362,"reputation":55,"user_id":6444183,"display_name":"FutureCap"},"score":0,"creation_date":1631048680,"post_id":64389804,"comment_id":122117839,"body_markdown":"This answer helped me fixing it (on Windows 10). But I used &quot;sdkmanager --licenses&quot; in the folder &quot;...\\cmdline-tools\\latest\\bin&quot; to accept all missing licenses.","body":"This answer helped me fixing it (on Windows 10). But I used &quot;sdkmanager --licenses&quot; in the folder &quot;...\\cmdline-tools\\latest\\bin&quot; to accept all missing licenses."},{"owner":{"account_id":13408402,"reputation":2442,"user_id":9675721,"display_name":"Raphael Pinel"},"score":0,"creation_date":1631096903,"post_id":64389804,"comment_id":122129672,"body_markdown":"On a Mac, Click on top left on &#39;Android Studio&#39;, then Preferences, or `Cmd ,`","body":"On a Mac, Click on top left on &#39;Android Studio&#39;, then Preferences, or <code>Cmd ,</code>"},{"owner":{"account_id":3147888,"reputation":3091,"user_id":2661999,"accept_rate":38,"display_name":"Gili Yaniv"},"score":0,"creation_date":1644357836,"post_id":64389804,"comment_id":125585003,"body_markdown":"I&#39;m still getting errors on mac\nYou need to have the Android SDK Build-tools installed on your system. You can install any version in the following range: &#39;&gt;=23 &lt;=31&#39;. \njava 17.0.2\n\nAny idea why?","body":"I&#39;m still getting errors on mac You need to have the Android SDK Build-tools installed on your system. You can install any version in the following range: &#39;&gt;=23 &lt;=31&#39;.  java 17.0.2  Any idea why?"},{"owner":{"account_id":84982,"reputation":2396,"user_id":237232,"display_name":"Dragan Marjanović"},"score":4,"creation_date":1644936033,"post_id":64389804,"comment_id":125733427,"body_markdown":"on my macOS in addition to what&#39;s explained I had also to move `$ANDROID_HOME/tools/bin` in `PATH` to after `$ANDROID_HOME/cmdline-tools/latest/bin` since there are failing sdkmanager/avdmanager binaries in there","body":"on my macOS in addition to what&#39;s explained I had also to move <code>$ANDROID_HOME&#47;tools&#47;bin</code> in <code>PATH</code> to after <code>$ANDROID_HOME&#47;cmdline-tools&#47;latest&#47;bin</code> since there are failing sdkmanager/avdmanager binaries in there"},{"owner":{"account_id":2398447,"reputation":2438,"user_id":2096773,"accept_rate":61,"display_name":"Naga"},"score":0,"creation_date":1658602128,"post_id":64389804,"comment_id":129094175,"body_markdown":"still facing this issue in the env. Cordova11 android10","body":"still facing this issue in the env. Cordova11 android10"},{"owner":{"account_id":195068,"reputation":3936,"user_id":2380518,"display_name":"Miloš Černilovsk&#253;"},"score":0,"creation_date":1663672563,"post_id":64389804,"comment_id":130290125,"body_markdown":"The main point is use tools from `$ANDROID_HOME/cmdline-tools/latest/bin` instead of `$ANDROID_HOME/tools/bin`.","body":"The main point is use tools from <code>$ANDROID_HOME&#47;cmdline-tools&#47;latest&#47;bin</code> instead of <code>$ANDROID_HOME&#47;tools&#47;bin</code>."},{"owner":{"account_id":2292509,"reputation":1431,"user_id":2014878,"accept_rate":0,"display_name":"Ben Alan"},"score":0,"creation_date":1674844111,"post_id":64389804,"comment_id":132807264,"body_markdown":"This did not work for me on linux. I needed to navigate into the tools/bin folder and run sdkmanager from there.","body":"This did not work for me on linux. I needed to navigate into the tools/bin folder and run sdkmanager from there."},{"owner":{"account_id":18254171,"reputation":71,"user_id":13288513,"display_name":"shehan chanuka"},"score":0,"creation_date":1679424782,"post_id":64389804,"comment_id":133719240,"body_markdown":"As for android studio electric eel, the android sdk is available through system settings and not preferences","body":"As for android studio electric eel, the android sdk is available through system settings and not preferences"},{"owner":{"account_id":178916,"reputation":537,"user_id":411189,"accept_rate":100,"display_name":"isync"},"score":0,"creation_date":1691952254,"post_id":64389804,"comment_id":135557063,"body_markdown":"NOTE that this error may also suddenly pop-up after you, for some reason, changed your adb key! (~/.android/adbkey and ~/.android/adbkey.pub) In case you have access to your old adb key + pub file (like I had) you may just re-instate the old key and the error will go away.","body":"NOTE that this error may also suddenly pop-up after you, for some reason, changed your adb key! (~/.android/adbkey and ~/.android/adbkey.pub) In case you have access to your old adb key + pub file (like I had) you may just re-instate the old key and the error will go away."}],"tags":[],"owner":{"account_id":10415396,"reputation":6504,"user_id":12585616,"display_name":"EdYuTo"},"comment_count":19,"down_vote_count":1,"up_vote_count":579,"is_accepted":false,"score":578,"last_activity_date":1692791541,"creation_date":1602853726,"answer_id":64389804,"question_id":46402772,"body_markdown":"Just had this error, solved by downloading the `Android SDK Command-line Tools (latest)` on Android Studio, under `Preferences &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; SDK Tools` and re-running `flutter doctor --android-licenses`\r\n\r\n&gt; **NOTE:** For Android Studio *Android Studio Giraffe | 2022.3.1 Patch 1*, find these setting under `File` &gt; `Settings` and, in the left panel, `Languages &amp; Frameworks` &gt; `Android SDK` and finally select the `SDK Tools`.\r\n\r\n[![Android SDK path on Android Studio][1]][1]\r\n\r\n[![Command-line Tools][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iUmgp.png\r\n  [2]: https://i.stack.imgur.com/vNxxw.png\r\n\r\nFinally, add the new tools to your PATH, in your `.bashrc`, `.zshrc` or similar, before the obsolete tools:\r\n\r\n    export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Just had this error, solved by downloading the <code>Android SDK Command-line Tools (latest)</code> on Android Studio, under <code>Preferences &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; SDK Tools</code> and re-running <code>flutter doctor --android-licenses</code></p>\n<blockquote>\n<p><strong>NOTE:</strong> For Android Studio <em>Android Studio Giraffe | 2022.3.1 Patch 1</em>, find these setting under <code>File</code> &gt; <code>Settings</code> and, in the left panel, <code>Languages &amp; Frameworks</code> &gt; <code>Android SDK</code> and finally select the <code>SDK Tools</code>.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/iUmgp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iUmgp.png\" alt=\"Android SDK path on Android Studio\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/vNxxw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vNxxw.png\" alt=\"Command-line Tools\" /></a></p>\n<p>Finally, add the new tools to your PATH, in your <code>.bashrc</code>, <code>.zshrc</code> or similar, before the obsolete tools:</p>\n<pre><code>export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7581849,"reputation":106,"user_id":5752311,"display_name":"inf3cti0n95"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603532499,"creation_date":1603532499,"answer_id":64511998,"question_id":46402772,"body_markdown":"No need to uninstall your other java version(s) that&#39;s already installed on your machine. Whenever required, you can conveniently use the utility &#39;update-alternatives&#39; to choose the Java runtime that you wish to activate. It will automagically update the required symbolic links.\r\n\r\nYou just need to run the below command and select the version of your choice. That&#39;s all!\r\n\r\n    sudo update-alternatives --config java","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>No need to uninstall your other java version(s) that's already installed on your machine. Whenever required, you can conveniently use the utility 'update-alternatives' to choose the Java runtime that you wish to activate. It will automagically update the required symbolic links.</p>\n<p>You just need to run the below command and select the version of your choice. That's all!</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309455,"reputation":2562,"user_id":973919,"accept_rate":75,"display_name":"xarlymg89"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603734041,"creation_date":1603734041,"answer_id":64542250,"question_id":46402772,"body_markdown":"As @steven pointed out, install Java 8 (here a link for Ubuntu 16.04, 18.04 and 20.04/20.10 https://computingforgeeks.com/how-to-install-java-8-on-ubuntu/) and then set it as the default Java version with this command:\r\n\r\n    sudo update-alternatives --config java","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>As @steven pointed out, install Java 8 (here a link for Ubuntu 16.04, 18.04 and 20.04/20.10 <a href=\"https://computingforgeeks.com/how-to-install-java-8-on-ubuntu/\" rel=\"nofollow noreferrer\">https://computingforgeeks.com/how-to-install-java-8-on-ubuntu/</a>) and then set it as the default Java version with this command:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14969043,"reputation":37,"user_id":10806465,"display_name":"farhan meo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604089296,"creation_date":1604087423,"answer_id":64614878,"question_id":46402772,"body_markdown":"I was having the same issue and had installed `openjdk-8-jdk` as suggested. Checking `javac -version` resulted in the correct version, but `java -version` showed version 11. \r\n\r\nThe solution was to use:\r\n\r\n    sudo update-alternatives --config java\r\n\r\nand select version 8 from the menu.\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I was having the same issue and had installed <code>openjdk-8-jdk</code> as suggested. Checking <code>javac -version</code> resulted in the correct version, but <code>java -version</code> showed version 11.</p>\n<p>The solution was to use:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>and select version 8 from the menu.</p>\n"},{"tags":[],"owner":{"account_id":7758115,"reputation":1662,"user_id":5871709,"display_name":"funder7"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607105086,"creation_date":1607105086,"answer_id":65148565,"question_id":46402772,"body_markdown":"This question has numerous answers, and they&#39;re all different due to users installing different toolchains and using different Java versions. \r\n\r\nThe recommended way of using Android development toolchain, or at least the one that I suggest to use, is to follow what&#39;s stated in Android Studio documentation: \r\n\r\n&gt; You should always keep your Build Tools component updated by downloading the latest version using the Android SDK Manager. \r\n\r\nAndroid studio allows you to easily manage installed SDKs &amp; build tools, yes, it requires some space on your hard drive, but it will save you some time. Once you get familiar with how it works, then you can think of installing command-line tools only. \r\n\r\nIf there&#39;s no particular reason of using older Java version, use the latest (stable) version, you will have interesting new features, and also the compiled application will benefit from all the new optimizations. \r\n\r\n\r\n## Fresh install \r\n\r\n1) Delete your local `Android` folder, usually in the home directory\r\n2) [Download Android studio][1] \r\n3) Once installed, open `Settings`, Search `Android SDK` and open it\r\n4) In `SDK Platforms` select the target Android version for your app\r\n5) In `SDK Tools` tab, select `Android SDK Build-Tools`, `Android SDK Command-line Tools (latest)`, `Android Emulator`, `Android SDK Platform-Tools`\r\n6) Before pressing OK, check that `Android SDK Location` path is correct for you\r\n7) Press OK and let Android Studio download &amp; install everything\r\n\r\n(Optional) if you need to use the installed binaries from command line, be sure to add their folder into your PATH variable. If you use Android studio, it&#39;s should not be required though. \r\n\r\nI&#39;ve got Java 14 installed on my machine, anyway you can use the jre shipped with Android Studio.\r\n\r\n\r\n  [1]: https://developer.android.com/studio","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>This question has numerous answers, and they're all different due to users installing different toolchains and using different Java versions.</p>\n<p>The recommended way of using Android development toolchain, or at least the one that I suggest to use, is to follow what's stated in Android Studio documentation:</p>\n<blockquote>\n<p>You should always keep your Build Tools component updated by downloading the latest version using the Android SDK Manager.</p>\n</blockquote>\n<p>Android studio allows you to easily manage installed SDKs &amp; build tools, yes, it requires some space on your hard drive, but it will save you some time. Once you get familiar with how it works, then you can think of installing command-line tools only.</p>\n<p>If there's no particular reason of using older Java version, use the latest (stable) version, you will have interesting new features, and also the compiled application will benefit from all the new optimizations.</p>\n<h2>Fresh install</h2>\n<ol>\n<li>Delete your local <code>Android</code> folder, usually in the home directory</li>\n<li><a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">Download Android studio</a></li>\n<li>Once installed, open <code>Settings</code>, Search <code>Android SDK</code> and open it</li>\n<li>In <code>SDK Platforms</code> select the target Android version for your app</li>\n<li>In <code>SDK Tools</code> tab, select <code>Android SDK Build-Tools</code>, <code>Android SDK Command-line Tools (latest)</code>, <code>Android Emulator</code>, <code>Android SDK Platform-Tools</code></li>\n<li>Before pressing OK, check that <code>Android SDK Location</code> path is correct for you</li>\n<li>Press OK and let Android Studio download &amp; install everything</li>\n</ol>\n<p>(Optional) if you need to use the installed binaries from command line, be sure to add their folder into your PATH variable. If you use Android studio, it's should not be required though.</p>\n<p>I've got Java 14 installed on my machine, anyway you can use the jre shipped with Android Studio.</p>\n"},{"comments":[{"owner":{"account_id":53783,"reputation":2967,"user_id":160831,"accept_rate":75,"display_name":"Pradyot"},"score":7,"creation_date":1614922077,"post_id":65477410,"comment_id":117538385,"body_markdown":"Thanks! Curious how you figured this out.","body":"Thanks! Curious how you figured this out."},{"owner":{"account_id":2638004,"reputation":20160,"user_id":2431885,"accept_rate":95,"display_name":"Jean-Paul"},"score":2,"creation_date":1620848125,"post_id":65477410,"comment_id":119325890,"body_markdown":"Finally, a solution that works. I cannot thank you enough for posting this!","body":"Finally, a solution that works. I cannot thank you enough for posting this!"},{"owner":{"account_id":4940195,"reputation":472,"user_id":5980804,"display_name":"Bhikkhu Subhuti"},"score":1,"creation_date":1623152875,"post_id":65477410,"comment_id":119990916,"body_markdown":"I&#39;ll have to remember this one.  Getting the license tool to work was crazy for JAVA_HOME and this little tick mark and 5 minutes  let me build my project.  Nice screenshots too.","body":"I&#39;ll have to remember this one.  Getting the license tool to work was crazy for JAVA_HOME and this little tick mark and 5 minutes  let me build my project.  Nice screenshots too."},{"owner":{"account_id":4877900,"reputation":222,"user_id":3932449,"display_name":"London Tran"},"score":1,"creation_date":1626146152,"post_id":65477410,"comment_id":120808390,"body_markdown":"Worked for me on Windows 10! Thank you!","body":"Worked for me on Windows 10! Thank you!"},{"owner":{"account_id":13602006,"reputation":941,"user_id":9812430,"display_name":"supamunkey"},"score":0,"creation_date":1644611740,"post_id":65477410,"comment_id":125661593,"body_markdown":"@Pradyot In the event you&#39;re running into build issues where your environment might be the culprit, it&#39;s a good idea to always run `flutter doctor -v`","body":"@Pradyot In the event you&#39;re running into build issues where your environment might be the culprit, it&#39;s a good idea to always run <code>flutter doctor -v</code>"}],"tags":[],"owner":{"account_id":16742469,"reputation":3041,"user_id":12793212,"display_name":"Rohan Devaki"},"comment_count":5,"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1655101589,"creation_date":1609157488,"answer_id":65477410,"question_id":46402772,"body_markdown":"* I also had this error \r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\r\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\r\n        ... 5 more\r\n``` \r\n* then instead  of uninstalling the latest java environment, (in my case it is java 13)\r\n* and installation of `java 8`,\r\n* I have done the following steps\r\n* ```open the android studio &gt; go to configure &gt; select sdk manager &gt; go to sdk tools &gt; make a tick on android sdk command line tools &gt;apply &gt; and wait for installation```\r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n* restart the command line tool \r\n[![enter image description here][4]][4]\r\n\r\n* enter the command ```flutter doctor```\r\n* enter the command ```flutter doctor --android-licenses```\r\n* and accept all the licenses by typing `y`.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A6J7M.png\r\n  [2]: https://i.stack.imgur.com/py4j6.png\r\n  [3]: https://i.stack.imgur.com/oCugT.png\r\n  [4]: https://i.stack.imgur.com/4bW6N.png\r\n  [5]: https://i.stack.imgur.com/z4hjq.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<ul>\n<li>I also had this error</li>\n</ul>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\n        ... 5 more\n</code></pre>\n<ul>\n<li>then instead  of uninstalling the latest java environment, (in my case it is java 13)</li>\n<li>and installation of <code>java 8</code>,</li>\n<li>I have done the following steps</li>\n<li><code>open the android studio &gt; go to configure &gt; select sdk manager &gt; go to sdk tools &gt; make a tick on android sdk command line tools &gt;apply &gt; and wait for installation</code></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/A6J7M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A6J7M.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/py4j6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/py4j6.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/oCugT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oCugT.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>restart the command line tool\n<a href=\"https://i.stack.imgur.com/4bW6N.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4bW6N.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>enter the command <code>flutter doctor</code></p>\n</li>\n<li><p>enter the command <code>flutter doctor --android-licenses</code></p>\n</li>\n<li><p>and accept all the licenses by typing <code>y</code>.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/z4hjq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z4hjq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609864120,"creation_date":1609864120,"answer_id":65582796,"question_id":46402772,"body_markdown":"My Java version is 15.0.1 . For the OS Mac.\r\n\r\nand this is how i fixed the issue. \r\n\r\n 1. downloaded zip: jaf-1_1_1.zip from: https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\r\n\r\n 2. downloaded the zip: jaxb-ri-2.3.1.zip from: https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\r\n\r\n 3. unziped into a folder: ~/jars/ . exported classpath as follows\r\n\r\n```\r\nexport  \r\n CLASSPATH=~/jars/FastInfoset.jar:~/jars/activation.jar:~/jars/codemodel.jar:~/jars/dtd-parser.jar:~/jars/istack-commons-runtime.jar:~/jars/istack-commons-tools.jar:~/jars/jaf-1.1.1:~/jars/jaf-1_1_1.zip:~/jars/javax.activation-api.jar:~/jars/jaxb-api.jar:~/jars/jaxb-jxc.jar:~/jars/jaxb-ri:~/jars/jaxb-ri-2.3.1.zip:~/jars/jaxb-runtime.jar:~/jars/jaxb-xjc.jar:~/jars/relaxng-datatype.jar:~/jars/rngom.jar:~/jars/stax-ex.jar:~/jars/txw2.jar:~/jars/xsom.jar\r\n```\r\n\r\n 1. next edit the file: `cd ~/Library/Android/sdk/tools/bin/sdkmanager` change the CLASSPATH to the below\r\n\r\n`CLASSPATH=$CLASSPATH:$APP... `\r\n\r\nsave the file and run the command again. \r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>My Java version is 15.0.1 . For the OS Mac.</p>\n<p>and this is how i fixed the issue.</p>\n<ol>\n<li><p>downloaded zip: jaf-1_1_1.zip from: <a href=\"https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a</a></p>\n</li>\n<li><p>downloaded the zip: jaxb-ri-2.3.1.zip from: <a href=\"https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a</a></p>\n</li>\n<li><p>unziped into a folder: ~/jars/ . exported classpath as follows</p>\n</li>\n</ol>\n<pre><code>export  \n CLASSPATH=~/jars/FastInfoset.jar:~/jars/activation.jar:~/jars/codemodel.jar:~/jars/dtd-parser.jar:~/jars/istack-commons-runtime.jar:~/jars/istack-commons-tools.jar:~/jars/jaf-1.1.1:~/jars/jaf-1_1_1.zip:~/jars/javax.activation-api.jar:~/jars/jaxb-api.jar:~/jars/jaxb-jxc.jar:~/jars/jaxb-ri:~/jars/jaxb-ri-2.3.1.zip:~/jars/jaxb-runtime.jar:~/jars/jaxb-xjc.jar:~/jars/relaxng-datatype.jar:~/jars/rngom.jar:~/jars/stax-ex.jar:~/jars/txw2.jar:~/jars/xsom.jar\n</code></pre>\n<ol>\n<li>next edit the file: <code>cd ~/Library/Android/sdk/tools/bin/sdkmanager</code> change the CLASSPATH to the below</li>\n</ol>\n<p><code>CLASSPATH=$CLASSPATH:$APP... </code></p>\n<p>save the file and run the command again.</p>\n"},{"tags":[],"owner":{"account_id":11928943,"reputation":932,"user_id":8729381,"display_name":"Canberk Sinangil"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616236846,"creation_date":1616236846,"answer_id":66720616,"question_id":46402772,"body_markdown":"In my case I didn&#39;t have the required sdk version installed on my machine. \r\n\r\nSo make sure that you have installed the sdk version which is given in the error.\r\n\r\nHere you can navigate check &amp; install via Android Studio.\r\n\r\n[![Android Stuido SDK Manager][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8MinD.jpg","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>In my case I didn't have the required sdk version installed on my machine.</p>\n<p>So make sure that you have installed the sdk version which is given in the error.</p>\n<p>Here you can navigate check &amp; install via Android Studio.</p>\n<p><a href=\"https://i.stack.imgur.com/8MinD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8MinD.jpg\" alt=\"Android Stuido SDK Manager\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1168666,"reputation":871,"user_id":1146365,"accept_rate":56,"display_name":"mr.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616610322,"creation_date":1616610322,"answer_id":66787108,"question_id":46402772,"body_markdown":"Updated my current Android SDK and everything worked like a charm. ","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Updated my current Android SDK and everything worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":875012,"reputation":1360,"user_id":924827,"accept_rate":50,"display_name":"Katu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636448821,"creation_date":1636448821,"answer_id":69895402,"question_id":46402772,"body_markdown":"Got this error running &quot;flutter doctor --android-licenses&quot; In Windows 10. I solved it creating these two environment variables\r\n\r\n    ANDROID_SDK_ROOT\r\n    C:\\Users\\youruser\\AppData\\Local\\Android\\Sdk\r\n    \r\n    ANDROID_SDK_HOME\r\n    C:\\Users\\youruser\\.android\r\n\r\nRefresh environment variables or reboot and then run the command again.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Got this error running &quot;flutter doctor --android-licenses&quot; In Windows 10. I solved it creating these two environment variables</p>\n<pre><code>ANDROID_SDK_ROOT\nC:\\Users\\youruser\\AppData\\Local\\Android\\Sdk\n\nANDROID_SDK_HOME\nC:\\Users\\youruser\\.android\n</code></pre>\n<p>Refresh environment variables or reboot and then run the command again.</p>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1654806972,"post_id":70233533,"comment_id":128186768,"body_markdown":"What if we want to run `avdmanager` from commandline?","body":"What if we want to run <code>avdmanager</code> from commandline?"},{"owner":{"account_id":12800050,"reputation":1146,"user_id":11909003,"display_name":"Priyansh jain"},"score":1,"creation_date":1656266152,"post_id":70233533,"comment_id":128524436,"body_markdown":"@IgorGanapolsky . I only use physical device but here is what I have found from the official documentation: https://developer.android.com/studio/run/emulator-commandline","body":"@IgorGanapolsky . I only use physical device but here is what I have found from the official documentation: <a href=\"https://developer.android.com/studio/run/emulator-commandline\" rel=\"nofollow noreferrer\">developer.android.com/studio/run/emulator-commandline</a>"}],"tags":[],"owner":{"account_id":12800050,"reputation":1146,"user_id":11909003,"display_name":"Priyansh jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1654448746,"creation_date":1638701348,"answer_id":70233533,"question_id":46402772,"body_markdown":"While building the flutter application an error occurred saying android sdk licenses not accepted. So, while accepting the license this error occurred.\r\n\r\nReason for this error in my case was I haven&#39;t installed sdkmanager command line tools which is required to accept the license. \r\n\r\nSo, to install command line tools easiest way is:\r\n\r\n1. Open android studio.\r\n2. Open SDK Manager (refer image below):\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LCNmv.png\r\n\r\n3. Select SDK tools inside it in bar.\r\n4. Tick the option Android SDK Command-line Tools (latest)\r\n5. Apply it.\r\n6. Run flutter doctor -android-licenses if using flutter or you can continue with the process where the error occurred.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>While building the flutter application an error occurred saying android sdk licenses not accepted. So, while accepting the license this error occurred.</p>\n<p>Reason for this error in my case was I haven't installed sdkmanager command line tools which is required to accept the license.</p>\n<p>So, to install command line tools easiest way is:</p>\n<ol>\n<li>Open android studio.</li>\n<li>Open SDK Manager (refer image below):\n<a href=\"https://i.stack.imgur.com/LCNmv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LCNmv.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<ol start=\"3\">\n<li>Select SDK tools inside it in bar.</li>\n<li>Tick the option Android SDK Command-line Tools (latest)</li>\n<li>Apply it.</li>\n<li>Run flutter doctor -android-licenses if using flutter or you can continue with the process where the error occurred.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":23334750,"reputation":61,"user_id":17410605,"display_name":"Nati"},"score":0,"creation_date":1662934800,"post_id":73682971,"comment_id":130114993,"body_markdown":"I think the issue here is that it conflicts with the existing sdk tools files so by moving the cmdline-tools path up solves which path files to access first and i hope others can replicate in  linux environment ^_^ &quot;avdmanager works&quot; no need to downgrade","body":"I think the issue here is that it conflicts with the existing sdk tools files so by moving the cmdline-tools path up solves which path files to access first and i hope others can replicate in  linux environment ^_^ &quot;avdmanager works&quot; no need to downgrade"},{"owner":{"account_id":1882213,"reputation":5056,"user_id":1810391,"accept_rate":83,"display_name":"John Siu"},"score":0,"creation_date":1680071876,"post_id":73682971,"comment_id":133832695,"body_markdown":"For MacOS user, option 1 is the simplest solution. &#128077;","body":"For MacOS user, option 1 is the simplest solution. 👍"},{"owner":{"account_id":19635690,"reputation":125,"user_id":14373010,"display_name":"Akshat kant"},"score":0,"creation_date":1696941718,"post_id":73682971,"comment_id":136214627,"body_markdown":"Hi @Nati i did what you said but now when i am running i am getting this error &quot;Failed to find &#39;ANDROID_HOME&#39; environment variable. Try setting it manually.\nDetected &#39;avdmanager&#39; command at C:\\Users\\aksha\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin but no &#39;tools\\bin&#39; directory found near.\nTry reinstall Android SDK or update your PATH to include valid path to SDK\\tools\\bin directory.\n&quot;","body":"Hi @Nati i did what you said but now when i am running i am getting this error &quot;Failed to find &#39;ANDROID_HOME&#39; environment variable. Try setting it manually. Detected &#39;avdmanager&#39; command at C:\\Users\\aksha\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\lates&zwnj;&#8203;t\\bin but no &#39;tools\\bin&#39; directory found near. Try reinstall Android SDK or update your PATH to include valid path to SDK\\tools\\bin directory. &quot;"}],"tags":[],"owner":{"account_id":23334750,"reputation":61,"user_id":17410605,"display_name":"Nati"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662934601,"creation_date":1662934601,"answer_id":73682971,"question_id":46402772,"body_markdown":"For **Windows** users looking for solution \r\n\r\n&lt;kbd&gt;Option 1 &lt;/kbd&gt; Install the cmdline-tools from within the **Android Studio SDK manager** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\n&lt;kbd&gt;Option 2 &lt;/kbd&gt; Download from this link https://developer.android.com/studio#cmdline-tools\r\n\r\nThen follow this tutorial below on how to set it up \r\nhttps://www.youtube.com/watch?v=wvi03sOBKWQ\r\n\r\n\r\n----------\r\n\r\n\r\nNext copy the path to where the cmdline-tools was installed towards the ***bin*** folder\r\n&gt; *Using **Android Studio SDK Manager***          \r\n&gt; The cmdline-tools is installed under the Android SDK Location  \r\n&gt; Example:                                                                     \r\n&gt; **C:\\Users\\\\%*username*%\\\\AppData\\Local\\Android\\Sdk**\\cmdline-tools\\latest\\bin\r\n\r\n\r\n----------\r\n\r\n\r\nThen paste the path in to the Environment Variable Path\r\n\r\n&gt; &lt;kbd&gt;Control Panel&lt;/kbd&gt;&gt; Set the ***View By*** to &lt;kbd&gt;Large Icons&lt;/kbd&gt;&gt;&lt;kbd&gt;System&lt;/kbd&gt;&gt;Under &#39;***Related Settings***&#39; on the right side choose &lt;kbd&gt;Advanced System Settings&lt;/kbd&gt;&gt;&lt;kbd&gt;Environment Variables&lt;/kbd&gt;\r\n\r\nFrom here you add the path under System variables \r\n[![enter image description here][2]][2]\r\n\r\nMake sure that the cmdline-tools path is above the tools path (*highlighted in the picture in red box*) if they exist. \r\n\r\n&gt; Select the Path&gt;&lt;kbd&gt;Edit&lt;/kbd&gt;&gt;Select the cmdline-tools path (*highlighted in blue*) &gt;&lt;kbd&gt;Move Up&lt;/kbd&gt; \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/owIdO.jpg\r\n  [2]: https://i.stack.imgur.com/AsF4L.jpg","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For <strong>Windows</strong> users looking for solution</p>\n<p><kbd>Option 1 </kbd> Install the cmdline-tools from within the <strong>Android Studio SDK manager</strong></p>\n<p><a href=\"https://i.stack.imgur.com/owIdO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/owIdO.jpg\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><kbd>Option 2 </kbd> Download from this link <a href=\"https://developer.android.com/studio#cmdline-tools\" rel=\"nofollow noreferrer\">https://developer.android.com/studio#cmdline-tools</a></p>\n<p>Then follow this tutorial below on how to set it up\n<a href=\"https://www.youtube.com/watch?v=wvi03sOBKWQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=wvi03sOBKWQ</a></p>\n<hr />\n<p>Next copy the path to where the cmdline-tools was installed towards the <em><strong>bin</strong></em> folder</p>\n<blockquote>\n<p><em>Using <strong>Android Studio SDK Manager</strong></em><br />\nThe cmdline-tools is installed under the Android SDK Location<br />\nExample:<br />\n<strong>C:\\Users\\%<em>username</em>%\\AppData\\Local\\Android\\Sdk</strong>\\cmdline-tools\\latest\\bin</p>\n</blockquote>\n<hr />\n<p>Then paste the path in to the Environment Variable Path</p>\n<blockquote>\n<p><kbd>Control Panel</kbd>&gt; Set the <em><strong>View By</strong></em> to <kbd>Large Icons</kbd>&gt;<kbd>System</kbd>&gt;Under '<em><strong>Related Settings</strong></em>' on the right side choose <kbd>Advanced System Settings</kbd>&gt;<kbd>Environment Variables</kbd></p>\n</blockquote>\n<p>From here you add the path under System variables\n<a href=\"https://i.stack.imgur.com/AsF4L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AsF4L.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Make sure that the cmdline-tools path is above the tools path (<em>highlighted in the picture in red box</em>) if they exist.</p>\n<blockquote>\n<p>Select the Path&gt;<kbd>Edit</kbd>&gt;Select the cmdline-tools path (<em>highlighted in blue</em>) &gt;<kbd>Move Up</kbd></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8500585,"reputation":1414,"user_id":6373689,"accept_rate":25,"display_name":"Thomas Fischer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664314172,"creation_date":1664314172,"answer_id":73874001,"question_id":46402772,"body_markdown":"This question has multiple answers depending on the underlying issue. There are also multiple answers that indirectly fix the actual problem.\r\n\r\nThe core issues are:\r\n1. Android SDK tools have issues with the latest _Oracle_ JDK. You can use the latest _Open_ JDK. (The latest OpenJDK comes with Android Studio.)\r\n\r\n2. You don&#39;t have the latest Android SDK command line tools installed.\r\n\r\n3. You have the latest Android SDK command line tools installed, but you are using E:\\Android\\Sdk\\tools\\bin instead of E:\\Android\\Sdk\\cmdline-tools\\latest\\bin.\r\n\r\n\r\nHere are systematic steps to identify and fix any of the above issues that you may have.\r\n 1. Point environment variables to your OpenJDK installation in Android Studio. Depending on your installation that is found here: E:\\Program Files\\Android\\Android Studio\\jre. You have to go through all the necessary variables like PATH, JAVA_HOME, JAVA_BIN etc and make sure that they all point to your OpenJDK.\r\n\r\nNote: You don&#39;t have to uninstall/reinstall JDKs. That simply probably fixes your variables above as a side effect.\r\n\r\n2. Check that your environment variables are correct (Windows: echo %JAVA_HOME%, echo %PATH%, where javac, etc.)\r\n\r\n3. Go to Android Studio. In Settings, navigate to &quot;Appearances &amp; Behavior &gt; System Settings &gt; Android SDK.&quot; Install &quot;Android SDK Command Line Tools.&quot;\r\n\r\n4. In the shell, go to E:\\Android\\Sdk\\cmdline-tools\\latest\\bin and run sdkmanager --install &quot;cmdline-tools;latest&quot;\r\n\r\nAdditional troubleshooting tips:\r\nI had Android environment variables messed up as well. Run &#39;flutter doctor -v&#39; and the output will help you troubleshoot additional environment configuration issues.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>This question has multiple answers depending on the underlying issue. There are also multiple answers that indirectly fix the actual problem.</p>\n<p>The core issues are:</p>\n<ol>\n<li><p>Android SDK tools have issues with the latest <em>Oracle</em> JDK. You can use the latest <em>Open</em> JDK. (The latest OpenJDK comes with Android Studio.)</p>\n</li>\n<li><p>You don't have the latest Android SDK command line tools installed.</p>\n</li>\n<li><p>You have the latest Android SDK command line tools installed, but you are using E:\\Android\\Sdk\\tools\\bin instead of E:\\Android\\Sdk\\cmdline-tools\\latest\\bin.</p>\n</li>\n</ol>\n<p>Here are systematic steps to identify and fix any of the above issues that you may have.</p>\n<ol>\n<li>Point environment variables to your OpenJDK installation in Android Studio. Depending on your installation that is found here: E:\\Program Files\\Android\\Android Studio\\jre. You have to go through all the necessary variables like PATH, JAVA_HOME, JAVA_BIN etc and make sure that they all point to your OpenJDK.</li>\n</ol>\n<p>Note: You don't have to uninstall/reinstall JDKs. That simply probably fixes your variables above as a side effect.</p>\n<ol start=\"2\">\n<li><p>Check that your environment variables are correct (Windows: echo %JAVA_HOME%, echo %PATH%, where javac, etc.)</p>\n</li>\n<li><p>Go to Android Studio. In Settings, navigate to &quot;Appearances &amp; Behavior &gt; System Settings &gt; Android SDK.&quot; Install &quot;Android SDK Command Line Tools.&quot;</p>\n</li>\n<li><p>In the shell, go to E:\\Android\\Sdk\\cmdline-tools\\latest\\bin and run sdkmanager --install &quot;cmdline-tools;latest&quot;</p>\n</li>\n</ol>\n<p>Additional troubleshooting tips:\nI had Android environment variables messed up as well. Run 'flutter doctor -v' and the output will help you troubleshoot additional environment configuration issues.</p>\n"},{"tags":[],"owner":{"account_id":3096314,"reputation":370,"user_id":2621411,"display_name":"inspiredMichael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689362775,"creation_date":1689362775,"answer_id":76690640,"question_id":46402772,"body_markdown":"I know this is an old question, however, another way to fix this error is by connecting an Android phone to your laptop (i.e. run the app on a physical device). Ensure the USB debug mode is enabled.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UziOP.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I know this is an old question, however, another way to fix this error is by connecting an Android phone to your laptop (i.e. run the app on a physical device). Ensure the USB debug mode is enabled.\n<a href=\"https://i.stack.imgur.com/UziOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UziOP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":557270,"reputation":13861,"user_id":919348,"accept_rate":63,"display_name":"Novellizator"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515543,"favorite_count":0,"down_vote_count":4,"up_vote_count":534,"accepted_answer_id":46405092,"answer_count":40,"score":530,"last_activity_date":1692791541,"creation_date":1506334566,"question_id":46402772,"body_markdown":"When installing the android sdk tools the following error is emitted:\r\n&gt;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n\r\nWhy is this happening and how can it be fixed?\r\n\r\nDebug output:\r\n\r\n    $ java --version\r\n    java 9\r\n    Java(TM) SE Runtime Environment (build 9+181)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 9+181, mixed mode)\r\n    $ brew cask install android-sdk\r\n    ==&gt; Caveats\r\n    We will install android-sdk-tools, platform-tools, and build-tools for you.\r\n    You can control android sdk packages via the sdkmanager command.\r\n    You may want to add to your profile:\r\n      &#39;export ANDROID_SDK_ROOT=/usr/local/share/android-sdk&#39;\r\n    \r\n    This operation may take up to 10 minutes depending on your internet connection.\r\n    Please, be patient.\r\n    \r\n    ==&gt; Satisfying dependencies\r\n    ==&gt; Downloading https://dl.google.com/android/repository/sdk-tools-darwin-3859397.zip\r\n    Already downloaded: /Users/tomasnovella/Library/Caches/Homebrew/Cask/android-sdk--3859397,26.0.1.zip\r\n    ==&gt; Verifying checksum for Cask android-sdk\r\n    ==&gt; Installing Cask android-sdk\r\n    ==&gt; Exception in thread &quot;main&quot;\r\n    ==&gt; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    ==&gt; \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    ==&gt; \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    ==&gt; \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    ==&gt; \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n    ==&gt; \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\r\n    ==&gt; Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    ==&gt; \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    ==&gt; \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    ==&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n    ==&gt; \t... 5 more\r\n    Error: Command failed to execute!\r\n    \r\n    ==&gt; Failed command:\r\n    /usr/local/Caskroom/android-sdk/3859397,26.0.1/tools/bin/sdkmanager tools platform-tools build-tools;26.0.1\r\n    \r\n    ==&gt; Standard Output of failed command:\r\n    \r\n    \r\n    ==&gt; Standard Error of failed command:\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>When installing the android sdk tools the following error is emitted:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema</p>\n</blockquote>\n\n<p>Why is this happening and how can it be fixed?</p>\n\n<p>Debug output:</p>\n\n<pre><code>$ java --version\njava 9\nJava(TM) SE Runtime Environment (build 9+181)\nJava HotSpot(TM) 64-Bit Server VM (build 9+181, mixed mode)\n$ brew cask install android-sdk\n==&gt; Caveats\nWe will install android-sdk-tools, platform-tools, and build-tools for you.\nYou can control android sdk packages via the sdkmanager command.\nYou may want to add to your profile:\n  'export ANDROID_SDK_ROOT=/usr/local/share/android-sdk'\n\nThis operation may take up to 10 minutes depending on your internet connection.\nPlease, be patient.\n\n==&gt; Satisfying dependencies\n==&gt; Downloading https://dl.google.com/android/repository/sdk-tools-darwin-3859397.zip\nAlready downloaded: /Users/tomasnovella/Library/Caches/Homebrew/Cask/android-sdk--3859397,26.0.1.zip\n==&gt; Verifying checksum for Cask android-sdk\n==&gt; Installing Cask android-sdk\n==&gt; Exception in thread \"main\"\n==&gt; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n==&gt;     at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n==&gt;     at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n==&gt;     at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n==&gt;     at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n==&gt;     at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\n==&gt; Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n==&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n==&gt;     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n==&gt;     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n==&gt;     ... 5 more\nError: Command failed to execute!\n\n==&gt; Failed command:\n/usr/local/Caskroom/android-sdk/3859397,26.0.1/tools/bin/sdkmanager tools platform-tools build-tools;26.0.1\n\n==&gt; Standard Output of failed command:\n\n\n==&gt; Standard Error of failed command:\nException in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n</code></pre>\n"},{"tags":["java","groovy","logback","logback-classic"],"answers":[{"tags":[],"owner":{"account_id":16015279,"reputation":31,"user_id":15130712,"display_name":"Matthew Donaghey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692791117,"creation_date":1668515437,"answer_id":74445658,"question_id":74445304,"body_markdown":"Check point 4 here:\r\n\r\nhttps://logback.qos.ch/news.html#1.2.9\r\n\r\nIt was in response to [CVE-2021-42550](https://cve.report/CVE-2021-42550). See also [LOGBACK-1591](https://jira.qos.ch/browse/LOGBACK-1591).\r\n\r\n&gt; Removed Groovy configuration support. As logging is so pervasive and configuration with Groovy is probably too powerful, this feature is unlikely to be reinstated for security reasons.\r\n\r\nThere is a 3rd party plugin which re-adds Groovy support, available here: https://github.com/virtualdogbert/logback-groovy-config","title":"Is there a reason, why logback.groovy is discarded in 1.2.9+?","body":"<p>Check point 4 here:</p>\n<p><a href=\"https://logback.qos.ch/news.html#1.2.9\" rel=\"nofollow noreferrer\">https://logback.qos.ch/news.html#1.2.9</a></p>\n<p>It was in response to <a href=\"https://cve.report/CVE-2021-42550\" rel=\"nofollow noreferrer\">CVE-2021-42550</a>. See also <a href=\"https://jira.qos.ch/browse/LOGBACK-1591\" rel=\"nofollow noreferrer\">LOGBACK-1591</a>.</p>\n<blockquote>\n<p>Removed Groovy configuration support. As logging is so pervasive and configuration with Groovy is probably too powerful, this feature is unlikely to be reinstated for security reasons.</p>\n</blockquote>\n<p>There is a 3rd party plugin which re-adds Groovy support, available here: <a href=\"https://github.com/virtualdogbert/logback-groovy-config\" rel=\"nofollow noreferrer\">https://github.com/virtualdogbert/logback-groovy-config</a></p>\n"}],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692791117,"creation_date":1668513821,"question_id":74445304,"body_markdown":"I am using Logback and Slf4j for logging and the configuration is present in form of `logback.groovy` under `src/main/resources` which always worked like a charm.\r\n\r\nI was about to upgrade my logging configuration to the latest versions available and stumbled upon the unpleasant problem.\r\n\r\nThe dependency `ch.qos.logback:logback-classic:1.2.9` shows a warning:\r\n\r\n```\r\nFailed to instantiate [ch.qos.logback.classic.LoggerContext]\r\nReported exception:\r\nch.qos.logback.core.LogbackException: Unexpected filename extension of file [file:/[myproj]/build/resources/main/logback.groovy]. Should be either .groovy or .xml\r\n\tat ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:67)\r\n\tat ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:140)\r\n\tat org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\r\n    ...\r\n```\r\n\r\nand I checked the code of `ch.qos.logback.classic.util.ContextInitializer.configureByResource()` of the last working version `1.2.8` and `1.2.9`:\r\n\r\n```\r\n// 1.2.8\r\n    public void configureByResource(URL url) throws JoranException {\r\n        if (url == null) {\r\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\r\n        }\r\n        final String urlString = url.toString();\r\n        if (urlString.endsWith(&quot;groovy&quot;)) {\r\n            if (EnvUtil.isGroovyAvailable()) {\r\n                // avoid directly referring to GafferConfigurator so as to avoid\r\n                // loading groovy.lang.GroovyObject . See also http://jira.qos.ch/browse/LBCLASSIC-214\r\n                GafferUtil.runGafferConfiguratorOn(loggerContext, this, url);\r\n            } else {\r\n                StatusManager sm = loggerContext.getStatusManager();\r\n                sm.add(new ErrorStatus(&quot;Groovy classes are not available on the class path. ABORTING INITIALIZATION.&quot;, loggerContext));\r\n            }\r\n        } else if (urlString.endsWith(&quot;xml&quot;)) {\r\n            JoranConfigurator configurator = new JoranConfigurator();\r\n            configurator.setContext(loggerContext);\r\n            configurator.doConfigure(url);\r\n        } else {\r\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\r\n        }\r\n    }\r\n\r\n// 1.2.9\r\n    public void configureByResource(URL url) throws JoranException {\r\n        if (url == null) {\r\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\r\n        }\r\n        final String urlString = url.toString();\r\n        if (urlString.endsWith(&quot;xml&quot;)) {\r\n            JoranConfigurator configurator = new JoranConfigurator();\r\n            configurator.setContext(loggerContext);\r\n            configurator.doConfigure(url);\r\n        } else {\r\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nSo, the warning might be misguiding, but the code change is obvious: the groovy support was removed although no &quot;deprecation&quot;-warning is provided in the [ref-doc][1].\r\n\r\nWhy groovy support has been removed?\r\n\r\nWhy no &quot;logback-groovy&quot; package was introduced to provide support?\r\n\r\nP.S. on [Project&#39;s GitHub][2] there&#39;s no &quot;Issues&quot; section, which is odd...\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/groovy.html\r\n  [2]: https://github.com/qos-ch/logback","title":"Is there a reason, why logback.groovy is discarded in 1.2.9+?","body":"<p>I am using Logback and Slf4j for logging and the configuration is present in form of <code>logback.groovy</code> under <code>src/main/resources</code> which always worked like a charm.</p>\n<p>I was about to upgrade my logging configuration to the latest versions available and stumbled upon the unpleasant problem.</p>\n<p>The dependency <code>ch.qos.logback:logback-classic:1.2.9</code> shows a warning:</p>\n<pre><code>Failed to instantiate [ch.qos.logback.classic.LoggerContext]\nReported exception:\nch.qos.logback.core.LogbackException: Unexpected filename extension of file [file:/[myproj]/build/resources/main/logback.groovy]. Should be either .groovy or .xml\n    at ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:67)\n    at ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:140)\n    at org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\n    ...\n</code></pre>\n<p>and I checked the code of <code>ch.qos.logback.classic.util.ContextInitializer.configureByResource()</code> of the last working version <code>1.2.8</code> and <code>1.2.9</code>:</p>\n<pre><code>// 1.2.8\n    public void configureByResource(URL url) throws JoranException {\n        if (url == null) {\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\n        }\n        final String urlString = url.toString();\n        if (urlString.endsWith(&quot;groovy&quot;)) {\n            if (EnvUtil.isGroovyAvailable()) {\n                // avoid directly referring to GafferConfigurator so as to avoid\n                // loading groovy.lang.GroovyObject . See also http://jira.qos.ch/browse/LBCLASSIC-214\n                GafferUtil.runGafferConfiguratorOn(loggerContext, this, url);\n            } else {\n                StatusManager sm = loggerContext.getStatusManager();\n                sm.add(new ErrorStatus(&quot;Groovy classes are not available on the class path. ABORTING INITIALIZATION.&quot;, loggerContext));\n            }\n        } else if (urlString.endsWith(&quot;xml&quot;)) {\n            JoranConfigurator configurator = new JoranConfigurator();\n            configurator.setContext(loggerContext);\n            configurator.doConfigure(url);\n        } else {\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\n        }\n    }\n\n// 1.2.9\n    public void configureByResource(URL url) throws JoranException {\n        if (url == null) {\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\n        }\n        final String urlString = url.toString();\n        if (urlString.endsWith(&quot;xml&quot;)) {\n            JoranConfigurator configurator = new JoranConfigurator();\n            configurator.setContext(loggerContext);\n            configurator.doConfigure(url);\n        } else {\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\n        }\n    }\n</code></pre>\n<p>So, the warning might be misguiding, but the code change is obvious: the groovy support was removed although no &quot;deprecation&quot;-warning is provided in the <a href=\"http://logback.qos.ch/manual/groovy.html\" rel=\"nofollow noreferrer\">ref-doc</a>.</p>\n<p>Why groovy support has been removed?</p>\n<p>Why no &quot;logback-groovy&quot; package was introduced to provide support?</p>\n<p>P.S. on <a href=\"https://github.com/qos-ch/logback\" rel=\"nofollow noreferrer\">Project's GitHub</a> there's no &quot;Issues&quot; section, which is odd...</p>\n"},{"tags":["java","floating-point","decimal","addition"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692803043,"post_id":76960909,"comment_id":135674491,"body_markdown":"`Float` (uppercase F) and `float` (lowercase f) are not the same thing.  You should not use objects when you only need numbers.  (But it has nothing to do with floating point precision.)","body":"<code>Float</code> (uppercase F) and <code>float</code> (lowercase f) are not the same thing.  You should not use objects when you only need numbers.  (But it has nothing to do with floating point precision.)"}],"owner":{"account_id":29282481,"reputation":1,"user_id":22434786,"display_name":"Mahadevan Mano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692790989,"answer_count":0,"score":0,"last_activity_date":1692791026,"creation_date":1692789951,"question_id":76960909,"body_markdown":"In java while add the float number a and b getting wrong output.\r\n\r\n    Float a = 39.97757f;\r\n    Float b = 59.96636f;\r\n    \r\n    System.out.println(a+b);\r\n\r\ngetting output as 99.943924 instead of 99.94393","title":"While adding two float values am getting wrong output in java","body":"<p>In java while add the float number a and b getting wrong output.</p>\n<pre><code>Float a = 39.97757f;\nFloat b = 59.96636f;\n\nSystem.out.println(a+b);\n</code></pre>\n<p>getting output as 99.943924 instead of 99.94393</p>\n"},{"tags":["java","formatting","number-formatting","cobol"],"comments":[{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1690277693,"post_id":76759181,"comment_id":135327537,"body_markdown":"If you speak of the internal storage format, then this depends on the `USAGE` of the Cobol decimal.","body":"If you speak of the internal storage format, then this depends on the <code>USAGE</code> of the Cobol decimal."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690311200,"creation_date":1690254439,"answer_id":76759211,"question_id":76759181,"body_markdown":"Cobol just stores every digit as text. Non-60 year old languages store it in IEEE754. It&#39;s _far_ faster and far more compact, but, introduces errors. Probably not an issue but you might want to read up on those. For example, in IEEE754 math, 10*0.1 != 1.0:\r\n\r\n```\r\ndouble v = 0.0;\r\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\r\nSystem.out.println(1.0 == v); // false\r\n```\r\n\r\nBecause of that error.\r\n\r\nFirst, you need to format your number to 2 decimals, which rounds away errors in just about every case:\r\n\r\n```\r\npublic static String toCobol(double v) {\r\n  return String.format(Locale.ENGLISH, &quot;%.2f&quot;, v).replace(&quot;.&quot;, &quot;&quot;);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n  System.out.println(toCobol(1234.56));\r\n  System.out.println(toCobol(0));\r\n  System.out.println(toCobol(1.234567));\r\n  System.out.println(toCobol(-100.5));\r\n}\r\n```\r\n\r\nprints:\r\n\r\n```\r\n123456\r\n000\r\n123\r\n-10050\r\n```\r\n\r\nI assume that&#39;s what you are looking for?\r\n","title":"Convert a decimal number in Java into its assumed decimal Cobol representation","body":"<p>Cobol just stores every digit as text. Non-60 year old languages store it in IEEE754. It's <em>far</em> faster and far more compact, but, introduces errors. Probably not an issue but you might want to read up on those. For example, in IEEE754 math, 10*0.1 != 1.0:</p>\n<pre><code>double v = 0.0;\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\nSystem.out.println(1.0 == v); // false\n</code></pre>\n<p>Because of that error.</p>\n<p>First, you need to format your number to 2 decimals, which rounds away errors in just about every case:</p>\n<pre><code>public static String toCobol(double v) {\n  return String.format(Locale.ENGLISH, &quot;%.2f&quot;, v).replace(&quot;.&quot;, &quot;&quot;);\n}\n\npublic static void main(String[] args) {\n  System.out.println(toCobol(1234.56));\n  System.out.println(toCobol(0));\n  System.out.println(toCobol(1.234567));\n  System.out.println(toCobol(-100.5));\n}\n</code></pre>\n<p>prints:</p>\n<pre><code>123456\n000\n123\n-10050\n</code></pre>\n<p>I assume that's what you are looking for?</p>\n"},{"tags":[],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692790729,"creation_date":1690311644,"answer_id":76765773,"question_id":76759181,"body_markdown":"I&#39;ve experimented a little bit more with the existing Java facilities, and stumbled upon the `movePointRight(int n)` on `BigDecimal` type which seems to be doing what @rzwitserloot suggests but more declaratively.  \r\n\r\nPut together the below randomized test and ran it enough times (it seems)  to eliminate any edge cases, as the result comes out green:\r\n\r\n \r\n\r\n\tfor (int i = 0; i &lt; 100000; i++) {\r\n\t\tFaker faker = new Faker();\r\n\t\tString number = faker.expression(&quot;#{numerify &#39;######.##&#39;}&quot;);\r\n\t\tSystem.out.println(&quot;string: &quot; + number);\r\n\t\tBigDecimal bdNumber = new BigDecimal(number);\r\n\r\n\t\tbdNumber.movePointRight(2);\r\n\t\tBigDecimal bdNumberMovedRight = bdNumber.movePointRight(2);\r\n\t\tSystem.out.println(&quot;bdNumberMovedRight: &quot; + bdNumberMovedRight);\r\n\t\t\r\n\t\tBigDecimal bdNumberMovedLeft = bdNumberMovedRight.movePointLeft(2);\r\n\t\tSystem.out.println(&quot;bdNumberMovedLeft: &quot; + bdNumberMovedLeft);\r\n\t\t\r\n\t\tAssertions.assertThat(bdNumberMovedLeft).isEqualTo(bdNumber);\r\n\t}\r\n\r\nhere&#39;s a couple of random results that seem satisfying:\r\n\r\n    string: 062533.74\r\n    bdNumberMovedRight: 6253374\r\n    bdNumberMovedLeft: 62533.74\r\n    string: 882297.73\r\n    bdNumberMovedRight: 88229773\r\n    bdNumberMovedLeft: 882297.73\r\n    string: 638429.50\r\n    bdNumberMovedRight: 63842950\r\n    bdNumberMovedLeft: 638429.50\r\n    string: 500882.06\r\n    bdNumberMovedRight: 50088206\r\n    bdNumberMovedLeft: 500882.06\r\n    string: 922547.94\r\n    bdNumberMovedRight: 92254794\r\n    bdNumberMovedLeft: 922547.94","title":"Convert a decimal number in Java into its assumed decimal Cobol representation","body":"<p>I've experimented a little bit more with the existing Java facilities, and stumbled upon the <code>movePointRight(int n)</code> on <code>BigDecimal</code> type which seems to be doing what @rzwitserloot suggests but more declaratively.</p>\n<p>Put together the below randomized test and ran it enough times (it seems)  to eliminate any edge cases, as the result comes out green:</p>\n<pre><code>for (int i = 0; i &lt; 100000; i++) {\n    Faker faker = new Faker();\n    String number = faker.expression(&quot;#{numerify '######.##'}&quot;);\n    System.out.println(&quot;string: &quot; + number);\n    BigDecimal bdNumber = new BigDecimal(number);\n\n    bdNumber.movePointRight(2);\n    BigDecimal bdNumberMovedRight = bdNumber.movePointRight(2);\n    System.out.println(&quot;bdNumberMovedRight: &quot; + bdNumberMovedRight);\n    \n    BigDecimal bdNumberMovedLeft = bdNumberMovedRight.movePointLeft(2);\n    System.out.println(&quot;bdNumberMovedLeft: &quot; + bdNumberMovedLeft);\n    \n    Assertions.assertThat(bdNumberMovedLeft).isEqualTo(bdNumber);\n}\n</code></pre>\n<p>here's a couple of random results that seem satisfying:</p>\n<pre><code>string: 062533.74\nbdNumberMovedRight: 6253374\nbdNumberMovedLeft: 62533.74\nstring: 882297.73\nbdNumberMovedRight: 88229773\nbdNumberMovedLeft: 882297.73\nstring: 638429.50\nbdNumberMovedRight: 63842950\nbdNumberMovedLeft: 638429.50\nstring: 500882.06\nbdNumberMovedRight: 50088206\nbdNumberMovedLeft: 500882.06\nstring: 922547.94\nbdNumberMovedRight: 92254794\nbdNumberMovedLeft: 922547.94\n</code></pre>\n"}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76765773,"answer_count":2,"score":0,"last_activity_date":1692790729,"creation_date":1690253771,"question_id":76759181,"body_markdown":"I have a requirement to convert a regular number (most likely with 2 decimal digits) into its respective Cobol counterpart with so called assumed decimal point in the following format: `9(9)v99`. \r\n\r\nI already have a way to right align and pad it with zeroes, which is part of the requirement, just need to come up with a generic way to convert something like `1234.56` into its Cobol equivalent: `123456`.\r\n\r\nIs there any good way to do it in Java 8, or perhaps a framework that does Cobol formatting conversions like that? ","title":"Convert a decimal number in Java into its assumed decimal Cobol representation","body":"<p>I have a requirement to convert a regular number (most likely with 2 decimal digits) into its respective Cobol counterpart with so called assumed decimal point in the following format: <code>9(9)v99</code>.</p>\n<p>I already have a way to right align and pad it with zeroes, which is part of the requirement, just need to come up with a generic way to convert something like <code>1234.56</code> into its Cobol equivalent: <code>123456</code>.</p>\n<p>Is there any good way to do it in Java 8, or perhaps a framework that does Cobol formatting conversions like that?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1692723634,"post_id":76955392,"comment_id":135662303,"body_markdown":"&quot;op.addObj(a3); \\\\ should be compilation error&quot; &lt;- I&#39;m 100% sure that it already is a compoilation error because nowhere in your code is there any variable defined with the name of `a3` so you&#39;ll get a very old school &quot;Symbol not found&quot; or &quot;cannot be resolved to a variable&quot; compilation error.","body":"&quot;op.addObj(a3); \\\\ should be compilation error&quot; &lt;- I&#39;m 100% sure that it already is a compoilation error because nowhere in your code is there any variable defined with the name of <code>a3</code> so you&#39;ll get a very old school &quot;Symbol not found&quot; or &quot;cannot be resolved to a variable&quot; compilation error."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692724726,"post_id":76955392,"comment_id":135662529,"body_markdown":"a) `List` and `ArrayList` are raw types, stop using them. b) what is `T&lt;? extends T&gt;`? Don&#39;t you just mean `T`, which already only accepts the type and subtypes but no other types c) your list can be a `List&lt;T&gt;` too, probably; you don&#39;t gain anything by defining it with a wildcard","body":"a) <code>List</code> and <code>ArrayList</code> are raw types, stop using them. b) what is <code>T&lt;? extends T&gt;</code>? Don&#39;t you just mean <code>T</code>, which already only accepts the type and subtypes but no other types c) your list can be a <code>List&lt;T&gt;</code> too, probably; you don&#39;t gain anything by defining it with a wildcard"}],"answers":[{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1692728173,"post_id":76955745,"comment_id":135663237,"body_markdown":"It&#39;s not clear why you&#39;re using `? super T` instead of just `T`.","body":"It&#39;s not clear why you&#39;re using <code>? super T</code> instead of just <code>T</code>."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692728631,"post_id":76955745,"comment_id":135663335,"body_markdown":"@LouisWasserman You&#39;re right! I improved my question.","body":"@LouisWasserman You&#39;re right! I improved my question."},{"owner":{"account_id":29276905,"reputation":13,"user_id":22430463,"display_name":"UsiKakULisi"},"score":0,"creation_date":1692779913,"post_id":76955745,"comment_id":135669520,"body_markdown":"@DiegoBorba, thank you. You really helped me. Could you answer one question please?\nWhy subtypes are accepted for T parameter? I mean why we write &lt;T&gt; instead of &lt;? extends T&gt;. If I correctly understand the last statement is a boundary that defines allow to add subclasses. I hope you understand my question. Thanks!","body":"@DiegoBorba, thank you. You really helped me. Could you answer one question please? Why subtypes are accepted for T parameter? I mean why we write &lt;T&gt; instead of &lt;? extends T&gt;. If I correctly understand the last statement is a boundary that defines allow to add subclasses. I hope you understand my question. Thanks!"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692790714,"post_id":76955745,"comment_id":135671627,"body_markdown":"I was writing a comment but it gets too long, so I put it on the answer. I hope it helps!","body":"I was writing a comment but it gets too long, so I put it on the answer. I hope it helps!"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692790651,"creation_date":1692726569,"answer_id":76955745,"question_id":76955392,"body_markdown":"You can do this way:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Op&lt;T&gt; {\r\n    private List&lt;T&gt; objects = new ArrayList&lt;&gt;();\r\n\r\n    public void addObj(T o) {\r\n        objects.add(o);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A a1 = new A();\r\n        Aa a2 = new Aa();\r\n        B b1 = new B();\r\n        Bb b2 = new Bb();\r\n\r\n        Op&lt;A&gt; opA = new Op&lt;&gt;();\r\n        opA.addObj(a1); // OK\r\n        opA.addObj(a2); // OK\r\n        // opA.addObj(b1); // Compilation error\r\n\r\n        Op&lt;B&gt; opB = new Op&lt;&gt;();\r\n        opB.addObj(b1); // OK\r\n        opB.addObj(b2); // OK\r\n        // opB.addObj(a1); // Compilation error\r\n    }\r\n}\r\n\r\nclass A {}\r\nclass Aa extends A {}\r\nclass B {}\r\nclass Bb extends B {}\r\n```\r\n\r\nIn this implementation, the `Op` class is parameterized with a type parameter `T` and the list `objects` is declared with `T` type too. This allows you to add objects **only of type `T`**.\r\n\r\nThe `addObj` method takes an argument of type `T`, which is the type parameter of the `Op` class. This method can now be used to add **only objects of type `T`** to the list.\r\n\r\n## Edit \r\n\r\n \r\n&gt; Why subtypes are accepted for T parameter? I mean why we write &lt;T&gt; instead of &lt;? extends T&gt;. If I correctly understand the last statement is a boundary that defines allow to add subclasses.\r\n\r\nWell, when you define a class with a generic type parameter, like `Op&lt;T&gt;`, you are creating a class that can operate on different types. \r\n\r\nThe type parameter `T` itself **doesn&#39;t inherently carry any constraints**. When you instantiate the class with a specific type argument, such as `Op&lt;A&gt;` or `Op&lt;B&gt;`, you are essentially telling Java to work with that particular type.\r\n\r\nIn the context of your example, consider `Op&lt;A&gt; opA`. While the class definition doesn&#39;t include any wildcards or type bounds, the compiler knows that `opA` can only contain objects of type `A` or its subclasses, due to the way the `Op` class is defined and instantiated.\r\n\r\nIf you used `Op&lt;? extends A&gt;`, it would indeed allow you to insert subclasses of `A` into the list, but **it would also restrict other operations** you might want to perform on `opA`. For example, you might not be able to add objects of type `A` itself to the list since the wildcard would be more permissive.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html","title":"I have Op class that have a list which must contain only one typ of class or his subclasses(only A class,his subclass OR only class Band his subclass)","body":"<p>You can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Op&lt;T&gt; {\n    private List&lt;T&gt; objects = new ArrayList&lt;&gt;();\n\n    public void addObj(T o) {\n        objects.add(o);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        A a1 = new A();\n        Aa a2 = new Aa();\n        B b1 = new B();\n        Bb b2 = new Bb();\n\n        Op&lt;A&gt; opA = new Op&lt;&gt;();\n        opA.addObj(a1); // OK\n        opA.addObj(a2); // OK\n        // opA.addObj(b1); // Compilation error\n\n        Op&lt;B&gt; opB = new Op&lt;&gt;();\n        opB.addObj(b1); // OK\n        opB.addObj(b2); // OK\n        // opB.addObj(a1); // Compilation error\n    }\n}\n\nclass A {}\nclass Aa extends A {}\nclass B {}\nclass Bb extends B {}\n</code></pre>\n<p>In this implementation, the <code>Op</code> class is parameterized with a type parameter <code>T</code> and the list <code>objects</code> is declared with <code>T</code> type too. This allows you to add objects <strong>only of type <code>T</code></strong>.</p>\n<p>The <code>addObj</code> method takes an argument of type <code>T</code>, which is the type parameter of the <code>Op</code> class. This method can now be used to add <strong>only objects of type <code>T</code></strong> to the list.</p>\n<h2>Edit</h2>\n<blockquote>\n<p>Why subtypes are accepted for T parameter? I mean why we write  instead of &lt;? extends T&gt;. If I correctly understand the last statement is a boundary that defines allow to add subclasses.</p>\n</blockquote>\n<p>Well, when you define a class with a generic type parameter, like <code>Op&lt;T&gt;</code>, you are creating a class that can operate on different types.</p>\n<p>The type parameter <code>T</code> itself <strong>doesn't inherently carry any constraints</strong>. When you instantiate the class with a specific type argument, such as <code>Op&lt;A&gt;</code> or <code>Op&lt;B&gt;</code>, you are essentially telling Java to work with that particular type.</p>\n<p>In the context of your example, consider <code>Op&lt;A&gt; opA</code>. While the class definition doesn't include any wildcards or type bounds, the compiler knows that <code>opA</code> can only contain objects of type <code>A</code> or its subclasses, due to the way the <code>Op</code> class is defined and instantiated.</p>\n<p>If you used <code>Op&lt;? extends A&gt;</code>, it would indeed allow you to insert subclasses of <code>A</code> into the list, but <strong>it would also restrict other operations</strong> you might want to perform on <code>opA</code>. For example, you might not be able to add objects of type <code>A</code> itself to the list since the wildcard would be more permissive.</p>\n"}],"owner":{"account_id":29276905,"reputation":13,"user_id":22430463,"display_name":"UsiKakULisi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76955745,"answer_count":1,"score":1,"last_activity_date":1692790651,"creation_date":1692723256,"question_id":76955392,"body_markdown":"I have following code:\r\n\r\n```\r\nclass A {}\r\nclass Aa extendes A {}\r\nclass B {}\r\nclass Bb extendes B {}\r\nclass Op {\r\n private List objects = new ArrayList();\r\n \r\n public void addObj(Object o) {\r\n  objects.add(o);\r\n }\r\n}\r\n\r\npublic class Main {\r\n public static void main(String[] srgs) {\r\n  A a1 = new A();\r\n  Aa a2 = new Aa();\r\n  B b1 = new B();\r\n  Bb b2 = new Bb();\r\n\r\n  Op op = new Op();\r\n  op.addObj(a1); \\\\ should be OK\r\n  op.addObj(a2); \\\\ should be OK\r\n  op.addObj(b1); \\\\ should be compilation error\r\n }\r\n}\r\n```\r\nI need change &quot;Op&quot; class in order to B and Bd classes can&#39;t be placed in objects(List) if A and Aa have been already placed there and vice versa. Solution with generics.\r\n\r\nI try this:\r\n\r\n```\r\nclass Op &lt;T&gt; {\r\n private List&lt;? extends T&gt; objects = new ArrayList();\r\n\r\n public void addObj(T&lt;? extends T&gt; o) { //compilation error here \r\n  objects.add(o); // and here \r\n }\r\n}\r\n```\r\nBut it doens&#39;t work. May you help me please. Thanks!\r\n","title":"I have Op class that have a list which must contain only one typ of class or his subclasses(only A class,his subclass OR only class Band his subclass)","body":"<p>I have following code:</p>\n<pre><code>class A {}\nclass Aa extendes A {}\nclass B {}\nclass Bb extendes B {}\nclass Op {\n private List objects = new ArrayList();\n \n public void addObj(Object o) {\n  objects.add(o);\n }\n}\n\npublic class Main {\n public static void main(String[] srgs) {\n  A a1 = new A();\n  Aa a2 = new Aa();\n  B b1 = new B();\n  Bb b2 = new Bb();\n\n  Op op = new Op();\n  op.addObj(a1); \\\\ should be OK\n  op.addObj(a2); \\\\ should be OK\n  op.addObj(b1); \\\\ should be compilation error\n }\n}\n</code></pre>\n<p>I need change &quot;Op&quot; class in order to B and Bd classes can't be placed in objects(List) if A and Aa have been already placed there and vice versa. Solution with generics.</p>\n<p>I try this:</p>\n<pre><code>class Op &lt;T&gt; {\n private List&lt;? extends T&gt; objects = new ArrayList();\n\n public void addObj(T&lt;? extends T&gt; o) { //compilation error here \n  objects.add(o); // and here \n }\n}\n</code></pre>\n<p>But it doens't work. May you help me please. Thanks!</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1384725276,"post_id":20036485,"comment_id":29840197,"body_markdown":"Just a suggestion, instead of the `for loop` use the `for..each` syntax.  `for(WebElement element: elements)`","body":"Just a suggestion, instead of the <code>for loop</code> use the <code>for..each</code> syntax.  <code>for(WebElement element: elements)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384725467,"creation_date":1384724358,"answer_id":20036521,"question_id":20036485,"body_markdown":"You forgot to call `WebDriver#get` in order to access some page.\r\n\r\n    WebDriver driver = FirefoxDriver();   \r\n    driver.get(&quot;www.google.com&quot;);\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;)); ","title":"Get link text - Selenium, Java","body":"<p>You forgot to call <code>WebDriver#get</code> in order to access some page.</p>\n\n<pre><code>WebDriver driver = FirefoxDriver();   \ndriver.get(\"www.google.com\");\nList&lt;WebElement&gt; elements = driver.findElements(By.tagName(\"a\")); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2162536,"reputation":156,"user_id":1916388,"accept_rate":62,"display_name":"usr999"},"score":0,"creation_date":1384724432,"post_id":20036523,"comment_id":29839947,"body_markdown":"I did not, I simply forgot to write this part in this question.","body":"I did not, I simply forgot to write this part in this question."},{"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"score":1,"creation_date":1384724457,"post_id":20036523,"comment_id":29839954,"body_markdown":"So show us all the relevant code including the page you are testing","body":"So show us all the relevant code including the page you are testing"},{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1384724497,"post_id":20036523,"comment_id":29839969,"body_markdown":"@PetrMensik My answer is more detailed. J/K","body":"@PetrMensik My answer is more detailed. J/K"},{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1384724957,"post_id":20036523,"comment_id":29840107,"body_markdown":"@usr999 See updates regarding the `List&lt;WebElement&gt;`","body":"@usr999 See updates regarding the <code>List&lt;WebElement&gt;</code>"}],"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384724934,"creation_date":1384724376,"answer_id":20036523,"question_id":20036485,"body_markdown":"In the code provided no website is retrieved.  Try accessing a web page and then getting the `a` elements.  Also trying changing from `List&lt;WebDriver&gt;` to `List&lt;WebElement&gt;`\r\n\r\n       WebDriver driver = FirefoxDriver();\r\n       driver.get(&quot;http://www.google.com&quot;); \r\n       List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;)); \r\n\r\nSee this example: http://www.seleniumhq.org/docs/03_webdriver.jsp#introducing-the-selenium-webdriver-api-by-example\r\n\r\nThe following example works for me:\r\n\r\n     public class SeleniumTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tWebDriver driver = new FirefoxDriver();\r\n    \r\n    \t\t// And now use this to visit Google\r\n    \t\tdriver.get(&quot;http://www.google.com&quot;);\r\n    \t\tList&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \r\n    \t\tfor (WebElement element : elements) {\r\n    \t\t\tSystem.out.println(element.getText());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Get link text - Selenium, Java","body":"<p>In the code provided no website is retrieved.  Try accessing a web page and then getting the <code>a</code> elements.  Also trying changing from <code>List&lt;WebDriver&gt;</code> to <code>List&lt;WebElement&gt;</code></p>\n\n<pre><code>   WebDriver driver = FirefoxDriver();\n   driver.get(\"http://www.google.com\"); \n   List&lt;WebElement&gt; elements = driver.findElements(By.tagName(\"a\")); \n</code></pre>\n\n<p>See this example: <a href=\"http://www.seleniumhq.org/docs/03_webdriver.jsp#introducing-the-selenium-webdriver-api-by-example\" rel=\"nofollow\">http://www.seleniumhq.org/docs/03_webdriver.jsp#introducing-the-selenium-webdriver-api-by-example</a></p>\n\n<p>The following example works for me:</p>\n\n<pre><code> public class SeleniumTest {\n\n    public static void main(String[] args) {\n        WebDriver driver = new FirefoxDriver();\n\n        // And now use this to visit Google\n        driver.get(\"http://www.google.com\");\n        List&lt;WebElement&gt; elements = driver.findElements(By.tagName(\"a\"));\n\n        for (WebElement element : elements) {\n            System.out.println(element.getText());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24063515,"reputation":3,"user_id":18040408,"display_name":"Harshaaaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692790632,"creation_date":1692790632,"answer_id":76960989,"question_id":20036485,"body_markdown":"I was facing same issue but now it resolved If you want to fetch all the links from the webpage you need to use List class and than use webelement \r\n\r\n\t     List&lt;WebElement&gt; allLinks = driver.findElements(By.tagName(&quot;a&quot;));\r\n\t\t      \t\t      int linkcount=allLinks.size();\r\n\t\t      \t\t      System.out.println(&quot;All Links :&quot; +linkcount);\r\n\t\t      \t\t \r\n\t\t      \t\t      for(int j=0 ;j&lt;linkcount;j++)\r\n\t\t      \t\t       {\r\n\t\t      \t\t    \tString ele= driver.findElements(By.tagName(&quot;a&quot;)).get(j).getText();\r\n\t\t      \t\t    \t \r\n\t\t      \t\t    \tSystem.out.println(ele);\r\n\t\t            \t\r\n\t\t \t\t                  \r\n\t\t      \t\t       }","title":"Get link text - Selenium, Java","body":"<p>I was facing same issue but now it resolved If you want to fetch all the links from the webpage you need to use List class and than use webelement</p>\n<pre><code>     List&lt;WebElement&gt; allLinks = driver.findElements(By.tagName(&quot;a&quot;));\n                      int linkcount=allLinks.size();\n                      System.out.println(&quot;All Links :&quot; +linkcount);\n                 \n                      for(int j=0 ;j&lt;linkcount;j++)\n                       {\n                        String ele= driver.findElements(By.tagName(&quot;a&quot;)).get(j).getText();\n                         \n                        System.out.println(ele);\n                    \n                              \n                       }\n</code></pre>\n"}],"owner":{"account_id":2162536,"reputation":156,"user_id":1916388,"accept_rate":62,"display_name":"usr999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13387,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692790632,"creation_date":1384724214,"question_id":20036485,"body_markdown":"I&#39;m trying to get all links from a web page. I tried to use\r\n\r\n    WebDriver driver = FirefoxDriver();\r\n    List&lt;WebDriver&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n\r\nBut I get zero links. How can I fix this?\r\n\r\nI need to get the part from &amp;lt;a href=&quot;url&quot;&gt;. I need the URL text.\r\n\r\n&lt;hr/&gt;\r\n\r\nI think found what I was looking for:\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Get link text - Selenium, Java","body":"<p>I'm trying to get all links from a web page. I tried to use</p>\n<pre><code>WebDriver driver = FirefoxDriver();\nList&lt;WebDriver&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\n</code></pre>\n<p>But I get zero links. How can I fix this?</p>\n<p>I need to get the part from &lt;a href=&quot;url&quot;&gt;. I need the URL text.</p>\n<hr/>\n<p>I think found what I was looking for:</p>\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","audit"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1692875088,"post_id":76960933,"comment_id":135684681,"body_markdown":"take a look here, maybe this will help: https://stackoverflow.com/questions/67475112/lastmodifieddate-doesnt-work-when-only-nested-nested-object-is-updated","body":"take a look here, maybe this will help: <a href=\"https://stackoverflow.com/questions/67475112/lastmodifieddate-doesnt-work-when-only-nested-nested-object-is-updated\" title=\"lastmodifieddate doesnt work when only nested nested object is updated\">stackoverflow.com/questions/67475112/&hellip;</a>"}],"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692790223,"creation_date":1692790223,"question_id":76960933,"body_markdown":"I&#39;m using Spring AuditingEntityListener to collect audit information on my entities. \r\n\r\nI&#39;m looking for a way to collect the last change-date (and user) of a set of related entities. \r\n\r\nFor example, when having three entities like this:\r\n\r\n```\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class EntityA {\r\n\r\n    private long id;\r\n    \r\n    @LastModifiedDate\r\n    private Date lastModifiedDate;\r\n\r\n    @OneToMany(mappedBy = &quot;entityAId&quot;)\r\n    private List&lt;EntityB&gt; bS;\r\n}\r\n\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class EntityB {\r\n\r\n    private long id;\r\n\r\n    private long entityAId;\r\n    \r\n    @LastModifiedDate private Date lastModifiedDate;\r\n\r\n    @OneToMany(mappedBy = &quot;entityBId&quot;)\r\n    private List&lt;EntityC&gt; cS;\r\n}\r\n\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class EntityC {\r\n\r\n    private long id;\r\n\r\n    private long entityBId;\r\n    \r\n    @LastModifiedDate private Date lastModifiedDate;\r\n}\r\n```\r\n\r\nWhat&#39;s the best way to get the latest lastModifiedDate from all three Entities?","title":"Spring Auditing: Getting latest last_modified_date from all related entities","body":"<p>I'm using Spring AuditingEntityListener to collect audit information on my entities.</p>\n<p>I'm looking for a way to collect the last change-date (and user) of a set of related entities.</p>\n<p>For example, when having three entities like this:</p>\n<pre><code>@EntityListeners(AuditingEntityListener.class)\npublic class EntityA {\n\n    private long id;\n    \n    @LastModifiedDate\n    private Date lastModifiedDate;\n\n    @OneToMany(mappedBy = &quot;entityAId&quot;)\n    private List&lt;EntityB&gt; bS;\n}\n\n@EntityListeners(AuditingEntityListener.class)\npublic class EntityB {\n\n    private long id;\n\n    private long entityAId;\n    \n    @LastModifiedDate private Date lastModifiedDate;\n\n    @OneToMany(mappedBy = &quot;entityBId&quot;)\n    private List&lt;EntityC&gt; cS;\n}\n\n@EntityListeners(AuditingEntityListener.class)\npublic class EntityC {\n\n    private long id;\n\n    private long entityBId;\n    \n    @LastModifiedDate private Date lastModifiedDate;\n}\n</code></pre>\n<p>What's the best way to get the latest lastModifiedDate from all three Entities?</p>\n"},{"tags":["java","spring","hibernate","timezone","localdatetime"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673520439,"post_id":75094935,"comment_id":132519801,"body_markdown":"what hbn version are you on?","body":"what hbn version are you on?"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1673520484,"post_id":75094935,"comment_id":132519814,"body_markdown":"@AndreyB.Panfilov 5.6.11","body":"@AndreyB.Panfilov 5.6.11"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673542728,"post_id":75094935,"comment_id":132527954,"body_markdown":"@BasilBourque keep it easy, not every Q about date/time requires answer from you. This one, in particular, relates to hibernate functionality, and, yes, db engine, column types, drivers, etc - all of them are irrelevant.","body":"@BasilBourque keep it easy, not every Q about date/time requires answer from you. This one, in particular, relates to hibernate functionality, and, yes, db engine, column types, drivers, etc - all of them are irrelevant."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673572293,"post_id":75094935,"comment_id":132535356,"body_markdown":"@AndreyB.Panfilov I would like to comment on [another Question](https://stackoverflow.com/q/75103200/642706) but apparently I need your permission first. May I?","body":"@AndreyB.Panfilov I would like to comment on <a href=\"https://stackoverflow.com/q/75103200/642706\">another Question</a> but apparently I need your permission first. May I?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673572818,"post_id":75094935,"comment_id":132535435,"body_markdown":"@BasilBourque you already had said [you cannot speak to JPA as you do not use it](https://stackoverflow.com/questions/70522389/jpa-instant-zoneddatetime-database-mapping#comment124664490_70523028), so, I do not see any reason to continue discussion.","body":"@BasilBourque you already had said <a href=\"https://stackoverflow.com/questions/70522389/jpa-instant-zoneddatetime-database-mapping#comment124664490_70523028\">you cannot speak to JPA as you do not use it</a>, so, I do not see any reason to continue discussion."}],"answers":[{"tags":[],"owner":{"account_id":27431373,"reputation":21,"user_id":20928015,"display_name":"Ravi Teja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673521785,"creation_date":1673521785,"answer_id":75095416,"question_id":75094935,"body_markdown":"we can also set it up` per-session basis:\r\n\r\n    session = HibernateUtil.getSessionFactory().withOptions()\r\n      .jdbcTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;))\r\n      .openSession();","title":"Hibernate retrieve timestamps in UTC","body":"<p>we can also set it up` per-session basis:</p>\n<pre><code>session = HibernateUtil.getSessionFactory().withOptions()\n  .jdbcTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;))\n  .openSession();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25770182,"reputation":29,"user_id":19519118,"display_name":"surendra ingle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673530930,"creation_date":1673526330,"answer_id":75096307,"question_id":75094935,"body_markdown":"My database timezone was in UTC and in my application timezone  I solved this problem by having both the Entity and the table have a date in UTC so that there will need to be no conversion between them. Then I did the conversions between timestamps in code in the getters and setters. Then I think you do it manually.\r\n\r\n**Setter and getter for that field**:\r\n\r\n    public void setCreatedDate(LocalDateTime createdAt)\r\n    {         \r\n        this.createdAt = createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\r\n    }\r\n    \r\n    public LocalDateTime getCreatedDate()\r\n    {         \r\n        return createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\r\n    }","title":"Hibernate retrieve timestamps in UTC","body":"<p>My database timezone was in UTC and in my application timezone  I solved this problem by having both the Entity and the table have a date in UTC so that there will need to be no conversion between them. Then I did the conversions between timestamps in code in the getters and setters. Then I think you do it manually.</p>\n<p><strong>Setter and getter for that field</strong>:</p>\n<pre><code>public void setCreatedDate(LocalDateTime createdAt)\n{         \n    this.createdAt = createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\n}\n\npublic LocalDateTime getCreatedDate()\n{         \n    return createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1673595720,"post_id":75104210,"comment_id":132538779,"body_markdown":"OK. If I understood correctly, hibernate.jdbc.time_zone is for saving only and its primary use is for when application and database use different time zones. Thank you for your answer.","body":"OK. If I understood correctly, hibernate.jdbc.time_zone is for saving only and its primary use is for when application and database use different time zones. Thank you for your answer."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673595781,"creation_date":1673575903,"answer_id":75104210,"question_id":75094935,"body_markdown":"First of all, if we are talking about **Hibernate 5** (5.2.3 - 5.6.x if to be precise) the purpose of `hibernate.jdbc.time_zone` setting is not to give the ability for application developer to implement some kind of sophisticated date/time logic, but to synchronize persistence provider with underlying database, that is clearly stated in the [corresponding CR](https://hibernate.atlassian.net/browse/HHH-10399):\r\n\r\n&gt; Currently my database has implicit date times in UTC. No zoned data is appended to the end of the string (e.g. &quot;2013-10-14 04:00:00&quot;).\r\nWhen Hibernate reads this as a ZonedDateTime, it incorrectly reads it in as EST, as that is the TimeZone of the JVM.\r\nIt would be nice to be able to specify the TimeZone of a field by an annotation perhaps.\r\n\r\nbasically: you definitely need to set up `hibernate.jdbc.time_zone` if (**mine**: and only if) SQL statement like `SELECT SYSDATE FROM DUAL` (`SELECT LOCALTIMESTAMP` for PostgreSQL, etc) returns something, what you do not expect, in that case Hibernate will start adjusting non-timezone-aware JDBC data to something more or less reliable for application - that is exactly what you are observing (*when I retrieve timestamps, they are transformed into default timezone*)\r\n\r\nAt second, any speculations around JSR-310 and JDBC 4.2 (like for timezone-aware java types you need to define DB columns as `timestamp with time zone`), are not correct in case of **Hibernate 5**, that is mentioned in the [corresponding CR](https://hibernate.atlassian.net/browse/HHH-10399) as well:\r\n\r\n&gt; The whole idea of &quot;stored TZ&quot; really depends on how the database/driver treats TIMESTAMP and whether it supports a &quot;TIMESTAMP_WITH_TIMEZONE&quot; type.  I personally think it is a huge mistake to save the specific TZ differences to the DB, so I would personally continue to not support TIMESTAMP_WITH_TIMEZONE types.  This would mean we never have to bind the Calendar because we could simply convert the value to to the JVM/JDBC TZ ourselves.  Specifically I would suggest that we (continue to) assume that the driver has been set up such that the same TZ is used when ...\r\n\r\nAnd indeed, if you try to find usage of `java.sql.Types#TIMESTAMP_WITH_TIMEZONE` in **Hibernate 5** sources you will find nothing, just because that time Hibernate developers didn&#39;t get a common opinion about how timezone conversions should work in cases of different Java versions, Java types, DB engines and JDBC drivers (they are developing the most popular (**mine**: the only one) JPA implementation, that is definitely not the same as develop microservice), however, there are a lot of related changes in **Hibernate 6** (check [TimeZoneStorageType](https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/annotations/TimeZoneStorageType.java) for example). In **Hibernate 5** all timezone conversion logic passes through [TimestampTypeDescriptor](https://github.com/hibernate/hibernate-orm/blob/49fbe84dde773de84ea704bb10193c4c581d34b8/hibernate-core/src/main/java/org/hibernate/type/descriptor/sql/TimestampTypeDescriptor.java#L81):\r\n\r\n```java\r\n@Override\r\nprotected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\r\n  return options.getJdbcTimeZone() != null ?\r\n   javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance( options.getJdbcTimeZone() ) ), options ) :\r\n   javaTypeDescriptor.wrap( rs.getTimestamp( name ), options );\r\n}\r\n```\r\n\r\nand as you can see, **Hibernate 5** just gives a hint to JDBC driver, how the last should process `#getTimestamp` call:\r\n\r\n&gt; Retrieves the value of a JDBC TIMESTAMP parameter as a java.sql.Timestamp object, using the given Calendar object to construct the Timestamp object. With a Calendar object, the driver can calculate the timestamp taking into account a custom timezone and locale. If no Calendar object is specified, the driver uses the default timezone and locale.\r\n\r\n\r\nin regard to your case:\r\n\r\nyou either need to use timezone-aware java types (`ZonedDateTime`/`OffsetDateTime`, or even `Instant`) or code your own Hibernate type, which will handle timezone conversions - that is not so hard as it might seem.","title":"Hibernate retrieve timestamps in UTC","body":"<p>First of all, if we are talking about <strong>Hibernate 5</strong> (5.2.3 - 5.6.x if to be precise) the purpose of <code>hibernate.jdbc.time_zone</code> setting is not to give the ability for application developer to implement some kind of sophisticated date/time logic, but to synchronize persistence provider with underlying database, that is clearly stated in the <a href=\"https://hibernate.atlassian.net/browse/HHH-10399\" rel=\"nofollow noreferrer\">corresponding CR</a>:</p>\n<blockquote>\n<p>Currently my database has implicit date times in UTC. No zoned data is appended to the end of the string (e.g. &quot;2013-10-14 04:00:00&quot;).\nWhen Hibernate reads this as a ZonedDateTime, it incorrectly reads it in as EST, as that is the TimeZone of the JVM.\nIt would be nice to be able to specify the TimeZone of a field by an annotation perhaps.</p>\n</blockquote>\n<p>basically: you definitely need to set up <code>hibernate.jdbc.time_zone</code> if (<strong>mine</strong>: and only if) SQL statement like <code>SELECT SYSDATE FROM DUAL</code> (<code>SELECT LOCALTIMESTAMP</code> for PostgreSQL, etc) returns something, what you do not expect, in that case Hibernate will start adjusting non-timezone-aware JDBC data to something more or less reliable for application - that is exactly what you are observing (<em>when I retrieve timestamps, they are transformed into default timezone</em>)</p>\n<p>At second, any speculations around JSR-310 and JDBC 4.2 (like for timezone-aware java types you need to define DB columns as <code>timestamp with time zone</code>), are not correct in case of <strong>Hibernate 5</strong>, that is mentioned in the <a href=\"https://hibernate.atlassian.net/browse/HHH-10399\" rel=\"nofollow noreferrer\">corresponding CR</a> as well:</p>\n<blockquote>\n<p>The whole idea of &quot;stored TZ&quot; really depends on how the database/driver treats TIMESTAMP and whether it supports a &quot;TIMESTAMP_WITH_TIMEZONE&quot; type.  I personally think it is a huge mistake to save the specific TZ differences to the DB, so I would personally continue to not support TIMESTAMP_WITH_TIMEZONE types.  This would mean we never have to bind the Calendar because we could simply convert the value to to the JVM/JDBC TZ ourselves.  Specifically I would suggest that we (continue to) assume that the driver has been set up such that the same TZ is used when ...</p>\n</blockquote>\n<p>And indeed, if you try to find usage of <code>java.sql.Types#TIMESTAMP_WITH_TIMEZONE</code> in <strong>Hibernate 5</strong> sources you will find nothing, just because that time Hibernate developers didn't get a common opinion about how timezone conversions should work in cases of different Java versions, Java types, DB engines and JDBC drivers (they are developing the most popular (<strong>mine</strong>: the only one) JPA implementation, that is definitely not the same as develop microservice), however, there are a lot of related changes in <strong>Hibernate 6</strong> (check <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/annotations/TimeZoneStorageType.java\" rel=\"nofollow noreferrer\">TimeZoneStorageType</a> for example). In <strong>Hibernate 5</strong> all timezone conversion logic passes through <a href=\"https://github.com/hibernate/hibernate-orm/blob/49fbe84dde773de84ea704bb10193c4c581d34b8/hibernate-core/src/main/java/org/hibernate/type/descriptor/sql/TimestampTypeDescriptor.java#L81\" rel=\"nofollow noreferrer\">TimestampTypeDescriptor</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\n  return options.getJdbcTimeZone() != null ?\n   javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance( options.getJdbcTimeZone() ) ), options ) :\n   javaTypeDescriptor.wrap( rs.getTimestamp( name ), options );\n}\n</code></pre>\n<p>and as you can see, <strong>Hibernate 5</strong> just gives a hint to JDBC driver, how the last should process <code>#getTimestamp</code> call:</p>\n<blockquote>\n<p>Retrieves the value of a JDBC TIMESTAMP parameter as a java.sql.Timestamp object, using the given Calendar object to construct the Timestamp object. With a Calendar object, the driver can calculate the timestamp taking into account a custom timezone and locale. If no Calendar object is specified, the driver uses the default timezone and locale.</p>\n</blockquote>\n<p>in regard to your case:</p>\n<p>you either need to use timezone-aware java types (<code>ZonedDateTime</code>/<code>OffsetDateTime</code>, or even <code>Instant</code>) or code your own Hibernate type, which will handle timezone conversions - that is not so hard as it might seem.</p>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1692789408,"post_id":75120178,"comment_id":135671339,"body_markdown":"No, In Hibernate 6, I believe the correct thing is simply to use `Instant`. See [my answer](https://stackoverflow.com/a/76960782/1504556).","body":"No, In Hibernate 6, I believe the correct thing is simply to use <code>Instant</code>. See <a href=\"https://stackoverflow.com/a/76960782/1504556\">my answer</a>."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673719458,"creation_date":1673719458,"answer_id":75120178,"question_id":75094935,"body_markdown":"As alluded to be Andrey in his answer, in Hibernate 6 the way to normalize dates/times to UTC is to use the `java.time` types `OffsetDateTime` or `ZonedDateTime`, and either:\r\n\r\n- annotate the field `@TimeZoneStorage(NORMALIZE_UTC)`, or\r\n- set the property `hibernate.timezone.default_storage=NORMALIZE_UTC`.\r\n\r\nI&#39;m not very certain what you mean about using `LocalDateTime` here. What would it even mean to normalize a local datetime to UTC? That statement just doesn&#39;t really make sense: you can&#39;t move a local datetime to a new time zone because it doesn&#39;t have an associated time zone to begin with.\r\n\r\nI *think* what you mean is that your &quot;local&quot; date times are actually zoned datetimes _in the current JVM time zone_. But if that&#39;s the case, it&#39;s very easy to use `localDateTime.atZone(ZoneId.systemDefault())` to represent that situation correctly.","title":"Hibernate retrieve timestamps in UTC","body":"<p>As alluded to be Andrey in his answer, in Hibernate 6 the way to normalize dates/times to UTC is to use the <code>java.time</code> types <code>OffsetDateTime</code> or <code>ZonedDateTime</code>, and either:</p>\n<ul>\n<li>annotate the field <code>@TimeZoneStorage(NORMALIZE_UTC)</code>, or</li>\n<li>set the property <code>hibernate.timezone.default_storage=NORMALIZE_UTC</code>.</li>\n</ul>\n<p>I'm not very certain what you mean about using <code>LocalDateTime</code> here. What would it even mean to normalize a local datetime to UTC? That statement just doesn't really make sense: you can't move a local datetime to a new time zone because it doesn't have an associated time zone to begin with.</p>\n<p>I <em>think</em> what you mean is that your &quot;local&quot; date times are actually zoned datetimes <em>in the current JVM time zone</em>. But if that's the case, it's very easy to use <code>localDateTime.atZone(ZoneId.systemDefault())</code> to represent that situation correctly.</p>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692789379,"creation_date":1692788988,"answer_id":76960782,"question_id":75094935,"body_markdown":"Just use `Instant`  (Hibernate understands this).\r\nIt is as simple as this in your entity class:\r\n\r\n```java\r\n@Column(name=&quot;time_when_something_happened&quot;, columnDefinition=&quot;TIMESTAMP&quot;)\r\nprivate Instant timeWhenSomethingHappened;\r\n```\r\n\r\nThat&#39;s all. No need to set the `spring.jpa.properties.hibernate.jdbc.time_zone=UTC` property as Hibernate knows it is implied since you are using `Instant`.\r\n\r\nTested with Hibernate 6.2, Spring Boot 3.1 and PostgreSQL 11.\r\n\r\nHere is why you should (presumably) be using `Instant`:  For most applications the requirement is to record the timestamp of something which has happened. Note: past tense. So that would be the `Instant` type in Java, not `LocalDateTime` or `OffsetDateTime`.\r\n\r\nYour application in presumably something backend related?. And persistence is an implementation detail seen from the point of view of your end-users. In other words: Using for example `OffsetDateTime` really makes no sense as there is no point in carrying around such information as an offset. Just defer the decision on how you want to _present_ the timestamp value until you are actually faced with a human user, as in a UI. Bottom line: it is `Instant` you want in your persistence layer!  (*)\r\n\r\n\r\n*) Perhaps a few words on why you see so many SO and Blog answers directing you towards using java type `LocalDateTime` or `OffsetDateTime` when real need is indeed to record the time when something happened: it is because the JPA standard (until lately) did not mention `Instant`. For a long time using `Instant` without further ado like I advise has been possible but it has been a Hibernate specialty. The issue (I would call it an omission) was logged in the JPA Spec [back in 2017](https://github.com/jakartaee/persistence/issues/163) but is only now, Aug 2023, [seeing some action](https://github.com/jakartaee/persistence/commit/694f93964a31c7946e49e30c91635e34a77c38b9). So indeed it will be part of the JPA spec going forward, perhaps in v3.2. With this in mind I definitely think you should be using `Instant` : it is simple, and it conveys intent.\r\n\r\n","title":"Hibernate retrieve timestamps in UTC","body":"<p>Just use <code>Instant</code>  (Hibernate understands this).\nIt is as simple as this in your entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name=&quot;time_when_something_happened&quot;, columnDefinition=&quot;TIMESTAMP&quot;)\nprivate Instant timeWhenSomethingHappened;\n</code></pre>\n<p>That's all. No need to set the <code>spring.jpa.properties.hibernate.jdbc.time_zone=UTC</code> property as Hibernate knows it is implied since you are using <code>Instant</code>.</p>\n<p>Tested with Hibernate 6.2, Spring Boot 3.1 and PostgreSQL 11.</p>\n<p>Here is why you should (presumably) be using <code>Instant</code>:  For most applications the requirement is to record the timestamp of something which has happened. Note: past tense. So that would be the <code>Instant</code> type in Java, not <code>LocalDateTime</code> or <code>OffsetDateTime</code>.</p>\n<p>Your application in presumably something backend related?. And persistence is an implementation detail seen from the point of view of your end-users. In other words: Using for example <code>OffsetDateTime</code> really makes no sense as there is no point in carrying around such information as an offset. Just defer the decision on how you want to <em>present</em> the timestamp value until you are actually faced with a human user, as in a UI. Bottom line: it is <code>Instant</code> you want in your persistence layer!  (*)</p>\n<p>*) Perhaps a few words on why you see so many SO and Blog answers directing you towards using java type <code>LocalDateTime</code> or <code>OffsetDateTime</code> when real need is indeed to record the time when something happened: it is because the JPA standard (until lately) did not mention <code>Instant</code>. For a long time using <code>Instant</code> without further ado like I advise has been possible but it has been a Hibernate specialty. The issue (I would call it an omission) was logged in the JPA Spec <a href=\"https://github.com/jakartaee/persistence/issues/163\" rel=\"nofollow noreferrer\">back in 2017</a> but is only now, Aug 2023, <a href=\"https://github.com/jakartaee/persistence/commit/694f93964a31c7946e49e30c91635e34a77c38b9\" rel=\"nofollow noreferrer\">seeing some action</a>. So indeed it will be part of the JPA spec going forward, perhaps in v3.2. With this in mind I definitely think you should be using <code>Instant</code> : it is simple, and it conveys intent.</p>\n"}],"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75104210,"answer_count":5,"score":0,"last_activity_date":1692789379,"creation_date":1673519655,"question_id":75094935,"body_markdown":"I am using hibernate + spring and want to store/load timestamps in UTC. I&#39;ve read that I should add a property, so I added this to my application.properties\r\n\r\n\r\n    spring.jpa.properties[hibernate.jdbc.time_zone]=UTC\r\n\r\nThis worked for one part of the problem - now dates are saved in utc in the database. But when I retrieve timestamps, they are transformed into default timezone. How can I fix this without setting default time zone to UTC?\r\nThe property of the entity has type `LocalDateTime`.\r\nI ran the code, and noticed that the proper result set method is used during get(the one that accepts calendar) with instance that has zone info storing UTC. But after setting calendar&#39;s values to the one retrieved from the database, the calendar is transformed into Timestamp with this code \r\n\r\n    Timestamp ts = new Timestamp(c.getTimeInMillis());\r\nIn debug mode, I see that ts stores cdate field with value of timestamp in default time zone(not UTC).\r\n","title":"Hibernate retrieve timestamps in UTC","body":"<p>I am using hibernate + spring and want to store/load timestamps in UTC. I've read that I should add a property, so I added this to my application.properties</p>\n<pre><code>spring.jpa.properties[hibernate.jdbc.time_zone]=UTC\n</code></pre>\n<p>This worked for one part of the problem - now dates are saved in utc in the database. But when I retrieve timestamps, they are transformed into default timezone. How can I fix this without setting default time zone to UTC?\nThe property of the entity has type <code>LocalDateTime</code>.\nI ran the code, and noticed that the proper result set method is used during get(the one that accepts calendar) with instance that has zone info storing UTC. But after setting calendar's values to the one retrieved from the database, the calendar is transformed into Timestamp with this code</p>\n<pre><code>Timestamp ts = new Timestamp(c.getTimeInMillis());\n</code></pre>\n<p>In debug mode, I see that ts stores cdate field with value of timestamp in default time zone(not UTC).</p>\n"},{"tags":["java","spring-boot","exception","resttemplate"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692789089,"creation_date":1692789089,"question_id":76960799,"body_markdown":"I can&#39;t get my `RestTemplate` to throw all the exceptions it encounter on its way down the controller&#39;s endpoint. To make my thought more clear, I&#39;ll provide an example.\r\n\r\nSimple endpoint `PATCH /api/entity/{entity_id}` which requires a body in form of JSON. Let&#39;s suppose that the entity that is being patched (of `{entity_id}` id) is not changed after client&#39;s call because the provided JSON body is the same as the actual, persisted entity.\r\n\r\nIn that case, in my service class, I throw an `ObjectsAreEqualException` with `200 OK` HTTP code and some message:\r\n\r\n```\r\npublic EntityResponse update(Long entityId, EntityUpdateRequest updateRequest) {\r\n    Entity toUpdate = entityRepository.findById(entityId).get();\r\n    // some constraint checks\r\n    if(anythingToUpdate(entityToUpdate, updateRequest)) {\r\n        throw new ObjectsAreEqualException();\r\n    }\r\n    // more constraint checks\r\n\r\n    // logic and return\r\n}\r\n```\r\n**My main question is: how to tell RestTemplate to perceive each thrown (by me) exception as actual exception / (error)?** Not only the 4xx and 5xx exceptions, but also the ones of other codes, for instance `200 OK`.\r\n\r\nFor interested, my thoughts and solutions that did not work are below.\r\n\r\n===\r\n\r\nIf `ObjectsAreEqualException` would be to have a 4xx or 5xx status codes, then I&#39;ve got no problem. However, I&#39;m stubborn and want to stay with `200 OK`.\r\n\r\nI know that the `DefaultResponseErrorHandler` that `RestTemplate` uses has a method `hasError` which returns true, when the exception&#39;s status code is 4xx or 5xx.\r\n\r\nI map errors to `ApiError` (custom) class (which is same as Spring&#39;s default error JSON), thus I thought to maybe use `ObjectMapper` on response body and if mapping were to be successful, then that&#39;d mean there was an exception thrown.\r\n\r\nHowever, I can&#39;t use `getResponseBody(ClientHttpResponse)` in `hasError` (but I can perfectly use it in `handleError`, which is a mystery to me right now) as it throws stream closed exception.","title":"How to make RestTemplate throw all custom exceptions, also the ones of 2xx codes","body":"<p>I can't get my <code>RestTemplate</code> to throw all the exceptions it encounter on its way down the controller's endpoint. To make my thought more clear, I'll provide an example.</p>\n<p>Simple endpoint <code>PATCH /api/entity/{entity_id}</code> which requires a body in form of JSON. Let's suppose that the entity that is being patched (of <code>{entity_id}</code> id) is not changed after client's call because the provided JSON body is the same as the actual, persisted entity.</p>\n<p>In that case, in my service class, I throw an <code>ObjectsAreEqualException</code> with <code>200 OK</code> HTTP code and some message:</p>\n<pre><code>public EntityResponse update(Long entityId, EntityUpdateRequest updateRequest) {\n    Entity toUpdate = entityRepository.findById(entityId).get();\n    // some constraint checks\n    if(anythingToUpdate(entityToUpdate, updateRequest)) {\n        throw new ObjectsAreEqualException();\n    }\n    // more constraint checks\n\n    // logic and return\n}\n</code></pre>\n<p><strong>My main question is: how to tell RestTemplate to perceive each thrown (by me) exception as actual exception / (error)?</strong> Not only the 4xx and 5xx exceptions, but also the ones of other codes, for instance <code>200 OK</code>.</p>\n<p>For interested, my thoughts and solutions that did not work are below.</p>\n<p>===</p>\n<p>If <code>ObjectsAreEqualException</code> would be to have a 4xx or 5xx status codes, then I've got no problem. However, I'm stubborn and want to stay with <code>200 OK</code>.</p>\n<p>I know that the <code>DefaultResponseErrorHandler</code> that <code>RestTemplate</code> uses has a method <code>hasError</code> which returns true, when the exception's status code is 4xx or 5xx.</p>\n<p>I map errors to <code>ApiError</code> (custom) class (which is same as Spring's default error JSON), thus I thought to maybe use <code>ObjectMapper</code> on response body and if mapping were to be successful, then that'd mean there was an exception thrown.</p>\n<p>However, I can't use <code>getResponseBody(ClientHttpResponse)</code> in <code>hasError</code> (but I can perfectly use it in <code>handleError</code>, which is a mystery to me right now) as it throws stream closed exception.</p>\n"},{"tags":["java","hazelcast","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":18794076,"reputation":31,"user_id":13705945,"display_name":"Jaspal Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592059902,"creation_date":1592037007,"answer_id":62357325,"question_id":62265785,"body_markdown":"We are able to reproduce the issue. \r\n\r\nWe are maintaining second level cache. Because we are keeping data of cache1 keys in second level cache during processing, this issue is not occurring every time. \r\nWe just cleared the second level cache before every cache2.get(key) for reproducing issue.\r\n\r\nIf no data found for key in cache2 hazelcast map, then system will call load method of MapLoader. Here partition thread comes into picture and operation is write through operation. \r\n\r\nIn load method of Cache2 MapLoader, we are trying to access data from cache-1 having different key type. As key type of Cache-1 and Cache-2 different, partition mismatch occurs and this results in &quot;cannot make remote call&quot; exception.\r\n\r\n**Question:**\r\nIs there any way to achieve this if this is really required?\r\n\r\n*Solution-1:* We used IExecutorService in load method of Cache2 MapLoader to access the value from Cache1. This is working fine. But this may increase data loading time as extra thread involved.\r\n\r\n*Solution-2:* Set backup count for Cache1 = Number of Nodes -1. This way,we have copy of map on each node. This exception never occur as there are very less changes of any change in Cache1 at runtime time (once a week). Number of records also not more than 1000.\r\n\r\n***Is there any other way to achieve this?***","title":"Hazelcast : cannot make remote call: com.hazelcast.map.impl.operation.GetOperation","body":"<p>We are able to reproduce the issue. </p>\n\n<p>We are maintaining second level cache. Because we are keeping data of cache1 keys in second level cache during processing, this issue is not occurring every time. \nWe just cleared the second level cache before every cache2.get(key) for reproducing issue.</p>\n\n<p>If no data found for key in cache2 hazelcast map, then system will call load method of MapLoader. Here partition thread comes into picture and operation is write through operation. </p>\n\n<p>In load method of Cache2 MapLoader, we are trying to access data from cache-1 having different key type. As key type of Cache-1 and Cache-2 different, partition mismatch occurs and this results in \"cannot make remote call\" exception.</p>\n\n<p><strong>Question:</strong>\nIs there any way to achieve this if this is really required?</p>\n\n<p><em>Solution-1:</em> We used IExecutorService in load method of Cache2 MapLoader to access the value from Cache1. This is working fine. But this may increase data loading time as extra thread involved.</p>\n\n<p><em>Solution-2:</em> Set backup count for Cache1 = Number of Nodes -1. This way,we have copy of map on each node. This exception never occur as there are very less changes of any change in Cache1 at runtime time (once a week). Number of records also not more than 1000.</p>\n\n<p><strong><em>Is there any other way to achieve this?</em></strong></p>\n"},{"tags":[],"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692789024,"creation_date":1692789024,"answer_id":76960788,"question_id":62265785,"body_markdown":"There is a bug in Hazelcast which may throw this exception in some cases https://github.com/hazelcast/hazelcast/issues/24712","title":"Hazelcast : cannot make remote call: com.hazelcast.map.impl.operation.GetOperation","body":"<p>There is a bug in Hazelcast which may throw this exception in some cases <a href=\"https://github.com/hazelcast/hazelcast/issues/24712\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/24712</a></p>\n"}],"owner":{"account_id":18794076,"reputation":31,"user_id":13705945,"display_name":"Jaspal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692789024,"creation_date":1591630636,"question_id":62265785,"body_markdown":"We are using Hazelcast 3.10.4 in our project. The second level caching is also enabled.\r\nSometimes, we are getting an exception mentioned below with 3 Hazelcast nodes : 2 Nodes on same machine and 1 on different machine. But network is same. \r\nException occurs on one of the 2 nodes. Not on the node running on another machine.\r\n\r\nWe are getting this, when we start the servers and then do some operation.\r\n\r\n***Case:***\r\nConsider Cache-1 and Cache-2 both distributed hazelcast caches ( hazelcast IMap). \r\nCache-1 is initialized fully at server start up. Once the servers are up and running, Cache-1 is used only for getting data - no update, no reloading happens. Cache-1 contains all the data required for processing. Say, Cache-1 contains all system configuration defined at different levels which user is not going to change once the system is up. This cache is distributed across 3 nodes. \r\n\r\nCache-2 is initialized partially at server start up. Once the servers are up and running, system is modifying Cache-2 : deleting data from cache, modifying data in cache, *loading data for a source if not present in cache based on some configurations which exists in Cache-1* (partially on demand loading). \r\n\r\n***Please note:*** Same check happens when loading data in Cache-2 during server start up. But no failure at server start up. \r\n\r\nWe are getting below exception when system tries to retrieve the value from Cache-1:\r\n\r\n    java.lang.IllegalThreadStateException: Thread[hz._hzInstance_1_tpt-val-js-master.partition-operation.thread-1,5,main] cannot make remote call: com.hazelcast.map.impl.operation.GetOperation{serviceName=&#39;hz:impl:mapService&#39;, identityHash=1023062798, partitionId=234, replicaIndex=0, callId=0, invocationTime=-1 (1969-12-31 23:59:59.999), waitTimeout=-1, callTimeout=1800000, name=ConfigParamMap}\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:523)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:215)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:60)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:424)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\r\n\tat com.tpt.atlant.grid.dao.hazelcast.DataHazelcastDAO.getData(DataHazelcastDAO.java:84)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getConfigParam(ConfigParamServiceImpl.java:33)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getBooleanValue(ConfigParamServiceImpl.java:52)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$FastClassBySpringCGLIB$$b698afe3.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:345)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:414)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:327)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$EnhancerBySpringCGLIB$$401b9858.getBooleanValue(&lt;generated&gt;)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.isBasisPl(TermDataJDBILoader.java:411)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.prepareInClauseFromList(TermDataJDBILoader.java:385)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.getCmdtyInstruments(TermDataJDBILoader.java:381)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.loadTermAttributes(TermDataJDBILoader.java:353)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:263)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:1)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$FastClassBySpringCGLIB$$f032653.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:651)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$EnhancerBySpringCGLIB$$b6e9411d.load(&lt;generated&gt;)\r\n\tat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:62)\r\n\tat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:33)\r\n\tat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:223)\r\n\tat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:179)\r\n\tat com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:415)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:626)\r\n\tat com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\r\n\tat com.hazelcast.spi.Operation.call(Operation.java:148)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:202)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:191)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:120)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:100)\r\n\tat ------ submitted from ------.(Unknown Source)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolve(InvocationFuture.java:127)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolveAndThrowIfException(InvocationFuture.java:79)\r\n\tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:162)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:425)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\r\n\tat com.tpt.trade.grid.dao.hazelcast.TermDataNumberHazelcastDAO.getTermData(TermDataNumberHazelcastDAO.java:54)\r\n\tat com.tpt.valuation.position.grid.value.action.BatchTermValueAction.execute(BatchTermValueAction.java:107)\r\n\r\n\r\nHazelcast code from where this exception was thrown is checking :  whether partition id of operation key matches with partition thread id. If not, then throw exception. Lot of other code also there.\r\n\r\nCan anyone please let me know the root cause of this? \r\nIf there is an issue with cache design, then this exception should occur every time. \r\nNot able to reproduce on developer machine with 2 or 3 nodes. But re-producible sometimes on test machines.\r\n\r\n**Update :** Added full stack trace. \r\nWe implemented MapLoader to load the data into cache.\r\n\r\n*Reason might be:* During write through operation, system is trying to access the data from different cache having different key. \r\n\r\nThis logic is 1 year old and working fine. We started getting this exception recently only in test environment.","title":"Hazelcast : cannot make remote call: com.hazelcast.map.impl.operation.GetOperation","body":"<p>We are using Hazelcast 3.10.4 in our project. The second level caching is also enabled.\nSometimes, we are getting an exception mentioned below with 3 Hazelcast nodes : 2 Nodes on same machine and 1 on different machine. But network is same. \nException occurs on one of the 2 nodes. Not on the node running on another machine.</p>\n\n<p>We are getting this, when we start the servers and then do some operation.</p>\n\n<p><strong><em>Case:</em></strong>\nConsider Cache-1 and Cache-2 both distributed hazelcast caches ( hazelcast IMap). \nCache-1 is initialized fully at server start up. Once the servers are up and running, Cache-1 is used only for getting data - no update, no reloading happens. Cache-1 contains all the data required for processing. Say, Cache-1 contains all system configuration defined at different levels which user is not going to change once the system is up. This cache is distributed across 3 nodes. </p>\n\n<p>Cache-2 is initialized partially at server start up. Once the servers are up and running, system is modifying Cache-2 : deleting data from cache, modifying data in cache, <em>loading data for a source if not present in cache based on some configurations which exists in Cache-1</em> (partially on demand loading). </p>\n\n<p><strong><em>Please note:</em></strong> Same check happens when loading data in Cache-2 during server start up. But no failure at server start up. </p>\n\n<p>We are getting below exception when system tries to retrieve the value from Cache-1:</p>\n\n<pre><code>java.lang.IllegalThreadStateException: Thread[hz._hzInstance_1_tpt-val-js-master.partition-operation.thread-1,5,main] cannot make remote call: com.hazelcast.map.impl.operation.GetOperation{serviceName='hz:impl:mapService', identityHash=1023062798, partitionId=234, replicaIndex=0, callId=0, invocationTime=-1 (1969-12-31 23:59:59.999), waitTimeout=-1, callTimeout=1800000, name=ConfigParamMap}\nat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:523)\nat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:215)\nat com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:60)\nat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:424)\nat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\nat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\nat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\nat com.tpt.atlant.grid.dao.hazelcast.DataHazelcastDAO.getData(DataHazelcastDAO.java:84)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getConfigParam(ConfigParamServiceImpl.java:33)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getBooleanValue(ConfigParamServiceImpl.java:52)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$FastClassBySpringCGLIB$$b698afe3.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\nat org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)\nat org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:345)\nat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:414)\nat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:327)\nat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$EnhancerBySpringCGLIB$$401b9858.getBooleanValue(&lt;generated&gt;)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.isBasisPl(TermDataJDBILoader.java:411)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.prepareInClauseFromList(TermDataJDBILoader.java:385)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.getCmdtyInstruments(TermDataJDBILoader.java:381)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.loadTermAttributes(TermDataJDBILoader.java:353)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:263)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:1)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$FastClassBySpringCGLIB$$f032653.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:651)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$EnhancerBySpringCGLIB$$b6e9411d.load(&lt;generated&gt;)\nat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:62)\nat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:33)\nat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:223)\nat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:179)\nat com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\nat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\nat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\nat com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:415)\nat com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:626)\nat com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\nat com.hazelcast.spi.Operation.call(Operation.java:148)\nat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:202)\nat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:191)\nat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:120)\nat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:100)\nat ------ submitted from ------.(Unknown Source)\nat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolve(InvocationFuture.java:127)\nat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolveAndThrowIfException(InvocationFuture.java:79)\nat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:162)\nat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:425)\nat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\nat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\nat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\nat com.tpt.trade.grid.dao.hazelcast.TermDataNumberHazelcastDAO.getTermData(TermDataNumberHazelcastDAO.java:54)\nat com.tpt.valuation.position.grid.value.action.BatchTermValueAction.execute(BatchTermValueAction.java:107)\n</code></pre>\n\n<p>Hazelcast code from where this exception was thrown is checking :  whether partition id of operation key matches with partition thread id. If not, then throw exception. Lot of other code also there.</p>\n\n<p>Can anyone please let me know the root cause of this? \nIf there is an issue with cache design, then this exception should occur every time. \nNot able to reproduce on developer machine with 2 or 3 nodes. But re-producible sometimes on test machines.</p>\n\n<p><strong>Update :</strong> Added full stack trace. \nWe implemented MapLoader to load the data into cache.</p>\n\n<p><em>Reason might be:</em> During write through operation, system is trying to access the data from different cache having different key. </p>\n\n<p>This logic is 1 year old and working fine. We started getting this exception recently only in test environment.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":2,"creation_date":1484687831,"post_id":41707094,"comment_id":70609795,"body_markdown":"Use `.group(1)`","body":"Use <code>.group(1)</code>"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1484687853,"post_id":41707094,"comment_id":70609804,"body_markdown":"maybe because you&#39;re using `PATTERN_FORMAT_1 ` instead of `REGEX_FORMAT_1` ?","body":"maybe because you&#39;re using <code>PATTERN_FORMAT_1 </code> instead of <code>REGEX_FORMAT_1</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":1841676,"reputation":153,"user_id":1670955,"display_name":"magnusson"},"score":0,"creation_date":1484689144,"post_id":41707209,"comment_id":70610495,"body_markdown":"Thanks! I just noted that by trial and error and was going to answer my own question but you beat me to it. Many thanks!","body":"Thanks! I just noted that by trial and error and was going to answer my own question but you beat me to it. Many thanks!"}],"tags":[],"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1484688041,"creation_date":1484688041,"answer_id":41707209,"question_id":41707094,"body_markdown":"`group()` is equivalent to `group(0)` and returns the entire matched string. Use `group(1)` to pull out the first matched group.\r\n\r\n\tString  text    = &quot;asdf 2013-05-12 asdf&quot;;\r\n\tString  regex   = &quot;.+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+&quot;;\r\n\tMatcher matcher = Pattern.compile(regex).matcher(text);\r\n    \r\n\tif (matcher.matches()) {\r\n    \tString matchedGroup = matcher.group(1);\r\n        System.out.println(matchedGroup);\r\n  \t}\r\n\r\nOutput:\r\n\r\n    2013-05-12","title":"Java regex extract capture group if it exists","body":"<p><code>group()</code> is equivalent to <code>group(0)</code> and returns the entire matched string. Use <code>group(1)</code> to pull out the first matched group.</p>\n\n<pre><code>String  text    = \"asdf 2013-05-12 asdf\";\nString  regex   = \".+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+\";\nMatcher matcher = Pattern.compile(regex).matcher(text);\n\nif (matcher.matches()) {\n    String matchedGroup = matcher.group(1);\n    System.out.println(matchedGroup);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2013-05-12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3714684,"reputation":31,"user_id":3091189,"display_name":"Otabek O&#39;ktamjon o&#39;gli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692788632,"creation_date":1692787731,"answer_id":76960650,"question_id":41707094,"body_markdown":"You can even use locale and format in different styles.\r\n\r\n    String sourceData = &quot;fslkdjfs 2023-08-23 13:01:18 sdflks&quot;;\r\n    String regexFormat = &quot;.*(\\\\d{4})-(\\\\d{2})-(\\\\d{2}).*&quot;;\r\n    Matcher matcher = Pattern.compile(regexFormat).matcher(sourceData);\r\n    int year = 0, month = 0, day = 0;\r\n    if (matcher.matches()) {\r\n        year = Integer.valueOf(matcher.group(1));\r\n        month = Integer.valueOf(matcher.group(2));\r\n        day = Integer.valueOf(matcher.group(3));\r\n    }\r\n    String date\r\n        = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)\r\n            .withLocale(new Locale(&quot;en&quot;, &quot;EN&quot;))\r\n            .format(LocalDate.of(year, month, day));\r\n    System.out.println(date);","title":"Java regex extract capture group if it exists","body":"<p>You can even use locale and format in different styles.</p>\n<pre><code>String sourceData = &quot;fslkdjfs 2023-08-23 13:01:18 sdflks&quot;;\nString regexFormat = &quot;.*(\\\\d{4})-(\\\\d{2})-(\\\\d{2}).*&quot;;\nMatcher matcher = Pattern.compile(regexFormat).matcher(sourceData);\nint year = 0, month = 0, day = 0;\nif (matcher.matches()) {\n    year = Integer.valueOf(matcher.group(1));\n    month = Integer.valueOf(matcher.group(2));\n    day = Integer.valueOf(matcher.group(3));\n}\nString date\n    = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)\n        .withLocale(new Locale(&quot;en&quot;, &quot;EN&quot;))\n        .format(LocalDate.of(year, month, day));\nSystem.out.println(date);\n</code></pre>\n"}],"owner":{"account_id":1841676,"reputation":153,"user_id":1670955,"display_name":"magnusson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4647,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":41707209,"answer_count":2,"score":3,"last_activity_date":1692788632,"creation_date":1484687587,"question_id":41707094,"body_markdown":"I apparently don&#39;t understand Java&#39;s regex library or regex either for that matter.\r\n\r\nfor this string:\r\n\r\n    String text = &quot;asdf 2013-05-12 asdf&quot;;\r\n\r\nthis regex explodes in my face:\r\n\r\n    String REGEX_FORMAT_1 = &quot;.+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+&quot;;\r\n\r\n    Matcher matcher_1 = PATTERN_FORMAT_1.matcher(text);\r\n\tif(matcher_1.matches()) {\r\n\t\tString matchedGroup = matcher_1.group();\r\n\t\t...\r\n\t}     \r\n\r\nSemantically this makes sense to me but it seems I&#39;ve totally misunderstood something. The regex works fine in some online regex editors like regex101 but not in others. Could someone please help me understand why I don&#39;t get the capture group containing 2013-05-12 ...","title":"Java regex extract capture group if it exists","body":"<p>I apparently don't understand Java's regex library or regex either for that matter.</p>\n\n<p>for this string:</p>\n\n<pre><code>String text = \"asdf 2013-05-12 asdf\";\n</code></pre>\n\n<p>this regex explodes in my face:</p>\n\n<pre><code>String REGEX_FORMAT_1 = \".+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+\";\n\nMatcher matcher_1 = PATTERN_FORMAT_1.matcher(text);\nif(matcher_1.matches()) {\n    String matchedGroup = matcher_1.group();\n    ...\n}     \n</code></pre>\n\n<p>Semantically this makes sense to me but it seems I've totally misunderstood something. The regex works fine in some online regex editors like regex101 but not in others. Could someone please help me understand why I don't get the capture group containing 2013-05-12 ...</p>\n"},{"tags":["java","facebook","rest","junit","httpclient"],"answers":[{"tags":[],"owner":{"account_id":31925,"reputation":3996,"user_id":88032,"accept_rate":52,"display_name":"fyasar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258734988,"creation_date":1258734988,"answer_id":1771699,"question_id":1409220,"body_markdown":"Try this\r\n\r\n        string GenerateSignature(IDictionary&lt;string, string&gt; parameters)\r\n        {\r\n            StringBuilder signatureBuilder = new StringBuilder();\r\n\r\n            // Sort the keys of the method call in alphabetical order\r\n            List&lt;string&gt; keyList = ParameterDictionaryToList(parameters);\r\n            keyList.Sort();\r\n\r\n            // Append all the parameters to the signature input paramaters\r\n            foreach (string key in keyList)\r\n                signatureBuilder.Append(String.Format(CultureInfo.InvariantCulture, &quot;{0}={1}&quot;, key, parameters[key]));\r\n\r\n            // Append the secret to the signature builder\r\n            signatureBuilder.Append(ConfigurationManager.AppSettings[&quot;FBApiSecret&quot;]);\r\n\r\n            MD5 md5 = MD5.Create();\r\n            // Compute the MD5 hash of the signature builder\r\n            byte[] hash = md5.ComputeHash(Encoding.UTF8.GetBytes(signatureBuilder.ToString().Trim()));\r\n\r\n            // Reinitialize the signature builder to store the actual signature\r\n            signatureBuilder = new StringBuilder();\r\n\r\n            // Append the hash to the signature\r\n            foreach (byte hashByte in hash)\r\n                signatureBuilder.Append(hashByte.ToString(&quot;x2&quot;, CultureInfo.InvariantCulture));\r\n\r\n            return signatureBuilder.ToString();\r\n        }\r\n\r\n        string CreateHTTPParameterList(IDictionary&lt;string, string&gt; parameterList)\r\n        {\r\n            StringBuilder queryBuilder = new StringBuilder();\r\n            parameterList.Add(&quot;api_key&quot;, ConfigurationManager.AppSettings[&quot;FBApiKey&quot;]);\r\n            parameterList.Add(&quot;v&quot;, &quot;1.0&quot;);\r\n            parameterList.Add(&quot;call_id&quot;, DateTime.Now.Ticks.ToString(&quot;x&quot;, CultureInfo.InvariantCulture));\r\n            parameterList.Add(&quot;sig&quot;, GenerateSignature(parameterList));\r\n            //parameterList.Add(&quot;sig&quot;, _sig);\r\n\r\n            // Build the query\r\n            foreach (KeyValuePair&lt;string, string&gt; kvp in parameterList)\r\n            {\r\n                queryBuilder.Append(kvp.Key);\r\n                queryBuilder.Append(&quot;=&quot;);\r\n                queryBuilder.Append(HttpUtility.UrlEncode(kvp.Value));\r\n                queryBuilder.Append(&quot;&amp;&quot;);\r\n            }\r\n            queryBuilder.Remove(queryBuilder.Length - 1, 1);\r\n\r\n            return queryBuilder.ToString();\r\n        }\r\n\r\n\r\nExample usage : \r\n\r\n            Dictionary&lt;string, string&gt; parameterList = new Dictionary&lt;string, string&gt;();\r\n            parameterList.Add(&quot;auth_token&quot;, authCode);\r\n            parameterList.Add(&quot;format&quot;, &quot;json&quot;);\r\n            parameterList.Add(&quot;method&quot;, &quot;facebook.auth.getSession&quot;);\r\n\r\n            string req = CreateHTTPParameterList(parameterList);\r\n\r\nI tryed to copy / paste these codes from my old project. \r\nI hope it will be help to you. \r\n","title":"Facebook: Getting Incorrect Signature (104) when Getting Session Key","body":"<p>Try this</p>\n\n<pre><code>    string GenerateSignature(IDictionary&lt;string, string&gt; parameters)\n    {\n        StringBuilder signatureBuilder = new StringBuilder();\n\n        // Sort the keys of the method call in alphabetical order\n        List&lt;string&gt; keyList = ParameterDictionaryToList(parameters);\n        keyList.Sort();\n\n        // Append all the parameters to the signature input paramaters\n        foreach (string key in keyList)\n            signatureBuilder.Append(String.Format(CultureInfo.InvariantCulture, \"{0}={1}\", key, parameters[key]));\n\n        // Append the secret to the signature builder\n        signatureBuilder.Append(ConfigurationManager.AppSettings[\"FBApiSecret\"]);\n\n        MD5 md5 = MD5.Create();\n        // Compute the MD5 hash of the signature builder\n        byte[] hash = md5.ComputeHash(Encoding.UTF8.GetBytes(signatureBuilder.ToString().Trim()));\n\n        // Reinitialize the signature builder to store the actual signature\n        signatureBuilder = new StringBuilder();\n\n        // Append the hash to the signature\n        foreach (byte hashByte in hash)\n            signatureBuilder.Append(hashByte.ToString(\"x2\", CultureInfo.InvariantCulture));\n\n        return signatureBuilder.ToString();\n    }\n\n    string CreateHTTPParameterList(IDictionary&lt;string, string&gt; parameterList)\n    {\n        StringBuilder queryBuilder = new StringBuilder();\n        parameterList.Add(\"api_key\", ConfigurationManager.AppSettings[\"FBApiKey\"]);\n        parameterList.Add(\"v\", \"1.0\");\n        parameterList.Add(\"call_id\", DateTime.Now.Ticks.ToString(\"x\", CultureInfo.InvariantCulture));\n        parameterList.Add(\"sig\", GenerateSignature(parameterList));\n        //parameterList.Add(\"sig\", _sig);\n\n        // Build the query\n        foreach (KeyValuePair&lt;string, string&gt; kvp in parameterList)\n        {\n            queryBuilder.Append(kvp.Key);\n            queryBuilder.Append(\"=\");\n            queryBuilder.Append(HttpUtility.UrlEncode(kvp.Value));\n            queryBuilder.Append(\"&amp;\");\n        }\n        queryBuilder.Remove(queryBuilder.Length - 1, 1);\n\n        return queryBuilder.ToString();\n    }\n</code></pre>\n\n<p>Example usage : </p>\n\n<pre><code>        Dictionary&lt;string, string&gt; parameterList = new Dictionary&lt;string, string&gt;();\n        parameterList.Add(\"auth_token\", authCode);\n        parameterList.Add(\"format\", \"json\");\n        parameterList.Add(\"method\", \"facebook.auth.getSession\");\n\n        string req = CreateHTTPParameterList(parameterList);\n</code></pre>\n\n<p>I tryed to copy / paste these codes from my old project. \nI hope it will be help to you. </p>\n"},{"tags":[],"owner":{"account_id":571244,"reputation":61,"user_id":218376,"display_name":"Omnia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259134155,"creation_date":1259134155,"answer_id":1795229,"question_id":1409220,"body_markdown":"you have an error in your parameter you send in generate_session_secret your secret code , it must be true or false\r\n\r\nyou set:\r\n new NameValuePair(&quot;generate_session_secret&quot;, SECRET),\r\n\r\nthere are conflict in your parameter that u set in post and the signature\r\n\r\n","title":"Facebook: Getting Incorrect Signature (104) when Getting Session Key","body":"<p>you have an error in your parameter you send in generate_session_secret your secret code , it must be true or false</p>\n\n<p>you set:\n new NameValuePair(\"generate_session_secret\", SECRET),</p>\n\n<p>there are conflict in your parameter that u set in post and the signature</p>\n"}],"owner":{"account_id":878349,"reputation":687,"user_id":144173,"accept_rate":42,"display_name":"mw_javaguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692788490,"creation_date":1252649070,"question_id":1409220,"body_markdown":"I am trying to use the [HttpClient][1] library (in order to call the Facebook API&#39;s REST end points) to obtain a session key and verify user...\r\n\r\nMy code is here:\r\n\r\n    RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations =\r\n    { &quot;classpath*:**/*applicationContext-test.xml&quot; })\r\n    public class FacebookUserTest\r\n    {\r\n        final String API_KEY = &quot;9e2568d68f182a2957878f3acedd9453&quot;;\r\n        final String SECRET = &quot;f1298956895d39110be92a672e0d2284&quot;;\r\n        final String TOKEN = &quot;aa0c41aa4532053e8d0097844ab9bc7d&quot;;\r\n        final String LOGIN = &quot;http://www.facebook.com/login.php&quot;;\r\n        final String HOST = &quot;http://www.facebook.com/restserver.php&quot;;\r\n\r\n        private static Logger log = \r\n            LoggerFactory.getLogger(FacebookUserTest.class);\r\n\r\n        protected FacebookUser FacebookUser;\r\n\r\n        @Test\r\n        public void testFindUserBySessionKey() throws Exception\r\n        {\r\n            loginToFacebook();\r\n            String sessionKey = getSessionKey();\r\n        }\r\n\r\n        public void loginToFacebook() throws Exception\r\n        {\r\n            HttpClient client = new HttpClient();\r\n            client.setParams(new HttpClientParams());\r\n            client.setState(new HttpState());\r\n\r\n            GetMethod get = new GetMethod(LOGIN + &quot;?api_key=&quot; + API_KEY\r\n                + &quot;&amp;v=1.0&amp;auth_token=&quot; + TOKEN);\r\n\r\n            // Get login screen\r\n            client.executeMethod(get);\r\n\r\n            // Post credentials to login\r\n            PostMethod post = new PostMethod(LOGIN);\r\n            post.addParameter(new NameValuePair(&quot;api_key&quot;, API_KEY));\r\n            post.addParameter(new NameValuePair(&quot;v&quot;, &quot;1.0&quot;));\r\n            post.addParameter(new NameValuePair(&quot;auth_token&quot;, TOKEN));\r\n            post.addParameter(new NameValuePair(&quot;email&quot;, &quot;user@email.com&quot;));\r\n            post.addParameter(new NameValuePair(&quot;pass&quot;, &quot;password&quot;));\r\n            client.executeMethod(post);\r\n        }\r\n\r\n        public String getSessionKey() throws Exception\r\n        {\r\n            HttpClient client = new HttpClient();\r\n\r\n            // Obtain session key\r\n            String host = &quot;http://www.facebook.com/restserver.php&quot;;\r\n            String sessSecret = &quot;false&quot;;\r\n            String toMd = &quot;api_key=&quot; + API_KEY + &quot;auth_token=&quot; + TOKEN\r\n                + &quot;format=xmlgenerate_session_secret=&quot; + sessSecret\r\n                + &quot;method=facebook.auth.getSessionv=1.0&quot; + SECRET;\r\n             String md5 = Md5Utils.MD5(toMd);\r\n\r\n             PostMethod post = new PostMethod(HOST);\r\n       \r\n             NameValuePair[] data = {\r\n                new NameValuePair(&quot;api_key&quot;, API_KEY),\r\n                new NameValuePair(&quot;auth_token&quot;, TOKEN),\r\n                new NameValuePair(&quot;format&quot;, &quot;xml&quot;),\r\n                new NameValuePair(&quot;generate_session_secret&quot;, SECRET),\r\n                new NameValuePair(&quot;method&quot;, &quot;auth.getSession&quot;),\r\n                new NameValuePair(&quot;sig&quot;, md5), new NameValuePair(&quot;v&quot;, &quot;1.0&quot;)\r\n             };\r\n        \r\n             post.setRequestBody(data);\r\n             post.setRequestHeader(&quot;Content-Type&quot;,\r\n                &quot;application/x-www-form-urlencoded&quot;);\r\n             post.setRequestHeader(&quot;User-Agent&quot;,\r\n                &quot;Facebook API PHP5 Client 1.1 (curl) 5&quot;);\r\n             \r\n             // execute method and handle any error responses.\r\n             client.executeMethod(post);\r\n\r\n             StringBuilder sb = new StringBuilder();\r\n             byte[] b = new byte[4096];\r\n       \r\n             for (int n; (n = post.getResponseBodyAsStream().read(b)) != -1;) \r\n             {\r\n                 sb.append(new String(b, 0, n));\r\n             }\r\n       \r\n             String sessionId = sb.toString();\r\n             log.warn(&quot;Session Id: &quot; + sessionId);\r\n       \r\n             return sessionId;\r\n         }\r\n    }\r\n\r\nWhen I run my JUnit test, this is what is printed from the console:\r\n\r\n\r\n    WARN : com.myapp.FacebookUserTest - Session Id: \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;error_response xmlns=&quot;http://api.facebook.com/1.0/&quot; \r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://api.facebook.com/1.0/\r\n       http://api.facebook.com/1.0/facebook.xsd&quot;&gt;\r\n        &lt;error_code&gt;104&lt;/error_code&gt;\r\n        &lt;error_msg&gt;Incorrect signature&lt;/error_msg&gt;\r\n        &lt;request_args list=&quot;true&quot;&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;api_key&lt;/key&gt;\r\n                &lt;value&gt;9e2568d68f182a2957878f3acedd9453&lt;/value&gt;\r\n            &lt;/arg&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;auth_token&lt;/key&gt;\r\n                &lt;value&gt;aa0c41aa4532053e8d0097844ab9bc7d&lt;/value&gt;\r\n            &lt;/arg&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;format&lt;/key&gt;\r\n                &lt;value&gt;xml&lt;/value&gt;\r\n            &lt;/arg&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;generate_session_secret&lt;/key&gt;\r\n                &lt;value&gt;f1298956895d39110be92a672e0d2284&lt;/value&gt;\r\n             &lt;/arg&gt;\r\n             &lt;arg&gt;\r\n                &lt;key&gt;method&lt;/key&gt;\r\n                &lt;value&gt;auth.getSession&lt;/value&gt;\r\n             &lt;/arg&gt;\r\n             &lt;arg&gt;\r\n                 &lt;key&gt;sig&lt;/key&gt;\r\n                 &lt;value&gt;fcf80d658f35d66396ac521da7102782&lt;/value&gt;\r\n             &lt;/arg&gt;\r\n             &lt;arg&gt;\r\n                 &lt;key&gt;v&lt;/key&gt;\r\n                 &lt;value&gt;1.0&lt;/value&gt;\r\n              &lt;/arg&gt;\r\n         &lt;/request_args&gt;\r\n    &lt;/error_response&gt;\r\n\r\nCould it be my MD5Utils code:\r\n\r\n     public class Md5Utils\r\n     {\r\n          private static String convertToHex(byte[] data)\r\n          {\r\n               StringBuffer buf = new StringBuffer();\r\n               for (int i = 0; i &lt; data.length; i++) {\r\n                   int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\r\n                   int two_halfs = 0;\r\n                   do {\r\n                       if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\r\n                           buf.append((char) (&#39;0&#39; + halfbyte));\r\n                       else\r\n                          buf.append((char) (&#39;a&#39; + (halfbyte - 10)));\r\n                          halfbyte = data[i] &amp; 0x0F;\r\n                   }\r\n                   while (two_halfs++ &lt; 1);\r\n                }\r\n            return buf.toString();\r\n          }\r\n\r\n      public static String MD5(String text) \r\n      throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n          MessageDigest md;\r\n          md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n          byte[] md5hash = new byte[32];\r\n          md.update(text.getBytes(&quot;iso-8859-1&quot;), 0, text.length());\r\n          md5hash = md.digest();\r\n          return convertToHex(md5hash);\r\n       }\r\n    }\r\n\r\nWhat am I possibly doing wrong to generate an incorrect signature?\r\n\r\nWould really appreciate it if someone could help me or point me in the right direction...\r\n\r\nHappy programming and thanks for reading!\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/","title":"Facebook: Getting Incorrect Signature (104) when Getting Session Key","body":"<p>I am trying to use the <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"nofollow noreferrer\">HttpClient</a> library (in order to call the Facebook API's REST end points) to obtain a session key and verify user...</p>\n\n<p>My code is here:</p>\n\n<pre><code>RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations =\n{ \"classpath*:**/*applicationContext-test.xml\" })\npublic class FacebookUserTest\n{\n    final String API_KEY = \"9e2568d68f182a2957878f3acedd9453\";\n    final String SECRET = \"f1298956895d39110be92a672e0d2284\";\n    final String TOKEN = \"aa0c41aa4532053e8d0097844ab9bc7d\";\n    final String LOGIN = \"http://www.facebook.com/login.php\";\n    final String HOST = \"http://www.facebook.com/restserver.php\";\n\n    private static Logger log = \n        LoggerFactory.getLogger(FacebookUserTest.class);\n\n    protected FacebookUser FacebookUser;\n\n    @Test\n    public void testFindUserBySessionKey() throws Exception\n    {\n        loginToFacebook();\n        String sessionKey = getSessionKey();\n    }\n\n    public void loginToFacebook() throws Exception\n    {\n        HttpClient client = new HttpClient();\n        client.setParams(new HttpClientParams());\n        client.setState(new HttpState());\n\n        GetMethod get = new GetMethod(LOGIN + \"?api_key=\" + API_KEY\n            + \"&amp;v=1.0&amp;auth_token=\" + TOKEN);\n\n        // Get login screen\n        client.executeMethod(get);\n\n        // Post credentials to login\n        PostMethod post = new PostMethod(LOGIN);\n        post.addParameter(new NameValuePair(\"api_key\", API_KEY));\n        post.addParameter(new NameValuePair(\"v\", \"1.0\"));\n        post.addParameter(new NameValuePair(\"auth_token\", TOKEN));\n        post.addParameter(new NameValuePair(\"email\", \"user@email.com\"));\n        post.addParameter(new NameValuePair(\"pass\", \"password\"));\n        client.executeMethod(post);\n    }\n\n    public String getSessionKey() throws Exception\n    {\n        HttpClient client = new HttpClient();\n\n        // Obtain session key\n        String host = \"http://www.facebook.com/restserver.php\";\n        String sessSecret = \"false\";\n        String toMd = \"api_key=\" + API_KEY + \"auth_token=\" + TOKEN\n            + \"format=xmlgenerate_session_secret=\" + sessSecret\n            + \"method=facebook.auth.getSessionv=1.0\" + SECRET;\n         String md5 = Md5Utils.MD5(toMd);\n\n         PostMethod post = new PostMethod(HOST);\n\n         NameValuePair[] data = {\n            new NameValuePair(\"api_key\", API_KEY),\n            new NameValuePair(\"auth_token\", TOKEN),\n            new NameValuePair(\"format\", \"xml\"),\n            new NameValuePair(\"generate_session_secret\", SECRET),\n            new NameValuePair(\"method\", \"auth.getSession\"),\n            new NameValuePair(\"sig\", md5), new NameValuePair(\"v\", \"1.0\")\n         };\n\n         post.setRequestBody(data);\n         post.setRequestHeader(\"Content-Type\",\n            \"application/x-www-form-urlencoded\");\n         post.setRequestHeader(\"User-Agent\",\n            \"Facebook API PHP5 Client 1.1 (curl) 5\");\n\n         // execute method and handle any error responses.\n         client.executeMethod(post);\n\n         StringBuilder sb = new StringBuilder();\n         byte[] b = new byte[4096];\n\n         for (int n; (n = post.getResponseBodyAsStream().read(b)) != -1;) \n         {\n             sb.append(new String(b, 0, n));\n         }\n\n         String sessionId = sb.toString();\n         log.warn(\"Session Id: \" + sessionId);\n\n         return sessionId;\n     }\n}\n</code></pre>\n\n<p>When I run my JUnit test, this is what is printed from the console:</p>\n\n<pre><code>WARN : com.myapp.FacebookUserTest - Session Id: \n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;error_response xmlns=\"http://api.facebook.com/1.0/\" \n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://api.facebook.com/1.0/\n   http://api.facebook.com/1.0/facebook.xsd\"&gt;\n    &lt;error_code&gt;104&lt;/error_code&gt;\n    &lt;error_msg&gt;Incorrect signature&lt;/error_msg&gt;\n    &lt;request_args list=\"true\"&gt;\n        &lt;arg&gt;\n            &lt;key&gt;api_key&lt;/key&gt;\n            &lt;value&gt;9e2568d68f182a2957878f3acedd9453&lt;/value&gt;\n        &lt;/arg&gt;\n        &lt;arg&gt;\n            &lt;key&gt;auth_token&lt;/key&gt;\n            &lt;value&gt;aa0c41aa4532053e8d0097844ab9bc7d&lt;/value&gt;\n        &lt;/arg&gt;\n        &lt;arg&gt;\n            &lt;key&gt;format&lt;/key&gt;\n            &lt;value&gt;xml&lt;/value&gt;\n        &lt;/arg&gt;\n        &lt;arg&gt;\n            &lt;key&gt;generate_session_secret&lt;/key&gt;\n            &lt;value&gt;f1298956895d39110be92a672e0d2284&lt;/value&gt;\n         &lt;/arg&gt;\n         &lt;arg&gt;\n            &lt;key&gt;method&lt;/key&gt;\n            &lt;value&gt;auth.getSession&lt;/value&gt;\n         &lt;/arg&gt;\n         &lt;arg&gt;\n             &lt;key&gt;sig&lt;/key&gt;\n             &lt;value&gt;fcf80d658f35d66396ac521da7102782&lt;/value&gt;\n         &lt;/arg&gt;\n         &lt;arg&gt;\n             &lt;key&gt;v&lt;/key&gt;\n             &lt;value&gt;1.0&lt;/value&gt;\n          &lt;/arg&gt;\n     &lt;/request_args&gt;\n&lt;/error_response&gt;\n</code></pre>\n\n<p>Could it be my MD5Utils code:</p>\n\n<pre><code> public class Md5Utils\n {\n      private static String convertToHex(byte[] data)\n      {\n           StringBuffer buf = new StringBuffer();\n           for (int i = 0; i &lt; data.length; i++) {\n               int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\n               int two_halfs = 0;\n               do {\n                   if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\n                       buf.append((char) ('0' + halfbyte));\n                   else\n                      buf.append((char) ('a' + (halfbyte - 10)));\n                      halfbyte = data[i] &amp; 0x0F;\n               }\n               while (two_halfs++ &lt; 1);\n            }\n        return buf.toString();\n      }\n\n  public static String MD5(String text) \n  throws NoSuchAlgorithmException, UnsupportedEncodingException {\n      MessageDigest md;\n      md = MessageDigest.getInstance(\"MD5\");\n      byte[] md5hash = new byte[32];\n      md.update(text.getBytes(\"iso-8859-1\"), 0, text.length());\n      md5hash = md.digest();\n      return convertToHex(md5hash);\n   }\n}\n</code></pre>\n\n<p>What am I possibly doing wrong to generate an incorrect signature?</p>\n\n<p>Would really appreciate it if someone could help me or point me in the right direction...</p>\n\n<p>Happy programming and thanks for reading!</p>\n"},{"tags":["java","swing","drag-and-drop"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1692787054,"post_id":76955424,"comment_id":135670859,"body_markdown":"Tried on Windows. `transferable.getTransferData(DataFlavor.javaFileListFlavor)` never retruned `null`, so I could access the file list during the drag. The exception on the drop is reproducible and comprehensible: the `DropTargetDropEvent` only allows access to the transferable after `acceptDrop` has been called but Swing only calls this method after `canImport` returned `true`. This restriction may seem weird as you can access the transferable during the drag, but the possibility to access it during the drag is a newer addition (Java&#160;5). Before that, the restriction may have looked reasonable","body":"Tried on Windows. <code>transferable.getTransferData(DataFlavor.javaFileListFlavor)</code> never retruned <code>null</code>, so I could access the file list during the drag. The exception on the drop is reproducible and comprehensible: the <code>DropTargetDropEvent</code> only allows access to the transferable after <code>acceptDrop</code> has been called but Swing only calls this method after <code>canImport</code> returned <code>true</code>. This restriction may seem weird as you can access the transferable during the drag, but the possibility to access it during the drag is a newer addition (Java 5). Before that, the restriction may have looked reasonable"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1692788289,"post_id":76955424,"comment_id":135671104,"body_markdown":"Ah ok, thank you very much for the explanation on the `InvalidDnDOperationException` as I didn&#39;t looked into it yet. Also thank you for testing on Windows. That somehow validates my understanding that DnD behavior is different between OSes.","body":"Ah ok, thank you very much for the explanation on the <code>InvalidDnDOperationException</code> as I didn&#39;t looked into it yet. Also thank you for testing on Windows. That somehow validates my understanding that DnD behavior is different between OSes."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1696079530,"post_id":76955424,"comment_id":136109735,"body_markdown":"@Holger By the way I also tried on Linux (Fedora 33) and I was also able to get the content of the files. So it&#39;s definitely a limitation of the macOs OS or JDK&#39;s macOs implementation.","body":"@Holger By the way I also tried on Linux (Fedora 33) and I was also able to get the content of the files. So it&#39;s definitely a limitation of the macOs OS or JDK&#39;s macOs implementation."}],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692788042,"creation_date":1692723522,"question_id":76955424,"body_markdown":"I&#39;m trying to write a drag and drop mechanism that peek into the content of the dragged content **before** it is dropped.\r\n\r\nThe app is being tested on macOS. But maybe there&#39;s some subtleties on other OS.\r\n\r\nI&#39;ve been trying with both approaches `TransferHandler` and `DropTarget`/`DropTargetHandler`.\r\n\r\nHowever in both case I cannot access the dragged content, the `transferable.getTransferData(DataFlavor.javaFileListFlavor)` returns `null`.\r\n\r\n* In `TransferHandler::canImport`, the code check if the flavor is `flavorJavaFileListType`, then it tries to get the data, yet it&#39;s `null`.\r\n\r\n* In `DropTargetAdapter::dragOver` (or `dragEnter`), the code check if the flavor is `flavorJavaFileListType`, then it tries to get the data, yet it&#39;s `null`.\r\n\r\nSo I&#39;m wondering if this is a constraint of  Swing, of the OS, or simply me not using this properly.\r\n\r\n----\r\nNotes:\r\n\r\n1. The `TransferHandler::canImport` or `DropTargetAdapter::drop`), function properly.\r\n\r\n2. For a unknown reason (at this time) in `TransferHandler::canImport`, I need to `try { trasnferable.getTransferData(...) }  catch (InvalidDnDOperationException ignore)` otherwise when releasing the button (i.e. dropping the content) the call raises this exception `InvalidDnDOperationException: No drop current`.","title":"Is it possible to get file type (and generate a preview) while dragging (before droping)","body":"<p>I'm trying to write a drag and drop mechanism that peek into the content of the dragged content <strong>before</strong> it is dropped.</p>\n<p>The app is being tested on macOS. But maybe there's some subtleties on other OS.</p>\n<p>I've been trying with both approaches <code>TransferHandler</code> and <code>DropTarget</code>/<code>DropTargetHandler</code>.</p>\n<p>However in both case I cannot access the dragged content, the <code>transferable.getTransferData(DataFlavor.javaFileListFlavor)</code> returns <code>null</code>.</p>\n<ul>\n<li><p>In <code>TransferHandler::canImport</code>, the code check if the flavor is <code>flavorJavaFileListType</code>, then it tries to get the data, yet it's <code>null</code>.</p>\n</li>\n<li><p>In <code>DropTargetAdapter::dragOver</code> (or <code>dragEnter</code>), the code check if the flavor is <code>flavorJavaFileListType</code>, then it tries to get the data, yet it's <code>null</code>.</p>\n</li>\n</ul>\n<p>So I'm wondering if this is a constraint of  Swing, of the OS, or simply me not using this properly.</p>\n<hr />\n<p>Notes:</p>\n<ol>\n<li><p>The <code>TransferHandler::canImport</code> or <code>DropTargetAdapter::drop</code>), function properly.</p>\n</li>\n<li><p>For a unknown reason (at this time) in <code>TransferHandler::canImport</code>, I need to <code>try { trasnferable.getTransferData(...) }  catch (InvalidDnDOperationException ignore)</code> otherwise when releasing the button (i.e. dropping the content) the call raises this exception <code>InvalidDnDOperationException: No drop current</code>.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-properties"],"comments":[{"owner":{"account_id":964077,"reputation":241,"user_id":987847,"display_name":"pedjaradenkovic"},"score":6,"creation_date":1365632954,"post_id":15937592,"comment_id":22707013,"body_markdown":"Duplicated http://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro and http://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties","body":"Duplicated <a href=\"http://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro\" title=\"spring value annotation in controller class not evaluating to value inside pro\">stackoverflow.com/questions/11890544/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties\" title=\"spring 3 0 5 doesnt evaluate value annotation from properties\">stackoverflow.com/questions/5275724/&hellip;</a>"},{"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"score":0,"creation_date":1365684957,"post_id":15937592,"comment_id":22726912,"body_markdown":"Thanks! didn&#39;t find that thread, most the ones I found was related to the value being NULL","body":"Thanks! didn&#39;t find that thread, most the ones I found was related to the value being NULL"}],"answers":[{"comments":[{"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"score":1,"creation_date":1365684998,"post_id":15937694,"comment_id":22726942,"body_markdown":"PropertyPlaceholderConfigurer works just fine for me. I just needed to fix the context:component-scan in my app context xml and spring servlet xml","body":"PropertyPlaceholderConfigurer works just fine for me. I just needed to fix the context:component-scan in my app context xml and spring servlet xml"},{"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"score":0,"creation_date":1365686147,"post_id":15937694,"comment_id":22727663,"body_markdown":"@TS what version of spring are you using, please?","body":"@TS what version of spring are you using, please?"},{"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"score":0,"creation_date":1459526890,"post_id":15937694,"comment_id":60341324,"body_markdown":"Can&#39;t you @Autowire Environment instead? see http://stackoverflow.com/a/15562319/632293","body":"Can&#39;t you @Autowire Environment instead? see <a href=\"http://stackoverflow.com/a/15562319/632293\">stackoverflow.com/a/15562319/632293</a>"}],"tags":[],"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365633231,"creation_date":1365633231,"answer_id":15937694,"question_id":15937592,"body_markdown":"Have a read of pedjaradenkovic&#39;s comment.\r\n\r\nFurther to the link he provides, the reason this isn&#39;t working is that `@Value` processing requires a `PropertySourcesPlaceholderConfigurer` instead of a `PropertyPlaceholderConfigurer`.","title":"Spring @Value is not resolving to value from property file","body":"<p>Have a read of pedjaradenkovic's comment.</p>\n\n<p>Further to the link he provides, the reason this isn't working is that <code>@Value</code> processing requires a <code>PropertySourcesPlaceholderConfigurer</code> instead of a <code>PropertyPlaceholderConfigurer</code>.</p>\n"},{"tags":[],"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1365914102,"creation_date":1365914102,"answer_id":15995837,"question_id":15937592,"body_markdown":"Problem is due to problem in my applicationContext.xml vs spring-servlet.xml - it was scoping issue between the beans.\r\n\r\npedjaradenkovic kindly pointed me to an existing resource:\r\nhttps://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro\r\nand https://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties ","title":"Spring @Value is not resolving to value from property file","body":"<p>Problem is due to problem in my applicationContext.xml vs spring-servlet.xml - it was scoping issue between the beans.</p>\n\n<p>pedjaradenkovic kindly pointed me to an existing resource:\n<a href=\"https://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro\">Spring @Value annotation in @Controller class not evaluating to value inside properties file</a>\nand <a href=\"https://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties\">Spring 3.0.5 doesn&#39;t evaluate @Value annotation from properties</a> </p>\n"},{"comments":[{"owner":{"account_id":8587619,"reputation":1445,"user_id":6433168,"display_name":"Kishor K"},"score":0,"creation_date":1513860753,"post_id":27164610,"comment_id":82818418,"body_markdown":"you can get more information on this configuration from http://blog.codeleak.pl/2015/09/placeholders-support-in-value.html","body":"you can get more information on this configuration from <a href=\"http://blog.codeleak.pl/2015/09/placeholders-support-in-value.html\" rel=\"nofollow noreferrer\">blog.codeleak.pl/2015/09/placeholders-support-in-value.html</a>"},{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":1,"creation_date":1519242571,"post_id":27164610,"comment_id":84834823,"body_markdown":"FYI: You don&#39;t have to add this Bean with Spring boot 1.5.9 anymore.","body":"FYI: You don&#39;t have to add this Bean with Spring boot 1.5.9 anymore."},{"owner":{"account_id":1657890,"reputation":71,"user_id":5726142,"display_name":"Florian Wicher"},"score":1,"creation_date":1575995925,"post_id":27164610,"comment_id":104750773,"body_markdown":"@realPK looks like you do, i&#39;m on spring 4.2.6 and still had to add it.","body":"@realPK looks like you do, i&#39;m on spring 4.2.6 and still had to add it."},{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":1,"creation_date":1576111089,"post_id":27164610,"comment_id":104796557,"body_markdown":"@FlorianWicher I was talking about Spring Boot, which I believe uses Spring framework 4.3. Reference - https://spring.io/blog/2017/11/28/spring-boot-1-5-9-available-now.","body":"@FlorianWicher I was talking about Spring Boot, which I believe uses Spring framework 4.3. Reference - <a href=\"https://spring.io/blog/2017/11/28/spring-boot-1-5-9-available-now\" rel=\"nofollow noreferrer\">spring.io/blog/2017/11/28/spring-boot-1-5-9-available-now</a>."},{"owner":{"account_id":4319966,"reputation":1476,"user_id":3528528,"display_name":"Sachchidanand Singh"},"score":0,"creation_date":1576131655,"post_id":27164610,"comment_id":104801035,"body_markdown":"@Florian Wicher - May be you could try upgrading spring boot version to 2.x and you would be able to avoid this.","body":"@Florian Wicher - May be you could try upgrading spring boot version to 2.x and you would be able to avoid this."}],"tags":[],"owner":{"account_id":4319966,"reputation":1476,"user_id":3528528,"display_name":"Sachchidanand Singh"},"comment_count":5,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1436163461,"creation_date":1417070851,"answer_id":27164610,"question_id":15937592,"body_markdown":"I also found the reason `@value` was not working is, `@value` requires `PropertySourcesPlaceholderConfigurer` instead of a `PropertyPlaceholderConfigurer`. i did the same changes and it worked for me, i am using spring 4.0.3 release.\r\nI configured this using below code in my configuration file - \r\n\r\n    @Bean \r\n\tpublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n\treturn new PropertySourcesPlaceholderConfigurer();\r\n\t}","title":"Spring @Value is not resolving to value from property file","body":"<p>I also found the reason <code>@value</code> was not working is, <code>@value</code> requires <code>PropertySourcesPlaceholderConfigurer</code> instead of a <code>PropertyPlaceholderConfigurer</code>. i did the same changes and it worked for me, i am using spring 4.0.3 release.\nI configured this using below code in my configuration file - </p>\n\n<pre><code>@Bean \npublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\nreturn new PropertySourcesPlaceholderConfigurer();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1124049,"reputation":6262,"user_id":1111732,"accept_rate":67,"display_name":"craastad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504961455,"creation_date":1504961455,"answer_id":46130896,"question_id":15937592,"body_markdown":"I was using spring boot, and for me upgrading the version from `1.4.0.RELEASE` to `1.5.6.RELEASE` solved this issue.","title":"Spring @Value is not resolving to value from property file","body":"<p>I was using spring boot, and for me upgrading the version from <code>1.4.0.RELEASE</code> to <code>1.5.6.RELEASE</code> solved this issue.</p>\n"},{"tags":[],"owner":{"account_id":422488,"reputation":942,"user_id":801300,"accept_rate":40,"display_name":"Dapper Dan"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1559754472,"creation_date":1523538727,"answer_id":49797522,"question_id":15937592,"body_markdown":"for Sprig-boot User both PropertyPlaceholderConfigurer and the new PropertySourcesPlaceholderConfigurer added in Spring 3.1. so it&#39;s straightforward to access properties file. just inject \r\n\r\n**Note: Make sure  your property must not be  `Static`**\r\n\r\n    @Value(&quot;${key.value1}&quot;)\r\n    private String value;","title":"Spring @Value is not resolving to value from property file","body":"<p>for Sprig-boot User both PropertyPlaceholderConfigurer and the new PropertySourcesPlaceholderConfigurer added in Spring 3.1. so it's straightforward to access properties file. just inject </p>\n\n<p><strong>Note: Make sure  your property must not be  <code>Static</code></strong></p>\n\n<pre><code>@Value(\"${key.value1}\")\nprivate String value;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198402,"reputation":1951,"user_id":443034,"accept_rate":33,"display_name":"Bassel Kh"},"score":2,"creation_date":1633185661,"post_id":50751978,"comment_id":122695792,"body_markdown":"you made my day, thanks","body":"you made my day, thanks"}],"tags":[],"owner":{"account_id":990768,"reputation":6513,"user_id":1008162,"accept_rate":90,"display_name":"Naruto Sempai"},"comment_count":1,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1528419560,"creation_date":1528419560,"answer_id":50751978,"question_id":15937592,"body_markdown":"In my case I was missing the curly braces. I had `@Value(&quot;foo.bar&quot;) String value` instead of the correct form `@Value(&quot;${foo.bar}&quot;) String value`\r\n\r\n","title":"Spring @Value is not resolving to value from property file","body":"<p>In my case I was missing the curly braces. I had <code>@Value(\"foo.bar\") String value</code> instead of the correct form <code>@Value(\"${foo.bar}\") String value</code></p>\n"},{"tags":[],"owner":{"account_id":2448055,"reputation":390,"user_id":2134923,"display_name":"Ahmed Aziz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618921598,"creation_date":1618921598,"answer_id":67178913,"question_id":15937592,"body_markdown":"In my case, I had the lombok @AllArgsConstructor and that picked up the property as well. Deleting this annotation solved the problem. ","title":"Spring @Value is not resolving to value from property file","body":"<p>In my case, I had the lombok @AllArgsConstructor and that picked up the property as well. Deleting this annotation solved the problem.</p>\n"},{"comments":[{"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"score":1,"creation_date":1645195260,"post_id":67544064,"comment_id":125813576,"body_markdown":"Thank you so much - that was my point &#39;NOTE: DON&#39;T TRY TO GET VALUE IN CONSTRUCTOR OF SERVICE IT WILL BE NULL.&#39;","body":"Thank you so much - that was my point &#39;NOTE: DON&#39;T TRY TO GET VALUE IN CONSTRUCTOR OF SERVICE IT WILL BE NULL.&#39;"}],"tags":[],"owner":{"account_id":3543091,"reputation":807,"user_id":2959707,"display_name":"Shirish Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1621062273,"creation_date":1621061935,"answer_id":67544064,"question_id":15937592,"body_markdown":"@Value sometimes can take a day or a half to get resolved ;).\r\n\r\nHere is what I did :\r\n\r\n 1. Add property to properties or YAML file \r\n\r\n 2. Make Sure MAIN CLASS IS ANNOTATED WITH @EnableAutoConfiguration OR @SpringBootApplication\r\n\r\n 3. CREATE AppConfig IN WHICH YOU CAN USE @Value \r\n\r\n    @Value(&quot;${PROPERTY}&quot;)\r\n    private String URL;\r\n\r\nAnnotate this AppConfig with @Configuration at class level \r\n\r\n 4. SO FAR SETUP IS DONE NOW USE IT WHEREVER YOU WANT BY AUTOWIRING AppConfig\r\n\r\nEXAMPLE: IN SOME SERVICE     @Autowired private AppConfig appConfig;\r\nAND IN THE METHOD OF THIS SERVICE call appConfig.getUrl() to get the value of property URL from a properties file.\r\n\r\nNOTE: DON&#39;T TRY TO GET VALUE IN CONSTRUCTOR OF SERVICE IT WILL BE NULL.","title":"Spring @Value is not resolving to value from property file","body":"<p>@Value sometimes can take a day or a half to get resolved ;).</p>\n<p>Here is what I did :</p>\n<ol>\n<li><p>Add property to properties or YAML file</p>\n</li>\n<li><p>Make Sure MAIN CLASS IS ANNOTATED WITH @EnableAutoConfiguration OR @SpringBootApplication</p>\n</li>\n<li><p>CREATE AppConfig IN WHICH YOU CAN USE @Value</p>\n<p>@Value(&quot;${PROPERTY}&quot;)\nprivate String URL;</p>\n</li>\n</ol>\n<p>Annotate this AppConfig with @Configuration at class level</p>\n<ol start=\"4\">\n<li>SO FAR SETUP IS DONE NOW USE IT WHEREVER YOU WANT BY AUTOWIRING AppConfig</li>\n</ol>\n<p>EXAMPLE: IN SOME SERVICE     @Autowired private AppConfig appConfig;\nAND IN THE METHOD OF THIS SERVICE call appConfig.getUrl() to get the value of property URL from a properties file.</p>\n<p>NOTE: DON'T TRY TO GET VALUE IN CONSTRUCTOR OF SERVICE IT WILL BE NULL.</p>\n"},{"tags":[],"owner":{"account_id":18473332,"reputation":45,"user_id":13457596,"display_name":"emily"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628366330,"creation_date":1628347130,"answer_id":68693341,"question_id":15937592,"body_markdown":"Mine was casued by importing a wrong `dependency`. \r\nI had it imported from `lombok` by accident instead of `&quot;import org.springframework.beans.factory.annotation.Value;&quot;`\r\nChanging it back solved the problem ","title":"Spring @Value is not resolving to value from property file","body":"<p>Mine was casued by importing a wrong <code>dependency</code>.\nI had it imported from <code>lombok</code> by accident instead of <code>&quot;import org.springframework.beans.factory.annotation.Value;&quot;</code>\nChanging it back solved the problem</p>\n"},{"tags":[],"owner":{"account_id":9912449,"reputation":1922,"user_id":7338630,"display_name":"gmexo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664217260,"creation_date":1664217260,"answer_id":73858493,"question_id":15937592,"body_markdown":"For me it was due to resources folder not marked as &quot;Resources Root&quot; in Intellij IDEA. Just right-click on resources directory -&gt; &quot;Mark directory as&quot; -&gt; &quot;Resources Root&quot;.","title":"Spring @Value is not resolving to value from property file","body":"<p>For me it was due to resources folder not marked as &quot;Resources Root&quot; in Intellij IDEA. Just right-click on resources directory -&gt; &quot;Mark directory as&quot; -&gt; &quot;Resources Root&quot;.</p>\n"},{"tags":[],"owner":{"account_id":441792,"reputation":377,"user_id":832091,"display_name":"marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664278780,"creation_date":1664278780,"answer_id":73866966,"question_id":15937592,"body_markdown":"The reason why things were not working for me was because I had 2 instances of PropertyPlaceholderConfigurer beans set up (in a large set of spring configurations). And once one is setup the other is completely useless. It is probably a very obvious thing, but for me it was not. I do not understand why a second instance of a PropertyPlaceholderConfigurer does not throw an exception at the moment of creation (when there is already another instance). Instead of silently ignoring the second instance. Like this you could get a meaningful error.\r\n\r\nHope it is helpful for anyone out there :.)","title":"Spring @Value is not resolving to value from property file","body":"<p>The reason why things were not working for me was because I had 2 instances of PropertyPlaceholderConfigurer beans set up (in a large set of spring configurations). And once one is setup the other is completely useless. It is probably a very obvious thing, but for me it was not. I do not understand why a second instance of a PropertyPlaceholderConfigurer does not throw an exception at the moment of creation (when there is already another instance). Instead of silently ignoring the second instance. Like this you could get a meaningful error.</p>\n<p>Hope it is helpful for anyone out there :.)</p>\n"},{"tags":[],"owner":{"account_id":16967213,"reputation":43,"user_id":12272760,"display_name":"MatthieuBlm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671786345,"creation_date":1671786019,"answer_id":74897866,"question_id":15937592,"body_markdown":"For me it was because I had moved my project root folder. I don&#39;t know why, but removing all folders `.settings`, `.mvn`, `target`, `.project` and reimport project into eclipse worked for me.","title":"Spring @Value is not resolving to value from property file","body":"<p>For me it was because I had moved my project root folder. I don't know why, but removing all folders <code>.settings</code>, <code>.mvn</code>, <code>target</code>, <code>.project</code> and reimport project into eclipse worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11302207,"reputation":103,"user_id":8287786,"display_name":"Ali Hosseinzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675594342,"creation_date":1675594342,"answer_id":75351703,"question_id":15937592,"body_markdown":"In my case, I did not care about where does this value is used! If it uses in constructor, take care about components&#39; loading order!","title":"Spring @Value is not resolving to value from property file","body":"<p>In my case, I did not care about where does this value is used! If it uses in constructor, take care about components' loading order!</p>\n"},{"tags":[],"owner":{"account_id":129048,"reputation":1142,"user_id":327335,"display_name":"gersonZaragocin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682629350,"creation_date":1682629350,"answer_id":76124640,"question_id":15937592,"body_markdown":"This was a real case and still relevant for this question.\r\n\r\nWhen you have a config server provided configuration, and it is running in CloudFoundry. You have to make sure that you have configured the permissions to access the git repository that holds the configuration files. \r\n\r\nThe weird thing in this case is that sometimes the value was being resolved and sometimes it did not. \r\n\r\nThe cloud config server deployed had 2 instances created. One of the instances was created when the github token was still valid and the other was created when the token was invalidated using manual scalation. So this second instance was not UP although the first instance continued UP and running.\r\n\r\nThe service depending on that config server was deployed with 3 instances. When the application was deployed it created 2 instances with the values correctly injected and 1 instance with values with null because it was trying to resolve the configuration properties from the config server instance that was not UP. ","title":"Spring @Value is not resolving to value from property file","body":"<p>This was a real case and still relevant for this question.</p>\n<p>When you have a config server provided configuration, and it is running in CloudFoundry. You have to make sure that you have configured the permissions to access the git repository that holds the configuration files.</p>\n<p>The weird thing in this case is that sometimes the value was being resolved and sometimes it did not.</p>\n<p>The cloud config server deployed had 2 instances created. One of the instances was created when the github token was still valid and the other was created when the token was invalidated using manual scalation. So this second instance was not UP although the first instance continued UP and running.</p>\n<p>The service depending on that config server was deployed with 3 instances. When the application was deployed it created 2 instances with the values correctly injected and 1 instance with values with null because it was trying to resolve the configuration properties from the config server instance that was not UP.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693052121,"post_id":76960682,"comment_id":135710707,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76960682/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4584394,"reputation":55,"user_id":3719599,"display_name":"Alexander"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692787957,"creation_date":1692787957,"answer_id":76960682,"question_id":15937592,"body_markdown":"Don&#39;t repeat my mistake. If this occurrs during tests only make sure you put your value(s) in property file **in** /test/resources","title":"Spring @Value is not resolving to value from property file","body":"<p>Don't repeat my mistake. If this occurrs during tests only make sure you put your value(s) in property file <strong>in</strong> /test/resources</p>\n"}],"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208981,"favorite_count":0,"down_vote_count":1,"up_vote_count":92,"accepted_answer_id":15995837,"answer_count":15,"score":91,"last_activity_date":1692787957,"creation_date":1365632788,"question_id":15937592,"body_markdown":"I&#39;ve had this working in some other project before, I am just re-doing the same thing but for some reason it&#39;s not working. The Spring `@Value` is not reading from property file, but instead it&#39;s taking the value literally\r\n\r\n**AppConfig.java**\r\n\r\n    @Component\r\n    public class AppConfig\r\n    {\r\n        @Value(&quot;${key.value1}&quot;)\r\n        private String value;\r\n        \r\n        public String getValue()\r\n        {\r\n            return value;\r\n        }\r\n    }\r\n\r\n\r\n**applicationContext.xml:**\r\n\r\n    &lt;context:component-scan\r\n    \tbase-package=&quot;com.test.config&quot; /&gt;\r\n    &lt;context:annotation-config /&gt;\r\n    \r\n    &lt;bean id=&quot;appConfigProperties&quot;\r\n    \tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;property name=&quot;location&quot; value=&quot;classpath:appconfig.properties&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n**appconfig.properties**\r\n\r\n    key.value1=test value 1\r\n\r\nIn my controller, where I have:\r\n\r\n    @Autowired\r\n    private AppConfig appConfig;\r\n    \r\nThe application starts just fine, but when I do\r\n\r\n    appConfig.getValue()\r\n\r\nit returns \r\n\r\n    ${key.value1}\r\n\r\nIt doesn&#39;t resolve to the value inside the properties file.\r\n\r\nThoughts?","title":"Spring @Value is not resolving to value from property file","body":"<p>I've had this working in some other project before, I am just re-doing the same thing but for some reason it's not working. The Spring <code>@Value</code> is not reading from property file, but instead it's taking the value literally</p>\n\n<p><strong>AppConfig.java</strong></p>\n\n<pre><code>@Component\npublic class AppConfig\n{\n    @Value(\"${key.value1}\")\n    private String value;\n\n    public String getValue()\n    {\n        return value;\n    }\n}\n</code></pre>\n\n<p><strong>applicationContext.xml:</strong></p>\n\n<pre><code>&lt;context:component-scan\n    base-package=\"com.test.config\" /&gt;\n&lt;context:annotation-config /&gt;\n\n&lt;bean id=\"appConfigProperties\"\n    class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\" value=\"classpath:appconfig.properties\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>appconfig.properties</strong></p>\n\n<pre><code>key.value1=test value 1\n</code></pre>\n\n<p>In my controller, where I have:</p>\n\n<pre><code>@Autowired\nprivate AppConfig appConfig;\n</code></pre>\n\n<p>The application starts just fine, but when I do</p>\n\n<pre><code>appConfig.getValue()\n</code></pre>\n\n<p>it returns </p>\n\n<pre><code>${key.value1}\n</code></pre>\n\n<p>It doesn't resolve to the value inside the properties file.</p>\n\n<p>Thoughts?</p>\n"},{"tags":["java","docker","devops","tomcat9"],"comments":[{"owner":{"display_name":"user19238163"},"score":1,"creation_date":1692770456,"post_id":76958407,"comment_id":135667820,"body_markdown":"Do you have a target directory? did you create it? Normally target is an example we gave you should create an empty directory and place the name of that directory.","body":"Do you have a target directory? did you create it? Normally target is an example we gave you should create an empty directory and place the name of that directory."},{"owner":{"account_id":29279979,"reputation":1,"user_id":22432798,"display_name":"Vikas S"},"score":0,"creation_date":1692772846,"post_id":76958407,"comment_id":135668219,"body_markdown":"I did not create target directory, but after running mvn package it will create target folder and application packages","body":"I did not create target directory, but after running mvn package it will create target folder and application packages"},{"owner":{"display_name":"user19238163"},"score":1,"creation_date":1692777754,"post_id":76958407,"comment_id":135669091,"body_markdown":"Ok then go this path /var/lib/docker/tmp/buildkit-mount3438055024/ and then use the ls command to verify if it created the target directory. Also, some time last directory is present but some other direct from the path is missing. you need to check if this path has all the directories if not then create them.","body":"Ok then go this path /var/lib/docker/tmp/buildkit-mount3438055024/ and then use the ls command to verify if it created the target directory. Also, some time last directory is present but some other direct from the path is missing. you need to check if this path has all the directories if not then create them."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1692787872,"post_id":76958407,"comment_id":135671022,"body_markdown":"The `target` directory needs to exist on your host before you run `docker build`; did you need to run `mvn package` first?  It could help to [edit] the question and describe the problem in a little more detail, including what command(s) you ran.","body":"The <code>target</code> directory needs to exist on your host before you run <code>docker build</code>; did you need to run <code>mvn package</code> first?  It could help to <a href=\"https://stackoverflow.com/posts/76958407/edit\">edit</a> the question and describe the problem in a little more detail, including what command(s) you ran."}],"owner":{"account_id":29279979,"reputation":1,"user_id":22432798,"display_name":"Vikas S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692787803,"creation_date":1692767141,"question_id":76958407,"body_markdown":"Dockerfile\r\n\r\n```lang-sh\r\nFROM tomcat:9.0\r\n\r\nLABEL &quot;project&quot;=&quot;java_app&quot;\r\nLABEL &quot;author&quot;=&quot;vikas&quot;\r\n\r\n# To remove the default ROOT web applications\r\nRUN rm -rf /usr/local/tomcat/webapps/ROOT\r\n\r\n\r\n# To copy war file to the webapps directory in the docker container\r\nCOPY target/*.war var/lib/tomcat9/webapps/\r\n\r\n# Expose the default tomcat port\r\nEXPOSE 8080\r\n\r\n# Start tomcat when the container starts\r\nCMD [&quot;catalina.sh&quot;,&quot;run&quot;]\r\n```\r\n\r\n```none\r\n CACHED [2/3] RUN rm -rf /usr/local/tomcat/webapps/ROOT               0.0s\r\n =&gt; ERROR [3/3] COPY target/*.war var/lib/tomcat9/webapps/               0.1s\r\n------\r\n &gt; [3/3] COPY target/*.war var/lib/tomcat9/webapps/:\r\n------\r\nDockerfile:11\r\n--------------------\r\n   9 |\r\n  10 |     # To copy war file to the webapps directory in the docker container\r\n  11 | &gt;&gt;&gt; COPY target/*.war var/lib/tomcat9/webapps/\r\n  12 |\r\n  13 |     # Expose the default tomcat port\r\n--------------------\r\nERROR: failed to solve: lstat /var/lib/docker/tmp/buildkit-mount3438055024/target: no such file or directory\r\n```","title":"while diploying or building docker image for java application using tomcat:9 i&#39;m facing error that no such directory target/*.war","body":"<p>Dockerfile</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM tomcat:9.0\n\nLABEL &quot;project&quot;=&quot;java_app&quot;\nLABEL &quot;author&quot;=&quot;vikas&quot;\n\n# To remove the default ROOT web applications\nRUN rm -rf /usr/local/tomcat/webapps/ROOT\n\n\n# To copy war file to the webapps directory in the docker container\nCOPY target/*.war var/lib/tomcat9/webapps/\n\n# Expose the default tomcat port\nEXPOSE 8080\n\n# Start tomcat when the container starts\nCMD [&quot;catalina.sh&quot;,&quot;run&quot;]\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code> CACHED [2/3] RUN rm -rf /usr/local/tomcat/webapps/ROOT               0.0s\n =&gt; ERROR [3/3] COPY target/*.war var/lib/tomcat9/webapps/               0.1s\n------\n &gt; [3/3] COPY target/*.war var/lib/tomcat9/webapps/:\n------\nDockerfile:11\n--------------------\n   9 |\n  10 |     # To copy war file to the webapps directory in the docker container\n  11 | &gt;&gt;&gt; COPY target/*.war var/lib/tomcat9/webapps/\n  12 |\n  13 |     # Expose the default tomcat port\n--------------------\nERROR: failed to solve: lstat /var/lib/docker/tmp/buildkit-mount3438055024/target: no such file or directory\n</code></pre>\n"},{"tags":["java","eclipse","maven","selenium-webdriver","plugins"],"owner":{"account_id":24063515,"reputation":3,"user_id":18040408,"display_name":"Harshaaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692787562,"creation_date":1692787562,"question_id":76960628,"body_markdown":"Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0\r\n\r\nPlugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0\r\n\r\nwhile creating maven project getting error that plugin error. after project creating it gives plugin error in pom.xml file in first row.\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 **https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;**\r\n ","title":"Having error while creating maven project Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0","body":"<p>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0</p>\n<p>Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0</p>\n<p>while creating maven project getting error that plugin error. after project creating it gives plugin error in pom.xml file in first row.</p>\n<p>**</p>\n"},{"tags":["java","if-statement","double","calculator"],"comments":[{"owner":{"account_id":915836,"reputation":6730,"user_id":948652,"accept_rate":85,"display_name":"arynaq"},"score":0,"creation_date":1388786520,"post_id":20913442,"comment_id":31396599,"body_markdown":"What is the difference between a decimal number and its rounded down value?","body":"What is the difference between a decimal number and its rounded down value?"},{"owner":{"account_id":3697360,"reputation":173,"user_id":3078305,"accept_rate":94,"display_name":"user202051"},"score":0,"creation_date":1388786676,"post_id":20913442,"comment_id":31396679,"body_markdown":"The decimal point. How about splitting the double to an array, iterating through and checking if any of the any of the values are a&quot;.&quot;","body":"The decimal point. How about splitting the double to an array, iterating through and checking if any of the any of the values are a&quot;.&quot;"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1388788047,"post_id":20913442,"comment_id":31397297,"body_markdown":"I don&#39;t know what a &quot;recursive decimal&quot; is, but if you mean a &quot;repeating decimal&quot;, like 1/3 = 0.333333... or 1/27 = 0.037037037... -- you can&#39;t.  A `double` is incapable of representing numbers like 1/3 exactly.  Computers represent numbers in binary, and every number that a `double` represents exactly will be of the form N/(2^M) where N and M are integers.  And any such number, if it isn&#39;t a whole number, will have a decimal representation that terminates.","body":"I don&#39;t know what a &quot;recursive decimal&quot; is, but if you mean a &quot;repeating decimal&quot;, like 1/3 = 0.333333... or 1/27 = 0.037037037... -- you can&#39;t.  A <code>double</code> is incapable of representing numbers like 1/3 exactly.  Computers represent numbers in binary, and every number that a <code>double</code> represents exactly will be of the form N/(2^M) where N and M are integers.  And any such number, if it isn&#39;t a whole number, will have a decimal representation that terminates."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1388788311,"post_id":20913442,"comment_id":31397402,"body_markdown":"@ajb Of course, a &quot;repeating decimal&quot; is, IIRC, always representable as a ratio of whole numbers.  Unfortunately, however, once the number has been cast to float/double it&#39;s lost it&#39;s repeating character.","body":"@ajb Of course, a &quot;repeating decimal&quot; is, IIRC, always representable as a ratio of whole numbers.  Unfortunately, however, once the number has been cast to float/double it&#39;s lost it&#39;s repeating character."}],"answers":[{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1388787093,"post_id":20913552,"comment_id":31396858,"body_markdown":"This is just equivalent to `return Math.floor(value) == value`.","body":"This is just equivalent to <code>return Math.floor(value) == value</code>."},{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1388787658,"post_id":20913552,"comment_id":31397113,"body_markdown":"Uuuhu. Your first solution was nice and clean apart from the unnecessary if. Now you mix formatting into the isWhole() test, whereby it does things the name does not advertise (violates clean code principles). Further it will break in all kinds of corner cases where conversion between binary and decimal representation is inexact.","body":"Uuuhu. Your first solution was nice and clean apart from the unnecessary if. Now you mix formatting into the isWhole() test, whereby it does things the name does not advertise (violates clean code principles). Further it will break in all kinds of corner cases where conversion between binary and decimal representation is inexact."},{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1388788012,"post_id":20913552,"comment_id":31397279,"body_markdown":"@MiteshPathak: yes, well, but then we cannot return a double, because a double cannot be rounded properly to decimal places (except zero), due to the conversion issues between binary and decimal. We would then have to return a String after formatting.","body":"@MiteshPathak: yes, well, but then we cannot return a double, because a double cannot be rounded properly to decimal places (except zero), due to the conversion issues between binary and decimal. We would then have to return a String after formatting."}],"tags":[],"owner":{"account_id":2259867,"reputation":1306,"user_id":1990228,"display_name":"Mitesh Pathak"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1388788204,"creation_date":1388786819,"answer_id":20913552,"question_id":20913442,"body_markdown":"**[UPDATE]** returns value - with 3 decimal places\r\n\r\n    public boolean isWhole(double value) {\r\n        return Math.floor(value) == value;\r\n    }\r\n\r\n+ You can&#39;t have a function that returns either `int` or `double`\r\n+ To convert `double` to `int`; simply **typecast** :- `int valueInt = (int) valueDouble;`  ","title":"Only return a decimal if it&#39;s not a whole number","body":"<p><strong>[UPDATE]</strong> returns value - with 3 decimal places</p>\n\n<pre><code>public boolean isWhole(double value) {\n    return Math.floor(value) == value;\n}\n</code></pre>\n\n<ul>\n<li>You can't have a function that returns either <code>int</code> or <code>double</code></li>\n<li>To convert <code>double</code> to <code>int</code>; simply <strong>typecast</strong> :- <code>int valueInt = (int) valueDouble;</code>  </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1388836117,"creation_date":1388786908,"answer_id":20913580,"question_id":20913442,"body_markdown":"This was my original answer:\r\n\r\nHow about \r\n\r\n    Math.floor(x)==x\r\n\r\nThe floor leaves the x unchanged, bit-by-bit if it is a mathematical integer (say the docs), so the equality should hold exactly when there is nothing to round.\r\n\r\nAfter some thought, I think using exact comparison may lead to unwanted results. The question is, what the requirements of the OP really are. Is it\r\n\r\n 1. If it is a mathematical integer, show the number with no digits\r\n    after the decimal point, if it is not, show 3 digits after the\r\n    decimal point. Or is it\r\n\r\n 2. If formatting with three digits results in 000 after the decimal point, show only an integer.\r\n\r\nThe solution shown above and in other answers only works, if (1) is the requirement, because the number 2.000001 would turn out as 2.000, because it is not a mathematical integer.\r\n\r\nIf the Locale is fixed to a default, formatting 1.0 for the endsWith()-pattern can of course be optimized into a fixed string like &quot;.000&quot; or &quot;,000&quot;.\r\n\r\nIf (2) is actually requested, my hunch is that there is no way around first formatting the number to a string and only then stripping the zeros, like so:\r\n\r\n    String format(Locale l, double d) {\r\n      String zeros = String.format(l, &quot;%.3f&quot;, 1.0d);\r\n      String s = String.format(l, &quot;%.3f&quot;, d); \r\n      if (s.endsWith(zeros.substring(1))) {\r\n        return s.substring(0, s.length()-4);\r\n      }\r\n      return s;\r\n    }\r\n\r\n","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>This was my original answer:</p>\n\n<p>How about </p>\n\n<pre><code>Math.floor(x)==x\n</code></pre>\n\n<p>The floor leaves the x unchanged, bit-by-bit if it is a mathematical integer (say the docs), so the equality should hold exactly when there is nothing to round.</p>\n\n<p>After some thought, I think using exact comparison may lead to unwanted results. The question is, what the requirements of the OP really are. Is it</p>\n\n<ol>\n<li><p>If it is a mathematical integer, show the number with no digits\nafter the decimal point, if it is not, show 3 digits after the\ndecimal point. Or is it</p></li>\n<li><p>If formatting with three digits results in 000 after the decimal point, show only an integer.</p></li>\n</ol>\n\n<p>The solution shown above and in other answers only works, if (1) is the requirement, because the number 2.000001 would turn out as 2.000, because it is not a mathematical integer.</p>\n\n<p>If the Locale is fixed to a default, formatting 1.0 for the endsWith()-pattern can of course be optimized into a fixed string like \".000\" or \",000\".</p>\n\n<p>If (2) is actually requested, my hunch is that there is no way around first formatting the number to a string and only then stripping the zeros, like so:</p>\n\n<pre><code>String format(Locale l, double d) {\n  String zeros = String.format(l, \"%.3f\", 1.0d);\n  String s = String.format(l, \"%.3f\", d); \n  if (s.endsWith(zeros.substring(1))) {\n    return s.substring(0, s.length()-4);\n  }\n  return s;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440783098,"post_id":20913587,"comment_id":52432100,"body_markdown":"(1) the first part - casting to `int` breaks for large doubles, that can&#39;t be represented in an int. It also has a slight code smell, because it relies on `(int)` doing truncation rather than round. Better to use @user60561&#39;s revised answer. That is, use `Math.floor` instead.","body":"(1) the first part - casting to <code>int</code> breaks for large doubles, that can&#39;t be represented in an int. It also has a slight code smell, because it relies on <code>(int)</code> doing truncation rather than round. Better to use @user60561&#39;s revised answer. That is, use <code>Math.floor</code> instead."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440783504,"post_id":20913587,"comment_id":52432290,"body_markdown":"(2). Incorrect test of a repeating decimal. First, user must understand that a double does not exactly represent a `rational value`, so any representation of that decimal will not be exactly a repeating decimal. Second, a repeating decimal may have non-repeating digits to the left of the repeating portion. E.g. `1/6` becomes `0.1666..`. Because a double cannot exactly represent a repeating decimal, you have to make an *arbitrary* decision as to how many identical digits at the end mean &quot;it repeats&quot; ...","body":"(2). Incorrect test of a repeating decimal. First, user must understand that a double does not exactly represent a <code>rational value</code>, so any representation of that decimal will not be exactly a repeating decimal. Second, a repeating decimal may have non-repeating digits to the left of the repeating portion. E.g. <code>1&#47;6</code> becomes <code>0.1666..</code>. Because a double cannot exactly represent a repeating decimal, you have to make an <i>arbitrary</i> decision as to how many identical digits at the end mean &quot;it repeats&quot; ..."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440783966,"post_id":20913587,"comment_id":52432517,"body_markdown":"... Third, the string representation will round, so `1/6` becomes `0.1666667`. So allow the last digit to be 1 larger, if the repeated digit is 5 or greater. But don&#39;t *require* it to be one larger - due to inexactness of double representation, you might happen to get `0.1666666` instead. Not for 1/6, but in a few cases. Fourth, that is an ugly way to convert to a string. Also, you probably want to specify how many significant places. Unless you know you have a small number, you&#39;ll have to use exponential (scientifica notation), and skip the exponent part. Code left to the reader. ...","body":"... Third, the string representation will round, so <code>1&#47;6</code> becomes <code>0.1666667</code>. So allow the last digit to be 1 larger, if the repeated digit is 5 or greater. But don&#39;t <i>require</i> it to be one larger - due to inexactness of double representation, you might happen to get <code>0.1666666</code> instead. Not for 1/6, but in a few cases. Fourth, that is an ugly way to convert to a string. Also, you probably want to specify how many significant places. Unless you know you have a small number, you&#39;ll have to use exponential (scientifica notation), and skip the exponent part. Code left to the reader. ..."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440785587,"post_id":20913587,"comment_id":52433395,"body_markdown":"... it gets worse. Consider `(new Double(123456788.0/6)).toString()` =&gt; `2.0576131333333332E7`. Skipping exponent `E7`, we see that the final digit is `2` not `3`. Again, the inexactness of double. But if you say &quot;I&#39;ll just skip the last digit and check what comes before&quot;, then what happens if you see `2.05761333335`. Is that a repeating decimal? No. On the other hand, it might *originally* have been a repeating decimal, but then you did some (non-exact) math, like adding another number to it, and it got *slightly off*. That&#39;s non-exact math for you.","body":"... it gets worse. Consider <code>(new Double(123456788.0&#47;6)).toString()</code> =&gt; <code>2.0576131333333332E7</code>. Skipping exponent <code>E7</code>, we see that the final digit is <code>2</code> not <code>3</code>. Again, the inexactness of double. But if you say &quot;I&#39;ll just skip the last digit and check what comes before&quot;, then what happens if you see <code>2.05761333335</code>. Is that a repeating decimal? No. On the other hand, it might <i>originally</i> have been a repeating decimal, but then you did some (non-exact) math, like adding another number to it, and it got <i>slightly off</i>. That&#39;s non-exact math for you."}],"tags":[],"owner":{"account_id":3282665,"reputation":155,"user_id":2762880,"display_name":"erzr2"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1388786927,"creation_date":1388786927,"answer_id":20913587,"question_id":20913442,"body_markdown":"To see if a double is a whole number use\r\n    \r\n        double d;        \r\n        int whole = (int) d;\r\n        if(whole == d){\r\n            return whole;\r\n        }\r\n        else{\r\n            (your formatting here)\r\n            return formattedDouble;\r\n        }\r\nYou could check if it is recursive by creating:\r\n       \r\n      String s = d + &quot;&quot;;\r\n      for(int i = 1; i &lt; s.length(); i++){\r\n          if(s.charAt(i) == s.charAt(i-1)){\r\n              continue;\r\n          }\r\n          else{\r\n             return false;\r\n          }\r\n      }\r\n","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>To see if a double is a whole number use</p>\n\n<pre><code>    double d;        \n    int whole = (int) d;\n    if(whole == d){\n        return whole;\n    }\n    else{\n        (your formatting here)\n        return formattedDouble;\n    }\n</code></pre>\n\n<p>You could check if it is recursive by creating:</p>\n\n<pre><code>  String s = d + \"\";\n  for(int i = 1; i &lt; s.length(); i++){\n      if(s.charAt(i) == s.charAt(i-1)){\n          continue;\n      }\n      else{\n         return false;\n      }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":1,"creation_date":1388787201,"post_id":20913616,"comment_id":31396895,"body_markdown":"I think the definition is quite clear. The OP wants to check for values that are mathematical integers. Casting to int will break for large double values like 1e300.","body":"I think the definition is quite clear. The OP wants to check for values that are mathematical integers. Casting to int will break for large double values like 1e300."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440782570,"post_id":20913616,"comment_id":52431815,"body_markdown":"The corrected answer (using `floor` instead of `(int)`) is better. But the comparison should be to `0.0005` rather than `0.001`. REASON: Values that *round* to a whole number (when keeping 3 decimal digits) should be considered whole. If the value *rounds* to a non-whole, it should not be considered whole. For example, the input `1.00099` would round to `1.001`, and that is how it should be displayed.","body":"The corrected answer (using <code>floor</code> instead of <code>(int)</code>) is better. But the comparison should be to <code>0.0005</code> rather than <code>0.001</code>. REASON: Values that <i>round</i> to a whole number (when keeping 3 decimal digits) should be considered whole. If the value <i>rounds</i> to a non-whole, it should not be considered whole. For example, the input <code>1.00099</code> would round to <code>1.001</code>, and that is how it should be displayed."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440782846,"post_id":20913616,"comment_id":52431967,"body_markdown":"Minor point: `Math.abs` is not needed.  See `floor` in http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html. Floor is always less-than-or-equal-to the input value. Final corrected answer: `if (in - Math.floor(in) &lt; 0.0005)`","body":"Minor point: <code>Math.abs</code> is not needed.  See <code>floor</code> in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/Math.html</a>. Floor is always less-than-or-equal-to the input value. Final corrected answer: <code>if (in - Math.floor(in) &lt; 0.0005)</code>"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440785986,"post_id":20913616,"comment_id":52433620,"body_markdown":"Alternative interpretation of OP, is to look for whole number within some smaller tolerance. So maybe `1.00000035` should display as `1`, but `1.0004` should display as `1.000` (where the zeroes seem unnecessary, but they are a clue that &quot;significant&quot; rounding occurred). To achieve this, perhaps do `(in - Math.floor(in) &lt; 0.00001)`, though the value to use is rather arbitrary.","body":"Alternative interpretation of OP, is to look for whole number within some smaller tolerance. So maybe <code>1.00000035</code> should display as <code>1</code>, but <code>1.0004</code> should display as <code>1.000</code> (where the zeroes seem unnecessary, but they are a clue that &quot;significant&quot; rounding occurred). To achieve this, perhaps do <code>(in - Math.floor(in) &lt; 0.00001)</code>, though the value to use is rather arbitrary."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1440786614,"post_id":20913616,"comment_id":52433901,"body_markdown":"BTW, the answer doesn&#39;t say how to get the `whole value` out. In the whole number branch, do `Math.round(in)`. The result is a double, containing an integer value. That is, it has no decimal digits. For a string representation with no digits, do `String.format(&quot;%.0f&quot;, in)`. Ex: `String.format(&quot;%.0f&quot;, new Double(5.0/6))` results in `1`, because this format rounds.","body":"BTW, the answer doesn&#39;t say how to get the <code>whole value</code> out. In the whole number branch, do <code>Math.round(in)</code>. The result is a double, containing an integer value. That is, it has no decimal digits. For a string representation with no digits, do <code>String.format(&quot;%.0f&quot;, in)</code>. Ex: <code>String.format(&quot;%.0f&quot;, new Double(5.0&#47;6))</code> results in <code>1</code>, because this format rounds."}],"tags":[],"owner":{"account_id":2315848,"reputation":2035,"user_id":2299084,"accept_rate":50,"display_name":"flaviut"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388787575,"creation_date":1388787040,"answer_id":20913616,"question_id":20913442,"body_markdown":"    if(Math.abs(in-Math.floor(in)) &lt; 0.001){\r\n        /* is whole number */\r\n    } else {\r\n        /* is not whole number */\r\n    }\r\n\r\nWhole number isn&#39;t really defined for doubles, so a whole number can be seen as a number that has would not result in `n.000`. `0.001` is chosen specifically because it is the intended output precision.","title":"Only return a decimal if it&#39;s not a whole number","body":"<pre><code>if(Math.abs(in-Math.floor(in)) &lt; 0.001){\n    /* is whole number */\n} else {\n    /* is not whole number */\n}\n</code></pre>\n\n<p>Whole number isn't really defined for doubles, so a whole number can be seen as a number that has would not result in <code>n.000</code>. <code>0.001</code> is chosen specifically because it is the intended output precision.</p>\n"},{"tags":[],"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388787151,"creation_date":1388787151,"answer_id":20913642,"question_id":20913442,"body_markdown":"My first advice would be: keep it simple. Java has functions that make this sort of thing easy:\r\n\r\n    import java.Math;\r\n    public class MyFunctionsLibrary {\r\n        public static boolean isWhole(double x) {\r\n            if(x - Math.floor(x) == 0)\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n        public static void testIt() {\r\n            double a = 123.456;\r\n            Integer whole = null;\r\n            Double nonWhole = null;\r\n            if(isWhole(a))\r\n                whole = new Integer(Math.floor(a));\r\n            else\r\n                nonWhole = new Double(a);\r\n        }\r\n    }\r\n","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>My first advice would be: keep it simple. Java has functions that make this sort of thing easy:</p>\n\n<pre><code>import java.Math;\npublic class MyFunctionsLibrary {\n    public static boolean isWhole(double x) {\n        if(x - Math.floor(x) == 0)\n            return true;\n        else\n            return false;\n    }\n    public static void testIt() {\n        double a = 123.456;\n        Integer whole = null;\n        Double nonWhole = null;\n        if(isWhole(a))\n            whole = new Integer(Math.floor(a));\n        else\n            nonWhole = new Double(a);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3697360,"reputation":173,"user_id":3078305,"accept_rate":94,"display_name":"user202051"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8138,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20913552,"answer_count":5,"score":3,"last_activity_date":1692787271,"creation_date":1388786373,"question_id":20913442,"body_markdown":"I&#39;ve been trying to write a function `isWhole` that is given a double and looks to see if it&#39;s a whole number, and if it is return the value without the decimal (as an int?) else return it with 3 decimal places (I can do this part with number format.\r\n\r\nMy question is how can I check if a double is a whole number and even a recursive decimal?","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>I've been trying to write a function <code>isWhole</code> that is given a double and looks to see if it's a whole number, and if it is return the value without the decimal (as an int?) else return it with 3 decimal places (I can do this part with number format.</p>\n<p>My question is how can I check if a double is a whole number and even a recursive decimal?</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1692787229,"post_id":76960564,"comment_id":135670897,"body_markdown":"+ the better &quot;question&quot; is - how can I allow this anonymous user to interact with the application? Problem is for a given role I have attributes like (&quot;email&quot;) to verify it&#39;s authenticity. An anonymous user is *anonymous* and just browsing? Should I identify them via IP?","body":"+ the better &quot;question&quot; is - how can I allow this anonymous user to interact with the application? Problem is for a given role I have attributes like (&quot;email&quot;) to verify it&#39;s authenticity. An anonymous user is <i>anonymous</i> and just browsing? Should I identify them via IP?"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692787071,"creation_date":1692787071,"question_id":76960564,"body_markdown":"Currently, I have an role-based access enabled on my back-end. It&#39;s similar to @[ch4mp][1]&#39;s tutorials on [GitHub][2]. It&#39;s a very basic resource server (also a BFF, but that&#39;s not the matter) with `spring-addons-webmvc-jwt-resource-server`! That does it&#39;s job just fine. \r\n\r\nHowever, now I&#39;m looking to enable some sort of &quot;anonymous&quot; user - similar to [this StackOverflow question][3] or [this GitHub issue][4] *(and many more)*.\r\n\r\nAn &quot;anonymous&quot; user is granted some basic access to SOME endpoints. Furthermore, I want to save data attributes to said user (e.g. I got a tracking class which requires a factual role). Or like in most front-ends a user can also use the app and interact with it *(and  thus **is required access** to some endpoints)* on a rudimentary level. Further endpoints would require the user to be signed-in!\r\n\r\n**How can one implement this with a basic Role-Based Authentication? Preferably with KeyCloak?** \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/619830/ch4mp\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\r\n  [3]: https://stackoverflow.com/questions/63389940/login-as-anonymous-user-in-keycloak\r\n  [4]: https://github.com/quarkusio/quarkus/issues/6807","title":"How to enable &quot;Anonymous&quot; Users with RBAC in KeyCloak?","body":"<p>Currently, I have an role-based access enabled on my back-end. It's similar to @<a href=\"https://stackoverflow.com/users/619830/ch4mp\">ch4mp</a>'s tutorials on <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">GitHub</a>. It's a very basic resource server (also a BFF, but that's not the matter) with <code>spring-addons-webmvc-jwt-resource-server</code>! That does it's job just fine.</p>\n<p>However, now I'm looking to enable some sort of &quot;anonymous&quot; user - similar to <a href=\"https://stackoverflow.com/questions/63389940/login-as-anonymous-user-in-keycloak\">this StackOverflow question</a> or <a href=\"https://github.com/quarkusio/quarkus/issues/6807\" rel=\"nofollow noreferrer\">this GitHub issue</a> <em>(and many more)</em>.</p>\n<p>An &quot;anonymous&quot; user is granted some basic access to SOME endpoints. Furthermore, I want to save data attributes to said user (e.g. I got a tracking class which requires a factual role). Or like in most front-ends a user can also use the app and interact with it <em>(and  thus <strong>is required access</strong> to some endpoints)</em> on a rudimentary level. Further endpoints would require the user to be signed-in!</p>\n<p><strong>How can one implement this with a basic Role-Based Authentication? Preferably with KeyCloak?</strong></p>\n"},{"tags":["java","json","jackson","jackson2"],"comments":[{"owner":{"account_id":8306034,"reputation":5283,"user_id":6243024,"display_name":"ck1"},"score":0,"creation_date":1629036979,"post_id":68695756,"comment_id":121575341,"body_markdown":"Have you tried mapping your JSON to POJOs instead of using a custom deserializer?","body":"Have you tried mapping your JSON to POJOs instead of using a custom deserializer?"},{"owner":{"account_id":261166,"reputation":1670,"user_id":545164,"display_name":"VimalKumar"},"score":0,"creation_date":1659448392,"post_id":68695756,"comment_id":129293794,"body_markdown":"Did you figure this out? I am also in the same boat and would appreciate your fidnings","body":"Did you figure this out? I am also in the same boat and would appreciate your fidnings"},{"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"score":0,"creation_date":1659545834,"post_id":68695756,"comment_id":129321648,"body_markdown":"@VimalKumar unfortunately no. At the time I was having trouble with Gson becase there was a nasty &quot;bug&quot; when handling Long values. Several months later it got fixed, in the meanwhile though my conclusion was that using Gson is much simpler, even writing adapters is much easier and there are plenty of crystal clear guides, can&#39;t say the same for Jackson","body":"@VimalKumar unfortunately no. At the time I was having trouble with Gson becase there was a nasty &quot;bug&quot; when handling Long values. Several months later it got fixed, in the meanwhile though my conclusion was that using Gson is much simpler, even writing adapters is much easier and there are plenty of crystal clear guides, can&#39;t say the same for Jackson"},{"owner":{"account_id":261166,"reputation":1670,"user_id":545164,"display_name":"VimalKumar"},"score":0,"creation_date":1659558492,"post_id":68695756,"comment_id":129325882,"body_markdown":"No worries. I figured out TypeAdapterFactories are more for serialization/deserialization in one package. In our TypeAdapterFactories, we deserialized the current json to object, and then updated few fields on the object. I achieved this with JsonCreator annotation on a method and JsonProperty on method fields, to deserialize and then create the final object and return the object. Thanks for the response.","body":"No worries. I figured out TypeAdapterFactories are more for serialization/deserialization in one package. In our TypeAdapterFactories, we deserialized the current json to object, and then updated few fields on the object. I achieved this with JsonCreator annotation on a method and JsonProperty on method fields, to deserialize and then create the final object and return the object. Thanks for the response."}],"answers":[{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692786984,"creation_date":1692786984,"answer_id":76960546,"question_id":68695756,"body_markdown":"    Sharing a code snippet for implementing custom Deserializer \r\n    Basically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\r\n        \r\n        import com.fasterxml.jackson.core.JsonParser;\r\n        import com.fasterxml.jackson.core.JsonProcessingException;\r\n        import com.fasterxml.jackson.databind.DeserializationContext;\r\n        import com.fasterxml.jackson.databind.JsonDeserializer;\r\n        import com.fasterxml.jackson.databind.JsonMappingException;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.http.HttpStatus;\r\n        \r\n        import java.io.IOException;\r\n        \r\n        public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\r\n        \r\n            private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\r\n        \r\n            @Override\r\n            public Integer deserialize(JsonParser p, DeserializationContext ctx)\r\n                 throws IOException,JsonProcessingException {\r\n                logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\r\n                Double doubleVal = p.getDoubleValue();\r\n                try {\r\n                    double ceil = Math.ceil(doubleVal);\r\n                    double floor = Math.floor(doubleVal);\r\n                    if((ceil-floor)&gt;0) {\r\n                        String message = String.format(&quot;Cannot coerce a floating-point value (&#39;%s&#39;) into Integer&quot;, doubleVal.toString());\r\n                        throw new Exception(message);\r\n                    }\r\n                    return Integer.valueOf(p.getIntValue());\r\n                } catch (Exception exception) {\r\n                    logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\r\n              \r\n                    //throw new custom exception which are to be managed by exception handler\r\n                    \r\n                }\r\n            }\r\n        \r\n        }\r\n    \r\n       \r\n        using on bean class--&gt;\r\n         @JsonDeserialize(using = CustomIntegerDeserializer.class)\r\n            private Integer initRatePerSec = -1;\r\n    \r\n        request--&gt;\r\n        {\r\n            .....\r\n            &quot;initRatePerSec&quot;: 5.1\r\n        }\r\n        response--&gt;\r\n        {\r\n            &quot;statusCode&quot;: 400,\r\n             ..............,\r\n            &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value (&#39;5.1&#39;) into Integer; \r\n        }","title":"Jackson, how to properly write a custom deserializer","body":"<pre><code>Sharing a code snippet for implementing custom Deserializer \nBasically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\n    \n    import com.fasterxml.jackson.core.JsonParser;\n    import com.fasterxml.jackson.core.JsonProcessingException;\n    import com.fasterxml.jackson.databind.DeserializationContext;\n    import com.fasterxml.jackson.databind.JsonDeserializer;\n    import com.fasterxml.jackson.databind.JsonMappingException;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.HttpStatus;\n    \n    import java.io.IOException;\n    \n    public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\n    \n        private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\n    \n        @Override\n        public Integer deserialize(JsonParser p, DeserializationContext ctx)\n             throws IOException,JsonProcessingException {\n            logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\n            Double doubleVal = p.getDoubleValue();\n            try {\n                double ceil = Math.ceil(doubleVal);\n                double floor = Math.floor(doubleVal);\n                if((ceil-floor)&gt;0) {\n                    String message = String.format(&quot;Cannot coerce a floating-point value ('%s') into Integer&quot;, doubleVal.toString());\n                    throw new Exception(message);\n                }\n                return Integer.valueOf(p.getIntValue());\n            } catch (Exception exception) {\n                logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\n          \n                //throw new custom exception which are to be managed by exception handler\n                \n            }\n        }\n    \n    }\n\n   \n    using on bean class--&gt;\n     @JsonDeserialize(using = CustomIntegerDeserializer.class)\n        private Integer initRatePerSec = -1;\n\n    request--&gt;\n    {\n        .....\n        &quot;initRatePerSec&quot;: 5.1\n    }\n    response--&gt;\n    {\n        &quot;statusCode&quot;: 400,\n         ..............,\n        &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value ('5.1') into Integer; \n    }\n</code></pre>\n"}],"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692786984,"creation_date":1628366736,"question_id":68695756,"body_markdown":"I&#39;m trying to migrate from Gson to Jackson, but I&#39;m encountering many difficulties because I don&#39;t quite understand how to deserialize a complex JSON.  \r\nThe file looks like this:  \r\n```json\r\n{\r\n    &quot;data_type&quot;: &quot;DatType1&quot;,\r\n    &quot;data&quot;: {\r\n        &quot;data_array&quot;: [\r\n            {\r\n                &quot;data_type&quot;: &quot;DataType2&quot;,\r\n                &quot;data&quot;: {\r\n                    &quot;prop1&quot;: &quot;AString&quot;,\r\n                    &quot;prop2&quot;: ALongValue,\r\n                    &quot;prop3&quot;: null,\r\n                    &quot;prop4&quot;: &quot;AString&quot;,\r\n                }\r\n            },\r\n            {\r\n                &quot;data_type&quot;: &quot;DataType2&quot;,\r\n                &quot;data&quot;: {\r\n                    &quot;prop1&quot;: &quot;AString&quot;,\r\n                    &quot;prop2&quot;: ALongValue,\r\n                    &quot;prop3&quot;: &quot;AString&quot;,\r\n                    &quot;prop4&quot;: null,\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nI tried to write this custom deserializer:  \r\n```java\r\npublic class DataListDeserializer extends StdDeserializer&lt;DataList&gt; {\r\n\r\n    public DataListDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public DataListDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public DataList deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n        JsonNode node = parser.getCodec().readTree(parser);\r\n\r\n        DataTypeEnum type = DataTypeEnum.from(node.get(&quot;data_type&quot;).asText());\r\n        JsonNode dataNode = node.get(&quot;data&quot;);\r\n\r\n        JsonParser ps = dataNode.findValue(&quot;data_array&quot;).traverse();\r\n        ps.setCodec(parser.getCodec());\r\n        List&lt;Data2&gt; trophies = ps.readValueAs(new TypeReference&lt;List&lt;Data2&gt;&gt;() {});\r\n        return null; // Ignore null I&#39;m using the debugger to check\r\n    }\r\n}\r\n```\r\nBut the deserialized Data2 objects have all fields `null`  \r\nPlus, at the end I should build a DataList object with the parsed type and Data2 list, but I can&#39;t use a constructor because I need it to be private, the object is immutable.  \r\nHow can I do it?\r\n\r\n\r\nNote:  \r\nWith Gson I didn&#39;t write any deserializer because I was using JsonPath to get nested objects. I was using this TyepAdapterFactory with a custom annotation:  \r\n```java\r\npublic final class JsonPathTypeAdapterFactory implements TypeAdapterFactory {\r\n    //================================================================================\r\n    // Properties\r\n    //================================================================================\r\n    private static final TypeAdapterFactory jsonPathTypeAdapterFactory = new JsonPathTypeAdapterFactory();\r\n\r\n    //================================================================================\r\n    // Constructors\r\n    //================================================================================\r\n    private JsonPathTypeAdapterFactory() {\r\n    }\r\n\r\n    //================================================================================\r\n    // Getters\r\n    //================================================================================\r\n    public static TypeAdapterFactory getJsonPathTypeAdapterFactory() {\r\n        return jsonPathTypeAdapterFactory;\r\n    }\r\n\r\n    //================================================================================\r\n    // Override Methods\r\n    //================================================================================\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n        final TypeAdapter&lt;T&gt; delegateAdapter = gson.getDelegateAdapter(this, typeToken);\r\n        final Collection&lt;FieldInfo&gt; fieldInfos = FieldInfo.of(new ArrayList&lt;&gt;(), typeToken.getRawType());\r\n        return fieldInfos.isEmpty() ? delegateAdapter : new JsonPathTypeAdapter&lt;&gt;(gson, delegateAdapter, gson.getAdapter(JsonElement.class), fieldInfos);\r\n    }\r\n\r\n    //================================================================================\r\n    // Nested Classes\r\n    //================================================================================\r\n    private static final class JsonPathTypeAdapter&lt;T&gt; extends TypeAdapter&lt;T&gt; {\r\n        private final Gson gson;\r\n        private final TypeAdapter&lt;T&gt; delegateAdapter;\r\n        private final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter;\r\n        private final Collection&lt;FieldInfo&gt; fieldInfos;\r\n\r\n        private JsonPathTypeAdapter(final Gson gson, final TypeAdapter&lt;T&gt; delegateAdapter, final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter, final Collection&lt;FieldInfo&gt; fieldInfos) {\r\n            this.gson = gson;\r\n            this.delegateAdapter = delegateAdapter;\r\n            this.jsonElementTypeAdapter = jsonElementTypeAdapter;\r\n            this.fieldInfos = fieldInfos;\r\n        }\r\n\r\n        @Override\r\n        public void write(final JsonWriter out, final T value) throws IOException {\r\n            delegateAdapter.write(out, value);\r\n        }\r\n\r\n        @Override\r\n        public T read(final JsonReader in) throws IOException {\r\n            final JsonElement outerJsonElement = jsonElementTypeAdapter.read(in).getAsJsonObject();\r\n            final T value = delegateAdapter.fromJsonTree(outerJsonElement);\r\n            for (final FieldInfo fieldInfo : fieldInfos) {\r\n                try {\r\n                    final JsonElement innerJsonElement = fieldInfo.jsonPath.read(outerJsonElement);\r\n                    final Object innerValue = gson.fromJson(innerJsonElement, fieldInfo.field.getType());\r\n                    fieldInfo.field.set(value, innerValue);\r\n                } catch (final PathNotFoundException ignored) {\r\n                } catch (final IllegalAccessException ex) {\r\n                    throw new IOException(ex);\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n\r\n    }\r\n\r\n    private static final class FieldInfo {\r\n        private final Field field;\r\n        private final JsonPath jsonPath;\r\n\r\n        private FieldInfo(final Field field, final JsonPath jsonPath) {\r\n            this.field = field;\r\n            this.jsonPath = jsonPath;\r\n        }\r\n\r\n        private static Collection&lt;FieldInfo&gt; of(Collection&lt;FieldInfo&gt; fieldInfo, Class&lt;?&gt; clazz) {\r\n            fieldInfo.addAll(\r\n                    Arrays.stream(clazz.getDeclaredFields())\r\n                            .filter(f -&gt; f.getAnnotation(JsonPathExpression.class) != null)\r\n                            .map(f -&gt; {\r\n                                final JsonPathExpression jsonPathExpression = f.getAnnotation(JsonPathExpression.class);\r\n                                f.setAccessible(true);\r\n                                return new FieldInfo(f, compile(jsonPathExpression.value()));\r\n                            })\r\n                            .collect(Collectors.toList())\r\n            );\r\n\r\n            if (clazz.getSuperclass() != null) {\r\n                of(fieldInfo, clazz.getSuperclass());\r\n            }\r\n\r\n            return fieldInfo;\r\n        }\r\n    }\r\n}\r\n```\r\nIt was very good actually, very easy, but I don&#39;t think there&#39;s a way to make it work with Jackson too, isn&#39;t it?","title":"Jackson, how to properly write a custom deserializer","body":"<p>I'm trying to migrate from Gson to Jackson, but I'm encountering many difficulties because I don't quite understand how to deserialize a complex JSON.<br />\nThe file looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data_type&quot;: &quot;DatType1&quot;,\n    &quot;data&quot;: {\n        &quot;data_array&quot;: [\n            {\n                &quot;data_type&quot;: &quot;DataType2&quot;,\n                &quot;data&quot;: {\n                    &quot;prop1&quot;: &quot;AString&quot;,\n                    &quot;prop2&quot;: ALongValue,\n                    &quot;prop3&quot;: null,\n                    &quot;prop4&quot;: &quot;AString&quot;,\n                }\n            },\n            {\n                &quot;data_type&quot;: &quot;DataType2&quot;,\n                &quot;data&quot;: {\n                    &quot;prop1&quot;: &quot;AString&quot;,\n                    &quot;prop2&quot;: ALongValue,\n                    &quot;prop3&quot;: &quot;AString&quot;,\n                    &quot;prop4&quot;: null,\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n<p>I tried to write this custom deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataListDeserializer extends StdDeserializer&lt;DataList&gt; {\n\n    public DataListDeserializer() {\n        this(null);\n    }\n\n    public DataListDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public DataList deserialize(JsonParser parser, DeserializationContext context) throws IOException {\n        JsonNode node = parser.getCodec().readTree(parser);\n\n        DataTypeEnum type = DataTypeEnum.from(node.get(&quot;data_type&quot;).asText());\n        JsonNode dataNode = node.get(&quot;data&quot;);\n\n        JsonParser ps = dataNode.findValue(&quot;data_array&quot;).traverse();\n        ps.setCodec(parser.getCodec());\n        List&lt;Data2&gt; trophies = ps.readValueAs(new TypeReference&lt;List&lt;Data2&gt;&gt;() {});\n        return null; // Ignore null I'm using the debugger to check\n    }\n}\n</code></pre>\n<p>But the deserialized Data2 objects have all fields <code>null</code><br />\nPlus, at the end I should build a DataList object with the parsed type and Data2 list, but I can't use a constructor because I need it to be private, the object is immutable.<br />\nHow can I do it?</p>\n<p>Note:<br />\nWith Gson I didn't write any deserializer because I was using JsonPath to get nested objects. I was using this TyepAdapterFactory with a custom annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class JsonPathTypeAdapterFactory implements TypeAdapterFactory {\n    //================================================================================\n    // Properties\n    //================================================================================\n    private static final TypeAdapterFactory jsonPathTypeAdapterFactory = new JsonPathTypeAdapterFactory();\n\n    //================================================================================\n    // Constructors\n    //================================================================================\n    private JsonPathTypeAdapterFactory() {\n    }\n\n    //================================================================================\n    // Getters\n    //================================================================================\n    public static TypeAdapterFactory getJsonPathTypeAdapterFactory() {\n        return jsonPathTypeAdapterFactory;\n    }\n\n    //================================================================================\n    // Override Methods\n    //================================================================================\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n        final TypeAdapter&lt;T&gt; delegateAdapter = gson.getDelegateAdapter(this, typeToken);\n        final Collection&lt;FieldInfo&gt; fieldInfos = FieldInfo.of(new ArrayList&lt;&gt;(), typeToken.getRawType());\n        return fieldInfos.isEmpty() ? delegateAdapter : new JsonPathTypeAdapter&lt;&gt;(gson, delegateAdapter, gson.getAdapter(JsonElement.class), fieldInfos);\n    }\n\n    //================================================================================\n    // Nested Classes\n    //================================================================================\n    private static final class JsonPathTypeAdapter&lt;T&gt; extends TypeAdapter&lt;T&gt; {\n        private final Gson gson;\n        private final TypeAdapter&lt;T&gt; delegateAdapter;\n        private final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter;\n        private final Collection&lt;FieldInfo&gt; fieldInfos;\n\n        private JsonPathTypeAdapter(final Gson gson, final TypeAdapter&lt;T&gt; delegateAdapter, final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter, final Collection&lt;FieldInfo&gt; fieldInfos) {\n            this.gson = gson;\n            this.delegateAdapter = delegateAdapter;\n            this.jsonElementTypeAdapter = jsonElementTypeAdapter;\n            this.fieldInfos = fieldInfos;\n        }\n\n        @Override\n        public void write(final JsonWriter out, final T value) throws IOException {\n            delegateAdapter.write(out, value);\n        }\n\n        @Override\n        public T read(final JsonReader in) throws IOException {\n            final JsonElement outerJsonElement = jsonElementTypeAdapter.read(in).getAsJsonObject();\n            final T value = delegateAdapter.fromJsonTree(outerJsonElement);\n            for (final FieldInfo fieldInfo : fieldInfos) {\n                try {\n                    final JsonElement innerJsonElement = fieldInfo.jsonPath.read(outerJsonElement);\n                    final Object innerValue = gson.fromJson(innerJsonElement, fieldInfo.field.getType());\n                    fieldInfo.field.set(value, innerValue);\n                } catch (final PathNotFoundException ignored) {\n                } catch (final IllegalAccessException ex) {\n                    throw new IOException(ex);\n                }\n            }\n            return value;\n        }\n\n    }\n\n    private static final class FieldInfo {\n        private final Field field;\n        private final JsonPath jsonPath;\n\n        private FieldInfo(final Field field, final JsonPath jsonPath) {\n            this.field = field;\n            this.jsonPath = jsonPath;\n        }\n\n        private static Collection&lt;FieldInfo&gt; of(Collection&lt;FieldInfo&gt; fieldInfo, Class&lt;?&gt; clazz) {\n            fieldInfo.addAll(\n                    Arrays.stream(clazz.getDeclaredFields())\n                            .filter(f -&gt; f.getAnnotation(JsonPathExpression.class) != null)\n                            .map(f -&gt; {\n                                final JsonPathExpression jsonPathExpression = f.getAnnotation(JsonPathExpression.class);\n                                f.setAccessible(true);\n                                return new FieldInfo(f, compile(jsonPathExpression.value()));\n                            })\n                            .collect(Collectors.toList())\n            );\n\n            if (clazz.getSuperclass() != null) {\n                of(fieldInfo, clazz.getSuperclass());\n            }\n\n            return fieldInfo;\n        }\n    }\n}\n</code></pre>\n<p>It was very good actually, very easy, but I don't think there's a way to make it work with Jackson too, isn't it?</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1442162718,"post_id":32551983,"comment_id":52959999,"body_markdown":"Can you provide an MCVE?","body":"Can you provide an MCVE?"}],"answers":[{"comments":[{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1562158347,"post_id":32563089,"comment_id":100289795,"body_markdown":"I&#39;ve tried extending StdNodeBasedDeserializer but I&#39;m asked to provide no-args constructor. And if I do that the _treeDeserializer field is null...","body":"I&#39;ve tried extending StdNodeBasedDeserializer but I&#39;m asked to provide no-args constructor. And if I do that the _treeDeserializer field is null..."},{"owner":{"account_id":47700,"reputation":3323,"user_id":141408,"accept_rate":68,"display_name":"Sergey"},"score":0,"creation_date":1587297889,"post_id":32563089,"comment_id":108450282,"body_markdown":"@araqnid can you elaborate on the improvements that you mentioned?","body":"@araqnid can you elaborate on the improvements that you mentioned?"}],"tags":[],"owner":{"account_id":31084,"reputation":128404,"user_id":85134,"display_name":"araqnid"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1442228279,"creation_date":1442228279,"answer_id":32563089,"question_id":32551983,"body_markdown":"The immediate problem seems to be that the `@JsonDeserialize(using=...)` is being picked up for your implementations of MyInterface as well as MyInterface itself: hence the endless loop.\r\n\r\nYou can fix this my overriding the setting in each implementation:\r\n\r\n\t@JsonDeserialize(using=JsonDeserializer.None.class)\r\n\tpublic static class MySuccess implements MyInterface {\r\n\t}\r\n\r\nOr by using a module instead of an annotation to configure the deserialization (and removing the annotation from MyInterface):\r\n\r\n    mapper.registerModule(new SimpleModule() {{\r\n\t    addDeserializer(MyInterface.class, new MyDeserializer());\r\n\t}});\r\n\r\nOn a side-note, you might also consider extending `StdNodeBasedDeserializer` to implement deserialization based on JsonNode. For example:\r\n\r\n\t@Override\r\n\tpublic MyInterface convert(JsonNode root, DeserializationContext ctxt) throws IOException {\r\n\t\tjava.lang.reflect.Type targetType;\r\n\t\tif (root.has(&quot;custom_field&quot;)) {\r\n\t\t\ttargetType = MyFailure.class;\r\n\t\t} else {\r\n\t\t\ttargetType = MySuccess.class;\r\n\t\t}\r\n\t\tJavaType jacksonType = ctxt.getTypeFactory().constructType(targetType);\r\n\t\tJsonDeserializer&lt;?&gt; deserializer = ctxt.findRootValueDeserializer(jacksonType);\r\n\t\tJsonParser nodeParser = root.traverse(ctxt.getParser().getCodec());\r\n\t\tnodeParser.nextToken();\r\n\t\treturn (MyInterface) deserializer.deserialize(nodeParser, ctxt);\r\n\t}\r\n\r\nThere are a bunch of improvements to make to this custom deserializer, especially regarding tracking the context of the deserialization etc., but this should provide the functionality you&#39;re asking for.\r\n","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>The immediate problem seems to be that the <code>@JsonDeserialize(using=...)</code> is being picked up for your implementations of MyInterface as well as MyInterface itself: hence the endless loop.</p>\n\n<p>You can fix this my overriding the setting in each implementation:</p>\n\n<pre><code>@JsonDeserialize(using=JsonDeserializer.None.class)\npublic static class MySuccess implements MyInterface {\n}\n</code></pre>\n\n<p>Or by using a module instead of an annotation to configure the deserialization (and removing the annotation from MyInterface):</p>\n\n<pre><code>mapper.registerModule(new SimpleModule() {{\n    addDeserializer(MyInterface.class, new MyDeserializer());\n}});\n</code></pre>\n\n<p>On a side-note, you might also consider extending <code>StdNodeBasedDeserializer</code> to implement deserialization based on JsonNode. For example:</p>\n\n<pre><code>@Override\npublic MyInterface convert(JsonNode root, DeserializationContext ctxt) throws IOException {\n    java.lang.reflect.Type targetType;\n    if (root.has(\"custom_field\")) {\n        targetType = MyFailure.class;\n    } else {\n        targetType = MySuccess.class;\n    }\n    JavaType jacksonType = ctxt.getTypeFactory().constructType(targetType);\n    JsonDeserializer&lt;?&gt; deserializer = ctxt.findRootValueDeserializer(jacksonType);\n    JsonParser nodeParser = root.traverse(ctxt.getParser().getCodec());\n    nodeParser.nextToken();\n    return (MyInterface) deserializer.deserialize(nodeParser, ctxt);\n}\n</code></pre>\n\n<p>There are a bunch of improvements to make to this custom deserializer, especially regarding tracking the context of the deserialization etc., but this should provide the functionality you're asking for.</p>\n"},{"comments":[{"owner":{"account_id":4628451,"reputation":2085,"user_id":3751590,"accept_rate":57,"display_name":"singe3"},"score":0,"creation_date":1635435204,"post_id":54823209,"comment_id":123303295,"body_markdown":"This doesn&#39;t make any sense, that `readValue` method on DeserializationContext has the following signature : `public &lt;T&gt; T readValue(JsonParser p, Class&lt;T&gt; type)`","body":"This doesn&#39;t make any sense, that <code>readValue</code> method on DeserializationContext has the following signature : <code>public &lt;T&gt; T readValue(JsonParser p, Class&lt;T&gt; type)</code>"}],"tags":[],"owner":{"account_id":246072,"reputation":540,"user_id":519966,"display_name":"Julio"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1550825320,"creation_date":1550825320,"answer_id":54823209,"question_id":32551983,"body_markdown":"This did the trick for me:\r\n\r\n    ctxt.readValue(node, MyFailure.class)","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>This did the trick for me:</p>\n\n<pre><code>ctxt.readValue(node, MyFailure.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5072657,"reputation":3288,"user_id":4071001,"display_name":"lcnicolau"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554384902,"creation_date":1554384902,"answer_id":55517344,"question_id":32551983,"body_markdown":"In order to use your own `ObjectMapper` inside a custom deserializer, you can use [Jackson Mix-in Annotations][1] (_the_ `DefaultJsonDeserializer` _interface_) to dynamically remove the custom deserializer from the `POJO` classes, avoiding the `StackOverflowError` that would otherwise be thrown as a result of `objectMapper.readValue(JsonParser, Class&lt;T&gt;)`.\r\n\r\n    public class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\r\n\r\n        private static final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        static {\r\n            objectMapper.addMixIn(MySuccess.class, DefaultJsonDeserializer.class);\r\n            objectMapper.addMixIn(MyFailure.class, DefaultJsonDeserializer.class);\r\n        }\r\n\r\n        @Override\r\n        public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            if (jp.getCodec().&lt;JsonNode&gt;readTree(jp).has(&quot;custom_field&quot;)) {\r\n                return objectMapper.readValue(jp, MyFailure.class);\r\n            } else {\r\n                return objectMapper.readValue(jp, MySuccess.class);\r\n            }           \r\n        }\r\n\r\n        @JsonDeserialize\r\n        private interface DefaultJsonDeserializer {\r\n            // Reset default json deserializer\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>In order to use your own <code>ObjectMapper</code> inside a custom deserializer, you can use <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"nofollow noreferrer\">Jackson Mix-in Annotations</a> (<em>the</em> <code>DefaultJsonDeserializer</code> <em>interface</em>) to dynamically remove the custom deserializer from the <code>POJO</code> classes, avoiding the <code>StackOverflowError</code> that would otherwise be thrown as a result of <code>objectMapper.readValue(JsonParser, Class&lt;T&gt;)</code>.</p>\n\n<pre><code>public class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\n\n    private static final ObjectMapper objectMapper = new ObjectMapper();\n\n    static {\n        objectMapper.addMixIn(MySuccess.class, DefaultJsonDeserializer.class);\n        objectMapper.addMixIn(MyFailure.class, DefaultJsonDeserializer.class);\n    }\n\n    @Override\n    public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        if (jp.getCodec().&lt;JsonNode&gt;readTree(jp).has(\"custom_field\")) {\n            return objectMapper.readValue(jp, MyFailure.class);\n        } else {\n            return objectMapper.readValue(jp, MySuccess.class);\n        }           \n    }\n\n    @JsonDeserialize\n    private interface DefaultJsonDeserializer {\n        // Reset default json deserializer\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6645617,"reputation":121,"user_id":5129842,"display_name":"Shubham Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659603689,"creation_date":1659602519,"answer_id":73232848,"question_id":32551983,"body_markdown":"I find a solution to use object mapper inside custom deserialize\r\n \r\n\r\n    public class DummyDeserializer extends JsonDeserializer&lt;Dummy&gt; {\r\n    \r\n        @Override\r\n        public Dummy deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            ObjectMapper om = new ObjectMapper();\r\n            om.addMixIn(NexusAccount.class, DefaultJsonDeserializer.class);\r\n            ObjectCodec oc = jsonParser.getCodec();\r\n            JsonNode node = oc.readTree(jsonParser);\r\n            String serviceType = node.path(&quot;serviceType&quot;).asText();\r\n            switch (serviceType) {\r\n                case &quot;Dummy1&quot;:\r\n                    return om.treeToValue(node, Dumm1.class);\r\n                case &quot;Dummy2&quot;:\r\n                    return om.treeToValue(node, Dummy2.class);\r\n                case &quot;Dummy3&quot;:\r\n                    return om.treeToValue(node, Dummy3.class);\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Unknown Dummy type&quot;);\r\n            }\r\n        }\r\n     \r\n        @JsonDeserialize\r\n        private interface DefaultJsonDeserializer {\r\n            // Reset default json deserializer\r\n        }\r\n    }\r\n\r\n\r\n    ","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>I find a solution to use object mapper inside custom deserialize</p>\n<pre><code>public class DummyDeserializer extends JsonDeserializer&lt;Dummy&gt; {\n\n    @Override\n    public Dummy deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        ObjectMapper om = new ObjectMapper();\n        om.addMixIn(NexusAccount.class, DefaultJsonDeserializer.class);\n        ObjectCodec oc = jsonParser.getCodec();\n        JsonNode node = oc.readTree(jsonParser);\n        String serviceType = node.path(&quot;serviceType&quot;).asText();\n        switch (serviceType) {\n            case &quot;Dummy1&quot;:\n                return om.treeToValue(node, Dumm1.class);\n            case &quot;Dummy2&quot;:\n                return om.treeToValue(node, Dummy2.class);\n            case &quot;Dummy3&quot;:\n                return om.treeToValue(node, Dummy3.class);\n            default:\n                throw new IllegalArgumentException(&quot;Unknown Dummy type&quot;);\n        }\n    }\n \n    @JsonDeserialize\n    private interface DefaultJsonDeserializer {\n        // Reset default json deserializer\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692786866,"creation_date":1692786866,"answer_id":76960529,"question_id":32551983,"body_markdown":"    Sharing a custom Deserializer implementing---&gt;\r\n    \r\n        import com.fasterxml.jackson.core.JsonParser;\r\n        import com.fasterxml.jackson.core.JsonProcessingException;\r\n        import com.fasterxml.jackson.databind.DeserializationContext;\r\n        import com.fasterxml.jackson.databind.JsonDeserializer;\r\n        import com.fasterxml.jackson.databind.JsonMappingException;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.http.HttpStatus;\r\n        \r\n        import java.io.IOException;\r\n        \r\n        public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\r\n        \r\n            private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\r\n        \r\n            @Override\r\n            public Integer deserialize(JsonParser p, DeserializationContext ctx)\r\n                 throws IOException,JsonProcessingException {\r\n                logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\r\n                Double doubleVal = p.getDoubleValue();\r\n                try {\r\n                    double ceil = Math.ceil(doubleVal);\r\n                    double floor = Math.floor(doubleVal);\r\n                    if((ceil-floor)&gt;0) {\r\n                        String message = String.format(&quot;Cannot coerce a floating-point value (&#39;%s&#39;) into Integer&quot;, doubleVal.toString());\r\n                        throw new Exception(message);\r\n                    }\r\n                    return Integer.valueOf(p.getIntValue());\r\n                } catch (Exception exception) {\r\n                    logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\r\n              \r\n                    //throw new custom exception which are to be managed by exception handler\r\n                    \r\n                }\r\n            }\r\n        \r\n        }","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<pre><code>Sharing a custom Deserializer implementing---&gt;\n\n    import com.fasterxml.jackson.core.JsonParser;\n    import com.fasterxml.jackson.core.JsonProcessingException;\n    import com.fasterxml.jackson.databind.DeserializationContext;\n    import com.fasterxml.jackson.databind.JsonDeserializer;\n    import com.fasterxml.jackson.databind.JsonMappingException;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.HttpStatus;\n    \n    import java.io.IOException;\n    \n    public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\n    \n        private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\n    \n        @Override\n        public Integer deserialize(JsonParser p, DeserializationContext ctx)\n             throws IOException,JsonProcessingException {\n            logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\n            Double doubleVal = p.getDoubleValue();\n            try {\n                double ceil = Math.ceil(doubleVal);\n                double floor = Math.floor(doubleVal);\n                if((ceil-floor)&gt;0) {\n                    String message = String.format(&quot;Cannot coerce a floating-point value ('%s') into Integer&quot;, doubleVal.toString());\n                    throw new Exception(message);\n                }\n                return Integer.valueOf(p.getIntValue());\n            } catch (Exception exception) {\n                logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\n          \n                //throw new custom exception which are to be managed by exception handler\n                \n            }\n        }\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27114,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1692786866,"creation_date":1442162287,"question_id":32551983,"body_markdown":"I try to write custom jackson deserializer. I want &quot;look&quot; at one field and perform auto deserialization to class, see example below:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.ObjectCodec;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.mypackage.MyInterface;\r\n    import com.mypackage.MyFailure;\r\n    import com.mypackage.MySuccess;\r\n\r\n    import java.io.IOException;\r\n\r\n    public class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\r\n\r\n        @Override\r\n        public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n            ObjectCodec codec = jp.getCodec();\r\n            JsonNode node = codec.readTree(jp);\r\n            if (node.has(&quot;custom_field&quot;)) {\r\n                return codec.treeToValue(node, MyFailure.class);\r\n            } else {\r\n                return codec.treeToValue(node, MySuccess.class);\r\n            }\r\n        }\r\n    }\r\n\r\nPojos:\r\n\r\n    public class MyFailure implements MyInterface {}\r\n\r\n    public class MySuccess implements MyInterface {}\r\n\r\n    @JsonDeserialize(using = MyDeserializer.class)\r\n    public interface MyInterface {}\r\n\r\nAnd I got `StackOverflowError`. In understand that `codec.treeToValue` call same deserializer. Is there a way to use `codec.treeToValue` or `ObjectMapper.readValue(String,Class&lt;T&gt;)` inside custome deseralizer?\r\n","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>I try to write custom jackson deserializer. I want \"look\" at one field and perform auto deserialization to class, see example below:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.ObjectCodec;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.mypackage.MyInterface;\nimport com.mypackage.MyFailure;\nimport com.mypackage.MySuccess;\n\nimport java.io.IOException;\n\npublic class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\n\n    @Override\n    public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        ObjectCodec codec = jp.getCodec();\n        JsonNode node = codec.readTree(jp);\n        if (node.has(\"custom_field\")) {\n            return codec.treeToValue(node, MyFailure.class);\n        } else {\n            return codec.treeToValue(node, MySuccess.class);\n        }\n    }\n}\n</code></pre>\n\n<p>Pojos:</p>\n\n<pre><code>public class MyFailure implements MyInterface {}\n\npublic class MySuccess implements MyInterface {}\n\n@JsonDeserialize(using = MyDeserializer.class)\npublic interface MyInterface {}\n</code></pre>\n\n<p>And I got <code>StackOverflowError</code>. In understand that <code>codec.treeToValue</code> call same deserializer. Is there a way to use <code>codec.treeToValue</code> or <code>ObjectMapper.readValue(String,Class&lt;T&gt;)</code> inside custome deseralizer?</p>\n"},{"tags":["java","json","jackson","flickr"],"answers":[{"comments":[{"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"score":0,"creation_date":1380801519,"post_id":19158554,"comment_id":28339676,"body_markdown":"The JSON represents the username as an object, so when you map it, it maps as an object.  It&#39;s not terrible though, you can put a getUsername method in the FlickrAccount class that returns the Username._content value so in use it would be transparent.","body":"The JSON represents the username as an object, so when you map it, it maps as an object.  It&#39;s not terrible though, you can put a getUsername method in the FlickrAccount class that returns the Username._content value so in use it would be transparent."},{"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"score":0,"creation_date":1380802010,"post_id":19158554,"comment_id":28339939,"body_markdown":"True, but not what I want or need. There is a [feature request](http://jira.codehaus.org/browse/JACKSON-781) describing a feature, that would do what I want, but it&#39;s still open.","body":"True, but not what I want or need. There is a <a href=\"http://jira.codehaus.org/browse/JACKSON-781\" rel=\"nofollow noreferrer\">feature request</a> describing a feature, that would do what I want, but it&#39;s still open."}],"tags":[],"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1380801266,"creation_date":1380801266,"answer_id":19158554,"question_id":19158345,"body_markdown":"You have to make Username a class within FlickrAccount and give it a _content field","title":"Custom JSON Deserialization with Jackson","body":"<p>You have to make Username a class within FlickrAccount and give it a _content field</p>\n"},{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1380881497,"creation_date":1380804267,"answer_id":19159575,"question_id":19158345,"body_markdown":"Since I don&#39;t want to implement a custom class (`Username`) just to map the username, I went with a little bit more elegant, but still quite ugly approach:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readTree(in);\r\n    JsonNode user = node.get(&quot;user&quot;);\r\n    FlickrAccount account = new FlickrAccount();\r\n    account.setId(user.get(&quot;id&quot;).asText());\r\n    account.setUsername(user.get(&quot;username&quot;).get(&quot;_content&quot;).asText());\r\n\r\nIt&#39;s still not as elegant as I hoped, but at least I got rid of all the ugly casting.\r\nAnother advantage of this solution is, that my domain class (`FlickrAccount`) is not polluted with any Jackson annotations.\r\n\r\nBased on [@Michał Ziober&#39;s answer](https://stackoverflow.com/a/19167145/1277252), I decided to use the - in my opinion - most straight forward solution. Using a `@JsonDeserialize` annotation with a custom deserializer:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @JsonDeserialize( using = FlickrAccountDeserializer.class )\r\n    public class FlickrAccount {\r\n        ...\r\n    }\r\n\r\nBut the deserializer does not use any internal classes, just the `JsonNode` as above:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class FlickrAccountDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\r\n        @Override\r\n        public FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws \r\n                IOException, JsonProcessingException {\r\n            FlickrAccount account = new FlickrAccount();\r\n            JsonNode node = jp.readValueAsTree();\r\n            JsonNode user = node.get(&quot;user&quot;);\r\n            account.setId(user.get(&quot;id&quot;).asText());\r\n            account.setUsername(user.get(&quot;username&quot;).get(&quot;_content&quot;).asText());\r\n            return account;\r\n        }\r\n    }\r\n","title":"Custom JSON Deserialization with Jackson","body":"<p>Since I don't want to implement a custom class (<code>Username</code>) just to map the username, I went with a little bit more elegant, but still quite ugly approach:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readTree(in);\nJsonNode user = node.get(\"user\");\nFlickrAccount account = new FlickrAccount();\naccount.setId(user.get(\"id\").asText());\naccount.setUsername(user.get(\"username\").get(\"_content\").asText());\n</code></pre>\n\n<p>It's still not as elegant as I hoped, but at least I got rid of all the ugly casting.\nAnother advantage of this solution is, that my domain class (<code>FlickrAccount</code>) is not polluted with any Jackson annotations.</p>\n\n<p>Based on <a href=\"https://stackoverflow.com/a/19167145/1277252\">@Michał Ziober's answer</a>, I decided to use the - in my opinion - most straight forward solution. Using a <code>@JsonDeserialize</code> annotation with a custom deserializer:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize( using = FlickrAccountDeserializer.class )\npublic class FlickrAccount {\n    ...\n}\n</code></pre>\n\n<p>But the deserializer does not use any internal classes, just the <code>JsonNode</code> as above:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class FlickrAccountDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\n    @Override\n    public FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws \n            IOException, JsonProcessingException {\n        FlickrAccount account = new FlickrAccount();\n        JsonNode node = jp.readValueAsTree();\n        JsonNode user = node.get(\"user\");\n        account.setId(user.get(\"id\").asText());\n        account.setUsername(user.get(\"username\").get(\"_content\").asText());\n        return account;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1983986,"reputation":4449,"user_id":1779829,"accept_rate":83,"display_name":"th3morg"},"score":1,"creation_date":1429111727,"post_id":19167145,"comment_id":47448524,"body_markdown":"Thank you. The part that I was missing in this was the annotation. I had to supply the @JsonDeserialize annotation despite the object being a subclass of a type registered in a module.","body":"Thank you. The part that I was missing in this was the annotation. I had to supply the @JsonDeserialize annotation despite the object being a subclass of a type registered in a module."},{"owner":{"account_id":246061,"reputation":1823,"user_id":519951,"accept_rate":40,"display_name":"ruhong"},"score":1,"creation_date":1529788765,"post_id":19167145,"comment_id":89003748,"body_markdown":"[Baeldung has a shorter example](http://www.baeldung.com/jackson-deserialization), without the need to create inner static classes to model the json schema.","body":"<a href=\"http://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">Baeldung has a shorter example</a>, without the need to create inner static classes to model the json schema."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":2,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1542382337,"creation_date":1380826931,"answer_id":19167145,"question_id":19158345,"body_markdown":"You can write custom deserializer for this class. It could look like this:\r\n\r\n    class FlickrAccountJsonDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n    \t\tRoot root = jp.readValueAs(Root.class);\r\n    \r\n    \t\tFlickrAccount account = new FlickrAccount();\r\n    \t\tif (root != null &amp;&amp; root.user != null) {\r\n    \t\t\taccount.setId(root.user.id);\r\n    \t\t\tif (root.user.username != null) {\r\n    \t\t\t\taccount.setUsername(root.user.username.content);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn account;\r\n    \t}\r\n    \r\n    \tprivate static class Root {\r\n    \r\n    \t\tpublic User user;\r\n    \t\tpublic String stat;\r\n    \t}\r\n    \r\n    \tprivate static class User {\r\n    \r\n    \t\tpublic String id;\r\n    \t\tpublic UserName username;\r\n    \t}\r\n    \r\n    \tprivate static class UserName {\r\n    \r\n    \t\t@JsonProperty(&quot;_content&quot;)\r\n    \t\tpublic String content;\r\n    \t}\r\n    }\r\n\r\nAfter that, you have to define a deserializer for your class. You can do this as follows:\r\n\r\n    @JsonDeserialize(using = FlickrAccountJsonDeserializer.class)\r\n    class FlickrAccount {\r\n        ...\r\n    }","title":"Custom JSON Deserialization with Jackson","body":"<p>You can write custom deserializer for this class. It could look like this:</p>\n\n<pre><code>class FlickrAccountJsonDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\n\n    @Override\n    public FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        Root root = jp.readValueAs(Root.class);\n\n        FlickrAccount account = new FlickrAccount();\n        if (root != null &amp;&amp; root.user != null) {\n            account.setId(root.user.id);\n            if (root.user.username != null) {\n                account.setUsername(root.user.username.content);\n            }\n        }\n\n        return account;\n    }\n\n    private static class Root {\n\n        public User user;\n        public String stat;\n    }\n\n    private static class User {\n\n        public String id;\n        public UserName username;\n    }\n\n    private static class UserName {\n\n        @JsonProperty(\"_content\")\n        public String content;\n    }\n}\n</code></pre>\n\n<p>After that, you have to define a deserializer for your class. You can do this as follows:</p>\n\n<pre><code>@JsonDeserialize(using = FlickrAccountJsonDeserializer.class)\nclass FlickrAccount {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1501583384,"creation_date":1501583384,"answer_id":45435382,"question_id":19158345,"body_markdown":"You can also use SimpleModule.\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.setDeserializerModifier(new BeanDeserializerModifier() {\r\n        @Override public JsonDeserializer&lt;?&gt; modifyDeserializer(\r\n            DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\r\n            if (beanDesc.getBeanClass() == YourClass.class) {\r\n                return new YourClassDeserializer(deserializer);\r\n            }\r\n\r\n            return deserializer;\r\n        }});\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(module);\r\n        objectMapper.readValue(json, classType);","title":"Custom JSON Deserialization with Jackson","body":"<p>You can also use SimpleModule.</p>\n\n<pre><code>    SimpleModule module = new SimpleModule();\n    module.setDeserializerModifier(new BeanDeserializerModifier() {\n    @Override public JsonDeserializer&lt;?&gt; modifyDeserializer(\n        DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\n        if (beanDesc.getBeanClass() == YourClass.class) {\n            return new YourClassDeserializer(deserializer);\n        }\n\n        return deserializer;\n    }});\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(module);\n    objectMapper.readValue(json, classType);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8913158,"reputation":429,"user_id":6652579,"accept_rate":0,"display_name":"Kancha"},"score":0,"creation_date":1633119045,"post_id":66712277,"comment_id":122684612,"body_markdown":"I am actually working with Kotlin and wanted to custom deserialize just one attribute of my class and none of the answers helped me ( I was able to write a custom one for the whole class but not just for one attribute ). But this answer worked like a charm for me. Thanks!","body":"I am actually working with Kotlin and wanted to custom deserialize just one attribute of my class and none of the answers helped me ( I was able to write a custom one for the whole class but not just for one attribute ). But this answer worked like a charm for me. Thanks!"}],"tags":[],"owner":{"account_id":3436378,"reputation":81,"user_id":2879414,"display_name":"Aliaksei Tatarynchyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616172346,"creation_date":1616172346,"answer_id":66712277,"question_id":19158345,"body_markdown":"I made it this way:\r\n\r\n    public class FlickrAccount {\r\n      private String id;\r\n      @JsonDeserialize(converter = ContentConverter.class)\r\n      private String username;\r\n      \r\n      private static class ContentConverter extends StdConverter&lt;Map&lt;String, String&gt;, String&gt; {\r\n        @Override\r\n        public String convert(Map&lt;String, String&gt; content) {\r\n          return content.get(&quot;_content&quot;));\r\n        }\r\n      }\r\n    }","title":"Custom JSON Deserialization with Jackson","body":"<p>I made it this way:</p>\n<pre><code>public class FlickrAccount {\n  private String id;\n  @JsonDeserialize(converter = ContentConverter.class)\n  private String username;\n  \n  private static class ContentConverter extends StdConverter&lt;Map&lt;String, String&gt;, String&gt; {\n    @Override\n    public String convert(Map&lt;String, String&gt; content) {\n      return content.get(&quot;_content&quot;));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692786632,"creation_date":1692786632,"answer_id":76960495,"question_id":19158345,"body_markdown":"    Sharing a code snippet for implementing custom Deserializer \r\n    Basically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\r\n    \r\n        @Override\r\n        public Integer deserialize(JsonParser p, DeserializationContext ctx)\r\n             throws IOException,JsonProcessingException {\r\n            logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\r\n            Double doubleVal = p.getDoubleValue();\r\n            try {\r\n                double ceil = Math.ceil(doubleVal);\r\n                double floor = Math.floor(doubleVal);\r\n                if((ceil-floor)&gt;0) {\r\n                    String message = String.format(&quot;Cannot coerce a floating-point value (&#39;%s&#39;) into Integer&quot;, doubleVal.toString());\r\n                    throw new Exception(message);\r\n                }\r\n                return Integer.valueOf(p.getIntValue());\r\n            } catch (Exception exception) {\r\n                logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\r\n          \r\n                //throw new custom exception which are to be managed by exception handler\r\n                \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n   \r\n    using on bean class--&gt;\r\n     @JsonDeserialize(using = CustomIntegerDeserializer.class)\r\n        private Integer initRatePerSec = -1;\r\n\r\n    request--&gt;\r\n    {\r\n        .....\r\n        &quot;initRatePerSec&quot;: 5.1\r\n    }\r\n    response--&gt;\r\n    {\r\n        &quot;statusCode&quot;: 400,\r\n         ..............,\r\n        &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value (&#39;5.1&#39;) into Integer; \r\n    }","title":"Custom JSON Deserialization with Jackson","body":"<pre><code>Sharing a code snippet for implementing custom Deserializer \nBasically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\n\nimport java.io.IOException;\n\npublic class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\n\n    private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\n\n    @Override\n    public Integer deserialize(JsonParser p, DeserializationContext ctx)\n         throws IOException,JsonProcessingException {\n        logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\n        Double doubleVal = p.getDoubleValue();\n        try {\n            double ceil = Math.ceil(doubleVal);\n            double floor = Math.floor(doubleVal);\n            if((ceil-floor)&gt;0) {\n                String message = String.format(&quot;Cannot coerce a floating-point value ('%s') into Integer&quot;, doubleVal.toString());\n                throw new Exception(message);\n            }\n            return Integer.valueOf(p.getIntValue());\n        } catch (Exception exception) {\n            logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\n      \n            //throw new custom exception which are to be managed by exception handler\n            \n        }\n    }\n\n}\n\n\nusing on bean class--&gt;\n @JsonDeserialize(using = CustomIntegerDeserializer.class)\n    private Integer initRatePerSec = -1;\n\nrequest--&gt;\n{\n    .....\n    &quot;initRatePerSec&quot;: 5.1\n}\nresponse--&gt;\n{\n    &quot;statusCode&quot;: 400,\n     ..............,\n    &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value ('5.1') into Integer; \n}\n</code></pre>\n"}],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139170,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":19167145,"answer_count":6,"score":53,"last_activity_date":1692786632,"creation_date":1380800704,"question_id":19158345,"body_markdown":"I&#39;m using the [Flickr API](http://www.flickr.com/services/api/). When calling the [`flickr.test.login`][1] method, the default JSON result is:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n        &quot;user&quot;: {\r\n            &quot;id&quot;: &quot;21207597@N07&quot;,\r\n            &quot;username&quot;: {\r\n                &quot;_content&quot;: &quot;jamalfanaian&quot;\r\n            }\r\n        },\r\n        &quot;stat&quot;: &quot;ok&quot;\r\n    }\r\n\r\n\r\nI&#39;d like to parse this response into a Java object:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class FlickrAccount {\r\n        private String id;\r\n        private String username;\r\n        // ... getter &amp; setter ...\r\n    }\r\n\r\nThe JSON properties should be mapped like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    &quot;user&quot; -&gt; &quot;id&quot; ==&gt; FlickrAccount.id\r\n    &quot;user&quot; -&gt; &quot;username&quot; -&gt; &quot;_content&quot; ==&gt; FlickrAccount.username\r\n\r\nUnfortunately, I&#39;m not able to find a nice, elegant way to do this using Annotations. My approach so far is, to read the JSON String into a `Map&lt;String, Object&gt;` and get the values from there.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Map&lt;String, Object&gt; value = new ObjectMapper().readValue(response.getStream(),\r\n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {\r\n            });\r\n    @SuppressWarnings( &quot;unchecked&quot; )\r\n    Map&lt;String, Object&gt; user = (Map&lt;String, Object&gt;) value.get(&quot;user&quot;);\r\n    String id = (String) user.get(&quot;id&quot;);\r\n    @SuppressWarnings( &quot;unchecked&quot; )\r\n    String username = (String) ((Map&lt;String, Object&gt;) user.get(&quot;username&quot;)).get(&quot;_content&quot;);\r\n    FlickrAccount account = new FlickrAccount();\r\n    account.setId(id);\r\n    account.setUsername(username);\r\n\r\nBut I think, this is the most non-elegant way, ever. Is there any simple way, either using Annotations or a custom Deserializer?\r\n\r\nThis would be very obvious for me, but of course it doesn&#39;t work:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class FlickrAccount {\r\n        @JsonProperty( &quot;user.id&quot; ) private String id;\r\n        @JsonProperty( &quot;user.username._content&quot; ) private String username;\r\n        // ... getter and setter ...\r\n    }\r\n\r\n\r\n\r\n\r\n[1]: http://www.flickr.com/services/api/flickr.test.login.html\r\n","title":"Custom JSON Deserialization with Jackson","body":"<p>I'm using the <a href=\"http://www.flickr.com/services/api/\" rel=\"noreferrer\">Flickr API</a>. When calling the <a href=\"http://www.flickr.com/services/api/flickr.test.login.html\" rel=\"noreferrer\"><code>flickr.test.login</code></a> method, the default JSON result is:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"user\": {\n        \"id\": \"21207597@N07\",\n        \"username\": {\n            \"_content\": \"jamalfanaian\"\n        }\n    },\n    \"stat\": \"ok\"\n}\n</code></pre>\n\n<p>I'd like to parse this response into a Java object:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class FlickrAccount {\n    private String id;\n    private String username;\n    // ... getter &amp; setter ...\n}\n</code></pre>\n\n<p>The JSON properties should be mapped like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"user\" -&gt; \"id\" ==&gt; FlickrAccount.id\n\"user\" -&gt; \"username\" -&gt; \"_content\" ==&gt; FlickrAccount.username\n</code></pre>\n\n<p>Unfortunately, I'm not able to find a nice, elegant way to do this using Annotations. My approach so far is, to read the JSON String into a <code>Map&lt;String, Object&gt;</code> and get the values from there.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; value = new ObjectMapper().readValue(response.getStream(),\n        new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {\n        });\n@SuppressWarnings( \"unchecked\" )\nMap&lt;String, Object&gt; user = (Map&lt;String, Object&gt;) value.get(\"user\");\nString id = (String) user.get(\"id\");\n@SuppressWarnings( \"unchecked\" )\nString username = (String) ((Map&lt;String, Object&gt;) user.get(\"username\")).get(\"_content\");\nFlickrAccount account = new FlickrAccount();\naccount.setId(id);\naccount.setUsername(username);\n</code></pre>\n\n<p>But I think, this is the most non-elegant way, ever. Is there any simple way, either using Annotations or a custom Deserializer?</p>\n\n<p>This would be very obvious for me, but of course it doesn't work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class FlickrAccount {\n    @JsonProperty( \"user.id\" ) private String id;\n    @JsonProperty( \"user.username._content\" ) private String username;\n    // ... getter and setter ...\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692383915,"post_id":76931263,"comment_id":135620598,"body_markdown":"Share `g_cache` code to understand how the cache works. Remember that you should provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Share <code>g_cache</code> code to understand how the cache works. Remember that you should provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":2,"creation_date":1692604748,"post_id":76931263,"comment_id":135640777,"body_markdown":"This is not a JNI problem as such. If `getObj` were implemented in Java you would have the same problem. The only solution is to rearchitect and avoid finalizers.","body":"This is not a JNI problem as such. If <code>getObj</code> were implemented in Java you would have the same problem. The only solution is to rearchitect and avoid finalizers."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1692607174,"post_id":76931263,"comment_id":135641275,"body_markdown":"See [this recent question](https://stackoverflow.com/questions/76882381/alternative-for-deprecated-finalize-method-in-java-for-jni) for a replacement to finalizers","body":"See <a href=\"https://stackoverflow.com/questions/76882381/alternative-for-deprecated-finalize-method-in-java-for-jni\">this recent question</a> for a replacement to finalizers"},{"owner":{"account_id":14670661,"reputation":21,"user_id":10595216,"display_name":"comrade_bender"},"score":0,"creation_date":1692614780,"post_id":76931263,"comment_id":135642758,"body_markdown":"Without the use of finalizers, it&#39;s very hard to tell when an object is no longer needed, especially in my case in Jetpack Compose code that makes heavy use of the C++ backend.\n\nBut I found a very interesting comment in the djinni project:\n\n&quot;We don&#39;t use JNI WeakGlobalRef objects, because they last longer than is safe - a WeakGlobalRef can still be upgraded to a strong reference even during finalization, which leads to use-after-free. Java WeakRefs provide the right lifetime guarantee.&quot;\n\nDjinni uses in the same case JNI wrapper around WeakReference. I hope it solves my issue.","body":"Without the use of finalizers, it&#39;s very hard to tell when an object is no longer needed, especially in my case in Jetpack Compose code that makes heavy use of the C++ backend.  But I found a very interesting comment in the djinni project:  &quot;We don&#39;t use JNI WeakGlobalRef objects, because they last longer than is safe - a WeakGlobalRef can still be upgraded to a strong reference even during finalization, which leads to use-after-free. Java WeakRefs provide the right lifetime guarantee.&quot;  Djinni uses in the same case JNI wrapper around WeakReference. I hope it solves my issue."}],"answers":[{"tags":[],"owner":{"account_id":14670661,"reputation":21,"user_id":10595216,"display_name":"comrade_bender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692786450,"creation_date":1692784749,"answer_id":76960264,"question_id":76931263,"body_markdown":"In general, Botje is right, don&#39;t use the `finalize` method along with JNI.\r\n\r\nBut if you still need to `finalize` then don&#39;t use `jweak` variables created with `NewWeakGlobalRef`.\r\n\r\nComment from djinni project:\r\n\r\n&gt; We don&#39;t use JNI WeakGlobalRef objects, because they last longer than\r\n&gt; is safe - a WeakGlobalRef can still be upgraded to a strong reference\r\n&gt; even during finalization, which leads to use-after-free. Java WeakRefs\r\n&gt; provide the right lifetime guarantee.\r\n\r\nIf you can&#39;t do without weak references, use `java.lang.ref.WeakReference`. `WeakReference` objects in `finilize` must return `null`.\r\n\r\nA simple C++ `WeakReference` wrapper:\r\n\r\n    struct GlobalRefDeleter {\r\n        void operator()(jobject globalRef) noexcept {\r\n            if (globalRef != nullptr) {\r\n                if (JNIEnv* env = getEnv()) {\r\n                    env-&gt;DeleteGlobalRef(globalRef);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    \r\n    template &lt;typename PointerType&gt;\r\n    class GlobalRef : public std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt; {\r\n        using Parent = std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt;;\r\n    \r\n      public:\r\n        GlobalRef() = default;\r\n        GlobalRef(JNIEnv* env, PointerType localRef) : Parent(static_cast&lt;PointerType&gt;(env-&gt;NewGlobalRef(localRef)), GlobalRefDeleter{}) {\r\n        }\r\n    \r\n        bool isSame(JNIEnv* env, jobject obj) const {\r\n            return env-&gt;IsSameObject(obj, Parent::get());\r\n        }\r\n    };\r\n    \r\n    struct WeakReferenceJniInfo {\r\n        GlobalRef&lt;jclass&gt; clazz;\r\n        jmethodID constructor;\r\n        jmethodID get;\r\n    \r\n        explicit WeakReferenceJniInfo(JNIEnv* env)\r\n            : clazz{env, env-&gt;FindClass(&quot;java/lang/ref/WeakReference&quot;)},\r\n              constructor{env-&gt;GetMethodID(clazz.get(), &quot;&lt;init&gt;&quot;, &quot;(Ljava/lang/Object;)V&quot;)},\r\n              get{env-&gt;GetMethodID(clazz.get(), &quot;get&quot;, &quot;()Ljava/lang/Object;&quot;)} {\r\n        }\r\n    };\r\n    \r\n    // created in JNI_OnLoad\r\n    inline std::unique_ptr&lt;const WeakReferenceJniInfo&gt; g_weakReferenceJniInfo;\r\n    \r\n    class WeakRef {\r\n      public:\r\n        WeakRef() = default;\r\n        WeakRef(JNIEnv* env, jobject obj)\r\n            : _weakRef(std::make_shared&lt;GlobalRef&lt;jobject&gt;&gt;(\r\n                  env, env-&gt;NewObject(g_weakReferenceJniInfo-&gt;clazz.get(), g_weakReferenceJniInfo-&gt;constructor, obj))) {\r\n        }\r\n    \r\n        // Get the object pointed to if it&#39;s still strongly reachable or, return null if not.\r\n        // (Analogous to weak_ptr::lock.) Returns a local reference.\r\n        jobject lock(JNIEnv* env) const {\r\n            if (_weakRef == nullptr) {\r\n                return nullptr;\r\n            }\r\n            else {\r\n                return env-&gt;CallObjectMethod(_weakRef-&gt;get(), g_weakReferenceJniInfo-&gt;get);\r\n            }\r\n        }\r\n    \r\n        bool isSame(JNIEnv* env, jobject obj) const {\r\n            auto local = lock(env);\r\n            auto result = env-&gt;IsSameObject(obj, local);\r\n            env-&gt;DeleteLocalRef(local);\r\n            return result;\r\n        }\r\n    \r\n      private:\r\n        std::shared_ptr&lt;GlobalRef&lt;jobject&gt;&gt; _weakRef;\r\n    };","title":"GC issue with objects returned from JNI to Java","body":"<p>In general, Botje is right, don't use the <code>finalize</code> method along with JNI.</p>\n<p>But if you still need to <code>finalize</code> then don't use <code>jweak</code> variables created with <code>NewWeakGlobalRef</code>.</p>\n<p>Comment from djinni project:</p>\n<blockquote>\n<p>We don't use JNI WeakGlobalRef objects, because they last longer than\nis safe - a WeakGlobalRef can still be upgraded to a strong reference\neven during finalization, which leads to use-after-free. Java WeakRefs\nprovide the right lifetime guarantee.</p>\n</blockquote>\n<p>If you can't do without weak references, use <code>java.lang.ref.WeakReference</code>. <code>WeakReference</code> objects in <code>finilize</code> must return <code>null</code>.</p>\n<p>A simple C++ <code>WeakReference</code> wrapper:</p>\n<pre><code>struct GlobalRefDeleter {\n    void operator()(jobject globalRef) noexcept {\n        if (globalRef != nullptr) {\n            if (JNIEnv* env = getEnv()) {\n                env-&gt;DeleteGlobalRef(globalRef);\n            }\n        }\n    }\n};\n\ntemplate &lt;typename PointerType&gt;\nclass GlobalRef : public std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt; {\n    using Parent = std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt;;\n\n  public:\n    GlobalRef() = default;\n    GlobalRef(JNIEnv* env, PointerType localRef) : Parent(static_cast&lt;PointerType&gt;(env-&gt;NewGlobalRef(localRef)), GlobalRefDeleter{}) {\n    }\n\n    bool isSame(JNIEnv* env, jobject obj) const {\n        return env-&gt;IsSameObject(obj, Parent::get());\n    }\n};\n\nstruct WeakReferenceJniInfo {\n    GlobalRef&lt;jclass&gt; clazz;\n    jmethodID constructor;\n    jmethodID get;\n\n    explicit WeakReferenceJniInfo(JNIEnv* env)\n        : clazz{env, env-&gt;FindClass(&quot;java/lang/ref/WeakReference&quot;)},\n          constructor{env-&gt;GetMethodID(clazz.get(), &quot;&lt;init&gt;&quot;, &quot;(Ljava/lang/Object;)V&quot;)},\n          get{env-&gt;GetMethodID(clazz.get(), &quot;get&quot;, &quot;()Ljava/lang/Object;&quot;)} {\n    }\n};\n\n// created in JNI_OnLoad\ninline std::unique_ptr&lt;const WeakReferenceJniInfo&gt; g_weakReferenceJniInfo;\n\nclass WeakRef {\n  public:\n    WeakRef() = default;\n    WeakRef(JNIEnv* env, jobject obj)\n        : _weakRef(std::make_shared&lt;GlobalRef&lt;jobject&gt;&gt;(\n              env, env-&gt;NewObject(g_weakReferenceJniInfo-&gt;clazz.get(), g_weakReferenceJniInfo-&gt;constructor, obj))) {\n    }\n\n    // Get the object pointed to if it's still strongly reachable or, return null if not.\n    // (Analogous to weak_ptr::lock.) Returns a local reference.\n    jobject lock(JNIEnv* env) const {\n        if (_weakRef == nullptr) {\n            return nullptr;\n        }\n        else {\n            return env-&gt;CallObjectMethod(_weakRef-&gt;get(), g_weakReferenceJniInfo-&gt;get);\n        }\n    }\n\n    bool isSame(JNIEnv* env, jobject obj) const {\n        auto local = lock(env);\n        auto result = env-&gt;IsSameObject(obj, local);\n        env-&gt;DeleteLocalRef(local);\n        return result;\n    }\n\n  private:\n    std::shared_ptr&lt;GlobalRef&lt;jobject&gt;&gt; _weakRef;\n};\n</code></pre>\n"}],"owner":{"account_id":14670661,"reputation":21,"user_id":10595216,"display_name":"comrade_bender"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76960264,"answer_count":1,"score":0,"last_activity_date":1692786450,"creation_date":1692377788,"question_id":76931263,"body_markdown":"There is a java application that actively uses C++. C++ code often calls methods in java and java code often calls methods in C++.\r\n\r\nThere is a cache on the C++ side that stores `jweak` references on java objects.\r\n\r\nAt some point in time, the java side call `getObj` on the C++ side, which should return an object from the cache.\r\n\r\n```\r\nJNIEXPORT jobject JNICALL Java_a_b_c_getObj(JNIEnv* env, jlong id) {\r\n      jweak weak_obj = g_cache.get_obj_by_id(id);\r\n      return env-&gt;NewLocalRef(weak_obj);\r\n}\r\n```\r\nOn the java side, this object is captured in the UI code and can even be processed somehow, but after a short time it may be called to finalize, the application crashes.\r\n\r\n```\r\nval obj = getObj(id) as Foo\r\nobj.methodA() // good\r\n// a little bit later\r\nobj.methodB() // error because there was a finalize function that cast to the implementation of the object on the C++ side\r\n```\r\n\r\nReproduced relatively stable.\r\n\r\n\r\n\r\nIt turns out that the garbage collector starts its work before the call to `getObj`, but the finalizer has not yet been dispatched.\r\nWhen an object fire in java starts to happen, finalize is called and the garbage collector doesn&#39;t know that the object is being used again.","title":"GC issue with objects returned from JNI to Java","body":"<p>There is a java application that actively uses C++. C++ code often calls methods in java and java code often calls methods in C++.</p>\n<p>There is a cache on the C++ side that stores <code>jweak</code> references on java objects.</p>\n<p>At some point in time, the java side call <code>getObj</code> on the C++ side, which should return an object from the cache.</p>\n<pre><code>JNIEXPORT jobject JNICALL Java_a_b_c_getObj(JNIEnv* env, jlong id) {\n      jweak weak_obj = g_cache.get_obj_by_id(id);\n      return env-&gt;NewLocalRef(weak_obj);\n}\n</code></pre>\n<p>On the java side, this object is captured in the UI code and can even be processed somehow, but after a short time it may be called to finalize, the application crashes.</p>\n<pre><code>val obj = getObj(id) as Foo\nobj.methodA() // good\n// a little bit later\nobj.methodB() // error because there was a finalize function that cast to the implementation of the object on the C++ side\n</code></pre>\n<p>Reproduced relatively stable.</p>\n<p>It turns out that the garbage collector starts its work before the call to <code>getObj</code>, but the finalizer has not yet been dispatched.\nWhen an object fire in java starts to happen, finalize is called and the garbage collector doesn't know that the object is being used again.</p>\n"},{"tags":["java","csv","illegalargumentexception"],"answers":[{"comments":[{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":0,"creation_date":1591873061,"post_id":62322384,"comment_id":110223378,"body_markdown":"Thank you for your kindness, sir. It works and I can go further. Is it very late in your time zone? Have a nice day, sir. @Arvind","body":"Thank you for your kindness, sir. It works and I can go further. Is it very late in your time zone? Have a nice day, sir. @Arvind"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1591873180,"post_id":62322384,"comment_id":110223433,"body_markdown":"@Woden - You are most welcome. No, it&#39;s not late in my timezone. I&#39;m in the UK and it&#39;s 12:00 pm now.","body":"@Woden - You are most welcome. No, it&#39;s not late in my timezone. I&#39;m in the UK and it&#39;s 12:00 pm now."},{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":0,"creation_date":1591954032,"post_id":62322384,"comment_id":110256137,"body_markdown":"Sir, I got a question about this. If I set the field of 9 (actually 10), it seems that the code inside won&#39;t be executed. And I have another question of how can I stop before `scenario:red` and set it into one `scenario` object. I&#39;ve posted this, and stilling trying, but cannot figure out. Thank you, sir. https://stackoverflow.com/questions/62336742/parsing-csv-data-into-object-with-certain-condition-in-java","body":"Sir, I got a question about this. If I set the field of 9 (actually 10), it seems that the code inside won&#39;t be executed. And I have another question of how can I stop before <code>scenario:red</code> and set it into one <code>scenario</code> object. I&#39;ve posted this, and stilling trying, but cannot figure out. Thank you, sir. <a href=\"https://stackoverflow.com/questions/62336742/parsing-csv-data-into-object-with-certain-condition-in-java\" title=\"parsing csv data into object with certain condition in java\">stackoverflow.com/questions/62336742/&hellip;</a>"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591954247,"creation_date":1591871600,"answer_id":62322384,"question_id":62321959,"body_markdown":"Do it as follows:\r\n\r\n    final int NO_OF_FIELDS = 10;\r\n    for (String csvLine : csvContents) {\r\n    \r\n    \t// split by comma and remove redundant spaces\r\n    \tString[] data = csvLine.split(&quot;,&quot;, -1);\r\n    \tif (data.length == NO_OF_FIELDS) {// &lt;---Add this check to avoid ArrayIndexOutOfBoundsException\r\n    \t\tSystem.out.println(data[1]);\r\n    \r\n    \t\tCharacter character = null;\r\n    \t\tString clazz = data[0].trim().toLowerCase();// &lt;---Trim to get rid of leading and trailing space\r\n    \r\n    \t\tif (clazz.startsWith(&quot;scenario&quot; &amp;&amp; data.length == 1)) {\r\n    \t\t\t// ...\r\n    \t\t} else if (&quot;person&quot;.equals(clazz) &amp;&amp; data.length == 10) {\r\n    \t\t\t// Handle the exception as shown below\r\n    \t\t\tProfession professionEnum;\r\n    \t\t\ttry {\r\n    \t\t\t\tprofessionEnum = Profession.valueOf(data[4].trim().toUpperCase());// &lt;---First trim then apply\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// toUpperCase()\r\n    \t\t\t} catch (IllegalArgumentException e) {\r\n    \t\t\t\tprofessionEnum = Profession.UNKNOWN;\r\n    \t\t\t}\r\n    \r\n    \t\t\t// ...\r\n    \r\n    \t\t} else if (&quot;animal&quot;.equals(clazz)) {\r\n    \t\t\t// ...\r\n    \t\t}\r\n    \t}\r\n    }","title":"parsing csv file dealing with empty value java","body":"<p>Do it as follows:</p>\n\n<pre><code>final int NO_OF_FIELDS = 10;\nfor (String csvLine : csvContents) {\n\n    // split by comma and remove redundant spaces\n    String[] data = csvLine.split(\",\", -1);\n    if (data.length == NO_OF_FIELDS) {// &lt;---Add this check to avoid ArrayIndexOutOfBoundsException\n        System.out.println(data[1]);\n\n        Character character = null;\n        String clazz = data[0].trim().toLowerCase();// &lt;---Trim to get rid of leading and trailing space\n\n        if (clazz.startsWith(\"scenario\" &amp;&amp; data.length == 1)) {\n            // ...\n        } else if (\"person\".equals(clazz) &amp;&amp; data.length == 10) {\n            // Handle the exception as shown below\n            Profession professionEnum;\n            try {\n                professionEnum = Profession.valueOf(data[4].trim().toUpperCase());// &lt;---First trim then apply\n                                                                                    // toUpperCase()\n            } catch (IllegalArgumentException e) {\n                professionEnum = Profession.UNKNOWN;\n            }\n\n            // ...\n\n        } else if (\"animal\".equals(clazz)) {\n            // ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692785724,"creation_date":1692785724,"answer_id":76960390,"question_id":62321959,"body_markdown":"If you later hit a problem with quoted string tokens then you could use [OpenCSV library][1] or more csv compliant reader loop. See this example.\r\n\r\n\tList&lt;String&gt; tokens = new ArrayList&lt;String&gt;(32);\r\n\tString line;\r\n\twhile( (line=fileReader.readLine())!=null) {\r\n\t\tline=line.trim();\r\n\t\tif(line.isEmpty()) continue;\r\n\t\ttokens.clear();\r\n\t\tif (parseCSVLine(tokens, line, &#39;,&#39;)&gt;0) {\r\n\t\t\tfor(int idx=0; idx&lt;tokens.size(); idx++)\r\n\t\t\t\tSystem.out.print(&quot;|&quot;+tokens.get(idx));\r\n\t\t\tSystem.out.println(&quot;|&quot;);\r\n\t\t}\r\n\t}\r\n\r\n    - - - - \r\n    public static int parseCSVLine(List&lt;String&gt; tokens, String line, char delim) {\r\n    \t// this handles quoted string and tuple &quot;&quot; escape values,\r\n    \t// array string is returned as a [&quot;drama&quot;,&quot;comedy&quot;] string value, reader must split to sub tokens.\r\n\t\t// ABCD, &quot;string value&quot;, &quot;string &quot;&quot; escape value&quot;, &quot;[&quot;&quot;drama&quot;&quot;,&quot;&quot;comedy&quot;&quot;]&quot;, DEFG    \t\r\n    \tint count=0;\r\n    \tline = line+delim;\r\n    \tfinal int maxIdx = line.length()-1;\r\n    \tint startIdx=0, endIdx=-1; // both inclusive index\r\n    \tboolean inQuote=false;\r\n    \tfor(int idx=0; idx&lt;=maxIdx; idx++) {\r\n    \t\tchar ch = line.charAt(idx);\r\n    \t\tif(ch==delim &amp;&amp; !inQuote) {\r\n    \t\t\tcount++;\r\n    \t\t\t//if(line.charAt(startIdx)==&#39;&quot;&#39;) startIdx++; // drop leading and trailing &quot; string delimiter\r\n    \t\t\t//if(line.charAt(endIdx)==&#39;&quot;&#39;) endIdx--;    \t\t\t\r\n    \t\t\tString value = startIdx&lt;=endIdx ? line.substring(startIdx, endIdx+1).trim() : &quot;&quot;; // trim tokens\r\n    \t\t\tvalue = value.replace(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;); // convert &quot;&quot; -&gt; &quot;\r\n    \t\t\ttokens.add(value);\r\n    \t\t\tstartIdx=idx+1;\r\n    \t\t\t//endIdx=startIdx-1; // use -1\r\n    \t\t\tinQuote=false;\r\n    \t\t} else if(ch==&#39;&quot;&#39;) {\r\n    \t\t\tif(idx&lt;maxIdx &amp;&amp; line.charAt(idx+1)==&#39;&quot;&#39;) {\r\n    \t\t\t\tendIdx+=2; // tuple &quot;&quot; inside the quoted string value\r\n    \t\t\t\tidx++;\r\n    \t\t\t} else if(!inQuote) {\r\n    \t\t\t\tinQuote=true; // start quoted string\r\n    \t\t\t\tstartIdx=idx+1; // drop leading &quot; from the token\r\n    \t\t\t\t//endIdx=startIdx;\r\n    \t\t\t} else {\r\n    \t\t\t\tinQuote=false; // end quoted string\r\n    \t\t\t\tendIdx=idx-1;    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tendIdx=idx; // &quot;increment&quot; endIdx, inclusive index to the last char of token\r\n    \t\t}    \t\t\r\n    \t}    \t\r\n    \treturn count;\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/opencsv","title":"parsing csv file dealing with empty value java","body":"<p>If you later hit a problem with quoted string tokens then you could use <a href=\"https://www.baeldung.com/opencsv\" rel=\"nofollow noreferrer\">OpenCSV library</a> or more csv compliant reader loop. See this example.</p>\n<pre><code>List&lt;String&gt; tokens = new ArrayList&lt;String&gt;(32);\nString line;\nwhile( (line=fileReader.readLine())!=null) {\n    line=line.trim();\n    if(line.isEmpty()) continue;\n    tokens.clear();\n    if (parseCSVLine(tokens, line, ',')&gt;0) {\n        for(int idx=0; idx&lt;tokens.size(); idx++)\n            System.out.print(&quot;|&quot;+tokens.get(idx));\n        System.out.println(&quot;|&quot;);\n    }\n}\n\n- - - - \npublic static int parseCSVLine(List&lt;String&gt; tokens, String line, char delim) {\n    // this handles quoted string and tuple &quot;&quot; escape values,\n    // array string is returned as a [&quot;drama&quot;,&quot;comedy&quot;] string value, reader must split to sub tokens.\n    // ABCD, &quot;string value&quot;, &quot;string &quot;&quot; escape value&quot;, &quot;[&quot;&quot;drama&quot;&quot;,&quot;&quot;comedy&quot;&quot;]&quot;, DEFG       \n    int count=0;\n    line = line+delim;\n    final int maxIdx = line.length()-1;\n    int startIdx=0, endIdx=-1; // both inclusive index\n    boolean inQuote=false;\n    for(int idx=0; idx&lt;=maxIdx; idx++) {\n        char ch = line.charAt(idx);\n        if(ch==delim &amp;&amp; !inQuote) {\n            count++;\n            //if(line.charAt(startIdx)=='&quot;') startIdx++; // drop leading and trailing &quot; string delimiter\n            //if(line.charAt(endIdx)=='&quot;') endIdx--;                \n            String value = startIdx&lt;=endIdx ? line.substring(startIdx, endIdx+1).trim() : &quot;&quot;; // trim tokens\n            value = value.replace(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;); // convert &quot;&quot; -&gt; &quot;\n            tokens.add(value);\n            startIdx=idx+1;\n            //endIdx=startIdx-1; // use -1\n            inQuote=false;\n        } else if(ch=='&quot;') {\n            if(idx&lt;maxIdx &amp;&amp; line.charAt(idx+1)=='&quot;') {\n                endIdx+=2; // tuple &quot;&quot; inside the quoted string value\n                idx++;\n            } else if(!inQuote) {\n                inQuote=true; // start quoted string\n                startIdx=idx+1; // drop leading &quot; from the token\n                //endIdx=startIdx;\n            } else {\n                inQuote=false; // end quoted string\n                endIdx=idx-1;                   \n            }\n        } else {\n            endIdx=idx; // &quot;increment&quot; endIdx, inclusive index to the last char of token\n        }           \n    }       \n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62322384,"answer_count":2,"score":1,"last_activity_date":1692785724,"creation_date":1591870267,"question_id":62321959,"body_markdown":"I am new to java and practicing parsing csv file. I&#39;ve figured out how to parse and use a constructor to create an instance. However, there are empty strings in my csv file, and the console just throw `IllegalArgumentException: No enum constant` to me.\r\n\r\nI&#39;ve referred to:\r\n\r\n 1. https://stackoverflow.com/questions/6062925/enum-valueof-illegalargumentexception-no-enum-const-class\r\n 2. https://stackoverflow.com/questions/32068129/parse-csv-file-in-java-and-delaing-with-empty-values\r\n\r\nUnfortunately, it doesn&#39;t work. When it comes to the `Person` with empty `Profession`, the program breaks. Do I need to fill some string like &quot;NONE&quot; for matching the enum, or there is any way to deal with this? Any help or hint is highly appreciated.\r\n\r\nHere is my `Profession` for example:\r\n\r\n    public enum Profession {\r\n        DOCTOR, CEO, CRIMINAL, HOMELESS, UNEMPLOYED, MUSICIAN, BOXER , UNKNOWN, NONE;\r\n    }\r\n\r\nHere is how my csv file looks like:\r\n\r\n      [0],    [1], [2],    [3]  ,    [4]    ,   [5]   ,  [6] ,   [7]  ,  [8] , [9]\r\n    class, gender, age, bodyType, profession, pregnant, isYou ,species, isPet, role\r\n    scenario:green,   ,         ,           ,         ,        ,      ,      ,\r\n    person, female, 24, average ,           , FALSE   ,        ,      ,      , passenger\r\n    animal, male  ,  4,         ,           , FALSE   ,        , dog  , TRUE , pedestrian\r\n      .\r\n      .\r\n\r\nHere is the parsing code:\r\n\r\n    try (BufferedReader csvReader = new BufferedReader(new FileReader(csvFile));) {\r\n    String headerLine = csvReader.readLine(); //get rid of header\r\n\r\n    while ((line = csvReader.readLine()) != null) { \r\n        csvContents.add(line);// add the line to the ArrayList      \r\n    }\r\n\r\n    for (String csvLine : csvContents) {\r\n\r\n        // split by comma and remove redundant spaces\r\n        String[] data = csvLine.split(&quot;,&quot;,-1); \r\n        System.out.println(data[1]);// IndexOutOfBound\r\n\r\n        Character character = null;\r\n        String clazz = data[0].toLowerCase();// cannot use word &quot;class&quot; as a variable\r\n\r\n\r\n        if (clazz.startsWith(&quot;scenario&quot;&amp;&amp; data.length == 1)) { \r\n            scenario = new Scenario();\r\n            scenario.setLegalCrossing(clazz.endsWith(&quot;green&quot;));\r\n            continue;\r\n        } else if (&quot;person&quot;.equals(clazz)&amp;&amp; data.length == 10) {\r\n            Profession professionEnum = Profession.valueOf(data[4].toUpperCase().trim());  \r\n            Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\r\n            BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\r\n\r\n            person = new Person(Integer.parseInt(data[2]), professionEnum ,genderEnum , bodyTypeEnum , Boolean.parseBoolean(data[5]));\r\n            person.setAsYou(Boolean.parseBoolean(data[6]));\r\n\r\n        } else if (&quot;animal&quot;.equals(clazz)) {\r\n            Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\r\n            BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\r\n\r\n            animal = new Animal(Integer.parseInt(data[2]) , genderEnum , bodyTypeEnum, data[7]);\r\n            animal.setIsPet(Boolean.parseBoolean(data[8]));\r\n        }\r\n    } catch (someException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nand the parsed line looks like:\r\n\r\n    scenario:green,,,,,,,,,\r\n    person,female,24,average,doctor,false,false,,,passenger\r\n    person,male,40,overweight,unknown,false,false,,,passenger\r\n    person,female,2,average,,false,false,,,passenger\r\n    person,male,82,average,,false,false,,,pedestrian\r\n    person,female,32,average,ceo,true,false,,,pedestrian\r\n    person,male,7,athletic,,false,false,,,pedestrian\r\n    animal,male,4,,,false,false,dog,true,pedestrian\r\n    scenario:red,,,,,,,,,","title":"parsing csv file dealing with empty value java","body":"<p>I am new to java and practicing parsing csv file. I've figured out how to parse and use a constructor to create an instance. However, there are empty strings in my csv file, and the console just throw <code>IllegalArgumentException: No enum constant</code> to me.</p>\n\n<p>I've referred to:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/6062925/enum-valueof-illegalargumentexception-no-enum-const-class\">enum valueOf IllegalArgumentException: No enum const class</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32068129/parse-csv-file-in-java-and-delaing-with-empty-values\">Parse CSV file in java, and delaing with empty values</a></li>\n</ol>\n\n<p>Unfortunately, it doesn't work. When it comes to the <code>Person</code> with empty <code>Profession</code>, the program breaks. Do I need to fill some string like \"NONE\" for matching the enum, or there is any way to deal with this? Any help or hint is highly appreciated.</p>\n\n<p>Here is my <code>Profession</code> for example:</p>\n\n<pre><code>public enum Profession {\n    DOCTOR, CEO, CRIMINAL, HOMELESS, UNEMPLOYED, MUSICIAN, BOXER , UNKNOWN, NONE;\n}\n</code></pre>\n\n<p>Here is how my csv file looks like:</p>\n\n<pre><code>  [0],    [1], [2],    [3]  ,    [4]    ,   [5]   ,  [6] ,   [7]  ,  [8] , [9]\nclass, gender, age, bodyType, profession, pregnant, isYou ,species, isPet, role\nscenario:green,   ,         ,           ,         ,        ,      ,      ,\nperson, female, 24, average ,           , FALSE   ,        ,      ,      , passenger\nanimal, male  ,  4,         ,           , FALSE   ,        , dog  , TRUE , pedestrian\n  .\n  .\n</code></pre>\n\n<p>Here is the parsing code:</p>\n\n<pre><code>try (BufferedReader csvReader = new BufferedReader(new FileReader(csvFile));) {\nString headerLine = csvReader.readLine(); //get rid of header\n\nwhile ((line = csvReader.readLine()) != null) { \n    csvContents.add(line);// add the line to the ArrayList      \n}\n\nfor (String csvLine : csvContents) {\n\n    // split by comma and remove redundant spaces\n    String[] data = csvLine.split(\",\",-1); \n    System.out.println(data[1]);// IndexOutOfBound\n\n    Character character = null;\n    String clazz = data[0].toLowerCase();// cannot use word \"class\" as a variable\n\n\n    if (clazz.startsWith(\"scenario\"&amp;&amp; data.length == 1)) { \n        scenario = new Scenario();\n        scenario.setLegalCrossing(clazz.endsWith(\"green\"));\n        continue;\n    } else if (\"person\".equals(clazz)&amp;&amp; data.length == 10) {\n        Profession professionEnum = Profession.valueOf(data[4].toUpperCase().trim());  \n        Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\n        BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\n\n        person = new Person(Integer.parseInt(data[2]), professionEnum ,genderEnum , bodyTypeEnum , Boolean.parseBoolean(data[5]));\n        person.setAsYou(Boolean.parseBoolean(data[6]));\n\n    } else if (\"animal\".equals(clazz)) {\n        Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\n        BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\n\n        animal = new Animal(Integer.parseInt(data[2]) , genderEnum , bodyTypeEnum, data[7]);\n        animal.setIsPet(Boolean.parseBoolean(data[8]));\n    }\n} catch (someException e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>and the parsed line looks like:</p>\n\n<pre><code>scenario:green,,,,,,,,,\nperson,female,24,average,doctor,false,false,,,passenger\nperson,male,40,overweight,unknown,false,false,,,passenger\nperson,female,2,average,,false,false,,,passenger\nperson,male,82,average,,false,false,,,pedestrian\nperson,female,32,average,ceo,true,false,,,pedestrian\nperson,male,7,athletic,,false,false,,,pedestrian\nanimal,male,4,,,false,false,dog,true,pedestrian\nscenario:red,,,,,,,,,\n</code></pre>\n"},{"tags":["java","printing","printf"],"comments":[{"owner":{"account_id":259131,"reputation":411,"user_id":541790,"accept_rate":84,"display_name":"m.qayyum"},"score":0,"creation_date":1323602071,"post_id":8463477,"comment_id":10465547,"body_markdown":"use System.out.println instead of System.out.print","body":"use System.out.println instead of System.out.print"},{"owner":{"account_id":162312,"reputation":2475,"user_id":383688,"accept_rate":100,"display_name":"MockerTim"},"score":0,"creation_date":1323602207,"post_id":8463477,"comment_id":10465566,"body_markdown":"What do you mean by `without moving new line`? Does this mean, that you don&#39;t want to print new line? You should also check the punctuation of your question.","body":"What do you mean by <code>without moving new line</code>? Does this mean, that you don&#39;t want to print new line? You should also check the punctuation of your question."},{"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"score":1,"creation_date":1323603306,"post_id":8463477,"comment_id":10465711,"body_markdown":"Rephrased question: how do I remove the `%n` from the `printf`? Sorry, I&#39;m giving the question a *downvote* for not having done enough research on what printf format strings are ...","body":"Rephrased question: how do I remove the <code>%n</code> from the <code>printf</code>? Sorry, I&#39;m giving the question a <i>downvote</i> for not having done enough research on what printf format strings are ..."},{"owner":{"account_id":333967,"reputation":1711,"user_id":660096,"accept_rate":80,"display_name":"agiles"},"score":0,"creation_date":1323604211,"post_id":8463477,"comment_id":10465821,"body_markdown":"sorry iam not well look up on code line and this is need to finish with some amount of time that&#39;s y happen ask sorry again","body":"sorry iam not well look up on code line and this is need to finish with some amount of time that&#39;s y happen ask sorry again"}],"answers":[{"tags":[],"owner":{"account_id":238594,"reputation":646,"user_id":507587,"accept_rate":62,"display_name":"tobier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323601995,"creation_date":1323601995,"answer_id":8463490,"question_id":8463477,"body_markdown":"Do you mean like this?\r\n\r\n    System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\r\n            for(int j=0; j&lt;5;j++){\r\n            System.out.print( grades[i][j]+ &quot; &quot; );\r\n            }\r\n    System.out.println();","title":"Can i use printf in java without moving to new line","body":"<p>Do you mean like this?</p>\n\n<pre><code>System.out.printf(\"%7s  %s%n\",names[i], \" \");\n        for(int j=0; j&lt;5;j++){\n        System.out.print( grades[i][j]+ \" \" );\n        }\nSystem.out.println();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":0,"creation_date":1323603400,"post_id":8463498,"comment_id":10465724,"body_markdown":"check the javadoc of printf, both behave exactly the same way","body":"check the javadoc of printf, both behave exactly the same way"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323602035,"creation_date":1323602035,"answer_id":8463498,"question_id":8463477,"body_markdown":"Use [`System.out.format(String, Object...)`][1], which doesn&#39;t feed a line\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Can i use printf in java without moving to new line","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\"><code>System.out.format(String, Object...)</code></a>, which doesn't feed a line</p>\n"},{"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323603248,"creation_date":1323603248,"answer_id":8463634,"question_id":8463477,"body_markdown":"printf wont print a newline by itself, the `%n` at the end of your format String causes the new line . Replacing `&quot;%7s  %s%n&quot;` with `&quot;%7s  %s&quot;` should work.\r\n","title":"Can i use printf in java without moving to new line","body":"<p>printf wont print a newline by itself, the <code>%n</code> at the end of your format String causes the new line . Replacing <code>\"%7s  %s%n\"</code> with <code>\"%7s  %s\"</code> should work.</p>\n"},{"comments":[{"owner":{"account_id":333967,"reputation":1711,"user_id":660096,"accept_rate":80,"display_name":"agiles"},"score":0,"creation_date":1323603797,"post_id":8463635,"comment_id":10465773,"body_markdown":"thanks for ur reply... yep it is new line character under there. sorry i never used printf method so i confused","body":"thanks for ur reply... yep it is new line character under there. sorry i never used printf method so i confused"}],"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1323603257,"creation_date":1323603257,"answer_id":8463635,"question_id":8463477,"body_markdown":"`printf` doesn&#39;t by default print a new line. You *really* should read the documentation. When you **explicitly** print a new line using the `%n` newline placeholder, you shouldn&#39;t be surprised you get a newline ...\r\n\r\nSo just remove the `%n` if you don&#39;t want it.","title":"Can i use printf in java without moving to new line","body":"<p><code>printf</code> doesn't by default print a new line. You <em>really</em> should read the documentation. When you <strong>explicitly</strong> print a new line using the <code>%n</code> newline placeholder, you shouldn't be surprised you get a newline ...</p>\n\n<p>So just remove the <code>%n</code> if you don't want it.</p>\n"},{"tags":[],"owner":{"account_id":951663,"reputation":12014,"user_id":977676,"display_name":"COD3BOY"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323604232,"creation_date":1323604232,"answer_id":8463738,"question_id":8463477,"body_markdown":"I suppose this is what you need,\n\n&gt;To print the name of students along with their grades in each line.\n\nTo accomplish this, you need,\n\n   \n\n    for(int i=0;i&lt;number_of_students;i++)\n    {\n     System.out.printf(&quot;%7s  %s &quot;,names[i], &quot; &quot;);\n                               ^                                 //note the ^\n                for(int j=0; j&lt;5;j++){\n                System.out.print( grades[i][j]+ &quot; &quot; );\n                }\n     \n    System.out.println();\n    }\n\nThis will give you something like this :\n\n&gt;*Name*   *Grade*  *Grade*  *Grade*  *Grade*  *Grade* \n&gt;\n&gt;*Name*   *Grade*  *Grade*  *Grade*  *Grade*  *Grade* \n&gt;\n&gt;...\n\n","title":"Can i use printf in java without moving to new line","body":"<p>I suppose this is what you need,</p>\n<blockquote>\n<p>To print the name of students along with their grades in each line.</p>\n</blockquote>\n<p>To accomplish this, you need,</p>\n<pre><code>for(int i=0;i&lt;number_of_students;i++)\n{\n System.out.printf(&quot;%7s  %s &quot;,names[i], &quot; &quot;);\n                           ^                                 //note the ^\n            for(int j=0; j&lt;5;j++){\n            System.out.print( grades[i][j]+ &quot; &quot; );\n            }\n \nSystem.out.println();\n}\n</code></pre>\n<p>This will give you something like this :</p>\n<blockquote>\n<p><em>Name</em>   <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em></p>\n<p><em>Name</em>   <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em></p>\n<p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":44076,"reputation":783,"user_id":129134,"accept_rate":75,"display_name":"JoseJC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432752630,"creation_date":1432752630,"answer_id":30490792,"question_id":8463477,"body_markdown":"You can print outside your loop.\r\n \r\n    String gradesString;\r\n    System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\r\n        for(int j=0; j&lt;5;j++){\r\n            gradesString += grades[i][j]+ &quot; &quot;;\r\n        }\r\n    System.out.println(gradesString);","title":"Can i use printf in java without moving to new line","body":"<p>You can print outside your loop.</p>\n\n<pre><code>String gradesString;\nSystem.out.printf(\"%7s  %s%n\",names[i], \" \");\n    for(int j=0; j&lt;5;j++){\n        gradesString += grades[i][j]+ \" \";\n    }\nSystem.out.println(gradesString);\n</code></pre>\n"}],"owner":{"account_id":333967,"reputation":1711,"user_id":660096,"accept_rate":80,"display_name":"agiles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72775,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":8463635,"answer_count":6,"score":2,"last_activity_date":1692785450,"creation_date":1323601772,"question_id":8463477,"body_markdown":"I use System.out.printf method to format the string and print a line but\r\nafter that i need to print another line through for loop with print method without moving new line.\r\n\r\nNow after used printf method it will move to new line. but i don&#39;t need to move new line until print my for loop.\r\n\r\nis it possible??\r\nor can u tell any other way\r\n \r\nhere is my sample code\r\n\r\n    System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\r\n    for (int j = 0; j &lt; 5; j++) {\r\n        System.out.print( grades[i][j] + &quot; &quot; );\r\n    }\r\n    System.out.println();\r\n","title":"Can i use printf in java without moving to new line","body":"<p>I use System.out.printf method to format the string and print a line but\nafter that i need to print another line through for loop with print method without moving new line.</p>\n<p>Now after used printf method it will move to new line. but i don't need to move new line until print my for loop.</p>\n<p>is it possible??\nor can u tell any other way</p>\n<p>here is my sample code</p>\n<pre><code>System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\nfor (int j = 0; j &lt; 5; j++) {\n    System.out.print( grades[i][j] + &quot; &quot; );\n}\nSystem.out.println();\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1692700848,"post_id":76952394,"comment_id":135656854,"body_markdown":"&quot;not allowing me to use gethyperlink method. It will always give me error on this method&quot;: What error? (full stack-trace please!) - Using what code? ([minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example) please!).","body":"&quot;not allowing me to use gethyperlink method. It will always give me error on this method&quot;: What error? (full stack-trace please!) - Using what code? (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a> please!)."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1692701663,"post_id":76952394,"comment_id":135656999,"body_markdown":"I Just edited my question. \nFor getHyperlinks - I always used to get error like -&gt; getHyperlinks is undefined for type XSLFTextParagraph","body":"I Just edited my question.  For getHyperlinks - I always used to get error like -&gt; getHyperlinks is undefined for type XSLFTextParagraph"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1692702930,"post_id":76952394,"comment_id":135657229,"body_markdown":"See [class-use of XSLFHyperlink](https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/class-use/XSLFHyperlink.html). A `XSLFTextParagraph` does not have access to hyperlinks. Only `XSLFTextRun` and `XSLFSimpleShape` have. One can iterate over all `XSLFTextRun` of `XSLFTextParagraph` and then try to get `XSLFHyperlink` from `XSLFTextRun` using `XSLFTextRun.getHyperlink`.","body":"See <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/class-use/XSLFHyperlink.html\" rel=\"nofollow noreferrer\">class-use of XSLFHyperlink</a>. A <code>XSLFTextParagraph</code> does not have access to hyperlinks. Only <code>XSLFTextRun</code> and <code>XSLFSimpleShape</code> have. One can iterate over all <code>XSLFTextRun</code> of <code>XSLFTextParagraph</code> and then try to get <code>XSLFHyperlink</code> from <code>XSLFTextRun</code> using <code>XSLFTextRun.getHyperlink</code>."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1692703295,"post_id":76952394,"comment_id":135657294,"body_markdown":"I tried to use the same as suggested by you. But still getting error.","body":"I tried to use the same as suggested by you. But still getting error."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1692704509,"post_id":76952394,"comment_id":135657564,"body_markdown":"It is singular `XSLFTextRun.getHyperlink` and not plural getHyperlinks.","body":"It is singular <code>XSLFTextRun.getHyperlink</code> and not plural getHyperlinks."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1692778023,"post_id":76952394,"comment_id":135669160,"body_markdown":"Thanks it worked actually i was including textRun.getHyperlink() in for loop but it was throwing me error so i modified my code a little bit and removed a for loop with XSLFHyperlink hyperlink = textRun.getHyperlink();","body":"Thanks it worked actually i was including textRun.getHyperlink() in for loop but it was throwing me error so i modified my code a little bit and removed a for loop with XSLFHyperlink hyperlink = textRun.getHyperlink();"}],"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692785383,"creation_date":1692700194,"question_id":76952394,"body_markdown":"I want to extract all the hyperlinks present in PowerPoint and print the text along with its corresponding URLs. Can anyone help me in providing a correct java code?\r\n\r\nI tried to use Apache POI but is not allowing me to use `gethyperlink` method. It will always give me error on this method.\r\nIt would be really helpful if anyone can provide me the solution.\r\n\r\nMy Code:\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;) \r\n    XMLSlideShow ppt = new XMLSlideShow(fis);\r\n    for (XSLFSlide slide : ppt.getSlides()) {\r\n        for (XSLFShape shape : slide.getShapes()) {\r\n            if (shape instanceof XSLFTextShape) {\r\n                XSLFTextShape textShape = (XSLFTextShape) shape;\r\n                for (XSLFTextParagraph paragraph : textShape) {\r\n                    for (XSLFHyperlink hyperlink : paragraph.getHyperlinks()) {\r\n                        String linkAddress = hyperlink.getAddress();\r\n                        String linkLabel = hyperlink.getLabel();\r\n                        System.out.println(&quot;Label: &quot; + linkLabel);\r\n                        System.out.println(&quot;URL: &quot; + linkAddress);\r\n                        System.out.println();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nEdit\r\n----\r\nI tried to use `XSLFTextRun` but still getting error on `getHyperlinks` method like it is undefined for type `XSLFTextRun`.\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;)\r\n    XMLSlideShow ppt = new XMLSlideShow(fis);\r\n    for (XSLFSlide slide : ppt.getSlides()) {\r\n        for (XSLFShape shape : slide.getShapes()) {\r\n            if (shape instanceof XSLFTextShape) {\r\n                XSLFTextShape textShape = (XSLFTextShape) shape;\r\n                for (XSLFTextParagraph paragraph : textShape.getTextParagraphs()) {\r\n                    for (XSLFTextRun textRun : paragraph.getTextRuns()) {\r\n                        for (XSLFHyperlink hyperlink : textRun.getHyperlinks()) {\r\n                            String linkAddress = hyperlink.getAddress();\r\n                            String linkLabel = textRun.getRawText();\r\n                            System.out.println(&quot;Label: &quot; + linkLabel);\r\n                            System.out.println(&quot;URL: &quot; + linkAddress);\r\n                            System.out.println();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Extract hyperlinks from ppt","body":"<p>I want to extract all the hyperlinks present in PowerPoint and print the text along with its corresponding URLs. Can anyone help me in providing a correct java code?</p>\n<p>I tried to use Apache POI but is not allowing me to use <code>gethyperlink</code> method. It will always give me error on this method.\nIt would be really helpful if anyone can provide me the solution.</p>\n<p>My Code:</p>\n<pre><code>FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;) \nXMLSlideShow ppt = new XMLSlideShow(fis);\nfor (XSLFSlide slide : ppt.getSlides()) {\n    for (XSLFShape shape : slide.getShapes()) {\n        if (shape instanceof XSLFTextShape) {\n            XSLFTextShape textShape = (XSLFTextShape) shape;\n            for (XSLFTextParagraph paragraph : textShape) {\n                for (XSLFHyperlink hyperlink : paragraph.getHyperlinks()) {\n                    String linkAddress = hyperlink.getAddress();\n                    String linkLabel = hyperlink.getLabel();\n                    System.out.println(&quot;Label: &quot; + linkLabel);\n                    System.out.println(&quot;URL: &quot; + linkAddress);\n                    System.out.println();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<h2>Edit</h2>\n<p>I tried to use <code>XSLFTextRun</code> but still getting error on <code>getHyperlinks</code> method like it is undefined for type <code>XSLFTextRun</code>.</p>\n<pre><code>FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;)\nXMLSlideShow ppt = new XMLSlideShow(fis);\nfor (XSLFSlide slide : ppt.getSlides()) {\n    for (XSLFShape shape : slide.getShapes()) {\n        if (shape instanceof XSLFTextShape) {\n            XSLFTextShape textShape = (XSLFTextShape) shape;\n            for (XSLFTextParagraph paragraph : textShape.getTextParagraphs()) {\n                for (XSLFTextRun textRun : paragraph.getTextRuns()) {\n                    for (XSLFHyperlink hyperlink : textRun.getHyperlinks()) {\n                        String linkAddress = hyperlink.getAddress();\n                        String linkLabel = textRun.getRawText();\n                        System.out.println(&quot;Label: &quot; + linkLabel);\n                        System.out.println(&quot;URL: &quot; + linkAddress);\n                        System.out.println();\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","image4j"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1692717781,"post_id":76954764,"comment_id":135661020,"body_markdown":"Welcome! https://stackoverflow.com/questions/908672/why-do-i-get-exception-must-be-caught-or-declared-to-be-thrown-when-i-try-to should answer your question - if not, please [edit] your question to elaborate. In short - you need to either catch the exception and do something about it, or mark your constructor as `throws IOException` and make the caller of the constructor do something about it.","body":"Welcome! <a href=\"https://stackoverflow.com/questions/908672/why-do-i-get-exception-must-be-caught-or-declared-to-be-thrown-when-i-try-to\" title=\"why do i get exception must be caught or declared to be thrown when i try to\">stackoverflow.com/questions/908672/&hellip;</a> should answer your question - if not, please <a href=\"https://stackoverflow.com/posts/76954764/edit\">edit</a> your question to elaborate. In short - you need to either catch the exception and do something about it, or mark your constructor as <code>throws IOException</code> and make the caller of the constructor do something about it."},{"owner":{"account_id":26893907,"reputation":21,"user_id":20472173,"display_name":"Anonymous2840938028"},"score":0,"creation_date":1692717982,"post_id":76954764,"comment_id":135661069,"body_markdown":"@nanofarad I can&#39;t seem to find the answer to this issue in that question (by that I mean I don&#39;t know how to prevent this exception)","body":"@nanofarad I can&#39;t seem to find the answer to this issue in that question (by that I mean I don&#39;t know how to prevent this exception)"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1692718392,"post_id":76954764,"comment_id":135661166,"body_markdown":"Sorry, I pasted the wrong link - please try https://stackoverflow.com/q/72751842/1424875 for a longer explanation (compared to the tl;dr in my previous comment)","body":"Sorry, I pasted the wrong link - please try <a href=\"https://stackoverflow.com/q/72751842/1424875\">stackoverflow.com/q/72751842/1424875</a> for a longer explanation (compared to the tl;dr in my previous comment)"},{"owner":{"account_id":26893907,"reputation":21,"user_id":20472173,"display_name":"Anonymous2840938028"},"score":0,"creation_date":1692719660,"post_id":76954764,"comment_id":135661457,"body_markdown":"Thanks, that was really helpful, before this I submitted an edit for review and reopening,  is there any way I can cancel that now? (I&#39;m new to Stack overflow)","body":"Thanks, that was really helpful, before this I submitted an edit for review and reopening,  is there any way I can cancel that now? (I&#39;m new to Stack overflow)"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1692720023,"post_id":76954764,"comment_id":135661539,"body_markdown":"I don&#39;t think there&#39;s a need to cancel it (and I&#39;m not sure how to cancel it either); worst case nothing will be done when a reviewer hits it. Thanks and welcome again!","body":"I don&#39;t think there&#39;s a need to cancel it (and I&#39;m not sure how to cancel it either); worst case nothing will be done when a reviewer hits it. Thanks and welcome again!"}],"owner":{"account_id":26893907,"reputation":21,"user_id":20472173,"display_name":"Anonymous2840938028"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1692717738,"answer_count":0,"score":1,"last_activity_date":1692785258,"creation_date":1692717597,"question_id":76954764,"body_markdown":"When using `ICODecoder.read(new File(&quot;path&quot;));` in IntelliJ IDEA the read is underlined in read and states _&quot;java: unreported exception java.io.IOException; must be caught or declared to be thrown&quot;_ in the build output. How can I fix this?\r\n\r\n    import net.sf.image4j.codec.ico.ICODecoder;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.util.List;\r\n    \r\n    public class GUI {\r\n        public GUI() {\r\n            List&lt;BufferedImage&gt; imageList = ICODecoder.read(new File(&quot;path (it&#39;s  a proper, valid file path in the actual code)&quot;));\r\n        }\r\n        public static void main(String[] args) {\r\n            new GUI();\r\n        }\r\n    }\r\n\r\nimage4j is downloaded from the official site and added as a dependency.","title":"image4j is ICODecode.read is throwing IOException","body":"<p>When using <code>ICODecoder.read(new File(&quot;path&quot;));</code> in IntelliJ IDEA the read is underlined in read and states <em>&quot;java: unreported exception java.io.IOException; must be caught or declared to be thrown&quot;</em> in the build output. How can I fix this?</p>\n<pre><code>import net.sf.image4j.codec.ico.ICODecoder;\n\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.util.List;\n\npublic class GUI {\n    public GUI() {\n        List&lt;BufferedImage&gt; imageList = ICODecoder.read(new File(&quot;path (it's  a proper, valid file path in the actual code)&quot;));\n    }\n    public static void main(String[] args) {\n        new GUI();\n    }\n}\n</code></pre>\n<p>image4j is downloaded from the official site and added as a dependency.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":1,"creation_date":1315841939,"post_id":7390365,"comment_id":8924874,"body_markdown":"Did you try it? If you did, you would have known that `matcher.group()` will do exactly what you need.","body":"Did you try it? If you did, you would have known that <code>matcher.group()</code> will do exactly what you need."},{"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"score":0,"creation_date":1315842465,"post_id":7390365,"comment_id":8925039,"body_markdown":"@Marcelo please read comment to last answer","body":"@Marcelo please read comment to last answer"},{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":0,"creation_date":1315842793,"post_id":7390365,"comment_id":8925163,"body_markdown":"Added an answer after seeing your source code.","body":"Added an answer after seeing your source code."}],"answers":[{"comments":[{"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"score":0,"creation_date":1315841939,"post_id":7390405,"comment_id":8924873,"body_markdown":"That is the result that I have, unfortunately.","body":"That is the result that I have, unfortunately."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1315841990,"post_id":7390405,"comment_id":8924889,"body_markdown":"@NecArn: please provide an example, because I know for a fact that `group()` returns the mached part of the input.","body":"@NecArn: please provide an example, because I know for a fact that <code>group()</code> returns the mached part of the input."},{"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"score":0,"creation_date":1315843304,"post_id":7390405,"comment_id":8925334,"body_markdown":"Thanks @Joachim, the name of the method was not clear enough for me. Without knowledge of groups of results, it lead me to believe that the error was in the method instead of the provided regular expression.","body":"Thanks @Joachim, the name of the method was not clear enough for me. Without knowledge of groups of results, it lead me to believe that the error was in the method instead of the provided regular expression."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315841864,"creation_date":1315841864,"answer_id":7390405,"question_id":7390365,"body_markdown":"Why do you think that `group()` returns the input?\r\n\r\nAccording to [the JavaDoc][1]:\r\n\r\n&gt; Returns the input subsequence matched by the previous match.\r\n\r\nIn other words: it returns *that part* of the input that was matched.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28%29","title":"Java: Obtain matched string from an input","body":"<p>Why do you think that <code>group()</code> returns the input?</p>\n\n<p>According to <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28%29\" rel=\"nofollow\">the JavaDoc</a>:</p>\n\n<blockquote>\n  <p>Returns the input subsequence matched by the previous match.</p>\n</blockquote>\n\n<p>In other words: it returns <em>that part</em> of the input that was matched.</p>\n"},{"comments":[{"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"score":0,"creation_date":1315843245,"post_id":7390588,"comment_id":8925314,"body_markdown":"Thanks a lot for your answer. This result actually saves me the effort of extracting the extension in the next result using (.*?) for value field and group(2).","body":"Thanks a lot for your answer. This result actually saves me the effort of extracting the extension in the next result using (.*?) for value field and group(2)."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1315843366,"post_id":7390588,"comment_id":8925363,"body_markdown":"The main problem is the extraneous `.*` at either end of the regex, as @Marcelo said.  But that&#39;s a very good point about making the reset of the quantifiers non-greedy.  You could use `\\&quot;[^\\&quot;]*\\&quot;`, too, for the attribute values.","body":"The main problem is the extraneous <code>.*</code> at either end of the regex, as @Marcelo said.  But that&#39;s a very good point about making the reset of the quantifiers non-greedy.  You could use <code>\\&quot;[^\\&quot;]*\\&quot;</code>, too, for the attribute values."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1315842740,"creation_date":1315842740,"answer_id":7390588,"question_id":7390365,"body_markdown":"After seeing your update it seems like you need matcher groups. Also you need to make your matches non-greedy (`.*?` instead of `.*`). Try this:\r\n\r\n\r\n    private static String fileExtensionPattern = \r\n        &quot;.*&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*?\\&quot; value=\\&quot;(.*?)\\&quot; /&gt;([^&lt;]*)&quot;;\r\n\r\n    // etc.\r\n    private static void findFileExtension() {\r\n\r\n         // etc.\r\n         if(fileXtensionMatcher.find()) {\r\n            // etc.\r\n            System.out.println(fileXtensionMatcher.group(1));\r\n            System.out.println(fileXtensionMatcher.group(2));\r\n        }\r\n    }\r\n\r\n","title":"Java: Obtain matched string from an input","body":"<p>After seeing your update it seems like you need matcher groups. Also you need to make your matches non-greedy (<code>.*?</code> instead of <code>.*</code>). Try this:</p>\n\n<pre><code>private static String fileExtensionPattern = \n    \".*&lt;input type=\\\"hidden\\\" name=\\\".*?\\\" value=\\\"(.*?)\\\" /&gt;([^&lt;]*)\";\n\n// etc.\nprivate static void findFileExtension() {\n\n     // etc.\n     if(fileXtensionMatcher.find()) {\n        // etc.\n        System.out.println(fileXtensionMatcher.group(1));\n        System.out.println(fileXtensionMatcher.group(2));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"score":0,"creation_date":1315843046,"post_id":7390589,"comment_id":8925243,"body_markdown":"Thank you, the issue was the regular expression with the &quot;.*&quot;. As you said it was matching the whole string, and group() was returning the whole string as a result. Removing the &quot;.*&quot; from beginning and end gave me the result.","body":"Thank you, the issue was the regular expression with the &quot;.*&quot;. As you said it was matching the whole string, and group() was returning the whole string as a result. Removing the &quot;.*&quot; from beginning and end gave me the result."}],"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1315842741,"creation_date":1315842741,"answer_id":7390589,"question_id":7390365,"body_markdown":"After you added the source code, I can assure you the `group()` returns the whole input string because it matches your regular expression. If you want just the `&lt;input&gt;` element use:\r\n\r\n    private static String fileExtensionPattern = &quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*\\&quot; value=\\&quot;.*\\&quot; /&gt;&quot;;\r\n\r\nOr use:\r\n\r\n    private static String fileExtensionPattern = &quot;.*(&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*\\&quot; value=\\&quot;.*\\&quot; /&gt;).*&quot;;\r\n    . . .\r\n    System.out.println(fileXtensionMatcher.group(1));","title":"Java: Obtain matched string from an input","body":"<p>After you added the source code, I can assure you the <code>group()</code> returns the whole input string because it matches your regular expression. If you want just the <code>&lt;input&gt;</code> element use:</p>\n\n<pre><code>private static String fileExtensionPattern = \"&lt;input type=\\\"hidden\\\" name=\\\".*\\\" value=\\\".*\\\" /&gt;\";\n</code></pre>\n\n<p>Or use:</p>\n\n<pre><code>private static String fileExtensionPattern = \".*(&lt;input type=\\\"hidden\\\" name=\\\".*\\\" value=\\\".*\\\" /&gt;).*\";\n. . .\nSystem.out.println(fileXtensionMatcher.group(1));\n</code></pre>\n"}],"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3822,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7390589,"answer_count":3,"score":4,"last_activity_date":1692785172,"creation_date":1315841682,"question_id":7390365,"body_markdown":"I am trying to obtain the string that my matcher is able to find using my provided expression. Something like this..\r\n\r\n    if(matcher.find())\r\n        System.out.println(&quot;Matched string is: &quot; + ?);\r\n\r\nWhat would be the appropriate code for this? According to [Oracle][1] the \r\n\r\n    matcher.group();\r\n\r\nmethod returns only the provided input same as \r\n\r\n    matcher.group(0);\r\n\r\nThanks in advance..\r\n\r\nEdit:\r\n\r\nExample follows below: \r\n\r\n    private static String fileExtensionPattern = &quot;.*&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*\\&quot; value=\\&quot;.*\\&quot; /&gt;.*&quot;;\r\n    private static Matcher fileXtensionMatcher;\r\n    private static String input = text\t&quot;&lt;html&gt;&lt;body&gt;&lt;table width=&quot;96&quot;&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=&quot;hidden&quot; name=&quot;docExt&quot; value=&quot;.doc&quot; /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;\r\n\r\n    private static void findFileExtension() {\r\n\t\tSystem.out.println(&quot;** Searching for file extension **&quot;);\r\n\t\tSystem.out.println(&quot;Looking for pattern: &quot; + fileExtensionPattern);\r\n\t\tfileXtensionMatcher = fileXtensionExp.matcher(input);\r\n\t\t\r\n\t\tif(fileXtensionMatcher.find()) {\r\n\t\t\t//the extension expression is contained in the string\r\n\t\t\tSystem.out.println(&quot;Extension expression found.&quot;);\r\n\t\t\tSystem.out.println(fileXtensionMatcher.group());\r\n\t\t}\r\n\t}\r\n\r\nThe obtained result is:\r\n\r\n    text\t&quot;&lt;html&gt;&lt;body&gt;&lt;table width=&quot;96&quot;&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=&quot;hidden&quot; name=&quot;docExt&quot; value=&quot;.doc&quot; /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html\r\n\r\n","title":"Java: Obtain matched string from an input","body":"<p>I am trying to obtain the string that my matcher is able to find using my provided expression. Something like this..</p>\n\n<pre><code>if(matcher.find())\n    System.out.println(\"Matched string is: \" + ?);\n</code></pre>\n\n<p>What would be the appropriate code for this? According to <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow\">Oracle</a> the </p>\n\n<pre><code>matcher.group();\n</code></pre>\n\n<p>method returns only the provided input same as </p>\n\n<pre><code>matcher.group(0);\n</code></pre>\n\n<p>Thanks in advance..</p>\n\n<p>Edit:</p>\n\n<p>Example follows below: </p>\n\n<pre><code>private static String fileExtensionPattern = \".*&lt;input type=\\\"hidden\\\" name=\\\".*\\\" value=\\\".*\\\" /&gt;.*\";\nprivate static Matcher fileXtensionMatcher;\nprivate static String input = text  \"&lt;html&gt;&lt;body&gt;&lt;table width=\"96\"&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=\"hidden\" name=\"docExt\" value=\".doc\" /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\"\n\nprivate static void findFileExtension() {\n    System.out.println(\"** Searching for file extension **\");\n    System.out.println(\"Looking for pattern: \" + fileExtensionPattern);\n    fileXtensionMatcher = fileXtensionExp.matcher(input);\n\n    if(fileXtensionMatcher.find()) {\n        //the extension expression is contained in the string\n        System.out.println(\"Extension expression found.\");\n        System.out.println(fileXtensionMatcher.group());\n    }\n}\n</code></pre>\n\n<p>The obtained result is:</p>\n\n<pre><code>text    \"&lt;html&gt;&lt;body&gt;&lt;table width=\"96\"&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=\"hidden\" name=\"docExt\" value=\".doc\" /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\"\n</code></pre>\n"},{"tags":["java","regex","string","validation"],"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":4,"creation_date":1315576819,"post_id":7362567,"comment_id":8884683,"body_markdown":"Don’t make any assumptions about people’s names.  Period.  Don’t use `[a-z]` when you should be using `[\\pL\\pM\\p{Nl}]`.  Don’t forget punctuation.","body":"Don’t make any assumptions about people’s names.  Period.  Don’t use <code>[a-z]</code> when you should be using <code>[\\pL\\pM\\p{Nl}]</code>.  Don’t forget punctuation."},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":4,"creation_date":1315576999,"post_id":7362567,"comment_id":8884750,"body_markdown":"How about people who have names like Scarlett O&#39;Hara or Bashar al-Assad?","body":"How about people who have names like Scarlett O&#39;Hara or Bashar al-Assad?"},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":2,"creation_date":1315577693,"post_id":7362567,"comment_id":8884982,"body_markdown":"To quote [tchrist](http://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default/6163129#6163129), &quot;Code that believes someone’s name can only contain certain characters is stupid, offensive, and wrong.&quot;","body":"To quote <a href=\"http://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default/6163129#6163129\">tchrist</a>, &quot;Code that believes someone’s name can only contain certain characters is stupid, offensive, and wrong.&quot;"},{"owner":{"account_id":892271,"reputation":2125,"user_id":930293,"accept_rate":50,"display_name":"nic"},"score":1,"creation_date":1315578381,"post_id":7362567,"comment_id":8885200,"body_markdown":"Thank you very much tchrist. I now realize that I shouldn&#39;t be validating regexes for full names. But still I would have to think that even symbols can pass the validation as well &quot;%^@^#!@*&quot;","body":"Thank you very much tchrist. I now realize that I shouldn&#39;t be validating regexes for full names. But still I would have to think that even symbols can pass the validation as well &quot;%^@^#!@*&quot;"},{"owner":{"account_id":2067820,"reputation":85,"user_id":1842984,"accept_rate":40,"display_name":"BullShark"},"score":0,"creation_date":1364746728,"post_id":7362567,"comment_id":22349960,"body_markdown":"http://stackoverflow.com/questions/2385701/regular-expression-for-first-and-last-name","body":"<a href=\"http://stackoverflow.com/questions/2385701/regular-expression-for-first-and-last-name\" title=\"regular expression for first and last name\">stackoverflow.com/questions/2385701/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1315576504,"post_id":7362700,"comment_id":8884573,"body_markdown":"Joe DiMaggio may have something to say about that :-)","body":"Joe DiMaggio may have something to say about that :-)"},{"owner":{"account_id":551450,"reputation":31923,"user_id":916299,"accept_rate":96,"display_name":"James Webster"},"score":0,"creation_date":1315576592,"post_id":7362700,"comment_id":8884599,"body_markdown":"@NullUser, that supports middle names.","body":"@NullUser, that supports middle names."},{"owner":{"account_id":551450,"reputation":31923,"user_id":916299,"accept_rate":96,"display_name":"James Webster"},"score":0,"creation_date":1315576606,"post_id":7362700,"comment_id":8884605,"body_markdown":"@pax, Mr DiMaggio may well have a problem. I&#39;ll revise","body":"@pax, Mr DiMaggio may well have a problem. I&#39;ll revise"},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":0,"creation_date":1315576732,"post_id":7362700,"comment_id":8884644,"body_markdown":"Why are you using `((\\s){1})` instead of just `\\s`?","body":"Why are you using <code>((\\s){1})</code> instead of just <code>\\s</code>?"},{"owner":{"account_id":551450,"reputation":31923,"user_id":916299,"accept_rate":96,"display_name":"James Webster"},"score":0,"creation_date":1315576787,"post_id":7362700,"comment_id":8884666,"body_markdown":"Yeah, wasn&#39;t sure on that bit. I even mentioned that in my answer.","body":"Yeah, wasn&#39;t sure on that bit. I even mentioned that in my answer."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1315577234,"post_id":7362700,"comment_id":8884836,"body_markdown":"Fails on “Pres. William MᶜKinley”","body":"Fails on “Pres. William MᶜKinley”"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1315578084,"post_id":7362700,"comment_id":8885124,"body_markdown":"Fails on “John Paul Jones”. Fails on “Ren&#233;e Fleming”. Fails on “Dominque Strauss‐Kahn”. Fails on “King Henry Ⅷ”.  Fails on “Tim O’Reilly”. Fails on “Secretary Federico Pe&#241;a”. Fails on “Motel 6”. Fails on “Cher”. Fails on “Antonio Cipriano Jos&#233; Mar&#237;a y Francisco de Santa Ana Machado y Ruiz”. Fails fails fails fails fails fails fails fails fails.","body":"Fails on “John Paul Jones”. Fails on “Ren&#233;e Fleming”. Fails on “Dominque Strauss‐Kahn”. Fails on “King Henry Ⅷ”.  Fails on “Tim O’Reilly”. Fails on “Secretary Federico Pe&#241;a”. Fails on “Motel 6”. Fails on “Cher”. Fails on “Antonio Cipriano Jos&#233; Mar&#237;a y Francisco de Santa Ana Machado y Ruiz”. Fails fails fails fails fails fails fails fails fails."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1315578204,"post_id":7362700,"comment_id":8885155,"body_markdown":"False positive on “___^^^_^\\\\\\\\\\[[[]][][____”.","body":"False positive on “___^^^_^\\\\\\\\&#91;[[]][][____”."},{"owner":{"account_id":892271,"reputation":2125,"user_id":930293,"accept_rate":50,"display_name":"nic"},"score":0,"creation_date":1315578588,"post_id":7362700,"comment_id":8885253,"body_markdown":"^ it&#39;s really bothering me actually &gt;,&lt; but sadly it&#39;s true that “___^^^_^\\\\\\\\[[[]][][____” can pass","body":"^ it&#39;s really bothering me actually &gt;,&lt; but sadly it&#39;s true that “___^^^_^\\\\\\&#91;[[]][][____” can pass"},{"owner":{"account_id":892271,"reputation":2125,"user_id":930293,"accept_rate":50,"display_name":"nic"},"score":0,"creation_date":1315579017,"post_id":7362700,"comment_id":8885389,"body_markdown":"(came to the conclusion that full names cannot be validated at all - just thought Chinese,Russian,Japanese,Arabic and other unicodes &gt;,&lt;) Thanks everyone for the enlightenment :)","body":"(came to the conclusion that full names cannot be validated at all - just thought Chinese,Russian,Japanese,Arabic and other unicodes &gt;,&lt;) Thanks everyone for the enlightenment :)"}],"tags":[],"owner":{"account_id":551450,"reputation":31923,"user_id":916299,"accept_rate":96,"display_name":"James Webster"},"comment_count":10,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1315842408,"creation_date":1315576383,"answer_id":7362700,"question_id":7362567,"body_markdown":"`[A-Z]` match a single capital letter (first letter of name)\r\n\r\n`[a-z]*` match any number of small letters (other letters or name)\r\n\r\n`(\\s)` match 1 whitespace character (the space between names) \r\n\r\n`+` one or more of the previous expression (to match more than one name)\r\n\r\n\r\n\r\nall together:\r\n\r\n`- matches first names / lastname -`  \r\n`^([A-Z][a-z]*((\\s)))+[A-Z][a-z]*$`\r\n\r\nor to match names like DiMaggio St. Croix, O&#39;Reilly and Le-Pew. You can add similar characters like the &#39;ᶜ&#39; in MᶜKinley as you remember them or come across people with those less common characters in their name\r\n\r\n`^([A-z\\&#39;\\.-ᶜ]*(\\s))+[A-z\\&#39;\\.-ᶜ]*$`\r\n","title":"Java - Regex for Full Name","body":"<p><code>[A-Z]</code> match a single capital letter (first letter of name)</p>\n\n<p><code>[a-z]*</code> match any number of small letters (other letters or name)</p>\n\n<p><code>(\\s)</code> match 1 whitespace character (the space between names) </p>\n\n<p><code>+</code> one or more of the previous expression (to match more than one name)</p>\n\n<p>all together:</p>\n\n<p><code>- matches first names / lastname -</code><br>\n<code>^([A-Z][a-z]*((\\s)))+[A-Z][a-z]*$</code></p>\n\n<p>or to match names like DiMaggio St. Croix, O'Reilly and Le-Pew. You can add similar characters like the 'ᶜ' in MᶜKinley as you remember them or come across people with those less common characters in their name</p>\n\n<p><code>^([A-z\\'\\.-ᶜ]*(\\s))+[A-z\\'\\.-ᶜ]*$</code></p>\n"},{"tags":[],"owner":{"account_id":475872,"reputation":1775,"user_id":886464,"display_name":"Dragon8"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1315576430,"creation_date":1315576430,"answer_id":7362715,"question_id":7362567,"body_markdown":"    public static boolean isFullname(String str) {\r\n        return str.matches(&quot;^[a-zA-z ]*$&quot;);\r\n    }\r\n\r\nthis method returns true if the string only contains alphabets and spaces.\r\n\r\nBut it also return true if the string contains nothing.\r\n","title":"Java - Regex for Full Name","body":"<pre><code>public static boolean isFullname(String str) {\n    return str.matches(\"^[a-zA-z ]*$\");\n}\n</code></pre>\n\n<p>this method returns true if the string only contains alphabets and spaces.</p>\n\n<p>But it also return true if the string contains nothing.</p>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":2,"creation_date":1315577431,"post_id":7362726,"comment_id":8884903,"body_markdown":"False positive on the empty string.  False negative on “Dominque Strauss‐Kahn”.","body":"False positive on the empty string.  False negative on “Dominque Strauss‐Kahn”."},{"owner":{"account_id":180624,"reputation":23414,"user_id":414064,"accept_rate":98,"display_name":"Aillyn"},"score":1,"creation_date":1315577912,"post_id":7362726,"comment_id":8885060,"body_markdown":"@tchrist Why do you assume everyone has a name?","body":"@tchrist Why do you assume everyone has a name?"},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":0,"creation_date":1315577979,"post_id":7362726,"comment_id":8885077,"body_markdown":"There&#39;s no need to use `^` and `$` with `.matches()`","body":"There&#39;s no need to use <code>^</code> and <code>$</code> with <code>.matches()</code>"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1315578348,"post_id":7362726,"comment_id":8885193,"body_markdown":"False positive on “\\n\\f\\f\\t”.","body":"False positive on “\\n\\f\\f\\t”."}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":4,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1315576455,"creation_date":1315576455,"answer_id":7362726,"question_id":7362567,"body_markdown":"Use `\\s` for spaces. You can also use [`String.matches(regex)`][1] to test if the string matches a regular expression.\r\n\r\n    public static boolean isFullname(String str) {\r\n        String expression = &quot;^[a-zA-Z\\\\s]*$&quot;; \r\n        return str.matches(expression);        \r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/lang/String.html#matches%28java.lang.String%29","title":"Java - Regex for Full Name","body":"<p>Use <code>\\s</code> for spaces. You can also use <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/String.html#matches%28java.lang.String%29\" rel=\"nofollow\"><code>String.matches(regex)</code></a> to test if the string matches a regular expression.</p>\n\n<pre><code>public static boolean isFullname(String str) {\n    String expression = \"^[a-zA-Z\\\\s]*$\"; \n    return str.matches(expression);        \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":6,"creation_date":1453999822,"post_id":7363159,"comment_id":57857780,"body_markdown":"`... I could legally change my name to #&amp;*∫Ω∆ Smith, and that&#39;s not going to fit into anyone&#39;s algorithm...` how about `^.*$` :)","body":"<code>... I could legally change my name to #&amp;*∫Ω∆ Smith, and that&#39;s not going to fit into anyone&#39;s algorithm...</code> how about <code>^.*$</code> :)"}],"tags":[],"owner":{"account_id":90696,"reputation":33605,"user_id":249543,"accept_rate":98,"display_name":"jefflunt"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1406666546,"creation_date":1315578328,"answer_id":7363159,"question_id":7362567,"body_markdown":"This problem of identifying names is very culture-centric, and it really has no hope of working reliably. I would really recommend against this, as there is **NO** canonical form for what makes up a person&#39;s name in any country, anywhere on Earth that I know of. I could legally change my name to `#&amp;*∫Ω∆ Smith`, and that&#39;s not going to fit into anyone&#39;s algorithm. It&#39;s not that this specific example is something that a lot of people do, but many people don&#39;t think outside of the ASCII table when considering data input, and that&#39;s going to lead to problems.\r\n\r\nYou can argue against the probability of this happening, but in a global world, it&#39;s increasingly unlikely that ALL of your users are going to have English-transliterated spellings for their names. It&#39;s also very possible that you&#39;ll have users from cultures that don&#39;t have a concept of first/last name. Don&#39;t assume that, even if your application is only running in a given country, that some of your users won&#39;t be from other places (people move from country to country all the time, and some of them might want to use your software).\r\n\r\nProtect your app against SQL injection for fields such as this (if you&#39;re storing these in a DB), and leave it at that.\r\n","title":"Java - Regex for Full Name","body":"<p>This problem of identifying names is very culture-centric, and it really has no hope of working reliably. I would really recommend against this, as there is <strong>NO</strong> canonical form for what makes up a person's name in any country, anywhere on Earth that I know of. I could legally change my name to <code>#&amp;*∫Ω∆ Smith</code>, and that's not going to fit into anyone's algorithm. It's not that this specific example is something that a lot of people do, but many people don't think outside of the ASCII table when considering data input, and that's going to lead to problems.</p>\n\n<p>You can argue against the probability of this happening, but in a global world, it's increasingly unlikely that ALL of your users are going to have English-transliterated spellings for their names. It's also very possible that you'll have users from cultures that don't have a concept of first/last name. Don't assume that, even if your application is only running in a given country, that some of your users won't be from other places (people move from country to country all the time, and some of them might want to use your software).</p>\n\n<p>Protect your app against SQL injection for fields such as this (if you're storing these in a DB), and leave it at that.</p>\n"},{"tags":[],"owner":{"account_id":3993838,"reputation":107,"user_id":3291936,"display_name":"Ahmed El Reweny"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1392018307,"creation_date":1392018307,"answer_id":21671547,"question_id":7362567,"body_markdown":"This method validate the name and return false if the name has nothing or has numbers or special characters:\r\n\r\n    public static boolean isFullname(String str) {\r\n\t    String expression = &quot;^[a-zA-Z\\\\s]+&quot;; \r\n\t    return str.matches(expression);        \r\n\t}","title":"Java - Regex for Full Name","body":"<p>This method validate the name and return false if the name has nothing or has numbers or special characters:</p>\n\n<pre><code>public static boolean isFullname(String str) {\n    String expression = \"^[a-zA-Z\\\\s]+\"; \n    return str.matches(expression);        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454002088,"creation_date":1453999298,"answer_id":35067082,"question_id":7362567,"body_markdown":"**What Was Asked For**\r\n\r\nInstead of `&quot;^[a-zA-Z][ ]*$&quot;` you want `&quot;^[a-zA-Z ]*$&quot;`. There are some answers that reference `\\s` but you don&#39;t want those because they give you other white space like tabs.\r\n\r\n**Additional Common Examples**\r\n\r\nOn a side note, there are first and last names that contain hypens, like `Mary-Ann` for a first name or a hyphenated last name like `Jones-Garcia`. There are also last names that have periods, like `St. Marc`. Lastly, you have `&#39;` in some last names like `O&#39;Donnel`.\r\n\r\n**Side Note**\r\n\r\nLegally, you could change your name to be [Little Bobby Drop Tables][1]... or include other random characters... but I&#39;m not sure how many systems really accommodate for stuff like that. \r\n\r\nIf you want the general case (world wide), then don&#39;t limit the fields by any character type, as you can have names in Greek Letters, Cyrillic Letters, Chinese letters, etc. There are also non English accent characters and other things like the german umlaut.\r\n\r\nIf you are worried about SQL injection, use parameterized queries instead of dynamic queries. \r\n\r\n**Suggested Solution**\r\n\r\nIf you are only worried about English letters, and want to use a regular expression that handles the sample cases above, then you could use `&quot;^[a-zA-Z \\-\\.\\&#39;]*$&quot;`\r\n\r\n\r\n  [1]: http://bobby-tables.com/","title":"Java - Regex for Full Name","body":"<p><strong>What Was Asked For</strong></p>\n\n<p>Instead of <code>\"^[a-zA-Z][ ]*$\"</code> you want <code>\"^[a-zA-Z ]*$\"</code>. There are some answers that reference <code>\\s</code> but you don't want those because they give you other white space like tabs.</p>\n\n<p><strong>Additional Common Examples</strong></p>\n\n<p>On a side note, there are first and last names that contain hypens, like <code>Mary-Ann</code> for a first name or a hyphenated last name like <code>Jones-Garcia</code>. There are also last names that have periods, like <code>St. Marc</code>. Lastly, you have <code>'</code> in some last names like <code>O'Donnel</code>.</p>\n\n<p><strong>Side Note</strong></p>\n\n<p>Legally, you could change your name to be <a href=\"http://bobby-tables.com/\" rel=\"nofollow\">Little Bobby Drop Tables</a>... or include other random characters... but I'm not sure how many systems really accommodate for stuff like that. </p>\n\n<p>If you want the general case (world wide), then don't limit the fields by any character type, as you can have names in Greek Letters, Cyrillic Letters, Chinese letters, etc. There are also non English accent characters and other things like the german umlaut.</p>\n\n<p>If you are worried about SQL injection, use parameterized queries instead of dynamic queries. </p>\n\n<p><strong>Suggested Solution</strong></p>\n\n<p>If you are only worried about English letters, and want to use a regular expression that handles the sample cases above, then you could use <code>\"^[a-zA-Z \\-\\.\\']*$\"</code></p>\n"}],"owner":{"account_id":892271,"reputation":2125,"user_id":930293,"accept_rate":50,"display_name":"nic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57207,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":7363159,"answer_count":6,"score":10,"last_activity_date":1692785161,"creation_date":1315575846,"question_id":7362567,"body_markdown":"How can I validate regex for full name? I only want alphabets (no numericals) and only spaces for the regex. This is what I have done so far. Would you please help me fix the regex? Thank you very much\r\n\r\n    public static boolean isFullname(String str) {\r\n\t\tboolean isValid = false;\r\n\t\tString expression = &quot;^[a-zA-Z][ ]*$&quot;; //I know this one is wrong for sure &gt;,&lt;\r\n\t\tCharSequence inputStr = str;\r\n\t\tPattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\r\n\t\tMatcher matcher = pattern.matcher(inputStr);\r\n\t\tif (matcher.matches()) {\r\n\t\t\tisValid = true;\r\n\t\t}\r\n\t\treturn isValid;\r\n\t}","title":"Java - Regex for Full Name","body":"<p>How can I validate regex for full name? I only want alphabets (no numericals) and only spaces for the regex. This is what I have done so far. Would you please help me fix the regex? Thank you very much</p>\n\n<pre><code>public static boolean isFullname(String str) {\n    boolean isValid = false;\n    String expression = \"^[a-zA-Z][ ]*$\"; //I know this one is wrong for sure &gt;,&lt;\n    CharSequence inputStr = str;\n    Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(inputStr);\n    if (matcher.matches()) {\n        isValid = true;\n    }\n    return isValid;\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth","device"],"answers":[{"tags":[],"owner":{"account_id":20650460,"reputation":57,"user_id":15160871,"display_name":"Romko Smuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613614567,"creation_date":1613614567,"answer_id":66252651,"question_id":66148729,"body_markdown":"The issue I found out was that the devices I was trying to connect to send data back and forth require Bluetooth Low Energy support from the app. ","title":"Why am I not able to connect to device via Bluetooth android?","body":"<p>The issue I found out was that the devices I was trying to connect to send data back and forth require Bluetooth Low Energy support from the app.</p>\n"}],"owner":{"account_id":20650460,"reputation":57,"user_id":15160871,"display_name":"Romko Smuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692785026,"creation_date":1613017390,"question_id":66148729,"body_markdown":"I am able to pair devices with the android studio app but I get the tag \r\n\r\n&gt;&quot;CouldNotConnectToSocket&quot; even though the device is paired. \r\n\r\nI am new to android studio so I am really stuck with where to go next. \r\n\r\nI also get \r\n\r\n&gt;getBluetoothService() called with no BluetoothManagerCallback\r\n\r\nThe UUID I created is:\r\n\r\n    private final static UUID BTMODULEUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\nCan anyone please help me? \r\n\r\n\r\n    new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    device = BA.getRemoteDevice(address);\r\n                    try {\r\n                        BTSocket = device.createRfcommSocketToServiceRecord(BTMODULEUUID);\r\n                        //BTSocket = createBluetoothSocket(device);\r\n                        Log.d(TAG, &quot;Device Connected&quot;);\r\n                        BA.cancelDiscovery();\r\n                        BTSocket.connect();\r\n                    } catch (IOException ex) {\r\n                        Log.d(TAG, &quot;CouldNotConnectToSocket&quot;);\r\n                        closeSocket(BTSocket);\r\n                    }\r\n                }\r\n                }.start();","title":"Why am I not able to connect to device via Bluetooth android?","body":"<p>I am able to pair devices with the android studio app but I get the tag</p>\n<blockquote>\n<p>&quot;CouldNotConnectToSocket&quot; even though the device is paired.</p>\n</blockquote>\n<p>I am new to android studio so I am really stuck with where to go next.</p>\n<p>I also get</p>\n<blockquote>\n<p>getBluetoothService() called with no BluetoothManagerCallback</p>\n</blockquote>\n<p>The UUID I created is:</p>\n<pre><code>private final static UUID BTMODULEUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n</code></pre>\n<p>Can anyone please help me?</p>\n<pre><code>new Thread() {\n            @Override\n            public void run() {\n                device = BA.getRemoteDevice(address);\n                try {\n                    BTSocket = device.createRfcommSocketToServiceRecord(BTMODULEUUID);\n                    //BTSocket = createBluetoothSocket(device);\n                    Log.d(TAG, &quot;Device Connected&quot;);\n                    BA.cancelDiscovery();\n                    BTSocket.connect();\n                } catch (IOException ex) {\n                    Log.d(TAG, &quot;CouldNotConnectToSocket&quot;);\n                    closeSocket(BTSocket);\n                }\n            }\n            }.start();\n</code></pre>\n"},{"tags":["java","http","proxy","akka","akka-http"],"answers":[{"tags":[],"owner":{"account_id":80592,"reputation":26519,"user_id":227803,"display_name":"Viktor Klang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615070687,"creation_date":1615070687,"answer_id":66511433,"question_id":66441044,"body_markdown":"Have you tried matching the incoming HttpRequest&#39;s `method` with [CONNECT](https://doc.akka.io/api/akka-http/current/akka/http/scaladsl/model/HttpMethods$.html#CONNECT:akka.http.scaladsl.model.HttpMethod)","title":"Parse CONNECT requests using Akka-http","body":"<p>Have you tried matching the incoming HttpRequest's <code>method</code> with <a href=\"https://doc.akka.io/api/akka-http/current/akka/http/scaladsl/model/HttpMethods$.html#CONNECT:akka.http.scaladsl.model.HttpMethod\" rel=\"nofollow noreferrer\">CONNECT</a></p>\n"}],"owner":{"account_id":20841839,"reputation":1,"user_id":15308395,"display_name":"Kevin Davids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692785007,"creation_date":1614694312,"question_id":66441044,"body_markdown":"Is there a way to make an HTTP CONNECT request in akka?\r\n\r\nI am trying to write a proxy app in akka and I am getting this error for every request that I am making:\r\n\r\n&gt; 16:10:19.179 [default-akka.actor.default-dispatcher-7] WARN akka.actor.ActorSystemImpl - Illegal request, responding with status &#39;400 Bad Request&#39;: CONNECT requests are not supported: Rejectin\r\ng CONNECT request to &#39;doc.akka.io:443&#39;\r\n","title":"Parse CONNECT requests using Akka-http","body":"<p>Is there a way to make an HTTP CONNECT request in akka?</p>\n<p>I am trying to write a proxy app in akka and I am getting this error for every request that I am making:</p>\n<blockquote>\n<p>16:10:19.179 [default-akka.actor.default-dispatcher-7] WARN akka.actor.ActorSystemImpl - Illegal request, responding with status '400 Bad Request': CONNECT requests are not supported: Rejectin\ng CONNECT request to 'doc.akka.io:443'</p>\n</blockquote>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"score":0,"creation_date":1315305586,"post_id":7318469,"comment_id":8821941,"body_markdown":"Why do you have the dot in here `a[a-z].{0,2}b`? If you want to have patern `a_b` where `_` can be 0-2 alphabetical chars then the dot is wrong in there, doesn&#39;t it?","body":"Why do you have the dot in here <code>a[a-z].{0,2}b</code>? If you want to have patern <code>a_b</code> where <code>_</code> can be 0-2 alphabetical chars then the dot is wrong in there, doesn&#39;t it?"},{"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"score":2,"creation_date":1315305619,"post_id":7318469,"comment_id":8821951,"body_markdown":"How is `aaxxbb` a string &quot;that starts with a and ends with b&quot; and can have *up to two* letters between?","body":"How is <code>aaxxbb</code> a string &quot;that starts with a and ends with b&quot; and can have <i>up to two</i> letters between?"},{"owner":{"account_id":892438,"reputation":51,"user_id":930440,"display_name":"cnc4ever"},"score":0,"creation_date":1315316570,"post_id":7318469,"comment_id":8825067,"body_markdown":"Thanks Tom and jmg for pointing that out!!! I edited the original post.","body":"Thanks Tom and jmg for pointing that out!!! I edited the original post."}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315305536,"creation_date":1315305536,"answer_id":7318547,"question_id":7318469,"body_markdown":"One thing you could do is:\r\n\r\n - Create all possible Substrings that are 4 characters or longer (good\r\n   luck with that if your String is large)\r\n - Create a new Matcher for each of these substrings\r\n - do a match() instead of a find()\r\n - calculate the absolute offset from the substring&#39;s relative offset and the matcher info","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>One thing you could do is:</p>\n\n<ul>\n<li>Create all possible Substrings that are 4 characters or longer (good\nluck with that if your String is large)</li>\n<li>Create a new Matcher for each of these substrings</li>\n<li>do a match() instead of a find()</li>\n<li>calculate the absolute offset from the substring's relative offset and the matcher info</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":892438,"reputation":51,"user_id":930440,"display_name":"cnc4ever"},"score":0,"creation_date":1315316709,"post_id":7318733,"comment_id":8825125,"body_markdown":"Hmm..searching for three individual targets. Thanks, I&#39;ll check it out!","body":"Hmm..searching for three individual targets. Thanks, I&#39;ll check it out!"}],"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315306473,"creation_date":1315306473,"answer_id":7318733,"question_id":7318469,"body_markdown":"you are in effect searching for the strings ab, a_b, and a__b in an input string, where \r\n_ denotes a non-whitespace character whose value you do not care about.  \r\n\r\nThat&#39;s three search targets.  The most efficient way I can think of to do this would be to use a search algorithm like the [Knuth-Morris-Pratt][1] algorithm, with a few modifications.  In effect your pseudocode would be something like:\r\n\r\n    for i in 0 to sourcestring.length\r\n        check sourcestring[i] - is it a? if so, check sourcestring[i+x] \r\n           // where x is the index of the search string - 1\r\n        if matches then save i to output list\r\n        else i = i + searchstring.length\r\n\r\nobviously if you have a position match you must then check the inner characters of the substring to make sure they are alphabetical.\r\n\r\n  \r\n\r\nrun the algorithm 3 times, one for each search term.  It will doubtless be much faster than trying to do the search using pattern matching.\r\n\r\nedit - sorry, didn&#39;t read the question properly.  If you *have* to use regex then the above will not work for you.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>you are in effect searching for the strings ab, a_b, and a__b in an input string, where \n_ denotes a non-whitespace character whose value you do not care about.  </p>\n\n<p>That's three search targets.  The most efficient way I can think of to do this would be to use a search algorithm like the <a href=\"http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm\" rel=\"nofollow\">Knuth-Morris-Pratt</a> algorithm, with a few modifications.  In effect your pseudocode would be something like:</p>\n\n<pre><code>for i in 0 to sourcestring.length\n    check sourcestring[i] - is it a? if so, check sourcestring[i+x] \n       // where x is the index of the search string - 1\n    if matches then save i to output list\n    else i = i + searchstring.length\n</code></pre>\n\n<p>obviously if you have a position match you must then check the inner characters of the substring to make sure they are alphabetical.</p>\n\n<p>run the algorithm 3 times, one for each search term.  It will doubtless be much faster than trying to do the search using pattern matching.</p>\n\n<p>edit - sorry, didn't read the question properly.  If you <em>have</em> to use regex then the above will not work for you.</p>\n"},{"tags":[],"owner":{"account_id":88401,"reputation":12934,"user_id":244526,"accept_rate":77,"display_name":"dsg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1341532542,"creation_date":1341513736,"answer_id":11350550,"question_id":7318469,"body_markdown":"(see: https://stackoverflow.com/q/11303309/244526 )\r\n\r\nHere is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried -- although I haven&#39;t done extensive testing. It is most certainly less efficient than it could be.\r\n\r\n      public static void allMatches(String text, String regex)\r\n      {\r\n        for (int i = 0; i &lt; text.length(); ++i) {\r\n          for (int j = i + 1; j &lt;= text.length(); ++j) {\r\n            String positionSpecificPattern = &quot;((?&lt;=^.{&quot;+i+&quot;})(&quot;+regex+&quot;)(?=.{&quot;+(text.length() - j)+&quot;}$))&quot;;\r\n            Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\r\n    \r\n            if (m.find()) \r\n            {   \r\n              System.out.println(&quot;Match found: \\&quot;&quot; + (m.group()) + &quot;\\&quot; at position [&quot; + i + &quot;, &quot; + j + &quot;)&quot;);\r\n            }   \r\n          }   \r\n        }   \r\n      }\r\n","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>(see: <a href=\"https://stackoverflow.com/q/11303309/244526\">All overlapping substrings matching a java regex</a> )</p>\n\n<p>Here is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried -- although I haven't done extensive testing. It is most certainly less efficient than it could be.</p>\n\n<pre><code>  public static void allMatches(String text, String regex)\n  {\n    for (int i = 0; i &lt; text.length(); ++i) {\n      for (int j = i + 1; j &lt;= text.length(); ++j) {\n        String positionSpecificPattern = \"((?&lt;=^.{\"+i+\"})(\"+regex+\")(?=.{\"+(text.length() - j)+\"}$))\";\n        Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\n\n        if (m.find()) \n        {   \n          System.out.println(\"Match found: \\\"\" + (m.group()) + \"\\\" at position [\" + i + \", \" + j + \")\");\n        }   \n      }   \n    }   \n  }\n</code></pre>\n"}],"owner":{"account_id":892438,"reputation":51,"user_id":930440,"display_name":"cnc4ever"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3943,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1692784884,"creation_date":1315305141,"question_id":7318469,"body_markdown":"I&#39;m trying to get ***ALL*** the substrings in the input string that match the given pattern.\r\n\r\nFor example,\r\n\r\nGiven string: aaxxbbaxb&lt;br&gt;\r\nPattern: a[a-z]{0,3}b&lt;br&gt;\r\n(What I actually want to express is: all the patterns that starts with a and ends with b, but can have up to 2 alphabets in between them)\r\n\r\nExact results that I want (with their indexes):\r\n\r\naaxxb: index 0~4&lt;br&gt;\r\naxxb: index 1~4&lt;br&gt;\r\naxxbb: index 1~5&lt;br&gt;\r\naxb: index 6~8&lt;br&gt;\r\n\r\nBut when I run it through the Pattern and Matcher classes using `Pattern.compile()` and `Matcher.find()`, it only gives me:\r\n\r\naaxxb : index 0~4&lt;br&gt;\r\naxb : index 6~8&lt;br&gt;\r\n\r\nThis is the piece of code I used.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;a[a-z]{0,3}b&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher match = pattern.matcher(&quot;aaxxbbaxb&quot;);\r\n    while (match.find()) {\r\n        System.out.println(match.group());\r\n    }\r\nHow can I retrieve ***every single piece of string that matches the pattern***?\r\n\r\nOf course, it doesn&#39;t have to use Pattern and Matcher classes, as long as it&#39;s efficient :)","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>I'm trying to get <strong><em>ALL</em></strong> the substrings in the input string that match the given pattern.</p>\n\n<p>For example,</p>\n\n<p>Given string: aaxxbbaxb<br>\nPattern: a[a-z]{0,3}b<br>\n(What I actually want to express is: all the patterns that starts with a and ends with b, but can have up to 2 alphabets in between them)</p>\n\n<p>Exact results that I want (with their indexes):</p>\n\n<p>aaxxb: index 0~4<br>\naxxb: index 1~4<br>\naxxbb: index 1~5<br>\naxb: index 6~8<br></p>\n\n<p>But when I run it through the Pattern and Matcher classes using <code>Pattern.compile()</code> and <code>Matcher.find()</code>, it only gives me:</p>\n\n<p>aaxxb : index 0~4<br>\naxb : index 6~8<br></p>\n\n<p>This is the piece of code I used.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"a[a-z]{0,3}b\", Pattern.CASE_INSENSITIVE);\nMatcher match = pattern.matcher(\"aaxxbbaxb\");\nwhile (match.find()) {\n    System.out.println(match.group());\n}\n</code></pre>\n\n<p>How can I retrieve <strong><em>every single piece of string that matches the pattern</em></strong>?</p>\n\n<p>Of course, it doesn't have to use Pattern and Matcher classes, as long as it's efficient :)</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":413001,"reputation":8914,"user_id":786388,"accept_rate":94,"display_name":"ean5533"},"score":0,"creation_date":1314102273,"post_id":7160948,"comment_id":8592392,"body_markdown":"`[a-zA-Z]` means match any SINGLE character in that range. You need to add a qualifier afterwards, such as `*` (0 or more) or `+` (1 or more).","body":"<code>[a-zA-Z]</code> means match any SINGLE character in that range. You need to add a qualifier afterwards, such as <code>*</code> (0 or more) or <code>+</code> (1 or more)."}],"answers":[{"comments":[{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":1,"creation_date":1314102362,"post_id":7160974,"comment_id":8592413,"body_markdown":"this will also yield true for `a[1] == &quot;&quot;` [which might or might not be what the OP wants, you can&#39;t tell from the question].","body":"this will also yield true for <code>a[1] == &quot;&quot;</code> [which might or might not be what the OP wants, you can&#39;t tell from the question]."},{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1314102583,"post_id":7160974,"comment_id":8592478,"body_markdown":"@amit - I&#39;ve updated my answer to include a couple of examples.","body":"@amit - I&#39;ve updated my answer to include a couple of examples."}],"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1314102544,"creation_date":1314102189,"answer_id":7160974,"question_id":7160948,"body_markdown":"Try using this expression: `[a-zA-Z]*` (will match zero or more characters).\r\n\r\nIf you require at least one character, use: `[a-zA-Z]+`\r\n\r\nThe expression you&#39;re using will only match a single alpha character since it&#39;s not [quantified][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/regex/quant.html","title":"Java string.matches() returns wrong statement","body":"<p>Try using this expression: <code>[a-zA-Z]*</code> (will match zero or more characters).</p>\n\n<p>If you require at least one character, use: <code>[a-zA-Z]+</code></p>\n\n<p>The expression you're using will only match a single alpha character since it's not <a href=\"http://download.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"nofollow\">quantified</a>.</p>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314102200,"creation_date":1314102200,"answer_id":7160976,"question_id":7160948,"body_markdown":"I think it should be `a[1].matches(&quot;[a-zA-Z]*&quot;)`","title":"Java string.matches() returns wrong statement","body":"<p>I think it should be <code>a[1].matches(\"[a-zA-Z]*\")</code></p>\n"},{"tags":[],"owner":{"account_id":456563,"reputation":4395,"user_id":855395,"accept_rate":75,"display_name":"Eran Zimmerman Gonen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314102209,"creation_date":1314102209,"answer_id":7160978,"question_id":7160948,"body_markdown":"`[a-zA-Z]` would only accept a single letter. You probably need `[a-zA-Z]*`.","title":"Java string.matches() returns wrong statement","body":"<p><code>[a-zA-Z]</code> would only accept a single letter. You probably need <code>[a-zA-Z]*</code>.</p>\n"},{"tags":[],"owner":{"account_id":34604,"reputation":5435,"user_id":97869,"accept_rate":50,"display_name":"JJ."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314102219,"creation_date":1314102219,"answer_id":7160981,"question_id":7160948,"body_markdown":"Try `a[1].matches(&quot;[a-zA-Z]+&quot;)`. It says &quot;one or more characters&quot; must match instead of only a single character.\r\n\r\nNote that &#39;*&#39; instead of &#39;+&#39; matches &quot;zero or more characters&#39; so it will match empty String (probably not what you want).","title":"Java string.matches() returns wrong statement","body":"<p>Try <code>a[1].matches(\"[a-zA-Z]+\")</code>. It says \"one or more characters\" must match instead of only a single character.</p>\n\n<p>Note that '*' instead of '+' matches \"zero or more characters' so it will match empty String (probably not what you want).</p>\n"},{"tags":[],"owner":{"account_id":20059,"reputation":80086,"user_id":47550,"accept_rate":89,"display_name":"Paul Sasik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314102241,"creation_date":1314102241,"answer_id":7160985,"question_id":7160948,"body_markdown":"The reason that you&#39;re not matching that is string is that your RegEx expression is trying to match just a single character. Try this:\r\n\r\n    a[1].matches(&quot;[a-zA-Z]*&quot;)","title":"Java string.matches() returns wrong statement","body":"<p>The reason that you're not matching that is string is that your RegEx expression is trying to match just a single character. Try this:</p>\n\n<pre><code>a[1].matches(\"[a-zA-Z]*\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11400870,"reputation":47,"user_id":8357863,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502640462,"creation_date":1502640259,"answer_id":45662292,"question_id":7160948,"body_markdown":"    a[1].matches(&quot;[a-zA-Z\\\\s]+&quot;)  \r\n\r\nmay help","title":"Java string.matches() returns wrong statement","body":"<pre><code>a[1].matches(\"[a-zA-Z\\\\s]+\")  \n</code></pre>\n\n<p>may help</p>\n"},{"tags":[],"owner":{"account_id":11887266,"reputation":11,"user_id":8699244,"display_name":"rakibul sadik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646129503,"creation_date":1646127084,"answer_id":71306306,"question_id":7160948,"body_markdown":"This expression should work for checking whether a string contains all alphabet or not.\r\n```\r\na[1].matches(&quot;^[a-zA-Z]*$&quot;)\r\n```","title":"Java string.matches() returns wrong statement","body":"<p>This expression should work for checking whether a string contains all alphabet or not.</p>\n<pre><code>a[1].matches(&quot;^[a-zA-Z]*$&quot;)\n</code></pre>\n"}],"owner":{"account_id":480407,"reputation":6044,"user_id":893630,"accept_rate":85,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7160974,"answer_count":7,"score":4,"last_activity_date":1692784820,"creation_date":1314102068,"question_id":7160948,"body_markdown":"I&#39;m running some code through the eclipse debugger and `a[1].matches(&quot;[a-zA-Z]&quot;)` is not equating to `true` when `a[1] = &quot;ABCD&quot;` (`a` is a string array).\r\n\r\nI&#39;ve read the javadoc on `matches` and `[a-zA-Z]` should be a valid regular expression..\r\n\r\nAnyone know where I&#39;m going wrong?","title":"Java string.matches() returns wrong statement","body":"<p>I'm running some code through the eclipse debugger and <code>a[1].matches(\"[a-zA-Z]\")</code> is not equating to <code>true</code> when <code>a[1] = \"ABCD\"</code> (<code>a</code> is a string array).</p>\n\n<p>I've read the javadoc on <code>matches</code> and <code>[a-zA-Z]</code> should be a valid regular expression..</p>\n\n<p>Anyone know where I'm going wrong?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9903,"page":231,"page_size":100}
