{"items":[{"tags":["java","kotlin","proxy","kerberos"],"owner":{"account_id":1526203,"reputation":145,"user_id":1424589,"display_name":"user1424589"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664492120,"creation_date":1664492120,"question_id":73902435,"body_markdown":"I&#39;m trying to access rest api through my companies proxy server this requires me authenticate with the proxy.\r\n\r\nI can access the outside world using curl with the parameters:\r\n\r\n`curl -v -s -user $kerbrosId -x $ProxyServer:$proxyPort --proxy-negotiate https://google.com`\r\nI receive the following output:\r\n```\r\nEnter proxy password for user &#39;$user&#39;:\r\n*   Trying $proxyIP:$proxyPort...\r\n* Connected to $proxyURL ($proxyIP) port $proxyPort (#0)\r\n* allocate connect buffer\r\n* Establish HTTP proxy tunnel to google.com:443\r\n* Proxy auth using Negotiate with user &#39;bradsw&#39;\r\n&gt; CONNECT google.com:443 HTTP/1.1\r\n&gt; Host: google.com:443\r\n&gt; Proxy-Authorization: Negotiate ${shortBase64token}\r\n&gt; User-Agent: curl/7.83.1\r\n&gt; Proxy-Connection: Keep-Alive\r\n&gt;\r\n&lt; HTTP/1.1 407 Proxy Authentication Required\r\n&lt; Proxy-Authenticate: NEGOTIATE ${longerBase64token}\r\n&lt; Cache-Control: no-cache\r\n&lt; Pragma: no-cache\r\n&lt; Content-Type: text/html; charset=utf-8\r\n&lt; Proxy-Connection: Keep-Alive\r\n&lt; Connection: Keep-Alive\r\n&lt; Content-Length: 5621\r\n&lt;\r\n* Ignore 5621 bytes of response-body\r\n* Establish HTTP proxy tunnel to google.com:443\r\n* Proxy auth using Negotiate with user &#39;$user&#39;\r\n&gt; CONNECT google.com:443 HTTP/1.1\r\n&gt; Host: google.com:443\r\n&gt; Proxy-Authorization: Negotiate ${evenLongerBase64token}\r\n&gt; User-Agent: curl/7.83.1\r\n&gt; Proxy-Connection: Keep-Alive\r\n&gt;\r\n&lt; HTTP/1.1 200 Connection established\r\n&lt;\r\n* Proxy replied 200 to CONNECT request\r\n* CONNECT phase completed\r\n* schannel: disabled automatic use of client certificate\r\n* ALPN: offers http/1.1\r\n* ALPN: server accepted http/1.1\r\n&gt; GET / HTTP/1.1\r\n&gt; Host: google.com\r\n&gt; User-Agent: curl/7.83.1\r\n&gt; Accept: */*\r\n&gt;\r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 301 Moved Permanently\r\n&lt; Location: https://www.google.com/\r\n&lt; Content-Type: text/html; charset=UTF-8\r\n&lt; Date: Thu, 29 Sep 2022 22:09:00 GMT\r\n&lt; Expires: Sat, 29 Oct 2022 22:09:00 GMT\r\n&lt; Cache-Control: public, max-age=2592000\r\n&lt; Server: gws\r\n&lt; Content-Length: 220\r\n&lt; X-XSS-Protection: 0\r\n&lt; X-Frame-Options: SAMEORIGIN\r\n&lt; Alt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\r\n```\r\n\r\nI have tried a million variations of \r\n```Kotlin\r\nRestTemplate(HttpComponentsClientHttpRequestFactory(\r\n    HttpClientBuilder.create()\r\n      .setProxy(HttpHost(proxyUrl, proxyPort))\r\n      //other calls here to set things up\r\n      .build()\r\n    )\r\n)\r\n```\r\nNothing seems to authenticate correctly. I get back a 407 PROXY_AUTHENTICATION_REQUIRED with the companies default call the help desk if your browser doesn&#39;t work page in my stack trace.\r\n\r\nOur systems are configured with an appropriate kbr5.config file so that should not be the issue &amp; in other places in the code we are getting an SSO token a based on a ticket stored by kinit using the equivalent of `RestTemplate().getForEntity(&quot;${sso-endpoint}&quot;, String::class.java)`.\r\n\r\nI would ideally like to be able to delegate credentials to the OS via logged on user (either windows or REL based Linux systems) though I would consider simply authenticating at all a win at this point. I&#39;m working in Kotlin but can easily translate a Java solution to Kotlin. \r\n\r\nAny ideas appreciated? ","title":"RestTemplate with Proxy with kerberos authentication in Java/Kotlin","body":"<p>I'm trying to access rest api through my companies proxy server this requires me authenticate with the proxy.</p>\n<p>I can access the outside world using curl with the parameters:</p>\n<p><code>curl -v -s -user $kerbrosId -x $ProxyServer:$proxyPort --proxy-negotiate https://google.com</code>\nI receive the following output:</p>\n<pre><code>Enter proxy password for user '$user':\n*   Trying $proxyIP:$proxyPort...\n* Connected to $proxyURL ($proxyIP) port $proxyPort (#0)\n* allocate connect buffer\n* Establish HTTP proxy tunnel to google.com:443\n* Proxy auth using Negotiate with user 'bradsw'\n&gt; CONNECT google.com:443 HTTP/1.1\n&gt; Host: google.com:443\n&gt; Proxy-Authorization: Negotiate ${shortBase64token}\n&gt; User-Agent: curl/7.83.1\n&gt; Proxy-Connection: Keep-Alive\n&gt;\n&lt; HTTP/1.1 407 Proxy Authentication Required\n&lt; Proxy-Authenticate: NEGOTIATE ${longerBase64token}\n&lt; Cache-Control: no-cache\n&lt; Pragma: no-cache\n&lt; Content-Type: text/html; charset=utf-8\n&lt; Proxy-Connection: Keep-Alive\n&lt; Connection: Keep-Alive\n&lt; Content-Length: 5621\n&lt;\n* Ignore 5621 bytes of response-body\n* Establish HTTP proxy tunnel to google.com:443\n* Proxy auth using Negotiate with user '$user'\n&gt; CONNECT google.com:443 HTTP/1.1\n&gt; Host: google.com:443\n&gt; Proxy-Authorization: Negotiate ${evenLongerBase64token}\n&gt; User-Agent: curl/7.83.1\n&gt; Proxy-Connection: Keep-Alive\n&gt;\n&lt; HTTP/1.1 200 Connection established\n&lt;\n* Proxy replied 200 to CONNECT request\n* CONNECT phase completed\n* schannel: disabled automatic use of client certificate\n* ALPN: offers http/1.1\n* ALPN: server accepted http/1.1\n&gt; GET / HTTP/1.1\n&gt; Host: google.com\n&gt; User-Agent: curl/7.83.1\n&gt; Accept: */*\n&gt;\n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 301 Moved Permanently\n&lt; Location: https://www.google.com/\n&lt; Content-Type: text/html; charset=UTF-8\n&lt; Date: Thu, 29 Sep 2022 22:09:00 GMT\n&lt; Expires: Sat, 29 Oct 2022 22:09:00 GMT\n&lt; Cache-Control: public, max-age=2592000\n&lt; Server: gws\n&lt; Content-Length: 220\n&lt; X-XSS-Protection: 0\n&lt; X-Frame-Options: SAMEORIGIN\n&lt; Alt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\n</code></pre>\n<p>I have tried a million variations of</p>\n<pre><code>RestTemplate(HttpComponentsClientHttpRequestFactory(\n    HttpClientBuilder.create()\n      .setProxy(HttpHost(proxyUrl, proxyPort))\n      //other calls here to set things up\n      .build()\n    )\n)\n</code></pre>\n<p>Nothing seems to authenticate correctly. I get back a 407 PROXY_AUTHENTICATION_REQUIRED with the companies default call the help desk if your browser doesn't work page in my stack trace.</p>\n<p>Our systems are configured with an appropriate kbr5.config file so that should not be the issue &amp; in other places in the code we are getting an SSO token a based on a ticket stored by kinit using the equivalent of <code>RestTemplate().getForEntity(&quot;${sso-endpoint}&quot;, String::class.java)</code>.</p>\n<p>I would ideally like to be able to delegate credentials to the OS via logged on user (either windows or REL based Linux systems) though I would consider simply authenticating at all a win at this point. I'm working in Kotlin but can easily translate a Java solution to Kotlin.</p>\n<p>Any ideas appreciated?</p>\n"},{"tags":["java","switch-statement","window","alert","frame"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1664493848,"post_id":73902433,"comment_id":130491010,"body_markdown":"So... are you using Selenium or what? Don&#39;t skimp on the important details -- people aren&#39;t going to want to help you if you start out with a guessing game.","body":"So... are you using Selenium or what? Don&#39;t skimp on the important details -- people aren&#39;t going to want to help you if you start out with a guessing game."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664497347,"post_id":73902433,"comment_id":130491464,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":20933064,"reputation":1,"user_id":15378951,"display_name":"KimoUSA"},"score":0,"creation_date":1664544227,"post_id":73902433,"comment_id":130502420,"body_markdown":"I am sorry , I forget to add the details, yes Using Selenium with Java , Error&quot;no such element: Unable to locate element. This is the code(\n                                                                    static void setupClass()  {\n    WebDriverManager.chromedriver().setup();\n    \n    driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.bestbuy.com/&quot;)                               driver.findElement(By.xpath(&quot;//*[@id=\\&quot;shop-todays-popular-picks-70321868\\&quot;]/div/div/ul/li[3]/a&quot;)).click();","body":"I am sorry , I forget to add the details, yes Using Selenium with Java , Error&quot;no such element: Unable to locate element. This is the code(                                                                     static void setupClass()  {     WebDriverManager.chromedriver().setup();          driver = new ChromeDriver();     driver.manage().window().maximize();     driver.get(&quot;<a href=\"https://www.bestbuy.com/&quot;\" rel=\"nofollow noreferrer\">bestbuy.com/&quot;</a>)                               driver.findElement(By.xpath(&quot;//*[@id=\\&quot;shop-todays-popular-p&zwnj;&#8203;icks-70321868\\&quot;]/div&zwnj;&#8203;/div/ul/li[3]/a&quot;)).c&zwnj;&#8203;lick();"}],"owner":{"account_id":20933064,"reputation":1,"user_id":15378951,"display_name":"KimoUSA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664492118,"creation_date":1664492118,"question_id":73902433,"body_markdown":"I need help, while doing some practices using  BestBuy website , I face this issue I couldn’t figure it out how to handle that ( that drop down Box) to test some elements , When the website launch that dropdown Box open as on the picture please if any inputs to solve this thank you\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/07vcg.jpg","title":"Close Alert Window","body":"<p>I need help, while doing some practices using  BestBuy website , I face this issue I couldn’t figure it out how to handle that ( that drop down Box) to test some elements , When the website launch that dropdown Box open as on the picture please if any inputs to solve this thank you\n<a href=\"https://i.stack.imgur.com/07vcg.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1664366473,"post_id":73881032,"comment_id":130454327,"body_markdown":"The error message already tells you it is not possible to do this, so why ask if it is possible to do this?! You will need to find another way to perform this initialization.","body":"The error message already tells you it is not possible to do this, so why ask if it is possible to do this?! You will need to find another way to perform this initialization."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1664368054,"post_id":73881032,"comment_id":130454948,"body_markdown":"BTW `newProp`  will not even be empty when `super()` is being called, it actually would not even be initialized since the *local* instance initialization would only start **after** the super class is initialized (*probably* the reason for not allowing such)","body":"BTW <code>newProp</code>  will not even be empty when <code>super()</code> is being called, it actually would not even be initialized since the <i>local</i> instance initialization would only start <b>after</b> the super class is initialized (<i>probably</i> the reason for not allowing such)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1664378591,"post_id":73881032,"comment_id":130459298,"body_markdown":"Even if you have `private Map&lt;String, String&gt; newProp = Map.of(&quot;a&quot;,&quot;1&quot;, &quot;b&quot;,&quot;2&quot;);` the *initialization* of `newProp` field is moved to each constructor *after* its `super` call. So at the time of calling `super(.., newProp.get(&quot;some_string&quot;), ..)` the `newProp` doesn&#39;t hold yet `Map.of(&quot;a&quot;,&quot;1&quot;, &quot;b&quot;,&quot;2&quot;)` but `null`. This means you would end up with NPE because you end up with `null.get(&quot;some_string&quot;)`. That is why it is an error to try using fields in `super(..)`.","body":"Even if you have <code>private Map&lt;String, String&gt; newProp = Map.of(&quot;a&quot;,&quot;1&quot;, &quot;b&quot;,&quot;2&quot;);</code> the <i>initialization</i> of <code>newProp</code> field is moved to each constructor <i>after</i> its <code>super</code> call. So at the time of calling <code>super(.., newProp.get(&quot;some_string&quot;), ..)</code> the <code>newProp</code> doesn&#39;t hold yet <code>Map.of(&quot;a&quot;,&quot;1&quot;, &quot;b&quot;,&quot;2&quot;)</code> but <code>null</code>. This means you would end up with NPE because you end up with <code>null.get(&quot;some_string&quot;)</code>. That is why it is an error to try using fields in <code>super(..)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664367476,"creation_date":1664367476,"answer_id":73881288,"question_id":73881032,"body_markdown":"&gt; I want to add new **non-static** field to the ChildClass, and use it in constructor like below: [...]\r\n\r\nNo, you cannot do that.  The superclass is initialized before the subclass&#39;s instance variables are initialized, regardless of how the particular superclass constructor and its arguments are chosen, so your non-static field does not have its value yet at the time you propose to use it.\r\n\r\nHowever, you should be able to obtain a similar result by giving the subclass a static factory method and a constructor designed to be used with it.\r\n","title":"Using instance field in super() in class constructor","body":"<blockquote>\n<p>I want to add new <strong>non-static</strong> field to the ChildClass, and use it in constructor like below: [...]</p>\n</blockquote>\n<p>No, you cannot do that.  The superclass is initialized before the subclass's instance variables are initialized, regardless of how the particular superclass constructor and its arguments are chosen, so your non-static field does not have its value yet at the time you propose to use it.</p>\n<p>However, you should be able to obtain a similar result by giving the subclass a static factory method and a constructor designed to be used with it.</p>\n"},{"tags":[],"owner":{"account_id":437290,"reputation":1271,"user_id":5392299,"display_name":"dieter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664368283,"creation_date":1664368283,"answer_id":73881503,"question_id":73881032,"body_markdown":"The problem is that the call to the super constructor must be the first statement in the `ChildClass` constructor, and `this` cannot be referenced at this point.\r\n\r\nIt is somewhat hacky, but the solution might be to use a static `ThreadLocal` in order to temporarily store the value of &#39;newProp&#39; in a static context, before storing it as an attribute in the newly created object\r\n\r\n```java\r\nabstract class ChildClass extends SuperClass{\r\n    \r\n    private static ThreadLocal&lt;Map&lt;String, String&gt;&gt; tmpNewProp = new ThreadLocal&lt;&gt;();\r\n    \r\n    private static Map&lt;String, String&gt; newPropInit() {\r\n        if(tmpNewProp.get() == null) {\r\n            tmpNewProp.set(...); // &lt;-- instantiate newProp here\r\n        }\r\n        return tmpNewProp.get();\r\n    }\r\n    \r\n    private Map&lt;String, String&gt; newProp;\r\n    \r\n    public ChildClass(Class1 prop1) {\r\n       super(prop1, newPropInit().get(&quot;some_string&quot;), newPropInit().get(&quot;some_string&quot;));\r\n       this.newProp = newPropInit();\r\n    }\r\n}\r\n```\r\n","title":"Using instance field in super() in class constructor","body":"<p>The problem is that the call to the super constructor must be the first statement in the <code>ChildClass</code> constructor, and <code>this</code> cannot be referenced at this point.</p>\n<p>It is somewhat hacky, but the solution might be to use a static <code>ThreadLocal</code> in order to temporarily store the value of 'newProp' in a static context, before storing it as an attribute in the newly created object</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class ChildClass extends SuperClass{\n    \n    private static ThreadLocal&lt;Map&lt;String, String&gt;&gt; tmpNewProp = new ThreadLocal&lt;&gt;();\n    \n    private static Map&lt;String, String&gt; newPropInit() {\n        if(tmpNewProp.get() == null) {\n            tmpNewProp.set(...); // &lt;-- instantiate newProp here\n        }\n        return tmpNewProp.get();\n    }\n    \n    private Map&lt;String, String&gt; newProp;\n    \n    public ChildClass(Class1 prop1) {\n       super(prop1, newPropInit().get(&quot;some_string&quot;), newPropInit().get(&quot;some_string&quot;));\n       this.newProp = newPropInit();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14048313,"reputation":53,"user_id":15305488,"display_name":"PrintScreenSys"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664491211,"creation_date":1664366347,"question_id":73881032,"body_markdown":"I have 2 classes:\r\n```\r\npublic abstract class SuperClass() {\r\n    public SuperClass(Class1 prop1, Class2, prop2, Class3 prop3) {\r\n        this.prop1 = prop1;\r\n        this.prop2 = prop2;\r\n        this.prop3 = prop3;\r\n    }\r\n}\r\n```\r\n```\r\npublic abstract class ChildClass() extends SuperClass(){\r\n    public ChildClass(Class1 prop1) {\r\n        super(prop1, prop1.someMethod1(), prop1.someMethod2());\r\n    }\r\n}\r\n```\r\n\r\nI want to add new **non-static** field to the ChildClass, and use it in constructor like below:\r\n```\r\npublic abstract class ChildClass() extends SuperClass(){\r\n    private Map&lt;String, String&gt; newProp = ...;\r\n    public ChildClass(Class1 prop1) {\r\n        super(prop1, newProp.get(&quot;some_string&quot;), newProp.get(&quot;some_string&quot;));\r\n    }\r\n}\r\n```\r\nIs it possible to do this, because it throws &quot;Cannot Reference “X” Before Supertype Constructor Has Been Called&quot;. Also newProp should be non-static\r\n","title":"Using instance field in super() in class constructor","body":"<p>I have 2 classes:</p>\n<pre><code>public abstract class SuperClass() {\n    public SuperClass(Class1 prop1, Class2, prop2, Class3 prop3) {\n        this.prop1 = prop1;\n        this.prop2 = prop2;\n        this.prop3 = prop3;\n    }\n}\n</code></pre>\n<pre><code>public abstract class ChildClass() extends SuperClass(){\n    public ChildClass(Class1 prop1) {\n        super(prop1, prop1.someMethod1(), prop1.someMethod2());\n    }\n}\n</code></pre>\n<p>I want to add new <strong>non-static</strong> field to the ChildClass, and use it in constructor like below:</p>\n<pre><code>public abstract class ChildClass() extends SuperClass(){\n    private Map&lt;String, String&gt; newProp = ...;\n    public ChildClass(Class1 prop1) {\n        super(prop1, newProp.get(&quot;some_string&quot;), newProp.get(&quot;some_string&quot;));\n    }\n}\n</code></pre>\n<p>Is it possible to do this, because it throws &quot;Cannot Reference “X” Before Supertype Constructor Has Been Called&quot;. Also newProp should be non-static</p>\n"},{"tags":["java","database-migration","flyway","baseline"],"comments":[{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1550466627,"post_id":54739000,"comment_id":96263851,"body_markdown":"would you please add some logs to dictate the problem to a specific.","body":"would you please add some logs to dictate the problem to a specific."},{"owner":{"account_id":453152,"reputation":1488,"user_id":849981,"accept_rate":64,"display_name":"X-HuMan"},"score":0,"creation_date":1550478295,"post_id":54739000,"comment_id":96268329,"body_markdown":"The log says the version have been migrated successfuly. No script failure, no exception unfortunately.","body":"The log says the version have been migrated successfuly. No script failure, no exception unfortunately."}],"answers":[{"tags":[],"owner":{"account_id":22144733,"reputation":1,"user_id":16394217,"display_name":"Ksenia G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664490049,"creation_date":1664490049,"answer_id":73902218,"question_id":54739000,"body_markdown":"It seems like the baseline version you set is incorrect. What the log is showing is the baseline version, which is NOT being executed. Only versions added after the baseline are usually executed. Hope that helps!","title":"FlyWay : log show successfully table created but failed to create Table?","body":"<p>It seems like the baseline version you set is incorrect. What the log is showing is the baseline version, which is NOT being executed. Only versions added after the baseline are usually executed. Hope that helps!</p>\n"}],"owner":{"account_id":453152,"reputation":1488,"user_id":849981,"accept_rate":64,"display_name":"X-HuMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664490049,"creation_date":1550449720,"question_id":54739000,"body_markdown":"Running SQL script on Oracle database with Spring Boot and FlyWay on shows successful log result, but fails to create the tables. \r\nThe only thing which is being created in the database is the flyway_history table which has in it an item with the value &lt;&lt;Base Line&gt;&gt;\r\nDeleting the row and restarting the application solves the problem. Where can be the problem, can&#39;t really understand. Disabling the baseline option in Spring Boot application does not affect on it.\r\nAn help from a professional would appreciate.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nlPuQ.png","title":"FlyWay : log show successfully table created but failed to create Table?","body":"<p>Running SQL script on Oracle database with Spring Boot and FlyWay on shows successful log result, but fails to create the tables. \nThe only thing which is being created in the database is the flyway_history table which has in it an item with the value &lt;>\nDeleting the row and restarting the application solves the problem. Where can be the problem, can't really understand. Disabling the baseline option in Spring Boot application does not affect on it.\nAn help from a professional would appreciate.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nlPuQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nlPuQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","heroku","microservices","netflix-eureka"],"comments":[{"owner":{"account_id":17913486,"reputation":13,"user_id":13015030,"display_name":"YellowFootMountain"},"score":0,"creation_date":1627235655,"post_id":68488361,"comment_id":121096785,"body_markdown":"Anyone have any ideas? I&#39;m assuming this -&gt; (http://ratings-data-service/ratingsdata/users/) is not correct, but what is the correct way to connect it to heroku?","body":"Anyone have any ideas? I&#39;m assuming this -&gt; (<a href=\"http://ratings-data-service/ratingsdata/users/\" rel=\"nofollow noreferrer\">ratings-data-service/ratingsdata/users</a>) is not correct, but what is the correct way to connect it to heroku?"},{"owner":{"account_id":4715182,"reputation":928,"user_id":3814557,"accept_rate":79,"display_name":"johnwick0831"},"score":0,"creation_date":1641896361,"post_id":68488361,"comment_id":124921404,"body_markdown":"I am experiencing the same issue. Did you ever find the solution?","body":"I am experiencing the same issue. Did you ever find the solution?"},{"owner":{"account_id":38281,"reputation":2015,"user_id":109795,"accept_rate":88,"display_name":"Tom"},"score":0,"creation_date":1658304039,"post_id":68488361,"comment_id":129015355,"body_markdown":"I cannot see you setting something like `spring.application.name=ratings-data-service`","body":"I cannot see you setting something like <code>spring.application.name=ratings-data-service</code>"}],"answers":[{"tags":[],"owner":{"account_id":13708516,"reputation":55,"user_id":9891471,"display_name":"user9891471"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664489582,"creation_date":1664489582,"answer_id":73902156,"question_id":68488361,"body_markdown":"Check if the restemplate you&#39;re using is load-balanced(you can use @LoadBalanced annotation) and also check if your RatingService is named ratings-data-service.","title":"Spring boot app with microservices eureka on Heroku getting UnknownHostException","body":"<p>Check if the restemplate you're using is load-balanced(you can use @LoadBalanced annotation) and also check if your RatingService is named ratings-data-service.</p>\n"}],"owner":{"account_id":17913486,"reputation":13,"user_id":13015030,"display_name":"YellowFootMountain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664489582,"creation_date":1626971036,"question_id":68488361,"body_markdown":"**Eureka Server**\r\n\r\nApplication.yaml\r\n\r\n    server:\r\n      port: ${PORT:8761}\r\n\r\n\r\n    eureka:\r\n      client:\r\n        registerWithEureka: false\r\n        fetchRegistry: false\r\n        server:\r\n          waitTimeInMsWhenSyncEmpty: 0\r\n \r\n\r\n    server:\r\n        enableSelfPreservation: false\r\n\r\nEurekaServer.java\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class EurekaServer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(EurekaServer.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n**RatingService**\r\n\r\nApplication.yaml\r\n\r\n  \r\n\r\n      eureka:\r\n      client:\r\n        serviceUrl:\r\n          defaultZone: ${EUREKA_URL:http://user:password@localhost:8761}/eureka/\r\n    \r\n    ---\r\n    spring:\r\n      profiles: cloud\r\n    eureka:\r\n      instance:\r\n        hostname: ${APPLICATION_DOMAIN}\r\n        nonSecurePort: 80\r\n\r\n**MovieCatalogService**\r\nThis is where is issue is happening. I&#39;m calling two other microservices here and marshalling them to their respective objects. Once I hit this enpoint it returns *I/O error on GET request for &quot;http://ratings-data-service/ratingsdata/users/foo&quot;: ratings-data-service; nested exception is java.net.UnknownHostException: ratings-data-service*. Which is the first line in the controller method.\r\n\r\n   \r\n\r\n          @RequestMapping(&quot;microservices/{userId}&quot;)\r\n            public List&lt;CatalogItem&gt; getCatalog(@PathVariable(&quot;userId&quot;) String userId) {\r\n    \r\n              UserRating ratings = restTemplate.getForObject(&quot;http://ratings-data-service/ratingsdata/users/&quot;+userId, UserRating.class);\r\n        \r\n       \r\n                List&lt;CatalogItem&gt; catalogItems = new ArrayList&lt;&gt;();\r\n        \r\n                for (Rating rating: ratings.getUserRating()) {\r\n                    //for each movie ID, call movie info service and get all details\r\n        \r\n                    Movie movie =restTemplate.getForObject(&quot;http://movie-info-service/movies/&quot;+rating.getMovieId(), Movie.class);\r\n                    catalogItems.add(new CatalogItem(movie.getName(), &quot;Desc&quot;, rating.getRating()));\r\n                }\r\nMovieCatalogservice - application.yaml\r\n\r\n    eureka:\r\n      client:\r\n        serviceUrl:\r\n          defaultZone: ${EUREKA_URL:http://user:password@localhost:8761}/eureka/\r\n    \r\n    ---\r\n    spring:\r\n      profiles: cloud\r\n    eureka:\r\n      instance:\r\n        hostname: ${APPLICATION_DOMAIN}\r\n        nonSecurePort: 80\r\n\r\nUsing heroku to host my microservices.","title":"Spring boot app with microservices eureka on Heroku getting UnknownHostException","body":"<p><strong>Eureka Server</strong></p>\n<p>Application.yaml</p>\n<pre><code>server:\n  port: ${PORT:8761}\n\n\neureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: false\n    server:\n      waitTimeInMsWhenSyncEmpty: 0\n\n\nserver:\n    enableSelfPreservation: false\n</code></pre>\n<p>EurekaServer.java</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaServer.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>RatingService</strong></p>\n<p>Application.yaml</p>\n<pre><code>  eureka:\n  client:\n    serviceUrl:\n      defaultZone: ${EUREKA_URL:http://user:password@localhost:8761}/eureka/\n\n---\nspring:\n  profiles: cloud\neureka:\n  instance:\n    hostname: ${APPLICATION_DOMAIN}\n    nonSecurePort: 80\n</code></pre>\n<p><strong>MovieCatalogService</strong>\nThis is where is issue is happening. I'm calling two other microservices here and marshalling them to their respective objects. Once I hit this enpoint it returns <em>I/O error on GET request for &quot;http://ratings-data-service/ratingsdata/users/foo&quot;: ratings-data-service; nested exception is java.net.UnknownHostException: ratings-data-service</em>. Which is the first line in the controller method.</p>\n<pre><code>      @RequestMapping(&quot;microservices/{userId}&quot;)\n        public List&lt;CatalogItem&gt; getCatalog(@PathVariable(&quot;userId&quot;) String userId) {\n\n          UserRating ratings = restTemplate.getForObject(&quot;http://ratings-data-service/ratingsdata/users/&quot;+userId, UserRating.class);\n    \n   \n            List&lt;CatalogItem&gt; catalogItems = new ArrayList&lt;&gt;();\n    \n            for (Rating rating: ratings.getUserRating()) {\n                //for each movie ID, call movie info service and get all details\n    \n                Movie movie =restTemplate.getForObject(&quot;http://movie-info-service/movies/&quot;+rating.getMovieId(), Movie.class);\n                catalogItems.add(new CatalogItem(movie.getName(), &quot;Desc&quot;, rating.getRating()));\n            }\n</code></pre>\n<p>MovieCatalogservice - application.yaml</p>\n<pre><code>eureka:\n  client:\n    serviceUrl:\n      defaultZone: ${EUREKA_URL:http://user:password@localhost:8761}/eureka/\n\n---\nspring:\n  profiles: cloud\neureka:\n  instance:\n    hostname: ${APPLICATION_DOMAIN}\n    nonSecurePort: 80\n</code></pre>\n<p>Using heroku to host my microservices.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664487778,"post_id":73901895,"comment_id":130489828,"body_markdown":"Can you add example of input and output and explain what is wrong with output?","body":"Can you add example of input and output and explain what is wrong with output?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1664488871,"post_id":73901895,"comment_id":130490048,"body_markdown":"By `\\n`, do you mean a newline character or do you mean a literal backslash then an `n`?","body":"By <code>\\n</code>, do you mean a newline character or do you mean a literal backslash then an <code>n</code>?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664489567,"post_id":73901895,"comment_id":130490196,"body_markdown":"Your entire code could be reduce to `System.out.print(gg.replace(&quot;\\\\n&quot;, &quot;\\n&quot;))` if you replaced a literal `\\n` with an actual line break and wouldn&#39;t break if there are `!` in `gg` already.","body":"Your entire code could be reduce to <code>System.out.print(gg.replace(&quot;\\\\n&quot;, &quot;\\n&quot;))</code> if you replaced a literal <code>\\n</code> with an actual line break and wouldn&#39;t break if there are <code>!</code> in <code>gg</code> already."}],"answers":[{"tags":[],"owner":{"account_id":26486279,"reputation":9,"user_id":20124805,"display_name":"darthlaser5927"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664488592,"creation_date":1664488592,"answer_id":73902038,"question_id":73901895,"body_markdown":"Recall that in Java, strings are immutable. Additionally, using a for each loop uses a copy of every element in an iterable object. I am not quite sure what you are trying to do, but this method replaces every newline escape seqeuence with an exclamation mark and prints the result.\r\n\r\n    public void newLine (String gg) {\r\n        String[] ggArray = gg.split(&quot; &quot;);\r\n        for (int i = 0; i &lt; ggArray.length; i++) {\r\n            ggArray[i] = ggArray[i].replace(&quot;\\n&quot;, &quot;!&quot;);\r\n        }\r\n        gg = String.join(&quot; &quot;, ggArray);\r\n        System.out.println(gg);\r\n    }","title":"I want to go to a new line every time a \\n appears in a given string","body":"<p>Recall that in Java, strings are immutable. Additionally, using a for each loop uses a copy of every element in an iterable object. I am not quite sure what you are trying to do, but this method replaces every newline escape seqeuence with an exclamation mark and prints the result.</p>\n<pre><code>public void newLine (String gg) {\n    String[] ggArray = gg.split(&quot; &quot;);\n    for (int i = 0; i &lt; ggArray.length; i++) {\n        ggArray[i] = ggArray[i].replace(&quot;\\n&quot;, &quot;!&quot;);\n    }\n    gg = String.join(&quot; &quot;, ggArray);\n    System.out.println(gg);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664489185,"creation_date":1664489126,"answer_id":73902106,"question_id":73901895,"body_markdown":"`\\n` is a newline character, but you want to replace the character sequence of a literal backslash then an `n`, which in java is coded as `&quot;\\\\n&quot;` (you must escape the escape character).\r\n\r\nEscape the backslash and use `replace()`:\r\n\r\n    gg = gg.replace(&quot;\\\\n&quot;, &quot;!&quot;);\r\n\r\n---\r\n\r\nNote that `replace()` replaces all occurrences, but `replaceAll()` uses regex to match whereas `replace()` matches literally.","title":"I want to go to a new line every time a \\n appears in a given string","body":"<p><code>\\n</code> is a newline character, but you want to replace the character sequence of a literal backslash then an <code>n</code>, which in java is coded as <code>&quot;\\\\n&quot;</code> (you must escape the escape character).</p>\n<p>Escape the backslash and use <code>replace()</code>:</p>\n<pre><code>gg = gg.replace(&quot;\\\\n&quot;, &quot;!&quot;);\n</code></pre>\n<hr />\n<p>Note that <code>replace()</code> replaces all occurrences, but <code>replaceAll()</code> uses regex to match whereas <code>replace()</code> matches literally.</p>\n"}],"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73902106,"answer_count":2,"score":0,"last_activity_date":1664489185,"creation_date":1664487496,"question_id":73901895,"body_markdown":"Im making a programm that takes a string as a parameter and if it reads in a \\n value it will skip too a new line however for some reason java doesnt recognise &#39;\\n&#39; i want to replace all occurences of \\n with ! so that i can use a char array to do the new line thing but the replace all doesnt work when i plug in \\n any ideas how i can fix my issue\r\n\r\n      public void newLine(String gg) {\r\n         int temp = 0;\r\n          String x = gg.replaceAll(&quot;\\n&quot;, &quot;!&quot;);\r\n\t\t  for(char pp: x.toCharArray()) {\r\n\t\t\t  if(pp == &#39;!&#39;) {\r\n\t\t\t\t  System.out.println();\r\n\t\t\t  }\r\n\t\t\t  System.out.printf(&quot;%s&quot;,pp);\r\n\t\t  }\r\n\t  }\r\n&#39;&#39;&#39;\r\n","title":"I want to go to a new line every time a \\n appears in a given string","body":"<p>Im making a programm that takes a string as a parameter and if it reads in a \\n value it will skip too a new line however for some reason java doesnt recognise '\\n' i want to replace all occurences of \\n with ! so that i can use a char array to do the new line thing but the replace all doesnt work when i plug in \\n any ideas how i can fix my issue</p>\n<pre><code>  public void newLine(String gg) {\n     int temp = 0;\n      String x = gg.replaceAll(&quot;\\n&quot;, &quot;!&quot;);\n      for(char pp: x.toCharArray()) {\n          if(pp == '!') {\n              System.out.println();\n          }\n          System.out.printf(&quot;%s&quot;,pp);\n      }\n  }\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","comparator","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664488050,"creation_date":1664488050,"answer_id":73901966,"question_id":73901894,"body_markdown":"Use `Comparator.thenComparing` methods.\r\n\r\nIf you have `workerCountComparator` and `distanceComparator` you can use `workerCountComparator.thenComparing(distanceComparator)` to get what you need.\r\n\r\nYou can combine more then two comparators by calling this method multiple times:\r\n```\r\nc1.thenComparing(c2)\r\n  .thenComparing(c3)\r\n  .thenComparing(c4);\r\n```","title":"Comparator inside comparator?","body":"<p>Use <code>Comparator.thenComparing</code> methods.</p>\n<p>If you have <code>workerCountComparator</code> and <code>distanceComparator</code> you can use <code>workerCountComparator.thenComparing(distanceComparator)</code> to get what you need.</p>\n<p>You can combine more then two comparators by calling this method multiple times:</p>\n<pre><code>c1.thenComparing(c2)\n  .thenComparing(c3)\n  .thenComparing(c4);\n</code></pre>\n"}],"owner":{"account_id":25694965,"reputation":75,"user_id":19455808,"display_name":"el Kusn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73901966,"answer_count":1,"score":0,"last_activity_date":1664488050,"creation_date":1664487495,"question_id":73901894,"body_markdown":"I am making a program that sorts workers to workplaces.\r\nI have made a basic comparator (comp) that sorts on how many workers a workplace needs and it works fine. I have put this into a priority queue;\r\n\r\n```PriorityQueue&lt;Workplaces&gt; workplaces = new PriorityQueue&lt;&gt;(comp);```\r\n\r\nSo the workplaces that needs most workers get them first. But if two workplaces needs the same amount of workers i want to compare these. If two workplaces needs 10 workers, i want to compare which workplace has the shortest avg distance to all workers. The one with the least avg distance gets the workers. \r\n\r\nIf the comparator returns 0 i want to compare these elements again.\r\n\r\nSo the **question** is how can I compare after I&#39;ve passed the first comparator inside the priorityqueue? (I dont HAVE to use a priorityqueue) \r\n\r\n\r\n\r\n","title":"Comparator inside comparator?","body":"<p>I am making a program that sorts workers to workplaces.\nI have made a basic comparator (comp) that sorts on how many workers a workplace needs and it works fine. I have put this into a priority queue;</p>\n<p><code>PriorityQueue&lt;Workplaces&gt; workplaces = new PriorityQueue&lt;&gt;(comp);</code></p>\n<p>So the workplaces that needs most workers get them first. But if two workplaces needs the same amount of workers i want to compare these. If two workplaces needs 10 workers, i want to compare which workplace has the shortest avg distance to all workers. The one with the least avg distance gets the workers.</p>\n<p>If the comparator returns 0 i want to compare these elements again.</p>\n<p>So the <strong>question</strong> is how can I compare after I've passed the first comparator inside the priorityqueue? (I dont HAVE to use a priorityqueue)</p>\n"},{"tags":["java","time","calendar","localdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663082960,"post_id":73701943,"comment_id":130153494,"body_markdown":"`ZoneOffset.ofTotalSeconds(18000)`. Yields `+05:00`.","body":"<code>ZoneOffset.ofTotalSeconds(18000)</code>. Yields <code>+05:00</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664487953,"creation_date":1664487953,"answer_id":73901953,"question_id":73701943,"body_markdown":"You can convert the given number of seconds into a `ZoneOffset` instance and then format it the desired string e.g.\r\n\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                                            .appendLiteral(&quot;GMT&quot;)\r\n                                            .appendOffset(&quot;+H:mm&quot;, &quot;Z&quot;)\r\n                                            .toFormatter(Locale.ROOT);\r\n    \r\n            ZoneOffset offset = ZoneOffset.ofTotalSeconds(18000);\r\n            String formattedOffset = formatter.format(offset);\r\n            System.out.println(offset);\r\n            System.out.println(formattedOffset);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    +05:00\r\n    GMT+5\r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to convert time offset value to GMTformat in Java","body":"<p>You can convert the given number of seconds into a <code>ZoneOffset</code> instance and then format it the desired string e.g.</p>\n<pre><code>import java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                                        .appendLiteral(&quot;GMT&quot;)\n                                        .appendOffset(&quot;+H:mm&quot;, &quot;Z&quot;)\n                                        .toFormatter(Locale.ROOT);\n\n        ZoneOffset offset = ZoneOffset.ofTotalSeconds(18000);\n        String formattedOffset = formatter.format(offset);\n        System.out.println(offset);\n        System.out.println(formattedOffset);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>+05:00\nGMT+5\n</code></pre>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":19473985,"reputation":23,"user_id":16136040,"display_name":"Umaralikhon Kayumov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73901953,"answer_count":1,"score":1,"last_activity_date":1664487953,"creation_date":1663067494,"question_id":73701943,"body_markdown":"I get from remote API such kind body:\r\n\r\n        {\r\n           &quot;timezone&quot;: &quot;18000&quot;,\r\n           &quot;id&quot;: &quot;1512569&quot;,\r\n           &quot;name&quot;: &quot;Tashkent&quot;\r\n        }\r\nHow can I convert timezone field to GMT format?\r\nFor example in my case:\r\n\r\n    timezon:18000  = GMT 5","title":"How to convert time offset value to GMTformat in Java","body":"<p>I get from remote API such kind body:</p>\n<pre><code>    {\n       &quot;timezone&quot;: &quot;18000&quot;,\n       &quot;id&quot;: &quot;1512569&quot;,\n       &quot;name&quot;: &quot;Tashkent&quot;\n    }\n</code></pre>\n<p>How can I convert timezone field to GMT format?\nFor example in my case:</p>\n<pre><code>timezon:18000  = GMT 5\n</code></pre>\n"},{"tags":["java","netty"],"answers":[{"tags":[],"owner":{"account_id":11271799,"reputation":178,"user_id":8267040,"display_name":"HyperX Pro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664487935,"creation_date":1664487935,"answer_id":73901947,"question_id":73822163,"body_markdown":"It&#39;s because you&#39;re using ServerSocketChannel in Bootstrap instead of SocketChannel.\r\n\r\nUse EpollSocketChannel and NioSocketChannel.","title":"java.lang.UnsupportedOperationException at io.netty.channel.socket.nio.NioServerSocketChannel.doConnect(NioServerSocketChannel.java:178)","body":"<p>It's because you're using ServerSocketChannel in Bootstrap instead of SocketChannel.</p>\n<p>Use EpollSocketChannel and NioSocketChannel.</p>\n"}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73901947,"answer_count":1,"score":0,"last_activity_date":1664487935,"creation_date":1663896852,"question_id":73822163,"body_markdown":"I&#39;m working on Netty tutorials in [youtube][1].\r\n\r\nI&#39;ve below server code -\r\n\r\n\r\n```\r\npackage yt.ingrim.p01;\r\n\r\nimport io.netty.bootstrap.ServerBootstrap;\r\nimport io.netty.channel.*;\r\nimport io.netty.channel.epoll.Epoll;\r\nimport io.netty.channel.epoll.EpollEventLoopGroup;\r\nimport io.netty.channel.epoll.EpollServerSocketChannel;\r\nimport io.netty.channel.nio.NioEventLoopGroup;\r\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\r\n\r\npublic class Server {\r\n    public static class MySimpleChannelInboundHandler extends SimpleChannelInboundHandler&lt;Object&gt; {\r\n        @Override\r\n        public void channelActive(ChannelHandlerContext ctx) throws Exception {\r\n            super.channelActive(ctx);\r\n            System.out.println(&quot;channel Connected --&gt; &quot; + ctx.channel());\r\n        }\r\n\r\n        @Override\r\n        protected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\r\n\r\n        }\r\n    }\r\n    public static final boolean EPOLL = Epoll.isAvailable();\r\n    Class channelClazz = EPOLL? EpollServerSocketChannel.class : NioServerSocketChannel.class;\r\n\r\n    public Server() throws Exception {\r\n        EventLoopGroup eventLoopGroup = EPOLL? new EpollEventLoopGroup(): new NioEventLoopGroup();\r\n        try {\r\n            new ServerBootstrap()\r\n                    .group(eventLoopGroup)\r\n                    .channel(channelClazz)\r\n                    .childHandler(new ChannelInitializer&lt;Channel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(Channel ch) throws Exception {\r\n                            ChannelPipeline cpl = ch.pipeline();\r\n                            cpl.addLast(&quot;default_channel_handler&quot;, new MySimpleChannelInboundHandler());\r\n                        }\r\n                    }).bind(8000).sync().channel().closeFuture().syncUninterruptibly();\r\n        } finally {\r\n            eventLoopGroup.shutdownGracefully().await();\r\n        }\r\n    }\r\n    public static void main(String[] args) throws Exception {\r\n        new Server();\r\n    }\r\n}\r\n```\r\n\r\nThe Client Code is -\r\n\r\n```\r\npackage yt.ingrim.p01;\r\n\r\nimport io.netty.bootstrap.Bootstrap;\r\nimport io.netty.channel.Channel;\r\nimport io.netty.channel.ChannelInitializer;\r\nimport io.netty.channel.EventLoopGroup;\r\nimport io.netty.channel.epoll.Epoll;\r\nimport io.netty.channel.epoll.EpollEventLoopGroup;\r\nimport io.netty.channel.epoll.EpollServerSocketChannel;\r\nimport io.netty.channel.nio.NioEventLoopGroup;\r\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\r\n\r\nimport java.net.InetSocketAddress;\r\n\r\npublic class Client {\r\n\r\n    public static final boolean EPOLL = Epoll.isAvailable();\r\n\r\n    Class channelClazz = EPOLL? EpollServerSocketChannel.class : NioServerSocketChannel.class;\r\n\r\n    public Client() throws Exception {\r\n        EventLoopGroup eventLoopGroup = EPOLL? new EpollEventLoopGroup(): new NioEventLoopGroup();\r\n        try {\r\n            new Bootstrap()\r\n                    .group(eventLoopGroup)\r\n                    .channel(channelClazz)\r\n                    .remoteAddress(new InetSocketAddress(&quot;127.0.0.1&quot;, 8000))\r\n                    .handler(new ChannelInitializer&lt;Channel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(Channel ch) throws Exception {\r\n\r\n                        }\r\n                    }).connect().sync().channel().closeFuture().syncUninterruptibly();\r\n        } finally {\r\n            eventLoopGroup.shutdownGracefully().sync();\r\n        }\r\n    }\r\n    public static void main(String []args) throws Exception {\r\n        System.out.println(EPOLL);\r\n        new Client();\r\n    }\r\n}\r\n```\r\n\r\nIn my system EPOLL is false.  When I run the server it is working fine.\r\n\r\nWhen I run the client, I get the below error - \r\n\r\n&gt;   Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n&gt;   \tat io.netty.channel.socket.nio.NioServerSocketChannel.doConnect(NioServerSocketChannel.java:178)\r\n&gt;   \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248)\r\n&gt;   \tat io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n&gt;   \tat io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n&gt;   \tat io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n&gt;   \tat io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:517)\r\n&gt;   \tat io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:978)\r\n&gt;   \tat io.netty.channel.AbstractChannel.connect(AbstractChannel.java:265)\r\n&gt;   \tat io.netty.bootstrap.Bootstrap$3.run(Bootstrap.java:250)\r\n&gt;   \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n&gt;   \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n&gt;   \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n&gt;   \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n&gt;   \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n&gt;   \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n&gt;   \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n&gt;   \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\nMy code is exactly same in the tutorial. What is the issue in my code. How can I fix this issue?\r\n\r\nNetty version is - 4.1.82.Final\r\nJava Version is - 17\r\n\r\n```\r\njava --version\r\nopenjdk 17.0.3-oracle\r\n```\r\n\r\nMy code is on github [here][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=7hGEIICBPNI&amp;list=PLdHlBihmVRiao02p7BfK9OyhaQfKgnCTg&amp;index=1\r\n  [2]: https://github.com/rajcspsg/netty-ingrim-yt-demo/tree/01","title":"java.lang.UnsupportedOperationException at io.netty.channel.socket.nio.NioServerSocketChannel.doConnect(NioServerSocketChannel.java:178)","body":"<p>I'm working on Netty tutorials in <a href=\"https://www.youtube.com/watch?v=7hGEIICBPNI&amp;list=PLdHlBihmVRiao02p7BfK9OyhaQfKgnCTg&amp;index=1\" rel=\"nofollow noreferrer\">youtube</a>.</p>\n<p>I've below server code -</p>\n<pre><code>package yt.ingrim.p01;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.*;\nimport io.netty.channel.epoll.Epoll;\nimport io.netty.channel.epoll.EpollEventLoopGroup;\nimport io.netty.channel.epoll.EpollServerSocketChannel;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\n\npublic class Server {\n    public static class MySimpleChannelInboundHandler extends SimpleChannelInboundHandler&lt;Object&gt; {\n        @Override\n        public void channelActive(ChannelHandlerContext ctx) throws Exception {\n            super.channelActive(ctx);\n            System.out.println(&quot;channel Connected --&gt; &quot; + ctx.channel());\n        }\n\n        @Override\n        protected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\n\n        }\n    }\n    public static final boolean EPOLL = Epoll.isAvailable();\n    Class channelClazz = EPOLL? EpollServerSocketChannel.class : NioServerSocketChannel.class;\n\n    public Server() throws Exception {\n        EventLoopGroup eventLoopGroup = EPOLL? new EpollEventLoopGroup(): new NioEventLoopGroup();\n        try {\n            new ServerBootstrap()\n                    .group(eventLoopGroup)\n                    .channel(channelClazz)\n                    .childHandler(new ChannelInitializer&lt;Channel&gt;() {\n                        @Override\n                        protected void initChannel(Channel ch) throws Exception {\n                            ChannelPipeline cpl = ch.pipeline();\n                            cpl.addLast(&quot;default_channel_handler&quot;, new MySimpleChannelInboundHandler());\n                        }\n                    }).bind(8000).sync().channel().closeFuture().syncUninterruptibly();\n        } finally {\n            eventLoopGroup.shutdownGracefully().await();\n        }\n    }\n    public static void main(String[] args) throws Exception {\n        new Server();\n    }\n}\n</code></pre>\n<p>The Client Code is -</p>\n<pre><code>package yt.ingrim.p01;\n\nimport io.netty.bootstrap.Bootstrap;\nimport io.netty.channel.Channel;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.epoll.Epoll;\nimport io.netty.channel.epoll.EpollEventLoopGroup;\nimport io.netty.channel.epoll.EpollServerSocketChannel;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\n\nimport java.net.InetSocketAddress;\n\npublic class Client {\n\n    public static final boolean EPOLL = Epoll.isAvailable();\n\n    Class channelClazz = EPOLL? EpollServerSocketChannel.class : NioServerSocketChannel.class;\n\n    public Client() throws Exception {\n        EventLoopGroup eventLoopGroup = EPOLL? new EpollEventLoopGroup(): new NioEventLoopGroup();\n        try {\n            new Bootstrap()\n                    .group(eventLoopGroup)\n                    .channel(channelClazz)\n                    .remoteAddress(new InetSocketAddress(&quot;127.0.0.1&quot;, 8000))\n                    .handler(new ChannelInitializer&lt;Channel&gt;() {\n                        @Override\n                        protected void initChannel(Channel ch) throws Exception {\n\n                        }\n                    }).connect().sync().channel().closeFuture().syncUninterruptibly();\n        } finally {\n            eventLoopGroup.shutdownGracefully().sync();\n        }\n    }\n    public static void main(String []args) throws Exception {\n        System.out.println(EPOLL);\n        new Client();\n    }\n}\n</code></pre>\n<p>In my system EPOLL is false.  When I run the server it is working fine.</p>\n<p>When I run the client, I get the below error -</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\nat io.netty.channel.socket.nio.NioServerSocketChannel.doConnect(NioServerSocketChannel.java:178)\nat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\nat io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\nat io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\nat io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:517)\nat io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:978)\nat io.netty.channel.AbstractChannel.connect(AbstractChannel.java:265)\nat io.netty.bootstrap.Bootstrap$3.run(Bootstrap.java:250)\nat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:829)</p>\n</blockquote>\n<p>My code is exactly same in the tutorial. What is the issue in my code. How can I fix this issue?</p>\n<p>Netty version is - 4.1.82.Final\nJava Version is - 17</p>\n<pre><code>java --version\nopenjdk 17.0.3-oracle\n</code></pre>\n<p>My code is on github <a href=\"https://github.com/rajcspsg/netty-ingrim-yt-demo/tree/01\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","google-api","response"],"comments":[{"owner":{"account_id":1284168,"reputation":3460,"user_id":1237595,"display_name":"Ingmar Boddington"},"score":0,"creation_date":1664490064,"post_id":73901943,"comment_id":130490295,"body_markdown":"Have you seen https://developers.google.com/api-client-library/java ? Perhaps it is not best to re-invent the wheel, or is there a reason you need to write this yourself?","body":"Have you seen <a href=\"https://developers.google.com/api-client-library/java\" rel=\"nofollow noreferrer\">developers.google.com/api-client-library/java</a> ? Perhaps it is not best to re-invent the wheel, or is there a reason you need to write this yourself?"},{"owner":{"account_id":16664591,"reputation":29,"user_id":12043655,"display_name":"Lea Cardenas"},"score":0,"creation_date":1665069597,"post_id":73901943,"comment_id":130617887,"body_markdown":"Even if I use the api-client-library, this issue may present itself on other occasions. I was not using the library since I had started developing on and app that had already started with the more manual way of connecting to the API.","body":"Even if I use the api-client-library, this issue may present itself on other occasions. I was not using the library since I had started developing on and app that had already started with the more manual way of connecting to the API."}],"owner":{"account_id":16664591,"reputation":29,"user_id":12043655,"display_name":"Lea Cardenas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664487900,"creation_date":1664487900,"question_id":73901943,"body_markdown":"I am trying to connect with Google API, but I am having an issue when sending my authentication request. I am sending a string body, but the request seems to be receiving a JSON somehow. \r\n\r\nHere is the code: \r\n\r\n    public Response getGoogleAuth(@QueryParam(&quot;state&quot;) String state,\r\n            @QueryParam(&quot;code&quot;) String code,\r\n            @QueryParam(&quot;scope&quot;) String scope) {\r\n        try {\r\n            // Get the refresh and access token from Google, they also expire in 1 hour\r\n            String body = &quot;code=&quot; + code + &quot;&amp;&quot;\r\n                    + &quot;client_id=&quot; + {googleClientId} + &quot;&amp;&quot;\r\n                    + &quot;client_secret=&quot; + {googleClientSecret} + &quot;&amp;&quot;\r\n                    + &quot;redirect_uri=&quot; + {url} + &quot;&amp;&quot;\r\n                    + &quot;grant_type=authorization_code&quot;;\r\n\r\n            webTarget = client.target(&quot;https://oauth2.googleapis.com/token&quot;);\r\n\r\n            Response response = webTarget.request()\r\n                    .header(&quot;Content-Type&quot;, MediaType.APPLICATION_FORM_URLENCODED)\r\n                    .post(Entity.text(body), Response.class);\r\n            ObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            String responseString = response.readEntity(String.class);\r\n            \r\n            // Error\r\n            if (responseString.contains(&quot;error&quot;)) {\r\n                return Response.status(200).entity(&quot;Error while authenticating user: &quot; + responseString).build();\r\n            }\r\n           \r\n            return Response.status(200).entity(&quot;User authorized: &quot;).build();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return Response.status(113).entity(&quot;Error while authorizing the user&quot; + e.getMessage()).build();\r\n        }\r\n    }\r\n\r\nFor the responseString response I get the following response: \r\n\r\n&gt; &quot;error&quot;: {\r\n    &quot;code&quot;: 400,\r\n    &quot;message&quot;: &quot;Invalid JSON payload received. Unexpected token.\\ncode=4/???\\n^&quot;,\r\n    &quot;status&quot;: &quot;INVALID_ARGUMENT&quot;\r\n  }\r\n\r\n\r\nKnowledge:\r\n - **googleClientId** = The client ID obtained from the Google API Console.\r\n\r\n - **googleClientSecret** = The client secret obtained from the Google API Console. \r\n - **url** = One of the redirect URIs listed for your project in the Google API Console.\r\n\r\nCan anyone help me check what is the issue? Thank you. ","title":"Getting the error: &quot;Invalid JSON payload received.&quot; with a javax.ws.rs.core.Response while sending a String","body":"<p>I am trying to connect with Google API, but I am having an issue when sending my authentication request. I am sending a string body, but the request seems to be receiving a JSON somehow.</p>\n<p>Here is the code:</p>\n<pre><code>public Response getGoogleAuth(@QueryParam(&quot;state&quot;) String state,\n        @QueryParam(&quot;code&quot;) String code,\n        @QueryParam(&quot;scope&quot;) String scope) {\n    try {\n        // Get the refresh and access token from Google, they also expire in 1 hour\n        String body = &quot;code=&quot; + code + &quot;&amp;&quot;\n                + &quot;client_id=&quot; + {googleClientId} + &quot;&amp;&quot;\n                + &quot;client_secret=&quot; + {googleClientSecret} + &quot;&amp;&quot;\n                + &quot;redirect_uri=&quot; + {url} + &quot;&amp;&quot;\n                + &quot;grant_type=authorization_code&quot;;\n\n        webTarget = client.target(&quot;https://oauth2.googleapis.com/token&quot;);\n\n        Response response = webTarget.request()\n                .header(&quot;Content-Type&quot;, MediaType.APPLICATION_FORM_URLENCODED)\n                .post(Entity.text(body), Response.class);\n        ObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        String responseString = response.readEntity(String.class);\n        \n        // Error\n        if (responseString.contains(&quot;error&quot;)) {\n            return Response.status(200).entity(&quot;Error while authenticating user: &quot; + responseString).build();\n        }\n       \n        return Response.status(200).entity(&quot;User authorized: &quot;).build();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return Response.status(113).entity(&quot;Error while authorizing the user&quot; + e.getMessage()).build();\n    }\n}\n</code></pre>\n<p>For the responseString response I get the following response:</p>\n<blockquote>\n<p>&quot;error&quot;: {\n&quot;code&quot;: 400,\n&quot;message&quot;: &quot;Invalid JSON payload received. Unexpected token.\\ncode=4/???\\n^&quot;,\n&quot;status&quot;: &quot;INVALID_ARGUMENT&quot;\n}</p>\n</blockquote>\n<p>Knowledge:</p>\n<ul>\n<li><p><strong>googleClientId</strong> = The client ID obtained from the Google API Console.</p>\n</li>\n<li><p><strong>googleClientSecret</strong> = The client secret obtained from the Google API Console.</p>\n</li>\n<li><p><strong>url</strong> = One of the redirect URIs listed for your project in the Google API Console.</p>\n</li>\n</ul>\n<p>Can anyone help me check what is the issue? Thank you.</p>\n"},{"tags":["java","netty"],"answers":[{"tags":[],"owner":{"account_id":11271799,"reputation":178,"user_id":8267040,"display_name":"HyperX Pro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664487748,"creation_date":1664487748,"answer_id":73901926,"question_id":73887434,"body_markdown":"You can specify the Source (local) address while connecting.\r\n\r\nHere is a snippet:\r\n```java\r\nBootstrap bootstrap = new Bootstrap()\r\n        .group(new NioEventLoopGroup(1))\r\n        .channel(NioDatagramChannel.class)\r\n        .handler(new Handler());\r\n\r\nSocketAddress serverAddress = new InetSocketAddress(&quot;127.0.0.1&quot;, 7777);\r\nSocketAddress localAddress = new InetSocketAddress(&quot;192.168.86.50&quot;, 5555);\r\n\r\nbootstrap.connect(serverAddress, localAddress);\r\n```\r\n","title":"How to dynamically receive udp message from the source port using netty?","body":"<p>You can specify the Source (local) address while connecting.</p>\n<p>Here is a snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bootstrap bootstrap = new Bootstrap()\n        .group(new NioEventLoopGroup(1))\n        .channel(NioDatagramChannel.class)\n        .handler(new Handler());\n\nSocketAddress serverAddress = new InetSocketAddress(&quot;127.0.0.1&quot;, 7777);\nSocketAddress localAddress = new InetSocketAddress(&quot;192.168.86.50&quot;, 5555);\n\nbootstrap.connect(serverAddress, localAddress);\n</code></pre>\n"}],"owner":{"account_id":211250,"reputation":12638,"user_id":463300,"accept_rate":56,"display_name":"Sean Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664487748,"creation_date":1664396886,"question_id":73887434,"body_markdown":"I need to communicate with a server using udp message like this. For example, my client ip is 192.168.86.50 and the server is listening to port 7777 on address 127.0.0.1\r\n\r\nUDP message from my client to server: 192.168.86.50:54321 --&gt; 127.0.0.1:7777\r\n\r\nThe client will reply with a UDP message like this: 127.0.0.1:7777 --&gt; 192.168.86.50:54321\r\n\r\nHow do I write Netty to dynamically listening to a source port of a udp message? The source port is dynamically generate from the OS.\r\n\r\nThanks,","title":"How to dynamically receive udp message from the source port using netty?","body":"<p>I need to communicate with a server using udp message like this. For example, my client ip is 192.168.86.50 and the server is listening to port 7777 on address 127.0.0.1</p>\n<p>UDP message from my client to server: 192.168.86.50:54321 --&gt; 127.0.0.1:7777</p>\n<p>The client will reply with a UDP message like this: 127.0.0.1:7777 --&gt; 192.168.86.50:54321</p>\n<p>How do I write Netty to dynamically listening to a source port of a udp message? The source port is dynamically generate from the OS.</p>\n<p>Thanks,</p>\n"},{"tags":["java","arrays","jagged-arrays"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664488308,"post_id":73901880,"comment_id":130489938,"body_markdown":"if you check for `nums[i].length` in `j` and then do `nums[j][i]`, you might get into trouble :)","body":"if you check for <code>nums[i].length</code> in <code>j</code> and then do <code>nums[j][i]</code>, you might get into trouble :)"},{"owner":{"account_id":24006822,"reputation":11,"user_id":17990874,"display_name":"Sanallan"},"score":0,"creation_date":1664488570,"post_id":73901880,"comment_id":130489982,"body_markdown":"@zapl i need `nums[j][i]` to be able to have the columns print in the correct order. Is there `nums[i].length` so the formatting is still correct?","body":"@zapl i need <code>nums[j][i]</code> to be able to have the columns print in the correct order. Is there <code>nums[i].length</code> so the formatting is still correct?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664488872,"post_id":73901880,"comment_id":130490049,"body_markdown":"I think by swapping your i and j loops, you have to use the correct limits, if `nums[5].length` is 3, then `nums[5][0]` to `num[5][2]` is all that is possible","body":"I think by swapping your i and j loops, you have to use the correct limits, if <code>nums[5].length</code> is 3, then <code>nums[5][0]</code> to <code>num[5][2]</code> is all that is possible"},{"owner":{"account_id":24006822,"reputation":11,"user_id":17990874,"display_name":"Sanallan"},"score":0,"creation_date":1664489859,"post_id":73901880,"comment_id":130490253,"body_markdown":"@zapl unfortunately, swapping i and j loops causes columns to be printed horizontally, and not vertically like a need","body":"@zapl unfortunately, swapping i and j loops causes columns to be printed horizontally, and not vertically like a need"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664490844,"post_id":73901880,"comment_id":130490432,"body_markdown":"like this maybe? https://jdoodle.com/ia/wgF","body":"like this maybe? <a href=\"https://jdoodle.com/ia/wgF\" rel=\"nofollow noreferrer\">jdoodle.com/ia/wgF</a>"}],"owner":{"account_id":24006822,"reputation":11,"user_id":17990874,"display_name":"Sanallan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664487409,"creation_date":1664487409,"question_id":73901880,"body_markdown":"I have the following code to produce a jagged array as vertical columns, however, when it gets to the second set of numbers, it says it is out of bounds. Why is this?\r\n\r\nthis is the code in question. nums1 each has a length of 3, however,  with nums2, it seem to be getting the longest length of the array\r\n\r\n    public class test {\r\n    public static void main(String[] args) {\r\n        double nums1[][] =\r\n        {\r\n            {\r\n                1, 2, 3\r\n            }, \r\n            {\r\n                4, 5, 6\r\n            }, \r\n            {\r\n                7, 8, 9\r\n            }\r\n        };\r\n        double nums2[][] ={ {3.23, 4.28, 2.63, 2.89},{1.63, 8.46, 4.11},{0.23, 7.14, 1.26, 9.16, 8.01},{4.20}\r\n        };\r\n\r\n        System.out.println(&quot;\\n\\nPrint nums1 vertically&quot;);\r\n        printVertical(nums1);\r\n\r\n        System.out.println(&quot;\\n\\nPrint nums2 vertically&quot;);\r\n       printVertical(nums2);\r\n    }\r\n\r\n    public static void printVertical(double[][] nums)\r\n    {\r\n        for (int i = nums.length - 1; i &gt;= 0; i--) {\r\n            for (int j = 0; j &lt; nums[i].length; j++) {\r\n                    System.out.print(nums[j][i] + &quot;      &quot;);\r\n            }\r\n            System.out.println();\r\n\r\n        }\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            System.out.print(&quot;Col &quot; + (i + 1) + &quot;    &quot;);\r\n        }\r\n    }\r\n}\r\n\r\nthe error message: \r\n\r\n    3.0      6.0      9.0\r\n    2.0      5.0      8.0\r\n    1.0      4.0      7.0 Col 1    Col 2    Col 3\r\n    \r\n    Print nums2 vertically\r\n    2.89\r\n    2.63      4.11      1.26      Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 1\r\n            at test.printVertical(test.java:29)\r\n            at test.main(test.java:22)","title":"Jagged Array ArrayIndexOutOfBounds","body":"<p>I have the following code to produce a jagged array as vertical columns, however, when it gets to the second set of numbers, it says it is out of bounds. Why is this?</p>\n<p>this is the code in question. nums1 each has a length of 3, however,  with nums2, it seem to be getting the longest length of the array</p>\n<pre><code>public class test {\npublic static void main(String[] args) {\n    double nums1[][] =\n    {\n        {\n            1, 2, 3\n        }, \n        {\n            4, 5, 6\n        }, \n        {\n            7, 8, 9\n        }\n    };\n    double nums2[][] ={ {3.23, 4.28, 2.63, 2.89},{1.63, 8.46, 4.11},{0.23, 7.14, 1.26, 9.16, 8.01},{4.20}\n    };\n\n    System.out.println(&quot;\\n\\nPrint nums1 vertically&quot;);\n    printVertical(nums1);\n\n    System.out.println(&quot;\\n\\nPrint nums2 vertically&quot;);\n   printVertical(nums2);\n}\n\npublic static void printVertical(double[][] nums)\n{\n    for (int i = nums.length - 1; i &gt;= 0; i--) {\n        for (int j = 0; j &lt; nums[i].length; j++) {\n                System.out.print(nums[j][i] + &quot;      &quot;);\n        }\n        System.out.println();\n\n    }\n    for (int i = 0; i &lt; nums.length; i++) {\n        System.out.print(&quot;Col &quot; + (i + 1) + &quot;    &quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>the error message:</p>\n<pre><code>3.0      6.0      9.0\n2.0      5.0      8.0\n1.0      4.0      7.0 Col 1    Col 2    Col 3\n\nPrint nums2 vertically\n2.89\n2.63      4.11      1.26      Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 1\n        at test.printVertical(test.java:29)\n        at test.main(test.java:22)\n</code></pre>\n"},{"tags":["java","localization","internationalization"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664487382,"creation_date":1664487382,"answer_id":73901876,"question_id":73901386,"body_markdown":"This method doesn&#39;t alloy you to specify locale.\r\n\r\nImagine that you have multi language interface. It allows user to choose language. You can&#39;t use this method because it will use default locale, not locale specified by user.\r\n\r\nYou may use `NumberFormat.getInstance(loc)` to specify locale.","title":"java DecimalFormat vs localization and not internationalization","body":"<p>This method doesn't alloy you to specify locale.</p>\n<p>Imagine that you have multi language interface. It allows user to choose language. You can't use this method because it will use default locale, not locale specified by user.</p>\n<p>You may use <code>NumberFormat.getInstance(loc)</code> to specify locale.</p>\n"}],"owner":{"account_id":1833026,"reputation":1627,"user_id":1663987,"accept_rate":78,"display_name":"simpleuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664487382,"creation_date":1664484036,"question_id":73901386,"body_markdown":"At https://developer.android.com/reference/java/text/DecimalFormat#DecimalFormat() the documentation for the DecimalFormat constructor says: \r\n\r\n*Creates a DecimalFormat using the default pattern and symbols for the default FORMAT locale. This is a convenient way to obtain a DecimalFormat when internationalization is not the main concern.*\r\n\r\nSince localization is part of internationalization, and this constructor uses the current/default locale (i.e. it localizes), what issue is this text trying to call attention to, i.e. what is this sentence saying this method **does NOT** do?","title":"java DecimalFormat vs localization and not internationalization","body":"<p>At <a href=\"https://developer.android.com/reference/java/text/DecimalFormat#DecimalFormat()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/text/DecimalFormat#DecimalFormat()</a> the documentation for the DecimalFormat constructor says:</p>\n<p><em>Creates a DecimalFormat using the default pattern and symbols for the default FORMAT locale. This is a convenient way to obtain a DecimalFormat when internationalization is not the main concern.</em></p>\n<p>Since localization is part of internationalization, and this constructor uses the current/default locale (i.e. it localizes), what issue is this text trying to call attention to, i.e. what is this sentence saying this method <strong>does NOT</strong> do?</p>\n"},{"tags":["java","selenium","junit","webdriver-manager"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1664316732,"post_id":73869995,"comment_id":130442943,"body_markdown":"See here: https://bonigarcia.dev/webdrivermanager/#advanced-configuration  But only the major version (the &quot;105&quot;) part really matters when it comes to the webdriver&#39;s version checking.","body":"See here: <a href=\"https://bonigarcia.dev/webdrivermanager/#advanced-configuration\" rel=\"nofollow noreferrer\">bonigarcia.dev/webdrivermanager/#advanced-configuration</a>  But only the major version (the &quot;105&quot;) part really matters when it comes to the webdriver&#39;s version checking."},{"owner":{"display_name":"user19824680"},"score":0,"creation_date":1664318315,"post_id":73869995,"comment_id":130443190,"body_markdown":"So the minor or patch don&#39;t matter. What if a major comes out and my device is still behind (the servers aren&#39;t managed by me so I don&#39;t have a say in updating).","body":"So the minor or patch don&#39;t matter. What if a major comes out and my device is still behind (the servers aren&#39;t managed by me so I don&#39;t have a say in updating)."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1664318812,"post_id":73869995,"comment_id":130443263,"body_markdown":"that should be OK... the webdrivermanager will check your browser major version and know not to update the webdriver.","body":"that should be OK... the webdrivermanager will check your browser major version and know not to update the webdriver."},{"owner":{"display_name":"user19824680"},"score":0,"creation_date":1664318945,"post_id":73869995,"comment_id":130443283,"body_markdown":"Let&#39;s assume that 106 comes out and I still have 105 installed locally on my PC. Say I don&#39;t have any drivers installed and it&#39;s my first run to setup the driver. Will it install 106 or 105. This is more trying to cover all my cases. If you can share any sources as well, it&#39;d be appriciated.","body":"Let&#39;s assume that 106 comes out and I still have 105 installed locally on my PC. Say I don&#39;t have any drivers installed and it&#39;s my first run to setup the driver. Will it install 106 or 105. This is more trying to cover all my cases. If you can share any sources as well, it&#39;d be appriciated."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1664399210,"post_id":73869995,"comment_id":130465483,"body_markdown":"The purpose of webdrivermanager is to keep your browser and webdriver major versions the same.  It will check the Chrome browser version first, then install/update the webdriver accordingly.  It will not install or update the Chrome browser.","body":"The purpose of webdrivermanager is to keep your browser and webdriver major versions the same.  It will check the Chrome browser version first, then install/update the webdriver accordingly.  It will not install or update the Chrome browser."},{"owner":{"display_name":"user19824680"},"score":0,"creation_date":1664409198,"post_id":73869995,"comment_id":130467469,"body_markdown":"Yes, you are correct. I see that it auto matches it.","body":"Yes, you are correct. I see that it auto matches it."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664434488,"creation_date":1664434488,"answer_id":73891412,"question_id":73869995,"body_markdown":"The version of Driver that you want Webdrivermanager to setupcan be configured like below, i have set to 102.0 which is what my device has installed not the latest 105\r\nYou can extract the Installed Chrome Browser version, pass it in driverVersion below to use the same\r\n\r\n    WebDriverManager.chromedriver().driverVersion(&quot;102.0&quot;).setup();","title":"WebDriverManager Java download matching version on device","body":"<p>The version of Driver that you want Webdrivermanager to setupcan be configured like below, i have set to 102.0 which is what my device has installed not the latest 105\nYou can extract the Installed Chrome Browser version, pass it in driverVersion below to use the same</p>\n<pre><code>WebDriverManager.chromedriver().driverVersion(&quot;102.0&quot;).setup();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19824680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664487081,"creation_date":1664487081,"answer_id":73901835,"question_id":73869995,"body_markdown":"The solution is setup() will match the matching browser version (I found it in the docs after [here](https://bonigarcia.dev/webdrivermanager/#resolution-algorithm) in 3.1.1","title":"WebDriverManager Java download matching version on device","body":"<p>The solution is setup() will match the matching browser version (I found it in the docs after <a href=\"https://bonigarcia.dev/webdrivermanager/#resolution-algorithm\" rel=\"nofollow noreferrer\">here</a> in 3.1.1</p>\n"}],"owner":{"display_name":"user19824680"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664487081,"creation_date":1664291878,"question_id":73869995,"body_markdown":"I am using WebDriverManager to install the drivers. However, the setup method seems to install the latest version and not the matching version on my device.\r\n\r\nAlthough they differ, it seems to still work. Is it needed to specify the version to be more exact (not sure on this)?\r\n\r\nIf I wanted to specify the version, how can this be achieved?\r\n\r\n    WebDriverManager.chromedriver().setup();\r\n\r\nThis installs the latest chrome driver (say 105.1.3 but my device might have 105.1.1 as an example).","title":"WebDriverManager Java download matching version on device","body":"<p>I am using WebDriverManager to install the drivers. However, the setup method seems to install the latest version and not the matching version on my device.</p>\n<p>Although they differ, it seems to still work. Is it needed to specify the version to be more exact (not sure on this)?</p>\n<p>If I wanted to specify the version, how can this be achieved?</p>\n<pre><code>WebDriverManager.chromedriver().setup();\n</code></pre>\n<p>This installs the latest chrome driver (say 105.1.3 but my device might have 105.1.1 as an example).</p>\n"},{"tags":["java","android","android-graphview","real-time-data"],"answers":[{"tags":[],"owner":{"account_id":21694017,"reputation":7,"user_id":16008233,"display_name":"Artemast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664486729,"creation_date":1664486729,"answer_id":73901787,"question_id":73889164,"body_markdown":"After working for about 3 days, and finding the issue solution, I decided to make a profiler for the method.\r\nThe first thing that you have to know is don&#39;t use *resetData()* method of the series!!! Because, there is a  huge memory leak. The method resetData is not only reset data, but also it makes a new one, and redraws the chart inefficiently. \r\nLet&#39;s look at the method setDataGraph(). The weakest part of the method is the for loop. \r\n\r\n \r\n````java\r\n    public static void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude) {\r\n            //somecode\r\n            for (int i = 0; i &lt; magnitude.size(); i++) {\r\n                try {\r\n                    series.appendData(new DataPoint(time.get(i), magnitude.get(i)), true, magnitude.size());\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;EXCEPTION IS : &quot; + e.getMessage());\r\n                }\r\n            } //the weakest part\r\n````\r\nAs I found that resetData eats a lot of the resources, I decided to clean ALL SERIES FOR EVERY FUNCTION CALL.\r\n\r\n````java\r\n    private static LineGraphSeries&lt;DataPoint&gt; series;\r\n    public static void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude){\r\n    series = new LineGraphSeries&lt;DataPoint&gt;();\r\n    //some code\r\n    //end of the method\r\n    series = null\r\n    }\r\n````\r\nAnd for reliability I did the if statement where I call trashcleaner if something fot wrong and it ate a lot of memory.\r\n\r\n````java\r\n    if(TimerEnd&gt;30){\r\n        System.gc();\r\n        System.runFinalization();\r\n    }\r\n    else if (TimerEnd &gt; 5) {\r\n        graph.removeAllSeries();\r\n        series = null;\r\n        series.setAnimated(true);\r\n    }\r\n````\r\nThe method removeAllSeries must be called to clean all the trash series in the graph, otherwise there will be the old dots in the graph.\r\n\r\nSo, the method looks such way now:\r\n\r\n````java\r\n      private static LineGraphSeries&lt;DataPoint&gt; series ;//= new LineGraphSeries&lt;&gt;();\r\n    \r\n        private static long TimerStart;\r\n        private static  long TimerEnd;\r\n        \r\n        public void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude) {\r\n            double magmax = Collections.max(magnitude) + 2; // Math.ceil(GetMax(magnitude))+2;//extra space\r\n            graph.getViewport().setMaxY(magmax);\r\n            graph.removeAllSeries();\r\n            if(TimerEnd&gt;30){\r\n                System.gc();\r\n                System.runFinalization();\r\n            }\r\n            else if (TimerEnd &gt; 5) {\r\n                graph.removeAllSeries();\r\n                series = null;\r\n                series.setAnimated(true);\r\n            }\r\n            series = new LineGraphSeries&lt;&gt;();\r\n            TimerStart = System.currentTimeMillis();\r\n            long EachStep = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; magnitude.size(); i++) {\r\n                try {\r\n                    series.appendData(new DataPoint(time.get(i), magnitude.get(i)), true, magnitude.size());\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n            System.out.println(&quot;for loop dataPoints.add(DataPoint) takes &quot; + (System.currentTimeMillis()-EachStep)  + &quot; ms = &quot; + (System.currentTimeMillis()-EachStep)/1000);\r\n            EachStep = System.currentTimeMillis();\r\n            graph.addSeries(series);\r\n            graph.refreshDrawableState();\r\n            System.out.println(&quot;graph.addSeries() takes &quot; + (System.currentTimeMillis()-EachStep)  + &quot; ms = &quot; + (System.currentTimeMillis()-EachStep)/1000);\r\n            graph.onDataChanged(false, false);\r\n            TimerEnd = System.currentTimeMillis() - TimerStart;\r\n            System.out.println(&quot;Draw time is &quot; + TimerEnd + &quot; ms = &quot; + TimerEnd / 1000 + &quot; s&quot;);\r\n            System.out.println(&quot;magnitude.size = &quot; + magnitude.size() + &quot; time.size = &quot; + time.size());\r\n            System.out.println(&quot;magmax = &quot; + (magmax - 2));\r\n            System.out.println(&quot;ymax = &quot; + series.getHighestValueY() + &quot; ymin = &quot; + series.getLowestValueY());\r\n            series  = null;\r\n    }\r\n````\r\nNow drawing takes for about 3ms, where the for loop takes 2 ms. \r\n\r\nAgain:\r\n\r\n 1. Don&#39;t use resetData() in series, because it resets and updates the graph  inefficiently\r\n 2. Clear the series at the end of the method\r\n 3. Use a condition for calling garbage collection\r\n 4. Call removeAllSeries to clear old data from the line graph\r\n 5. If the drawing took for the last iteration more than 5ms, it seems that leak occured. Reset series, and give new address.\r\n\r\nI hope it will help somebody one day.","title":"GraphView. Code Improvment. Efficient way to draw using graphview. Linear Graph","body":"<p>After working for about 3 days, and finding the issue solution, I decided to make a profiler for the method.\nThe first thing that you have to know is don't use <em>resetData()</em> method of the series!!! Because, there is a  huge memory leak. The method resetData is not only reset data, but also it makes a new one, and redraws the chart inefficiently.\nLet's look at the method setDataGraph(). The weakest part of the method is the for loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude) {\n            //somecode\n            for (int i = 0; i &lt; magnitude.size(); i++) {\n                try {\n                    series.appendData(new DataPoint(time.get(i), magnitude.get(i)), true, magnitude.size());\n                } catch (Exception e) {\n                    System.out.println(&quot;EXCEPTION IS : &quot; + e.getMessage());\n                }\n            } //the weakest part\n</code></pre>\n<p>As I found that resetData eats a lot of the resources, I decided to clean ALL SERIES FOR EVERY FUNCTION CALL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static LineGraphSeries&lt;DataPoint&gt; series;\n    public static void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude){\n    series = new LineGraphSeries&lt;DataPoint&gt;();\n    //some code\n    //end of the method\n    series = null\n    }\n</code></pre>\n<p>And for reliability I did the if statement where I call trashcleaner if something fot wrong and it ate a lot of memory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if(TimerEnd&gt;30){\n        System.gc();\n        System.runFinalization();\n    }\n    else if (TimerEnd &gt; 5) {\n        graph.removeAllSeries();\n        series = null;\n        series.setAnimated(true);\n    }\n</code></pre>\n<p>The method removeAllSeries must be called to clean all the trash series in the graph, otherwise there will be the old dots in the graph.</p>\n<p>So, the method looks such way now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      private static LineGraphSeries&lt;DataPoint&gt; series ;//= new LineGraphSeries&lt;&gt;();\n    \n        private static long TimerStart;\n        private static  long TimerEnd;\n        \n        public void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude) {\n            double magmax = Collections.max(magnitude) + 2; // Math.ceil(GetMax(magnitude))+2;//extra space\n            graph.getViewport().setMaxY(magmax);\n            graph.removeAllSeries();\n            if(TimerEnd&gt;30){\n                System.gc();\n                System.runFinalization();\n            }\n            else if (TimerEnd &gt; 5) {\n                graph.removeAllSeries();\n                series = null;\n                series.setAnimated(true);\n            }\n            series = new LineGraphSeries&lt;&gt;();\n            TimerStart = System.currentTimeMillis();\n            long EachStep = System.currentTimeMillis();\n            for (int i = 0; i &lt; magnitude.size(); i++) {\n                try {\n                    series.appendData(new DataPoint(time.get(i), magnitude.get(i)), true, magnitude.size());\n                } catch (Exception e) {\n                }\n            }\n            System.out.println(&quot;for loop dataPoints.add(DataPoint) takes &quot; + (System.currentTimeMillis()-EachStep)  + &quot; ms = &quot; + (System.currentTimeMillis()-EachStep)/1000);\n            EachStep = System.currentTimeMillis();\n            graph.addSeries(series);\n            graph.refreshDrawableState();\n            System.out.println(&quot;graph.addSeries() takes &quot; + (System.currentTimeMillis()-EachStep)  + &quot; ms = &quot; + (System.currentTimeMillis()-EachStep)/1000);\n            graph.onDataChanged(false, false);\n            TimerEnd = System.currentTimeMillis() - TimerStart;\n            System.out.println(&quot;Draw time is &quot; + TimerEnd + &quot; ms = &quot; + TimerEnd / 1000 + &quot; s&quot;);\n            System.out.println(&quot;magnitude.size = &quot; + magnitude.size() + &quot; time.size = &quot; + time.size());\n            System.out.println(&quot;magmax = &quot; + (magmax - 2));\n            System.out.println(&quot;ymax = &quot; + series.getHighestValueY() + &quot; ymin = &quot; + series.getLowestValueY());\n            series  = null;\n    }\n</code></pre>\n<p>Now drawing takes for about 3ms, where the for loop takes 2 ms.</p>\n<p>Again:</p>\n<ol>\n<li>Don't use resetData() in series, because it resets and updates the graph  inefficiently</li>\n<li>Clear the series at the end of the method</li>\n<li>Use a condition for calling garbage collection</li>\n<li>Call removeAllSeries to clear old data from the line graph</li>\n<li>If the drawing took for the last iteration more than 5ms, it seems that leak occured. Reset series, and give new address.</li>\n</ol>\n<p>I hope it will help somebody one day.</p>\n"}],"owner":{"account_id":21694017,"reputation":7,"user_id":16008233,"display_name":"Artemast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664486729,"creation_date":1664412718,"question_id":73889164,"body_markdown":"I do a step counter. \r\n\r\nI read in a one book a method, how to calculate user&#39;s steps using  an accelerometer. I have Samsung Grand Premium (2014) which has only an accelerometer, so why I am designing the algorithm.\r\n\r\nThe problem is I need to visualize some results in a graphview. I created 3 classes: Accelerometer, Hub and MainScreen. \r\n\r\nIn the Accelerometer.class, I get the new value of the X,Y,Z in a certain period of time. After that I transmit data to Hub. The method IncomingData() receives data from Accelerometer. Then it has to analyze in the future, but now it just receives. This method also counts Samples. If we have 10 seconds window analysis, every point is known every 20ms. Therefore, the max of the samples is 10 000 ms / 20 ms = 500 samples. When the current sample == MaxSamples, I represent data in the graph calling the setDataGraph in the MainScreen activity. \r\n\r\nNormally it works fine. But if I am waiting some of the time, f.e. 5 minutes, and using my own profiler I can see that the DrawTime increases, and the problem I don&#39;t know why, and how I can fix it.\r\nIt works, but it is going to eat a lot of resources, and the graph starts lagging. \r\n\r\nI want to use GraphView because it is the View, and it can be easily implemented in the layout.\r\n\r\nIf you have any idea please Help Me. \r\n\r\nThank you.\r\n\r\n**Accelerometer.class()**\r\n\r\n```java\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\n\r\npublic class Accelerometer   implements SensorEventListener{\r\n\r\n    private String ACCELEROMETER_NAME = &quot;ACCELEROMETER&quot;;\r\n    private double[] XYZ = new double[3];\r\n\r\n    private SensorManager AclManager;\r\n\r\n    private Hub hub;\r\n    private MainScreen mainScreen;\r\n    private int ACCELEROMETER_DELAY =  SensorManager.SENSOR_DELAY_GAME;//SENSOR_DELAY_GAME\r\n\r\n    Accelerometer(Hub hub, SensorManager Manager, Sensor SensorType){\r\n        this.hub = hub;\r\n        this.mainScreen = mainScreen;\r\n        AclManager = Manager;\r\n        AclManager.registerListener(this, SensorType, ACCELEROMETER_DELAY); //SENSOR_DELAY_GAME = 20 ms\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n        if(event.sensor.getType() == Sensor.TYPE_ACCELEROMETER)\r\n        for(int i = 0 ; i &lt; event.values.length; i++){\r\n            XYZ[i] =  event.values[i];\r\n        }\r\n        Hub.IncomingData(ACCELEROMETER_NAME,XYZ,ACCELEROMETER_DELAY);\r\n\r\n//        mainScreen.test_view.setText(XYZ[0]+&quot; &quot;+XYZ[1]+&quot; &quot;+XYZ[2]+&quot; &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n\r\n    }\r\n\r\n\r\n}\r\n````\r\n\r\n\r\n**Hub.class()**\r\n\r\n```java\r\nimport android.content.Context;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorManager;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.common.util.ArrayUtils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Hub\r\n         {\r\n\r\n    private static SensorManager StepsManager;\r\n    private Sensor  AccelerometerSensor;\r\n    private Sensor  StepsCounterSensor;\r\n    private Sensor  StepsDetectorSensor;\r\n\r\n    private double StepsFromReboot = 0;\r\n    private double StepsDetectorCurrentDate = 0;\r\n    private static double StepsAccelerometerCurrentDate = 0;\r\n\r\n\r\n    private Accelerometer acl;\r\n\r\n    private static double[] AccelerometerCoords = new double[3];\r\n    private static double AccelerometerVectorLength = 0;\r\n    private static double AccelerometerVectorLengthPrevious = AccelerometerVectorLength;\r\n    private static double VectorsDiff = AccelerometerVectorLength - AccelerometerVectorLengthPrevious;\r\n    private static final int STEP_THRESHOLD = 6;\r\n\r\n    private static boolean DateStarted = true;\r\n\r\n             private ArrayList&lt;Boolean&gt; AreSensorsPresented = new ArrayList&lt;Boolean&gt;(3){\r\n        {\r\n            add(false);\r\n            add(false);\r\n            add(false);\r\n        }\r\n    };\r\n\r\n    private ArrayList&lt;Sensor&gt; SensorsList = new ArrayList&lt;Sensor&gt;(3);\r\n\r\n    private ArrayList&lt;String&gt; SensorsNames = new ArrayList&lt;String&gt;(3){\r\n        {\r\n            add(&quot;Accelerometer sensor&quot;);\r\n            add(&quot;Steps counter sensor&quot;);\r\n            add(&quot;Steps detector sensor&quot;);\r\n        }\r\n    };\r\n\r\n\r\n    public void CheckSensorsAvailability(){\r\n        for(int i = 0; i &lt; SensorsList.size(); i++){\r\n            if(SensorsList.get(i) == null){\r\n                AreSensorsPresented.set(i,false);\r\n            }\r\n            else{\r\n                AreSensorsPresented.set(i,true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public  void TypeSensorsInfo(){\r\n        System.out.println(&quot;\\nThe sensors are available:\\n&quot;);\r\n        for(int i = 0; i &lt; AreSensorsPresented.size(); i++){\r\n            System.out.println(SensorsNames.get(i)+&quot;: is &quot;+(AreSensorsPresented.get(i) ? &quot;presented&quot;:&quot;unavailable&quot;));\r\n        }\r\n    }\r\n\r\n    private static final int WindowAnalyzeSec = 10  * 1000;\r\n    public  static int MaxSamples = 500;\r\n    public static int Samples = 0;\r\n    public static ArrayList&lt;Double&gt; ValueHistory = new  ArrayList&lt;Double&gt;(MaxSamples);\r\n    public static ArrayList&lt;Double&gt; Time = new ArrayList&lt;&gt;(MaxSamples);\r\n\r\n    public static long TimeStart;\r\n    public static long TimeEnd;\r\n\r\n\r\n             public static void IncomingData(String From, double[] values, int DelayType){\r\n        switch (From){\r\n            case &quot;ACCELEROMETER&quot;:\r\n            {\r\n                if (Samples == 0) TimeStart = System.currentTimeMillis();\r\n                //there comes x,y,z coordinates\r\n                AccelerometerCoords[0] = values[0];\r\n                AccelerometerCoords[1] = values[1];\r\n                AccelerometerCoords[2] = values[2];\r\n                AccelerometerVectorLength = Math.sqrt(Math.pow(AccelerometerCoords[0],2) + Math.pow(AccelerometerCoords[1],2) + Math.pow(AccelerometerCoords[2],2));\r\n                VectorsDiff = AccelerometerVectorLength - AccelerometerVectorLengthPrevious;\r\n\r\n                if(VectorsDiff&gt;STEP_THRESHOLD){\r\n                    StepsAccelerometerCurrentDate+=1;\r\n                    if(DateStarted){StepsAccelerometerCurrentDate = 0; DateStarted = false;}\r\n                    MainScreen.test_view.setText(\r\n                            &quot;Steps from Accelerometer are: &quot; + StepsAccelerometerCurrentDate +\r\n                            &quot;\\n\\n&quot;+AccelerometerVectorLength+&quot;\\nprev: &quot; +AccelerometerVectorLengthPrevious  +&quot;\\ndiff: &quot;+VectorsDiff+&#39;^&#39;\r\n                    );\r\n                }\r\n                else{\r\n                    String Info = MainScreen.test_view.getText().toString();\r\n                    Info = Info.substring(0,Info.indexOf(&#39;^&#39;)+1);\r\n                    Info += &quot;\\n\\nCurrent difference:\\nVectors difference: &quot; + VectorsDiff + &quot;\\nX: &quot; + AccelerometerCoords[0] + &quot;\\nY: &quot; +  AccelerometerCoords[1] + &quot;\\nZ: &quot; +  AccelerometerCoords[2] +&quot;\\nSamples are &quot;+Samples;\r\n                    MainScreen.test_view.setText(Info);\r\n                }\r\n                MaxSamplesCount(DelayType);\r\n                if (Samples &gt;= MaxSamples){\r\n                    ThisMainScreen.setDataGraph(Time,ValueHistory);\r\n                    ValueHistory.clear();\r\n                    Samples = 0;\r\n                    TimeEnd  = System.currentTimeMillis() - TimeStart;\r\n                    System.out.println(&quot;TimeEnd: &quot;+TimeEnd/1000+&quot; s&quot;);\r\n                    System.out.println(&quot;MaxSamples: &quot;+MaxSamples+&quot;\\n\\n&quot;);\r\n                }\r\n                else{\r\n                       ++Samples;\r\n                       ValueHistory.add(AccelerometerVectorLength);\r\n                }\r\n            }\r\n            AccelerometerVectorLengthPrevious = AccelerometerVectorLength;\r\n            break;\r\n        }\r\n    }\r\n\r\n    private static MainScreen ThisMainScreen;\r\n\r\n\r\n    public Hub(MainScreen ThisMainScreen){\r\n        this.ThisMainScreen = ThisMainScreen;\r\n        StepsManager = (SensorManager) ThisMainScreen.getSystemService(Context.SENSOR_SERVICE);\r\n        AccelerometerSensor = StepsManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n        StepsCounterSensor = StepsManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n        StepsDetectorSensor = StepsManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\r\n        SensorsList.add(AccelerometerSensor);\r\n        SensorsList.add(StepsCounterSensor);\r\n        SensorsList.add(StepsDetectorSensor);\r\n        CheckSensorsAvailability();\r\n        acl = new Accelerometer(Hub.this,StepsManager,AccelerometerSensor);\r\n        SetTimeValues();\r\n\r\n    }\r\n\r\n    public static float getDelayInMs(int DelayType){\r\n        /*\r\n        SENSOR_DELAY_FASTEST: delay = 0; (200Hz)\r\n        SENSOR_DELAY_GAME: delay = 20000;(20ms)\r\n        SENSOR_DELAY_UI: delay = 66667; (66,667 ms)\r\n        SENSOR_DELAY_NORMAL: delay = 200000; (200ms)\r\n        */\r\n        float delay = -1f;\r\n        switch (DelayType){\r\n            case SensorManager.SENSOR_DELAY_FASTEST: {\r\n                delay = 1/200f*1000f; //5\r\n                break;\r\n            }\r\n            case SensorManager.SENSOR_DELAY_GAME:{\r\n                delay = 20f;\r\n                break;\r\n            }\r\n            case SensorManager.SENSOR_DELAY_UI:{\r\n                delay = 66.667f;\r\n                break;\r\n            }\r\n            case SensorManager.SENSOR_DELAY_NORMAL: {\r\n                delay = 200f;\r\n                break;\r\n            }\r\n        }\r\n        return delay;\r\n    }\r\n\r\n\r\n private static void MaxSamplesCount(int DelayType){\r\n     //updates every SENSOR_DELAY_GAME = 20 ms\r\n     //freq = 1/20ms = 50Hz\r\n     //window is = 10s = 10 000 ms\r\n     //N = 10 000/20 = 500\r\n     float UpdateEveryMs = getDelayInMs(DelayType);\r\n     MaxSamples =  (int) Math.ceil((float)WindowAnalyzeSec/UpdateEveryMs);\r\n//     SetTimeValues();\r\n }\r\n\r\n\r\nprivate static void SetTimeValues(){\r\n        Time.clear();\r\n        double step = ((double) WindowAnalyzeSec/1000 - 0)/(double) MaxSamples;\r\n        for (int i = 0; i &lt; MaxSamples; i++){\r\n            Time.add(i*step);\r\n        }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    public ArrayList&lt;Sensor&gt; getSensorsList(){\r\n        return SensorsList;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getSensorsNames(){\r\n        return SensorsNames;\r\n    }\r\n\r\n    public ArrayList&lt;Boolean&gt; getSensorAvaialble(){\r\n        return AreSensorsPresented;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n````\r\n\r\n**MainScreen.class()**\r\n \r\n```java\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.os.Bundle;\r\nimport android.text.Html;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.jjoe64.graphview.GraphView;\r\nimport com.jjoe64.graphview.series.DataPoint;\r\nimport com.jjoe64.graphview.series.LineGraphSeries;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class MainScreen extends AppCompatActivity implements SensorEventListener {\r\n\r\n    public static GraphView graph;\r\n    private Hub hub;\r\n    private Button check;\r\n    public static TextView test_view;\r\n\r\n    private ArrayList&lt;String&gt; sNames;\r\n    private ArrayList&lt;Sensor&gt; sList;\r\n    private ArrayList&lt;Boolean&gt; sAvailable;\r\n\r\n\r\n    public static double GetMax(double[] arr) {\r\n        double max = arr[0];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] &gt; max) {\r\n                max = arr[i];\r\n            }\r\n        }\r\n        return max;\r\n    }\r\n\r\n    public double GetMin(double[] arr) {\r\n        double min = arr[0];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] &lt; min) {\r\n                min = arr[i];\r\n            }\r\n        }\r\n        return min;\r\n    }\r\n\r\n//    static LineGraphSeries&lt;DataPoint&gt;series  = new LineGraphSeries&lt;DataPoint&gt;();\r\n//    static LineGraphSeries&lt;DataPoint&gt;series2  = new LineGraphSeries&lt;DataPoint&gt;();\r\n\r\n\r\n    public static LineGraphSeries&lt;DataPoint&gt; series = new LineGraphSeries&lt;&gt;();\r\n\r\n    public static void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude) {\r\n        long TimerStart = System.currentTimeMillis();\r\n//        graph.removeAllSeries();\r\n\r\n        series.resetData(new DataPoint[]{});\r\n        for (int i = 0; i &lt; magnitude.size(); i++) {\r\n            try {\r\n                series.appendData(new DataPoint(time.get(i), magnitude.get(i)), true, magnitude.size());\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;EXCEPTION IS : &quot; + e.getMessage());\r\n            }\r\n        }\r\n        graph.addSeries(series);\r\n\r\n\r\n        double magmax = Collections.max(magnitude) + 2; // Math.ceil(GetMax(magnitude))+2;//extra space\r\n        graph.getViewport().setMaxY(magmax);\r\n        long TimerEnd = System.currentTimeMillis() - TimerStart;\r\n        System.out.println(&quot;\\nDraw time is &quot; + TimerEnd + &quot; ms = &quot; + TimerEnd / 1000 + &quot; s&quot;);\r\n        System.out.println(&quot;magnitude.size = &quot; + magnitude.size() + &quot; time.size = &quot; + time.size());\r\n        System.out.println(&quot;magmax = &quot; + (magmax - 2));\r\n        System.out.println(&quot;ymax = &quot; + series.getHighestValueY() + &quot; ymin = &quot; + series.getLowestValueY());\r\n\r\n        if (TimerEnd &gt; 200) {\r\n            System.gc();\r\n            System.runFinalization();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.coordinator);\r\n        hub = new Hub(this);\r\n\r\n        graph = (GraphView) findViewById(R.id.graph);\r\n        test_view = (TextView) findViewById(R.id.test_view);\r\n        check = (Button) findViewById(R.id.btn_test);\r\n        check.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                sNames = hub.getSensorsNames();\r\n                sList = hub.getSensorsList();\r\n                sAvailable = hub.getSensorAvaialble();\r\n                String Info = &quot;&quot;;\r\n\r\n                for (int i = 0; i &lt; sNames.size(); i++) {\r\n                    Info += &quot;Name of sensor: &quot; + sNames.get(i) + &quot; status: &quot; + (sAvailable.get(i) ? &quot;&lt;font color = #7C07&gt;true&lt;/font&gt;&quot; : &quot;&lt;font color = #D10C0C&gt;false&lt;/font&gt;&quot;) + &quot;&lt;br&gt;&quot;;\r\n                }\r\n\r\n                Info += &quot;&lt;br&gt;&lt;br&gt;More details:&lt;br&gt;&quot;;\r\n\r\n                for (int i = 0; i &lt; sList.size(); i++) {\r\n                    Info += (i + 1) + &quot;)&quot; + sList.get(i) + &quot;;&lt;br&gt;&quot;;\r\n                }\r\n\r\n                test_view.setText(Html.fromHtml(Info));\r\n\r\n            }\r\n        });\r\n\r\n        //form series\r\n\r\n\r\n        int tmin = 0;//time[0]\r\n        int tmax = 10;\r\n        graph.getViewport().setMinX(tmin);\r\n        graph.getViewport().setMaxX(tmax);\r\n\r\n\r\n        int magmin = 0;\r\n        graph.getViewport().setMinY(magmin);\r\n\r\n\r\n        graph.getViewport().setYAxisBoundsManual(true);\r\n        graph.getViewport().setXAxisBoundsManual(false);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n//        test_view.setText(event.values[0]+&quot; &quot; + event.values[1]+&quot; &quot;+event.values[2]);\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n\r\n    }\r\n}\r\n````\r\n\r\nProfiler says:\r\n\r\nInitial:\r\n\r\n````java\r\nI/System.out: Draw time is 2 ms = 0 s\r\nI/System.out: magnitude.size = 500 time.size = 500\r\nI/System.out: magmax = 9.596914380508396\r\nI/System.out: ymax = 9.596914380508396 ymin = 9.563461644595941\r\nI/System.out: TimeEnd: 10 s\r\nI/System.out: MaxSamples: 500\r\n````\r\n\r\nAfter 6 minutes of work:\r\n````java\r\nI/System.out: Draw time is 207 ms = 0 s\r\nI/System.out: magnitude.size = 500 time.size = 500\r\nI/System.out: magmax = 9.596914380508396\r\nI/System.out: ymax = 9.596914380508396 ymin = 9.563461644595941\r\nI/art: Explicit concurrent mark sweep GC freed 27109(1809KB) AllocSpace objects, 0(0B) LOS objects, 24% free, 7MB/9MB, paused 579us total 43.945ms\r\nI/System.out: TimeEnd: 10 s\r\nI/System.out: MaxSamples: 500\r\n````","title":"GraphView. Code Improvment. Efficient way to draw using graphview. Linear Graph","body":"<p>I do a step counter.</p>\n<p>I read in a one book a method, how to calculate user's steps using  an accelerometer. I have Samsung Grand Premium (2014) which has only an accelerometer, so why I am designing the algorithm.</p>\n<p>The problem is I need to visualize some results in a graphview. I created 3 classes: Accelerometer, Hub and MainScreen.</p>\n<p>In the Accelerometer.class, I get the new value of the X,Y,Z in a certain period of time. After that I transmit data to Hub. The method IncomingData() receives data from Accelerometer. Then it has to analyze in the future, but now it just receives. This method also counts Samples. If we have 10 seconds window analysis, every point is known every 20ms. Therefore, the max of the samples is 10 000 ms / 20 ms = 500 samples. When the current sample == MaxSamples, I represent data in the graph calling the setDataGraph in the MainScreen activity.</p>\n<p>Normally it works fine. But if I am waiting some of the time, f.e. 5 minutes, and using my own profiler I can see that the DrawTime increases, and the problem I don't know why, and how I can fix it.\nIt works, but it is going to eat a lot of resources, and the graph starts lagging.</p>\n<p>I want to use GraphView because it is the View, and it can be easily implemented in the layout.</p>\n<p>If you have any idea please Help Me.</p>\n<p>Thank you.</p>\n<p><strong>Accelerometer.class()</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\n\npublic class Accelerometer   implements SensorEventListener{\n\n    private String ACCELEROMETER_NAME = &quot;ACCELEROMETER&quot;;\n    private double[] XYZ = new double[3];\n\n    private SensorManager AclManager;\n\n    private Hub hub;\n    private MainScreen mainScreen;\n    private int ACCELEROMETER_DELAY =  SensorManager.SENSOR_DELAY_GAME;//SENSOR_DELAY_GAME\n\n    Accelerometer(Hub hub, SensorManager Manager, Sensor SensorType){\n        this.hub = hub;\n        this.mainScreen = mainScreen;\n        AclManager = Manager;\n        AclManager.registerListener(this, SensorType, ACCELEROMETER_DELAY); //SENSOR_DELAY_GAME = 20 ms\n    }\n\n\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n        if(event.sensor.getType() == Sensor.TYPE_ACCELEROMETER)\n        for(int i = 0 ; i &lt; event.values.length; i++){\n            XYZ[i] =  event.values[i];\n        }\n        Hub.IncomingData(ACCELEROMETER_NAME,XYZ,ACCELEROMETER_DELAY);\n\n//        mainScreen.test_view.setText(XYZ[0]+&quot; &quot;+XYZ[1]+&quot; &quot;+XYZ[2]+&quot; &quot;);\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n\n\n}\n</code></pre>\n<p><strong>Hub.class()</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.Context;\nimport android.hardware.Sensor;\nimport android.hardware.SensorManager;\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.common.util.ArrayUtils;\n\nimport java.util.ArrayList;\nimport java.util.stream.Stream;\n\npublic class Hub\n         {\n\n    private static SensorManager StepsManager;\n    private Sensor  AccelerometerSensor;\n    private Sensor  StepsCounterSensor;\n    private Sensor  StepsDetectorSensor;\n\n    private double StepsFromReboot = 0;\n    private double StepsDetectorCurrentDate = 0;\n    private static double StepsAccelerometerCurrentDate = 0;\n\n\n    private Accelerometer acl;\n\n    private static double[] AccelerometerCoords = new double[3];\n    private static double AccelerometerVectorLength = 0;\n    private static double AccelerometerVectorLengthPrevious = AccelerometerVectorLength;\n    private static double VectorsDiff = AccelerometerVectorLength - AccelerometerVectorLengthPrevious;\n    private static final int STEP_THRESHOLD = 6;\n\n    private static boolean DateStarted = true;\n\n             private ArrayList&lt;Boolean&gt; AreSensorsPresented = new ArrayList&lt;Boolean&gt;(3){\n        {\n            add(false);\n            add(false);\n            add(false);\n        }\n    };\n\n    private ArrayList&lt;Sensor&gt; SensorsList = new ArrayList&lt;Sensor&gt;(3);\n\n    private ArrayList&lt;String&gt; SensorsNames = new ArrayList&lt;String&gt;(3){\n        {\n            add(&quot;Accelerometer sensor&quot;);\n            add(&quot;Steps counter sensor&quot;);\n            add(&quot;Steps detector sensor&quot;);\n        }\n    };\n\n\n    public void CheckSensorsAvailability(){\n        for(int i = 0; i &lt; SensorsList.size(); i++){\n            if(SensorsList.get(i) == null){\n                AreSensorsPresented.set(i,false);\n            }\n            else{\n                AreSensorsPresented.set(i,true);\n            }\n        }\n    }\n\n    public  void TypeSensorsInfo(){\n        System.out.println(&quot;\\nThe sensors are available:\\n&quot;);\n        for(int i = 0; i &lt; AreSensorsPresented.size(); i++){\n            System.out.println(SensorsNames.get(i)+&quot;: is &quot;+(AreSensorsPresented.get(i) ? &quot;presented&quot;:&quot;unavailable&quot;));\n        }\n    }\n\n    private static final int WindowAnalyzeSec = 10  * 1000;\n    public  static int MaxSamples = 500;\n    public static int Samples = 0;\n    public static ArrayList&lt;Double&gt; ValueHistory = new  ArrayList&lt;Double&gt;(MaxSamples);\n    public static ArrayList&lt;Double&gt; Time = new ArrayList&lt;&gt;(MaxSamples);\n\n    public static long TimeStart;\n    public static long TimeEnd;\n\n\n             public static void IncomingData(String From, double[] values, int DelayType){\n        switch (From){\n            case &quot;ACCELEROMETER&quot;:\n            {\n                if (Samples == 0) TimeStart = System.currentTimeMillis();\n                //there comes x,y,z coordinates\n                AccelerometerCoords[0] = values[0];\n                AccelerometerCoords[1] = values[1];\n                AccelerometerCoords[2] = values[2];\n                AccelerometerVectorLength = Math.sqrt(Math.pow(AccelerometerCoords[0],2) + Math.pow(AccelerometerCoords[1],2) + Math.pow(AccelerometerCoords[2],2));\n                VectorsDiff = AccelerometerVectorLength - AccelerometerVectorLengthPrevious;\n\n                if(VectorsDiff&gt;STEP_THRESHOLD){\n                    StepsAccelerometerCurrentDate+=1;\n                    if(DateStarted){StepsAccelerometerCurrentDate = 0; DateStarted = false;}\n                    MainScreen.test_view.setText(\n                            &quot;Steps from Accelerometer are: &quot; + StepsAccelerometerCurrentDate +\n                            &quot;\\n\\n&quot;+AccelerometerVectorLength+&quot;\\nprev: &quot; +AccelerometerVectorLengthPrevious  +&quot;\\ndiff: &quot;+VectorsDiff+'^'\n                    );\n                }\n                else{\n                    String Info = MainScreen.test_view.getText().toString();\n                    Info = Info.substring(0,Info.indexOf('^')+1);\n                    Info += &quot;\\n\\nCurrent difference:\\nVectors difference: &quot; + VectorsDiff + &quot;\\nX: &quot; + AccelerometerCoords[0] + &quot;\\nY: &quot; +  AccelerometerCoords[1] + &quot;\\nZ: &quot; +  AccelerometerCoords[2] +&quot;\\nSamples are &quot;+Samples;\n                    MainScreen.test_view.setText(Info);\n                }\n                MaxSamplesCount(DelayType);\n                if (Samples &gt;= MaxSamples){\n                    ThisMainScreen.setDataGraph(Time,ValueHistory);\n                    ValueHistory.clear();\n                    Samples = 0;\n                    TimeEnd  = System.currentTimeMillis() - TimeStart;\n                    System.out.println(&quot;TimeEnd: &quot;+TimeEnd/1000+&quot; s&quot;);\n                    System.out.println(&quot;MaxSamples: &quot;+MaxSamples+&quot;\\n\\n&quot;);\n                }\n                else{\n                       ++Samples;\n                       ValueHistory.add(AccelerometerVectorLength);\n                }\n            }\n            AccelerometerVectorLengthPrevious = AccelerometerVectorLength;\n            break;\n        }\n    }\n\n    private static MainScreen ThisMainScreen;\n\n\n    public Hub(MainScreen ThisMainScreen){\n        this.ThisMainScreen = ThisMainScreen;\n        StepsManager = (SensorManager) ThisMainScreen.getSystemService(Context.SENSOR_SERVICE);\n        AccelerometerSensor = StepsManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n        StepsCounterSensor = StepsManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n        StepsDetectorSensor = StepsManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\n        SensorsList.add(AccelerometerSensor);\n        SensorsList.add(StepsCounterSensor);\n        SensorsList.add(StepsDetectorSensor);\n        CheckSensorsAvailability();\n        acl = new Accelerometer(Hub.this,StepsManager,AccelerometerSensor);\n        SetTimeValues();\n\n    }\n\n    public static float getDelayInMs(int DelayType){\n        /*\n        SENSOR_DELAY_FASTEST: delay = 0; (200Hz)\n        SENSOR_DELAY_GAME: delay = 20000;(20ms)\n        SENSOR_DELAY_UI: delay = 66667; (66,667 ms)\n        SENSOR_DELAY_NORMAL: delay = 200000; (200ms)\n        */\n        float delay = -1f;\n        switch (DelayType){\n            case SensorManager.SENSOR_DELAY_FASTEST: {\n                delay = 1/200f*1000f; //5\n                break;\n            }\n            case SensorManager.SENSOR_DELAY_GAME:{\n                delay = 20f;\n                break;\n            }\n            case SensorManager.SENSOR_DELAY_UI:{\n                delay = 66.667f;\n                break;\n            }\n            case SensorManager.SENSOR_DELAY_NORMAL: {\n                delay = 200f;\n                break;\n            }\n        }\n        return delay;\n    }\n\n\n private static void MaxSamplesCount(int DelayType){\n     //updates every SENSOR_DELAY_GAME = 20 ms\n     //freq = 1/20ms = 50Hz\n     //window is = 10s = 10 000 ms\n     //N = 10 000/20 = 500\n     float UpdateEveryMs = getDelayInMs(DelayType);\n     MaxSamples =  (int) Math.ceil((float)WindowAnalyzeSec/UpdateEveryMs);\n//     SetTimeValues();\n }\n\n\nprivate static void SetTimeValues(){\n        Time.clear();\n        double step = ((double) WindowAnalyzeSec/1000 - 0)/(double) MaxSamples;\n        for (int i = 0; i &lt; MaxSamples; i++){\n            Time.add(i*step);\n        }\n}\n\n\n\n\n\n    public ArrayList&lt;Sensor&gt; getSensorsList(){\n        return SensorsList;\n    }\n\n    public ArrayList&lt;String&gt; getSensorsNames(){\n        return SensorsNames;\n    }\n\n    public ArrayList&lt;Boolean&gt; getSensorAvaialble(){\n        return AreSensorsPresented;\n    }\n\n\n\n}\n\n\n</code></pre>\n<p><strong>MainScreen.class()</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.jjoe64.graphview.GraphView;\nimport com.jjoe64.graphview.series.DataPoint;\nimport com.jjoe64.graphview.series.LineGraphSeries;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class MainScreen extends AppCompatActivity implements SensorEventListener {\n\n    public static GraphView graph;\n    private Hub hub;\n    private Button check;\n    public static TextView test_view;\n\n    private ArrayList&lt;String&gt; sNames;\n    private ArrayList&lt;Sensor&gt; sList;\n    private ArrayList&lt;Boolean&gt; sAvailable;\n\n\n    public static double GetMax(double[] arr) {\n        double max = arr[0];\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] &gt; max) {\n                max = arr[i];\n            }\n        }\n        return max;\n    }\n\n    public double GetMin(double[] arr) {\n        double min = arr[0];\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] &lt; min) {\n                min = arr[i];\n            }\n        }\n        return min;\n    }\n\n//    static LineGraphSeries&lt;DataPoint&gt;series  = new LineGraphSeries&lt;DataPoint&gt;();\n//    static LineGraphSeries&lt;DataPoint&gt;series2  = new LineGraphSeries&lt;DataPoint&gt;();\n\n\n    public static LineGraphSeries&lt;DataPoint&gt; series = new LineGraphSeries&lt;&gt;();\n\n    public static void setDataGraph(ArrayList&lt;Double&gt; time, ArrayList&lt;Double&gt; magnitude) {\n        long TimerStart = System.currentTimeMillis();\n//        graph.removeAllSeries();\n\n        series.resetData(new DataPoint[]{});\n        for (int i = 0; i &lt; magnitude.size(); i++) {\n            try {\n                series.appendData(new DataPoint(time.get(i), magnitude.get(i)), true, magnitude.size());\n            } catch (Exception e) {\n                System.out.println(&quot;EXCEPTION IS : &quot; + e.getMessage());\n            }\n        }\n        graph.addSeries(series);\n\n\n        double magmax = Collections.max(magnitude) + 2; // Math.ceil(GetMax(magnitude))+2;//extra space\n        graph.getViewport().setMaxY(magmax);\n        long TimerEnd = System.currentTimeMillis() - TimerStart;\n        System.out.println(&quot;\\nDraw time is &quot; + TimerEnd + &quot; ms = &quot; + TimerEnd / 1000 + &quot; s&quot;);\n        System.out.println(&quot;magnitude.size = &quot; + magnitude.size() + &quot; time.size = &quot; + time.size());\n        System.out.println(&quot;magmax = &quot; + (magmax - 2));\n        System.out.println(&quot;ymax = &quot; + series.getHighestValueY() + &quot; ymin = &quot; + series.getLowestValueY());\n\n        if (TimerEnd &gt; 200) {\n            System.gc();\n            System.runFinalization();\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.coordinator);\n        hub = new Hub(this);\n\n        graph = (GraphView) findViewById(R.id.graph);\n        test_view = (TextView) findViewById(R.id.test_view);\n        check = (Button) findViewById(R.id.btn_test);\n        check.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                sNames = hub.getSensorsNames();\n                sList = hub.getSensorsList();\n                sAvailable = hub.getSensorAvaialble();\n                String Info = &quot;&quot;;\n\n                for (int i = 0; i &lt; sNames.size(); i++) {\n                    Info += &quot;Name of sensor: &quot; + sNames.get(i) + &quot; status: &quot; + (sAvailable.get(i) ? &quot;&lt;font color = #7C07&gt;true&lt;/font&gt;&quot; : &quot;&lt;font color = #D10C0C&gt;false&lt;/font&gt;&quot;) + &quot;&lt;br&gt;&quot;;\n                }\n\n                Info += &quot;&lt;br&gt;&lt;br&gt;More details:&lt;br&gt;&quot;;\n\n                for (int i = 0; i &lt; sList.size(); i++) {\n                    Info += (i + 1) + &quot;)&quot; + sList.get(i) + &quot;;&lt;br&gt;&quot;;\n                }\n\n                test_view.setText(Html.fromHtml(Info));\n\n            }\n        });\n\n        //form series\n\n\n        int tmin = 0;//time[0]\n        int tmax = 10;\n        graph.getViewport().setMinX(tmin);\n        graph.getViewport().setMaxX(tmax);\n\n\n        int magmin = 0;\n        graph.getViewport().setMinY(magmin);\n\n\n        graph.getViewport().setYAxisBoundsManual(true);\n        graph.getViewport().setXAxisBoundsManual(false);\n\n\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n//        test_view.setText(event.values[0]+&quot; &quot; + event.values[1]+&quot; &quot;+event.values[2]);\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n}\n</code></pre>\n<p>Profiler says:</p>\n<p>Initial:</p>\n<pre class=\"lang-java prettyprint-override\"><code>I/System.out: Draw time is 2 ms = 0 s\nI/System.out: magnitude.size = 500 time.size = 500\nI/System.out: magmax = 9.596914380508396\nI/System.out: ymax = 9.596914380508396 ymin = 9.563461644595941\nI/System.out: TimeEnd: 10 s\nI/System.out: MaxSamples: 500\n</code></pre>\n<p>After 6 minutes of work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>I/System.out: Draw time is 207 ms = 0 s\nI/System.out: magnitude.size = 500 time.size = 500\nI/System.out: magmax = 9.596914380508396\nI/System.out: ymax = 9.596914380508396 ymin = 9.563461644595941\nI/art: Explicit concurrent mark sweep GC freed 27109(1809KB) AllocSpace objects, 0(0B) LOS objects, 24% free, 7MB/9MB, paused 579us total 43.945ms\nI/System.out: TimeEnd: 10 s\nI/System.out: MaxSamples: 500\n</code></pre>\n"},{"tags":["javascript","java","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":25629836,"reputation":21,"user_id":19400377,"display_name":"JM."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664486661,"creation_date":1664486661,"answer_id":73901776,"question_id":73893257,"body_markdown":"I highly recommend you to validate users and passwords formats also in servlets(or server side). \r\n\r\nThis because people could just erase or stop all javascript validation and directly send their data.\r\n\r\nValidating in client side is not wrong but is not secure at all. \r\n\r\nNow, answering your request, if the credentials are in a correct format you are just submitting the form tag like this.\r\n\r\n    &lt;form method=&quot;post&quot; action=&quot;Register&quot; class=&quot;register-form&quot; id=&quot;register-form&quot;&gt;\r\n\r\nThe &quot;action&quot; attribute work is redirecting the form content to the url you write in it.\r\n\r\nSo `action=&quot;Register&quot;` is not correct(If you were reaching a servlet, it have to be a valid path, like: &#39;/Register&#39;).\r\n\r\nIn it&#39;s place, you have to write a relative path that is current being listened by a servlet or a jsp, like this:\r\n\r\n`action=&quot;register.jsp&quot;` or `action=&quot;/register&quot;`\r\n\r\nThis way, when you submit your form, it is gonna redirect you and your form content to the path you wrote.\r\n\r\n\r\nAnother way is send data trough ajax(You can research it), the form data is sent without reloading and your javascript recives a response from the server.\r\n\r\nLet me know if i helped. ","title":"form not being submitted even after full validation","body":"<p>I highly recommend you to validate users and passwords formats also in servlets(or server side).</p>\n<p>This because people could just erase or stop all javascript validation and directly send their data.</p>\n<p>Validating in client side is not wrong but is not secure at all.</p>\n<p>Now, answering your request, if the credentials are in a correct format you are just submitting the form tag like this.</p>\n<pre><code>&lt;form method=&quot;post&quot; action=&quot;Register&quot; class=&quot;register-form&quot; id=&quot;register-form&quot;&gt;\n</code></pre>\n<p>The &quot;action&quot; attribute work is redirecting the form content to the url you write in it.</p>\n<p>So <code>action=&quot;Register&quot;</code> is not correct(If you were reaching a servlet, it have to be a valid path, like: '/Register').</p>\n<p>In it's place, you have to write a relative path that is current being listened by a servlet or a jsp, like this:</p>\n<p><code>action=&quot;register.jsp&quot;</code> or <code>action=&quot;/register&quot;</code></p>\n<p>This way, when you submit your form, it is gonna redirect you and your form content to the path you wrote.</p>\n<p>Another way is send data trough ajax(You can research it), the form data is sent without reloading and your javascript recives a response from the server.</p>\n<p>Let me know if i helped.</p>\n"}],"owner":{"account_id":26443954,"reputation":1,"user_id":20088030,"display_name":"kavita khatavkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664486661,"creation_date":1664443747,"question_id":73893257,"body_markdown":"Ideal Case: \r\n- if form valid send data to the servlet.\r\n- if not show the respective errors\r\n\r\nWhat actually is happening: when i submit a form with wrong credentials the form gets stuck and the data does not go to the servlet which is what we want but when I enter the right credentials even then the form is not being submitted to the servlet. Here is my JavaScript code:\r\n\r\n    const form = document.getElementById(&#39;register-form&#39;);\r\n    const fname = document.getElementById(&#39;fname&#39;);\r\n    const lname = document.getElementById(&#39;lname&#39;);\r\n    const email = document.getElementById(&#39;email&#39;);\r\n    const password = document.getElementById(&#39;password&#39;);\r\n    \r\n    const sendData = (fnameVal, sRate, count) =&gt; {\r\n        if (sRate === count) {\r\n            swal(&quot;Congratulations &quot; + fnameVal + &quot; !&quot;, &quot;Account Created Successfully&quot;, &quot;success&quot;);\r\n        \tform.submit();\r\n        }\r\n    }\r\n    \r\n    const successMsg = (fnameVal) =&gt; {\r\n        let formG = document.getElementsByClassName(&#39;form-group&#39;);\r\n        var count = formG.length - 1;\r\n        for (var i = 0; i &lt; formG.length; i++) {\r\n            if (formG[i].className === &quot;form-group success&quot;) {\r\n                var sRate = 0 + i;\r\n                sendData(fnameVal, sRate, count);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    \r\n    const isEmail = (emailVal) =&gt; {\r\n    \tvar re = /^\\S+@\\S+\\.\\S+$/;\r\n    \tif (!re.test(emailVal)) return false;\r\n        var atSymbol = emailVal.indexOf(&quot;@&quot;);\r\n        if (atSymbol &lt; 1) return false;\r\n        var dot = emailVal.indexOf(&#39;.&#39;);\r\n        if (dot === emailVal.length - 1) return false;\r\n        return true;\r\n    }\r\n    \r\n    const isPassword = (passwordVal) =&gt; {\r\n        var re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&amp;])[A-Za-z\\d@$!%*?&amp;]{8,}$/;\r\n        if (!re.test(passwordVal)) {\r\n            return false;\r\n        } \r\n        return true;\r\n    }\r\n    \r\n    const validate = () =&gt; {\r\n        const fnameVal = fname.value.trim();\r\n        const lnameVal = lname.value.trim();\r\n        const emailVal = email.value.trim();\r\n        const passwordVal = password.value.trim();\r\n            \r\n        // validate first-name\r\n        if (fnameVal.length &lt;= 2) {\r\n            setErrorMsg(fname, &#39;first-name requires min 3 char&#39;);\r\n        } else {\r\n            setSuccessMsg(fname);\r\n        }\r\n    \r\n        // check last-name\r\n        if (lnameVal.length &lt;= 2) {\r\n            setErrorMsg(lname, &#39;last-name requires min 3 char&#39;);\r\n        } else {\r\n            setSuccessMsg(lname);\r\n        }\r\n    \r\n        // check email\r\n        if (!isEmail(emailVal)) {\r\n            setErrorMsg(email, &#39;not valide email&#39;);\r\n        } else {\r\n            setSuccessMsg(email);\r\n        }\r\n    \r\n        // check password\r\n        if (!isPassword(passwordVal)) {\r\n            setErrorMsg(password, &quot;min 8 char, at least 1 uppercase and lowercase letter, one number and special character&quot;);\r\n        } else {\r\n            setSuccessMsg(password);\r\n        }\r\n        successMsg(fnameVal);\r\n    }\r\n    \r\n    function setErrorMsg(input, errormsgs) {\r\n        const formGroup = input.parentElement;\r\n        const small = formGroup.querySelector(&#39;small&#39;);\r\n        formGroup.className = &quot;form-group error&quot;;\r\n        small.innerText = errormsgs;\r\n    }\r\n    \r\n    function setSuccessMsg(input) {\r\n        const formGroup = input.parentElement;\r\n        formGroup.className = &quot;form-group success&quot;;\r\n    }\r\n    \r\n    var s = document.getElementById(&quot;status&quot;).value;\r\n    if (s == &quot;success&quot;) {\r\n    \tswal(&quot;Congratulations&quot;, &quot;Account Created Successfully&quot;, &quot;success&quot;);\r\n    } \r\n\r\n\r\n`Here is my HTML code:`\r\n\r\n   \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;title&gt;QuizzBuzz Sign-Up Portal&lt;/title&gt;\r\n    \r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/registration-style.css&quot;&gt;\r\n    \r\n        &lt;!--font--&gt;\r\n        &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;\r\n        &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot;&gt;\r\n        &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Poppins&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;hiddenalert&quot; id = &quot;status&quot; value = &quot;&lt;%= request.getAttribute(&quot;hiddenalert&quot;) %&gt;&quot;&gt;\r\n        &lt;div class=&quot;main&quot;&gt;\r\n    \t\t&lt;section class=&quot;signup&quot;&gt;\r\n    \t\t\t&lt;div class=&quot;container&quot;&gt;\r\n                    &lt;div class=&quot;signup-content&quot;&gt;\r\n                        &lt;div class=&quot;signup-image&quot;&gt;\r\n    \t\t\t\t\t\t&lt;figure&gt;\r\n    \t\t\t\t\t\t\t&lt;img src=&quot;./images/signup-image.jpg&quot; alt=&quot;singup-image&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/figure&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t&lt;div class=&quot;signup-form&quot;&gt;\r\n    \t\t\t\t\t\t&lt;h2 class=&quot;title&quot;&gt;Create an Account&lt;/h2&gt;\r\n    \t\t\t\t\t\t&lt;form method=&quot;post&quot; action=&quot;Register&quot; class=&quot;register-form&quot; id=&quot;register-form&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;select id=&quot;userType&quot; class=&quot;userType&quot; name=&quot;userType&quot; required=&quot;required&quot;&gt;\r\n                                        &lt;option value=&quot;student&quot;&gt;Student&lt;/option&gt;\r\n                                        &lt;option value=&quot;teacher&quot;&gt;Teacher&lt;/option&gt;\r\n                                        &lt;option value=&quot;admin&quot;&gt;Admin&lt;/option&gt;\r\n                                    &lt;/select&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;input type=&quot;text&quot; name=&quot;firstname&quot; id=&quot;fname&quot; placeholder=&quot;Enter your first-name&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\r\n                                    &lt;small&gt;Error!&lt;/small&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;input type=&quot;text&quot; name=&quot;lastname&quot; id=&quot;lname&quot; placeholder=&quot;Enter your last-name&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\r\n                                    &lt;small&gt;Error!&lt;/small&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot; placeholder=&quot;Enter your Email ID&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\r\n                                    &lt;small&gt;Error!&lt;/small&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; placeholder=&quot;Enter your password&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\r\n                                    &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\r\n                                    &lt;small&gt;Error!&lt;/small&gt;\r\n                                &lt;/div&gt;\r\n                                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; onclick = &quot;event.preventDefault(); validate()&quot;  class=&quot;button&quot;&gt;\r\n                            &lt;/form&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/section&gt;\r\n        &lt;/div&gt;\r\n    \r\n        &lt;script src=&quot;https://unpkg.com/sweetalert/dist/sweetalert.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;./js/member-registration.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI think it has something to do with the `event.preventDefault()` function but i dont know exactly how to get around the problem and solve it.And the sweet alerts also do not work ","title":"form not being submitted even after full validation","body":"<p>Ideal Case:</p>\n<ul>\n<li>if form valid send data to the servlet.</li>\n<li>if not show the respective errors</li>\n</ul>\n<p>What actually is happening: when i submit a form with wrong credentials the form gets stuck and the data does not go to the servlet which is what we want but when I enter the right credentials even then the form is not being submitted to the servlet. Here is my JavaScript code:</p>\n<pre><code>const form = document.getElementById('register-form');\nconst fname = document.getElementById('fname');\nconst lname = document.getElementById('lname');\nconst email = document.getElementById('email');\nconst password = document.getElementById('password');\n\nconst sendData = (fnameVal, sRate, count) =&gt; {\n    if (sRate === count) {\n        swal(&quot;Congratulations &quot; + fnameVal + &quot; !&quot;, &quot;Account Created Successfully&quot;, &quot;success&quot;);\n        form.submit();\n    }\n}\n\nconst successMsg = (fnameVal) =&gt; {\n    let formG = document.getElementsByClassName('form-group');\n    var count = formG.length - 1;\n    for (var i = 0; i &lt; formG.length; i++) {\n        if (formG[i].className === &quot;form-group success&quot;) {\n            var sRate = 0 + i;\n            sendData(fnameVal, sRate, count);\n        } else {\n            return false;\n        }\n    }\n}\n\nconst isEmail = (emailVal) =&gt; {\n    var re = /^\\S+@\\S+\\.\\S+$/;\n    if (!re.test(emailVal)) return false;\n    var atSymbol = emailVal.indexOf(&quot;@&quot;);\n    if (atSymbol &lt; 1) return false;\n    var dot = emailVal.indexOf('.');\n    if (dot === emailVal.length - 1) return false;\n    return true;\n}\n\nconst isPassword = (passwordVal) =&gt; {\n    var re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&amp;])[A-Za-z\\d@$!%*?&amp;]{8,}$/;\n    if (!re.test(passwordVal)) {\n        return false;\n    } \n    return true;\n}\n\nconst validate = () =&gt; {\n    const fnameVal = fname.value.trim();\n    const lnameVal = lname.value.trim();\n    const emailVal = email.value.trim();\n    const passwordVal = password.value.trim();\n        \n    // validate first-name\n    if (fnameVal.length &lt;= 2) {\n        setErrorMsg(fname, 'first-name requires min 3 char');\n    } else {\n        setSuccessMsg(fname);\n    }\n\n    // check last-name\n    if (lnameVal.length &lt;= 2) {\n        setErrorMsg(lname, 'last-name requires min 3 char');\n    } else {\n        setSuccessMsg(lname);\n    }\n\n    // check email\n    if (!isEmail(emailVal)) {\n        setErrorMsg(email, 'not valide email');\n    } else {\n        setSuccessMsg(email);\n    }\n\n    // check password\n    if (!isPassword(passwordVal)) {\n        setErrorMsg(password, &quot;min 8 char, at least 1 uppercase and lowercase letter, one number and special character&quot;);\n    } else {\n        setSuccessMsg(password);\n    }\n    successMsg(fnameVal);\n}\n\nfunction setErrorMsg(input, errormsgs) {\n    const formGroup = input.parentElement;\n    const small = formGroup.querySelector('small');\n    formGroup.className = &quot;form-group error&quot;;\n    small.innerText = errormsgs;\n}\n\nfunction setSuccessMsg(input) {\n    const formGroup = input.parentElement;\n    formGroup.className = &quot;form-group success&quot;;\n}\n\nvar s = document.getElementById(&quot;status&quot;).value;\nif (s == &quot;success&quot;) {\n    swal(&quot;Congratulations&quot;, &quot;Account Created Successfully&quot;, &quot;success&quot;);\n} \n</code></pre>\n<p><code>Here is my HTML code:</code></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;QuizzBuzz Sign-Up Portal&lt;/title&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/registration-style.css&quot;&gt;\n\n    &lt;!--font--&gt;\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;\n    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot;&gt;\n    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Poppins&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;hiddenalert&quot; id = &quot;status&quot; value = &quot;&lt;%= request.getAttribute(&quot;hiddenalert&quot;) %&gt;&quot;&gt;\n    &lt;div class=&quot;main&quot;&gt;\n        &lt;section class=&quot;signup&quot;&gt;\n            &lt;div class=&quot;container&quot;&gt;\n                &lt;div class=&quot;signup-content&quot;&gt;\n                    &lt;div class=&quot;signup-image&quot;&gt;\n                        &lt;figure&gt;\n                            &lt;img src=&quot;./images/signup-image.jpg&quot; alt=&quot;singup-image&quot;&gt;\n                        &lt;/figure&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;signup-form&quot;&gt;\n                        &lt;h2 class=&quot;title&quot;&gt;Create an Account&lt;/h2&gt;\n                        &lt;form method=&quot;post&quot; action=&quot;Register&quot; class=&quot;register-form&quot; id=&quot;register-form&quot;&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;select id=&quot;userType&quot; class=&quot;userType&quot; name=&quot;userType&quot; required=&quot;required&quot;&gt;\n                                    &lt;option value=&quot;student&quot;&gt;Student&lt;/option&gt;\n                                    &lt;option value=&quot;teacher&quot;&gt;Teacher&lt;/option&gt;\n                                    &lt;option value=&quot;admin&quot;&gt;Admin&lt;/option&gt;\n                                &lt;/select&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;input type=&quot;text&quot; name=&quot;firstname&quot; id=&quot;fname&quot; placeholder=&quot;Enter your first-name&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\n                                &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\n                                &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\n                                &lt;small&gt;Error!&lt;/small&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;input type=&quot;text&quot; name=&quot;lastname&quot; id=&quot;lname&quot; placeholder=&quot;Enter your last-name&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\n                                &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\n                                &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\n                                &lt;small&gt;Error!&lt;/small&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot; placeholder=&quot;Enter your Email ID&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\n                                &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\n                                &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\n                                &lt;small&gt;Error!&lt;/small&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                                &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; placeholder=&quot;Enter your password&quot; autocomplete=&quot;off&quot; required=&quot;required&quot;&gt;\n                                &lt;i class=&quot;fa-solid fa-circle-check&quot;&gt;&lt;/i&gt;\n                                &lt;i class=&quot;fa-solid fa-exclamation-circle&quot;&gt;&lt;/i&gt;\n                                &lt;small&gt;Error!&lt;/small&gt;\n                            &lt;/div&gt;\n                            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; onclick = &quot;event.preventDefault(); validate()&quot;  class=&quot;button&quot;&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/section&gt;\n    &lt;/div&gt;\n\n    &lt;script src=&quot;https://unpkg.com/sweetalert/dist/sweetalert.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;./js/member-registration.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I think it has something to do with the <code>event.preventDefault()</code> function but i dont know exactly how to get around the problem and solve it.And the sweet alerts also do not work</p>\n"},{"tags":["java","spring","spring-boot","javabeans","autowired"],"answers":[{"tags":[],"owner":{"account_id":19793538,"reputation":300,"user_id":14496012,"display_name":"centrumek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664486660,"creation_date":1664486660,"answer_id":73901775,"question_id":73900026,"body_markdown":"Firstly, try to split the configuration part from properties to separate classes.\r\n\r\nAlso, the `@ConfigurationProperties` annotation needs to have a prefix which binds all child properties to the fields.\r\n\r\nLastly, the method `getOldestUser` which you made as a spring bean is just a calculating function which can be under the `UserProperties` class and called whenever you need this data, spring is not required :).\r\n\r\n```yaml\r\ndata:\r\n  users:\r\n    joey: 32\r\n    jim: 29\r\n```\r\n\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@ConfigurationProperties(prefix = &quot;data&quot;)\r\npublic class UserProperties{\r\n    private Map&lt;String, Integer &gt; users;\r\n\r\n    public String getOldestUser() {\r\n        Integer maxAge = 0;\r\n        String oldestUser = null;\r\n        for (Map.Entry&lt;String, Integer&gt; entry : users.entrySet()) { // This line throws NPE, because &#39;users&#39; is null\r\n            if(entry.getValue() &gt; maxAge) {\r\n                oldestUser = entry.getKey();\r\n                maxAge = entry.getValue();\r\n            }\r\n        }\r\n        return oldestUser;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\n@EnableConfigurationProperties(UserProperties.class)\r\npublic class UserConfiguration {}\r\n```","title":"Declaring beans inside a ConfigurationProperties class, using the same configuration property","body":"<p>Firstly, try to split the configuration part from properties to separate classes.</p>\n<p>Also, the <code>@ConfigurationProperties</code> annotation needs to have a prefix which binds all child properties to the fields.</p>\n<p>Lastly, the method <code>getOldestUser</code> which you made as a spring bean is just a calculating function which can be under the <code>UserProperties</code> class and called whenever you need this data, spring is not required :).</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>data:\n  users:\n    joey: 32\n    jim: 29\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ConfigurationProperties(prefix = &quot;data&quot;)\npublic class UserProperties{\n    private Map&lt;String, Integer &gt; users;\n\n    public String getOldestUser() {\n        Integer maxAge = 0;\n        String oldestUser = null;\n        for (Map.Entry&lt;String, Integer&gt; entry : users.entrySet()) { // This line throws NPE, because 'users' is null\n            if(entry.getValue() &gt; maxAge) {\n                oldestUser = entry.getKey();\n                maxAge = entry.getValue();\n            }\n        }\n        return oldestUser;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableConfigurationProperties(UserProperties.class)\npublic class UserConfiguration {}\n</code></pre>\n"}],"owner":{"account_id":14243478,"reputation":458,"user_id":10289212,"display_name":"prakasht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664486660,"creation_date":1664475434,"question_id":73900026,"body_markdown":"I have a java class called `UserData`, and it has a field called `users` that I&#39;m reading from `application.yml` in my spring-boot application, by using the `@ConfigurationProperties` annotation.\r\n\r\nIn this class I want to declare another bean to find the oldest user. When I try to create the `getOldestUser` bean, I&#39;m getting a `NullPointerException` in the initialization of `getOldestUser` bean, because the `users` variable is `null`.\r\n\r\nHere&#39;s how my code looks like:\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Component\r\n@Configuration\r\n@ConfigurationProperties\r\n@EnableConfigurationProperties\r\npublic class UserData {\r\n    Map&lt;String, Integer &gt; users;\r\n\r\n    @Bean\r\n    public String getOldestUser() {\r\n        Integer maxAge = 0;\r\n        String oldestUser = null;\r\n        for (Map.Entry&lt;String, Integer&gt; entry : users.entrySet()) { // This line throws NPE, because &#39;users&#39; is null\r\n            if(entry.getValue() &gt; maxAge) {\r\n                oldestUser = entry.getKey();\r\n                maxAge = entry.getValue();\r\n            }\r\n        }\r\n        return oldestUser;\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the users declaration in application.yml:\r\n```\r\nusers:\r\n  joey: 32\r\n  jim: 29\r\n```\r\n\r\nHow can I access the fields of the class bean `userData` inside it&#39;s method bean `getOldestUser`? I&#39;ve also tried passing the `userData` bean as an argument to this method, but that doesn&#39;t work either.","title":"Declaring beans inside a ConfigurationProperties class, using the same configuration property","body":"<p>I have a java class called <code>UserData</code>, and it has a field called <code>users</code> that I'm reading from <code>application.yml</code> in my spring-boot application, by using the <code>@ConfigurationProperties</code> annotation.</p>\n<p>In this class I want to declare another bean to find the oldest user. When I try to create the <code>getOldestUser</code> bean, I'm getting a <code>NullPointerException</code> in the initialization of <code>getOldestUser</code> bean, because the <code>users</code> variable is <code>null</code>.</p>\n<p>Here's how my code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Component\n@Configuration\n@ConfigurationProperties\n@EnableConfigurationProperties\npublic class UserData {\n    Map&lt;String, Integer &gt; users;\n\n    @Bean\n    public String getOldestUser() {\n        Integer maxAge = 0;\n        String oldestUser = null;\n        for (Map.Entry&lt;String, Integer&gt; entry : users.entrySet()) { // This line throws NPE, because 'users' is null\n            if(entry.getValue() &gt; maxAge) {\n                oldestUser = entry.getKey();\n                maxAge = entry.getValue();\n            }\n        }\n        return oldestUser;\n    }\n}\n</code></pre>\n<p>Here's the users declaration in application.yml:</p>\n<pre><code>users:\n  joey: 32\n  jim: 29\n</code></pre>\n<p>How can I access the fields of the class bean <code>userData</code> inside it's method bean <code>getOldestUser</code>? I've also tried passing the <code>userData</code> bean as an argument to this method, but that doesn't work either.</p>\n"},{"tags":["java","class","variables","methods","class-method"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1664425662,"post_id":73890275,"comment_id":130469766,"body_markdown":"I suggest you learn about instance variables. Note that you only need one variable to represent the age of the dinosaur, not three.","body":"I suggest you learn about instance variables. Note that you only need one variable to represent the age of the dinosaur, not three."}],"answers":[{"tags":[],"owner":{"account_id":26486009,"reputation":16,"user_id":20124571,"display_name":"Roman_001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664486432,"creation_date":1664486432,"answer_id":73901743,"question_id":73890275,"body_markdown":"I advise you to repeat about encapsulation in Java.\r\n\r\nAll conditions of this task is hard to understand, so this is my way to solve this problem:\r\n    \r\n````\r\npublic class Dinosauros {\r\n\r\n    private String namePeriod;\r\n\r\n    private int timePeriod;\r\n\r\n    public void setTimePeriod(int age) {\r\n        if (age &lt; 252 &amp;&amp; age &gt; 201) {\r\n            this.timePeriod = 227;\r\n        } else if (age &lt; 201 &amp;&amp; age &gt; 145) {\r\n            this.timePeriod = 173;\r\n        } else if (age &lt; 145 &amp;&amp; age &gt; 66) {\r\n            this.timePeriod = 106;\r\n        } else {\r\n            System.out.println(&quot;Enter correct time period.&quot;);\r\n        }\r\n    }\r\n    \r\npublic String getNamePeriod() {\r\n        if (timePeriod == 227) this.namePeriod = &quot;Triassic&quot;;\r\n        else if (timePeriod == 173) this.namePeriod = &quot;Jurassic&quot;;\r\n        else if (timePeriod == 106) this.namePeriod = &quot;Cretaceous&quot;;\r\n        return namePeriod;\r\n    }\r\n}\r\n    ","title":"how to create two class methods and using the first class methods variables on an if statement on the other method - Java","body":"<p>I advise you to repeat about encapsulation in Java.</p>\n<p>All conditions of this task is hard to understand, so this is my way to solve this problem:</p>\n<pre><code>public class Dinosauros {\n\n    private String namePeriod;\n\n    private int timePeriod;\n\n    public void setTimePeriod(int age) {\n        if (age &lt; 252 &amp;&amp; age &gt; 201) {\n            this.timePeriod = 227;\n        } else if (age &lt; 201 &amp;&amp; age &gt; 145) {\n            this.timePeriod = 173;\n        } else if (age &lt; 145 &amp;&amp; age &gt; 66) {\n            this.timePeriod = 106;\n        } else {\n            System.out.println(&quot;Enter correct time period.&quot;);\n        }\n    }\n    \npublic String getNamePeriod() {\n        if (timePeriod == 227) this.namePeriod = &quot;Triassic&quot;;\n        else if (timePeriod == 173) this.namePeriod = &quot;Jurassic&quot;;\n        else if (timePeriod == 106) this.namePeriod = &quot;Cretaceous&quot;;\n        return namePeriod;\n    }\n}\n    \n</code></pre>\n"}],"owner":{"account_id":26418714,"reputation":3,"user_id":20066683,"display_name":"unknown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73901743,"answer_count":1,"score":0,"last_activity_date":1664486432,"creation_date":1664425532,"question_id":73890275,"body_markdown":"So I&#39;m trying to create a program that displays the dinosaurs era which it lived in and other stuff but I&#39;m currently stuck on the age. \r\n\r\nHere is the question: \r\n&gt; `setTimePeriod` (method) – takes one int parameter representing how many millions of years ago the dinosaur lived and does not return anything; sets the time period instance variable to the middle of the time period. See below for more information\r\n&gt;\r\n&gt; `getTimePeriod` (method) – takes no parameters; returns a String containing one of “Triassic”, “Jurassic”, or “Cretaceous”. Use the time period instance variable to figure out the time period.\r\nSetting the Time period\r\n&gt;\r\n&gt;Recall the Mesozoic Era, when the dinosaurs lived, is divided into three time periods\r\n&gt;\r\n&gt;Triassic (roughly 252 to 201 million years ago) &lt;br&gt;\r\n&gt;Jurassic (roughly 201 to 145 million years ago) &lt;br&gt;\r\n&gt;Cretaceous (145 to 66 million years ago)\r\n&gt;\r\n&gt;Set the instance variable for the time period to the middle of the time period.\r\n&gt;\r\n&gt;This gives the following numbers\r\n&gt;\r\n&gt;Triassic Period is set to 227 &lt;br&gt;\r\n&gt;Jurassic Period is set to 173 &lt;br&gt;\r\n&gt;Cretaceous Period is set to 106\r\n\r\nhere is what I wrote:\r\n\r\n    public String getTimePeriod()\r\n    {\r\n        if (Triassic &gt; 201 &amp;&amp; Triassic &lt; 252)\r\n        {\r\n            return &quot;Triassic period&quot;;\r\n        }\r\n        \r\n        if (Jurrasic &gt; 145 &amp;&amp; Jurrasic &lt;201)\r\n        {\r\n            return &quot;Jurrasic period&quot;;\r\n        }\r\n        \r\n        if (Cretaceous &gt; 66 &amp;&amp; Cretaceous &lt; 145)\r\n        {\r\n            return &quot;Cretaceous period&quot;;\r\n        }\r\n    }\r\n    // Returns a String representing which\r\n    // period the dinosuar lived in\r\n    // based on the value of the time period instance variable\r\n    \r\n    \r\n    // setTimePeriod\r\n\r\n    public int setTimePeriod(int age)\r\n    {\r\n         int Triassic = 227;\r\n         int Jurrasic = 173;\r\n         int Cretaceous = 106;\r\n    }\r\n\r\nCan anyone tell me what to do?","title":"how to create two class methods and using the first class methods variables on an if statement on the other method - Java","body":"<p>So I'm trying to create a program that displays the dinosaurs era which it lived in and other stuff but I'm currently stuck on the age.</p>\n<p>Here is the question:</p>\n<blockquote>\n<p><code>setTimePeriod</code> (method) – takes one int parameter representing how many millions of years ago the dinosaur lived and does not return anything; sets the time period instance variable to the middle of the time period. See below for more information</p>\n<p><code>getTimePeriod</code> (method) – takes no parameters; returns a String containing one of “Triassic”, “Jurassic”, or “Cretaceous”. Use the time period instance variable to figure out the time period.\nSetting the Time period</p>\n<p>Recall the Mesozoic Era, when the dinosaurs lived, is divided into three time periods</p>\n<p>Triassic (roughly 252 to 201 million years ago) <br>\nJurassic (roughly 201 to 145 million years ago) <br>\nCretaceous (145 to 66 million years ago)</p>\n<p>Set the instance variable for the time period to the middle of the time period.</p>\n<p>This gives the following numbers</p>\n<p>Triassic Period is set to 227 <br>\nJurassic Period is set to 173 <br>\nCretaceous Period is set to 106</p>\n</blockquote>\n<p>here is what I wrote:</p>\n<pre><code>public String getTimePeriod()\n{\n    if (Triassic &gt; 201 &amp;&amp; Triassic &lt; 252)\n    {\n        return &quot;Triassic period&quot;;\n    }\n    \n    if (Jurrasic &gt; 145 &amp;&amp; Jurrasic &lt;201)\n    {\n        return &quot;Jurrasic period&quot;;\n    }\n    \n    if (Cretaceous &gt; 66 &amp;&amp; Cretaceous &lt; 145)\n    {\n        return &quot;Cretaceous period&quot;;\n    }\n}\n// Returns a String representing which\n// period the dinosuar lived in\n// based on the value of the time period instance variable\n\n\n// setTimePeriod\n\npublic int setTimePeriod(int age)\n{\n     int Triassic = 227;\n     int Jurrasic = 173;\n     int Cretaceous = 106;\n}\n</code></pre>\n<p>Can anyone tell me what to do?</p>\n"},{"tags":["java","methods","lambda","inference"],"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1664449180,"post_id":73894094,"comment_id":130476754,"body_markdown":"`context.put(iF::apply, 100);` → `context.put(iF, 100);` and `context.get(iF::apply)` →  `context.get(iF)`","body":"<code>context.put(iF::apply, 100);</code> → <code>context.put(iF, 100);</code> and <code>context.get(iF::apply)</code> →  <code>context.get(iF)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664486010,"creation_date":1664486010,"answer_id":73901673,"question_id":73894094,"body_markdown":"Your code contains two `iF::apply` [Method Reference Expressions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13). Each time it creates a new `Function&lt;String, Integer&gt;` instance.\r\n\r\nSince those instances don&#39;t override `equals()` and `hashCode()` they are not really usable as keys in a `HashMap`. If you want to retrieve the entry that is already in the map you **must** use the same instance.\r\n\r\nThat these are different instances can be seen from your screenshot:\r\n\r\n- the key in the map is `{App$lambda@648}`\r\n- the argument that is provided to retrieve the entry is `{App$lambda@644}`\r\n\r\nThese names in the debug view are built using the simple classname (`App$lambda`) followed by `@` followed by some unique identifier per object that the debugger encountered.","title":"How Java process Method Inference Lambda Expression as method parameter?","body":"<p>Your code contains two <code>iF::apply</code> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13\" rel=\"nofollow noreferrer\">Method Reference Expressions</a>. Each time it creates a new <code>Function&lt;String, Integer&gt;</code> instance.</p>\n<p>Since those instances don't override <code>equals()</code> and <code>hashCode()</code> they are not really usable as keys in a <code>HashMap</code>. If you want to retrieve the entry that is already in the map you <strong>must</strong> use the same instance.</p>\n<p>That these are different instances can be seen from your screenshot:</p>\n<ul>\n<li>the key in the map is <code>{App$lambda@648}</code></li>\n<li>the argument that is provided to retrieve the entry is <code>{App$lambda@644}</code></li>\n</ul>\n<p>These names in the debug view are built using the simple classname (<code>App$lambda</code>) followed by <code>@</code> followed by some unique identifier per object that the debugger encountered.</p>\n"}],"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73901673,"answer_count":1,"score":0,"last_activity_date":1664486010,"creation_date":1664447722,"question_id":73894094,"body_markdown":"In code below, method inference `iF::apply` is put into a `Map` in class `Context`.\r\n\r\nBut when using `get` method on the `Map` with `iF::apply`, we get `null`. Why?\r\n\r\nHere is the debug info with IDEA:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBelow is the code:\r\n```java\r\n    public void test() {\r\n        Context context = new Context();\r\n        IF iF = new IF();\r\n        context.put(iF::apply, 100);\r\n        Integer v = context.get(iF::apply);\r\n        System.out.println(v);\r\n    }\r\n\r\nclass IF implements Function&lt;String, Integer&gt; {\r\n    @Override\r\n    public Integer apply(String s) {\r\n        return 200;\r\n    }\r\n}\r\n\r\nclass Context {\r\n    private Map&lt;Function, Object&gt; items = new HashMap&lt;&gt;();\r\n\r\n    public &lt;T, R&gt; void put(Function&lt;T, R&gt; name, R value) {\r\n        items.put(name, value);\r\n    }\r\n\r\n    public &lt;T, R&gt; R get(Function&lt;T, R&gt; name) {\r\n        return (R)items.get(name);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4AEdh.png","title":"How Java process Method Inference Lambda Expression as method parameter?","body":"<p>In code below, method inference <code>iF::apply</code> is put into a <code>Map</code> in class <code>Context</code>.</p>\n<p>But when using <code>get</code> method on the <code>Map</code> with <code>iF::apply</code>, we get <code>null</code>. Why?</p>\n<p>Here is the debug info with IDEA:</p>\n<p><a href=\"https://i.stack.imgur.com/4AEdh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4AEdh.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void test() {\n        Context context = new Context();\n        IF iF = new IF();\n        context.put(iF::apply, 100);\n        Integer v = context.get(iF::apply);\n        System.out.println(v);\n    }\n\nclass IF implements Function&lt;String, Integer&gt; {\n    @Override\n    public Integer apply(String s) {\n        return 200;\n    }\n}\n\nclass Context {\n    private Map&lt;Function, Object&gt; items = new HashMap&lt;&gt;();\n\n    public &lt;T, R&gt; void put(Function&lt;T, R&gt; name, R value) {\n        items.put(name, value);\n    }\n\n    public &lt;T, R&gt; R get(Function&lt;T, R&gt; name) {\n        return (R)items.get(name);\n    }\n}\n</code></pre>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1575381,"reputation":12553,"user_id":1461984,"display_name":"pinepain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1409040830,"creation_date":1409040830,"answer_id":25501030,"question_id":25496882,"body_markdown":"You are acking wrong delivery tag which is already was ack-ed or never exists in terms of current channel. See you application source code to figure out how it happens.","title":"Why is rabbitmq keep logging unknown delivery tag &#39;basic.ack&#39;?","body":"<p>You are acking wrong delivery tag which is already was ack-ed or never exists in terms of current channel. See you application source code to figure out how it happens.</p>\n"},{"tags":[],"owner":{"account_id":5929184,"reputation":649,"user_id":4664207,"accept_rate":64,"display_name":"jones-chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664485908,"creation_date":1664485908,"answer_id":73901665,"question_id":25496882,"body_markdown":"In my case, my consumer had `autoAck` enabled and was also manually acknowledging the message after processing.  The manual acknowledgment threw the same error you&#39;re encountering.  \r\n\r\nOnce I removed the manual acknowledgment, I did not see the error again.\r\n\r\nTo add to @pinepain &#39;s answer, double acknowledgements throw an exception and close the channel per these relavant [RabbitMQ docs][1]:\r\n\r\n```\r\nWhen manual acknowledgements are used, it is important to consider what thread does the acknowledgement. If it&#39;s different from the thread that received the delivery (e.g. Consumer#handleDelivery delegated delivery handling to a different thread), acknowledging with the multiple parameter set to true is unsafe and will result in double-acknowledgements, and therefore a channel-level protocol exception that closes the channel. Acknowledging a single message at a time can be safe.\r\n```\r\n\r\n\r\n  [1]: https://www.rabbitmq.com/api-guide.html","title":"Why is rabbitmq keep logging unknown delivery tag &#39;basic.ack&#39;?","body":"<p>In my case, my consumer had <code>autoAck</code> enabled and was also manually acknowledging the message after processing.  The manual acknowledgment threw the same error you're encountering.</p>\n<p>Once I removed the manual acknowledgment, I did not see the error again.</p>\n<p>To add to @pinepain 's answer, double acknowledgements throw an exception and close the channel per these relavant <a href=\"https://www.rabbitmq.com/api-guide.html\" rel=\"nofollow noreferrer\">RabbitMQ docs</a>:</p>\n<pre><code>When manual acknowledgements are used, it is important to consider what thread does the acknowledgement. If it's different from the thread that received the delivery (e.g. Consumer#handleDelivery delegated delivery handling to a different thread), acknowledging with the multiple parameter set to true is unsafe and will result in double-acknowledgements, and therefore a channel-level protocol exception that closes the channel. Acknowledging a single message at a time can be safe.\n</code></pre>\n"}],"owner":{"account_id":3066499,"reputation":285,"user_id":2598063,"accept_rate":80,"display_name":"hack4m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5216,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25501030,"answer_count":2,"score":4,"last_activity_date":1664485908,"creation_date":1409018081,"question_id":25496882,"body_markdown":"RabbitMQ keep logging\r\n\r\n    =ERROR REPORT==== 24-Aug-2014::06:25:07 ===\r\n    connection &lt;0.109.6880&gt;, channel 1 - soft error:\r\n    {amqp_error,precondition_failed,&quot;unknown delivery tag 1&quot;,&#39;basic.ack&#39;}\r\n\r\nthe log file is quite large.\r\n","title":"Why is rabbitmq keep logging unknown delivery tag &#39;basic.ack&#39;?","body":"<p>RabbitMQ keep logging</p>\n\n<pre><code>=ERROR REPORT==== 24-Aug-2014::06:25:07 ===\nconnection &lt;0.109.6880&gt;, channel 1 - soft error:\n{amqp_error,precondition_failed,\"unknown delivery tag 1\",'basic.ack'}\n</code></pre>\n\n<p>the log file is quite large.</p>\n"},{"tags":["java","java-native-interface","nio"],"comments":[{"owner":{"account_id":6543038,"reputation":1162,"user_id":5059838,"display_name":"iantonuk"},"score":0,"creation_date":1494917844,"post_id":43807568,"comment_id":75017400,"body_markdown":"Are you sure you don&#39;t wanna go with native selector? If microseconds matter on average execution of any java unit/class in C alternative is 1.5 - 2.3 times faster.","body":"Are you sure you don&#39;t wanna go with native selector? If microseconds matter on average execution of any java unit/class in C alternative is 1.5 - 2.3 times faster."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1494930010,"post_id":43807568,"comment_id":75025748,"body_markdown":"@bedbad Your source for that assertion?","body":"@bedbad Your source for that assertion?"},{"owner":{"account_id":6543038,"reputation":1162,"user_id":5059838,"display_name":"iantonuk"},"score":0,"creation_date":1494930554,"post_id":43807568,"comment_id":75026110,"body_markdown":"It&#39;s very well known. I have this information from blogs, C++ websites, Language Cons, books. MIT OWS  Performance Engineering states it on the first lecture and, of course, through the personal experience with perfers. I can find an official link if I will feel it&#39;s necessary.","body":"It&#39;s very well known. I have this information from blogs, C++ websites, Language Cons, books. MIT OWS  Performance Engineering states it on the first lecture and, of course, through the personal experience with perfers. I can find an official link if I will feel it&#39;s necessary."},{"owner":{"account_id":6543038,"reputation":1162,"user_id":5059838,"display_name":"iantonuk"},"score":0,"creation_date":1494930617,"post_id":43807568,"comment_id":75026147,"body_markdown":"In fact you can calculate overhead that java VM creates by yourself tracing through the execution of compiled sources of java vm(written in C)","body":"In fact you can calculate overhead that java VM creates by yourself tracing through the execution of compiled sources of java vm(written in C)"},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1494949151,"post_id":43807568,"comment_id":75040025,"body_markdown":"Just out of curiosity, when you have such high performance requirements, why do you code in Java?","body":"Just out of curiosity, when you have such high performance requirements, why do you code in Java?"},{"owner":{"account_id":8035,"reputation":6393,"user_id":14204,"accept_rate":25,"display_name":"Laplie Anderson"},"score":0,"creation_date":1494959052,"post_id":43807568,"comment_id":75045976,"body_markdown":"@bedbad .  C usually is, but is not always faster than Java.  C++ usually ties with Java.  It depends on workload and what is being done.  For example, object allocation is fastest in Java.  Additionally, Hotspot JVMs are able to optimize code on the fly (based on how the code runs) vs only being able to optimize at compile time.  Fact that you are more restricted in Java aids optimization.  See http://stackoverflow.com/a/145122/14204","body":"@bedbad .  C usually is, but is not always faster than Java.  C++ usually ties with Java.  It depends on workload and what is being done.  For example, object allocation is fastest in Java.  Additionally, Hotspot JVMs are able to optimize code on the fly (based on how the code runs) vs only being able to optimize at compile time.  Fact that you are more restricted in Java aids optimization.  See <a href=\"http://stackoverflow.com/a/145122/14204\">stackoverflow.com/a/145122/14204</a>"},{"owner":{"account_id":8035,"reputation":6393,"user_id":14204,"accept_rate":25,"display_name":"Laplie Anderson"},"score":0,"creation_date":1494959155,"post_id":43807568,"comment_id":75046043,"body_markdown":"@BastianVoigt Easier to debug and test, faster iteration cycle, availability of opensource libraries, and the fact that in most cases, it matches the performance of a c++ implementation","body":"@BastianVoigt Easier to debug and test, faster iteration cycle, availability of opensource libraries, and the fact that in most cases, it matches the performance of a c++ implementation"},{"owner":{"account_id":8035,"reputation":6393,"user_id":14204,"accept_rate":25,"display_name":"Laplie Anderson"},"score":0,"creation_date":1494959244,"post_id":43807568,"comment_id":75046098,"body_markdown":"@bedbad , I might have to end up writing a new native selector myself (and interfacing using JNI) but I was hoping there was already one available in the opensouce community.  There are so many networking libraries out there for java, it seems reasonable to assume.","body":"@bedbad , I might have to end up writing a new native selector myself (and interfacing using JNI) but I was hoping there was already one available in the opensouce community.  There are so many networking libraries out there for java, it seems reasonable to assume."},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":1,"creation_date":1495009687,"post_id":43807568,"comment_id":75065945,"body_markdown":"IMHO, if the garbage collection pause kills your use case, you should not use a language with a garbage collector.","body":"IMHO, if the garbage collection pause kills your use case, you should not use a language with a garbage collector."},{"owner":{"account_id":1508378,"reputation":892,"user_id":1411171,"accept_rate":75,"display_name":"Wolf"},"score":0,"creation_date":1495047032,"post_id":43807568,"comment_id":75091829,"body_markdown":"Agree with Bastian Voigt... &quot;Easier to debug and test, faster iteration cycle, availability of opensource libraries, and the fact that in most cases, it matches the performance of a c++ implementation&quot; are all useless, if the only (relevant) downside of Java is directly hindering your undertaking. Coralblocks seems promising though (if it does what the developers promise) and you can try to reimplement it yourself. The (unpredictability of the) garbage collector may break your neck anyways down the road.","body":"Agree with Bastian Voigt... &quot;Easier to debug and test, faster iteration cycle, availability of opensource libraries, and the fact that in most cases, it matches the performance of a c++ implementation&quot; are all useless, if the only (relevant) downside of Java is directly hindering your undertaking. Coralblocks seems promising though (if it does what the developers promise) and you can try to reimplement it yourself. The (unpredictability of the) garbage collector may break your neck anyways down the road."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1495106120,"post_id":43807568,"comment_id":75117653,"body_markdown":"Do microseconds also matter for the networking component? If yes, then you should not use TCP/IP at all probably...\n\nOverall your question looks to me as if you would like to use some realtime OS or platform - since not only garbage collection can block a &quot;normal&quot; computer/OS/program for microseconds.","body":"Do microseconds also matter for the networking component? If yes, then you should not use TCP/IP at all probably...  Overall your question looks to me as if you would like to use some realtime OS or platform - since not only garbage collection can block a &quot;normal&quot; computer/OS/program for microseconds."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":3,"creation_date":1568195250,"post_id":43807568,"comment_id":102194904,"body_markdown":"SocketChannel and most of the Selectors were re-implemented in JDK 11 to eliminate the complicated locking need to support async close. In addition, Selector was updated with alternative select methods that invoke an action with the selected keys rather than adding them to the selected key set. That should add at least some of the concern about object allocation/GC.","body":"SocketChannel and most of the Selectors were re-implemented in JDK 11 to eliminate the complicated locking need to support async close. In addition, Selector was updated with alternative select methods that invoke an action with the selected keys rather than adding them to the selected key set. That should add at least some of the concern about object allocation/GC."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678254795,"post_id":43807568,"comment_id":133495503,"body_markdown":"@AlanBateman it still internally uses a for-each loop that uses iterator. Wouldnt it still cause object allocation?","body":"@AlanBateman it still internally uses a for-each loop that uses iterator. Wouldnt it still cause object allocation?"}],"answers":[{"tags":[],"owner":{"account_id":29165,"reputation":2803,"user_id":78569,"accept_rate":62,"display_name":"Imaskar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494928407,"creation_date":1494928407,"answer_id":43998134,"question_id":43807568,"body_markdown":"Maybe this lib satisfies your needs? Haven&#39;t used it myself, but looks promising.\r\nhttp://www.coralblocks.com/index.php/the-simplicity-of-coralreactor/","title":"Alternative Java Selector Implementations","body":"<p>Maybe this lib satisfies your needs? Haven't used it myself, but looks promising.\n<a href=\"http://www.coralblocks.com/index.php/the-simplicity-of-coralreactor/\" rel=\"nofollow noreferrer\">http://www.coralblocks.com/index.php/the-simplicity-of-coralreactor/</a></p>\n"},{"tags":[],"owner":{"account_id":1042217,"reputation":147,"user_id":1048008,"display_name":"shpikachu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495097101,"creation_date":1495097101,"answer_id":44042839,"question_id":43807568,"body_markdown":"Netty project has an implementation that uses [Native epoll edge-triggered transport][1]:\r\n&gt; Since 4.0.16, Netty provides the native socket transport for Linux using JNI. This transport has higher performance and produces less garbage [...]\r\n\r\nOne possible drawback for you might be, it&#39;s available on Linux only.\r\n\r\nOn the positive side, Netty is an open-source project, may be the source code will give you a hint or two.\r\n\r\n  [1]: http://netty.io/news/2014/02/25/4-0-17-Final.html &quot;Native epoll edge-triggered transport&quot;","title":"Alternative Java Selector Implementations","body":"<p>Netty project has an implementation that uses <a href=\"http://netty.io/news/2014/02/25/4-0-17-Final.html\" rel=\"nofollow noreferrer\" title=\"Native epoll edge-triggered transport\">Native epoll edge-triggered transport</a>:</p>\n\n<blockquote>\n  <p>Since 4.0.16, Netty provides the native socket transport for Linux using JNI. This transport has higher performance and produces less garbage [...]</p>\n</blockquote>\n\n<p>One possible drawback for you might be, it's available on Linux only.</p>\n\n<p>On the positive side, Netty is an open-source project, may be the source code will give you a hint or two.</p>\n"},{"tags":[],"owner":{"account_id":8713994,"reputation":311,"user_id":6519294,"display_name":"Joshua S"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664485335,"creation_date":1664485335,"answer_id":73901578,"question_id":43807568,"body_markdown":"Regarding your first point about lots of object creation, you can ameliorate by using the select methods that were introduced in java11, the ones that accept an action Consumer as a parameter.\r\n\r\nBefore java11, every time you call a select() method, you have to call iterator() to access the events. This would create a new iterator object which would be subject to garbage collection. And this was unfortunately enshrined in the interface (abstract base class) itself.\r\n\r\nThe new methods iterate over the events themselves, applying your action, and reducing garbage.\r\n\r\nHere&#39;s the javadoc for the new methods: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/Selector.html#select(java.util.function.Consumer,long)","title":"Alternative Java Selector Implementations","body":"<p>Regarding your first point about lots of object creation, you can ameliorate by using the select methods that were introduced in java11, the ones that accept an action Consumer as a parameter.</p>\n<p>Before java11, every time you call a select() method, you have to call iterator() to access the events. This would create a new iterator object which would be subject to garbage collection. And this was unfortunately enshrined in the interface (abstract base class) itself.</p>\n<p>The new methods iterate over the events themselves, applying your action, and reducing garbage.</p>\n<p>Here's the javadoc for the new methods: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/Selector.html#select(java.util.function.Consumer,long)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/Selector.html#select(java.util.function.Consumer,long)</a></p>\n"}],"owner":{"account_id":8035,"reputation":6393,"user_id":14204,"accept_rate":25,"display_name":"Laplie Anderson"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1664485335,"creation_date":1493994615,"question_id":43807568,"body_markdown":"I&#39;m writing a high performance/low garbage application \r\n(microseconds matter) that has a networking component.  One of the sore points that I&#39;ve come across is the implementation of the built in Selector for Java NIO.\r\n\r\nA few things that are problematic:\r\n\r\n - Lots of object creation.  Pretty much every call to selectedKeys() creates a lot of objects.  Iterators, boxing/unboxing, you name it.  Not a problem with most other cases but the application I&#39;m writing needs to create as little garbage as possible.\r\n - Layers upon layers of locking and synchronization.  At the time the selectorImpls were built, a bunch of the Java lock primitives didn&#39;t exist.  As a result it&#39;s clunky and not optimal.  In my use case, there&#39;s only one thread calling `select` so the locking is in fact useless.\r\n\r\nExtending or changing the selector implementation is a nonstarter.  Most of the classes are final, with private and package-private members located in the `sun.nio.ch.*` package.  Native methods also complicate things.\r\n\r\n**Are there any other more modern implementations of the selector that may be more performant?**\r\n\r\nThe networking libraries I&#39;ve examined just use the built in Java selector under the covers.  Any help would be appreciated.","title":"Alternative Java Selector Implementations","body":"<p>I'm writing a high performance/low garbage application \n(microseconds matter) that has a networking component.  One of the sore points that I've come across is the implementation of the built in Selector for Java NIO.</p>\n\n<p>A few things that are problematic:</p>\n\n<ul>\n<li>Lots of object creation.  Pretty much every call to selectedKeys() creates a lot of objects.  Iterators, boxing/unboxing, you name it.  Not a problem with most other cases but the application I'm writing needs to create as little garbage as possible.</li>\n<li>Layers upon layers of locking and synchronization.  At the time the selectorImpls were built, a bunch of the Java lock primitives didn't exist.  As a result it's clunky and not optimal.  In my use case, there's only one thread calling <code>select</code> so the locking is in fact useless.</li>\n</ul>\n\n<p>Extending or changing the selector implementation is a nonstarter.  Most of the classes are final, with private and package-private members located in the <code>sun.nio.ch.*</code> package.  Native methods also complicate things.</p>\n\n<p><strong>Are there any other more modern implementations of the selector that may be more performant?</strong></p>\n\n<p>The networking libraries I've examined just use the built in Java selector under the covers.  Any help would be appreciated.</p>\n"},{"tags":["java","java-console"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1600381908,"post_id":63946911,"comment_id":113078736,"body_markdown":"The JLS allows only a single public class per file, and the class must have the same name as the file (`FileName.java` -&gt; `public Class FileName { ... }`). Thus, the code presented is not valid java code and can therefore not be compiled.","body":"The JLS allows only a single public class per file, and the class must have the same name as the file (<code>FileName.java</code> -&gt; <code>public Class FileName { ... }</code>). Thus, the code presented is not valid java code and can therefore not be compiled."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1600381927,"post_id":63946911,"comment_id":113078744,"body_markdown":"Step 1: Remove `public` from classes that are not named the same as the file. --- Step 2: Remove `-classpath` from the command.","body":"Step 1: Remove <code>public</code> from classes that are not named the same as the file. --- Step 2: Remove <code>-classpath</code> from the command."},{"owner":{"account_id":3217809,"reputation":1249,"user_id":2715993,"accept_rate":84,"display_name":"Bilow Yuriy"},"score":0,"creation_date":1600383090,"post_id":63946911,"comment_id":113079031,"body_markdown":"I did that, I got error :\njavac Class_ex_1.java\nClass_ex_1.java:13: error: cannot find symbol\nSystem.out.println(&quot;Display parameter from class:&quot; + n1.getColor + &quot;\\n&quot;);\n^\nsymbol: variable getColor\nlocation: variable n1 of type Hello_test\n1 error","body":"I did that, I got error : javac Class_ex_1.java Class_ex_1.java:13: error: cannot find symbol System.out.println(&quot;Display parameter from class:&quot; + n1.getColor + &quot;\\n&quot;); ^ symbol: variable getColor location: variable n1 of type Hello_test 1 error"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1600384063,"post_id":63946911,"comment_id":113079237,"body_markdown":"You&#39;re invoking the method incorrectly.  Change `n1.getColor`   to `n1.getColor()`","body":"You&#39;re invoking the method incorrectly.  Change <code>n1.getColor</code>   to <code>n1.getColor()</code>"},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1600421872,"post_id":63946911,"comment_id":113089563,"body_markdown":"Your Question seems to be mutating in the comment thread. The fact that you get a new error when you fix the original one is irrelevant to this Question.","body":"Your Question seems to be mutating in the comment thread. The fact that you get a new error when you fix the original one is irrelevant to this Question."},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":1,"creation_date":1600422255,"post_id":63946911,"comment_id":113089749,"body_markdown":"Does this answer your question? [Can a java file have more than one class?](https://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class\">Can a java file have more than one class?</a>"},{"owner":{"account_id":3217809,"reputation":1249,"user_id":2715993,"accept_rate":84,"display_name":"Bilow Yuriy"},"score":0,"creation_date":1600423253,"post_id":63946911,"comment_id":113090209,"body_markdown":"@Scratte You are right. The Question is mutated, but i thought it somehow relates to javac,But it turned out to be just wrong code.","body":"@Scratte You are right. The Question is mutated, but i thought it somehow relates to javac,But it turned out to be just wrong code."}],"answers":[{"tags":[],"owner":{"account_id":19539001,"reputation":26,"user_id":14297167,"display_name":"Drew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664485266,"creation_date":1600382062,"answer_id":63946974,"question_id":63946911,"body_markdown":"    class Hello_test{}\r\nSimply remove public from the second class. Also make sure the other class is inside of the Class_ex_1","title":"How to compile several classes in one ,java file","body":"<pre><code>class Hello_test{}\n</code></pre>\n<p>Simply remove public from the second class. Also make sure the other class is inside of the Class_ex_1</p>\n"},{"tags":[],"owner":{"account_id":19221556,"reputation":29,"user_id":14045246,"display_name":"TheCreatingCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600385802,"creation_date":1600385802,"answer_id":63947410,"question_id":63946911,"body_markdown":"The following code doesn&#39;t compile because it cannot find `getColor`\r\n\r\n    public class Class_ex_1 { \r\n    \r\n       public static void main(String[] args) {        \r\n          int del = 7;\r\n          int del_1 = 2;\r\n          int rem = del % del_1;\r\n          System.out.println(&quot;First value :&quot; + del + &quot;\\n&quot;);\r\n          System.out.println(&quot;Second value :&quot; + del_1 + &quot;\\n&quot;); // \r\n          System.out.println(&quot;Display meaning a % b :&quot; + rem + &quot;\\n&quot;); //              \r\n              \r\n          Hello_test n1 = new Hello_test();\r\n          System.out.println(&quot;Display parameter from class:&quot; + n1.getColor + &quot;\\n&quot;);\r\n                          \r\n       }\r\n    }\r\n        \r\n    class Hello_test {\r\n       String color = &quot;Red&quot;;       \r\n       public String getColor(){\r\n          return color;\r\n       }           \r\n    }\r\n\r\n\r\n\r\nSo it should instead, look like the following:\r\n\r\n    class Class_ex_1 { \r\n    \r\n     \r\n    \r\n    \r\n       public static void main(String[] args) {        \r\n          int del = 7;\r\n          int del_1 = 2;\r\n          int rem = del % del_1;\r\n          System.out.println(&quot;First value :&quot; + del + &quot;\\n&quot;);\r\n          System.out.println(&quot;Second value :&quot; + del_1 + &quot;\\n&quot;); // \r\n          System.out.println(&quot;Display meaning a % b :&quot; + rem + &quot;\\n&quot;); //              \r\n              \r\n          Hello_test n1 = new Hello_test();\r\n          System.out.println(&quot;Display parameter from class:&quot; + n1.getColor() + &quot;\\n&quot;);\r\n                          \r\n       }\r\n    }\r\n        \r\n    class Hello_test {\r\n       String color = &quot;Red&quot;;   \r\n           \r\n       public String getColor(){\r\n          return color;\r\n       }          \r\n           \r\n    \r\n    }\r\n\r\n\r\nRemember that when we call a method, we need to have a set of parenthesis at the end.\r\n\r\n\r\n","title":"How to compile several classes in one ,java file","body":"<p>The following code doesn't compile because it cannot find <code>getColor</code></p>\n<pre><code>public class Class_ex_1 { \n\n   public static void main(String[] args) {        \n      int del = 7;\n      int del_1 = 2;\n      int rem = del % del_1;\n      System.out.println(&quot;First value :&quot; + del + &quot;\\n&quot;);\n      System.out.println(&quot;Second value :&quot; + del_1 + &quot;\\n&quot;); // \n      System.out.println(&quot;Display meaning a % b :&quot; + rem + &quot;\\n&quot;); //              \n          \n      Hello_test n1 = new Hello_test();\n      System.out.println(&quot;Display parameter from class:&quot; + n1.getColor + &quot;\\n&quot;);\n                      \n   }\n}\n    \nclass Hello_test {\n   String color = &quot;Red&quot;;       \n   public String getColor(){\n      return color;\n   }           \n}\n</code></pre>\n<p>So it should instead, look like the following:</p>\n<pre><code>class Class_ex_1 { \n\n \n\n\n   public static void main(String[] args) {        \n      int del = 7;\n      int del_1 = 2;\n      int rem = del % del_1;\n      System.out.println(&quot;First value :&quot; + del + &quot;\\n&quot;);\n      System.out.println(&quot;Second value :&quot; + del_1 + &quot;\\n&quot;); // \n      System.out.println(&quot;Display meaning a % b :&quot; + rem + &quot;\\n&quot;); //              \n          \n      Hello_test n1 = new Hello_test();\n      System.out.println(&quot;Display parameter from class:&quot; + n1.getColor() + &quot;\\n&quot;);\n                      \n   }\n}\n    \nclass Hello_test {\n   String color = &quot;Red&quot;;   \n       \n   public String getColor(){\n      return color;\n   }          \n       \n\n}\n</code></pre>\n<p>Remember that when we call a method, we need to have a set of parenthesis at the end.</p>\n"}],"owner":{"account_id":3217809,"reputation":1249,"user_id":2715993,"accept_rate":84,"display_name":"Bilow Yuriy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1600511957,"accepted_answer_id":63946974,"answer_count":2,"score":-1,"last_activity_date":1664485266,"creation_date":1600381616,"question_id":63946911,"body_markdown":"I would like to compile in a java source file with two classes. How can I do that? I compile my code with:\r\n```\r\njavac -classpath Class_ex_1.java\r\n```\r\n\r\n```\r\npublic class Class_ex_1 { \r\n    public static void main(String[] args) {\t\t\r\n    \tint del = 7;\r\n    \tint del_1 = 2;\r\n        int rem = del % del_1;\r\n        System.out.println(&quot;First value :&quot; + del + &quot;\\n&quot;);\r\n    \tSystem.out.println(&quot;Second value :&quot; + del_1 + &quot;\\n&quot;); //\t\r\n        System.out.println(&quot;Display meaning a % b :&quot; + rem + &quot;\\n&quot;); //\t\t\t\t\r\n    \t\t\r\n        Hello_test n1 = new Hello_test();\r\n        System.out.println(&quot;Display parameter from class:&quot; + n1.getColor + &quot;\\n&quot;);\r\n                        \r\n    }\r\n}\r\n    \r\npublic class Hello_test {\r\n    String color = &quot;Red&quot;;       \r\n    public String getColor(){\r\n        return color;\r\n    }           \r\n}","title":"How to compile several classes in one ,java file","body":"<p>I would like to compile in a java source file with two classes. How can I do that? I compile my code with:</p>\n<pre><code>javac -classpath Class_ex_1.java\n</code></pre>\n<pre><code>public class Class_ex_1 { \n    public static void main(String[] args) {        \n        int del = 7;\n        int del_1 = 2;\n        int rem = del % del_1;\n        System.out.println(&quot;First value :&quot; + del + &quot;\\n&quot;);\n        System.out.println(&quot;Second value :&quot; + del_1 + &quot;\\n&quot;); // \n        System.out.println(&quot;Display meaning a % b :&quot; + rem + &quot;\\n&quot;); //              \n            \n        Hello_test n1 = new Hello_test();\n        System.out.println(&quot;Display parameter from class:&quot; + n1.getColor + &quot;\\n&quot;);\n                        \n    }\n}\n    \npublic class Hello_test {\n    String color = &quot;Red&quot;;       \n    public String getColor(){\n        return color;\n    }           \n}\n</code></pre>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664485096,"creation_date":1664485096,"answer_id":73901543,"question_id":73895162,"body_markdown":"The problem is `scoreDirector.beforeVariableChanged` and `scoreDirector.afterVariableChanged` need to be called with &quot;y&quot; (the custom shadow variable that will be changed by the variable listener), not &quot;x&quot; (the genuine planning variable that triggered the change; `x` is an &quot;upstream&quot; variable for `y` since `y` depends on `x`). Change your `afterVariableChange` method to:\r\n\r\n    @Override\r\n    public void afterVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable sourcevariable) {\r\n        \r\n        scoreDirector.beforeVariableChanged(sourcevariable, &quot;y&quot;);\r\n        sourcevariable.setY(sourcevariable.getX()*10);\r\n        scoreDirector.afterVariableChanged(sourcevariable, &quot;y&quot;);\r\n    \r\n    }\r\n\r\nand it should work.","title":"Optaplanner : Problem while working with custom shadow variable","body":"<p>The problem is <code>scoreDirector.beforeVariableChanged</code> and <code>scoreDirector.afterVariableChanged</code> need to be called with &quot;y&quot; (the custom shadow variable that will be changed by the variable listener), not &quot;x&quot; (the genuine planning variable that triggered the change; <code>x</code> is an &quot;upstream&quot; variable for <code>y</code> since <code>y</code> depends on <code>x</code>). Change your <code>afterVariableChange</code> method to:</p>\n<pre><code>@Override\npublic void afterVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable sourcevariable) {\n    \n    scoreDirector.beforeVariableChanged(sourcevariable, &quot;y&quot;);\n    sourcevariable.setY(sourcevariable.getX()*10);\n    scoreDirector.afterVariableChanged(sourcevariable, &quot;y&quot;);\n\n}\n</code></pre>\n<p>and it should work.</p>\n"}],"owner":{"account_id":26162032,"reputation":31,"user_id":19848397,"display_name":"yassine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664485096,"creation_date":1664452654,"question_id":73895162,"body_markdown":"I am trying to test out custom shadow variables to use them on a project I am working on, and I tried to do a simple example to test it out. \r\nIn my PlanningEntity I have a genuine planning variable (I named it x) of type Integer and the custom shadow variable (I named it y) of same type Integer. \r\nThe variable listener I used is as such : \r\n\r\n    public class yVariableListener implements VariableListener&lt;Planningsolution, variable&gt; {\r\n\r\n\t@Override\r\n    public void beforeEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\r\n        // Do nothing\r\n\r\n    }\r\n\r\n    @Override\r\n    public void afterEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\r\n    \t// Do nothing\r\n    }\r\n\r\n    @Override\r\n    public void beforeVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\r\n        // Do nothing\r\n    \t\r\n    }\r\n\r\n    @Override\r\n    public void afterVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\r\n    \t\r\n    \tscoreDirector.beforeVariableChanged(sourcevariable, &quot;x&quot;);\r\n    \tsourcevariable.setY(sourcevariable.getX()*10);\r\n    \tscoreDirector.afterVariableChanged(sourcevariable, &quot;x&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void beforeEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\r\n        // Do nothing\r\n    }\r\n\r\n    @Override\r\n    public void afterEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\r\n        // Do nothing\r\n    }\r\n    }\r\n\r\n\r\n\r\n In the constraint provider, I am trying to maximize the value of the shadow variable (soft score), and I am having a hard score that the genuine variable is less than a certain amount.\r\nWhen I run the solver, I get the following error : \r\n\r\n&gt; 2022-09-29 12:56:21,613 [main] INFO  Solving started: time spent\r\n&gt; (156), best score (-1init/0hard/0soft), environment mode\r\n&gt; (REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: The\r\n&gt; variableListener (class solver.yVariableListener) has been notified\r\n&gt; with notifiedCount (1) but after being triggered, its\r\n&gt; notificationCount (2) is different. Maybe that variableListener (class\r\n&gt; solver.yVariableListener) changed an upstream shadow variable (which\r\n&gt; is illegal). \tat\r\n&gt; org.optaplanner.core.impl.domain.variable.listener.support.AbstractNotifiable.triggerAllNotifications(AbstractNotifiable.java:92)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.domain.variable.listener.support.VariableListenerSupport.triggerVariableListenersInNotificationQueues(VariableListenerSupport.java:180)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.score.director.AbstractScoreDirector.triggerVariableListeners(AbstractScoreDirector.java:261)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.heuristic.move.AbstractMove.doMoveOnly(AbstractMove.java:27)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:20)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:15)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.score.director.AbstractScoreDirector.doAndProcessMove(AbstractScoreDirector.java:206)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.constructionheuristic.decider.ConstructionHeuristicDecider.doMove(ConstructionHeuristicDecider.java:116)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.constructionheuristic.decider.ConstructionHeuristicDecider.decideNextStep(ConstructionHeuristicDecider.java:90)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.constructionheuristic.DefaultConstructionHeuristicPhase.solve(DefaultConstructionHeuristicPhase.java:48)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:83)\r\n&gt; \tat\r\n&gt; org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:193)\r\n&gt; \tat SimpleApp.main(SimpleApp.java:40)\r\n\r\nHow can I fixe it ? ","title":"Optaplanner : Problem while working with custom shadow variable","body":"<p>I am trying to test out custom shadow variables to use them on a project I am working on, and I tried to do a simple example to test it out.\nIn my PlanningEntity I have a genuine planning variable (I named it x) of type Integer and the custom shadow variable (I named it y) of same type Integer.\nThe variable listener I used is as such :</p>\n<pre><code>public class yVariableListener implements VariableListener&lt;Planningsolution, variable&gt; {\n\n@Override\npublic void beforeEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\n    // Do nothing\n\n}\n\n@Override\npublic void afterEntityAdded(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\n    // Do nothing\n}\n\n@Override\npublic void beforeVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\n    // Do nothing\n    \n}\n\n@Override\npublic void afterVariableChanged(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\n    \n    scoreDirector.beforeVariableChanged(sourcevariable, &quot;x&quot;);\n    sourcevariable.setY(sourcevariable.getX()*10);\n    scoreDirector.afterVariableChanged(sourcevariable, &quot;x&quot;);\n\n}\n\n@Override\npublic void beforeEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\n    // Do nothing\n}\n\n@Override\npublic void afterEntityRemoved(ScoreDirector&lt;Planningsolution&gt; scoreDirector, variable variable) {\n    // Do nothing\n}\n}\n</code></pre>\n<p>In the constraint provider, I am trying to maximize the value of the shadow variable (soft score), and I am having a hard score that the genuine variable is less than a certain amount.\nWhen I run the solver, I get the following error :</p>\n<blockquote>\n<p>2022-09-29 12:56:21,613 [main] INFO  Solving started: time spent\n(156), best score (-1init/0hard/0soft), environment mode\n(REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).\nException in thread &quot;main&quot; java.lang.IllegalStateException: The\nvariableListener (class solver.yVariableListener) has been notified\nwith notifiedCount (1) but after being triggered, its\nnotificationCount (2) is different. Maybe that variableListener (class\nsolver.yVariableListener) changed an upstream shadow variable (which\nis illegal).  at\norg.optaplanner.core.impl.domain.variable.listener.support.AbstractNotifiable.triggerAllNotifications(AbstractNotifiable.java:92)\nat\norg.optaplanner.core.impl.domain.variable.listener.support.VariableListenerSupport.triggerVariableListenersInNotificationQueues(VariableListenerSupport.java:180)\nat\norg.optaplanner.core.impl.score.director.AbstractScoreDirector.triggerVariableListeners(AbstractScoreDirector.java:261)\nat\norg.optaplanner.core.impl.heuristic.move.AbstractMove.doMoveOnly(AbstractMove.java:27)\nat\norg.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:20)\nat\norg.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:15)\nat\norg.optaplanner.core.impl.score.director.AbstractScoreDirector.doAndProcessMove(AbstractScoreDirector.java:206)\nat\norg.optaplanner.core.impl.constructionheuristic.decider.ConstructionHeuristicDecider.doMove(ConstructionHeuristicDecider.java:116)\nat\norg.optaplanner.core.impl.constructionheuristic.decider.ConstructionHeuristicDecider.decideNextStep(ConstructionHeuristicDecider.java:90)\nat\norg.optaplanner.core.impl.constructionheuristic.DefaultConstructionHeuristicPhase.solve(DefaultConstructionHeuristicPhase.java:48)\nat\norg.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:83)\nat\norg.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:193)\nat SimpleApp.main(SimpleApp.java:40)</p>\n</blockquote>\n<p>How can I fixe it ?</p>\n"},{"tags":["java","currency-formatting"],"answers":[{"tags":[],"owner":{"account_id":3929075,"reputation":5785,"user_id":3248412,"accept_rate":89,"display_name":"vs97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664484914,"creation_date":1595538707,"answer_id":63063195,"question_id":63063043,"body_markdown":"Use `nf.format(value)` to format the value as per locale needed.\r\n\r\n     NumberFormat nf = NumberFormat.getCurrencyInstance(Locale.CANADA);\r\n     String balance = nf.format(this.balance);\r\n     System.out.println(&quot;Checking account balance = &quot;+balance);","title":"Print out currency value in java using NumberFormat","body":"<p>Use <code>nf.format(value)</code> to format the value as per locale needed.</p>\n<pre><code> NumberFormat nf = NumberFormat.getCurrencyInstance(Locale.CANADA);\n String balance = nf.format(this.balance);\n System.out.println(&quot;Checking account balance = &quot;+balance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595538770,"creation_date":1595538770,"answer_id":63063205,"question_id":63063043,"body_markdown":"As the NumberFormat will be the responsible for formatting your balance, you don&#39;t need to format it using ```String.format```.\r\n\r\nSo you could use something like that:\r\n\r\n\r\n```System.out.println(&quot;Checking account balance = &quot; + nf.format(balance));```\r\n\r\nJust to highlight, I&#39;ve removed also the ```$``` from the text, as the NumberFormat will handle that for you.","title":"Print out currency value in java using NumberFormat","body":"<p>As the NumberFormat will be the responsible for formatting your balance, you don't need to format it using <code>String.format</code>.</p>\n<p>So you could use something like that:</p>\n<p><code>System.out.println(&quot;Checking account balance = &quot; + nf.format(balance));</code></p>\n<p>Just to highlight, I've removed also the <code>$</code> from the text, as the NumberFormat will handle that for you.</p>\n"},{"tags":[],"owner":{"account_id":9010300,"reputation":1,"user_id":6715215,"display_name":"Pitbull_Owen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595538846,"creation_date":1595538846,"answer_id":63063214,"question_id":63063043,"body_markdown":"    NumberFormat numberFormat = NumberFormat.getCurrencyInstance(Locale.CANADA);\r\n    BigDecimal balance = BigDecimal.valueOf(12323);\r\n    System.out.println(String.format(&quot;Checking account balance = %s&quot;,numberFormat.format(balance)));","title":"Print out currency value in java using NumberFormat","body":"<pre><code>NumberFormat numberFormat = NumberFormat.getCurrencyInstance(Locale.CANADA);\nBigDecimal balance = BigDecimal.valueOf(12323);\nSystem.out.println(String.format(&quot;Checking account balance = %s&quot;,numberFormat.format(balance)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595538923,"creation_date":1595538923,"answer_id":63063234,"question_id":63063043,"body_markdown":"You can try the following\r\n\r\n    String number = String.format(&quot;%.2f&quot;, this.balance);\r\n    NumberFormat nf =  NumberFormat.getCurrencyInstance(Locale.CANADA);\r\n    System.out.println(&quot;Checking account balance = &quot;+ nf.format(Double.valueOf(number)));\r\n\r\nThe balance is formatted as you wish and then it is converted to the currency format","title":"Print out currency value in java using NumberFormat","body":"<p>You can try the following</p>\n<pre><code>String number = String.format(&quot;%.2f&quot;, this.balance);\nNumberFormat nf =  NumberFormat.getCurrencyInstance(Locale.CANADA);\nSystem.out.println(&quot;Checking account balance = &quot;+ nf.format(Double.valueOf(number)));\n</code></pre>\n<p>The balance is formatted as you wish and then it is converted to the currency format</p>\n"}],"owner":{"account_id":18523067,"reputation":39,"user_id":13495559,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63063205,"answer_count":4,"score":-1,"last_activity_date":1664484914,"creation_date":1595538002,"question_id":63063043,"body_markdown":"    NumberFormat nf =NumberFormat.getCurrencyInstance(Locale.CANADA);\r\n\t\t\r\n\tSystem.out.println(&quot;Checking account balance = $&quot;+String.format(&quot;%.2f&quot;, this.balance));\r\nHow to connect this two?","title":"Print out currency value in java using NumberFormat","body":"<pre><code>NumberFormat nf =NumberFormat.getCurrencyInstance(Locale.CANADA);\n    \nSystem.out.println(&quot;Checking account balance = $&quot;+String.format(&quot;%.2f&quot;, this.balance));\n</code></pre>\n<p>How to connect this two?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664479975,"post_id":73900725,"comment_id":130487895,"body_markdown":"if you modify it by reading it entirely into memory you can simply overwrite the original file with your modifications. If not and you read the file in chunks and write only chunks then writing a temp file is a lot safer because other users might get to see potential incomplete files","body":"if you modify it by reading it entirely into memory you can simply overwrite the original file with your modifications. If not and you read the file in chunks and write only chunks then writing a temp file is a lot safer because other users might get to see potential incomplete files"},{"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"score":0,"creation_date":1664480590,"post_id":73900725,"comment_id":130488050,"body_markdown":"I have to read entire file (worst case scenario) I need to search for a record line by line in the file until I find the record I&#39;m searching for). But after I find that record, I want to alter it (I edited my question with an example). So basically I would replace &#39;1&#39; with &#39;0&#39; on that row and that&#39;s it, that&#39;s all I need.","body":"I have to read entire file (worst case scenario) I need to search for a record line by line in the file until I find the record I&#39;m searching for). But after I find that record, I want to alter it (I edited my question with an example). So basically I would replace &#39;1&#39; with &#39;0&#39; on that row and that&#39;s it, that&#39;s all I need."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664480740,"post_id":73900725,"comment_id":130488093,"body_markdown":"how large of a file is that kilobytes, gigabytes? If it&#39;s just a few kilobytes it fits in an in memory `String` what can be written back as new version of the file. Byte editing text files gets messy (e.g. https://stackoverflow.com/q/58686657/995891)","body":"how large of a file is that kilobytes, gigabytes? If it&#39;s just a few kilobytes it fits in an in memory <code>String</code> what can be written back as new version of the file. Byte editing text files gets messy (e.g. <a href=\"https://stackoverflow.com/q/58686657/995891\">stackoverflow.com/q/58686657/995891</a>)"},{"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"score":0,"creation_date":1664480851,"post_id":73900725,"comment_id":130488123,"body_markdown":"File is about ~140 MB","body":"File is about ~140 MB"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1664481787,"post_id":73900725,"comment_id":130488393,"body_markdown":"*So in this case I would just need to update one character per row in a file* - you can use a RandomAccessFile to read/write from random location. I would guess you first need to read through the file to find the student you want to update while tracking the offset of each student. Once you find the student you would then update the character.","body":"<i>So in this case I would just need to update one character per row in a file</i> - you can use a RandomAccessFile to read/write from random location. I would guess you first need to read through the file to find the student you want to update while tracking the offset of each student. Once you find the student you would then update the character."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1664481892,"post_id":73900725,"comment_id":130488425,"body_markdown":"Use sqlite or javadb instead of a file.","body":"Use sqlite or javadb instead of a file."},{"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"score":0,"creation_date":1664482070,"post_id":73900725,"comment_id":130488484,"body_markdown":"ChengThao I have to use file in this case, it&#39;s a requirement.\n\n@camickr That&#39;s right, workflow is next: open file -&gt; search for a particular student -&gt; if student is found, replace 0 with 1 -&gt; save the file.\n\nFor this scenario, RandomAccessFile can help, right?","body":"ChengThao I have to use file in this case, it&#39;s a requirement.  @camickr That&#39;s right, workflow is next: open file -&gt; search for a particular student -&gt; if student is found, replace 0 with 1 -&gt; save the file.  For this scenario, RandomAccessFile can help, right?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664482217,"post_id":73900725,"comment_id":130488524,"body_markdown":"Finding those offsets is the big challenge, The 7th character in an UTF-8 file/string isn&#39;t necessarily the 7th byte and `RandomAccessFile` is just a giant byte array in the end. And even going back to the last character after a `readline()` means you need to carefully check for cr/lf line breaks. Technically possible but I would in practice just write a new file and swap it out for the old version afterwards or change to sqlite or similar","body":"Finding those offsets is the big challenge, The 7th character in an UTF-8 file/string isn&#39;t necessarily the 7th byte and <code>RandomAccessFile</code> is just a giant byte array in the end. And even going back to the last character after a <code>readline()</code> means you need to carefully check for cr/lf line breaks. Technically possible but I would in practice just write a new file and swap it out for the old version afterwards or change to sqlite or similar"}],"answers":[{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664484801,"creation_date":1664483235,"answer_id":73901270,"question_id":73900725,"body_markdown":"Here&#39;s a potential approach using `RandomAccessFile`. The idea would be to use `readline` to read it in strings but to remember the position in the file so you can go back there and write a new line. It&#39;s still risky in case anything in the text encoding would change byte lenght, because that could overwrite the line break for example.\r\n\r\n\tvoid modifyFile(String file) throws IOException {\r\n\t\ttry (RandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;)) {\r\n\t\t\tlong beforeLine = raf.getFilePointer();\r\n\t\t\tString line;\r\n\t\t\twhile ((line = raf.readLine()) != null) {\r\n\t\t\t\t// edit the line while keeping its length identical\r\n\t\t\t\tif (line.endsWith(&quot;0&quot;)) {\r\n\t\t\t\t\tline = line.substring(0, line.length() - 1) + &quot;1&quot;;\r\n\t\t\t\t}\r\n\t\t\t\t// go back to the beginning of the line\r\n\t\t\t\traf.seek(beforeLine);\r\n\t\t\t\t// overwrite the bytes of that line\r\n\t\t\t\traf.write(line.getBytes());\r\n\t\t\t\t// advance past the line break\r\n\t\t\t\tString ignored = raf.readLine();\r\n\t\t\t\t// and remember that position again\r\n\t\t\t\tbeforeLine = raf.getFilePointer();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nHandling correct String encoding is tricky in this case. If the file isn&#39;t in the encoding used by `readline()` and `getBytes()`, you could workaround that by doing\r\n\r\n    // file is in &quot;iso-1234&quot; encoding which is made up.\r\n    // reinterpret the byte as the correct encoding first\r\n    line = new String(line.getBytes(&quot;ISO-8859-1&quot;), &quot;iso-1234&quot;);\r\n    ... modify line\r\n    // when writing use the expected encoding\r\n    raf.write(line.getBytes(&quot;iso-1234&quot;));\r\n\r\nSee https://stackoverflow.com/questions/9964892/how-to-read-utf8-encoded-file-using-randomaccessfile ","title":"Modifying txt file in Java without creating temp file","body":"<p>Here's a potential approach using <code>RandomAccessFile</code>. The idea would be to use <code>readline</code> to read it in strings but to remember the position in the file so you can go back there and write a new line. It's still risky in case anything in the text encoding would change byte lenght, because that could overwrite the line break for example.</p>\n<pre><code>void modifyFile(String file) throws IOException {\n    try (RandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;)) {\n        long beforeLine = raf.getFilePointer();\n        String line;\n        while ((line = raf.readLine()) != null) {\n            // edit the line while keeping its length identical\n            if (line.endsWith(&quot;0&quot;)) {\n                line = line.substring(0, line.length() - 1) + &quot;1&quot;;\n            }\n            // go back to the beginning of the line\n            raf.seek(beforeLine);\n            // overwrite the bytes of that line\n            raf.write(line.getBytes());\n            // advance past the line break\n            String ignored = raf.readLine();\n            // and remember that position again\n            beforeLine = raf.getFilePointer();\n        }\n    }\n}\n</code></pre>\n<p>Handling correct String encoding is tricky in this case. If the file isn't in the encoding used by <code>readline()</code> and <code>getBytes()</code>, you could workaround that by doing</p>\n<pre><code>// file is in &quot;iso-1234&quot; encoding which is made up.\n// reinterpret the byte as the correct encoding first\nline = new String(line.getBytes(&quot;ISO-8859-1&quot;), &quot;iso-1234&quot;);\n... modify line\n// when writing use the expected encoding\nraf.write(line.getBytes(&quot;iso-1234&quot;));\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/9964892/how-to-read-utf8-encoded-file-using-randomaccessfile\">How to read UTF8 encoded file using RandomAccessFile?</a></p>\n"},{"tags":[],"owner":{"account_id":19539001,"reputation":26,"user_id":14297167,"display_name":"Drew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664484770,"creation_date":1664484770,"answer_id":73901488,"question_id":73900725,"body_markdown":"Try storing the changes you want to make to a file in the RAM (string or linked list of strings). If you read in the file to a linked list of strings (per line of the file) and write a function to merge the string you want to insert into that linked list of lines from the file and then rewrite the file entirely by putting down every line from the linked list it should give you what you want. Heres what I mean in psudocode the order is important here.\r\nBy reading in the file and setting after input we minimize interference with other users.\r\n\r\n    String lineYouWantToWrite = yourInput\r\n    LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;()\r\n    while (file has another line)\r\n        list.add(file&#39;s next line)\r\n    \r\n    add your string to whatever index of list you want\r\n    write list to file line by line, file&#39;s first line = list[1]...","title":"Modifying txt file in Java without creating temp file","body":"<p>Try storing the changes you want to make to a file in the RAM (string or linked list of strings). If you read in the file to a linked list of strings (per line of the file) and write a function to merge the string you want to insert into that linked list of lines from the file and then rewrite the file entirely by putting down every line from the linked list it should give you what you want. Heres what I mean in psudocode the order is important here.\nBy reading in the file and setting after input we minimize interference with other users.</p>\n<pre><code>String lineYouWantToWrite = yourInput\nLinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;()\nwhile (file has another line)\n    list.add(file's next line)\n\nadd your string to whatever index of list you want\nwrite list to file line by line, file's first line = list[1]...\n</code></pre>\n"}],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73901270,"answer_count":2,"score":1,"last_activity_date":1664484801,"creation_date":1664479716,"question_id":73900725,"body_markdown":"I have a .txt file that will be accessed by many users, possibly at the same time (or close to that) and because of that I need a way modify that txt file without creating a temporary file and I haven&#39;t found answer or solution to this. So far, I only found this approach -&gt;\r\n\r\n*Take existing file -&gt; modify something -&gt; write it to a new file (temp file) -&gt; delete the old file.*\r\n\r\nBut his approach is not good to me, I need something like: Take existing file -&gt; modify it -&gt; save it.\r\n\r\nIs this possible? I&#39;m really sorry if this question already exists, I tried searching Stack-overflow and I read thru Oracle Docs but I haven&#39;t found solution that suits my needs.\r\n\r\n**EDIT:**\r\n\r\nAfter modification, file would stay the same size as before. For example imagine list of students, each student can have value 1 or 0 (passed or failed the exam)\r\n\r\nSo in this case I would just need to update one character per row in a file (that is per, student). Example:\r\n\r\n\r\n*Lee Jackson 0               -&gt; Lee Jackson 0*\r\n\r\n**Bob White 0 -&gt; would become -&gt; Bob White 1**\r\n\r\n*Jessica Woo 1               -&gt; Jessica Woo 1*\r\n\r\nIn the example above we have a file with 3 records one below other and I need to update 2nd record while 1st and 3rd would became the same and all that without creating a new file.","title":"Modifying txt file in Java without creating temp file","body":"<p>I have a .txt file that will be accessed by many users, possibly at the same time (or close to that) and because of that I need a way modify that txt file without creating a temporary file and I haven't found answer or solution to this. So far, I only found this approach -&gt;</p>\n<p><em>Take existing file -&gt; modify something -&gt; write it to a new file (temp file) -&gt; delete the old file.</em></p>\n<p>But his approach is not good to me, I need something like: Take existing file -&gt; modify it -&gt; save it.</p>\n<p>Is this possible? I'm really sorry if this question already exists, I tried searching Stack-overflow and I read thru Oracle Docs but I haven't found solution that suits my needs.</p>\n<p><strong>EDIT:</strong></p>\n<p>After modification, file would stay the same size as before. For example imagine list of students, each student can have value 1 or 0 (passed or failed the exam)</p>\n<p>So in this case I would just need to update one character per row in a file (that is per, student). Example:</p>\n<p><em>Lee Jackson 0               -&gt; Lee Jackson 0</em></p>\n<p><strong>Bob White 0 -&gt; would become -&gt; Bob White 1</strong></p>\n<p><em>Jessica Woo 1               -&gt; Jessica Woo 1</em></p>\n<p>In the example above we have a file with 3 records one below other and I need to update 2nd record while 1st and 3rd would became the same and all that without creating a new file.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","mariadb"],"answers":[{"tags":[],"owner":{"account_id":24545240,"reputation":1,"user_id":20123540,"display_name":"RyanHollywood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664481773,"creation_date":1664481773,"answer_id":73901043,"question_id":73900459,"body_markdown":"my bad, should been use internal container port\r\n\r\n    spring.datasource.url=jdbc:mariadb://stats-db:3306/stats","title":"Spring Boot MariaDB Docker Connection","body":"<p>my bad, should been use internal container port</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://stats-db:3306/stats\n</code></pre>\n"}],"owner":{"account_id":24545240,"reputation":1,"user_id":20123540,"display_name":"RyanHollywood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664484579,"creation_date":1664478115,"question_id":73900459,"body_markdown":"I&#39;m stuck with SQLNonTransientConnectionException in Spring Boot application with MariaDB database using docker.\r\n\r\nDocker-compose.yaml\r\n\r\n    version: &#39;3.1&#39;\r\n    services:\r\n      stats-server:\r\n        container_name: stats-server\r\n        build:\r\n          dockerfile: Dockerfile-statsserver\r\n          context: ./stats-server\r\n        ports:\r\n          - &quot;9090:9090&quot;\r\n        depends_on:\r\n          - stats-db\r\n    \r\n      stats-db:\r\n        container_name: stats-db\r\n        image: mariadb\r\n        ports:\r\n          - &quot;9091:3306&quot;\r\n        environment:\r\n          - MARIADB_ROOT_PASSWORD=root\r\n          - MARIADB_DATABASE=stats\r\n          - MARIADB_USER=stats_user\r\n          - MARIADB_PASSWORD=stats_password\r\n\r\napplication.properties\r\n\r\n    #port\r\n    server.port=9090\r\n    \r\n    #MariaDB\r\n    spring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\n    spring.datasource.url=jdbc:mariadb://stats-db:9091/stats\r\n    spring.datasource.username=stats_user\r\n    spring.datasource.password=stats_password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nAfter docker-compose up command I&#39;ve got the SQLNonTransientConnectionException error:\r\n\r\n    java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=stats-db)(port=9091)(type=primary). Connection refused\r\n\r\nDatabase container runs well.\r\nWith Intellij Idea I can connect by this url:\r\n\r\n    jdbc:mariadb://localhost:9091/stats","title":"Spring Boot MariaDB Docker Connection","body":"<p>I'm stuck with SQLNonTransientConnectionException in Spring Boot application with MariaDB database using docker.</p>\n<p>Docker-compose.yaml</p>\n<pre><code>version: '3.1'\nservices:\n  stats-server:\n    container_name: stats-server\n    build:\n      dockerfile: Dockerfile-statsserver\n      context: ./stats-server\n    ports:\n      - &quot;9090:9090&quot;\n    depends_on:\n      - stats-db\n\n  stats-db:\n    container_name: stats-db\n    image: mariadb\n    ports:\n      - &quot;9091:3306&quot;\n    environment:\n      - MARIADB_ROOT_PASSWORD=root\n      - MARIADB_DATABASE=stats\n      - MARIADB_USER=stats_user\n      - MARIADB_PASSWORD=stats_password\n</code></pre>\n<p>application.properties</p>\n<pre><code>#port\nserver.port=9090\n\n#MariaDB\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.datasource.url=jdbc:mariadb://stats-db:9091/stats\nspring.datasource.username=stats_user\nspring.datasource.password=stats_password\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>After docker-compose up command I've got the SQLNonTransientConnectionException error:</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=stats-db)(port=9091)(type=primary). Connection refused\n</code></pre>\n<p>Database container runs well.\nWith Intellij Idea I can connect by this url:</p>\n<pre><code>jdbc:mariadb://localhost:9091/stats\n</code></pre>\n"},{"tags":["java","openssh","jce","elliptic-curve","ecdsa"],"comments":[{"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"score":0,"creation_date":1498730539,"post_id":44808132,"comment_id":76623999,"body_markdown":"I&#39;ve made some progress in setting up `ECPublicKeySpec` by using [`com.nimbusds.jose.jwk.ECKey`](https://static.javadoc.io/com.nimbusds/nimbus-jose-jwt/2.21/com/nimbusds/jose/jwk/ECKey.Curve.html). This provides a `ECKey.Curve.P_256.toECParameterSpec()` call, which sorts out most of the mystery parameters. That just leaves the [`ECPoint`](https://docs.oracle.com/javase/7/docs/api/java/security/spec/ECPoint.html), so it&#39;s looking more likely the RSA/DSA example could be adapted.","body":"I&#39;ve made some progress in setting up <code>ECPublicKeySpec</code> by using <a href=\"https://static.javadoc.io/com.nimbusds/nimbus-jose-jwt/2.21/com/nimbusds/jose/jwk/ECKey.Curve.html\" rel=\"nofollow noreferrer\"><code>com.nimbusds.jose.jwk.ECKey</code></a>. This provides a <code>ECKey.Curve.P_256.toECParameterSpec()</code> call, which sorts out most of the mystery parameters. That just leaves the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/spec/ECPoint.html\" rel=\"nofollow noreferrer\"><code>ECPoint</code></a>, so it&#39;s looking more likely the RSA/DSA example could be adapted."},{"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"score":0,"creation_date":1498732848,"post_id":44808132,"comment_id":76625535,"body_markdown":"So, well, interesting. I&#39;m adapting the RSA/DSA example and am getting the values &quot;ecdsa-sha2-nistp256&quot;, &quot;nistp256&quot; and then just one BigInt (rather than two). I&#39;m wondering if that&#39;s the &quot;public part&quot; only given it&#39;s a public key? I guess it&#39;s time to read [RFC 5656, section 3.1](https://tools.ietf.org/html/rfc5656#section-3.1).","body":"So, well, interesting. I&#39;m adapting the RSA/DSA example and am getting the values &quot;ecdsa-sha2-nistp256&quot;, &quot;nistp256&quot; and then just one BigInt (rather than two). I&#39;m wondering if that&#39;s the &quot;public part&quot; only given it&#39;s a public key? I guess it&#39;s time to read <a href=\"https://tools.ietf.org/html/rfc5656#section-3.1\" rel=\"nofollow noreferrer\">RFC 5656, section 3.1</a>."}],"answers":[{"tags":[],"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498750517,"creation_date":1498747835,"answer_id":44828481,"question_id":44808132,"body_markdown":"I&#39;ve found a way to do this using Bouncycastle (but would like to find a JCE way).\r\n\r\nAdapting the code from https://stackoverflow.com/questions/3531506/using-public-key-from-authorized-keys-with-java-security, and refering to [RFC 5656, section 3.1](https://www.rfc-editor.org/rfc/rfc5656#section-3.1), the following block added to `decodePublicKey` will parse the single BigInt value Q, which is &quot;the public key encoded from an elliptic curve point&quot;:\r\n\r\n    if (type.startsWith(&quot;ecdsa-sha2-&quot;) &amp;&amp;\r\n                (type.endsWith(&quot;nistp256&quot;) || type.endsWith(&quot;nistp384&quot;) || type.endsWith(&quot;nistp521&quot;))) {\r\n\r\n            // Based on RFC 5656, section 3.1 (https://www.rfc-editor.org/rfc/rfc5656#section-3.1)\r\n\r\n            // The string [identifier] is the identifier of the elliptic curve\r\n            // domain parameters.  The format of this string is specified in\r\n            // Section 6.1 (https://www.rfc-editor.org/rfc/rfc5656#section-6.1).\r\n            // Information on the REQUIRED and RECOMMENDED sets of\r\n            // elliptic curve domain parameters for use with this algorithm can be\r\n            // found in Section 10 (https://www.rfc-editor.org/rfc/rfc5656#section-10).\r\n            String identifier = decodeType();\r\n            if (!type.endsWith(identifier)) {\r\n                throw new IllegalArgumentException(&quot;Invalid identifier &quot; + identifier + &quot; for key type &quot; + type + &quot;.&quot;);\r\n            }\r\n\r\n            // Q is the public key encoded from an elliptic curve point into an\r\n            // octet string as defined in Section 2.3.3 of [SEC1];\r\n            // (https://www.rfc-editor.org/rfc/rfc5656#ref-SEC1)\r\n            // point compression MAY be used.\r\n            BigInteger q = decodeBigInt();\r\n\r\n            ECPublicKey keyBC = getKeyBC(q, identifier);\r\n            return keyBC;\r\n        }\r\n\r\nThe solution I&#39;ve found for getting from Q to an `ECPublicKey` is the following, using the Bouncycastle API (credit to https://stackoverflow.com/questions/42639620/generate-ecpublickey-from-ecprivatekey for providing the starting point):\r\n\r\n    ECPublicKey getKeyBC(BigInteger q, String identifier) {\r\n        // https://stackoverflow.com/questions/42639620/generate-ecpublickey-from-ecprivatekey\r\n        try {\r\n            // This only works with the Bouncycastle library:\r\n            Security.addProvider(new BouncyCastleProvider());\r\n            // http://www.bouncycastle.org/wiki/pages/viewpage.action?pageId=362269#SupportedCurves(ECDSAandECGOST)-NIST(aliasesforSECcurves)\r\n            String name = identifier.replace(&quot;nist&quot;, &quot;sec&quot;) + &quot;r1&quot;;\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n            ECNamedCurveParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(name);\r\n            ECPoint point = ecSpec.getCurve().decodePoint(q.toByteArray());\r\n            ECPublicKeySpec pubSpec = new ECPublicKeySpec(point, ecSpec);\r\n            ECPublicKey publicKey = (ECPublicKey) keyFactory.generatePublic(pubSpec);\r\n            return publicKey;\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException | NoSuchProviderException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nThat gets you from an openssh format elliptic curve public key (`ssh-keygen -t ecdsa -b [256|384|521]`) to a JCE `ECPublicKey`.","title":"Using openssh public key (ecdsa-sha2-nistp256) with Java Security","body":"<p>I've found a way to do this using Bouncycastle (but would like to find a JCE way).</p>\n<p>Adapting the code from <a href=\"https://stackoverflow.com/questions/3531506/using-public-key-from-authorized-keys-with-java-security\">Using public key from authorized_keys with Java security</a>, and refering to <a href=\"https://www.rfc-editor.org/rfc/rfc5656#section-3.1\" rel=\"nofollow noreferrer\">RFC 5656, section 3.1</a>, the following block added to <code>decodePublicKey</code> will parse the single BigInt value Q, which is &quot;the public key encoded from an elliptic curve point&quot;:</p>\n<pre><code>if (type.startsWith(&quot;ecdsa-sha2-&quot;) &amp;&amp;\n            (type.endsWith(&quot;nistp256&quot;) || type.endsWith(&quot;nistp384&quot;) || type.endsWith(&quot;nistp521&quot;))) {\n\n        // Based on RFC 5656, section 3.1 (https://www.rfc-editor.org/rfc/rfc5656#section-3.1)\n\n        // The string [identifier] is the identifier of the elliptic curve\n        // domain parameters.  The format of this string is specified in\n        // Section 6.1 (https://www.rfc-editor.org/rfc/rfc5656#section-6.1).\n        // Information on the REQUIRED and RECOMMENDED sets of\n        // elliptic curve domain parameters for use with this algorithm can be\n        // found in Section 10 (https://www.rfc-editor.org/rfc/rfc5656#section-10).\n        String identifier = decodeType();\n        if (!type.endsWith(identifier)) {\n            throw new IllegalArgumentException(&quot;Invalid identifier &quot; + identifier + &quot; for key type &quot; + type + &quot;.&quot;);\n        }\n\n        // Q is the public key encoded from an elliptic curve point into an\n        // octet string as defined in Section 2.3.3 of [SEC1];\n        // (https://www.rfc-editor.org/rfc/rfc5656#ref-SEC1)\n        // point compression MAY be used.\n        BigInteger q = decodeBigInt();\n\n        ECPublicKey keyBC = getKeyBC(q, identifier);\n        return keyBC;\n    }\n</code></pre>\n<p>The solution I've found for getting from Q to an <code>ECPublicKey</code> is the following, using the Bouncycastle API (credit to <a href=\"https://stackoverflow.com/questions/42639620/generate-ecpublickey-from-ecprivatekey\">Generate ECPublicKey from ECPrivateKey</a> for providing the starting point):</p>\n<pre><code>ECPublicKey getKeyBC(BigInteger q, String identifier) {\n    // https://stackoverflow.com/questions/42639620/generate-ecpublickey-from-ecprivatekey\n    try {\n        // This only works with the Bouncycastle library:\n        Security.addProvider(new BouncyCastleProvider());\n        // http://www.bouncycastle.org/wiki/pages/viewpage.action?pageId=362269#SupportedCurves(ECDSAandECGOST)-NIST(aliasesforSECcurves)\n        String name = identifier.replace(&quot;nist&quot;, &quot;sec&quot;) + &quot;r1&quot;;\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\n        ECNamedCurveParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(name);\n        ECPoint point = ecSpec.getCurve().decodePoint(q.toByteArray());\n        ECPublicKeySpec pubSpec = new ECPublicKeySpec(point, ecSpec);\n        ECPublicKey publicKey = (ECPublicKey) keyFactory.generatePublic(pubSpec);\n        return publicKey;\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | NoSuchProviderException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>That gets you from an openssh format elliptic curve public key (<code>ssh-keygen -t ecdsa -b [256|384|521]</code>) to a JCE <code>ECPublicKey</code>.</p>\n"},{"tags":[],"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499351985,"creation_date":1499175182,"answer_id":44907432,"question_id":44808132,"body_markdown":"For completeness, here&#39;s the code I&#39;ve gone with. It&#39;s nearly-pure JCE, with a sprinkling of Bouncycastle inside helper methods (this updates the example code in https://stackoverflow.com/questions/3531506/using-public-key-from-authorized-keys-with-java-security):\r\n\r\n    ...\r\n            } else if (type.startsWith(&quot;ecdsa-sha2-&quot;) &amp;&amp;\r\n                    (type.endsWith(&quot;nistp256&quot;) || type.endsWith(&quot;nistp384&quot;) || type.endsWith(&quot;nistp521&quot;))) {\r\n                // Based on RFC 5656, section 3.1 (https://tools.ietf.org/html/rfc5656#section-3.1)\r\n                String identifier = decodeType();\r\n                BigInteger q = decodeBigInt();\r\n                ECPoint ecPoint = getECPoint(q, identifier);\r\n                ECParameterSpec ecParameterSpec = getECParameterSpec(identifier);\r\n                ECPublicKeySpec spec = new ECPublicKeySpec(ecPoint, ecParameterSpec);\r\n                return KeyFactory.getInstance(&quot;EC&quot;).generatePublic(spec);\r\n            } ...\r\n\r\n    /**\r\n     * Provides a means to get from a parsed Q value to the X and Y point values.\r\n     * that can be used to create and ECPoint compatible with ECPublicKeySpec.\r\n     *\r\n     * @param q          According to RFC 5656:\r\n     *                   &quot;Q is the public key encoded from an elliptic curve point into an octet string&quot;\r\n     * @param identifier According to RFC 5656:\r\n     *                   &quot;The string [identifier] is the identifier of the elliptic curve domain parameters.&quot;\r\n     * @return An ECPoint suitable for creating a JCE ECPublicKeySpec.\r\n     */\r\n    ECPoint getECPoint(BigInteger q, String identifier) {\r\n        String name = identifier.replace(&quot;nist&quot;, &quot;sec&quot;) + &quot;r1&quot;;\r\n        ECNamedCurveParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(name);\r\n        org.bouncycastle.math.ec.ECPoint point = ecSpec.getCurve().decodePoint(q.toByteArray());\r\n        BigInteger x = point.getAffineXCoord().toBigInteger();\r\n        BigInteger y = point.getAffineYCoord().toBigInteger();\r\n        System.out.println(&quot;BC x = &quot; + x);\r\n        System.out.println(&quot;BC y = &quot; + y);\r\n        return new ECPoint(x, y);\r\n    }\r\n\r\n    /**\r\n     * Gets the curve parameters for the given key type identifier.\r\n     *\r\n     * @param identifier According to RFC 5656:\r\n     *                   &quot;The string [identifier] is the identifier of the elliptic curve domain parameters.&quot;\r\n     * @return An ECParameterSpec suitable for creating a JCE ECPublicKeySpec.\r\n     */\r\n    ECParameterSpec getECParameterSpec(String identifier) {\r\n        try {\r\n            // http://www.bouncycastle.org/wiki/pages/viewpage.action?pageId=362269#SupportedCurves(ECDSAandECGOST)-NIST(aliasesforSECcurves)\r\n            String name = identifier.replace(&quot;nist&quot;, &quot;sec&quot;) + &quot;r1&quot;;\r\n            AlgorithmParameters parameters = AlgorithmParameters.getInstance(&quot;EC&quot;);\r\n            parameters.init(new ECGenParameterSpec(name));\r\n            return parameters.getParameterSpec(ECParameterSpec.class);\r\n        } catch (InvalidParameterSpecException | NoSuchAlgorithmException e) {\r\n            throw new IllegalArgumentException(&quot;Unable to get parameter spec for identifier &quot; + identifier, e);\r\n        }\r\n    }","title":"Using openssh public key (ecdsa-sha2-nistp256) with Java Security","body":"<p>For completeness, here's the code I've gone with. It's nearly-pure JCE, with a sprinkling of Bouncycastle inside helper methods (this updates the example code in <a href=\"https://stackoverflow.com/questions/3531506/using-public-key-from-authorized-keys-with-java-security\">Using public key from authorized_keys with Java security</a>):</p>\n\n<pre><code>...\n        } else if (type.startsWith(\"ecdsa-sha2-\") &amp;&amp;\n                (type.endsWith(\"nistp256\") || type.endsWith(\"nistp384\") || type.endsWith(\"nistp521\"))) {\n            // Based on RFC 5656, section 3.1 (https://tools.ietf.org/html/rfc5656#section-3.1)\n            String identifier = decodeType();\n            BigInteger q = decodeBigInt();\n            ECPoint ecPoint = getECPoint(q, identifier);\n            ECParameterSpec ecParameterSpec = getECParameterSpec(identifier);\n            ECPublicKeySpec spec = new ECPublicKeySpec(ecPoint, ecParameterSpec);\n            return KeyFactory.getInstance(\"EC\").generatePublic(spec);\n        } ...\n\n/**\n * Provides a means to get from a parsed Q value to the X and Y point values.\n * that can be used to create and ECPoint compatible with ECPublicKeySpec.\n *\n * @param q          According to RFC 5656:\n *                   \"Q is the public key encoded from an elliptic curve point into an octet string\"\n * @param identifier According to RFC 5656:\n *                   \"The string [identifier] is the identifier of the elliptic curve domain parameters.\"\n * @return An ECPoint suitable for creating a JCE ECPublicKeySpec.\n */\nECPoint getECPoint(BigInteger q, String identifier) {\n    String name = identifier.replace(\"nist\", \"sec\") + \"r1\";\n    ECNamedCurveParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(name);\n    org.bouncycastle.math.ec.ECPoint point = ecSpec.getCurve().decodePoint(q.toByteArray());\n    BigInteger x = point.getAffineXCoord().toBigInteger();\n    BigInteger y = point.getAffineYCoord().toBigInteger();\n    System.out.println(\"BC x = \" + x);\n    System.out.println(\"BC y = \" + y);\n    return new ECPoint(x, y);\n}\n\n/**\n * Gets the curve parameters for the given key type identifier.\n *\n * @param identifier According to RFC 5656:\n *                   \"The string [identifier] is the identifier of the elliptic curve domain parameters.\"\n * @return An ECParameterSpec suitable for creating a JCE ECPublicKeySpec.\n */\nECParameterSpec getECParameterSpec(String identifier) {\n    try {\n        // http://www.bouncycastle.org/wiki/pages/viewpage.action?pageId=362269#SupportedCurves(ECDSAandECGOST)-NIST(aliasesforSECcurves)\n        String name = identifier.replace(\"nist\", \"sec\") + \"r1\";\n        AlgorithmParameters parameters = AlgorithmParameters.getInstance(\"EC\");\n        parameters.init(new ECGenParameterSpec(name));\n        return parameters.getParameterSpec(ECParameterSpec.class);\n    } catch (InvalidParameterSpecException | NoSuchAlgorithmException e) {\n        throw new IllegalArgumentException(\"Unable to get parameter spec for identifier \" + identifier, e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44907432,"answer_count":2,"score":1,"last_activity_date":1664484341,"creation_date":1498667686,"question_id":44808132,"body_markdown":"Is there a Java library/example to read an openssh format ecdsa public key to a JCE `PublicKey` in Java? I want to use EC for [JWT](https://jwt.io) .\r\n\r\nThe format I&#39;m trying to read is as per authorized_keys, or Github API (e.g. https://api.github.com/users/davidcarboni/keys):  `ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBK8hPtB72/sfYgNw1WTska2DNOJFx+QhUxuV6OLINSD2ty+6gxcM8yZrvMqWdMePGRb2cGh8L/0bGOk+64IQ/pM=`\r\n\r\nI&#39;ve found this answer, which is fine for RSA and DSS:\r\nhttps://stackoverflow.com/questions/3531506/using-public-key-from-authorized-keys-with-java-security, and this discussion of the openssh format for ECDSA: https://security.stackexchange.com/questions/129910/ecdsa-why-do-ssh-keygen-and-java-generated-public-keys-have-different-sizes \r\n\r\nHowever I&#39;m getting lost trying to adapt the RSS/DSA code for ECDSA - I&#39;m not sure how to set up an [`ECPublicKeySpec`](https://docs.oracle.com/javase/7/docs/api/java/security/spec/ECPublicKeySpec.html). It needs `ECPoint`, `EllipticCurve`, `ECParameterSpec`, `ECField`. The openssh format only contains two integers, which makes sense for `ECPoint`, but I don&#39;t know how to set up the rest.\r\n\r\nI&#39;ve been poking around a bunch of libraries, including [jsch](http://www.jcraft.com/jsch/), [sshj](https://github.com/hierynomus/sshj), [ssh-tools](https://www.sshtools.com/en/products/opensource/) and good old [Bouncycastle](http://www.bouncycastle.org/). The closest I have is:\r\n\r\n`com.jcraft.jsch.KeyPair load = com.jcraft.jsch.KeyPair.load(jsch, null, bytes[openSshKey]);`\r\n\r\nWhich loads the key fine, but doesn&#39;t get me to a JCE `PublicKey` - just a `byte[] getPublicKeyBlob()` method.\r\n\r\nAm I missing something obvious?","title":"Using openssh public key (ecdsa-sha2-nistp256) with Java Security","body":"<p>Is there a Java library/example to read an openssh format ecdsa public key to a JCE <code>PublicKey</code> in Java? I want to use EC for <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">JWT</a> .</p>\n\n<p>The format I'm trying to read is as per authorized_keys, or Github API (e.g. <a href=\"https://api.github.com/users/davidcarboni/keys\" rel=\"nofollow noreferrer\">https://api.github.com/users/davidcarboni/keys</a>):  <code>ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBK8hPtB72/sfYgNw1WTska2DNOJFx+QhUxuV6OLINSD2ty+6gxcM8yZrvMqWdMePGRb2cGh8L/0bGOk+64IQ/pM=</code></p>\n\n<p>I've found this answer, which is fine for RSA and DSS:\n<a href=\"https://stackoverflow.com/questions/3531506/using-public-key-from-authorized-keys-with-java-security\">Using public key from authorized_keys with Java security</a>, and this discussion of the openssh format for ECDSA: <a href=\"https://security.stackexchange.com/questions/129910/ecdsa-why-do-ssh-keygen-and-java-generated-public-keys-have-different-sizes\">https://security.stackexchange.com/questions/129910/ecdsa-why-do-ssh-keygen-and-java-generated-public-keys-have-different-sizes</a> </p>\n\n<p>However I'm getting lost trying to adapt the RSS/DSA code for ECDSA - I'm not sure how to set up an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/spec/ECPublicKeySpec.html\" rel=\"nofollow noreferrer\"><code>ECPublicKeySpec</code></a>. It needs <code>ECPoint</code>, <code>EllipticCurve</code>, <code>ECParameterSpec</code>, <code>ECField</code>. The openssh format only contains two integers, which makes sense for <code>ECPoint</code>, but I don't know how to set up the rest.</p>\n\n<p>I've been poking around a bunch of libraries, including <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">jsch</a>, <a href=\"https://github.com/hierynomus/sshj\" rel=\"nofollow noreferrer\">sshj</a>, <a href=\"https://www.sshtools.com/en/products/opensource/\" rel=\"nofollow noreferrer\">ssh-tools</a> and good old <a href=\"http://www.bouncycastle.org/\" rel=\"nofollow noreferrer\">Bouncycastle</a>. The closest I have is:</p>\n\n<p><code>com.jcraft.jsch.KeyPair load = com.jcraft.jsch.KeyPair.load(jsch, null, bytes[openSshKey]);</code></p>\n\n<p>Which loads the key fine, but doesn't get me to a JCE <code>PublicKey</code> - just a <code>byte[] getPublicKeyBlob()</code> method.</p>\n\n<p>Am I missing something obvious?</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664484256,"creation_date":1664484256,"answer_id":73901412,"question_id":73901280,"body_markdown":"The erasure of the return types is `Optional`, yet `Optional&lt;SinglyLinkedListNode&lt;T&gt;&gt;` is not a subtype of `Optional&lt;Node&lt;T&gt;&gt;`, explaining your compiler error.\r\n\r\nBy [PECS (Producer: Extends, Consumer: Super)][1], your `Node` produces the value, so it&#39;s safe to use a wildcard upper bound (&quot;extends&quot;) on the return type of the method `findNodeByData`.\r\n\r\n```\r\ninterface LinkedList&lt;T&gt; {\r\n    Optional&lt;? extends Node&lt;T&gt;&gt; findNodeByData(T data);\r\n}\r\n```\r\n\r\nThis allows you to override the method in the concrete subclass with a subtype, according to covariant return types.  Also, when overriding, always include the `@Override` annotation, so the compiler can check for you if you&#39;re truly overriding the method or merely overloading it accidentally.\r\n\r\n```\r\nclass SinglyLinkedList&lt;T&gt; implements LinkedList&lt;T&gt; {\r\n    @Override\r\n    public Optional&lt;SinglyLinkedListNode&lt;T&gt;&gt; findNodeByData(T data){\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n[1]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super","title":"Error while trying to accept generic types that extend a class in an interface","body":"<p>The erasure of the return types is <code>Optional</code>, yet <code>Optional&lt;SinglyLinkedListNode&lt;T&gt;&gt;</code> is not a subtype of <code>Optional&lt;Node&lt;T&gt;&gt;</code>, explaining your compiler error.</p>\n<p>By <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS (Producer: Extends, Consumer: Super)</a>, your <code>Node</code> produces the value, so it's safe to use a wildcard upper bound (&quot;extends&quot;) on the return type of the method <code>findNodeByData</code>.</p>\n<pre><code>interface LinkedList&lt;T&gt; {\n    Optional&lt;? extends Node&lt;T&gt;&gt; findNodeByData(T data);\n}\n</code></pre>\n<p>This allows you to override the method in the concrete subclass with a subtype, according to covariant return types.  Also, when overriding, always include the <code>@Override</code> annotation, so the compiler can check for you if you're truly overriding the method or merely overloading it accidentally.</p>\n<pre><code>class SinglyLinkedList&lt;T&gt; implements LinkedList&lt;T&gt; {\n    @Override\n    public Optional&lt;SinglyLinkedListNode&lt;T&gt;&gt; findNodeByData(T data){\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22693199,"reputation":13,"user_id":16861803,"display_name":"Starosti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73901412,"answer_count":1,"score":1,"last_activity_date":1664484256,"creation_date":1664483303,"question_id":73901280,"body_markdown":"In this code:\r\n``` java\r\npublic interface LinkedList&lt;T&gt; {\r\n   &lt;N extends Node&lt;T&gt;&gt; Optional&lt;N&gt; findNodeByData(T data);\r\n   // ...\r\n}\r\n```\r\n\r\n``` java\r\npublic class SinglyLinkedListNode&lt;T&gt; extends Node&lt;T&gt; {\r\n   // ...\r\n}\r\n```\r\n\r\n\r\n``` java\r\npublic class Node&lt;T&gt; {\r\n   // ...\r\n}\r\n```\r\n\r\n``` java\r\npublic class SinglyLinkedList&lt;T&gt; implements LinkedList&lt;T&gt; {\r\n   public Optional&lt;SinglyLinkedListNode&lt;T&gt;&gt; findNodeByData(T data){\r\n      // ...\r\n   }\r\n}\r\n```\r\nMy goal is to have the method in interface accept any class that extends `Node&lt;T&gt;`, as `N`.\r\n\r\nI get the error `&#39;findNodeByData(T)&#39; in &#39;com.starosti.datastructures.linkedlist.singly.SinglyLinkedList&#39; clashes with &#39;findNodeByData(T)&#39; in &#39;com.starosti.datastructures.linkedlist.LinkedList&#39;; both methods have same erasure, yet neither overrides the other ` in the line that `findNodeByData` is defined in `SinglyLinkedList&lt;T&gt;`.\r\n\r\nHow do I fix this issue? Is there a better way to do this?\r\n","title":"Error while trying to accept generic types that extend a class in an interface","body":"<p>In this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface LinkedList&lt;T&gt; {\n   &lt;N extends Node&lt;T&gt;&gt; Optional&lt;N&gt; findNodeByData(T data);\n   // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SinglyLinkedListNode&lt;T&gt; extends Node&lt;T&gt; {\n   // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Node&lt;T&gt; {\n   // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SinglyLinkedList&lt;T&gt; implements LinkedList&lt;T&gt; {\n   public Optional&lt;SinglyLinkedListNode&lt;T&gt;&gt; findNodeByData(T data){\n      // ...\n   }\n}\n</code></pre>\n<p>My goal is to have the method in interface accept any class that extends <code>Node&lt;T&gt;</code>, as <code>N</code>.</p>\n<p>I get the error <code>'findNodeByData(T)' in 'com.starosti.datastructures.linkedlist.singly.SinglyLinkedList' clashes with 'findNodeByData(T)' in 'com.starosti.datastructures.linkedlist.LinkedList'; both methods have same erasure, yet neither overrides the other </code> in the line that <code>findNodeByData</code> is defined in <code>SinglyLinkedList&lt;T&gt;</code>.</p>\n<p>How do I fix this issue? Is there a better way to do this?</p>\n"},{"tags":["java","swing","web-services","sockets"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509938365,"creation_date":1487165365,"answer_id":42250755,"question_id":42250660,"body_markdown":"&gt; Now I wanted to run this application on a webpage. Is this possible without changing any code?\n\nNo. It would have to be a `JApplet` to be embedded in a web page, and applets have been effectively killed off. See [Java Plugin support deprecated](http://www.gizmodo.com.au/2016/01/rest-in-hell-java-plug-in/) and [Moving to a Plugin-Free Web](https://blogs.oracle.com/java-platform-group/entry/moving_to_a_plugin_free).\n\nOn the other hand, a desktop application (based on a `JFrame`) can be launched from a link on a web page using [Java Web Start](https://stackoverflow.com/tags/java-web-start/info).\n\n## Edit\n\nScrap that advice regarding JWS, apparently it too is being deprecated as of Java 9.","title":"How to run a Swing application on a web page?","body":"<blockquote>\n<p>Now I wanted to run this application on a webpage. Is this possible without changing any code?</p>\n</blockquote>\n<p>No. It would have to be a <code>JApplet</code> to be embedded in a web page, and applets have been effectively killed off. See <a href=\"http://www.gizmodo.com.au/2016/01/rest-in-hell-java-plug-in/\" rel=\"nofollow noreferrer\">Java Plugin support deprecated</a> and <a href=\"https://blogs.oracle.com/java-platform-group/entry/moving_to_a_plugin_free\" rel=\"nofollow noreferrer\">Moving to a Plugin-Free Web</a>.</p>\n<p>On the other hand, a desktop application (based on a <code>JFrame</code>) can be launched from a link on a web page using <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>.</p>\n<h2>Edit</h2>\n<p>Scrap that advice regarding JWS, apparently it too is being deprecated as of Java 9.</p>\n"}],"owner":{"account_id":9668209,"reputation":1,"user_id":7174075,"display_name":"Aditi Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664484199,"creation_date":1487165094,"question_id":42250660,"body_markdown":"I have created a Swing application in Netbeans that is basically a chat system (between multiple clients and server using socket programming).\r\n\r\nNow I wanted to run this application on a webpage. Is this possible without changing any code? ","title":"How to run a Swing application on a web page?","body":"<p>I have created a Swing application in Netbeans that is basically a chat system (between multiple clients and server using socket programming).</p>\n\n<p>Now I wanted to run this application on a webpage. Is this possible without changing any code? </p>\n"},{"tags":["java","spring-security","keycloak"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1664448598,"post_id":73890277,"comment_id":130476533,"body_markdown":"I think you forgot to configure the spring security to avoid double bean registration https://www.keycloak.org/docs/12.0/securing_apps/index.html#avoid-double-bean-registration, and can you share why you need your rest api endpoint to be a public client?","body":"I think you forgot to configure the spring security to avoid double bean registration <a href=\"https://www.keycloak.org/docs/12.0/securing_apps/index.html#avoid-double-bean-registration\" rel=\"nofollow noreferrer\">keycloak.org/docs/12.0/securing_apps/&hellip;</a>, and can you share why you need your rest api endpoint to be a public client?"},{"owner":{"account_id":24845157,"reputation":119,"user_id":18723075,"display_name":"alexmntmnk"},"score":0,"creation_date":1664449100,"post_id":73890277,"comment_id":130476721,"body_markdown":"I&#39;m just starting to learn Spring Security in conjunction with Keycloak. This is a ready-made example of using Spring Security, I have not changed anything in the code and I present it as it is.","body":"I&#39;m just starting to learn Spring Security in conjunction with Keycloak. This is a ready-made example of using Spring Security, I have not changed anything in the code and I present it as it is."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664484031,"creation_date":1664484031,"answer_id":73901384,"question_id":73890277,"body_markdown":"**Do not use Keycloak adapter for Spring**. [It is (very) deprecated][1]. Use `spring-boot-starter-oauth2-resource-server` instead. [See here how][2].\r\n\r\nYour `@RestControllers` form resource-server(s). From OAuth2 resource-server point of view, a request is authorized when it has a **Bearer `Authorization` header**. It does not matter: \r\n- which of accepted authorization-server issued that token (in multi-tenant scenarios)\r\n- how that token was acquired:\r\n  * a user is authorized with authorization-code flow (which might invole multifactor authentication)\r\n  * a program is authenticated with client-credentials flow \r\n  * even a device can be authorized with device flow. \r\n\r\nPut login, logout, access-token acquiring and refreshing, etc. in clients. Choose an OpenID lib for your client-side framework to do that (or test with Postman which has integrated tooling for getting OAuth2 access-tokens).\r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"The client on Spring Boot does not switch to Keylock for authorization","body":"<p><strong>Do not use Keycloak adapter for Spring</strong>. <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">It is (very) deprecated</a>. Use <code>spring-boot-starter-oauth2-resource-server</code> instead. <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">See here how</a>.</p>\n<p>Your <code>@RestControllers</code> form resource-server(s). From OAuth2 resource-server point of view, a request is authorized when it has a <strong>Bearer <code>Authorization</code> header</strong>. It does not matter:</p>\n<ul>\n<li>which of accepted authorization-server issued that token (in multi-tenant scenarios)</li>\n<li>how that token was acquired:\n<ul>\n<li>a user is authorized with authorization-code flow (which might invole multifactor authentication)</li>\n<li>a program is authenticated with client-credentials flow</li>\n<li>even a device can be authorized with device flow.</li>\n</ul>\n</li>\n</ul>\n<p>Put login, logout, access-token acquiring and refreshing, etc. in clients. Choose an OpenID lib for your client-side framework to do that (or test with Postman which has integrated tooling for getting OAuth2 access-tokens).</p>\n"}],"owner":{"account_id":24845157,"reputation":119,"user_id":18723075,"display_name":"alexmntmnk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664484031,"creation_date":1664425552,"question_id":73890277,"body_markdown":"\r\nI&#39;m trying to reproduce an example of working with Keylock.\r\nI connect to Keycloak using an adapter.\r\n\r\nHere is the application code\r\n\r\n    @KeycloakConfiguration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new NullAuthenticatedSessionStrategy();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder authManagerBuilder) {\r\n            KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n            keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n            authManagerBuilder.authenticationProvider(keycloakAuthenticationProvider);\r\n        }\r\n    \r\n        @Bean\r\n        public KeycloakConfigResolver keycloakConfigResolver() {\r\n            return new KeycloakSpringBootConfigResolver();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/api/anonymous/**&quot;).permitAll()\r\n                    .anyRequest().fullyAuthenticated();\r\n        }\r\n    }\r\n\r\nController\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class SampleController {\r\n    \r\n        @GetMapping(&quot;/user&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n        public String getUserInfo() {\r\n            return &quot;user info&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/admin&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n        public String getAdminInfo() {\r\n            return &quot;admin info&quot;;\r\n        }\r\n    }\r\n\r\nThese are Spring settings\r\n\r\n    server:\r\n      port: ${SERVER_PORT:11002}\r\n    spring:\t\r\n      application.name: ${APPLICATION_NAME:spring-security-keycloak}\r\n    keycloak:\r\n      auth-server-url: http://10.15.68.8:8484/auth\r\n      realm: first-test\r\n      resource: first-login\r\n      public-client: true\r\n\r\npom.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.9.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;org.akazakov.keycloak&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo-keycloak-adapter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Demo Keycloak Adapter&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot and Keycloak&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;12.0.3&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nKeycloak itself is launched in Docker at this address http://10.15.68.8:8484\r\n\r\n\r\nI open the page in the browser\r\n\r\n    http://localhost:11002/api/admin\r\n\r\nand instead of\r\n\r\n    http://10.15.68.8:8484/auth\r\n\r\n I get on\r\n\r\n    http://localhost:11002/sso/login\r\n\r\nmoreover, it turns out to be looping, i.e. there is a constant transition to this address.\r\n\r\nAnd in the Spring application, an error crashes with each such transition\r\n\r\n    2022-09-28 16:09:53.661 ERROR 74584 --- [io-11002-exec-7] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing /sso/login\r\n    \r\n    java.lang.NoClassDefFoundError: java/security/acl/Group\r\n    \tat org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.createPrincipalFactory(KeycloakAuthenticatorValve.java:96) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\r\n    \tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.createSessionTokenStore(AbstractKeycloakAuthenticatorValve.java:262) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\r\n    \tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.getTokenStore(AbstractKeycloakAuthenticatorValve.java:251) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\r\n    \tat org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.getTokenStore(KeycloakAuthenticatorValve.java:106) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\r\n    \tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.checkKeycloakSession(AbstractKeycloakAuthenticatorValve.java:228) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\r\n    \tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:180) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n    Caused by: java.lang.ClassNotFoundException: java.security.acl.Group\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \t... 19 common frames omitted\r\n\r\n\r\n","title":"The client on Spring Boot does not switch to Keylock for authorization","body":"<p>I'm trying to reproduce an example of working with Keylock.\nI connect to Keycloak using an adapter.</p>\n<p>Here is the application code</p>\n<pre><code>@KeycloakConfiguration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new NullAuthenticatedSessionStrategy();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder authManagerBuilder) {\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n        authManagerBuilder.authenticationProvider(keycloakAuthenticationProvider);\n    }\n\n    @Bean\n    public KeycloakConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/api/anonymous/**&quot;).permitAll()\n                .anyRequest().fullyAuthenticated();\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class SampleController {\n\n    @GetMapping(&quot;/user&quot;)\n    @PreAuthorize(&quot;hasRole('USER')&quot;)\n    public String getUserInfo() {\n        return &quot;user info&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public String getAdminInfo() {\n        return &quot;admin info&quot;;\n    }\n}\n</code></pre>\n<p>These are Spring settings</p>\n<pre><code>server:\n  port: ${SERVER_PORT:11002}\nspring: \n  application.name: ${APPLICATION_NAME:spring-security-keycloak}\nkeycloak:\n  auth-server-url: http://10.15.68.8:8484/auth\n  realm: first-test\n  resource: first-login\n  public-client: true\n</code></pre>\n<p>pom.xml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.9.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.akazakov.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-keycloak-adapter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Demo Keycloak Adapter&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot and Keycloak&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;12.0.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Keycloak itself is launched in Docker at this address <a href=\"http://10.15.68.8:8484\" rel=\"nofollow noreferrer\">http://10.15.68.8:8484</a></p>\n<p>I open the page in the browser</p>\n<pre><code>http://localhost:11002/api/admin\n</code></pre>\n<p>and instead of</p>\n<pre><code>http://10.15.68.8:8484/auth\n</code></pre>\n<p>I get on</p>\n<pre><code>http://localhost:11002/sso/login\n</code></pre>\n<p>moreover, it turns out to be looping, i.e. there is a constant transition to this address.</p>\n<p>And in the Spring application, an error crashes with each such transition</p>\n<pre><code>2022-09-28 16:09:53.661 ERROR 74584 --- [io-11002-exec-7] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing /sso/login\n\njava.lang.NoClassDefFoundError: java/security/acl/Group\n    at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.createPrincipalFactory(KeycloakAuthenticatorValve.java:96) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.createSessionTokenStore(AbstractKeycloakAuthenticatorValve.java:262) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.getTokenStore(AbstractKeycloakAuthenticatorValve.java:251) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\n    at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.getTokenStore(KeycloakAuthenticatorValve.java:106) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.checkKeycloakSession(AbstractKeycloakAuthenticatorValve.java:228) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:180) ~[spring-boot-container-bundle-12.0.3.jar:12.0.3]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\nCaused by: java.lang.ClassNotFoundException: java.security.acl.Group\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 19 common frames omitted\n</code></pre>\n"},{"tags":["java","multithreading","unit-testing","junit","scheduledexecutorservice"],"comments":[{"owner":{"account_id":171285,"reputation":18033,"user_id":398606,"display_name":"Sunil D."},"score":0,"creation_date":1441719530,"post_id":32459184,"comment_id":52780730,"body_markdown":"You might consider adding an additional tag or two to your question so it can be targeted to the appropriate audience. Eg. What language are you coding in, what is your unit test framework, etc. Why should we waste time giving you inappropriate answers.","body":"You might consider adding an additional tag or two to your question so it can be targeted to the appropriate audience. Eg. What language are you coding in, what is your unit test framework, etc. Why should we waste time giving you inappropriate answers."},{"owner":{"account_id":171285,"reputation":18033,"user_id":398606,"display_name":"Sunil D."},"score":0,"creation_date":1441719623,"post_id":32459184,"comment_id":52780797,"body_markdown":"To further my comment, there is a nice solution for tests involving timers/something that sleeps in AngularJs. But that&#39;s obviously not what you&#39;re using :)","body":"To further my comment, there is a nice solution for tests involving timers/something that sleeps in AngularJs. But that&#39;s obviously not what you&#39;re using :)"},{"owner":{"account_id":1513755,"reputation":307,"user_id":1415248,"accept_rate":40,"display_name":"Mark Cuban"},"score":0,"creation_date":1441719894,"post_id":32459184,"comment_id":52781007,"body_markdown":"Thanks for the tip. Done.","body":"Thanks for the tip. Done."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1441733682,"creation_date":1441733682,"answer_id":32463942,"question_id":32459184,"body_markdown":"Your &quot;unit tests&quot; sound a little bit like _integration tests_.  You are not only testing the unit that uses the `ScheduledExecutorService`, but you are also testing the `ScheduledExecutorService` itself.\r\n\r\nA better approach would be to _inject_ a _mock_ `ScheduledExecutorService`.  In other words, you shouldn&#39;t need to test that the timed event actually happens four seconds later; you should only need to test that your unit _asked_ the scheduler to run it four seconds later.\r\n\r\nThat&#39;s where mocks come in.  You inject the mock scheduler, perform some operation on your unit that should cause it to interact with the scheduler, and then you can interrogate the mock to verify that the interaction actually happened in the expected way.\r\n\r\nIf you do it right, each test case can complete in milliseconds or maybe microseconds instead of seconds.","title":"Testing code which uses ScheduledExecutorService (without using Sleep)","body":"<p>Your \"unit tests\" sound a little bit like <em>integration tests</em>.  You are not only testing the unit that uses the <code>ScheduledExecutorService</code>, but you are also testing the <code>ScheduledExecutorService</code> itself.</p>\n\n<p>A better approach would be to <em>inject</em> a <em>mock</em> <code>ScheduledExecutorService</code>.  In other words, you shouldn't need to test that the timed event actually happens four seconds later; you should only need to test that your unit <em>asked</em> the scheduler to run it four seconds later.</p>\n\n<p>That's where mocks come in.  You inject the mock scheduler, perform some operation on your unit that should cause it to interact with the scheduler, and then you can interrogate the mock to verify that the interaction actually happened in the expected way.</p>\n\n<p>If you do it right, each test case can complete in milliseconds or maybe microseconds instead of seconds.</p>\n"},{"tags":[],"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578329727,"creation_date":1578329727,"answer_id":59616040,"question_id":32459184,"body_markdown":"It&#39;s surprisingly tough to make `ScheduleExecutorService` itself testable. Frustratingly its implementation (`ScheduledThreadPoolExecutor`) does have a `now()` method. In principle you could override this and control the time! The problem is that the method is package-private and final, so it&#39;s not available to be overridden.  It might be possible to override this using something like PowerMock.\r\n\r\nIf you can&#39;t override this method then there&#39;s not really much of `ScheduleExecutorService` you can use. In principle you could implement your own subclass of `ThreadPoolExecutor` that honours the `ScheduledExectuorService` but that involves implementing a custom `BlockingQueue` which is quite a complicated thing to get right.\r\n\r\nThe simplest thing is to use a Mock implementation of `ScheduleExecturoService` - there is an (incomplete) example that does exactly this on the [Mockito Wiki][1].\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)","title":"Testing code which uses ScheduledExecutorService (without using Sleep)","body":"<p>It's surprisingly tough to make <code>ScheduleExecutorService</code> itself testable. Frustratingly its implementation (<code>ScheduledThreadPoolExecutor</code>) does have a <code>now()</code> method. In principle you could override this and control the time! The problem is that the method is package-private and final, so it's not available to be overridden.  It might be possible to override this using something like PowerMock.</p>\n\n<p>If you can't override this method then there's not really much of <code>ScheduleExecutorService</code> you can use. In principle you could implement your own subclass of <code>ThreadPoolExecutor</code> that honours the <code>ScheduledExectuorService</code> but that involves implementing a custom <code>BlockingQueue</code> which is quite a complicated thing to get right.</p>\n\n<p>The simplest thing is to use a Mock implementation of <code>ScheduleExecturoService</code> - there is an (incomplete) example that does exactly this on the <a href=\"https://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)\" rel=\"nofollow noreferrer\">Mockito Wiki</a>.</p>\n"},{"tags":[],"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578395787,"creation_date":1578394231,"answer_id":59626946,"question_id":32459184,"body_markdown":"I&#39;ve implemented a `FixedClockScheduledExecutorService` for testing which I hope is helpful to some. To use it simply schedule tasks as usual, and call `elapse()` when you want to advance time and make things happen.\r\n\r\n(There&#39;s a few minor caveats: Ordering isn&#39;t implemented, neither is shutdown logic, and it might not work over extreme time ranges. These could all be fixed if necessary).\r\n\r\n```\r\nclass FixedClockScheduledExecutorService extends AbstractExecutorService implements ScheduledExecutorService {\r\n    public FixedClockScheduledExecutorService() {}\r\n\r\n    private final Collection&lt;Job&lt;?&gt;&gt; jobs = new CopyOnWriteArrayList&lt;&gt;(); //Collection must support concurrent modification. TODO: Needs ordering\r\n    private long offsetNanos = 0;\r\n\r\n    //Call this to advance the clock...\r\n    public void elapse(long time, TimeUnit timeUnit) {\r\n        offsetNanos += NANOSECONDS.convert(time, timeUnit);\r\n\r\n        for(Job&lt;?&gt; job: jobs) {\r\n            if(offsetNanos &gt;= job.initialDelayNanos) {\r\n                jobs.remove(job);\r\n                job.run();\r\n            }\r\n        }\r\n    }\r\n\r\n    private &lt;V&gt; ScheduledFuture&lt;V&gt; scheduleIntenal(Callable&lt;V&gt; callable, long delay, long period, TimeUnit timeUnit) {\r\n        Job&lt;V&gt; job = new Job&lt;V&gt;(callable, offsetNanos + NANOSECONDS.convert( delay, timeUnit), NANOSECONDS.convert(period, timeUnit));\r\n        jobs.add(job);\r\n        return job;\r\n    }\r\n\r\n\r\n    @Override\r\n    public ScheduledFuture&lt;?&gt; schedule(Runnable runnable, long delay, TimeUnit timeUnit) {\r\n        return schedule(Executors.callable(runnable, null), delay, timeUnit);\r\n    }\r\n\r\n    @Override\r\n    public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable, long delay, TimeUnit timeUnit) {\r\n        return scheduleIntenal(callable, delay, 0, timeUnit);\r\n    }\r\n\r\n    @Override\r\n    public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable runnable, long delay, long period, TimeUnit timeUnit) {\r\n        return scheduleIntenal(Executors.callable(runnable, null), delay, Math.abs(period), timeUnit);\r\n    }\r\n\r\n    @Override\r\n    public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable runnable, long delay, long period, TimeUnit timeUnit) {\r\n        return scheduleIntenal(Executors.callable(runnable, null), delay, -Math.abs(period), timeUnit);\r\n    }\r\n\r\n\r\n    class Job&lt;V&gt; extends FutureTask&lt;V&gt; implements ScheduledFuture&lt;V&gt; {\r\n        final Callable&lt;V&gt; task;\r\n        final long initialDelayNanos;\r\n        final long periodNanos;\r\n\r\n        public Job(Callable&lt;V&gt; runner, long initialDelayNanos, long periodNanos) {\r\n            super(runner);\r\n            this.task = runner;\r\n            this.initialDelayNanos = initialDelayNanos;\r\n            this.periodNanos = periodNanos;\r\n        }\r\n        @Override public long getDelay(TimeUnit timeUnit) {return timeUnit.convert(initialDelayNanos, NANOSECONDS);}\r\n        @Override public int compareTo(Delayed delayed) {throw new RuntimeException();} //Need to implement this to fix ordering.\r\n\r\n        @Override public void run() {\r\n            if(periodNanos == 0) {\r\n                super.run();\r\n            } else {\r\n                //If this task is periodic and it runs ok, then reschedule it.\r\n                if(super.runAndReset()) {\r\n                   jobs.add(reschedule(offsetNanos));\r\n                }\r\n            }\r\n        }\r\n\r\n        private Job&lt;V&gt; reschedule(long offset) {\r\n            if(periodNanos &lt; 0) return new Job&lt;V&gt;(task, offset, periodNanos); //fixed delay\r\n            long newDelay = initialDelayNanos;  while(newDelay &lt;= offset) newDelay += periodNanos; //fixed rate\r\n            return new Job&lt;V&gt;(task, newDelay, periodNanos);\r\n        }\r\n    }\r\n\r\n    @Override public void execute(Runnable command) { schedule(command, 0, NANOSECONDS); }\r\n    @Override public void shutdown() {}\r\n    @Override public List&lt;Runnable&gt; shutdownNow() { throw new RuntimeException(); }\r\n    @Override public boolean isShutdown() { return false;}\r\n    @Override public boolean isTerminated() { return false;}\r\n    @Override public boolean awaitTermination(long timeout, TimeUnit unit) { return true; }\r\n}\r\n```","title":"Testing code which uses ScheduledExecutorService (without using Sleep)","body":"<p>I've implemented a <code>FixedClockScheduledExecutorService</code> for testing which I hope is helpful to some. To use it simply schedule tasks as usual, and call <code>elapse()</code> when you want to advance time and make things happen.</p>\n\n<p>(There's a few minor caveats: Ordering isn't implemented, neither is shutdown logic, and it might not work over extreme time ranges. These could all be fixed if necessary).</p>\n\n<pre><code>class FixedClockScheduledExecutorService extends AbstractExecutorService implements ScheduledExecutorService {\n    public FixedClockScheduledExecutorService() {}\n\n    private final Collection&lt;Job&lt;?&gt;&gt; jobs = new CopyOnWriteArrayList&lt;&gt;(); //Collection must support concurrent modification. TODO: Needs ordering\n    private long offsetNanos = 0;\n\n    //Call this to advance the clock...\n    public void elapse(long time, TimeUnit timeUnit) {\n        offsetNanos += NANOSECONDS.convert(time, timeUnit);\n\n        for(Job&lt;?&gt; job: jobs) {\n            if(offsetNanos &gt;= job.initialDelayNanos) {\n                jobs.remove(job);\n                job.run();\n            }\n        }\n    }\n\n    private &lt;V&gt; ScheduledFuture&lt;V&gt; scheduleIntenal(Callable&lt;V&gt; callable, long delay, long period, TimeUnit timeUnit) {\n        Job&lt;V&gt; job = new Job&lt;V&gt;(callable, offsetNanos + NANOSECONDS.convert( delay, timeUnit), NANOSECONDS.convert(period, timeUnit));\n        jobs.add(job);\n        return job;\n    }\n\n\n    @Override\n    public ScheduledFuture&lt;?&gt; schedule(Runnable runnable, long delay, TimeUnit timeUnit) {\n        return schedule(Executors.callable(runnable, null), delay, timeUnit);\n    }\n\n    @Override\n    public &lt;V&gt; ScheduledFuture&lt;V&gt; schedule(Callable&lt;V&gt; callable, long delay, TimeUnit timeUnit) {\n        return scheduleIntenal(callable, delay, 0, timeUnit);\n    }\n\n    @Override\n    public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable runnable, long delay, long period, TimeUnit timeUnit) {\n        return scheduleIntenal(Executors.callable(runnable, null), delay, Math.abs(period), timeUnit);\n    }\n\n    @Override\n    public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable runnable, long delay, long period, TimeUnit timeUnit) {\n        return scheduleIntenal(Executors.callable(runnable, null), delay, -Math.abs(period), timeUnit);\n    }\n\n\n    class Job&lt;V&gt; extends FutureTask&lt;V&gt; implements ScheduledFuture&lt;V&gt; {\n        final Callable&lt;V&gt; task;\n        final long initialDelayNanos;\n        final long periodNanos;\n\n        public Job(Callable&lt;V&gt; runner, long initialDelayNanos, long periodNanos) {\n            super(runner);\n            this.task = runner;\n            this.initialDelayNanos = initialDelayNanos;\n            this.periodNanos = periodNanos;\n        }\n        @Override public long getDelay(TimeUnit timeUnit) {return timeUnit.convert(initialDelayNanos, NANOSECONDS);}\n        @Override public int compareTo(Delayed delayed) {throw new RuntimeException();} //Need to implement this to fix ordering.\n\n        @Override public void run() {\n            if(periodNanos == 0) {\n                super.run();\n            } else {\n                //If this task is periodic and it runs ok, then reschedule it.\n                if(super.runAndReset()) {\n                   jobs.add(reschedule(offsetNanos));\n                }\n            }\n        }\n\n        private Job&lt;V&gt; reschedule(long offset) {\n            if(periodNanos &lt; 0) return new Job&lt;V&gt;(task, offset, periodNanos); //fixed delay\n            long newDelay = initialDelayNanos;  while(newDelay &lt;= offset) newDelay += periodNanos; //fixed rate\n            return new Job&lt;V&gt;(task, newDelay, periodNanos);\n        }\n    }\n\n    @Override public void execute(Runnable command) { schedule(command, 0, NANOSECONDS); }\n    @Override public void shutdown() {}\n    @Override public List&lt;Runnable&gt; shutdownNow() { throw new RuntimeException(); }\n    @Override public boolean isShutdown() { return false;}\n    @Override public boolean isTerminated() { return false;}\n    @Override public boolean awaitTermination(long timeout, TimeUnit unit) { return true; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1976126,"reputation":521,"user_id":3134602,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593213395,"creation_date":1593213395,"answer_id":62604123,"question_id":32459184,"body_markdown":"I have found, that [DeterministicScheduler](https://github.com/jmock-developers/jmock-library/blob/2.12.0/jmock/src/main/java/org/jmock/lib/concurrent/DeterministicScheduler.java#L28) _(from [jMock](http://jmock.org/threading-scheduler.html) lib)_ is the nice way to test code, which uses `ScheduledExecutorService`.\r\n\r\nIt provides similar functionality like [TestScheduler](http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/schedulers/TestScheduler.html) provides for code, which uses RxJava or [DelayController](https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/kotlinx.coroutines.test/-delay-controller/advance-time-by.html) for Kotlin code, which uses coroutine.\r\n\r\nIn both cases [`tick()`](https://github.com/jmock-developers/jmock-library/blob/2.12.0/jmock/src/test/java/org/jmock/test/unit/lib/concurrent/DeterministicSchedulerTests.java#L288) does exactly the same as `advanceTimeBy()` is doing in earlier mentioning libs: \r\nit moves _virtual time forward_ and runs any task, which is expected to be executed within given _time frame_. \r\n\r\nYou would need to add core jMock lib in order to use it. \r\n\r\nE.g. using Gradle:\r\n\r\n```Groovy\r\n\r\ndependencies {\r\n    //Used only as provider of DeterministicScheduler (test implementation of ScheduledExecutorService)\r\n    testImplementation(&quot;org.jmock:jmock:2.12.0&quot;)\r\n}\r\n```\r\n\r\n\r\nOff topic: as far as I can see it&#39;s general purouse functionality, which is not related to jMock mocking functionality.\r\nIdeally it would be nice to provide it as a separate JAR/maven artifact so that people can easily pull it without adding whole jmock lib.\r\nI have crated [an issue](https://github.com/jmock-developers/jmock-library/issues/196) with this suggestion already.\r\n","title":"Testing code which uses ScheduledExecutorService (without using Sleep)","body":"<p>I have found, that <a href=\"https://github.com/jmock-developers/jmock-library/blob/2.12.0/jmock/src/main/java/org/jmock/lib/concurrent/DeterministicScheduler.java#L28\" rel=\"nofollow noreferrer\">DeterministicScheduler</a> <em>(from <a href=\"http://jmock.org/threading-scheduler.html\" rel=\"nofollow noreferrer\">jMock</a> lib)</em> is the nice way to test code, which uses <code>ScheduledExecutorService</code>.</p>\n<p>It provides similar functionality like <a href=\"http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/schedulers/TestScheduler.html\" rel=\"nofollow noreferrer\">TestScheduler</a> provides for code, which uses RxJava or <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/kotlinx.coroutines.test/-delay-controller/advance-time-by.html\" rel=\"nofollow noreferrer\">DelayController</a> for Kotlin code, which uses coroutine.</p>\n<p>In both cases <a href=\"https://github.com/jmock-developers/jmock-library/blob/2.12.0/jmock/src/test/java/org/jmock/test/unit/lib/concurrent/DeterministicSchedulerTests.java#L288\" rel=\"nofollow noreferrer\"><code>tick()</code></a> does exactly the same as <code>advanceTimeBy()</code> is doing in earlier mentioning libs:\nit moves <em>virtual time forward</em> and runs any task, which is expected to be executed within given <em>time frame</em>.</p>\n<p>You would need to add core jMock lib in order to use it.</p>\n<p>E.g. using Gradle:</p>\n<pre><code>\ndependencies {\n    //Used only as provider of DeterministicScheduler (test implementation of ScheduledExecutorService)\n    testImplementation(&quot;org.jmock:jmock:2.12.0&quot;)\n}\n</code></pre>\n<p>Off topic: as far as I can see it's general purouse functionality, which is not related to jMock mocking functionality.\nIdeally it would be nice to provide it as a separate JAR/maven artifact so that people can easily pull it without adding whole jmock lib.\nI have crated <a href=\"https://github.com/jmock-developers/jmock-library/issues/196\" rel=\"nofollow noreferrer\">an issue</a> with this suggestion already.</p>\n"},{"tags":[],"owner":{"account_id":6146602,"reputation":688,"user_id":4793190,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664483560,"creation_date":1664483050,"answer_id":73901240,"question_id":32459184,"body_markdown":"If you are using Kotlin with mockk, mocked `ScheduledExecutorService` is the way to go.\r\n\r\n```\r\nclass MyExecutorClass() {\r\n    fun executeSomething() {\r\n        Executors.newSingleThreadScheduledExecutor().schedule( {\r\n                // do something here\r\n            }, 3, TimeUnit.SECONDS)\r\n    }\r\n}\r\n       \r\n@Test\r\nfun myExecutorTest() {\r\n    // setup\r\n    val capturingSlotRunnable: CapturingSlot&lt;Runnable&gt; = slot()\r\n    mockkStatic(Executors::class)\r\n    val mockExecutor: ScheduledExecutorService = mockk(relaxed = true)\r\n    every { Executors.newSingleThreadScheduledExecutor() } returns mockExecutor\r\n    every { mockExecutor.schedule(capture(capturingSlotRunnable), any(), any()) } returns null\r\n    \r\n    // execute\r\n    val myExecutor = MyExecutorClass()\r\n    myExecutor.executeSomething()\r\n    val runnable = capturingSlotRunnable.captured\r\n    runnable.run()\r\n\r\n    // verify\r\n    // TODO: verify the executable block did whatever it was supposed to\r\n}\r\n```\r\n    ","title":"Testing code which uses ScheduledExecutorService (without using Sleep)","body":"<p>If you are using Kotlin with mockk, mocked <code>ScheduledExecutorService</code> is the way to go.</p>\n<pre><code>class MyExecutorClass() {\n    fun executeSomething() {\n        Executors.newSingleThreadScheduledExecutor().schedule( {\n                // do something here\n            }, 3, TimeUnit.SECONDS)\n    }\n}\n       \n@Test\nfun myExecutorTest() {\n    // setup\n    val capturingSlotRunnable: CapturingSlot&lt;Runnable&gt; = slot()\n    mockkStatic(Executors::class)\n    val mockExecutor: ScheduledExecutorService = mockk(relaxed = true)\n    every { Executors.newSingleThreadScheduledExecutor() } returns mockExecutor\n    every { mockExecutor.schedule(capture(capturingSlotRunnable), any(), any()) } returns null\n    \n    // execute\n    val myExecutor = MyExecutorClass()\n    myExecutor.executeSomething()\n    val runnable = capturingSlotRunnable.captured\n    runnable.run()\n\n    // verify\n    // TODO: verify the executable block did whatever it was supposed to\n}\n</code></pre>\n"}],"owner":{"account_id":1513755,"reputation":307,"user_id":1415248,"accept_rate":40,"display_name":"Mark Cuban"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15286,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1664483560,"creation_date":1441719041,"question_id":32459184,"body_markdown":"I have a validation object which runs input through a series of checks. If an input fails any of the checks, the validation ends.\r\n\r\nInputs which pass all the checks get grouped based on a sliding time window. This window kicks off when the first piece of input arrives. So this is the flow:\r\n\r\n1. First input arrives.\r\n2. Input passes all checks.\r\n3. Since there is no active timer, input is put in a new basket. Timer window begins for N seconds.\r\n4. Any subsequent input passing all checks within this timer window will get grouped into the same basket.\r\n5. Once the timer goes off, the basket is dispatched.\r\n6. Any further valid input will start a new timer, and the process repeats.\r\n\r\nAt the moment, to make sure valid inputs get grouped together properly, I&#39;m using Thread.sleep in the unit tests (i.e. Once I send a number of inputs, I sleep for a few seconds, then wake up and make sure the basket which got dispatched contains everything expected).\r\n\r\nThis is starting to become annoying as I have over 700 unit tests and this test collection is the bottleneck each time I run the complete suite.\r\n\r\nThe time window is simply a ScheduledExecutorService. To be able to test this functionality more quickly, should I create a settable time window object?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Testing code which uses ScheduledExecutorService (without using Sleep)","body":"<p>I have a validation object which runs input through a series of checks. If an input fails any of the checks, the validation ends.</p>\n<p>Inputs which pass all the checks get grouped based on a sliding time window. This window kicks off when the first piece of input arrives. So this is the flow:</p>\n<ol>\n<li>First input arrives.</li>\n<li>Input passes all checks.</li>\n<li>Since there is no active timer, input is put in a new basket. Timer window begins for N seconds.</li>\n<li>Any subsequent input passing all checks within this timer window will get grouped into the same basket.</li>\n<li>Once the timer goes off, the basket is dispatched.</li>\n<li>Any further valid input will start a new timer, and the process repeats.</li>\n</ol>\n<p>At the moment, to make sure valid inputs get grouped together properly, I'm using Thread.sleep in the unit tests (i.e. Once I send a number of inputs, I sleep for a few seconds, then wake up and make sure the basket which got dispatched contains everything expected).</p>\n<p>This is starting to become annoying as I have over 700 unit tests and this test collection is the bottleneck each time I run the complete suite.</p>\n<p>The time window is simply a ScheduledExecutorService. To be able to test this functionality more quickly, should I create a settable time window object?</p>\n"},{"tags":["java","visual-studio-code","compilation"],"answers":[{"tags":[],"owner":{"account_id":23800564,"reputation":26,"user_id":17810836,"display_name":"ubi-nubi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641062381,"creation_date":1641062381,"answer_id":70551028,"question_id":70550418,"body_markdown":"I hope this could help: \r\nhttps://code.visualstudio.com/docs/java/java-debugging#_launch.\r\nSee the Configuration Options section (the Launch paragraph). It seems like some options allow you to pass arguments to the JVM. However, you have to configure some JSON files.","title":"Passing argument to Java compiler in vscode","body":"<p>I hope this could help:\n<a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-debugging#_launch</a>.\nSee the Configuration Options section (the Launch paragraph). It seems like some options allow you to pass arguments to the JVM. However, you have to configure some JSON files.</p>\n"},{"tags":[],"owner":{"account_id":15147852,"reputation":81,"user_id":10930992,"display_name":"Ilya Nazarchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664482829,"creation_date":1664482829,"answer_id":73901208,"question_id":70550418,"body_markdown":"here is what helped me, \r\n[https://github.com/microsoft/vscode-java-debug/blob/main/Configuration.md#arguments]\r\n\r\n 1. click on arguments \r\n 2. follow the image video that you need\r\n 3. takes (the first one)String or (the second one)Array \r\n\r\nalso, you would do it in launch.json","title":"Passing argument to Java compiler in vscode","body":"<p>here is what helped me,\n[https://github.com/microsoft/vscode-java-debug/blob/main/Configuration.md#arguments]</p>\n<ol>\n<li>click on arguments</li>\n<li>follow the image video that you need</li>\n<li>takes (the first one)String or (the second one)Array</li>\n</ol>\n<p>also, you would do it in launch.json</p>\n"}],"owner":{"account_id":19032471,"reputation":13,"user_id":13894268,"display_name":"Umar Abdul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70551028,"answer_count":2,"score":1,"last_activity_date":1664482829,"creation_date":1641056636,"question_id":70550418,"body_markdown":"I have vscode 1.63.2, and working on a simple Java project (with no build tools). I&#39;m using the recommended Java extensions pack. I can compile and run the project through vscode with no issues, but I can&#39;t find a way to pass a single argument to the command used to compile the .java files in settings. The command I want to pass is `-release 9`. Your help will be really appreciated.","title":"Passing argument to Java compiler in vscode","body":"<p>I have vscode 1.63.2, and working on a simple Java project (with no build tools). I'm using the recommended Java extensions pack. I can compile and run the project through vscode with no issues, but I can't find a way to pass a single argument to the command used to compile the .java files in settings. The command I want to pass is <code>-release 9</code>. Your help will be really appreciated.</p>\n"},{"tags":["java","spring-boot","graphql-java"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664476889,"post_id":73900154,"comment_id":130487030,"body_markdown":"Your dependencies seem conflicting/outdated, please have a look at [current reference doc](https://docs.spring.io/spring-graphql/docs/current/reference/html/) ..and e.g. [webflux-sample](https://github.com/spring-projects/spring-graphql/tree/main/samples/webflux-websocket)","body":"Your dependencies seem conflicting/outdated, please have a look at <a href=\"https://docs.spring.io/spring-graphql/docs/current/reference/html/\" rel=\"nofollow noreferrer\">current reference doc</a> ..and e.g. <a href=\"https://github.com/spring-projects/spring-graphql/tree/main/samples/webflux-websocket\" rel=\"nofollow noreferrer\">webflux-sample</a>"},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":0,"creation_date":1664480106,"post_id":73900154,"comment_id":130487928,"body_markdown":"@xerx593 - I tried using the sample classes you linked plus updated my pom, and it doesn&#39;t work either","body":"@xerx593 - I tried using the sample classes you linked plus updated my pom, and it doesn&#39;t work either"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664480656,"post_id":73900154,"comment_id":130488068,"body_markdown":"Unfortunately the samples are Gradle only ... Try https://www.google.com/search?q=gradle+2+maven ..but I suspect the `com.graphql-java*` dependencies (they are not part of sample)","body":"Unfortunately the samples are Gradle only ... Try <a href=\"https://www.google.com/search?q=gradle+2+maven\" rel=\"nofollow noreferrer\">google.com/search?q=gradle+2+maven</a> ..but I suspect the <code>com.graphql-java*</code> dependencies (they are not part of sample)"},{"owner":{"account_id":380975,"reputation":57,"user_id":735339,"accept_rate":75,"display_name":"Deepesh"},"score":0,"creation_date":1670389271,"post_id":73900154,"comment_id":131863047,"body_markdown":"Have you got any workaround for this? I&#39;m also facing the same issue.","body":"Have you got any workaround for this? I&#39;m also facing the same issue."}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1664482482,"creation_date":1664476229,"question_id":73900154,"body_markdown":"I&#39;m trying to make a sample springboot graphql app work.   The graphIql explorer loads (note the &#39;i&#39;) at `localhost:8080/graphiql`, but it looks like the `/graphql` endpoint is returning 404.  Below is the app\r\n\r\nerror\r\n```json\r\n{\r\n  &quot;timestamp&quot;: &quot;2022-09-29T18:22:29.706+00:00&quot;,\r\n  &quot;status&quot;: 404,\r\n  &quot;error&quot;: &quot;Not Found&quot;,\r\n  &quot;path&quot;: &quot;/graphql&quot;\r\n}\r\n```\r\n\r\n```java\r\n@Controller\r\npublic class SampleController {\r\n\r\n    private final DataRepository repository;\r\n\r\n    public SampleController(DataRepository dataRepository) {\r\n        this.repository = dataRepository;\r\n    }\r\n\r\n    @QueryMapping\r\n    public String greeting() {\r\n        return this.repository.getBasic();\r\n    }\r\n\r\n    @QueryMapping\r\n    public Mono&lt;String&gt; greetingMono() {\r\n        return this.repository.getGreeting();\r\n    }\r\n\r\n    @QueryMapping\r\n    public Flux&lt;String&gt; greetingsFlux() {\r\n        return this.repository.getGreetings();\r\n    }\r\n\r\n    @SubscriptionMapping\r\n    public Flux&lt;String&gt; greetings() {\r\n        return this.repository.getGreetingsStream();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe app\r\n```java\r\n@SpringBootApplication\r\npublic class SampleApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SampleApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\napp properties\r\n```\r\nspring.graphql.graphiql.enabled=true\r\nspring.graphql.graphiql.path=/graphiql\r\nspring.graphql.schema.printer.enabled=true\r\nspring.graphql.path=/graphql\r\n```\r\n\r\npom dependencies\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nthe schema\r\n```graphql\r\ntype Query {\r\n    greeting: String\r\n    greetingMono : String\r\n    greetingsFlux : [String]\r\n}\r\ntype Subscription {\r\n    greetings: String\r\n}\r\n```\r\n\r\nUpdate - I added a webflux controller and it finds that ok.  The `@QueryMapping` controller just isn&#39;t working\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class TestController {\r\n\r\n    public TestController() {\r\n    }\r\n\r\n    @GetMapping(&quot;/test2&quot;)\r\n    Mono&lt;String&gt; test() {\r\n        return Mono.just(&quot;hi&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Springboot not finding graphql controller resulting in a 404 for /graphql","body":"<p>I'm trying to make a sample springboot graphql app work.   The graphIql explorer loads (note the 'i') at <code>localhost:8080/graphiql</code>, but it looks like the <code>/graphql</code> endpoint is returning 404.  Below is the app</p>\n<p>error</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;timestamp&quot;: &quot;2022-09-29T18:22:29.706+00:00&quot;,\n  &quot;status&quot;: 404,\n  &quot;error&quot;: &quot;Not Found&quot;,\n  &quot;path&quot;: &quot;/graphql&quot;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class SampleController {\n\n    private final DataRepository repository;\n\n    public SampleController(DataRepository dataRepository) {\n        this.repository = dataRepository;\n    }\n\n    @QueryMapping\n    public String greeting() {\n        return this.repository.getBasic();\n    }\n\n    @QueryMapping\n    public Mono&lt;String&gt; greetingMono() {\n        return this.repository.getGreeting();\n    }\n\n    @QueryMapping\n    public Flux&lt;String&gt; greetingsFlux() {\n        return this.repository.getGreetings();\n    }\n\n    @SubscriptionMapping\n    public Flux&lt;String&gt; greetings() {\n        return this.repository.getGreetingsStream();\n    }\n\n}\n</code></pre>\n<p>The app</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SampleApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>app properties</p>\n<pre><code>spring.graphql.graphiql.enabled=true\nspring.graphql.graphiql.path=/graphiql\nspring.graphql.schema.printer.enabled=true\nspring.graphql.path=/graphql\n</code></pre>\n<p>pom dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;5.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;5.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>the schema</p>\n<pre><code>type Query {\n    greeting: String\n    greetingMono : String\n    greetingsFlux : [String]\n}\ntype Subscription {\n    greetings: String\n}\n</code></pre>\n<p>Update - I added a webflux controller and it finds that ok.  The <code>@QueryMapping</code> controller just isn't working</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class TestController {\n\n    public TestController() {\n    }\n\n    @GetMapping(&quot;/test2&quot;)\n    Mono&lt;String&gt; test() {\n        return Mono.just(&quot;hi&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","tomcat","web-applications","http3"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1664347811,"post_id":73877222,"comment_id":130447821,"body_markdown":"Are you asking about a geospatial database or about HTTP/3? You have tagged both, which one is it? Does Tomcat support HTTP/3 already?","body":"Are you asking about a geospatial database or about HTTP/3? You have tagged both, which one is it? Does Tomcat support HTTP/3 already?"}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664481969,"creation_date":1664481969,"answer_id":73901076,"question_id":73877222,"body_markdown":"Apache Tomcat does not support HTTP/3.\r\n\r\nIf you really need HTTP/3 support then you would need to place Tomcat behind a reverse proxy that does support HTTP/3 and then proxy the requests to Tomcat over one of the supported protocols (AJP, HTTP/1.1, HTTP/2).","title":"How to enable h3 in Tomcat?","body":"<p>Apache Tomcat does not support HTTP/3.</p>\n<p>If you really need HTTP/3 support then you would need to place Tomcat behind a reverse proxy that does support HTTP/3 and then proxy the requests to Tomcat over one of the supported protocols (AJP, HTTP/1.1, HTTP/2).</p>\n"}],"owner":{"account_id":14959777,"reputation":3,"user_id":10799836,"display_name":"Rameshchandra Joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73901076,"answer_count":1,"score":0,"last_activity_date":1664481969,"creation_date":1664347557,"question_id":73877222,"body_markdown":"How to configure/enable http3 in tomcat? Any documented steps would help. I checked tomcat official documentation but nothing could be found. Here is my current connector tag from server.xml - \r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n               clientAuth=&quot;false&quot; keystoreFile=&quot;mykeystorejks&quot;\r\n               keystorePass=&quot;****&quot; server=&quot;Unknown&quot;\r\n                sslEnabledProtocols=&quot;TLSv1.2&quot;\r\n                ciphers=&quot;!aNULL,!eNULL,!EXPORT,!DES,!MD5,!PSK,!RC4,!3DES,!CBC3,\r\n                        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,\r\n                        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,\r\n                        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;\r\n    /&gt;\r\n ","title":"How to enable h3 in Tomcat?","body":"<p>How to configure/enable http3 in tomcat? Any documented steps would help. I checked tomcat official documentation but nothing could be found. Here is my current connector tag from server.xml -</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n           clientAuth=&quot;false&quot; keystoreFile=&quot;mykeystorejks&quot;\n           keystorePass=&quot;****&quot; server=&quot;Unknown&quot;\n            sslEnabledProtocols=&quot;TLSv1.2&quot;\n            ciphers=&quot;!aNULL,!eNULL,!EXPORT,!DES,!MD5,!PSK,!RC4,!3DES,!CBC3,\n                    TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,\n                    TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,\n                    TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;\n/&gt;\n</code></pre>\n"},{"tags":["java","spring","aop","aspectj","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":2026185,"reputation":1242,"user_id":1811106,"display_name":"vinayknl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1506405097,"creation_date":1405585005,"answer_id":24798263,"question_id":24797157,"body_markdown":"See After throwing advice section of &lt;https://docs.spring.io/spring/docs/4.1.0.RELEASE/spring-framework-reference/htmlsingle/#aop-introduction-defn&gt;\r\n\r\nAfter throwing advice runs when a matched method execution exits by throwing an exception. It is declared using the @AfterThrowing annotation:\r\n\r\n\r\nExamples\r\n\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.AfterThrowing;\r\n\r\n    @Aspect\r\n    public class AfterThrowingExample {\r\n\r\n       @AfterThrowing(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)\r\n       public void doRecoveryActions() {\r\n         // ...\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.AfterThrowing;\r\n\r\n    @Aspect\r\n    public class AfterThrowingExample {\r\n\r\n        @AfterThrowing(\r\n        pointcut=&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;,\r\n        throwing=&quot;ex&quot;)\r\n        public void doRecoveryActions(DataAccessException ex) {\r\n           // ...\r\n         }\r\n\r\n    }","title":"Exception handling through spring AOP + Aspectj","body":"<p>See After throwing advice section of <a href=\"https://docs.spring.io/spring/docs/4.1.0.RELEASE/spring-framework-reference/htmlsingle/#aop-introduction-defn\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/4.1.0.RELEASE/spring-framework-reference/htmlsingle/#aop-introduction-defn</a></p>\n\n<p>After throwing advice runs when a matched method execution exits by throwing an exception. It is declared using the @AfterThrowing annotation:</p>\n\n<p>Examples</p>\n\n<pre><code>import org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.AfterThrowing;\n\n@Aspect\npublic class AfterThrowingExample {\n\n   @AfterThrowing(\"com.xyz.myapp.SystemArchitecture.dataAccessOperation()\")\n   public void doRecoveryActions() {\n     // ...\n    }\n\n}\n\n\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.AfterThrowing;\n\n@Aspect\npublic class AfterThrowingExample {\n\n    @AfterThrowing(\n    pointcut=\"com.xyz.myapp.SystemArchitecture.dataAccessOperation()\",\n    throwing=\"ex\")\n    public void doRecoveryActions(DataAccessException ex) {\n       // ...\n     }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3067505,"reputation":137,"user_id":2598888,"display_name":"Nitish Raj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428847717,"creation_date":1428737604,"answer_id":29575335,"question_id":24797157,"body_markdown":"Considering com.sc.bs.impl.* is business/domain layer package and intercepted it in AOP layer using @Around annotation. Code snippet:\r\n    \r\n    \r\n    @Around(&quot;execution(* com.sc.bs.impl..*.*(..))&quot;)\r\n  \tpublic Object exceptionHandlerWithReturnType(ProceedingJoinPoint joinPoint) throws Throwable{\r\n        try {\r\n            obj = joinPoint.proceed();\r\n        } catch(Exception ex) {\r\n            throw ex;\r\n        }\r\n    }","title":"Exception handling through spring AOP + Aspectj","body":"<p>Considering com.sc.bs.impl.* is business/domain layer package and intercepted it in AOP layer using @Around annotation. Code snippet:</p>\n\n<pre><code>@Around(\"execution(* com.sc.bs.impl..*.*(..))\")\npublic Object exceptionHandlerWithReturnType(ProceedingJoinPoint joinPoint) throws Throwable{\n    try {\n        obj = joinPoint.proceed();\n    } catch(Exception ex) {\n        throw ex;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9288922,"reputation":364,"user_id":6897893,"accept_rate":67,"display_name":"Linz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1590904442,"creation_date":1511339659,"answer_id":47430041,"question_id":24797157,"body_markdown":"I came across the same scenario where I had to return an error response DTO in case of any exception handling. Inside @Aspect class,\r\n\r\n    @Aspect\r\n    @Component\r\n    public class MyAspect{\r\n\r\n\t    private static final Logger LOGGER = LoggerFactory.getLogger(MyAspect.class);\r\n\r\n\t    @Pointcut(&quot;execution(* com.linda.dao.strategy.*.*(..))&quot;)\r\n    \tpublic void strategyMethods() { }\r\n\r\n\t    @Pointcut(&quot;execution(* com.linda.controller.*.*(..)) || execution(* com.linda.Manager.*(..))&quot;)\r\n\t    public void controllerMethods(){  }\r\n\r\n\t    @Around(&quot;strategyMethods()&quot;)\r\n\t    public Object profileStrategyMethods(ProceedingJoinPoint pjp) throws Throwable {\r\n\r\n    \t    long start = System.currentTimeMillis();\r\n    \t    Object output = null;\r\n        \tLOGGER.info(&quot;Class:&quot;+pjp.getTarget().getClass()+&quot; entry -&gt; method -&gt;&quot;+pjp.getSignature().getName());\r\n    \t    try{\r\n    \t\t    output = pjp.proceed();\r\n    \t\t    long elapsedTime = System.currentTimeMillis() - start;\r\n    \t\t    LOGGER.info(&quot;Method execution time: &quot; + elapsedTime + &quot; milliseconds.&quot;);\r\n    \t\t    LOGGER.info(&quot;Class:&quot;+pjp.getTarget().getClass()+&quot; exit -&gt; method -&gt;&quot;+pjp.getSignature().getName());\r\n        \t}catch(Throwable t){\r\n    \t\t    throw new InternalServerException(t.getMessage());\t\r\n    \t    }\r\n    \r\n    \t    return output;\r\n        }\r\n\t\r\n\t    @AfterThrowing(pointcut=&quot;execution(* com.linda.dao.strategy.*.*(..)) || execution(* com.linda.controller.*.*(..)) || execution(* com.linda.Manager.*(..))&quot;,throwing = &quot;ex&quot;)\r\n\t    public void doRecoveryActions(JoinPoint joinPoint, Throwable ex) {\r\n\t\r\n\t\t\tSignature signature = joinPoint.getSignature();\r\n\t\t\tString methodName = signature.getName();\r\n\t\t\tString stuff = signature.toString();\r\n\t\t\tString arguments = Arrays.toString(joinPoint.getArgs());\r\n\t\t\tLOGGER.error(&quot;Write something in the log... We have caught exception in method: &quot;\r\n\t\t\t\t\t+ methodName + &quot; with arguments &quot;\r\n\t\t\t\t\t+ arguments + &quot;\\nand the full toString: &quot; + stuff + &quot;\\nthe exception is: &quot;\r\n\t\t\t\t\t+ ex.getMessage());\r\n\t\t}\r\n    }\r\n\t\r\nDefined another class for exception handling like below:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionLogAdvice {\r\n    \r\n    \t@ExceptionHandler(InternalServerException.class)\r\n    \t@ResponseStatus(HttpStatus.BAD_GATEWAY)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;Object&gt; handleValidationException(final InternalServerException internalServerException){\r\n    \r\n    \t\tErrorResponseDTO dto = constructErrorResponse(internalServerException);\r\n    \t\treturn ResponseEntity.status(HttpStatus.BAD_GATEWAY).body(dto);\r\n    \t}\r\n    }\r\n\r\nTweaked the code a bit as I cannot share the actual code. Hope I made the concept clear.","title":"Exception handling through spring AOP + Aspectj","body":"<p>I came across the same scenario where I had to return an error response DTO in case of any exception handling. Inside @Aspect class,</p>\n\n<pre><code>@Aspect\n@Component\npublic class MyAspect{\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyAspect.class);\n\n    @Pointcut(\"execution(* com.linda.dao.strategy.*.*(..))\")\n    public void strategyMethods() { }\n\n    @Pointcut(\"execution(* com.linda.controller.*.*(..)) || execution(* com.linda.Manager.*(..))\")\n    public void controllerMethods(){  }\n\n    @Around(\"strategyMethods()\")\n    public Object profileStrategyMethods(ProceedingJoinPoint pjp) throws Throwable {\n\n        long start = System.currentTimeMillis();\n        Object output = null;\n        LOGGER.info(\"Class:\"+pjp.getTarget().getClass()+\" entry -&gt; method -&gt;\"+pjp.getSignature().getName());\n        try{\n            output = pjp.proceed();\n            long elapsedTime = System.currentTimeMillis() - start;\n            LOGGER.info(\"Method execution time: \" + elapsedTime + \" milliseconds.\");\n            LOGGER.info(\"Class:\"+pjp.getTarget().getClass()+\" exit -&gt; method -&gt;\"+pjp.getSignature().getName());\n        }catch(Throwable t){\n            throw new InternalServerException(t.getMessage());  \n        }\n\n        return output;\n    }\n\n    @AfterThrowing(pointcut=\"execution(* com.linda.dao.strategy.*.*(..)) || execution(* com.linda.controller.*.*(..)) || execution(* com.linda.Manager.*(..))\",throwing = \"ex\")\n    public void doRecoveryActions(JoinPoint joinPoint, Throwable ex) {\n\n        Signature signature = joinPoint.getSignature();\n        String methodName = signature.getName();\n        String stuff = signature.toString();\n        String arguments = Arrays.toString(joinPoint.getArgs());\n        LOGGER.error(\"Write something in the log... We have caught exception in method: \"\n                + methodName + \" with arguments \"\n                + arguments + \"\\nand the full toString: \" + stuff + \"\\nthe exception is: \"\n                + ex.getMessage());\n    }\n}\n</code></pre>\n\n<p>Defined another class for exception handling like below:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionLogAdvice {\n\n    @ExceptionHandler(InternalServerException.class)\n    @ResponseStatus(HttpStatus.BAD_GATEWAY)\n    @ResponseBody\n    public ResponseEntity&lt;Object&gt; handleValidationException(final InternalServerException internalServerException){\n\n        ErrorResponseDTO dto = constructErrorResponse(internalServerException);\n        return ResponseEntity.status(HttpStatus.BAD_GATEWAY).body(dto);\n    }\n}\n</code></pre>\n\n<p>Tweaked the code a bit as I cannot share the actual code. Hope I made the concept clear.</p>\n"},{"tags":[],"owner":{"account_id":26416562,"reputation":21,"user_id":20064889,"display_name":"Kason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664481875,"creation_date":1664481875,"answer_id":73901062,"question_id":24797157,"body_markdown":"Consider using global exception handler by @ExceptionHandler and @ControllerAdvice\r\n\r\nCreate a CustomExceptionHandler. Add @ControllerAdvice annotation at class level. And add @ExceptionHandler annotation for each exception you want to handle. Remember the order of the @ExceptionHandlers matters — once it matches to one\r\nexception, it will not continue to check following handlers.\r\n\r\n```java\r\n// in CustomExceptionHandler\r\n\r\n@ControllerAdvice\r\npublic class CustomExceptionHandler{\r\n\r\n    @ExceptionHandler(value = {NullPointerException.class})\r\n    public ResponseEntity&lt;ErrorResponse&gt; handleDemoNotFoundException(NullPointerExceptione){\r\n        return new ResponseEntity(ErrorResponse.builder().message(&quot;Null Pointer&quot;).build(), HttpStatus.OK);\r\n    }\r\n\r\n    @ExceptionHandler(value = {Exception.class})\r\n    public ResponseEntity handleException(Exception e){\r\n        return new ResponseEntity(ErrorResponse.builder().message(e.getMessage()).build(), HttpStatus.OK);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy other classes for reference and testing\r\n\r\n```java\r\n// ErrorResponse Class. I am using lombok\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ErrorResponse {\r\n    private String message;\r\n}\r\n\r\n// controller\r\n@RestController\r\npublic class DemoController {\r\n\r\n    @GetMapping(&quot;/exception&quot;)\r\n    public ResponseEntity&lt;MyResponse&gt; errorDemoEndPoint() throws NullPointerException {\r\n        MyResponse response = MyResponse.builder().build();\r\n        throw new NullPointerException(&quot;Null Pointer&quot;);\r\n        return ResponseEntity.ok(response);\r\n    }\r\n}\r\n\r\n```","title":"Exception handling through spring AOP + Aspectj","body":"<p>Consider using global exception handler by @ExceptionHandler and @ControllerAdvice</p>\n<p>Create a CustomExceptionHandler. Add @ControllerAdvice annotation at class level. And add @ExceptionHandler annotation for each exception you want to handle. Remember the order of the @ExceptionHandlers matters — once it matches to one\nexception, it will not continue to check following handlers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// in CustomExceptionHandler\n\n@ControllerAdvice\npublic class CustomExceptionHandler{\n\n    @ExceptionHandler(value = {NullPointerException.class})\n    public ResponseEntity&lt;ErrorResponse&gt; handleDemoNotFoundException(NullPointerExceptione){\n        return new ResponseEntity(ErrorResponse.builder().message(&quot;Null Pointer&quot;).build(), HttpStatus.OK);\n    }\n\n    @ExceptionHandler(value = {Exception.class})\n    public ResponseEntity handleException(Exception e){\n        return new ResponseEntity(ErrorResponse.builder().message(e.getMessage()).build(), HttpStatus.OK);\n    }\n\n}\n\n</code></pre>\n<p>My other classes for reference and testing</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ErrorResponse Class. I am using lombok\n\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ErrorResponse {\n    private String message;\n}\n\n// controller\n@RestController\npublic class DemoController {\n\n    @GetMapping(&quot;/exception&quot;)\n    public ResponseEntity&lt;MyResponse&gt; errorDemoEndPoint() throws NullPointerException {\n        MyResponse response = MyResponse.builder().build();\n        throw new NullPointerException(&quot;Null Pointer&quot;);\n        return ResponseEntity.ok(response);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":3067505,"reputation":137,"user_id":2598888,"display_name":"Nitish Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54559,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":24798263,"answer_count":4,"score":6,"last_activity_date":1664481875,"creation_date":1405581459,"question_id":24797157,"body_markdown":"In my project I have a domain layer which is basically POJO and a Spring controller / service layer that is sitting on top of the domain layer. I also have an AOP layer which is sitting between the service and domain.\r\n\r\nMy domain layer is throwing business exceptions which are now being handled in the service layer.\r\n\r\nHowever I want to change it so that exception thrown from domain layer will be handled in the AOP layer. AOP layer will some kind of error response and send it back to spring controller/ web service layer.\r\n\r\nI can create a IBizResponse and make two subclasses/interfaces of it perhaps a SuccessResponse and an ErrorResponse and make my domain layer methods return IBizResponse. However I am not able to figure out how to make AOP return the ErrorResponse object to the service layer.","title":"Exception handling through spring AOP + Aspectj","body":"<p>In my project I have a domain layer which is basically POJO and a Spring controller / service layer that is sitting on top of the domain layer. I also have an AOP layer which is sitting between the service and domain.</p>\n\n<p>My domain layer is throwing business exceptions which are now being handled in the service layer.</p>\n\n<p>However I want to change it so that exception thrown from domain layer will be handled in the AOP layer. AOP layer will some kind of error response and send it back to spring controller/ web service layer.</p>\n\n<p>I can create a IBizResponse and make two subclasses/interfaces of it perhaps a SuccessResponse and an ErrorResponse and make my domain layer methods return IBizResponse. However I am not able to figure out how to make AOP return the ErrorResponse object to the service layer.</p>\n"},{"tags":["java","guava","trie"],"comments":[{"owner":{"account_id":2102941,"reputation":7351,"user_id":1870054,"accept_rate":72,"display_name":"wener"},"score":0,"creation_date":1488423338,"post_id":17765405,"comment_id":72227543,"body_markdown":"Please upvote this [issue#10](https://github.com/google/guava/issues/10) Trie interface(s) and implementation(s)","body":"Please upvote this <a href=\"https://github.com/google/guava/issues/10\" rel=\"nofollow noreferrer\">issue#10</a> Trie interface(s) and implementation(s)"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1374346082,"creation_date":1374346082,"answer_id":17765530,"question_id":17765405,"body_markdown":"&gt; Is there any TRIE implementation in Guava?\r\n\r\nNo.  (IIRC, this is more or less because tries are an awfully general data structure, and we haven&#39;t had the data, resources, or demand to design an API up to Guava&#39;s usual standards?)\r\n\r\nhttps://code.google.com/p/guava-libraries/issues/detail?id=10","title":"Trie implementation in Guava?","body":"<blockquote>\n  <p>Is there any TRIE implementation in Guava?</p>\n</blockquote>\n\n<p>No.  (IIRC, this is more or less because tries are an awfully general data structure, and we haven't had the data, resources, or demand to design an API up to Guava's usual standards?)</p>\n\n<p><a href=\"https://code.google.com/p/guava-libraries/issues/detail?id=10\">https://code.google.com/p/guava-libraries/issues/detail?id=10</a></p>\n"}],"owner":{"account_id":113220,"reputation":15923,"user_id":298288,"accept_rate":55,"display_name":"stefan.at.kotlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7702,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":17765530,"answer_count":1,"score":11,"last_activity_date":1664481398,"creation_date":1374345296,"question_id":17765405,"body_markdown":"In the past Google Collections included an [implementation][1] of a `TRIE`. Is there any TRIE implementation in Guava? I need an efficient way to find common prefixes in a set of strings.\r\n\r\n\r\n  [1]: http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/collect/PrefixTrie.java?r=2","title":"Trie implementation in Guava?","body":"<p>In the past Google Collections included an <a href=\"http://code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/collect/PrefixTrie.java?r=2\" rel=\"nofollow noreferrer\">implementation</a> of a <code>TRIE</code>. Is there any TRIE implementation in Guava? I need an efficient way to find common prefixes in a set of strings.</p>\n"},{"tags":["java","kotlin","graalvm-native-image","quarkus-native"],"answers":[{"tags":[],"owner":{"account_id":2597908,"reputation":4303,"user_id":2251135,"accept_rate":40,"display_name":"Daniel Teleginski Camargo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664480767,"creation_date":1664480184,"answer_id":73900798,"question_id":73873151,"body_markdown":"It turns out that it does have something to do with the way data is transported.\r\n\r\nIn the snippet below, you will notice that the `@Key` annotation is used to generate the actual key when hydrating the entry set.\r\n\r\n```java\r\npublic final class Userinfo extends GenericJson {\r\n    @Key\r\n    private String email;\r\n    @Key(&quot;family_name&quot;)\r\n    private String familyName;\r\n    ...\r\n```\r\n\r\nIt turns out that this approach is widely used on libs that depend on `google-http-client`.\r\n\r\n\r\nI am using Kotlin, so my solution was to do this:\r\n\r\n```kotlin\r\n@RegisterForReflection(\r\n    targets = [\r\n        // google-http-client\r\n        com.google.api.client.http.HttpHeaders::class,\r\n        com.google.api.client.json.rpc2.JsonRpcRequest::class,\r\n        com.google.api.client.json.webtoken.JsonWebSignature::class,\r\n        com.google.api.client.json.webtoken.JsonWebToken.Header::class,\r\n        // google-api-client\r\n        com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeRequestUrl::class,\r\n        com.google.api.client.googleapis.auth.oauth2.GoogleBrowserClientRequestUrl::class,\r\n        com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets::class,\r\n        com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets.Details::class,\r\n        com.google.api.client.googleapis.auth.oauth2.GoogleIdToken.Payload::class,\r\n        com.google.api.client.googleapis.auth.oauth2.GoogleTokenResponse::class,\r\n        com.google.api.client.googleapis.json.GoogleJsonError.ErrorInfo::class,\r\n        com.google.api.client.googleapis.json.GoogleJsonError.Details::class,\r\n        com.google.api.client.googleapis.json.GoogleJsonError.ParameterViolations::class,\r\n        com.google.api.client.googleapis.json.GoogleJsonError::class,\r\n        com.google.api.client.googleapis.json.GoogleJsonErrorContainer::class,\r\n        com.google.api.client.googleapis.mtls.ContextAwareMetadataJson::class,\r\n        // google-api-services-oauth2-v2\r\n        com.google.api.services.oauth2.model.Userinfo::class,\r\n        com.google.api.services.oauth2.model.Tokeninfo::class,\r\n        com.google.api.services.oauth2.Oauth2.Tokeninfo::class,\r\n        com.google.api.services.oauth2.Oauth2.Userinfo.Get::class,\r\n        com.google.api.services.oauth2.Oauth2.Userinfo.V2.Me::class,\r\n        com.google.api.services.oauth2.Oauth2.Userinfo.V2.Me.Get::class,\r\n        // google-oauth-client\r\n        com.google.api.client.auth.oauth.OAuthAuthorizeTemporaryTokenUrl::class,\r\n        com.google.api.client.auth.oauth.OAuthCallbackUrl::class,\r\n        com.google.api.client.auth.oauth.OAuthCredentialsResponse::class,\r\n        com.google.api.client.auth.oauth2.AuthorizationCodeRequestUrl::class,\r\n        com.google.api.client.auth.oauth2.AuthorizationCodeResponseUrl::class,\r\n        com.google.api.client.auth.oauth2.AuthorizationCodeTokenRequest::class,\r\n        com.google.api.client.auth.oauth2.AuthorizationRequestUrl::class,\r\n        com.google.api.client.auth.oauth2.PasswordTokenRequest::class,\r\n        com.google.api.client.auth.oauth2.RefreshTokenRequest::class,\r\n        com.google.api.client.auth.oauth2.TokenErrorResponse::class,\r\n        com.google.api.client.auth.oauth2.TokenRequest::class,\r\n        com.google.api.client.auth.oauth2.TokenResponse::class,\r\n        com.google.api.client.auth.openidconnect.IdToken.Payload::class,\r\n        com.google.api.client.auth.openidconnect.IdTokenResponse::class\r\n        // @TODO: This must be fixed first\r\n        // https://github.com/googleapis/google-oauth-java-client/issues/947\r\n        // com.google.api.client.auth.openidconnect.IdTokenVerifier.PublicKeyLoader.JsonWebKeySet::class\r\n        // com.google.api.client.auth.openidconnect.IdTokenVerifier.PublicKeyLoader.JsonWebKey::class\r\n    ]\r\n)\r\nclass ReflectionConfig\r\n```\r\n\r\nI hope that will help someone else.","title":"Quarkus native executable &amp; google-oauth-client","body":"<p>It turns out that it does have something to do with the way data is transported.</p>\n<p>In the snippet below, you will notice that the <code>@Key</code> annotation is used to generate the actual key when hydrating the entry set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Userinfo extends GenericJson {\n    @Key\n    private String email;\n    @Key(&quot;family_name&quot;)\n    private String familyName;\n    ...\n</code></pre>\n<p>It turns out that this approach is widely used on libs that depend on <code>google-http-client</code>.</p>\n<p>I am using Kotlin, so my solution was to do this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RegisterForReflection(\n    targets = [\n        // google-http-client\n        com.google.api.client.http.HttpHeaders::class,\n        com.google.api.client.json.rpc2.JsonRpcRequest::class,\n        com.google.api.client.json.webtoken.JsonWebSignature::class,\n        com.google.api.client.json.webtoken.JsonWebToken.Header::class,\n        // google-api-client\n        com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeRequestUrl::class,\n        com.google.api.client.googleapis.auth.oauth2.GoogleBrowserClientRequestUrl::class,\n        com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets::class,\n        com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets.Details::class,\n        com.google.api.client.googleapis.auth.oauth2.GoogleIdToken.Payload::class,\n        com.google.api.client.googleapis.auth.oauth2.GoogleTokenResponse::class,\n        com.google.api.client.googleapis.json.GoogleJsonError.ErrorInfo::class,\n        com.google.api.client.googleapis.json.GoogleJsonError.Details::class,\n        com.google.api.client.googleapis.json.GoogleJsonError.ParameterViolations::class,\n        com.google.api.client.googleapis.json.GoogleJsonError::class,\n        com.google.api.client.googleapis.json.GoogleJsonErrorContainer::class,\n        com.google.api.client.googleapis.mtls.ContextAwareMetadataJson::class,\n        // google-api-services-oauth2-v2\n        com.google.api.services.oauth2.model.Userinfo::class,\n        com.google.api.services.oauth2.model.Tokeninfo::class,\n        com.google.api.services.oauth2.Oauth2.Tokeninfo::class,\n        com.google.api.services.oauth2.Oauth2.Userinfo.Get::class,\n        com.google.api.services.oauth2.Oauth2.Userinfo.V2.Me::class,\n        com.google.api.services.oauth2.Oauth2.Userinfo.V2.Me.Get::class,\n        // google-oauth-client\n        com.google.api.client.auth.oauth.OAuthAuthorizeTemporaryTokenUrl::class,\n        com.google.api.client.auth.oauth.OAuthCallbackUrl::class,\n        com.google.api.client.auth.oauth.OAuthCredentialsResponse::class,\n        com.google.api.client.auth.oauth2.AuthorizationCodeRequestUrl::class,\n        com.google.api.client.auth.oauth2.AuthorizationCodeResponseUrl::class,\n        com.google.api.client.auth.oauth2.AuthorizationCodeTokenRequest::class,\n        com.google.api.client.auth.oauth2.AuthorizationRequestUrl::class,\n        com.google.api.client.auth.oauth2.PasswordTokenRequest::class,\n        com.google.api.client.auth.oauth2.RefreshTokenRequest::class,\n        com.google.api.client.auth.oauth2.TokenErrorResponse::class,\n        com.google.api.client.auth.oauth2.TokenRequest::class,\n        com.google.api.client.auth.oauth2.TokenResponse::class,\n        com.google.api.client.auth.openidconnect.IdToken.Payload::class,\n        com.google.api.client.auth.openidconnect.IdTokenResponse::class\n        // @TODO: This must be fixed first\n        // https://github.com/googleapis/google-oauth-java-client/issues/947\n        // com.google.api.client.auth.openidconnect.IdTokenVerifier.PublicKeyLoader.JsonWebKeySet::class\n        // com.google.api.client.auth.openidconnect.IdTokenVerifier.PublicKeyLoader.JsonWebKey::class\n    ]\n)\nclass ReflectionConfig\n</code></pre>\n<p>I hope that will help someone else.</p>\n"}],"owner":{"account_id":2597908,"reputation":4303,"user_id":2251135,"accept_rate":40,"display_name":"Daniel Teleginski Camargo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73900798,"answer_count":1,"score":2,"last_activity_date":1664480767,"creation_date":1664308418,"question_id":73873151,"body_markdown":"I&#39;ve added a sample project [here][1] that replicates the issue.\r\n\r\nMy goal is to simply build a `GoogleAuthorizationCodeRequestUrl`. What is interesting about it is that a set of map entries that is fully &quot;hydrated&quot; running on JVM is empty when executing the native executable.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve tried registering classes for reflection with no success. Here is an example (from the file `reflection-config.json`):\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;name&quot;: &quot;com.google.api.client.http.GenericUrl&quot;\r\n    }\r\n]\r\n```\r\n\r\nAny thoughts?\r\n\r\nMy guess is that this has something to do with API&#39;s way of transporting data:\r\n\r\n```java\r\npublic class GenericData extends AbstractMap&lt;String, Object&gt; \r\n```\r\n\r\n  [1]: https://github.com/danielcamargoeti/quarkus-lambda\r\n  [2]: https://i.stack.imgur.com/VTeKj.png","title":"Quarkus native executable &amp; google-oauth-client","body":"<p>I've added a sample project <a href=\"https://github.com/danielcamargoeti/quarkus-lambda\" rel=\"nofollow noreferrer\">here</a> that replicates the issue.</p>\n<p>My goal is to simply build a <code>GoogleAuthorizationCodeRequestUrl</code>. What is interesting about it is that a set of map entries that is fully &quot;hydrated&quot; running on JVM is empty when executing the native executable.</p>\n<p><a href=\"https://i.stack.imgur.com/VTeKj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VTeKj.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried registering classes for reflection with no success. Here is an example (from the file <code>reflection-config.json</code>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;name&quot;: &quot;com.google.api.client.http.GenericUrl&quot;\n    }\n]\n</code></pre>\n<p>Any thoughts?</p>\n<p>My guess is that this has something to do with API's way of transporting data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericData extends AbstractMap&lt;String, Object&gt; \n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664480728,"creation_date":1664406793,"answer_id":73888714,"question_id":73888626,"body_markdown":"Because `&#39;i&#39;` is a character literal of type `char`. Adding a char value and an int value automatically promotes it to an int. The ASCII value of the lower case i is 105 (0x69 in hex).\r\n\r\nSo what you have is `System.out.print(105+i)` etc.\r\n\r\nIf you want to concatenate strings, you have to use strings: `System.out.print(&quot;i&quot; + i)` or `System.out.printf(&quot;i%d&quot;, i)`. If your char were dynamic and stored in variable with name `c`, you might want to use `String.valueOf(c) + i` or printf/String.format again.","title":"Adding string literals to initialized variables","body":"<p>Because <code>'i'</code> is a character literal of type <code>char</code>. Adding a char value and an int value automatically promotes it to an int. The ASCII value of the lower case i is 105 (0x69 in hex).</p>\n<p>So what you have is <code>System.out.print(105+i)</code> etc.</p>\n<p>If you want to concatenate strings, you have to use strings: <code>System.out.print(&quot;i&quot; + i)</code> or <code>System.out.printf(&quot;i%d&quot;, i)</code>. If your char were dynamic and stored in variable with name <code>c</code>, you might want to use <code>String.valueOf(c) + i</code> or printf/String.format again.</p>\n"},{"tags":[],"owner":{"account_id":26004530,"reputation":36,"user_id":19946543,"display_name":"Soren Saville Scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664406920,"creation_date":1664406920,"answer_id":73888732,"question_id":73888626,"body_markdown":"`j` appears to be uninitialised in this snippet, and so it shouldn&#39;t even compile. If you have a `j` variable somewhere else in the scope your `for` loop will be using that.\r\n\r\nAlso note that `&#39;j&#39; + j` is trying to add a (presumably) integer to a `char`, which will promote it to an `int`, and so you are printing the integer code point of `&#39;j&#39;` plus whatever variable `j` is. \r\n\r\n","title":"Adding string literals to initialized variables","body":"<p><code>j</code> appears to be uninitialised in this snippet, and so it shouldn't even compile. If you have a <code>j</code> variable somewhere else in the scope your <code>for</code> loop will be using that.</p>\n<p>Also note that <code>'j' + j</code> is trying to add a (presumably) integer to a <code>char</code>, which will promote it to an <code>int</code>, and so you are printing the integer code point of <code>'j'</code> plus whatever variable <code>j</code> is.</p>\n"},{"tags":[],"owner":{"account_id":20155916,"reputation":124,"user_id":14782128,"display_name":"mahdi lotfi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664406967,"creation_date":1664406967,"answer_id":73888739,"question_id":73888626,"body_markdown":"in java you can add `char` with `int` and the character implicitly will convert to corresponding ASCII code.\r\n\r\nin your print statement you are using single quotes, so it will be infer as character.\r\n\r\nalso notice the ASCII code for alphabet `i` is equal to `105`.","title":"Adding string literals to initialized variables","body":"<p>in java you can add <code>char</code> with <code>int</code> and the character implicitly will convert to corresponding ASCII code.</p>\n<p>in your print statement you are using single quotes, so it will be infer as character.</p>\n<p>also notice the ASCII code for alphabet <code>i</code> is equal to <code>105</code>.</p>\n"}],"owner":{"account_id":26448702,"reputation":1,"user_id":20092196,"display_name":"Kachi03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664480728,"creation_date":1664405901,"question_id":73888626,"body_markdown":"I feel silly that I can&#39;t find the answer to this question, but I&#39;m working on an assignment for class and I&#39;m asked to describe the output of the following sample code:\r\n```\r\nint i = 1;\r\nfor (i = 0; i &lt;= 6; i++){\r\n    System.out.print( &#39;i&#39; + i);\r\n}\r\n```\r\nwhich outputs:\r\n```\r\n105106107108109110111\r\n```\r\n((I understand that initializing i to 1 is not necessary before the loop condition))\r\nI don&#39;t understand why the above print statement outputs this pattern of numbers (1 05 1 06 1 07 1 08 1 09 1 10 1 11). Simply leaving it as \r\n```\r\nSystem.out.print( &#39;i&#39;);\r\n```\r\nprints &quot;i&quot; 5 times as expected. So why does adding the value of i change the output of &#39;i&#39;?\r\n\r\nedit: fixed variable name","title":"Adding string literals to initialized variables","body":"<p>I feel silly that I can't find the answer to this question, but I'm working on an assignment for class and I'm asked to describe the output of the following sample code:</p>\n<pre><code>int i = 1;\nfor (i = 0; i &lt;= 6; i++){\n    System.out.print( 'i' + i);\n}\n</code></pre>\n<p>which outputs:</p>\n<pre><code>105106107108109110111\n</code></pre>\n<p>((I understand that initializing i to 1 is not necessary before the loop condition))\nI don't understand why the above print statement outputs this pattern of numbers (1 05 1 06 1 07 1 08 1 09 1 10 1 11). Simply leaving it as</p>\n<pre><code>System.out.print( 'i');\n</code></pre>\n<p>prints &quot;i&quot; 5 times as expected. So why does adding the value of i change the output of 'i'?</p>\n<p>edit: fixed variable name</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664472068,"creation_date":1664472068,"answer_id":73899465,"question_id":73898602,"body_markdown":"System properties are only set for a single JVM.\r\n\r\nYou are setting the property for the JVM, which executes the Gradle Build itself.\r\n\r\nYour tests, however, will be running in a different JVM (with different system properties).\r\n\r\nYour can set system properties for your unit tests in your build.gradle as follows:\r\n\r\n```groovy\r\ntest {\r\n    systemProperty &#39;spring.profiles.active&#39;, &#39;ci&#39;\r\n}\r\n```","title":"Spring profiles not being set with gradle system property","body":"<p>System properties are only set for a single JVM.</p>\n<p>You are setting the property for the JVM, which executes the Gradle Build itself.</p>\n<p>Your tests, however, will be running in a different JVM (with different system properties).</p>\n<p>Your can set system properties for your unit tests in your build.gradle as follows:</p>\n<pre><code>test {\n    systemProperty 'spring.profiles.active', 'ci'\n}\n</code></pre>\n"}],"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664480207,"creation_date":1664467639,"question_id":73898602,"body_markdown":"I&#39;m running the following command\r\n\r\n```sh\r\n./gradlew -Dspring.profiles.active=ci build \r\n```\r\n\r\nbut when I do the profile is not set\r\n\r\n```\r\n     INFO - The following 3 profiles are active: &quot;test&quot;, &quot;test-feign&quot;, &quot;dev&quot; : e1.configuration.feign.DevExchangeOAuth2FeignRequestInterceptorCalledTest \r\n```\r\n\r\nthose are being set by `application.properties`\r\n\r\n```properties\r\nspring.profiles.active = dev\r\nspring.profiles.include= test\r\nspring.profiles.group.ci[0] = ci-feign\r\nspring.profiles.group.test[0] = test-feign\r\n```\r\n\r\nwhy is this? and how can I fix it. Note: I cannot set the env var for reasons stupid in corporate environment. Also this is a monorepo.\r\n\r\n**UPDATE** I felt like this was obvious, but I only want to set this in CI, not all the time. And it should respect configuration cache","title":"Spring profiles not being set with gradle system property","body":"<p>I'm running the following command</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew -Dspring.profiles.active=ci build \n</code></pre>\n<p>but when I do the profile is not set</p>\n<pre><code>     INFO - The following 3 profiles are active: &quot;test&quot;, &quot;test-feign&quot;, &quot;dev&quot; : e1.configuration.feign.DevExchangeOAuth2FeignRequestInterceptorCalledTest \n</code></pre>\n<p>those are being set by <code>application.properties</code></p>\n<pre><code>spring.profiles.active = dev\nspring.profiles.include= test\nspring.profiles.group.ci[0] = ci-feign\nspring.profiles.group.test[0] = test-feign\n</code></pre>\n<p>why is this? and how can I fix it. Note: I cannot set the env var for reasons stupid in corporate environment. Also this is a monorepo.</p>\n<p><strong>UPDATE</strong> I felt like this was obvious, but I only want to set this in CI, not all the time. And it should respect configuration cache</p>\n"},{"tags":["java","arrays","merge"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":3,"creation_date":1664477802,"post_id":73900375,"comment_id":130487302,"body_markdown":"What does &quot;*merge*&quot; mean? What is the expected result?","body":"What does &quot;<i>merge</i>&quot; mean? What is the expected result?"},{"owner":{"account_id":25887676,"reputation":63,"user_id":19615507,"display_name":"theanime kid"},"score":0,"creation_date":1664477901,"post_id":73900375,"comment_id":130487328,"body_markdown":"an array that contains the largest of value in every given position","body":"an array that contains the largest of value in every given position"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":3,"creation_date":1664478012,"post_id":73900375,"comment_id":130487363,"body_markdown":"Please [edit] your question and include the expected result (based on your sample).","body":"Please <a href=\"https://stackoverflow.com/posts/73900375/edit\">edit</a> your question and include the expected result (based on your sample)."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664479845,"creation_date":1664478369,"answer_id":73900509,"question_id":73900375,"body_markdown":"Java only supports _jagged arrays_: each element in the outer array points to another array somewhere else in memory.\r\n\r\nYou don&#39;t put anything in the second empty brackets. Instead, you initialize a new array of the required size inside the loop and assign it to the slot. This will guarantee that each nested array has exactly the size that is required.\r\n\r\n```\r\nint[][] array1 = { {1,3},{11,12,13}, {6,3,32} };\r\nint[][] array2 = { {1,4}, {1,2,3}, {21,7,23} };\r\n\r\nint[][] bigArray = new int[array1.length][];\r\nfor (int i = 0; i &lt; array1.length; i++) {\r\n    bigArray[i] = new int[array1[i].length];\r\n    for (int j = 0; j &lt; array1[i].length; j++) {\r\n        bigArray[i][j] = Math.max(array1[i][j], array2[i][j]);\r\n    }\r\n}\r\n```\r\n\r\nor:\r\n\r\n```\r\nint[][] array1 = { {1,3},{11,12,13}, {6,3,32} };\r\nint[][] array2 = { {1,4}, {1,2,3}, {21,7,23} };\r\n\r\nint[][] bigArray = new int[array1.length][];\r\nfor (int i = 0; i &lt; array1.length; i++) {\r\n    int[] a = new int[array1[i].length];\r\n    for (int j = 0; j &lt; a.length; j++) {\r\n        a[j] = Math.max(array1[i][j], array2[i][j]);\r\n    }\r\n    bigArray[i] = a;\r\n}\r\n```\r\n","title":"How to merge 2 arrays in java?","body":"<p>Java only supports <em>jagged arrays</em>: each element in the outer array points to another array somewhere else in memory.</p>\n<p>You don't put anything in the second empty brackets. Instead, you initialize a new array of the required size inside the loop and assign it to the slot. This will guarantee that each nested array has exactly the size that is required.</p>\n<pre><code>int[][] array1 = { {1,3},{11,12,13}, {6,3,32} };\nint[][] array2 = { {1,4}, {1,2,3}, {21,7,23} };\n\nint[][] bigArray = new int[array1.length][];\nfor (int i = 0; i &lt; array1.length; i++) {\n    bigArray[i] = new int[array1[i].length];\n    for (int j = 0; j &lt; array1[i].length; j++) {\n        bigArray[i][j] = Math.max(array1[i][j], array2[i][j]);\n    }\n}\n</code></pre>\n<p>or:</p>\n<pre><code>int[][] array1 = { {1,3},{11,12,13}, {6,3,32} };\nint[][] array2 = { {1,4}, {1,2,3}, {21,7,23} };\n\nint[][] bigArray = new int[array1.length][];\nfor (int i = 0; i &lt; array1.length; i++) {\n    int[] a = new int[array1[i].length];\n    for (int j = 0; j &lt; a.length; j++) {\n        a[j] = Math.max(array1[i][j], array2[i][j]);\n    }\n    bigArray[i] = a;\n}\n</code></pre>\n"}],"owner":{"account_id":25887676,"reputation":63,"user_id":19615507,"display_name":"theanime kid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73900509,"answer_count":1,"score":0,"last_activity_date":1664479913,"creation_date":1664477676,"question_id":73900375,"body_markdown":"I am trying to merge array1 and array2, given that they can be any size (array1 and array 2 are always the same size). I don&#39;t know how to account for the columns as I have no idea how big they are.\r\n    \r\n\r\n    int[][] array1 = { {1,3},{11,12,13}, {6,3,32} };\r\n    int[][] array2 = { {1,4}, {1,2,3}, {21,7,23} };\r\n\r\n    int[][] bigArray = new int[array1.length][];\r\n    for (int i = 0; i &lt; array1.length; i++) {\r\n        for (int j = 0; j &lt; array1[i].length; j++) {\r\n            bigArray[i][j] = Math.max(array1[i][j], array2[i][j]);\r\n        }\r\n    }\r\nMy problem is when I form the &quot;bigArray&quot;, what do I put in the empty brackets\r\n\r\nEdit:\r\nMy expected result should be an array that contains the largest value in every given position, i.e in this one it would be {{1,4},{11,12,13},{21,7,32}}","title":"How to merge 2 arrays in java?","body":"<p>I am trying to merge array1 and array2, given that they can be any size (array1 and array 2 are always the same size). I don't know how to account for the columns as I have no idea how big they are.</p>\n<pre><code>int[][] array1 = { {1,3},{11,12,13}, {6,3,32} };\nint[][] array2 = { {1,4}, {1,2,3}, {21,7,23} };\n\nint[][] bigArray = new int[array1.length][];\nfor (int i = 0; i &lt; array1.length; i++) {\n    for (int j = 0; j &lt; array1[i].length; j++) {\n        bigArray[i][j] = Math.max(array1[i][j], array2[i][j]);\n    }\n}\n</code></pre>\n<p>My problem is when I form the &quot;bigArray&quot;, what do I put in the empty brackets</p>\n<p>Edit:\nMy expected result should be an array that contains the largest value in every given position, i.e in this one it would be {{1,4},{11,12,13},{21,7,32}}</p>\n"},{"tags":["java","grid","vaadin"],"comments":[{"owner":{"account_id":2071631,"reputation":102,"user_id":1897776,"display_name":"kszk"},"score":0,"creation_date":1664737562,"post_id":73900392,"comment_id":130535371,"body_markdown":"Just to see if I understand the case correctly. Do you have a 2 rows header grid? The first with the gray background and the 2nd with color (blue/green/orange) color and do you want to customize the 2nd one?","body":"Just to see if I understand the case correctly. Do you have a 2 rows header grid? The first with the gray background and the 2nd with color (blue/green/orange) color and do you want to customize the 2nd one?"},{"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"score":0,"creation_date":1664793321,"post_id":73900392,"comment_id":130545154,"body_markdown":"@kszk you are right","body":"@kszk you are right"}],"answers":[{"tags":[],"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664479585,"creation_date":1664479585,"answer_id":73900700,"question_id":73900392,"body_markdown":"I&#39;m afraid the short answer is that you can&#39;t. While you can apply css classnames, and thus styling, to body cells, using ClassNameGenerator, that does not work for header cells.\r\n\r\nWhat you can do is use a component for the header cells&#39; contents, using `Column.setHeader(Component c);` Then you can of course apply styling whichever way you like to that component.\r\n\r\nHowever, that component is not going to cover the entire space. While it&#39;s technically possible to make that happen with css, it&#39;s complicated, error prone, and not really supported.\r\n\r\nThere&#39;s a feature request ticket for this here: https://github.com/vaadin/web-components/issues/1434. You can vote for the feature by adding a thumbs-up reaction.","title":"How to set the cell color dynamically in grid header by it&#39;s value","body":"<p>I'm afraid the short answer is that you can't. While you can apply css classnames, and thus styling, to body cells, using ClassNameGenerator, that does not work for header cells.</p>\n<p>What you can do is use a component for the header cells' contents, using <code>Column.setHeader(Component c);</code> Then you can of course apply styling whichever way you like to that component.</p>\n<p>However, that component is not going to cover the entire space. While it's technically possible to make that happen with css, it's complicated, error prone, and not really supported.</p>\n<p>There's a feature request ticket for this here: <a href=\"https://github.com/vaadin/web-components/issues/1434\" rel=\"nofollow noreferrer\">https://github.com/vaadin/web-components/issues/1434</a>. You can vote for the feature by adding a thumbs-up reaction.</p>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73900700,"answer_count":1,"score":0,"last_activity_date":1664479585,"creation_date":1664477766,"question_id":73900392,"body_markdown":"I am trying to `dynamically` change the `color` of `header cells`\r\n\r\nThe columns with header in `grid` are generated dynamically too:\r\n\r\n    for (Employee emp : employees) {\r\n         Grid.Column&lt;Employee&gt; empColumn = grid.addColumn(...).setHeader(emp.getNameWithEmpRelationship());\r\n    }\r\n\r\nBut I only know how to change the `color` of whole `header row`, not only for `cell`\r\n\r\nMy custom `.css` file:\r\n\r\n    :host(.header-change) [part~=&quot;header-cell&quot;] {\r\n      background-color: #ececec;\r\n      color: black;\r\n    }\r\n\r\nThen I added it into the `grid`\r\n\r\n    grid.addClassName(&quot;header-change&quot;);\r\n\r\nAnd result looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut I need to do something like this:\r\n\r\n    for (Employee emp : employees) {\r\n         Grid.Column&lt;Employee&gt; empColumn = grid.addColumn(...).setHeader(emp.getNameWithEmpRelationship());\r\n         \r\n         if(emp.getNameWithEmpRelationship().name().equals(&quot;CONTRACT&quot;) {\r\n            empColumn.addClassName(&quot;orange-cell&quot;);\r\n         }\r\n\r\n         if(emp.getNameWithEmpRelationship().name().equals(&quot;PART_TIME&quot;) {\r\n            empColumn.addClassName(&quot;green-cell&quot;);\r\n         }\r\n\r\n         if(emp.getNameWithEmpRelationship().name().equals(&quot;FULL_TIME&quot;) {\r\n            empColumn.addClassName(&quot;blue-cell&quot;);\r\n         }\r\n\r\n    }\r\n\r\n`.css` should looks like:\r\n\r\n    .orange-cell {\r\n      background-color: orange;\r\n      color: black;\r\n    }\r\n    \r\n    .blue-cell {\r\n      background-color: blue;\r\n      color: black;\r\n    }\r\n    \r\n    .green-cell {\r\n      background-color: green;\r\n      color: black;\r\n    }\r\n\r\nAnd the result should looks like (I achieved the sample result by manually adjusting the value of the element through the browser):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I do this? Because my example is not working.\r\n\r\n  [1]: https://i.stack.imgur.com/sdzvq.png\r\n  [2]: https://i.stack.imgur.com/n4vx3.png","title":"How to set the cell color dynamically in grid header by it&#39;s value","body":"<p>I am trying to <code>dynamically</code> change the <code>color</code> of <code>header cells</code></p>\n<p>The columns with header in <code>grid</code> are generated dynamically too:</p>\n<pre><code>for (Employee emp : employees) {\n     Grid.Column&lt;Employee&gt; empColumn = grid.addColumn(...).setHeader(emp.getNameWithEmpRelationship());\n}\n</code></pre>\n<p>But I only know how to change the <code>color</code> of whole <code>header row</code>, not only for <code>cell</code></p>\n<p>My custom <code>.css</code> file:</p>\n<pre><code>:host(.header-change) [part~=&quot;header-cell&quot;] {\n  background-color: #ececec;\n  color: black;\n}\n</code></pre>\n<p>Then I added it into the <code>grid</code></p>\n<pre><code>grid.addClassName(&quot;header-change&quot;);\n</code></pre>\n<p>And result looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/sdzvq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sdzvq.png\" alt=\"enter image description here\" /></a></p>\n<p>But I need to do something like this:</p>\n<pre><code>for (Employee emp : employees) {\n     Grid.Column&lt;Employee&gt; empColumn = grid.addColumn(...).setHeader(emp.getNameWithEmpRelationship());\n     \n     if(emp.getNameWithEmpRelationship().name().equals(&quot;CONTRACT&quot;) {\n        empColumn.addClassName(&quot;orange-cell&quot;);\n     }\n\n     if(emp.getNameWithEmpRelationship().name().equals(&quot;PART_TIME&quot;) {\n        empColumn.addClassName(&quot;green-cell&quot;);\n     }\n\n     if(emp.getNameWithEmpRelationship().name().equals(&quot;FULL_TIME&quot;) {\n        empColumn.addClassName(&quot;blue-cell&quot;);\n     }\n\n}\n</code></pre>\n<p><code>.css</code> should looks like:</p>\n<pre><code>.orange-cell {\n  background-color: orange;\n  color: black;\n}\n\n.blue-cell {\n  background-color: blue;\n  color: black;\n}\n\n.green-cell {\n  background-color: green;\n  color: black;\n}\n</code></pre>\n<p>And the result should looks like (I achieved the sample result by manually adjusting the value of the element through the browser):</p>\n<p><a href=\"https://i.stack.imgur.com/n4vx3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n4vx3.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I do this? Because my example is not working.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664480476,"post_id":73900695,"comment_id":130488022,"body_markdown":"`for (int i = nums.length - 1; i &gt;= 0; i--) { for (int j = 0; j &lt; nums[i].length; j++) { ... } }`","body":"<code>for (int i = nums.length - 1; i &gt;= 0; i--) { for (int j = 0; j &lt; nums[i].length; j++) { ... } }</code>"},{"owner":{"account_id":24006822,"reputation":11,"user_id":17990874,"display_name":"Sanallan"},"score":0,"creation_date":1664480934,"post_id":73900695,"comment_id":130488144,"body_markdown":"@JohnnyMopp This causes the last column to be printed first, so i get `Col 3    7.0    8.0    9.0\nCol 2    4.0    5.0    6.0\nCol 1    1.0    2.0    3.0` but its still not printing vertically.  Doing for `(int j = nums[i].length - 1; j &gt;= 0; j--)` does reverse the order, so its a step in the right direction","body":"@JohnnyMopp This causes the last column to be printed first, so i get <code>Col 3    7.0    8.0    9.0 Col 2    4.0    5.0    6.0 Col 1    1.0    2.0    3.0</code> but its still not printing vertically.  Doing for <code>(int j = nums[i].length - 1; j &gt;= 0; j--)</code> does reverse the order, so its a step in the right direction"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664482211,"post_id":73900695,"comment_id":130488522,"body_markdown":"Forgot to mention: inside the loop `System.out.print(nums[j][i] + &quot;    &quot;);` Note: `i` and `j` reversed.","body":"Forgot to mention: inside the loop <code>System.out.print(nums[j][i] + &quot;    &quot;);</code> Note: <code>i</code> and <code>j</code> reversed."},{"owner":{"account_id":24006822,"reputation":11,"user_id":17990874,"display_name":"Sanallan"},"score":0,"creation_date":1664483975,"post_id":73900695,"comment_id":130488995,"body_markdown":"@JohnnyMopp that seemed to get them vertical, the only other thing would to get the `Col 1    Col 2    Col 3` underneath each column. Would i add an output to the loop somewhere to have it output at the bottom of each column?","body":"@JohnnyMopp that seemed to get them vertical, the only other thing would to get the <code>Col 1    Col 2    Col 3</code> underneath each column. Would i add an output to the loop somewhere to have it output at the bottom of each column?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664484212,"post_id":73900695,"comment_id":130489062,"body_markdown":"Make another loop to print the labels after the main loop.","body":"Make another loop to print the labels after the main loop."},{"owner":{"account_id":24006822,"reputation":11,"user_id":17990874,"display_name":"Sanallan"},"score":0,"creation_date":1664484740,"post_id":73900695,"comment_id":130489194,"body_markdown":"@JohnnyMopp realized that after i posted the comment, works now. Thanks!","body":"@JohnnyMopp realized that after i posted the comment, works now. Thanks!"}],"owner":{"account_id":24006822,"reputation":11,"user_id":17990874,"display_name":"Sanallan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664479476,"creation_date":1664479476,"question_id":73900695,"body_markdown":"I am trying to print an array of set values, and i can have it print horizontally, but i want the column results to be vertical. How would i do that?\r\ncode: \r\n\r\n    public class test {\r\n    public static void main(String[] args)\r\n    {\r\n        double nums1[][] ={{1, 2, 3}, \r\n                           {4, 5, 6}, \r\n                           {7, 8, 9}\r\n        };\r\n\r\n        printHoriz(nums1);\r\n    }\r\n    public static void printHoriz(double[][] nums) {        \r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            System.out.print(&quot;Col &quot; + (i + 1) + &quot;    &quot;);\r\n          for (int j = 0; j &lt; nums[i].length; j++) {\r\n                System.out.print(nums[i][j] + &quot;    &quot;);\r\n          }\r\n          System.out.println();\r\n        } \r\n      }\r\n   }\r\n\r\nresults\r\n\r\n    Col 1    1.0    2.0    3.0\r\n    Col 2    4.0    5.0    6.0\r\n    Col 3    7.0    8.0    9.0\r\n\r\ndesired results\r\n\r\n    3.00      6.00      9.00\r\n    2.00      5.00      8.00\r\n    1.00      4.00      7.00\r\n    Col 1     Col 2     Col 3","title":"Have a ragged array print vertically?","body":"<p>I am trying to print an array of set values, and i can have it print horizontally, but i want the column results to be vertical. How would i do that?\ncode:</p>\n<pre><code>public class test {\npublic static void main(String[] args)\n{\n    double nums1[][] ={{1, 2, 3}, \n                       {4, 5, 6}, \n                       {7, 8, 9}\n    };\n\n    printHoriz(nums1);\n}\npublic static void printHoriz(double[][] nums) {        \n    for (int i = 0; i &lt; nums.length; i++) {\n        System.out.print(&quot;Col &quot; + (i + 1) + &quot;    &quot;);\n      for (int j = 0; j &lt; nums[i].length; j++) {\n            System.out.print(nums[i][j] + &quot;    &quot;);\n      }\n      System.out.println();\n    } \n  }\n</code></pre>\n<p>}</p>\n<p>results</p>\n<pre><code>Col 1    1.0    2.0    3.0\nCol 2    4.0    5.0    6.0\nCol 3    7.0    8.0    9.0\n</code></pre>\n<p>desired results</p>\n<pre><code>3.00      6.00      9.00\n2.00      5.00      8.00\n1.00      4.00      7.00\nCol 1     Col 2     Col 3\n</code></pre>\n"},{"tags":["java","grails","grails-5"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1664480494,"post_id":73900512,"comment_id":130488028,"body_markdown":"There is no good reason to do `Holders.getGrailsApplication().getConfig().getProperty(&quot;configuration.value&quot;)`.  Knowing the context from where that is happening would be helpful.  Is that in a Spring managed bean?","body":"There is no good reason to do <code>Holders.getGrailsApplication().getConfig().getProperty(&quot;conf&zwnj;&#8203;iguration.value&quot;)</code>.  Knowing the context from where that is happening would be helpful.  Is that in a Spring managed bean?"},{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1664481860,"post_id":73900512,"comment_id":130488412,"body_markdown":"I&#39;m creating a plugin to contain the final project&#39;s encryption rules. And the idea is that the encryption key is in the application.yml or even a path to it. That&#39;s the reason for getProperty(&quot;configuration.value&quot;). This works if I just run it, however if I run the unit test it doesn&#39;t.","body":"I&#39;m creating a plugin to contain the final project&#39;s encryption rules. And the idea is that the encryption key is in the application.yml or even a path to it. That&#39;s the reason for getProperty(&quot;configuration.value&quot;). This works if I just run it, however if I run the unit test it doesn&#39;t."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1664485883,"post_id":73900512,"comment_id":130489486,"body_markdown":"If you put that logic in a container managed bean you can simply inject the GrallsApplication into that bean.","body":"If you put that logic in a container managed bean you can simply inject the GrallsApplication into that bean."},{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1664540802,"post_id":73900512,"comment_id":130501223,"body_markdown":"One of the requirements is not to use a bean for this, but a class with a static method.","body":"One of the requirements is not to use a bean for this, but a class with a static method."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1664544235,"post_id":73900512,"comment_id":130502428,"body_markdown":"&quot;One of the requirements is not to use a bean for this, but a class with a static method.&quot; - Requiring a static method is a peculiar requirement but can definitely be done.  Will this static method be invoked during request processing?","body":"&quot;One of the requirements is not to use a bean for this, but a class with a static method.&quot; - Requiring a static method is a peculiar requirement but can definitely be done.  Will this static method be invoked during request processing?"},{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1664544774,"post_id":73900512,"comment_id":130502612,"body_markdown":"Yes, the method must be accessible from anywhere.","body":"Yes, the method must be accessible from anywhere."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1664575803,"post_id":73900512,"comment_id":130511198,"body_markdown":"&quot;Yes, the method must be accessible from anywhere.&quot; - If you care to create a small project with a representative failing test, I would be happy to send a PR to address the test.","body":"&quot;Yes, the method must be accessible from anywhere.&quot; - If you care to create a small project with a representative failing test, I would be happy to send a PR to address the test."},{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1665003367,"post_id":73900512,"comment_id":130600460,"body_markdown":"Sorry for the delay, here&#39;s the repository link: https://github.com/JoaoGH/simple-plugin","body":"Sorry for the delay, here&#39;s the repository link: <a href=\"https://github.com/JoaoGH/simple-plugin\" rel=\"nofollow noreferrer\">github.com/JoaoGH/simple-plugin</a>"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1665031137,"post_id":73900512,"comment_id":130604888,"body_markdown":"are you wanting to test the logic in the `RSA` class and mock its dependencies?","body":"are you wanting to test the logic in the <code>RSA</code> class and mock its dependencies?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1665031504,"post_id":73900512,"comment_id":130604947,"body_markdown":"Your test is a unit test.  There is nothing in the environment that is creating an instance of GrailsApplication, but your test expects one to be there.  It isn&#39;t clear what the unit test intends to cover.  If you want to register a `GrailsApplication` with `Holders.setGrailsApplication(anInstanceOfDefaultGrailsApplicationYouCreateAndInitialize)`.   You could also refactor `RSA` to make it easier to test the logic in it.","body":"Your test is a unit test.  There is nothing in the environment that is creating an instance of GrailsApplication, but your test expects one to be there.  It isn&#39;t clear what the unit test intends to cover.  If you want to register a <code>GrailsApplication</code> with <code>Holders.setGrailsApplication(anInstanceOfDefaultGrailsApplic&zwnj;&#8203;ationYouCreateAndIni&zwnj;&#8203;tialize)</code>.   You could also refactor <code>RSA</code> to make it easier to test the logic in it."},{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1665055913,"post_id":73900512,"comment_id":130612338,"body_markdown":"The reason for testing is just to make sure there are no problems encrypting and decrypting.","body":"The reason for testing is just to make sure there are no problems encrypting and decrypting."},{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1665055980,"post_id":73900512,"comment_id":130612358,"body_markdown":"If it&#39;s easier to use the integration test I&#39;ll change it no problem. Could you do a PR with your point?","body":"If it&#39;s easier to use the integration test I&#39;ll change it no problem. Could you do a PR with your point?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1665062099,"post_id":73900512,"comment_id":130614744,"body_markdown":"&quot;If it&#39;s easier to use the integration test I&#39;ll change it no problem. Could you do a PR with your point?&quot; - It is easier, but not what I would recommend. \n I would refactor the RSA class.  The PR https://github.com/JoaoGH/simple-plugin/pull/1 does show that it is easy to use an integration test.","body":"&quot;If it&#39;s easier to use the integration test I&#39;ll change it no problem. Could you do a PR with your point?&quot; - It is easier, but not what I would recommend.   I would refactor the RSA class.  The PR <a href=\"https://github.com/JoaoGH/simple-plugin/pull/1\" rel=\"nofollow noreferrer\">github.com/JoaoGH/simple-plugin/pull/1</a> does show that it is easy to use an integration test."},{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1665072863,"post_id":73900512,"comment_id":130619236,"body_markdown":"thanks, it worked. I didn&#39;t know I needed that dependency.","body":"thanks, it worked. I didn&#39;t know I needed that dependency."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1665073185,"post_id":73900512,"comment_id":130619341,"body_markdown":"&quot;I didn&#39;t know I needed that dependency.&quot; - Strictly speaking you don&#39;t, but adding it just like that is a simple way to make the test you wrote work just by moving the test and adding an annotation to it.","body":"&quot;I didn&#39;t know I needed that dependency.&quot; - Strictly speaking you don&#39;t, but adding it just like that is a simple way to make the test you wrote work just by moving the test and adding an annotation to it."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1665091528,"post_id":73900512,"comment_id":130624979,"body_markdown":"https://github.com/JoaoGH/simple-plugin/pull/2 represents a way to approach it as a unit test.","body":"<a href=\"https://github.com/JoaoGH/simple-plugin/pull/2\" rel=\"nofollow noreferrer\">github.com/JoaoGH/simple-plugin/pull/2</a> represents a way to approach it as a unit test."}],"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664478378,"creation_date":1664478378,"question_id":73900512,"body_markdown":"I&#39;m creating a plugin in Grails 5 and Java 11 to perform processes in a static class, but when running the test described below, the following error message appears:\r\n\r\n* Error:\r\n```\r\njava.lang.IllegalArgumentException: GrailsApplication not found\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat grails.util.Holders.getGrailsApplication(Holders.java:129)\r\n\tat grails.util.Holders$getGrailsApplication.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\r\n```\r\n\r\n* Example scenario:\r\n\r\n```yml\r\n---\r\nconfiguration.value: &quot;ABC&quot;\r\n\r\n```\r\n\r\n```groovy\r\nimport grails.util.Holders\r\n\r\nclass SimpleClass {\r\n\r\n    static String simpleMethod() {\r\n        return Holders.getGrailsApplication().getConfig().getProperty(&quot;configuration.value&quot;)\r\n    }\r\n\r\n}\r\n```\r\n\r\n```groovy\r\nimport spock.lang.Specification\r\n\r\nclass SomeTest extends Specification {\r\n\r\n    void &quot;example&quot;() {\r\n        expect:\r\n        SimpleClass.simpleMethod() == &quot;ABC&quot;\r\n    }\r\n\r\n}\r\n```","title":"GrailsApplication not found when running test in Grails 5","body":"<p>I'm creating a plugin in Grails 5 and Java 11 to perform processes in a static class, but when running the test described below, the following error message appears:</p>\n<ul>\n<li>Error:</li>\n</ul>\n<pre><code>java.lang.IllegalArgumentException: GrailsApplication not found\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at grails.util.Holders.getGrailsApplication(Holders.java:129)\n    at grails.util.Holders$getGrailsApplication.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\n</code></pre>\n<ul>\n<li>Example scenario:</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>---\nconfiguration.value: &quot;ABC&quot;\n\n</code></pre>\n<pre><code>import grails.util.Holders\n\nclass SimpleClass {\n\n    static String simpleMethod() {\n        return Holders.getGrailsApplication().getConfig().getProperty(&quot;configuration.value&quot;)\n    }\n\n}\n</code></pre>\n<pre><code>import spock.lang.Specification\n\nclass SomeTest extends Specification {\n\n    void &quot;example&quot;() {\n        expect:\n        SimpleClass.simpleMethod() == &quot;ABC&quot;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium","maven","visual-studio-code","selenium-webdriver"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1664478522,"post_id":73899599,"comment_id":130487510,"body_markdown":"It&#39;s possible your local maven repo is messed up in some way, try `mvn clean install -U` this will force an update of all local dependencies","body":"It&#39;s possible your local maven repo is messed up in some way, try <code>mvn clean install -U</code> this will force an update of all local dependencies"},{"owner":{"account_id":26416089,"reputation":1,"user_id":20064481,"display_name":"Mitchell"},"score":0,"creation_date":1664479064,"post_id":73899599,"comment_id":130487660,"body_markdown":"I just tried that, I got an error saying: &quot;Compilation failure - cannot find symbol: class ChromeDriver location: package org.openqa.selenium - It&#39;s strange because the one import I have that works is import.io.github.bonigarcia.wdm.managers.ChromeDriverManagers","body":"I just tried that, I got an error saying: &quot;Compilation failure - cannot find symbol: class ChromeDriver location: package org.openqa.selenium - It&#39;s strange because the one import I have that works is import.io.github.bonigarcia.wdm.managers.ChromeDriverManager&zwnj;&#8203;s"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1664516605,"post_id":73899599,"comment_id":130493969,"body_markdown":"Try clearing the workspace with the command and reopen the project. **Ctrl+Shift+P** --&gt; `Java: Clean Java Language Server Workspace`.","body":"Try clearing the workspace with the command and reopen the project. <b>Ctrl+Shift+P</b> --&gt; <code>Java: Clean Java Language Server Workspace</code>."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1664558052,"post_id":73899599,"comment_id":130507098,"body_markdown":"can you add your pom dependencies to the question?","body":"can you add your pom dependencies to the question?"}],"owner":{"account_id":26416089,"reputation":1,"user_id":20064481,"display_name":"Mitchell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664478076,"creation_date":1664472867,"question_id":73899599,"body_markdown":"As of yesterday, my simple project was working fine until I added WebDriverWait and ExpectedConditions to my code. I was able to invoke the browser and navigate to URLs fine, however as of today everything stopped working. I&#39;m now getting &quot;The import org.openqa cannot be resolved&quot; as well as &quot;WebDriver, WebDriverWait, WebElement cannot be resolved to a type&quot;\r\n\r\n \r\n**My Code**\r\n\r\n    package mavensample;\r\n    \r\n    import.java.util.concurrent.TimeUnit; //This is the only import that doesn&#39;t get an error \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class mavensample {\r\n    public static void main(String[] args) {\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriverpath&quot;;\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.manage().deleteAllCookies();\r\n    driver.manage().timeouts().pageLoadTimeout(40, Timeunit.SECONDS);\r\n    driver.manage().timeouts().implicitlyWait(40, Timeunit.SECONDS);\r\n    driver.get(&quot;https://initialLink.net/&quot;);\r\n    driver.findElement(By.cssSelector(&quot;a[href=&#39;https://censoredlink.net/&#39;]&quot;));\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(“a[href=‘https://censoredlink.net/‘]”)));\r\n    }}\r\n\r\nI have the needed dependencies installed thru Maven, and nothing that I know of has changed since yesterday in that regard.\r\nAny help is much appreciated","title":"Selenium Maven - Project suddenly stopped recognizing imports","body":"<p>As of yesterday, my simple project was working fine until I added WebDriverWait and ExpectedConditions to my code. I was able to invoke the browser and navigate to URLs fine, however as of today everything stopped working. I'm now getting &quot;The import org.openqa cannot be resolved&quot; as well as &quot;WebDriver, WebDriverWait, WebElement cannot be resolved to a type&quot;</p>\n<p><strong>My Code</strong></p>\n<pre><code>package mavensample;\n\nimport.java.util.concurrent.TimeUnit; //This is the only import that doesn't get an error \nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class mavensample {\npublic static void main(String[] args) {\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriverpath&quot;;\nWebDriver driver = new ChromeDriver();\ndriver.manage().window().maximize();\ndriver.manage().deleteAllCookies();\ndriver.manage().timeouts().pageLoadTimeout(40, Timeunit.SECONDS);\ndriver.manage().timeouts().implicitlyWait(40, Timeunit.SECONDS);\ndriver.get(&quot;https://initialLink.net/&quot;);\ndriver.findElement(By.cssSelector(&quot;a[href='https://censoredlink.net/']&quot;));\nWebDriverWait wait = new WebDriverWait(driver, 30);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(“a[href=‘https://censoredlink.net/‘]”)));\n}}\n</code></pre>\n<p>I have the needed dependencies installed thru Maven, and nothing that I know of has changed since yesterday in that regard.\nAny help is much appreciated</p>\n"},{"tags":["java","spring-boot","executable-jar"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1664473377,"post_id":73899153,"comment_id":130486034,"body_markdown":"Check if this helps in anyway: https://www.behindjava.com/java-spring-classpath/","body":"Check if this helps in anyway: <a href=\"https://www.behindjava.com/java-spring-classpath/\" rel=\"nofollow noreferrer\">behindjava.com/java-spring-classpath</a>"},{"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"score":0,"creation_date":1664478299,"post_id":73899153,"comment_id":130487439,"body_markdown":"@pringi I am sorry, I forgot to mention, that I use Gradle and secondly as far as I remember `layout: ZIP` is not supported in new version of Spring Boot. As it is mentioned here https://stackoverflow.com/a/58418478/318306","body":"@pringi I am sorry, I forgot to mention, that I use Gradle and secondly as far as I remember <code>layout: ZIP</code> is not supported in new version of Spring Boot. As it is mentioned here <a href=\"https://stackoverflow.com/a/58418478/318306\">stackoverflow.com/a/58418478/318306</a>"},{"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"score":1,"creation_date":1664493992,"post_id":73899153,"comment_id":130491035,"body_markdown":"@pringi I take it back. Option 2 worked as far as I can tell. Need to test it more, but so far best result.","body":"@pringi I take it back. Option 2 worked as far as I can tell. Need to test it more, but so far best result."}],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664477916,"creation_date":1664470346,"question_id":73899153,"body_markdown":"So I have basic multi-module Spring Boot project. The goal, that I had was to build executable jar and pass additional properties with the help of `-Dloader.path=...`.\r\n\r\nFor some reason (if I understand purpose of this argument) `loader.path` is being ignored completely.\r\n\r\nMy project structure is following:\r\n```\r\n\\-\r\n|--conf\r\n|---default\r\n|--pets-api\r\n|--pets-app (this module contains the Main-Class)\r\n|--pets-domain\r\n|--pets-infrastructure\r\n```\r\nSince no custom `active profile` is being passed it uses &quot;default&quot;. Jar contains `application-default.propeties` file, that has single configuration `server.servlet.context-path=/v1`.\r\n\r\n`/conf/default` location has 2 properties files:\r\n* `application.properties`\r\n* `random.properties` - this is bind to `@ConfigurationProperties(prefix = &quot;...&quot;)` inside application\r\n\r\nWhen I run it normally everything is fine `java -jar pets-app-0.0.1-SNAPSHOT.jar`. It just uses `application-default.properties` file and that is it.\r\n\r\nNow when I am trying to utilize `-Dloader.path` argument as in `java -Dloader.path=PATH/TO/conf/default -jar pets-app-0.0.1-SNAPSHOT.jar` it starts application same as before, as if I am not adding 2 more file to classpath.\r\n\r\nWhat is used:\r\n* Java 17\r\n* Spring Boot 2.6.12\r\n* Gradle\r\n\r\nDid anyone come across this as well? Any suggestion on how to resolve it?\r\n\r\nPS. If there is need to see the code, I can upload it to GitHub.","title":"PropertiesLauncher command line arguments not working with Spring Boot executable Jar","body":"<p>So I have basic multi-module Spring Boot project. The goal, that I had was to build executable jar and pass additional properties with the help of <code>-Dloader.path=...</code>.</p>\n<p>For some reason (if I understand purpose of this argument) <code>loader.path</code> is being ignored completely.</p>\n<p>My project structure is following:</p>\n<pre><code>\\-\n|--conf\n|---default\n|--pets-api\n|--pets-app (this module contains the Main-Class)\n|--pets-domain\n|--pets-infrastructure\n</code></pre>\n<p>Since no custom <code>active profile</code> is being passed it uses &quot;default&quot;. Jar contains <code>application-default.propeties</code> file, that has single configuration <code>server.servlet.context-path=/v1</code>.</p>\n<p><code>/conf/default</code> location has 2 properties files:</p>\n<ul>\n<li><code>application.properties</code></li>\n<li><code>random.properties</code> - this is bind to <code>@ConfigurationProperties(prefix = &quot;...&quot;)</code> inside application</li>\n</ul>\n<p>When I run it normally everything is fine <code>java -jar pets-app-0.0.1-SNAPSHOT.jar</code>. It just uses <code>application-default.properties</code> file and that is it.</p>\n<p>Now when I am trying to utilize <code>-Dloader.path</code> argument as in <code>java -Dloader.path=PATH/TO/conf/default -jar pets-app-0.0.1-SNAPSHOT.jar</code> it starts application same as before, as if I am not adding 2 more file to classpath.</p>\n<p>What is used:</p>\n<ul>\n<li>Java 17</li>\n<li>Spring Boot 2.6.12</li>\n<li>Gradle</li>\n</ul>\n<p>Did anyone come across this as well? Any suggestion on how to resolve it?</p>\n<p>PS. If there is need to see the code, I can upload it to GitHub.</p>\n"},{"tags":["java","spring","spring-boot","rxjs","reactive-programming"],"comments":[{"owner":{"account_id":16208801,"reputation":2153,"user_id":11703367,"display_name":"Zerotwelve"},"score":0,"creation_date":1664517763,"post_id":73900410,"comment_id":130494181,"body_markdown":"what kind of token are you using? often you can read the expiration date from the token. Ideally you should check the expiration date and refresh the token before doing the request so you don&#39;t have to retry","body":"what kind of token are you using? often you can read the expiration date from the token. Ideally you should check the expiration date and refresh the token before doing the request so you don&#39;t have to retry"},{"owner":{"account_id":16208801,"reputation":2153,"user_id":11703367,"display_name":"Zerotwelve"},"score":0,"creation_date":1664517851,"post_id":73900410,"comment_id":130494200,"body_markdown":"oh i see your token in the logs. It&#39;s a JWT token https://jwt.io as you can see there is an `exp` property that you can read","body":"oh i see your token in the logs. It&#39;s a JWT token <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> as you can see there is an <code>exp</code> property that you can read"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664477854,"creation_date":1664477854,"question_id":73900410,"body_markdown":"I am using WebClient to call a third party API with an access token that may expire. If the token is expired then the API will return 401 and I want to refresh that access token and replace the value in the header before retrying. The logs are showing that the headers are being updated and retried but still 401s are being thrown. \r\n\r\nHere is the code: \r\n\r\n```\r\n    public Mono asyncCallApi(String url, HttpMethod httpMethod, Object requestBody, HttpHeaders httpHeaders, Class responseClass) {\r\n\t\tSystem.out.println(&quot;initial token : &quot; + httpHeaders.toSingleValueMap().toString());\r\n\r\n\t\t//Keeps throwing 401... -&gt; token is being updated in header during retries but still throws 401...\r\n\t\tRetrySpec is401RetrySpec = Retry.max(3).doBeforeRetry(\r\n\t\t\t\t\t\tretrySignal -&gt; {\r\n\t\t\t\t\t\t\tString token = manager.refreshAuthorization().getAccessToken();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;refreshed Token -&gt; &quot; + token);\r\n\t\t\t\t\t\t\thttpHeaders.replace(Constants.AUTHORIZATION, Arrays.asList(token));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t.filter(throwable -&gt; throwable instanceof UnauthorizedException)\r\n\t\t\t\t.onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\r\n\t\t\t\t\t\tnew BusinessException(&quot;Max retry attempts reached&quot;));\r\n\r\n\t\t//defer needed to update headers when retrying\r\n\t\tMono response = Mono.defer(() -&gt; webClient.method(httpMethod)\r\n\t\t\t\t.uri(url)\r\n\t\t\t\t.headers(headers -&gt; {\r\n\t\t\t\t\theaders.putAll(httpHeaders);\r\n\t\t\t\t\tSystem.out.println(&quot;Headers being used in this call: &quot; + httpHeaders.entrySet().toString());\r\n\t\t\t\t})\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.body(CustomBodyInserter.fromValue(requestBody))\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.onStatus(HttpStatus::is5xxServerError,\r\n\t\t\t\t\t\tres -&gt; {\r\n\t\t\t\t\t\t\tres.bodyToMono(String.class)\r\n\t\t\t\t\t\t\t\t\t.subscribe(e -&gt;\tlog.error(&quot;Exception occurred: &quot; + e));\r\n\t\t\t\t\t\t\treturn Mono.error(new RetryableException(&quot;Server error: &quot; + res.rawStatusCode()));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t.onStatus(HttpStatus::is4xxClientError,\r\n\t\t\t\t\t\tres -&gt; {\r\n\t\t\t\t\t\t\tres.bodyToMono(String.class)\r\n\t\t\t\t\t\t\t\t\t.subscribe(e -&gt; log.error(&quot;Exception occurred: &quot; + e));\r\n\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Error status code that occurred is: &quot; + res.rawStatusCode());\r\n\r\n\t\t\t\t\t\t\treturn (res.statusCode().equals(HttpStatus.UNAUTHORIZED)) ? Mono.error(new UnauthorizedException(&quot;Unauthorized exception occurred : retry with new access token&quot;))\r\n\t\t\t\t\t\t\t\t: Mono.error(new BusinessException(&quot;Exception occurred, no retries &quot; + res.rawStatusCode()));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t.bodyToMono(responseClass))\r\n\t\t\t\t.retryWhen(is401RetrySpec)\r\n\t\t\t\t.retryWhen(Retry.backoff(maxAttempt, Duration.ofSeconds(backOffDelay))\r\n\t\t\t\t\t\t.filter(throwable -&gt; throwable instanceof RetryableException)\r\n\t\t\t\t\t\t.onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\r\n\t\t\t\t\t\t\t\tnew BusinessException(&quot;Max retry attempts reached&quot;)));\r\n\r\n\t\treturn response;\r\n    }\r\n```\r\nIt is being retried 3 times and each time throws 401...\r\nand here are some logs: \r\n\r\n```\r\n\r\ninitial token : {providerId=a18943db-7236-4338-9e2f-76d05bd13d60, Authorization=Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NDksImV4cCI6MTY2NDQ3ODc0OSwiaWF0IjoxNjY0NDc2OTQ5LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.XeG-WeGnoBiurE358Q8mFQnm93pWOyvYnIdHNHKdJy3tNsba5jI9meLxdsAfpoSaBv1easwEJ0xb_hi3bGqXLiMtb-vaJan1EDrgl8YrE3wBq_p1Dh3pXlh7Df67hhWml4smWGBv1xz93wgwwVCHUOGmgLe9UMQjy-BjIVXgz_de9tccbvIOGjgwFEX6fQ0M8EqtNCANw5PuvUbqijM0jOBKCl-Xkfmrh3sh7DTzbIasOx2QgGDqDUIAc8KwFgmBv8XZBGH7jY4ckXn3J0TWYfGK0xArrHJvRGZrfQHhoPVcNNCj2JZhRwX-9A9ov57dxraM2teUuiI2cqIkA9kEbwxyz, api-version=3.0}\r\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NDksImV4cCI6MTY2NDQ3ODc0OSwiaWF0IjoxNjY0NDc2OTQ5LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.XeG-WeGnoBiurE358Q8mFQnm93pWOyvYnIdHNHKdJy3tNsba5jI9meLxdsAfpoSaBv1easwEJ0xb_hi3bGqXLiMtb-vaJan1EDrgl8YrE3wBq_p1Dh3pXlh7Df67hhWml4smWGBv1xz93wgwwVCHUOGmgLe9UMQjy-BjIVXgz_de9tccbvIOGjgwFEX6fQ0M8EqtNCANw5PuvUbqijM0jOBKCl-Xkfmrh3sh7DTzbIasOx2QgGDqDUIAc8KwFgmBv8XZBGH7jY4ckXn3J0TWYfGK0xArrHJvRGZrfQHhoPVcNNCj2JZhRwX-9A9ov57dxraM2teUuiI2cqIkA9kEbwxyz], api-version=[3.0]]\r\n2022-09-29 11:42:28.922 [aais-retail-fuel] [INFO ] 80184 [nio-8080-exec-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind=&#39;OracleID&#39;, site_ids=[185479_2, 185479], categories=[media], start_date=&#39;2022-09-09T00:00:00&#39;, end_date=&#39;2022-09-24T23:59:59&#39;}\r\n2022-09-29 11:42:29.549 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\r\n2022-09-29 11:42:29.646 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0x7bc55544, L:/192.168.1.57:58864 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\r\nError status code that occurred is: 401\r\nrefresh Authorization\r\n2022-09-29 11:42:42.102 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] c.a.e.e.manager.manager   : PartnerFlowManager getAuthorization method called.\r\n2022-09-29 11:42:42.104 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: AuthRequest{clientId=&#39;clientid&#39;, secret=&#39;secretkey&#39;}\r\n2022-09-29 11:42:42.109 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /appaccess/authorize\r\n2022-09-29 11:42:42.226 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/appaccess/authorize, connection=PooledConnection{channel=[id: 0xf3f3707f, L:/192.168.1.57:58863 - R:api.dataservices-stg.doverfs.com/52.151.241.0:8496]}}\r\nrefreshed Token -&gt; eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NjIsImV4cCI6MTY2NDQ3ODc2MiwiaWF0IjoxNjY0NDc2OTYyLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.Yw2TTMo12ZV0ftde-nd9m-6y6kqmz1l_0MCDJwHadjVzB3B2lm_UmGz8KyawC-ENWq2oRqACOdfzNbjdK5od46BzQhWjtuYCxtnaW_pdybq6Xz8QYpdxCDg00E_XewU4SI2ptvgHMmGj7o0aLjm46xzK0azCL2ueMXvuC5BpUxHIxnIKwGXzQTRGPT-uuTdoK5zyGzymlyCPZegubhmUi_VFcb3axDrVcMAHL9_-pN1KDStFoBkwpBOxZHKSyfxd2e-GT8mLWAnXjPpyXfz0-5q89nEjCplqtykK3y_RK5piwLIEAVdIM1M2Mv3_BZi9hBiD5fhjS1YPSBZ-1SXNSw\r\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NjIsImV4cCI6MTY2NDQ3ODc2MiwiaWF0IjoxNjY0NDc2OTYyLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.Yw2TTMo12ZV0ftde-nd9m-6y6kqmz1l_0MCDJwHadjVzB3B2lm_UmGz8KyawC-ENWq2oRqACOdfzNbjdK5od46BzQhWjtuYCxtnaW_pdybq6Xz8QYpdxCDg00E_XewU4SI2ptvgHMmGj7o0aLjm46xzK0azCL2ueMXvuC5BpUxHIxnIKwGXzQTRGPT-uuTdoK5zyGzymlyCPZegubhmUi_VFcb3axDrVcMAHL9_-pN1KDStFoBkwpBOxZHKSyfxd2e-GT8mLWAnXjPpyXfz0-5q89nEjCplqtykK3y_RK5piwLIEAVdIM1M2Mv3_BZi9hBiD5fhjS1YPSBZ-1SXNSw], api-version=[3.0]]\r\n2022-09-29 11:42:42.234 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind=&#39;OracleID&#39;, site_ids=[185479_2, 185479], categories=[media], start_date=&#39;2022-09-09T00:00:00&#39;, end_date=&#39;2022-09-24T23:59:59&#39;}\r\n2022-09-29 11:42:42.437 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\r\n2022-09-29 11:42:42.525 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0xd4e089aa, L:/192.168.1.57:58873 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\r\nError status code that occurred is: 401\r\nrefresh Authorization\r\n2022-09-29 11:43:10.493 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] c.a.e.e.manager.manager   : PartnerFlowManager getAuthorization method called.\r\n2022-09-29 11:43:10.495 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: AuthRequest{clientId=&#39;clientid&#39;, secret=&#39;secretkey&#39;}\r\n2022-09-29 11:43:10.497 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /appaccess/authorize\r\n2022-09-29 11:43:10.603 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/appaccess/authorize, connection=PooledConnection{channel=[id: 0xf3f3707f, L:/192.168.1.57:58863 - R:api.dataservices-stg.doverfs.com/52.151.241.0:8496]}}\r\nrefreshed Token -&gt; eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTEsImV4cCI6MTY2NDQ3ODc5MSwiaWF0IjoxNjY0NDc2OTkxLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.CT_RLyYNZrKLwgIOdi7c8jUfdrifm-6gSycFTTupoIPI3uuWt3LiWJy-YTvdW3u9EgFEX17camBqXoa-i4XR6mk-DLnWj4VpS_0g4iCdrSdDXFJTFawSi45SFP3omTWIzkIgphGcPVNNzpId6pLd95zJBF8wjZHusa2AGd6vzWWRJPnXCXxT55IskatFDgmstEA2s5dNIp8hdcUS2YXbC5Wl1lXqEKB-HNUOvgHdU2hYudvX1zEtpgUEpvsujnS6HPXL7_Tu6vPHCb0DzJortl3Lr5SQfXgZK4Rp9W1LOHFpi68msRHFv7XwU-sy6nrosti2YFSpWM0RMnmGiY111Q\r\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTEsImV4cCI6MTY2NDQ3ODc5MSwiaWF0IjoxNjY0NDc2OTkxLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.CT_RLyYNZrKLwgIOdi7c8jUfdrifm-6gSycFTTupoIPI3uuWt3LiWJy-YTvdW3u9EgFEX17camBqXoa-i4XR6mk-DLnWj4VpS_0g4iCdrSdDXFJTFawSi45SFP3omTWIzkIgphGcPVNNzpId6pLd95zJBF8wjZHusa2AGd6vzWWRJPnXCXxT55IskatFDgmstEA2s5dNIp8hdcUS2YXbC5Wl1lXqEKB-HNUOvgHdU2hYudvX1zEtpgUEpvsujnS6HPXL7_Tu6vPHCb0DzJortl3Lr5SQfXgZK4Rp9W1LOHFpi68msRHFv7XwU-sy6nrosti2YFSpWM0RMnmGiY111Q], api-version=[3.0]]\r\n2022-09-29 11:43:10.606 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind=&#39;OracleID&#39;, site_ids=[185479_2, 185479], categories=[media], start_date=&#39;2022-09-09T00:00:00&#39;, end_date=&#39;2022-09-24T23:59:59&#39;}\r\n2022-09-29 11:43:10.608 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\r\n2022-09-29 11:43:10.700 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0x7bc55544, L:/192.168.1.57:58864 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\r\nError status code that occurred is: 401\r\nrefresh Authorization\r\n2022-09-29 11:43:17.265 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] c.a.e.e.manager.manager   : PartnerFlowManager getAuthorization method called.\r\n2022-09-29 11:43:17.268 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: AuthRequest{clientId=&#39;clientid&#39;, secret=&#39;secretkey&#39;}\r\n2022-09-29 11:43:17.270 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /appaccess/authorize\r\n2022-09-29 11:43:17.408 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/appaccess/authorize, connection=PooledConnection{channel=[id: 0xf3f3707f, L:/192.168.1.57:58863 - R:api.dataservices-stg.doverfs.com/52.151.241.0:8496]}}\r\nrefreshed Token -&gt; eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTcsImV4cCI6MTY2NDQ3ODc5NywiaWF0IjoxNjY0NDc2OTk3LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.liQTawC41pSX_5FjR-nM1QSjPzxEbIXfGKAlVKECKbPiHK8SZP18o2yTc4f3jk2dCMRjqXcI_iUTHZaBYvfUDXj7SbBkTHM1pJKT9B-L3ugLiBsf5R_PF5t1V5fzMY1-OPgivaOHpcSigurx8jqfhe1yEQvJeUu75LW0vv3VE9vtMrRGlbobKf8ZGsTXaDuNPbVPcUuqTdHEXAaHT7l7GV3sr9UZfSGfwBo8REnxQqV-6VSQIQYLxhM-U6WMDsXzqzP3-2igPcu9Swp1cjh02WdqUR4ngJju3JGQUFilgMgSphcSAqmSnAexDovKj4fY9sSLxM1L-SOvG2GWWmo1Nw\r\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTcsImV4cCI6MTY2NDQ3ODc5NywiaWF0IjoxNjY0NDc2OTk3LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.liQTawC41pSX_5FjR-nM1QSjPzxEbIXfGKAlVKECKbPiHK8SZP18o2yTc4f3jk2dCMRjqXcI_iUTHZaBYvfUDXj7SbBkTHM1pJKT9B-L3ugLiBsf5R_PF5t1V5fzMY1-OPgivaOHpcSigurx8jqfhe1yEQvJeUu75LW0vv3VE9vtMrRGlbobKf8ZGsTXaDuNPbVPcUuqTdHEXAaHT7l7GV3sr9UZfSGfwBo8REnxQqV-6VSQIQYLxhM-U6WMDsXzqzP3-2igPcu9Swp1cjh02WdqUR4ngJju3JGQUFilgMgSphcSAqmSnAexDovKj4fY9sSLxM1L-SOvG2GWWmo1Nw], api-version=[3.0]]\r\n2022-09-29 11:43:17.413 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind=&#39;OracleID&#39;, site_ids=[185479_2, 185479], categories=[media], start_date=&#39;2022-09-09T00:00:00&#39;, end_date=&#39;2022-09-24T23:59:59&#39;}\r\n2022-09-29 11:43:17.415 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\r\n2022-09-29 11:43:17.514 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0xd4e089aa, L:/192.168.1.57:58873 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\r\nError status code that occurred is: 401\r\n2022-09-29 11:47:53.660 [aais-retail-fuel] [INFO ] 80184 [nio-8080-exec-2] [] a.e.e.e.GlobalControllerExceptionHandler : Business exception occurred: Max retry attempts reached\r\n```\r\nI&#39;m new to reactive programming and using webclient so any help would be appreciated thank you!!","title":"How to retry reactive WebClient call?","body":"<p>I am using WebClient to call a third party API with an access token that may expire. If the token is expired then the API will return 401 and I want to refresh that access token and replace the value in the header before retrying. The logs are showing that the headers are being updated and retried but still 401s are being thrown.</p>\n<p>Here is the code:</p>\n<pre><code>    public Mono asyncCallApi(String url, HttpMethod httpMethod, Object requestBody, HttpHeaders httpHeaders, Class responseClass) {\n        System.out.println(&quot;initial token : &quot; + httpHeaders.toSingleValueMap().toString());\n\n        //Keeps throwing 401... -&gt; token is being updated in header during retries but still throws 401...\n        RetrySpec is401RetrySpec = Retry.max(3).doBeforeRetry(\n                        retrySignal -&gt; {\n                            String token = manager.refreshAuthorization().getAccessToken();\n                            System.out.println(&quot;refreshed Token -&gt; &quot; + token);\n                            httpHeaders.replace(Constants.AUTHORIZATION, Arrays.asList(token));\n                        })\n                .filter(throwable -&gt; throwable instanceof UnauthorizedException)\n                .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\n                        new BusinessException(&quot;Max retry attempts reached&quot;));\n\n        //defer needed to update headers when retrying\n        Mono response = Mono.defer(() -&gt; webClient.method(httpMethod)\n                .uri(url)\n                .headers(headers -&gt; {\n                    headers.putAll(httpHeaders);\n                    System.out.println(&quot;Headers being used in this call: &quot; + httpHeaders.entrySet().toString());\n                })\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(CustomBodyInserter.fromValue(requestBody))\n                .retrieve()\n                .onStatus(HttpStatus::is5xxServerError,\n                        res -&gt; {\n                            res.bodyToMono(String.class)\n                                    .subscribe(e -&gt; log.error(&quot;Exception occurred: &quot; + e));\n                            return Mono.error(new RetryableException(&quot;Server error: &quot; + res.rawStatusCode()));\n                        })\n                .onStatus(HttpStatus::is4xxClientError,\n                        res -&gt; {\n                            res.bodyToMono(String.class)\n                                    .subscribe(e -&gt; log.error(&quot;Exception occurred: &quot; + e));\n\n                            System.out.println(&quot;Error status code that occurred is: &quot; + res.rawStatusCode());\n\n                            return (res.statusCode().equals(HttpStatus.UNAUTHORIZED)) ? Mono.error(new UnauthorizedException(&quot;Unauthorized exception occurred : retry with new access token&quot;))\n                                : Mono.error(new BusinessException(&quot;Exception occurred, no retries &quot; + res.rawStatusCode()));\n                        })\n                .bodyToMono(responseClass))\n                .retryWhen(is401RetrySpec)\n                .retryWhen(Retry.backoff(maxAttempt, Duration.ofSeconds(backOffDelay))\n                        .filter(throwable -&gt; throwable instanceof RetryableException)\n                        .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\n                                new BusinessException(&quot;Max retry attempts reached&quot;)));\n\n        return response;\n    }\n</code></pre>\n<p>It is being retried 3 times and each time throws 401...\nand here are some logs:</p>\n<pre><code>\ninitial token : {providerId=a18943db-7236-4338-9e2f-76d05bd13d60, Authorization=Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NDksImV4cCI6MTY2NDQ3ODc0OSwiaWF0IjoxNjY0NDc2OTQ5LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.XeG-WeGnoBiurE358Q8mFQnm93pWOyvYnIdHNHKdJy3tNsba5jI9meLxdsAfpoSaBv1easwEJ0xb_hi3bGqXLiMtb-vaJan1EDrgl8YrE3wBq_p1Dh3pXlh7Df67hhWml4smWGBv1xz93wgwwVCHUOGmgLe9UMQjy-BjIVXgz_de9tccbvIOGjgwFEX6fQ0M8EqtNCANw5PuvUbqijM0jOBKCl-Xkfmrh3sh7DTzbIasOx2QgGDqDUIAc8KwFgmBv8XZBGH7jY4ckXn3J0TWYfGK0xArrHJvRGZrfQHhoPVcNNCj2JZhRwX-9A9ov57dxraM2teUuiI2cqIkA9kEbwxyz, api-version=3.0}\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NDksImV4cCI6MTY2NDQ3ODc0OSwiaWF0IjoxNjY0NDc2OTQ5LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.XeG-WeGnoBiurE358Q8mFQnm93pWOyvYnIdHNHKdJy3tNsba5jI9meLxdsAfpoSaBv1easwEJ0xb_hi3bGqXLiMtb-vaJan1EDrgl8YrE3wBq_p1Dh3pXlh7Df67hhWml4smWGBv1xz93wgwwVCHUOGmgLe9UMQjy-BjIVXgz_de9tccbvIOGjgwFEX6fQ0M8EqtNCANw5PuvUbqijM0jOBKCl-Xkfmrh3sh7DTzbIasOx2QgGDqDUIAc8KwFgmBv8XZBGH7jY4ckXn3J0TWYfGK0xArrHJvRGZrfQHhoPVcNNCj2JZhRwX-9A9ov57dxraM2teUuiI2cqIkA9kEbwxyz], api-version=[3.0]]\n2022-09-29 11:42:28.922 [aais-retail-fuel] [INFO ] 80184 [nio-8080-exec-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind='OracleID', site_ids=[185479_2, 185479], categories=[media], start_date='2022-09-09T00:00:00', end_date='2022-09-24T23:59:59'}\n2022-09-29 11:42:29.549 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\n2022-09-29 11:42:29.646 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0x7bc55544, L:/192.168.1.57:58864 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\nError status code that occurred is: 401\nrefresh Authorization\n2022-09-29 11:42:42.102 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] c.a.e.e.manager.manager   : PartnerFlowManager getAuthorization method called.\n2022-09-29 11:42:42.104 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: AuthRequest{clientId='clientid', secret='secretkey'}\n2022-09-29 11:42:42.109 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /appaccess/authorize\n2022-09-29 11:42:42.226 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/appaccess/authorize, connection=PooledConnection{channel=[id: 0xf3f3707f, L:/192.168.1.57:58863 - R:api.dataservices-stg.doverfs.com/52.151.241.0:8496]}}\nrefreshed Token -&gt; eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NjIsImV4cCI6MTY2NDQ3ODc2MiwiaWF0IjoxNjY0NDc2OTYyLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.Yw2TTMo12ZV0ftde-nd9m-6y6kqmz1l_0MCDJwHadjVzB3B2lm_UmGz8KyawC-ENWq2oRqACOdfzNbjdK5od46BzQhWjtuYCxtnaW_pdybq6Xz8QYpdxCDg00E_XewU4SI2ptvgHMmGj7o0aLjm46xzK0azCL2ueMXvuC5BpUxHIxnIKwGXzQTRGPT-uuTdoK5zyGzymlyCPZegubhmUi_VFcb3axDrVcMAHL9_-pN1KDStFoBkwpBOxZHKSyfxd2e-GT8mLWAnXjPpyXfz0-5q89nEjCplqtykK3y_RK5piwLIEAVdIM1M2Mv3_BZi9hBiD5fhjS1YPSBZ-1SXNSw\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5NjIsImV4cCI6MTY2NDQ3ODc2MiwiaWF0IjoxNjY0NDc2OTYyLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.Yw2TTMo12ZV0ftde-nd9m-6y6kqmz1l_0MCDJwHadjVzB3B2lm_UmGz8KyawC-ENWq2oRqACOdfzNbjdK5od46BzQhWjtuYCxtnaW_pdybq6Xz8QYpdxCDg00E_XewU4SI2ptvgHMmGj7o0aLjm46xzK0azCL2ueMXvuC5BpUxHIxnIKwGXzQTRGPT-uuTdoK5zyGzymlyCPZegubhmUi_VFcb3axDrVcMAHL9_-pN1KDStFoBkwpBOxZHKSyfxd2e-GT8mLWAnXjPpyXfz0-5q89nEjCplqtykK3y_RK5piwLIEAVdIM1M2Mv3_BZi9hBiD5fhjS1YPSBZ-1SXNSw], api-version=[3.0]]\n2022-09-29 11:42:42.234 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind='OracleID', site_ids=[185479_2, 185479], categories=[media], start_date='2022-09-09T00:00:00', end_date='2022-09-24T23:59:59'}\n2022-09-29 11:42:42.437 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\n2022-09-29 11:42:42.525 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0xd4e089aa, L:/192.168.1.57:58873 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\nError status code that occurred is: 401\nrefresh Authorization\n2022-09-29 11:43:10.493 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] c.a.e.e.manager.manager   : PartnerFlowManager getAuthorization method called.\n2022-09-29 11:43:10.495 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: AuthRequest{clientId='clientid', secret='secretkey'}\n2022-09-29 11:43:10.497 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /appaccess/authorize\n2022-09-29 11:43:10.603 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/appaccess/authorize, connection=PooledConnection{channel=[id: 0xf3f3707f, L:/192.168.1.57:58863 - R:api.dataservices-stg.doverfs.com/52.151.241.0:8496]}}\nrefreshed Token -&gt; eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTEsImV4cCI6MTY2NDQ3ODc5MSwiaWF0IjoxNjY0NDc2OTkxLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.CT_RLyYNZrKLwgIOdi7c8jUfdrifm-6gSycFTTupoIPI3uuWt3LiWJy-YTvdW3u9EgFEX17camBqXoa-i4XR6mk-DLnWj4VpS_0g4iCdrSdDXFJTFawSi45SFP3omTWIzkIgphGcPVNNzpId6pLd95zJBF8wjZHusa2AGd6vzWWRJPnXCXxT55IskatFDgmstEA2s5dNIp8hdcUS2YXbC5Wl1lXqEKB-HNUOvgHdU2hYudvX1zEtpgUEpvsujnS6HPXL7_Tu6vPHCb0DzJortl3Lr5SQfXgZK4Rp9W1LOHFpi68msRHFv7XwU-sy6nrosti2YFSpWM0RMnmGiY111Q\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTEsImV4cCI6MTY2NDQ3ODc5MSwiaWF0IjoxNjY0NDc2OTkxLCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.CT_RLyYNZrKLwgIOdi7c8jUfdrifm-6gSycFTTupoIPI3uuWt3LiWJy-YTvdW3u9EgFEX17camBqXoa-i4XR6mk-DLnWj4VpS_0g4iCdrSdDXFJTFawSi45SFP3omTWIzkIgphGcPVNNzpId6pLd95zJBF8wjZHusa2AGd6vzWWRJPnXCXxT55IskatFDgmstEA2s5dNIp8hdcUS2YXbC5Wl1lXqEKB-HNUOvgHdU2hYudvX1zEtpgUEpvsujnS6HPXL7_Tu6vPHCb0DzJortl3Lr5SQfXgZK4Rp9W1LOHFpi68msRHFv7XwU-sy6nrosti2YFSpWM0RMnmGiY111Q], api-version=[3.0]]\n2022-09-29 11:43:10.606 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind='OracleID', site_ids=[185479_2, 185479], categories=[media], start_date='2022-09-09T00:00:00', end_date='2022-09-24T23:59:59'}\n2022-09-29 11:43:10.608 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\n2022-09-29 11:43:10.700 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0x7bc55544, L:/192.168.1.57:58864 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\nError status code that occurred is: 401\nrefresh Authorization\n2022-09-29 11:43:17.265 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] c.a.e.e.manager.manager   : PartnerFlowManager getAuthorization method called.\n2022-09-29 11:43:17.268 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: AuthRequest{clientId='clientid', secret='secretkey'}\n2022-09-29 11:43:17.270 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /appaccess/authorize\n2022-09-29 11:43:17.408 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-2] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/appaccess/authorize, connection=PooledConnection{channel=[id: 0xf3f3707f, L:/192.168.1.57:58863 - R:api.dataservices-stg.doverfs.com/52.151.241.0:8496]}}\nrefreshed Token -&gt; eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTcsImV4cCI6MTY2NDQ3ODc5NywiaWF0IjoxNjY0NDc2OTk3LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.liQTawC41pSX_5FjR-nM1QSjPzxEbIXfGKAlVKECKbPiHK8SZP18o2yTc4f3jk2dCMRjqXcI_iUTHZaBYvfUDXj7SbBkTHM1pJKT9B-L3ugLiBsf5R_PF5t1V5fzMY1-OPgivaOHpcSigurx8jqfhe1yEQvJeUu75LW0vv3VE9vtMrRGlbobKf8ZGsTXaDuNPbVPcUuqTdHEXAaHT7l7GV3sr9UZfSGfwBo8REnxQqV-6VSQIQYLxhM-U6WMDsXzqzP3-2igPcu9Swp1cjh02WdqUR4ngJju3JGQUFilgMgSphcSAqmSnAexDovKj4fY9sSLxM1L-SOvG2GWWmo1Nw\nHeaders being used in this call: [providerId=[a18943db-7236-4338-9e2f-76d05bd13d60], Authorization=[eyJhbGciOiJSUzI1NiIsImtpZCI6IjcrbjFzRU1GQ01TNDFZa28zVlllWEJ0Z2RBQ2M2enM3ZDloaCtDc2FGZ009IiwidHlwIjoiSldUIn0.eyJzdWIiOiJBQlNDTyIsImFwcGxpY2F0aW9uTmFtZSI6IkFCU0NPIiwiYXBwbGljYXRpb25JZCI6IjkyMmMzNTFhLTU4ZDgtNDQ2YS1iMmUwLTQ1NzJiZmNlY2NkNSIsInByb2R1Y3QiOiIqIiwiYXV0aGVudGljYXRpb25UeXBlIjoiQXBwQWNjZXNzIiwiYXBwbGljYXRpb25DbGFpbXMiOlsiR2V0SGlzdG9yeVJlcG9ydHMiLCJHZXRQT1BSZXBvcnRzIiwiRG93bmxvYWRQb1BSZXBvcnQiLCJQb1BSZXBvcnRSZXF1ZXN0IiwiTWFuYWdlQWxsVXNlcnMiLCJTZXJ2aWNlIl0sInVzZXJHcm91cHMiOiIwNTNlZWVjNi1lYjg3LTRhZTUtYWY1My00ODkyZWM2YjM2ZjEiLCJuYmYiOjE2NjQ0NzY5OTcsImV4cCI6MTY2NDQ3ODc5NywiaWF0IjoxNjY0NDc2OTk3LCJpc3MiOiJodHRwczovL2FwaS5kYXRhc2VydmljZXMtc3RnLmRvdmVyZnMuY29tOjg4NjMvdXNlcm1hbmFnZW1lbnQvc3NvL3NhbWwiLCJhdWQiOiJDZXJlcyJ9.liQTawC41pSX_5FjR-nM1QSjPzxEbIXfGKAlVKECKbPiHK8SZP18o2yTc4f3jk2dCMRjqXcI_iUTHZaBYvfUDXj7SbBkTHM1pJKT9B-L3ugLiBsf5R_PF5t1V5fzMY1-OPgivaOHpcSigurx8jqfhe1yEQvJeUu75LW0vv3VE9vtMrRGlbobKf8ZGsTXaDuNPbVPcUuqTdHEXAaHT7l7GV3sr9UZfSGfwBo8REnxQqV-6VSQIQYLxhM-U6WMDsXzqzP3-2igPcu9Swp1cjh02WdqUR4ngJju3JGQUFilgMgSphcSAqmSnAexDovKj4fY9sSLxM1L-SOvG2GWWmo1Nw], api-version=[3.0]]\n2022-09-29 11:43:17.413 [aais-retail-fuel] [INFO ] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent: {site_Id_kind='OracleID', site_ids=[185479_2, 185479], categories=[media], start_date='2022-09-09T00:00:00', end_date='2022-09-24T23:59:59'}\n2022-09-29 11:43:17.415 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Request sent to : /reports/pop/requestsasync\n2022-09-29 11:43:17.514 [aais-retail-fuel] [DEBUG] 80184 [r-http-kqueue-3] [] tConfig$$EnhancerBySpringCGLIB$$ae041a7e : Response: POST{uri=/reports/pop/requestsasync, connection=PooledConnection{channel=[id: 0xd4e089aa, L:/192.168.1.57:58873 - R:api.dxpromote-stg.dataservices.doverfs.com/52.146.61.101:443]}}\nError status code that occurred is: 401\n2022-09-29 11:47:53.660 [aais-retail-fuel] [INFO ] 80184 [nio-8080-exec-2] [] a.e.e.e.GlobalControllerExceptionHandler : Business exception occurred: Max retry attempts reached\n</code></pre>\n<p>I'm new to reactive programming and using webclient so any help would be appreciated thank you!!</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":7323670,"reputation":1945,"user_id":6393275,"display_name":"alex"},"score":0,"creation_date":1590094085,"post_id":47427948,"comment_id":109558516,"body_markdown":"What happens if we then switch the setting from `props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false)` to `props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true)` ? Does any of the other code need to change or will spring ignore `acknowledgment.acknowledge()`?","body":"What happens if we then switch the setting from <code>props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false)</code> to <code>props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true)</code> ? Does any of the other code need to change or will spring ignore <code>acknowledgment.acknowledge()</code>?"},{"owner":{"account_id":432946,"reputation":607,"user_id":818006,"display_name":"Boss Man"},"score":0,"creation_date":1664477286,"post_id":47427948,"comment_id":130487151,"body_markdown":"Good question. I think, setting it to `true` completely bypasses the container config. See (SEE LINK IN CHROMIUM BASED BROWSERS) https://docs.spring.io/spring-kafka/reference/html/#committing-offsets:~:text=If%20the%20enable.auto.commit%20consumer%20property%20is%20true%2C%20Kafka%20auto%2Dcommits%20the%20offsets%20according%20to%20its%20configuration. Manually acking it wont make a difference. So yes, the code needs to be changed because it is useless.","body":"Good question. I think, setting it to <code>true</code> completely bypasses the container config. See (SEE LINK IN CHROMIUM BASED BROWSERS) <a href=\"https://docs.spring.io/spring-kafka/reference/html/#committing-offsets:~:text=If%20the%20enable.auto.commit%20consumer%20property%20is%20true%2C%20Kafka%20auto%2Dcommits%20the%20offsets%20according%20to%20its%20configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html/&hellip;</a>. Manually acking it wont make a difference. So yes, the code needs to be changed because it is useless."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511361527,"creation_date":1511361527,"answer_id":47437380,"question_id":47427948,"body_markdown":"That doesn&#39;t work that way in Apache Kafka.\r\n\r\nFor the currently running consumer we may never worry about committing offsets. We need them persisted only for new consumers in the same consumer group. The current one track its offset in the memory. I guess somewhere on Broker.\r\n\r\nIf you need to refetch the same message in the same consumer maybe the next poll round, you should consider to use `seek()` functionality: https://docs.spring.io/spring-kafka/docs/2.0.1.RELEASE/reference/html/_reference.html#seek\r\n","title":"How to acknowledge current offset in spring kafka for manual commit","body":"<p>That doesn't work that way in Apache Kafka.</p>\n\n<p>For the currently running consumer we may never worry about committing offsets. We need them persisted only for new consumers in the same consumer group. The current one track its offset in the memory. I guess somewhere on Broker.</p>\n\n<p>If you need to refetch the same message in the same consumer maybe the next poll round, you should consider to use <code>seek()</code> functionality: <a href=\"https://docs.spring.io/spring-kafka/docs/2.0.1.RELEASE/reference/html/_reference.html#seek\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/2.0.1.RELEASE/reference/html/_reference.html#seek</a></p>\n"},{"tags":[],"owner":{"account_id":3007058,"reputation":771,"user_id":2551356,"display_name":"contactsunny"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1519283464,"creation_date":1519281425,"answer_id":48921082,"question_id":47427948,"body_markdown":"Set the enable-auto-commit property to false:\r\n\r\n&gt; propsMap.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\r\nSet the ack-mode to MANUAL_IMMEDIATE:\r\n\r\n&gt; factory.getContainerProperties().setAckMode(AbstractMessageListenerContainer.AckMode.MANUAL_IMMEDIATE);\r\n\r\nThen, in your consumer/listener code, you can commit the offset manually, like this:\r\n\r\n    @KafkaListener(topics = &quot;testKafka&quot;)\r\n    public void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord,  \r\n            Acknowledgment acknowledgment) {\r\n\r\n        System.out.println(&quot;Received message: &quot;);\r\n        System.out.println(consumerRecord.value().toString());\r\n\r\n        acknowledgment.acknowledge();\r\n    }\r\n\r\nUpdate: I created a small POC for this. Check it out [here][1], might help you.\r\n\r\n\r\n  [1]: https://github.com/contactsunny/spring-kafka-test","title":"How to acknowledge current offset in spring kafka for manual commit","body":"<p>Set the enable-auto-commit property to false:</p>\n\n<blockquote>\n  <p>propsMap.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);</p>\n</blockquote>\n\n<p>Set the ack-mode to MANUAL_IMMEDIATE:</p>\n\n<blockquote>\n  <p>factory.getContainerProperties().setAckMode(AbstractMessageListenerContainer.AckMode.MANUAL_IMMEDIATE);</p>\n</blockquote>\n\n<p>Then, in your consumer/listener code, you can commit the offset manually, like this:</p>\n\n<pre><code>@KafkaListener(topics = \"testKafka\")\npublic void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord,  \n        Acknowledgment acknowledgment) {\n\n    System.out.println(\"Received message: \");\n    System.out.println(consumerRecord.value().toString());\n\n    acknowledgment.acknowledge();\n}\n</code></pre>\n\n<p>Update: I created a small POC for this. Check it out <a href=\"https://github.com/contactsunny/spring-kafka-test\" rel=\"noreferrer\">here</a>, might help you.</p>\n"},{"tags":[],"owner":{"account_id":9578099,"reputation":81,"user_id":7113472,"display_name":"Zubair A."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550154567,"creation_date":1537253666,"answer_id":52380584,"question_id":47427948,"body_markdown":"You can do following:  \r\n1. store the current record offset to file or DB.  \r\n2. Implement your kafka listener class with ConsumerAware.  \r\n3. Call registerSeekCallback as given below:\r\n\r\n    (registerSeekCallback(ConsumerSeekCallback callback) \r\n          {\r\n          callback.seek(topic, partition, offset)\r\n    }\r\n\r\nSo when the consumer goes down or new consumer is assigned , it start reading fomr the offset stored in your DB. \r\n\r\n\r\n\r\n\r\n","title":"How to acknowledge current offset in spring kafka for manual commit","body":"<p>You can do following:<br>\n1. store the current record offset to file or DB.<br>\n2. Implement your kafka listener class with ConsumerAware.<br>\n3. Call registerSeekCallback as given below:</p>\n\n<pre><code>(registerSeekCallback(ConsumerSeekCallback callback) \n      {\n      callback.seek(topic, partition, offset)\n}\n</code></pre>\n\n<p>So when the consumer goes down or new consumer is assigned , it start reading fomr the offset stored in your DB. </p>\n"},{"tags":[],"owner":{"account_id":5386595,"reputation":216,"user_id":4290270,"display_name":"Amit Nargund"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1581597270,"creation_date":1581597270,"answer_id":60207989,"question_id":47427948,"body_markdown":"You need to do the following\r\n\r\n1) Set enable-auto-commit property to false\r\n\r\n    consumerConfigProperties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n\r\n2) Set the ACK Mode to MANUL_IMMEDIATE\r\n\r\n    factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n\r\n3) For processed records you need to call acknowledgment.acknowledge();\r\n\r\n4) for failed records call acknowledgment.nack(10);\r\nNote: the nack method takes a long parameter which is the sleep time and it should be less than max.poll.interval.ms\r\n\r\nBelow is a sample code\r\n\r\n    @KafkaListener(id = &quot;baz&quot;, topics = &quot;${message.topic.name}&quot;, containerFactory = &quot;containerFactory&quot;)\r\n    public void listenPEN_RE(@Payload String message,\r\n            @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\r\n            @Header(KafkaHeaders.OFFSET) int offsets,\r\n            Acknowledgment acknowledgment) {\r\n    \r\n        if (value%2==0){\r\n            acknowledgment.acknowledge();\r\n        } else {\r\n            acknowledgment.nack(10); //sleep time should be less than max.poll.interval.ms\r\n        }\r\n        value++;\r\n    }\r\n\r\n\r\n","title":"How to acknowledge current offset in spring kafka for manual commit","body":"<p>You need to do the following</p>\n\n<p>1) Set enable-auto-commit property to false</p>\n\n<pre><code>consumerConfigProperties.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, \"false\");\n</code></pre>\n\n<p>2) Set the ACK Mode to MANUL_IMMEDIATE</p>\n\n<pre><code>factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n</code></pre>\n\n<p>3) For processed records you need to call acknowledgment.acknowledge();</p>\n\n<p>4) for failed records call acknowledgment.nack(10);\nNote: the nack method takes a long parameter which is the sleep time and it should be less than max.poll.interval.ms</p>\n\n<p>Below is a sample code</p>\n\n<pre><code>@KafkaListener(id = \"baz\", topics = \"${message.topic.name}\", containerFactory = \"containerFactory\")\npublic void listenPEN_RE(@Payload String message,\n        @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\n        @Header(KafkaHeaders.OFFSET) int offsets,\n        Acknowledgment acknowledgment) {\n\n    if (value%2==0){\n        acknowledgment.acknowledge();\n    } else {\n        acknowledgment.nack(10); //sleep time should be less than max.poll.interval.ms\n    }\n    value++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":432946,"reputation":607,"user_id":818006,"display_name":"Boss Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664477804,"creation_date":1664477804,"answer_id":73900401,"question_id":47427948,"body_markdown":"I have a small nitpick with OP&#39;s configuration. If using `@KafkaListener` with `ConcurrentKafkaListenerContainerFactory`, dont forget to make the state thread-safe. Using `private static int value = 1;` isnt going to help. Use [AtomicInteger][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"How to acknowledge current offset in spring kafka for manual commit","body":"<p>I have a small nitpick with OP's configuration. If using <code>@KafkaListener</code> with <code>ConcurrentKafkaListenerContainerFactory</code>, dont forget to make the state thread-safe. Using <code>private static int value = 1;</code> isnt going to help. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a></p>\n"}],"owner":{"account_id":3005539,"reputation":421,"user_id":2550140,"display_name":"user2550140"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75940,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":5,"score":42,"last_activity_date":1664477804,"creation_date":1511331181,"question_id":47427948,"body_markdown":" I am using Spring Kafka first time and I am not able to use Acknowledgement.acknowledge() method for manual commit in my consumer code. please let me know if anything missing in my consumer configuration or listener code. or else is there other way to handle acknowledge offset based on condition.\r\n    Here i&#39;m looking solution like if the offset is not committed/ acknowledge manually, it should pick same message/offset by consumer. \r\n    \r\n**Configuration**\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    import org.springframework.kafka.listener.AbstractMessageListenerContainer.AckMode;\r\n    \r\n    @EnableKafka\r\n    @Configuration\r\n    public class ConsumerConfig {\r\n    \r\n        @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n        private String bootstrapAddress;\r\n    \r\n        @Value(value = &quot;${kafka.groupId}&quot;)\r\n        private String groupId;\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; containerFactory() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;String, Object&gt;();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n            props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n            props.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, 100);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                    StringDeserializer.class);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                    StringDeserializer.class);\r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;();\r\n            factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;String, String&gt;(\r\n                    props));\r\n            factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n            factory.getContainerProperties().setSyncCommits(true);\r\n            return factory;\r\n        }\r\n    }\r\n\r\n\r\n**Listener**\r\n\r\n    private static int value = 1;\r\n    \r\n    @KafkaListener(id = &quot;baz&quot;, topics = &quot;${message.topic.name}&quot;, containerFactory = &quot;containerFactory&quot;)\r\n    public void listenPEN_RE(@Payload String message,\r\n            @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\r\n            @Header(KafkaHeaders.OFFSET) int offsets,\r\n            Acknowledgment acknowledgment) {\r\n    \r\n        if (value%2==0){\r\n            acknowledgment.acknowledge();\r\n        }\r\n        value++;\r\n    }","title":"How to acknowledge current offset in spring kafka for manual commit","body":"<p>I am using Spring Kafka first time and I am not able to use Acknowledgement.acknowledge() method for manual commit in my consumer code. please let me know if anything missing in my consumer configuration or listener code. or else is there other way to handle acknowledge offset based on condition.\n    Here i'm looking solution like if the offset is not committed/ acknowledge manually, it should pick same message/offset by consumer. </p>\n\n<p><strong>Configuration</strong></p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.listener.AbstractMessageListenerContainer.AckMode;\n\n@EnableKafka\n@Configuration\npublic class ConsumerConfig {\n\n    @Value(value = \"${kafka.bootstrapAddress}\")\n    private String bootstrapAddress;\n\n    @Value(value = \"${kafka.groupId}\")\n    private String groupId;\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; containerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;String, Object&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        props.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, 100);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"latest\");\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;();\n        factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;String, String&gt;(\n                props));\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.getContainerProperties().setSyncCommits(true);\n        return factory;\n    }\n}\n</code></pre>\n\n<p><strong>Listener</strong></p>\n\n<pre><code>private static int value = 1;\n\n@KafkaListener(id = \"baz\", topics = \"${message.topic.name}\", containerFactory = \"containerFactory\")\npublic void listenPEN_RE(@Payload String message,\n        @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\n        @Header(KafkaHeaders.OFFSET) int offsets,\n        Acknowledgment acknowledgment) {\n\n    if (value%2==0){\n        acknowledgment.acknowledge();\n    }\n    value++;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664476848,"creation_date":1664476439,"answer_id":73900184,"question_id":73896314,"body_markdown":"Is you resource-server 1 accessing resources from resource-server 2 in its own name or on behalf of an authenticated user? \r\n\r\nThe answer to this question will determine the flow to use: \r\n- in first case resource-server 1 is actually a **client** and has to contact authorization-server to get an access-token of its own using **client-credentials** flow.\r\n- in second case, resource-server 1 can authorize its own request to resource-server 2 with the Bearer access-token it recieved (and which should be available from `Authentication` instance in security-context)\r\n\r\nOf course the configuration to apply is quite different depending on your actual case.\r\n\r\n### Configuring WebClient with client-credentials\r\n```properties\r\nspring.security.oauth2.client.provider.idsvr.issuer-uri=XXX/idserver\r\n\r\nspring.security.oauth2.client.registration.idsvr.client-id=KEY\r\nspring.security.oauth2.client.registration.idsvr.client-secret=SKEY\r\nspring.security.oauth2.client.registration.idsvr.authorization-grant-type=client_credentials\r\n```\r\n```java\r\nwebClient.get()\r\n    .uri(baseUrl + &quot;/users&quot;)\r\n    .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;idsvr&quot;))\r\n    .retrieve()\r\n    ....\r\n```\r\n\r\n### Forward access-token\r\n```java\r\nfinal var auth = (AbstractOAuth2TokenAuthenticationToken&lt;OAuth2Token&gt;) SecurityContextHolder.getContext().getAuthentication();\r\nwebClient.get()\r\n    .uri(baseUrl + &quot;/users&quot;)\r\n    .headers(headers -&gt; headers.setBearerAuth(auth.getToken().getTokenValue()))\r\n    .retrieve()\r\n    ....\r\n```","title":"Java Spring boot how to manage 2 exchange server resources with OAUth2 client on the other?","body":"<p>Is you resource-server 1 accessing resources from resource-server 2 in its own name or on behalf of an authenticated user?</p>\n<p>The answer to this question will determine the flow to use:</p>\n<ul>\n<li>in first case resource-server 1 is actually a <strong>client</strong> and has to contact authorization-server to get an access-token of its own using <strong>client-credentials</strong> flow.</li>\n<li>in second case, resource-server 1 can authorize its own request to resource-server 2 with the Bearer access-token it recieved (and which should be available from <code>Authentication</code> instance in security-context)</li>\n</ul>\n<p>Of course the configuration to apply is quite different depending on your actual case.</p>\n<h3>Configuring WebClient with client-credentials</h3>\n<pre><code>spring.security.oauth2.client.provider.idsvr.issuer-uri=XXX/idserver\n\nspring.security.oauth2.client.registration.idsvr.client-id=KEY\nspring.security.oauth2.client.registration.idsvr.client-secret=SKEY\nspring.security.oauth2.client.registration.idsvr.authorization-grant-type=client_credentials\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>webClient.get()\n    .uri(baseUrl + &quot;/users&quot;)\n    .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;idsvr&quot;))\n    .retrieve()\n    ....\n</code></pre>\n<h3>Forward access-token</h3>\n<pre class=\"lang-java prettyprint-override\"><code>final var auth = (AbstractOAuth2TokenAuthenticationToken&lt;OAuth2Token&gt;) SecurityContextHolder.getContext().getAuthentication();\nwebClient.get()\n    .uri(baseUrl + &quot;/users&quot;)\n    .headers(headers -&gt; headers.setBearerAuth(auth.getToken().getTokenValue()))\n    .retrieve()\n    ....\n</code></pre>\n"}],"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664476848,"creation_date":1664457853,"question_id":73896314,"body_markdown":"[![enter image description here][1]][1]I am trying to add an OAuth2 token to my requests in order to secure exchanges. With another server.\r\nspec `spring-boot-starter-oauth2-client`\r\n\r\nI know that this code does not work, but I have not been able to find complete examples\r\n\r\nadd a header request token to access another secure server\r\n\r\n``````java\r\n@Configuration\r\npublic class OAuth2SecurityConfigClient {\r\n\r\n    @Autowired\r\n    private WebClient webClient;\r\n\r\npublic void logResourceServiceResponse() {\r\n\r\n    webClient.get()\r\n            .uri(&quot;{$spring.security.oauth2.client.provider.idsvr.issuer-uri}&quot;)\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .map(string\r\n                    -&gt; &quot;Retrieved using Client Credentials Grant Type: &quot; + string)\r\n            .subscribe(logger::info);\r\n}\r\n\r\n    @Bean\r\n    WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n                        clientRegistrations,\r\n                        new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\r\n        oauth.setDefaultClientRegistrationId(&quot;idsvr&quot;);\r\n        return WebClient.builder()\r\n                .filter(oauth)\r\n                .build();\r\n    }\r\n}\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.add(&quot;Authorization&quot;, &quot;Barear&quot; + webclient.getToken());\r\n\r\npublic String[] getUserAll() {\r\n        return localApiClient\r\n.head(headers )\r\n                .get()\r\n                .uri(baseUrl+&quot;/users&quot; )\r\n                .retrieve()\r\n                .bodyToMono(String[].class)\r\n                .block(REQUEST_TIMEOUT);\r\n    }\r\n``````\r\n\r\n``````properties\r\nspring.security.oauth2.client.registration.idsvr.client-name=client\r\nspring.security.oauth2.client.registration.idsvr.client-id=KEY\r\nspring.security.oauth2.client.registration.idsvr.client-secret=SKEY\r\nspring.security.oauth2.client.registration.idsvr.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.idsvr.scope=openid\r\nspring.security.oauth2.client.provider.idsvr.issuer-uri=XXX/idserver\r\nspring.security.oauth2.client.provider.idsvr.authorization-uri=XXX/idserver/connect/authorize\r\nspring.security.oauth2.client.provider.idsvr.token-uri=XXX/idserver/connect/token\r\nspring.security.oauth2.client.provider.idsvr.jwk-set-uri=XXX/idserver/.well-known/jwks\r\n``````\r\n\r\nto sum up, I therefore want to add to all my applications calling a 2nd server a valid authentication token of the bearen type with OAuth2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ElrT1.jpg","title":"Java Spring boot how to manage 2 exchange server resources with OAUth2 client on the other?","body":"<p><a href=\"https://i.stack.imgur.com/ElrT1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ElrT1.jpg\" alt=\"enter image description here\" /></a>I am trying to add an OAuth2 token to my requests in order to secure exchanges. With another server.\nspec <code>spring-boot-starter-oauth2-client</code></p>\n<p>I know that this code does not work, but I have not been able to find complete examples</p>\n<p>add a header request token to access another secure server</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class OAuth2SecurityConfigClient {\n\n    @Autowired\n    private WebClient webClient;\n\npublic void logResourceServiceResponse() {\n\n    webClient.get()\n            .uri(&quot;{$spring.security.oauth2.client.provider.idsvr.issuer-uri}&quot;)\n            .retrieve()\n            .bodyToMono(String.class)\n            .map(string\n                    -&gt; &quot;Retrieved using Client Credentials Grant Type: &quot; + string)\n            .subscribe(logger::info);\n}\n\n    @Bean\n    WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n                new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n                        clientRegistrations,\n                        new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\n        oauth.setDefaultClientRegistrationId(&quot;idsvr&quot;);\n        return WebClient.builder()\n                .filter(oauth)\n                .build();\n    }\n}\n\nHttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;Authorization&quot;, &quot;Barear&quot; + webclient.getToken());\n\npublic String[] getUserAll() {\n        return localApiClient\n.head(headers )\n                .get()\n                .uri(baseUrl+&quot;/users&quot; )\n                .retrieve()\n                .bodyToMono(String[].class)\n                .block(REQUEST_TIMEOUT);\n    }\n</code></pre>\n<pre><code>spring.security.oauth2.client.registration.idsvr.client-name=client\nspring.security.oauth2.client.registration.idsvr.client-id=KEY\nspring.security.oauth2.client.registration.idsvr.client-secret=SKEY\nspring.security.oauth2.client.registration.idsvr.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.idsvr.scope=openid\nspring.security.oauth2.client.provider.idsvr.issuer-uri=XXX/idserver\nspring.security.oauth2.client.provider.idsvr.authorization-uri=XXX/idserver/connect/authorize\nspring.security.oauth2.client.provider.idsvr.token-uri=XXX/idserver/connect/token\nspring.security.oauth2.client.provider.idsvr.jwk-set-uri=XXX/idserver/.well-known/jwks\n</code></pre>\n<p>to sum up, I therefore want to add to all my applications calling a 2nd server a valid authentication token of the bearen type with OAuth2</p>\n"},{"tags":["java","dependency-injection","dagger","assisted-inject"],"answers":[{"tags":[],"owner":{"account_id":135003,"reputation":4701,"user_id":337516,"accept_rate":50,"display_name":"Christian Gruber"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1427396989,"creation_date":1396409919,"answer_id":22801097,"question_id":22799407,"body_markdown":"So, some of the Dagger/Guice folks at Google created a thing called AutoFactory (http://github.com/google/auto) in a project that includes AutoFactory (code-generated assisted injection), AutoValue (code-generated custom value types) and AutoService (auto-generation of java services metadata files).\r\n\r\nAutoFactory pretty much operates like you would expect - it generates the factory you would otherwise have hand-rolled.  It&#39;s a very early version, and we have a lot more flexibility planned, but it will generate a factory class that will take a type that includes some JSR-330 injectable dependencies and some call-stack parameters, and merge them together in creating instances of the annotated type. \r\n\r\nIn essence it will generate the factory you wrote, automatically if you properly annotate your factory-created type. \r\n\r\nFor instance, if you create your class:\r\n\r\n    @AutoFactory\r\n    public class ImageDownloader {\r\n      // Get these dependencies from the injector.\r\n      private final HttpClient httpClient;\r\n      private final ExecutorService executorService;\r\n    \r\n      // Get these from the caller.\r\n      private final URL imageUrl;\r\n      private final ImageCallback callback;\r\n\r\n      ImageDownloader(\r\n          @Provided HttpClient httpClient,\r\n          @Provided ExecutorService executorService,\r\n          ImageCallback callback,\r\n          URL imageUrl) {\r\n        // assignments\r\n      }\r\n    }\r\n\r\nAutoFactory will generate:\r\n\r\n    @Generated(&quot;com.google.auto.factory.processor.AutoFactoryProcessor&quot;)\r\n    public final class ImageDownloaderFactory {\r\n      private final Provider&lt;ExampleClasses.HttpClient&gt; httpClientProvider;\r\n      private final Provider&lt;java.util.concurrent.ExecutorService&gt; executorServiceProvider;\r\n\r\n      @Inject\r\n      public ImageDownloaderFactory(\r\n          Provider&lt;ExampleClasses.HttpClient&gt; httpClientProvider,\r\n          Provider&lt;java.util.concurrent.ExecutorService&gt; executorServiceProvider) {\r\n        this.httpClientProvider = httpClientProvider;\r\n        this.executorServiceProvider = executorServiceProvider;\r\n      }\r\n\r\n      public ImageDownloader create(ImageCallback callback, URL imageUrl) {\r\n        return new ImageDownloader(\r\n            httpClientProvider.get(), \r\n            executorServiceProvider.get(), \r\n            callback, \r\n            imageUrl);\r\n      }\r\n    }\r\n\r\n(Note, we have a bunch of clean-up to do on the output source, but the above is basically what is generated, though not quite as nicely formatted.)\r\n\r\nThe resulting class is then, properly a JSR-330 compliant injectable class, which you can inject in your dependency graph (in Dagger or Guice) and it will create these objects for you, co-mingling the call-stack state with the provided dependencies appropriately.\r\n\r\nYou can inject the above Just-In-Time, or you can provide it via an `@Provides` method at your leisure. \r\n\r\nYou can even have the factory implement a factory interface, and then simply bind the two together in a dagger module like so:\r\n\r\n    @AutoFactory(implementing = MyFactoryInterface.class)\r\n    public class ImageDownloader {\r\n      // ... otherwise as above...\r\n    }\r\n\r\n    @Module(...)\r\n    class MyModule {\r\n      @Provides MyFactoryInterface factoryImpl(ImageDownloaderFactory impl) {\r\n        return impl;\r\n      }\r\n    }","title":"Looking for an example for Dagger assisted injection","body":"<p>So, some of the Dagger/Guice folks at Google created a thing called AutoFactory (<a href=\"http://github.com/google/auto\">http://github.com/google/auto</a>) in a project that includes AutoFactory (code-generated assisted injection), AutoValue (code-generated custom value types) and AutoService (auto-generation of java services metadata files).</p>\n\n<p>AutoFactory pretty much operates like you would expect - it generates the factory you would otherwise have hand-rolled.  It's a very early version, and we have a lot more flexibility planned, but it will generate a factory class that will take a type that includes some JSR-330 injectable dependencies and some call-stack parameters, and merge them together in creating instances of the annotated type. </p>\n\n<p>In essence it will generate the factory you wrote, automatically if you properly annotate your factory-created type. </p>\n\n<p>For instance, if you create your class:</p>\n\n<pre><code>@AutoFactory\npublic class ImageDownloader {\n  // Get these dependencies from the injector.\n  private final HttpClient httpClient;\n  private final ExecutorService executorService;\n\n  // Get these from the caller.\n  private final URL imageUrl;\n  private final ImageCallback callback;\n\n  ImageDownloader(\n      @Provided HttpClient httpClient,\n      @Provided ExecutorService executorService,\n      ImageCallback callback,\n      URL imageUrl) {\n    // assignments\n  }\n}\n</code></pre>\n\n<p>AutoFactory will generate:</p>\n\n<pre><code>@Generated(\"com.google.auto.factory.processor.AutoFactoryProcessor\")\npublic final class ImageDownloaderFactory {\n  private final Provider&lt;ExampleClasses.HttpClient&gt; httpClientProvider;\n  private final Provider&lt;java.util.concurrent.ExecutorService&gt; executorServiceProvider;\n\n  @Inject\n  public ImageDownloaderFactory(\n      Provider&lt;ExampleClasses.HttpClient&gt; httpClientProvider,\n      Provider&lt;java.util.concurrent.ExecutorService&gt; executorServiceProvider) {\n    this.httpClientProvider = httpClientProvider;\n    this.executorServiceProvider = executorServiceProvider;\n  }\n\n  public ImageDownloader create(ImageCallback callback, URL imageUrl) {\n    return new ImageDownloader(\n        httpClientProvider.get(), \n        executorServiceProvider.get(), \n        callback, \n        imageUrl);\n  }\n}\n</code></pre>\n\n<p>(Note, we have a bunch of clean-up to do on the output source, but the above is basically what is generated, though not quite as nicely formatted.)</p>\n\n<p>The resulting class is then, properly a JSR-330 compliant injectable class, which you can inject in your dependency graph (in Dagger or Guice) and it will create these objects for you, co-mingling the call-stack state with the provided dependencies appropriately.</p>\n\n<p>You can inject the above Just-In-Time, or you can provide it via an <code>@Provides</code> method at your leisure. </p>\n\n<p>You can even have the factory implement a factory interface, and then simply bind the two together in a dagger module like so:</p>\n\n<pre><code>@AutoFactory(implementing = MyFactoryInterface.class)\npublic class ImageDownloader {\n  // ... otherwise as above...\n}\n\n@Module(...)\nclass MyModule {\n  @Provides MyFactoryInterface factoryImpl(ImageDownloaderFactory impl) {\n    return impl;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412900,"reputation":17324,"user_id":2862474,"display_name":"xsveda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544513707,"creation_date":1544513707,"answer_id":53719372,"question_id":22799407,"body_markdown":"You can do assisted injection with Dagger using [square/AssistedInject][1]\r\n\r\nPlease check also my original answer here: [https://stackoverflow.com/a/53719342/2862474][2]\r\n\r\n\r\n  [1]: https://github.com/square/AssistedInject\r\n  [2]: https://stackoverflow.com/a/53719342/2862474","title":"Looking for an example for Dagger assisted injection","body":"<p>You can do assisted injection with Dagger using <a href=\"https://github.com/square/AssistedInject\" rel=\"nofollow noreferrer\">square/AssistedInject</a></p>\n\n<p>Please check also my original answer here: <a href=\"https://stackoverflow.com/a/53719342/2862474\">https://stackoverflow.com/a/53719342/2862474</a></p>\n"},{"tags":[],"owner":{"account_id":2728269,"reputation":8653,"user_id":2352699,"accept_rate":36,"display_name":"Fred Porci&#250;ncula"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565432341,"creation_date":1554827763,"answer_id":55597444,"question_id":22799407,"body_markdown":"As @xsveda said, for assisted injection you probably want to use [AssistedInject](https://github.com/square/AssistedInject). I wrote about it in [this blogpost](https://proandroiddev.com/dagger-assisted-injection-2002885b3cba), but I&#39;ll add a full example here to make things easier.\r\n\r\n\r\nFirst thing you need are the dependencies:\r\n\r\n```groovy\r\ncompileOnly &#39;com.squareup.inject:assisted-inject-annotations-dagger2:0.5.0&#39;\r\nkapt &#39;com.squareup.inject:assisted-inject-processor-dagger2:0.5.0&#39;\r\n```\r\n\r\nThen here&#39;s how your example would look like:\r\n\r\n```kotlin\r\nclass ImageDownloader @AssistedInject constructor(\r\n  private val httpClient: HttpClient,\r\n  private val executorService: ExecutorService,\r\n  @Assisted private val imageUrl: URL,\r\n  @Assisted private val callback: ImageCallback\r\n) {\r\n\t\r\n  @AssistedInject.Factory\r\n  interface Factory {\r\n    fun create(imageUrl: URL, callback: ImageCallback): ImageDownloader\r\n  }\r\n}\r\n```\r\n\r\nFirst thing is that instead of annotating the constructor with `@Inject`, we annotate it with `@AssistedInject`. Then we annotate the parameters that will have to go through the factory, which is the opposite of what AutoFactory expects. Finally, we need an inner factory interface annotated with `@AssistedInject.Factory` that has a single method that receives the assisted parameters and returns the instance we&#39;re interested in.\r\n\r\nUnfortunately, we still have an extra step here:\r\n\r\n```kotlin\r\n@AssistedModule\r\n@Module(includes = [AssistedInject_AssistedInjectModule::class])\r\ninterface AssistedInjectModule\r\n```\r\n\r\nWe don&#39;t necessarily need a dedicated module for it, even though that&#39;s a valid option. But we can also have those annotations in another module that is already installed in the component. The nice thing here is that we only need to do it once, and after that any factory will automatically become part of the graph.\r\n\r\nWith that, you can basically inject the factory and ask for your object as you&#39;d normally do.","title":"Looking for an example for Dagger assisted injection","body":"<p>As @xsveda said, for assisted injection you probably want to use <a href=\"https://github.com/square/AssistedInject\" rel=\"noreferrer\">AssistedInject</a>. I wrote about it in <a href=\"https://proandroiddev.com/dagger-assisted-injection-2002885b3cba\" rel=\"noreferrer\">this blogpost</a>, but I'll add a full example here to make things easier.</p>\n\n<p>First thing you need are the dependencies:</p>\n\n<pre><code>compileOnly 'com.squareup.inject:assisted-inject-annotations-dagger2:0.5.0'\nkapt 'com.squareup.inject:assisted-inject-processor-dagger2:0.5.0'\n</code></pre>\n\n<p>Then here's how your example would look like:</p>\n\n<pre><code>class ImageDownloader @AssistedInject constructor(\n  private val httpClient: HttpClient,\n  private val executorService: ExecutorService,\n  @Assisted private val imageUrl: URL,\n  @Assisted private val callback: ImageCallback\n) {\n\n  @AssistedInject.Factory\n  interface Factory {\n    fun create(imageUrl: URL, callback: ImageCallback): ImageDownloader\n  }\n}\n</code></pre>\n\n<p>First thing is that instead of annotating the constructor with <code>@Inject</code>, we annotate it with <code>@AssistedInject</code>. Then we annotate the parameters that will have to go through the factory, which is the opposite of what AutoFactory expects. Finally, we need an inner factory interface annotated with <code>@AssistedInject.Factory</code> that has a single method that receives the assisted parameters and returns the instance we're interested in.</p>\n\n<p>Unfortunately, we still have an extra step here:</p>\n\n<pre><code>@AssistedModule\n@Module(includes = [AssistedInject_AssistedInjectModule::class])\ninterface AssistedInjectModule\n</code></pre>\n\n<p>We don't necessarily need a dedicated module for it, even though that's a valid option. But we can also have those annotations in another module that is already installed in the component. The nice thing here is that we only need to do it once, and after that any factory will automatically become part of the graph.</p>\n\n<p>With that, you can basically inject the factory and ask for your object as you'd normally do.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664476472,"creation_date":1664476472,"answer_id":73900191,"question_id":22799407,"body_markdown":"As of [Dagger 2.31](https://github.com/google/dagger/releases/tag/dagger-2.31) from January 2021, Dagger now [natively supports assisted injection](https://dagger.dev/dev-guide/assisted-injection), which is [recommended over the Square and Auto options](https://dagger.dev/dev-guide/assisted-injection#what-about-autofactory-and-squares-assistedinject). Those other options still work, but may require extra setup compared to the native option.\r\n\r\nFor your case you&#39;d need to define the factory interface using `@AssistedFactory`, and then specify in the constructor which arguments come from it:\r\n\r\n```java\r\npublic class ImageDownloader {\r\n  @AssistedFactory\r\n  public interface Factory {\r\n    ImageDownloader create(URL imageUrl, ImageCallback callback);\r\n  }\r\n\r\n  @AssistedInject\r\n  public Factory(\r\n      HttpClient httpClient,\r\n      ExecutorService executorService,\r\n      @Assisted URL imageUrl,\r\n      @Assisted ImageCallback callback) {\r\n    // ...\r\n  }\r\n}\r\n```\r\n\r\nYour Module wouldn&#39;t need to be involved, and note the absence of `@Inject` in comparison to `@AssistedInject`. As in the [docs](https://dagger.dev/dev-guide/assisted-injection) also linked above, there are options when two arguments of the same type are supplied via the factory.","title":"Looking for an example for Dagger assisted injection","body":"<p>As of <a href=\"https://github.com/google/dagger/releases/tag/dagger-2.31\" rel=\"nofollow noreferrer\">Dagger 2.31</a> from January 2021, Dagger now <a href=\"https://dagger.dev/dev-guide/assisted-injection\" rel=\"nofollow noreferrer\">natively supports assisted injection</a>, which is <a href=\"https://dagger.dev/dev-guide/assisted-injection#what-about-autofactory-and-squares-assistedinject\" rel=\"nofollow noreferrer\">recommended over the Square and Auto options</a>. Those other options still work, but may require extra setup compared to the native option.</p>\n<p>For your case you'd need to define the factory interface using <code>@AssistedFactory</code>, and then specify in the constructor which arguments come from it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ImageDownloader {\n  @AssistedFactory\n  public interface Factory {\n    ImageDownloader create(URL imageUrl, ImageCallback callback);\n  }\n\n  @AssistedInject\n  public Factory(\n      HttpClient httpClient,\n      ExecutorService executorService,\n      @Assisted URL imageUrl,\n      @Assisted ImageCallback callback) {\n    // ...\n  }\n}\n</code></pre>\n<p>Your Module wouldn't need to be involved, and note the absence of <code>@Inject</code> in comparison to <code>@AssistedInject</code>. As in the <a href=\"https://dagger.dev/dev-guide/assisted-injection\" rel=\"nofollow noreferrer\">docs</a> also linked above, there are options when two arguments of the same type are supplied via the factory.</p>\n"}],"owner":{"account_id":1072114,"reputation":15646,"user_id":1071136,"accept_rate":69,"display_name":"user1071136"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11139,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":22801097,"answer_count":4,"score":25,"last_activity_date":1664476472,"creation_date":1396398503,"question_id":22799407,"body_markdown":"From [dagger-discuss@](https://groups.google.com/forum/#!topic/dagger-discuss/QgnvmZ-dH9c):\r\n\r\nI have a class that gets some dependencies from the object graph, and other dependencies from a caller at runtime.\r\n\r\n\tpublic class ImageDownloader {\r\n\t  // Get these dependencies from the injector.\r\n\t  private final HttpClient httpClient;\r\n\t  private final ExecutorService executorService;\r\n\t\r\n\t  // Get these from the caller.\r\n\t  private final URL imageUrl;\r\n\t  private final ImageCallback callback;\r\n\t\r\n\t  ...\r\n\t}\r\n\r\nI came up with a solution, where I define a Factory,\r\n\r\n\tpublic class ImageDownloader {\r\n\t  ...\r\n\t  public static class Factory {\r\n\t    private final HttpClient httpClient;\r\n\t    private final ExecutorService executorService;\r\n\t    \r\n\t    @Inject\r\n\t    public Factory(HttpClient httpClient, ExecutorService executorService) {\r\n\t      this.httpclient = httpClient;\r\n\t      this.executorService = executorService;\r\n\t    }\r\n\t    \r\n\t    public ImageDownloader create(URL imageUrl, ImageCallback callback) {\r\n\t      return new ImageDownloader(httpClient, executorService, iamgeUrl, callback);\r\n\t    }\r\n\t  }\r\n\t  ...\r\n\t}\r\n\t\r\nNow, instead of injecting `ImageDownloader` in the client&#39;s constructor, I simply inject `ImageDownloader.Factory` and call its `create()` method.\r\n\r\nAs you can see, that&#39;s quite verbose and long. It also has a bunch of duplication and boilerplate. There&#39;re some obstacles to annotating the fields themselves with `@Inject`, so let&#39;s ignore this possibility for now.\r\n\r\nThe Square people have come up with an interesting solution, using providers. Define a `Factory` interface,\r\n\r\n\tpublic class ImageDownloader {\r\n\t  ...\r\n\t  public interface Factory {\r\n\t    ImageDownloader create(URL imageUrl, ImageCallback callback);\r\n\t  }\r\n\t}\r\n\r\nand then provide it in a module,\r\n\r\n\tpublic class ImageModule {\r\n\t  ...\r\n\t  @Provides \r\n\t  public ImageModule.Factory provideImageModuleFactory(\r\n\t      final Provider&lt;HttpClient&gt; httpClientProvider, \r\n\t      final Provider&lt;ExecutorService&gt; executorServiceProvider) {\r\n\t    return new ImageDownloader.Factory() {\r\n\t      public ImageDownloader create(URL imageUrl, ImageCallback callback) {\r\n\t        return new ImageDownloader(httpClientProvider.get(), executorServiceProvider.get(),\r\n\t            imageUrl, callback);\r\n\t      }\r\n\t  }\r\n\t  ...\r\n\t}\r\n\t\r\n(again, from dagger-discuss@).\r\n \r\nMy `ImageDownloader` is a class that&#39;s injected by a class which is injected by another class which is injected by yet another class, ..., which is referenced in a `@Module`. This all somehow* works, and all classes are found in build time. Now, to add a module, I have to explicitly let the object graph know about it.\r\n\r\nI must be missing something - it&#39;s very easy to inject a new class, but very tedious to add a new module.\r\n\r\nMy question is: how is assisted injection done in practice? anyone has an example? how should I use `ImageModule`, if at all?\r\n\r\n\\* - &quot;somehow&quot; does indeed imply it&#39;s partly magic to me.","title":"Looking for an example for Dagger assisted injection","body":"<p>From <a href=\"https://groups.google.com/forum/#!topic/dagger-discuss/QgnvmZ-dH9c\" rel=\"noreferrer\">dagger-discuss@</a>:</p>\n\n<p>I have a class that gets some dependencies from the object graph, and other dependencies from a caller at runtime.</p>\n\n<pre><code>public class ImageDownloader {\n  // Get these dependencies from the injector.\n  private final HttpClient httpClient;\n  private final ExecutorService executorService;\n\n  // Get these from the caller.\n  private final URL imageUrl;\n  private final ImageCallback callback;\n\n  ...\n}\n</code></pre>\n\n<p>I came up with a solution, where I define a Factory,</p>\n\n<pre><code>public class ImageDownloader {\n  ...\n  public static class Factory {\n    private final HttpClient httpClient;\n    private final ExecutorService executorService;\n\n    @Inject\n    public Factory(HttpClient httpClient, ExecutorService executorService) {\n      this.httpclient = httpClient;\n      this.executorService = executorService;\n    }\n\n    public ImageDownloader create(URL imageUrl, ImageCallback callback) {\n      return new ImageDownloader(httpClient, executorService, iamgeUrl, callback);\n    }\n  }\n  ...\n}\n</code></pre>\n\n<p>Now, instead of injecting <code>ImageDownloader</code> in the client's constructor, I simply inject <code>ImageDownloader.Factory</code> and call its <code>create()</code> method.</p>\n\n<p>As you can see, that's quite verbose and long. It also has a bunch of duplication and boilerplate. There're some obstacles to annotating the fields themselves with <code>@Inject</code>, so let's ignore this possibility for now.</p>\n\n<p>The Square people have come up with an interesting solution, using providers. Define a <code>Factory</code> interface,</p>\n\n<pre><code>public class ImageDownloader {\n  ...\n  public interface Factory {\n    ImageDownloader create(URL imageUrl, ImageCallback callback);\n  }\n}\n</code></pre>\n\n<p>and then provide it in a module,</p>\n\n<pre><code>public class ImageModule {\n  ...\n  @Provides \n  public ImageModule.Factory provideImageModuleFactory(\n      final Provider&lt;HttpClient&gt; httpClientProvider, \n      final Provider&lt;ExecutorService&gt; executorServiceProvider) {\n    return new ImageDownloader.Factory() {\n      public ImageDownloader create(URL imageUrl, ImageCallback callback) {\n        return new ImageDownloader(httpClientProvider.get(), executorServiceProvider.get(),\n            imageUrl, callback);\n      }\n  }\n  ...\n}\n</code></pre>\n\n<p>(again, from dagger-discuss@).</p>\n\n<p>My <code>ImageDownloader</code> is a class that's injected by a class which is injected by another class which is injected by yet another class, ..., which is referenced in a <code>@Module</code>. This all somehow* works, and all classes are found in build time. Now, to add a module, I have to explicitly let the object graph know about it.</p>\n\n<p>I must be missing something - it's very easy to inject a new class, but very tedious to add a new module.</p>\n\n<p>My question is: how is assisted injection done in practice? anyone has an example? how should I use <code>ImageModule</code>, if at all?</p>\n\n<p>* - \"somehow\" does indeed imply it's partly magic to me.</p>\n"},{"tags":["java","etl","talend"],"comments":[{"owner":{"account_id":25801780,"reputation":56,"user_id":19544066,"display_name":"clanc9"},"score":1,"creation_date":1665089221,"post_id":73900165,"comment_id":130624415,"body_markdown":"Assuming your date input is of type &#39;Date&#39; and its format is &#39;yyyy-MM-dd&#39;, you can use `TalendDate.formatDate(&quot;yyyy-MM-dd&quot;, [your date input as date type])` to generate a string that contains only the date part.  If you need to convert this string back into a date type, the method `TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, [string])` can be applied.","body":"Assuming your date input is of type &#39;Date&#39; and its format is &#39;yyyy-MM-dd&#39;, you can use <code>TalendDate.formatDate(&quot;yyyy-MM-dd&quot;, [your date input as date type])</code> to generate a string that contains only the date part.  If you need to convert this string back into a date type, the method <code>TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, [string])</code> can be applied."},{"owner":{"account_id":6795595,"reputation":41,"user_id":5231037,"display_name":"Sukhen"},"score":0,"creation_date":1665642532,"post_id":73900165,"comment_id":130748664,"body_markdown":"But im passing oracle-specific format i.e. dd-mon-rr. SO every time im using format_date, talend throws error.","body":"But im passing oracle-specific format i.e. dd-mon-rr. SO every time im using format_date, talend throws error."}],"owner":{"account_id":6795595,"reputation":41,"user_id":5231037,"display_name":"Sukhen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664476293,"creation_date":1664476293,"question_id":73900165,"body_markdown":"Im joining 3 input tables using tMap component in Talend.Both input &amp; output tables are in a same oracle schema. One of the column of an input table holds DATE datatype of oracle having date-time value.My requirement is to trunc(date) &amp; flow only the date part, meaning removing the time, in output table.\r\n\r\nIn oracle sql there is a trunc() function to do that job. But how to perform it in Talend7.3 ? ","title":"Truncate the time portion in a date in Talend","body":"<p>Im joining 3 input tables using tMap component in Talend.Both input &amp; output tables are in a same oracle schema. One of the column of an input table holds DATE datatype of oracle having date-time value.My requirement is to trunc(date) &amp; flow only the date part, meaning removing the time, in output table.</p>\n<p>In oracle sql there is a trunc() function to do that job. But how to perform it in Talend7.3 ?</p>\n"},{"tags":["java","guice","dagger","gwt-gin","dagger-2"],"comments":[{"owner":{"account_id":343582,"reputation":99129,"user_id":675383,"accept_rate":94,"display_name":"nhaarman"},"score":0,"creation_date":1426888236,"post_id":29175014,"comment_id":46570427,"body_markdown":"Could you be more precise?","body":"Could you be more precise?"},{"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"score":0,"creation_date":1426888327,"post_id":29175014,"comment_id":46570458,"body_markdown":"The instance of SomeClassA is taken from the object graph and the instance of SomeClassB is taken from the caller at runtime.","body":"The instance of SomeClassA is taken from the object graph and the instance of SomeClassB is taken from the caller at runtime."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664476153,"creation_date":1427040677,"answer_id":29196676,"question_id":29175014,"body_markdown":"**UPDATE:** As of [Dagger 2.31](https://github.com/google/dagger/releases/tag/dagger-2.31) from January 2021, Dagger now [natively supports assisted injection](https://dagger.dev/dev-guide/assisted-injection), which is [recommended over the Square and Auto options](https://dagger.dev/dev-guide/assisted-injection#what-about-autofactory-and-squares-assistedinject). (Those other options still work, but may require extra setup compared to the native option.)\r\n\r\n```java\r\nclass SomeEditor {\r\n  @AssistedInject public SomeEditor(\r\n      SomeClassA a, @Assisted SomeClassB b) {\r\n    // ...\r\n  }\r\n}\r\n\r\n@AssistedFactory interface SomeEditorFactory {\r\n  SomeEditor create(SomeClassB b);\r\n}\r\n```\r\n\r\n---\r\n\r\n(original answer)\r\n\r\nBecause factories are a separate type of boilerplate to optimize away ([see mailing list discussion here](https://groups.google.com/forum/#!topic/dagger-discuss/Lvuq0CQLHhE)), Dagger leaves it to a sister project, [AutoFactory][]. This provides the &quot;[assisted injection][]&quot; functionality Guice offers via [FactoryModuleBuilder][], but with some extra benefits:\r\n\r\n  - You can keep using AutoFactory with Guice or Dagger or any other JSR-330 dependency injection framework, so you can keep using AutoFactory even if you switch between them.\r\n  - Because AutoFactory generates code, you don&#39;t need to write an interface to represent the constructor: AutoFactory will write a brand new type for you to compile against. (You can also specify an interface to implement, if you&#39;d prefer, or if you&#39;re migrating from Guice.)\r\n  - Because all the type inspection happens at compile-time, it produces plain old Java, which doesn&#39;t have any slowness due to reflection and which works well with debuggers and optimizers. This makes the Auto library particularly useful for Android development.\r\n\r\nExample, pulled from AutoFactory&#39;s README, which will produce a `SomeClassFactory` with `providedDepA` in an `@Inject`-annotated constructor and `depB` in a `create` method:\r\n\r\n    @AutoFactory\r\n    final class SomeClass {\r\n      private final String providedDepA;\r\n      private final String depB;\r\n    \r\n      SomeClass(@Provided @AQualifier String providedDepA, String depB) {\r\n        this.providedDepA = providedDepA;\r\n        this.depB = depB;\r\n      }\r\n    \r\n      // …\r\n    }\r\n\r\n[AutoFactory]: https://github.com/google/auto/blob/master/factory/README.md\r\n[FactoryModuleBuilder]: http://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/assistedinject/FactoryModuleBuilder.html\r\n[assisted injection]: https://github.com/google/guice/wiki/AssistedInject","title":"Can I use some kind of assisted Inject with Dagger?","body":"<p><strong>UPDATE:</strong> As of <a href=\"https://github.com/google/dagger/releases/tag/dagger-2.31\" rel=\"nofollow noreferrer\">Dagger 2.31</a> from January 2021, Dagger now <a href=\"https://dagger.dev/dev-guide/assisted-injection\" rel=\"nofollow noreferrer\">natively supports assisted injection</a>, which is <a href=\"https://dagger.dev/dev-guide/assisted-injection#what-about-autofactory-and-squares-assistedinject\" rel=\"nofollow noreferrer\">recommended over the Square and Auto options</a>. (Those other options still work, but may require extra setup compared to the native option.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeEditor {\n  @AssistedInject public SomeEditor(\n      SomeClassA a, @Assisted SomeClassB b) {\n    // ...\n  }\n}\n\n@AssistedFactory interface SomeEditorFactory {\n  SomeEditor create(SomeClassB b);\n}\n</code></pre>\n<hr />\n<p>(original answer)</p>\n<p>Because factories are a separate type of boilerplate to optimize away (<a href=\"https://groups.google.com/forum/#!topic/dagger-discuss/Lvuq0CQLHhE\" rel=\"nofollow noreferrer\">see mailing list discussion here</a>), Dagger leaves it to a sister project, <a href=\"https://github.com/google/auto/blob/master/factory/README.md\" rel=\"nofollow noreferrer\">AutoFactory</a>. This provides the &quot;<a href=\"https://github.com/google/guice/wiki/AssistedInject\" rel=\"nofollow noreferrer\">assisted injection</a>&quot; functionality Guice offers via <a href=\"http://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/assistedinject/FactoryModuleBuilder.html\" rel=\"nofollow noreferrer\">FactoryModuleBuilder</a>, but with some extra benefits:</p>\n<ul>\n<li>You can keep using AutoFactory with Guice or Dagger or any other JSR-330 dependency injection framework, so you can keep using AutoFactory even if you switch between them.</li>\n<li>Because AutoFactory generates code, you don't need to write an interface to represent the constructor: AutoFactory will write a brand new type for you to compile against. (You can also specify an interface to implement, if you'd prefer, or if you're migrating from Guice.)</li>\n<li>Because all the type inspection happens at compile-time, it produces plain old Java, which doesn't have any slowness due to reflection and which works well with debuggers and optimizers. This makes the Auto library particularly useful for Android development.</li>\n</ul>\n<p>Example, pulled from AutoFactory's README, which will produce a <code>SomeClassFactory</code> with <code>providedDepA</code> in an <code>@Inject</code>-annotated constructor and <code>depB</code> in a <code>create</code> method:</p>\n<pre><code>@AutoFactory\nfinal class SomeClass {\n  private final String providedDepA;\n  private final String depB;\n\n  SomeClass(@Provided @AQualifier String providedDepA, String depB) {\n    this.providedDepA = providedDepA;\n    this.depB = depB;\n  }\n\n  // …\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412900,"reputation":17324,"user_id":2862474,"display_name":"xsveda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544513519,"creation_date":1544513519,"answer_id":53719342,"question_id":29175014,"body_markdown":"Yes, please check this Square project: [square/AssistedInject][1]\r\n\r\nCurrently it is not in 1.0 yet for purpose. They wait until Dagger will introduce a public API for registering those generated `Module` classes automatically - see [this issue][2]. With that you won&#39;t have to reference them in your Dagger code as in this example from [README][3]:\r\n\r\n    @AssistedModule\r\n    @Module(includes = AssistedInject_PresenterModule.class)\r\n    abstract class PresenterModule {}\r\n\r\n\r\n  [1]: https://github.com/square/AssistedInject\r\n  [2]: https://github.com/square/AssistedInject/issues/23\r\n  [3]: https://github.com/square/AssistedInject/blob/master/README.md","title":"Can I use some kind of assisted Inject with Dagger?","body":"<p>Yes, please check this Square project: <a href=\"https://github.com/square/AssistedInject\" rel=\"nofollow noreferrer\">square/AssistedInject</a></p>\n\n<p>Currently it is not in 1.0 yet for purpose. They wait until Dagger will introduce a public API for registering those generated <code>Module</code> classes automatically - see <a href=\"https://github.com/square/AssistedInject/issues/23\" rel=\"nofollow noreferrer\">this issue</a>. With that you won't have to reference them in your Dagger code as in this example from <a href=\"https://github.com/square/AssistedInject/blob/master/README.md\" rel=\"nofollow noreferrer\">README</a>:</p>\n\n<pre><code>@AssistedModule\n@Module(includes = AssistedInject_PresenterModule.class)\nabstract class PresenterModule {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2728269,"reputation":8653,"user_id":2352699,"accept_rate":36,"display_name":"Fred Porci&#250;ncula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554827925,"creation_date":1554827925,"answer_id":55597478,"question_id":29175014,"body_markdown":"Just like @xsveda, I also wrote an answer about this [in this other question](https://stackoverflow.com/a/55597444/2352699), which I&#39;ll also reproduce here.\r\n\r\n---\r\n\r\nToday, for assisted injection with Dagger you probably want to use [AssistedInject](https://github.com/square/AssistedInject). I wrote about it in [this blogpost](https://proandroiddev.com/dagger-assisted-injection-2002885b3cba), but I&#39;ll add a full example here to make things easier.\r\n\r\n\r\nFirst thing you need are the dependencies:\r\n\r\n```groovy\r\ncompileOnly &#39;com.squareup.inject:assisted-inject-annotations-dagger2:0.4.0&#39;\r\nkapt &#39;com.squareup.inject:assisted-inject-processor-dagger2:0.4.0&#39;\r\n```\r\n\r\nThen here&#39;s how it can look like:\r\n\r\n```kotlin\r\nclass ImageDownloader @AssistedInject constructor(\r\n  private val httpClient: HttpClient,\r\n  private val executorService: ExecutorService,\r\n  @Assisted private val imageUrl: URL,\r\n  @Assisted private val callback: ImageCallback\r\n) {\r\n\t\r\n  @AssistedInject.Factory\r\n  interface Factory {\r\n    fun create(imageUrl: URL, callback: ImageCallback): ImageDownloader\r\n  }\r\n}\r\n```\r\n\r\nFirst thing is that instead of annotating the constructor with `@Inject`, we annotate it with `@AssistedInject`. Then we annotate the parameters that will have to go through the factory, which is the opposite of what AutoFactory expects. Finally, we need an inner factory interface annotated with `@AssistedInject.Factory` that has a single method that receives the assisted parameters and returns the instance we&#39;re interested in.\r\n\r\nUnfortunately, we still have an extra step here:\r\n\r\n```kotlin\r\n@AssistedModule\r\n@Module(includes = [AssistedInject_AssistedInjectModule::class])\r\ninterface AssistedInjectModule\r\n```\r\n\r\nWe don&#39;t necessarily need a dedicated module for it, even though that&#39;s a valid option. But we can also have those annotations in another module that is already installed in the component. The nice thing here is that we only need to do it once, and after that any factory will automatically become part of the graph.\r\n\r\nWith that, you can basically inject the factory and ask for your object as you&#39;d normally do.","title":"Can I use some kind of assisted Inject with Dagger?","body":"<p>Just like @xsveda, I also wrote an answer about this <a href=\"https://stackoverflow.com/a/55597444/2352699\">in this other question</a>, which I'll also reproduce here.</p>\n\n<hr>\n\n<p>Today, for assisted injection with Dagger you probably want to use <a href=\"https://github.com/square/AssistedInject\" rel=\"nofollow noreferrer\">AssistedInject</a>. I wrote about it in <a href=\"https://proandroiddev.com/dagger-assisted-injection-2002885b3cba\" rel=\"nofollow noreferrer\">this blogpost</a>, but I'll add a full example here to make things easier.</p>\n\n<p>First thing you need are the dependencies:</p>\n\n<pre><code>compileOnly 'com.squareup.inject:assisted-inject-annotations-dagger2:0.4.0'\nkapt 'com.squareup.inject:assisted-inject-processor-dagger2:0.4.0'\n</code></pre>\n\n<p>Then here's how it can look like:</p>\n\n<pre><code>class ImageDownloader @AssistedInject constructor(\n  private val httpClient: HttpClient,\n  private val executorService: ExecutorService,\n  @Assisted private val imageUrl: URL,\n  @Assisted private val callback: ImageCallback\n) {\n\n  @AssistedInject.Factory\n  interface Factory {\n    fun create(imageUrl: URL, callback: ImageCallback): ImageDownloader\n  }\n}\n</code></pre>\n\n<p>First thing is that instead of annotating the constructor with <code>@Inject</code>, we annotate it with <code>@AssistedInject</code>. Then we annotate the parameters that will have to go through the factory, which is the opposite of what AutoFactory expects. Finally, we need an inner factory interface annotated with <code>@AssistedInject.Factory</code> that has a single method that receives the assisted parameters and returns the instance we're interested in.</p>\n\n<p>Unfortunately, we still have an extra step here:</p>\n\n<pre><code>@AssistedModule\n@Module(includes = [AssistedInject_AssistedInjectModule::class])\ninterface AssistedInjectModule\n</code></pre>\n\n<p>We don't necessarily need a dedicated module for it, even though that's a valid option. But we can also have those annotations in another module that is already installed in the component. The nice thing here is that we only need to do it once, and after that any factory will automatically become part of the graph.</p>\n\n<p>With that, you can basically inject the factory and ask for your object as you'd normally do.</p>\n"}],"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3534,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29196676,"answer_count":3,"score":2,"last_activity_date":1664476153,"creation_date":1426882129,"question_id":29175014,"body_markdown":"With Google Guice or Gin I can specify parameter with are not controlled by the dependency injection framework: \r\n\r\n    class SomeEditor {\r\n    \r\n\r\n      @Inject\r\n      public SomeEditor(SomeClassA a, @Assisted(&quot;stage&quot;) SomeClassB b) {\r\n      }\r\n    \r\n    }\r\n\r\nThe assisted parameter ``stage`` is specified at the time an instance of ``SomeEditor`` is created.\r\n\r\nThe instance of SomeClassA is taken from the object graph and the instance of SomeClassB is taken from the caller at runtime.\r\n\r\n\r\n**Is there a similar way of doing this in Dagger?** ","title":"Can I use some kind of assisted Inject with Dagger?","body":"<p>With Google Guice or Gin I can specify parameter with are not controlled by the dependency injection framework: </p>\n\n<pre><code>class SomeEditor {\n\n\n  @Inject\n  public SomeEditor(SomeClassA a, @Assisted(\"stage\") SomeClassB b) {\n  }\n\n}\n</code></pre>\n\n<p>The assisted parameter <code>stage</code> is specified at the time an instance of <code>SomeEditor</code> is created.</p>\n\n<p>The instance of SomeClassA is taken from the object graph and the instance of SomeClassB is taken from the caller at runtime.</p>\n\n<p><strong>Is there a similar way of doing this in Dagger?</strong> </p>\n"},{"tags":["java","android","android-recyclerview","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664475897,"creation_date":1664475897,"answer_id":73900099,"question_id":73900043,"body_markdown":"**While saving tasks you need to keep the existing list try this -**\r\n\r\n    private void saveData() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;orders&quot;,MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        Gson gson = new Gson();\r\n        // fetch existing list\r\n        String json = sharedPreferences.getString(&quot;tasklist&quot;,null);\r\n        Type type = new TypeToken&lt;ArrayList&lt;ModelClass&gt;&gt;(){}.getType();\r\n        orderlist = gson.fromJson(json,type);\r\n        // add newest item in old list\r\n        orderlist.add(new ModelClass(name,date,price));\r\n        String json = gson.toJson(orderlist);\r\n        editor.putString(&quot;tasklist&quot;,json);\r\n        editor.apply();\r\n    }","title":"Save Arraylist into sharedpreferences in one activity and load it in recyclerview in another activity","body":"<p><strong>While saving tasks you need to keep the existing list try this -</strong></p>\n<pre><code>private void saveData() {\n    SharedPreferences sharedPreferences = getSharedPreferences(&quot;orders&quot;,MODE_PRIVATE);\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    Gson gson = new Gson();\n    // fetch existing list\n    String json = sharedPreferences.getString(&quot;tasklist&quot;,null);\n    Type type = new TypeToken&lt;ArrayList&lt;ModelClass&gt;&gt;(){}.getType();\n    orderlist = gson.fromJson(json,type);\n    // add newest item in old list\n    orderlist.add(new ModelClass(name,date,price));\n    String json = gson.toJson(orderlist);\n    editor.putString(&quot;tasklist&quot;,json);\n    editor.apply();\n}\n</code></pre>\n"}],"owner":{"account_id":24113410,"reputation":13,"user_id":18083686,"display_name":"niraj_911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73900099,"answer_count":1,"score":1,"last_activity_date":1664475897,"creation_date":1664475541,"question_id":73900043,"body_markdown":"I&#39;m a newbie to Android Dev and trying to build an app where user buys a product and details such as Name, Price, Purchase date etc are to be reflected on the Orders Page once the user clicks on &quot;Yes&quot; button and order is placed.\r\n\r\nI&#39;m trying to store each order&#39;s variable into ArrayList in first activity and bind/show the ArrayList into recyclerview in second activity. **But when I&#39;m trying the below code its only showing one item in recyclerview which is the last purchase**.\r\n\r\n\r\nFunction to save ArrayList in SharedPrefernces:-\r\n\r\n  \r\n\r\n    private void saveData() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;orders&quot;,MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        Gson gson = new Gson();\r\n        orderlist.add(new ModelClass(name,date,price));\r\n        String json = gson.toJson(orderlist);\r\n        editor.putString(&quot;tasklist&quot;,json);\r\n        editor.apply();\r\n    }\r\n\r\nFunction in Orders Page(RecyclerView) Activity to load Data :-\r\n\r\n    private void loadData(){\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;orders&quot;,MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String json = sharedPreferences.getString(&quot;tasklist&quot;,null);\r\n        Type type = new TypeToken&lt;ArrayList&lt;ModelClass&gt;&gt;(){}.getType();\r\n        orderlist = gson.fromJson(json,type);\r\n\r\n    }\r\n\r\n\r\nThankyou in Advance","title":"Save Arraylist into sharedpreferences in one activity and load it in recyclerview in another activity","body":"<p>I'm a newbie to Android Dev and trying to build an app where user buys a product and details such as Name, Price, Purchase date etc are to be reflected on the Orders Page once the user clicks on &quot;Yes&quot; button and order is placed.</p>\n<p>I'm trying to store each order's variable into ArrayList in first activity and bind/show the ArrayList into recyclerview in second activity. <strong>But when I'm trying the below code its only showing one item in recyclerview which is the last purchase</strong>.</p>\n<p>Function to save ArrayList in SharedPrefernces:-</p>\n<pre><code>private void saveData() {\n    SharedPreferences sharedPreferences = getSharedPreferences(&quot;orders&quot;,MODE_PRIVATE);\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    Gson gson = new Gson();\n    orderlist.add(new ModelClass(name,date,price));\n    String json = gson.toJson(orderlist);\n    editor.putString(&quot;tasklist&quot;,json);\n    editor.apply();\n}\n</code></pre>\n<p>Function in Orders Page(RecyclerView) Activity to load Data :-</p>\n<pre><code>private void loadData(){\n    SharedPreferences sharedPreferences = getSharedPreferences(&quot;orders&quot;,MODE_PRIVATE);\n    Gson gson = new Gson();\n    String json = sharedPreferences.getString(&quot;tasklist&quot;,null);\n    Type type = new TypeToken&lt;ArrayList&lt;ModelClass&gt;&gt;(){}.getType();\n    orderlist = gson.fromJson(json,type);\n\n}\n</code></pre>\n<p>Thankyou in Advance</p>\n"},{"tags":["java","dependency-injection","micronaut"],"comments":[{"owner":{"account_id":7766036,"reputation":105,"user_id":5877195,"display_name":"nmnd"},"score":0,"creation_date":1548505507,"post_id":54352417,"comment_id":95570185,"body_markdown":"Added new more specific question here: https://stackoverflow.com/q/54378321/5877195","body":"Added new more specific question here: <a href=\"https://stackoverflow.com/q/54378321/5877195\">stackoverflow.com/q/54378321/5877195</a>"},{"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"score":0,"creation_date":1549044629,"post_id":54352417,"comment_id":95776907,"body_markdown":"Possible duplicate of [How can I solve circular dependency with android context in injected bean?](https://stackoverflow.com/questions/54378321/how-can-i-solve-circular-dependency-with-android-context-in-injected-bean)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/54378321/how-can-i-solve-circular-dependency-with-android-context-in-injected-bean\">How can I solve circular dependency with android context in injected bean?</a>"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1626707981,"post_id":54352417,"comment_id":120959750,"body_markdown":"@nmnd  your link is dead","body":"@nmnd  your link is dead"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1626708000,"post_id":54352417,"comment_id":120959762,"body_markdown":"@JamesKleeh your link is dead","body":"@JamesKleeh your link is dead"},{"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"score":0,"creation_date":1627321108,"post_id":54352417,"comment_id":121120021,"body_markdown":"Its a deleted question, what do you want me to do about it?","body":"Its a deleted question, what do you want me to do about it?"}],"answers":[{"tags":[],"owner":{"account_id":6403427,"reputation":2065,"user_id":5471235,"accept_rate":90,"display_name":"makson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664475854,"creation_date":1664475854,"answer_id":73900089,"question_id":54352417,"body_markdown":"**@Parameter** - Should be applied only to constructor arguments and Bean factory methods. [micronaut latest doc][1]\r\n\r\nFor example, you have a class \r\n\r\n    @Prototype\r\n    public class SomeService {\r\n    \r\n        @Inject\r\n        private SomeClient client;\r\n    \r\n        private final String valueA;\r\n        private final String valueB;\r\n    \r\n        public ReadActivityService(@Parameter String valueA, @Parameter String valueB) {\r\n            this.valueA = valueA;\r\n            this.valueB = valueB;\r\n        }\r\n    \t\r\n    }\r\n\r\nand you want to create a new instance of the given bean SomeService performing dependency injection\r\n\r\n\r\n    @Singleton\r\n    @Requires(notEnv = Environment.TEST)\r\n    public class Starter {\r\n    \r\n        @Inject\r\n        private ApplicationContext context;\r\n    \r\n    \r\n        @EventListener\r\n        public void init(final ServerStartupEvent event) {\r\n            var service = context.createBean(SomeService.class, valueA, valueB);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Parameter.html","title":"How to use @Parameter in Micronaut?","body":"<p><strong>@Parameter</strong> - Should be applied only to constructor arguments and Bean factory methods. <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Parameter.html\" rel=\"nofollow noreferrer\">micronaut latest doc</a></p>\n<p>For example, you have a class</p>\n<pre><code>@Prototype\npublic class SomeService {\n\n    @Inject\n    private SomeClient client;\n\n    private final String valueA;\n    private final String valueB;\n\n    public ReadActivityService(@Parameter String valueA, @Parameter String valueB) {\n        this.valueA = valueA;\n        this.valueB = valueB;\n    }\n    \n}\n</code></pre>\n<p>and you want to create a new instance of the given bean SomeService performing dependency injection</p>\n<pre><code>@Singleton\n@Requires(notEnv = Environment.TEST)\npublic class Starter {\n\n    @Inject\n    private ApplicationContext context;\n\n\n    @EventListener\n    public void init(final ServerStartupEvent event) {\n        var service = context.createBean(SomeService.class, valueA, valueB);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7766036,"reputation":105,"user_id":5877195,"display_name":"nmnd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1786,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664475854,"creation_date":1548351300,"question_id":54352417,"body_markdown":"I&#39;m trying to inject a dependency with micronaut&#39;s DI container and would like to use a constructor with arguments/parameters for a bean. I read about the annotation @Parameter, but do not understand how to use it.  \r\n\r\nIn the API reference it says: \r\n\r\n&gt; **public @interface Parameter**  \r\nSpecifies that an argument to a bean constructor is user provided and a ParametrizedBeanFactory should be generated.  \r\nShould be applied only to constructor arguments and Bean factory methods   \r\n\r\n[https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Parameter.html][1]\r\n\r\n\r\n\r\nWhere should I put the annotation? Can I pass a variables value to a bean constructor?\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Parameter.html","title":"How to use @Parameter in Micronaut?","body":"<p>I'm trying to inject a dependency with micronaut's DI container and would like to use a constructor with arguments/parameters for a bean. I read about the annotation @Parameter, but do not understand how to use it.  </p>\n\n<p>In the API reference it says: </p>\n\n<blockquote>\n  <p><strong>public @interface Parameter</strong><br>\n  Specifies that an argument to a bean constructor is user provided and a ParametrizedBeanFactory should be generated.<br>\n  Should be applied only to constructor arguments and Bean factory methods   </p>\n</blockquote>\n\n<p><a href=\"https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Parameter.html\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Parameter.html</a></p>\n\n<p>Where should I put the annotation? Can I pass a variables value to a bean constructor?</p>\n"},{"tags":["java","int","fibonacci"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1527176821,"post_id":50512824,"comment_id":88039253,"body_markdown":"Your first solution fails because it times out (the time taken is exponential)","body":"Your first solution fails because it times out (the time taken is exponential)"},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1664970934,"post_id":50512824,"comment_id":130589263,"body_markdown":"@DodgyCodeException","body":"@DodgyCodeException"}],"answers":[{"tags":[],"owner":{"account_id":7609314,"reputation":268,"user_id":5770798,"accept_rate":60,"display_name":"shubham johar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527175974,"creation_date":1527175147,"answer_id":50512880,"question_id":50512824,"body_markdown":"To understand the solution you need to understand the concept of `Dynamic Programming` and `Recursion`\r\n\r\nIn the first solution to calculate the n-th Fibonacci number, your algorithm is \r\n\r\n`fib(n)= fib(n-1)+fib(n-2)`\r\n\r\nBut the second solution is more optimized\r\nThis approach stores values in an array so that you don&#39;t have to calculate `fib(n)` every time.\r\n\r\nExample:\r\n\r\n    fib(5) = fib(4) + fib(3)\r\n           = (fib(3) + fib(2)) + (fib(2) + fib(1))\r\n\r\nBy first solution, you are calculating  fib(2) twice for n = 4.\r\n\r\nBy second solution you are storing fibonacci values in an array\r\n\r\nExample:\r\nfor n =4,\r\n\r\nfirst you calculate `fib(2) = fib(1)+fib(0) = 1`                          \r\nthen you calculate `f(3) = f(2)+f(1)`\r\nWe don&#39;t have to calculate `the  fib(2)` since it is already stored in the array.\r\n\r\n[Check this link for more details][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/program-for-nth-fibonacci-number/","title":"climbing stairs the int limitation between two solutions","body":"<p>To understand the solution you need to understand the concept of <code>Dynamic Programming</code> and <code>Recursion</code></p>\n\n<p>In the first solution to calculate the n-th Fibonacci number, your algorithm is </p>\n\n<p><code>fib(n)= fib(n-1)+fib(n-2)</code></p>\n\n<p>But the second solution is more optimized\nThis approach stores values in an array so that you don't have to calculate <code>fib(n)</code> every time.</p>\n\n<p>Example:</p>\n\n<pre><code>fib(5) = fib(4) + fib(3)\n       = (fib(3) + fib(2)) + (fib(2) + fib(1))\n</code></pre>\n\n<p>By first solution, you are calculating  fib(2) twice for n = 4.</p>\n\n<p>By second solution you are storing fibonacci values in an array</p>\n\n<p>Example:\nfor n =4,</p>\n\n<p>first you calculate <code>fib(2) = fib(1)+fib(0) = 1</code><br>\nthen you calculate <code>f(3) = f(2)+f(1)</code>\nWe don't have to calculate <code>the  fib(2)</code> since it is already stored in the array.</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/program-for-nth-fibonacci-number/\" rel=\"nofollow noreferrer\">Check this link for more details</a></p>\n"},{"tags":[],"owner":{"account_id":5246898,"reputation":71,"user_id":4201083,"display_name":"JJ Xu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527175784,"creation_date":1527175784,"answer_id":50513106,"question_id":50512824,"body_markdown":"Your intuition is correct. The number of ways to reach the top indeed follows the fibonacci sequence.\r\n\r\nThe first solution computes the fibonacci numbers recursively (`fib(n) = fib(n - 1) + fib(n-2)`). To compute any value, the function needs to recursively call itself twice. Every function call takes up space in a region of memory called the stack. Whats probably happening is when n is too large, too many recursive calls are happening and the program runs out of space to execute more calls.\r\n\r\nThe second solution uses Dynamic programming and memoization. This effectively saves space and computation time. If you don&#39;t know these topics, I would encourage you to read into them.\r\n\r\nYou are getting negative values since the 47th Fibonacci number is greater than the maximum value that can be represented by type `int`. You can try using `long` or the `BigInteger` class to represent larger values.","title":"climbing stairs the int limitation between two solutions","body":"<p>Your intuition is correct. The number of ways to reach the top indeed follows the fibonacci sequence.</p>\n\n<p>The first solution computes the fibonacci numbers recursively (<code>fib(n) = fib(n - 1) + fib(n-2)</code>). To compute any value, the function needs to recursively call itself twice. Every function call takes up space in a region of memory called the stack. Whats probably happening is when n is too large, too many recursive calls are happening and the program runs out of space to execute more calls.</p>\n\n<p>The second solution uses Dynamic programming and memoization. This effectively saves space and computation time. If you don't know these topics, I would encourage you to read into them.</p>\n\n<p>You are getting negative values since the 47th Fibonacci number is greater than the maximum value that can be represented by type <code>int</code>. You can try using <code>long</code> or the <code>BigInteger</code> class to represent larger values.</p>\n"},{"tags":[],"owner":{"account_id":25232987,"reputation":1,"user_id":19067901,"display_name":"NITESH SAH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664475420,"creation_date":1664475420,"answer_id":73900021,"question_id":50512824,"body_markdown":"for n = 44 no of ways = 1134903170\r\nand for n = 45 no of ways = 1836311903\r\n\r\nso for n = 46 number of ways will be **n=44 + n=45** *i.e 2971215073*\r\n\r\nsign INTEGER can only store upto 2147483647 *i.e. 2^31 - 1*\r\n\r\nBecause of with for n=46 it is showing -ve number","title":"climbing stairs the int limitation between two solutions","body":"<p>for n = 44 no of ways = 1134903170\nand for n = 45 no of ways = 1836311903</p>\n<p>so for n = 46 number of ways will be <strong>n=44 + n=45</strong> <em>i.e 2971215073</em></p>\n<p>sign INTEGER can only store upto 2147483647 <em>i.e. 2^31 - 1</em></p>\n<p>Because of with for n=46 it is showing -ve number</p>\n"}],"owner":{"account_id":6421671,"reputation":29,"user_id":4978244,"accept_rate":0,"display_name":"Simona"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664475420,"creation_date":1527174987,"question_id":50512824,"body_markdown":"When working on leetcode 70 climbing stairs: You are climbing a stair case. It takes n steps to reach to the top.Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?\r\nHere is my first solution:\r\n\r\n    class Solution {\r\n        \r\n        public int fib (int n){\r\n            if (n &lt;= 2) return n;\r\n            return fib(n-1) + fib(n-2);\r\n        }\r\n       \r\n        public int climbStairs(int n) {\r\n            return fib (n+1);\r\n            \r\n        }\r\n    }\r\n\r\n when n &lt;44, it works, but n &gt;=44, it doesn&#39;t work.because of this, it leads to the failure in submission in leetcode.\r\nbut when use the 2nd solution, shows below \r\n\r\n    class Solution {\r\n        public int climbStairs(int n) {\r\n            if (n &lt;= 2) return n;\r\n            int[] allWays = new int[n];\r\n            allWays[0] = 1;\r\n            allWays[1] = 2;\r\n            for (int i = 2; i &lt; n; i++){\r\n                allWays[i] = allWays[i-1] + allWays[i-2];\r\n            }\r\n            return allWays[n-1];\r\n        }\r\n    }\r\n\r\nthe second solution is accepted by leetcode. however, when n &gt;=46, it gives a negative number.\r\n\r\nCan anyone give me some explanation why the first solution fails? what&#39;s the difference between the two solutions? Thanks.\r\n\r\n","title":"climbing stairs the int limitation between two solutions","body":"<p>When working on leetcode 70 climbing stairs: You are climbing a stair case. It takes n steps to reach to the top.Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?\nHere is my first solution:</p>\n\n<pre><code>class Solution {\n\n    public int fib (int n){\n        if (n &lt;= 2) return n;\n        return fib(n-1) + fib(n-2);\n    }\n\n    public int climbStairs(int n) {\n        return fib (n+1);\n\n    }\n}\n</code></pre>\n\n<p>when n &lt;44, it works, but n >=44, it doesn't work.because of this, it leads to the failure in submission in leetcode.\nbut when use the 2nd solution, shows below </p>\n\n<pre><code>class Solution {\n    public int climbStairs(int n) {\n        if (n &lt;= 2) return n;\n        int[] allWays = new int[n];\n        allWays[0] = 1;\n        allWays[1] = 2;\n        for (int i = 2; i &lt; n; i++){\n            allWays[i] = allWays[i-1] + allWays[i-2];\n        }\n        return allWays[n-1];\n    }\n}\n</code></pre>\n\n<p>the second solution is accepted by leetcode. however, when n >=46, it gives a negative number.</p>\n\n<p>Can anyone give me some explanation why the first solution fails? what's the difference between the two solutions? Thanks.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664475436,"post_id":73899639,"comment_id":130486600,"body_markdown":"`intent.putExtra(&quot;key&quot;,temp1)` You are not showing what intent would be.","body":"<code>intent.putExtra(&quot;key&quot;,temp1)</code> You are not showing what intent would be."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664475135,"creation_date":1664475135,"answer_id":73899985,"question_id":73899639,"body_markdown":"I&#39;m not sure if i understand your question proprely. So basically you want to put the 4 String values in UploadActivity inside the recyclerview of MainActivity .\r\n\r\nTo do that pass those 4 values via intent.putExtra . (et1 , et2 , et3 ..)\r\n\r\nGet it inside the 2nd activity and save it in an arraylist.\r\n\r\n```\r\nArraylist&lt;String&gt; arraylist = new ArrayList();\r\narraylist.add(&quot;value from edit text 1&quot;)\r\narraylist.add(&quot;value from edit text 2&quot;)\r\n.\r\n.\r\n.\r\n```\r\n\r\nThen pass this arraylist to your recyclerview to populate it\r\n","title":"Passig data with intent from activity to recyclerview in mainactivity?","body":"<p>I'm not sure if i understand your question proprely. So basically you want to put the 4 String values in UploadActivity inside the recyclerview of MainActivity .</p>\n<p>To do that pass those 4 values via intent.putExtra . (et1 , et2 , et3 ..)</p>\n<p>Get it inside the 2nd activity and save it in an arraylist.</p>\n<pre><code>Arraylist&lt;String&gt; arraylist = new ArrayList();\narraylist.add(&quot;value from edit text 1&quot;)\narraylist.add(&quot;value from edit text 2&quot;)\n.\n.\n.\n</code></pre>\n<p>Then pass this arraylist to your recyclerview to populate it</p>\n"}],"owner":{"account_id":26136534,"reputation":1,"user_id":19826448,"display_name":"Chanyoung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664475135,"creation_date":1664473116,"question_id":73899639,"body_markdown":"I am recently creating simple application with recycler view. I hava MainActivity which contains recyclerview, UploadActivity which I edit texts and pass to recyclerview, and Adapter class. All I want to do is, I would like to create a new review in UploadActivity, and then pass the data to recyclerview in MainActivity. \r\nI have been looking for the solution for a while to solve my problem. \r\n\r\nSimply :\r\n\r\nedit texts in uploadActivity -&gt; pass data to added recyclerview in MainActivity.\r\n\r\nI have 4 EditTextViews in upload activity, and I am confused how should I deal with the keys.\r\n\r\nHere is the Adapter Code.\r\n   \r\n    public class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.CustomViewHolder&gt; {\r\n    @NonNull\r\n\r\n    private ArrayList&lt;MainData&gt; list;\r\n\r\n    String key;\r\n\r\n    public MainAdapter(ArrayList&lt;MainData&gt; list, String key) {\r\n        this.list = list;\r\n        this.key = key;\r\n    }\r\n\r\n\r\n    @Override\r\n    public MainAdapter.CustomViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list, parent, false);\r\n\r\n        CustomViewHolder holder = new CustomViewHolder(view);\r\n\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MainAdapter.CustomViewHolder holder, int position) {\r\n       \r\n        holder.tv_title.setText(list.get(position).getTv_title());\r\n        holder.tv_author.setText(list.get(position).getTv_author());\r\n        holder.tv_start.setText(list.get(position).getTv_start());\r\n        holder.tv_end.setText(list.get(position).getTv_end());\r\n\r\n        holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View view) {\r\n                remove(holder.getAdapterPosition());\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return (list != null ? list.size() : 0);\r\n    }\r\n\r\n    public class CustomViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        protected TextView tv_title;\r\n        protected TextView tv_author;\r\n        protected TextView tv_start;\r\n        protected TextView tv_end;\r\n\r\n        public CustomViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            this.tv_title = (TextView) itemView.findViewById(R.id.title);\r\n            this.tv_author = (TextView) itemView.findViewById(R.id.author);\r\n            this.tv_start = (TextView) itemView.findViewById(R.id.main_start);\r\n            this.tv_end = (TextView) itemView.findViewById(R.id.main_end);\r\n\r\n        }\r\n\r\n    }\r\n\r\nMainData : \r\n\r\n    public class MainData {\r\n\r\n    String tv_title;\r\n    String tv_author;\r\n    String tv_start;\r\n    String tv_end;\r\n\r\n    public MainData(String tv_title,String tv_author, String tv_start, String tv_end) {\r\n\r\n        this.tv_title = tv_title;\r\n        this.tv_author = tv_author;\r\n        this.tv_start = tv_start;\r\n        this.tv_end = tv_end;\r\n\r\n    }\r\n\r\n    public String getTv_author() {\r\n        return tv_author;\r\n    }\r\n\r\n    public void setTv_author(String tv_author) {\r\n        this.tv_author = tv_author;\r\n    }\r\n\r\n    public String getTv_title() {\r\n        return tv_title;\r\n    }\r\n\r\n    public void setTv_title(String tv_title) {\r\n        this.tv_title = tv_title;\r\n    }\r\n\r\n    public String getTv_end() {\r\n        return tv_end;\r\n    }\r\n\r\n    public void setTv_end(String tv_end) {\r\n        this.tv_end = tv_end;\r\n    }\r\n\r\n    public String getTv_start() {\r\n        return tv_start;\r\n    }\r\n\r\n    public void setTv_start(String tv_start) {\r\n        this.tv_start = tv_start;\r\n    }\r\n    }\r\n\r\n\r\nMainActivity which is going to receive data and set recyclerview (and where I am stuck): \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private ArrayList&lt;MainData&gt; list;\r\n    private MainAdapter adapter;\r\n    private RecyclerView recyclerView;\r\n    private LinearLayoutManager manager;\r\n\r\n    String pass_title;\r\n    String pass_author;\r\n    String pass_start;\r\n    String pass_end;\r\n\r\n    String key = &quot;key&quot;;\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) { // START OF ONCREATE\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        key = getIntent().getStringExtra(&quot;key&quot;);\r\n\r\n        recyclerView = (RecyclerView) findViewById(R.id.rv);\r\n\r\n        manager = new LinearLayoutManager(this);\r\n\r\n        recyclerView.setLayoutManager(manager);\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n\r\n        adapter = new MainAdapter(list,key);\r\n\r\n        recyclerView.setAdapter(adapter);\r\n\r\n    \r\n\r\nUpload Activity : where I am stuck as well. \r\n\r\n    private ArrayList&lt;MainData&gt; list;\r\n    private MainAdapter adapter;\r\n    private RecyclerView recyclerView;\r\n    private LinearLayoutManager manager;\r\n\r\n           Button uploading = (Button) findViewById(R.id.upload_upload);\r\n           uploading.setOnClickListener(new View.OnClickListener() {  // UPLOAD BUTTON\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                EditText input_title = (EditText) findViewById(R.id.upload_title);\r\n                String temp1 = input_title.getText().toString();\r\n                intent.putExtra(&quot;key&quot;,temp1); \r\n\r\n                EditText input_author = (EditText) findViewById(R.id.upload_author);\r\n                String temp2 = input_author.getText().toString();\r\n                intent.putExtra(&quot;temp2&quot;,temp2);\r\n\r\n                start = (TextView) findViewById(R.id.start_date);\r\n                String s = start.getText().toString();\r\n                intent.putExtra(&quot;start&quot;,s);\r\n\r\n                end = (TextView) findViewById(R.id.end_date);\r\n                String e = end.getText().toString();\r\n                intent.putExtra(&quot;end&quot;,e);\r\n\r\n                MainData mainData = new MainData(pass_title, pass_author, pass_start, pass_end);\r\n                list.add(mainData);\r\n                adapter.notifyDataSetChanged();\r\n\r\n\r\n               startActivity(intent);\r\n\r\n                finish();\r\n            }\r\n        }); // UPLOAD BUTTON\r\n\r\n\r\n\r\nI am sorry for this long question. I am new at coding, so any kind of strong feedback will be welcomed! Thank you in advance.","title":"Passig data with intent from activity to recyclerview in mainactivity?","body":"<p>I am recently creating simple application with recycler view. I hava MainActivity which contains recyclerview, UploadActivity which I edit texts and pass to recyclerview, and Adapter class. All I want to do is, I would like to create a new review in UploadActivity, and then pass the data to recyclerview in MainActivity.\nI have been looking for the solution for a while to solve my problem.</p>\n<p>Simply :</p>\n<p>edit texts in uploadActivity -&gt; pass data to added recyclerview in MainActivity.</p>\n<p>I have 4 EditTextViews in upload activity, and I am confused how should I deal with the keys.</p>\n<p>Here is the Adapter Code.</p>\n<pre><code>public class MainAdapter extends RecyclerView.Adapter&lt;MainAdapter.CustomViewHolder&gt; {\n@NonNull\n\nprivate ArrayList&lt;MainData&gt; list;\n\nString key;\n\npublic MainAdapter(ArrayList&lt;MainData&gt; list, String key) {\n    this.list = list;\n    this.key = key;\n}\n\n\n@Override\npublic MainAdapter.CustomViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_list, parent, false);\n\n    CustomViewHolder holder = new CustomViewHolder(view);\n\n    return holder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MainAdapter.CustomViewHolder holder, int position) {\n   \n    holder.tv_title.setText(list.get(position).getTv_title());\n    holder.tv_author.setText(list.get(position).getTv_author());\n    holder.tv_start.setText(list.get(position).getTv_start());\n    holder.tv_end.setText(list.get(position).getTv_end());\n\n    holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View view) {\n            remove(holder.getAdapterPosition());\n            return true;\n        }\n    });\n\n}\n\n@Override\npublic int getItemCount() {\n    return (list != null ? list.size() : 0);\n}\n\npublic class CustomViewHolder extends RecyclerView.ViewHolder {\n\n    protected TextView tv_title;\n    protected TextView tv_author;\n    protected TextView tv_start;\n    protected TextView tv_end;\n\n    public CustomViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        this.tv_title = (TextView) itemView.findViewById(R.id.title);\n        this.tv_author = (TextView) itemView.findViewById(R.id.author);\n        this.tv_start = (TextView) itemView.findViewById(R.id.main_start);\n        this.tv_end = (TextView) itemView.findViewById(R.id.main_end);\n\n    }\n\n}\n</code></pre>\n<p>MainData :</p>\n<pre><code>public class MainData {\n\nString tv_title;\nString tv_author;\nString tv_start;\nString tv_end;\n\npublic MainData(String tv_title,String tv_author, String tv_start, String tv_end) {\n\n    this.tv_title = tv_title;\n    this.tv_author = tv_author;\n    this.tv_start = tv_start;\n    this.tv_end = tv_end;\n\n}\n\npublic String getTv_author() {\n    return tv_author;\n}\n\npublic void setTv_author(String tv_author) {\n    this.tv_author = tv_author;\n}\n\npublic String getTv_title() {\n    return tv_title;\n}\n\npublic void setTv_title(String tv_title) {\n    this.tv_title = tv_title;\n}\n\npublic String getTv_end() {\n    return tv_end;\n}\n\npublic void setTv_end(String tv_end) {\n    this.tv_end = tv_end;\n}\n\npublic String getTv_start() {\n    return tv_start;\n}\n\npublic void setTv_start(String tv_start) {\n    this.tv_start = tv_start;\n}\n}\n</code></pre>\n<p>MainActivity which is going to receive data and set recyclerview (and where I am stuck):</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate ArrayList&lt;MainData&gt; list;\nprivate MainAdapter adapter;\nprivate RecyclerView recyclerView;\nprivate LinearLayoutManager manager;\n\nString pass_title;\nString pass_author;\nString pass_start;\nString pass_end;\n\nString key = &quot;key&quot;;\n\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) { // START OF ONCREATE\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    key = getIntent().getStringExtra(&quot;key&quot;);\n\n    recyclerView = (RecyclerView) findViewById(R.id.rv);\n\n    manager = new LinearLayoutManager(this);\n\n    recyclerView.setLayoutManager(manager);\n\n    list = new ArrayList&lt;&gt;();\n\n    adapter = new MainAdapter(list,key);\n\n    recyclerView.setAdapter(adapter);\n</code></pre>\n<p>Upload Activity : where I am stuck as well.</p>\n<pre><code>private ArrayList&lt;MainData&gt; list;\nprivate MainAdapter adapter;\nprivate RecyclerView recyclerView;\nprivate LinearLayoutManager manager;\n\n       Button uploading = (Button) findViewById(R.id.upload_upload);\n       uploading.setOnClickListener(new View.OnClickListener() {  // UPLOAD BUTTON\n        @Override\n        public void onClick(View view) {\n\n            EditText input_title = (EditText) findViewById(R.id.upload_title);\n            String temp1 = input_title.getText().toString();\n            intent.putExtra(&quot;key&quot;,temp1); \n\n            EditText input_author = (EditText) findViewById(R.id.upload_author);\n            String temp2 = input_author.getText().toString();\n            intent.putExtra(&quot;temp2&quot;,temp2);\n\n            start = (TextView) findViewById(R.id.start_date);\n            String s = start.getText().toString();\n            intent.putExtra(&quot;start&quot;,s);\n\n            end = (TextView) findViewById(R.id.end_date);\n            String e = end.getText().toString();\n            intent.putExtra(&quot;end&quot;,e);\n\n            MainData mainData = new MainData(pass_title, pass_author, pass_start, pass_end);\n            list.add(mainData);\n            adapter.notifyDataSetChanged();\n\n\n           startActivity(intent);\n\n            finish();\n        }\n    }); // UPLOAD BUTTON\n</code></pre>\n<p>I am sorry for this long question. I am new at coding, so any kind of strong feedback will be welcomed! Thank you in advance.</p>\n"},{"tags":["java","kotlin","timezone"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1664449909,"post_id":73894529,"comment_id":130476992,"body_markdown":"Do you _really_ need `java.util.TimeZone` or could you use the newer java.time API which would have something like `java.time.ZoneOffset`?","body":"Do you <i>really</i> need <code>java.util.TimeZone</code> or could you use the newer java.time API which would have something like <code>java.time.ZoneOffset</code>?"},{"owner":{"display_name":"user15941734"},"score":0,"creation_date":1664450286,"post_id":73894529,"comment_id":130477125,"body_markdown":"Yes I could do that, as long as it represents UTC time zones","body":"Yes I could do that, as long as it represents UTC time zones"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1664450416,"post_id":73894529,"comment_id":130477167,"body_markdown":"Or use `java.time.ZoneId`: `ZoneId.of(&quot;UTC+04:00&quot;)`","body":"Or use <code>java.time.ZoneId</code>: <code>ZoneId.of(&quot;UTC+04:00&quot;)</code>"},{"owner":{"display_name":"user15941734"},"score":0,"creation_date":1664450504,"post_id":73894529,"comment_id":130477189,"body_markdown":"Thanks, will try it right now","body":"Thanks, will try it right now"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1664450504,"post_id":73894529,"comment_id":130477190,"body_markdown":"&quot;as long as it represents UTC time zones&quot; - That&#39;s what the Javadoc on `ZoneOffset` states: &quot;A time-zone offset from _Greenwich/UTC_, such as +02:00. &quot;","body":"&quot;as long as it represents UTC time zones&quot; - That&#39;s what the Javadoc on <code>ZoneOffset</code> states: &quot;A time-zone offset from <i>Greenwich/UTC</i>, such as +02:00. &quot;"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1664476035,"post_id":73894529,"comment_id":130486785,"body_markdown":"Instead of referring to &quot;UTC time zones&quot;, it would be *much* clearer if you&#39;d refer to &quot;fixed-offset time zones&quot;. UTC means UTC and *only* UTC (and arguably isn&#39;t a time zone in itself, but that&#39;s splitting hairs). &quot;UTC+4&quot; is a time zone (sort of) that is &quot;always four hours ahead of UTC&quot;.","body":"Instead of referring to &quot;UTC time zones&quot;, it would be <i>much</i> clearer if you&#39;d refer to &quot;fixed-offset time zones&quot;. UTC means UTC and <i>only</i> UTC (and arguably isn&#39;t a time zone in itself, but that&#39;s splitting hairs). &quot;UTC+4&quot; is a time zone (sort of) that is &quot;always four hours ahead of UTC&quot;."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664476742,"post_id":73894529,"comment_id":130486992,"body_markdown":"If your string necessarily looks like that, `UTC+4:00`, you may define `OFFSET_FORMATTER` as `new DateTimeFormatterBuilder() .appendLiteral(&quot;UTC&quot;) .appendOffset(&quot;+H:MM&quot;, &quot;+0:00&quot;) .toFormatter(Locale.ROOT)` and the get a `ZoneOffset` from `ZoneOffset.from(OFFSET_FORMATTER.parse(&quot;UTC+4:00&quot;))` (yields `+04:00`).","body":"If your string necessarily looks like that, <code>UTC+4:00</code>, you may define <code>OFFSET_FORMATTER</code> as <code>new DateTimeFormatterBuilder() .appendLiteral(&quot;UTC&quot;) .appendOffset(&quot;+H:MM&quot;, &quot;+0:00&quot;) .toFormatter(Locale.ROOT)</code> and the get a <code>ZoneOffset</code> from <code>ZoneOffset.from(OFFSET_FORMATTER.parse(&quot;UTC+4:00&quot;))</code> (yields <code>+04:00</code>)."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664475100,"creation_date":1664475100,"answer_id":73899978,"question_id":73894529,"body_markdown":"The `java.util` date-time API is outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n\r\nThere is a difference between time zone and time zone offset. What you have mentioned is a time zone offset, not a time zone. A time zone is unique and therefore it has an ID e.g. `ZoneId.of(&quot;America/New_York&quot;)` whereas a time zone offset tells you about the amount of time by which a given time is offset from the UTC time. There can be many time zones falling on the same time zone offset. Check https://en.wikipedia.org/wiki/List_of_tz_database_time_zones to learn more about it.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Instant instant = Instant.now();\r\n            System.out.println(instant);\r\n    \r\n            ZoneOffset offset = ZoneOffset.of(&quot;+04:00&quot;);\r\n            OffsetDateTime odt = instant.atOffset(offset);\r\n            System.out.println(odt);\r\n    \r\n            ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\r\n            ZonedDateTime zdt = instant.atZone(zoneId);\r\n            System.out.println(zdt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-09-29T18:11:06.887943Z\r\n    2022-09-29T22:11:06.887943+04:00\r\n    2022-09-29T14:11:06.887943-04:00[America/New_York]\r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Create a UTC time zone object from a string","body":"<p>The <code>java.util</code> date-time API is outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>.</p>\n<p>There is a difference between time zone and time zone offset. What you have mentioned is a time zone offset, not a time zone. A time zone is unique and therefore it has an ID e.g. <code>ZoneId.of(&quot;America/New_York&quot;)</code> whereas a time zone offset tells you about the amount of time by which a given time is offset from the UTC time. There can be many time zones falling on the same time zone offset. Check <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a> to learn more about it.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        Instant instant = Instant.now();\n        System.out.println(instant);\n\n        ZoneOffset offset = ZoneOffset.of(&quot;+04:00&quot;);\n        OffsetDateTime odt = instant.atOffset(offset);\n        System.out.println(odt);\n\n        ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\n        ZonedDateTime zdt = instant.atZone(zoneId);\n        System.out.println(zdt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-09-29T18:11:06.887943Z\n2022-09-29T22:11:06.887943+04:00\n2022-09-29T14:11:06.887943-04:00[America/New_York]\n</code></pre>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"display_name":"user15941734"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664475100,"creation_date":1664449786,"question_id":73894529,"body_markdown":"I need a java.utils.TimeZone object that represents a UTC time zone (i.e. &quot;UTC+4&quot; in an object form). I tried the getTimeZone function, but it returns a GMT object.\r\n```\r\nval timeZone = TimeZone.getTimeZone(&quot;UTC+4:00&quot;)\r\nprint(timeZone)\r\n```\r\noutputs\r\n```\r\nsun.util.calendar.ZoneInfo[id=&quot;GMT&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null]\r\n```\r\nI have never worked with time zones and honestly I don&#39;t really understand them much, so if you could help me here that would be really appreciated ","title":"Create a UTC time zone object from a string","body":"<p>I need a java.utils.TimeZone object that represents a UTC time zone (i.e. &quot;UTC+4&quot; in an object form). I tried the getTimeZone function, but it returns a GMT object.</p>\n<pre><code>val timeZone = TimeZone.getTimeZone(&quot;UTC+4:00&quot;)\nprint(timeZone)\n</code></pre>\n<p>outputs</p>\n<pre><code>sun.util.calendar.ZoneInfo[id=&quot;GMT&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null]\n</code></pre>\n<p>I have never worked with time zones and honestly I don't really understand them much, so if you could help me here that would be really appreciated</p>\n"},{"tags":["java","list","performance","option-type"],"comments":[{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":1,"creation_date":1642852685,"post_id":70812275,"comment_id":125185608,"body_markdown":"Sam, &quot;What other factors should be considered when deciding which to choose.&quot; would be considered too broad/vague as a valid question in this forum.","body":"Sam, &quot;What other factors should be considered when deciding which to choose.&quot; would be considered too broad/vague as a valid question in this forum."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642863492,"post_id":70812275,"comment_id":125188167,"body_markdown":"Why would the List be an optional value?  I hope you aren’t using Optional to indicate an error;  that’s what exceptions are for.","body":"Why would the List be an optional value?  I hope you aren’t using Optional to indicate an error;  that’s what exceptions are for."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643204833,"post_id":70812275,"comment_id":125276931,"body_markdown":"The important question is, what does your method normally do, i.e. when the return value is not empty?","body":"The important question is, what does your method normally do, i.e. when the return value is not empty?"}],"answers":[{"tags":[],"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664474913,"creation_date":1642852372,"answer_id":70812511,"question_id":70812275,"body_markdown":"Its a bit hard to imagine a JVM-application where performance overhead on that level matters. Perhaps if you build super-foundational basic components like implementations of List itself, which build on primitive java types only or some serialization frameworks which make crazy stunts in the realm of unsafe.  \r\n\r\nBoth optional.empty() and Collections.emptyList() are constants as of my knowledge, so no performance overhead there. yep, also the mighty source confirms this:\r\n\r\n    public static final &lt;T&gt; List&lt;T&gt; emptyList() {\r\n        return (List&lt;T&gt;) EMPTY_LIST;\r\n    }\r\n\r\n    public static&lt;T&gt; Optional&lt;T&gt; empty() {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Optional&lt;T&gt; t = (Optional&lt;T&gt;) EMPTY;\r\n        return t;\r\n    }\r\n\r\n&gt; What other factors should be considered when deciding which to choose.\r\n\r\nI&#39;m not so into philosophy of coding usually, but Optional says more &quot;there can be either something or nothing whatsoever&quot;, but an empty list says &quot;ok, its a list anyway, just of size zero&quot;. Just note that the constant EMPTY_LIST is immutable, you can&#39;t put anything into it. \r\n\r\nI think, it happened that I did put lists into optionals to indicate some &quot;nothing whatsoever there&quot; or &quot;doesn&#39;t apply at all&quot; and this causes the tiny overhead of crating the optional object. But I doubt, that you&#39;ll find a reasonable application where that makes a meaningful difference. And I do agree with @racraman that an `Optional&lt;List&lt;Smthg&gt;&gt;` just looks weird and indicates some degenerate case that shouldn&#39;t be there in the first place. Don&#39;t know what the general consensus is on that detail, though. \r\n\r\nE.g. [here&#39;s][1] a discussion of the topic claiming that the use of Optional is not optional, when the shunned alternative would be to return null. It also goes onto the details of Optional&#39;s interface and its use case. E.g issues of style arise, where Optional allows for &quot;more functional&quot; [fluent coding style][2] that seems popular at the moment.\r\n\r\nAnd if you do care about performance on that level, which you probably shouldn&#39;t, that&#39;s a whole topic into itself, see e.g. [this][3] related article. There may be a case to be made that Optional using its fluent interface may outperform conditionals (&quot;if&quot;) on  modern cpus due to possible branch misprediction in that case.\r\n\r\n\r\n  [1]: https://dzone.com/articles/using-optional-correctly-is-not-optional\r\n  [2]: https://en.wikipedia.org/wiki/Fluent_interface#Java\r\n  [3]: https://medium.com/swlh/branch-prediction-everything-you-need-to-know-da13ce05787e","title":"How do you decide whether to return Optional.empty() or Collections.emptyList()?","body":"<p>Its a bit hard to imagine a JVM-application where performance overhead on that level matters. Perhaps if you build super-foundational basic components like implementations of List itself, which build on primitive java types only or some serialization frameworks which make crazy stunts in the realm of unsafe.</p>\n<p>Both optional.empty() and Collections.emptyList() are constants as of my knowledge, so no performance overhead there. yep, also the mighty source confirms this:</p>\n<pre><code>public static final &lt;T&gt; List&lt;T&gt; emptyList() {\n    return (List&lt;T&gt;) EMPTY_LIST;\n}\n\npublic static&lt;T&gt; Optional&lt;T&gt; empty() {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Optional&lt;T&gt; t = (Optional&lt;T&gt;) EMPTY;\n    return t;\n}\n</code></pre>\n<blockquote>\n<p>What other factors should be considered when deciding which to choose.</p>\n</blockquote>\n<p>I'm not so into philosophy of coding usually, but Optional says more &quot;there can be either something or nothing whatsoever&quot;, but an empty list says &quot;ok, its a list anyway, just of size zero&quot;. Just note that the constant EMPTY_LIST is immutable, you can't put anything into it.</p>\n<p>I think, it happened that I did put lists into optionals to indicate some &quot;nothing whatsoever there&quot; or &quot;doesn't apply at all&quot; and this causes the tiny overhead of crating the optional object. But I doubt, that you'll find a reasonable application where that makes a meaningful difference. And I do agree with @racraman that an <code>Optional&lt;List&lt;Smthg&gt;&gt;</code> just looks weird and indicates some degenerate case that shouldn't be there in the first place. Don't know what the general consensus is on that detail, though.</p>\n<p>E.g. <a href=\"https://dzone.com/articles/using-optional-correctly-is-not-optional\" rel=\"nofollow noreferrer\">here's</a> a discussion of the topic claiming that the use of Optional is not optional, when the shunned alternative would be to return null. It also goes onto the details of Optional's interface and its use case. E.g issues of style arise, where Optional allows for &quot;more functional&quot; <a href=\"https://en.wikipedia.org/wiki/Fluent_interface#Java\" rel=\"nofollow noreferrer\">fluent coding style</a> that seems popular at the moment.</p>\n<p>And if you do care about performance on that level, which you probably shouldn't, that's a whole topic into itself, see e.g. <a href=\"https://medium.com/swlh/branch-prediction-everything-you-need-to-know-da13ce05787e\" rel=\"nofollow noreferrer\">this</a> related article. There may be a case to be made that Optional using its fluent interface may outperform conditionals (&quot;if&quot;) on  modern cpus due to possible branch misprediction in that case.</p>\n"},{"tags":[],"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642855252,"creation_date":1642854787,"answer_id":70812853,"question_id":70812275,"body_markdown":"Any performance issues between Optional and an Empty-List will be utterly negligible for the vast majority of usage.  Stop concentrating on such issues, since premature attempts at optimisation at this level invariably end up causing more problems (difficult to maintain code, etc) than any realistic gain.\r\n\r\nA deeper question is why you reckon these two options are really equivalent.\r\n\r\nOptional are best for capturing whether a single object has been returned or not.\r\n\r\nLists obviously return a number of objects.\r\n\r\nMy personal opinion is that since “a number” obviously includes Zero, I have no problem returning an empty list, and on the contrary would have a hard time justifying the IMHO over-engineered idea of returning an Optional&lt;List&lt;Whatever &gt;&gt;.   There is nothing such an ugly construct provides that is not more cleanly supplied by testing “list.isEmpty()” , and/or the effectively no-operation of iterating (or streams) along that list.\r\n\r\n","title":"How do you decide whether to return Optional.empty() or Collections.emptyList()?","body":"<p>Any performance issues between Optional and an Empty-List will be utterly negligible for the vast majority of usage.  Stop concentrating on such issues, since premature attempts at optimisation at this level invariably end up causing more problems (difficult to maintain code, etc) than any realistic gain.</p>\n<p>A deeper question is why you reckon these two options are really equivalent.</p>\n<p>Optional are best for capturing whether a single object has been returned or not.</p>\n<p>Lists obviously return a number of objects.</p>\n<p>My personal opinion is that since “a number” obviously includes Zero, I have no problem returning an empty list, and on the contrary would have a hard time justifying the IMHO over-engineered idea of returning an Optional&lt;List&gt;.   There is nothing such an ugly construct provides that is not more cleanly supplied by testing “list.isEmpty()” , and/or the effectively no-operation of iterating (or streams) along that list.</p>\n"}],"owner":{"account_id":17069455,"reputation":11,"user_id":12350638,"display_name":"Sam195"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1664474913,"creation_date":1642850487,"question_id":70812275,"body_markdown":"I understand there are performance consequences associated with returning optionals. I know returning empty collections could potentially also harm performance but that can be avoided by returning immutable empty collections such as Collections.emptyList().\r\nWhat other factors should be considered when deciding which to choose.","title":"How do you decide whether to return Optional.empty() or Collections.emptyList()?","body":"<p>I understand there are performance consequences associated with returning optionals. I know returning empty collections could potentially also harm performance but that can be avoided by returning immutable empty collections such as Collections.emptyList().\nWhat other factors should be considered when deciding which to choose.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1664484364,"post_id":73899937,"comment_id":130489092,"body_markdown":"What is your target spring-security version, because 3.1 is pretty old. Not sure you&#39;ll find someone with accurate knowledge for that version. `spring-security-oauth2` was abandoned a while ago (2 years? I don&#39;t remember exactly) and the 6.0 version of `spring-security` is on its last milestones (should be released in November...)","body":"What is your target spring-security version, because 3.1 is pretty old. Not sure you&#39;ll find someone with accurate knowledge for that version. <code>spring-security-oauth2</code> was abandoned a while ago (2 years? I don&#39;t remember exactly) and the 6.0 version of <code>spring-security</code> is on its last milestones (should be released in November...)"},{"owner":{"account_id":13456802,"reputation":71,"user_id":9710164,"display_name":"Vũ B&#225; Quang"},"score":0,"creation_date":1664507481,"post_id":73899937,"comment_id":130492793,"body_markdown":"I am following the instructions of the problem `OAuth 2.0 using Spring Security + WSO2 Identity Server` here [link](https://stackoverflow.com/questions/27551358/oauth-2-0-using-spring-security-wso2-identity-server)  ,I use a `spring-security-oauth2` with version `2.3.4`, `spring-security` `5.5.3`, please help me","body":"I am following the instructions of the problem <code>OAuth 2.0 using Spring Security + WSO2 Identity Server</code> here <a href=\"https://stackoverflow.com/questions/27551358/oauth-2-0-using-spring-security-wso2-identity-server\">link</a>  ,I use a <code>spring-security-oauth2</code> with version <code>2.3.4</code>, <code>spring-security</code> <code>5.5.3</code>, please help me"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1664511978,"post_id":73899937,"comment_id":130493293,"body_markdown":"Answer is **7 years old** (2015)... and no, I won&#39;t help with `spring-security-oauth2`. See [those tutorials](https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials) for up to date resource-server configuration.","body":"Answer is <b>7 years old</b> (2015)... and no, I won&#39;t help with <code>spring-security-oauth2</code>. See <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials\" rel=\"nofollow noreferrer\">those tutorials</a> for up to date resource-server configuration."},{"owner":{"account_id":13456802,"reputation":71,"user_id":9710164,"display_name":"Vũ B&#225; Quang"},"score":0,"creation_date":1664512689,"post_id":73899937,"comment_id":130493387,"body_markdown":"Thank you very much, I will learn more about the material you send !","body":"Thank you very much, I will learn more about the material you send !"}],"owner":{"account_id":13456802,"reputation":71,"user_id":9710164,"display_name":"Vũ B&#225; Quang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664474873,"creation_date":1664474873,"question_id":73899937,"body_markdown":"Im using activiti and spring in project, XML manner previously configured as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n       xmlns:oauth2=&quot;http://www.springframework.org/schema/security/oauth2&quot;\r\n       xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n        http://www.springframework.org/schema/security\r\n        http://www.springframework.org/schema/security/spring-security-3.1.xsd\r\n        http://www.springframework.org/schema/security/oauth2\r\n        http://www.springframework.org/schema/security/spring-security-oauth2.xsd&quot;&gt;\r\n        &lt;bean id=&quot;tokenServices&quot; class=&quot;com.example.security.oauth2.wso2.TokenServiceWSO2&quot; /&gt;\r\n        &lt;bean id=&quot;authenticationEntryPoint&quot; class=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot; /&gt;\r\n        &lt;security:authentication-manager alias=&quot;authenticationManager&quot; /&gt;\r\n        &lt;oauth2:resource-server id=&quot;resourcesServerFilter&quot; token-services-ref=&quot;tokenServices&quot; /&gt;\r\n        &lt;security:http pattern=&quot;/services/**&quot; create-session=&quot;stateless&quot; entry-point-ref=&quot;authenticationEntryPoint&quot; &gt;\r\n            &lt;security:anonymous enabled=&quot;false&quot; /&gt;\r\n            &lt;security:custom-filter ref=&quot;resourcesServerFilter&quot; before=&quot;PRE_AUTH_FILTER&quot; /&gt;\r\n            &lt;security:intercept-url pattern=&quot;/services/**&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot;/&gt;\r\n        &lt;/security:http&gt;\r\n    &lt;/beans&gt;\r\n\r\nHow is configured to convert into JAVA?\r\nThank you very much","title":"Converting Spring xml config to java config","body":"<p>Im using activiti and spring in project, XML manner previously configured as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n   xmlns:oauth2=&quot;http://www.springframework.org/schema/security/oauth2&quot;\n   xsi:schemaLocation=&quot;\n    http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n    http://www.springframework.org/schema/security\n    http://www.springframework.org/schema/security/spring-security-3.1.xsd\n    http://www.springframework.org/schema/security/oauth2\n    http://www.springframework.org/schema/security/spring-security-oauth2.xsd&quot;&gt;\n    &lt;bean id=&quot;tokenServices&quot; class=&quot;com.example.security.oauth2.wso2.TokenServiceWSO2&quot; /&gt;\n    &lt;bean id=&quot;authenticationEntryPoint&quot; class=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot; /&gt;\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot; /&gt;\n    &lt;oauth2:resource-server id=&quot;resourcesServerFilter&quot; token-services-ref=&quot;tokenServices&quot; /&gt;\n    &lt;security:http pattern=&quot;/services/**&quot; create-session=&quot;stateless&quot; entry-point-ref=&quot;authenticationEntryPoint&quot; &gt;\n        &lt;security:anonymous enabled=&quot;false&quot; /&gt;\n        &lt;security:custom-filter ref=&quot;resourcesServerFilter&quot; before=&quot;PRE_AUTH_FILTER&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/services/**&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot;/&gt;\n    &lt;/security:http&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>How is configured to convert into JAVA?\nThank you very much</p>\n"},{"tags":["java","android","android-studio","kotlin","android-layout"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1649279201,"post_id":71773555,"comment_id":126838821,"body_markdown":"I only recently used Jitpack for the first time, but I&#39;m pretty sure they changed their dependency format sometime in the last few months, so a lot of examples are out of date. Go to https://jitpack.io/, enter the repo there, and it&#39;ll generate the correct dependency for you; e.g., https://jitpack.io/#smarteist/Android-Image-Slider/1.4.0.","body":"I only recently used Jitpack for the first time, but I&#39;m pretty sure they changed their dependency format sometime in the last few months, so a lot of examples are out of date. Go to <a href=\"https://jitpack.io/\" rel=\"nofollow noreferrer\">jitpack.io</a>, enter the repo there, and it&#39;ll generate the correct dependency for you; e.g., <a href=\"https://jitpack.io/#smarteist/Android-Image-Slider/1.4.0\" rel=\"nofollow noreferrer\">jitpack.io/#smarteist/Android-Image-Slider/1.4.0</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user18481390"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649314283,"creation_date":1649314283,"answer_id":71777534,"question_id":71773555,"body_markdown":"You added both dependency of `autoimageslider` library. PLease remove this `implementation &#39;com.github.smarteist:autoimageslider:1.4.0-appcompat` dependency from your build.gradle and `sync` again. Because this dependency `implementation &#39;com.github.smarteist:autoimageslider:1.4.0-appcompat&#39;` is for `AndroidX` and this dependency `implementation &#39;com.github.smarteist:autoimageslider:1.4.0&#39;` for android appcompact.\r\n\r\nSo, remove the dependency shown below from your build.gradle.\r\n````\r\nimplementation &#39;com.github.smarteist:autoimageslider:1.4.0-appcompat\r\n````\r\nIf your problem is still, Let me know","title":"I am unable to use auto Image slider but not able to do so","body":"<p>You added both dependency of <code>autoimageslider</code> library. PLease remove this <code>implementation 'com.github.smarteist:autoimageslider:1.4.0-appcompat</code> dependency from your build.gradle and <code>sync</code> again. Because this dependency <code>implementation 'com.github.smarteist:autoimageslider:1.4.0-appcompat'</code> is for <code>AndroidX</code> and this dependency <code>implementation 'com.github.smarteist:autoimageslider:1.4.0'</code> for android appcompact.</p>\n<p>So, remove the dependency shown below from your build.gradle.</p>\n<pre><code>implementation 'com.github.smarteist:autoimageslider:1.4.0-appcompat\n</code></pre>\n<p>If your problem is still, Let me know</p>\n"},{"tags":[],"owner":{"account_id":25986301,"reputation":19,"user_id":19699234,"display_name":"Aman Choudhary"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1659802707,"creation_date":1659698968,"answer_id":73249045,"question_id":71773555,"body_markdown":"add one line in `setting.gradle`\r\n\r\n    jcenter()","title":"I am unable to use auto Image slider but not able to do so","body":"<p>add one line in <code>setting.gradle</code></p>\n<pre><code>jcenter()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26484633,"reputation":1,"user_id":20123406,"display_name":"user20123406"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664474774,"creation_date":1664474756,"answer_id":73899917,"question_id":71773555,"body_markdown":"using jcenter worked for me though it asked me to replace  jcenter to mavencenteral\r\n","title":"I am unable to use auto Image slider but not able to do so","body":"<p>using jcenter worked for me though it asked me to replace  jcenter to mavencenteral</p>\n"}],"owner":{"account_id":20826982,"reputation":31,"user_id":15297229,"display_name":"Himanshu Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1664474774,"creation_date":1649278877,"question_id":71773555,"body_markdown":"I just wanted to use Auto image Slider, but after adding all the dependencies and other requirments like jitpack.io still I am unable to use sliderLayout of auto Image slider and now I have tried every stackoverflow solution \r\n\r\n\r\nthis is my build.gradle(:app)file\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    android {\r\n        compileSdk 31 \r\n        defaultConfig {\r\n        applicationId &quot;com.example.mycollege&quot;\r\n        minSdk 21\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), \r\n    &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    dependencies {\r\n\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.4.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.4.1&#39;\r\n        implementation &#39;androidx.compose.material3:material3:1.0.0-alpha08&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.13.1&#39;\r\n        implementation &#39;com.github.smarteist:autoimageslider:1.4.0&#39;\r\n        implementation &#39;com.github.smarteist:autoimageslider:1.4.0-appcompat&#39;\r\n        implementation &#39;com.github.jitpack:gradle-simple:1.0&#39;\r\n    }\r\n\r\nhere is my build.gradle(project)\r\n\r\n    // Top-level build file where you can add configuration options common to all sub- \r\n    projects/modules.\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.1.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.1.2&#39; apply false\r\n    }\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nsettings:gradle(project) details are as follows \r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    } \r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39;}\r\n        }\r\n    }\r\n    rootProject.name = &quot;My college&quot;\r\n    include &#39;:app&#39;\r\n\r\nhere is the file in which I am trying to use the auto image slider layout/view \r\n \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.UI.Home.HomeFragment&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n               &lt;com.smarteist.autoimageslider.SliderLayout&gt; \r\n               &lt;/com.smarteist.autoimageslider.SliderLayout&gt;\r\n                     // its showing error called &quot;Class referenced in the layout file, \r\n                     com.smarteist.autoimageslider.SliderLayout, was not found in the \r\n                     project or the libraries\r\n                     Cannot resolve class com.smarteist.autoimageslider.SliderLayout &quot;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\nplease somebody help me out","title":"I am unable to use auto Image slider but not able to do so","body":"<p>I just wanted to use Auto image Slider, but after adding all the dependencies and other requirments like jitpack.io still I am unable to use sliderLayout of auto Image slider and now I have tried every stackoverflow solution</p>\n<p>this is my build.gradle(:app)file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\nandroid {\n    compileSdk 31 \n    defaultConfig {\n    applicationId &quot;com.example.mycollege&quot;\n    minSdk 21\n    targetSdk 31\n    versionCode 1\n    versionName &quot;1.0&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), \n'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'androidx.navigation:navigation-fragment:2.4.1'\n    implementation 'androidx.navigation:navigation-ui:2.4.1'\n    implementation 'androidx.compose.material3:material3:1.0.0-alpha08'\n    implementation 'com.github.bumptech.glide:glide:4.13.1'\n    implementation 'com.github.smarteist:autoimageslider:1.4.0'\n    implementation 'com.github.smarteist:autoimageslider:1.4.0-appcompat'\n    implementation 'com.github.jitpack:gradle-simple:1.0'\n}\n</code></pre>\n<p>here is my build.gradle(project)</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub- \nprojects/modules.\n\nplugins {\n    id 'com.android.application' version '7.1.2' apply false\n    id 'com.android.library' version '7.1.2' apply false\n}\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>settings:gradle(project) details are as follows</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n} \ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io'}\n    }\n}\nrootProject.name = &quot;My college&quot;\ninclude ':app'\n</code></pre>\n<p>here is the file in which I am trying to use the auto image slider layout/view</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.UI.Home.HomeFragment&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n           &lt;com.smarteist.autoimageslider.SliderLayout&gt; \n           &lt;/com.smarteist.autoimageslider.SliderLayout&gt;\n                 // its showing error called &quot;Class referenced in the layout file, \n                 com.smarteist.autoimageslider.SliderLayout, was not found in the \n                 project or the libraries\n                 Cannot resolve class com.smarteist.autoimageslider.SliderLayout &quot;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>please somebody help me out</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1489952414,"post_id":42886366,"comment_id":72883916,"body_markdown":"The short answer is yes, but you&#39;re going to need to do some work.  The Graphics2D API has a number of classes and functionality which could facilitate this quite easily","body":"The short answer is yes, but you&#39;re going to need to do some work.  The Graphics2D API has a number of classes and functionality which could facilitate this quite easily"},{"owner":{"account_id":6683527,"reputation":1411,"user_id":5155759,"accept_rate":85,"display_name":"navy1978"},"score":0,"creation_date":1489955807,"post_id":42886366,"comment_id":72885118,"body_markdown":"Thank you, but the short answer is too short... :) is there some example you can provide or some internet&#39;s resource from which I can start? Please let me know.","body":"Thank you, but the short answer is too short... :) is there some example you can provide or some internet&#39;s resource from which I can start? Please let me know."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1489956701,"post_id":42886366,"comment_id":72885440,"body_markdown":"Yes, there are thousands of examples and no, I shouldn&#39;t need to be searching for them for you ;)","body":"Yes, there are thousands of examples and no, I shouldn&#39;t need to be searching for them for you ;)"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1489958950,"post_id":42886366,"comment_id":72886206,"body_markdown":"Just a tip, if you&#39;re looking for realistic movement, such as how the movement of a house fly fluctuates in a fluid manner, you may want to look into [perlin noise](https://en.wikipedia.org/wiki/Perlin_noise) rather than use raw RNG","body":"Just a tip, if you&#39;re looking for realistic movement, such as how the movement of a house fly fluctuates in a fluid manner, you may want to look into <a href=\"https://en.wikipedia.org/wiki/Perlin_noise\" rel=\"nofollow noreferrer\">perlin noise</a> rather than use raw RNG"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1489958445,"creation_date":1489958445,"answer_id":42892421,"question_id":42886366,"body_markdown":"Short answer is yes, it can be done.  The long answer is, you&#39;ll never find a single example/solution which meets your exact needs, you will need to dissect them and remove those elements which you need.  This is a mark of a professional developer, believe me, I spend 90% of my time doing things I&#39;ve never done before (or have no initial idea of how to complete).\n\nWhen presented with a problem/idea, you need to take a step back and break it down into manageable components\n\nFrom my perspective you have two basic requirements, animation and transformation.\n\n# Animation\n\nAnimating is simply the illusions of change over time. On the surface, it seems very simple to achieve, in reality, it becomes [very complex, very quickly](https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188)\n\nIn Swing, the simplest solution is to use a [Swing Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), which generates regular updates, triggered within the context of the Event Dispatching Thread, making it safe to update the UI from (Swing, like most UI frameworks, been not thread safe).\n\nBecause of the way this works, it&#39;s not very precise, meaning you could end up with a variable frame rate. You can overcome this by using a [time based animation](https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015) approach,  , where the movement is based on a duration of time, rather then the number of times the timer triggers.\n\nAnother solution is to use a thread, calculate the amount of time each update cycle takes and wait the remaining amount of time you need in order to maintain the FPS.  This is more complicated as you run into threading issues (dirty updates) and it doesn&#39;t take into account the amount of time it might take to actually render the graphics on the UI (when using Swing&#39;s passive rendering engine)\n\n# Transformation\n\nTransforming graphics (moving/rotating) will ultimately come down to &quot;what&quot; you&#39;re transforming.\n\nThe `Graphics2D` API has the capacity to rotate images, [for example](https://stackoverflow.com/questions/15779877/rotate-bufferedimage-inside-jpanel/15780090#15780090), [example](https://stackoverflow.com/questions/14884480/rotate-an-image-in-java-by-the-specified-angle/14885645#14885645), [example](https://stackoverflow.com/questions/14848053/image-not-at-proper-place-after-rotating-graphics/14851183#14851183), [example](https://stackoverflow.com/questions/20275424/rotating-image-with-affinetransform/20280225#20280225), [example](https://stackoverflow.com/questions/37758061/rotate-a-buffered-image-in-java/37758533#37758533), [example](https://stackoverflow.com/questions/30204114/rotating-an-image-object/30204975#30204975).\n\nIt can also rotate the `Graphics` context itself, which can be messy, or rotate &quot;shapes&quot;, which generally easier to manage.\n\nYou should have a look at [Working with Geometry](https://docs.oracle.com/javase/tutorial/2d/geometry/index.html) and [Transforming Shapes, Text and Images](https://docs.oracle.com/javase/tutorial/2d/advanced/transforming.html) and [2D Graphics](https://docs.oracle.com/javase/tutorial/2d/) generally.\n\nYou can also move an object between points and change their orentation, as demonstrated [here](https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015) and [here](https://stackoverflow.com/questions/35979697/java-basic-2d-game-animation-stutter/35979771#35979771) or you can use [path based animation](https://stackoverflow.com/questions/32392095/how-to-rotate-a-rectangle-after-reaching-specified-position/32397121#32397121) so that then object follows a pre-defined path for movement or even something more complex, like a time line based animation, [for example](https://stackoverflow.com/questions/26898536/moving-jlabel-to-other-jlabels-gui/26899099#26899099), [example](https://stackoverflow.com/questions/30433074/jpanel-image-flies-from-the-screen/30433207#30433207), [example](https://stackoverflow.com/questions/28961352/java-image-move-along-points-in-list-and-use-linear-interpolation/29000066#29000066)\n\nSo, the long answer is, it depends","title":"Implement fluctuating effect for sprite in Java Swing","body":"<p>Short answer is yes, it can be done.  The long answer is, you'll never find a single example/solution which meets your exact needs, you will need to dissect them and remove those elements which you need.  This is a mark of a professional developer, believe me, I spend 90% of my time doing things I've never done before (or have no initial idea of how to complete).</p>\n<p>When presented with a problem/idea, you need to take a step back and break it down into manageable components</p>\n<p>From my perspective you have two basic requirements, animation and transformation.</p>\n<h1>Animation</h1>\n<p>Animating is simply the illusions of change over time. On the surface, it seems very simple to achieve, in reality, it becomes <a href=\"https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188\">very complex, very quickly</a></p>\n<p>In Swing, the simplest solution is to use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>, which generates regular updates, triggered within the context of the Event Dispatching Thread, making it safe to update the UI from (Swing, like most UI frameworks, been not thread safe).</p>\n<p>Because of the way this works, it's not very precise, meaning you could end up with a variable frame rate. You can overcome this by using a <a href=\"https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015\">time based animation</a> approach,  , where the movement is based on a duration of time, rather then the number of times the timer triggers.</p>\n<p>Another solution is to use a thread, calculate the amount of time each update cycle takes and wait the remaining amount of time you need in order to maintain the FPS.  This is more complicated as you run into threading issues (dirty updates) and it doesn't take into account the amount of time it might take to actually render the graphics on the UI (when using Swing's passive rendering engine)</p>\n<h1>Transformation</h1>\n<p>Transforming graphics (moving/rotating) will ultimately come down to &quot;what&quot; you're transforming.</p>\n<p>The <code>Graphics2D</code> API has the capacity to rotate images, <a href=\"https://stackoverflow.com/questions/15779877/rotate-bufferedimage-inside-jpanel/15780090#15780090\">for example</a>, <a href=\"https://stackoverflow.com/questions/14884480/rotate-an-image-in-java-by-the-specified-angle/14885645#14885645\">example</a>, <a href=\"https://stackoverflow.com/questions/14848053/image-not-at-proper-place-after-rotating-graphics/14851183#14851183\">example</a>, <a href=\"https://stackoverflow.com/questions/20275424/rotating-image-with-affinetransform/20280225#20280225\">example</a>, <a href=\"https://stackoverflow.com/questions/37758061/rotate-a-buffered-image-in-java/37758533#37758533\">example</a>, <a href=\"https://stackoverflow.com/questions/30204114/rotating-an-image-object/30204975#30204975\">example</a>.</p>\n<p>It can also rotate the <code>Graphics</code> context itself, which can be messy, or rotate &quot;shapes&quot;, which generally easier to manage.</p>\n<p>You should have a look at <a href=\"https://docs.oracle.com/javase/tutorial/2d/geometry/index.html\" rel=\"nofollow noreferrer\">Working with Geometry</a> and <a href=\"https://docs.oracle.com/javase/tutorial/2d/advanced/transforming.html\" rel=\"nofollow noreferrer\">Transforming Shapes, Text and Images</a> and <a href=\"https://docs.oracle.com/javase/tutorial/2d/\" rel=\"nofollow noreferrer\">2D Graphics</a> generally.</p>\n<p>You can also move an object between points and change their orentation, as demonstrated <a href=\"https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015\">here</a> and <a href=\"https://stackoverflow.com/questions/35979697/java-basic-2d-game-animation-stutter/35979771#35979771\">here</a> or you can use <a href=\"https://stackoverflow.com/questions/32392095/how-to-rotate-a-rectangle-after-reaching-specified-position/32397121#32397121\">path based animation</a> so that then object follows a pre-defined path for movement or even something more complex, like a time line based animation, <a href=\"https://stackoverflow.com/questions/26898536/moving-jlabel-to-other-jlabels-gui/26899099#26899099\">for example</a>, <a href=\"https://stackoverflow.com/questions/30433074/jpanel-image-flies-from-the-screen/30433207#30433207\">example</a>, <a href=\"https://stackoverflow.com/questions/28961352/java-image-move-along-points-in-list-and-use-linear-interpolation/29000066#29000066\">example</a></p>\n<p>So, the long answer is, it depends</p>\n"},{"tags":[],"owner":{"account_id":25256740,"reputation":11,"user_id":19088346,"display_name":"Vallekralle"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1664474310,"creation_date":1664474310,"answer_id":73899850,"question_id":42886366,"body_markdown":"You could implement **delta time** in your project. With **delta time** your project will run smoothly, because the image can only move as much as it is allowed to move per second. So your program **is not dependent on the performance of your CPU**. You can read how to calculate delta time here: \r\nhttps://gamedev.stackexchange.com/questions/111741/calculating-delta-time\r\n\r\n**Video**:\r\nhttps://www.youtube.com/watch?v=3lSzfidowTE","title":"Implement fluctuating effect for sprite in Java Swing","body":"<p>You could implement <strong>delta time</strong> in your project. With <strong>delta time</strong> your project will run smoothly, because the image can only move as much as it is allowed to move per second. So your program <strong>is not dependent on the performance of your CPU</strong>. You can read how to calculate delta time here:\n<a href=\"https://gamedev.stackexchange.com/questions/111741/calculating-delta-time\">https://gamedev.stackexchange.com/questions/111741/calculating-delta-time</a></p>\n<p><strong>Video</strong>:\n<a href=\"https://www.youtube.com/watch?v=3lSzfidowTE\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=3lSzfidowTE</a></p>\n"}],"owner":{"account_id":6683527,"reputation":1411,"user_id":5155759,"accept_rate":85,"display_name":"navy1978"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42892421,"answer_count":2,"score":0,"last_activity_date":1664474310,"creation_date":1489925161,"question_id":42886366,"body_markdown":"Is there a way in Java swing to give a sprite the effect like it is live? Like moving randomly it around its center and having a fluctuating effect?\r\n\r\nI tried something like the following (but the result is horrible):\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    \r\n    public class Main extends JFrame {\r\n    \r\n    \tprivate static final int W = 800;\r\n    \tprivate static final int H = 400;\r\n    \tprivate int last = -1;\r\n    \r\n    \tpublic Main() {\r\n    \t\tsuper(&quot;JFrame&quot;);\r\n    \t\tthis.add(new ImagePanel());\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tthis.pack();\r\n    \t\tsetSize(W, H);\r\n    \t\tthis.setLocationRelativeTo(null);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew Main();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tclass ImagePanel extends JPanel {\r\n    \r\n    \t\tTimer movementTimer;\r\n    \t\tint x, y;\r\n    \r\n    \t\tpublic ImagePanel() {\r\n    \t\t\tx = 58;\r\n    \t\t\ty = 58;\r\n    \t\t\tmovementTimer = new Timer(12, new ActionListener() {\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\t\tmoveImage();\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\tmovementTimer.start();\r\n    \t\t}\r\n    \r\n    \t\tpublic void moveImage() {\r\n    \t\t\tif (last &lt; 0) {\r\n    \t\t\t\tlast = random();\r\n    \t\t\t\tx += last;\r\n    \t\t\t\ty += last;\r\n    \t\t\t} else {\r\n    \t\t\t\tx -= last;\r\n    \t\t\t\ty -= last;\r\n    \t\t\t\tlast = -1;\r\n    \t\t\t}\r\n    \t\t\tif (x &gt; W) {\r\n    \t\t\t\tx = 0;\r\n    \t\t\t}\r\n    \t\t\tif (y &gt; H) {\r\n    \t\t\t\ty = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate int random() {\r\n    \t\t\t\r\n    \t\t\tRandom r = new Random();\r\n    \t\t\tint Low = 2;\r\n    \t\t\tint High = 14;\r\n    \t\t\tint Result = r.nextInt(High - Low) + Low;\r\n    \t\t\treturn Result;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\tlong start = System.nanoTime();\r\n    \t\t\tg.setColor(Color.RED);\r\n    \t\t\tg.fillRect(0, 0, W, H);\r\n    \t\t\tg.setColor(Color.BLUE);\r\n    \t\t\tg.fillRect(x, y, 50, 50);\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\nThe result is not smooth at all, do you have any suggestion ?\r\n","title":"Implement fluctuating effect for sprite in Java Swing","body":"<p>Is there a way in Java swing to give a sprite the effect like it is live? Like moving randomly it around its center and having a fluctuating effect?</p>\n\n<p>I tried something like the following (but the result is horrible):</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main extends JFrame {\n\n    private static final int W = 800;\n    private static final int H = 400;\n    private int last = -1;\n\n    public Main() {\n        super(\"JFrame\");\n        this.add(new ImagePanel());\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.pack();\n        setSize(W, H);\n        this.setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new Main();\n            }\n        });\n    }\n\n    class ImagePanel extends JPanel {\n\n        Timer movementTimer;\n        int x, y;\n\n        public ImagePanel() {\n            x = 58;\n            y = 58;\n            movementTimer = new Timer(12, new ActionListener() {\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    moveImage();\n                    repaint();\n                }\n            });\n            movementTimer.start();\n        }\n\n        public void moveImage() {\n            if (last &lt; 0) {\n                last = random();\n                x += last;\n                y += last;\n            } else {\n                x -= last;\n                y -= last;\n                last = -1;\n            }\n            if (x &gt; W) {\n                x = 0;\n            }\n            if (y &gt; H) {\n                y = 0;\n            }\n        }\n\n        private int random() {\n\n            Random r = new Random();\n            int Low = 2;\n            int High = 14;\n            int Result = r.nextInt(High - Low) + Low;\n            return Result;\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            long start = System.nanoTime();\n            g.setColor(Color.RED);\n            g.fillRect(0, 0, W, H);\n            g.setColor(Color.BLUE);\n            g.fillRect(x, y, 50, 50);\n\n        }\n    }\n}\n</code></pre>\n\n<p>The result is not smooth at all, do you have any suggestion ?</p>\n"},{"tags":["java","sap-commerce-cloud","hybris-data-hub"],"comments":[{"owner":{"account_id":4424306,"reputation":186,"user_id":3603194,"display_name":"Adiputera"},"score":0,"creation_date":1664263172,"post_id":73852454,"comment_id":130424948,"body_markdown":"requires-extension is for extensioninfo.xml, not localextension.xml, can you give link to the guide that you follow, and please describe what error you get","body":"requires-extension is for extensioninfo.xml, not localextension.xml, can you give link to the guide that you follow, and please describe what error you get"},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1664438053,"post_id":73852454,"comment_id":130472894,"body_markdown":"@Adiputera Hi, thanks for response I give you the link of SAP help portal guide : https://help.sap.com/docs/SAP_COMMERCE/4c33bf189ab9409e84e589295c36d96e/cee062b7dd6d4a01882f05cabab13c60.html","body":"@Adiputera Hi, thanks for response I give you the link of SAP help portal guide : <a href=\"https://help.sap.com/docs/SAP_COMMERCE/4c33bf189ab9409e84e589295c36d96e/cee062b7dd6d4a01882f05cabab13c60.html\" rel=\"nofollow noreferrer\">help.sap.com/docs/SAP_COMMERCE/4c33bf189ab9409e84e589295c36d&zwnj;&#8203;96e/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3644469,"reputation":784,"user_id":3037847,"display_name":"Ricardo Machado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664439736,"creation_date":1664439736,"answer_id":73892440,"question_id":73852454,"body_markdown":"Try adding it like this:\r\n\r\n        &lt;path dir=&quot;${HYBRIS_BIN_DIR}&quot; /&gt;\r\n\r\n                &lt;extension dir=&quot;${HYBRIS_BIN_DIR}/modules/core-accelerator/acceleratorservices&quot; /&gt;\r\n\r\n","title":"Hybris extension and AddOn","body":"<p>Try adding it like this:</p>\n<pre><code>    &lt;path dir=&quot;${HYBRIS_BIN_DIR}&quot; /&gt;\n\n            &lt;extension dir=&quot;${HYBRIS_BIN_DIR}/modules/core-accelerator/acceleratorservices&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664473671,"creation_date":1664473671,"answer_id":73899741,"question_id":73852454,"body_markdown":"Try to go through recipes which is having existing integration with alipay.\r\n\r\nRecipe Name :b2c_china.\r\n\r\nRecipe Gradle which is having a clear injection of alipay-related extensions and add-ons.\r\n\r\nEntires of extensions and Add-ons are below.\r\n\r\n    afterSetup {\r\n        ensureAdminPasswordSet()\r\n    }    \r\n\r\n    extensions {\r\n\r\n        extensionNames &#39;adaptivesearchsolr&#39;,\r\n         &#39;adaptivesearchbackoffice&#39;,\r\n         &#39;adaptivesearchsamplesaddon&#39;,\r\n         &#39;adaptivesearchwebservices&#39;,\r\n         &#39;commerceservicesbackoffice&#39;,\r\n         &#39;solrfacetsearchbackoffice&#39;,\r\n         &#39;solrserver&#39;,\r\n         &#39;yacceleratorbackoffice&#39;,\r\n         &#39;yacceleratorinitialdata&#39;,\r\n         &#39;yacceleratorfulfilmentprocess&#39;,\r\n         &#39;yacceleratorstorefront&#39;,\r\n         &#39;ycommercewebservices&#39;,\r\n         &#39;ycommercewebservicestest&#39;,\r\n\r\n         &#39;electronicsstore&#39;,\r\n\r\n         &#39;acceleratorwebservicesaddon&#39;,\r\n         &#39;orderselfserviceaddon&#39;,\r\n\r\n         &#39;customersupportbackoffice&#39;,\r\n         &#39;customerticketingaddon&#39;,\r\n         &#39;commerceorgsamplesaddon&#39;,\r\n\r\n         &#39;rulebuilderbackoffice&#39;,\r\n         &#39;couponbackoffice&#39;,\r\n         &#39;droolsruleengineservices&#39;,\r\n         &#39;couponfacades&#39;,\r\n         &#39;couponservices&#39;,\r\n         &#39;promotionenginesamplesaddon&#39;,\r\n\r\n         &#39;cmswebservices&#39;,\r\n         &#39;smarteditwebservices&#39;,\r\n         &#39;cmssmarteditwebservices&#39;,\r\n         &#39;permissionswebservices&#39;,\r\n         &#39;smarteditaddon&#39;,\r\n         &#39;cmssmartedit&#39;,\r\n         &#39;cmsbackoffice&#39;,\r\n         &#39;cmsoccaddon&#39;,\r\n\r\n         &#39;previewpersonalizationweb&#39;,\r\n         &#39;personalizationcmsweb&#39;,\r\n         &#39;personalizationsmartedit&#39;,\r\n         &#39;personalizationpromotionssmartedit&#39;,\r\n         &#39;personalizationsampledataaddon&#39;,\r\n         &#39;personalizationpromotionssampledataaddon&#39;,\r\n         &#39;personalizationpromotions&#39;,\r\n         &#39;personalizationpromotionsweb&#39;,\r\n         &#39;personalizationservicesbackoffice&#39;,\r\n         &#39;personalizationpromotionsbackoffice&#39;,\r\n         &#39;personalizationcmsbackoffice&#39;,\r\n         &#39;personalizationsearchbackoffice&#39;,\r\n         &#39;personalizationsearchsmartedit&#39;,\r\n         &#39;personalizationsearchweb&#39;,\r\n         &#39;personalizationsearchsamplesaddon&#39;,\r\n\r\n         &#39;textfieldconfiguratortemplatebackoffice&#39;,\r\n         &#39;textfieldconfiguratortemplateaddon&#39;,\r\n         &#39;assistedservicestorefront&#39;,\r\n         &#39;assistedservicewebservices&#39;,\r\n         &#39;assistedservicepromotionaddon&#39;,\r\n\r\n         &#39;pcmbackofficesamplesaddon&#39;,\r\n\r\n         &#39;chineseprofileaddon&#39;,\r\n         &#39;chineseprofileoccaddon&#39;,\r\n         &#39;chineselogisticaddon&#39;,\r\n         &#39;chineselogisticbackoffice&#39;,\r\n         &#39;chineselogisticoccaddon&#39;,\r\n\r\n         &#39;chinesepaymentaddon&#39;,\r\n         &#39;chinesepaymentoccaddon&#39;,\r\n         &#39;chinesepaymentmock&#39;,\r\n         &#39;chinesetaxinvoiceaddon&#39;,\r\n         &#39;chinesetaxinvoiceoccaddon&#39;,\r\n         &#39;chinesetaxinvoicebackoffice&#39;,\r\n         &#39;chinesepspalipaysamplesaddon&#39;,\r\n         &#39;chinesepspalipaysbackoffice&#39;,\r\n         &#39;chinesestoreaddon&#39;,\r\n         &#39;verticalnavigationaddon&#39;,\r\n\r\n         &#39;chineseaddressaddon&#39;,\r\n         &#39;chineseaddressoccaddon&#39;,\r\n         &#39;chineseaddressbackoffice&#39;,\r\n\r\n         &#39;chinesepspwechatpaymentaddon&#39;,\r\n         &#39;chinesepspwechatpaysamplesaddon&#39;,\r\n         &#39;chinesepspwechatpaysbackoffice&#39;,\r\n\r\n         &#39;consignmenttrackingaddon&#39;,\r\n         &#39;consignmenttrackingmock&#39;,\r\n         &#39;consignmenttrackingbackoffice&#39;,\r\n\r\n         &#39;notificationaddon&#39;,\r\n         &#39;customerinterestsaddon&#39;,\r\n         &#39;stocknotificationaddon&#39;,\r\n         &#39;chineseproductsharingaddon&#39;,\r\n\r\n         &#39;selectivecartaddon&#39;,\r\n\r\n         &#39;customercouponaddon&#39;,\r\n         &#39;customercouponsamplesaddon&#39;,\r\n         &#39;customercouponbackoffice&#39;,\r\n\r\n         &#39;timedaccesspromotionengineaddon&#39;,\r\n         &#39;timedaccesspromotionenginesamplesaddon&#39;,\r\n         &#39;timedaccesspromotionenginebackoffice&#39;,\r\n         &#39;timedaccesspromotionengineoccaddon&#39;,\r\n         &#39;messagecentercsoccaddon&#39;,\r\n         &#39;consignmenttrackingoccaddon&#39;,\r\n         &#39;customerinterestsoccaddon&#39;,\r\n         &#39;customercouponoccaddon&#39;,\r\n         &#39;notificationoccaddon&#39;,\r\n\r\n         &#39;outboundservices&#39;,\r\n         &#39;odata2webservices&#39;,\r\n         &#39;odata2webservicesfeaturetests&#39;,\r\n\r\n         &#39;kymaintegrationbackoffice&#39;\r\n    }\r\n\r\n    addons {\r\n\r\n        forStoreFronts(&#39;yacceleratorstorefront&#39;){\r\n            names &#39;chineseprofileaddon,chineselogisticaddon,chinesepaymentaddon,chinesetaxinvoiceaddon,chinesepspalipaysamplesaddon,chinesestoreaddon,verticalnavigationaddon,chineseaddressaddon,chinesepspwechatpaymentaddon,chinesepspwechatpaysamplesaddon,consignmenttrackingaddon,notificationaddon,customerinterestsaddon,stocknotificationaddon,chineseproductsharingaddon,selectivecartaddon,customercouponaddon,customercouponsamplesaddon,commerceorgsamplesaddon,promotionenginesamplesaddon,smarteditaddon,textfieldconfiguratortemplateaddon,assistedservicestorefront,assistedservicepromotionaddon,customerticketingaddon,orderselfserviceaddon,adaptivesearchsamplesaddon,timedaccesspromotionengineaddon,timedaccesspromotionenginesamplesaddon,personalizationsearchsamplesaddon,pcmbackofficesamplesaddon&#39;\r\n            template &#39;yacceleratorstorefront&#39;\r\n        }\r\n\r\n        forStoreFronts(&#39;ycommercewebservices&#39;){\r\n            names &#39;acceleratorwebservicesaddon,messagecentercsoccaddon,consignmenttrackingoccaddon,customerinterestsoccaddon,customercouponoccaddon,notificationoccaddon,cmsoccaddon,chineseaddressoccaddon,chinesetaxinvoiceoccaddon,timedaccesspromotionengineoccaddon,chineselogisticoccaddon,chineseprofileoccaddon,chinesepaymentoccaddon&#39;\r\n            template &#39;ycommercewebservices&#39;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n","title":"Hybris extension and AddOn","body":"<p>Try to go through recipes which is having existing integration with alipay.</p>\n<p>Recipe Name :b2c_china.</p>\n<p>Recipe Gradle which is having a clear injection of alipay-related extensions and add-ons.</p>\n<p>Entires of extensions and Add-ons are below.</p>\n<pre><code>afterSetup {\n    ensureAdminPasswordSet()\n}    \n\nextensions {\n\n    extensionNames 'adaptivesearchsolr',\n     'adaptivesearchbackoffice',\n     'adaptivesearchsamplesaddon',\n     'adaptivesearchwebservices',\n     'commerceservicesbackoffice',\n     'solrfacetsearchbackoffice',\n     'solrserver',\n     'yacceleratorbackoffice',\n     'yacceleratorinitialdata',\n     'yacceleratorfulfilmentprocess',\n     'yacceleratorstorefront',\n     'ycommercewebservices',\n     'ycommercewebservicestest',\n\n     'electronicsstore',\n\n     'acceleratorwebservicesaddon',\n     'orderselfserviceaddon',\n\n     'customersupportbackoffice',\n     'customerticketingaddon',\n     'commerceorgsamplesaddon',\n\n     'rulebuilderbackoffice',\n     'couponbackoffice',\n     'droolsruleengineservices',\n     'couponfacades',\n     'couponservices',\n     'promotionenginesamplesaddon',\n\n     'cmswebservices',\n     'smarteditwebservices',\n     'cmssmarteditwebservices',\n     'permissionswebservices',\n     'smarteditaddon',\n     'cmssmartedit',\n     'cmsbackoffice',\n     'cmsoccaddon',\n\n     'previewpersonalizationweb',\n     'personalizationcmsweb',\n     'personalizationsmartedit',\n     'personalizationpromotionssmartedit',\n     'personalizationsampledataaddon',\n     'personalizationpromotionssampledataaddon',\n     'personalizationpromotions',\n     'personalizationpromotionsweb',\n     'personalizationservicesbackoffice',\n     'personalizationpromotionsbackoffice',\n     'personalizationcmsbackoffice',\n     'personalizationsearchbackoffice',\n     'personalizationsearchsmartedit',\n     'personalizationsearchweb',\n     'personalizationsearchsamplesaddon',\n\n     'textfieldconfiguratortemplatebackoffice',\n     'textfieldconfiguratortemplateaddon',\n     'assistedservicestorefront',\n     'assistedservicewebservices',\n     'assistedservicepromotionaddon',\n\n     'pcmbackofficesamplesaddon',\n\n     'chineseprofileaddon',\n     'chineseprofileoccaddon',\n     'chineselogisticaddon',\n     'chineselogisticbackoffice',\n     'chineselogisticoccaddon',\n\n     'chinesepaymentaddon',\n     'chinesepaymentoccaddon',\n     'chinesepaymentmock',\n     'chinesetaxinvoiceaddon',\n     'chinesetaxinvoiceoccaddon',\n     'chinesetaxinvoicebackoffice',\n     'chinesepspalipaysamplesaddon',\n     'chinesepspalipaysbackoffice',\n     'chinesestoreaddon',\n     'verticalnavigationaddon',\n\n     'chineseaddressaddon',\n     'chineseaddressoccaddon',\n     'chineseaddressbackoffice',\n\n     'chinesepspwechatpaymentaddon',\n     'chinesepspwechatpaysamplesaddon',\n     'chinesepspwechatpaysbackoffice',\n\n     'consignmenttrackingaddon',\n     'consignmenttrackingmock',\n     'consignmenttrackingbackoffice',\n\n     'notificationaddon',\n     'customerinterestsaddon',\n     'stocknotificationaddon',\n     'chineseproductsharingaddon',\n\n     'selectivecartaddon',\n\n     'customercouponaddon',\n     'customercouponsamplesaddon',\n     'customercouponbackoffice',\n\n     'timedaccesspromotionengineaddon',\n     'timedaccesspromotionenginesamplesaddon',\n     'timedaccesspromotionenginebackoffice',\n     'timedaccesspromotionengineoccaddon',\n     'messagecentercsoccaddon',\n     'consignmenttrackingoccaddon',\n     'customerinterestsoccaddon',\n     'customercouponoccaddon',\n     'notificationoccaddon',\n\n     'outboundservices',\n     'odata2webservices',\n     'odata2webservicesfeaturetests',\n\n     'kymaintegrationbackoffice'\n}\n\naddons {\n\n    forStoreFronts('yacceleratorstorefront'){\n        names 'chineseprofileaddon,chineselogisticaddon,chinesepaymentaddon,chinesetaxinvoiceaddon,chinesepspalipaysamplesaddon,chinesestoreaddon,verticalnavigationaddon,chineseaddressaddon,chinesepspwechatpaymentaddon,chinesepspwechatpaysamplesaddon,consignmenttrackingaddon,notificationaddon,customerinterestsaddon,stocknotificationaddon,chineseproductsharingaddon,selectivecartaddon,customercouponaddon,customercouponsamplesaddon,commerceorgsamplesaddon,promotionenginesamplesaddon,smarteditaddon,textfieldconfiguratortemplateaddon,assistedservicestorefront,assistedservicepromotionaddon,customerticketingaddon,orderselfserviceaddon,adaptivesearchsamplesaddon,timedaccesspromotionengineaddon,timedaccesspromotionenginesamplesaddon,personalizationsearchsamplesaddon,pcmbackofficesamplesaddon'\n        template 'yacceleratorstorefront'\n    }\n\n    forStoreFronts('ycommercewebservices'){\n        names 'acceleratorwebservicesaddon,messagecentercsoccaddon,consignmenttrackingoccaddon,customerinterestsoccaddon,customercouponoccaddon,notificationoccaddon,cmsoccaddon,chineseaddressoccaddon,chinesetaxinvoiceoccaddon,timedaccesspromotionengineoccaddon,chineselogisticoccaddon,chineseprofileoccaddon,chinesepaymentoccaddon'\n        template 'ycommercewebservices'\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73892440,"answer_count":2,"score":0,"last_activity_date":1664473671,"creation_date":1664186244,"question_id":73852454,"body_markdown":"I have to install a chinesealipayaddon (already present as deprecated) ,for implements alipay method of payment, in a sub folder of the modules folder in the hybris/bin path. I am following the procedure indicated in the SAP portal but when I am asked to put the following tags in the localestension.xml:\r\n\r\n    &lt;requires-extension name=&quot;chinesepaymentservices&quot;/&gt;\r\n    &lt;requires-extension name=&quot;payment&quot;/&gt;\r\n    &lt;requires-extension name=&quot;acceleratorservices&quot;/&gt;\r\n\r\n\r\n\r\nThese tags are red and therefore cannot be put there, same thing if I put them in the extensioninfo.xml. Can any of you tell me the correct procedure?","title":"Hybris extension and AddOn","body":"<p>I have to install a chinesealipayaddon (already present as deprecated) ,for implements alipay method of payment, in a sub folder of the modules folder in the hybris/bin path. I am following the procedure indicated in the SAP portal but when I am asked to put the following tags in the localestension.xml:</p>\n<pre><code>&lt;requires-extension name=&quot;chinesepaymentservices&quot;/&gt;\n&lt;requires-extension name=&quot;payment&quot;/&gt;\n&lt;requires-extension name=&quot;acceleratorservices&quot;/&gt;\n</code></pre>\n<p>These tags are red and therefore cannot be put there, same thing if I put them in the extensioninfo.xml. Can any of you tell me the correct procedure?</p>\n"},{"tags":["java","maven","jar","dependencies","mvn-repo"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1664473923,"post_id":73899723,"comment_id":130486204,"body_markdown":"The artifact has (really) no dependencies! ..but you do not consider the &quot;dependency-plugin&quot;, you use.","body":"The artifact has (really) no dependencies! ..but you do not consider the &quot;dependency-plugin&quot;, you use."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1664474090,"post_id":73899723,"comment_id":130486258,"body_markdown":"..and this plugin&#39;s dependencies Look very like your listing (+some trans): https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin/3.3.0","body":"..and this plugin&#39;s dependencies Look very like your listing (+some trans): <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin/3.3.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.maven.plugins/&hellip;</a>"},{"owner":{"account_id":2090333,"reputation":907,"user_id":1860314,"display_name":"JoyfulPanda"},"score":0,"creation_date":1664484705,"post_id":73899723,"comment_id":130489187,"body_markdown":"@xerx593 How can we exclude or filter out those (unrelated) &quot;dependency-plugin&quot; dependencies? The `AWS SDK For Java Bundle &#187; 1.11.901` is just an example. Some other libraries have a few dependencies, and its dependencies could have a few others. I would like to download the target library as well as their dependencies plus dependencies of dependencies... In theory, I could run the target library (if runnable) without Internet access.","body":"@xerx593 How can we exclude or filter out those (unrelated) &quot;dependency-plugin&quot; dependencies? The <code>AWS SDK For Java Bundle &#187; 1.11.901</code> is just an example. Some other libraries have a few dependencies, and its dependencies could have a few others. I would like to download the target library as well as their dependencies plus dependencies of dependencies... In theory, I could run the target library (if runnable) without Internet access."}],"owner":{"account_id":2090333,"reputation":907,"user_id":1860314,"display_name":"JoyfulPanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664473582,"creation_date":1664473582,"question_id":73899723,"body_markdown":"This artifiact [AWS SDK For Java Bundle &#187; 1.11.901](https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-bundle/1.11.901) says there is no &quot;Compile Dependencies&quot; (or &quot;Provided Dependencies&quot;/&quot;Runtime Dependencies&quot;).\r\n\r\nBut when executing this command:\r\n\r\n```\r\n./mvn dependency:get -Dartifact=com.amazonaws:aws-java-sdk-bundle:1.11.901 -Dtransitive=false\r\n```\r\n\r\nI ended up with a `.m2` folder (originally empty) full of dependencies:\r\n\r\n```\r\n$ls\r\nasm                       commons-cli          commons-logging    oro\r\nbackport-util-concurrent  commons-collections  commons-validator  xml-apis\r\nclassworlds               commons-digester     junit\r\ncom                       commons-io           log4j\r\ncommons-beanutils         commons-lang         org\r\n\r\n```\r\n\r\nIt is supposed that only `aws-java-sdk-bundle-1.11.901.jar` should be downloaded.\r\n\r\nDid I misunderstand something? I&#39;m not familiar with Java language...\r\n\r\nWith or without flag `-Dtransitive=false` doesn&#39;t make any difference.","title":"Why mvn downloads a lot of dependencies, given an artifact, but the mvnrepository.com says there is no dependency?","body":"<p>This artifiact <a href=\"https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-bundle/1.11.901\" rel=\"nofollow noreferrer\">AWS SDK For Java Bundle » 1.11.901</a> says there is no &quot;Compile Dependencies&quot; (or &quot;Provided Dependencies&quot;/&quot;Runtime Dependencies&quot;).</p>\n<p>But when executing this command:</p>\n<pre><code>./mvn dependency:get -Dartifact=com.amazonaws:aws-java-sdk-bundle:1.11.901 -Dtransitive=false\n</code></pre>\n<p>I ended up with a <code>.m2</code> folder (originally empty) full of dependencies:</p>\n<pre><code>$ls\nasm                       commons-cli          commons-logging    oro\nbackport-util-concurrent  commons-collections  commons-validator  xml-apis\nclassworlds               commons-digester     junit\ncom                       commons-io           log4j\ncommons-beanutils         commons-lang         org\n\n</code></pre>\n<p>It is supposed that only <code>aws-java-sdk-bundle-1.11.901.jar</code> should be downloaded.</p>\n<p>Did I misunderstand something? I'm not familiar with Java language...</p>\n<p>With or without flag <code>-Dtransitive=false</code> doesn't make any difference.</p>\n"},{"tags":["java","sqlite","sql-insert","auto-increment"],"answers":[{"tags":[],"owner":{"account_id":303765,"reputation":1401,"user_id":612901,"accept_rate":80,"display_name":"seth"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1322093492,"creation_date":1322093492,"answer_id":8250831,"question_id":8250814,"body_markdown":"Have you tried indicating to which fields of the table the parameters you are passing are supposed to be related?\r\n\r\n    INSERT INTO table_name (column1, column2, column3,...)\r\n    VALUES (value1, value2, value3,...)\r\n\r\nIn your case maybe something like:\r\n\r\n    INSERT INTO participants(col1, col2) VALUES (&quot;bla&quot;,&quot;blub&quot;);\r\n\r\n","title":"ROWID INTEGER PRIMARY KEY AUTOINCREMENT - How to insert values?","body":"<p>Have you tried indicating to which fields of the table the parameters you are passing are supposed to be related?</p>\n\n<pre><code>INSERT INTO table_name (column1, column2, column3,...)\nVALUES (value1, value2, value3,...)\n</code></pre>\n\n<p>In your case maybe something like:</p>\n\n<pre><code>INSERT INTO participants(col1, col2) VALUES (\"bla\",\"blub\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":400349,"reputation":3751,"user_id":1206800,"accept_rate":69,"display_name":"Anthea"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1322141449,"creation_date":1322141449,"answer_id":8257871,"question_id":8250814,"body_markdown":"found a working solution [here][1]: \r\n\r\n    PreparedStatement prep = conn.prepareStatement(&quot;insert into participants values ($next_id,?,?);&quot;);\r\n    prep.setString(2, &quot;bla&quot;);\r\n    prep.setString(3, &quot;blub&quot;);\r\n\r\n  [1]: https://stackoverflow.com/questions/631060/can-i-make-a-field-autoincrement-after-made-a-table","title":"ROWID INTEGER PRIMARY KEY AUTOINCREMENT - How to insert values?","body":"<p>found a working solution <a href=\"https://stackoverflow.com/questions/631060/can-i-make-a-field-autoincrement-after-made-a-table\">here</a>: </p>\n\n<pre><code>PreparedStatement prep = conn.prepareStatement(\"insert into participants values ($next_id,?,?);\");\nprep.setString(2, \"bla\");\nprep.setString(3, \"blub\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26894,"reputation":100239,"user_id":70386,"accept_rate":84,"display_name":"jgauffin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1440770605,"creation_date":1440770605,"answer_id":32272921,"question_id":8250814,"body_markdown":"The reason to your error is that SQL Inserts expect you to provide the same number of values as there are columns in the table when a column specifier is not used.\r\n\r\ni.e. when you write a SQL query like this:\r\n\r\n    INSERT INTO TableName VALUES(a1,a2, ...)\r\n\r\n.. the values have to be in the exact same order as in the table definition (and also the same amount). The reason for this is to avoid ambiguity and reduce the numbers of errors. \r\n\r\nIn your case you have an auto increment column which you don&#39;t want to specify a value for. That is of course possible, but following the rules above you need to specify column names:\r\n\r\n    INSERT INTO TableName (columnName1, columnName2) VALUES(Value1, Value2);\r\n\r\n","title":"ROWID INTEGER PRIMARY KEY AUTOINCREMENT - How to insert values?","body":"<p>The reason to your error is that SQL Inserts expect you to provide the same number of values as there are columns in the table when a column specifier is not used.</p>\n\n<p>i.e. when you write a SQL query like this:</p>\n\n<pre><code>INSERT INTO TableName VALUES(a1,a2, ...)\n</code></pre>\n\n<p>.. the values have to be in the exact same order as in the table definition (and also the same amount). The reason for this is to avoid ambiguity and reduce the numbers of errors. </p>\n\n<p>In your case you have an auto increment column which you don't want to specify a value for. That is of course possible, but following the rules above you need to specify column names:</p>\n\n<pre><code>INSERT INTO TableName (columnName1, columnName2) VALUES(Value1, Value2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4979825,"reputation":1590,"user_id":4005147,"accept_rate":100,"display_name":"Padhu"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1443532700,"creation_date":1443090026,"answer_id":32758876,"question_id":8250814,"body_markdown":"Easiest way without using column names will be [using null][1] in the place of [autoincreament][2] is like this\r\n\r\n    insert into table values (null, col1, col2)\r\n\r\nif you have already set the first column as autoincrement, it will work fine.\r\n\r\n\r\n  [1]: https://www.sqlite.org/faq.html\r\n  [2]: https://www.sqlite.org/autoinc.html","title":"ROWID INTEGER PRIMARY KEY AUTOINCREMENT - How to insert values?","body":"<p>Easiest way without using column names will be <a href=\"https://www.sqlite.org/faq.html\" rel=\"noreferrer\">using null</a> in the place of <a href=\"https://www.sqlite.org/autoinc.html\" rel=\"noreferrer\">autoincreament</a> is like this</p>\n\n<pre><code>insert into table values (null, col1, col2)\n</code></pre>\n\n<p>if you have already set the first column as autoincrement, it will work fine.</p>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25936,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664470179,"creation_date":1664467867,"answer_id":73898651,"question_id":8250814,"body_markdown":"For example, you create **&quot;person&quot; table** with **&quot;id&quot;** with **AUTOINCREMENT** and **&quot;name&quot;** as shown below:\r\n\r\n```sql\r\nCREATE TABLE person (    -- Here\r\n  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\r\n  name TEXT\r\n);\r\n```\r\n\r\nThen, set **NULL** to **&quot;id&quot;** of **AUTOINCREMENT** as shown below. *You can set **NULL** to **&quot;id&quot;** which has **NOT NULL** because **&quot;id&quot;** has **[INTEGER PRIMARY KEY][1]**: \r\n\r\n```sql\r\nINSERT INTO person VALUES (NULL, &quot;John&quot;), (NULL, &quot;Tom&quot;);\r\n```\r\n\r\nNow, you can insert rows as shown below:\r\n\r\n```lang-none\r\nsqlite&gt; SELECT * FROM person;\r\n┌────┬──────┐\r\n│ id │ name │\r\n├────┼──────┤\r\n│ 1  │ John │\r\n│ 2  │ Tom  │\r\n└────┴──────┘\r\n```\r\n\r\n\r\n  [1]: https://www.sqlite.org/faq.html#q1","title":"ROWID INTEGER PRIMARY KEY AUTOINCREMENT - How to insert values?","body":"<p>For example, you create <strong>&quot;person&quot; table</strong> with <strong>&quot;id&quot;</strong> with <strong>AUTOINCREMENT</strong> and <strong>&quot;name&quot;</strong> as shown below:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE person (    -- Here\n  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n  name TEXT\n);\n</code></pre>\n<p>Then, set <strong>NULL</strong> to <strong>&quot;id&quot;</strong> of <strong>AUTOINCREMENT</strong> as shown below. *You can set <strong>NULL</strong> to <strong>&quot;id&quot;</strong> which has <strong>NOT NULL</strong> because <strong>&quot;id&quot;</strong> has <strong><a href=\"https://www.sqlite.org/faq.html#q1\" rel=\"nofollow noreferrer\">INTEGER PRIMARY KEY</a></strong>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO person VALUES (NULL, &quot;John&quot;), (NULL, &quot;Tom&quot;);\n</code></pre>\n<p>Now, you can insert rows as shown below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sqlite&gt; SELECT * FROM person;\n┌────┬──────┐\n│ id │ name │\n├────┼──────┤\n│ 1  │ John │\n│ 2  │ Tom  │\n└────┴──────┘\n</code></pre>\n"}],"owner":{"account_id":400349,"reputation":3751,"user_id":1206800,"accept_rate":69,"display_name":"Anthea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57198,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":8250831,"answer_count":5,"score":60,"last_activity_date":1664473084,"creation_date":1322093325,"question_id":8250814,"body_markdown":"I created an SQLite table in Java:\r\n\r\n    create table participants (ROWID INTEGER PRIMARY KEY AUTOINCREMENT, col1,col2);\r\n\r\nI tried to add rows :\r\n\r\n    insert into participants values (&quot;bla&quot;,&quot;blub&quot;);\r\n\r\nError:\r\n\r\n&gt; java.sql.SQLException: table participants has 3 columns but 2 values\r\n&gt; were supplied\r\n\r\nI thought `ROWID` would be generated automatically. I tried another solution: \r\n\r\n    PreparedStatement prep = conn.prepareStatement(&quot;insert into participants values (?,?,?);&quot;);\r\n    Integer n = null;\r\n    prep.setInt(1,n);\r\n    prep.setString(2, &quot;bla&quot;);\r\n    prep.setString(3, &quot;blub&quot;);\r\n    prep.addBatch();\r\n    prep.executeBatch();\r\n\r\nI received a null pointer exception at `prep.setInt(1,n);`. Do you see the fault?","title":"ROWID INTEGER PRIMARY KEY AUTOINCREMENT - How to insert values?","body":"<p>I created an SQLite table in Java:</p>\n<pre><code>create table participants (ROWID INTEGER PRIMARY KEY AUTOINCREMENT, col1,col2);\n</code></pre>\n<p>I tried to add rows :</p>\n<pre><code>insert into participants values (&quot;bla&quot;,&quot;blub&quot;);\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>java.sql.SQLException: table participants has 3 columns but 2 values\nwere supplied</p>\n</blockquote>\n<p>I thought <code>ROWID</code> would be generated automatically. I tried another solution:</p>\n<pre><code>PreparedStatement prep = conn.prepareStatement(&quot;insert into participants values (?,?,?);&quot;);\nInteger n = null;\nprep.setInt(1,n);\nprep.setString(2, &quot;bla&quot;);\nprep.setString(3, &quot;blub&quot;);\nprep.addBatch();\nprep.executeBatch();\n</code></pre>\n<p>I received a null pointer exception at <code>prep.setInt(1,n);</code>. Do you see the fault?</p>\n"},{"tags":["java","testing","spring-webflux"],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664473032,"creation_date":1664473032,"question_id":73899628,"body_markdown":"I have a test that can sometimes fail due to a race condition.  I was wondering how do I put a retry on the function chain\r\n\r\n```\r\n    final var whoAmIBody =\r\n        WebTestClient.bindToServer()\r\n            .baseUrl(gatewayUrl)\r\n            .build()\r\n            .get()\r\n            .uri(&quot;/whoami&quot;)\r\n            .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\r\n            .header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + responseBody.getAccessToken())\r\n            .exchange()\r\n            .expectStatus()\r\n            .isEqualTo(HttpStatus.OK)\r\n            .expectBody(String.class)\r\n            .returnResult()\r\n            .getResponseBody();\r\n    assertThat(whoAmIBody).isNotNull();\r\n```\r\n\r\nI think I can probably wrap it in a retry loop but I was wondering if there&#39;s a way of doing it on the WebTestClient itself.\r\n\r\nThis Q is for WebTestClient not WebClient: https://stackoverflow.com/questions/55923326/conditional-repeat-or-retry-on-mono-with-webclient-from-spring-webflux ","title":"How do you add `retry` on WebTestClient?","body":"<p>I have a test that can sometimes fail due to a race condition.  I was wondering how do I put a retry on the function chain</p>\n<pre><code>    final var whoAmIBody =\n        WebTestClient.bindToServer()\n            .baseUrl(gatewayUrl)\n            .build()\n            .get()\n            .uri(&quot;/whoami&quot;)\n            .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n            .header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + responseBody.getAccessToken())\n            .exchange()\n            .expectStatus()\n            .isEqualTo(HttpStatus.OK)\n            .expectBody(String.class)\n            .returnResult()\n            .getResponseBody();\n    assertThat(whoAmIBody).isNotNull();\n</code></pre>\n<p>I think I can probably wrap it in a retry loop but I was wondering if there's a way of doing it on the WebTestClient itself.</p>\n<p>This Q is for WebTestClient not WebClient: <a href=\"https://stackoverflow.com/questions/55923326/conditional-repeat-or-retry-on-mono-with-webclient-from-spring-webflux\">Conditional repeat or retry on Mono with webclient from Spring WebFlux</a></p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":1,"creation_date":1664467662,"post_id":73898561,"comment_id":130484093,"body_markdown":"Did you try, mvn clean install -U","body":"Did you try, mvn clean install -U"},{"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"score":0,"creation_date":1664469368,"post_id":73898561,"comment_id":130484695,"body_markdown":"You gave mirrorOf as `&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;` so maven looking for dependency in your repository `https://maven.aliyun.com/repository/public`","body":"You gave mirrorOf as <code>&lt;mirrorOf&gt;central&lt;&#47;mirrorOf&gt;</code> so maven looking for dependency in your repository <code>https:&#47;&#47;maven.aliyun.com&#47;repository&#47;public</code>"},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1664469580,"post_id":73898561,"comment_id":130484759,"body_markdown":"Which versions of spring-boot-dependencies provides your Nexus? Probably version 2.5.10 is blocked because of the multiple Vulnerabilities from dependencies:\nCVE-2022-38752\nCVE-2022-38751\nCVE-2022-38750\nView 18 more ...","body":"Which versions of spring-boot-dependencies provides your Nexus? Probably version 2.5.10 is blocked because of the multiple Vulnerabilities from dependencies: CVE-2022-38752 CVE-2022-38751 CVE-2022-38750 View 18 more ..."},{"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"score":0,"creation_date":1664470843,"post_id":73898561,"comment_id":130485212,"body_markdown":"I did not find this version in the aliyun repository, but I found it in the official maven repository. In addition, my classmates also use this version, no accident @MichaelKatt","body":"I did not find this version in the aliyun repository, but I found it in the official maven repository. In addition, my classmates also use this version, no accident @MichaelKatt"},{"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"score":0,"creation_date":1664471041,"post_id":73898561,"comment_id":130485277,"body_markdown":"I see it also looking for in the `http://maven.aliyun.com/nexus/content/groups/public/`@viking","body":"I see it also looking for in the <code>http:&#47;&#47;maven.aliyun.com&#47;nexus&#47;content&#47;groups&#47;public&#47;</code>@viking"},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1664471082,"post_id":73898561,"comment_id":130485290,"body_markdown":"But if you can not find that Version in your Nexus, you can not load it from your Nexus.","body":"But if you can not find that Version in your Nexus, you can not load it from your Nexus."},{"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"score":0,"creation_date":1664471124,"post_id":73898561,"comment_id":130485304,"body_markdown":"Doesn&#39;t work. The first step is always to download spring-boot-dependencies:pom:2.5.10, then get the same error @AnkitSharma","body":"Doesn&#39;t work. The first step is always to download spring-boot-dependencies:pom:2.5.10, then get the same error @AnkitSharma"},{"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"score":0,"creation_date":1664472674,"post_id":73898561,"comment_id":130485822,"body_markdown":"Thanks for the idea, I solved the problem. The aliyun repository has this version. It was just not retrieved due to strange indexing reasons. I solved the problem with the maven dependency reference method it provided, delete the line `&lt;scope&gt;import&lt;/scope&gt;`@MichaelKatt","body":"Thanks for the idea, I solved the problem. The aliyun repository has this version. It was just not retrieved due to strange indexing reasons. I solved the problem with the maven dependency reference method it provided, delete the line <code>&lt;scope&gt;import&lt;&#47;scope&gt;</code>@MichaelKatt"}],"answers":[{"tags":[],"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664472909,"creation_date":1664472873,"answer_id":73899602,"question_id":73898561,"body_markdown":"I find this version on the aliyun repository and solve the problem with the maven dependency reference method it provided, delete the line `&lt;scope&gt;import&lt;/scope&gt;`","title":"Some problems were encountered while processing the POMs","body":"<p>I find this version on the aliyun repository and solve the problem with the maven dependency reference method it provided, delete the line <code>&lt;scope&gt;import&lt;/scope&gt;</code></p>\n"}],"owner":{"account_id":26199448,"reputation":3,"user_id":19880078,"display_name":"aftermath"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664472909,"creation_date":1664467487,"question_id":73898561,"body_markdown":"Here is my project&#39;s pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\r\n    &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ruoyi&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.1&lt;/version&gt;\r\n\r\n    &lt;name&gt;ruoyi&lt;/name&gt;\r\n    &lt;url&gt;http://www.ruoyi.vip&lt;/url&gt;\r\n    &lt;description&gt;四海内部管理系统&lt;/description&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;ruoyi.version&gt;3.8.1&lt;/ruoyi.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n        &lt;druid.version&gt;1.2.8&lt;/druid.version&gt;\r\n        &lt;bitwalker.version&gt;1.21&lt;/bitwalker.version&gt;\r\n        &lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\r\n        &lt;kaptcha.version&gt;2.3.2&lt;/kaptcha.version&gt;\r\n        &lt;mybatis-spring-boot.version&gt;2.2.2&lt;/mybatis-spring-boot.version&gt;\r\n        &lt;pagehelper.boot.version&gt;1.4.1&lt;/pagehelper.boot.version&gt;\r\n        &lt;fastjson.version&gt;1.2.79&lt;/fastjson.version&gt;\r\n        &lt;oshi.version&gt;6.1.2&lt;/oshi.version&gt;\r\n        &lt;jna.version&gt;5.10.0&lt;/jna.version&gt;\r\n        &lt;commons.io.version&gt;2.11.0&lt;/commons.io.version&gt;\r\n        &lt;commons.fileupload.version&gt;1.4&lt;/commons.fileupload.version&gt;\r\n        &lt;commons.collections.version&gt;3.2.2&lt;/commons.collections.version&gt;\r\n        &lt;poi.version&gt;4.1.2&lt;/poi.version&gt;\r\n        &lt;velocity.version&gt;2.3&lt;/velocity.version&gt;\r\n        &lt;jwt.version&gt;0.9.1&lt;/jwt.version&gt;\r\n    &lt;/properties&gt;\r\n\t\r\n    &lt;!-- 依赖声明 --&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n\r\n            &lt;!-- SpringBoot的依赖配置--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.10&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 阿里数据库连接池 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n                &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${druid.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 解析客户端操作系统、浏览器等 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;eu.bitwalker&lt;/groupId&gt;\r\n                &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\r\n                &lt;version&gt;${bitwalker.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- SpringBoot集成mybatis框架 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${mybatis-spring-boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- pagehelper 分页插件 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${pagehelper.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 获取系统信息 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${oshi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n                &lt;version&gt;${jna.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n                &lt;version&gt;${jna.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Swagger3依赖 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- io常用工具类 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons.io.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 文件上传工具类 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons.fileupload.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- excel工具 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${poi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- velocity代码生成使用模板 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n                &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${velocity.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- collections工具类 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons.collections.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 阿里JSON解析器 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n                &lt;version&gt;${fastjson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Token生成与解析--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;${jwt.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 验证码 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.penggle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\r\n                &lt;version&gt;${kaptcha.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 定时任务--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ruoyi-quartz&lt;/artifactId&gt;\r\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 代码生成--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ruoyi-generator&lt;/artifactId&gt;\r\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 核心模块--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ruoyi-framework&lt;/artifactId&gt;\r\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 系统模块--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ruoyi-system&lt;/artifactId&gt;\r\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- 通用工具--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ruoyi-common&lt;/artifactId&gt;\r\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;ruoyi-admin&lt;/module&gt;\r\n        &lt;module&gt;ruoyi-framework&lt;/module&gt;\r\n        &lt;module&gt;ruoyi-system&lt;/module&gt;\r\n        &lt;module&gt;ruoyi-quartz&lt;/module&gt;\r\n        &lt;module&gt;ruoyi-generator&lt;/module&gt;\r\n        &lt;module&gt;ruoyi-common&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;public&lt;/id&gt;\r\n            &lt;name&gt;aliyun nexus&lt;/name&gt;\r\n            &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;public&lt;/id&gt;\r\n            &lt;name&gt;aliyun nexus&lt;/name&gt;\r\n            &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nAnd Here is my maven&#39;s settings.xml \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!--\r\nLicensed to the Apache Software Foundation (ASF) under one\r\nor more contributor license agreements.  See the NOTICE file\r\ndistributed with this work for additional information\r\nregarding copyright ownership.  The ASF licenses this file\r\nto you under the Apache License, Version 2.0 (the\r\n&quot;License&quot;); you may not use this file except in compliance\r\nwith the License.  You may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing,\r\nsoftware distributed under the License is distributed on an\r\n&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, either express or implied.  See the License for the\r\nspecific language governing permissions and limitations\r\nunder the License.\r\n--&gt;\r\n\r\n&lt;!--\r\n | This is the configuration file for Maven. It can be specified at two levels:\r\n |\r\n |  1. User Level. This settings.xml file provides configuration for a single user,\r\n |                 and is normally provided in ${user.home}/.m2/settings.xml.\r\n |\r\n |                 NOTE: This location can be overridden with the CLI option:\r\n |\r\n |                 -s /path/to/user/settings.xml\r\n |\r\n |  2. Global Level. This settings.xml file provides configuration for all Maven\r\n |                 users on a machine (assuming they&#39;re all using the same Maven\r\n |                 installation). It&#39;s normally provided in\r\n |                 ${maven.conf}/settings.xml.\r\n |\r\n |                 NOTE: This location can be overridden with the CLI option:\r\n |\r\n |                 -gs /path/to/global/settings.xml\r\n |\r\n | The sections in this sample file are intended to give you a running start at\r\n | getting the most out of your Maven installation. Where appropriate, the default\r\n | values (values used when the setting is not specified) are provided.\r\n |\r\n |--&gt;\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n  &lt;!-- localRepository\r\n   | The path to the local repository maven will use to store artifacts.\r\n   |\r\n   | Default: ${user.home}/.m2/repository\r\n  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;\r\n  --&gt;\r\n  &lt;localRepository&gt;/home/wby/Java/toolPackage/Maven/apache-maven-3.8.6-bin/apache-maven-3.8.6/maven-repo&lt;/localRepository&gt;\r\n  &lt;!-- interactiveMode\r\n   | This will determine whether maven prompts you when it needs input. If set to false,\r\n   | maven will use a sensible default value, perhaps based on some other setting, for\r\n   | the parameter in question.\r\n   |\r\n   | Default: true\r\n  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;\r\n  --&gt;\r\n\r\n  &lt;!-- offline\r\n   | Determines whether maven should attempt to connect to the network when executing a build.\r\n   | This will have an effect on artifact downloads, artifact deployment, and others.\r\n   |\r\n   | Default: false\r\n  &lt;offline&gt;false&lt;/offline&gt;\r\n  --&gt;\r\n\r\n  &lt;!-- pluginGroups\r\n   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.\r\n   | when invoking a command line like &quot;mvn prefix:goal&quot;. Maven will automatically add the group identifiers\r\n   | &quot;org.apache.maven.plugins&quot; and &quot;org.codehaus.mojo&quot; if these are not already contained in the list.\r\n   |--&gt;\r\n  &lt;pluginGroups&gt;\r\n    &lt;!-- pluginGroup\r\n     | Specifies a further group identifier to use for plugin lookup.\r\n    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;\r\n    --&gt;\r\n  &lt;/pluginGroups&gt;\r\n\r\n  &lt;!-- proxies\r\n   | This is a list of proxies which can be used on this machine to connect to the network.\r\n   | Unless otherwise specified (by system property or command-line switch), the first proxy\r\n   | specification in this list marked as active will be used.\r\n   |--&gt;\r\n  &lt;proxies&gt;\r\n    &lt;!-- proxy\r\n     | Specification for one proxy, to be used in connecting to the network.\r\n     |\r\n    &lt;proxy&gt;\r\n      &lt;id&gt;optional&lt;/id&gt;\r\n      &lt;active&gt;true&lt;/active&gt;\r\n      &lt;protocol&gt;http&lt;/protocol&gt;\r\n      &lt;username&gt;proxyuser&lt;/username&gt;\r\n      &lt;password&gt;proxypass&lt;/password&gt;\r\n      &lt;host&gt;proxy.host.net&lt;/host&gt;\r\n      &lt;port&gt;80&lt;/port&gt;\r\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\r\n    &lt;/proxy&gt;\r\n    --&gt;\r\n  &lt;/proxies&gt;\r\n\r\n  &lt;!-- servers\r\n   | This is a list of authentication profiles, keyed by the server-id used within the system.\r\n   | Authentication profiles can be used whenever maven must make a connection to a remote server.\r\n   |--&gt;\r\n  &lt;servers&gt;\r\n    &lt;!-- server\r\n     | Specifies the authentication information to use when connecting to a particular server, identified by\r\n     | a unique name within the system (referred to by the &#39;id&#39; attribute below).\r\n     |\r\n     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are\r\n     |       used together.\r\n     |\r\n    &lt;server&gt;\r\n      &lt;id&gt;deploymentRepo&lt;/id&gt;\r\n      &lt;username&gt;repouser&lt;/username&gt;\r\n      &lt;password&gt;repopwd&lt;/password&gt;\r\n    &lt;/server&gt;\r\n    --&gt;\r\n\r\n    &lt;!-- Another sample, using keys to authenticate.\r\n    &lt;server&gt;\r\n      &lt;id&gt;siteServer&lt;/id&gt;\r\n      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;\r\n      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;\r\n    &lt;/server&gt;\r\n    --&gt;\r\n  &lt;/servers&gt;\r\n\r\n  &lt;!-- mirrors\r\n   | This is a list of mirrors to be used in downloading artifacts from remote repositories.\r\n   |\r\n   | It works like this: a POM may declare a repository to use in resolving certain artifacts.\r\n   | However, this repository may have problems with heavy traffic at times, so people have mirrored\r\n   | it to several places.\r\n   |\r\n   | That repository definition will have a unique id, so we can create a mirror reference for that\r\n   | repository, to be used as an alternate download site. The mirror site will be the preferred\r\n   | server for that repository.\r\n   |--&gt;\r\n  &lt;mirrors&gt;\r\n    &lt;!-- mirror\r\n     | Specifies a repository mirror site to use instead of a given repository. The repository that\r\n     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\r\n     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\r\n     |\r\n    &lt;mirror&gt;\r\n      &lt;id&gt;mirrorId&lt;/id&gt;\r\n      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\r\n      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\r\n      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;\r\n    &lt;/mirror&gt;\r\n     --&gt;\r\n\t&lt;mirror&gt;\r\n      &lt;id&gt;nexus-aliyun&lt;/id&gt;\r\n      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\r\n      &lt;name&gt;Nexus aliyun&lt;/name&gt;\r\n      &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;\r\n    &lt;/mirror&gt;\r\n  &lt;/mirrors&gt;\r\n\r\n  &lt;!-- profiles\r\n   | This is a list of profiles which can be activated in a variety of ways, and which can modify\r\n   | the build process. Profiles provided in the settings.xml are intended to provide local machine-\r\n   | specific paths and repository locations which allow the build to work in the local environment.\r\n   |\r\n   | For example, if you have an integration testing plugin - like cactus - that needs to know where\r\n   | your Tomcat instance is installed, you can provide a variable here such that the variable is\r\n   | dereferenced during the build process to configure the cactus plugin.\r\n   |\r\n   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles\r\n   | section of this document (settings.xml) - will be discussed later. Another way essentially\r\n   | relies on the detection of a system property, either matching a particular value for the property,\r\n   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a\r\n   | value of &#39;1.4&#39; might activate a profile when the build is executed on a JDK version of &#39;1.4.2_07&#39;.\r\n   | Finally, the list of active profiles can be specified directly from the command line.\r\n   |\r\n   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact\r\n   |       repositories, plugin repositories, and free-form properties to be used as configuration\r\n   |       variables for plugins in the POM.\r\n   |\r\n   |--&gt;\r\n  &lt;profiles&gt;\r\n    &lt;!-- profile\r\n     | Specifies a set of introductions to the build process, to be activated using one or more of the\r\n     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;\r\n     | or the command line, profiles have to have an ID that is unique.\r\n     |\r\n     | An encouraged best practice for profile identification is to use a consistent naming convention\r\n     | for profiles, such as &#39;env-dev&#39;, &#39;env-test&#39;, &#39;env-production&#39;, &#39;user-jdcasey&#39;, &#39;user-brett&#39;, etc.\r\n     | This will make it more intuitive to understand what the set of introduced profiles is attempting\r\n     | to accomplish, particularly when you only have a list of profile id&#39;s for debug.\r\n     |\r\n     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.\r\n    &lt;profile&gt;\r\n      &lt;id&gt;jdk-1.4&lt;/id&gt;\r\n\r\n      &lt;activation&gt;\r\n        &lt;jdk&gt;1.4&lt;/jdk&gt;\r\n      &lt;/activation&gt;\r\n\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;jdk14&lt;/id&gt;\r\n          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;\r\n          &lt;url&gt;http://www.myhost.com/maven/jdk14&lt;/url&gt;\r\n          &lt;layout&gt;default&lt;/layout&gt;\r\n          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    &lt;/profile&gt;\r\n    --&gt;\r\n\t\r\n\t\r\n\t\r\n    &lt;profile&gt;\r\n      &lt;id&gt;jdk-1.8&lt;/id&gt;\r\n\r\n      &lt;activation&gt;\r\n\t    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n        &lt;jdk&gt;1.8&lt;/jdk&gt;\r\n      &lt;/activation&gt;\r\n\r\n      &lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt;\r\n\t  &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n    \r\n    \r\n\r\n    &lt;!--\r\n     | Here is another profile, activated by the system property &#39;target-env&#39; with a value of &#39;dev&#39;,\r\n     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration\r\n     | might hypothetically look like:\r\n     |\r\n     | ...\r\n     | &lt;plugin&gt;\r\n     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;\r\n     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;\r\n     |\r\n     |   &lt;configuration&gt;\r\n     |     &lt;tomcatLocation&gt;${tomcatPath}&lt;/tomcatLocation&gt;\r\n     |   &lt;/configuration&gt;\r\n     | &lt;/plugin&gt;\r\n     | ...\r\n     |\r\n     | NOTE: If you just wanted to inject this configuration whenever someone set &#39;target-env&#39; to\r\n     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.\r\n     |\r\n    &lt;profile&gt;\r\n      &lt;id&gt;env-dev&lt;/id&gt;\r\n\r\n      &lt;activation&gt;\r\n        &lt;property&gt;\r\n          &lt;name&gt;target-env&lt;/name&gt;\r\n          &lt;value&gt;dev&lt;/value&gt;\r\n        &lt;/property&gt;\r\n      &lt;/activation&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n    --&gt;\r\n  &lt;/profiles&gt;\r\n\r\n  &lt;!-- activeProfiles\r\n   | List of profiles that are active for all builds.\r\n   |\r\n  &lt;activeProfiles&gt;\r\n    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;\r\n    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;\r\n  &lt;/activeProfiles&gt;\r\n  --&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nwhen I use the command &quot;mvn install&quot;, I encountered the following error\r\n```shell\r\n[INFO] Scanning for projects...\r\nDownloading from public: https://maven.aliyun.com/repository/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom\r\nDownloading from nexus-aliyun: http://maven.aliyun.com/nexus/content/groups/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.springframework.boot:spring-boot-dependencies:pom:2.5.10 from/to public (https://maven.aliyun.com/repository/public): transfer failed for https://maven.aliyun.com/repository/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom @ line 43, column 25\r\n @ \r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]   \r\n[ERROR]   The project com.ruoyi:ruoyi:3.8.1 (/home/wby/Java/project/management_system/SiHai/platfroms/pom.xml) has 1 error\r\n[ERROR]     Non-resolvable import POM: Could not transfer artifact org.springframework.boot:spring-boot-dependencies:pom:2.5.10 from/to public (https://maven.aliyun.com/repository/public): transfer failed for https://maven.aliyun.com/repository/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom @ line 43, column 25: Connection reset -&gt; [Help 2]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n```\r\n\r\nI tried to replace the mirror but it didn&#39;t work and my classmates successfully imported by the same mirror\r\n\r\nEvery time I open a new project, I will encounter this problem, and it has not been solved. Ask for help!!!","title":"Some problems were encountered while processing the POMs","body":"<p>Here is my project's pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n    &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n    &lt;artifactId&gt;ruoyi&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n\n    &lt;name&gt;ruoyi&lt;/name&gt;\n    &lt;url&gt;http://www.ruoyi.vip&lt;/url&gt;\n    &lt;description&gt;四海内部管理系统&lt;/description&gt;\n    \n    &lt;properties&gt;\n        &lt;ruoyi.version&gt;3.8.1&lt;/ruoyi.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n        &lt;druid.version&gt;1.2.8&lt;/druid.version&gt;\n        &lt;bitwalker.version&gt;1.21&lt;/bitwalker.version&gt;\n        &lt;swagger.version&gt;3.0.0&lt;/swagger.version&gt;\n        &lt;kaptcha.version&gt;2.3.2&lt;/kaptcha.version&gt;\n        &lt;mybatis-spring-boot.version&gt;2.2.2&lt;/mybatis-spring-boot.version&gt;\n        &lt;pagehelper.boot.version&gt;1.4.1&lt;/pagehelper.boot.version&gt;\n        &lt;fastjson.version&gt;1.2.79&lt;/fastjson.version&gt;\n        &lt;oshi.version&gt;6.1.2&lt;/oshi.version&gt;\n        &lt;jna.version&gt;5.10.0&lt;/jna.version&gt;\n        &lt;commons.io.version&gt;2.11.0&lt;/commons.io.version&gt;\n        &lt;commons.fileupload.version&gt;1.4&lt;/commons.fileupload.version&gt;\n        &lt;commons.collections.version&gt;3.2.2&lt;/commons.collections.version&gt;\n        &lt;poi.version&gt;4.1.2&lt;/poi.version&gt;\n        &lt;velocity.version&gt;2.3&lt;/velocity.version&gt;\n        &lt;jwt.version&gt;0.9.1&lt;/jwt.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;!-- 依赖声明 --&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n\n            &lt;!-- SpringBoot的依赖配置--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.5.10&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 阿里数据库连接池 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n                &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${druid.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 解析客户端操作系统、浏览器等 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;eu.bitwalker&lt;/groupId&gt;\n                &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\n                &lt;version&gt;${bitwalker.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- SpringBoot集成mybatis框架 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${mybatis-spring-boot.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- pagehelper 分页插件 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;\n                &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${pagehelper.boot.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 获取系统信息 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\n                &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\n                &lt;version&gt;${oshi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n                &lt;artifactId&gt;jna&lt;/artifactId&gt;\n                &lt;version&gt;${jna.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n                &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n                &lt;version&gt;${jna.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Swagger3依赖 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n                        &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- io常用工具类 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;version&gt;${commons.io.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 文件上传工具类 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n                &lt;version&gt;${commons.fileupload.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- excel工具 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;${poi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- velocity代码生成使用模板 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n                &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;\n                &lt;version&gt;${velocity.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- collections工具类 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n                &lt;version&gt;${commons.collections.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 阿里JSON解析器 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n                &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n                &lt;version&gt;${fastjson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Token生成与解析--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n                &lt;version&gt;${jwt.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 验证码 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.penggle&lt;/groupId&gt;\n                &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\n                &lt;version&gt;${kaptcha.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 定时任务--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n                &lt;artifactId&gt;ruoyi-quartz&lt;/artifactId&gt;\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 代码生成--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n                &lt;artifactId&gt;ruoyi-generator&lt;/artifactId&gt;\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 核心模块--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n                &lt;artifactId&gt;ruoyi-framework&lt;/artifactId&gt;\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 系统模块--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n                &lt;artifactId&gt;ruoyi-system&lt;/artifactId&gt;\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- 通用工具--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n                &lt;artifactId&gt;ruoyi-common&lt;/artifactId&gt;\n                &lt;version&gt;${ruoyi.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;ruoyi-admin&lt;/module&gt;\n        &lt;module&gt;ruoyi-framework&lt;/module&gt;\n        &lt;module&gt;ruoyi-system&lt;/module&gt;\n        &lt;module&gt;ruoyi-quartz&lt;/module&gt;\n        &lt;module&gt;ruoyi-generator&lt;/module&gt;\n        &lt;module&gt;ruoyi-common&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n    &lt;dependencies&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;public&lt;/id&gt;\n            &lt;name&gt;aliyun nexus&lt;/name&gt;\n            &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;public&lt;/id&gt;\n            &lt;name&gt;aliyun nexus&lt;/name&gt;\n            &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And Here is my maven's settings.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!--\nLicensed to the Apache Software Foundation (ASF) under one\nor more contributor license agreements.  See the NOTICE file\ndistributed with this work for additional information\nregarding copyright ownership.  The ASF licenses this file\nto you under the Apache License, Version 2.0 (the\n&quot;License&quot;); you may not use this file except in compliance\nwith the License.  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing,\nsoftware distributed under the License is distributed on an\n&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, either express or implied.  See the License for the\nspecific language governing permissions and limitations\nunder the License.\n--&gt;\n\n&lt;!--\n | This is the configuration file for Maven. It can be specified at two levels:\n |\n |  1. User Level. This settings.xml file provides configuration for a single user,\n |                 and is normally provided in ${user.home}/.m2/settings.xml.\n |\n |                 NOTE: This location can be overridden with the CLI option:\n |\n |                 -s /path/to/user/settings.xml\n |\n |  2. Global Level. This settings.xml file provides configuration for all Maven\n |                 users on a machine (assuming they're all using the same Maven\n |                 installation). It's normally provided in\n |                 ${maven.conf}/settings.xml.\n |\n |                 NOTE: This location can be overridden with the CLI option:\n |\n |                 -gs /path/to/global/settings.xml\n |\n | The sections in this sample file are intended to give you a running start at\n | getting the most out of your Maven installation. Where appropriate, the default\n | values (values used when the setting is not specified) are provided.\n |\n |--&gt;\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  &lt;!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;\n  --&gt;\n  &lt;localRepository&gt;/home/wby/Java/toolPackage/Maven/apache-maven-3.8.6-bin/apache-maven-3.8.6/maven-repo&lt;/localRepository&gt;\n  &lt;!-- interactiveMode\n   | This will determine whether maven prompts you when it needs input. If set to false,\n   | maven will use a sensible default value, perhaps based on some other setting, for\n   | the parameter in question.\n   |\n   | Default: true\n  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;\n  --&gt;\n\n  &lt;!-- offline\n   | Determines whether maven should attempt to connect to the network when executing a build.\n   | This will have an effect on artifact downloads, artifact deployment, and others.\n   |\n   | Default: false\n  &lt;offline&gt;false&lt;/offline&gt;\n  --&gt;\n\n  &lt;!-- pluginGroups\n   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.\n   | when invoking a command line like &quot;mvn prefix:goal&quot;. Maven will automatically add the group identifiers\n   | &quot;org.apache.maven.plugins&quot; and &quot;org.codehaus.mojo&quot; if these are not already contained in the list.\n   |--&gt;\n  &lt;pluginGroups&gt;\n    &lt;!-- pluginGroup\n     | Specifies a further group identifier to use for plugin lookup.\n    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;\n    --&gt;\n  &lt;/pluginGroups&gt;\n\n  &lt;!-- proxies\n   | This is a list of proxies which can be used on this machine to connect to the network.\n   | Unless otherwise specified (by system property or command-line switch), the first proxy\n   | specification in this list marked as active will be used.\n   |--&gt;\n  &lt;proxies&gt;\n    &lt;!-- proxy\n     | Specification for one proxy, to be used in connecting to the network.\n     |\n    &lt;proxy&gt;\n      &lt;id&gt;optional&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;username&gt;proxyuser&lt;/username&gt;\n      &lt;password&gt;proxypass&lt;/password&gt;\n      &lt;host&gt;proxy.host.net&lt;/host&gt;\n      &lt;port&gt;80&lt;/port&gt;\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n    --&gt;\n  &lt;/proxies&gt;\n\n  &lt;!-- servers\n   | This is a list of authentication profiles, keyed by the server-id used within the system.\n   | Authentication profiles can be used whenever maven must make a connection to a remote server.\n   |--&gt;\n  &lt;servers&gt;\n    &lt;!-- server\n     | Specifies the authentication information to use when connecting to a particular server, identified by\n     | a unique name within the system (referred to by the 'id' attribute below).\n     |\n     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are\n     |       used together.\n     |\n    &lt;server&gt;\n      &lt;id&gt;deploymentRepo&lt;/id&gt;\n      &lt;username&gt;repouser&lt;/username&gt;\n      &lt;password&gt;repopwd&lt;/password&gt;\n    &lt;/server&gt;\n    --&gt;\n\n    &lt;!-- Another sample, using keys to authenticate.\n    &lt;server&gt;\n      &lt;id&gt;siteServer&lt;/id&gt;\n      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;\n      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;\n    &lt;/server&gt;\n    --&gt;\n  &lt;/servers&gt;\n\n  &lt;!-- mirrors\n   | This is a list of mirrors to be used in downloading artifacts from remote repositories.\n   |\n   | It works like this: a POM may declare a repository to use in resolving certain artifacts.\n   | However, this repository may have problems with heavy traffic at times, so people have mirrored\n   | it to several places.\n   |\n   | That repository definition will have a unique id, so we can create a mirror reference for that\n   | repository, to be used as an alternate download site. The mirror site will be the preferred\n   | server for that repository.\n   |--&gt;\n  &lt;mirrors&gt;\n    &lt;!-- mirror\n     | Specifies a repository mirror site to use instead of a given repository. The repository that\n     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n     |\n    &lt;mirror&gt;\n      &lt;id&gt;mirrorId&lt;/id&gt;\n      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\n      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\n      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;\n    &lt;/mirror&gt;\n     --&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;nexus-aliyun&lt;/id&gt;\n      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\n      &lt;name&gt;Nexus aliyun&lt;/name&gt;\n      &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n\n  &lt;!-- profiles\n   | This is a list of profiles which can be activated in a variety of ways, and which can modify\n   | the build process. Profiles provided in the settings.xml are intended to provide local machine-\n   | specific paths and repository locations which allow the build to work in the local environment.\n   |\n   | For example, if you have an integration testing plugin - like cactus - that needs to know where\n   | your Tomcat instance is installed, you can provide a variable here such that the variable is\n   | dereferenced during the build process to configure the cactus plugin.\n   |\n   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles\n   | section of this document (settings.xml) - will be discussed later. Another way essentially\n   | relies on the detection of a system property, either matching a particular value for the property,\n   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a\n   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.\n   | Finally, the list of active profiles can be specified directly from the command line.\n   |\n   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact\n   |       repositories, plugin repositories, and free-form properties to be used as configuration\n   |       variables for plugins in the POM.\n   |\n   |--&gt;\n  &lt;profiles&gt;\n    &lt;!-- profile\n     | Specifies a set of introductions to the build process, to be activated using one or more of the\n     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;\n     | or the command line, profiles have to have an ID that is unique.\n     |\n     | An encouraged best practice for profile identification is to use a consistent naming convention\n     | for profiles, such as 'env-dev', 'env-test', 'env-production', 'user-jdcasey', 'user-brett', etc.\n     | This will make it more intuitive to understand what the set of introduced profiles is attempting\n     | to accomplish, particularly when you only have a list of profile id's for debug.\n     |\n     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.\n    &lt;profile&gt;\n      &lt;id&gt;jdk-1.4&lt;/id&gt;\n\n      &lt;activation&gt;\n        &lt;jdk&gt;1.4&lt;/jdk&gt;\n      &lt;/activation&gt;\n\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;jdk14&lt;/id&gt;\n          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;\n          &lt;url&gt;http://www.myhost.com/maven/jdk14&lt;/url&gt;\n          &lt;layout&gt;default&lt;/layout&gt;\n          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n    &lt;/profile&gt;\n    --&gt;\n    \n    \n    \n    &lt;profile&gt;\n      &lt;id&gt;jdk-1.8&lt;/id&gt;\n\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;jdk&gt;1.8&lt;/jdk&gt;\n      &lt;/activation&gt;\n\n      &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    \n    \n\n    &lt;!--\n     | Here is another profile, activated by the system property 'target-env' with a value of 'dev',\n     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration\n     | might hypothetically look like:\n     |\n     | ...\n     | &lt;plugin&gt;\n     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;\n     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;\n     |\n     |   &lt;configuration&gt;\n     |     &lt;tomcatLocation&gt;${tomcatPath}&lt;/tomcatLocation&gt;\n     |   &lt;/configuration&gt;\n     | &lt;/plugin&gt;\n     | ...\n     |\n     | NOTE: If you just wanted to inject this configuration whenever someone set 'target-env' to\n     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.\n     |\n    &lt;profile&gt;\n      &lt;id&gt;env-dev&lt;/id&gt;\n\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;target-env&lt;/name&gt;\n          &lt;value&gt;dev&lt;/value&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n\n      &lt;properties&gt;\n        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    --&gt;\n  &lt;/profiles&gt;\n\n  &lt;!-- activeProfiles\n   | List of profiles that are active for all builds.\n   |\n  &lt;activeProfiles&gt;\n    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;\n    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;\n  &lt;/activeProfiles&gt;\n  --&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>when I use the command &quot;mvn install&quot;, I encountered the following error</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[INFO] Scanning for projects...\nDownloading from public: https://maven.aliyun.com/repository/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom\nDownloading from nexus-aliyun: http://maven.aliyun.com/nexus/content/groups/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Non-resolvable import POM: Could not transfer artifact org.springframework.boot:spring-boot-dependencies:pom:2.5.10 from/to public (https://maven.aliyun.com/repository/public): transfer failed for https://maven.aliyun.com/repository/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom @ line 43, column 25\n @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]   \n[ERROR]   The project com.ruoyi:ruoyi:3.8.1 (/home/wby/Java/project/management_system/SiHai/platfroms/pom.xml) has 1 error\n[ERROR]     Non-resolvable import POM: Could not transfer artifact org.springframework.boot:spring-boot-dependencies:pom:2.5.10 from/to public (https://maven.aliyun.com/repository/public): transfer failed for https://maven.aliyun.com/repository/public/org/springframework/boot/spring-boot-dependencies/2.5.10/spring-boot-dependencies-2.5.10.pom @ line 43, column 25: Connection reset -&gt; [Help 2]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\n</code></pre>\n<p>I tried to replace the mirror but it didn't work and my classmates successfully imported by the same mirror</p>\n<p>Every time I open a new project, I will encounter this problem, and it has not been solved. Ask for help!!!</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664476261,"post_id":73899590,"comment_id":130486855,"body_markdown":"`WordCount$Map` refers to your `static class Map`... `org.apache.hadoop.mapred.*` package is deprecated. Please import from `org.apache.hadoop.mapredude` instead","body":"<code>WordCount$Map</code> refers to your <code>static class Map</code>... <code>org.apache.hadoop.mapred.*</code> package is deprecated. Please import from <code>org.apache.hadoop.mapredude</code> instead"},{"owner":{"account_id":26429707,"reputation":1,"user_id":20076085,"display_name":"onlyjamiejay"},"score":0,"creation_date":1664512646,"post_id":73899590,"comment_id":130493385,"body_markdown":"Hi, thanks for your answer. Unfortunately that didn&#39;t do the trick. While compiling there&#39;s a new error message beginning with WordCount.java:12: error: cannot find symbol\n        public static class Map extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n                                        ^\n  symbol:   class MapReduceBase\n  location: class WordCount\nWordCount.java:12: error: interface expected here\n        public static class Map extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {","body":"Hi, thanks for your answer. Unfortunately that didn&#39;t do the trick. While compiling there&#39;s a new error message beginning with WordCount.java:12: error: cannot find symbol         public static class Map extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {                                         ^   symbol:   class MapReduceBase   location: class WordCount WordCount.java:12: error: interface expected here         public static class Map extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {"},{"owner":{"account_id":26429707,"reputation":1,"user_id":20076085,"display_name":"onlyjamiejay"},"score":1,"creation_date":1664513601,"post_id":73899590,"comment_id":130493495,"body_markdown":"Update: I found my mistake. I didn&#39;t create the jar correctly... But it does work with the org.apache.hadoop.mapreduce.* package as you suggested. So thanks!","body":"Update: I found my mistake. I didn&#39;t create the jar correctly... But it does work with the org.apache.hadoop.mapreduce.* package as you suggested. So thanks!"}],"owner":{"account_id":26429707,"reputation":1,"user_id":20076085,"display_name":"onlyjamiejay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664472829,"creation_date":1664472829,"question_id":73899590,"body_markdown":"I&#39;ve compiled and tried to get the following code to run\r\n\r\n     import java.io.IOException;\r\n     import java.util.*;\r\n\r\n     import org.apache.hadoop.fs.Path;\r\n     import org.apache.hadoop.conf.*;\r\n     import org.apache.hadoop.io.*;\r\n     import org.apache.hadoop.mapred.*;\r\n     import org.apache.hadoop.util.*;\r\n\r\n     public class WordCount {\r\n\r\n        public static class Map extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n          private final static IntWritable one = new IntWritable(1);\r\n          private Text word = new Text();\r\n\r\n          public void map(LongWritable key, Text value, OutputCollector&lt;Text, IntWritable&gt; output, Reporter reporter) throws IOException {\r\n            String line = value.toString();\r\n            StringTokenizer tokenizer = new StringTokenizer(line);\r\n            while (tokenizer.hasMoreTokens()) {\r\n              word.set(tokenizer.nextToken());\r\n              output.collect(word, one);\r\n            }\r\n          }\r\n        }\r\n\r\n        public static class Reduce extends MapReduceBase implements Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n          public void reduce(Text key, Iterator&lt;IntWritable&gt; values, OutputCollector&lt;Text, IntWritable&gt; output, Reporter reporter) throws IOException {\r\n            int sum = 0;\r\n            while (values.hasNext()) {\r\n              sum += values.next().get();\r\n            }\r\n            output.collect(key, new IntWritable(sum));\r\n          }\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n          JobConf conf = new JobConf(WordCount.class);\r\n          conf.setJobName(&quot;wordcount&quot;);\r\n\r\n          conf.setOutputKeyClass(Text.class);\r\n          conf.setOutputValueClass(IntWritable.class);\r\n\r\n          conf.setMapperClass(Map.class);\r\n          conf.setCombinerClass(Reduce.class);\r\n          conf.setReducerClass(Reduce.class);\r\n\r\n          conf.setInputFormat(TextInputFormat.class);\r\n          conf.setOutputFormat(TextOutputFormat.class);\r\n\r\n          FileInputFormat.setInputPaths(conf, new Path(args[0]));\r\n          FileOutputFormat.setOutputPath(conf, new Path(args[1]));\r\n\r\n          JobClient.runJob(conf);\r\n        }\r\n     }\r\n\r\nBut when I try to run it with with the command &#39;yarn jar wc.jar WordCount /user/ubuntu/books/holmes.txt /user/ubuntu/output3&#39;\r\nthe error message is as follows\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: WordCount$Map\r\n        at WordCount.main(WordCount.java:43)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\r\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236) \r\n    Caused by: java.lang.ClassNotFoundException: WordCount$Map\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        ... 7 more\r\n\r\nI especially don&#39;t know where the &#39;WordCount$Map&#39; is coming from. What am I missing?","title":"Hadoop MapReduce - Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: WordCount$Map","body":"<p>I've compiled and tried to get the following code to run</p>\n<pre><code> import java.io.IOException;\n import java.util.*;\n\n import org.apache.hadoop.fs.Path;\n import org.apache.hadoop.conf.*;\n import org.apache.hadoop.io.*;\n import org.apache.hadoop.mapred.*;\n import org.apache.hadoop.util.*;\n\n public class WordCount {\n\n    public static class Map extends MapReduceBase implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n      private final static IntWritable one = new IntWritable(1);\n      private Text word = new Text();\n\n      public void map(LongWritable key, Text value, OutputCollector&lt;Text, IntWritable&gt; output, Reporter reporter) throws IOException {\n        String line = value.toString();\n        StringTokenizer tokenizer = new StringTokenizer(line);\n        while (tokenizer.hasMoreTokens()) {\n          word.set(tokenizer.nextToken());\n          output.collect(word, one);\n        }\n      }\n    }\n\n    public static class Reduce extends MapReduceBase implements Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n      public void reduce(Text key, Iterator&lt;IntWritable&gt; values, OutputCollector&lt;Text, IntWritable&gt; output, Reporter reporter) throws IOException {\n        int sum = 0;\n        while (values.hasNext()) {\n          sum += values.next().get();\n        }\n        output.collect(key, new IntWritable(sum));\n      }\n    }\n\n    public static void main(String[] args) throws Exception {\n      JobConf conf = new JobConf(WordCount.class);\n      conf.setJobName(&quot;wordcount&quot;);\n\n      conf.setOutputKeyClass(Text.class);\n      conf.setOutputValueClass(IntWritable.class);\n\n      conf.setMapperClass(Map.class);\n      conf.setCombinerClass(Reduce.class);\n      conf.setReducerClass(Reduce.class);\n\n      conf.setInputFormat(TextInputFormat.class);\n      conf.setOutputFormat(TextOutputFormat.class);\n\n      FileInputFormat.setInputPaths(conf, new Path(args[0]));\n      FileOutputFormat.setOutputPath(conf, new Path(args[1]));\n\n      JobClient.runJob(conf);\n    }\n }\n</code></pre>\n<p>But when I try to run it with with the command 'yarn jar wc.jar WordCount /user/ubuntu/books/holmes.txt /user/ubuntu/output3'\nthe error message is as follows</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: WordCount$Map\n    at WordCount.main(WordCount.java:43)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:236) \nCaused by: java.lang.ClassNotFoundException: WordCount$Map\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 7 more\n</code></pre>\n<p>I especially don't know where the 'WordCount$Map' is coming from. What am I missing?</p>\n"},{"tags":["java","eclipse","stringbuilder"],"comments":[{"owner":{"account_id":1468618,"reputation":466,"user_id":1380776,"accept_rate":73,"display_name":"joval"},"score":1,"creation_date":1404594774,"post_id":24590599,"comment_id":38096548,"body_markdown":"Do you have any import clauses at the top of the source file?","body":"Do you have any import clauses at the top of the source file?"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":1,"creation_date":1404594907,"post_id":24590599,"comment_id":38096586,"body_markdown":"What JRE version are you using (Preferences -&gt; Java -&gt; Installed JREs)? And what compiler version are you using (Project properties -&gt; Java -&gt; Compiler)? java.lang.CharSequence was added in Java 1.4","body":"What JRE version are you using (Preferences -&gt; Java -&gt; Installed JREs)? And what compiler version are you using (Project properties -&gt; Java -&gt; Compiler)? java.lang.CharSequence was added in Java 1.4"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":1,"creation_date":1404594975,"post_id":24590599,"comment_id":38096609,"body_markdown":"@joval no imports needed to use java.lang.StringBuilder","body":"@joval no imports needed to use java.lang.StringBuilder"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":0,"creation_date":1404595454,"post_id":24590599,"comment_id":38096738,"body_markdown":"Ok, not the obvious one, sorry. When you open project properties -&gt; java build path -&gt; order and export, you should have two entries (your source folder and jre8) of which your source folder is checked and jre8 is not. Right?","body":"Ok, not the obvious one, sorry. When you open project properties -&gt; java build path -&gt; order and export, you should have two entries (your source folder and jre8) of which your source folder is checked and jre8 is not. Right?"},{"owner":{"account_id":1491238,"reputation":153,"user_id":1398276,"accept_rate":75,"display_name":"Aruscher"},"score":0,"creation_date":1404595556,"post_id":24590599,"comment_id":38096760,"body_markdown":"1.8 should be ok....sounds stupid but do you tried to restart eclipse?  do you using the current eclipse version (maybe a java 8 plugin is needed)?","body":"1.8 should be ok....sounds stupid but do you tried to restart eclipse?  do you using the current eclipse version (maybe a java 8 plugin is needed)?"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":0,"creation_date":1404595579,"post_id":24590599,"comment_id":38096770,"body_markdown":"And, &quot;Project -&gt; Build automatically&quot; is enabled (or if not, you are sure you built the project after your last change to the source)?","body":"And, &quot;Project -&gt; Build automatically&quot; is enabled (or if not, you are sure you built the project after your last change to the source)?"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":0,"creation_date":1404595660,"post_id":24590599,"comment_id":38096788,"body_markdown":"If all these is true, try File-&gt;Restart, then Project-&gt;Clean-&gt;Clean all projects (should never be needed, but easier than finding other reasons for messing up your project setup...)","body":"If all these is true, try File-&gt;Restart, then Project-&gt;Clean-&gt;Clean all projects (should never be needed, but easier than finding other reasons for messing up your project setup...)"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":0,"creation_date":1404595836,"post_id":24590599,"comment_id":38096820,"body_markdown":"@Arusher good point. To run Eclipse itself under JRE8 you need either Kepler version with Java8 update or Luna version. To target JRE8 (with the 1.7 compiler) it is not needed if you run Eclipse itself under JRE7 or older...","body":"@Arusher good point. To run Eclipse itself under JRE8 you need either Kepler version with Java8 update or Luna version. To target JRE8 (with the 1.7 compiler) it is not needed if you run Eclipse itself under JRE7 or older..."},{"owner":{"display_name":"user3808464"},"score":0,"creation_date":1404597321,"post_id":24590599,"comment_id":38097110,"body_markdown":"My Version: Indigo Service Release 2\nI tried everything you said and it&#39;s still the same, How do I install the plugin or perhaps the version of Luna?","body":"My Version: Indigo Service Release 2 I tried everything you said and it&#39;s still the same, How do I install the plugin or perhaps the version of Luna?"},{"owner":{"account_id":32480,"reputation":6587,"user_id":90203,"accept_rate":100,"display_name":"mihi"},"score":1,"creation_date":1404597623,"post_id":24590599,"comment_id":38097182,"body_markdown":"Eclipse Indigo is indeed a bit old. Either you install a Java7 JRE from java.oracle.com, or latest Eclipse Luna (4.4) from http://eclipse.org/downloads/. If download bandwidth is not a problem, I&#39;d rather upgrade Eclipse than downgrade Java, but since Eclipse is &gt;200MB and a JRE is about 30MB, your mileage may vary","body":"Eclipse Indigo is indeed a bit old. Either you install a Java7 JRE from java.oracle.com, or latest Eclipse Luna (4.4) from <a href=\"http://eclipse.org/downloads/\" rel=\"nofollow noreferrer\">eclipse.org/downloads</a>. If download bandwidth is not a problem, I&#39;d rather upgrade Eclipse than downgrade Java, but since Eclipse is &gt;200MB and a JRE is about 30MB, your mileage may vary"},{"owner":{"display_name":"user3808464"},"score":0,"creation_date":1404598852,"post_id":24590599,"comment_id":38097419,"body_markdown":"Thank you it works!\nOne more question, the Android SDK.. I have to download it again or it will be there from the Indigo version","body":"Thank you it works! One more question, the Android SDK.. I have to download it again or it will be there from the Indigo version"}],"answers":[{"tags":[],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426790239,"creation_date":1426790239,"answer_id":29152461,"question_id":24590599,"body_markdown":"My guess is that you try to a Java 8 JVM in an old version of Eclipse that does not support it. When the Java version of the JVM is not recognized, I think that the Eclipse behavior is not predictable.\r\n \r\n`java.lang.CharSequence` was introduced with Java 1.4, but my guess is that a too old version of Eclipse doesn’t recognize the `CharSequence` contained in the Java 8 JVM.\r\n\r\nJava 8 supports [default methods][1] in interfaces. And in JDK 8 a lot of old interfaces now have new default methods. For example, [now in CharSequence we have chars and codePoints methods][2] \r\n\r\nWhen using JDK 8 and an IDE with its own compiler, like Eclipse, you have to update the IDE to a version with Java 8 support, even if you are not using the newer Java 8 features.\r\n\r\nYou have 2 solutions, you can:\r\n\r\n* Use a Java Version that is compatible with your current IDE.\r\n* Update your Eclipse IDE\r\n\r\n----\r\n\r\nEclipse IDE with Java 8 support:\r\n=========\r\n\r\nThe first Eclipse version supporting Java 8 was Eclipse Kepler SR2 (4.3.2) with [an additional patch][3] that can [be downloaded][4] from the Marketplace.\r\n\r\nIn my opinion you should udpate to the [latest Eclipse Version][5].\r\n\r\nFor example, with the current stable version (Luna SR2; Version 4.4.2) no additional patch is necessary.\r\n\r\n----\r\n\r\nIdentifying the Eclipse Version and the JRE used by Eclipse\r\n=========\r\nGo to `Menu` &gt; `Help` &gt; `About Eclipse`. In the Dialog, click on the `Installation Details` Button and switch to the `Configuration` Tab.\r\n\r\n![About Eclipse][6]\r\n\r\nThe interesting lines are:\r\n\r\n    eclipse.buildId=4.5.0.I20150203-1300\r\n    ...\r\n    java.version=1.7.0_45\r\n\r\nOn the First `About Eclipse` Window, you have already the Eclipse Version and the Name of the distribution (Mars-M5) on the screenshot.\r\n\r\nBe aware that the JRE used by Eclipse itself is not necessary the JRE used by your java projects.\r\n\r\n----\r\n\r\nJREs available in your Workspace:\r\n=========\r\n\r\nUsing `Windows` &gt; `Preferences` and `Java` &gt; `Installed JREs` in the page tree, you will define all available JREs.\r\n\r\n![Installed JREs][7]\r\n\r\nWith the `Add…` button, you can add as many JRE you like.\r\nThe checked JRE is the one that will be the “*Workspace default JRE*”.\r\n\r\nIf this is not the case you can add a new JRE with the add button.\r\n\r\n----\r\n\r\nAdditional concept: Execution Environment\r\n=========\r\n\r\nEclipse IDE defines an additional concept to “*Installed JREs*”: “*Execution Environment*”. A list of Environments is defined. For example: `JavaSE-1.6`, `JavaSE-1.7`, `JavaSE-1.8`... This list is hardcoded in the IDE and depends on the installed version.\r\n\r\nIn the preference page: `Java` &gt; `Installed JREs` &gt; `Execution Environment`, you can define which JRE will correspond to each specific environment.\r\n\r\n![Execution Environment - preference page][8]\r\n\r\nUsing this additional abstraction that is useful when you work in a team; You cannot guarantee that everyone will have the same installed JREs and will use the same id for each JRE will be used across a the team members. Execution Environment is a much stable denominator that can be shared in a team.\r\n\r\n----\r\n\r\nEnsure the JRE System Library defined for your Project\r\n=========\r\n\r\nIn the Package Explorer, you should see the Java version:\r\n\r\n![Package Explorer][9]\r\n\r\nIf this is not correct you should open the context menu the `JRE System Library` item and select the `Properties` menu entry.\r\n\r\n![JRE System Library - Properties][10]\r\n\r\nYou can select:\r\n\r\n* One of the defined execution environments (mapped to a JRE in your preferences)\r\n* One of the available JRE defined in the preferences.\r\n* The workspace default JRE (also defined in the preferences)\r\n\r\nAt the root of your project you have a `.classpath` file (The file might be filtered out from the `Package Explorer View`, change the filter configuration or use the `Navigator View` to open the file). It should looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nIn this case, the project uses the `JavaSE-1.8` execution environment.\r\n\r\n----\r\n\r\nIf you are using maven\r\n=========\r\n\r\nMaven also defines what the Java version should be. You need to synchronize the Eclipse settings with what is defined in the project `pom.xml` file.\r\n\r\nYou can achieve this with you can select `Maven` &gt; `Update project configuration` from the Context Menu available on your project.\r\n\r\n----\r\n\r\n\r\nRebuild your project\r\n====================\r\n\r\nSometimes Eclipse is confused (in particular if you just changed some settings). Using the clean function can help. Open the menu: `Project` &gt; `Clean`...\r\n\r\n![Eclipse - Clean Projects][11]\r\n\r\nSelect your project from the list or &quot;Clean all projects&quot; and check &quot;Start a build immediately&quot; if this is relevant.\r\n\r\n---\r\nRelated answers that helped me:\r\n\r\n* [@Holger in Error when using LogManager (l4j2) with Java 8 (java.lang.reflect.AnnotatedElement cannot be resolved)][12]\r\n* [@mkrakhin in The type java.lang.CharSequence cannot be resolved in package declaration][13]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/CharSequence.java#CharSequence.codePoints%28%29\r\n  [3]: https://waynebeaton.wordpress.com/2014/03/26/add-java-8-support-to-eclipse-kepler/\r\n  [4]: http://marketplace.eclipse.org/content/java-8-support-eclipse-kepler-sr2\r\n  [5]: http://www.eclipse.org/downloads/\r\n  [6]: http://i.stack.imgur.com/LYNKF.png\r\n  [7]: http://i.stack.imgur.com/VbzY1.png\r\n  [8]: http://i.stack.imgur.com/1bsKG.png\r\n  [9]: http://i.stack.imgur.com/0BLdA.png\r\n  [10]: http://i.stack.imgur.com/2XSuc.png\r\n  [11]: http://i.stack.imgur.com/ULFQF.png\r\n  [12]: https://stackoverflow.com/a/26105217/91497\r\n  [13]: https://stackoverflow.com/a/24302496/91497","title":"Can&#39;t do StringBuilder with Eclipse","body":"<p>My guess is that you try to a Java 8 JVM in an old version of Eclipse that does not support it. When the Java version of the JVM is not recognized, I think that the Eclipse behavior is not predictable.</p>\n\n<p><code>java.lang.CharSequence</code> was introduced with Java 1.4, but my guess is that a too old version of Eclipse doesn’t recognize the <code>CharSequence</code> contained in the Java 8 JVM.</p>\n\n<p>Java 8 supports <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">default methods</a> in interfaces. And in JDK 8 a lot of old interfaces now have new default methods. For example, <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/CharSequence.java#CharSequence.codePoints%28%29\" rel=\"nofollow noreferrer\">now in CharSequence we have chars and codePoints methods</a> </p>\n\n<p>When using JDK 8 and an IDE with its own compiler, like Eclipse, you have to update the IDE to a version with Java 8 support, even if you are not using the newer Java 8 features.</p>\n\n<p>You have 2 solutions, you can:</p>\n\n<ul>\n<li>Use a Java Version that is compatible with your current IDE.</li>\n<li>Update your Eclipse IDE</li>\n</ul>\n\n<hr>\n\n<h1>Eclipse IDE with Java 8 support:</h1>\n\n<p>The first Eclipse version supporting Java 8 was Eclipse Kepler SR2 (4.3.2) with <a href=\"https://waynebeaton.wordpress.com/2014/03/26/add-java-8-support-to-eclipse-kepler/\" rel=\"nofollow noreferrer\">an additional patch</a> that can <a href=\"http://marketplace.eclipse.org/content/java-8-support-eclipse-kepler-sr2\" rel=\"nofollow noreferrer\">be downloaded</a> from the Marketplace.</p>\n\n<p>In my opinion you should udpate to the <a href=\"http://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">latest Eclipse Version</a>.</p>\n\n<p>For example, with the current stable version (Luna SR2; Version 4.4.2) no additional patch is necessary.</p>\n\n<hr>\n\n<h1>Identifying the Eclipse Version and the JRE used by Eclipse</h1>\n\n<p>Go to <code>Menu</code> > <code>Help</code> > <code>About Eclipse</code>. In the Dialog, click on the <code>Installation Details</code> Button and switch to the <code>Configuration</code> Tab.</p>\n\n<p><img src=\"https://i.stack.imgur.com/LYNKF.png\" alt=\"About Eclipse\"></p>\n\n<p>The interesting lines are:</p>\n\n<pre><code>eclipse.buildId=4.5.0.I20150203-1300\n...\njava.version=1.7.0_45\n</code></pre>\n\n<p>On the First <code>About Eclipse</code> Window, you have already the Eclipse Version and the Name of the distribution (Mars-M5) on the screenshot.</p>\n\n<p>Be aware that the JRE used by Eclipse itself is not necessary the JRE used by your java projects.</p>\n\n<hr>\n\n<h1>JREs available in your Workspace:</h1>\n\n<p>Using <code>Windows</code> > <code>Preferences</code> and <code>Java</code> > <code>Installed JREs</code> in the page tree, you will define all available JREs.</p>\n\n<p><img src=\"https://i.stack.imgur.com/VbzY1.png\" alt=\"Installed JREs\"></p>\n\n<p>With the <code>Add…</code> button, you can add as many JRE you like.\nThe checked JRE is the one that will be the “<em>Workspace default JRE</em>”.</p>\n\n<p>If this is not the case you can add a new JRE with the add button.</p>\n\n<hr>\n\n<h1>Additional concept: Execution Environment</h1>\n\n<p>Eclipse IDE defines an additional concept to “<em>Installed JREs</em>”: “<em>Execution Environment</em>”. A list of Environments is defined. For example: <code>JavaSE-1.6</code>, <code>JavaSE-1.7</code>, <code>JavaSE-1.8</code>... This list is hardcoded in the IDE and depends on the installed version.</p>\n\n<p>In the preference page: <code>Java</code> > <code>Installed JREs</code> > <code>Execution Environment</code>, you can define which JRE will correspond to each specific environment.</p>\n\n<p><img src=\"https://i.stack.imgur.com/1bsKG.png\" alt=\"Execution Environment - preference page\"></p>\n\n<p>Using this additional abstraction that is useful when you work in a team; You cannot guarantee that everyone will have the same installed JREs and will use the same id for each JRE will be used across a the team members. Execution Environment is a much stable denominator that can be shared in a team.</p>\n\n<hr>\n\n<h1>Ensure the JRE System Library defined for your Project</h1>\n\n<p>In the Package Explorer, you should see the Java version:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0BLdA.png\" alt=\"Package Explorer\"></p>\n\n<p>If this is not correct you should open the context menu the <code>JRE System Library</code> item and select the <code>Properties</code> menu entry.</p>\n\n<p><img src=\"https://i.stack.imgur.com/2XSuc.png\" alt=\"JRE System Library - Properties\"></p>\n\n<p>You can select:</p>\n\n<ul>\n<li>One of the defined execution environments (mapped to a JRE in your preferences)</li>\n<li>One of the available JRE defined in the preferences.</li>\n<li>The workspace default JRE (also defined in the preferences)</li>\n</ul>\n\n<p>At the root of your project you have a <code>.classpath</code> file (The file might be filtered out from the <code>Package Explorer View</code>, change the filter configuration or use the <code>Navigator View</code> to open the file). It should looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8\"/&gt;\n    &lt;classpathentry kind=\"output\" path=\"bin\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>In this case, the project uses the <code>JavaSE-1.8</code> execution environment.</p>\n\n<hr>\n\n<h1>If you are using maven</h1>\n\n<p>Maven also defines what the Java version should be. You need to synchronize the Eclipse settings with what is defined in the project <code>pom.xml</code> file.</p>\n\n<p>You can achieve this with you can select <code>Maven</code> > <code>Update project configuration</code> from the Context Menu available on your project.</p>\n\n<hr>\n\n<h1>Rebuild your project</h1>\n\n<p>Sometimes Eclipse is confused (in particular if you just changed some settings). Using the clean function can help. Open the menu: <code>Project</code> > <code>Clean</code>...</p>\n\n<p><img src=\"https://i.stack.imgur.com/ULFQF.png\" alt=\"Eclipse - Clean Projects\"></p>\n\n<p>Select your project from the list or \"Clean all projects\" and check \"Start a build immediately\" if this is relevant.</p>\n\n<hr>\n\n<p>Related answers that helped me:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/26105217/91497\">@Holger in Error when using LogManager (l4j2) with Java 8 (java.lang.reflect.AnnotatedElement cannot be resolved)</a></li>\n<li><a href=\"https://stackoverflow.com/a/24302496/91497\">@mkrakhin in The type java.lang.CharSequence cannot be resolved in package declaration</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16531930,"reputation":1,"user_id":11944895,"display_name":"chandan jena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664472750,"creation_date":1664472750,"answer_id":73899576,"question_id":24590599,"body_markdown":"Simple step is delete the project from Eclipse and import it again. Works for me!!","title":"Can&#39;t do StringBuilder with Eclipse","body":"<p>Simple step is delete the project from Eclipse and import it again. Works for me!!</p>\n"}],"owner":{"display_name":"user3808464"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664472750,"creation_date":1404594661,"question_id":24590599,"body_markdown":"Recently I started to learn Java. When I try to do the following code:\r\n\r\n    public class Application {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tStringBuilder sb = new StringBuilder(&quot;&quot;);\r\n\t\t\tsb.append(&quot;a&quot;);\r\n\t\t}\r\n    }\r\n\r\nI get the following errors:\r\n\r\n&gt; The type java.lang.CharSequence cannot be resolved. It is indirectly referenced from required .class files\r\n\r\nAnd\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\r\nThe type java.lang.CharSequence cannot be resolved. It is indirectly referenced from required .class files\r\n\r\nat Application.main(Application.java:8) \r\n\r\n","title":"Can&#39;t do StringBuilder with Eclipse","body":"<p>Recently I started to learn Java. When I try to do the following code:</p>\n\n<pre><code>public class Application {\n\n    public static void main(String[] args) {\n        StringBuilder sb = new StringBuilder(\"\");\n        sb.append(\"a\");\n    }\n}\n</code></pre>\n\n<p>I get the following errors:</p>\n\n<blockquote>\n  <p>The type java.lang.CharSequence cannot be resolved. It is indirectly referenced from required .class files</p>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Error: Unresolved compilation problem:\n  The type java.lang.CharSequence cannot be resolved. It is indirectly referenced from required .class files</p>\n</blockquote>\n\n<p>at Application.main(Application.java:8) </p>\n"},{"tags":["java","barcode-scanner"],"comments":[{"owner":{"account_id":1061472,"reputation":11336,"user_id":1062992,"accept_rate":94,"display_name":"egerardus"},"score":0,"creation_date":1324680630,"post_id":6551642,"comment_id":10704274,"body_markdown":"I just answered a similar question in depth [here](http://stackoverflow.com/questions/8146840/barcode-scanner-implementation-on-java), with an example of my implementation (I didn&#39;t want to use a keyboard hook because I didn&#39;t want to require focus on the program before interpreting a scan).","body":"I just answered a similar question in depth <a href=\"http://stackoverflow.com/questions/8146840/barcode-scanner-implementation-on-java\">here</a>, with an example of my implementation (I didn&#39;t want to use a keyboard hook because I didn&#39;t want to require focus on the program before interpreting a scan)."}],"answers":[{"tags":[],"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309543846,"creation_date":1309543846,"answer_id":6551665,"question_id":6551642,"body_markdown":"i think these mostly work as keyboard input.\r\n\r\nyou could probably create a KeyListener() to check for the incoming values.","title":"barcode scanner polling","body":"<p>i think these mostly work as keyboard input.</p>\n\n<p>you could probably create a KeyListener() to check for the incoming values.</p>\n"},{"tags":[],"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1664472669,"creation_date":1664458570,"answer_id":73896467,"question_id":6551642,"body_markdown":"Yes you can listen barcode scanning detection on your whole hardware at anytime example:PC or Laptop or Tablet etc.\r\n\r\nFor that you need to add barcode scanner listener on your main file which is available to all the pages or all the urls of your application.\r\n\r\nYou can use my custome script from my answer on [stackoverflow][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73896680/14870617","title":"barcode scanner polling","body":"<p>Yes you can listen barcode scanning detection on your whole hardware at anytime example:PC or Laptop or Tablet etc.</p>\n<p>For that you need to add barcode scanner listener on your main file which is available to all the pages or all the urls of your application.</p>\n<p>You can use my custome script from my answer on <a href=\"https://stackoverflow.com/a/73896680/14870617\">stackoverflow</a></p>\n"}],"owner":{"account_id":779364,"reputation":21,"user_id":825334,"display_name":"Oliver Bernhardt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664472669,"creation_date":1309543729,"question_id":6551642,"body_markdown":"I am working with a bar code scanner and java currently. i wanted to know wether there is a possibility to poll this device. \r\n\r\nWhat I want: a popup message every time you scan a barcode\r\n\r\nWhat I dont want: is to focus a text field first to do so. \r\n\r\nI want this to run in the background so that the user only has to scan something without anything in focus. is this possible?\r\nin other words, i dont want to use it like a keyboard but more like a sensor that informs me every time a new value is available.\r\n\r\nthank in advance\r\n","title":"barcode scanner polling","body":"<p>I am working with a bar code scanner and java currently. i wanted to know wether there is a possibility to poll this device. </p>\n\n<p>What I want: a popup message every time you scan a barcode</p>\n\n<p>What I dont want: is to focus a text field first to do so. </p>\n\n<p>I want this to run in the background so that the user only has to scan something without anything in focus. is this possible?\nin other words, i dont want to use it like a keyboard but more like a sensor that informs me every time a new value is available.</p>\n\n<p>thank in advance</p>\n"},{"tags":["java","ejb","wildfly","cdi"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1663949814,"post_id":73830466,"comment_id":130367754,"body_markdown":"Have you tried to inject with `@Resource`, just like in EJBs? If I remember correctly, `@Resource` works for CDI when executed in a JEE application server, might be mistaken though (or may not work for all kinds of resources)!","body":"Have you tried to inject with <code>@Resource</code>, just like in EJBs? If I remember correctly, <code>@Resource</code> works for CDI when executed in a JEE application server, might be mistaken though (or may not work for all kinds of resources)!"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1663950161,"post_id":73830466,"comment_id":130367880,"body_markdown":"Also I have written a few things things [here](https://stackoverflow.com/a/66750926/2764255) that I think apply to your case as well.","body":"Also I have written a few things things <a href=\"https://stackoverflow.com/a/66750926/2764255\">here</a> that I think apply to your case as well."},{"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"score":0,"creation_date":1663959674,"post_id":73830466,"comment_id":130370384,"body_markdown":"Yes, I tried @NikosParaskevopoulos it. See this comment in question: &quot;But this injection only works in EJB beans&quot;. Only works on EJB, on Named fails.","body":"Yes, I tried @NikosParaskevopoulos it. See this comment in question: &quot;But this injection only works in EJB beans&quot;. Only works on EJB, on Named fails."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1664397360,"post_id":73830466,"comment_id":130465057,"body_markdown":"What specifically are you looking for in the security context? You _can&#39;t_ inject an Ejb Context... because it&#39;s CDI :) Maybe we can find something else that would work instead","body":"What specifically are you looking for in the security context? You <i>can&#39;t</i> inject an Ejb Context... because it&#39;s CDI :) Maybe we can find something else that would work instead"},{"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"score":0,"creation_date":1664398285,"post_id":73830466,"comment_id":130465275,"body_markdown":"Hi @JonathanS.Fisher. Yes, I can inject a Stateless EJB bean into a Named bean, tested and confirmed. CDI have some conflicts on this, maybe with Jakarta EE this can be resolved.","body":"Hi @JonathanS.Fisher. Yes, I can inject a Stateless EJB bean into a Named bean, tested and confirmed. CDI have some conflicts on this, maybe with Jakarta EE this can be resolved."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1664459039,"post_id":73830466,"comment_id":130480524,"body_markdown":"What specifically are you using in the Security Context?","body":"What specifically are you using in the Security Context?"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1664793387,"post_id":73830466,"comment_id":130545168,"body_markdown":"Try to make you class &quot;managed&quot; by the container by adding a `@javax.annotation.ManagedBean&#39; annotation on your class","body":"Try to make you class &quot;managed&quot; by the container by adding a `@javax.annotation.ManagedBean&#39; annotation on your class"}],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664472380,"creation_date":1663949573,"question_id":73830466,"body_markdown":"How to inject security context into CDI `@Named` bean?\r\n\r\nI need to perform some custom validations, like dynamic role names validation, so I need to inject `SessionContext`. This is done with this:\r\n\r\n```java\r\n@Resource\r\njavax.ejb.SessionContext context;\r\n```\r\n\r\nBut this injection **only works** in EJB beans, so I need to create an `@Stateless` bean just to wrap `SessionContext`, then I can inject this stateless bean into named bean and use it to access the security context.\r\n\r\nI have tried with `@Inject javax.security.enterprise.SecurityContext` also, but this do not work at all.\r\n\r\n**Obs.** If there is another approach, this will be welcome too!\r\n\r\n---\r\nEnvironment:\r\n\r\n- Wildfly 24\r\n- Java SE 11\r\n\r\nReferences\r\n\r\n- https://stackoverflow.com/questions/32317955/no-ejbcontext-available\r\n- https://www.baeldung.com/java-ee-8-security","title":"How to inject security context into CDI Named Bean","body":"<p>How to inject security context into CDI <code>@Named</code> bean?</p>\n<p>I need to perform some custom validations, like dynamic role names validation, so I need to inject <code>SessionContext</code>. This is done with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Resource\njavax.ejb.SessionContext context;\n</code></pre>\n<p>But this injection <strong>only works</strong> in EJB beans, so I need to create an <code>@Stateless</code> bean just to wrap <code>SessionContext</code>, then I can inject this stateless bean into named bean and use it to access the security context.</p>\n<p>I have tried with <code>@Inject javax.security.enterprise.SecurityContext</code> also, but this do not work at all.</p>\n<p><strong>Obs.</strong> If there is another approach, this will be welcome too!</p>\n<hr />\n<p>Environment:</p>\n<ul>\n<li>Wildfly 24</li>\n<li>Java SE 11</li>\n</ul>\n<p>References</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32317955/no-ejbcontext-available\">No EjbContext available</a></li>\n<li><a href=\"https://www.baeldung.com/java-ee-8-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-ee-8-security</a></li>\n</ul>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16078344,"reputation":126,"user_id":11604994,"display_name":"AziKar24"},"score":0,"creation_date":1664470342,"post_id":73899061,"comment_id":130485021,"body_markdown":"Can you please add the error to your post","body":"Can you please add the error to your post"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664470532,"post_id":73899061,"comment_id":130485102,"body_markdown":"Use Logcat to examine the stack trace associated with your crash. FWIW, I cover that topic in [this chapter](https://commonsware.com/Jetpack/pages/chap-debug-001.html) of [this free book](https://commonsware.com/Jetpack).","body":"Use Logcat to examine the stack trace associated with your crash. FWIW, I cover that topic in <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":26449387,"reputation":1,"user_id":20092809,"display_name":"Blek Bomor"},"score":0,"creation_date":1664471512,"post_id":73899061,"comment_id":130485420,"body_markdown":"Ok I added the Error log stack that i think is associated with this error","body":"Ok I added the Error log stack that i think is associated with this error"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1664472348,"post_id":73899061,"comment_id":130485711,"body_markdown":"It reads `Error inflating class androidx.gridlayout.widget.GridLayout`.","body":"It reads <code>Error inflating class androidx.gridlayout.widget.GridLayout</code>."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664472654,"post_id":73899061,"comment_id":130485811,"body_markdown":".. caused by &quot;Resource &quot;com.example.connect3game:drawable/board&quot; (7f070058)  is not a Drawable (color or path)&quot;. Your `@drawable/board` is not a [drawable](https://developer.android.com/guide/topics/resources/drawable-resource)","body":".. caused by &quot;Resource &quot;com.example.connect3game:drawable/board&quot; (7f070058)  is not a Drawable (color or path)&quot;. Your <code>@drawable&#47;board</code> is not a <a href=\"https://developer.android.com/guide/topics/resources/drawable-resource\" rel=\"nofollow noreferrer\">drawable</a>"},{"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"score":1,"creation_date":1664472712,"post_id":73899061,"comment_id":130485832,"body_markdown":"The error clearly says `Resource &quot;drawable/board&quot; is not a Drawable (color or path)`. Whatever you put in that file has an error. As the error says, a drawwable file has to be either a static color or an svg file, declared with a &lt;path&gt; tag in it&#39;s xml.","body":"The error clearly says <code>Resource &quot;drawable&#47;board&quot; is not a Drawable (color or path)</code>. Whatever you put in that file has an error. As the error says, a drawwable file has to be either a static color or an svg file, declared with a &lt;path&gt; tag in it&#39;s xml."},{"owner":{"account_id":26449387,"reputation":1,"user_id":20092809,"display_name":"Blek Bomor"},"score":0,"creation_date":1664473122,"post_id":73899061,"comment_id":130485960,"body_markdown":"i used the board.png as a background for the gridLayout, is that what is causing the error?","body":"i used the board.png as a background for the gridLayout, is that what is causing the error?"},{"owner":{"account_id":26449387,"reputation":1,"user_id":20092809,"display_name":"Blek Bomor"},"score":0,"creation_date":1664476058,"post_id":73899061,"comment_id":130486789,"body_markdown":"can you please help me i don&#39;t know how to fix this","body":"can you please help me i don&#39;t know how to fix this"}],"owner":{"account_id":26449387,"reputation":1,"user_id":20092809,"display_name":"Blek Bomor"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664472005,"creation_date":1664469929,"question_id":73899061,"body_markdown":"I was trying to make a dropdown effect with an ImageViews but when I try to run the app in the emulator, it gives me the &quot;Unfortunately app has stopped.&quot; I am following an android studio course and the person in the course does not have any problems with using the images and I am using the same images as his\r\n\r\n**EDIT**\r\n\r\n**I am using the legacy grid layout and there are 9 ImageView&#39;s that don&#39;t have a src and the onClick method sets the image Resource to red.png in drawables**\r\n\r\n\r\n## MainActivity.java ##\r\n```java\r\npackage com.example.connect3game;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public void dropIn (View view) {\r\n\r\n        ImageView marker = (ImageView) view;\r\n\r\n        marker.setTranslationX(-1000f);\r\n\r\n        marker.setImageResource(R.drawable.red);\r\n\r\n        marker.animate().translationX(1000f).setDuration(1500);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n\r\n### activity_main.xml ###\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.gridlayout.widget.GridLayout\r\n        android:id=&quot;@+id/gridLayout&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;420dp&quot;\r\n        android:background=&quot;@drawable/board&quot;\r\n        app:columnCount=&quot;3&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:rowCount=&quot;3&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/tLeft&quot;\r\n            android:layout_width=&quot;138dp&quot;\r\n            android:layout_height=&quot;134dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_row=&quot;0&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/tMiddle&quot;\r\n            android:layout_width=&quot;134dp&quot;\r\n            android:layout_height=&quot;132dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_row=&quot;0&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/tRight&quot;\r\n            android:layout_width=&quot;134dp&quot;\r\n            android:layout_height=&quot;134dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            app:layout_column=&quot;2&quot;\r\n            app:layout_row=&quot;0&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/bRight&quot;\r\n            android:layout_width=&quot;136dp&quot;\r\n            android:layout_height=&quot;136dp&quot;\r\n            android:adjustViewBounds=&quot;true&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;2&quot;\r\n            app:layout_row=&quot;2&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/bMiddle&quot;\r\n            android:layout_width=&quot;135dp&quot;\r\n            android:layout_height=&quot;136dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_row=&quot;2&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/bLeft&quot;\r\n            android:layout_width=&quot;136dp&quot;\r\n            android:layout_height=&quot;136dp&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_row=&quot;2&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/mRight&quot;\r\n            android:layout_width=&quot;136dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;2&quot;\r\n            app:layout_row=&quot;1&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/mMiddle&quot;\r\n            android:layout_width=&quot;135dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;1&quot;\r\n            app:layout_row=&quot;1&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/mLeft&quot;\r\n            android:layout_width=&quot;135dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:alpha=&quot;1&quot;\r\n            android:onClick=&quot;dropIn&quot;\r\n            app:layout_column=&quot;0&quot;\r\n            app:layout_row=&quot;1&quot; /&gt;\r\n\r\n    &lt;/androidx.gridlayout.widget.GridLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n### Error Log ###\r\n```\r\n2022-09-29 22:10:30.544 3425-3425/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.connect3game, PID: 3425\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.connect3game/com.example.connect3game.MainActivity}: android.view.InflateException: Binary XML file line #9: Error inflating class androidx.gridlayout.widget.GridLayout\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n     Caused by: android.view.InflateException: Binary XML file line #9: Error inflating class androidx.gridlayout.widget.GridLayout\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:633)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.example.connect3game.MainActivity.onCreate(MainActivity.java:29)\r\n        at android.app.Activity.performCreate(Activity.java:5990)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:607)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)&#160;\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)&#160;\r\n        at com.example.connect3game.MainActivity.onCreate(MainActivity.java:29)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:5990)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n     Caused by: android.content.res.Resources$NotFoundException: Resource &quot;com.example.connect3game:drawable/board&quot; (7f070058)  is not a Drawable (color or path): TypedValue{t=0x1/d=0x7f070058 a=-1 r=0x7f070058}\r\n        at android.content.res.Resources.loadDrawableForCookie(Resources.java:2441)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:2381)\r\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:749)\r\n        at android.view.View.&lt;init&gt;(View.java:3737)\r\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:497)\r\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:493)\r\n        at androidx.gridlayout.widget.GridLayout.&lt;init&gt;(GridLayout.java:272)\r\n        at androidx.gridlayout.widget.GridLayout.&lt;init&gt;(GridLayout.java:292)\r\n        at java.lang.reflect.Constructor.newInstance(Native Method)&#160;\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:288)&#160;\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:607)&#160;\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)&#160;\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)&#160;\r\n        at com.example.connect3game.MainActivity.onCreate(MainActivity.java:29)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:5990)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n```","title":"Application crashes on start in Android Studio","body":"<p>I was trying to make a dropdown effect with an ImageViews but when I try to run the app in the emulator, it gives me the &quot;Unfortunately app has stopped.&quot; I am following an android studio course and the person in the course does not have any problems with using the images and I am using the same images as his</p>\n<p><strong>EDIT</strong></p>\n<p><strong>I am using the legacy grid layout and there are 9 ImageView's that don't have a src and the onClick method sets the image Resource to red.png in drawables</strong></p>\n<h2>MainActivity.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.connect3game;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public void dropIn (View view) {\n\n        ImageView marker = (ImageView) view;\n\n        marker.setTranslationX(-1000f);\n\n        marker.setImageResource(R.drawable.red);\n\n        marker.animate().translationX(1000f).setDuration(1500);\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<h3>activity_main.xml</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.gridlayout.widget.GridLayout\n        android:id=&quot;@+id/gridLayout&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;420dp&quot;\n        android:background=&quot;@drawable/board&quot;\n        app:columnCount=&quot;3&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:rowCount=&quot;3&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/tLeft&quot;\n            android:layout_width=&quot;138dp&quot;\n            android:layout_height=&quot;134dp&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_row=&quot;0&quot;\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/tMiddle&quot;\n            android:layout_width=&quot;134dp&quot;\n            android:layout_height=&quot;132dp&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;1&quot;\n            app:layout_row=&quot;0&quot;\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/tRight&quot;\n            android:layout_width=&quot;134dp&quot;\n            android:layout_height=&quot;134dp&quot;\n            android:alpha=&quot;1&quot;\n            app:layout_column=&quot;2&quot;\n            app:layout_row=&quot;0&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/bRight&quot;\n            android:layout_width=&quot;136dp&quot;\n            android:layout_height=&quot;136dp&quot;\n            android:adjustViewBounds=&quot;true&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;2&quot;\n            app:layout_row=&quot;2&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/bMiddle&quot;\n            android:layout_width=&quot;135dp&quot;\n            android:layout_height=&quot;136dp&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;1&quot;\n            app:layout_row=&quot;2&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/bLeft&quot;\n            android:layout_width=&quot;136dp&quot;\n            android:layout_height=&quot;136dp&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_row=&quot;2&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/mRight&quot;\n            android:layout_width=&quot;136dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;2&quot;\n            app:layout_row=&quot;1&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/mMiddle&quot;\n            android:layout_width=&quot;135dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;1&quot;\n            app:layout_row=&quot;1&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/mLeft&quot;\n            android:layout_width=&quot;135dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:alpha=&quot;1&quot;\n            android:onClick=&quot;dropIn&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_row=&quot;1&quot; /&gt;\n\n    &lt;/androidx.gridlayout.widget.GridLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h3>Error Log</h3>\n<pre><code>2022-09-29 22:10:30.544 3425-3425/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.connect3game, PID: 3425\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.connect3game/com.example.connect3game.MainActivity}: android.view.InflateException: Binary XML file line #9: Error inflating class androidx.gridlayout.widget.GridLayout\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: android.view.InflateException: Binary XML file line #9: Error inflating class androidx.gridlayout.widget.GridLayout\n        at android.view.LayoutInflater.createView(LayoutInflater.java:633)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.example.connect3game.MainActivity.onCreate(MainActivity.java:29)\n        at android.app.Activity.performCreate(Activity.java:5990)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) \n        at android.app.ActivityThread.access$800(ActivityThread.java:151) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:135) \n        at android.app.ActivityThread.main(ActivityThread.java:5254) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:607)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365) \n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710) \n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195) \n        at com.example.connect3game.MainActivity.onCreate(MainActivity.java:29) \n        at android.app.Activity.performCreate(Activity.java:5990) \n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) \n        at android.app.ActivityThread.access$800(ActivityThread.java:151) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:135) \n        at android.app.ActivityThread.main(ActivityThread.java:5254) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n     Caused by: android.content.res.Resources$NotFoundException: Resource &quot;com.example.connect3game:drawable/board&quot; (7f070058)  is not a Drawable (color or path): TypedValue{t=0x1/d=0x7f070058 a=-1 r=0x7f070058}\n        at android.content.res.Resources.loadDrawableForCookie(Resources.java:2441)\n        at android.content.res.Resources.loadDrawable(Resources.java:2381)\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:749)\n        at android.view.View.&lt;init&gt;(View.java:3737)\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:497)\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:493)\n        at androidx.gridlayout.widget.GridLayout.&lt;init&gt;(GridLayout.java:272)\n        at androidx.gridlayout.widget.GridLayout.&lt;init&gt;(GridLayout.java:292)\n        at java.lang.reflect.Constructor.newInstance(Native Method) \n        at java.lang.reflect.Constructor.newInstance(Constructor.java:288) \n        at android.view.LayoutInflater.createView(LayoutInflater.java:607) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365) \n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710) \n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195) \n        at com.example.connect3game.MainActivity.onCreate(MainActivity.java:29) \n        at android.app.Activity.performCreate(Activity.java:5990) \n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) \n        at android.app.ActivityThread.access$800(ActivityThread.java:151) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:135) \n        at android.app.ActivityThread.main(ActivityThread.java:5254) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":4,"creation_date":1264418149,"post_id":2131802,"comment_id":2071094,"body_markdown":"Have a look at a Set perhaps its more suited to what you need?","body":"Have a look at a Set perhaps its more suited to what you need?"},{"owner":{"account_id":55219,"reputation":58940,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"score":4,"creation_date":1264418555,"post_id":2131802,"comment_id":2071136,"body_markdown":"Then you&#39;re gonna have to `get()` and check for `null` - don&#39;t rely on exceptions though. Consider using a `HashTable` instead http://java.sun.com/j2se/1.4.2/docs/api/java/util/Hashtable.html","body":"Then you&#39;re gonna have to <code>get()</code> and check for <code>null</code> - don&#39;t rely on exceptions though. Consider using a <code>HashTable</code> instead <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Hashtable.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/util/Hashtable.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":55219,"reputation":58940,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"down_vote_count":4,"up_vote_count":213,"is_accepted":true,"score":209,"last_activity_date":1647035076,"creation_date":1264418091,"answer_id":2131825,"question_id":2131802,"body_markdown":"The method `arrayList.size()` [returns][1] the number of items in the list - so if the index is greater than or equal to the `size()`, it doesn&#39;t exist.\r\n\r\n    if(index &gt;= myList.size() || index &lt; 0){\r\n      //index does not exists\r\n    }else{\r\n     // index exists\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html#size()","title":"ArrayList - how can I check if an index exists?","body":"<p>The method <code>arrayList.size()</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Hashtable.html#size()\" rel=\"noreferrer\">returns</a> the number of items in the list - so if the index is greater than or equal to the <code>size()</code>, it doesn't exist.</p>\n<pre><code>if(index &gt;= myList.size() || index &lt; 0){\n  //index does not exists\n}else{\n // index exists\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":881286,"reputation":3740,"user_id":188094,"display_name":"Dmitry"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1264418108,"creation_date":1264418108,"answer_id":2131827,"question_id":2131802,"body_markdown":"If your index is less than the size of your list then it does exist, possibly with `null` value. If index is bigger then you may call `ensureCapacity()`  to be able to use that index.\r\n\r\nIf you want to check if a value at your index is `null` or not, call `get()`","title":"ArrayList - how can I check if an index exists?","body":"<p>If your index is less than the size of your list then it does exist, possibly with <code>null</code> value. If index is bigger then you may call <code>ensureCapacity()</code>  to be able to use that index.</p>\n\n<p>If you want to check if a value at your index is <code>null</code> or not, call <code>get()</code></p>\n"},{"tags":[],"owner":{"account_id":37202,"reputation":6114,"user_id":106315,"accept_rate":93,"display_name":"jwoolard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1264418140,"creation_date":1264418140,"answer_id":2131831,"question_id":2131802,"body_markdown":"You can check the size of an `ArrayList` using the `size()` method. This will return the maximum index +1","title":"ArrayList - how can I check if an index exists?","body":"<p>You can check the size of an <code>ArrayList</code> using the <code>size()</code> method. This will return the maximum index +1</p>\n"},{"tags":[],"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264419027,"creation_date":1264418599,"answer_id":2131863,"question_id":2131802,"body_markdown":"You could check for the size of the array.\r\n\r\n    package sojava;\r\n    import java.util.ArrayList;\r\n\r\n    public class Main {\r\n        public static Object get(ArrayList list, int index) {\r\n            if (list.size() &gt; index) { return list.get(index); }\r\n            return null;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            ArrayList list = new ArrayList();\r\n            list.add(&quot;&quot;); list.add(&quot;&quot;); list.add(&quot;&quot;);        \r\n            System.out.println(get(list, 4));\r\n            // prints &#39;null&#39;\r\n        }\r\n    }\r\n","title":"ArrayList - how can I check if an index exists?","body":"<p>You could check for the size of the array.</p>\n\n<pre><code>package sojava;\nimport java.util.ArrayList;\n\npublic class Main {\n    public static Object get(ArrayList list, int index) {\n        if (list.size() &gt; index) { return list.get(index); }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        ArrayList list = new ArrayList();\n        list.add(\"\"); list.add(\"\"); list.add(\"\");        \n        System.out.println(get(list, 4));\n        // prints 'null'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1335121144,"creation_date":1264419032,"answer_id":2131898,"question_id":2131802,"body_markdown":"This is what you need ...\r\n\r\n    public boolean indexExists(final List list, final int index) {\r\n        return index &gt;= 0 &amp;&amp; index &lt; list.size();\r\n    }\r\n\r\nWhy not use an plain old array? Indexed access to a List is a code smell I think.","title":"ArrayList - how can I check if an index exists?","body":"<p>This is what you need ...</p>\n\n<pre><code>public boolean indexExists(final List list, final int index) {\n    return index &gt;= 0 &amp;&amp; index &lt; list.size();\n}\n</code></pre>\n\n<p>Why not use an plain old array? Indexed access to a List is a code smell I think.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1264419209,"creation_date":1264419209,"answer_id":2131914,"question_id":2131802,"body_markdown":"Regarding your update (which probably should be another question).\r\nYou should use an array of these objects instead an ArrayList,\r\nso you can simply check the value for null:\r\n\r\n    Object[] array = new Object[MAX_ENTRIES];\r\n    ..\r\n    if ( array[ 8 ] == null ) {\r\n       // not available\r\n    }\r\n    else {\r\n       // do something\r\n    }\r\n\r\nBest-Practice\r\n\r\nIf you don&#39;t have hundred of entries in your array you should consider organizing it as a class to get rid of the magic numbers 3,8 etc.\r\n\r\nControl flow using exception is bad practice.\r\n","title":"ArrayList - how can I check if an index exists?","body":"<p>Regarding your update (which probably should be another question).\nYou should use an array of these objects instead an ArrayList,\nso you can simply check the value for null:</p>\n\n<pre><code>Object[] array = new Object[MAX_ENTRIES];\n..\nif ( array[ 8 ] == null ) {\n   // not available\n}\nelse {\n   // do something\n}\n</code></pre>\n\n<p>Best-Practice</p>\n\n<p>If you don't have hundred of entries in your array you should consider organizing it as a class to get rid of the magic numbers 3,8 etc.</p>\n\n<p>Control flow using exception is bad practice.</p>\n"},{"tags":[],"owner":{"account_id":997836,"reputation":915,"user_id":1013366,"display_name":"pli"},"down_vote_count":3,"up_vote_count":90,"is_accepted":false,"score":87,"last_activity_date":1321974298,"creation_date":1321974298,"answer_id":8228964,"question_id":2131802,"body_markdown":"While you got a dozen suggestions about using the size of your list, which work for lists with linear entries, no one seemed to read your question.\r\n\r\nIf you add entries manually at different indexes none of these suggestions will work, as you need to check for a specific index.\r\n\r\nUsing *if ( list.get(index) == null )* will not work either, as get() throws an exception instead of returning null.\r\n\r\nTry this:\r\n\r\n    try {\r\n        list.get( index );\r\n    } catch ( IndexOutOfBoundsException e ) {\r\n        list.add( index, new Object() );\r\n    }\r\n\r\nHere a new entry is added if the index does not exist. You can alter it to do something different.","title":"ArrayList - how can I check if an index exists?","body":"<p>While you got a dozen suggestions about using the size of your list, which work for lists with linear entries, no one seemed to read your question.</p>\n\n<p>If you add entries manually at different indexes none of these suggestions will work, as you need to check for a specific index.</p>\n\n<p>Using <em>if ( list.get(index) == null )</em> will not work either, as get() throws an exception instead of returning null.</p>\n\n<p>Try this:</p>\n\n<pre><code>try {\n    list.get( index );\n} catch ( IndexOutOfBoundsException e ) {\n    list.add( index, new Object() );\n}\n</code></pre>\n\n<p>Here a new entry is added if the index does not exist. You can alter it to do something different.</p>\n"},{"tags":[],"owner":{"account_id":2500239,"reputation":3969,"user_id":2175572,"accept_rate":93,"display_name":"t3dodson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397167234,"creation_date":1366499250,"answer_id":16126153,"question_id":2131802,"body_markdown":"Quick and dirty test for whether an index exists or not. in your implementation replace list With your list you are testing.\r\n\r\n    public boolean hasIndex(int index){\r\n    \tif(index &lt; list.size())\r\n    \t\treturn true;\r\n    \treturn false;\r\n    }\r\n\r\nor for 2Dimensional ArrayLists...\r\n\r\n    public boolean hasRow(int row){\r\n    \tif(row &lt; _matrix.size())\r\n    \t\treturn true;\r\n    \treturn false;\r\n    }","title":"ArrayList - how can I check if an index exists?","body":"<p>Quick and dirty test for whether an index exists or not. in your implementation replace list With your list you are testing.</p>\n\n<pre><code>public boolean hasIndex(int index){\n    if(index &lt; list.size())\n        return true;\n    return false;\n}\n</code></pre>\n\n<p>or for 2Dimensional ArrayLists...</p>\n\n<pre><code>public boolean hasRow(int row){\n    if(row &lt; _matrix.size())\n        return true;\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1634143628,"creation_date":1488045292,"answer_id":42459570,"question_id":2131802,"body_markdown":"Since Java 9 there is a standard way of checking if an index belongs to the array - [Objects#checkIndex()][1] :\r\n\r\n    List&lt;Integer&gt; ints = List.of(1,2,3);\r\n    System.out.println(Objects.checkIndex(1,ints.size())); // 1\r\n    System.out.println(Objects.checkIndex(10,ints.size())); //IndexOutOfBoundsException\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#checkIndex-int-int-","title":"ArrayList - how can I check if an index exists?","body":"<p>Since Java 9 there is a standard way of checking if an index belongs to the array - <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Objects.html#checkIndex-int-int-\" rel=\"nofollow noreferrer\">Objects#checkIndex()</a> :</p>\n<pre><code>List&lt;Integer&gt; ints = List.of(1,2,3);\nSystem.out.println(Objects.checkIndex(1,ints.size())); // 1\nSystem.out.println(Objects.checkIndex(10,ints.size())); //IndexOutOfBoundsException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1292859,"reputation":11892,"user_id":1244597,"accept_rate":73,"display_name":"AamirR"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1526717549,"creation_date":1515959926,"answer_id":48253618,"question_id":2131802,"body_markdown":"Usually I just check if the index is less than the array size\r\n\r\n    if (index &lt; list.size()) {\r\n        ...\r\n    }\r\n\r\nIf you are also concerned of index being a negative value, use following\r\n\r\n    if (index &gt;= 0 &amp;&amp; index &lt; list.size()) {\r\n        ...\r\n    }\r\n","title":"ArrayList - how can I check if an index exists?","body":"<p>Usually I just check if the index is less than the array size</p>\n\n<pre><code>if (index &lt; list.size()) {\n    ...\n}\n</code></pre>\n\n<p>If you are also concerned of index being a negative value, use following</p>\n\n<pre><code>if (index &gt;= 0 &amp;&amp; index &lt; list.size()) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9842404,"reputation":19,"user_id":7704883,"display_name":"Josu&#233;"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1528245476,"creation_date":1528243730,"answer_id":50710559,"question_id":2131802,"body_markdown":"a simple way to do this:\r\n\r\n    try {\r\n      list.get( index ); \r\n    } \r\n    catch ( IndexOutOfBoundsException e ) {\r\n      if(list.isEmpty() || index &gt;= list.size()){\r\n        // Adding new item to list.\r\n      }\r\n    }\r\n\r\n","title":"ArrayList - how can I check if an index exists?","body":"<p>a simple way to do this:</p>\n\n<pre><code>try {\n  list.get( index ); \n} \ncatch ( IndexOutOfBoundsException e ) {\n  if(list.isEmpty() || index &gt;= list.size()){\n    // Adding new item to list.\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1664471423,"creation_date":1632733627,"answer_id":69344028,"question_id":2131802,"body_markdown":"This is for [Kotlin][1] developers ending up here:\r\n\r\n```kotlin\r\nif (index in myList.indices) {\r\n  // index is valid\r\n}\r\n```\r\n\r\nOther solutions:\r\n\r\n```kotlin\r\n// The rangeUntil operator (..&lt;) is still exprimental in Kotlin 1.7.20\r\nif (index in 0..&lt;myList.size) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\nif (index in 0 until myList.size) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\nif (index in 0..myList.lastIndex) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\nif (index &gt;= 0 &amp;&amp; index &lt;= myList.lastIndex) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\n// Note: elements of the list should be non-null\r\nif (myList.getOrNull(index) != null) {\r\n  // index is valid\r\n}\r\n```\r\n\r\n```kotlin\r\n// Note: elements of the list should be non-null\r\nmyList.getOrNull(index)?.let { element -&gt;\r\n  // index is valid; use the element\r\n}\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/","title":"ArrayList - how can I check if an index exists?","body":"<p>This is for <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> developers ending up here:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index in myList.indices) {\n  // index is valid\n}\n</code></pre>\n<p>Other solutions:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// The rangeUntil operator (..&lt;) is still exprimental in Kotlin 1.7.20\nif (index in 0..&lt;myList.size) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index in 0 until myList.size) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index in 0..myList.lastIndex) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (index &gt;= 0 &amp;&amp; index &lt;= myList.lastIndex) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Note: elements of the list should be non-null\nif (myList.getOrNull(index) != null) {\n  // index is valid\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Note: elements of the list should be non-null\nmyList.getOrNull(index)?.let { element -&gt;\n  // index is valid; use the element\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24538782,"reputation":1,"user_id":18449437,"display_name":"NiMzZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654680830,"creation_date":1654680830,"answer_id":72543330,"question_id":2131802,"body_markdown":"    Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the index to check&quot;);\r\n        int i  = input.nextInt();\r\n        if (i &gt; tasksList.size() || i &lt; 0 ){\r\n            System.out.println(&quot;invalid input&quot;);\r\n        }else {\r\n                //your code\r\n            }","title":"ArrayList - how can I check if an index exists?","body":"<pre><code>Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter the index to check&quot;);\n    int i  = input.nextInt();\n    if (i &gt; tasksList.size() || i &lt; 0 ){\n        System.out.println(&quot;invalid input&quot;);\n    }else {\n            //your code\n        }\n</code></pre>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318484,"favorite_count":0,"down_vote_count":2,"up_vote_count":144,"accepted_answer_id":2131825,"answer_count":13,"score":142,"last_activity_date":1664471423,"creation_date":1264417839,"question_id":2131802,"body_markdown":"I&#39;m using `ArrayList&lt;String&gt;` and I add data at specific indices, how can I check if a specific index exists? \r\n\r\nShould I simply `get()` and check the value? Or should I wait for an exception? \r\nIs there another way?\r\n\r\n**Update:** Thank you for your answers, but because I&#39;m only adding stuff at specific indices, the length of the list will not show me which are available.","title":"ArrayList - how can I check if an index exists?","body":"<p>I'm using <code>ArrayList&lt;String&gt;</code> and I add data at specific indices, how can I check if a specific index exists?</p>\n<p>Should I simply <code>get()</code> and check the value? Or should I wait for an exception?\nIs there another way?</p>\n<p><strong>Update:</strong> Thank you for your answers, but because I'm only adding stuff at specific indices, the length of the list will not show me which are available.</p>\n"},{"tags":["java","spring","spring-shell"],"answers":[{"tags":[],"owner":{"account_id":6899391,"reputation":173,"user_id":5299488,"display_name":"Mehmet Bektaş"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664471383,"creation_date":1664471383,"answer_id":73899348,"question_id":73899214,"body_markdown":"You can declare method that have multiple parameters. For example you can try this below.\r\n        \r\n    @ShellMethod\r\n    public String example(\r\n    \t@ShellOption(value = { &quot;-a&quot; }) String arg1,\r\n    \t@ShellOption(value = { &quot;-b&quot; }) String arg2,\r\n    \t@ShellOption(value = { &quot;-c&quot; }) String arg3\r\n    ) {\r\n    \treturn &quot;Hello &quot; + arg1;\r\n    }\r\n\r\nFor details, you can read the documents in [Spring Shell Documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-shell/docs/2.1.1/site/reference/htmlsingle/#using-shell-options","title":"How to prevent automatic assignment of arguments in the absence of their switch in spring shell version 2.x?","body":"<p>You can declare method that have multiple parameters. For example you can try this below.</p>\n<pre><code>@ShellMethod\npublic String example(\n    @ShellOption(value = { &quot;-a&quot; }) String arg1,\n    @ShellOption(value = { &quot;-b&quot; }) String arg2,\n    @ShellOption(value = { &quot;-c&quot; }) String arg3\n) {\n    return &quot;Hello &quot; + arg1;\n}\n</code></pre>\n<p>For details, you can read the documents in <a href=\"https://docs.spring.io/spring-shell/docs/2.1.1/site/reference/htmlsingle/#using-shell-options\" rel=\"nofollow noreferrer\">Spring Shell Documentation</a></p>\n"}],"owner":{"account_id":6364163,"reputation":188,"user_id":4938634,"display_name":"kvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664471383,"creation_date":1664470621,"question_id":73899214,"body_markdown":"I have switched to spring shell version 2. Consider I have a command accepting one argument:\r\n```\r\n@shellMethod\r\npublic void greet(@ShellOption String name){\r\n   System.out.println(String.format(&quot;Hello %s&quot;, name);\r\n}\r\n```\r\nThe behavior in case of entering `greet --name Bakir` and `greet Bakir` is the same. Meaning that the spring shell assigns Bakir to `name` even if it is not specified by the user. In case there are multiple arguments and the user forgets to enter one switch in the right place (depending on the method&#39;s args list order) would lead to a silent error. \r\nIs there any way to stop this kind of assignment in spring shell 2.x?","title":"How to prevent automatic assignment of arguments in the absence of their switch in spring shell version 2.x?","body":"<p>I have switched to spring shell version 2. Consider I have a command accepting one argument:</p>\n<pre><code>@shellMethod\npublic void greet(@ShellOption String name){\n   System.out.println(String.format(&quot;Hello %s&quot;, name);\n}\n</code></pre>\n<p>The behavior in case of entering <code>greet --name Bakir</code> and <code>greet Bakir</code> is the same. Meaning that the spring shell assigns Bakir to <code>name</code> even if it is not specified by the user. In case there are multiple arguments and the user forgets to enter one switch in the right place (depending on the method's args list order) would lead to a silent error.\nIs there any way to stop this kind of assignment in spring shell 2.x?</p>\n"},{"tags":["java","formula","fibonacci","biginteger"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1664466738,"post_id":73895947,"comment_id":130483760,"body_markdown":"1) division by `2` does not need rounding (and we could use `BigDecimal.TWO`); 2) `Math.sqrt` is not precise enough, why not use the previously calculated value using `BigDecimal.sqrt`? 3) not relevant for such index, but `phi2` does not correspond the posted link formula (subtracting ONE from `sqrtr(5)`, instead of ONE minus `sqrt(5)`); 4) not an error, but the code is a bit hard to read or to compare with the formula  (better naming or intermediate values)","body":"1) division by <code>2</code> does not need rounding (and we could use <code>BigDecimal.TWO</code>); 2) <code>Math.sqrt</code> is not precise enough, why not use the previously calculated value using <code>BigDecimal.sqrt</code>? 3) not relevant for such index, but <code>phi2</code> does not correspond the posted link formula (subtracting ONE from <code>sqrtr(5)</code>, instead of ONE minus <code>sqrt(5)</code>); 4) not an error, but the code is a bit hard to read or to compare with the formula  (better naming or intermediate values)"}],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664471290,"creation_date":1664467829,"answer_id":73898639,"question_id":73895947,"body_markdown":"I found two problems regarding the precision of your calculations. First, the divide needs a higher scale value. Second, in the end you cast the result to a `BigInteger`, which simply cuts off the decimal places. You need to round the value to an integer value first. I also restructured your method a little:\r\n\r\n```\r\npublic static BigInteger getFibonacciNumber(int index) {\r\n    if (index == 0) return BigInteger.ZERO;\r\n    if (index == 1) return BigInteger.ONE;\r\n\r\n    BigDecimal sqrt5 = new BigDecimal(5).sqrt(MathContext.DECIMAL128);\r\n\r\n    BigDecimal PHI = BigDecimal.ONE.add(sqrt5).divide(new BigDecimal(2), RoundingMode.HALF_UP);\r\n    BigDecimal phi = BigDecimal.ONE.subtract(sqrt5).divide(new BigDecimal(2), RoundingMode.HALF_UP);\r\n\r\n    BigDecimal p1 = PHI.pow(index, MathContext.DECIMAL128);\r\n    BigDecimal p2 = phi.pow(index, MathContext.DECIMAL128);\r\n    p1 = p1.subtract(p2);\r\n\r\n    p1 = p1.divide(sqrt5, 50, RoundingMode.HALF_UP);\r\n\r\n    return p1.setScale(0, RoundingMode.HALF_UP).toBigInteger();\r\n}\r\n```\r\nIf you input 100 the result is as expected:\r\n```\r\n354224848179261915075\r\n```\r\n\r\nEdit: Had to make the precision even higher as the result was still a little bit off","title":"Fibonacci nth term formula with BigInteger in java","body":"<p>I found two problems regarding the precision of your calculations. First, the divide needs a higher scale value. Second, in the end you cast the result to a <code>BigInteger</code>, which simply cuts off the decimal places. You need to round the value to an integer value first. I also restructured your method a little:</p>\n<pre><code>public static BigInteger getFibonacciNumber(int index) {\n    if (index == 0) return BigInteger.ZERO;\n    if (index == 1) return BigInteger.ONE;\n\n    BigDecimal sqrt5 = new BigDecimal(5).sqrt(MathContext.DECIMAL128);\n\n    BigDecimal PHI = BigDecimal.ONE.add(sqrt5).divide(new BigDecimal(2), RoundingMode.HALF_UP);\n    BigDecimal phi = BigDecimal.ONE.subtract(sqrt5).divide(new BigDecimal(2), RoundingMode.HALF_UP);\n\n    BigDecimal p1 = PHI.pow(index, MathContext.DECIMAL128);\n    BigDecimal p2 = phi.pow(index, MathContext.DECIMAL128);\n    p1 = p1.subtract(p2);\n\n    p1 = p1.divide(sqrt5, 50, RoundingMode.HALF_UP);\n\n    return p1.setScale(0, RoundingMode.HALF_UP).toBigInteger();\n}\n</code></pre>\n<p>If you input 100 the result is as expected:</p>\n<pre><code>354224848179261915075\n</code></pre>\n<p>Edit: Had to make the precision even higher as the result was still a little bit off</p>\n"}],"owner":{"account_id":16851175,"reputation":523,"user_id":12184173,"display_name":"Simon B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73898639,"answer_count":1,"score":1,"last_activity_date":1664471290,"creation_date":1664456207,"question_id":73895947,"body_markdown":"I&#39;m trying to solve the nth term of fibonacci series based on [this][1] formula.\r\n\r\n\r\n  [1]: https://math.hmc.edu/funfacts/fibonacci-number-formula/\r\n\r\nHere is my code : \r\n```java\r\npublic BigInteger getFibonacciNumber(int index) {\r\n        final Instant start = Instant.now();\r\n\r\n        if (index == 0) return BigInteger.ZERO;\r\n        if (index == 1) return BigInteger.ONE;\r\n\r\n        BigDecimal phi1 = new BigDecimal(&quot;5&quot;);\r\n        phi1 = phi1.sqrt(MathContext.DECIMAL128);\r\n        BigDecimal phi2 = phi1.subtract(BigDecimal.ONE);\r\n        phi1 = phi1.add(BigDecimal.ONE);\r\n        phi1 = phi1.divide(new BigDecimal(&quot;2&quot;), 8, RoundingMode.HALF_EVEN);\r\n        phi2 = phi2.divide(new BigDecimal(&quot;2&quot;), 8, RoundingMode.HALF_EVEN);\r\n\r\n\r\n        BigDecimal p1 = phi1.pow(index);\r\n        BigDecimal p2 = phi2.pow(index);\r\n        p1 = p1.subtract(p2);\r\n        BigDecimal sqrt5 = BigDecimal.valueOf(Math.sqrt(5));\r\n        p1 = p1.divide(sqrt5, 8, RoundingMode.HALF_EVEN);\r\n        Log.infov(\r\n                &quot;Fibonacci number for index {0} computed in {1}&quot;,\r\n                index, Duration.between(start, Instant.now()));\r\n        return p1.toBigInteger();\r\n    }\r\n```\r\n\r\nBut I have problems, for example, with the 100th term, I expect `354224848179261915075` when I get `354224875546939407559`. I think that there&#39;s a problem with the scale or the rounding method of the BigDecimal but I don&#39;t know how to resolve it. Do you have any idea?","title":"Fibonacci nth term formula with BigInteger in java","body":"<p>I'm trying to solve the nth term of fibonacci series based on <a href=\"https://math.hmc.edu/funfacts/fibonacci-number-formula/\" rel=\"nofollow noreferrer\">this</a> formula.</p>\n<p>Here is my code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public BigInteger getFibonacciNumber(int index) {\n        final Instant start = Instant.now();\n\n        if (index == 0) return BigInteger.ZERO;\n        if (index == 1) return BigInteger.ONE;\n\n        BigDecimal phi1 = new BigDecimal(&quot;5&quot;);\n        phi1 = phi1.sqrt(MathContext.DECIMAL128);\n        BigDecimal phi2 = phi1.subtract(BigDecimal.ONE);\n        phi1 = phi1.add(BigDecimal.ONE);\n        phi1 = phi1.divide(new BigDecimal(&quot;2&quot;), 8, RoundingMode.HALF_EVEN);\n        phi2 = phi2.divide(new BigDecimal(&quot;2&quot;), 8, RoundingMode.HALF_EVEN);\n\n\n        BigDecimal p1 = phi1.pow(index);\n        BigDecimal p2 = phi2.pow(index);\n        p1 = p1.subtract(p2);\n        BigDecimal sqrt5 = BigDecimal.valueOf(Math.sqrt(5));\n        p1 = p1.divide(sqrt5, 8, RoundingMode.HALF_EVEN);\n        Log.infov(\n                &quot;Fibonacci number for index {0} computed in {1}&quot;,\n                index, Duration.between(start, Instant.now()));\n        return p1.toBigInteger();\n    }\n</code></pre>\n<p>But I have problems, for example, with the 100th term, I expect <code>354224848179261915075</code> when I get <code>354224875546939407559</code>. I think that there's a problem with the scale or the rounding method of the BigDecimal but I don't know how to resolve it. Do you have any idea?</p>\n"},{"tags":["java","string","delimiter"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664465063,"creation_date":1664464379,"answer_id":73897882,"question_id":73897776,"body_markdown":"You could use a regex replacement approach:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;-A123456-B987-013691-000-109264821&quot;;\r\n    String output = &quot;([^-]*(?:-[^-]+){2}).*&quot;, &quot;$1&quot;);\r\n    System.out.println(output);  // -A123456-B987\r\n\r\nThe regex pattern used here says to match:\r\n\r\n - `(` open capture group\r\n   - `[^-]*` match optional first term\r\n   - `(?:-[^-]+){2}` then match - and a term, twice\r\n - `)` close capture group, available as `$1`\r\n - `.*` consume the remainder of the string","title":"Parse from end to start of a String to grab data before the third occurrence of a delimiter","body":"<p>You could use a regex replacement approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;-A123456-B987-013691-000-109264821&quot;;\nString output = &quot;([^-]*(?:-[^-]+){2}).*&quot;, &quot;$1&quot;);\nSystem.out.println(output);  // -A123456-B987\n</code></pre>\n<p>The regex pattern used here says to match:</p>\n<ul>\n<li><code>(</code> open capture group\n<ul>\n<li><code>[^-]*</code> match optional first term</li>\n<li><code>(?:-[^-]+){2}</code> then match - and a term, twice</li>\n</ul>\n</li>\n<li><code>)</code> close capture group, available as <code>$1</code></li>\n<li><code>.*</code> consume the remainder of the string</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664471089,"creation_date":1664465844,"answer_id":73898203,"question_id":73897776,"body_markdown":"You could match the three dashes from behind with the `$` symbol and then extract everything that is in front of that. I created two capture groups, where the first one is what you want to extract:\r\n\r\n```\r\nprivate static String extractFront(String input1) {\r\n    if(input1.equals(&quot;-NONE----&quot;)) {\r\n       return input1;\r\n    } else {\r\n    Pattern pattern = Pattern.compile(&quot;(.*)(-[^-]*){3}$&quot;);\r\n    Matcher matcher = pattern.matcher(input1);\r\n    if (matcher.find()) {\r\n        return matcher.group(1);\r\n    }\r\n    return null;\r\n    }\r\n}\r\n```\r\n\r\nMain to test:\r\n```\r\npublic static void main(String[] args) {\r\n    String input1 = &quot;-A123456-B987-013691-000-109264821&quot;;\r\n    String input2 = &quot;-NONE----&quot;;\r\n    String input3 = &quot;C1234567-A1241-EF-012361-000-18273460&quot;;\r\n\r\n    System.out.println(extractFront(input1));\r\n    System.out.println(extractFront(input2));\r\n    System.out.println(extractFront(input3));\r\n}\r\n```\r\nOutput:\r\n```\r\n-A123456-B987\r\n-NONE----\r\nC1234567-A1241-EF\r\n```\r\n\r\nEDIT: @stubbleweb1995 added the `if` condition for a complete solution","title":"Parse from end to start of a String to grab data before the third occurrence of a delimiter","body":"<p>You could match the three dashes from behind with the <code>$</code> symbol and then extract everything that is in front of that. I created two capture groups, where the first one is what you want to extract:</p>\n<pre><code>private static String extractFront(String input1) {\n    if(input1.equals(&quot;-NONE----&quot;)) {\n       return input1;\n    } else {\n    Pattern pattern = Pattern.compile(&quot;(.*)(-[^-]*){3}$&quot;);\n    Matcher matcher = pattern.matcher(input1);\n    if (matcher.find()) {\n        return matcher.group(1);\n    }\n    return null;\n    }\n}\n</code></pre>\n<p>Main to test:</p>\n<pre><code>public static void main(String[] args) {\n    String input1 = &quot;-A123456-B987-013691-000-109264821&quot;;\n    String input2 = &quot;-NONE----&quot;;\n    String input3 = &quot;C1234567-A1241-EF-012361-000-18273460&quot;;\n\n    System.out.println(extractFront(input1));\n    System.out.println(extractFront(input2));\n    System.out.println(extractFront(input3));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>-A123456-B987\n-NONE----\nC1234567-A1241-EF\n</code></pre>\n<p>EDIT: @stubbleweb1995 added the <code>if</code> condition for a complete solution</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664467146,"creation_date":1664465911,"answer_id":73898220,"question_id":73897776,"body_markdown":"\r\n\r\nWe can use streams, lambdas, and predicate.\r\n\r\nSplit your input on its end-of-line character, to get an array of strings. We filter out  the “NONE” lines. \r\n\r\nFor each line, we split into pieces, using the hyphen as a delimiter. This gives us an array of strings that we reassemble using only the 3 parts.\r\n\r\nLastly we collect into a list. \r\n\r\nHere is some untested code to get you started.\r\n\r\n    String[] lines = input.split( &quot;\\n&quot; ) ;\r\n    List &lt; String &gt; results = \r\n        Arrays\r\n        .stream( lines ) \r\n        .filter( line -&gt; ! line.contains( &quot;-NONE-&quot; )\r\n        .map(\r\n            line -&gt; {\r\n                String.join( \r\n                    &quot;-&quot; ,\r\n                    Arrays.copyOf( line.split( &quot;-&quot; , 4 ) , 3 , String[].class )\r\n                )\r\n            }\r\n        )\r\n        .toList() \r\n     ;","title":"Parse from end to start of a String to grab data before the third occurrence of a delimiter","body":"<p>We can use streams, lambdas, and predicate.</p>\n<p>Split your input on its end-of-line character, to get an array of strings. We filter out  the “NONE” lines.</p>\n<p>For each line, we split into pieces, using the hyphen as a delimiter. This gives us an array of strings that we reassemble using only the 3 parts.</p>\n<p>Lastly we collect into a list.</p>\n<p>Here is some untested code to get you started.</p>\n<pre><code>String[] lines = input.split( &quot;\\n&quot; ) ;\nList &lt; String &gt; results = \n    Arrays\n    .stream( lines ) \n    .filter( line -&gt; ! line.contains( &quot;-NONE-&quot; )\n    .map(\n        line -&gt; {\n            String.join( \n                &quot;-&quot; ,\n                Arrays.copyOf( line.split( &quot;-&quot; , 4 ) , 3 , String[].class )\n            )\n        }\n    )\n    .toList() \n ;\n</code></pre>\n"}],"owner":{"account_id":19242815,"reputation":75,"user_id":14062455,"display_name":"stubbledweb1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73898203,"answer_count":3,"score":1,"last_activity_date":1664471089,"creation_date":1664463916,"question_id":73897776,"body_markdown":"I am working on some strings and trying to parse through the data and retrieve a string that lies before the third occurrence of &quot; - &quot; from the end of the string. This data comes as a String from the DB and there is some text &quot;-NONE----&quot; that I would like to exclude while parsing.\r\n\r\nInput (Below input is a String and not List&lt;String&gt;)\r\n\r\n```none\r\nString input1 = &quot;-A123456-B987-013691-000-109264821&quot;\r\nString input2 = &quot;-NONE----&quot;\r\nString input3 = &quot;C1234567-A1241-EF-012361-000-18273460&quot;\r\n```\r\nOutput\r\n```none\r\nString output1 = &quot;-A123456-B987&quot;\r\nString output2= &quot;-NONE----&quot;\r\nString output3 = &quot;C1234567-A1241-EF&quot;\r\n```\r\n\r\nStarting from the beginning of my string, I need to retrieve data before the third occurrence of  \r\n&quot; - &quot; (hyphen) is found, but I need to count &quot; - &quot; (hyphen) occurrence starting from end of string.\r\n\r\nAny tips are appreciated.","title":"Parse from end to start of a String to grab data before the third occurrence of a delimiter","body":"<p>I am working on some strings and trying to parse through the data and retrieve a string that lies before the third occurrence of &quot; - &quot; from the end of the string. This data comes as a String from the DB and there is some text &quot;-NONE----&quot; that I would like to exclude while parsing.</p>\n<p>Input (Below input is a String and not List)</p>\n<pre class=\"lang-none prettyprint-override\"><code>String input1 = &quot;-A123456-B987-013691-000-109264821&quot;\nString input2 = &quot;-NONE----&quot;\nString input3 = &quot;C1234567-A1241-EF-012361-000-18273460&quot;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>String output1 = &quot;-A123456-B987&quot;\nString output2= &quot;-NONE----&quot;\nString output3 = &quot;C1234567-A1241-EF&quot;\n</code></pre>\n<p>Starting from the beginning of my string, I need to retrieve data before the third occurrence of<br />\n&quot; - &quot; (hyphen) is found, but I need to count &quot; - &quot; (hyphen) occurrence starting from end of string.</p>\n<p>Any tips are appreciated.</p>\n"},{"tags":["java","maven","kotlin","reflection","jvm"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1664470762,"post_id":73898940,"comment_id":130485188,"body_markdown":"Is your use-case specifically Jackson Afterburner? If so, consider replacing it with [Jackson Blackbird](https://github.com/FasterXML/jackson-modules-base/tree/master/blackbird) instead. It is intended as the replacement of Afterburner specifically for this problem.","body":"Is your use-case specifically Jackson Afterburner? If so, consider replacing it with <a href=\"https://github.com/FasterXML/jackson-modules-base/tree/master/blackbird\" rel=\"nofollow noreferrer\">Jackson Blackbird</a> instead. It is intended as the replacement of Afterburner specifically for this problem."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664520434,"post_id":73898940,"comment_id":130494811,"body_markdown":"Not everything called “module” is a module in sense of Java’s module system. “ALL-UNNAMED” refers to the unnamed modules covering everything loaded through the class path.","body":"Not everything called “module” is a module in sense of Java’s module system. “ALL-UNNAMED” refers to the unnamed modules covering everything loaded through the class path."},{"owner":{"account_id":7337005,"reputation":352,"user_id":5588032,"accept_rate":60,"display_name":"Pmsmm"},"score":0,"creation_date":1664554334,"post_id":73898940,"comment_id":130506048,"body_markdown":"@MarkRotteveel I figured out the problem but there is not solution besides the --add-opens flag. This warning is issued when running the Dependency Check plugin and by the GitHub issue https://github.com/jeremylong/DependencyCheck/issues/2793 and taking a look at that issue the problem isn&#39;t yet solved. I will wait for a new release where this issue is solved but in the meanwhile I took note of the Blackbird library to solve future problems I might have due to this Afterburner dependency. Thank you so much Mark!","body":"@MarkRotteveel I figured out the problem but there is not solution besides the --add-opens flag. This warning is issued when running the Dependency Check plugin and by the GitHub issue <a href=\"https://github.com/jeremylong/DependencyCheck/issues/2793\" rel=\"nofollow noreferrer\">github.com/jeremylong/DependencyCheck/issues/2793</a> and taking a look at that issue the problem isn&#39;t yet solved. I will wait for a new release where this issue is solved but in the meanwhile I took note of the Blackbird library to solve future problems I might have due to this Afterburner dependency. Thank you so much Mark!"},{"owner":{"account_id":7337005,"reputation":352,"user_id":5588032,"accept_rate":60,"display_name":"Pmsmm"},"score":0,"creation_date":1664554449,"post_id":73898940,"comment_id":130506085,"body_markdown":"@Holger thank you for that explanation, now I understand the ALL-UNNAMED reference. In the meanwhile a related question would be, if this refers to unnamed modules, that means that when modules are named they won&#39;t be &quot;caught&quot; by the ALL-UNNAMED, I would have to reference them individually by name correct? (Sorry if this might seem an unnecessary question)","body":"@Holger thank you for that explanation, now I understand the ALL-UNNAMED reference. In the meanwhile a related question would be, if this refers to unnamed modules, that means that when modules are named they won&#39;t be &quot;caught&quot; by the ALL-UNNAMED, I would have to reference them individually by name correct? (Sorry if this might seem an unnecessary question)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664554805,"post_id":73898940,"comment_id":130506176,"body_markdown":"Well, since you have a problem with a software that has not been adapted to the module system, it normally wouldn’t become a named module. Unless you move it from the class path to the module path deliberately, which would turn it into an “automatic module”. Which most likely would make problems even worse. But generally, yes, the `--add-opens` option would have to name every name of a module that requires the access, individually. But modules should not require such an access. (Letting aside modules for testing and debugging).","body":"Well, since you have a problem with a software that has not been adapted to the module system, it normally wouldn’t become a named module. Unless you move it from the class path to the module path deliberately, which would turn it into an “automatic module”. Which most likely would make problems even worse. But generally, yes, the <code>--add-opens</code> option would have to name every name of a module that requires the access, individually. But modules should not require such an access. (Letting aside modules for testing and debugging)."}],"owner":{"account_id":7337005,"reputation":352,"user_id":5588032,"accept_rate":60,"display_name":"Pmsmm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664470651,"creation_date":1664469349,"question_id":73898940,"body_markdown":"I&#39;m facing a future problem that I have to solve right now and the problem is a class from a library I do not own (Jackson) that is accessing through reflection to another. To be more specific, this is the warning that I&#39;m trying to solve:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.fasterxml.jackson.module.afterburner.util.MyClassLoader (file:/Users/pedro.maria/.m2/repository/com/fasterxml/jackson/module/jackson-module-afterburner/2.13.4/jackson-module-afterburner-2.13.4.jar) to method java.lang.ClassLoader.findLoadedClass(java.lang.String)\r\n    WARNING: Please consider reporting this to the maintainers of com.fasterxml.jackson.module.afterburner.util.MyClassLoader\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\nNow, the most frustrating part is that I&#39;m staring the solution in the face, the `--add-opens` flag that needs to be passed to the JVM in order for it to know that this reflection is intended. For some reason I&#39;m not being able to figure out a couple of things which are:\r\n\r\n - Where should this flag be passed? (Through `MAVEN_OPTS`, as a Maven argument such as `-DargLine`, in the Dockerfile, etc...)\r\n \r\n - What should the --add-opens flag look like? (I&#39;ve tried `--add-opens java.base/java.lang=ALL-UNNAMED` which doesn&#39;t make sense to me since\r\n   I think I should be referencing the Jackson module which I can&#39;t find\r\n   because the documentation is scattered everywhere and not helpful\r\n\r\nThese are the sources that I took a look at before coming here for help:\r\n\r\n - https://stackoverflow.com/questions/71466728/warning-on-illegal-reflective-access-by-com-fasterxml-jackson-databind-util-clas\r\n - https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access\r\n - https://www.baeldung.com/java-illegal-reflective-access\r\n - https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781\r\n - https://stackoverflow.com/questions/63030635/jdk-11-migration-issue-from-jdk8-illegal-reflective-access-by-com-fasterxml-jac\r\n\r\nPS: If the answers could include an explanation of how you formulated the --add-opens flag to properly solve the warning messages I would be very thankful because I&#39;ve been trying to understand this for a while now but with no success. ","title":"Allow reflection from non-owned library","body":"<p>I'm facing a future problem that I have to solve right now and the problem is a class from a library I do not own (Jackson) that is accessing through reflection to another. To be more specific, this is the warning that I'm trying to solve:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.fasterxml.jackson.module.afterburner.util.MyClassLoader (file:/Users/pedro.maria/.m2/repository/com/fasterxml/jackson/module/jackson-module-afterburner/2.13.4/jackson-module-afterburner-2.13.4.jar) to method java.lang.ClassLoader.findLoadedClass(java.lang.String)\nWARNING: Please consider reporting this to the maintainers of com.fasterxml.jackson.module.afterburner.util.MyClassLoader\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<p>Now, the most frustrating part is that I'm staring the solution in the face, the <code>--add-opens</code> flag that needs to be passed to the JVM in order for it to know that this reflection is intended. For some reason I'm not being able to figure out a couple of things which are:</p>\n<ul>\n<li><p>Where should this flag be passed? (Through <code>MAVEN_OPTS</code>, as a Maven argument such as <code>-DargLine</code>, in the Dockerfile, etc...)</p>\n</li>\n<li><p>What should the --add-opens flag look like? (I've tried <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> which doesn't make sense to me since\nI think I should be referencing the Jackson module which I can't find\nbecause the documentation is scattered everywhere and not helpful</p>\n</li>\n</ul>\n<p>These are the sources that I took a look at before coming here for help:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71466728/warning-on-illegal-reflective-access-by-com-fasterxml-jackson-databind-util-clas\">Warning on Illegal reflective access by com.fasterxml.jackson.databind.util.ClassUtil</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access\">What is an illegal reflective access?</a></li>\n<li><a href=\"https://www.baeldung.com/java-illegal-reflective-access\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-illegal-reflective-access</a></li>\n<li><a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781</a></li>\n<li><a href=\"https://stackoverflow.com/questions/63030635/jdk-11-migration-issue-from-jdk8-illegal-reflective-access-by-com-fasterxml-jac\">JDK 11 migration issue from JDK8, Illegal reflective access by com.fasterxml.jackson.module.afterburner.util.MyClassLoader</a></li>\n</ul>\n<p>PS: If the answers could include an explanation of how you formulated the --add-opens flag to properly solve the warning messages I would be very thankful because I've been trying to understand this for a while now but with no success.</p>\n"},{"tags":["java","junit","fluent","assertj"],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664445463,"creation_date":1664385240,"answer_id":73885453,"question_id":73884675,"body_markdown":"The below classes might solve your problem.\r\n\r\n**TournamentAssert**\r\n\r\n    public class TournamentAssert extends AbstractAssert&lt;TournamentAssert, Tournament&gt; {\r\n        public TournamentAssert(Tournament actual) {\r\n            super(actual, TournamentAssert.class);\r\n        }\r\n        public static TournamentAssert assertThat(Tournament actual) {\r\n            return new TournamentAssert(actual);\r\n        }\r\n        public TournamentAssert hasAtLeastOneTeam() {\r\n            isNotNull();\r\n            if (actual.getTeams().size() &gt; 0) {\r\n                failWithMessage(&quot;Expected at least one team But actual size is: &lt;%s&gt;&quot;, actual.getTeams().size());\r\n            }\r\n            return this;\r\n        }\r\n        public TeamAssert withName(String name) {\r\n            isNotNull();\r\n            for(Team team: actual.getTeams()) {\r\n                if(name.equals(team.getName())) {\r\n                    return TeamAssert.assertThat(team);\r\n                }\r\n            }\r\n            return TeamAssert.assertThat(null);\r\n        }\r\n    }\r\n\r\n**TeamAssert**\r\n\r\n    public class TeamAssert extends AbstractAssert&lt;TeamAssert, Team&gt; {\r\n        public TeamAssert(Team actual) {\r\n            super(actual, TeamAssert.class);\r\n        }\r\n        public static TeamAssert assertThat(Team actual) {\r\n            return new TeamAssert(actual);\r\n        }\r\n        public PlayerAssert withAPlayer() {\r\n            isNotNull();\r\n            if (actual.getPlayers().size() == 1) {\r\n                for(Player player: actual.getPlayers()) {\r\n                    return PlayerAssert.assertThat(player);\r\n                }\r\n            }\r\n            return PlayerAssert.assertThat(null);\r\n        }\r\n    }\r\n\r\n**PlayerAssert**\r\n\r\n    public class PlayerAssert extends AbstractAssert&lt;PlayerAssert, Player&gt; {\r\n        public PlayerAssert(Player actual) {\r\n            super(actual, PlayerAssert.class);\r\n        }\r\n        public static PlayerAssert assertThat(Player actual) {\r\n            return new PlayerAssert(actual);\r\n        }\r\n        public PlayerAssert named(String name) {\r\n            isNotNull();\r\n            if (!name.equals(actual.getFirstName())) {\r\n                failWithMessage(&quot;Expected a player name is: &lt;%s&gt; But actual name is &lt;%s&gt;&quot;,name,  actual.getFirstName());\r\n            }\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\nYou can also assert with a single function in **TournamentAssert** if you want:\r\n\r\n    public TeamAssert withNameAndAPlayerAndNamed(String name, String playerName) {\r\n                isNotNull();\r\n                for(Team team: actual.getTeams()) {\r\n                    if(name.equals(team.getName())) {\r\n                        if (team.getPlayers().size() == 1) {\r\n                            for(Player player: team.getPlayers()) {\r\n                                if (!playerName.equals(player.getFirstName())) {\r\n                                    failWithMessage(&quot;Expected a player name is: &lt;%s&gt; But actual name is &lt;%s&gt;&quot;,name,  player.getFirstName());\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return this;\r\n            }","title":"Test that at least one element of a list contains a specific element using assertj","body":"<p>The below classes might solve your problem.</p>\n<p><strong>TournamentAssert</strong></p>\n<pre><code>public class TournamentAssert extends AbstractAssert&lt;TournamentAssert, Tournament&gt; {\n    public TournamentAssert(Tournament actual) {\n        super(actual, TournamentAssert.class);\n    }\n    public static TournamentAssert assertThat(Tournament actual) {\n        return new TournamentAssert(actual);\n    }\n    public TournamentAssert hasAtLeastOneTeam() {\n        isNotNull();\n        if (actual.getTeams().size() &gt; 0) {\n            failWithMessage(&quot;Expected at least one team But actual size is: &lt;%s&gt;&quot;, actual.getTeams().size());\n        }\n        return this;\n    }\n    public TeamAssert withName(String name) {\n        isNotNull();\n        for(Team team: actual.getTeams()) {\n            if(name.equals(team.getName())) {\n                return TeamAssert.assertThat(team);\n            }\n        }\n        return TeamAssert.assertThat(null);\n    }\n}\n</code></pre>\n<p><strong>TeamAssert</strong></p>\n<pre><code>public class TeamAssert extends AbstractAssert&lt;TeamAssert, Team&gt; {\n    public TeamAssert(Team actual) {\n        super(actual, TeamAssert.class);\n    }\n    public static TeamAssert assertThat(Team actual) {\n        return new TeamAssert(actual);\n    }\n    public PlayerAssert withAPlayer() {\n        isNotNull();\n        if (actual.getPlayers().size() == 1) {\n            for(Player player: actual.getPlayers()) {\n                return PlayerAssert.assertThat(player);\n            }\n        }\n        return PlayerAssert.assertThat(null);\n    }\n}\n</code></pre>\n<p><strong>PlayerAssert</strong></p>\n<pre><code>public class PlayerAssert extends AbstractAssert&lt;PlayerAssert, Player&gt; {\n    public PlayerAssert(Player actual) {\n        super(actual, PlayerAssert.class);\n    }\n    public static PlayerAssert assertThat(Player actual) {\n        return new PlayerAssert(actual);\n    }\n    public PlayerAssert named(String name) {\n        isNotNull();\n        if (!name.equals(actual.getFirstName())) {\n            failWithMessage(&quot;Expected a player name is: &lt;%s&gt; But actual name is &lt;%s&gt;&quot;,name,  actual.getFirstName());\n        }\n        return this;\n    }\n}\n</code></pre>\n<p>You can also assert with a single function in <strong>TournamentAssert</strong> if you want:</p>\n<pre><code>public TeamAssert withNameAndAPlayerAndNamed(String name, String playerName) {\n            isNotNull();\n            for(Team team: actual.getTeams()) {\n                if(name.equals(team.getName())) {\n                    if (team.getPlayers().size() == 1) {\n                        for(Player player: team.getPlayers()) {\n                            if (!playerName.equals(player.getFirstName())) {\n                                failWithMessage(&quot;Expected a player name is: &lt;%s&gt; But actual name is &lt;%s&gt;&quot;,name,  player.getFirstName());\n                            }\n                        }\n                    }\n                }\n            }\n            return this;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664470528,"creation_date":1664386289,"answer_id":73885649,"question_id":73884675,"body_markdown":"As mentioned in Annamalai&#39;s answer, custom assertions would be the way to achieve the API you require.\r\n\r\nHowever, if relying on the existing AssertJ API is an option, here is a possible solution with [`anySatisfy`][1]:\r\n\r\n    assertThat(tournament.getTeams()).anySatisfy(team -&gt; {\r\n      assertThat(team.getName()).isEqualTo(&quot;T1&quot;);\r\n      assertThat(team.getPlayers()).extracting(Player::getFirstName).contains(&quot;Paul&quot;);\r\n    });\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#anySatisfy(java.util.function.Consumer)","title":"Test that at least one element of a list contains a specific element using assertj","body":"<p>As mentioned in Annamalai's answer, custom assertions would be the way to achieve the API you require.</p>\n<p>However, if relying on the existing AssertJ API is an option, here is a possible solution with <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#anySatisfy(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>anySatisfy</code></a>:</p>\n<pre><code>assertThat(tournament.getTeams()).anySatisfy(team -&gt; {\n  assertThat(team.getName()).isEqualTo(&quot;T1&quot;);\n  assertThat(team.getPlayers()).extracting(Player::getFirstName).contains(&quot;Paul&quot;);\n});\n</code></pre>\n"}],"owner":{"account_id":8385212,"reputation":257,"user_id":6537259,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664470528,"creation_date":1664381484,"question_id":73884675,"body_markdown":"Suppose i have players which form a team which participates at a tournament. I want to test, that the tournament has at least one team with name T1 with a player named Paul. \r\n\r\n```\r\npackage org.example;\r\n\r\nimport java.util.List;\r\n\r\npublic class Tournament {\r\n    List&lt;Team&gt; teams;\r\n    public Tournament(){\r\n    }\r\n\r\n    public void create(){\r\n        \r\n    }\r\n\r\n    public List&lt;Team&gt; getTeams() {\r\n        return this.teams;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage org.example;\r\n\r\nimport java.util.List;\r\n\r\npublic class Team {\r\n    List&lt;Player&gt; players;\r\n    private String name;\r\n\r\n    public Team(String name, List&lt;Player&gt; players){\r\n        this.players = players;\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;Player&gt; getPlayers(){\r\n        return this.players;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n}\r\n\r\n```\r\n```\r\npackage org.example;\r\n\r\npublic class Player {\r\n    String firstName;\r\n\r\n    public Player(String firstName){\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getFirstName(){\r\n        return this.firstName;\r\n    }\r\n}\r\n\r\n```\r\nThe test should look like this:\r\n```\r\nTournament tournament = new Tournament();\r\ntournament.create();\r\nassertThat(tournament)\r\n  .hasAtLeastOneTeam()\r\n  .withName(&quot;T1&quot;)\r\n  .withAPlayer()\r\n  .named(&quot;Paul&quot;)\r\n```\r\nHow is it possible to do this with AssertJ?","title":"Test that at least one element of a list contains a specific element using assertj","body":"<p>Suppose i have players which form a team which participates at a tournament. I want to test, that the tournament has at least one team with name T1 with a player named Paul.</p>\n<pre><code>package org.example;\n\nimport java.util.List;\n\npublic class Tournament {\n    List&lt;Team&gt; teams;\n    public Tournament(){\n    }\n\n    public void create(){\n        \n    }\n\n    public List&lt;Team&gt; getTeams() {\n        return this.teams;\n    }\n}\n\n</code></pre>\n<pre><code>package org.example;\n\nimport java.util.List;\n\npublic class Team {\n    List&lt;Player&gt; players;\n    private String name;\n\n    public Team(String name, List&lt;Player&gt; players){\n        this.players = players;\n        this.name = name;\n    }\n\n    public List&lt;Player&gt; getPlayers(){\n        return this.players;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n}\n\n</code></pre>\n<pre><code>package org.example;\n\npublic class Player {\n    String firstName;\n\n    public Player(String firstName){\n        this.firstName = firstName;\n    }\n\n    public String getFirstName(){\n        return this.firstName;\n    }\n}\n\n</code></pre>\n<p>The test should look like this:</p>\n<pre><code>Tournament tournament = new Tournament();\ntournament.create();\nassertThat(tournament)\n  .hasAtLeastOneTeam()\n  .withName(&quot;T1&quot;)\n  .withAPlayer()\n  .named(&quot;Paul&quot;)\n</code></pre>\n<p>How is it possible to do this with AssertJ?</p>\n"},{"tags":["java","hibernate","jpa","generator","metamodel"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1634630710,"post_id":69466221,"comment_id":123069737,"body_markdown":"Can you post the error that you see? Try running `mvn compile -X` for details. Which Java version are you using? Did you read in the announcement that you need another dependency? https://in.relation.to/2021/06/04/hibernate-is-jakarta-jpa-2/","body":"Can you post the error that you see? Try running <code>mvn compile -X</code> for details. Which Java version are you using? Did you read in the announcement that you need another dependency? <a href=\"https://in.relation.to/2021/06/04/hibernate-is-jakarta-jpa-2/\" rel=\"nofollow noreferrer\">in.relation.to/2021/06/04/hibernate-is-jakarta-jpa-2</a>"},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1664354444,"post_id":69466221,"comment_id":130450023,"body_markdown":"Thanx for your reply @ChristianBeikov. I think I found a solution myself (see below).","body":"Thanx for your reply @ChristianBeikov. I think I found a solution myself (see below)."}],"answers":[{"tags":[],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664470192,"creation_date":1664354372,"answer_id":73878496,"question_id":69466221,"body_markdown":"I made some further investigations regarding the filer problem and here is what I found out (if you are in a hurry to find out about the solution of the filer problem just jump to the bottom of this answer).\r\n\r\nUsing the following dependencies in maven triggers automatic generation of jpa static metamodel when running &quot;mvn compile&quot;:\r\n```\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;5.6.12.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\nBTW: There&#39;s really nothing else to be done for jpa static metamodel generation.\r\n\r\nBut make sure to look at the right location for the generated code. You will find it under ```target/generated-sources/annotations```.\r\n\r\nThe filer problem occurs, if you have (a copy of) jpa static metamodel source code in your &quot;usual&quot; source code directory, e.g. ```src/main/java```. You can solve this if you delete the files in the source code directory.\r\n\r\nIf your IDE now complains about unresolvable types named *_, just add ```target/generated-sources/annotations``` as source code folder in the IDE&#39;s build path.\r\n\r\nCheers!","title":"hibernate jpa metamodel generator: &quot;Problem with Filer: Attempt to recreate a file for type&quot;","body":"<p>I made some further investigations regarding the filer problem and here is what I found out (if you are in a hurry to find out about the solution of the filer problem just jump to the bottom of this answer).</p>\n<p>Using the following dependencies in maven triggers automatic generation of jpa static metamodel when running &quot;mvn compile&quot;:</p>\n<pre><code>    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;version&gt;5.6.12.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>BTW: There's really nothing else to be done for jpa static metamodel generation.</p>\n<p>But make sure to look at the right location for the generated code. You will find it under <code>target/generated-sources/annotations</code>.</p>\n<p>The filer problem occurs, if you have (a copy of) jpa static metamodel source code in your &quot;usual&quot; source code directory, e.g. <code>src/main/java</code>. You can solve this if you delete the files in the source code directory.</p>\n<p>If your IDE now complains about unresolvable types named *_, just add <code>target/generated-sources/annotations</code> as source code folder in the IDE's build path.</p>\n<p>Cheers!</p>\n"}],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73878496,"answer_count":1,"score":1,"last_activity_date":1664470192,"creation_date":1633525282,"question_id":69466221,"body_markdown":"I need to generate JPA metamodel types but I can not get rid of the mentioned filer problem. I&#39;m using maven and have simply added this dependency in my pom.xml which triggers the annotation processor automatically:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.5.7.Final&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;","title":"hibernate jpa metamodel generator: &quot;Problem with Filer: Attempt to recreate a file for type&quot;","body":"<p>I need to generate JPA metamodel types but I can not get rid of the mentioned filer problem. I'm using maven and have simply added this dependency in my pom.xml which triggers the annotation processor automatically:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen-jakarta&lt;/artifactId&gt;\n    &lt;version&gt;5.5.7.Final&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","glassfish","web.xml","jaas"],"answers":[{"tags":[],"owner":{"account_id":272677,"reputation":14398,"user_id":563890,"display_name":"Will"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1362578798,"creation_date":1362578798,"answer_id":15249428,"question_id":8823369,"body_markdown":"Pretty old, but for those looking for an answer, you can use an `*` role name:\r\n\r\n    &lt;auth-constraint&gt;\r\n        &lt;role-name&gt;*&lt;/role-name&gt;\r\n    &lt;/auth-constraint&gt;\r\n\r\n[This guy][1] managed to solve it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8519057/authentication-without-role-in-web-xml-in-jboss-as-7","title":"Security constraint in web.xml for authenticated users without role memberships","body":"<p>Pretty old, but for those looking for an answer, you can use an <code>*</code> role name:</p>\n\n<pre><code>&lt;auth-constraint&gt;\n    &lt;role-name&gt;*&lt;/role-name&gt;\n&lt;/auth-constraint&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/8519057/authentication-without-role-in-web-xml-in-jboss-as-7\">This guy</a> managed to solve it.</p>\n"},{"tags":[],"owner":{"account_id":271875,"reputation":7649,"user_id":562644,"accept_rate":95,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664469962,"creation_date":1664469962,"answer_id":73899071,"question_id":8823369,"body_markdown":"Use two asterisks: \r\n\r\n```\r\n&lt;auth-constraint&gt;\r\n  &lt;role-name&gt;**&lt;/role-name&gt;\r\n&lt;/auth-constraint&gt;\r\n```\r\n\r\nSee section 13.8 of the Servlet 4.0 spec: https://javaee.github.io/servlet-spec/downloads/servlet-4.0/servlet-4_0_FINAL.pdf\r\n\r\nThe single asterisk means a user must have at least one of any declared role vs double asterisks means a user simply must be authenticated.   So with single asterisk a user must have one of the roles declared in the `security-role` section of the web.xml, and it appears some application servers (like JBoss/Wildfly) allow you to also put a single asterisk in this section to make this work similarly to the double asterisks.  This single asterisk in the security-role section appears to be non-standard and likely non-portable:\r\n\r\n```\r\n&lt;security-role&gt;\r\n  &lt;role-name&gt;*&lt;/role-name&gt;\r\n&lt;/security-role&gt;\r\n```\r\n\r\n","title":"Security constraint in web.xml for authenticated users without role memberships","body":"<p>Use two asterisks:</p>\n<pre><code>&lt;auth-constraint&gt;\n  &lt;role-name&gt;**&lt;/role-name&gt;\n&lt;/auth-constraint&gt;\n</code></pre>\n<p>See section 13.8 of the Servlet 4.0 spec: <a href=\"https://javaee.github.io/servlet-spec/downloads/servlet-4.0/servlet-4_0_FINAL.pdf\" rel=\"nofollow noreferrer\">https://javaee.github.io/servlet-spec/downloads/servlet-4.0/servlet-4_0_FINAL.pdf</a></p>\n<p>The single asterisk means a user must have at least one of any declared role vs double asterisks means a user simply must be authenticated.   So with single asterisk a user must have one of the roles declared in the <code>security-role</code> section of the web.xml, and it appears some application servers (like JBoss/Wildfly) allow you to also put a single asterisk in this section to make this work similarly to the double asterisks.  This single asterisk in the security-role section appears to be non-standard and likely non-portable:</p>\n<pre><code>&lt;security-role&gt;\n  &lt;role-name&gt;*&lt;/role-name&gt;\n&lt;/security-role&gt;\n</code></pre>\n"}],"owner":{"account_id":1046478,"reputation":505,"user_id":1051357,"accept_rate":0,"display_name":"msaladin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14907,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":2,"score":17,"last_activity_date":1664469962,"creation_date":1326301248,"question_id":8823369,"body_markdown":"I am quite desperate, because I think there must be an easy solution to my problem but I am searching - to no avail.\r\n\r\nI am using a custom Realm in Glassfish 3.1.1. This custom realm (implements AppservPasswordLoginModuleInterface) takes a security token from the HTTPS request, validates the security token and then returns the user to Glassfish.\r\n\r\nThe problem is that the security token does not contain any groups, meaning that the method public String[] getGroupsList() or the custom realm returns an empty list (correctly, because there are no roles in the security token).\r\n\r\nThat said, I would like to have a security contraint that only validated users can login. I know that I can use the following constraint in web.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;security-constraint&gt;\r\n\t  &lt;web-resource-collection&gt;\r\n\t    &lt;web-resource-name&gt;mywebapp&lt;/web-resource-name&gt;\r\n\t    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t  &lt;/web-resource-collection&gt;\r\n\t  &lt;auth-constraint&gt;\r\n\t    &lt;role-name&gt;Users&lt;/role-name&gt;\r\n\t  &lt;/auth-constraint&gt;\r\n\t&lt;/security-constraint&gt;\r\n\r\nBut because I don&#39;t have any groups, I cannot map any groups to roles, and therefore I cannot use the auth-constraint with role-name. \r\n\r\nIs there a way in web.xml to define that only authenticated users are allowed, ignoring in which role they are and ignoring whether they are in any role at all.\r\n\r\nThere are a couple of solutions which I cannot implement:\r\n\r\n - I cannot change the underlying LDAP to include roles, because the LDAP schema and the way how LDAP users are mapped to security tokens our out of scope.\r\n - I have to use the current custom realm handler, I cannot replace it with one of my own which just returns a default group. I did try this once, and it worked. But I cannot replace the existing custom realm with my own because the custom realm should be generic.  \r\n\r\nBut I really think there should be a way in web.xml just to say: Ignore all groups and roles, I just want an authenticated user?\r\n\r\nAny help would be appreciated.\r\n\r\n\r\n\r\n","title":"Security constraint in web.xml for authenticated users without role memberships","body":"<p>I am quite desperate, because I think there must be an easy solution to my problem but I am searching - to no avail.</p>\n\n<p>I am using a custom Realm in Glassfish 3.1.1. This custom realm (implements AppservPasswordLoginModuleInterface) takes a security token from the HTTPS request, validates the security token and then returns the user to Glassfish.</p>\n\n<p>The problem is that the security token does not contain any groups, meaning that the method public String[] getGroupsList() or the custom realm returns an empty list (correctly, because there are no roles in the security token).</p>\n\n<p>That said, I would like to have a security contraint that only validated users can login. I know that I can use the following constraint in web.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security-constraint&gt;\n  &lt;web-resource-collection&gt;\n    &lt;web-resource-name&gt;mywebapp&lt;/web-resource-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;/web-resource-collection&gt;\n  &lt;auth-constraint&gt;\n    &lt;role-name&gt;Users&lt;/role-name&gt;\n  &lt;/auth-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n\n<p>But because I don't have any groups, I cannot map any groups to roles, and therefore I cannot use the auth-constraint with role-name. </p>\n\n<p>Is there a way in web.xml to define that only authenticated users are allowed, ignoring in which role they are and ignoring whether they are in any role at all.</p>\n\n<p>There are a couple of solutions which I cannot implement:</p>\n\n<ul>\n<li>I cannot change the underlying LDAP to include roles, because the LDAP schema and the way how LDAP users are mapped to security tokens our out of scope.</li>\n<li>I have to use the current custom realm handler, I cannot replace it with one of my own which just returns a default group. I did try this once, and it worked. But I cannot replace the existing custom realm with my own because the custom realm should be generic.  </li>\n</ul>\n\n<p>But I really think there should be a way in web.xml just to say: Ignore all groups and roles, I just want an authenticated user?</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","javafx","observer-pattern"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664467999,"post_id":73898318,"comment_id":130484216,"body_markdown":"The ith label&#39;s text is bound to the ith `StringProperty` in the context. When you replace the entire list in the context, the label&#39;s text is still bound to the old `StringProperty` object (you don&#39;t change the binding). Instead of replacing the elements of `components`, it may be enough to update each one&#39;s value (just call `set(...)` on each one). Is it guaranteed that the list passed to `setComponents(...)` is the same size as the current `components`? If not, what do you want to happen in that scenario?","body":"The ith label&#39;s text is bound to the ith <code>StringProperty</code> in the context. When you replace the entire list in the context, the label&#39;s text is still bound to the old <code>StringProperty</code> object (you don&#39;t change the binding). Instead of replacing the elements of <code>components</code>, it may be enough to update each one&#39;s value (just call <code>set(...)</code> on each one). Is it guaranteed that the list passed to <code>setComponents(...)</code> is the same size as the current <code>components</code>? If not, what do you want to happen in that scenario?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664468955,"post_id":73898318,"comment_id":130484552,"body_markdown":"Also, are you sure you don&#39;t just want to use a `ListView` here?","body":"Also, are you sure you don&#39;t just want to use a <code>ListView</code> here?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664469980,"post_id":73898318,"comment_id":130484895,"body_markdown":"As an aside, the singleton pattern is widely considered to be an anti-pattern. I recommend using some form of dependency injection (not necessarily a DI framework, just pass the correct `Context` instance to whatever objects need it).","body":"As an aside, the singleton pattern is widely considered to be an anti-pattern. I recommend using some form of dependency injection (not necessarily a DI framework, just pass the correct <code>Context</code> instance to whatever objects need it)."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664469897,"creation_date":1664469035,"answer_id":73898879,"question_id":73898318,"body_markdown":"The bindings bind the text of each label to the corresponding `StringProperty` in the context (model). If you replace the entire `StringProperty` in the context, the label&#39;s text is still bound to the old `StringProperty`, not the one that replaced it (you don&#39;t update the binding). \r\n\r\n(If you don&#39;t keep a reference anywhere to the old `StringProperty`, it will be eligible for garbage collection. Bindings use weak listeners (which in turn use weak references to the object they are observing) and so your bindings don&#39;t prevent the `StringProperty` from being garbage collected. This isn&#39;t the cause of the problem, though; the issue is simply that your label&#39;s text is not bound to the new `StringProperty` you create in the `setComponents(...)` method.) \r\n\r\nYour best option here is to use an `ObservableList&lt;String&gt;` in the model class:\r\n\r\n    public final class Context implements StatusEventListener, MssEventListener {\r\n      private final ObservableList&lt;String&gt; components;\r\n      \r\n      public static Context getInstance() {\r\n        return SingletonHandler.instance;\r\n      }\r\n    \r\n      private Context() {\r\n        super();\r\n        components = FXCollections.observableArrayList&lt;&gt;(new InstallProgress().getListInstallingItem());\r\n    \r\n      }\r\n    \r\n      public ObservableList&lt;String&gt; getComponents() {\r\n        return components;\r\n      }\r\n    \r\n      // Reset the list\r\n      public void setComponents(final List&lt;String&gt; components) {\r\n        this.components.setAll(components);\r\n      }\r\n    \r\n      private static class SingletonHandler {\r\n            private static final Context instance = new Context();\r\n            \r\n            private SingletonHandler() {\r\n                super();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd now your view class can just observe the list. I added handling here for the list changing size, which your original code didn&#39;t support:\r\n\r\n    public class Controller implements Initializable {\r\n      private final Context context = Context.getInstance();\r\n      private List&lt;Label&gt; labels;\r\n    \r\n      public void initialize() {\r\n        labels = new ArrayList&lt;&gt;();\r\n        \r\n        updateLabelsFromContext();\r\n        context.getComponents().addListener((Change&lt;? extends String&gt; c) -&gt;\r\n          updateLabelsFromContext());\r\n      }\r\n    \r\n      private void updateLabelsFromContext() {\r\n        List&lt;String&gt; components = context.getComponents();\r\n        for (int i=0; i &lt; labels.size() &amp;&amp; i &lt; components.size(); i++) {\r\n          labels.get(i).setText(components.get(i));\r\n        }\r\n    \r\n        // remove excess labels:\r\n        \r\n        for (int i=components.size(); i&lt;labels.size(); i++) {\r\n          gridPane.getChildren().remove(labels.get(i));\r\n        }\r\n        if (components.size() &lt; labels.size()) {\r\n          labels.subList(components.size(), labels.size()).clear();\r\n        }\r\n    \r\n        // add any new labels needed:    \r\n        for (int i = labels.size(); i&lt;components.size(); i++) {\r\n          Label label = new Label(components.get(i));\r\n          labels.add(label);\r\n          gridPane.add(label, 0, i);\r\n        }\r\n      }\r\n    }\r\n\r\nIf it&#39;s guaranteed the size of the list in the context is always the same, you can do\r\n\r\n    public class Controller implements Initializable {\r\n      private final Context context = Context.getInstance();\r\n      private List&lt;Label&gt; labels; // may not be needed\r\n    \r\n      public void initialize() {\r\n        labels = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i&lt;context.getComponents().size(); i++) {\r\n          Label label = new Label();\r\n          labels.add(label); // may not be needed\r\n          label.textProperty().bind(Bindings.valueAt(context.getComponents(),i);\r\n          gridPane.add(label, 0, i);\r\n        }        \r\n        \r\n      }\r\n    \r\n\r\n    }","title":"Binding an element of a list to a Label","body":"<p>The bindings bind the text of each label to the corresponding <code>StringProperty</code> in the context (model). If you replace the entire <code>StringProperty</code> in the context, the label's text is still bound to the old <code>StringProperty</code>, not the one that replaced it (you don't update the binding).</p>\n<p>(If you don't keep a reference anywhere to the old <code>StringProperty</code>, it will be eligible for garbage collection. Bindings use weak listeners (which in turn use weak references to the object they are observing) and so your bindings don't prevent the <code>StringProperty</code> from being garbage collected. This isn't the cause of the problem, though; the issue is simply that your label's text is not bound to the new <code>StringProperty</code> you create in the <code>setComponents(...)</code> method.)</p>\n<p>Your best option here is to use an <code>ObservableList&lt;String&gt;</code> in the model class:</p>\n<pre><code>public final class Context implements StatusEventListener, MssEventListener {\n  private final ObservableList&lt;String&gt; components;\n  \n  public static Context getInstance() {\n    return SingletonHandler.instance;\n  }\n\n  private Context() {\n    super();\n    components = FXCollections.observableArrayList&lt;&gt;(new InstallProgress().getListInstallingItem());\n\n  }\n\n  public ObservableList&lt;String&gt; getComponents() {\n    return components;\n  }\n\n  // Reset the list\n  public void setComponents(final List&lt;String&gt; components) {\n    this.components.setAll(components);\n  }\n\n  private static class SingletonHandler {\n        private static final Context instance = new Context();\n        \n        private SingletonHandler() {\n            super();\n        }\n    }\n}\n</code></pre>\n<p>And now your view class can just observe the list. I added handling here for the list changing size, which your original code didn't support:</p>\n<pre><code>public class Controller implements Initializable {\n  private final Context context = Context.getInstance();\n  private List&lt;Label&gt; labels;\n\n  public void initialize() {\n    labels = new ArrayList&lt;&gt;();\n    \n    updateLabelsFromContext();\n    context.getComponents().addListener((Change&lt;? extends String&gt; c) -&gt;\n      updateLabelsFromContext());\n  }\n\n  private void updateLabelsFromContext() {\n    List&lt;String&gt; components = context.getComponents();\n    for (int i=0; i &lt; labels.size() &amp;&amp; i &lt; components.size(); i++) {\n      labels.get(i).setText(components.get(i));\n    }\n\n    // remove excess labels:\n    \n    for (int i=components.size(); i&lt;labels.size(); i++) {\n      gridPane.getChildren().remove(labels.get(i));\n    }\n    if (components.size() &lt; labels.size()) {\n      labels.subList(components.size(), labels.size()).clear();\n    }\n\n    // add any new labels needed:    \n    for (int i = labels.size(); i&lt;components.size(); i++) {\n      Label label = new Label(components.get(i));\n      labels.add(label);\n      gridPane.add(label, 0, i);\n    }\n  }\n}\n</code></pre>\n<p>If it's guaranteed the size of the list in the context is always the same, you can do</p>\n<pre><code>public class Controller implements Initializable {\n  private final Context context = Context.getInstance();\n  private List&lt;Label&gt; labels; // may not be needed\n\n  public void initialize() {\n    labels = new ArrayList&lt;&gt;();\n    for (int i = 0; i&lt;context.getComponents().size(); i++) {\n      Label label = new Label();\n      labels.add(label); // may not be needed\n      label.textProperty().bind(Bindings.valueAt(context.getComponents(),i);\n      gridPane.add(label, 0, i);\n    }        \n    \n  }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":26096448,"reputation":13,"user_id":19792519,"display_name":"TecBiio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73898879,"answer_count":1,"score":0,"last_activity_date":1664469897,"creation_date":1664466326,"question_id":73898318,"body_markdown":"I have a problem when I try to bind an element of a list to a JavaFX Label.\r\nI don&#39;t have the problem if the item is not in a list.\r\n\r\nIs the GarbageCollector the reason for this problem?\r\n\r\nController.class : (controller of the fxml file)\r\n```\r\npublic class Controller implements Initializable {\r\n  private final Context context = Context.getInstance();\r\n  private List&lt;Label&gt; labels;\r\n\r\n  public void initialize() {\r\n    labels = new ArrayList&lt;&gt;();\r\n    \r\n    for (int i = 0; i &lt; context.getComponents().get(i).size(); i++) {\r\n      labels.add(new Label(context.getComponent().get(i).toString()));\r\n      \r\n      labels.get(i).textProperty().bind(context.getComponents().get(i));\r\n\r\n      gridPane.add(labels.get(i), 0, i); // The GridPane on the FXML\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nContext.java : (class where the variables are refreshed)\r\n```\r\npublic final class Context implements StatusEventListener, MssEventListener {\r\n  private final List&lt;StringProperty&gt; components;\r\n  \r\n  public static Context getInstance() {\r\n    return SingletonHandler.instance;\r\n  }\r\n\r\n  private Context() {\r\n    super();\r\n    components = new ArrayList&lt;&gt;();\r\n    for (String component : new InstallProgress().getListInstallingItem()) {\r\n      components.add(new SimpleStringProperty(component));\r\n    }\r\n  }\r\n\r\n  public List&lt;StringProperty&gt; getComponents() {\r\n    return components;\r\n  }\r\n\r\n  // Reset the list\r\n  public void setComponents(final List&lt;String&gt; components) {\r\n    this.components.clear();\r\n    for (String component : components) {\r\n      this.components.add(new SimpleStringProperty(component));\r\n    }\r\n  }\r\n\r\n  private static class SingletonHandler {\r\n        private static final Context instance = new Context();\r\n        \r\n        private SingletonHandler() {\r\n            super();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTo refresh the label, I use ```Context.setComponents(&lt;myUpdatedList&gt;)``` but nothing happens...\r\n\r\nIf I refresh a ```StringProperty component``` on Context.java, the display shows the new value of that variable.\r\n\r\nDoes anyone have an idea to solve this problem?\r\n\r\nThanks in advance","title":"Binding an element of a list to a Label","body":"<p>I have a problem when I try to bind an element of a list to a JavaFX Label.\nI don't have the problem if the item is not in a list.</p>\n<p>Is the GarbageCollector the reason for this problem?</p>\n<p>Controller.class : (controller of the fxml file)</p>\n<pre><code>public class Controller implements Initializable {\n  private final Context context = Context.getInstance();\n  private List&lt;Label&gt; labels;\n\n  public void initialize() {\n    labels = new ArrayList&lt;&gt;();\n    \n    for (int i = 0; i &lt; context.getComponents().get(i).size(); i++) {\n      labels.add(new Label(context.getComponent().get(i).toString()));\n      \n      labels.get(i).textProperty().bind(context.getComponents().get(i));\n\n      gridPane.add(labels.get(i), 0, i); // The GridPane on the FXML\n    }\n  }\n}\n</code></pre>\n<p>Context.java : (class where the variables are refreshed)</p>\n<pre><code>public final class Context implements StatusEventListener, MssEventListener {\n  private final List&lt;StringProperty&gt; components;\n  \n  public static Context getInstance() {\n    return SingletonHandler.instance;\n  }\n\n  private Context() {\n    super();\n    components = new ArrayList&lt;&gt;();\n    for (String component : new InstallProgress().getListInstallingItem()) {\n      components.add(new SimpleStringProperty(component));\n    }\n  }\n\n  public List&lt;StringProperty&gt; getComponents() {\n    return components;\n  }\n\n  // Reset the list\n  public void setComponents(final List&lt;String&gt; components) {\n    this.components.clear();\n    for (String component : components) {\n      this.components.add(new SimpleStringProperty(component));\n    }\n  }\n\n  private static class SingletonHandler {\n        private static final Context instance = new Context();\n        \n        private SingletonHandler() {\n            super();\n        }\n    }\n}\n</code></pre>\n<p>To refresh the label, I use <code>Context.setComponents(&lt;myUpdatedList&gt;)</code> but nothing happens...</p>\n<p>If I refresh a <code>StringProperty component</code> on Context.java, the display shows the new value of that variable.</p>\n<p>Does anyone have an idea to solve this problem?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","sockets","server"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1664462894,"post_id":73897468,"comment_id":130482210,"body_markdown":"The exception is hidden in the catch block","body":"The exception is hidden in the catch block"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664469544,"creation_date":1664465388,"answer_id":73898108,"question_id":73897468,"body_markdown":"Have just one ServerSocket and a single loop, and on accepting a client socket start a game running thread using that socket.\r\n\r\n        ServerSocket serverSocket = ...\r\n        ExecutorService executorService = Executors.newFixedThreadPool(4);\r\n        while (!executorService .isTerminated()) {\r\n            Socket socket = serverSocket.accept();\r\n            Runnable gameRun = () -&gt; { ... socket ... };\r\n            // like new WorkerThread(&quot;...&quot;);\r\n            executorService .execute(gameRun);\r\n\r\n        }\r\n        executorService .shutdown();\r\n\r\nYou can do it more neat than here, the thread and passing the socket and such.\r\n\r\nThe above runs every game conversation in its own thread.\r\nIt has one main loop on the server socket, which is crucial; you should not use the same ServerSocket in two threads.\r\n\r\nYou can easily being overrung by a DoS attack (Denial of Service, by hundreds of requests). Just keep an eye on the count of the number of threads.\r\n\r\n------------------------------\r\n***On request***\r\n\r\nI cannot code here an entire client-server dialog. For that you\r\nshould look at examples, that probably are way better than what\r\nI can write here. Also my code is not compiled.\r\n\r\nSome code snippets.\r\nFirst I would not exchange binary data, but text. That makes developing and especially debugging easier. Also with chess notation everything is almost done.\r\n\r\n            Runnable gameRun = new GameRun(socket);\r\n            executorService .execute(gameRun);\r\n\r\n    class GameRun implements Runnable, Autoclosable {\r\n        final BufferedReader in;\r\n        final PrintWriter out\r\n\r\n        GameRun(Socket socket) {\r\n            in = new BufferedReader(\r\n                new InputStreamReader(\r\n                    socket.getInputStream(),\r\n                    StandardCharsets.UTF_8));\r\n            out = new PrintWriter(\r\n                new BufferedWriter(\r\n                    new OutputStreamWriter(\r\n                        socket.getOutputStream(),\r\n                        StandardCharsets.UTF_8)));\r\n        }\r\n\r\n        @Override\r\n        public void close() {\r\n            in.close();\r\n            out.close();\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            for (;;) {\r\n                out.println(&quot;Your move/action:&quot;);\r\n\r\n                if (!in.ready()) {\r\n                    out.println(&quot;I am awaiting...&quot;);\r\n                    //continue;\r\n                }\r\n                String line = in.readLine();\r\n\r\n                out.println(&quot;echo &quot; + line);\r\n                if (line == null) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe client should do something similar.","title":"Player can&#39;t connect to server in Java","body":"<p>Have just one ServerSocket and a single loop, and on accepting a client socket start a game running thread using that socket.</p>\n<pre><code>    ServerSocket serverSocket = ...\n    ExecutorService executorService = Executors.newFixedThreadPool(4);\n    while (!executorService .isTerminated()) {\n        Socket socket = serverSocket.accept();\n        Runnable gameRun = () -&gt; { ... socket ... };\n        // like new WorkerThread(&quot;...&quot;);\n        executorService .execute(gameRun);\n\n    }\n    executorService .shutdown();\n</code></pre>\n<p>You can do it more neat than here, the thread and passing the socket and such.</p>\n<p>The above runs every game conversation in its own thread.\nIt has one main loop on the server socket, which is crucial; you should not use the same ServerSocket in two threads.</p>\n<p>You can easily being overrung by a DoS attack (Denial of Service, by hundreds of requests). Just keep an eye on the count of the number of threads.</p>\n<hr />\n<p><em><strong>On request</strong></em></p>\n<p>I cannot code here an entire client-server dialog. For that you\nshould look at examples, that probably are way better than what\nI can write here. Also my code is not compiled.</p>\n<p>Some code snippets.\nFirst I would not exchange binary data, but text. That makes developing and especially debugging easier. Also with chess notation everything is almost done.</p>\n<pre><code>        Runnable gameRun = new GameRun(socket);\n        executorService .execute(gameRun);\n\nclass GameRun implements Runnable, Autoclosable {\n    final BufferedReader in;\n    final PrintWriter out\n\n    GameRun(Socket socket) {\n        in = new BufferedReader(\n            new InputStreamReader(\n                socket.getInputStream(),\n                StandardCharsets.UTF_8));\n        out = new PrintWriter(\n            new BufferedWriter(\n                new OutputStreamWriter(\n                    socket.getOutputStream(),\n                    StandardCharsets.UTF_8)));\n    }\n\n    @Override\n    public void close() {\n        in.close();\n        out.close();\n    }\n\n    @Override\n    public void run() {\n        for (;;) {\n            out.println(&quot;Your move/action:&quot;);\n\n            if (!in.ready()) {\n                out.println(&quot;I am awaiting...&quot;);\n                //continue;\n            }\n            String line = in.readLine();\n\n            out.println(&quot;echo &quot; + line);\n            if (line == null) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The client should do something similar.</p>\n"}],"owner":{"account_id":25825446,"reputation":45,"user_id":19563707,"display_name":"KeLLox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73898108,"answer_count":1,"score":1,"last_activity_date":1664469544,"creation_date":1664462556,"question_id":73897468,"body_markdown":"I am currently programming an online chess game and wanted to host multiple server on 1 PC. It also works when I play with two players, but if I start a third player, it can&#39;t connect to server.\r\n\r\nThe code for the player:\r\n```\r\n  public Socket socket;\r\n  public int PlayerID;\r\n  public ReadFromServer rfs;\r\n  public WriteToServer wts;\r\n  \r\n  public void connectToServer(){\r\n    for (int i = 1;i &lt;=3 ;i++ ) {\r\n   try {              \r\n      socket = new Socket(&quot;localhost&quot;,(1000+i));\r\n      DataInputStream in = new DataInputStream(socket.getInputStream());\r\n      DataOutputStream out = new DataOutputStream(socket.getOutputStream());\r\n      PlayerID = in.readInt();\r\n      System.out.println(&quot;You are Player Number:&quot;+PlayerID);\r\n      if(PlayerID == 1){\r\n        System.out.println(&quot;Waiting for Oponent...&quot;);\r\n        }  \r\n      rfs = new ReadFromServer(in);\r\n      wts = new WriteToServer(out);\r\n      Thread rT = new Thread(rfs);\r\n      Thread wT = new Thread(wts);\r\n      rT.start();\r\n      wT.start();    \r\n      i = 4;   \r\n   } catch(IOException e) {\r\n     System.out.println(&quot;ERROR at: connect to Server&quot;);\r\n   }\r\n    }\r\n    }\r\n  \r\n   public static void main(String[] args) {\r\n   PlayerFrame pf = new PlayerFrame();\r\n    pf.connectToServer();\r\n    pf.GUI();\r\n   }\r\n```\r\nThe Server code:\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.net.InetAddress;\r\npublic class GameServer {\r\n  public int GameNumber = 3;\r\n  public ServerSocket ss;\r\n  public int numPlayers;\r\n  public int maxPlayers;\r\n  \r\n  public Socket socket1;\r\n  public Socket socket2;\r\n  public ReadFromClient p1read;\r\n  public ReadFromClient p2read;\r\n  public WriteToClient p1write;\r\n  public WriteToClient p2write; \r\n  \r\n  public GameServer[] gs;\r\n  \r\n  public int p1x1,p1x2,p1y1,p1y2,p2x1,p2x2,p2y1,p2y2;\r\n  public GameServer(){\r\n    gs = new GameServer[GameNumber];\r\n    Thread[] server = new Thread[GameNumber];\r\n    ServerThread[] thread = new ServerThread[GameNumber];\r\n    for (int i = 0;i &lt; gs.length ;i++ ) {\r\n      gs[i] = new GameServer((1000+i+1));\r\n      thread[i] = new ServerThread(i);   \r\n      server[i] = new Thread(thread[i]);\r\n      server[i].start();\r\n    } // end of for \r\n    }\r\n  \r\n  public GameServer(int i){\r\n  System.out.println(&quot;=====Game Server=====&quot;);\r\n  numPlayers = 0;\r\n  maxPlayers = 2;\r\n     \r\n  try {\r\n      ss = new ServerSocket(i);  \r\n     \r\n  } catch(IOException e) {\r\n      System.out.println(&quot;ERROR at: Server Construction&quot;);\r\n  }  \r\n  }\r\npublic void acceptConnections(){\r\n  try {\r\n      System.out.println(&quot;Waiting for connections...&quot;);\r\n      while (numPlayers &lt; maxPlayers) { \r\n        Socket s = ss.accept();\r\n        DataInputStream in = new DataInputStream(s.getInputStream());\r\n        DataOutputStream out = new DataOutputStream(s.getOutputStream());\r\n        \r\n        numPlayers++;\r\n        out.writeInt(numPlayers);\r\n        System.out.println(&quot;Player Number &quot;+numPlayers+&quot; has connected&quot;);\r\n        \r\n        ReadFromClient rfc = new ReadFromClient(numPlayers,in);\r\n        WriteToClient wtc = new WriteToClient(numPlayers,out);\r\n        \r\n        if(numPlayers == 1){\r\n        socket1 = s;\r\n          p1read = rfc;\r\n          p1write = wtc;\r\n          Thread read1 = new Thread(p1read);\r\n          Thread write1 = new Thread(p1write);\r\n          read1.start();\r\n          write1.start();\r\n          }\r\n        else{\r\n         socket2 = s;\r\n          p2read = rfc;\r\n          p2write = wtc;\r\n          Thread read2 = new Thread(p2read);\r\n          Thread write2 = new Thread(p2write);\r\n            read2.start();\r\n          write2.start();\r\n        }\r\n      } // end of while\r\n      System.out.println(&quot;No longer accepting connections&quot;);\r\n  } catch(IOException e) {\r\n      System.out.println(&quot;ERROR at: acceptConnections&quot;);\r\n  }\r\n    }\r\n  \r\n  public static void main(String[] args) {\r\n    new GameServer();\r\n  }\r\n  \r\n  public class ReadFromClient implements Runnable{\r\n    public int playerID;\r\n    public DataInputStream dataIn;\r\n    public ReadFromClient(int pid, DataInputStream in){\r\n      playerID = pid;\r\n      dataIn = in;\r\n      System.out.println(&quot;RFC &quot;+playerID+&quot; Runnable created&quot;);\r\n      }\r\n    @Override\r\n    public void run(){\r\n        try {\r\n        while (true) { \r\n          if(playerID == 1){\r\n            p1x1 = dataIn.readInt();\r\n            p1y1 = dataIn.readInt();\r\n            p1x2 = dataIn.readInt();\r\n            p1y2 = dataIn.readInt();\r\n            }\r\n          else{\r\n            p2x1 = dataIn.readInt();\r\n            p2y1 = dataIn.readInt();\r\n            p2x2 = dataIn.readInt();\r\n            p2y2 = dataIn.readInt();\r\n          }\r\n          try {\r\n           Thread.sleep(25); \r\n          } catch(InterruptedException ex) {\r\n           System.out.println(&quot;ERROR at RFS Run&quot;); \r\n          }\r\n        } // end of while\r\n     } catch(IOException e) {\r\n       System.out.println(&quot;ERROR at: RFS&quot;);\r\n     }\r\n      }\r\n    }\r\n  public class WriteToClient implements Runnable{\r\n    public int playerID;\r\n    public DataOutputStream dataout;\r\n    public WriteToClient(int pid, DataOutputStream out){\r\n      playerID = pid;\r\n      dataout = out;\r\n      System.out.println(&quot;WTC &quot;+playerID+&quot; Runnable created&quot;);\r\n      }\r\n    @Override\r\n    public void run(){\r\n       try {\r\n            while (true) { \r\n             if(playerID == 1){\r\n               dataout.writeInt(p2x1);\r\n            dataout.writeInt(p2y1);\r\n            dataout.writeInt(p2x2);\r\n            dataout.writeInt(p2y2);\r\n               \r\n            dataout.flush();\r\n               }\r\n               else{\r\n                dataout.writeInt(p1x1);\r\n            dataout.writeInt(p1y1);\r\n            dataout.writeInt(p1x2);\r\n            dataout.writeInt(p1y2);\r\n            dataout.flush();\r\n                 }\r\n                 try {\r\n           Thread.sleep(25); \r\n          } catch(InterruptedException ex) {\r\n           System.out.println(&quot;ERROR at WTC Run&quot;); \r\n          } \r\n            } // end of while\r\n       } catch(IOException e) {\r\n       System.out.println(&quot;ERROR at: WTC run&quot;);  \r\n       }\r\n      }\r\n    }\r\n  public class ServerThread implements Runnable{\r\n    public int num;\r\n    public ServerThread(int i){\r\n      num = i;\r\n      }\r\n    @Override\r\n    public void run(){\r\n     gs[num].acceptConnections();\r\n    }\r\n  \r\n    }\r\n\r\n} // end of class GameServer\r\n```\r\n\r\nI don&#39;t get any errors, even though a window doesn&#39;t pop up when I run the third player, making.","title":"Player can&#39;t connect to server in Java","body":"<p>I am currently programming an online chess game and wanted to host multiple server on 1 PC. It also works when I play with two players, but if I start a third player, it can't connect to server.</p>\n<p>The code for the player:</p>\n<pre><code>  public Socket socket;\n  public int PlayerID;\n  public ReadFromServer rfs;\n  public WriteToServer wts;\n  \n  public void connectToServer(){\n    for (int i = 1;i &lt;=3 ;i++ ) {\n   try {              \n      socket = new Socket(&quot;localhost&quot;,(1000+i));\n      DataInputStream in = new DataInputStream(socket.getInputStream());\n      DataOutputStream out = new DataOutputStream(socket.getOutputStream());\n      PlayerID = in.readInt();\n      System.out.println(&quot;You are Player Number:&quot;+PlayerID);\n      if(PlayerID == 1){\n        System.out.println(&quot;Waiting for Oponent...&quot;);\n        }  \n      rfs = new ReadFromServer(in);\n      wts = new WriteToServer(out);\n      Thread rT = new Thread(rfs);\n      Thread wT = new Thread(wts);\n      rT.start();\n      wT.start();    \n      i = 4;   \n   } catch(IOException e) {\n     System.out.println(&quot;ERROR at: connect to Server&quot;);\n   }\n    }\n    }\n  \n   public static void main(String[] args) {\n   PlayerFrame pf = new PlayerFrame();\n    pf.connectToServer();\n    pf.GUI();\n   }\n</code></pre>\n<p>The Server code:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.net.InetAddress;\npublic class GameServer {\n  public int GameNumber = 3;\n  public ServerSocket ss;\n  public int numPlayers;\n  public int maxPlayers;\n  \n  public Socket socket1;\n  public Socket socket2;\n  public ReadFromClient p1read;\n  public ReadFromClient p2read;\n  public WriteToClient p1write;\n  public WriteToClient p2write; \n  \n  public GameServer[] gs;\n  \n  public int p1x1,p1x2,p1y1,p1y2,p2x1,p2x2,p2y1,p2y2;\n  public GameServer(){\n    gs = new GameServer[GameNumber];\n    Thread[] server = new Thread[GameNumber];\n    ServerThread[] thread = new ServerThread[GameNumber];\n    for (int i = 0;i &lt; gs.length ;i++ ) {\n      gs[i] = new GameServer((1000+i+1));\n      thread[i] = new ServerThread(i);   \n      server[i] = new Thread(thread[i]);\n      server[i].start();\n    } // end of for \n    }\n  \n  public GameServer(int i){\n  System.out.println(&quot;=====Game Server=====&quot;);\n  numPlayers = 0;\n  maxPlayers = 2;\n     \n  try {\n      ss = new ServerSocket(i);  \n     \n  } catch(IOException e) {\n      System.out.println(&quot;ERROR at: Server Construction&quot;);\n  }  \n  }\npublic void acceptConnections(){\n  try {\n      System.out.println(&quot;Waiting for connections...&quot;);\n      while (numPlayers &lt; maxPlayers) { \n        Socket s = ss.accept();\n        DataInputStream in = new DataInputStream(s.getInputStream());\n        DataOutputStream out = new DataOutputStream(s.getOutputStream());\n        \n        numPlayers++;\n        out.writeInt(numPlayers);\n        System.out.println(&quot;Player Number &quot;+numPlayers+&quot; has connected&quot;);\n        \n        ReadFromClient rfc = new ReadFromClient(numPlayers,in);\n        WriteToClient wtc = new WriteToClient(numPlayers,out);\n        \n        if(numPlayers == 1){\n        socket1 = s;\n          p1read = rfc;\n          p1write = wtc;\n          Thread read1 = new Thread(p1read);\n          Thread write1 = new Thread(p1write);\n          read1.start();\n          write1.start();\n          }\n        else{\n         socket2 = s;\n          p2read = rfc;\n          p2write = wtc;\n          Thread read2 = new Thread(p2read);\n          Thread write2 = new Thread(p2write);\n            read2.start();\n          write2.start();\n        }\n      } // end of while\n      System.out.println(&quot;No longer accepting connections&quot;);\n  } catch(IOException e) {\n      System.out.println(&quot;ERROR at: acceptConnections&quot;);\n  }\n    }\n  \n  public static void main(String[] args) {\n    new GameServer();\n  }\n  \n  public class ReadFromClient implements Runnable{\n    public int playerID;\n    public DataInputStream dataIn;\n    public ReadFromClient(int pid, DataInputStream in){\n      playerID = pid;\n      dataIn = in;\n      System.out.println(&quot;RFC &quot;+playerID+&quot; Runnable created&quot;);\n      }\n    @Override\n    public void run(){\n        try {\n        while (true) { \n          if(playerID == 1){\n            p1x1 = dataIn.readInt();\n            p1y1 = dataIn.readInt();\n            p1x2 = dataIn.readInt();\n            p1y2 = dataIn.readInt();\n            }\n          else{\n            p2x1 = dataIn.readInt();\n            p2y1 = dataIn.readInt();\n            p2x2 = dataIn.readInt();\n            p2y2 = dataIn.readInt();\n          }\n          try {\n           Thread.sleep(25); \n          } catch(InterruptedException ex) {\n           System.out.println(&quot;ERROR at RFS Run&quot;); \n          }\n        } // end of while\n     } catch(IOException e) {\n       System.out.println(&quot;ERROR at: RFS&quot;);\n     }\n      }\n    }\n  public class WriteToClient implements Runnable{\n    public int playerID;\n    public DataOutputStream dataout;\n    public WriteToClient(int pid, DataOutputStream out){\n      playerID = pid;\n      dataout = out;\n      System.out.println(&quot;WTC &quot;+playerID+&quot; Runnable created&quot;);\n      }\n    @Override\n    public void run(){\n       try {\n            while (true) { \n             if(playerID == 1){\n               dataout.writeInt(p2x1);\n            dataout.writeInt(p2y1);\n            dataout.writeInt(p2x2);\n            dataout.writeInt(p2y2);\n               \n            dataout.flush();\n               }\n               else{\n                dataout.writeInt(p1x1);\n            dataout.writeInt(p1y1);\n            dataout.writeInt(p1x2);\n            dataout.writeInt(p1y2);\n            dataout.flush();\n                 }\n                 try {\n           Thread.sleep(25); \n          } catch(InterruptedException ex) {\n           System.out.println(&quot;ERROR at WTC Run&quot;); \n          } \n            } // end of while\n       } catch(IOException e) {\n       System.out.println(&quot;ERROR at: WTC run&quot;);  \n       }\n      }\n    }\n  public class ServerThread implements Runnable{\n    public int num;\n    public ServerThread(int i){\n      num = i;\n      }\n    @Override\n    public void run(){\n     gs[num].acceptConnections();\n    }\n  \n    }\n\n} // end of class GameServer\n</code></pre>\n<p>I don't get any errors, even though a window doesn't pop up when I run the third player, making.</p>\n"},{"tags":["java","mysql","sql","sql-update"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":2,"creation_date":1598006892,"post_id":63521365,"comment_id":112324293,"body_markdown":"Your structure is wrong. `History` table must store not `username` but its `id` from `users` table. *Is there a way to update 2 tables at once?* Yes, look for multiple-table UPDATE syntax in User Manual.","body":"Your structure is wrong. <code>History</code> table must store not <code>username</code> but its <code>id</code> from <code>users</code> table. <i>Is there a way to update 2 tables at once?</i> Yes, look for multiple-table UPDATE syntax in User Manual."},{"owner":{"account_id":3128302,"reputation":820,"user_id":2646772,"display_name":"John"},"score":0,"creation_date":1598007448,"post_id":63521365,"comment_id":112324504,"body_markdown":"Not that it&#39;s a good idea, but you could also add a cascading foreign key to the ```history``` table.  But yes, I&#39;d agree with @Akina and store the ```id``` everywhere else except the ```users``` table.","body":"Not that it&#39;s a good idea, but you could also add a cascading foreign key to the <code>history</code> table.  But yes, I&#39;d agree with @Akina and store the <code>id</code> everywhere else except the <code>users</code> table."},{"owner":{"account_id":14722402,"reputation":389,"user_id":10632570,"display_name":"egx"},"score":0,"creation_date":1598013746,"post_id":63521365,"comment_id":112327486,"body_markdown":"Thank you guys. I updated the tables so it would join on id from users and put a new row in history called &quot;usersID&quot;.","body":"Thank you guys. I updated the tables so it would join on id from users and put a new row in history called &quot;usersID&quot;."}],"answers":[{"tags":[],"owner":{"account_id":26472781,"reputation":1,"user_id":20113153,"display_name":"uthra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664469460,"creation_date":1664469460,"answer_id":73898961,"question_id":63521365,"body_markdown":"Update multiple SQL tables at once Java\r\n\r\nQuery: \r\n\r\n update TN1, TN2 set TN1.CN=Value, TN2.CN=value where TN1.CN=TN2.CN and TN.CN=2;\r\n\r\nQuery Example :\r\nupdate eco_mark,com_mark set eco_mark .emark=99,com_mark.emark=95 where eco_mark.id=com_mark.id and eco_mark.id=2;\r\n\r\n **in java code** \r\n\r\n      try {\r\n\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/dgsuthi&quot;,&quot;root&quot;,&quot;root&quot;);\r\n            Statement st=con.createStatement(); \r\n            int i= st.executeUpdate(&quot;update eco_mark,com_mark set eco_mark .emark=99,com_mark.emark=95 where eco_mark.id=com_mark.id and eco_mark.id=2&quot;);\r\n       if(i&gt;0){\r\n        System.out.print(&quot;hello Uthi&quot;);\r\n       }\r\n         \r\n    }catch(Exception e){\r\n            System.out.println(e);\r\n    }","title":"Update multiple SQL tables at once Java","body":"<p>Update multiple SQL tables at once Java</p>\n<p>Query:</p>\n<p>update TN1, TN2 set TN1.CN=Value, TN2.CN=value where TN1.CN=TN2.CN and TN.CN=2;</p>\n<p>Query Example :\nupdate eco_mark,com_mark set eco_mark .emark=99,com_mark.emark=95 where eco_mark.id=com_mark.id and eco_mark.id=2;</p>\n<p><strong>in java code</strong></p>\n<pre><code>  try {\n\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/dgsuthi&quot;,&quot;root&quot;,&quot;root&quot;);\n        Statement st=con.createStatement(); \n        int i= st.executeUpdate(&quot;update eco_mark,com_mark set eco_mark .emark=99,com_mark.emark=95 where eco_mark.id=com_mark.id and eco_mark.id=2&quot;);\n   if(i&gt;0){\n    System.out.print(&quot;hello Uthi&quot;);\n   }\n     \n}catch(Exception e){\n        System.out.println(e);\n}\n</code></pre>\n"}],"owner":{"account_id":14722402,"reputation":389,"user_id":10632570,"display_name":"egx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664469460,"creation_date":1598006770,"question_id":63521365,"body_markdown":"I have 2 SQL tables - One called &quot;users&quot; and another one called &quot;history&quot;. \r\n\r\n**The users table** have &quot;id&quot; primary key and &quot;username&quot; rows. \r\n\r\n**The history table** have &quot;id&quot; primary key, &quot;username&quot; and &quot;sport&quot; row. \r\n\r\nSo when the user is logged in, the history joins the &quot;username&quot; from the 2 tables and shows the history correctly where the username equals the username from &quot;users&quot; table. \r\n\r\nMy problem is, that I have created a method that lets the user update his &quot;username&quot;. This works, but will only update the &quot;username&quot; in users table. The result is that the user is not able to see the &quot;history&quot; after updateing the username. So my question is this: \r\n\r\nIs there a way to update 2 tables at once? So the username will both be updated in &quot;users&quot; and &quot;history&quot; table? \r\n\r\nI have added my &quot;updateUserName()&quot; method below: \r\n\r\n``` \r\npublic static void updateUserName(String userName, long id) throws SQLException {\r\n\t\t\r\n\t\tConnection connection = null;\t\r\n\t\tPreparedStatement ps = null; \r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tDB_Connection connect = new DB_Connection();\r\n\t\t\tconnection=connect.get_Connection();\r\n\t\t\t\r\n\t\t\tString sql = &quot;UPDATE users SET user_name = ? WHERE id = ?&quot;;\r\n\t\t\tps = connection.prepareStatement(sql);\r\n\t\t\t\r\n\t\t\tps.setString(1, userName);\r\n\t\t\tps.setLong(2, id);\r\n\t\t\t\r\n\t\t\tps.executeUpdate();\r\n\t\t\t\r\n\t\t}catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tconnection.close();\r\n\t\t}\r\n\t}\r\n","title":"Update multiple SQL tables at once Java","body":"<p>I have 2 SQL tables - One called &quot;users&quot; and another one called &quot;history&quot;.</p>\n<p><strong>The users table</strong> have &quot;id&quot; primary key and &quot;username&quot; rows.</p>\n<p><strong>The history table</strong> have &quot;id&quot; primary key, &quot;username&quot; and &quot;sport&quot; row.</p>\n<p>So when the user is logged in, the history joins the &quot;username&quot; from the 2 tables and shows the history correctly where the username equals the username from &quot;users&quot; table.</p>\n<p>My problem is, that I have created a method that lets the user update his &quot;username&quot;. This works, but will only update the &quot;username&quot; in users table. The result is that the user is not able to see the &quot;history&quot; after updateing the username. So my question is this:</p>\n<p>Is there a way to update 2 tables at once? So the username will both be updated in &quot;users&quot; and &quot;history&quot; table?</p>\n<p>I have added my &quot;updateUserName()&quot; method below:</p>\n<pre><code>public static void updateUserName(String userName, long id) throws SQLException {\n        \n        Connection connection = null;   \n        PreparedStatement ps = null; \n        \n        try {\n            \n            DB_Connection connect = new DB_Connection();\n            connection=connect.get_Connection();\n            \n            String sql = &quot;UPDATE users SET user_name = ? WHERE id = ?&quot;;\n            ps = connection.prepareStatement(sql);\n            \n            ps.setString(1, userName);\n            ps.setLong(2, id);\n            \n            ps.executeUpdate();\n            \n        }catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            connection.close();\n        }\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa","liquibase"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664447601,"post_id":73855108,"comment_id":130476168,"body_markdown":"To extend your perspective: https://stackoverflow.com/q/22735543/592355","body":"To extend your perspective: <a href=\"https://stackoverflow.com/q/22735543/592355\">stackoverflow.com/q/22735543/592355</a>"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664469210,"creation_date":1664461841,"answer_id":73897290,"question_id":73855108,"body_markdown":"Hibernate does make use of some of the annotation members, especially as of version 6. I would suggest you to look into a tool like JPABuddy which can generate Liquibase changesets based on diffs between your entity and liquibase model. In the past, I implemented such a diffing in a JUnit test. The test creates two databases, one through hbm2ddl and one through the liquibase model. Finally, it diffs the two and if there is a difference, fails the test, reporting the XML serialized form of the diff.\r\n\r\nThis way, both models stay in sync easily and you also don&#39;t need hbm2ddl validate.\r\n\r\nHere you can see the runtime model receiving information like `length`, `precision`, `scale` and `columnDefinition`: https://github.com/hibernate/hibernate-orm/blob/6.1.3/hibernate-core/src/main/java/org/hibernate/metamodel/mapping/internal/MappingModelCreationHelper.java#L262\r\n\r\nAnd here you can see this information being used: https://github.com/hibernate/hibernate-orm/blob/6.1.3/hibernate-core/src/main/java/org/hibernate/sql/ast/spi/AbstractSqlAstTranslator.java#L3629\r\n\r\nThis particular use is for casting parameters that infer the type of a mapping attribute i.e. in a query like `... where alias.attribute = :param`. Some databases might require that the parameter marker is wrapped by a cast in SQL under certain circumstances.\r\n\r\nSo this was just a small example of how Hibernate already uses some of this information. You&#39;ll probably find some other uses if you study the Hibernate code.","title":"@Column settings in case of externally managed database schema","body":"<p>Hibernate does make use of some of the annotation members, especially as of version 6. I would suggest you to look into a tool like JPABuddy which can generate Liquibase changesets based on diffs between your entity and liquibase model. In the past, I implemented such a diffing in a JUnit test. The test creates two databases, one through hbm2ddl and one through the liquibase model. Finally, it diffs the two and if there is a difference, fails the test, reporting the XML serialized form of the diff.</p>\n<p>This way, both models stay in sync easily and you also don't need hbm2ddl validate.</p>\n<p>Here you can see the runtime model receiving information like <code>length</code>, <code>precision</code>, <code>scale</code> and <code>columnDefinition</code>: <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.1.3/hibernate-core/src/main/java/org/hibernate/metamodel/mapping/internal/MappingModelCreationHelper.java#L262\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/6.1.3/hibernate-core/src/main/java/org/hibernate/metamodel/mapping/internal/MappingModelCreationHelper.java#L262</a></p>\n<p>And here you can see this information being used: <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.1.3/hibernate-core/src/main/java/org/hibernate/sql/ast/spi/AbstractSqlAstTranslator.java#L3629\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/6.1.3/hibernate-core/src/main/java/org/hibernate/sql/ast/spi/AbstractSqlAstTranslator.java#L3629</a></p>\n<p>This particular use is for casting parameters that infer the type of a mapping attribute i.e. in a query like <code>... where alias.attribute = :param</code>. Some databases might require that the parameter marker is wrapped by a cast in SQL under certain circumstances.</p>\n<p>So this was just a small example of how Hibernate already uses some of this information. You'll probably find some other uses if you study the Hibernate code.</p>\n"}],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73897290,"answer_count":1,"score":0,"last_activity_date":1664469210,"creation_date":1664199946,"question_id":73855108,"body_markdown":"When externally managing the database schema (e.g. with Liquibase), in addition to specifying the Liquibase changesets, you have to help Hibernate understand your data structure using JPA annotations.\r\n\r\nWhile some annotations concern higher level abstractions of the underlying data like `@Embedded` or `@OneToMany`, other lower level annotations, such as `@Column(length = 255, nullable = false)`, seem only to represent what is already defined in the underlying database schema (`varchar(255) not null`). Therefore it feels redundant to specify both, and it raises several questions for which I couldn&#39;t find a clear answer in the docs:\r\n\r\n[main question] Which `@Column` settings (besides `name`, `insertable` and `updatable`) are only used for DDL creation and could therefore be safely omitted if the database schema is managed externally?\\\r\nMy guess would be: `columnDefinition`, `length`, `precision` and `scale`, but I&#39;m unsure if Hibernate makes some other internal use of those. What about `nullable` and `unique`, does Hibernate take these into account for example to optimize queries, or could those be left out as well?\r\n\r\n&gt; As a test, I tried to write null to a non-nullable database column, and the only difference in specifying `@Column(nullable = false)` was that the exception would originate from the `EntityManager` instead of the database driver, which wouldn&#39;t matter much to the application (edit: assuming it is an exception case).\r\n\r\n[side question 1] Does Hibernate assume uniqueness and non-nullability on single-column primary keys so the `@Column(unique = true, nullable = false)` settings could be omitted on properties that also have `@Id`?\r\n\r\n[side question 2] Since Hibernate is capable of inspecting the database schema (e.g. when using `hbm2ddl.auto=validate`), can it be configured to extract the type and constraint information it needs from the underlying schema so that settings in `@Column` could be omitted?","title":"@Column settings in case of externally managed database schema","body":"<p>When externally managing the database schema (e.g. with Liquibase), in addition to specifying the Liquibase changesets, you have to help Hibernate understand your data structure using JPA annotations.</p>\n<p>While some annotations concern higher level abstractions of the underlying data like <code>@Embedded</code> or <code>@OneToMany</code>, other lower level annotations, such as <code>@Column(length = 255, nullable = false)</code>, seem only to represent what is already defined in the underlying database schema (<code>varchar(255) not null</code>). Therefore it feels redundant to specify both, and it raises several questions for which I couldn't find a clear answer in the docs:</p>\n<p>[main question] Which <code>@Column</code> settings (besides <code>name</code>, <code>insertable</code> and <code>updatable</code>) are only used for DDL creation and could therefore be safely omitted if the database schema is managed externally?<br />\nMy guess would be: <code>columnDefinition</code>, <code>length</code>, <code>precision</code> and <code>scale</code>, but I'm unsure if Hibernate makes some other internal use of those. What about <code>nullable</code> and <code>unique</code>, does Hibernate take these into account for example to optimize queries, or could those be left out as well?</p>\n<blockquote>\n<p>As a test, I tried to write null to a non-nullable database column, and the only difference in specifying <code>@Column(nullable = false)</code> was that the exception would originate from the <code>EntityManager</code> instead of the database driver, which wouldn't matter much to the application (edit: assuming it is an exception case).</p>\n</blockquote>\n<p>[side question 1] Does Hibernate assume uniqueness and non-nullability on single-column primary keys so the <code>@Column(unique = true, nullable = false)</code> settings could be omitted on properties that also have <code>@Id</code>?</p>\n<p>[side question 2] Since Hibernate is capable of inspecting the database schema (e.g. when using <code>hbm2ddl.auto=validate</code>), can it be configured to extract the type and constraint information it needs from the underlying schema so that settings in <code>@Column</code> could be omitted?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1459512256,"post_id":36355580,"comment_id":60331305,"body_markdown":"If a cell already has a value in it, then it already has a style. So, sounds like it&#39;s behaving as expected to me!","body":"If a cell already has a value in it, then it already has a style. So, sounds like it&#39;s behaving as expected to me!"},{"owner":{"account_id":6732551,"reputation":475,"user_id":5188353,"accept_rate":43,"display_name":"clex"},"score":0,"creation_date":1459519659,"post_id":36355580,"comment_id":60336525,"body_markdown":"I don&#39;t really understand that because I tried to set the style before and after setting the value. The result is the same. If it is not possible to set style on columns with values why the functionality does exist at all? As soon as a value is set the style is lost.","body":"I don&#39;t really understand that because I tried to set the style before and after setting the value. The result is the same. If it is not possible to set style on columns with values why the functionality does exist at all? As soon as a value is set the style is lost."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1459521190,"post_id":36355580,"comment_id":60337568,"body_markdown":"See http://stackoverflow.com/questions/34463072/i-want-to-arrange-entire-cells-in-specific-column-instead-of-individual-cells/34469637#34469637. POI itself does not apply the DefaultColumnStyle to new cells in that column. It should set s=&quot;1&quot;, where 1 is the style number, in the corresponding c tag of Sheet1.xml.","body":"See <a href=\"http://stackoverflow.com/questions/34463072/i-want-to-arrange-entire-cells-in-specific-column-instead-of-individual-cells/34469637#34469637\" title=\"i want to arrange entire cells in specific column instead of individual cells\">stackoverflow.com/questions/34463072/&hellip;</a>. POI itself does not apply the DefaultColumnStyle to new cells in that column. It should set s=&quot;1&quot;, where 1 is the style number, in the corresponding c tag of Sheet1.xml."},{"owner":{"account_id":6732551,"reputation":475,"user_id":5188353,"accept_rate":43,"display_name":"clex"},"score":0,"creation_date":1459523958,"post_id":36355580,"comment_id":60339494,"body_markdown":"Seems that it is only possible to set the style on the cell level if you want to have the style AND the value. I will use the proposed workaround in the suggested post.","body":"Seems that it is only possible to set the style on the cell level if you want to have the style AND the value. I will use the proposed workaround in the suggested post."}],"answers":[{"tags":[],"owner":{"account_id":5050675,"reputation":1447,"user_id":4205875,"accept_rate":67,"display_name":"Brank Victoria"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1459511642,"creation_date":1459511642,"answer_id":36355699,"question_id":36355580,"body_markdown":"Why don&#180;t you just set the cell style before insertinr the value?","title":"Java Apache POI: setting default column style doesnt work for existing values","body":"<p>Why don´t you just set the cell style before insertinr the value?</p>\n"}],"owner":{"account_id":6732551,"reputation":475,"user_id":5188353,"accept_rate":43,"display_name":"clex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664468902,"creation_date":1459511295,"question_id":36355580,"body_markdown":"I have the following example code:\r\n\r\n\tSXSSFWorkbook wb = new SXSSFWorkbook();\r\n\tSXSSFSheet sheet = wb.createSheet(&quot;sheet&quot;);\r\n\tSXSSFRow row = sheet.createRow(0);\r\n\tSXSSFCell cell = row.createCell(0);\r\n\tcell.setCellValue(&quot;value&quot;);\r\n\t\r\n\tXSSFCellStyle cellStyle = (XSSFCellStyle) wb.createCellStyle();\r\n\tDataFormat fmt = wb.createDataFormat();\r\n\tcellStyle.setDataFormat(fmt.getFormat(&quot;@&quot;));\r\n\tsheet.setDefaultColumnStyle(0, cellStyle);\r\n\t\r\n\tFileOutputStream out;\r\n\ttry {\r\n\t\tout = new FileOutputStream(&quot;filename.xlsx&quot;);\r\n\t\ttry {\r\n\t\t\twb.write(out);\r\n\t\t\tout.close();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t} catch (FileNotFoundException e) {\r\n\t\te.printStackTrace();\r\n\t}\t\r\n\r\nIt successfully creates an excel file and puts the value &quot;value&quot; in it (column A, row 1). \r\nI want to set the column style for column A to &quot;@&quot; (=Text) which is working very well but not for the cell with the already existing value &quot;value&quot;. All other empty cells in column A are set to the style &quot;@&quot; successfully. \r\nI have to work with SXSSFWorkbook since I am creating huge excel files.\r\n\r\n","title":"Java Apache POI: setting default column style doesnt work for existing values","body":"<p>I have the following example code:</p>\n<pre><code>SXSSFWorkbook wb = new SXSSFWorkbook();\nSXSSFSheet sheet = wb.createSheet(&quot;sheet&quot;);\nSXSSFRow row = sheet.createRow(0);\nSXSSFCell cell = row.createCell(0);\ncell.setCellValue(&quot;value&quot;);\n\nXSSFCellStyle cellStyle = (XSSFCellStyle) wb.createCellStyle();\nDataFormat fmt = wb.createDataFormat();\ncellStyle.setDataFormat(fmt.getFormat(&quot;@&quot;));\nsheet.setDefaultColumnStyle(0, cellStyle);\n\nFileOutputStream out;\ntry {\n    out = new FileOutputStream(&quot;filename.xlsx&quot;);\n    try {\n        wb.write(out);\n        out.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}   \n</code></pre>\n<p>It successfully creates an excel file and puts the value &quot;value&quot; in it (column A, row 1).\nI want to set the column style for column A to &quot;@&quot; (=Text) which is working very well but not for the cell with the already existing value &quot;value&quot;. All other empty cells in column A are set to the style &quot;@&quot; successfully.\nI have to work with SXSSFWorkbook since I am creating huge excel files.</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664468778,"creation_date":1664468778,"answer_id":73898827,"question_id":73897992,"body_markdown":"Since the sender is also Spring, the `JsonSerializer` will add type information in headers that the deserializer uses to deserialize (by default); the generic parameter is only used when no type information is available in the headers (or using type headers is disabled).\r\n\r\nIf the model is in different packages on the producer and consumer, then you can add type mapping configuration to map the consumer type to the producer type.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#json-serde\r\n\r\nAnd https://docs.spring.io/spring-kafka/docs/current/reference/html/#serdes-mapping-types","title":"Spring Kafka - Consumer Factory for multiple model classes","body":"<p>Since the sender is also Spring, the <code>JsonSerializer</code> will add type information in headers that the deserializer uses to deserialize (by default); the generic parameter is only used when no type information is available in the headers (or using type headers is disabled).</p>\n<p>If the model is in different packages on the producer and consumer, then you can add type mapping configuration to map the consumer type to the producer type.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#json-serde\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#json-serde</a></p>\n<p>And <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#serdes-mapping-types\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#serdes-mapping-types</a></p>\n"}],"owner":{"account_id":25080092,"reputation":53,"user_id":18932958,"display_name":"scarletspeedster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664468778,"creation_date":1664464839,"question_id":73897992,"body_markdown":"I have recently started learning Kafka and I&#39;m trying to make basic communication between two springboot microservices. \r\n\r\nCurrently I have a model class User. I am sending the User object from one Producer service and receiving the same on separate Consumer service via Kafka.\r\nI have configured the ConsumerFactory in the following way:\r\n\r\n```\r\npublic class User{\r\n    Integer id;\r\n    String name;\r\n    String place;\r\n   // getters, setters\r\n}\r\n```\r\n\r\nConsumer Config:\r\n\r\n```\r\n@Configuration\r\npublic class ConsumerConfig{\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, User&gt; consumerFactory(){\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:9092&quot;);\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;group1&quot;);\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringSerializer(), new JsonDeserializer&lt;&gt;(User.class));\r\n   }\r\n\r\n   @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, User&gt; \r\n      kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, User&gt; factory =\r\n          new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n```\r\n\r\nThis is working properly and I am able to deserialize the User object in the consumer service.\r\n\r\nNow suppose if I have 20 more such model classes such as Product, Order, Payment etc. Do I need to create ConsumerFactory for each of model classes as JsonDeserializer constructor takes the target class type as parameter in \r\n`return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringSerializer(), new JsonDeserializer&lt;&gt;(User.class));`\r\n\r\nIs there any generic way of doing this for all model classes? \r\n\r\nAppreciate all of your suggestions.\r\n","title":"Spring Kafka - Consumer Factory for multiple model classes","body":"<p>I have recently started learning Kafka and I'm trying to make basic communication between two springboot microservices.</p>\n<p>Currently I have a model class User. I am sending the User object from one Producer service and receiving the same on separate Consumer service via Kafka.\nI have configured the ConsumerFactory in the following way:</p>\n<pre><code>public class User{\n    Integer id;\n    String name;\n    String place;\n   // getters, setters\n}\n</code></pre>\n<p>Consumer Config:</p>\n<pre><code>@Configuration\npublic class ConsumerConfig{\n\n    @Bean\n    public ConsumerFactory&lt;String, User&gt; consumerFactory(){\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:9092&quot;);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;group1&quot;);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringSerializer(), new JsonDeserializer&lt;&gt;(User.class));\n   }\n\n   @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, User&gt; \n      kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, User&gt; factory =\n          new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n</code></pre>\n<p>This is working properly and I am able to deserialize the User object in the consumer service.</p>\n<p>Now suppose if I have 20 more such model classes such as Product, Order, Payment etc. Do I need to create ConsumerFactory for each of model classes as JsonDeserializer constructor takes the target class type as parameter in\n<code>return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringSerializer(), new JsonDeserializer&lt;&gt;(User.class));</code></p>\n<p>Is there any generic way of doing this for all model classes?</p>\n<p>Appreciate all of your suggestions.</p>\n"},{"tags":["java","performance","comparison","stream","nio"],"comments":[{"owner":{"account_id":28564,"reputation":19183,"user_id":76393,"accept_rate":65,"display_name":"ivan_ivanovich_ivanoff"},"score":1,"creation_date":1244887308,"post_id":964332,"comment_id":799133,"body_markdown":"Note: by default, DMA/SATA technologies are handled by the OS for all file I/O operations (well, on modern OSes).","body":"Note: by default, DMA/SATA technologies are handled by the OS for all file I/O operations (well, on modern OSes)."}],"answers":[{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1483235923,"creation_date":1244458829,"answer_id":964353,"question_id":964332,"body_markdown":"With such large files, **you are going to get MUCH better performance with [java.nio.][1]**\r\n\r\nAdditionally, reading single bytes with java streams can be very slow.  Using a byte array (2-6K elements from my own experiences, ymmv as it seems platform/application specific) will dramatically improve your read performance with streams. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html","title":"Java Large Files Disk IO Performance","body":"<p>With such large files, <strong>you are going to get MUCH better performance with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html\" rel=\"nofollow noreferrer\">java.nio.</a></strong></p>\n\n<p>Additionally, reading single bytes with java streams can be very slow.  Using a byte array (2-6K elements from my own experiences, ymmv as it seems platform/application specific) will dramatically improve your read performance with streams. </p>\n"},{"tags":[],"owner":{"account_id":877196,"reputation":8245,"user_id":118469,"display_name":"laginimaineb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1244471144,"creation_date":1244458908,"answer_id":964359,"question_id":964332,"body_markdown":"Reading and writing the files with Java can be just as fast. You can use [FileChannels][1].\r\nAs for comparing the files, obviously this will take a lot of time comparing byte to byte \r\nHere&#39;s an example using FileChannels and ByteBuffers (could be further optimized):\r\n\r\n    public static boolean compare(String firstPath, String secondPath, final int BUFFER_SIZE) throws IOException {\r\n        FileChannel firstIn = null, secondIn = null;\r\n        try {\r\n            firstIn = new FileInputStream(firstPath).getChannel();\r\n            secondIn = new FileInputStream(secondPath).getChannel();\r\n            if (firstIn.size() != secondIn.size())\r\n                return false;\r\n            ByteBuffer firstBuffer = ByteBuffer.allocateDirect(BUFFER_SIZE);\r\n            ByteBuffer secondBuffer = ByteBuffer.allocateDirect(BUFFER_SIZE);\r\n            int firstRead, secondRead;\r\n            while (firstIn.position() &lt; firstIn.size()) {\r\n                firstRead = firstIn.read(firstBuffer);\r\n                secondRead = secondIn.read(secondBuffer);\r\n                if (firstRead != secondRead)\r\n                    return false;\r\n                if (!buffersEqual(firstBuffer, secondBuffer, firstRead))\r\n                    return false;\r\n            }\r\n            return true;\r\n        } finally {\r\n            if (firstIn != null) firstIn.close();\r\n            if (secondIn != null) firstIn.close();\r\n        }\r\n    }\r\n\r\n    private static boolean buffersEqual(ByteBuffer first, ByteBuffer second, final int length) {\r\n        if (first.limit() != second.limit())\r\n            return false;\r\n        if (length &gt; first.limit())\r\n            return false;\r\n        first.rewind(); second.rewind();\r\n        for (int i=0; i&lt;length; i++)\r\n            if (first.get() != second.get())\r\n                return false;\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/nio/channels/FileChannel.html","title":"Java Large Files Disk IO Performance","body":"<p>Reading and writing the files with Java can be just as fast. You can use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/nio/channels/FileChannel.html\" rel=\"noreferrer\">FileChannels</a>.\nAs for comparing the files, obviously this will take a lot of time comparing byte to byte \nHere's an example using FileChannels and ByteBuffers (could be further optimized):</p>\n\n<pre><code>public static boolean compare(String firstPath, String secondPath, final int BUFFER_SIZE) throws IOException {\n    FileChannel firstIn = null, secondIn = null;\n    try {\n        firstIn = new FileInputStream(firstPath).getChannel();\n        secondIn = new FileInputStream(secondPath).getChannel();\n        if (firstIn.size() != secondIn.size())\n            return false;\n        ByteBuffer firstBuffer = ByteBuffer.allocateDirect(BUFFER_SIZE);\n        ByteBuffer secondBuffer = ByteBuffer.allocateDirect(BUFFER_SIZE);\n        int firstRead, secondRead;\n        while (firstIn.position() &lt; firstIn.size()) {\n            firstRead = firstIn.read(firstBuffer);\n            secondRead = secondIn.read(secondBuffer);\n            if (firstRead != secondRead)\n                return false;\n            if (!buffersEqual(firstBuffer, secondBuffer, firstRead))\n                return false;\n        }\n        return true;\n    } finally {\n        if (firstIn != null) firstIn.close();\n        if (secondIn != null) firstIn.close();\n    }\n}\n\nprivate static boolean buffersEqual(ByteBuffer first, ByteBuffer second, final int length) {\n    if (first.limit() != second.limit())\n        return false;\n    if (length &gt; first.limit())\n        return false;\n    first.rewind(); second.rewind();\n    for (int i=0; i&lt;length; i++)\n        if (first.get() != second.get())\n            return false;\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1244458987,"creation_date":1244458987,"answer_id":964366,"question_id":964332,"body_markdown":"DMA/SATA are hardware/low-level techlonogies and aren&#39;t visible to any programming language whatsoever.\r\n\r\n\r\nFor memory mapped input/output you should use java.nio, I believe.\r\n\r\nAre you sure that you aren&#39;t reading those files by one byte? That would be wasteful, I&#39;d recommend doing it block-by-block, and each block should be something like 64 megabytes to minimize seeking.","title":"Java Large Files Disk IO Performance","body":"<p>DMA/SATA are hardware/low-level techlonogies and aren't visible to any programming language whatsoever.</p>\n\n<p>For memory mapped input/output you should use java.nio, I believe.</p>\n\n<p>Are you sure that you aren't reading those files by one byte? That would be wasteful, I'd recommend doing it block-by-block, and each block should be something like 64 megabytes to minimize seeking.</p>\n"},{"tags":[],"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244459593,"creation_date":1244459188,"answer_id":964379,"question_id":964332,"body_markdown":"You can have a look at [Suns Article for I/O Tuning][1] (altough already a bit dated), maybe you can find similarities between the examples there and your code. Also have a look at the [java.nio][2] package which contains faster I/O elements than java.io.\r\nDr. Dobbs Journal has a quite nice article on [high performance IO using java.nio][3].\r\n\r\nIf so, there are further examples and tuning tips available there which should be able to help you to speed up your code.\r\n\r\nFurthermore the Arrays class has [methods for comparing byte arrays][4] build in, maybe these can also be used to make things faster and clear up your loop a bit.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/PerfTuning/\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/nio/package-summary.html\r\n  [3]: http://www.ddj.com/hpc-high-performance-computing/184406242\r\n  [4]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Arrays.html#equals(byte[],%20byte[])","title":"Java Large Files Disk IO Performance","body":"<p>You can have a look at <a href=\"http://java.sun.com/developer/technicalArticles/Programming/PerfTuning/\" rel=\"nofollow noreferrer\">Suns Article for I/O Tuning</a> (altough already a bit dated), maybe you can find similarities between the examples there and your code. Also have a look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/nio/package-summary.html\" rel=\"nofollow noreferrer\">java.nio</a> package which contains faster I/O elements than java.io.\nDr. Dobbs Journal has a quite nice article on <a href=\"http://www.ddj.com/hpc-high-performance-computing/184406242\" rel=\"nofollow noreferrer\">high performance IO using java.nio</a>.</p>\n\n<p>If so, there are further examples and tuning tips available there which should be able to help you to speed up your code.</p>\n\n<p>Furthermore the Arrays class has <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Arrays.html#equals(byte[],%20byte[])\" rel=\"nofollow noreferrer\">methods for comparing byte arrays</a> build in, maybe these can also be used to make things faster and clear up your loop a bit.</p>\n"},{"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1244459282,"creation_date":1244459282,"answer_id":964389,"question_id":964332,"body_markdown":"The following is a good article on the relative merits of the different ways to read a file in java. May be of some use:\r\n\r\n[How to read files quickly][1]\r\n\r\n\r\n  [1]: http://nadeausoftware.com/articles/2008/02/java_tip_how_read_files_quickly","title":"Java Large Files Disk IO Performance","body":"<p>The following is a good article on the relative merits of the different ways to read a file in java. May be of some use:</p>\n\n<p><a href=\"http://nadeausoftware.com/articles/2008/02/java_tip_how_read_files_quickly\" rel=\"noreferrer\">How to read files quickly</a></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244529844,"creation_date":1244529139,"answer_id":968472,"question_id":964332,"body_markdown":"For a better comparison try copying two files at once.  A hard drive can read one file much more efficiently than reading two (as the head has to move back and forth to read)\r\nOne way to reduce this is to use larger buffers, e.g. 16 MB. with ByteBuffer.\r\n\r\nWith ByteBuffer you can compare 8-bytes at a time by comparing long values with getLong()\r\n\r\nIf your Java is efficient, most of the work is in the disk/OS for reading and writing so it shouldn&#39;t be much slower than using any other language (as the disk/OS is the bottleneck)\r\n\r\nDon&#39;t assume Java is slow until you have determined its not a bug in your code.\r\n\r\n","title":"Java Large Files Disk IO Performance","body":"<p>For a better comparison try copying two files at once.  A hard drive can read one file much more efficiently than reading two (as the head has to move back and forth to read)\nOne way to reduce this is to use larger buffers, e.g. 16 MB. with ByteBuffer.</p>\n\n<p>With ByteBuffer you can compare 8-bytes at a time by comparing long values with getLong()</p>\n\n<p>If your Java is efficient, most of the work is in the disk/OS for reading and writing so it shouldn't be much slower than using any other language (as the disk/OS is the bottleneck)</p>\n\n<p>Don't assume Java is slow until you have determined its not a bug in your code.</p>\n"},{"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1244715630,"creation_date":1244715630,"answer_id":980357,"question_id":964332,"body_markdown":"I tried out three different methods of comparing two identical 3,8 gb files with buffer sizes between 8 kb and 1 MB.\r\nthe first first method used just two buffered input streams\r\n\r\nthe second approach uses a threadpool that reads in two different threads and compares in a third one. this got slightly higher throughput at the expense of a high cpu utilisation. the managing of the threadpool takes a lot of overhead with those short-running tasks. \r\n\r\nthe third approach uses nio, as posted by laginimaineb \r\n\r\nas you can see, the general approach does not differ much. more important is the correct buffer size.\r\n\r\nwhat is strange that i read 1 byte less using threads. i could not spot the error tough.\r\n\r\n    comparing just with two streams\r\n    I was equal, even after 3684070360 bytes and reading for 704813 ms (4,98MB/sec * 2) with a buffer size of 8 kB\r\n    I was equal, even after 3684070360 bytes and reading for 578563 ms (6,07MB/sec * 2) with a buffer size of 16 kB\r\n    I was equal, even after 3684070360 bytes and reading for 515422 ms (6,82MB/sec * 2) with a buffer size of 32 kB\r\n    I was equal, even after 3684070360 bytes and reading for 534532 ms (6,57MB/sec * 2) with a buffer size of 64 kB\r\n    I was equal, even after 3684070360 bytes and reading for 422953 ms (8,31MB/sec * 2) with a buffer size of 128 kB\r\n    I was equal, even after 3684070360 bytes and reading for 793359 ms (4,43MB/sec * 2) with a buffer size of 256 kB\r\n    I was equal, even after 3684070360 bytes and reading for 746344 ms (4,71MB/sec * 2) with a buffer size of 512 kB\r\n    I was equal, even after 3684070360 bytes and reading for 669969 ms (5,24MB/sec * 2) with a buffer size of 1024 kB\r\n    comparing with threads\r\n    I was equal, even after 3684070359 bytes and reading for 602391 ms (5,83MB/sec * 2) with a buffer size of 8 kB\r\n    I was equal, even after 3684070359 bytes and reading for 523156 ms (6,72MB/sec * 2) with a buffer size of 16 kB\r\n    I was equal, even after 3684070359 bytes and reading for 527547 ms (6,66MB/sec * 2) with a buffer size of 32 kB\r\n    I was equal, even after 3684070359 bytes and reading for 276750 ms (12,69MB/sec * 2) with a buffer size of 64 kB\r\n    I was equal, even after 3684070359 bytes and reading for 493172 ms (7,12MB/sec * 2) with a buffer size of 128 kB\r\n    I was equal, even after 3684070359 bytes and reading for 696781 ms (5,04MB/sec * 2) with a buffer size of 256 kB\r\n    I was equal, even after 3684070359 bytes and reading for 727953 ms (4,83MB/sec * 2) with a buffer size of 512 kB\r\n    I was equal, even after 3684070359 bytes and reading for 741000 ms (4,74MB/sec * 2) with a buffer size of 1024 kB\r\n    comparing with nio\r\n    I was equal, even after 3684070360 bytes and reading for 661313 ms (5,31MB/sec * 2) with a buffer size of 8 kB\r\n    I was equal, even after 3684070360 bytes and reading for 656156 ms (5,35MB/sec * 2) with a buffer size of 16 kB\r\n    I was equal, even after 3684070360 bytes and reading for 491781 ms (7,14MB/sec * 2) with a buffer size of 32 kB\r\n    I was equal, even after 3684070360 bytes and reading for 317360 ms (11,07MB/sec * 2) with a buffer size of 64 kB\r\n    I was equal, even after 3684070360 bytes and reading for 643078 ms (5,46MB/sec * 2) with a buffer size of 128 kB\r\n    I was equal, even after 3684070360 bytes and reading for 865016 ms (4,06MB/sec * 2) with a buffer size of 256 kB\r\n    I was equal, even after 3684070360 bytes and reading for 716796 ms (4,90MB/sec * 2) with a buffer size of 512 kB\r\n    I was equal, even after 3684070360 bytes and reading for 652016 ms (5,39MB/sec * 2) with a buffer size of 1024 kB\r\n    \r\n\r\n\r\nthe code used:\r\n\r\n\r\n    import junit.framework.Assert;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.FileChannel;\r\n    import java.text.DecimalFormat;\r\n    import java.text.NumberFormat;\r\n    import java.util.Arrays;\r\n    import java.util.concurrent.*;\r\n    \r\n    public class FileCompare {\r\n    \r\n        private static final int MIN_BUFFER_SIZE = 1024 * 8;\r\n        private static final int MAX_BUFFER_SIZE = 1024 * 1024;\r\n        private String fileName1;\r\n        private String fileName2;\r\n        private long start;\r\n        private long totalbytes;\r\n    \r\n        @Before\r\n        public void createInputStream() {\r\n            fileName1 = &quot;bigFile.1&quot;;\r\n            fileName2 = &quot;bigFile.2&quot;;\r\n        }\r\n    \r\n        @Test\r\n        public void compareTwoFiles() throws IOException {\r\n            System.out.println(&quot;comparing just with two streams&quot;);\r\n            int currentBufferSize = MIN_BUFFER_SIZE;\r\n            while (currentBufferSize &lt;= MAX_BUFFER_SIZE) {\r\n                compareWithBufferSize(currentBufferSize);\r\n                currentBufferSize *= 2;\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void compareTwoFilesFutures() \r\n                throws IOException, ExecutionException, InterruptedException {\r\n            System.out.println(&quot;comparing with threads&quot;);\r\n            int myBufferSize = MIN_BUFFER_SIZE;\r\n            while (myBufferSize &lt;= MAX_BUFFER_SIZE) {\r\n                start = System.currentTimeMillis();\r\n                totalbytes = 0;\r\n                compareWithBufferSizeFutures(myBufferSize);\r\n                myBufferSize *= 2;\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void compareTwoFilesNio() throws IOException {\r\n            System.out.println(&quot;comparing with nio&quot;);\r\n            int myBufferSize = MIN_BUFFER_SIZE;\r\n            while (myBufferSize &lt;= MAX_BUFFER_SIZE) {\r\n                start = System.currentTimeMillis();\r\n                totalbytes = 0;\r\n                boolean wasEqual = isEqualsNio(myBufferSize);\r\n    \r\n                if (wasEqual) {\r\n                    printAfterEquals(myBufferSize);\r\n                } else {\r\n                    Assert.fail(&quot;files were not equal&quot;);\r\n                }\r\n    \r\n                myBufferSize *= 2;\r\n            }\r\n    \r\n        }\r\n    \r\n        private void compareWithBufferSize(int myBufferSize) throws IOException {\r\n            final BufferedInputStream inputStream1 =\r\n                    new BufferedInputStream(\r\n                            new FileInputStream(new File(fileName1)),\r\n                            myBufferSize);\r\n            byte[] buff1 = new byte[myBufferSize];\r\n            final BufferedInputStream inputStream2 =\r\n                    new BufferedInputStream(\r\n                            new FileInputStream(new File(fileName2)),\r\n                            myBufferSize);\r\n            byte[] buff2 = new byte[myBufferSize];\r\n            int read1;\r\n    \r\n            start = System.currentTimeMillis();\r\n            totalbytes = 0;\r\n            while ((read1 = inputStream1.read(buff1)) != -1) {\r\n                totalbytes += read1;\r\n                int read2 = inputStream2.read(buff2);\r\n                if (read1 != read2) {\r\n                    break;\r\n                }\r\n                if (!Arrays.equals(buff1, buff2)) {\r\n                    break;\r\n                }\r\n            }\r\n            if (read1 == -1) {\r\n                printAfterEquals(myBufferSize);\r\n            } else {\r\n                Assert.fail(&quot;files were not equal&quot;);\r\n            }\r\n            inputStream1.close();\r\n            inputStream2.close();\r\n        }\r\n    \r\n        private void compareWithBufferSizeFutures(int myBufferSize)\r\n                throws ExecutionException, InterruptedException, IOException {\r\n            final BufferedInputStream inputStream1 =\r\n                    new BufferedInputStream(\r\n                            new FileInputStream(\r\n                                    new File(fileName1)),\r\n                            myBufferSize);\r\n            final BufferedInputStream inputStream2 =\r\n                    new BufferedInputStream(\r\n                            new FileInputStream(\r\n                                    new File(fileName2)),\r\n                            myBufferSize);\r\n    \r\n            final boolean wasEqual = isEqualsParallel(myBufferSize, inputStream1, inputStream2);\r\n    \r\n            if (wasEqual) {\r\n                printAfterEquals(myBufferSize);\r\n            } else {\r\n                Assert.fail(&quot;files were not equal&quot;);\r\n            }\r\n            inputStream1.close();\r\n            inputStream2.close();\r\n        }\r\n    \r\n        private boolean isEqualsParallel(int myBufferSize\r\n                , final BufferedInputStream inputStream1\r\n                , final BufferedInputStream inputStream2)\r\n                throws InterruptedException, ExecutionException {\r\n            final byte[] buff1Even = new byte[myBufferSize];\r\n            final byte[] buff1Odd = new byte[myBufferSize];\r\n            final byte[] buff2Even = new byte[myBufferSize];\r\n            final byte[] buff2Odd = new byte[myBufferSize];\r\n            final Callable&lt;Integer&gt; read1Even = new Callable&lt;Integer&gt;() {\r\n                public Integer call() throws Exception {\r\n                    return inputStream1.read(buff1Even);\r\n                }\r\n            };\r\n            final Callable&lt;Integer&gt; read2Even = new Callable&lt;Integer&gt;() {\r\n                public Integer call() throws Exception {\r\n                    return inputStream2.read(buff2Even);\r\n                }\r\n            };\r\n            final Callable&lt;Integer&gt; read1Odd = new Callable&lt;Integer&gt;() {\r\n                public Integer call() throws Exception {\r\n                    return inputStream1.read(buff1Odd);\r\n                }\r\n            };\r\n            final Callable&lt;Integer&gt; read2Odd = new Callable&lt;Integer&gt;() {\r\n                public Integer call() throws Exception {\r\n                    return inputStream2.read(buff2Odd);\r\n                }\r\n            };\r\n            final Callable&lt;Boolean&gt; oddEqualsArray = new Callable&lt;Boolean&gt;() {\r\n                public Boolean call() throws Exception {\r\n                    return Arrays.equals(buff1Odd, buff2Odd);\r\n                }\r\n            };\r\n            final Callable&lt;Boolean&gt; evenEqualsArray = new Callable&lt;Boolean&gt;() {\r\n                public Boolean call() throws Exception {\r\n                    return Arrays.equals(buff1Even, buff2Even);\r\n                }\r\n            };\r\n    \r\n            ExecutorService executor = Executors.newCachedThreadPool();\r\n            boolean isEven = true;\r\n            Future&lt;Integer&gt; read1 = null;\r\n            Future&lt;Integer&gt; read2 = null;\r\n            Future&lt;Boolean&gt; isEqual = null;\r\n            int lastSize = 0;\r\n            while (true) {\r\n                if (isEqual != null) {\r\n                    if (!isEqual.get()) {\r\n                        return false;\r\n                    } else if (lastSize == -1) {\r\n                        return true;\r\n                    }\r\n                }\r\n                if (read1 != null) {\r\n                    lastSize = read1.get();\r\n                    totalbytes += lastSize;\r\n                    final int size2 = read2.get();\r\n                    if (lastSize != size2) {\r\n                        return false;\r\n                    }\r\n                }\r\n                isEven = !isEven;\r\n                if (isEven) {\r\n                    if (read1 != null) {\r\n                        isEqual = executor.submit(oddEqualsArray);\r\n                    }\r\n                    read1 = executor.submit(read1Even);\r\n                    read2 = executor.submit(read2Even);\r\n                } else {\r\n                    if (read1 != null) {\r\n                        isEqual = executor.submit(evenEqualsArray);\r\n                    }\r\n                    read1 = executor.submit(read1Odd);\r\n                    read2 = executor.submit(read2Odd);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean isEqualsNio(int myBufferSize) throws IOException {\r\n            FileChannel first = null, seconde = null;\r\n            try {\r\n                first = new FileInputStream(fileName1).getChannel();\r\n                seconde = new FileInputStream(fileName2).getChannel();\r\n                if (first.size() != seconde.size()) {\r\n                    return false;\r\n                }\r\n                ByteBuffer firstBuffer = ByteBuffer.allocateDirect(myBufferSize);\r\n                ByteBuffer secondBuffer = ByteBuffer.allocateDirect(myBufferSize);\r\n                int firstRead, secondRead;\r\n                while (first.position() &lt; first.size()) {\r\n                    firstRead = first.read(firstBuffer);\r\n                    totalbytes += firstRead;\r\n                    secondRead = seconde.read(secondBuffer);\r\n                    if (firstRead != secondRead) {\r\n                        return false;\r\n                    }\r\n                    if (!nioBuffersEqual(firstBuffer, secondBuffer, firstRead)) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            } finally {\r\n                if (first != null) {\r\n                    first.close();\r\n                }\r\n                if (seconde != null) {\r\n                    seconde.close();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static boolean nioBuffersEqual(ByteBuffer first, ByteBuffer second, final int length) {\r\n            if (first.limit() != second.limit() || length &gt; first.limit()) {\r\n                return false;\r\n            }\r\n            first.rewind();\r\n            second.rewind();\r\n            for (int i = 0; i &lt; length; i++) {\r\n                if (first.get() != second.get()) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private void printAfterEquals(int myBufferSize) {\r\n            NumberFormat nf = new DecimalFormat(&quot;#.00&quot;);\r\n            final long dur = System.currentTimeMillis() - start;\r\n            double seconds = dur / 1000d;\r\n            double megabytes = totalbytes / 1024 / 1024;\r\n            double rate = (megabytes) / seconds;\r\n            System.out.println(&quot;I was equal, even after &quot; + totalbytes\r\n                    + &quot; bytes and reading for &quot; + dur\r\n                    + &quot; ms (&quot; + nf.format(rate) + &quot;MB/sec * 2)&quot; +\r\n                    &quot; with a buffer size of &quot; + myBufferSize / 1024 + &quot; kB&quot;);\r\n        }\r\n    }\r\n","title":"Java Large Files Disk IO Performance","body":"<p>I tried out three different methods of comparing two identical 3,8 gb files with buffer sizes between 8 kb and 1 MB.\nthe first first method used just two buffered input streams</p>\n\n<p>the second approach uses a threadpool that reads in two different threads and compares in a third one. this got slightly higher throughput at the expense of a high cpu utilisation. the managing of the threadpool takes a lot of overhead with those short-running tasks. </p>\n\n<p>the third approach uses nio, as posted by laginimaineb </p>\n\n<p>as you can see, the general approach does not differ much. more important is the correct buffer size.</p>\n\n<p>what is strange that i read 1 byte less using threads. i could not spot the error tough.</p>\n\n<pre><code>comparing just with two streams\nI was equal, even after 3684070360 bytes and reading for 704813 ms (4,98MB/sec * 2) with a buffer size of 8 kB\nI was equal, even after 3684070360 bytes and reading for 578563 ms (6,07MB/sec * 2) with a buffer size of 16 kB\nI was equal, even after 3684070360 bytes and reading for 515422 ms (6,82MB/sec * 2) with a buffer size of 32 kB\nI was equal, even after 3684070360 bytes and reading for 534532 ms (6,57MB/sec * 2) with a buffer size of 64 kB\nI was equal, even after 3684070360 bytes and reading for 422953 ms (8,31MB/sec * 2) with a buffer size of 128 kB\nI was equal, even after 3684070360 bytes and reading for 793359 ms (4,43MB/sec * 2) with a buffer size of 256 kB\nI was equal, even after 3684070360 bytes and reading for 746344 ms (4,71MB/sec * 2) with a buffer size of 512 kB\nI was equal, even after 3684070360 bytes and reading for 669969 ms (5,24MB/sec * 2) with a buffer size of 1024 kB\ncomparing with threads\nI was equal, even after 3684070359 bytes and reading for 602391 ms (5,83MB/sec * 2) with a buffer size of 8 kB\nI was equal, even after 3684070359 bytes and reading for 523156 ms (6,72MB/sec * 2) with a buffer size of 16 kB\nI was equal, even after 3684070359 bytes and reading for 527547 ms (6,66MB/sec * 2) with a buffer size of 32 kB\nI was equal, even after 3684070359 bytes and reading for 276750 ms (12,69MB/sec * 2) with a buffer size of 64 kB\nI was equal, even after 3684070359 bytes and reading for 493172 ms (7,12MB/sec * 2) with a buffer size of 128 kB\nI was equal, even after 3684070359 bytes and reading for 696781 ms (5,04MB/sec * 2) with a buffer size of 256 kB\nI was equal, even after 3684070359 bytes and reading for 727953 ms (4,83MB/sec * 2) with a buffer size of 512 kB\nI was equal, even after 3684070359 bytes and reading for 741000 ms (4,74MB/sec * 2) with a buffer size of 1024 kB\ncomparing with nio\nI was equal, even after 3684070360 bytes and reading for 661313 ms (5,31MB/sec * 2) with a buffer size of 8 kB\nI was equal, even after 3684070360 bytes and reading for 656156 ms (5,35MB/sec * 2) with a buffer size of 16 kB\nI was equal, even after 3684070360 bytes and reading for 491781 ms (7,14MB/sec * 2) with a buffer size of 32 kB\nI was equal, even after 3684070360 bytes and reading for 317360 ms (11,07MB/sec * 2) with a buffer size of 64 kB\nI was equal, even after 3684070360 bytes and reading for 643078 ms (5,46MB/sec * 2) with a buffer size of 128 kB\nI was equal, even after 3684070360 bytes and reading for 865016 ms (4,06MB/sec * 2) with a buffer size of 256 kB\nI was equal, even after 3684070360 bytes and reading for 716796 ms (4,90MB/sec * 2) with a buffer size of 512 kB\nI was equal, even after 3684070360 bytes and reading for 652016 ms (5,39MB/sec * 2) with a buffer size of 1024 kB\n</code></pre>\n\n<p>the code used:</p>\n\n<pre><code>import junit.framework.Assert;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.io.BufferedInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.FileChannel;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Arrays;\nimport java.util.concurrent.*;\n\npublic class FileCompare {\n\n    private static final int MIN_BUFFER_SIZE = 1024 * 8;\n    private static final int MAX_BUFFER_SIZE = 1024 * 1024;\n    private String fileName1;\n    private String fileName2;\n    private long start;\n    private long totalbytes;\n\n    @Before\n    public void createInputStream() {\n        fileName1 = \"bigFile.1\";\n        fileName2 = \"bigFile.2\";\n    }\n\n    @Test\n    public void compareTwoFiles() throws IOException {\n        System.out.println(\"comparing just with two streams\");\n        int currentBufferSize = MIN_BUFFER_SIZE;\n        while (currentBufferSize &lt;= MAX_BUFFER_SIZE) {\n            compareWithBufferSize(currentBufferSize);\n            currentBufferSize *= 2;\n        }\n    }\n\n    @Test\n    public void compareTwoFilesFutures() \n            throws IOException, ExecutionException, InterruptedException {\n        System.out.println(\"comparing with threads\");\n        int myBufferSize = MIN_BUFFER_SIZE;\n        while (myBufferSize &lt;= MAX_BUFFER_SIZE) {\n            start = System.currentTimeMillis();\n            totalbytes = 0;\n            compareWithBufferSizeFutures(myBufferSize);\n            myBufferSize *= 2;\n        }\n    }\n\n    @Test\n    public void compareTwoFilesNio() throws IOException {\n        System.out.println(\"comparing with nio\");\n        int myBufferSize = MIN_BUFFER_SIZE;\n        while (myBufferSize &lt;= MAX_BUFFER_SIZE) {\n            start = System.currentTimeMillis();\n            totalbytes = 0;\n            boolean wasEqual = isEqualsNio(myBufferSize);\n\n            if (wasEqual) {\n                printAfterEquals(myBufferSize);\n            } else {\n                Assert.fail(\"files were not equal\");\n            }\n\n            myBufferSize *= 2;\n        }\n\n    }\n\n    private void compareWithBufferSize(int myBufferSize) throws IOException {\n        final BufferedInputStream inputStream1 =\n                new BufferedInputStream(\n                        new FileInputStream(new File(fileName1)),\n                        myBufferSize);\n        byte[] buff1 = new byte[myBufferSize];\n        final BufferedInputStream inputStream2 =\n                new BufferedInputStream(\n                        new FileInputStream(new File(fileName2)),\n                        myBufferSize);\n        byte[] buff2 = new byte[myBufferSize];\n        int read1;\n\n        start = System.currentTimeMillis();\n        totalbytes = 0;\n        while ((read1 = inputStream1.read(buff1)) != -1) {\n            totalbytes += read1;\n            int read2 = inputStream2.read(buff2);\n            if (read1 != read2) {\n                break;\n            }\n            if (!Arrays.equals(buff1, buff2)) {\n                break;\n            }\n        }\n        if (read1 == -1) {\n            printAfterEquals(myBufferSize);\n        } else {\n            Assert.fail(\"files were not equal\");\n        }\n        inputStream1.close();\n        inputStream2.close();\n    }\n\n    private void compareWithBufferSizeFutures(int myBufferSize)\n            throws ExecutionException, InterruptedException, IOException {\n        final BufferedInputStream inputStream1 =\n                new BufferedInputStream(\n                        new FileInputStream(\n                                new File(fileName1)),\n                        myBufferSize);\n        final BufferedInputStream inputStream2 =\n                new BufferedInputStream(\n                        new FileInputStream(\n                                new File(fileName2)),\n                        myBufferSize);\n\n        final boolean wasEqual = isEqualsParallel(myBufferSize, inputStream1, inputStream2);\n\n        if (wasEqual) {\n            printAfterEquals(myBufferSize);\n        } else {\n            Assert.fail(\"files were not equal\");\n        }\n        inputStream1.close();\n        inputStream2.close();\n    }\n\n    private boolean isEqualsParallel(int myBufferSize\n            , final BufferedInputStream inputStream1\n            , final BufferedInputStream inputStream2)\n            throws InterruptedException, ExecutionException {\n        final byte[] buff1Even = new byte[myBufferSize];\n        final byte[] buff1Odd = new byte[myBufferSize];\n        final byte[] buff2Even = new byte[myBufferSize];\n        final byte[] buff2Odd = new byte[myBufferSize];\n        final Callable&lt;Integer&gt; read1Even = new Callable&lt;Integer&gt;() {\n            public Integer call() throws Exception {\n                return inputStream1.read(buff1Even);\n            }\n        };\n        final Callable&lt;Integer&gt; read2Even = new Callable&lt;Integer&gt;() {\n            public Integer call() throws Exception {\n                return inputStream2.read(buff2Even);\n            }\n        };\n        final Callable&lt;Integer&gt; read1Odd = new Callable&lt;Integer&gt;() {\n            public Integer call() throws Exception {\n                return inputStream1.read(buff1Odd);\n            }\n        };\n        final Callable&lt;Integer&gt; read2Odd = new Callable&lt;Integer&gt;() {\n            public Integer call() throws Exception {\n                return inputStream2.read(buff2Odd);\n            }\n        };\n        final Callable&lt;Boolean&gt; oddEqualsArray = new Callable&lt;Boolean&gt;() {\n            public Boolean call() throws Exception {\n                return Arrays.equals(buff1Odd, buff2Odd);\n            }\n        };\n        final Callable&lt;Boolean&gt; evenEqualsArray = new Callable&lt;Boolean&gt;() {\n            public Boolean call() throws Exception {\n                return Arrays.equals(buff1Even, buff2Even);\n            }\n        };\n\n        ExecutorService executor = Executors.newCachedThreadPool();\n        boolean isEven = true;\n        Future&lt;Integer&gt; read1 = null;\n        Future&lt;Integer&gt; read2 = null;\n        Future&lt;Boolean&gt; isEqual = null;\n        int lastSize = 0;\n        while (true) {\n            if (isEqual != null) {\n                if (!isEqual.get()) {\n                    return false;\n                } else if (lastSize == -1) {\n                    return true;\n                }\n            }\n            if (read1 != null) {\n                lastSize = read1.get();\n                totalbytes += lastSize;\n                final int size2 = read2.get();\n                if (lastSize != size2) {\n                    return false;\n                }\n            }\n            isEven = !isEven;\n            if (isEven) {\n                if (read1 != null) {\n                    isEqual = executor.submit(oddEqualsArray);\n                }\n                read1 = executor.submit(read1Even);\n                read2 = executor.submit(read2Even);\n            } else {\n                if (read1 != null) {\n                    isEqual = executor.submit(evenEqualsArray);\n                }\n                read1 = executor.submit(read1Odd);\n                read2 = executor.submit(read2Odd);\n            }\n        }\n    }\n\n    private boolean isEqualsNio(int myBufferSize) throws IOException {\n        FileChannel first = null, seconde = null;\n        try {\n            first = new FileInputStream(fileName1).getChannel();\n            seconde = new FileInputStream(fileName2).getChannel();\n            if (first.size() != seconde.size()) {\n                return false;\n            }\n            ByteBuffer firstBuffer = ByteBuffer.allocateDirect(myBufferSize);\n            ByteBuffer secondBuffer = ByteBuffer.allocateDirect(myBufferSize);\n            int firstRead, secondRead;\n            while (first.position() &lt; first.size()) {\n                firstRead = first.read(firstBuffer);\n                totalbytes += firstRead;\n                secondRead = seconde.read(secondBuffer);\n                if (firstRead != secondRead) {\n                    return false;\n                }\n                if (!nioBuffersEqual(firstBuffer, secondBuffer, firstRead)) {\n                    return false;\n                }\n            }\n            return true;\n        } finally {\n            if (first != null) {\n                first.close();\n            }\n            if (seconde != null) {\n                seconde.close();\n            }\n        }\n    }\n\n    private static boolean nioBuffersEqual(ByteBuffer first, ByteBuffer second, final int length) {\n        if (first.limit() != second.limit() || length &gt; first.limit()) {\n            return false;\n        }\n        first.rewind();\n        second.rewind();\n        for (int i = 0; i &lt; length; i++) {\n            if (first.get() != second.get()) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private void printAfterEquals(int myBufferSize) {\n        NumberFormat nf = new DecimalFormat(\"#.00\");\n        final long dur = System.currentTimeMillis() - start;\n        double seconds = dur / 1000d;\n        double megabytes = totalbytes / 1024 / 1024;\n        double rate = (megabytes) / seconds;\n        System.out.println(\"I was equal, even after \" + totalbytes\n                + \" bytes and reading for \" + dur\n                + \" ms (\" + nf.format(rate) + \"MB/sec * 2)\" +\n                \" with a buffer size of \" + myBufferSize / 1024 + \" kB\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1244886468,"creation_date":1244789924,"answer_id":985343,"question_id":964332,"body_markdown":"After modifying your NIO compare function I get the following results.\r\n\r\n    I was equal, even after 4294967296 bytes and reading for 304594 ms (13.45MB/sec * 2) with a buffer size of 1024 kB\r\n    I was equal, even after 4294967296 bytes and reading for 225078 ms (18.20MB/sec * 2) with a buffer size of 4096 kB\r\n    I was equal, even after 4294967296 bytes and reading for 221351 ms (18.50MB/sec * 2) with a buffer size of 16384 kB\r\n\r\nNote: this means the files are being read at a rate of 37 MB/s\r\n\r\nRunning the same thing on a faster drive\r\n\r\n    I was equal, even after 4294967296 bytes and reading for 178087 ms (23.00MB/sec * 2) with a buffer size of 1024 kB\r\n    I was equal, even after 4294967296 bytes and reading for 119084 ms (34.40MB/sec * 2) with a buffer size of 4096 kB\r\n    I was equal, even after 4294967296 bytes and reading for 109549 ms (37.39MB/sec * 2) with a buffer size of 16384 kB\r\n\r\nNote: this means the files are being read at a rate of 74.8 MB/s\r\n\r\n    private static boolean nioBuffersEqual(ByteBuffer first, ByteBuffer second, final int length) {\r\n        if (first.limit() != second.limit() || length &gt; first.limit()) {\r\n            return false;\r\n        }\r\n        first.rewind();\r\n        second.rewind();\r\n        int i;\r\n        for (i = 0; i &lt; length-7; i+=8) {\r\n            if (first.getLong() != second.getLong()) {\r\n                return false;\r\n            }\r\n        }\r\n        for (; i &lt; length; i++) {\r\n            if (first.get() != second.get()) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n","title":"Java Large Files Disk IO Performance","body":"<p>After modifying your NIO compare function I get the following results.</p>\n\n<pre><code>I was equal, even after 4294967296 bytes and reading for 304594 ms (13.45MB/sec * 2) with a buffer size of 1024 kB\nI was equal, even after 4294967296 bytes and reading for 225078 ms (18.20MB/sec * 2) with a buffer size of 4096 kB\nI was equal, even after 4294967296 bytes and reading for 221351 ms (18.50MB/sec * 2) with a buffer size of 16384 kB\n</code></pre>\n\n<p>Note: this means the files are being read at a rate of 37 MB/s</p>\n\n<p>Running the same thing on a faster drive</p>\n\n<pre><code>I was equal, even after 4294967296 bytes and reading for 178087 ms (23.00MB/sec * 2) with a buffer size of 1024 kB\nI was equal, even after 4294967296 bytes and reading for 119084 ms (34.40MB/sec * 2) with a buffer size of 4096 kB\nI was equal, even after 4294967296 bytes and reading for 109549 ms (37.39MB/sec * 2) with a buffer size of 16384 kB\n</code></pre>\n\n<p>Note: this means the files are being read at a rate of 74.8 MB/s</p>\n\n<pre><code>private static boolean nioBuffersEqual(ByteBuffer first, ByteBuffer second, final int length) {\n    if (first.limit() != second.limit() || length &gt; first.limit()) {\n        return false;\n    }\n    first.rewind();\n    second.rewind();\n    int i;\n    for (i = 0; i &lt; length-7; i+=8) {\n        if (first.getLong() != second.getLong()) {\n            return false;\n        }\n    }\n    for (; i &lt; length; i++) {\n        if (first.get() != second.get()) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1244900830,"creation_date":1244900830,"answer_id":990703,"question_id":964332,"body_markdown":"Try setting the buffer on the input stream up to several megabytes.  ","title":"Java Large Files Disk IO Performance","body":"<p>Try setting the buffer on the input stream up to several megabytes.  </p>\n"},{"tags":[],"owner":{"account_id":3432851,"reputation":1818,"user_id":2876739,"display_name":"RickHigh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384037865,"creation_date":1384037319,"answer_id":19884088,"question_id":964332,"body_markdown":"I found that a lot of the articles linked to in this post are really out dated (there is also some very insightful stuff too). There are some articles linked from 2001, and the information is questionable at best. Martin Thompson of mechanical sympathy wrote quite a bit about this in 2011. Please refer to what he wrote for background and theory of this.\r\n\r\nI have found that NIO or not NIO has very little to do with the performance. It is much more about the size of your output buffers (read byte array on that one). NIO is no magic make it go fast web scale sauce. \r\n\r\nI was able to take Martin&#39;s examples and use the 1.0 era OutputStream and make it scream. NIO is fast too, but the biggest indicator is just the size of the output buffer not whether or not you use NIO unless of course you are using a memory mapped NIO then it matters. :)\r\n\r\nIf you want up to date authoritative information on this, see Martin&#39;s blog:\r\n\r\nhttp://mechanical-sympathy.blogspot.com/2011/12/java-sequential-io-performance.html\r\n\r\nIf you want to see how NIO does not make that much of a difference (as I was able to write examples using regular IO that were faster)  see this:\r\n\r\nhttp://www.dzone.com/links/fast_java_io_nio_is_always_faster_than_fileoutput.html\r\n\r\nI have tested my assumption on new windows laptop with a fast hard disk, my macbook pro with SSD, an EC2 xlarge, and an EC2 4x large with maxed out IOPS/high speed I/O (and soon on an large disk NAS fibre disk array) so it works (there are some issues with it for smaller EC2 instances but if you care about performance... are you going to use a small EC2 instance?). If you use real hardware, in my tests so far, traditional IO always wins. If you use high/IO EC2, then this is also a clear winner. If you use under powered EC2 instances, NIO can win. \r\n\r\nThere is no substitution for benchmarking. \r\n\r\nAnyway, I am no expert, I just did some empirical testing using the framework that Sir Martin Thompson wrote up in his blog post.\r\n\r\nI took this to the next step and used ***Files.newInputStream*** (from JDK 7) with ***TransferQueue*** to create a recipe for making Java I/O scream (even on small EC2 instances). The recipe can be found at the bottom of this documentation for Boon (https://github.com/RichardHightower/boon/wiki/Auto-Growable-Byte-Buffer-like-a-ByteBuilder). This allows me to use a traditional OutputStream but with something that works well on smaller EC2 instances. (I am the main author of Boon. But I am accepting new authors. The pay sucks. 0$ per hour. But the good news is, I can double your pay whenever you like.)\r\n\r\n\r\nMy 2 cents. \r\n\r\nSee this to see why ***TransferQueue*** is important. http://php.sabscape.com/blog/?p=557\r\n\r\nKey learnings:\r\n\r\n1. If you care about performance never, ever, ever use ***BufferedOutputStream***.\r\n1. NIO does not always equal performance. \r\n1. Buffer size matters most. \r\n1. Recycling buffers for high-speed writes is critical.\r\n1. GC can/will/does implode your performance for high-speed writes.\r\n1. You have to have some mechanism to reuse spent buffers.\r\n\r\n","title":"Java Large Files Disk IO Performance","body":"<p>I found that a lot of the articles linked to in this post are really out dated (there is also some very insightful stuff too). There are some articles linked from 2001, and the information is questionable at best. Martin Thompson of mechanical sympathy wrote quite a bit about this in 2011. Please refer to what he wrote for background and theory of this.</p>\n\n<p>I have found that NIO or not NIO has very little to do with the performance. It is much more about the size of your output buffers (read byte array on that one). NIO is no magic make it go fast web scale sauce. </p>\n\n<p>I was able to take Martin's examples and use the 1.0 era OutputStream and make it scream. NIO is fast too, but the biggest indicator is just the size of the output buffer not whether or not you use NIO unless of course you are using a memory mapped NIO then it matters. :)</p>\n\n<p>If you want up to date authoritative information on this, see Martin's blog:</p>\n\n<p><a href=\"http://mechanical-sympathy.blogspot.com/2011/12/java-sequential-io-performance.html\" rel=\"nofollow\">http://mechanical-sympathy.blogspot.com/2011/12/java-sequential-io-performance.html</a></p>\n\n<p>If you want to see how NIO does not make that much of a difference (as I was able to write examples using regular IO that were faster)  see this:</p>\n\n<p><a href=\"http://www.dzone.com/links/fast_java_io_nio_is_always_faster_than_fileoutput.html\" rel=\"nofollow\">http://www.dzone.com/links/fast_java_io_nio_is_always_faster_than_fileoutput.html</a></p>\n\n<p>I have tested my assumption on new windows laptop with a fast hard disk, my macbook pro with SSD, an EC2 xlarge, and an EC2 4x large with maxed out IOPS/high speed I/O (and soon on an large disk NAS fibre disk array) so it works (there are some issues with it for smaller EC2 instances but if you care about performance... are you going to use a small EC2 instance?). If you use real hardware, in my tests so far, traditional IO always wins. If you use high/IO EC2, then this is also a clear winner. If you use under powered EC2 instances, NIO can win. </p>\n\n<p>There is no substitution for benchmarking. </p>\n\n<p>Anyway, I am no expert, I just did some empirical testing using the framework that Sir Martin Thompson wrote up in his blog post.</p>\n\n<p>I took this to the next step and used <strong><em>Files.newInputStream</em></strong> (from JDK 7) with <strong><em>TransferQueue</em></strong> to create a recipe for making Java I/O scream (even on small EC2 instances). The recipe can be found at the bottom of this documentation for Boon (<a href=\"https://github.com/RichardHightower/boon/wiki/Auto-Growable-Byte-Buffer-like-a-ByteBuilder\" rel=\"nofollow\">https://github.com/RichardHightower/boon/wiki/Auto-Growable-Byte-Buffer-like-a-ByteBuilder</a>). This allows me to use a traditional OutputStream but with something that works well on smaller EC2 instances. (I am the main author of Boon. But I am accepting new authors. The pay sucks. 0$ per hour. But the good news is, I can double your pay whenever you like.)</p>\n\n<p>My 2 cents. </p>\n\n<p>See this to see why <strong><em>TransferQueue</em></strong> is important. <a href=\"http://php.sabscape.com/blog/?p=557\" rel=\"nofollow\">http://php.sabscape.com/blog/?p=557</a></p>\n\n<p>Key learnings:</p>\n\n<ol>\n<li>If you care about performance never, ever, ever use <strong><em>BufferedOutputStream</em></strong>.</li>\n<li>NIO does not always equal performance. </li>\n<li>Buffer size matters most. </li>\n<li>Recycling buffers for high-speed writes is critical.</li>\n<li>GC can/will/does implode your performance for high-speed writes.</li>\n<li>You have to have some mechanism to reuse spent buffers.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664468388,"creation_date":1664468388,"answer_id":73898749,"question_id":964332,"body_markdown":"For the next person to run across this question: the title is about disk IO, but the question is about comparing files. If you can live with the risk of a hash collision, you may find comparing checksums to be a bit faster than byte-by-byte comparison. [There are A LOT of means of doing so][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java","title":"Java Large Files Disk IO Performance","body":"<p>For the next person to run across this question: the title is about disk IO, but the question is about comparing files. If you can live with the risk of a hash collision, you may find comparing checksums to be a bit faster than byte-by-byte comparison. <a href=\"https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java\">There are A LOT of means of doing so</a>.</p>\n"}],"owner":{"account_id":36501,"reputation":9320,"user_id":104143,"accept_rate":86,"display_name":"Peter Kofler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27098,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":980357,"answer_count":11,"score":18,"last_activity_date":1664468388,"creation_date":1244458486,"question_id":964332,"body_markdown":"I have two (2GB each) files on my harddisk and want to compare them with each other:\r\n\r\n - Copying the original files with Windows explorer takes approx. 2-4 minutes (that is reading and writing - on the same physical and logical disk).\r\n - Reading with `java.io.FileInputStream` twice and comparing the byte arrays on a byte per byte basis takes 20+ minutes.\r\n - `java.io.BufferedInputStream` buffer is 64kb, the files are read in chunks and then compared.\r\n - Comparison is done is a tight loop like\r\n\r\n        int numRead = Math.min(numRead[0], numRead[1]);\r\n        for (int k = 0; k &lt; numRead; k++)\r\n        {\r\n           if (buffer[1][k] != buffer[0][k])\r\n           {\r\n              return buffer[0][k] - buffer[1][k];\r\n           }\r\n        }\r\n\r\nWhat can I do to speed this up? Is NIO supposed to be faster then plain streams? Is Java unable to use DMA/SATA technologies and does some slow OS-API calls instead?\r\n\r\n**EDIT:**  \r\nThanks for the answers. I did some experiments based on them. As Andreas showed\r\n\r\n&gt; streams or `nio` approaches do not differ much.  \r\n&gt; More important is the correct buffer size.\r\n\r\nThis is confirmed by my own experiments. As the files are read in big chunks, even additional buffers (`BufferedInputStream`) do not give anything. Optimising the comparison is possible and I got the best results with 32-fold unrolling, but the time spend in comparison is small compared to disk read, so the speedup is small. Looks like there is nothing I can do ;-(","title":"Java Large Files Disk IO Performance","body":"<p>I have two (2GB each) files on my harddisk and want to compare them with each other:</p>\n\n<ul>\n<li>Copying the original files with Windows explorer takes approx. 2-4 minutes (that is reading and writing - on the same physical and logical disk).</li>\n<li>Reading with <code>java.io.FileInputStream</code> twice and comparing the byte arrays on a byte per byte basis takes 20+ minutes.</li>\n<li><code>java.io.BufferedInputStream</code> buffer is 64kb, the files are read in chunks and then compared.</li>\n<li><p>Comparison is done is a tight loop like</p>\n\n<pre><code>int numRead = Math.min(numRead[0], numRead[1]);\nfor (int k = 0; k &lt; numRead; k++)\n{\n   if (buffer[1][k] != buffer[0][k])\n   {\n      return buffer[0][k] - buffer[1][k];\n   }\n}\n</code></pre></li>\n</ul>\n\n<p>What can I do to speed this up? Is NIO supposed to be faster then plain streams? Is Java unable to use DMA/SATA technologies and does some slow OS-API calls instead?</p>\n\n<p><strong>EDIT:</strong><br>\nThanks for the answers. I did some experiments based on them. As Andreas showed</p>\n\n<blockquote>\n  <p>streams or <code>nio</code> approaches do not differ much.<br>\n  More important is the correct buffer size.</p>\n</blockquote>\n\n<p>This is confirmed by my own experiments. As the files are read in big chunks, even additional buffers (<code>BufferedInputStream</code>) do not give anything. Optimising the comparison is possible and I got the best results with 32-fold unrolling, but the time spend in comparison is small compared to disk read, so the speedup is small. Looks like there is nothing I can do ;-(</p>\n"},{"tags":["java","spring","soap","cxf","jax-ws"],"owner":{"account_id":3242212,"reputation":85,"user_id":2734915,"display_name":"user2734915"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664468266,"creation_date":1664468266,"question_id":73898726,"body_markdown":"I am migrating from axis to cxf for my web-service. I have a plugin module for which i have hardcoded endpoint in servicesbeans.xml :\r\n\r\n    ....other endpoints....\r\n\r\n    &lt;jaxws:endpoint id=&quot;CardHandlerPortImpl&quot;\r\n\t\t\t\t\tendpointName=&quot;CardHandlerPort&quot;\r\n\t\t\t\t\timplementor=&quot;com.smarttrust.jam.dpadmin.request.CardHandler&quot;\r\n\t\t\t\t\taddress=&quot;/CardHandlerService&quot;&gt;\r\n\t\t&lt;jaxws:features&gt;\r\n\t\t\t&lt;bean class=&quot;org.apache.cxf.feature.LoggingFeature&quot; /&gt;\r\n\t\t&lt;/jaxws:features&gt;\r\n\t&lt;/jaxws:endpoint&gt;\r\nservicebeans.xml is added as below in web.xml \r\n\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;ProvisioningApiCXFServlet&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n      &lt;init-param&gt;\r\n         &lt;param-name&gt;config-location&lt;/param-name&gt;\r\n         &lt;param-value&gt;/WEB-INF/iservicesbeans.xml&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\nThis hardcoded endpoint works fine but for my case as i have to install a plugin , i want this endpoint to be added dynamically when application boots up . There can be two approaches for this :\r\n   1. create a config xml like iservicebeans_2.xml and add that programmatically .\r\n   2.  Using the method listed here [using bus][1]\r\n\r\nfor the first approach , primary question was does it support multiple config locations ? So i tried with comma/space separated as shown [here][2] (though different Servlet). But adding hardcoded paths didn&#39;t work let alone be the programmatic approach. If this is possible then any example/ref will help.\r\n\r\nUsing the second approach this [thread][3] was close , but i cannot instantiate CXFServlet myself as i am not spinning my own server , rather the webservice app is deployed in tomcat. So i might need a ref of CXFServlet in code to call *Bus bus = servlet.getBus();* to get bus. As i am not using Spring @Autowired will not give CXFServlet&#39;s instance . Here as well any example or reference will help .\r\n\r\nI saw this piece of code inside CXFServlet class which can be used to set multiple locations as the name suggests , so it might be taking space separated config-locations . But couldn&#39;t find any example . Sorry for long post . TIA\r\n\r\n&gt; ctx2.setConfigLocations(new String[]{location});\r\n\r\n\r\n  [1]: https://cxf.apache.org/docs/servlet-transport.html\r\n  [2]: https://stackoverflow.com/questions/31344264/add-multiple-endpoint-service-classes-using-apache-cxf\r\n  [3]: https://lists.apache.org/thread/o4m3kscjt336hbscjpsyc14cthsgqb4d","title":"how to add jaxws:endpoint programmatically to a soap web-service plugin app , using loadBus() or adding config-location at runtime?","body":"<p>I am migrating from axis to cxf for my web-service. I have a plugin module for which i have hardcoded endpoint in servicesbeans.xml :</p>\n<pre><code>....other endpoints....\n\n&lt;jaxws:endpoint id=&quot;CardHandlerPortImpl&quot;\n                endpointName=&quot;CardHandlerPort&quot;\n                implementor=&quot;com.smarttrust.jam.dpadmin.request.CardHandler&quot;\n                address=&quot;/CardHandlerService&quot;&gt;\n    &lt;jaxws:features&gt;\n        &lt;bean class=&quot;org.apache.cxf.feature.LoggingFeature&quot; /&gt;\n    &lt;/jaxws:features&gt;\n&lt;/jaxws:endpoint&gt;\n</code></pre>\n<p>servicebeans.xml is added as below in web.xml</p>\n<pre><code>&lt;servlet&gt;\n  &lt;servlet-name&gt;ProvisioningApiCXFServlet&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n  &lt;init-param&gt;\n     &lt;param-name&gt;config-location&lt;/param-name&gt;\n     &lt;param-value&gt;/WEB-INF/iservicesbeans.xml&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n<p>This hardcoded endpoint works fine but for my case as i have to install a plugin , i want this endpoint to be added dynamically when application boots up . There can be two approaches for this :</p>\n<ol>\n<li>create a config xml like iservicebeans_2.xml and add that programmatically .</li>\n<li>Using the method listed here <a href=\"https://cxf.apache.org/docs/servlet-transport.html\" rel=\"nofollow noreferrer\">using bus</a></li>\n</ol>\n<p>for the first approach , primary question was does it support multiple config locations ? So i tried with comma/space separated as shown <a href=\"https://stackoverflow.com/questions/31344264/add-multiple-endpoint-service-classes-using-apache-cxf\">here</a> (though different Servlet). But adding hardcoded paths didn't work let alone be the programmatic approach. If this is possible then any example/ref will help.</p>\n<p>Using the second approach this <a href=\"https://lists.apache.org/thread/o4m3kscjt336hbscjpsyc14cthsgqb4d\" rel=\"nofollow noreferrer\">thread</a> was close , but i cannot instantiate CXFServlet myself as i am not spinning my own server , rather the webservice app is deployed in tomcat. So i might need a ref of CXFServlet in code to call <em>Bus bus = servlet.getBus();</em> to get bus. As i am not using Spring @Autowired will not give CXFServlet's instance . Here as well any example or reference will help .</p>\n<p>I saw this piece of code inside CXFServlet class which can be used to set multiple locations as the name suggests , so it might be taking space separated config-locations . But couldn't find any example . Sorry for long post . TIA</p>\n<blockquote>\n<p>ctx2.setConfigLocations(new String[]{location});</p>\n</blockquote>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1664468693,"post_id":73898691,"comment_id":130484460,"body_markdown":"Sounds like &quot;get (our field name) from this source&#39;s (source field access implementation)&quot;. There&#39;s a ton of ways this can be done, including using ETL tools and no code, simple string =&gt; string mapping, or defaulting to a string-string implementation unless other source-specific processing needs doing, then either subclasses or implementation lookup.","body":"Sounds like &quot;get (our field name) from this source&#39;s (source field access implementation)&quot;. There&#39;s a ton of ways this can be done, including using ETL tools and no code, simple string =&gt; string mapping, or defaulting to a string-string implementation unless other source-specific processing needs doing, then either subclasses or implementation lookup."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1664468982,"post_id":73898691,"comment_id":130484559,"body_markdown":"You should use the appropriate library to read a file of a certain type. For example, I use `Apache POI` to read `Excel`  files and use `Commons CSV` to read `TSV` or `CSV` files. Using these libraries should make it easy to extract the information you need.","body":"You should use the appropriate library to read a file of a certain type. For example, I use <code>Apache POI</code> to read <code>Excel</code>  files and use <code>Commons CSV</code> to read <code>TSV</code> or <code>CSV</code> files. Using these libraries should make it easy to extract the information you need."},{"owner":{"account_id":7228652,"reputation":305,"user_id":5516354,"accept_rate":75,"display_name":"devlperMoose"},"score":0,"creation_date":1664469236,"post_id":73898691,"comment_id":130484645,"body_markdown":"@DaveNewton Could you provide more information on how to do subclasses or implementation lookup","body":"@DaveNewton Could you provide more information on how to do subclasses or implementation lookup"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1664526000,"post_id":73898691,"comment_id":130496444,"body_markdown":"Can you provide some examples of input files?","body":"Can you provide some examples of input files?"}],"owner":{"account_id":7228652,"reputation":305,"user_id":5516354,"accept_rate":75,"display_name":"devlperMoose"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664468098,"creation_date":1664468098,"question_id":73898691,"body_markdown":"I have a requirement to write Java program where I should read daily inventory feeds from suppliers, extract the data and add to the database. The feeds are different for each supplier and only in csv, txt or excel formats. Some suppliers may have extra columns in the feed, but they all guarantee to provide one column containing the product ID and one column containing the quantity (whose column indices can vary from supplier to supplier). Each product ID appears only once in a file. Part of the problem statement is dealing with data, sometimes placed in different positions within the feed for various suppliers. \r\nI wrote below code assuming the columns are always named “product” and “quantity”. But any suggestions on how to handle this part of problem in a better way so that it is flexible to handle continued increase in the number of suppliers and their feeds in the future?\r\n\r\n    package com.file.handling;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class Inventory {\r\n        private ArrayList&lt;String&gt; fileNames = new ArrayList&lt;&gt;();\r\n    \r\n        public Inventory(ArrayList&lt;String&gt; fileNames) {\r\n            this.fileNames = fileNames;\r\n        }\r\n    \r\n        /**\r\n         * This is the main method that initiates file read to get data\r\n         * @return Nothing.\r\n         * @exception FileNotFoundException On file not found.\r\n         * @see FileNotFoundException\r\n         */\r\n        public void addItems(){\r\n            for (String filename: fileNames){\r\n                try{\r\n                    URL url = getClass().getResource(filename);\r\n                    File myObj = new File(url.getPath());\r\n                    Scanner myReader = new Scanner(myObj);\r\n                    ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n                    while (myReader.hasNextLine()){\r\n                        lines.add(myReader.nextLine());\r\n                    }\r\n                    extractData(lines, myObj.getName());\r\n                    myReader.close();\r\n                } catch (FileNotFoundException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * This is a private method which extracts productID, suppleirID and Quantity values from data passed\r\n         * @param lines arraylist of string data\r\n         * @param filename\r\n         * @return Nothing.\r\n         */\r\n        private void extractData(ArrayList&lt;String&gt; lines, String filename) {\r\n    //        Get fieldNames\r\n            String fieldNameString = lines.remove(0);\r\n            String[] fieldNames;\r\n    \r\n    //        Get supplierID and file type\r\n            String supplierID = filename.split(&quot;\\\\.&quot;)[0];\r\n            String fileType = filename.split(&quot;\\\\.&quot;)[1];\r\n    \r\n    //        Get index of fieldName product and quantity/inventory based on file type\r\n            int productIdx = -1;\r\n            int quantityIdx = -1;\r\n            if (fileType.equals(&quot;csv&quot;) || filename.equals(&quot;xlsb&quot;) || fileType.equals(&quot;xls&quot;) || fileType.equals(&quot;xlsx&quot;) || fileType.equals(&quot;xlsm&quot;)){\r\n                fieldNames = fieldNameString.split(&quot;,&quot;);\r\n                for (int i=0; i&lt;fieldNames.length; i++){\r\n                    String fieldName = fieldNames[i];\r\n                    if (fieldName.toLowerCase().equals(&quot;product&quot;))\r\n                        productIdx = i;\r\n                    else if (fieldName.toLowerCase().equals(&quot;inventory&quot;) || fieldName.toLowerCase().equals(&quot;quantity&quot;))\r\n                        quantityIdx = i;\r\n                }\r\n    \r\n    //            loop through remaining data to get productIDs and their quantities\r\n                for (String line: lines){\r\n                    String productID = line.split(&quot;,&quot;)[productIdx];\r\n                    int quantity = Integer.valueOf(line.split(&quot;,&quot;)[quantityIdx]);\r\n                    System.out.println(&quot;ProductID: &quot; + productID + &quot; quantity: &quot; + quantity + &quot; SupplierID: &quot; + supplierID);\r\n    \r\n                    //                create SupplierProduct Object\r\n                    SupplierProduct supplierProduct = new SupplierProduct(supplierID, productID, quantity);\r\n    \r\n                    //                WriteToDB - use supplierProduct to write to database\r\n                }\r\n    \r\n    \r\n            } else if (fileType.equals(&quot;tsv&quot;) || fileType.equals(&quot;tab&quot;)) {\r\n                fieldNames = fieldNameString.split(&quot;\\\\s+&quot;);\r\n                for (int i=0; i&lt;fieldNames.length; i++){\r\n                    String fieldName = fieldNames[i];\r\n                    if (fieldName.toLowerCase().equals(&quot;product&quot;))\r\n                        productIdx = i;\r\n                    else if (fieldName.toLowerCase().equals(&quot;inventory&quot;) || fieldName.toLowerCase().equals(&quot;quantity&quot;))\r\n                        quantityIdx = i;\r\n                }\r\n    \r\n    //            loop through remaining data to get productIDs and their quantities\r\n                for (String line: lines){\r\n                    String productID = line.split(&quot;\\\\s+&quot;)[productIdx];\r\n                    int quantity = Integer.valueOf(line.split(&quot;\\\\s+&quot;)[quantityIdx]);\r\n                    System.out.println(&quot;ProductID: &quot; + productID + &quot; Quantity: &quot; + quantity + &quot; SupplierID: &quot; + supplierID);\r\n    \r\n    //                create SupplierProduct Object\r\n                    SupplierProduct supplierProduct = new SupplierProduct(supplierID, productID, quantity);\r\n    \r\n    //                WriteToDB - use supplierProduct to write to database\r\n    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    class SupplierProduct {\r\n        private String supplierID;\r\n        private String productID;\r\n        private int quantity;\r\n    \r\n        public SupplierProduct(String supplierID, String productID, int quantity) {\r\n            this.supplierID = supplierID;\r\n            this.productID = productID;\r\n            this.quantity = quantity;\r\n        }\r\n    }\r\n\r\n","title":"Java program to handle different feed files","body":"<p>I have a requirement to write Java program where I should read daily inventory feeds from suppliers, extract the data and add to the database. The feeds are different for each supplier and only in csv, txt or excel formats. Some suppliers may have extra columns in the feed, but they all guarantee to provide one column containing the product ID and one column containing the quantity (whose column indices can vary from supplier to supplier). Each product ID appears only once in a file. Part of the problem statement is dealing with data, sometimes placed in different positions within the feed for various suppliers.\nI wrote below code assuming the columns are always named “product” and “quantity”. But any suggestions on how to handle this part of problem in a better way so that it is flexible to handle continued increase in the number of suppliers and their feeds in the future?</p>\n<pre><code>package com.file.handling;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Inventory {\n    private ArrayList&lt;String&gt; fileNames = new ArrayList&lt;&gt;();\n\n    public Inventory(ArrayList&lt;String&gt; fileNames) {\n        this.fileNames = fileNames;\n    }\n\n    /**\n     * This is the main method that initiates file read to get data\n     * @return Nothing.\n     * @exception FileNotFoundException On file not found.\n     * @see FileNotFoundException\n     */\n    public void addItems(){\n        for (String filename: fileNames){\n            try{\n                URL url = getClass().getResource(filename);\n                File myObj = new File(url.getPath());\n                Scanner myReader = new Scanner(myObj);\n                ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\n                while (myReader.hasNextLine()){\n                    lines.add(myReader.nextLine());\n                }\n                extractData(lines, myObj.getName());\n                myReader.close();\n            } catch (FileNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    /**\n     * This is a private method which extracts productID, suppleirID and Quantity values from data passed\n     * @param lines arraylist of string data\n     * @param filename\n     * @return Nothing.\n     */\n    private void extractData(ArrayList&lt;String&gt; lines, String filename) {\n//        Get fieldNames\n        String fieldNameString = lines.remove(0);\n        String[] fieldNames;\n\n//        Get supplierID and file type\n        String supplierID = filename.split(&quot;\\\\.&quot;)[0];\n        String fileType = filename.split(&quot;\\\\.&quot;)[1];\n\n//        Get index of fieldName product and quantity/inventory based on file type\n        int productIdx = -1;\n        int quantityIdx = -1;\n        if (fileType.equals(&quot;csv&quot;) || filename.equals(&quot;xlsb&quot;) || fileType.equals(&quot;xls&quot;) || fileType.equals(&quot;xlsx&quot;) || fileType.equals(&quot;xlsm&quot;)){\n            fieldNames = fieldNameString.split(&quot;,&quot;);\n            for (int i=0; i&lt;fieldNames.length; i++){\n                String fieldName = fieldNames[i];\n                if (fieldName.toLowerCase().equals(&quot;product&quot;))\n                    productIdx = i;\n                else if (fieldName.toLowerCase().equals(&quot;inventory&quot;) || fieldName.toLowerCase().equals(&quot;quantity&quot;))\n                    quantityIdx = i;\n            }\n\n//            loop through remaining data to get productIDs and their quantities\n            for (String line: lines){\n                String productID = line.split(&quot;,&quot;)[productIdx];\n                int quantity = Integer.valueOf(line.split(&quot;,&quot;)[quantityIdx]);\n                System.out.println(&quot;ProductID: &quot; + productID + &quot; quantity: &quot; + quantity + &quot; SupplierID: &quot; + supplierID);\n\n                //                create SupplierProduct Object\n                SupplierProduct supplierProduct = new SupplierProduct(supplierID, productID, quantity);\n\n                //                WriteToDB - use supplierProduct to write to database\n            }\n\n\n        } else if (fileType.equals(&quot;tsv&quot;) || fileType.equals(&quot;tab&quot;)) {\n            fieldNames = fieldNameString.split(&quot;\\\\s+&quot;);\n            for (int i=0; i&lt;fieldNames.length; i++){\n                String fieldName = fieldNames[i];\n                if (fieldName.toLowerCase().equals(&quot;product&quot;))\n                    productIdx = i;\n                else if (fieldName.toLowerCase().equals(&quot;inventory&quot;) || fieldName.toLowerCase().equals(&quot;quantity&quot;))\n                    quantityIdx = i;\n            }\n\n//            loop through remaining data to get productIDs and their quantities\n            for (String line: lines){\n                String productID = line.split(&quot;\\\\s+&quot;)[productIdx];\n                int quantity = Integer.valueOf(line.split(&quot;\\\\s+&quot;)[quantityIdx]);\n                System.out.println(&quot;ProductID: &quot; + productID + &quot; Quantity: &quot; + quantity + &quot; SupplierID: &quot; + supplierID);\n\n//                create SupplierProduct Object\n                SupplierProduct supplierProduct = new SupplierProduct(supplierID, productID, quantity);\n\n//                WriteToDB - use supplierProduct to write to database\n\n            }\n        }\n    }\n}\n\nclass SupplierProduct {\n    private String supplierID;\n    private String productID;\n    private int quantity;\n\n    public SupplierProduct(String supplierID, String productID, int quantity) {\n        this.supplierID = supplierID;\n        this.productID = productID;\n        this.quantity = quantity;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1664466017,"post_id":73898176,"comment_id":130483500,"body_markdown":"You could add `@JsonAlias` on the individual properties. You could also configure a different object mapper with an explicit naming strategy for deserialization than for serialization.","body":"You could add <code>@JsonAlias</code> on the individual properties. You could also configure a different object mapper with an explicit naming strategy for deserialization than for serialization."},{"owner":{"account_id":13042679,"reputation":373,"user_id":9425539,"display_name":"grizzasd"},"score":0,"creation_date":1664466242,"post_id":73898176,"comment_id":130483586,"body_markdown":"Amazing! This is exactly the functionality I was looking for, and very simple. Please feel free to add an answer and I&#39;ll accept","body":"Amazing! This is exactly the functionality I was looking for, and very simple. Please feel free to add an answer and I&#39;ll accept"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664467746,"creation_date":1664467746,"answer_id":73898618,"question_id":73898176,"body_markdown":"You could add the [`@JsonAlias`][1] annotation on the individual properties to add alternative names for deserialization. Or you could configure multiple object mappers with explicit naming strategies, one for deserialization of this third-party API, and one for your normal serialization/deserialization.\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonAlias.html","title":"Jackson Different Deserialization vs Serlialization Method","body":"<p>You could add the <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonAlias.html\" rel=\"nofollow noreferrer\"><code>@JsonAlias</code></a> annotation on the individual properties to add alternative names for deserialization. Or you could configure multiple object mappers with explicit naming strategies, one for deserialization of this third-party API, and one for your normal serialization/deserialization.</p>\n"}],"owner":{"account_id":13042679,"reputation":373,"user_id":9425539,"display_name":"grizzasd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73898618,"answer_count":1,"score":3,"last_activity_date":1664467746,"creation_date":1664465722,"question_id":73898176,"body_markdown":"My Spring Boot API uses camelCase, but I need to proxy some requests through my API to a 3rd party API that uses snake_case. Is it possible to configure Jackson to deserialize the 3rd party response from snake_case, then serialize it back to camelCase to my frontend?\r\n\r\nStep by step example of desired functionality:\r\n\r\nExample Object:\r\n```\r\nMyObject {\r\n  String myProperty;\r\n}\r\n```\r\n- I call my API\r\n- API calls 3rd Party\r\n- 3rd Party returns\r\n```\r\n{\r\n  &quot;my_property&quot;: &quot;my value&quot;\r\n}\r\n```\r\n- My API deserializes it into `MyObject`\r\n- My API serializes the object and returns\r\n```\r\n{\r\n  &quot;myProperty&quot;: &quot;my value&quot;\r\n}\r\n```\r\n\r\nRight now I am using `@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)` but of course that will serialize into snake_case as well. Note - even though my api uses camelCase, it would be acceptable to always deserialize from snake_case as this will be a readonly enpoint.\r\n","title":"Jackson Different Deserialization vs Serlialization Method","body":"<p>My Spring Boot API uses camelCase, but I need to proxy some requests through my API to a 3rd party API that uses snake_case. Is it possible to configure Jackson to deserialize the 3rd party response from snake_case, then serialize it back to camelCase to my frontend?</p>\n<p>Step by step example of desired functionality:</p>\n<p>Example Object:</p>\n<pre><code>MyObject {\n  String myProperty;\n}\n</code></pre>\n<ul>\n<li>I call my API</li>\n<li>API calls 3rd Party</li>\n<li>3rd Party returns</li>\n</ul>\n<pre><code>{\n  &quot;my_property&quot;: &quot;my value&quot;\n}\n</code></pre>\n<ul>\n<li>My API deserializes it into <code>MyObject</code></li>\n<li>My API serializes the object and returns</li>\n</ul>\n<pre><code>{\n  &quot;myProperty&quot;: &quot;my value&quot;\n}\n</code></pre>\n<p>Right now I am using <code>@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)</code> but of course that will serialize into snake_case as well. Note - even though my api uses camelCase, it would be acceptable to always deserialize from snake_case as this will be a readonly enpoint.</p>\n"},{"tags":["java","api","rest","httpresponse"],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664467320,"creation_date":1664467320,"answer_id":73898530,"question_id":73898154,"body_markdown":"404 is specifically for &quot;Not Found&quot;.\r\nIt is not exclusive to &quot;page not found&quot;,\r\nit is &quot;thing&quot; (i.e. resource) not found.\r\n\r\nUse 404 for a validly formatted phone number that is not found.\r\n\r\nUse 400 for an invalidly formatted phone number\r\n(for example, &quot;123abd&quot; is a 400).","title":"What should be the API response for a resource not found","body":"<p>404 is specifically for &quot;Not Found&quot;.\nIt is not exclusive to &quot;page not found&quot;,\nit is &quot;thing&quot; (i.e. resource) not found.</p>\n<p>Use 404 for a validly formatted phone number that is not found.</p>\n<p>Use 400 for an invalidly formatted phone number\n(for example, &quot;123abd&quot; is a 400).</p>\n"},{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664467728,"creation_date":1664467413,"answer_id":73898545,"question_id":73898154,"body_markdown":"If the input is malformed in such a way that it couldn&#39;t possibly match a record (or your system would simply &quot;refuse&quot; to process it), it should be `400 bad request`.\r\n\r\nIf your system would process the query (even without the 999) and it could match a record, then it should be 404.\r\n\r\nIn my opinion, it would be misleading to say that the resource was found if you know &quot;in advance&quot; that it couldn&#39;t possibly exist because the query was &quot;nonsense.&quot; As a user, I would assume that 404 meant that it *might* have existed but didn&#39;t; if the system knows that it&#39;s not even a sensible request, it should just tell the user that.\r\n\r\nKeep in mind that you can include a payload with additional error details; you could indicate to the user in the error message that that&#39;s an invalid format.","title":"What should be the API response for a resource not found","body":"<p>If the input is malformed in such a way that it couldn't possibly match a record (or your system would simply &quot;refuse&quot; to process it), it should be <code>400 bad request</code>.</p>\n<p>If your system would process the query (even without the 999) and it could match a record, then it should be 404.</p>\n<p>In my opinion, it would be misleading to say that the resource was found if you know &quot;in advance&quot; that it couldn't possibly exist because the query was &quot;nonsense.&quot; As a user, I would assume that 404 meant that it <em>might</em> have existed but didn't; if the system knows that it's not even a sensible request, it should just tell the user that.</p>\n<p>Keep in mind that you can include a payload with additional error details; you could indicate to the user in the error message that that's an invalid format.</p>\n"}],"owner":{"account_id":17716524,"reputation":1146,"user_id":12862712,"display_name":"rohitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1664467728,"creation_date":1664465578,"question_id":73898154,"body_markdown":"given a phone number list where each number starts with `999`, and specific customer details are associated with each phone number.\r\n`1234567890123` has no customer information associated with it.  \r\n  \r\nSo, if a request has the number `1234567890123`, should the response be `400 bad request` or a `404 not found`?\r\n  \r\nThe number `1234567890123` is of proper phone number format, but the additional requirement of the suffix number `999` confuses me as to whether it should be 400 or 404.","title":"What should be the API response for a resource not found","body":"<p>given a phone number list where each number starts with <code>999</code>, and specific customer details are associated with each phone number.\n<code>1234567890123</code> has no customer information associated with it.</p>\n<p>So, if a request has the number <code>1234567890123</code>, should the response be <code>400 bad request</code> or a <code>404 not found</code>?</p>\n<p>The number <code>1234567890123</code> is of proper phone number format, but the additional requirement of the suffix number <code>999</code> confuses me as to whether it should be 400 or 404.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":10874286,"reputation":35,"user_id":7995129,"display_name":"Asaf Gery"},"score":0,"creation_date":1664460859,"post_id":73759632,"comment_id":130481340,"body_markdown":"Well... if you are well experienced with Spring, then you might be right. If you are less experienced, my solution allows copy &amp; paste, while yours requires more digging. I leave the decision up to the editors. I wonder whether this web site&#39;s purpose is to help all developers or whether its purpose is to make experienced developers feel good for having more experience than others... If we&#39;re here to help, I expect that the solution I provided here would be accepted rather than marked as duplicate, since it does not require as further digging as the question your referred to does.","body":"Well... if you are well experienced with Spring, then you might be right. If you are less experienced, my solution allows copy &amp; paste, while yours requires more digging. I leave the decision up to the editors. I wonder whether this web site&#39;s purpose is to help all developers or whether its purpose is to make experienced developers feel good for having more experience than others... If we&#39;re here to help, I expect that the solution I provided here would be accepted rather than marked as duplicate, since it does not require as further digging as the question your referred to does."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1664485346,"post_id":73759632,"comment_id":130489366,"body_markdown":"However, CORS problems are the most often ask questions with the most answers. No need to ask again. But duplicates are not that bad, no reason to complain.","body":"However, CORS problems are the most often ask questions with the most answers. No need to ask again. But duplicates are not that bad, no reason to complain."}],"answers":[{"tags":[],"owner":{"account_id":26369278,"reputation":39,"user_id":20024211,"display_name":"tickrate"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664467371,"creation_date":1663514727,"answer_id":73763986,"question_id":73759632,"body_markdown":"You have to register your CORS config within the filterchain by using `.cors(withDefaults())`. \r\n\r\nFor more info check out [this documentation][1].\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html","title":"Spring Boot Spring Security 5.7.3 - can&#39;t set Origin headers properly","body":"<p>You have to register your CORS config within the filterchain by using <code>.cors(withDefaults())</code>.</p>\n<p>For more info check out <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html\" rel=\"nofollow noreferrer\">this documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":10874286,"reputation":35,"user_id":7995129,"display_name":"Asaf Gery"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1664467241,"creation_date":1663552350,"answer_id":73767623,"question_id":73759632,"body_markdown":"\r\nThe problem with Spring Framework, is that every few versions they break their own API and invent a new way to do the same things. This practice makes Stack Overflow less useful, since it holds many historical solutions that worked for previous versions but no longer work.\r\n\r\nSo, the minimal way to enable CORS in Spring Security 5.7.3 (and probably all Spring 5.7.x versions), without any limitation on host/port, etc. (i.e. permit all), is as follows:\r\n\r\n**Configuration**\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class RestConfig {\r\n    @Bean\r\n\tSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(HttpMethod.GET, &quot;/resource&quot;).permitAll();\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\n**Controller**\r\n\r\n```java\r\n...\r\n@GetMapping(&quot;/resource&quot;)\r\n@CrossOrigin(\r\n        // Access-Control-Allow-Origin\r\n        origins = { &quot;*&quot; },\r\n        \r\n        // Alternative to origins that supports more flexible originpatterns. \r\n        // Please, see CorsConfiguration.setAllowedOriginPatterns(List)for details.\r\n        // originPatterns = { &quot;&quot; },   \r\n        \r\n        // Access-Control-Allow-Credentials\r\n        allowCredentials = &quot;false&quot;,\r\n        \r\n        // Access-Control-Allow-Headers\r\n        allowedHeaders = { &quot;*&quot; },\r\n        \r\n        // Access-Control-Expose-Headers\r\n        exposedHeaders = { &quot;*&quot; },\r\n        \r\n        // Access-Control-Max-Age\r\n        maxAge = 60 * 30,\r\n        \r\n        // Access-Control-Allow-Methods\r\n        methods = {RequestMethod.GET}\r\n    )\r\npublic @ResponseBody ResponseEntity&lt;CollectionModel&lt;EntityModel&lt;Resource&gt;&gt;&gt; get() {\r\n  ...\r\n}\r\n```","title":"Spring Boot Spring Security 5.7.3 - can&#39;t set Origin headers properly","body":"<p>The problem with Spring Framework, is that every few versions they break their own API and invent a new way to do the same things. This practice makes Stack Overflow less useful, since it holds many historical solutions that worked for previous versions but no longer work.</p>\n<p>So, the minimal way to enable CORS in Spring Security 5.7.3 (and probably all Spring 5.7.x versions), without any limitation on host/port, etc. (i.e. permit all), is as follows:</p>\n<p><strong>Configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class RestConfig {\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/resource&quot;).permitAll();\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n@GetMapping(&quot;/resource&quot;)\n@CrossOrigin(\n        // Access-Control-Allow-Origin\n        origins = { &quot;*&quot; },\n        \n        // Alternative to origins that supports more flexible originpatterns. \n        // Please, see CorsConfiguration.setAllowedOriginPatterns(List)for details.\n        // originPatterns = { &quot;&quot; },   \n        \n        // Access-Control-Allow-Credentials\n        allowCredentials = &quot;false&quot;,\n        \n        // Access-Control-Allow-Headers\n        allowedHeaders = { &quot;*&quot; },\n        \n        // Access-Control-Expose-Headers\n        exposedHeaders = { &quot;*&quot; },\n        \n        // Access-Control-Max-Age\n        maxAge = 60 * 30,\n        \n        // Access-Control-Allow-Methods\n        methods = {RequestMethod.GET}\n    )\npublic @ResponseBody ResponseEntity&lt;CollectionModel&lt;EntityModel&lt;Resource&gt;&gt;&gt; get() {\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":10874286,"reputation":35,"user_id":7995129,"display_name":"Asaf Gery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1663772621,"accepted_answer_id":73767623,"answer_count":2,"score":-2,"last_activity_date":1664467371,"creation_date":1663466024,"question_id":73759632,"body_markdown":"I am trying to set the minimal headers to allow CORS to the same machine on different ports. I am using the latest Spring Boot and Spring Security as of writing theses lines.\r\n\r\nThe documentation is poor and the examples are not extensive enough. There are plenty of examples for previous versions of Spring Security, but in version 5.7.x they changed the API, which means that all the examples are now outdated.\r\n\r\nI find myself wasting too many hours on trying to figure out how to do things right, yet without success.\r\n\r\nBelow is my last try to configure CORS.\r\n\r\nIf any of you has any idea why ORIGIN headers are missing and how to enable them, that would be greatly appreciated.\r\n\r\n```java\r\npackage com.madas.restapi;\r\n\r\nimport java.util.Arrays;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.header.writers.ContentSecurityPolicyHeaderWriter;\r\nimport org.springframework.security.web.header.writers.CrossOriginResourcePolicyHeaderWriter;\r\nimport org.springframework.security.web.header.writers.frameoptions.XFrameOptionsHeaderWriter;\r\nimport org.springframework.security.web.header.writers.frameoptions.XFrameOptionsHeaderWriter.XFrameOptionsMode;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\t@Bean\r\n\tCorsConfigurationSource corsConfigurationSource() {\r\n\t\tCorsConfiguration configuration = new CorsConfiguration();\r\n\t\tconfiguration.setAllowedOrigins(Arrays.asList(&quot;http://localhost&quot;));\r\n\t\tconfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\t\treturn source;\r\n\t}\r\n\t\r\n\t@Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((authz) -&gt; authz\r\n                .anyRequest().permitAll()\r\n            )\r\n            .headers(headers -&gt; headers\r\n    \t\t\t\t.addHeaderWriter(new CrossOriginResourcePolicyHeaderWriter())\r\n    \t\t\t\t.addHeaderWriter(new XFrameOptionsHeaderWriter(XFrameOptionsMode.SAMEORIGIN))\r\n    \t\t\t\t.addHeaderWriter(new ContentSecurityPolicyHeaderWriter(&quot;object-src localhost;&quot;))\r\n    \t\t);\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```","title":"Spring Boot Spring Security 5.7.3 - can&#39;t set Origin headers properly","body":"<p>I am trying to set the minimal headers to allow CORS to the same machine on different ports. I am using the latest Spring Boot and Spring Security as of writing theses lines.</p>\n<p>The documentation is poor and the examples are not extensive enough. There are plenty of examples for previous versions of Spring Security, but in version 5.7.x they changed the API, which means that all the examples are now outdated.</p>\n<p>I find myself wasting too many hours on trying to figure out how to do things right, yet without success.</p>\n<p>Below is my last try to configure CORS.</p>\n<p>If any of you has any idea why ORIGIN headers are missing and how to enable them, that would be greatly appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.madas.restapi;\n\nimport java.util.Arrays;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.header.writers.ContentSecurityPolicyHeaderWriter;\nimport org.springframework.security.web.header.writers.CrossOriginResourcePolicyHeaderWriter;\nimport org.springframework.security.web.header.writers.frameoptions.XFrameOptionsHeaderWriter;\nimport org.springframework.security.web.header.writers.frameoptions.XFrameOptionsHeaderWriter.XFrameOptionsMode;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n    \n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz\n                .anyRequest().permitAll()\n            )\n            .headers(headers -&gt; headers\n                    .addHeaderWriter(new CrossOriginResourcePolicyHeaderWriter())\n                    .addHeaderWriter(new XFrameOptionsHeaderWriter(XFrameOptionsMode.SAMEORIGIN))\n                    .addHeaderWriter(new ContentSecurityPolicyHeaderWriter(&quot;object-src localhost;&quot;))\n            );\n        return http.build();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1664466888,"post_id":73898404,"comment_id":130483835,"body_markdown":"Aside from the compilation error, `if(status == &quot;Pass&quot;)` [this is not how you compare strings in java](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Aside from the compilation error, <code>if(status == &quot;Pass&quot;)</code> <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">this is not how you compare strings in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664467198,"creation_date":1664467198,"answer_id":73898497,"question_id":73898404,"body_markdown":"`row.getElementsByTag(&quot;td&quot;).get(1)` returns an [`Element`](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html), which doesn&#39;t have a `class` method.\r\n\r\nThough, it has a [`classNames`](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#classNames(java.util.Set)) method, and that accepts a `Set&lt;String&gt;` as a parameter (even if you just need to pass a single class).\r\n\r\nSo you can do something like \r\n\r\n    row.getElementsByTag(&quot;td&quot;).get(1).classNames(Set.of(&quot;highlight-#57d9a3&quot;));\r\n\r\nAnd so on.\r\n\r\nAside from that compilation error, `if(status == &quot;Pass&quot;)` [is not how you compare strings in java](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java). You need to do something like `if(&quot;Pass&quot;.equals(status))`.","title":"How to change color of a cell in HTML table using JSoup?","body":"<p><code>row.getElementsByTag(&quot;td&quot;).get(1)</code> returns an <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Element.html\" rel=\"nofollow noreferrer\"><code>Element</code></a>, which doesn't have a <code>class</code> method.</p>\n<p>Though, it has a <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#classNames(java.util.Set)\" rel=\"nofollow noreferrer\"><code>classNames</code></a> method, and that accepts a <code>Set&lt;String&gt;</code> as a parameter (even if you just need to pass a single class).</p>\n<p>So you can do something like</p>\n<pre><code>row.getElementsByTag(&quot;td&quot;).get(1).classNames(Set.of(&quot;highlight-#57d9a3&quot;));\n</code></pre>\n<p>And so on.</p>\n<p>Aside from that compilation error, <code>if(status == &quot;Pass&quot;)</code> <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">is not how you compare strings in java</a>. You need to do something like <code>if(&quot;Pass&quot;.equals(status))</code>.</p>\n"}],"owner":{"account_id":13461167,"reputation":59,"user_id":9713134,"display_name":"DevOps QA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73898497,"answer_count":1,"score":0,"last_activity_date":1664467198,"creation_date":1664466744,"question_id":73898404,"body_markdown":"I need to parse a table using Java and Jsoup and change the color of the cell based on it&#39;s value. This is what the html table looks like and it is how the color of the cell needs to be defined  \r\n\r\n    &lt;tr&gt;\r\n     &lt;td colspan=&quot;1&quot;&gt;Test1&lt;/td&gt;\r\n     &lt;td colspan=&quot;1&quot;&gt;JD&lt;/td&gt;\r\n     &lt;td colspan=&quot;1&quot;&gt;N&lt;/td&gt;\r\n     &lt;td colspan=&quot;1&quot;&gt;A&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n     &lt;td&gt;Test2&lt;/td&gt;\r\n     &lt;td&gt;A&lt;/td&gt;\r\n     &lt;td&gt;B&lt;/td&gt;\r\n     &lt;td&gt;C&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n     &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;COLOR YELLOW&lt;/td&gt;\r\n     &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;YELL&lt;/td&gt;\r\n     &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;N/A&lt;/td&gt;\r\n     &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;N/A&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nI wrote a script that can ready the value of a cell and change the text from it, however I am unable to also change the color\r\n\r\n    Document doc = Jsoup.parse(html);\r\n    Elements rows = doc.getElementsByTag(&quot;tr&quot;);\r\n        String status = &quot;Pass&quot;\r\n        for(Element row : rows) {\r\n                String Column1 = row.getElementsByTag(&quot;td&quot;).get(0).text();\r\n                if(Column1 == &quot;MyValue&quot;){\r\n                    row.getElementsByTag(&quot;td&quot;).get(1).text(&quot;CustomValue&quot;);\r\n                    row.getElementsByTag(&quot;td&quot;).get(2).text(&quot;CustomValue&quot;); \r\n                    row.getElementsByTag(&quot;td&quot;).get(3).text(&quot;SomeValue&quot;); \r\n                    if(status == &quot;Pass&quot;){ // Everything below doesn&#39;t work\r\n                        row.getElementsByTag(&quot;td&quot;).get(1).class(&quot;highlight-#57d9a3&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(2).class(&quot;highlight-#57d9a3&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(3).class(&quot;highlight-#57d9a3&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(1).title(&quot;Background color : Medium green 65%&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(2).title(&quot;Background color : Medium green 65%&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(3).title(&quot;Background color : Medium green 65%&quot;); \r\n                    } else if(status == &quot;Fail&quot;){\r\n                        row.getElementsByTag(&quot;td&quot;).get(1).class(&quot;highlight-#ff7452&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(2).class(&quot;highlight-#ff7452&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(3).class(&quot;highlight-#ff7452&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(1).title(&quot;Background color : Medium red 85%&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(2).title(&quot;Background color : Medium red 85%&quot;); \r\n                        row.getElementsByTag(&quot;td&quot;).get(3).title(&quot;Background color : Medium red 85%&quot;); \r\n                    } else{\r\n                        //TBD\r\n                    }\r\n                }\r\n\r\n\r\nThis is the error I am getting:\r\n\r\n    No signature of method: org.jsoup.nodes.Element.class() is applicable for argument types: (java.lang.String) values: [highlight-#57d9a3]\r\n    10:44:33  Possible solutions: clone(), clone(), addClass(java.lang.String), hasClass(java.lang.String), val(java.lang.String), getClass()","title":"How to change color of a cell in HTML table using JSoup?","body":"<p>I need to parse a table using Java and Jsoup and change the color of the cell based on it's value. This is what the html table looks like and it is how the color of the cell needs to be defined</p>\n<pre><code>&lt;tr&gt;\n &lt;td colspan=&quot;1&quot;&gt;Test1&lt;/td&gt;\n &lt;td colspan=&quot;1&quot;&gt;JD&lt;/td&gt;\n &lt;td colspan=&quot;1&quot;&gt;N&lt;/td&gt;\n &lt;td colspan=&quot;1&quot;&gt;A&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n &lt;td&gt;Test2&lt;/td&gt;\n &lt;td&gt;A&lt;/td&gt;\n &lt;td&gt;B&lt;/td&gt;\n &lt;td&gt;C&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;COLOR YELLOW&lt;/td&gt;\n &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;YELL&lt;/td&gt;\n &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;N/A&lt;/td&gt;\n &lt;td class=&quot;highlight-#fff0b3&quot; title=&quot;Background color : Light yellow 100%&quot; data-highlight-colour=&quot;#fff0b3&quot;&gt;N/A&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>I wrote a script that can ready the value of a cell and change the text from it, however I am unable to also change the color</p>\n<pre><code>Document doc = Jsoup.parse(html);\nElements rows = doc.getElementsByTag(&quot;tr&quot;);\n    String status = &quot;Pass&quot;\n    for(Element row : rows) {\n            String Column1 = row.getElementsByTag(&quot;td&quot;).get(0).text();\n            if(Column1 == &quot;MyValue&quot;){\n                row.getElementsByTag(&quot;td&quot;).get(1).text(&quot;CustomValue&quot;);\n                row.getElementsByTag(&quot;td&quot;).get(2).text(&quot;CustomValue&quot;); \n                row.getElementsByTag(&quot;td&quot;).get(3).text(&quot;SomeValue&quot;); \n                if(status == &quot;Pass&quot;){ // Everything below doesn't work\n                    row.getElementsByTag(&quot;td&quot;).get(1).class(&quot;highlight-#57d9a3&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(2).class(&quot;highlight-#57d9a3&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(3).class(&quot;highlight-#57d9a3&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(1).title(&quot;Background color : Medium green 65%&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(2).title(&quot;Background color : Medium green 65%&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(3).title(&quot;Background color : Medium green 65%&quot;); \n                } else if(status == &quot;Fail&quot;){\n                    row.getElementsByTag(&quot;td&quot;).get(1).class(&quot;highlight-#ff7452&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(2).class(&quot;highlight-#ff7452&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(3).class(&quot;highlight-#ff7452&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(1).title(&quot;Background color : Medium red 85%&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(2).title(&quot;Background color : Medium red 85%&quot;); \n                    row.getElementsByTag(&quot;td&quot;).get(3).title(&quot;Background color : Medium red 85%&quot;); \n                } else{\n                    //TBD\n                }\n            }\n</code></pre>\n<p>This is the error I am getting:</p>\n<pre><code>No signature of method: org.jsoup.nodes.Element.class() is applicable for argument types: (java.lang.String) values: [highlight-#57d9a3]\n10:44:33  Possible solutions: clone(), clone(), addClass(java.lang.String), hasClass(java.lang.String), val(java.lang.String), getClass()\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":3245007,"reputation":2260,"user_id":2736849,"accept_rate":80,"display_name":"mfaisalhyder"},"score":1,"creation_date":1686945469,"post_id":73884450,"comment_id":134873555,"body_markdown":"were you able to find the solution?","body":"were you able to find the solution?"}],"answers":[{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664467154,"creation_date":1664467154,"answer_id":73898488,"question_id":73884450,"body_markdown":"Did you tried this annotation from `io.swagger.v3.oas.annotations.Parameter`\r\n\r\n    @Parameter(hidden = true) int id\r\n\r\nIt&#39;ll hide the id field.","title":"Hide a response field in OpenApi / Swagger depending on the endpoint","body":"<p>Did you tried this annotation from <code>io.swagger.v3.oas.annotations.Parameter</code></p>\n<pre><code>@Parameter(hidden = true) int id\n</code></pre>\n<p>It'll hide the id field.</p>\n"}],"owner":{"account_id":19972020,"reputation":299,"user_id":14637258,"display_name":"Anne Maier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664467154,"creation_date":1664380452,"question_id":73884450,"body_markdown":"The application contains two GET REST endpoints `/story` and `/review`. Both use the same dto `Article`:\r\n``` \r\npublic class Article {\r\n    private int id;\r\n    private String title;\r\n    private int numOfWords;\r\n}\r\n```\r\n\r\nHow can the dto `Article` be adjusted so that only the Swagger schema to `/story` includes the field `id` but not the Swagger schema to `/review`?\r\n\r\nThe response part of the Swagger documentation looks like this for both endpoints:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut it should look like above for `/story` \r\nand like below for `/review`:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xhgtM.png\r\n  [2]: https://i.stack.imgur.com/I4aNN.png\r\n\r\nWith the `@JsonIgnore` annotation over `private int id`, the field `id` does not appear in the Swagger schema, but it does not appear for both endpoints.","title":"Hide a response field in OpenApi / Swagger depending on the endpoint","body":"<p>The application contains two GET REST endpoints <code>/story</code> and <code>/review</code>. Both use the same dto <code>Article</code>:</p>\n<pre><code>public class Article {\n    private int id;\n    private String title;\n    private int numOfWords;\n}\n</code></pre>\n<p>How can the dto <code>Article</code> be adjusted so that only the Swagger schema to <code>/story</code> includes the field <code>id</code> but not the Swagger schema to <code>/review</code>?</p>\n<p>The response part of the Swagger documentation looks like this for both endpoints:</p>\n<p><a href=\"https://i.stack.imgur.com/xhgtM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhgtM.png\" alt=\"enter image description here\" /></a></p>\n<p>But it should look like above for <code>/story</code>\nand like below for <code>/review</code>:\n<a href=\"https://i.stack.imgur.com/I4aNN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I4aNN.png\" alt=\"enter image description here\" /></a></p>\n<p>With the <code>@JsonIgnore</code> annotation over <code>private int id</code>, the field <code>id</code> does not appear in the Swagger schema, but it does not appear for both endpoints.</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","spring-resttemplate"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664466078,"post_id":73898012,"comment_id":130483533,"body_markdown":"Try to use `byte[]` instead of `Object` in `ParameterizedTypeReference`","body":"Try to use <code>byte[]</code> instead of <code>Object</code> in <code>ParameterizedTypeReference</code>"}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664466868,"creation_date":1664466236,"answer_id":73898297,"question_id":73898012,"body_markdown":"You need to add an appropriate `MessageConverter` to your `RestTemplate`.\r\n\r\nSomething like:\r\n\r\n```\r\n RestTemplate restTemplate = new RestTemplate();\r\n restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\r\n \r\n ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(graphUrl, \r\n HttpMethod.GET, new HttpEntity&lt;&gt;((header)), byte[].class);\r\n```\r\nYou can read more on this subject here: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n","title":"Error in getting image from Graph API in spring-boot with resttemplate","body":"<p>You need to add an appropriate <code>MessageConverter</code> to your <code>RestTemplate</code>.</p>\n<p>Something like:</p>\n<pre><code> RestTemplate restTemplate = new RestTemplate();\n restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\n \n ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(graphUrl, \n HttpMethod.GET, new HttpEntity&lt;&gt;((header)), byte[].class);\n</code></pre>\n<p>You can read more on this subject here: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html</a></p>\n"}],"owner":{"account_id":26273207,"reputation":13,"user_id":19942804,"display_name":"Aryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73898297,"answer_count":1,"score":0,"last_activity_date":1664466868,"creation_date":1664464931,"question_id":73898012,"body_markdown":"I am using the graph api:\r\n```\r\nGET /users/{id | userPrincipalName}/photo/$value\r\n```\r\nto get the particular user&#39;s profile photo with my access token. In postman I am able to see the image using the above get call.\r\nIn my spring-boot application I am using like below:\r\n```\r\nfinal ResponseEntity&lt;Object&gt; profilePicture = restTemplate.exchange(graphUrl, HttpMethod.GET, new HttpEntity&lt;&gt;((header)), new ParameterizedTypeReference&lt;&gt;() {});\r\n```\r\nI am getting below error:\r\n```\r\nCould not extract response: no suitable HttpMessageConverter found for response type [class java.lang.Object] and content type [image/jpeg]\r\n```\r\n\r\nI have defined RestTemplate like:\r\n```\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        return new RestTemplate();\r\n    }\r\n```\r\nCould someone please help me with this?","title":"Error in getting image from Graph API in spring-boot with resttemplate","body":"<p>I am using the graph api:</p>\n<pre><code>GET /users/{id | userPrincipalName}/photo/$value\n</code></pre>\n<p>to get the particular user's profile photo with my access token. In postman I am able to see the image using the above get call.\nIn my spring-boot application I am using like below:</p>\n<pre><code>final ResponseEntity&lt;Object&gt; profilePicture = restTemplate.exchange(graphUrl, HttpMethod.GET, new HttpEntity&lt;&gt;((header)), new ParameterizedTypeReference&lt;&gt;() {});\n</code></pre>\n<p>I am getting below error:</p>\n<pre><code>Could not extract response: no suitable HttpMessageConverter found for response type [class java.lang.Object] and content type [image/jpeg]\n</code></pre>\n<p>I have defined RestTemplate like:</p>\n<pre><code>    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n</code></pre>\n<p>Could someone please help me with this?</p>\n"},{"tags":["java","postgresql","flyway"],"answers":[{"tags":[],"owner":{"account_id":24298669,"reputation":224,"user_id":18242496,"display_name":"DoodleBobBuffPants"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664466541,"creation_date":1664381755,"answer_id":73884730,"question_id":73884175,"body_markdown":"Looking at your scripts, your `V` script is named incorrectly\r\n\r\nThe naming convention is documented [here][1]\r\n\r\nIn particular, the double underscore needs to appear after the version number in the `V` script, so the correct name would be `V01__baseline.sql`\r\n\r\nRepeatable migrations run after Versioned migrations, so this should fix the problem once the Versioned migration is properly detected\r\n\r\n  [1]: https://flywaydb.org/documentation/concepts/migrations#naming","title":"Flyway Repeatable Script Throwing Table Does Not Exist Error","body":"<p>Looking at your scripts, your <code>V</code> script is named incorrectly</p>\n<p>The naming convention is documented <a href=\"https://flywaydb.org/documentation/concepts/migrations#naming\" rel=\"nofollow noreferrer\">here</a></p>\n<p>In particular, the double underscore needs to appear after the version number in the <code>V</code> script, so the correct name would be <code>V01__baseline.sql</code></p>\n<p>Repeatable migrations run after Versioned migrations, so this should fix the problem once the Versioned migration is properly detected</p>\n"}],"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73884730,"answer_count":1,"score":0,"last_activity_date":1664466541,"creation_date":1664379276,"question_id":73884175,"body_markdown":"I am currently trying to trim down my versioned scripts into one baseline script (we don&#39;t pay for flyway so is a pain). So I deleted my schema and attempted to run my one big script that contains everything I had. I exported the DDL out of my DBeaver client. However when starting my applications I am getting this error: \r\n```\r\nSQL State  : 42P01\r\nError Code : 0\r\nMessage    : ERROR: relation schema-name.my_table_name does not exist\r\n  Position: 13\r\nLocation   : db/migration/aaa/R__01_my_script_name.sql \r\nLine       : 3\r\nStatement  : DELETE FROM &quot;schema-name.my_table_name&quot; WHERE field_name = &#39;blah&#39; OR field_name = &#39;blah2&#39;\r\n```\r\nI beleive this error is because the repeatable script is running before the versioning, where as the versioning script is what creates all of the tables. It is my understanding that flyway runs the repeatable scripts last. Is there some sort of property I am missing or something? Here is my directory structure: \r\n```\r\ndb\r\n --&gt; migration\r\n     --&gt; my client\r\n       --&gt;R__01_repeatable.sql\r\n       --&gt;V__01_baseline.sql\r\n```\r\nPlease let me know if you need anymore information from my here is my flyway properties\r\n\r\n```\r\n  flyway:\r\n    locations: classpath:/db/migration/shared,classpath:/db/migration/${app.client}\r\n    baseline-on-migrate: true\r\n    base_line_version: 1\r\n    placeholders:\r\n      schema-name: ${spring.jpa.properties.hibernate.default_schema}\r\n    schemas: ${spring.jpa.properties.hibernate.default_schema}\r\n    enabled: true\r\n```","title":"Flyway Repeatable Script Throwing Table Does Not Exist Error","body":"<p>I am currently trying to trim down my versioned scripts into one baseline script (we don't pay for flyway so is a pain). So I deleted my schema and attempted to run my one big script that contains everything I had. I exported the DDL out of my DBeaver client. However when starting my applications I am getting this error:</p>\n<pre><code>SQL State  : 42P01\nError Code : 0\nMessage    : ERROR: relation schema-name.my_table_name does not exist\n  Position: 13\nLocation   : db/migration/aaa/R__01_my_script_name.sql \nLine       : 3\nStatement  : DELETE FROM &quot;schema-name.my_table_name&quot; WHERE field_name = 'blah' OR field_name = 'blah2'\n</code></pre>\n<p>I beleive this error is because the repeatable script is running before the versioning, where as the versioning script is what creates all of the tables. It is my understanding that flyway runs the repeatable scripts last. Is there some sort of property I am missing or something? Here is my directory structure:</p>\n<pre><code>db\n --&gt; migration\n     --&gt; my client\n       --&gt;R__01_repeatable.sql\n       --&gt;V__01_baseline.sql\n</code></pre>\n<p>Please let me know if you need anymore information from my here is my flyway properties</p>\n<pre><code>  flyway:\n    locations: classpath:/db/migration/shared,classpath:/db/migration/${app.client}\n    baseline-on-migrate: true\n    base_line_version: 1\n    placeholders:\n      schema-name: ${spring.jpa.properties.hibernate.default_schema}\n    schemas: ${spring.jpa.properties.hibernate.default_schema}\n    enabled: true\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664466412,"creation_date":1664466412,"answer_id":73898340,"question_id":73880904,"body_markdown":"&gt; How to write common pojo deserializer for json attribute which can be\r\n&gt; an object and an array both?\r\n\r\nIt is possible if you use the [`JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY`](https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonFormat.Feature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY) deserialization feature consisting of an override for the [`DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY) feature which allows deserialization of JSON non-array values into single-element Java arrays and Collections. So you can annotate the `data` field of your `Node` class to obtain the expected behaviour:\r\n\r\n~~~\r\nclass Node {\r\n    @JsonProperty(&quot;data&quot;)\r\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n    private List&lt;Data&gt; data;\r\n}\r\n~~~","title":"How to write common pojo deserializer for json attribute which can be an object and an array both?","body":"<blockquote>\n<p>How to write common pojo deserializer for json attribute which can be\nan object and an array both?</p>\n</blockquote>\n<p>It is possible if you use the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonFormat.Feature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\" rel=\"nofollow noreferrer\"><code>JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY</code></a> deserialization feature consisting of an override for the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\" rel=\"nofollow noreferrer\"><code>DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY</code></a> feature which allows deserialization of JSON non-array values into single-element Java arrays and Collections. So you can annotate the <code>data</code> field of your <code>Node</code> class to obtain the expected behaviour:</p>\n<pre><code>class Node {\n    @JsonProperty(&quot;data&quot;)\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\n    private List&lt;Data&gt; data;\n}\n</code></pre>\n"}],"owner":{"account_id":4397192,"reputation":5374,"user_id":3583824,"accept_rate":75,"display_name":"axnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73898340,"answer_count":1,"score":1,"last_activity_date":1664466412,"creation_date":1664365780,"question_id":73880904,"body_markdown":"Background:\r\n\r\nI am getting mismatchedInputException, when parsing json.\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;Data&gt;` from Object value (token `JsonToken.START_OBJECT`)\r\n\r\nProblem:\r\n\r\nnodes is a json-array which contains data, \r\nwhich can be either json-object or json-array &lt;of same json-object&gt;.\r\n\r\nI need to represent this correctly in POJO.\r\n\r\n\r\nThings Tried:\r\nMap&lt;String, Object&gt;, List&lt;Object&gt;, \r\n,@JsonDeserialize(using = NodeDeserializer.class)\r\n\r\nBelow is my nested json document for ref.\r\n\r\n    {\r\n      &quot;parent&quot;: {\r\n        &quot;nodes&quot;: [\r\n          {\r\n            &quot;data&quot;: {\r\n              &quot;desc&quot;: &quot;a1&quot;,\r\n              &quot;url&quot;: &quot;http://a1.a11&quot;\r\n            }\r\n          },\r\n          {\r\n            &quot;data&quot;: [\r\n              {\r\n                &quot;desc&quot;: &quot;b1&quot;,\r\n                &quot;url&quot;: &quot;http://b1.b11&quot;\r\n              },\r\n              {\r\n                &quot;desc&quot;: &quot;b2&quot;,\r\n                &quot;url&quot;: &quot;http://b2.b21&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\n\r\nBelow is Pojo Java classes and Runner class, I am using for SER/DE for above Json\r\n\r\nData.java\r\n\r\n    import lombok.*;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    class Data {\r\n        @JsonProperty(&quot;desc&quot;)\r\n        private String desc;\r\n    \r\n        @JsonProperty(&quot;url&quot;)\r\n        private String url;\r\n    }\r\n\r\n\r\nNode.java\r\n\r\n    import lombok.*;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    class Node {\r\n        @JsonProperty(&quot;data&quot;)\r\n        //Map&lt;String, Object&gt; data = new LinkedHashMap&lt;&gt;();\r\n        //private List&lt;Object&gt; data;\r\n        private List&lt;Data&gt; data;\r\n    }\r\n\r\n\r\nParent.java\r\n\r\n    import lombok.*;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    class Parent {\r\n        @JsonProperty(&quot;nodes&quot;)\r\n        private List&lt;Node&gt; nodes;\r\n    }\r\n\r\n\r\n\r\nTest.java\r\n\r\n    import lombok.*;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class Test {\r\n        @JsonProperty(&quot;parent&quot;)\r\n        private Parent parent;\r\n    }\r\n\r\n\r\n\r\nRunner Class\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public class TestJsonParse {\r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            String jsonString = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;parent\\&quot;: {\\n&quot; +\r\n                    &quot;    \\&quot;nodes\\&quot;: [\\n&quot; +\r\n                    &quot;      {\\n&quot; +\r\n                    &quot;        \\&quot;data\\&quot;: {\\n&quot; +\r\n                    &quot;          \\&quot;desc\\&quot;: \\&quot;a1\\&quot;,\\n&quot; +\r\n                    &quot;          \\&quot;url\\&quot;: \\&quot;http://a1.a11\\&quot;\\n&quot; +\r\n                    &quot;        }\\n&quot; +\r\n                    &quot;      },\\n&quot; +\r\n                    &quot;      {\\n&quot; +\r\n                    &quot;        \\&quot;data\\&quot;: [\\n&quot; +\r\n                    &quot;          {\\n&quot; +\r\n                    &quot;            \\&quot;desc\\&quot;: \\&quot;b1\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;url\\&quot;: \\&quot;http://b1.b11\\&quot;\\n&quot; +\r\n                    &quot;          },\\n&quot; +\r\n                    &quot;          {\\n&quot; +\r\n                    &quot;            \\&quot;desc\\&quot;: \\&quot;b2\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;url\\&quot;: \\&quot;http://b2.b21\\&quot;\\n&quot; +\r\n                    &quot;          }\\n&quot; +\r\n                    &quot;        ]\\n&quot; +\r\n                    &quot;      }\\n&quot; +\r\n                    &quot;    ]\\n&quot; +\r\n                    &quot;  }\\n&quot; +\r\n                    &quot;}&quot;;\r\n    \r\n            // print pojo\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Test test = objectMapper.readValue(jsonString, Test.class);\r\n            System.out.println(test);\r\n        }\r\n    }\r\n\r\n","title":"How to write common pojo deserializer for json attribute which can be an object and an array both?","body":"<p>Background:</p>\n<p>I am getting mismatchedInputException, when parsing json.\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>java.util.ArrayList&lt;Data&gt;</code> from Object value (token <code>JsonToken.START_OBJECT</code>)</p>\n<p>Problem:</p>\n<p>nodes is a json-array which contains data,\nwhich can be either json-object or json-array .</p>\n<p>I need to represent this correctly in POJO.</p>\n<p>Things Tried:\nMap&lt;String, Object&gt;, List,\n,@JsonDeserialize(using = NodeDeserializer.class)</p>\n<p>Below is my nested json document for ref.</p>\n<pre><code>{\n  &quot;parent&quot;: {\n    &quot;nodes&quot;: [\n      {\n        &quot;data&quot;: {\n          &quot;desc&quot;: &quot;a1&quot;,\n          &quot;url&quot;: &quot;http://a1.a11&quot;\n        }\n      },\n      {\n        &quot;data&quot;: [\n          {\n            &quot;desc&quot;: &quot;b1&quot;,\n            &quot;url&quot;: &quot;http://b1.b11&quot;\n          },\n          {\n            &quot;desc&quot;: &quot;b2&quot;,\n            &quot;url&quot;: &quot;http://b2.b21&quot;\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Below is Pojo Java classes and Runner class, I am using for SER/DE for above Json</p>\n<p>Data.java</p>\n<pre><code>import lombok.*;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@JsonInclude(JsonInclude.Include.NON_NULL)\nclass Data {\n    @JsonProperty(&quot;desc&quot;)\n    private String desc;\n\n    @JsonProperty(&quot;url&quot;)\n    private String url;\n}\n</code></pre>\n<p>Node.java</p>\n<pre><code>import lombok.*;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@JsonInclude(JsonInclude.Include.NON_NULL)\nclass Node {\n    @JsonProperty(&quot;data&quot;)\n    //Map&lt;String, Object&gt; data = new LinkedHashMap&lt;&gt;();\n    //private List&lt;Object&gt; data;\n    private List&lt;Data&gt; data;\n}\n</code></pre>\n<p>Parent.java</p>\n<pre><code>import lombok.*;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@JsonInclude(JsonInclude.Include.NON_NULL)\nclass Parent {\n    @JsonProperty(&quot;nodes&quot;)\n    private List&lt;Node&gt; nodes;\n}\n</code></pre>\n<p>Test.java</p>\n<pre><code>import lombok.*;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Test {\n    @JsonProperty(&quot;parent&quot;)\n    private Parent parent;\n}\n</code></pre>\n<p>Runner Class</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class TestJsonParse {\n    public static void main(String[] args) throws JsonProcessingException {\n        String jsonString = &quot;{\\n&quot; +\n                &quot;  \\&quot;parent\\&quot;: {\\n&quot; +\n                &quot;    \\&quot;nodes\\&quot;: [\\n&quot; +\n                &quot;      {\\n&quot; +\n                &quot;        \\&quot;data\\&quot;: {\\n&quot; +\n                &quot;          \\&quot;desc\\&quot;: \\&quot;a1\\&quot;,\\n&quot; +\n                &quot;          \\&quot;url\\&quot;: \\&quot;http://a1.a11\\&quot;\\n&quot; +\n                &quot;        }\\n&quot; +\n                &quot;      },\\n&quot; +\n                &quot;      {\\n&quot; +\n                &quot;        \\&quot;data\\&quot;: [\\n&quot; +\n                &quot;          {\\n&quot; +\n                &quot;            \\&quot;desc\\&quot;: \\&quot;b1\\&quot;,\\n&quot; +\n                &quot;            \\&quot;url\\&quot;: \\&quot;http://b1.b11\\&quot;\\n&quot; +\n                &quot;          },\\n&quot; +\n                &quot;          {\\n&quot; +\n                &quot;            \\&quot;desc\\&quot;: \\&quot;b2\\&quot;,\\n&quot; +\n                &quot;            \\&quot;url\\&quot;: \\&quot;http://b2.b21\\&quot;\\n&quot; +\n                &quot;          }\\n&quot; +\n                &quot;        ]\\n&quot; +\n                &quot;      }\\n&quot; +\n                &quot;    ]\\n&quot; +\n                &quot;  }\\n&quot; +\n                &quot;}&quot;;\n\n        // print pojo\n        ObjectMapper objectMapper = new ObjectMapper();\n        Test test = objectMapper.readValue(jsonString, Test.class);\n        System.out.println(test);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1930638,"reputation":7625,"user_id":1740079,"accept_rate":85,"display_name":"ichigolas"},"score":0,"creation_date":1359399519,"post_id":14569104,"comment_id":20330052,"body_markdown":"You want to extract the url without the protocol?","body":"You want to extract the url without the protocol?"},{"owner":{"account_id":2298361,"reputation":143,"user_id":2019260,"accept_rate":64,"display_name":"user2019260"},"score":0,"creation_date":1359400220,"post_id":14569104,"comment_id":20330419,"body_markdown":"Hi, if the string contains multiple urls such as http://http://k.http://blah it shouldn&#39;t be found as valid in my regex","body":"Hi, if the string contains multiple urls such as <a href=\"http://http://k.http://blah\" rel=\"nofollow noreferrer\">http://k.http://blah</a> it shouldn&#39;t be found as valid in my regex"},{"owner":{"account_id":2298361,"reputation":143,"user_id":2019260,"accept_rate":64,"display_name":"user2019260"},"score":0,"creation_date":1359400766,"post_id":14569104,"comment_id":20330680,"body_markdown":"Yes, as long as it&#39;s not another URL it&#39;s fine.","body":"Yes, as long as it&#39;s not another URL it&#39;s fine."},{"owner":{"account_id":2298361,"reputation":143,"user_id":2019260,"accept_rate":64,"display_name":"user2019260"},"score":0,"creation_date":1359401004,"post_id":14569104,"comment_id":20330787,"body_markdown":"Looking at my issue, it seems that I could eliminate my issue as long as I can implement a check to make sure &#39;//&#39; doesn&#39;t occur in my string after the initial http:// or https://, any ideas on how to implement?","body":"Looking at my issue, it seems that I could eliminate my issue as long as I can implement a check to make sure &#39;//&#39; doesn&#39;t occur in my string after the initial http:// or https://, any ideas on how to implement?"},{"owner":{"account_id":73496,"reputation":25351,"user_id":211627,"accept_rate":77,"display_name":"JDB"},"score":1,"creation_date":1359401159,"post_id":14569104,"comment_id":20330869,"body_markdown":"Please read the [regex] tag&#39;s description: &quot;Please also include a tag specifying the programming language or tool you are using.&quot;","body":"Please read the [regex] tag&#39;s description: &quot;Please also include a tag specifying the programming language or tool you are using.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":130072,"reputation":12317,"user_id":329062,"accept_rate":67,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359400935,"creation_date":1359400935,"answer_id":14569543,"question_id":14569104,"body_markdown":"Check your programming language to see if it already has a parser. E.g. php has parse_url()","title":"Regex to extract valid Http or Https","body":"<p>Check your programming language to see if it already has a parser. E.g. php has parse_url()</p>\n"},{"tags":[],"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1359403378,"creation_date":1359401122,"answer_id":14569593,"question_id":14569104,"body_markdown":"This will only produce a match if if there is no `://` after its first appearance in the string.\r\n\r\n    ^https?:\\/\\/(?!.*:\\/\\/)\\S+\r\n\r\nNote that trying to parse a valid url from within a string is very complex, see   \r\n[In search of the perfect URL validation regex](http://mathiasbynens.be/demo/url-regex), so the above does not attempt to do that.  \r\nIt will just match the protocol and following non-space characters.\r\n\r\nIn Java\r\n \r\n    Pattern reg = Pattern.compile(&quot;^https?:\\\\/\\\\/(?!.*:\\\\/\\\\/)\\\\S+&quot;);\r\n    Matcher m = reg.matcher(&quot;http://somesite.com&quot;); \r\n    if (m.find()) {\r\n        System.out.println(m.group());\r\n    } else {\r\n        System.out.println(&quot;No match&quot;);\r\n    }","title":"Regex to extract valid Http or Https","body":"<p>This will only produce a match if if there is no <code>://</code> after its first appearance in the string.</p>\n\n<pre><code>^https?:\\/\\/(?!.*:\\/\\/)\\S+\n</code></pre>\n\n<p>Note that trying to parse a valid url from within a string is very complex, see<br>\n<a href=\"http://mathiasbynens.be/demo/url-regex\" rel=\"nofollow\">In search of the perfect URL validation regex</a>, so the above does not attempt to do that.<br>\nIt will just match the protocol and following non-space characters.</p>\n\n<p>In Java</p>\n\n<pre><code>Pattern reg = Pattern.compile(\"^https?:\\\\/\\\\/(?!.*:\\\\/\\\\/)\\\\S+\");\nMatcher m = reg.matcher(\"http://somesite.com\"); \nif (m.find()) {\n    System.out.println(m.group());\n} else {\n    System.out.println(\"No match\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73496,"reputation":25351,"user_id":211627,"accept_rate":77,"display_name":"JDB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359401256,"creation_date":1359401256,"answer_id":14569638,"question_id":14569104,"body_markdown":"From http://net.tutsplus.com/tutorials/other/8-regular-expressions-you-should-know/\r\n\r\n    /^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/\r\n\r\nThis may change based on the programming language/tool","title":"Regex to extract valid Http or Https","body":"<p>From <a href=\"http://net.tutsplus.com/tutorials/other/8-regular-expressions-you-should-know/\" rel=\"nofollow\">http://net.tutsplus.com/tutorials/other/8-regular-expressions-you-should-know/</a></p>\n\n<pre><code>/^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/\n</code></pre>\n\n<p>This may change based on the programming language/tool</p>\n"},{"tags":[],"owner":{"account_id":2053918,"reputation":603,"user_id":1832222,"accept_rate":50,"display_name":"Konstantin XFlash Stratigenas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664466174,"creation_date":1664466046,"answer_id":73898251,"question_id":14569104,"body_markdown":"    /[A-Za-z]+://[A-Za-z0-9-]+.[A-Za-z0-9-:%&amp;;?#/.=]+/g","title":"Regex to extract valid Http or Https","body":"<pre><code>/[A-Za-z]+://[A-Za-z0-9-]+.[A-Za-z0-9-:%&amp;;?#/.=]+/g\n</code></pre>\n"}],"owner":{"account_id":2298361,"reputation":143,"user_id":2019260,"accept_rate":64,"display_name":"user2019260"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14569593,"answer_count":4,"score":1,"last_activity_date":1664466174,"creation_date":1359399351,"question_id":14569104,"body_markdown":"I&#39;m currently having some issues with a regex to extract a URL.  \r\n\r\nI want my regex to take URLS such as:\r\n\r\n    http://stackoverflow.com/questions/ask\r\n    https://stackoverflow.com\r\n    http://local:1000\r\n    https://local:1000\r\n\r\n\r\nThrough some tutorials, I&#39;ve learned that this regex will find all the above: `^(http|https)\\://.*$` however, it will also take `http://local:1000;http://invalid` `http://khttp://`as a single string when it shouldn&#39;t take it at all.\r\n\r\nI understand that my expression isn&#39;t written to exclude this, but my issue is I cannot think of how to write it so it checks for this scenario.\r\n\r\n\r\nAny help is greatly appreciated!\r\n\r\nEdit:\r\n\r\nLooking at my issue, it seems that I could eliminate my issue as long as I can implement a check to make sure &#39;//&#39; doesn&#39;t occur in my string after the initial http:// or https://, any ideas on how to implement? \r\n\r\nSorry this will be done with Java\r\n\r\nI also need to add the following constraint: a string such as `http://local:80/test:90` fails because of the duplicate of port...aka I need to have a constraint that only allows two total : symbols in a valid string (one after http/s) and one before port.","title":"Regex to extract valid Http or Https","body":"<p>I'm currently having some issues with a regex to extract a URL.  </p>\n\n<p>I want my regex to take URLS such as:</p>\n\n<pre><code>http://stackoverflow.com/questions/ask\nhttps://stackoverflow.com\nhttp://local:1000\nhttps://local:1000\n</code></pre>\n\n<p>Through some tutorials, I've learned that this regex will find all the above: <code>^(http|https)\\://.*$</code> however, it will also take <code>http://local:1000;http://invalid</code> <code>http://khttp://</code>as a single string when it shouldn't take it at all.</p>\n\n<p>I understand that my expression isn't written to exclude this, but my issue is I cannot think of how to write it so it checks for this scenario.</p>\n\n<p>Any help is greatly appreciated!</p>\n\n<p>Edit:</p>\n\n<p>Looking at my issue, it seems that I could eliminate my issue as long as I can implement a check to make sure '//' doesn't occur in my string after the initial http:// or https://, any ideas on how to implement? </p>\n\n<p>Sorry this will be done with Java</p>\n\n<p>I also need to add the following constraint: a string such as <code>http://local:80/test:90</code> fails because of the duplicate of port...aka I need to have a constraint that only allows two total : symbols in a valid string (one after http/s) and one before port.</p>\n"},{"tags":["java","inheritance","chess"],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664464165,"creation_date":1664463176,"answer_id":73897626,"question_id":73897545,"body_markdown":"This would normally be done by creating a constructor in the superclass that sets the values via parameters you pass into it and then calling that constructor from the subclass.\r\n\r\neG\r\n\r\n    public class Piece {\r\n\r\n        private final int maxMovementDistance;\r\n\r\n        public Piece(int maxMovementDistance) {\r\n            this.maxMovementDistance = maxMovementDistance;\r\n        }\r\n\r\n        public int getMaxMovementDistance() {\r\n            return this.maxMovementDistance;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public class King extends Piece {\r\n\r\n          public King() {\r\n               super(1); // will call super constructor with 1 as argument pased\r\n          }\r\n    }","title":"Set parent class attribute in a child class","body":"<p>This would normally be done by creating a constructor in the superclass that sets the values via parameters you pass into it and then calling that constructor from the subclass.</p>\n<p>eG</p>\n<pre><code>public class Piece {\n\n    private final int maxMovementDistance;\n\n    public Piece(int maxMovementDistance) {\n        this.maxMovementDistance = maxMovementDistance;\n    }\n\n    public int getMaxMovementDistance() {\n        return this.maxMovementDistance;\n    }\n}\n\n\n\npublic class King extends Piece {\n\n      public King() {\n           super(1); // will call super constructor with 1 as argument pased\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4035932,"reputation":133,"user_id":3320393,"display_name":"DBalazs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664466128,"creation_date":1664466128,"answer_id":73898273,"question_id":73897545,"body_markdown":"Make the members of the base class protected so that way only the descendants can access and modify the values.","title":"Set parent class attribute in a child class","body":"<p>Make the members of the base class protected so that way only the descendants can access and modify the values.</p>\n"}],"owner":{"account_id":21786825,"reputation":63,"user_id":16087702,"display_name":"unlucky_chap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73897626,"answer_count":2,"score":1,"last_activity_date":1664466128,"creation_date":1664462858,"question_id":73897545,"body_markdown":"I trying to make a chess game and I will have a class for each chess piece but they will all extend class Piece. Piece class has a maxMovementDistance attribute but I would like to set that attribute in the child class (king, queen, pawn etc.) and it should also be final.\r\n\r\nWhat&#39;s the best way to do this?\r\n\r\nOr should I change my implementation?\r\n\r\n    public class Piece {\r\n\r\n    int maxMovementDistance;\r\n    private boolean isWhite = false;\r\n    private boolean isKilled = false;\r\n    private boolean canMoveBack = true;\r\n    private int positionX;\r\n    private int positionY;\r\n    }\r\n\r\n    public class King extends Piece {\r\n\r\n    }","title":"Set parent class attribute in a child class","body":"<p>I trying to make a chess game and I will have a class for each chess piece but they will all extend class Piece. Piece class has a maxMovementDistance attribute but I would like to set that attribute in the child class (king, queen, pawn etc.) and it should also be final.</p>\n<p>What's the best way to do this?</p>\n<p>Or should I change my implementation?</p>\n<pre><code>public class Piece {\n\nint maxMovementDistance;\nprivate boolean isWhite = false;\nprivate boolean isKilled = false;\nprivate boolean canMoveBack = true;\nprivate int positionX;\nprivate int positionY;\n}\n\npublic class King extends Piece {\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","spring-webflux","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664466084,"creation_date":1664466084,"answer_id":73898262,"question_id":73709373,"body_markdown":"I believe that what&#39;s missing from your method signature is an additional Mono wrapping it all. You should perform the necessary logic to transform what you return as well. For example, I have this @BatchMapping:\r\n\r\n    @BatchMapping(typeName = &quot;Artista&quot;)\r\n\tpublic Mono&lt;Map&lt;Artista, List&lt;Obra&gt;&gt;&gt; obras(List&lt;Artista&gt; artistas){\r\n\t\t\r\n\t\tvar artistasIds = artistas.stream()\r\n\t\t\t\t.map(Artista::id)\r\n\t\t\t\t.toList();\r\n\r\n\t\tvar todasLasObras = obtenerObras(artistasIds); // service method\r\n\r\n\t\treturn todasLasObras.collectList()\r\n\t\t\t\t.map(obras -&gt; {\r\n\t\t\t\t\tMap&lt;Long, List&lt;Obra&gt;&gt; obrasDeCadaArtistaId = obras.stream()\r\n\t\t\t\t\t\t\t.collect(Collectors.groupingBy(Obra::artistaId));\r\n\r\n\t\t\t\t\treturn artistas.stream()\r\n\t\t\t\t\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t\t\t\t\t\tunArtista -&gt; unArtista, //K, the Artista\r\n\t\t\t\t\t\t\t\t\tunArtista -&gt; obrasDeCadaArtistaId.get(Long.parseLong(unArtista.id().toString())))); //V, the Obra List\r\n\t\t\t\t});\r\n\t}\r\n\t\r\nYou should replace my Artista for your Customer, and my Obra for your Order. Therefore you will return a Mono&lt;Map&lt;Customer, List&lt;Order&gt;&gt;&gt;\r\n","title":"How to refactor this GraphQL endpoint to use BatchMapping instead of SchemaMapping?","body":"<p>I believe that what's missing from your method signature is an additional Mono wrapping it all. You should perform the necessary logic to transform what you return as well. For example, I have this @BatchMapping:</p>\n<pre><code>@BatchMapping(typeName = &quot;Artista&quot;)\npublic Mono&lt;Map&lt;Artista, List&lt;Obra&gt;&gt;&gt; obras(List&lt;Artista&gt; artistas){\n    \n    var artistasIds = artistas.stream()\n            .map(Artista::id)\n            .toList();\n\n    var todasLasObras = obtenerObras(artistasIds); // service method\n\n    return todasLasObras.collectList()\n            .map(obras -&gt; {\n                Map&lt;Long, List&lt;Obra&gt;&gt; obrasDeCadaArtistaId = obras.stream()\n                        .collect(Collectors.groupingBy(Obra::artistaId));\n\n                return artistas.stream()\n                        .collect(Collectors.toMap(\n                                unArtista -&gt; unArtista, //K, the Artista\n                                unArtista -&gt; obrasDeCadaArtistaId.get(Long.parseLong(unArtista.id().toString())))); //V, the Obra List\n            });\n}\n</code></pre>\n<p>You should replace my Artista for your Customer, and my Obra for your Order. Therefore you will return a Mono&lt;Map&lt;Customer, List&gt;&gt;</p>\n"}],"owner":{"account_id":16480545,"reputation":59,"user_id":11907430,"display_name":"bjaklic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73898262,"answer_count":1,"score":0,"last_activity_date":1664466084,"creation_date":1663104843,"question_id":73709373,"body_markdown":"I am using Spring for GraphQL to create a small microservice project which consists of 2 apps, a customer service and an order service.\r\n\r\nMy ***order service*** app is running on port 8081 and it contains an OrderData model:\r\n\r\n```\r\npublic record OrderData(@Id Integer id, Integer customerId) {}\r\n```\r\n\r\nIt also contains an OrderDataRepository interface:\r\n\r\n```\r\n@Repository\r\npublic interface OrderDataRepository extends ReactiveCrudRepository&lt;OrderData, Integer&gt; {\r\n\r\n    Flux&lt;OrderData&gt; getByCustomerId(Integer customerId);\r\n\r\n}\r\n```\r\n\r\nAnd it exposes a single endpoint\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/orders&quot;)\r\npublic class OrderDataController {\r\n\r\n    private final OrderDataRepository orderDataRepository;\r\n\r\n    public OrderDataController(OrderDataRepository orderDataRepository) {\r\n        this.orderDataRepository = orderDataRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    Flux&lt;OrderData&gt; getByCustomerId(@RequestParam Integer customerId) {\r\n        return orderDataRepository.getByCustomerId(customerId);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy ***customer service*** app defines the following graphql schema:\r\n\r\n```\r\ntype Query {\r\n    customers: [Customer]\r\n    customersByName(name: String): [Customer]\r\n    customerById(id: ID): Customer\r\n}\r\n\r\ntype Mutation {\r\n    addCustomer(name: String): Customer\r\n}\r\n\r\ntype Customer {\r\n    id: ID\r\n    name: String\r\n    orders: [Order]\r\n}\r\n\r\ntype Order {\r\n    id: ID\r\n    customerId: ID\r\n}\r\n```\r\n\r\nAnd it exposes a few graphql endpoints for querying and mutating customer data, one of which is used to fetch customer orders by using a WebClient to call the endpoint exposed by my order service app:\r\n\r\n```\r\n@Controller\r\npublic class CustomerController {\r\n\r\n    private final CustomerRepository customerRepository;\r\n    private final WebClient webClient;\r\n\r\n    public CustomerController(CustomerRepository customerRepository, WebClient.Builder webClientBuilder) {\r\n        this.customerRepository = customerRepository;\r\n        this.webClient = webClientBuilder.baseUrl(&quot;http://localhost:8081&quot;).build();\r\n    }\r\n\r\n    // ...\r\n\r\n    @QueryMapping\r\n    Mono&lt;Customer&gt; customerById(@Argument Integer id) {\r\n        return this.customerRepository.findById(id);\r\n    }\r\n\r\n    @SchemaMapping(typeName = &quot;Customer&quot;)\r\n    Flux&lt;Order&gt; orders(Customer customer) {\r\n        return webClient\r\n                .get()\r\n                .uri(&quot;/api/v1/orders?customerId=&quot; + customer.id())\r\n                .retrieve()\r\n                .bodyToFlux(Order.class);\r\n    }\r\n\r\n}\r\n\r\nrecord Order(Integer id, Integer customerId){}\r\n```\r\n\r\nMy question is how would I refactor this @SchemaMapping endpoint to use @BatchMapping and keep the app nonblocking.\r\n\r\nI tried the following:\r\n\r\n```\r\n    @BatchMapping\r\n    Map&lt;Customer, Flux&lt;Order&gt;&gt; orders(List&lt;Customer&gt; customers) {\r\n        return customers\r\n                .stream()\r\n                .collect(Collectors.toMap(customer -&gt; customer,\r\n                        customer -&gt; webClient\r\n                                .get()\r\n                                .uri(&quot;/api/v1/orders?customerId=&quot; + customer.id())\r\n                                .retrieve()\r\n                                .bodyToFlux(Order.class)));\r\n    }\r\n```\r\n\r\nBut I get this error...\r\n\r\n```Can&#39;t resolve value (/customerById/orders) : type mismatch error, expected type LIST got class reactor.core.publisher.MonoFlatMapMany```\r\n\r\n... because the type of Customer has a orders LIST field and my orders service is returning a Flux&lt;Order&gt;.\r\n\r\nHow can I resolve this problem so I can return a ```Map&lt;Customer, List&lt;Order&gt;&gt;``` from my @BatchMapping endpoint and keep it nonblocking?\r\n\r\nI assume it&#39;s a pretty simple solution but I don&#39;t have a lot of experience with Spring Webflux.\r\n\r\nThanks in advance!","title":"How to refactor this GraphQL endpoint to use BatchMapping instead of SchemaMapping?","body":"<p>I am using Spring for GraphQL to create a small microservice project which consists of 2 apps, a customer service and an order service.</p>\n<p>My <em><strong>order service</strong></em> app is running on port 8081 and it contains an OrderData model:</p>\n<pre><code>public record OrderData(@Id Integer id, Integer customerId) {}\n</code></pre>\n<p>It also contains an OrderDataRepository interface:</p>\n<pre><code>@Repository\npublic interface OrderDataRepository extends ReactiveCrudRepository&lt;OrderData, Integer&gt; {\n\n    Flux&lt;OrderData&gt; getByCustomerId(Integer customerId);\n\n}\n</code></pre>\n<p>And it exposes a single endpoint</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/api/v1/orders&quot;)\npublic class OrderDataController {\n\n    private final OrderDataRepository orderDataRepository;\n\n    public OrderDataController(OrderDataRepository orderDataRepository) {\n        this.orderDataRepository = orderDataRepository;\n    }\n\n    @GetMapping\n    Flux&lt;OrderData&gt; getByCustomerId(@RequestParam Integer customerId) {\n        return orderDataRepository.getByCustomerId(customerId);\n    }\n\n}\n</code></pre>\n<p>My <em><strong>customer service</strong></em> app defines the following graphql schema:</p>\n<pre><code>type Query {\n    customers: [Customer]\n    customersByName(name: String): [Customer]\n    customerById(id: ID): Customer\n}\n\ntype Mutation {\n    addCustomer(name: String): Customer\n}\n\ntype Customer {\n    id: ID\n    name: String\n    orders: [Order]\n}\n\ntype Order {\n    id: ID\n    customerId: ID\n}\n</code></pre>\n<p>And it exposes a few graphql endpoints for querying and mutating customer data, one of which is used to fetch customer orders by using a WebClient to call the endpoint exposed by my order service app:</p>\n<pre><code>@Controller\npublic class CustomerController {\n\n    private final CustomerRepository customerRepository;\n    private final WebClient webClient;\n\n    public CustomerController(CustomerRepository customerRepository, WebClient.Builder webClientBuilder) {\n        this.customerRepository = customerRepository;\n        this.webClient = webClientBuilder.baseUrl(&quot;http://localhost:8081&quot;).build();\n    }\n\n    // ...\n\n    @QueryMapping\n    Mono&lt;Customer&gt; customerById(@Argument Integer id) {\n        return this.customerRepository.findById(id);\n    }\n\n    @SchemaMapping(typeName = &quot;Customer&quot;)\n    Flux&lt;Order&gt; orders(Customer customer) {\n        return webClient\n                .get()\n                .uri(&quot;/api/v1/orders?customerId=&quot; + customer.id())\n                .retrieve()\n                .bodyToFlux(Order.class);\n    }\n\n}\n\nrecord Order(Integer id, Integer customerId){}\n</code></pre>\n<p>My question is how would I refactor this @SchemaMapping endpoint to use @BatchMapping and keep the app nonblocking.</p>\n<p>I tried the following:</p>\n<pre><code>    @BatchMapping\n    Map&lt;Customer, Flux&lt;Order&gt;&gt; orders(List&lt;Customer&gt; customers) {\n        return customers\n                .stream()\n                .collect(Collectors.toMap(customer -&gt; customer,\n                        customer -&gt; webClient\n                                .get()\n                                .uri(&quot;/api/v1/orders?customerId=&quot; + customer.id())\n                                .retrieve()\n                                .bodyToFlux(Order.class)));\n    }\n</code></pre>\n<p>But I get this error...</p>\n<p><code>Can't resolve value (/customerById/orders) : type mismatch error, expected type LIST got class reactor.core.publisher.MonoFlatMapMany</code></p>\n<p>... because the type of Customer has a orders LIST field and my orders service is returning a Flux.</p>\n<p>How can I resolve this problem so I can return a <code>Map&lt;Customer, List&lt;Order&gt;&gt;</code> from my @BatchMapping endpoint and keep it nonblocking?</p>\n<p>I assume it's a pretty simple solution but I don't have a lot of experience with Spring Webflux.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664466022,"creation_date":1664466022,"answer_id":73898247,"question_id":73896780,"body_markdown":"Try this approach. IN my case worked\r\n\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n        \r\n        //Forma data\r\n        MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\r\n        map.add(&quot;resourceServer&quot;, &quot;ml-b2b-internet&quot;);\r\n        map.add(&quot;client_id&quot;, clientId);\r\n        map.add(&quot;client_secret&quot;, clientSecret);\r\n        map.add(&quot;scope&quot;, &quot;APP-284-PRF-77&quot;);\r\n\r\n\r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\r\n\r\n        ResponseEntity&lt;TokenDto&gt; response = restTemplate.postForEntity( tokenUrl, request , TokenDto.class );\r\n\r\n        var resp = response.getBody();","title":"MultiValueMap casuing issue application/x-www-form-urlencoded;charset=UTF-8 not supported","body":"<p>Try this approach. IN my case worked</p>\n<pre><code>    RestTemplate restTemplate = new RestTemplate();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n    \n    //Forma data\n    MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\n    map.add(&quot;resourceServer&quot;, &quot;ml-b2b-internet&quot;);\n    map.add(&quot;client_id&quot;, clientId);\n    map.add(&quot;client_secret&quot;, clientSecret);\n    map.add(&quot;scope&quot;, &quot;APP-284-PRF-77&quot;);\n\n\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\n\n    ResponseEntity&lt;TokenDto&gt; response = restTemplate.postForEntity( tokenUrl, request , TokenDto.class );\n\n    var resp = response.getBody();\n</code></pre>\n"}],"owner":{"account_id":13114587,"reputation":1,"user_id":11891435,"display_name":"W. Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664466022,"creation_date":1664459867,"question_id":73896780,"body_markdown":"I need to do a request to a server. I&#39;m using Spring Boot 2.5 and restTemplate.\r\nThe endpoint consumes the MediaType application/x-www-form-urlencoded, but when request is send returns a error &quot;endpoint only accepts application/x-www-form-urlencoded for POST requests&quot;. In debug I saw that content type send in restTemplate is: application/x-www-form-urlencoded;charset=utf-8.\r\n\r\nCode:\r\n\r\n```\r\n public void getToken(){\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        \r\n        ResponseEntity&lt;TokenResponseDTO&gt; responses = restTemplate\r\n                .postForEntity(url, new HttpEntity&lt;&gt;(getForm(), getHeaders()), TokenResponseDTO.class);\r\n\r\n        log.info(responses.toString());\r\n    }\r\n\r\n    @NotNull\r\n    private MultiValueMap&lt;String, String&gt; getForm() {\r\n        LinkedMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n        map.add(&quot;param1&quot;, &quot;1&quot;);\r\n        map.add(&quot;param2&quot;, &quot;2&quot;);\r\n        map.add(&quot;param3&quot;, &quot;3&quot;);\r\n        return map;\r\n    }\r\n\r\n    public HttpHeaders getHeaders(){\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n        headers.add(&quot;header1&quot;, &quot;aaa&quot;);\r\n        return headers;\r\n    }\r\n```","title":"MultiValueMap casuing issue application/x-www-form-urlencoded;charset=UTF-8 not supported","body":"<p>I need to do a request to a server. I'm using Spring Boot 2.5 and restTemplate.\nThe endpoint consumes the MediaType application/x-www-form-urlencoded, but when request is send returns a error &quot;endpoint only accepts application/x-www-form-urlencoded for POST requests&quot;. In debug I saw that content type send in restTemplate is: application/x-www-form-urlencoded;charset=utf-8.</p>\n<p>Code:</p>\n<pre><code> public void getToken(){\n        RestTemplate restTemplate = new RestTemplate();\n        \n        ResponseEntity&lt;TokenResponseDTO&gt; responses = restTemplate\n                .postForEntity(url, new HttpEntity&lt;&gt;(getForm(), getHeaders()), TokenResponseDTO.class);\n\n        log.info(responses.toString());\n    }\n\n    @NotNull\n    private MultiValueMap&lt;String, String&gt; getForm() {\n        LinkedMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n        map.add(&quot;param1&quot;, &quot;1&quot;);\n        map.add(&quot;param2&quot;, &quot;2&quot;);\n        map.add(&quot;param3&quot;, &quot;3&quot;);\n        return map;\n    }\n\n    public HttpHeaders getHeaders(){\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n        headers.add(&quot;header1&quot;, &quot;aaa&quot;);\n        return headers;\n    }\n</code></pre>\n"},{"tags":["java","arrays","multithreading","sorting","java-threads"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664289841,"post_id":73869456,"comment_id":130434599,"body_markdown":"What exactly is wrong with your code? https://meta.stackoverflow.com/q/334822/995891","body":"What exactly is wrong with your code? <a href=\"https://meta.stackoverflow.com/q/334822/995891\">meta.stackoverflow.com/q/334822/995891</a>"},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1664289931,"post_id":73869456,"comment_id":130434649,"body_markdown":"what is the question?","body":"what is the question?"},{"owner":{"account_id":19443633,"reputation":11,"user_id":14221625,"display_name":"Emin Fikret"},"score":0,"creation_date":1664291051,"post_id":73869456,"comment_id":130435151,"body_markdown":"@zapl I retrieve an unsorted array using the get method. That is my issue. I should have specified it earlier.","body":"@zapl I retrieve an unsorted array using the get method. That is my issue. I should have specified it earlier."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664291652,"post_id":73869456,"comment_id":130435411,"body_markdown":"Ok, where is your code going wrong then? Put some print statements in it and figure out what part isn&#39;t working as expected","body":"Ok, where is your code going wrong then? Put some print statements in it and figure out what part isn&#39;t working as expected"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664375891,"post_id":73869456,"comment_id":130458197,"body_markdown":"You should decide for one policy and use it consistently A) the method is supposed to change the specified array (then, it is not required to return it), or B) the method is supposed to create a new, sorted array and return it (then, the caller must use the return value). In either case, having a field and a parameter of the same name is not helpful.","body":"You should decide for one policy and use it consistently A) the method is supposed to change the specified array (then, it is not required to return it), or B) the method is supposed to create a new, sorted array and return it (then, the caller must use the return value). In either case, having a field and a parameter of the same name is not helpful."},{"owner":{"account_id":19443633,"reputation":11,"user_id":14221625,"display_name":"Emin Fikret"},"score":0,"creation_date":1664464421,"post_id":73869456,"comment_id":130482887,"body_markdown":"Thanks a lot for your comments and for your help. I have actually figured it out. The next time I code, I will first use a pen and paper. @Holger That is exactly what I was doing wrong. It took me some time to realize it.","body":"Thanks a lot for your comments and for your help. I have actually figured it out. The next time I code, I will first use a pen and paper. @Holger That is exactly what I was doing wrong. It took me some time to realize it."}],"owner":{"account_id":19443633,"reputation":11,"user_id":14221625,"display_name":"Emin Fikret"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664465694,"creation_date":1664289540,"question_id":73869456,"body_markdown":"It is my first time posting a question. So please, go easy on me. :D\r\n\r\nI am a student and I currently learning about multithreading.\r\n\r\nMy task is to determine the sorting of an array by dividing the array into two equal halves and\r\nstart a thread for each half, each thread being responsible for sorting the numbers assigned to it.\r\n\r\nThe thread is looking at how many numbers need to be sorted. If this is more than\r\na certain threshold, the thread will create 2 new threads, each sorting one half of the list. When those\r\nthreads are finished, the thread will merge the two (sorted) arrays together again. This creates a &#39;tree&#39;\r\nof active threads.\r\n\r\nThreads that are not going to &#39;outsource&#39; their work sort the arrays again with bubble sort\r\n\r\nThis is my code for the MultiThreading class:\r\n\r\n\r\n    public class MultiThreading implements Runnable {\r\n\r\n        private int[] wholeNumbers;\r\n        private int threshold;\r\n\r\n        public int[] getWholeNumbers() {\r\n            return wholeNumbers;\r\n        }\r\n\r\n        public MultiThreading(int[] wholeNumbers, int threshold) {\r\n            this.wholeNumbers = wholeNumbers;\r\n            this.threshold = threshold;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                sortArray(wholeNumbers, threshold);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n        public int[] sortArray(int[] wholeNumbers, int threshold) throws InterruptedException {\r\n            if (wholeNumbers.length &lt; threshold) {\r\n                Sort.bubbleSort(wholeNumbers);\r\n            } else {\r\n                int[] left = Arrays.copyOfRange(wholeNumbers, 0, wholeNumbers.length / 2);\r\n                int[] right =  Arrays.copyOfRange(wholeNumbers, wholeNumbers.length / 2, wholeNumbers.length);\r\n\r\n                Thread leftThread = new Thread(new MultiThreading(left, threshold));\r\n                Thread rightThread = new Thread(new MultiThreading(right, threshold));\r\n\r\n                leftThread.start();\r\n                rightThread.start();\r\n\r\n                leftThread.join();\r\n                rightThread.join();\r\n\r\n                wholeNumbers = Sort.merge(left,right);\r\n            }\r\n\r\n            return wholeNumbers;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nThis is how I initialize the class (here I try to change an already defined wholeNumbers array):\r\n\r\n\r\n\r\n                        MultiThreading multiThreading = new MultiThreading(wholeNumbers, threshold);\r\n                        Thread thread = new Thread(multiThreading);\r\n                        thread.start();\r\n                        thread.join();\r\n\r\n                        wholeNumbers = multiThreading.getWholeNumbers();\r\n\r\n\r\nI have been provided with the sorting and merging method, so they work just fine.\r\n\r\nMy problem is that it does not return the sorted array. I am not sure how to fix that.\r\n\r\nIt would be great if I receive some guidance. Thanks in advance.\r\n\r\n\r\n-----\r\n\r\n**SOLUTION**\r\n\r\nIt turned out that the values in the merge method are not the correct ones that I should have used. \r\n\r\nTo fix this problem, I initialized the MultiThreading class two times, added them to the Threads, and used a get method in the merging function.\r\nBy doing that I ensure that the merging method receives the bubble-sorted whole numbers.\r\n\r\nHere is my new Multithreading class:\r\n\r\n\r\n\r\n    public class MultiThreading implements Runnable {\r\n        private int[] wholeNumbers;\r\n        private int threshold;\r\n\r\n        public int[] getWholeNumbers() {\r\n            return wholeNumbers;\r\n        }\r\n\r\n        public void setWholeNumbers(int[] wholeNumbers) {\r\n            this.wholeNumbers = wholeNumbers;\r\n        }\r\n\r\n        public MultiThreading(int[] wholeNumbers, int threshold) {\r\n            this.wholeNumbers = wholeNumbers;\r\n            this.threshold = threshold;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            if (wholeNumbers.length &gt; threshold) {\r\n                int[] left = Arrays.copyOfRange(wholeNumbers, 0, wholeNumbers.length / 2);\r\n                int[] right = Arrays.copyOfRange(wholeNumbers, wholeNumbers.length / 2, wholeNumbers.length);\r\n\r\n                MultiThreading leftM = new MultiThreading(left, threshold);\r\n                MultiThreading rightM = new MultiThreading(right, threshold);\r\n\r\n                Thread leftThread = new Thread(leftM);\r\n                Thread rightThread = new Thread(rightM);\r\n\r\n                leftThread.start();\r\n                rightThread.start();\r\n\r\n                try {\r\n                    leftThread.join();\r\n                    rightThread.join();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n\r\n                setWholeNumbers(Sort.merge(leftM.getWholeNumbers(), rightM.getWholeNumbers()));\r\n            }\r\n            else {\r\n                Sort.bubbleSort(wholeNumbers);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nHere is my code in the main class:\r\n\r\n\r\n    MultiThreading multiThreading = new MultiThreading(wholeNumbers, threshold);\r\n                        Thread thread = new Thread(multiThreading);\r\n                        thread.start();\r\n                        thread.join();\r\n                        wholeNumbers = multiThreading.getWholeNumbers();\r\n\r\n\r\n\r\nI should learn to use a pen and paper, understand the logic and then code.\r\n\r\nThanks for the comments.","title":"Using Multithreading with Threshold to Sort an Array","body":"<p>It is my first time posting a question. So please, go easy on me. :D</p>\n<p>I am a student and I currently learning about multithreading.</p>\n<p>My task is to determine the sorting of an array by dividing the array into two equal halves and\nstart a thread for each half, each thread being responsible for sorting the numbers assigned to it.</p>\n<p>The thread is looking at how many numbers need to be sorted. If this is more than\na certain threshold, the thread will create 2 new threads, each sorting one half of the list. When those\nthreads are finished, the thread will merge the two (sorted) arrays together again. This creates a 'tree'\nof active threads.</p>\n<p>Threads that are not going to 'outsource' their work sort the arrays again with bubble sort</p>\n<p>This is my code for the MultiThreading class:</p>\n<pre><code>public class MultiThreading implements Runnable {\n\n    private int[] wholeNumbers;\n    private int threshold;\n\n    public int[] getWholeNumbers() {\n        return wholeNumbers;\n    }\n\n    public MultiThreading(int[] wholeNumbers, int threshold) {\n        this.wholeNumbers = wholeNumbers;\n        this.threshold = threshold;\n    }\n\n    @Override\n    public void run() {\n        try {\n            sortArray(wholeNumbers, threshold);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public int[] sortArray(int[] wholeNumbers, int threshold) throws InterruptedException {\n        if (wholeNumbers.length &lt; threshold) {\n            Sort.bubbleSort(wholeNumbers);\n        } else {\n            int[] left = Arrays.copyOfRange(wholeNumbers, 0, wholeNumbers.length / 2);\n            int[] right =  Arrays.copyOfRange(wholeNumbers, wholeNumbers.length / 2, wholeNumbers.length);\n\n            Thread leftThread = new Thread(new MultiThreading(left, threshold));\n            Thread rightThread = new Thread(new MultiThreading(right, threshold));\n\n            leftThread.start();\n            rightThread.start();\n\n            leftThread.join();\n            rightThread.join();\n\n            wholeNumbers = Sort.merge(left,right);\n        }\n\n        return wholeNumbers;\n    }\n}\n</code></pre>\n<p>This is how I initialize the class (here I try to change an already defined wholeNumbers array):</p>\n<pre><code>                    MultiThreading multiThreading = new MultiThreading(wholeNumbers, threshold);\n                    Thread thread = new Thread(multiThreading);\n                    thread.start();\n                    thread.join();\n\n                    wholeNumbers = multiThreading.getWholeNumbers();\n</code></pre>\n<p>I have been provided with the sorting and merging method, so they work just fine.</p>\n<p>My problem is that it does not return the sorted array. I am not sure how to fix that.</p>\n<p>It would be great if I receive some guidance. Thanks in advance.</p>\n<hr />\n<p><strong>SOLUTION</strong></p>\n<p>It turned out that the values in the merge method are not the correct ones that I should have used.</p>\n<p>To fix this problem, I initialized the MultiThreading class two times, added them to the Threads, and used a get method in the merging function.\nBy doing that I ensure that the merging method receives the bubble-sorted whole numbers.</p>\n<p>Here is my new Multithreading class:</p>\n<pre><code>public class MultiThreading implements Runnable {\n    private int[] wholeNumbers;\n    private int threshold;\n\n    public int[] getWholeNumbers() {\n        return wholeNumbers;\n    }\n\n    public void setWholeNumbers(int[] wholeNumbers) {\n        this.wholeNumbers = wholeNumbers;\n    }\n\n    public MultiThreading(int[] wholeNumbers, int threshold) {\n        this.wholeNumbers = wholeNumbers;\n        this.threshold = threshold;\n    }\n\n    @Override\n    public void run() {\n        if (wholeNumbers.length &gt; threshold) {\n            int[] left = Arrays.copyOfRange(wholeNumbers, 0, wholeNumbers.length / 2);\n            int[] right = Arrays.copyOfRange(wholeNumbers, wholeNumbers.length / 2, wholeNumbers.length);\n\n            MultiThreading leftM = new MultiThreading(left, threshold);\n            MultiThreading rightM = new MultiThreading(right, threshold);\n\n            Thread leftThread = new Thread(leftM);\n            Thread rightThread = new Thread(rightM);\n\n            leftThread.start();\n            rightThread.start();\n\n            try {\n                leftThread.join();\n                rightThread.join();\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            setWholeNumbers(Sort.merge(leftM.getWholeNumbers(), rightM.getWholeNumbers()));\n        }\n        else {\n            Sort.bubbleSort(wholeNumbers);\n        }\n    }\n}\n</code></pre>\n<p>Here is my code in the main class:</p>\n<pre><code>MultiThreading multiThreading = new MultiThreading(wholeNumbers, threshold);\n                    Thread thread = new Thread(multiThreading);\n                    thread.start();\n                    thread.join();\n                    wholeNumbers = multiThreading.getWholeNumbers();\n</code></pre>\n<p>I should learn to use a pen and paper, understand the logic and then code.</p>\n<p>Thanks for the comments.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8993,"page":999,"page_size":100}
