{"items":[{"tags":["java","multithreading","concurrency","java.util.concurrent"],"answers":[{"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1667949043,"post_id":74367459,"comment_id":131289368,"body_markdown":"Does this use an executor?","body":"Does this use an executor?"},{"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"score":0,"creation_date":1667949368,"post_id":74367459,"comment_id":131289436,"body_markdown":"@Jim No, the advantage of using parallel streams is that you don&#39;t have to explicitly operate on threads.","body":"@Jim No, the advantage of using parallel streams is that you don&#39;t have to explicitly operate on threads."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1667949634,"post_id":74367459,"comment_id":131289488,"body_markdown":"So is it a thread per sublist? Or a thread processes more than one sublist?","body":"So is it a thread per sublist? Or a thread processes more than one sublist?"},{"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"score":0,"creation_date":1667950103,"post_id":74367459,"comment_id":131289572,"body_markdown":"A thread poll that has the default size of the number of your cores minus one. Additional details can be found [here](https://stackoverflow.com/questions/30802463/how-many-threads-are-spawned-in-parallelstream-in-java-8). So one thread can process more than one sublist, but that seems good, as creating more threads than you have cores won&#39;t help performance.","body":"A thread poll that has the default size of the number of your cores minus one. Additional details can be found <a href=\"https://stackoverflow.com/questions/30802463/how-many-threads-are-spawned-in-parallelstream-in-java-8\">here</a>. So one thread can process more than one sublist, but that seems good, as creating more threads than you have cores won&#39;t help performance."}],"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667943686,"creation_date":1667943686,"answer_id":74367459,"question_id":74344203,"body_markdown":"Let&#39;s say you have split a list of values into `List&lt;ListInteger&gt;&gt; sublists`. Then an easy option to process the sublists concurrently is to use [paraller streams](https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#executing_streams_in_parallel):\r\n```java\r\nsublists.parallelStream()\r\n    .forEach(this::handle);\r\n```\r\nOf course, you have to remember to synchronize all shared resources utilized by `handle()`.\r\n\r\nIf the case is simpler and a result of processing is simply returned by `handle()`:\r\n```java\r\nsublists.parallelStream()\r\n    .map(this::handle)\r\n    .collect(Collectors.toList());\r\n``` \r\nwill process the sublists in parallel and create a list with the results.","title":"Concurrency constructs for processing shared list and posting results","body":"<p>Let's say you have split a list of values into <code>List&lt;ListInteger&gt;&gt; sublists</code>. Then an easy option to process the sublists concurrently is to use <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#executing_streams_in_parallel\" rel=\"nofollow noreferrer\">paraller streams</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sublists.parallelStream()\n    .forEach(this::handle);\n</code></pre>\n<p>Of course, you have to remember to synchronize all shared resources utilized by <code>handle()</code>.</p>\n<p>If the case is simpler and a result of processing is simply returned by <code>handle()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sublists.parallelStream()\n    .map(this::handle)\n    .collect(Collectors.toList());\n</code></pre>\n<p>will process the sublists in parallel and create a list with the results.</p>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667943686,"creation_date":1667812393,"question_id":74344203,"body_markdown":"There is a class as follows:  \r\n\r\n    class Foo {\r\n      private int len;\r\n      public Foo(int l) { this.N = N; }\r\n      public void process(List&lt;Bar&gt; list) {\r\n        int start = 0;\r\n        while(start &lt; list.size()) {\r\n            N = N &lt; list.size()? N : list.size();\r\n            List&lt;Integer&gt; sublist = list.subList(start, N);\r\n            process(sublist);\r\n            start = N;\r\n            N += len;\r\n        }\r\n      \r\n      }\r\n      \r\n      private void handle(List&lt;Bar&gt; sublist) {\r\n        // time consuming code here\r\n      }\r\n    }\r\n\r\nI would like to parallelise this code because the `handle` method is time consuming.  \r\nI was thinking that an approach could be:  \r\n\r\n    Split the list in lists of size len \r\n    Pass each sublist to an Executor via a Runnable submission per sublist\r\n    Have a shared list for storing the results of handle\r\n    Make current thread wait till Executor finishes. \r\n\r\nIs there some other constructs that are more suitable for this use case?","title":"Concurrency constructs for processing shared list and posting results","body":"<p>There is a class as follows:</p>\n<pre><code>class Foo {\n  private int len;\n  public Foo(int l) { this.N = N; }\n  public void process(List&lt;Bar&gt; list) {\n    int start = 0;\n    while(start &lt; list.size()) {\n        N = N &lt; list.size()? N : list.size();\n        List&lt;Integer&gt; sublist = list.subList(start, N);\n        process(sublist);\n        start = N;\n        N += len;\n    }\n  \n  }\n  \n  private void handle(List&lt;Bar&gt; sublist) {\n    // time consuming code here\n  }\n}\n</code></pre>\n<p>I would like to parallelise this code because the <code>handle</code> method is time consuming.<br />\nI was thinking that an approach could be:</p>\n<pre><code>Split the list in lists of size len \nPass each sublist to an Executor via a Runnable submission per sublist\nHave a shared list for storing the results of handle\nMake current thread wait till Executor finishes. \n</code></pre>\n<p>Is there some other constructs that are more suitable for this use case?</p>\n"},{"tags":["java","eclipse","java-ee-5"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1667546248,"post_id":74309837,"comment_id":131196087,"body_markdown":"_File &gt; Open Projects from File System..._ is the recommended way to import projects. The project structure looks weird. Is `.settings` a file or folder (if it&#39;s a folder, is the folder empty)? What&#39;s the content of `project/.project` (an Eclipse project would have a `.project` in the root folder, not in a subfolder, and a Java project would also have a `.classpath` file which seems missing here too).","body":"<i>File &gt; Open Projects from File System...</i> is the recommended way to import projects. The project structure looks weird. Is <code>.settings</code> a file or folder (if it&#39;s a folder, is the folder empty)? What&#39;s the content of <code>project&#47;.project</code> (an Eclipse project would have a <code>.project</code> in the root folder, not in a subfolder, and a Java project would also have a <code>.classpath</code> file which seems missing here too)."},{"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"score":0,"creation_date":1667565718,"post_id":74309837,"comment_id":131202311,"body_markdown":"@howlger I have modified my question with .settings folder and .project contents available in repo when I import it. Also, when I import the project in my local it adds .project and .classpath in root.  When I get latest code from repo and On using File &gt; Open Projects from File System, it just imports src folder and build.xml and the jars. The web folder is not imported at all. Can I add them manually in Java Build Path or add Deployment Assembly","body":"@howlger I have modified my question with .settings folder and .project contents available in repo when I import it. Also, when I import the project in my local it adds .project and .classpath in root.  When I get latest code from repo and On using File &gt; Open Projects from File System, it just imports src folder and build.xml and the jars. The web folder is not imported at all. Can I add them manually in Java Build Path or add Deployment Assembly"}],"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667942384,"creation_date":1667511667,"question_id":74309837,"body_markdown":"How do I import an existing project in eclipse (latest). I have downloaded a project from git repo. It is a legacy Java web application. Project directory structure:\r\n\r\n    Myapp\r\n      -.settings\r\n           .jsdtscope (added in my local)\r\n           org.eclipse.jdt.core.prefs (added in my local)\r\n           org.eclipse.wst.common.component (added in my local)\r\n           org.eclipse.wst.common.project.facet.core.xml (added in my local)\r\n           org.eclipse.wst.jsdt.ui.superType.container (modified in local from repo contents)\r\n           org.eclipse.wst.jsdt.ui.superType.container(modified in local from repo)\r\n      -project\r\n          settings\r\n          .project (It is xml file with &lt;projectDescription&gt; &lt;buildSpec&gt;....)\r\n      -src\r\n         com.abc.xyz\r\n             core\r\n             model\r\n             service\r\n             util\r\n      -testsrc\r\n      -web\r\n         html\r\n         js\r\n         jsp\r\n         images\r\n         WEB-INF\r\n              classes\r\n              application.xml\r\n              applicationContext.xml\r\n              web.xml\r\n      -build.xml\r\n\r\nI tried to import the project in Eclipse in various ways, and it&#39;s always imported incorrectly. For example, when import as:\r\n\r\n1. Existing Project into workspace\r\n2. File System    \r\n  For option 1 and 2 there is one src folder containing all the packages and code as expected, except core\r\n\r\n      src\r\n         com.abc.xyz\r\n             model\r\n             service\r\n             util\r\n    But, then there is another package created with src.com.abc.xyz.core (no idea why this is happening) due to which jsp pages are not able to find java classes in core\r\n\r\n3. Projects from folder or archive - issue is web folder is not imported at all.\r\n\r\nPlease let me know is there any way to import this manually and run this on tomcat using Eclipse\r\n\r\n","title":"Import existing project in Eclipse","body":"<p>How do I import an existing project in eclipse (latest). I have downloaded a project from git repo. It is a legacy Java web application. Project directory structure:</p>\n<pre><code>Myapp\n  -.settings\n       .jsdtscope (added in my local)\n       org.eclipse.jdt.core.prefs (added in my local)\n       org.eclipse.wst.common.component (added in my local)\n       org.eclipse.wst.common.project.facet.core.xml (added in my local)\n       org.eclipse.wst.jsdt.ui.superType.container (modified in local from repo contents)\n       org.eclipse.wst.jsdt.ui.superType.container(modified in local from repo)\n  -project\n      settings\n      .project (It is xml file with &lt;projectDescription&gt; &lt;buildSpec&gt;....)\n  -src\n     com.abc.xyz\n         core\n         model\n         service\n         util\n  -testsrc\n  -web\n     html\n     js\n     jsp\n     images\n     WEB-INF\n          classes\n          application.xml\n          applicationContext.xml\n          web.xml\n  -build.xml\n</code></pre>\n<p>I tried to import the project in Eclipse in various ways, and it's always imported incorrectly. For example, when import as:</p>\n<ol>\n<li><p>Existing Project into workspace</p>\n</li>\n<li><p>File System<br />\nFor option 1 and 2 there is one src folder containing all the packages and code as expected, except core</p>\n<p>src\ncom.abc.xyz\nmodel\nservice\nutil\nBut, then there is another package created with src.com.abc.xyz.core (no idea why this is happening) due to which jsp pages are not able to find java classes in core</p>\n</li>\n<li><p>Projects from folder or archive - issue is web folder is not imported at all.</p>\n</li>\n</ol>\n<p>Please let me know is there any way to import this manually and run this on tomcat using Eclipse</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":8335206,"reputation":710,"user_id":6262375,"accept_rate":50,"display_name":"Walid"},"score":0,"creation_date":1667935490,"post_id":74366100,"comment_id":131285652,"body_markdown":"you need to get the fragment instance first, then you can access to its views","body":"you need to get the fragment instance first, then you can access to its views"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":2,"creation_date":1667938307,"post_id":74366100,"comment_id":131286508,"body_markdown":"@Walid Please, don&#39;t give someone horrible advice. Generally, you should never access views of a fragment from activity.","body":"@Walid Please, don&#39;t give someone horrible advice. Generally, you should never access views of a fragment from activity."},{"owner":{"account_id":8335206,"reputation":710,"user_id":6262375,"accept_rate":50,"display_name":"Walid"},"score":0,"creation_date":1668169358,"post_id":74366100,"comment_id":131346309,"body_markdown":"I know, I just pointed out why it&#39;s not working. It&#39;s more a hint than an answer or an advice. and that&#39;s why I posted it as comment and not as an answer.","body":"I know, I just pointed out why it&#39;s not working. It&#39;s more a hint than an answer or an advice. and that&#39;s why I posted it as comment and not as an answer."}],"answers":[{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667942379,"creation_date":1667942379,"answer_id":74367297,"question_id":74366100,"body_markdown":"I think the problem is that your are trying to access the button instance that is contained inside the Fragmen xml from your Activity xml.\r\n\r\nTo fix this, you should go to your `FragmentBasic` and after `onCreateView` is finished (inside `onViewcreated`) find the button and do the action you need.\r\n\r\nTo communicate between a fragment and an activity you can use a shared viewmodel\r\n\r\nPlease see \r\n\r\n&gt; https://developer.android.com/guide/fragments/communicate","title":"findViewById doesn&#39;t see button in fragment","body":"<p>I think the problem is that your are trying to access the button instance that is contained inside the Fragmen xml from your Activity xml.</p>\n<p>To fix this, you should go to your <code>FragmentBasic</code> and after <code>onCreateView</code> is finished (inside <code>onViewcreated</code>) find the button and do the action you need.</p>\n<p>To communicate between a fragment and an activity you can use a shared viewmodel</p>\n<p>Please see</p>\n<blockquote>\n<p><a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate</a></p>\n</blockquote>\n"}],"owner":{"account_id":26870878,"reputation":1,"user_id":20452917,"display_name":"Ixeriko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667942379,"creation_date":1667935197,"question_id":74366100,"body_markdown":"I have a TabLayout Activity that contains 3 fragments, each of which has buttons.\r\nI&#39;m trying to get a button from one of the fragments in this Activity, but I&#39;m getting the error Attempt to invoke virtual method &#39;void android.widget.Button.setText(java.lang.CharSequence)&#39; on a null object reference.\r\nHow can I get a button from a TabLayout fragment and assign it to change Activity when clicked?\r\n\r\n\r\n\r\n\r\n\r\nMy TabLayout class:\r\n\r\n\r\n```\r\npublic class SecondPage extends AppCompatActivity {\r\n\r\n    TabLayout tl;\r\n    ViewPager2 vp2;\r\n    PagerAdapter pa;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_second_page);\r\n\r\n        tl = findViewById(R.id.tab_layout_spage);\r\n        vp2 = findViewById(R.id.view_pager_spage);\r\n        pa = new PagerAdapter(this);\r\n        vp2.setAdapter(pa);\r\n        //there I try to get Button via Button b = findViewById(R.id.fbtn); and get an error\r\n        //fbtn is in the fragment Basic\r\n\r\n\r\n        tl.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                vp2.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nMy Fragment class:\r\n\r\n\r\n```\r\npublic class Basic extends Fragment {\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_basic, container, false);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"findViewById doesn&#39;t see button in fragment","body":"<p>I have a TabLayout Activity that contains 3 fragments, each of which has buttons.\nI'm trying to get a button from one of the fragments in this Activity, but I'm getting the error Attempt to invoke virtual method 'void android.widget.Button.setText(java.lang.CharSequence)' on a null object reference.\nHow can I get a button from a TabLayout fragment and assign it to change Activity when clicked?</p>\n<p>My TabLayout class:</p>\n<pre><code>public class SecondPage extends AppCompatActivity {\n\n    TabLayout tl;\n    ViewPager2 vp2;\n    PagerAdapter pa;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_second_page);\n\n        tl = findViewById(R.id.tab_layout_spage);\n        vp2 = findViewById(R.id.view_pager_spage);\n        pa = new PagerAdapter(this);\n        vp2.setAdapter(pa);\n        //there I try to get Button via Button b = findViewById(R.id.fbtn); and get an error\n        //fbtn is in the fragment Basic\n\n\n        tl.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                vp2.setCurrentItem(tab.getPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>My Fragment class:</p>\n<pre><code>public class Basic extends Fragment {\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_basic, container, false);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667917287,"post_id":74361526,"comment_id":131278635,"body_markdown":"What is your intention? Building up a Keycloak server within a Spring Boot 2 Application or using OAuth2 to secure requests to your Spring Boot 2 Application? For the former look [here](https://www.baeldung.com/spring-security-oauth-resource-server) and for the latter look [there](https://www.baeldung.com/spring-boot-keycloak).","body":"What is your intention? Building up a Keycloak server within a Spring Boot 2 Application or using OAuth2 to secure requests to your Spring Boot 2 Application? For the former look <a href=\"https://www.baeldung.com/spring-security-oauth-resource-server\" rel=\"nofollow noreferrer\">here</a> and for the latter look <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\">there</a>."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667942202,"creation_date":1667940457,"answer_id":74366991,"question_id":74361526,"body_markdown":"First, if your authorization-server produces JWTs (Keycloak does), you&#39;d probably better use JWT decoder than token introspection. This is much more efficient: all JWTs are validated with a public key downloaded only once when introspection requires resource-server (Spring REST API) to submit each and every access-token to authorization-server (Keycloak).\r\n\r\nSecond, double check the `spring-security-oauth2-resource-server` version in your dependency tree: `SpringOpaqueTokenIntrospector` is there from **5.6** only.\r\n\r\nThird, I contributed an easier way to map authorities for token introspection in version **5.8**: provide an authentication converter (handle the introspection result) instead of overloading the all introspector:\r\n```java\r\nhttp.oauth2ResourceServer().opaqueToken().authenticationConverter(authenticationConverter);\r\n```\r\nwhere `authenticationConverter` can be implemented as:\r\n```java\r\n(String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; new BearerTokenAuthentication(\r\n            authenticatedPrincipal,\r\n            new OAuth2AccessToken(\r\n                    OAuth2AccessToken.TokenType.BEARER,\r\n                    introspectedToken,\r\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.IAT),\r\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.EXP)),\r\n            authoritiesConverter.convert(authenticatedPrincipal.getAttributes()));\r\n```\r\nand `authoritiesConverter` is a `Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt;` (maps authorities from Keycloak introspection JSON response, which you should have already implemented)\r\n\r\nLast, you might find useful tips for configuring your resource-server in [this tutorials][1]: it could be as simple as \r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t\t&lt;!-- change &quot;webmvc&quot; with &quot;webflux&quot; for reactive apps --&gt;\r\n\t\t\t&lt;!-- change &quot;jwt&quot; with &quot;introspecting&quot; for access-token introspection instead of JWT decoding --&gt;\r\n\t\t\t&lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;!-- 6.0.4 goes with spring-boot 3.0.0-RC1, use 5.x with boot 2.6.x and below --&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n```java\r\n@EnableMethodSecurity\r\n@Configuration\r\npublic class SecurityConfig { }\r\n```\r\n```properties\r\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\r\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\r\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\r\n\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\n\r\n# shoud be configured with a list of private-claims this authorization-server puts user roles into\r\n# below is default Keycloak conf for a `spring-addons` client with client roles mapper enabled\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\r\n\r\n# Fine-grained CORS configuration can be set per path as follow:\r\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\r\n\r\n# More useful resource-server security conf from preperties, use IDE auto-completion\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"SpringOpaqueTokenIntrospector Class Not Found","body":"<p>First, if your authorization-server produces JWTs (Keycloak does), you'd probably better use JWT decoder than token introspection. This is much more efficient: all JWTs are validated with a public key downloaded only once when introspection requires resource-server (Spring REST API) to submit each and every access-token to authorization-server (Keycloak).</p>\n<p>Second, double check the <code>spring-security-oauth2-resource-server</code> version in your dependency tree: <code>SpringOpaqueTokenIntrospector</code> is there from <strong>5.6</strong> only.</p>\n<p>Third, I contributed an easier way to map authorities for token introspection in version <strong>5.8</strong>: provide an authentication converter (handle the introspection result) instead of overloading the all introspector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.oauth2ResourceServer().opaqueToken().authenticationConverter(authenticationConverter);\n</code></pre>\n<p>where <code>authenticationConverter</code> can be implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; new BearerTokenAuthentication(\n            authenticatedPrincipal,\n            new OAuth2AccessToken(\n                    OAuth2AccessToken.TokenType.BEARER,\n                    introspectedToken,\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.IAT),\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.EXP)),\n            authoritiesConverter.convert(authenticatedPrincipal.getAttributes()));\n</code></pre>\n<p>and <code>authoritiesConverter</code> is a <code>Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt;</code> (maps authorities from Keycloak introspection JSON response, which you should have already implemented)</p>\n<p>Last, you might find useful tips for configuring your resource-server in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">this tutorials</a>: it could be as simple as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n            &lt;!-- change &quot;webmvc&quot; with &quot;webflux&quot; for reactive apps --&gt;\n            &lt;!-- change &quot;jwt&quot; with &quot;introspecting&quot; for access-token introspection instead of JWT decoding --&gt;\n            &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n            &lt;!-- 6.0.4 goes with spring-boot 3.0.0-RC1, use 5.x with boot 2.6.x and below --&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableMethodSecurity\n@Configuration\npublic class SecurityConfig { }\n</code></pre>\n<pre><code>spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\n\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\n\n# shoud be configured with a list of private-claims this authorization-server puts user roles into\n# below is default Keycloak conf for a `spring-addons` client with client roles mapper enabled\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\n\n# Fine-grained CORS configuration can be set per path as follow:\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\n\n# More useful resource-server security conf from preperties, use IDE auto-completion\n</code></pre>\n"}],"owner":{"account_id":18106034,"reputation":61,"user_id":13163365,"display_name":"Random Guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74366991,"answer_count":1,"score":1,"last_activity_date":1667942202,"creation_date":1667914050,"question_id":74361526,"body_markdown":"I&#39;ve been facing some issues while running `Spring Boot 2.7.0` and `spring-boot-starter-oauth2-resource-server`. My goal is to use Keycloak to check tokens from http requests. But since I&#39;ve added `spring-boot-starter-oauth2-resource-server` to my application it fails to start because of exception:\r\n```log\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.test.TestApplication.main(TestApplication.java:14)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\t... 23 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/introspection/SpringOpaqueTokenIntrospector\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 29 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nDependencies of project:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDo you have any idea what is wrong with this setup? Thanks in advance","title":"SpringOpaqueTokenIntrospector Class Not Found","body":"<p>I've been facing some issues while running <code>Spring Boot 2.7.0</code> and <code>spring-boot-starter-oauth2-resource-server</code>. My goal is to use Keycloak to check tokens from http requests. But since I've added <code>spring-boot-starter-oauth2-resource-server</code> to my application it fails to start because of exception:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.test.TestApplication.main(TestApplication.java:14)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    ... 23 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/introspection/SpringOpaqueTokenIntrospector\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 25 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 29 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>Dependencies of project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Do you have any idea what is wrong with this setup? Thanks in advance</p>\n"},{"tags":["python","java","c++","algorithm","sorting"],"comments":[{"owner":{"account_id":1605058,"reputation":3401,"user_id":1485311,"accept_rate":100,"display_name":"ChatterOne"},"score":0,"creation_date":1524342421,"post_id":49958256,"comment_id":86936237,"body_markdown":"Probably (just guessing) because you can apply it not just to numbers, but to any type that you decide has a finite set of items that you know how to sort in advance. Having this kind of generalization makes it cumbersome compared to writing your own implementation.","body":"Probably (just guessing) because you can apply it not just to numbers, but to any type that you decide has a finite set of items that you know how to sort in advance. Having this kind of generalization makes it cumbersome compared to writing your own implementation."}],"answers":[{"tags":[],"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524368923,"creation_date":1524342459,"answer_id":49959952,"question_id":49958256,"body_markdown":"Java has a static method `Arrays.sort` that could in principle be implemented as a radix sort for the overloads that accept integer types (https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#sort(int[])). They chose to implement with quicksort. There&#39;s no justification given, but I imagine 1. Radix sort requires additional memory, where quicksort doesn&#39;t 2. The difference between n log n and n is blunted by the fact that quicksort has good cache locality, where radix sort, less so.","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<p>Java has a static method <code>Arrays.sort</code> that could in principle be implemented as a radix sort for the overloads that accept integer types (<a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#sort(int[])\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#sort(int[])</a>). They chose to implement with quicksort. There's no justification given, but I imagine 1. Radix sort requires additional memory, where quicksort doesn't 2. The difference between n log n and n is blunted by the fact that quicksort has good cache locality, where radix sort, less so.</p>\n"},{"tags":[],"owner":{"account_id":21021210,"reputation":1,"user_id":15447519,"display_name":"sarnath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616362494,"creation_date":1616362494,"answer_id":66737806,"question_id":49958256,"body_markdown":"Definitely an omission. JgrahT has an implementation, but only for Integer arays. If you want to sort an array of objects from any user-defined class, you will need to go through the key one bit at a time. Thus the class will have to provide a method like getIthKeyBit(). Surprised that this was ignored. ","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<p>Definitely an omission. JgrahT has an implementation, but only for Integer arays. If you want to sort an array of objects from any user-defined class, you will need to go through the key one bit at a time. Thus the class will have to provide a method like getIthKeyBit(). Surprised that this was ignored.</p>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667535044,"creation_date":1667151081,"answer_id":74255267,"question_id":49958256,"body_markdown":"Java\r\n====\r\n\r\nArrays.sort(byte[]), Arrays.sort(short[]) and Arrays.sort(char[])\r\n-----------------------------------------------------------------\r\n\r\nAt least starting from Java 7 are implemented using an in-place [counting sort][counting-sort-wiki] with **O(n) time** and **O(1) space** complexities:\r\n```java\r\nstatic void sort(short[] a, int low, int high) {\r\n  if (high - low &gt; MIN_SHORT_OR_CHAR_COUNTING_SORT_SIZE) {\r\n    countingSort(a, low, high);\r\n  } else {\r\n    sort(a, 0, low, high);\r\n  }\r\n}\r\n\r\nprivate static void countingSort(short[] a, int low, int high) {\r\n  int[] count = new int[NUM_SHORT_VALUES];\r\n\r\n  /*\r\n   * Compute a histogram with the number of each values.\r\n   */\r\n  for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\r\n\r\n  /*\r\n   * Place values on their final positions.\r\n   */\r\n  if (high - low &gt; NUM_SHORT_VALUES) {\r\n    for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\r\n      int value = i &amp; 0xFFFF;\r\n\r\n      for (low = high - count[value]; high &gt; low;\r\n           a[--high] = (short) value\r\n      );\r\n    }\r\n  } else {\r\n    for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\r\n      while (count[--i &amp; 0xFFFF] == 0);\r\n\r\n      int value = i &amp; 0xFFFF;\r\n      int c = count[value];\r\n\r\n      do {\r\n        a[--high] = (short) value;\r\n      } while (--c &gt; 0);\r\n    }\r\n  }\r\n}\r\n```\r\n[Counting sort implementation][counting-sort-jdk]\r\n\r\nArrays.sort(int[]), Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])\r\n-----------------------------------------------------------------\r\n\r\nThere is a ticket [JDK-8266431][radix-sort-jdk-ticket] and a related pull request https://github.com/openjdk/jdk/pull/3938 that intend to switch to radix sort for large arrays.\r\n\r\nEfficiency of radix sort\r\n====\r\n\r\n[Radix sort][radix-sort-wiki] is faster than quicksort or any other comparison-based sorting algorithms both in theory and in practice. There are multiple benchmarks that demonstrate this:\r\n\r\n[![Radix sort is three times faster than quicksort in Java][radix-sort-faster-than-quicksort-java]][radix-sort-faster-than-quicksort-java]\r\n[![Radix sort is 4-6 times faster than quicksort in C++][radix-sort-faster-than-quicksort-cpp]][radix-sort-faster-than-quicksort-cpp]\r\n\r\nhttps://erik.gorset.no/2011/04/radix-sort-is-faster-than-quicksort.html\r\nhttps://probablydance.com/2016/12/02/investigating-radix-sort/\r\n\r\n\r\n  [radix-sort-wiki]: https://en.wikipedia.org/wiki/Radix_sort\r\n  [counting-sort-wiki]: https://en.wikipedia.org/wiki/Counting_sort\r\n  [counting-sort-jdk]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348\r\n  [radix-sort-faster-than-quicksort-java]: https://i.stack.imgur.com/Hr9N2.png\r\n  [radix-sort-faster-than-quicksort-cpp]: https://i.stack.imgur.com/pQBOe.png\r\n  [radix-sort-jdk-ticket]: https://bugs.openjdk.org/browse/JDK-8266431","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<h1>Java</h1>\n<h2>Arrays.sort(byte[]), Arrays.sort(short[]) and Arrays.sort(char[])</h2>\n<p>At least starting from Java 7 are implemented using an in-place <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a> with <strong>O(n) time</strong> and <strong>O(1) space</strong> complexities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void sort(short[] a, int low, int high) {\n  if (high - low &gt; MIN_SHORT_OR_CHAR_COUNTING_SORT_SIZE) {\n    countingSort(a, low, high);\n  } else {\n    sort(a, 0, low, high);\n  }\n}\n\nprivate static void countingSort(short[] a, int low, int high) {\n  int[] count = new int[NUM_SHORT_VALUES];\n\n  /*\n   * Compute a histogram with the number of each values.\n   */\n  for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\n\n  /*\n   * Place values on their final positions.\n   */\n  if (high - low &gt; NUM_SHORT_VALUES) {\n    for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\n      int value = i &amp; 0xFFFF;\n\n      for (low = high - count[value]; high &gt; low;\n           a[--high] = (short) value\n      );\n    }\n  } else {\n    for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\n      while (count[--i &amp; 0xFFFF] == 0);\n\n      int value = i &amp; 0xFFFF;\n      int c = count[value];\n\n      do {\n        a[--high] = (short) value;\n      } while (--c &gt; 0);\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348\" rel=\"nofollow noreferrer\">Counting sort implementation</a></p>\n<h2>Arrays.sort(int[]), Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])</h2>\n<p>There is a ticket <a href=\"https://bugs.openjdk.org/browse/JDK-8266431\" rel=\"nofollow noreferrer\">JDK-8266431</a> and a related pull request <a href=\"https://github.com/openjdk/jdk/pull/3938\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/pull/3938</a> that intend to switch to radix sort for large arrays.</p>\n<h1>Efficiency of radix sort</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow noreferrer\">Radix sort</a> is faster than quicksort or any other comparison-based sorting algorithms both in theory and in practice. There are multiple benchmarks that demonstrate this:</p>\n<p><a href=\"https://i.stack.imgur.com/Hr9N2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hr9N2.png\" alt=\"Radix sort is three times faster than quicksort in Java\" /></a>\n<a href=\"https://i.stack.imgur.com/pQBOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pQBOe.png\" alt=\"Radix sort is 4-6 times faster than quicksort in C++\" /></a></p>\n<p><a href=\"https://erik.gorset.no/2011/04/radix-sort-is-faster-than-quicksort.html\" rel=\"nofollow noreferrer\">https://erik.gorset.no/2011/04/radix-sort-is-faster-than-quicksort.html</a>\n<a href=\"https://probablydance.com/2016/12/02/investigating-radix-sort/\" rel=\"nofollow noreferrer\">https://probablydance.com/2016/12/02/investigating-radix-sort/</a></p>\n"}],"owner":{"account_id":11083609,"reputation":89,"user_id":8138111,"display_name":"cobaltblue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49959952,"answer_count":3,"score":1,"last_activity_date":1667942142,"creation_date":1524330706,"question_id":49958256,"body_markdown":"I&#39;ve been studying algorithm, and just came across this bucket sort. Although it can only be used for few cases, it just looks too efficient to be not implemented in standard library, since it can sort a list in O(n) time. so my question is, why isn&#39;t there a given library that supports bucket sort, or any other counting-sort-like algorithm such as radix sort in most of the languages? I&#39;ve checked java, python, and c++ library, but it doesn&#39;t look like it supports any sorting algorithm other then sorting algorithms based on comparing. \r\n&lt;br&gt;Although implementing such algorithm requires list to have integer in specific range, it doesn&#39;t seem impossible to implement such method. Java, for example, can have a interface similar to Comparator() which returns integer in given range that would be used as index for sorting. So what is the reason that makes O(n) sorting algorithms not used? Or is there a library that actually uses bucket sort that I just missed? Sorry if it was a silly question, I just thought there must be a reason that makes O(n) algorithm unused.","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<p>I've been studying algorithm, and just came across this bucket sort. Although it can only be used for few cases, it just looks too efficient to be not implemented in standard library, since it can sort a list in O(n) time. so my question is, why isn't there a given library that supports bucket sort, or any other counting-sort-like algorithm such as radix sort in most of the languages? I've checked java, python, and c++ library, but it doesn't look like it supports any sorting algorithm other then sorting algorithms based on comparing. \n<br>Although implementing such algorithm requires list to have integer in specific range, it doesn't seem impossible to implement such method. Java, for example, can have a interface similar to Comparator() which returns integer in given range that would be used as index for sorting. So what is the reason that makes O(n) sorting algorithms not used? Or is there a library that actually uses bucket sort that I just missed? Sorry if it was a silly question, I just thought there must be a reason that makes O(n) algorithm unused.</p>\n"},{"tags":["java","sorting","text","row","columnsorting"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667942104,"post_id":74367025,"comment_id":131287673,"body_markdown":"Create a class representing a row  implement Comparable interface. Read text file into a List of rows and use lambda to sort.","body":"Create a class representing a row  implement Comparable interface. Read text file into a List of rows and use lambda to sort."},{"owner":{"account_id":20154715,"reputation":1,"user_id":14781239,"display_name":"DLCVIP007"},"score":0,"creation_date":1667945528,"post_id":74367025,"comment_id":131288575,"body_markdown":"Can you elaborate? I don&#39;t want to sort based on rows! I need 2nd column as reference","body":"Can you elaborate? I don&#39;t want to sort based on rows! I need 2nd column as reference"},{"owner":{"account_id":20154715,"reputation":1,"user_id":14781239,"display_name":"DLCVIP007"},"score":0,"creation_date":1667945666,"post_id":74367025,"comment_id":131288612,"body_markdown":"Is there an example of what you are suggesting anywhere? @ChristophDahlen some sample code","body":"Is there an example of what you are suggesting anywhere? @ChristophDahlen some sample code"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667946100,"post_id":74367025,"comment_id":131288702,"body_markdown":"You still need the entire row, even if you use the 2nd column for sorting.","body":"You still need the entire row, even if you use the 2nd column for sorting."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667950784,"post_id":74367025,"comment_id":131289699,"body_markdown":"```static void printSorted(String path) throws IOException {\n        Files.lines(Paths.get(path))\n            .map(line -&gt; line.split(&quot;\\\\s+&quot;))\n            .skip(1)\n            .sorted((a1, a2) -&gt;a1[1].compareTo(a2[1]))\n            .forEach(a -&gt;System.out.println(Arrays.toString(a)));\n    }\n```might do it for you","body":"<code>static void printSorted(String path) throws IOException {         Files.lines(Paths.get(path))             .map(line -&gt; line.split(&quot;\\\\s+&quot;))             .skip(1)             .sorted((a1, a2) -&gt;a1[1].compareTo(a2[1]))             .forEach(a -&gt;System.out.println(Arrays.toString(a)));     } </code>might do it for you"}],"owner":{"account_id":20154715,"reputation":1,"user_id":14781239,"display_name":"DLCVIP007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667945031,"answer_count":0,"score":0,"last_activity_date":1667941952,"creation_date":1667940696,"question_id":74367025,"body_markdown":"I have a text file in JAVA like the following:\r\n```\r\nnumber1 name number2\r\n12      mike 2\r\n3       jack 99\r\n1       mike 23\r\n0       lily 19  \r\n```\r\n\r\nIn JAVA, I want to sort the rows alphabetically ascending based on the 2nd column values. There are duplicate values too. So like this:\r\n```\r\nnumber1 name number2\r\n3       jack 99\r\n0       lily 19 \r\n12      mike 2\r\n1       mike 23  \r\n```\r\nIs there a quick way of doing this instead of searching? \r\n\r\nI can do this using search elements but I am looking for a quick and clean solution using collections, arrays, etc.","title":"sort text files rows based on 2nd column","body":"<p>I have a text file in JAVA like the following:</p>\n<pre><code>number1 name number2\n12      mike 2\n3       jack 99\n1       mike 23\n0       lily 19  \n</code></pre>\n<p>In JAVA, I want to sort the rows alphabetically ascending based on the 2nd column values. There are duplicate values too. So like this:</p>\n<pre><code>number1 name number2\n3       jack 99\n0       lily 19 \n12      mike 2\n1       mike 23  \n</code></pre>\n<p>Is there a quick way of doing this instead of searching?</p>\n<p>I can do this using search elements but I am looking for a quick and clean solution using collections, arrays, etc.</p>\n"},{"tags":["java","spring","unit-testing","spring-mvc","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":10957403,"reputation":72,"user_id":8283041,"display_name":"Valdemaras"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588147150,"creation_date":1588147150,"answer_id":61496914,"question_id":61458160,"body_markdown":"Seems like problem could be with `when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);`. \r\n\r\nDid you try to have breakpoint on `return ResponseEntity.status(201).body(registeredEmployee);` to check if registeredEmployee is actually filled?\r\nIf it&#39;s empty then try replacing mock with `when(serviceMock.register(any())).thenReturn(successfullyRegisteredEmployee);` and if it works that means either `equals()` method is not overridden for `Employee` or comparison just fails.","title":"When try to test post() rest endpoint see: json can not be null or empty","body":"<p>Seems like problem could be with <code>when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);</code>. </p>\n\n<p>Did you try to have breakpoint on <code>return ResponseEntity.status(201).body(registeredEmployee);</code> to check if registeredEmployee is actually filled?\nIf it's empty then try replacing mock with <code>when(serviceMock.register(any())).thenReturn(successfullyRegisteredEmployee);</code> and if it works that means either <code>equals()</code> method is not overridden for <code>Employee</code> or comparison just fails.</p>\n"}],"owner":{"account_id":17263392,"reputation":73,"user_id":12500745,"display_name":"pavloN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61496914,"answer_count":1,"score":0,"last_activity_date":1667941831,"creation_date":1587987948,"question_id":61458160,"body_markdown":"If I try to test the post() endpoint, I see:\r\n\r\njava.lang.AssertionError: No value at JSON path &quot;$.firstName&quot;\r\n\r\nCaused by: java.lang.IllegalArgumentException: json can not be null or empty\r\n\r\nBut with the test for the get() all work fine.\r\nAnd in the postTest() the result for status is correct.\r\nWhere is my mistaker?\r\nIs it correct way to test the rest controller in this style?\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.Silent.class)\r\n    public class Temp {\r\n        private final Employee successfullyRegisteredEmployee = new Employee(2L, &quot;Iven&quot;);\r\n        private final Employee employeeGetById = new Employee(2L, &quot;Iven&quot;);\r\n    \r\n    \r\n        @Mock\r\n        private EmployeeServiceImpl serviceMock;\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            mockMvc = MockMvcBuilders.standaloneSetup(new EmployeeControllerImpl( serviceMock))\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void getTest() throws Exception {\r\n            when(serviceMock.getEmployee(2L)).thenReturn(employeeGetById);\r\n    \r\n            mockMvc.perform(get(&quot;/employee/get/2&quot;))\r\n                    .andExpect(status().is(200))\r\n                    .andExpect(content().json((&quot;{&#39;firstName&#39;:&#39;Iven&#39;}&quot;)));\r\n    \r\n            verify(serviceMock).getEmployee(2L);\r\n        }\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void postTest() throws Exception {\r\n            String json = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;firstName\\&quot;: \\&quot;Iven\\&quot;\\n&quot; \r\n                    &quot;}&quot;;\r\n            when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);\r\n    \r\n            mockMvc.perform( MockMvcRequestBuilders\r\n                    .post(&quot;/employee/register&quot;)\r\n                    .content(json)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().is(201))\r\n                    .andExpect(jsonPath(&quot;$.firstName&quot;, Matchers.is(&quot;Iven&quot;)));\r\n    \r\n        }\r\n    }\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/employee&quot;)\r\n    public class EmployeeControllerImpl implements EmployeeController {\r\n        private final EmployeeService service;\r\n    \r\n        public EmployeeControllerImpl(EmployeeService service) {\r\n            this.service = service;\r\n        }\r\n    \r\n        @PostMapping(path = &quot;/register&quot;,\r\n                consumes = &quot;application/json&quot;,\r\n                produces = &quot;application/json&quot;\r\n        )\r\n        public ResponseEntity&lt;Employee&gt; registerEmployee(@Valid @RequestBody Employee employee) {\r\n            Employee registeredEmployee = service.register(employee);\r\n            return ResponseEntity.status(201).body(registeredEmployee);\r\n        }\r\n    }","title":"When try to test post() rest endpoint see: json can not be null or empty","body":"<p>If I try to test the post() endpoint, I see:</p>\n\n<p>java.lang.AssertionError: No value at JSON path \"$.firstName\"</p>\n\n<p>Caused by: java.lang.IllegalArgumentException: json can not be null or empty</p>\n\n<p>But with the test for the get() all work fine.\nAnd in the postTest() the result for status is correct.\nWhere is my mistaker?\nIs it correct way to test the rest controller in this style?</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.Silent.class)\npublic class Temp {\n    private final Employee successfullyRegisteredEmployee = new Employee(2L, \"Iven\");\n    private final Employee employeeGetById = new Employee(2L, \"Iven\");\n\n\n    @Mock\n    private EmployeeServiceImpl serviceMock;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setUp() throws Exception {\n        mockMvc = MockMvcBuilders.standaloneSetup(new EmployeeControllerImpl( serviceMock))\n                .build();\n    }\n\n\n    @Test\n    public void getTest() throws Exception {\n        when(serviceMock.getEmployee(2L)).thenReturn(employeeGetById);\n\n        mockMvc.perform(get(\"/employee/get/2\"))\n                .andExpect(status().is(200))\n                .andExpect(content().json((\"{'firstName':'Iven'}\")));\n\n        verify(serviceMock).getEmployee(2L);\n    }\n\n\n\n    @Test\n    public void postTest() throws Exception {\n        String json = \"{\\n\" +\n                \"  \\\"firstName\\\": \\\"Iven\\\"\\n\" \n                \"}\";\n        when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);\n\n        mockMvc.perform( MockMvcRequestBuilders\n                .post(\"/employee/register\")\n                .content(json)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().is(201))\n                .andExpect(jsonPath(\"$.firstName\", Matchers.is(\"Iven\")));\n\n    }\n}\n\n@RestController\n@RequestMapping(\"/employee\")\npublic class EmployeeControllerImpl implements EmployeeController {\n    private final EmployeeService service;\n\n    public EmployeeControllerImpl(EmployeeService service) {\n        this.service = service;\n    }\n\n    @PostMapping(path = \"/register\",\n            consumes = \"application/json\",\n            produces = \"application/json\"\n    )\n    public ResponseEntity&lt;Employee&gt; registerEmployee(@Valid @RequestBody Employee employee) {\n        Employee registeredEmployee = service.register(employee);\n        return ResponseEntity.status(201).body(registeredEmployee);\n    }\n}\n</code></pre>\n"},{"tags":["java","logstash","logback","logstash-logback-encoder"],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667941583,"creation_date":1667847332,"question_id":74351542,"body_markdown":"I was reading the following section in the logback manual:\r\nhttps://logback.qos.ch/manual/configuration.html#variableSubstitution\r\n\r\nI&#39;m using logback v2.9.1 and v6.1 of logstash-logback-encoder.\r\n\r\nI have a situation where I&#39;m defining an encoder with a &quot;providers&quot; element, and in that I&#39;m setting the &quot;stackTrace&quot; element, and the &quot;throwableConverter&quot;.  I set the &quot;rootCauseFirst&quot; property.  Right now I&#39;m setting it to a static value, but I&#39;m experimenting with setting it from a property.\r\n\r\nIn my test case, I clearly see the difference between setting a static value of &quot;true&quot; vs. &quot;false&quot;.  However, if I define a &quot;ROOT_CAUSE_FIRST&quot; variable before the appender definition, with a value of either &quot;true&quot; or &quot;false&quot;, and reference &quot;${ROOT_CAUSE_FIRST}&quot; in the &quot;rootCauseFirst&quot; setting, the result is that it doesn&#39;t log the exception at all. I don&#39;t see it in the log.\r\n\r\nThe following is an elided copy of my logback.xml:\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;5 seconds&quot; debug=&quot;true&quot;&gt;\r\n\t\t\t&lt;variable name=&quot;ROOT_CAUSE_FIRST&quot; value=&quot;false&quot;/&gt;\r\n\t\t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n\t\t\t\t&lt;providers&gt;\r\n\t\t\t\t\t...\r\n\t\t\t\t\t&lt;stackTrace&gt;\r\n\t\t\t\t\t\t&lt;fieldName&gt;exTrace&lt;/fieldName&gt;\r\n\t\t\t\t\t\t&lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;maxDepthPerThrowable&gt;10&lt;/maxDepthPerThrowable&gt;\r\n\t\t\t\t\t\t\t&lt;!-- &lt;rootCauseFirst&gt;${ROOT_CAUSE_FIRST}&lt;/rootCauseFirst&gt; --&gt;\r\n\t\t\t\t\t\t\t&lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n\t\t\t\t\t\t\t&lt;maxLength&gt;10240&lt;/maxLength&gt;\r\n\t\t\t\t\t\t&lt;/throwableConverter&gt;\r\n\t\t\t\t\t&lt;/stackTrace&gt;\r\n\t\t\t\t\t&lt;stackHash&gt;\r\n\t\t\t\t\t\t&lt;fieldName&gt;exHash&lt;/fieldName&gt;\r\n\t\t\t\t\t&lt;/stackHash&gt;\r\n\t\t\t\t\t&lt;sequence&gt;\r\n\t\t\t\t\t\t&lt;fieldName&gt;seq&lt;/fieldName&gt;\r\n\t\t\t\t\t&lt;/sequence&gt;\r\n\t\t\t\t\t&lt;pattern&gt;&lt;pattern&gt;{ &quot;format&quot;: &quot;nf-v1.0&quot; }&lt;/pattern&gt;&lt;/pattern&gt;  \r\n\t\t\t&lt;/providers&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n\t\t...\r\n\t&lt;/configuration&gt;\r\n\r\nWhat is shown here is the &quot;static&quot; version, and the line with the variable ref is commented out.  As I said earlier, this appears to work fine, but if I reverse the comments, it simply doesn&#39;t log the exception at all.","title":"Can logback.xml reference a property in a provider declaration?","body":"<p>I was reading the following section in the logback manual:\n<a href=\"https://logback.qos.ch/manual/configuration.html#variableSubstitution\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/configuration.html#variableSubstitution</a></p>\n<p>I'm using logback v2.9.1 and v6.1 of logstash-logback-encoder.</p>\n<p>I have a situation where I'm defining an encoder with a &quot;providers&quot; element, and in that I'm setting the &quot;stackTrace&quot; element, and the &quot;throwableConverter&quot;.  I set the &quot;rootCauseFirst&quot; property.  Right now I'm setting it to a static value, but I'm experimenting with setting it from a property.</p>\n<p>In my test case, I clearly see the difference between setting a static value of &quot;true&quot; vs. &quot;false&quot;.  However, if I define a &quot;ROOT_CAUSE_FIRST&quot; variable before the appender definition, with a value of either &quot;true&quot; or &quot;false&quot;, and reference &quot;${ROOT_CAUSE_FIRST}&quot; in the &quot;rootCauseFirst&quot; setting, the result is that it doesn't log the exception at all. I don't see it in the log.</p>\n<p>The following is an elided copy of my logback.xml:</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;5 seconds&quot; debug=&quot;true&quot;&gt;\n        &lt;variable name=&quot;ROOT_CAUSE_FIRST&quot; value=&quot;false&quot;/&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                ...\n                &lt;stackTrace&gt;\n                    &lt;fieldName&gt;exTrace&lt;/fieldName&gt;\n                    &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                        &lt;maxDepthPerThrowable&gt;10&lt;/maxDepthPerThrowable&gt;\n                        &lt;!-- &lt;rootCauseFirst&gt;${ROOT_CAUSE_FIRST}&lt;/rootCauseFirst&gt; --&gt;\n                        &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n                        &lt;maxLength&gt;10240&lt;/maxLength&gt;\n                    &lt;/throwableConverter&gt;\n                &lt;/stackTrace&gt;\n                &lt;stackHash&gt;\n                    &lt;fieldName&gt;exHash&lt;/fieldName&gt;\n                &lt;/stackHash&gt;\n                &lt;sequence&gt;\n                    &lt;fieldName&gt;seq&lt;/fieldName&gt;\n                &lt;/sequence&gt;\n                &lt;pattern&gt;&lt;pattern&gt;{ &quot;format&quot;: &quot;nf-v1.0&quot; }&lt;/pattern&gt;&lt;/pattern&gt;  \n        &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    ...\n&lt;/configuration&gt;\n</code></pre>\n<p>What is shown here is the &quot;static&quot; version, and the line with the variable ref is commented out.  As I said earlier, this appears to work fine, but if I reverse the comments, it simply doesn't log the exception at all.</p>\n"},{"tags":["java","docker","maven","jenkins-pipeline","artifactory"],"comments":[{"owner":{"account_id":17881538,"reputation":1050,"user_id":12990185,"display_name":"vel"},"score":0,"creation_date":1658588903,"post_id":71131670,"comment_id":129091270,"body_markdown":"Hi, I am having difficulties to understand where do you specify which file (e.g .zip ) you want to deploy? Also don&#39;t you need a rtMavenRun method as well? Thanks","body":"Hi, I am having difficulties to understand where do you specify which file (e.g .zip ) you want to deploy? Also don&#39;t you need a rtMavenRun method as well? Thanks"},{"owner":{"account_id":4264892,"reputation":679,"user_id":3488237,"accept_rate":83,"display_name":"rugby82"},"score":0,"creation_date":1659359420,"post_id":71131670,"comment_id":129269076,"body_markdown":"i want run the &quot;stage (&#39;Artifactory configuration&#39;) &quot; into the agent Docker...but it seems not easy....at the moment I have used a work around changing the workspace and uploading the files using the &quot;classic&quot; agent...if you use a docker agent  in a pipeline, jenkins creates 2 different  workspace (one for the classic agent and one for the docker agent)","body":"i want run the &quot;stage (&#39;Artifactory configuration&#39;) &quot; into the agent Docker...but it seems not easy....at the moment I have used a work around changing the workspace and uploading the files using the &quot;classic&quot; agent...if you use a docker agent  in a pipeline, jenkins creates 2 different  workspace (one for the classic agent and one for the docker agent)"}],"answers":[{"comments":[{"owner":{"account_id":4264892,"reputation":679,"user_id":3488237,"accept_rate":83,"display_name":"rugby82"},"score":0,"creation_date":1689866195,"post_id":74273792,"comment_id":135276914,"body_markdown":"this works! thanks","body":"this works! thanks"}],"tags":[],"owner":{"account_id":14305614,"reputation":72,"user_id":10333632,"display_name":"sagstetterC"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667294656,"creation_date":1667294656,"answer_id":74273792,"question_id":71131670,"body_markdown":"try it with\r\n\r\n`args &#39;-v /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert: /etc/ssl/certs/java/cacerts&#39;`","title":"Jenkins pipeline using docker agent can&#39;t push on artifactory due to jvm cacert","body":"<p>try it with</p>\n<p><code>args '-v /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert: /etc/ssl/certs/java/cacerts'</code></p>\n"}],"owner":{"account_id":4264892,"reputation":679,"user_id":3488237,"accept_rate":83,"display_name":"rugby82"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667940952,"creation_date":1644950044,"question_id":71131670,"body_markdown":"I need to push some jar files obtained during a Jenkins pipeline, to Jfrog; \r\nbelow the code:\r\n\r\n```\r\nstage (&#39;Artifactory configuration&#39;) {\r\n            when { expression { params.runDelivery } }\r\n            steps {\r\n                rtServer (\r\n                    id: &quot;artifactory&quot;,\r\n                    url: &quot;https://jfroglocal/artifactory&quot;,\r\n                    credentialsId: &quot;jfrog&quot;\r\n                )\r\n\r\n                rtMavenDeployer (\r\n                    id: &quot;MAVEN_DEPLOYER&quot;,\r\n                    serverId: &quot;artifactory&quot;,\r\n                    releaseRepo: &quot;example-repo-local&quot;,\r\n                    snapshotRepo: &quot;example-repo-local&quot;\r\n                )\r\n            }\r\n        }\r\n```\r\n\r\n\r\nhere the error:\r\n\r\n```\r\n[m org.apache.maven.cli.MavenCli -  Skipping deployment of remaining artifacts (if any) and build info. sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target etc\r\n```\r\n\r\n\r\nif I run the pipeline directly from the &quot;jenkins slave server&quot; the error disappear after linkng  /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert to /etc/ssl/certs/java/cacerts\r\n\r\nif I run the same pipeline from an docker agent the error persists; below the declared agent:\r\n\r\n\r\n```\r\nagent {\r\n        docker {\r\n            label &#39;Ubuntu-20.04-Slave&#39;\r\n            image &#39;node:10&#39;\r\n            args &#39;-u root&#39;\r\n        }\r\n\r\n    }\r\n```\r\n\r\nhow can i link the cacert file into the container?\r\n","title":"Jenkins pipeline using docker agent can&#39;t push on artifactory due to jvm cacert","body":"<p>I need to push some jar files obtained during a Jenkins pipeline, to Jfrog;\nbelow the code:</p>\n<pre><code>stage ('Artifactory configuration') {\n            when { expression { params.runDelivery } }\n            steps {\n                rtServer (\n                    id: &quot;artifactory&quot;,\n                    url: &quot;https://jfroglocal/artifactory&quot;,\n                    credentialsId: &quot;jfrog&quot;\n                )\n\n                rtMavenDeployer (\n                    id: &quot;MAVEN_DEPLOYER&quot;,\n                    serverId: &quot;artifactory&quot;,\n                    releaseRepo: &quot;example-repo-local&quot;,\n                    snapshotRepo: &quot;example-repo-local&quot;\n                )\n            }\n        }\n</code></pre>\n<p>here the error:</p>\n<pre><code>[m org.apache.maven.cli.MavenCli -  Skipping deployment of remaining artifacts (if any) and build info. sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target etc\n</code></pre>\n<p>if I run the pipeline directly from the &quot;jenkins slave server&quot; the error disappear after linkng  /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert to /etc/ssl/certs/java/cacerts</p>\n<p>if I run the same pipeline from an docker agent the error persists; below the declared agent:</p>\n<pre><code>agent {\n        docker {\n            label 'Ubuntu-20.04-Slave'\n            image 'node:10'\n            args '-u root'\n        }\n\n    }\n</code></pre>\n<p>how can i link the cacert file into the container?</p>\n"},{"tags":["java","gradle","artifactory"],"answers":[{"tags":[],"owner":{"account_id":19858726,"reputation":46,"user_id":14547510,"display_name":"Pavan Gonugunta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646142792,"creation_date":1646142792,"answer_id":71309541,"question_id":71150079,"body_markdown":"Regarding your query, Yes you can make use of [JFrog CLI][1] as an alternate or another way to integrate Gradle client to the Artifactory application. This will help to resolve dependencies and deploy build artifacts from and to Artifactory and also collects the build-info which will be stored in Artifactory. For more details on this, you may refer to our CLI Wiki page [here][2].\r\n\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory\r\n  [2]: https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningGradleBuilds","title":"Cannot publish pom for project &#39;:&#39; it does not contain the Maven plugin install task and task &#39;:artifactoryPublish&#39; doesn&#39;t specify a custom pom path","body":"<p>Regarding your query, Yes you can make use of <a href=\"https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory\" rel=\"nofollow noreferrer\">JFrog CLI</a> as an alternate or another way to integrate Gradle client to the Artifactory application. This will help to resolve dependencies and deploy build artifacts from and to Artifactory and also collects the build-info which will be stored in Artifactory. For more details on this, you may refer to our CLI Wiki page <a href=\"https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningGradleBuilds\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2140912,"reputation":1357,"user_id":1899566,"display_name":"Robert Fleming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665031919,"creation_date":1665031919,"answer_id":73968792,"question_id":71150079,"body_markdown":"What fixed this for me was adding the `maven` plugin (I previously only had the `maven-publish` plugin):\r\n\r\n    plugins {\r\n      id &#39;maven&#39;\r\n      id &#39;maven-publish&#39;\r\n      id &#39;com.jfrog.artifactory&#39; version &#39;4.29.0&#39;\r\n    }\r\n\r\n","title":"Cannot publish pom for project &#39;:&#39; it does not contain the Maven plugin install task and task &#39;:artifactoryPublish&#39; doesn&#39;t specify a custom pom path","body":"<p>What fixed this for me was adding the <code>maven</code> plugin (I previously only had the <code>maven-publish</code> plugin):</p>\n<pre><code>plugins {\n  id 'maven'\n  id 'maven-publish'\n  id 'com.jfrog.artifactory' version '4.29.0'\n}\n</code></pre>\n"}],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667940942,"creation_date":1645050528,"question_id":71150079,"body_markdown":"I am trying to publish/deploy jar (in build/lib) file created by my gradle project to artifactory. To make things simple I installed a local artifactory-oss installation without docker. When I execute the command gradlew build artifactoryDeploy then output shows following\r\n\r\n    \r\n\r\n&gt; Cannot publish pom for project &#39;:&#39; since it does not contain the Maven\r\n&gt; plugin install task and task &#39;:artifactoryPublish&#39; does not specify a\r\n&gt; custom pom path.\r\n&gt;     \r\n&gt;     &gt; Task :artifactoryDeploy\r\n&gt;     Deploying build info...\r\n&gt;     Build-info successfully deployed. Browse it in Artifactory under http://100.100.11.11:8081/artifactory/webapp/builds/mygradle/1846079453857\r\n\r\nI tried following [jfrog documentation][1] and [other resources][2] but still it is just pushing the build info.\r\n\r\nMy gradle.build looks like following\r\n \r\n\r\n    buildscript {\r\n     repositories {\r\n    \t\tjcenter()\r\n            maven {\r\n                url &#39;http://100.100.11.11:8081/artifactory/gradle-release-local&#39;\r\n                credentials {\r\n                    username = &quot;${artifactory_user}&quot;\r\n                    password = &quot;${artifactory_password}&quot;\r\n                }\r\n            }\r\n        }\r\n        dependencies {\r\n            //Check for the latest version here: http://plugins.gradle.org/plugin/com.jfrog.artifactory\r\n            classpath &quot;org.jfrog.buildinfo:build-info-extractor-gradle:4+&quot;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        // Apply the java-library plugin to add support for Java Library\r\n        id &#39;java-library&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    repositories {\r\n        // Use jcenter for resolving dependencies.\r\n        // You can declare any Maven/Ivy/file repository here.\r\n        jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        // This dependency is exported to consumers, that is to say found on their compile classpath.\r\n        api &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n    \r\n        // This dependency is used internally, and not exposed to consumers on their own compile classpath.\r\n        implementation &#39;com.google.guava:guava:29.0-jre&#39;\r\n    \r\n        // Use JUnit test framework\r\n        testImplementation &#39;junit:junit:4.13&#39;\r\n    }\r\n    \r\n    task createPom {\r\n    doLast{\r\n    pom { \r\n            project { \r\n                groupId &#39;edc&#39;\r\n                artifactId &#39;mygradle&#39;\r\n                version &#39;1.0.0&#39;\r\n            }\r\n        }.writeTo(&quot;pom.xml&quot;)\r\n    } \r\n        \r\n    }\r\n    \r\n    allprojects {\r\n      apply plugin: &#39;com.jfrog.artifactory&#39;\r\n      group = &#39;org.jfrog.example.gradle&#39;\r\n      version = &quot;4.21.0&quot;\r\n      status = &quot;release&quot;\r\n    }\r\n    \r\n    configurations {\r\n      published\r\n    }\r\n    \r\n    def f1 = file(&quot;to_deploy.txt&quot;)\r\n    def f2 = file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\r\n    \r\n    artifacts {\r\n    \tpublished file: f1, name: f1.getName(), type: &#39;txt&#39;\r\n        published file: f2, name: f2.getName(), type: &#39;jar&#39;\r\n    }\r\n    \r\n    artifactoryPublish {\r\n          skip = false //Skip build info analysis and publishing (false by default)\r\n          contextUrl = &#39;http://100.100.11.11:8081/artifactory&#39;\r\n          publications (&#39;ALL_PUBLICATIONS&#39;)\r\n      \r\n          clientConfig.publisher.repoKey = &#39;gradle-release-local&#39;\r\n          clientConfig.publisher.username = &quot;${artifactory_user}&quot;\r\n          clientConfig.publisher.password = &quot;${artifactory_password}&quot;\r\n      }\r\n    \r\n    artifactory {\r\n      contextUrl = &#39;http://100.100.11.11:8081/artifactory&#39;\r\n      publish {\r\n        repository {\r\n          repoKey = &#39;gradle-release-local&#39;\r\n          username = &quot;${artifactory_user}&quot;\r\n          password = &quot;${artifactory_password}&quot;\r\n    \t  maven = true\r\n        }\r\n        defaults {\r\n    \t  publications(&#39;ALL_PUBLICATIONS&#39;)\r\n          publishConfigs(&#39;published&#39;)\t  \r\n          publishBuildInfo = true\r\n          publishArtifacts = true\r\n          publishPom = true\r\n          publishIvy = true\r\n        }\r\n      }\r\n      resolve {\r\n        repository {\r\n          repoKey = &#39;maven-remote&#39;\r\n          username = &quot;admin&quot;\r\n          password = &quot;password&quot;\r\n        }\r\n      }\r\n    }\r\n    \r\n    task sourceJar(type: Jar){\r\n        from file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\r\n     }\r\n    \r\n     publishing {\r\n          publications {\r\n               pluginJar(MavenPublication) {\r\n                groupId &quot;${group}&quot;\r\n                artifactId &#39;mygradle&#39;                         // this is the package suffix the jar will go into in artifactory\r\n                version &quot;${version}&quot;\r\n                artifact sourceJar\r\n    \t\t\tfrom components.java\r\n            }\r\n          }\r\n      }\r\n\r\nI know there might be somethings extra in this build.gradle file but I added those to just try them out. Is it possible to publish/deploy a gradle project to artifactory without setting up jenkins? If yes then where my build.gradle is lacking?\r\n\r\nI know that it is possible with maven build projects. As I have done it.\r\n\r\n\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin#:~:text=The%20Gradle%20Artifactory%20Plugin%20allows,supported%20Gradle%20version%20is%204.10.\r\n  [2]: https://jfrog.com/knowledge-base/artifactory-deploying-and-resolving-different-artifact-types-through-a-gradle-job/","title":"Cannot publish pom for project &#39;:&#39; it does not contain the Maven plugin install task and task &#39;:artifactoryPublish&#39; doesn&#39;t specify a custom pom path","body":"<p>I am trying to publish/deploy jar (in build/lib) file created by my gradle project to artifactory. To make things simple I installed a local artifactory-oss installation without docker. When I execute the command gradlew build artifactoryDeploy then output shows following</p>\n<blockquote>\n<p>Cannot publish pom for project ':' since it does not contain the Maven\nplugin install task and task ':artifactoryPublish' does not specify a\ncustom pom path.</p>\n<pre><code>&gt; Task :artifactoryDeploy\nDeploying build info...\nBuild-info successfully deployed. Browse it in Artifactory under http://100.100.11.11:8081/artifactory/webapp/builds/mygradle/1846079453857\n</code></pre>\n</blockquote>\n<p>I tried following <a href=\"https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin#:%7E:text=The%20Gradle%20Artifactory%20Plugin%20allows,supported%20Gradle%20version%20is%204.10.\" rel=\"nofollow noreferrer\">jfrog documentation</a> and <a href=\"https://jfrog.com/knowledge-base/artifactory-deploying-and-resolving-different-artifact-types-through-a-gradle-job/\" rel=\"nofollow noreferrer\">other resources</a> but still it is just pushing the build info.</p>\n<p>My gradle.build looks like following</p>\n<pre><code>buildscript {\n repositories {\n        jcenter()\n        maven {\n            url 'http://100.100.11.11:8081/artifactory/gradle-release-local'\n            credentials {\n                username = &quot;${artifactory_user}&quot;\n                password = &quot;${artifactory_password}&quot;\n            }\n        }\n    }\n    dependencies {\n        //Check for the latest version here: http://plugins.gradle.org/plugin/com.jfrog.artifactory\n        classpath &quot;org.jfrog.buildinfo:build-info-extractor-gradle:4+&quot;\n    }\n}\n\nplugins {\n    // Apply the java-library plugin to add support for Java Library\n    id 'java-library'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\napply plugin: 'io.spring.dependency-management'\n\nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n}\n\ndependencies {\n    // This dependency is exported to consumers, that is to say found on their compile classpath.\n    api 'org.apache.commons:commons-math3:3.6.1'\n\n    // This dependency is used internally, and not exposed to consumers on their own compile classpath.\n    implementation 'com.google.guava:guava:29.0-jre'\n\n    // Use JUnit test framework\n    testImplementation 'junit:junit:4.13'\n}\n\ntask createPom {\ndoLast{\npom { \n        project { \n            groupId 'edc'\n            artifactId 'mygradle'\n            version '1.0.0'\n        }\n    }.writeTo(&quot;pom.xml&quot;)\n} \n    \n}\n\nallprojects {\n  apply plugin: 'com.jfrog.artifactory'\n  group = 'org.jfrog.example.gradle'\n  version = &quot;4.21.0&quot;\n  status = &quot;release&quot;\n}\n\nconfigurations {\n  published\n}\n\ndef f1 = file(&quot;to_deploy.txt&quot;)\ndef f2 = file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\n\nartifacts {\n    published file: f1, name: f1.getName(), type: 'txt'\n    published file: f2, name: f2.getName(), type: 'jar'\n}\n\nartifactoryPublish {\n      skip = false //Skip build info analysis and publishing (false by default)\n      contextUrl = 'http://100.100.11.11:8081/artifactory'\n      publications ('ALL_PUBLICATIONS')\n  \n      clientConfig.publisher.repoKey = 'gradle-release-local'\n      clientConfig.publisher.username = &quot;${artifactory_user}&quot;\n      clientConfig.publisher.password = &quot;${artifactory_password}&quot;\n  }\n\nartifactory {\n  contextUrl = 'http://100.100.11.11:8081/artifactory'\n  publish {\n    repository {\n      repoKey = 'gradle-release-local'\n      username = &quot;${artifactory_user}&quot;\n      password = &quot;${artifactory_password}&quot;\n      maven = true\n    }\n    defaults {\n      publications('ALL_PUBLICATIONS')\n      publishConfigs('published')     \n      publishBuildInfo = true\n      publishArtifacts = true\n      publishPom = true\n      publishIvy = true\n    }\n  }\n  resolve {\n    repository {\n      repoKey = 'maven-remote'\n      username = &quot;admin&quot;\n      password = &quot;password&quot;\n    }\n  }\n}\n\ntask sourceJar(type: Jar){\n    from file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\n }\n\n publishing {\n      publications {\n           pluginJar(MavenPublication) {\n            groupId &quot;${group}&quot;\n            artifactId 'mygradle'                         // this is the package suffix the jar will go into in artifactory\n            version &quot;${version}&quot;\n            artifact sourceJar\n            from components.java\n        }\n      }\n  }\n</code></pre>\n<p>I know there might be somethings extra in this build.gradle file but I added those to just try them out. Is it possible to publish/deploy a gradle project to artifactory without setting up jenkins? If yes then where my build.gradle is lacking?</p>\n<p>I know that it is possible with maven build projects. As I have done it.</p>\n"},{"tags":["java","caching","ehcache","profiler","jconsole"],"owner":{"display_name":"user1768830"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1667940591,"creation_date":1374803253,"question_id":17871569,"body_markdown":"A co-worker told me that it might be possible to use JConsole to view the contents of an EhCache cache at any time in production. I&#39;m wondering: is this true, and if so how/why? And more importantly, would merely peeking at the cache&#39;s contents cause performance issues for the app (like starting a profiler would)?","title":"How to view contents of EhCache cache in production","body":"<p>A co-worker told me that it might be possible to use JConsole to view the contents of an EhCache cache at any time in production. I'm wondering: is this true, and if so how/why? And more importantly, would merely peeking at the cache's contents cause performance issues for the app (like starting a profiler would)?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653698631,"post_id":72411743,"comment_id":127921711,"body_markdown":"`MouseInfo.getPointerInfo().getLocation();` &lt;- Nope, use a `MouseListener`","body":"<code>MouseInfo.getPointerInfo().getLocation();</code> &lt;- Nope, use a <code>MouseListener</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653698884,"post_id":72411743,"comment_id":127921742,"body_markdown":"A lot of what you&#39;re describing is &quot;basic&quot; trigonometry (I say basic, but I&#39;m an idiot, so it&#39;s all just a confusing mess for me &#128540;)","body":"A lot of what you&#39;re describing is &quot;basic&quot; trigonometry (I say basic, but I&#39;m an idiot, so it&#39;s all just a confusing mess for me 😜)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1653709822,"post_id":72411743,"comment_id":127922854,"body_markdown":"Usually you override method `paintComponent` and not `paint`. Refer to [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) lesson in _Creating a GUI With Swing_ trail of Oracle&#39;s Java tutorials. Also, I think that people who are not using IntelliJ as their IDE (like me) won&#39;t be able to help you because of the `MainMenu.form` file.","body":"Usually you override method <code>paintComponent</code> and not <code>paint</code>. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> lesson in <i>Creating a GUI With Swing</i> trail of Oracle&#39;s Java tutorials. Also, I think that people who are not using IntelliJ as their IDE (like me) won&#39;t be able to help you because of the <code>MainMenu.form</code> file."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1653711112,"post_id":72411743,"comment_id":127922972,"body_markdown":"*&quot;The GitHub is linked here:&quot;* No thanks. All relevant code should be included in the question in the form of a [mre].","body":"<i>&quot;The GitHub is linked here:&quot;</i> No thanks. All relevant code should be included in the question in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667940290,"creation_date":1653712371,"answer_id":72412859,"question_id":72411743,"body_markdown":"So, your problem basically boils down to a series of trigonometry problems ... yea (can you feel the sarcasm &#128540;).\r\n\r\nBut what do I mean?  So, you want to find the end point of the barrel, based on it&#39;s current angle of rotation?  Well, you will need to know the length of barrel, this will give you a radius around which the barrel can travel, from that you can simply perform a &quot;point on a circle&quot; calculation.\r\n\r\nWant to know the path of the projectile, calculate the &quot;point on a circle&quot; based on a radius greater than the visible area and then draw a line between the barrel and this point, that&#39;s your path.  Told you, trigonometry.\r\n\r\nSo, I started by creating a simple entity which would end up looking something like (with color guides)...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe turret and the body are seperate images, but when drawn on top of each other, they will appear as above, this is really important, as this saves so much effort.\r\n\r\nThe turret then has a specified radius and can rotate easily around the body\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you look really hard, the turret is actually not centered around the &quot;natural&quot; center of the image, but by laying it out this way, we can easily rotate around the mid point of the image - so much easier.\r\n\r\nOkay, that all sounds fun, let&#39;s start with a basic concept of our &quot;tank&quot; entity...\r\n\r\n    public class Tank {\r\n        private BufferedImage body;\r\n        private BufferedImage turret;\r\n\r\n        private int x;\r\n        private int y;\r\n\r\n        private double bodyAngle = 0;\r\n        private double turretAngle = 0;\r\n\r\n        private int width;\r\n        private int height;\r\n\r\n        private int midX;\r\n        private int midY;\r\n\r\n        public Tank() throws IOException {\r\n            body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\r\n            turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\r\n\r\n            width = body.getWidth();\r\n            height = body.getHeight();\r\n\r\n            midX = width / 2;\r\n            midY = height / 2;\r\n        }\r\n\r\n        public int getX() {\r\n            return x;\r\n        }\r\n\r\n        public int getY() {\r\n            return y;\r\n        }\r\n\r\n        public void setX(int x) {\r\n            this.x = x;\r\n        }\r\n\r\n        public void setY(int y) {\r\n            this.y = y;\r\n        }\r\n\r\n        public double getBodyAngle() {\r\n            return bodyAngle;\r\n        }\r\n\r\n        public double getTurretAngle() {\r\n            return turretAngle;\r\n        }\r\n\r\n        public void setBodyAngle(double bodyAngle) {\r\n            this.bodyAngle = bodyAngle;\r\n        }\r\n\r\n        public void setTurretAngle(double turretAngle) {\r\n            this.turretAngle = turretAngle;\r\n        }\r\n\r\n        // This represents the &quot;unrotated&quot; width\r\n        public int getWidth() {\r\n            return width;\r\n        }\r\n\r\n        // This represents the &quot;unrotated&quot; height\r\n        public int getHeight() {\r\n            return height;\r\n        }\r\n\r\n        protected int getMidX() {\r\n            return midX;\r\n        }\r\n\r\n        protected int getMidY() {\r\n            return midY;\r\n        }\r\n\r\n        protected BufferedImage getBody() {\r\n            return body;\r\n        }\r\n\r\n        protected BufferedImage getTurret() {\r\n            return turret;\r\n        }\r\n\r\n        public void paint(Graphics2D master, ImageObserver observer) {\r\n            Graphics2D g2d = (Graphics2D) master.create();\r\n            g2d.translate(getX() - getMidX(), getY() - getMidY());\r\n\r\n            g2d.setColor(Color.RED);\r\n            g2d.drawOval(0, 0, getWidth(), getHeight());\r\n\r\n            Graphics2D bodyG = (Graphics2D) g2d.create();\r\n            bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\r\n            // &gt;&gt;&gt; Debug\r\n            bodyG.setColor(Color.ORANGE.darker());\r\n            bodyG.drawRect(0, 0, 64, 64);\r\n            // &lt;&lt;&lt; Debug\r\n            bodyG.drawImage(getBody(), 0, 0, observer);\r\n            bodyG.dispose();\r\n\r\n            Graphics2D turrtG = (Graphics2D) g2d.create();\r\n            turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\r\n            // &gt;&gt;&gt; Debug\r\n            turrtG.setColor(Color.GREEN.darker());\r\n            // I mesured the turrent size in a image editor\r\n            // The acutal image size is the same as the body\r\n            // in order to make the workflow simpler\r\n            turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\r\n            // &lt;&lt;&lt; Debug\r\n            turrtG.drawImage(getTurret(), 0, 0, observer);\r\n            turrtG.dispose();\r\n\r\n            g2d.dispose();\r\n        }\r\n    }\r\n\r\nThe important things to note here are...\r\n\r\n* The x/y position of the tank represents it&#39;s &quot;center&quot; point\r\n* The body and turret can rotate independently of each other\r\n\r\nNow, we can make the turret look at the mouse by using a `MouseMotionListener` and, you guessed it, some more trigonometry\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    public class GamePane extends JPanel {\r\n\r\n        private Tank tank;\r\n        private Point mousePoint;\r\n\r\n        public GamePane() throws IOException {\r\n            tank = new Tank();\r\n            addMouseMotionListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseMoved(MouseEvent e) {\r\n                    mousePoint = e.getPoint();\r\n                }\r\n            });\r\n            tank.setX(200);\r\n            tank.setY(200);\r\n\r\n            Timer timer = new Timer(5, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    if (mousePoint != null) {\r\n                        double deltaX = tank.getX() - mousePoint.x;\r\n                        double deltaY = tank.getY() - mousePoint.y;\r\n                        // Because the image is pointing up, we need to offset\r\n                        // the rotation by 90 for the API\r\n                        double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\r\n                        tank.setTurretAngle(rotation);\r\n                    }\r\n                    repaint();\r\n                }\r\n            });\r\n            timer.start();\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(400, 400);\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2d = (Graphics2D) g.create();\r\n            tank.paint(g2d, this);\r\n            // I don&#39;t trust the tanks paint process ;)\r\n            g2d.dispose();\r\n            g2d = (Graphics2D) g.create();\r\n\r\n            // This is all debug\r\n            if (mousePoint != null) {\r\n                // The radius around the tank based on the mouse&#39;s current location\r\n                double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\r\n                g2d.setColor(Color.MAGENTA);\r\n                g2d.draw(new Ellipse2D.Double(\r\n                        tank.getX() - radius,\r\n                        tank.getY() - radius,\r\n                        radius * 2,\r\n                        radius * 2));\r\n            }\r\n            g2d.dispose();\r\n        }\r\n    }\r\n\r\nThe &quot;core&quot; functionality is in the `Timer` and looks like...\r\n\r\n    double deltaX = tank.getX() - mousePoint.x;\r\n    double deltaY = tank.getY() - mousePoint.y;\r\n    // Because the image is pointing up, we need to offset\r\n    // the rotation by 90 for the API\r\n    double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\r\n\r\nIt&#39;s important to note that the `Graphics` API and `Math` API have a different concept of `0` (yea).\r\n\r\nOkay, but how do we find the projectile path?!  Well, more trigonometry!\r\n\r\nBut first, we need some help...\r\n\r\n    public class Util {\r\n        public static Point2D getPointOnCircle(double degress, double offset, double radius) {\r\n            double rads = Math.toRadians(degress + offset); // 0 becomes the top\r\n\r\n            // Calculate the outter point of the line\r\n            double xPosy = Math.cos(rads) * radius;\r\n            double yPosy = Math.sin(rads) * radius;\r\n\r\n            return new Point2D.Double(xPosy, yPosy);\r\n        }\r\n\r\n        public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\r\n            Point2D poc = getPointOnCircle(degress, offset, radius);\r\n            return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\r\n        }\r\n    }\r\n\r\nSo, all this does is provide some basic &quot;point on circle&quot; calculations.  From this, we can calculate the &quot;point&quot; in the &quot;world&quot; we&#39;re looking for...\r\n\r\nSo, we can add...\r\n\r\n\r\n    public Point2D getBusinessEndOfBarrel() {\r\n        // I&#39;ve deliberatly set up the images to be the same size, so this\r\n        // can be made easier.  If your turren is a different size/position\r\n        // then you will need calculate this yourself\r\n\r\n        // Also, we&#39;re calculating this in &quot;world&quot; space\r\n        int centerX = getX();\r\n        int centerY = getY();\r\n        return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\r\n    }\r\n\r\nto our `Tank` entity, this will return the &quot;world&quot; coordinates that represents the end of the barrel.\r\n\r\nLet&#39;s add some &quot;debug&quot; graphics to our `paintComponent`...\r\n\r\n    // This is all debug\r\n    if (mousePoint != null) {\r\n        // The radius around the tank based on the mouse&#39;s current location\r\n        double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\r\n        g2d.setColor(Color.MAGENTA);\r\n        g2d.draw(new Ellipse2D.Double(\r\n                tank.getX() - radius,\r\n                tank.getY() - radius,\r\n                radius * 2,\r\n                radius * 2));\r\n\r\n        // From point, base the turrets current angle\r\n        Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n\r\n        // Mid point of the tank in the world\r\n        int worldMidX = tank.getX();\r\n        int worldMidY = tank.getY();\r\n        // The point on the circle where the mouse is, based on the turrents current angle\r\n        // which the diection the turret is pointing\r\n        Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\r\n\r\n        // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it&#39;s easier \r\n        // to calculate\r\n        double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n        Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\r\n        g2d.setColor(Color.CYAN);\r\n        // The projectiles path\r\n        g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\r\n\r\n        // A line from the barrel to the mouse point\r\n        g2d.setColor(Color.BLUE);\r\n        g2d.draw(new Line2D.Double(fromPoint, toPoint));\r\n    }\r\n\r\nThis will add...\r\n\r\n* A guide which represents the target circle created by the mouse\r\n* A projectile line from the barrel to the mouse\r\n* A projectile line from the barrel to outside the visible area\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nYou might be surprised that this actually now provides the answer to the question.  You have the start point and end point of the projectile, now you just need some way to animate it...\r\n\r\nWhen it comes to animation, I tend to prefer time based animations, but since the projectile might travel a variable distance, what we really need is a linear progression, so if it was to travel a long distance or a short distance, it would travel at the same speed.\r\n\r\nNow, I banged by head against Google for a bit and was able to come up with...\r\n\r\n    public class Projectile {\r\n        private Point2D from;\r\n        private Point2D to;\r\n\r\n        private Point2D current;\r\n        \r\n        private long lastUpdate = 0;\r\n        \r\n        private double deltaX;\r\n        private double deltaY;\r\n\r\n        public Projectile(Point2D from, Point2D to) {\r\n            this.from = from;\r\n            this.to = to;\r\n            current = new Point2D.Double(from.getX(), from.getY());\r\n\r\n            double deltaX = from.getX() - to.getX();\r\n            double deltaY = from.getY() - to.getY();\r\n            double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\r\n            \r\n            this.deltaY = Math.sin(angle) * 100;\r\n            this.deltaX = Math.cos(angle) * 100;\r\n            lastUpdate = System.currentTimeMillis();\r\n        }\r\n\r\n        public Point2D getFrom() {\r\n            return from;\r\n        }\r\n\r\n        public Point2D getTo() {\r\n            return to;\r\n        }\r\n\r\n        public Point2D getLocation() {\r\n            return current;\r\n        }\r\n        \r\n        public void tick() {\r\n            long elapsedTime = System.currentTimeMillis() - lastUpdate;\r\n            lastUpdate = System.currentTimeMillis();\r\n            \r\n            double x = current.getX();\r\n            double y = current.getY();\r\n            \r\n            x += deltaX * (elapsedTime / 1000d);\r\n            y += deltaY * (elapsedTime / 1000d);\r\n            \r\n            current.setLocation(x, y);\r\n        }\r\n    }\r\n\r\nThis will basically calculate a x/y delta which needs to be applied to move the projectile from the current point to it&#39;s target point using a constant speed.\r\n\r\nNow we can add a `MouseListener`...\r\n\r\n    addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            int worldMidX = tank.getX();\r\n            int worldMidY = tank.getY();\r\n            Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n            double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n            Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\r\n\r\n            Projectile projectile = new Projectile(fromPoint, toPoint);\r\n            projectiles.add(projectile);\r\n        }\r\n    });\r\n\r\nUpdate the projectiles in our main loop...\r\n\r\n    List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\r\n    Rectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\r\n    for (Projectile projectile : projectiles) {\r\n        projectile.tick();\r\n        Point2D current = projectile.getLocation();\r\n        if (!visibleBounds.contains(current)) {\r\n            outOfScopeProjectiles.add(projectile);\r\n        }\r\n    }\r\n    projectiles.removeAll(outOfScopeProjectiles);\r\n\r\nAnd update our `paintComponent`...\r\n\r\n    g2d.setColor(Color.RED);\r\n    for (Projectile projectile : projectiles) {\r\n        Point2D current = projectile.getLocation();\r\n        g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\r\n        // &gt;&gt;&gt; DEBUG\r\n        g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\r\n        // &lt;&lt; DEBUG\r\n    }\r\n\r\n[![enter image description here][5]][5]\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Line2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.ImageObserver;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new GamePane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePane extends JPanel {\r\n\r\n            private Tank tank;\r\n            private Point mousePoint;\r\n\r\n            private List&lt;Projectile&gt; projectiles = new ArrayList&lt;&gt;(8);\r\n\r\n            public GamePane() throws IOException {\r\n                tank = new Tank();\r\n                addMouseMotionListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        mousePoint = e.getPoint();\r\n                    }\r\n                });\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        int worldMidX = tank.getX();\r\n                        int worldMidY = tank.getY();\r\n                        Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n                        double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n                        Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\r\n\r\n                        Projectile projectile = new Projectile(fromPoint, toPoint);\r\n                        projectiles.add(projectile);\r\n                    }\r\n                });\r\n                tank.setX(200);\r\n                tank.setY(200);\r\n\r\n                Timer timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (mousePoint != null) {\r\n                            double deltaX = tank.getX() - mousePoint.x;\r\n                            double deltaY = tank.getY() - mousePoint.y;\r\n                            // Because the image is pointing up, we need to offset\r\n                            // the rotation by 90 for the API\r\n                            double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\r\n                            tank.setTurretAngle(rotation);\r\n                        }\r\n\r\n                        List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\r\n                        Rectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\r\n                        for (Projectile projectile : projectiles) {\r\n                            projectile.tick();\r\n                            Point2D current = projectile.getLocation();\r\n                            if (!visibleBounds.contains(current)) {\r\n                                outOfScopeProjectiles.add(projectile);\r\n                            }\r\n                        }\r\n                        projectiles.removeAll(outOfScopeProjectiles);\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                tank.paint(g2d, this);\r\n                // I don&#39;t trust the tanks paint process ;)\r\n                g2d.dispose();\r\n                g2d = (Graphics2D) g.create();\r\n\r\n                // This is all debug\r\n                if (mousePoint != null) {\r\n                    // The radius around the tank based on the mouse&#39;s current location\r\n                    double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\r\n                    g2d.setColor(Color.MAGENTA);\r\n                    g2d.draw(new Ellipse2D.Double(\r\n                            tank.getX() - radius,\r\n                            tank.getY() - radius,\r\n                            radius * 2,\r\n                            radius * 2));\r\n\r\n                    // From point, base the turrets current angle\r\n                    Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n\r\n                    // Mid point of the tank in the world\r\n                    int worldMidX = tank.getX();\r\n                    int worldMidY = tank.getY();\r\n                    // The point on the circle where the mouse is, based on the turrents current angle\r\n                    // which the diection the turret is pointing\r\n                    Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\r\n\r\n                    // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it&#39;s easier \r\n                    // to calculate\r\n                    double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n                    Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\r\n                    g2d.setColor(Color.CYAN);\r\n                    // The projectiles path\r\n                    g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\r\n\r\n                    // A line from the barrel to the mouse point\r\n                    g2d.setColor(Color.BLUE);\r\n                    g2d.draw(new Line2D.Double(fromPoint, toPoint));\r\n                }\r\n                g2d.setColor(Color.RED);\r\n                for (Projectile projectile : projectiles) {\r\n                    Point2D current = projectile.getLocation();\r\n                    g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\r\n                    // &gt;&gt;&gt; DEBUG\r\n                    g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\r\n                    // &lt;&lt; DEBUG\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public class Util {\r\n            public static Point2D getPointOnCircle(double degress, double offset, double radius) {\r\n                double rads = Math.toRadians(degress + offset); // 0 becomes the top\r\n\r\n                // Calculate the outter point of the line\r\n                double xPosy = Math.cos(rads) * radius;\r\n                double yPosy = Math.sin(rads) * radius;\r\n\r\n                return new Point2D.Double(xPosy, yPosy);\r\n            }\r\n\r\n            public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\r\n                Point2D poc = getPointOnCircle(degress, offset, radius);\r\n                return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\r\n            }\r\n        }\r\n\r\n        public class Projectile {\r\n            private Point2D from;\r\n            private Point2D to;\r\n\r\n            private Point2D current;\r\n\r\n            private long lastUpdate = 0;\r\n\r\n            private double deltaX;\r\n            private double deltaY;\r\n\r\n            public Projectile(Point2D from, Point2D to) {\r\n                this.from = from;\r\n                this.to = to;\r\n                current = new Point2D.Double(from.getX(), from.getY());\r\n\r\n                double deltaX = from.getX() - to.getX();\r\n                double deltaY = from.getY() - to.getY();\r\n                double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\r\n\r\n                this.deltaY = Math.sin(angle) * 100;\r\n                this.deltaX = Math.cos(angle) * 100;\r\n                lastUpdate = System.currentTimeMillis();\r\n            }\r\n\r\n            public Point2D getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public Point2D getTo() {\r\n                return to;\r\n            }\r\n\r\n            public Point2D getLocation() {\r\n                return current;\r\n            }\r\n\r\n            public void tick() {\r\n                long elapsedTime = System.currentTimeMillis() - lastUpdate;\r\n                lastUpdate = System.currentTimeMillis();\r\n\r\n                double x = current.getX();\r\n                double y = current.getY();\r\n\r\n                x += deltaX * (elapsedTime / 1000d);\r\n                y += deltaY * (elapsedTime / 1000d);\r\n\r\n                current.setLocation(x, y);\r\n            }\r\n\r\n        }\r\n\r\n        public class Tank {\r\n            private BufferedImage body;\r\n            private BufferedImage turret;\r\n\r\n            private int x;\r\n            private int y;\r\n\r\n            private double bodyAngle = 0;\r\n            private double turretAngle = 0;\r\n\r\n            private int width;\r\n            private int height;\r\n\r\n            private int midX;\r\n            private int midY;\r\n\r\n            public Tank() throws IOException {\r\n                body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\r\n                turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\r\n\r\n                width = body.getWidth();\r\n                height = body.getHeight();\r\n\r\n                midX = width / 2;\r\n                midY = height / 2;\r\n            }\r\n\r\n            public int getX() {\r\n                return x;\r\n            }\r\n\r\n            public int getY() {\r\n                return y;\r\n            }\r\n\r\n            public void setX(int x) {\r\n                this.x = x;\r\n            }\r\n\r\n            public void setY(int y) {\r\n                this.y = y;\r\n            }\r\n\r\n            public double getBodyAngle() {\r\n                return bodyAngle;\r\n            }\r\n\r\n            public double getTurretAngle() {\r\n                return turretAngle;\r\n            }\r\n\r\n            public void setBodyAngle(double bodyAngle) {\r\n                this.bodyAngle = bodyAngle;\r\n            }\r\n\r\n            public void setTurretAngle(double turretAngle) {\r\n                this.turretAngle = turretAngle;\r\n            }\r\n\r\n            // This represents the &quot;unrotated&quot; width\r\n            public int getWidth() {\r\n                return width;\r\n            }\r\n\r\n            // This represents the &quot;unrotated&quot; height\r\n            public int getHeight() {\r\n                return height;\r\n            }\r\n\r\n            protected int getMidX() {\r\n                return midX;\r\n            }\r\n\r\n            protected int getMidY() {\r\n                return midY;\r\n            }\r\n\r\n            protected BufferedImage getBody() {\r\n                return body;\r\n            }\r\n\r\n            protected BufferedImage getTurret() {\r\n                return turret;\r\n            }\r\n\r\n            public Point2D getBusinessEndOfBarrel() {\r\n                // I&#39;ve deliberatly set up the images to be the same size, so this\r\n                // can be made easier.  If your turren is a different size/position\r\n                // then you will need calculate this yourself\r\n\r\n                // Also, we&#39;re calculating this in &quot;world&quot; space\r\n                int centerX = getX();\r\n                int centerY = getY();\r\n                return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\r\n            }\r\n\r\n            public void paint(Graphics2D master, ImageObserver observer) {\r\n                Graphics2D g2d = (Graphics2D) master.create();\r\n                g2d.translate(getX() - getMidX(), getY() - getMidY());\r\n\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawOval(0, 0, getWidth(), getHeight());\r\n\r\n                Graphics2D bodyG = (Graphics2D) g2d.create();\r\n                bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\r\n                // &gt;&gt;&gt; Debug\r\n                bodyG.setColor(Color.ORANGE.darker());\r\n                bodyG.drawRect(0, 0, 64, 64);\r\n                // &lt;&lt;&lt; Debug\r\n                bodyG.drawImage(getBody(), 0, 0, observer);\r\n                bodyG.dispose();\r\n\r\n                Graphics2D turrtG = (Graphics2D) g2d.create();\r\n                turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\r\n                // &gt;&gt;&gt; Debug\r\n                turrtG.setColor(Color.GREEN.darker());\r\n                // I mesured the turrent size in a image editor\r\n                // The acutal image size is the same as the body\r\n                // in order to make the workflow simpler\r\n                turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\r\n                // &lt;&lt;&lt; Debug\r\n                turrtG.drawImage(getTurret(), 0, 0, observer);\r\n                turrtG.dispose();\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zPeVN.png\r\n  [2]: https://i.stack.imgur.com/WUlgN.png\r\n  [3]: https://i.stack.imgur.com/k4Z3U.gif\r\n  [4]: https://i.stack.imgur.com/EkRam.gif\r\n  [5]: https://i.stack.imgur.com/hsG2w.gif","title":"How to move paint graphics along slope?","body":"<p>So, your problem basically boils down to a series of trigonometry problems ... yea (can you feel the sarcasm 😜).</p>\n<p>But what do I mean?  So, you want to find the end point of the barrel, based on it's current angle of rotation?  Well, you will need to know the length of barrel, this will give you a radius around which the barrel can travel, from that you can simply perform a &quot;point on a circle&quot; calculation.</p>\n<p>Want to know the path of the projectile, calculate the &quot;point on a circle&quot; based on a radius greater than the visible area and then draw a line between the barrel and this point, that's your path.  Told you, trigonometry.</p>\n<p>So, I started by creating a simple entity which would end up looking something like (with color guides)...</p>\n<p><a href=\"https://i.stack.imgur.com/zPeVN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zPeVN.png\" alt=\"enter image description here\" /></a></p>\n<p>The turret and the body are seperate images, but when drawn on top of each other, they will appear as above, this is really important, as this saves so much effort.</p>\n<p>The turret then has a specified radius and can rotate easily around the body</p>\n<p><a href=\"https://i.stack.imgur.com/WUlgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUlgN.png\" alt=\"enter image description here\" /></a></p>\n<p>If you look really hard, the turret is actually not centered around the &quot;natural&quot; center of the image, but by laying it out this way, we can easily rotate around the mid point of the image - so much easier.</p>\n<p>Okay, that all sounds fun, let's start with a basic concept of our &quot;tank&quot; entity...</p>\n<pre><code>public class Tank {\n    private BufferedImage body;\n    private BufferedImage turret;\n\n    private int x;\n    private int y;\n\n    private double bodyAngle = 0;\n    private double turretAngle = 0;\n\n    private int width;\n    private int height;\n\n    private int midX;\n    private int midY;\n\n    public Tank() throws IOException {\n        body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\n        turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\n\n        width = body.getWidth();\n        height = body.getHeight();\n\n        midX = width / 2;\n        midY = height / 2;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public double getBodyAngle() {\n        return bodyAngle;\n    }\n\n    public double getTurretAngle() {\n        return turretAngle;\n    }\n\n    public void setBodyAngle(double bodyAngle) {\n        this.bodyAngle = bodyAngle;\n    }\n\n    public void setTurretAngle(double turretAngle) {\n        this.turretAngle = turretAngle;\n    }\n\n    // This represents the &quot;unrotated&quot; width\n    public int getWidth() {\n        return width;\n    }\n\n    // This represents the &quot;unrotated&quot; height\n    public int getHeight() {\n        return height;\n    }\n\n    protected int getMidX() {\n        return midX;\n    }\n\n    protected int getMidY() {\n        return midY;\n    }\n\n    protected BufferedImage getBody() {\n        return body;\n    }\n\n    protected BufferedImage getTurret() {\n        return turret;\n    }\n\n    public void paint(Graphics2D master, ImageObserver observer) {\n        Graphics2D g2d = (Graphics2D) master.create();\n        g2d.translate(getX() - getMidX(), getY() - getMidY());\n\n        g2d.setColor(Color.RED);\n        g2d.drawOval(0, 0, getWidth(), getHeight());\n\n        Graphics2D bodyG = (Graphics2D) g2d.create();\n        bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\n        // &gt;&gt;&gt; Debug\n        bodyG.setColor(Color.ORANGE.darker());\n        bodyG.drawRect(0, 0, 64, 64);\n        // &lt;&lt;&lt; Debug\n        bodyG.drawImage(getBody(), 0, 0, observer);\n        bodyG.dispose();\n\n        Graphics2D turrtG = (Graphics2D) g2d.create();\n        turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\n        // &gt;&gt;&gt; Debug\n        turrtG.setColor(Color.GREEN.darker());\n        // I mesured the turrent size in a image editor\n        // The acutal image size is the same as the body\n        // in order to make the workflow simpler\n        turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\n        // &lt;&lt;&lt; Debug\n        turrtG.drawImage(getTurret(), 0, 0, observer);\n        turrtG.dispose();\n\n        g2d.dispose();\n    }\n}\n</code></pre>\n<p>The important things to note here are...</p>\n<ul>\n<li>The x/y position of the tank represents it's &quot;center&quot; point</li>\n<li>The body and turret can rotate independently of each other</li>\n</ul>\n<p>Now, we can make the turret look at the mouse by using a <code>MouseMotionListener</code> and, you guessed it, some more trigonometry</p>\n<p><a href=\"https://i.stack.imgur.com/k4Z3U.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k4Z3U.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class GamePane extends JPanel {\n\n    private Tank tank;\n    private Point mousePoint;\n\n    public GamePane() throws IOException {\n        tank = new Tank();\n        addMouseMotionListener(new MouseAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e) {\n                mousePoint = e.getPoint();\n            }\n        });\n        tank.setX(200);\n        tank.setY(200);\n\n        Timer timer = new Timer(5, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (mousePoint != null) {\n                    double deltaX = tank.getX() - mousePoint.x;\n                    double deltaY = tank.getY() - mousePoint.y;\n                    // Because the image is pointing up, we need to offset\n                    // the rotation by 90 for the API\n                    double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\n                    tank.setTurretAngle(rotation);\n                }\n                repaint();\n            }\n        });\n        timer.start();\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(400, 400);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g.create();\n        tank.paint(g2d, this);\n        // I don't trust the tanks paint process ;)\n        g2d.dispose();\n        g2d = (Graphics2D) g.create();\n\n        // This is all debug\n        if (mousePoint != null) {\n            // The radius around the tank based on the mouse's current location\n            double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\n            g2d.setColor(Color.MAGENTA);\n            g2d.draw(new Ellipse2D.Double(\n                    tank.getX() - radius,\n                    tank.getY() - radius,\n                    radius * 2,\n                    radius * 2));\n        }\n        g2d.dispose();\n    }\n}\n</code></pre>\n<p>The &quot;core&quot; functionality is in the <code>Timer</code> and looks like...</p>\n<pre><code>double deltaX = tank.getX() - mousePoint.x;\ndouble deltaY = tank.getY() - mousePoint.y;\n// Because the image is pointing up, we need to offset\n// the rotation by 90 for the API\ndouble rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\n</code></pre>\n<p>It's important to note that the <code>Graphics</code> API and <code>Math</code> API have a different concept of <code>0</code> (yea).</p>\n<p>Okay, but how do we find the projectile path?!  Well, more trigonometry!</p>\n<p>But first, we need some help...</p>\n<pre><code>public class Util {\n    public static Point2D getPointOnCircle(double degress, double offset, double radius) {\n        double rads = Math.toRadians(degress + offset); // 0 becomes the top\n\n        // Calculate the outter point of the line\n        double xPosy = Math.cos(rads) * radius;\n        double yPosy = Math.sin(rads) * radius;\n\n        return new Point2D.Double(xPosy, yPosy);\n    }\n\n    public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\n        Point2D poc = getPointOnCircle(degress, offset, radius);\n        return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\n    }\n}\n</code></pre>\n<p>So, all this does is provide some basic &quot;point on circle&quot; calculations.  From this, we can calculate the &quot;point&quot; in the &quot;world&quot; we're looking for...</p>\n<p>So, we can add...</p>\n<pre><code>public Point2D getBusinessEndOfBarrel() {\n    // I've deliberatly set up the images to be the same size, so this\n    // can be made easier.  If your turren is a different size/position\n    // then you will need calculate this yourself\n\n    // Also, we're calculating this in &quot;world&quot; space\n    int centerX = getX();\n    int centerY = getY();\n    return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\n}\n</code></pre>\n<p>to our <code>Tank</code> entity, this will return the &quot;world&quot; coordinates that represents the end of the barrel.</p>\n<p>Let's add some &quot;debug&quot; graphics to our <code>paintComponent</code>...</p>\n<pre><code>// This is all debug\nif (mousePoint != null) {\n    // The radius around the tank based on the mouse's current location\n    double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\n    g2d.setColor(Color.MAGENTA);\n    g2d.draw(new Ellipse2D.Double(\n            tank.getX() - radius,\n            tank.getY() - radius,\n            radius * 2,\n            radius * 2));\n\n    // From point, base the turrets current angle\n    Point2D fromPoint = tank.getBusinessEndOfBarrel();\n\n    // Mid point of the tank in the world\n    int worldMidX = tank.getX();\n    int worldMidY = tank.getY();\n    // The point on the circle where the mouse is, based on the turrents current angle\n    // which the diection the turret is pointing\n    Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\n\n    // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it's easier \n    // to calculate\n    double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n    Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\n    g2d.setColor(Color.CYAN);\n    // The projectiles path\n    g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\n\n    // A line from the barrel to the mouse point\n    g2d.setColor(Color.BLUE);\n    g2d.draw(new Line2D.Double(fromPoint, toPoint));\n}\n</code></pre>\n<p>This will add...</p>\n<ul>\n<li>A guide which represents the target circle created by the mouse</li>\n<li>A projectile line from the barrel to the mouse</li>\n<li>A projectile line from the barrel to outside the visible area</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/EkRam.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EkRam.gif\" alt=\"enter image description here\" /></a></p>\n<p>You might be surprised that this actually now provides the answer to the question.  You have the start point and end point of the projectile, now you just need some way to animate it...</p>\n<p>When it comes to animation, I tend to prefer time based animations, but since the projectile might travel a variable distance, what we really need is a linear progression, so if it was to travel a long distance or a short distance, it would travel at the same speed.</p>\n<p>Now, I banged by head against Google for a bit and was able to come up with...</p>\n<pre><code>public class Projectile {\n    private Point2D from;\n    private Point2D to;\n\n    private Point2D current;\n    \n    private long lastUpdate = 0;\n    \n    private double deltaX;\n    private double deltaY;\n\n    public Projectile(Point2D from, Point2D to) {\n        this.from = from;\n        this.to = to;\n        current = new Point2D.Double(from.getX(), from.getY());\n\n        double deltaX = from.getX() - to.getX();\n        double deltaY = from.getY() - to.getY();\n        double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\n        \n        this.deltaY = Math.sin(angle) * 100;\n        this.deltaX = Math.cos(angle) * 100;\n        lastUpdate = System.currentTimeMillis();\n    }\n\n    public Point2D getFrom() {\n        return from;\n    }\n\n    public Point2D getTo() {\n        return to;\n    }\n\n    public Point2D getLocation() {\n        return current;\n    }\n    \n    public void tick() {\n        long elapsedTime = System.currentTimeMillis() - lastUpdate;\n        lastUpdate = System.currentTimeMillis();\n        \n        double x = current.getX();\n        double y = current.getY();\n        \n        x += deltaX * (elapsedTime / 1000d);\n        y += deltaY * (elapsedTime / 1000d);\n        \n        current.setLocation(x, y);\n    }\n}\n</code></pre>\n<p>This will basically calculate a x/y delta which needs to be applied to move the projectile from the current point to it's target point using a constant speed.</p>\n<p>Now we can add a <code>MouseListener</code>...</p>\n<pre><code>addMouseListener(new MouseAdapter() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        int worldMidX = tank.getX();\n        int worldMidY = tank.getY();\n        Point2D fromPoint = tank.getBusinessEndOfBarrel();\n        double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n        Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\n\n        Projectile projectile = new Projectile(fromPoint, toPoint);\n        projectiles.add(projectile);\n    }\n});\n</code></pre>\n<p>Update the projectiles in our main loop...</p>\n<pre><code>List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\nRectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\nfor (Projectile projectile : projectiles) {\n    projectile.tick();\n    Point2D current = projectile.getLocation();\n    if (!visibleBounds.contains(current)) {\n        outOfScopeProjectiles.add(projectile);\n    }\n}\nprojectiles.removeAll(outOfScopeProjectiles);\n</code></pre>\n<p>And update our <code>paintComponent</code>...</p>\n<pre><code>g2d.setColor(Color.RED);\nfor (Projectile projectile : projectiles) {\n    Point2D current = projectile.getLocation();\n    g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\n    // &gt;&gt;&gt; DEBUG\n    g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\n    // &lt;&lt; DEBUG\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hsG2w.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsG2w.gif\" alt=\"enter image description here\" /></a></p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Line2D;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ImageObserver;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new GamePane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class GamePane extends JPanel {\n\n        private Tank tank;\n        private Point mousePoint;\n\n        private List&lt;Projectile&gt; projectiles = new ArrayList&lt;&gt;(8);\n\n        public GamePane() throws IOException {\n            tank = new Tank();\n            addMouseMotionListener(new MouseAdapter() {\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    mousePoint = e.getPoint();\n                }\n            });\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    int worldMidX = tank.getX();\n                    int worldMidY = tank.getY();\n                    Point2D fromPoint = tank.getBusinessEndOfBarrel();\n                    double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n                    Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\n\n                    Projectile projectile = new Projectile(fromPoint, toPoint);\n                    projectiles.add(projectile);\n                }\n            });\n            tank.setX(200);\n            tank.setY(200);\n\n            Timer timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (mousePoint != null) {\n                        double deltaX = tank.getX() - mousePoint.x;\n                        double deltaY = tank.getY() - mousePoint.y;\n                        // Because the image is pointing up, we need to offset\n                        // the rotation by 90 for the API\n                        double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\n                        tank.setTurretAngle(rotation);\n                    }\n\n                    List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\n                    Rectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\n                    for (Projectile projectile : projectiles) {\n                        projectile.tick();\n                        Point2D current = projectile.getLocation();\n                        if (!visibleBounds.contains(current)) {\n                            outOfScopeProjectiles.add(projectile);\n                        }\n                    }\n                    projectiles.removeAll(outOfScopeProjectiles);\n\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            tank.paint(g2d, this);\n            // I don't trust the tanks paint process ;)\n            g2d.dispose();\n            g2d = (Graphics2D) g.create();\n\n            // This is all debug\n            if (mousePoint != null) {\n                // The radius around the tank based on the mouse's current location\n                double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\n                g2d.setColor(Color.MAGENTA);\n                g2d.draw(new Ellipse2D.Double(\n                        tank.getX() - radius,\n                        tank.getY() - radius,\n                        radius * 2,\n                        radius * 2));\n\n                // From point, base the turrets current angle\n                Point2D fromPoint = tank.getBusinessEndOfBarrel();\n\n                // Mid point of the tank in the world\n                int worldMidX = tank.getX();\n                int worldMidY = tank.getY();\n                // The point on the circle where the mouse is, based on the turrents current angle\n                // which the diection the turret is pointing\n                Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\n\n                // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it's easier \n                // to calculate\n                double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n                Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\n                g2d.setColor(Color.CYAN);\n                // The projectiles path\n                g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\n\n                // A line from the barrel to the mouse point\n                g2d.setColor(Color.BLUE);\n                g2d.draw(new Line2D.Double(fromPoint, toPoint));\n            }\n            g2d.setColor(Color.RED);\n            for (Projectile projectile : projectiles) {\n                Point2D current = projectile.getLocation();\n                g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\n                // &gt;&gt;&gt; DEBUG\n                g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\n                // &lt;&lt; DEBUG\n            }\n            g2d.dispose();\n        }\n\n    }\n\n    public class Util {\n        public static Point2D getPointOnCircle(double degress, double offset, double radius) {\n            double rads = Math.toRadians(degress + offset); // 0 becomes the top\n\n            // Calculate the outter point of the line\n            double xPosy = Math.cos(rads) * radius;\n            double yPosy = Math.sin(rads) * radius;\n\n            return new Point2D.Double(xPosy, yPosy);\n        }\n\n        public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\n            Point2D poc = getPointOnCircle(degress, offset, radius);\n            return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\n        }\n    }\n\n    public class Projectile {\n        private Point2D from;\n        private Point2D to;\n\n        private Point2D current;\n\n        private long lastUpdate = 0;\n\n        private double deltaX;\n        private double deltaY;\n\n        public Projectile(Point2D from, Point2D to) {\n            this.from = from;\n            this.to = to;\n            current = new Point2D.Double(from.getX(), from.getY());\n\n            double deltaX = from.getX() - to.getX();\n            double deltaY = from.getY() - to.getY();\n            double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\n\n            this.deltaY = Math.sin(angle) * 100;\n            this.deltaX = Math.cos(angle) * 100;\n            lastUpdate = System.currentTimeMillis();\n        }\n\n        public Point2D getFrom() {\n            return from;\n        }\n\n        public Point2D getTo() {\n            return to;\n        }\n\n        public Point2D getLocation() {\n            return current;\n        }\n\n        public void tick() {\n            long elapsedTime = System.currentTimeMillis() - lastUpdate;\n            lastUpdate = System.currentTimeMillis();\n\n            double x = current.getX();\n            double y = current.getY();\n\n            x += deltaX * (elapsedTime / 1000d);\n            y += deltaY * (elapsedTime / 1000d);\n\n            current.setLocation(x, y);\n        }\n\n    }\n\n    public class Tank {\n        private BufferedImage body;\n        private BufferedImage turret;\n\n        private int x;\n        private int y;\n\n        private double bodyAngle = 0;\n        private double turretAngle = 0;\n\n        private int width;\n        private int height;\n\n        private int midX;\n        private int midY;\n\n        public Tank() throws IOException {\n            body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\n            turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\n\n            width = body.getWidth();\n            height = body.getHeight();\n\n            midX = width / 2;\n            midY = height / 2;\n        }\n\n        public int getX() {\n            return x;\n        }\n\n        public int getY() {\n            return y;\n        }\n\n        public void setX(int x) {\n            this.x = x;\n        }\n\n        public void setY(int y) {\n            this.y = y;\n        }\n\n        public double getBodyAngle() {\n            return bodyAngle;\n        }\n\n        public double getTurretAngle() {\n            return turretAngle;\n        }\n\n        public void setBodyAngle(double bodyAngle) {\n            this.bodyAngle = bodyAngle;\n        }\n\n        public void setTurretAngle(double turretAngle) {\n            this.turretAngle = turretAngle;\n        }\n\n        // This represents the &quot;unrotated&quot; width\n        public int getWidth() {\n            return width;\n        }\n\n        // This represents the &quot;unrotated&quot; height\n        public int getHeight() {\n            return height;\n        }\n\n        protected int getMidX() {\n            return midX;\n        }\n\n        protected int getMidY() {\n            return midY;\n        }\n\n        protected BufferedImage getBody() {\n            return body;\n        }\n\n        protected BufferedImage getTurret() {\n            return turret;\n        }\n\n        public Point2D getBusinessEndOfBarrel() {\n            // I've deliberatly set up the images to be the same size, so this\n            // can be made easier.  If your turren is a different size/position\n            // then you will need calculate this yourself\n\n            // Also, we're calculating this in &quot;world&quot; space\n            int centerX = getX();\n            int centerY = getY();\n            return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\n        }\n\n        public void paint(Graphics2D master, ImageObserver observer) {\n            Graphics2D g2d = (Graphics2D) master.create();\n            g2d.translate(getX() - getMidX(), getY() - getMidY());\n\n            g2d.setColor(Color.RED);\n            g2d.drawOval(0, 0, getWidth(), getHeight());\n\n            Graphics2D bodyG = (Graphics2D) g2d.create();\n            bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\n            // &gt;&gt;&gt; Debug\n            bodyG.setColor(Color.ORANGE.darker());\n            bodyG.drawRect(0, 0, 64, 64);\n            // &lt;&lt;&lt; Debug\n            bodyG.drawImage(getBody(), 0, 0, observer);\n            bodyG.dispose();\n\n            Graphics2D turrtG = (Graphics2D) g2d.create();\n            turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\n            // &gt;&gt;&gt; Debug\n            turrtG.setColor(Color.GREEN.darker());\n            // I mesured the turrent size in a image editor\n            // The acutal image size is the same as the body\n            // in order to make the workflow simpler\n            turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\n            // &lt;&lt;&lt; Debug\n            turrtG.drawImage(getTurret(), 0, 0, observer);\n            turrtG.dispose();\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25409182,"reputation":1,"user_id":19217345,"display_name":"Anthony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653723956,"accepted_answer_id":72412859,"answer_count":1,"score":0,"last_activity_date":1667940290,"creation_date":1653692015,"question_id":72411743,"body_markdown":"I have a tank game where you rotate via A/D keys and move forward/backward with W/S. The turret follows the mouse cursor on the screen. I am attempting to get shooting to work when I click. I get the initial degree of the turret rotation on click, as well as the point at the end of the turret. I set `isShooting()` to check if I am currently shooting at the given moment, and it is set to `true` on click. I use `shotFired()` also set to true on click, to tell whether there is a shot on the screen.\r\n\r\nI want to have the bullet moving along a straight line with a give slope every time I click, from the end of the barrel to off the screen.\r\n\r\nCurrently the bullet moves in the wrong directions and is influenced by movement of the turret. I have been working to find the issue and cannot find it.\r\n\r\n    public void update() {\r\n        playerTank.setCenterTurret(new Point2D.Double(playerTank.xPos() + 67, playerTank.yPos() + 125));\r\n        playerTank.setEndTurret(new Point2D.Double(playerTank.xPos() + ((Math.sin(Math.toRadians(playerTank.getTurretDegree())))) + 63, playerTank.yPos() + ((Math.cos(Math.toRadians(playerTank.getTurretDegree())))) - 25));\r\n        playerTank.setCenterBase(new Point2D.Double(playerTank.xPos() + (playerTank_PNG_WIDTH / 2), playerTank.yPos() + (playerTank_PNG_HEIGHT / 2)));\r\n\r\n        mouseLoc = MouseInfo.getPointerInfo().getLocation();\r\n        SwingUtilities.convertPointFromScreen(mouseLoc, this);\r\n\r\n        mouseLocX = (int) mouseLoc.getX();\r\n        mouseLocY = (int) mouseLoc.getY();\r\n\r\n        mouseDistX = mouseLocX - playerTank.getCenterTurret().getX();\r\n        mouseDistY = mouseLocY - playerTank.getCenterTurret().getY();\r\n\r\n        mouseDegree = angleInRelation(mouseLoc, playerTank.getCenterTurret());\r\n\r\n        if(moveUp) {\r\n            playerTank.setLocation(playerTank.xPos() + (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() - MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\r\n        }\r\n        if(moveDown) {\r\n            playerTank.setLocation(playerTank.xPos() - (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() + MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\r\n        }\r\n        if(rotateLeft &amp;&amp; playerTank.xPos() &gt;= 0) {\r\n            playerTank.setBaseDegree(playerTank.getBaseDegree() - 5);\r\n        }\r\n        if(rotateRight &amp;&amp; playerTank.xPos() + playerTank.getWidth() &lt;= FRAME_WIDTH) {\r\n            playerTank.setBaseDegree(playerTank.getBaseDegree() + 5);\r\n        }\r\n\r\n        mouseDegree -= playerTank.getBaseDegree();\r\n\r\n        this.setBackground(Color.white);\r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    public void paint(Graphics g) {\r\n        this.setBackground(Color.white);\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        g2D.setBackground(Color.white);\r\n        g2D.setColor(Color.white);\r\n\r\n        g2D.fillRect(0, 0, FRAME_WIDTH, FRAME_HEIGHT);\r\n\r\n        paintBase(g2D);\r\n\r\n        playerTank.setTurretDegree(mouseDegree);\r\n        g2D.rotate(Math.toRadians(playerTank.getTurretDegree()), playerTank.xPos() + 67, playerTank.yPos() + 125);\r\n        paintTurret(g2D);\r\n\r\n        paintBullet(g2D);\r\n    }\r\n\r\n    public void paintBullet(Graphics2D g2D) {\r\n        g2D.setColor(Color.black);\r\n\r\n        if(playerTank.isShooting()) {\r\n            playerTank.setBulletPos(playerTank.getEndTurret());\r\n            g2D.fillRect((int) playerTank.getEndTurret().getX(), (int) playerTank.getEndTurret().getY(), 8, 18);\r\n            playerTank.setShooting(false);\r\n        }\r\n        if (playerTank.shotFired()) {\r\n            double newX = (BULLET_SPEED * (Math.sin(Math.toRadians(playerTank.getInitialTurretDegree()))));\r\n            double newY = (BULLET_SPEED * (Math.cos(Math.toRadians(playerTank.getInitialTurretDegree()))));\r\n            playerTank.setBulletPos(playerTank.getBulletX() + newX, playerTank.getBulletY() - newY);\r\n            g2D.fillRect((int) playerTank.getBulletX(), (int) playerTank.getBulletY(), 8, 18);\r\n\r\n            if((playerTank.getBulletX() &gt; FRAME_WIDTH || playerTank.getBulletY() &gt; FRAME_HEIGHT) || (playerTank.getBulletX() &lt; 0 || playerTank.getBulletY() &lt; 0)) {\r\n                playerTank.setShotFired(false);\r\n            }\r\n        }\r\n\r\nThank you so much. ","title":"How to move paint graphics along slope?","body":"<p>I have a tank game where you rotate via A/D keys and move forward/backward with W/S. The turret follows the mouse cursor on the screen. I am attempting to get shooting to work when I click. I get the initial degree of the turret rotation on click, as well as the point at the end of the turret. I set <code>isShooting()</code> to check if I am currently shooting at the given moment, and it is set to <code>true</code> on click. I use <code>shotFired()</code> also set to true on click, to tell whether there is a shot on the screen.</p>\n<p>I want to have the bullet moving along a straight line with a give slope every time I click, from the end of the barrel to off the screen.</p>\n<p>Currently the bullet moves in the wrong directions and is influenced by movement of the turret. I have been working to find the issue and cannot find it.</p>\n<pre><code>public void update() {\n    playerTank.setCenterTurret(new Point2D.Double(playerTank.xPos() + 67, playerTank.yPos() + 125));\n    playerTank.setEndTurret(new Point2D.Double(playerTank.xPos() + ((Math.sin(Math.toRadians(playerTank.getTurretDegree())))) + 63, playerTank.yPos() + ((Math.cos(Math.toRadians(playerTank.getTurretDegree())))) - 25));\n    playerTank.setCenterBase(new Point2D.Double(playerTank.xPos() + (playerTank_PNG_WIDTH / 2), playerTank.yPos() + (playerTank_PNG_HEIGHT / 2)));\n\n    mouseLoc = MouseInfo.getPointerInfo().getLocation();\n    SwingUtilities.convertPointFromScreen(mouseLoc, this);\n\n    mouseLocX = (int) mouseLoc.getX();\n    mouseLocY = (int) mouseLoc.getY();\n\n    mouseDistX = mouseLocX - playerTank.getCenterTurret().getX();\n    mouseDistY = mouseLocY - playerTank.getCenterTurret().getY();\n\n    mouseDegree = angleInRelation(mouseLoc, playerTank.getCenterTurret());\n\n    if(moveUp) {\n        playerTank.setLocation(playerTank.xPos() + (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() - MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\n    }\n    if(moveDown) {\n        playerTank.setLocation(playerTank.xPos() - (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() + MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\n    }\n    if(rotateLeft &amp;&amp; playerTank.xPos() &gt;= 0) {\n        playerTank.setBaseDegree(playerTank.getBaseDegree() - 5);\n    }\n    if(rotateRight &amp;&amp; playerTank.xPos() + playerTank.getWidth() &lt;= FRAME_WIDTH) {\n        playerTank.setBaseDegree(playerTank.getBaseDegree() + 5);\n    }\n\n    mouseDegree -= playerTank.getBaseDegree();\n\n    this.setBackground(Color.white);\n    repaint();\n}\n\n@Override\npublic void paint(Graphics g) {\n    this.setBackground(Color.white);\n    Graphics2D g2D = (Graphics2D) g;\n    g2D.setBackground(Color.white);\n    g2D.setColor(Color.white);\n\n    g2D.fillRect(0, 0, FRAME_WIDTH, FRAME_HEIGHT);\n\n    paintBase(g2D);\n\n    playerTank.setTurretDegree(mouseDegree);\n    g2D.rotate(Math.toRadians(playerTank.getTurretDegree()), playerTank.xPos() + 67, playerTank.yPos() + 125);\n    paintTurret(g2D);\n\n    paintBullet(g2D);\n}\n\npublic void paintBullet(Graphics2D g2D) {\n    g2D.setColor(Color.black);\n\n    if(playerTank.isShooting()) {\n        playerTank.setBulletPos(playerTank.getEndTurret());\n        g2D.fillRect((int) playerTank.getEndTurret().getX(), (int) playerTank.getEndTurret().getY(), 8, 18);\n        playerTank.setShooting(false);\n    }\n    if (playerTank.shotFired()) {\n        double newX = (BULLET_SPEED * (Math.sin(Math.toRadians(playerTank.getInitialTurretDegree()))));\n        double newY = (BULLET_SPEED * (Math.cos(Math.toRadians(playerTank.getInitialTurretDegree()))));\n        playerTank.setBulletPos(playerTank.getBulletX() + newX, playerTank.getBulletY() - newY);\n        g2D.fillRect((int) playerTank.getBulletX(), (int) playerTank.getBulletY(), 8, 18);\n\n        if((playerTank.getBulletX() &gt; FRAME_WIDTH || playerTank.getBulletY() &gt; FRAME_HEIGHT) || (playerTank.getBulletX() &lt; 0 || playerTank.getBulletY() &lt; 0)) {\n            playerTank.setShotFired(false);\n        }\n    }\n</code></pre>\n<p>Thank you so much.</p>\n"},{"tags":["java","sql","database","hibernate","hql"],"answers":[{"comments":[{"owner":{"account_id":1875769,"reputation":1335,"user_id":1697017,"accept_rate":53,"display_name":"Brady Zhu"},"score":3,"creation_date":1376815589,"post_id":18296258,"comment_id":26845976,"body_markdown":"I use pure SQL to implement it instead of HQL.","body":"I use pure SQL to implement it instead of HQL."},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":1,"creation_date":1376815763,"post_id":18296258,"comment_id":26846015,"body_markdown":"@BradyChu if you are using pure SQL, then you can make use of native sql instead of HQL.","body":"@BradyChu if you are using pure SQL, then you can make use of native sql instead of HQL."}],"tags":[],"owner":{"account_id":91954,"reputation":2681,"user_id":252243,"display_name":"Sean Carroll"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1376806452,"creation_date":1376806452,"answer_id":18296258,"question_id":18296227,"body_markdown":"There is a feature request still open for this https://hibernate.atlassian.net/browse/HHH-1050. Also take a look at https://stackoverflow.com/questions/201023/hibernate-union-alternatives","title":"Does Hibernate support UNION ALL?","body":"<p>There is a feature request still open for this <a href=\"https://hibernate.atlassian.net/browse/HHH-1050\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-1050</a>. Also take a look at <a href=\"https://stackoverflow.com/questions/201023/hibernate-union-alternatives\">Hibernate Union alternatives</a></p>\n"},{"tags":[],"owner":{"account_id":4464116,"reputation":29,"user_id":3632200,"display_name":"Lanmaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419004669,"creation_date":1419004669,"answer_id":27569569,"question_id":18296227,"body_markdown":"would like to share, which in my case, I found a situation that skirted this situation.\r\nThe only rule here is to have the same type, in this case String, corresponding to return the list, could add as many tables you want:\r\n    \r\n\tpublic List&lt;String&gt; findByCPForCNPJ(String query){\r\n\t\tTypedQuery&lt;String&gt; ccpf = manager.createQuery(&quot;select cpf from PessoaFisica where cpf like :pCpf&quot;, String.class);\r\n\t\tccpf.setParameter(&quot;pCpf&quot;, &quot;%&quot; + query + &quot;%&quot;);\r\n\t\tList&lt;String&gt; lista1 = ccpf.getResultList();\r\n\r\n\t\tTypedQuery&lt;String&gt; ccnpj = manager.createQuery(&quot;select cnpj from PessoaJuridica where cnpj like :pCnpj&quot;, String.class);\r\n\t\tccnpj.setParameter(&quot;pCnpj&quot;, &quot;%&quot; + query + &quot;%&quot;);\r\n\t\t\r\n\t\tlista1.addAll(ccnpj.getResultList());\r\n\t\treturn lista1;\r\n\t}\r\n\r\nI hope I have contributed a bit, good luck to all...","title":"Does Hibernate support UNION ALL?","body":"<p>would like to share, which in my case, I found a situation that skirted this situation.\nThe only rule here is to have the same type, in this case String, corresponding to return the list, could add as many tables you want:</p>\n\n<pre><code>public List&lt;String&gt; findByCPForCNPJ(String query){\n    TypedQuery&lt;String&gt; ccpf = manager.createQuery(\"select cpf from PessoaFisica where cpf like :pCpf\", String.class);\n    ccpf.setParameter(\"pCpf\", \"%\" + query + \"%\");\n    List&lt;String&gt; lista1 = ccpf.getResultList();\n\n    TypedQuery&lt;String&gt; ccnpj = manager.createQuery(\"select cnpj from PessoaJuridica where cnpj like :pCnpj\", String.class);\n    ccnpj.setParameter(\"pCnpj\", \"%\" + query + \"%\");\n\n    lista1.addAll(ccnpj.getResultList());\n    return lista1;\n}\n</code></pre>\n\n<p>I hope I have contributed a bit, good luck to all...</p>\n"},{"tags":[],"owner":{"account_id":8945558,"reputation":249,"user_id":6673169,"display_name":"Andriy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667939735,"creation_date":1667919216,"answer_id":74362741,"question_id":18296227,"body_markdown":"Starting from Hibernate 6, UNION ALL is supported. For Postgres, in particular.\r\n\r\n\r\n```Java\r\nimport com.example.domain.*;\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.TypedQuery;\r\nimport jakarta.persistence.criteria.*;\r\nimport org.hibernate.query.criteria.JpaCriteriaQuery;\r\nimport org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n@Repository\r\npublic class UnionAllJpaRepository {\r\n\r\n    @Autowired\r\n    private EntityManager em;\r\n\r\n    List&lt;UnionItem&gt; find() {\r\n        CriteriaBuilder builder = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;UnionItem&gt; queryUser = builder.createQuery(UnionItem.class);\r\n        CriteriaQuery&lt;UnionItem&gt; queryCompany = builder.createQuery(UnionItem.class);\r\n\r\n\r\n        {\r\n\r\n            Root&lt;User&gt; rootUser = queryUser.from(User.class);\r\n            queryUser\r\n                    .select(\r\n                            builder.construct(\r\n                                    UnionItem.class,\r\n                                    rootUser.get(User_.ID),\r\n                            )\r\n                    );\r\n        }\r\n\r\n        {\r\n            Root&lt;Company&gt; rootCompany = queryCompany.from(Company.class);\r\n            queryC\r\n                    .select(\r\n                            builder.construct(\r\n                                    UnionItem.class,\r\n                                    rootC.get(Company_.ID)\r\n                            )\r\n                    );\r\n        }\r\n\r\n        JpaCriteriaQuery&lt;UnionItem&gt; unionAllJpaCriteriaQuery = ((SqmCriteriaNodeBuilder) builder).unionAll(\r\n                queryUser,\r\n                queryCompany\r\n        );\r\n\r\n        TypedQuery&lt;UnionItem&gt; resultQuery = em.createQuery(unionAllJpaCriteriaQuery);\r\n\r\n\r\n        return resultQuery.getResultList();\r\n    }\r\n\r\n\r\n    public record UnionItem(\r\n            Long id\r\n    ) {\r\n    }\r\n\r\n}\r\n\r\n```","title":"Does Hibernate support UNION ALL?","body":"<p>Starting from Hibernate 6, UNION ALL is supported. For Postgres, in particular.</p>\n<pre><code>import com.example.domain.*;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.TypedQuery;\nimport jakarta.persistence.criteria.*;\nimport org.hibernate.query.criteria.JpaCriteriaQuery;\nimport org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Repository\npublic class UnionAllJpaRepository {\n\n    @Autowired\n    private EntityManager em;\n\n    List&lt;UnionItem&gt; find() {\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        CriteriaQuery&lt;UnionItem&gt; queryUser = builder.createQuery(UnionItem.class);\n        CriteriaQuery&lt;UnionItem&gt; queryCompany = builder.createQuery(UnionItem.class);\n\n\n        {\n\n            Root&lt;User&gt; rootUser = queryUser.from(User.class);\n            queryUser\n                    .select(\n                            builder.construct(\n                                    UnionItem.class,\n                                    rootUser.get(User_.ID),\n                            )\n                    );\n        }\n\n        {\n            Root&lt;Company&gt; rootCompany = queryCompany.from(Company.class);\n            queryC\n                    .select(\n                            builder.construct(\n                                    UnionItem.class,\n                                    rootC.get(Company_.ID)\n                            )\n                    );\n        }\n\n        JpaCriteriaQuery&lt;UnionItem&gt; unionAllJpaCriteriaQuery = ((SqmCriteriaNodeBuilder) builder).unionAll(\n                queryUser,\n                queryCompany\n        );\n\n        TypedQuery&lt;UnionItem&gt; resultQuery = em.createQuery(unionAllJpaCriteriaQuery);\n\n\n        return resultQuery.getResultList();\n    }\n\n\n    public record UnionItem(\n            Long id\n    ) {\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":1875769,"reputation":1335,"user_id":1697017,"accept_rate":53,"display_name":"Brady Zhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35663,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1667939735,"creation_date":1376806033,"question_id":18296227,"body_markdown":"I&#39;m a partial UI developer, right now I need to turn into Hibernate development. Today I occurred a problem in HQL when I&#39;m trying to use UNION ALL, here is the HQL:\r\n\r\n    SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \r\n    d1.sponsor.id AS userId FROM Dating d1 WHERE d1.invitee.id = ? UNION ALL \r\n    SELECT DISTINCT d2.invitee.id AS userId FROM Dating d2 WHERE d2.sponsor.id = ?) \r\n    AS users \r\n\r\nIt shows error like this:\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 55\r\n\r\nAnd then I tried translate this HQL to raw SQL:\r\n\r\n    SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \r\n    d1.sponsorId AS userId FROM mmy_dating d1 WHERE d1.inviteeId = 6 UNION \r\n    ALL SELECT DISTINCT d2.inviteeId AS userId FROM mmy_dating d2 WHERE \r\n    d2.sponsorId = 6) AS users;\r\n\r\nIt normally shows the correct result, so I was thinking if Hibernate doesn&#39;t support UNION ALL syntax?\r\n\r\nThanks in advance.","title":"Does Hibernate support UNION ALL?","body":"<p>I'm a partial UI developer, right now I need to turn into Hibernate development. Today I occurred a problem in HQL when I'm trying to use UNION ALL, here is the HQL:</p>\n\n<pre><code>SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \nd1.sponsor.id AS userId FROM Dating d1 WHERE d1.invitee.id = ? UNION ALL \nSELECT DISTINCT d2.invitee.id AS userId FROM Dating d2 WHERE d2.sponsor.id = ?) \nAS users \n</code></pre>\n\n<p>It shows error like this:</p>\n\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 55\n</code></pre>\n\n<p>And then I tried translate this HQL to raw SQL:</p>\n\n<pre><code>SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \nd1.sponsorId AS userId FROM mmy_dating d1 WHERE d1.inviteeId = 6 UNION \nALL SELECT DISTINCT d2.inviteeId AS userId FROM mmy_dating d2 WHERE \nd2.sponsorId = 6) AS users;\n</code></pre>\n\n<p>It normally shows the correct result, so I was thinking if Hibernate doesn't support UNION ALL syntax?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","apache-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1667908756,"post_id":74356677,"comment_id":131275220,"body_markdown":"Would you like to have more than one instance active within consumer group?","body":"Would you like to have more than one instance active within consumer group?"},{"owner":{"account_id":13774827,"reputation":295,"user_id":9941424,"display_name":"Rico Sancho Abarro"},"score":0,"creation_date":1667912543,"post_id":74356677,"comment_id":131276622,"body_markdown":"do you mean one consumer instance? the default implementation is for us to have one instance of consumer listen to a topic with 1 partition but there will be some instance where we will have multiple consumer in a single consumer group with multiple partitions (we will do it as 1 consumer per 1 partition)","body":"do you mean one consumer instance? the default implementation is for us to have one instance of consumer listen to a topic with 1 partition but there will be some instance where we will have multiple consumer in a single consumer group with multiple partitions (we will do it as 1 consumer per 1 partition)"},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1667919314,"post_id":74356677,"comment_id":131279523,"body_markdown":"Imho your code snippet is ok, you just need to add two things:\n1. store in some singleton last offsets of topic and partition during consumer assignment, handle it in `addAssignListener` implementation.\n2. then just invoke `close()` on consumer when  you process offset from point one.\nRemember that it wouldn&#39;t be so simple if you want to process more than one partition within single consumer :(","body":"Imho your code snippet is ok, you just need to add two things: 1. store in some singleton last offsets of topic and partition during consumer assignment, handle it in <code>addAssignListener</code> implementation. 2. then just invoke <code>close()</code> on consumer when  you process offset from point one. Remember that it wouldn&#39;t be so simple if you want to process more than one partition within single consumer :("},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1667919936,"post_id":74356677,"comment_id":131279839,"body_markdown":"I would also consider resign from Kafka auto partition assignment feature and set subscription using manual assignment to the specified partitions (using assignment(Collection&lt;org.apache.kafka.common.TopicPartition&gt; partitions) method), then seek to the beginning and then finally start consuming messages.","body":"I would also consider resign from Kafka auto partition assignment feature and set subscription using manual assignment to the specified partitions (using assignment(Collection&lt;org.apache.kafka.common.TopicPartition&zwnj;&#8203;&gt; partitions) method), then seek to the beginning and then finally start consuming messages."},{"owner":{"account_id":13774827,"reputation":295,"user_id":9941424,"display_name":"Rico Sancho Abarro"},"score":0,"creation_date":1667922824,"post_id":74356677,"comment_id":131281077,"body_markdown":"what method should I use to get the last message offset in the addAssignListener? I can only see viable option is the position e.g. element.position(); \n\nbased on this https://projectreactor.io/docs/kafka/release/api/reactor/kafka/receiver/ReceiverPartition.html it Returns the offset of the next record that will be fetched from this topic partition.","body":"what method should I use to get the last message offset in the addAssignListener? I can only see viable option is the position e.g. element.position();   based on this <a href=\"https://projectreactor.io/docs/kafka/release/api/reactor/kafka/receiver/ReceiverPartition.html\" rel=\"nofollow noreferrer\">projectreactor.io/docs/kafka/release/api/reactor/kafka/recei&zwnj;&#8203;ver/&hellip;</a> it Returns the offset of the next record that will be fetched from this topic partition."}],"answers":[{"comments":[{"owner":{"account_id":13774827,"reputation":295,"user_id":9941424,"display_name":"Rico Sancho Abarro"},"score":0,"creation_date":1667940057,"post_id":74366398,"comment_id":131287078,"body_markdown":"thanks! do you think it&#39;s wise to add a doAfterTerminate pipeline then set a flag variable so that the caller thread will just check it and will know that the consumer is ready to be disposed (by calling .dispose()) or you have a better approach to this?","body":"thanks! do you think it&#39;s wise to add a doAfterTerminate pipeline then set a flag variable so that the caller thread will just check it and will know that the consumer is ready to be disposed (by calling .dispose()) or you have a better approach to this?"},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1667940709,"post_id":74366398,"comment_id":131287301,"body_markdown":"Ohhh sorry @RicoSanchoAbarro but as I mentioned I know something about Kafka but almost nothing about reactive programming &#128517;","body":"Ohhh sorry @RicoSanchoAbarro but as I mentioned I know something about Kafka but almost nothing about reactive programming 😅"}],"tags":[],"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667938443,"creation_date":1667937140,"answer_id":74366398,"question_id":74356677,"body_markdown":"So I finally figured it out, I&#39;m not familiar with reactor so it took me a while, but the code below works as expected:\r\n\r\n```java\r\npublic Disposable consumeMessages(TopicPartition topicPartition) {\r\n        ReceiverOptions&lt;Integer, String&gt; options = receiverOptions.subscription(Collections.singleton(topicPartition.topic()))\r\n                .addAssignListener(partitions -&gt; partitions.forEach(ReceiverPartition::seekToBeginning));\r\n        KafkaReceiver&lt;Integer, String&gt; kafkaReceiver = KafkaReceiver.create(options);\r\n        return kafkaReceiver\r\n                .receive()\r\n                .flatMap(record -&gt; kafkaReceiver.doOnConsumer(consumer -&gt; consumer.endOffsets(Collections.singleton(topicPartition))).cache()\r\n                        .map(topicPartitionToLastOffset -&gt; Tuples.of(record, topicPartitionToLastOffset.get(topicPartition))))\r\n                .takeUntil(recordAndLastOffset -&gt; recordAndLastOffset.getT1().offset() &gt;= (recordAndLastOffset.getT2()-1))\r\n                .subscribe(record -&gt; {\r\n                    ReceiverOffset offset = record.getT1().receiverOffset();\r\n                    System.out.printf(&quot;Received message: topic-partition=%s offset=%d key=%d value=%s\\n&quot;,\r\n                            offset.topicPartition(),\r\n                            offset.offset(),\r\n                            record.getT1().key(),\r\n                            record.getT1().value());\r\n                    offset.acknowledge();\r\n                });\r\n    }  \r\n``` ","title":"Stop Kafka Consumer after consuming the log end offset using reactor kafka","body":"<p>So I finally figured it out, I'm not familiar with reactor so it took me a while, but the code below works as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Disposable consumeMessages(TopicPartition topicPartition) {\n        ReceiverOptions&lt;Integer, String&gt; options = receiverOptions.subscription(Collections.singleton(topicPartition.topic()))\n                .addAssignListener(partitions -&gt; partitions.forEach(ReceiverPartition::seekToBeginning));\n        KafkaReceiver&lt;Integer, String&gt; kafkaReceiver = KafkaReceiver.create(options);\n        return kafkaReceiver\n                .receive()\n                .flatMap(record -&gt; kafkaReceiver.doOnConsumer(consumer -&gt; consumer.endOffsets(Collections.singleton(topicPartition))).cache()\n                        .map(topicPartitionToLastOffset -&gt; Tuples.of(record, topicPartitionToLastOffset.get(topicPartition))))\n                .takeUntil(recordAndLastOffset -&gt; recordAndLastOffset.getT1().offset() &gt;= (recordAndLastOffset.getT2()-1))\n                .subscribe(record -&gt; {\n                    ReceiverOffset offset = record.getT1().receiverOffset();\n                    System.out.printf(&quot;Received message: topic-partition=%s offset=%d key=%d value=%s\\n&quot;,\n                            offset.topicPartition(),\n                            offset.offset(),\n                            record.getT1().key(),\n                            record.getT1().value());\n                    offset.acknowledge();\n                });\n    }  \n</code></pre>\n"}],"owner":{"account_id":13774827,"reputation":295,"user_id":9941424,"display_name":"Rico Sancho Abarro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74366398,"answer_count":1,"score":0,"last_activity_date":1667938443,"creation_date":1667890356,"question_id":74356677,"body_markdown":"I have a requirement where I will consume all message from a topic from the beginning to the latest message offset in the partition then stop the consumer from listening to the topic. I have created the following code snippet:\r\n```\r\nReceiverOptions&lt;String, byte[]&gt; receiverOptions = this.receiverOptions.subscription(Collections.singleton( topicName ) )\r\n          .addAssignListener( partitions -&gt; {\r\n              log.debug( &quot;starting to {} offset&quot;, startOffset );\r\n              partitions.forEach( element -&gt; element.seekToBeginning() \r\n          )\r\n          .addRevokeListener( partitions -&gt; log.debug( &quot;partition revoked = {}&quot;, partitions ) );\r\n\r\nFlux&lt;ReceiverRecord&lt;String, byte[]&gt;&gt; fluxKafka = KafkaReceiver.create( receiverOptions ).receive();\r\n\r\ndisposable = fluxKafka.publishOn( Schedulers.fromExecutor( scheduledExecutor ) )\r\n          .subscribe( record -&gt; {\r\n\r\n              log.debug( &quot;received record [offset = {}, message = {}, timestamp = {}]&quot;, record.offset(),\r\n                            new String( record.value() ), record.timestamp() );\r\n\r\n              T message = avroDeserializer.deserialize( record.value() );\r\n\r\n              Optional.ofNullable( onMessageHandler )\r\n                            .ifPresent( handler -&gt; handler.accept( message ) );\r\n\r\n              record.receiverOffset().acknowledge();\r\n          } );\r\n```\r\n\r\nI don&#39;t know what approach should I do.. I&#39;m thinking of getting the current partition position() but I&#39;m not sure if I should proceed with it.. ","title":"Stop Kafka Consumer after consuming the log end offset using reactor kafka","body":"<p>I have a requirement where I will consume all message from a topic from the beginning to the latest message offset in the partition then stop the consumer from listening to the topic. I have created the following code snippet:</p>\n<pre><code>ReceiverOptions&lt;String, byte[]&gt; receiverOptions = this.receiverOptions.subscription(Collections.singleton( topicName ) )\n          .addAssignListener( partitions -&gt; {\n              log.debug( &quot;starting to {} offset&quot;, startOffset );\n              partitions.forEach( element -&gt; element.seekToBeginning() \n          )\n          .addRevokeListener( partitions -&gt; log.debug( &quot;partition revoked = {}&quot;, partitions ) );\n\nFlux&lt;ReceiverRecord&lt;String, byte[]&gt;&gt; fluxKafka = KafkaReceiver.create( receiverOptions ).receive();\n\ndisposable = fluxKafka.publishOn( Schedulers.fromExecutor( scheduledExecutor ) )\n          .subscribe( record -&gt; {\n\n              log.debug( &quot;received record [offset = {}, message = {}, timestamp = {}]&quot;, record.offset(),\n                            new String( record.value() ), record.timestamp() );\n\n              T message = avroDeserializer.deserialize( record.value() );\n\n              Optional.ofNullable( onMessageHandler )\n                            .ifPresent( handler -&gt; handler.accept( message ) );\n\n              record.receiverOffset().acknowledge();\n          } );\n</code></pre>\n<p>I don't know what approach should I do.. I'm thinking of getting the current partition position() but I'm not sure if I should proceed with it..</p>\n"},{"tags":["java","opencv","image-processing"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1667950375,"post_id":74366591,"comment_id":131289617,"body_markdown":"Can you explain how strong the color change is? Because of interpolation, pixels can have minor color changes, especially at edges. You can prevent that by using NN interpolation (nearest neighbor). But if you have dramatic color changes in the whole image this is likely not your problem source.","body":"Can you explain how strong the color change is? Because of interpolation, pixels can have minor color changes, especially at edges. You can prevent that by using NN interpolation (nearest neighbor). But if you have dramatic color changes in the whole image this is likely not your problem source."},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1667950471,"post_id":74366591,"comment_id":131289633,"body_markdown":"Encoding an image as jpg will always decrease the image quality, because jpg is a lossy compression. Try to encode as .png to check if compression is your problem here.","body":"Encoding an image as jpg will always decrease the image quality, because jpg is a lossy compression. Try to encode as .png to check if compression is your problem here."}],"owner":{"account_id":21710806,"reputation":11,"user_id":16022458,"display_name":"Mouad_thf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667938153,"creation_date":1667938153,"question_id":74366591,"body_markdown":"hope you&#39;re doing well.\r\nActually, i&#39;m facing a problem when trying to rotate an image using ***Core.rotate*** Class of OpenCV.\r\nthe colors of the image pixels keep changing every time i click the rotation Button.\r\nCan anyone please help me fixing this problem ?\r\nThanks in advance.\r\n\r\nI&#39;ve tried to change the colors of the image using Imgproc.cvtColor but it didn&#39;t work.\r\nThis is the code : \r\n\r\n`\r\n```\r\npackage application;\r\n\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.core.MatOfByte;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\n\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\n\r\npublic class SampleController {\r\n\r\n    @FXML\r\n    private ImageView myimageview;\r\n    \r\n    @FXML\r\n    private Button showimageButton, rotateButton;\r\n\r\n    @FXML\r\n    void rotateButtonClicked(ActionEvent event) throws Exception {\r\n    \tBufferedImage image = SwingFXUtils.fromFXImage(myimageview.getImage(), null);    \r\n        Mat src = BufferedImage2Mat(image);        \r\n        Core.rotate(src, src, Core.ROTATE_90_CLOCKWISE);\r\n        image = Mat2BufferedImage(src);\r\n        try {\r\n            Image converted_image = SwingFXUtils.toFXImage(image, null);\r\n            myimageview.setImage(converted_image);\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n    \r\n    public Mat BufferedImage2Mat(BufferedImage image) throws IOException {\r\n\t    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t    ImageIO.write(image, &quot;jpg&quot;, byteArrayOutputStream);\r\n\t    byteArrayOutputStream.flush();\r\n\t    return Imgcodecs.imdecode(new MatOfByte(byteArrayOutputStream.toByteArray()), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\r\n\t}\r\n    \r\n    static BufferedImage Mat2BufferedImage(Mat matrix)throws Exception {        \r\n        MatOfByte mob=new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.jpg&quot;, matrix, mob);\r\n        byte ba[]=mob.toArray();\r\n        BufferedImage bi=ImageIO.read(new ByteArrayInputStream(ba));\r\n        return bi;\r\n    }\r\n    \r\n    @FXML\r\n    void showimageButtonClicked(ActionEvent event) {\r\n    \tImage im = new Image(&quot;file:///C:\\\\Users\\\\poste\\\\eclipse-workspace\\\\dragImage\\\\Images\\\\temp.jpg&quot;);\r\n    \tmyimageview.setImage(im);\r\n    }\r\n\r\n}\r\n\r\n```\r\n`","title":"Colors of image&#39;s pixels change when rotating image using java OpenCV","body":"<p>hope you're doing well.\nActually, i'm facing a problem when trying to rotate an image using <em><strong>Core.rotate</strong></em> Class of OpenCV.\nthe colors of the image pixels keep changing every time i click the rotation Button.\nCan anyone please help me fixing this problem ?\nThanks in advance.</p>\n<p>I've tried to change the colors of the image using Imgproc.cvtColor but it didn't work.\nThis is the code :</p>\n<p>`</p>\n<pre><code>package application;\n\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfByte;\nimport org.opencv.imgcodecs.Imgcodecs;\n\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\npublic class SampleController {\n\n    @FXML\n    private ImageView myimageview;\n    \n    @FXML\n    private Button showimageButton, rotateButton;\n\n    @FXML\n    void rotateButtonClicked(ActionEvent event) throws Exception {\n        BufferedImage image = SwingFXUtils.fromFXImage(myimageview.getImage(), null);    \n        Mat src = BufferedImage2Mat(image);        \n        Core.rotate(src, src, Core.ROTATE_90_CLOCKWISE);\n        image = Mat2BufferedImage(src);\n        try {\n            Image converted_image = SwingFXUtils.toFXImage(image, null);\n            myimageview.setImage(converted_image);\n        }\n        catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n    \n    public Mat BufferedImage2Mat(BufferedImage image) throws IOException {\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;jpg&quot;, byteArrayOutputStream);\n        byteArrayOutputStream.flush();\n        return Imgcodecs.imdecode(new MatOfByte(byteArrayOutputStream.toByteArray()), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\n    }\n    \n    static BufferedImage Mat2BufferedImage(Mat matrix)throws Exception {        \n        MatOfByte mob=new MatOfByte();\n        Imgcodecs.imencode(&quot;.jpg&quot;, matrix, mob);\n        byte ba[]=mob.toArray();\n        BufferedImage bi=ImageIO.read(new ByteArrayInputStream(ba));\n        return bi;\n    }\n    \n    @FXML\n    void showimageButtonClicked(ActionEvent event) {\n        Image im = new Image(&quot;file:///C:\\\\Users\\\\poste\\\\eclipse-workspace\\\\dragImage\\\\Images\\\\temp.jpg&quot;);\n        myimageview.setImage(im);\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":26500159,"reputation":1,"user_id":20137237,"display_name":"ntimo"},"score":0,"creation_date":1667938953,"post_id":74366561,"comment_id":131286737,"body_markdown":"Im not getting an outofbound exception and the leftbounds are correct (o, 15, 30...). so in the second loop it should start from 0 and count up. i think im printing it out the wrong way? or storing it the wrong way?","body":"Im not getting an outofbound exception and the leftbounds are correct (o, 15, 30...). so in the second loop it should start from 0 and count up. i think im printing it out the wrong way? or storing it the wrong way?"},{"owner":{"account_id":26500159,"reputation":1,"user_id":20137237,"display_name":"ntimo"},"score":0,"creation_date":1667939093,"post_id":74366561,"comment_id":131286779,"body_markdown":"omg yes this is right!","body":"omg yes this is right!"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1667953172,"post_id":74366561,"comment_id":131290090,"body_markdown":"Suggestion: Seeing it was resolved without an answer, delete the question.","body":"Suggestion: Seeing it was resolved without an answer, delete the question."}],"owner":{"account_id":26500159,"reputation":1,"user_id":20137237,"display_name":"ntimo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667937993,"creation_date":1667937993,"question_id":74366561,"body_markdown":"My task is to create a multidimensional array that is seperated in n pieces from a range of min to max.\r\n\r\nSo if the range is 0 til 90 and it is devided in 6 pieces it should look like this\r\n\r\n  \r\n\r\n    int[][] array = {   {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14},\r\n                            {15, 16, 17, 18, . . ., 29},\r\n                            {. . .},\r\n                            {. . .},\r\n                            {. . .},\r\n                            {. . ., 90}\r\n                            }\r\n\r\n```\r\n\r\n    public class H {\r\n    public static void main(String[] args) {\r\n\r\n        int min = 0;\r\n        int max = 90;\r\n        int n = 6;\r\n\r\n\r\n        // 90 / 6 = 15\r\n        int elementsInBin = (max - min) / n; //15\r\n        int[][] bin = new int[n][elementsInBin];\r\n        \r\n        //n = 6\r\n        for(int i = 0; i &lt; n; i++){\r\n\r\n            int leftBound = elementsInBin * i;\r\n            int rightBound = (elementsInBin * i) + (elementsInBin-1);\r\n\r\n            int span = rightBound - leftBound;\r\n\r\n            for(int j = leftBound; j &lt; span; j++){\r\n                System.out.print(bin[i][j]);\r\n                \r\n                \r\n            }  \r\n        }  \r\n    }\r\n```\r\nso the first loop is n long because these are the rows and im defining the left and right border of the interval of the row.\r\nthe next for loop starts with the left bound 0 and with the right bound 14 and it counts up the span.\r\nthen in the new next loop the left border is at 15 and the right border is at 15 + 15 -1 so 29 and the next for-loop should count from the new left border (15) to 29.\r\n\r\nbut my output is always \r\n\r\n00000000000000\r\n\r\nim not getting what im doing wrong.\r\n   \r\n\r\n\r\n","title":"Why does my for-loop not work with set binterval borders?","body":"<p>My task is to create a multidimensional array that is seperated in n pieces from a range of min to max.</p>\n<p>So if the range is 0 til 90 and it is devided in 6 pieces it should look like this</p>\n<pre><code>int[][] array = {   {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14},\n                        {15, 16, 17, 18, . . ., 29},\n                        {. . .},\n                        {. . .},\n                        {. . .},\n                        {. . ., 90}\n                        }\n</code></pre>\n<pre><code>\n    public class H {\n    public static void main(String[] args) {\n\n        int min = 0;\n        int max = 90;\n        int n = 6;\n\n\n        // 90 / 6 = 15\n        int elementsInBin = (max - min) / n; //15\n        int[][] bin = new int[n][elementsInBin];\n        \n        //n = 6\n        for(int i = 0; i &lt; n; i++){\n\n            int leftBound = elementsInBin * i;\n            int rightBound = (elementsInBin * i) + (elementsInBin-1);\n\n            int span = rightBound - leftBound;\n\n            for(int j = leftBound; j &lt; span; j++){\n                System.out.print(bin[i][j]);\n                \n                \n            }  \n        }  \n    }\n</code></pre>\n<p>so the first loop is n long because these are the rows and im defining the left and right border of the interval of the row.\nthe next for loop starts with the left bound 0 and with the right bound 14 and it counts up the span.\nthen in the new next loop the left border is at 15 and the right border is at 15 + 15 -1 so 29 and the next for-loop should count from the new left border (15) to 29.</p>\n<p>but my output is always</p>\n<p>00000000000000</p>\n<p>im not getting what im doing wrong.</p>\n"},{"tags":["java","dataframe","apache-spark","partition"],"comments":[{"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"score":0,"creation_date":1667906705,"post_id":74358366,"comment_id":131274501,"body_markdown":"Do you want to get such informations at runtime in code or just to get familiar with your data after some test run?","body":"Do you want to get such informations at runtime in code or just to get familiar with your data after some test run?"},{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1667909781,"post_id":74358366,"comment_id":131275588,"body_markdown":"Thank you very for your answer! I would like to print it at runtime in the console or stdout of each node.","body":"Thank you very for your answer! I would like to print it at runtime in the console or stdout of each node."},{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1667936837,"post_id":74358366,"comment_id":131286084,"body_markdown":"I  used below command in the code: sp.sessionState().executePlan(df.queryExecution().logical()).optimizedPlan().stats().sizeInBytes() but it gives me a way to big number: 9223372036854775807 and if I divide that by 1600 partitions it still is a huge number.","body":"I  used below command in the code: sp.sessionState().executePlan(df.queryExecution().logical())&zwnj;&#8203;.optimizedPlan().sta&zwnj;&#8203;ts().sizeInBytes() but it gives me a way to big number: 9223372036854775807 and if I divide that by 1600 partitions it still is a huge number."},{"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"score":0,"creation_date":1667937990,"post_id":74358366,"comment_id":131286405,"body_markdown":"Maybe your dataset was not cached? I added my answer with more details, i know it does not fully answer your question but maybe it will be helpful for you","body":"Maybe your dataset was not cached? I added my answer with more details, i know it does not fully answer your question but maybe it will be helpful for you"}],"answers":[{"comments":[{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1668070000,"post_id":74366549,"comment_id":131319152,"body_markdown":"Thanks a lot! Well actually it is a bit more complicated, I am repartitioning an RDD according to Cassandra Replicas in 1600 partitions and joining it with a Cassandra table and then transform it in a Dataframe. So basically one partition from Cassandra is in one partition in Spark, but one Spark partition may have more than one Cassandra partitions. After measuring times, I saw that for 1600 partitions it has the best time and I am trying to find why. Yes my data has skew as ti seems that some tasks have input size 120KB and other 250MB, but it depends on how much data I pull from Cassandra.","body":"Thanks a lot! Well actually it is a bit more complicated, I am repartitioning an RDD according to Cassandra Replicas in 1600 partitions and joining it with a Cassandra table and then transform it in a Dataframe. So basically one partition from Cassandra is in one partition in Spark, but one Spark partition may have more than one Cassandra partitions. After measuring times, I saw that for 1600 partitions it has the best time and I am trying to find why. Yes my data has skew as ti seems that some tasks have input size 120KB and other 250MB, but it depends on how much data I pull from Cassandra."}],"tags":[],"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667937935,"creation_date":1667937935,"answer_id":74366549,"question_id":74358366,"body_markdown":"I dont know if there is an easy way to get exact size in byte for partition in runtime, but if you want to know this to find skew you can easily get number of records for each partition with something like this (its Scala)\r\n\r\n    df.mapPartitions(it =&gt; Iterator(it.size)).show\r\n\r\nIf your dataset is cached you get get size in bytes in your codes from statistics. Please remember, that your dataset needs to be cached and there needs to be some action between caching and reading from statistics. If you need sample action you can use something like this: input.cache.foreach(_ =&gt; ())\r\n\r\n    val bytes = spark\r\n        .sessionState\r\n        .executePlan(repartitioned.queryExecution.logical)\r\n        .optimizedPlan\r\n        .stats\r\n        .sizeInBytes\r\n\r\nSame work when you load your data from file, for example csv or json (in this case Spark is creating statistics &quot;for free&quot; during load) or when you are reading from input with compatible and accurate statistics (for example Hive table)\r\n\r\nOther options are available via SparkUI. First is as you mentioned just to cache te dataset and get the size from storage tab. Other options is to check input or shuffle write/read sizes during stage which is interesting for you. It can show you if you have some skew \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere you can see a very clear example, this is a list of tasks (1 task = 1 partition) for stage on which i did foreach(_ =&gt; ()) on my dataset, it shows pretty well how data are organised within partitions, you can both size and number of records.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h7SE0.png","title":"Spark Java dataframe - Size of partition","body":"<p>I dont know if there is an easy way to get exact size in byte for partition in runtime, but if you want to know this to find skew you can easily get number of records for each partition with something like this (its Scala)</p>\n<pre><code>df.mapPartitions(it =&gt; Iterator(it.size)).show\n</code></pre>\n<p>If your dataset is cached you get get size in bytes in your codes from statistics. Please remember, that your dataset needs to be cached and there needs to be some action between caching and reading from statistics. If you need sample action you can use something like this: input.cache.foreach(_ =&gt; ())</p>\n<pre><code>val bytes = spark\n    .sessionState\n    .executePlan(repartitioned.queryExecution.logical)\n    .optimizedPlan\n    .stats\n    .sizeInBytes\n</code></pre>\n<p>Same work when you load your data from file, for example csv or json (in this case Spark is creating statistics &quot;for free&quot; during load) or when you are reading from input with compatible and accurate statistics (for example Hive table)</p>\n<p>Other options are available via SparkUI. First is as you mentioned just to cache te dataset and get the size from storage tab. Other options is to check input or shuffle write/read sizes during stage which is interesting for you. It can show you if you have some skew</p>\n<p><a href=\"https://i.stack.imgur.com/h7SE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h7SE0.png\" alt=\"enter image description here\" /></a></p>\n<p>Here you can see a very clear example, this is a list of tasks (1 task = 1 partition) for stage on which i did foreach(_ =&gt; ()) on my dataset, it shows pretty well how data are organised within partitions, you can both size and number of records.</p>\n"}],"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667937935,"creation_date":1667899672,"question_id":74358366,"body_markdown":"I have a dataframe with 1600 partitions.\r\n\r\n1) How can I get the size(in mb) of each partition? \r\n2) How can I get the total size(in mb) of the dataframe? Would it be correct if I persist it and check the Storage tab of SparkUI?","title":"Spark Java dataframe - Size of partition","body":"<p>I have a dataframe with 1600 partitions.</p>\n<ol>\n<li>How can I get the size(in mb) of each partition?</li>\n<li>How can I get the total size(in mb) of the dataframe? Would it be correct if I persist it and check the Storage tab of SparkUI?</li>\n</ol>\n"},{"tags":["java","android","kotlin","httprequest","okhttp"],"answers":[{"tags":[],"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667937681,"creation_date":1667937681,"answer_id":74366503,"question_id":74366406,"body_markdown":"It looks like this it would work but I would like to know a better solution\r\n\r\n    fun fetch(completion: (InputStream?) -&gt; Unit) {\r\n        val url = &quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\r\n        val labelFetch = OkHttpClient()\r\n        val request = Request.Builder()\r\n            .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\r\n            .url(url)\r\n            .build()\r\n\r\n        labelFetch.newCall(request).enqueue(object : Callback {\r\n            override fun onFailure(request: Request?, e: IOException?) {\r\n            }\r\n\r\n            override fun onResponse(response: Response?) {\r\n                val pdfData = response?.body()?.byteStream()\r\n                completion(pdfData)\r\n            }\r\n        })","title":"Is the conversion from Java 11 HttpClient to okhttp right?","body":"<p>It looks like this it would work but I would like to know a better solution</p>\n<pre><code>fun fetch(completion: (InputStream?) -&gt; Unit) {\n    val url = &quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\n    val labelFetch = OkHttpClient()\n    val request = Request.Builder()\n        .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\n        .url(url)\n        .build()\n\n    labelFetch.newCall(request).enqueue(object : Callback {\n        override fun onFailure(request: Request?, e: IOException?) {\n        }\n\n        override fun onResponse(response: Response?) {\n            val pdfData = response?.body()?.byteStream()\n            completion(pdfData)\n        }\n    })\n</code></pre>\n"}],"owner":{"account_id":9150719,"reputation":3547,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74366503,"answer_count":1,"score":0,"last_activity_date":1667937681,"creation_date":1667937199,"question_id":74366406,"body_markdown":"The task I want to achieve is to get a PDF file from a POST method and show it to the user.\r\n\r\nWhat I have tried:\r\n\r\nI have a Java example that uses the Java 11 HttpClient API to send a POST request to convert a ZPL string to a PDF file from [labelary:][1]\r\n\r\n    var zpl = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;;\r\n    \r\n    // adjust print density (8dpmm), label width (4 inches), label height (6 inches), and label index (0) as necessary\r\n    var uri = URI.create(&quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;);\r\n    var request = HttpRequest.newBuilder(uri)\r\n        .header(&quot;Accept&quot;, &quot;application/pdf&quot;) // omit this line to get PNG images back\r\n        .POST(BodyPublishers.ofString(zpl))\r\n        .build();\r\n    var client = HttpClient.newHttpClient();\r\n    var response = client.send(request, BodyHandlers.ofByteArray());\r\n    var body = response.body();\r\n    \r\n    if (response.statusCode() == 200) {\r\n        var file = new File(&quot;label.pdf&quot;); // change file name for PNG images\r\n        Files.write(file.toPath(), body);\r\n    } else {\r\n        var errorMessage = new String(body, StandardCharsets.UTF_8);\r\n        System.out.println(errorMessage);\r\n    }\r\n\r\nPer my knowledge this code is not possible with Android. So I have tried it with Squareup okhttp library like follow:\r\n\r\n    fun fetch(completion: (InputStream?) -&gt; Unit) {\r\n        val url = &quot;https://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;\r\n        val postBody = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\r\n        val text = MediaType.parse(&quot;text/plain;charset=utf-8&quot;)\r\n        val body = RequestBody.create(text, postBody)\r\n        val labelFetch = OkHttpClient()\r\n        val request = Request.Builder()\r\n            .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\r\n            .url(url)\r\n            .post(body)\r\n            .build()\r\n    \r\n        labelFetch.newCall(request).enqueue(object : Callback {\r\n            override fun onFailure(request: Request?, e: IOException?) {\r\n\r\n            }\r\n    \r\n            override fun onResponse(response: Response?) {\r\n                val pdfData = response?.body()?.byteStream()\r\n                completion(pdfData)\r\n            }\r\n        })\r\n    }\r\n\r\nLater on I am getting `InputStream` and if it is not null I am showing it with a pdfViewer, but I get an error like:\r\n                                                                                                    \r\n\r\n&gt; java.io.IOException: file not in PDF format or corrupted\r\n\r\n\r\n\r\n\r\n  [1]: http://labelary.com/service.html#java","title":"Is the conversion from Java 11 HttpClient to okhttp right?","body":"<p>The task I want to achieve is to get a PDF file from a POST method and show it to the user.</p>\n<p>What I have tried:</p>\n<p>I have a Java example that uses the Java 11 HttpClient API to send a POST request to convert a ZPL string to a PDF file from <a href=\"http://labelary.com/service.html#java\" rel=\"nofollow noreferrer\">labelary:</a></p>\n<pre><code>var zpl = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;;\n\n// adjust print density (8dpmm), label width (4 inches), label height (6 inches), and label index (0) as necessary\nvar uri = URI.create(&quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;);\nvar request = HttpRequest.newBuilder(uri)\n    .header(&quot;Accept&quot;, &quot;application/pdf&quot;) // omit this line to get PNG images back\n    .POST(BodyPublishers.ofString(zpl))\n    .build();\nvar client = HttpClient.newHttpClient();\nvar response = client.send(request, BodyHandlers.ofByteArray());\nvar body = response.body();\n\nif (response.statusCode() == 200) {\n    var file = new File(&quot;label.pdf&quot;); // change file name for PNG images\n    Files.write(file.toPath(), body);\n} else {\n    var errorMessage = new String(body, StandardCharsets.UTF_8);\n    System.out.println(errorMessage);\n}\n</code></pre>\n<p>Per my knowledge this code is not possible with Android. So I have tried it with Squareup okhttp library like follow:</p>\n<pre><code>fun fetch(completion: (InputStream?) -&gt; Unit) {\n    val url = &quot;https://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;\n    val postBody = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\n    val text = MediaType.parse(&quot;text/plain;charset=utf-8&quot;)\n    val body = RequestBody.create(text, postBody)\n    val labelFetch = OkHttpClient()\n    val request = Request.Builder()\n        .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\n        .url(url)\n        .post(body)\n        .build()\n\n    labelFetch.newCall(request).enqueue(object : Callback {\n        override fun onFailure(request: Request?, e: IOException?) {\n\n        }\n\n        override fun onResponse(response: Response?) {\n            val pdfData = response?.body()?.byteStream()\n            completion(pdfData)\n        }\n    })\n}\n</code></pre>\n<p>Later on I am getting <code>InputStream</code> and if it is not null I am showing it with a pdfViewer, but I get an error like:</p>\n<blockquote>\n<p>java.io.IOException: file not in PDF format or corrupted</p>\n</blockquote>\n"},{"tags":["javascript","java","htmlunit"],"answers":[{"comments":[{"owner":{"account_id":12720408,"reputation":153,"user_id":9241045,"display_name":"machinus"},"score":0,"creation_date":1545034887,"post_id":53810768,"comment_id":94470729,"body_markdown":"Thanks for your answer, I think that will be helpfull to others.\nAs for me, I gave a try to the selenium browser, I post what i did below in order to have proper formating.","body":"Thanks for your answer, I think that will be helpfull to others. As for me, I gave a try to the selenium browser, I post what i did below in order to have proper formating."}],"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545032422,"creation_date":1545032422,"answer_id":53810768,"question_id":53795492,"body_markdown":"Yes you are right, the method getNewPage() was removed with the version 2.33 as part of a a huge refactoring regarding event handling.\r\n\r\nAs replacement you can use the enclosed page of the window.\r\n\r\nE.g. if you are sure that the resulting page is in the same window as your current page (has replaced your page without opening a new window), you can use\r\n\r\n    page.getEnclosingWindow().getEnclosedPage()\r\n\r\nIf your code might opend up a new window it will be more save to ask the webClient for the current window (newly opened windows are automatically marked as the current)\r\n\r\n    page.getWebClient().getCurrentWindow().getEnclosedPage()\r\n\r\nOr in your code sample you can directly use the client\r\n\r\n    webClient.getCurrentWindow().getEnclosedPage()\r\n\r\nHope that helps.","title":"HtmlUnit How to get a page after executing JavaScript","body":"<p>Yes you are right, the method getNewPage() was removed with the version 2.33 as part of a a huge refactoring regarding event handling.</p>\n\n<p>As replacement you can use the enclosed page of the window.</p>\n\n<p>E.g. if you are sure that the resulting page is in the same window as your current page (has replaced your page without opening a new window), you can use</p>\n\n<pre><code>page.getEnclosingWindow().getEnclosedPage()\n</code></pre>\n\n<p>If your code might opend up a new window it will be more save to ask the webClient for the current window (newly opened windows are automatically marked as the current)</p>\n\n<pre><code>page.getWebClient().getCurrentWindow().getEnclosedPage()\n</code></pre>\n\n<p>Or in your code sample you can directly use the client</p>\n\n<pre><code>webClient.getCurrentWindow().getEnclosedPage()\n</code></pre>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":12720408,"reputation":153,"user_id":9241045,"display_name":"machinus"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656597984,"creation_date":1545035232,"answer_id":53811327,"question_id":53795492,"body_markdown":"As for me, I gave a try to the selenium browser :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n      &lt;version&gt;3.141.59&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I find it very handful ! I just built a driver, a js executor, an the driver is up to date on the good page as soon as the JS is runned.\r\n\r\n    driver = new ChromeDriver();\r\n    js = (JavascriptExecutor)driver;\r\n    driver.get(url);\r\n    js.executeScript(script);\r\n\r\nFour lines did the trick. I think I will stick with selenium except if there is some good reason not to?","title":"HtmlUnit How to get a page after executing JavaScript","body":"<p>As for me, I gave a try to the selenium browser :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n  &lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I find it very handful ! I just built a driver, a js executor, an the driver is up to date on the good page as soon as the JS is runned.</p>\n<pre><code>driver = new ChromeDriver();\njs = (JavascriptExecutor)driver;\ndriver.get(url);\njs.executeScript(script);\n</code></pre>\n<p>Four lines did the trick. I think I will stick with selenium except if there is some good reason not to?</p>\n"}],"owner":{"account_id":12720408,"reputation":153,"user_id":9241045,"display_name":"machinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53810768,"answer_count":2,"score":0,"last_activity_date":1667937675,"creation_date":1544894442,"question_id":53795492,"body_markdown":"I&#39;m trying to use Html Unit to run JavaScript on a webpage in order to change page.\r\n\r\nI&#39;m importing:\r\n    \r\n    import com.gargoylesoftware.htmlunit.BrowserVersion;\r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlDivision;\r\n    import com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\r\n    import com.gargoylesoftware.htmlunit.ScriptResult;\r\n\r\nand the code is something like:\r\n\r\n    String javaScriptCode = &quot;changePage(1)&quot;;\r\n    try{\r\n        webClient = new WebClient(BrowserVersion.CHROME);\r\n        webClient.getOptions().setCssEnabled(false);\r\n        webClient.getOptions().setJavaScriptEnabled(true);\r\n        page = webClient.getPage(url);\r\n        newPage = page.executeJavaScript(javaScriptCode).getNewPage();\r\n        webClient.close();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\nHowever I get the error:\r\n\r\n&gt;[Java] The method getNewPage() is undefined for the type ScriptResult [67108964]\r\n\r\nWhich is crystal clear, however it doesn&#39;t tell me which method I&#39;m supposed to use? Most of what I found on internet is based on the getNewPage method or on getPage but there may have been changes in the library...\r\n\r\nsee: https://stackoverflow.com/questions/21024176/calling-a-javascript-function-with-htmlunit\r\n\r\nI&#39;m using:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n      &lt;version&gt;2.33&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"HtmlUnit How to get a page after executing JavaScript","body":"<p>I'm trying to use Html Unit to run JavaScript on a webpage in order to change page.</p>\n<p>I'm importing:</p>\n<pre><code>import com.gargoylesoftware.htmlunit.BrowserVersion;\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\nimport com.gargoylesoftware.htmlunit.html.HtmlDivision;\nimport com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\nimport com.gargoylesoftware.htmlunit.ScriptResult;\n</code></pre>\n<p>and the code is something like:</p>\n<pre><code>String javaScriptCode = &quot;changePage(1)&quot;;\ntry{\n    webClient = new WebClient(BrowserVersion.CHROME);\n    webClient.getOptions().setCssEnabled(false);\n    webClient.getOptions().setJavaScriptEnabled(true);\n    page = webClient.getPage(url);\n    newPage = page.executeJavaScript(javaScriptCode).getNewPage();\n    webClient.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>However I get the error:</p>\n<blockquote>\n<p>[Java] The method getNewPage() is undefined for the type ScriptResult [67108964]</p>\n</blockquote>\n<p>Which is crystal clear, however it doesn't tell me which method I'm supposed to use? Most of what I found on internet is based on the getNewPage method or on getPage but there may have been changes in the library...</p>\n<p>see: <a href=\"https://stackoverflow.com/questions/21024176/calling-a-javascript-function-with-htmlunit\">calling a JavaScript function with HTMLUnit</a></p>\n<p>I'm using:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n  &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n  &lt;version&gt;2.33&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470208242,"post_id":38736692,"comment_id":64848487,"body_markdown":"You miss the manytoone relationship in employee","body":"You miss the manytoone relationship in employee"},{"owner":{"account_id":8942336,"reputation":79,"user_id":6670925,"accept_rate":75,"display_name":"KOFFEE"},"score":0,"creation_date":1470208422,"post_id":38736692,"comment_id":64848566,"body_markdown":"@Jens its already added in employee class","body":"@Jens its already added in employee class"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470208495,"post_id":38736692,"comment_id":64848597,"body_markdown":"And where is the  joincolumn Annotation?","body":"And where is the  joincolumn Annotation?"},{"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"score":0,"creation_date":1470208644,"post_id":38736692,"comment_id":64848676,"body_markdown":"@Jens is joincolumn mandatory? By default , here `dept_id` will take as column name. am i right or wrong?","body":"@Jens is joincolumn mandatory? By default , here <code>dept_id</code> will take as column name. am i right or wrong?"},{"owner":{"account_id":8942336,"reputation":79,"user_id":6670925,"accept_rate":75,"display_name":"KOFFEE"},"score":0,"creation_date":1470208661,"post_id":38736692,"comment_id":64848690,"body_markdown":"@Jens i am new to hibernate where to use joincolumn i did&#39;nt know about it","body":"@Jens i am new to hibernate where to use joincolumn i did&#39;nt know about it"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470208768,"post_id":38736692,"comment_id":64848732,"body_markdown":"See [here](https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne) for an example.","body":"See <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne\" rel=\"nofollow noreferrer\">here</a> for an example."}],"answers":[{"tags":[],"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667937268,"creation_date":1470208660,"answer_id":38736880,"question_id":38736692,"body_markdown":"The default column name for mapping is of type,\r\n`table_name + &#39;_&#39; + target_table_primary_key`. This is why it is looking for `department_dept_id`\r\n\r\n\r\n\r\nYou can specify mapping column using annotations. `@JoinColumn(name=&quot;dept_id&quot;)`.","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>The default column name for mapping is of type,\n<code>table_name + '_' + target_table_primary_key</code>. This is why it is looking for <code>department_dept_id</code></p>\n<p>You can specify mapping column using annotations. <code>@JoinColumn(name=&quot;dept_id&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1470209054,"creation_date":1470209054,"answer_id":38737007,"question_id":38736692,"body_markdown":"Try make so \r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;dept_id&quot;)\r\n    private Department department;","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>Try make so </p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name = \"dept_id\")\nprivate Department department;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525520084,"creation_date":1525520084,"answer_id":50188953,"question_id":38736692,"body_markdown":"Property-based access is the right way for using `@OneToMany` and `@ManyToOne` annotation\r\n\r\nUse `@OneToMany` like below:\r\n\r\n    private Collection&lt;Employee&gt; employees;\r\n    \r\n    @OneToMany(mappedBy=&quot;department&quot;, cascade=CascadeType.ALL, fetch=FetchType.EAGER)\r\n    public Collection&lt;Employee&gt; getEmployees() {\r\n        return employees;\r\n    }\r\n    \r\n    public void setEmployees(Collection&lt;Employee&gt; employees) {\r\n        this.employees = employees;\r\n    }\r\n\r\nAnd use `@ManyToOne` like below:\r\n\r\n    private Department department;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;dept_id&quot;)\r\n    public Department getDepartment() {\r\n        return department;\r\n    }\r\n    public void setDepartment(Department department) {\r\n        this.department = department;\r\n    }\r\n\r\nAlso you need to use an empty `constructor` in your model classes, as hibernate wants it.\r\n\r\nIf you use @OnetoMany and @ManyToOne with File-based access then you will get the following error\r\n\r\n**Initial SessionFactory creation failed.org.hibernate.MappingException: Could not determine type for: java.util.List, for columns: [org.hibernate.mapping.Column(relatedResources)]**\r\n","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>Property-based access is the right way for using <code>@OneToMany</code> and <code>@ManyToOne</code> annotation</p>\n\n<p>Use <code>@OneToMany</code> like below:</p>\n\n<pre><code>private Collection&lt;Employee&gt; employees;\n\n@OneToMany(mappedBy=\"department\", cascade=CascadeType.ALL, fetch=FetchType.EAGER)\npublic Collection&lt;Employee&gt; getEmployees() {\n    return employees;\n}\n\npublic void setEmployees(Collection&lt;Employee&gt; employees) {\n    this.employees = employees;\n}\n</code></pre>\n\n<p>And use <code>@ManyToOne</code> like below:</p>\n\n<pre><code>private Department department;\n\n@ManyToOne\n@JoinColumn(name = \"dept_id\")\npublic Department getDepartment() {\n    return department;\n}\npublic void setDepartment(Department department) {\n    this.department = department;\n}\n</code></pre>\n\n<p>Also you need to use an empty <code>constructor</code> in your model classes, as hibernate wants it.</p>\n\n<p>If you use @OnetoMany and @ManyToOne with File-based access then you will get the following error</p>\n\n<p><strong>Initial SessionFactory creation failed.org.hibernate.MappingException: Could not determine type for: java.util.List, for columns: [org.hibernate.mapping.Column(relatedResources)]</strong></p>\n"}],"owner":{"account_id":8942336,"reputation":79,"user_id":6670925,"accept_rate":75,"display_name":"KOFFEE"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2952,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38737007,"answer_count":3,"score":1,"last_activity_date":1667937268,"creation_date":1470208114,"question_id":38736692,"body_markdown":"I m new to hibernate and having `error Unknown column` in OneToMany mapping. I m trying to implement the one to many relationships using hibernate but having an error.\r\n\r\nHere is my Code:\r\n\r\n    Department Class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;department&quot;)\r\n    public class Department {\r\n\r\n\t@Id\r\n\t@Column(name=&quot;dept_id&quot;)\r\n\tprivate int id;\r\n\t@Column(name=&quot;dept_name&quot;)\r\n\tprivate String name;\r\n\t@OneToMany(mappedBy=&quot;department&quot;, cascade=CascadeType.ALL, fetch=FetchType.EAGER)\r\n\tprivate Collection&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic Collection&lt;Employee&gt; getEmployees() {\r\n\t\treturn employees;\r\n\t}\r\n\tpublic void setEmployees(Collection&lt;Employee&gt; employees) {\r\n\t\tthis.employees = employees;\r\n\t}\r\n    }\r\n\r\nEmployee Class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n\r\n\t@Column(name=&quot;emp_id&quot;)\r\n\t@Id\r\n\tprivate int id;\r\n\t@Column(name=&quot;emp_name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@ManyToOne\r\n\tprivate Department department;\r\n\t\r\n\t\r\n\t\r\n\tpublic Department getDepartment() {\r\n\t\treturn department;\r\n\t}\r\n\tpublic void setDepartment(Department department) {\r\n\t\tthis.department = department;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n    }\r\n\r\nEmployee Dao Class:\r\n\r\n    public class EmployeeDao {\r\n\r\n\tpublic void addEmployee(Employee emp, int id){\r\n\t\t\r\n\t\tDepartment department = new Department(); \r\n\t\t\r\n\t\t\r\n\t\tSessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tsession.beginTransaction();\r\n\t\t\r\n\t\tdepartment = (Department) session.get(Department.class, id);\r\n\t\temp.setDepartment(department);\r\n\t\tdepartment.getEmployees().add(emp);\r\n\t\t\r\n\t\t\r\n\t\tsession.save(emp);\r\n\t\t\r\n\t\tsession.getTransaction().commit();\r\n\t\tsession.close();\r\n\t\tsessionFactory.close();\r\n\t}\r\n    }\r\nHere is my Database :\r\n\r\n    CREATE TABLE `department` (\r\n    `dept_id` int(11) NOT NULL,\r\n    `dept_name` varchar(255) DEFAULT NULL\r\n) \r\n\r\n    CREATE TABLE `employee` (\r\n    `emp_id` int(11) NOT NULL,\r\n    `emp_name` varchar(255) DEFAULT NULL,\r\n    `dept_id` int(11) DEFAULT NULL\r\n    )\r\n\r\nStack Trace :\r\n\r\n    WARNING: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n    javax.faces.FacesException: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:118)\r\n\tat javax.faces.component.UICommand.broadcast(UICommand.java:315)\r\n\tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:790)\r\n\tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1282)\r\n\tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:198)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:722)\r\n    Caused by: javax.faces.el.EvaluationException: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n\t... 27 more\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n\tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)\r\n\tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\r\n\tat org.hibernate.loader.Loader.loadEntity(Loader.java:2041)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:496)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:477)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:285)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152)\r\n\tat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1090)\r\n\tat org.hibernate.impl.SessionImpl.get(SessionImpl.java:1005)\r\n\tat org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)\r\n\tat com.hibCollection.dao.EmployeeDao.addEmployee(EmployeeDao.java:21)\r\n\tat com.hibCollection.mangedBean.EmployeeManageBean.addEmployee(EmployeeManageBean.java:29)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.apache.el.parser.AstValue.invoke(AstValue.java:278)\r\n\tat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:273)\r\n\tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\r\n\t... 28 more\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column &#39;employees1_.department_dept_id&#39; in &#39;field list&#39;\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:525)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:381)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1031)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3376)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3308)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1837)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1961)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2543)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1737)\r\n\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1888)\r\n\tat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:802)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\r\n\tat org.hibernate.loader.Loader.loadEntity(Loader.java:2037)\r\n\t... 49 more\r\n\r\n\r\nCan you please tell me  what I&#39;m doing wrong here? :)\r\n","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>I m new to hibernate and having <code>error Unknown column</code> in OneToMany mapping. I m trying to implement the one to many relationships using hibernate but having an error.</p>\n\n<p>Here is my Code:</p>\n\n<pre><code>Department Class:\n\n@Entity\n@Table(name=\"department\")\npublic class Department {\n\n@Id\n@Column(name=\"dept_id\")\nprivate int id;\n@Column(name=\"dept_name\")\nprivate String name;\n@OneToMany(mappedBy=\"department\", cascade=CascadeType.ALL, fetch=FetchType.EAGER)\nprivate Collection&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic Collection&lt;Employee&gt; getEmployees() {\n    return employees;\n}\npublic void setEmployees(Collection&lt;Employee&gt; employees) {\n    this.employees = employees;\n}\n}\n</code></pre>\n\n<p>Employee Class:</p>\n\n<pre><code>@Entity\n@Table(name = \"employee\")\npublic class Employee {\n\n@Column(name=\"emp_id\")\n@Id\nprivate int id;\n@Column(name=\"emp_name\")\nprivate String name;\n\n@ManyToOne\nprivate Department department;\n\n\n\npublic Department getDepartment() {\n    return department;\n}\npublic void setDepartment(Department department) {\n    this.department = department;\n}\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n\n<p>Employee Dao Class:</p>\n\n<pre><code>public class EmployeeDao {\n\npublic void addEmployee(Employee emp, int id){\n\n    Department department = new Department(); \n\n\n    SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n    Session session = sessionFactory.openSession();\n    session.beginTransaction();\n\n    department = (Department) session.get(Department.class, id);\n    emp.setDepartment(department);\n    department.getEmployees().add(emp);\n\n\n    session.save(emp);\n\n    session.getTransaction().commit();\n    session.close();\n    sessionFactory.close();\n}\n}\n</code></pre>\n\n<p>Here is my Database :</p>\n\n<pre><code>CREATE TABLE `department` (\n`dept_id` int(11) NOT NULL,\n`dept_name` varchar(255) DEFAULT NULL\n</code></pre>\n\n<p>) </p>\n\n<pre><code>CREATE TABLE `employee` (\n`emp_id` int(11) NOT NULL,\n`emp_name` varchar(255) DEFAULT NULL,\n`dept_id` int(11) DEFAULT NULL\n)\n</code></pre>\n\n<p>Stack Trace :</p>\n\n<pre><code>WARNING: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\njavax.faces.FacesException: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\nat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:118)\nat javax.faces.component.UICommand.broadcast(UICommand.java:315)\nat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:790)\nat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1282)\nat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\nat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\nat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:198)\nat javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:722)\nCaused by: javax.faces.el.EvaluationException: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\nat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\nat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n... 27 more\nCaused by: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\nat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)\nat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:2041)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:496)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:477)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:285)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1090)\nat org.hibernate.impl.SessionImpl.get(SessionImpl.java:1005)\nat org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)\nat com.hibCollection.dao.EmployeeDao.addEmployee(EmployeeDao.java:21)\nat com.hibCollection.mangedBean.EmployeeManageBean.addEmployee(EmployeeManageBean.java:29)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.apache.el.parser.AstValue.invoke(AstValue.java:278)\nat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:273)\nat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\nat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\n... 28 more\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'employees1_.department_dept_id' in 'field list'\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:525)\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\nat com.mysql.jdbc.Util.getInstance(Util.java:381)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1031)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3376)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3308)\nat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1837)\nat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1961)\nat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2543)\nat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1737)\nat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1888)\nat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\nat org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\nat org.hibernate.loader.Loader.doQuery(Loader.java:802)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:2037)\n... 49 more\n</code></pre>\n\n<p>Can you please tell me  what I'm doing wrong here? :)</p>\n"},{"tags":["java","list","casting","set"],"comments":[{"owner":{"account_id":1349982,"reputation":773,"user_id":1289932,"display_name":"Samarth"},"score":0,"creation_date":1667935624,"post_id":74366115,"comment_id":131285694,"body_markdown":"You can actually use set or list if the method printItems has argument Collection&lt;Map&lt;String,?&gt;&gt; items instead of List, and since Set doesnot extends List interface, instead both List and Set extends Collection interface.","body":"You can actually use set or list if the method printItems has argument Collection&lt;Map&lt;String,?&gt;&gt; items instead of List, and since Set doesnot extends List interface, instead both List and Set extends Collection interface."}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667936192,"creation_date":1667935594,"answer_id":74366162,"question_id":74366115,"body_markdown":"It doesn&#39;t work because the run-time type of `rows` is `HashSet` and `HashSet` does not implement the `List` interface.\r\n\r\nIt works when you create `listedRows` because the run-time type of that object is `ArrayList` which does implement the `List` interface.\r\n\r\nIn your example, you could just just use the `Collection` abstraction in `printItems` since all you need to do is iterate through items.  This will allow you to invoke the method with a `Set` or `List` (or any other [`Collection`][1]) without having to cast or recreate an object.\r\n\r\n```\r\n    public static void printItems(Collection&lt;Map&lt;String, ?&gt;&gt; items) {\r\n        for (Map&lt;String, ?&gt; str: items)\r\n            System.out.println(str);\r\n    }\r\n```\r\n\r\n\r\n----------\r\n\r\nOn casting if you are interested:\r\n\r\nCasting generally only works when you have an object with a compile-time type that is a parent class of the run-time type and you need to coerce the compile-time type of the object to be the run-time type so that you can invoke a method that is specific to the run-time type.\r\n\r\nFor example (albeit contrived):\r\n\r\n```\r\npublic void addTenObjects(List l) {\r\n\r\n  if (l instanceof ArrayList)\r\n    ((ArrayList)l).ensureCapacity(10)\r\n  \r\n  for (int i = 0; i &lt; 10; i++) \r\n    l.add(new Object())\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html","title":"How does type-casting fail but work fine after constructor","body":"<p>It doesn't work because the run-time type of <code>rows</code> is <code>HashSet</code> and <code>HashSet</code> does not implement the <code>List</code> interface.</p>\n<p>It works when you create <code>listedRows</code> because the run-time type of that object is <code>ArrayList</code> which does implement the <code>List</code> interface.</p>\n<p>In your example, you could just just use the <code>Collection</code> abstraction in <code>printItems</code> since all you need to do is iterate through items.  This will allow you to invoke the method with a <code>Set</code> or <code>List</code> (or any other <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a>) without having to cast or recreate an object.</p>\n<pre><code>    public static void printItems(Collection&lt;Map&lt;String, ?&gt;&gt; items) {\n        for (Map&lt;String, ?&gt; str: items)\n            System.out.println(str);\n    }\n</code></pre>\n<hr />\n<p>On casting if you are interested:</p>\n<p>Casting generally only works when you have an object with a compile-time type that is a parent class of the run-time type and you need to coerce the compile-time type of the object to be the run-time type so that you can invoke a method that is specific to the run-time type.</p>\n<p>For example (albeit contrived):</p>\n<pre><code>public void addTenObjects(List l) {\n\n  if (l instanceof ArrayList)\n    ((ArrayList)l).ensureCapacity(10)\n  \n  for (int i = 0; i &lt; 10; i++) \n    l.add(new Object())\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667937055,"creation_date":1667937055,"answer_id":74366381,"question_id":74366115,"body_markdown":"Both `Set` and `List` interfaces extend `Collection`, but they don&#39;t extend each other. I.e. they are sibling, therefore you can&#39;t convert one into another via casting.\r\n\r\nSince your method `printItems` simply printing the contents of the argument passed into it, you can use instead of it Java 8 [`Iterable.forEach()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)), which expects a `Consumer` representing the action:\r\n\r\n```\r\nrows.forEach(System.out::println);\r\n```\r\n\r\nNo need to type-cast or copy anything, and no need in introducing the method when you have a fairly simple logic like in this case.","title":"How does type-casting fail but work fine after constructor","body":"<p>Both <code>Set</code> and <code>List</code> interfaces extend <code>Collection</code>, but they don't extend each other. I.e. they are sibling, therefore you can't convert one into another via casting.</p>\n<p>Since your method <code>printItems</code> simply printing the contents of the argument passed into it, you can use instead of it Java 8 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Iterable.forEach()</code></a>, which expects a <code>Consumer</code> representing the action:</p>\n<pre><code>rows.forEach(System.out::println);\n</code></pre>\n<p>No need to type-cast or copy anything, and no need in introducing the method when you have a fairly simple logic like in this case.</p>\n"}],"owner":{"account_id":454513,"reputation":663,"user_id":852146,"accept_rate":50,"display_name":"dramaticlook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667937055,"creation_date":1667935274,"question_id":74366115,"body_markdown":"I am exploring Java and while trying type-casting I ran into the following issue, the casting failed when I called the method the first time but after constructing the List it worked fine.\r\n\r\nLooking for a clear explanation to this please :)\r\nThanks\r\n\r\n    import java.util.*;\r\n    import java.util.Set;\r\n    import java.util.HashMap; // import the HashMap class\r\n    \r\n    \r\n    public class Main{     \r\n        public static void main(String[] args)     \r\n        {     \r\n            Set&lt;Map&lt;String, ?&gt;&gt; rows = new HashSet();\r\n            \r\n            HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n            map.put(&quot;1&quot;,&quot;one&quot;);\r\n            map.put(&quot;2&quot;,&quot;two&quot;);\r\n            \r\n            HashMap&lt;String, String&gt; mapp = new HashMap&lt;String, String&gt;();\r\n            mapp.put(&quot;3&quot;,&quot;three&quot;);\r\n            mapp.put(&quot;4&quot;,&quot;four&quot;);\r\n            \r\n            rows.add(map);\r\n            rows.add(mapp);\r\n    \r\n            //WHY THE FOLLOWING DOESN&#39;T WORK ?????\r\n            //printItems((List&lt;Map&lt;String, ?&gt;&gt;) rows);\r\n            \r\n            //BUT THE FOLLOWING WORKS FINE\r\n            List&lt;Map&lt;String, ?&gt;&gt; listedRows = new ArrayList&lt;&gt;(rows);\r\n            printItems(listedRows);\r\n        }\r\n        \r\n        public static void printItems(List&lt;Map&lt;String, ?&gt;&gt; items) {\r\n            for (Map&lt;String, ?&gt; str: items)\r\n                System.out.println(str);\r\n        }\r\n    }    ","title":"How does type-casting fail but work fine after constructor","body":"<p>I am exploring Java and while trying type-casting I ran into the following issue, the casting failed when I called the method the first time but after constructing the List it worked fine.</p>\n<p>Looking for a clear explanation to this please :)\nThanks</p>\n<pre><code>import java.util.*;\nimport java.util.Set;\nimport java.util.HashMap; // import the HashMap class\n\n\npublic class Main{     \n    public static void main(String[] args)     \n    {     \n        Set&lt;Map&lt;String, ?&gt;&gt; rows = new HashSet();\n        \n        HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        map.put(&quot;1&quot;,&quot;one&quot;);\n        map.put(&quot;2&quot;,&quot;two&quot;);\n        \n        HashMap&lt;String, String&gt; mapp = new HashMap&lt;String, String&gt;();\n        mapp.put(&quot;3&quot;,&quot;three&quot;);\n        mapp.put(&quot;4&quot;,&quot;four&quot;);\n        \n        rows.add(map);\n        rows.add(mapp);\n\n        //WHY THE FOLLOWING DOESN'T WORK ?????\n        //printItems((List&lt;Map&lt;String, ?&gt;&gt;) rows);\n        \n        //BUT THE FOLLOWING WORKS FINE\n        List&lt;Map&lt;String, ?&gt;&gt; listedRows = new ArrayList&lt;&gt;(rows);\n        printItems(listedRows);\n    }\n    \n    public static void printItems(List&lt;Map&lt;String, ?&gt;&gt; items) {\n        for (Map&lt;String, ?&gt; str: items)\n            System.out.println(str);\n    }\n}    \n</code></pre>\n"},{"tags":["java","dns","inetaddress"],"comments":[{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":0,"creation_date":1424171021,"post_id":28560135,"comment_id":45432354,"body_markdown":"This problem may not be Java related only since my `ping` also can&#39;t resolve `_netblocks.google.com`.","body":"This problem may not be Java related only since my <code>ping</code> also can&#39;t resolve <code>_netblocks.google.com</code>."},{"owner":{"account_id":5801030,"reputation":141,"user_id":4575196,"display_name":"zJK"},"score":0,"creation_date":1424180902,"post_id":28560135,"comment_id":45436353,"body_markdown":"Thanks Zhedar, I know that :) I added that to illustrate what I am trying to do. If I use &#39;google.com&#39; as my argument, it does pop out an IP. But that is the A record. I need to grab the TXT record.","body":"Thanks Zhedar, I know that :) I added that to illustrate what I am trying to do. If I use &#39;google.com&#39; as my argument, it does pop out an IP. But that is the A record. I need to grab the TXT record."}],"answers":[{"tags":[],"owner":{"account_id":4995828,"reputation":4085,"user_id":4124076,"display_name":"Manish Maheshwari"},"comment_count":0,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1424212987,"creation_date":1424212987,"answer_id":28572571,"question_id":28560135,"body_markdown":"You **cannot** lookup TXT or other DNS records `InetAddress` class. `InetAddress.getAllByName()` looks up for *A*, or *AAAA* records only. \r\n\r\nCheck [DNS Java](http://www.xbill.org/dnsjava/) for your needs.","title":"DNS query in Java","body":"<p>You <strong>cannot</strong> lookup TXT or other DNS records <code>InetAddress</code> class. <code>InetAddress.getAllByName()</code> looks up for <em>A</em>, or <em>AAAA</em> records only. </p>\n\n<p>Check <a href=\"http://www.xbill.org/dnsjava/\" rel=\"noreferrer\">DNS Java</a> for your needs.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424214354,"creation_date":1424214354,"answer_id":28572918,"question_id":28560135,"body_markdown":"`InetAddress` doesn&#39;t do this, but you can accomplish DNS TXT record lookups in Java via the [JNDI DNS provider](http://docs.oracle.com/javase/7/docs/technotes/guides/jndi/jndi-dns.html).","title":"DNS query in Java","body":"<p><code>InetAddress</code> doesn't do this, but you can accomplish DNS TXT record lookups in Java via the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jndi/jndi-dns.html\" rel=\"noreferrer\">JNDI DNS provider</a>.</p>\n"},{"tags":[],"owner":{"account_id":964700,"reputation":1819,"user_id":988346,"display_name":"user988346"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540531229,"creation_date":1540531229,"answer_id":53001920,"question_id":28560135,"body_markdown":"Here is an example that does what you are trying to do:\r\n\r\n    Attribute attr = new InitialDirContext().getAttributes(&quot;dns:_netblocks.google.com&quot;, new String[] {&quot;TXT&quot;}).get(&quot;TXT&quot;);\r\n    System.out.println(&quot;attr.get() = &quot; + attr.get());\r\n    System.out.println(&quot;attr.getAll() = &quot; + Collections.list(attr.getAll()));\r\n\r\nIf you want to use a custom dns server use &quot;dns://1.1/_netblocks.google.com&quot; instead.","title":"DNS query in Java","body":"<p>Here is an example that does what you are trying to do:</p>\n\n<pre><code>Attribute attr = new InitialDirContext().getAttributes(\"dns:_netblocks.google.com\", new String[] {\"TXT\"}).get(\"TXT\");\nSystem.out.println(\"attr.get() = \" + attr.get());\nSystem.out.println(\"attr.getAll() = \" + Collections.list(attr.getAll()));\n</code></pre>\n\n<p>If you want to use a custom dns server use \"dns://1.1/_netblocks.google.com\" instead.</p>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664981751,"creation_date":1664981751,"answer_id":73962324,"question_id":28560135,"body_markdown":"I ended up using Google&#39;s &quot;JSON API for DNS over HTTPS (DoH)&quot;\r\n\r\nhttps://developers.google.com/speed/public-dns/docs/doh/json","title":"DNS query in Java","body":"<p>I ended up using Google's &quot;JSON API for DNS over HTTPS (DoH)&quot;</p>\n<p><a href=\"https://developers.google.com/speed/public-dns/docs/doh/json\" rel=\"nofollow noreferrer\">https://developers.google.com/speed/public-dns/docs/doh/json</a></p>\n"}],"owner":{"account_id":5801030,"reputation":141,"user_id":4575196,"display_name":"zJK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33536,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1667936238,"creation_date":1424169888,"question_id":28560135,"body_markdown":"I am messing around with DNS services in Java. I am specifically trying to look up all google.com addresses and display them in an array, similar to running a lookup using [`nslookup`](https://en.wikipedia.org/wiki/Nslookup):\r\n\r\n    nslookup -q=TXT _netblocks.google.com 8.8.8.8\r\n\r\nI am using `InetAddress` for this but I keep on getting exceptions. Since the exceptions refer to an &#39;Unknown Host&#39;, I don&#39;t think `InetAddress` can read TXT records (if I use google.com it works, but that doesn&#39;t show the full IP range).\r\n\r\nBelow is my code:\r\n\r\n    InetAddress dnsresult[] = InetAddress.getAllByName(&quot;_netblocks.google.com&quot;);\r\n\r\n    for (int i=0; i&lt;dnsresult.length; i++)\r\n    \tSystem.out.println(dnsresult[i]);\r\n\r\nI would appreciate it if someone could point me in the right direction.\r\n","title":"DNS query in Java","body":"<p>I am messing around with DNS services in Java. I am specifically trying to look up all google.com addresses and display them in an array, similar to running a lookup using <a href=\"https://en.wikipedia.org/wiki/Nslookup\" rel=\"nofollow noreferrer\"><code>nslookup</code></a>:</p>\n<pre><code>nslookup -q=TXT _netblocks.google.com 8.8.8.8\n</code></pre>\n<p>I am using <code>InetAddress</code> for this but I keep on getting exceptions. Since the exceptions refer to an 'Unknown Host', I don't think <code>InetAddress</code> can read TXT records (if I use google.com it works, but that doesn't show the full IP range).</p>\n<p>Below is my code:</p>\n<pre><code>InetAddress dnsresult[] = InetAddress.getAllByName(&quot;_netblocks.google.com&quot;);\n\nfor (int i=0; i&lt;dnsresult.length; i++)\n    System.out.println(dnsresult[i]);\n</code></pre>\n<p>I would appreciate it if someone could point me in the right direction.</p>\n"},{"tags":["java","java-nio"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1667931551,"post_id":74365407,"comment_id":131284392,"body_markdown":"That doesn&#39;t look like the URL of an mp4 file but rather the URL of a DailyMotion page that *contains* a video.","body":"That doesn&#39;t look like the URL of an mp4 file but rather the URL of a DailyMotion page that <i>contains</i> a video."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1667932750,"post_id":74365407,"comment_id":131284788,"body_markdown":"That is not so easy. A video portal has tons of Javascript, and it could be very hard to get the stream URL (if the web does not have a specific API for that). You can extract the URL with some browser plugins ( https://addons.mozilla.org/en-US/firefox/addon/video-downloadhelper/ ) but doing this with Java could be hard.","body":"That is not so easy. A video portal has tons of Javascript, and it could be very hard to get the stream URL (if the web does not have a specific API for that). You can extract the URL with some browser plugins ( <a href=\"https://addons.mozilla.org/en-US/firefox/addon/video-downloadhelper/\" rel=\"nofollow noreferrer\">addons.mozilla.org/en-US/firefox/addon/video-downloadhelper</a> ) but doing this with Java could be hard."},{"owner":{"account_id":18063368,"reputation":63,"user_id":13129943,"display_name":"Yoh"},"score":0,"creation_date":1667933911,"post_id":74365407,"comment_id":131285141,"body_markdown":"Like others said, you need to scrap the page first to get the actual URL of the video itself before attempting to download it, how to find that URL depends on the platform/website.","body":"Like others said, you need to scrap the page first to get the actual URL of the video itself before attempting to download it, how to find that URL depends on the platform/website."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1667938297,"post_id":74365407,"comment_id":131286499,"body_markdown":"if you can even find it, and then if you&#39;re even allowed to access it directly. Websites that allow direct downloading tend to have APIs for the purpose, often ones that do put restrictions on downloads (number, bandwidth, who can access them, etc.). And for good reasons, as each download is a cost for them, and you&#39;re bypassing the ads and other revenue generators they present to normal viewers","body":"if you can even find it, and then if you&#39;re even allowed to access it directly. Websites that allow direct downloading tend to have APIs for the purpose, often ones that do put restrictions on downloads (number, bandwidth, who can access them, etc.). And for good reasons, as each download is a cost for them, and you&#39;re bypassing the ads and other revenue generators they present to normal viewers"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1667954853,"post_id":74365407,"comment_id":131290381,"body_markdown":"As mentioned by others, the URI you have in your sample code just points to a page that has some javascripts running that actually download a file called `488168396_mp4_h264_aac_hq.ts` in `video/mp2t` format. A simple GET request though will only donwload a couple of kilobytes and its the constant issuing of &quot;ranged&quot; GET requests that actually retrieves the whole file - segment per segment. Note however, that the actual filename is hidden in the javascript code to obfuscate the actual name.","body":"As mentioned by others, the URI you have in your sample code just points to a page that has some javascripts running that actually download a file called <code>488168396_mp4_h264_aac_hq.ts</code> in <code>video&#47;mp2t</code> format. A simple GET request though will only donwload a couple of kilobytes and its the constant issuing of &quot;ranged&quot; GET requests that actually retrieves the whole file - segment per segment. Note however, that the actual filename is hidden in the javascript code to obfuscate the actual name."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686672491,"post_id":74365407,"comment_id":134830080,"body_markdown":"Generally, you must **close** resources.  The preferred way is to use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html). In this case, you can simplify the entire operation to `try(InputStream is = new URL(&quot;https://www.dailymotion.com/embed/video/x82n558&quot;).openStream()) { Files.copy(is, Paths.get(&quot;C:\\\\Users\\\\Tecman\\\\Desktop\\\\Knowladge\\\\video.mp4&quot;)); }` Of course, it doesn’t help if the URL doesn’t actually point to the video.","body":"Generally, you must <b>close</b> resources.  The preferred way is to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>. In this case, you can simplify the entire operation to <code>try(InputStream is = new URL(&quot;https:&#47;&#47;www.dailymotion.com&#47;embed&#47;video&#47;x82n558&quot;).openS&zwnj;&#8203;tream()) { Files.copy(is, Paths.get(&quot;C:\\\\Users\\\\Tecman\\\\Desktop\\\\Knowladge\\\\video.mp4&quot;&zwnj;&#8203;)); }</code> Of course, it doesn’t help if the URL doesn’t actually point to the video."}],"owner":{"account_id":21691478,"reputation":21,"user_id":16006026,"display_name":"Anjula Samarasinghe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667935345,"creation_date":1667931321,"question_id":74365407,"body_markdown":"I need to download a video in the given link and save to my local directory. This is the code I used for that. And I&#39;m using java nio package.\r\n\r\n  \r\n\r\n      public void usingNio() throws Exception { \r\n                ReadableByteChannel readChannel = Channels.newChannel(new URL(&quot;https://www.dailymotion.com/embed/video/x82n558&quot;).openStream()); \r\n                FileOutputStream fileOS = new FileOutputStream(newFile(&quot;C:\\\\Users\\\\Tecman\\\\Desktop\\\\Knowladge\\\\video.mp4&quot;)); \r\n                FileChannel writeChannel = fileOS.getChannel(); writeChannel.transferFrom(readChannel, 0, Long.MAX_VALUE);\r\n         }\r\n\r\nAbove code saving video.mp4 file in the given directory but it can&#39;t play using a video player. Seems like video file is corrupted.\r\n\r\nI have tried several example in the internet but no luck. I know there are tons of video downloading tools available in internet but my purpose is download a video file from any provided link and save it to the directory using java. What i&#39;m doing wrong here any guidance, code segment, link or tip will be really helpful. \r\n","title":"Java download video from a given URL","body":"<p>I need to download a video in the given link and save to my local directory. This is the code I used for that. And I'm using java nio package.</p>\n<pre><code>  public void usingNio() throws Exception { \n            ReadableByteChannel readChannel = Channels.newChannel(new URL(&quot;https://www.dailymotion.com/embed/video/x82n558&quot;).openStream()); \n            FileOutputStream fileOS = new FileOutputStream(newFile(&quot;C:\\\\Users\\\\Tecman\\\\Desktop\\\\Knowladge\\\\video.mp4&quot;)); \n            FileChannel writeChannel = fileOS.getChannel(); writeChannel.transferFrom(readChannel, 0, Long.MAX_VALUE);\n     }\n</code></pre>\n<p>Above code saving video.mp4 file in the given directory but it can't play using a video player. Seems like video file is corrupted.</p>\n<p>I have tried several example in the internet but no luck. I know there are tons of video downloading tools available in internet but my purpose is download a video file from any provided link and save it to the directory using java. What i'm doing wrong here any guidance, code segment, link or tip will be really helpful.</p>\n"},{"tags":["java","spring","configuration"],"answers":[{"tags":[],"owner":{"account_id":322748,"reputation":36417,"user_id":642340,"accept_rate":83,"display_name":"soulcheck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1408700028,"creation_date":1408699723,"answer_id":25443754,"question_id":25443424,"body_markdown":"Since it&#39;s a bean that&#39;s used only in this particular external bean, you simply convert it to an instance creation and set the apropriate property. \r\n\r\nYou can&#39;t use `Filter` interface as that doesn&#39;t have the setter for ticket validator. \r\n\r\nUse `AbstractTicketValidationFilter` instead:\r\n\r\n\r\n    @Bean\r\n    FilterRegistrationBean ticketValidationFilter(){\r\n\r\n        AbstractTicketValidationFilter ticketValidationFilter = new\r\n                org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter();\r\n        \r\n        FilterRegistrationBean frb = new FilterRegistrationBean();\r\n        frb.addUrlPatterns(&quot;/*&quot;);\r\n        frb.setFilter(ticketValidationFilter);\r\n\r\n        //here be ticket validaror\r\n\r\n        TicketValidator validator = new org.jasig.cas.client.validation.Cas20ServiceTicketValidator(&quot;https://localhost:8443/cas&quot;);\r\n        \r\n        ticketValidationFilter.setTicketValidator(validator);\r\n\r\n        //end of ticket validator config\r\n\r\n        Map&lt;String, String&gt; initParamMap = new HashMap&lt;String, String&gt;();\r\n        initParamMap.put(&quot;service&quot;, &quot;http://localhost:8889/cas-client&quot;);\r\n        frb.setInitParameters(initParamMap);\r\n\r\n        return frb;\r\n    }\r\n\r\nThe whole beauty of java config is that some complex xml configurations can be converted to very simple java.","title":"Spring xml to java config: how to convert nested xml bean definition","body":"<p>Since it's a bean that's used only in this particular external bean, you simply convert it to an instance creation and set the apropriate property. </p>\n\n<p>You can't use <code>Filter</code> interface as that doesn't have the setter for ticket validator. </p>\n\n<p>Use <code>AbstractTicketValidationFilter</code> instead:</p>\n\n<pre><code>@Bean\nFilterRegistrationBean ticketValidationFilter(){\n\n    AbstractTicketValidationFilter ticketValidationFilter = new\n            org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter();\n\n    FilterRegistrationBean frb = new FilterRegistrationBean();\n    frb.addUrlPatterns(\"/*\");\n    frb.setFilter(ticketValidationFilter);\n\n    //here be ticket validaror\n\n    TicketValidator validator = new org.jasig.cas.client.validation.Cas20ServiceTicketValidator(\"https://localhost:8443/cas\");\n\n    ticketValidationFilter.setTicketValidator(validator);\n\n    //end of ticket validator config\n\n    Map&lt;String, String&gt; initParamMap = new HashMap&lt;String, String&gt;();\n    initParamMap.put(\"service\", \"http://localhost:8889/cas-client\");\n    frb.setInitParameters(initParamMap);\n\n    return frb;\n}\n</code></pre>\n\n<p>The whole beauty of java config is that some complex xml configurations can be converted to very simple java.</p>\n"},{"tags":[],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667934848,"creation_date":1667934848,"answer_id":74366042,"question_id":25443424,"body_markdown":"Per the Javadoc comment for the `org.springframework.context.ApplicationContextAware` interface:\r\n\r\n&gt; Implementing this interface makes sense for example when an object requires access to a set of collaborating beans.\r\n\r\n[@soulcheck&#39;s answer][1] is appropriate for most use cases, but when you need to register the inner bean with Spring for any reason, like to define init and destroy methods, you need to:\r\n\r\n1. Implement `org.springframework.context.ApplicationContextAware`.\r\n2. Store the `org.springframework.context.ApplicationContext` for use inside your `@Bean` method.\r\n3. Use the `org.springframework.context.ApplicationContext` to get access to the `org.springframework.beans.factory.support.BeanDefinitionRegistry` to manually create and register bean definition.\r\n4. Use the `org.springframework.context.ApplicationContext` again to retrieve the bean created in the previous step.\r\n\r\nHere&#39;s an example skeleton of a class that shows those steps in action:\r\n~~~java\r\nimport org.springframework.beans.factory.support.BeanDefinitionBuilder;\r\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.ApplicationContextAware;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class MyConfiguration implements ApplicationContextAware {\r\n    // members ///////////////////////////////////////////////////////////////////////////\r\n    private ApplicationContext applicationContext;\r\n\r\n    // getters and setters ///////////////////////////////////////////////////////////////\r\n    @Override\r\n    public void setApplicationContext(final ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    // methods ///////////////////////////////////////////////////////////////////////////\r\n    @Bean\r\n    public Foo foo() {\r\n        ((BeanDefinitionRegistry)applicationContext.getAutowireCapableBeanFactory()).registerBeanDefinition(\r\n            &quot;bar&quot;,\r\n            BeanDefinitionBuilder.genericBeanDefinition(Bar.class)\r\n                .setInitMethodName(&quot;start&quot;)\r\n                .setDestroyMethodName(&quot;stop&quot;)\r\n                .addConstructorArgValue(&quot;Hello world!&quot;)\r\n                .addPropertyValue(&quot;hello&quot;, &quot;world&quot;)\r\n            .getBeanDefinition()\r\n        );\r\n\r\n        final Foo foo = new Foo(applicationContext.getBean(&quot;bar&quot;, Bar.class));\r\n\r\n        return foo;\r\n    }\r\n}\r\n~~~\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25443754/4548231","title":"Spring xml to java config: how to convert nested xml bean definition","body":"<p>Per the Javadoc comment for the <code>org.springframework.context.ApplicationContextAware</code> interface:</p>\n<blockquote>\n<p>Implementing this interface makes sense for example when an object requires access to a set of collaborating beans.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/25443754/4548231\">@soulcheck's answer</a> is appropriate for most use cases, but when you need to register the inner bean with Spring for any reason, like to define init and destroy methods, you need to:</p>\n<ol>\n<li>Implement <code>org.springframework.context.ApplicationContextAware</code>.</li>\n<li>Store the <code>org.springframework.context.ApplicationContext</code> for use inside your <code>@Bean</code> method.</li>\n<li>Use the <code>org.springframework.context.ApplicationContext</code> to get access to the <code>org.springframework.beans.factory.support.BeanDefinitionRegistry</code> to manually create and register bean definition.</li>\n<li>Use the <code>org.springframework.context.ApplicationContext</code> again to retrieve the bean created in the previous step.</li>\n</ol>\n<p>Here's an example skeleton of a class that shows those steps in action:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.support.BeanDefinitionBuilder;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class MyConfiguration implements ApplicationContextAware {\n    // members ///////////////////////////////////////////////////////////////////////////\n    private ApplicationContext applicationContext;\n\n    // getters and setters ///////////////////////////////////////////////////////////////\n    @Override\n    public void setApplicationContext(final ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    // methods ///////////////////////////////////////////////////////////////////////////\n    @Bean\n    public Foo foo() {\n        ((BeanDefinitionRegistry)applicationContext.getAutowireCapableBeanFactory()).registerBeanDefinition(\n            &quot;bar&quot;,\n            BeanDefinitionBuilder.genericBeanDefinition(Bar.class)\n                .setInitMethodName(&quot;start&quot;)\n                .setDestroyMethodName(&quot;stop&quot;)\n                .addConstructorArgValue(&quot;Hello world!&quot;)\n                .addPropertyValue(&quot;hello&quot;, &quot;world&quot;)\n            .getBeanDefinition()\n        );\n\n        final Foo foo = new Foo(applicationContext.getBean(&quot;bar&quot;, Bar.class));\n\n        return foo;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":467627,"reputation":5922,"user_id":873139,"accept_rate":64,"display_name":"Aubergine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25443754,"answer_count":2,"score":1,"last_activity_date":1667934848,"creation_date":1408698675,"question_id":25443424,"body_markdown":"     &lt;bean\r\n        name=&quot;ticketValidationFilter&quot;\r\n        class=&quot;org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter&quot;\r\n        p:service=&quot;https://my.local.service.com/cas-client&quot;&gt;\r\n        &lt;property name=&quot;ticketValidator&quot;&gt;\r\n        &lt;bean class=&quot;org.jasig.cas.client.validation.Cas20ServiceTicketValidator&quot;&gt;\r\n        &lt;constructor-arg index=&quot;0&quot; value=&quot;https://localhost:8443/cas&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n      &lt;/bean&gt;\r\n\r\nCan anyone please help to convert this xml definition to java config? Specifically, I am confused about how to declare `ticketValidator`.\r\n\r\n        @Bean\r\n        FilterRegistrationBean ticketValidationFilter(){\r\n    \r\n            Filter ticketValidationFilter = new\r\n                    org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter();\r\n    \r\n            FilterRegistrationBean frb = new FilterRegistrationBean();\r\n            frb.addUrlPatterns(&quot;/*&quot;);\r\n            frb.setFilter(ticketValidationFilter);\r\n    \r\n            // ticket Validator somewhere here\r\n    \r\n            Map&lt;String, String&gt; initParamMap = new HashMap&lt;String, String&gt;();\r\n            initParamMap.put(&quot;service&quot;, &quot;http://localhost:8889/cas-client&quot;);\r\n            frb.setInitParameters(initParamMap);\r\n    \r\n            return frb;\r\n        }\r\n\r\n**-----UPDATE FOR FILTERS CONFIG-------**\r\n\r\nif you use nested beans for filter configuration(Eg. like in my case), whatever properties you set on your filters - they will be null if you use just setters(don&#39;t know why, if anyone eager to explain please do).\r\n\r\nTo solve this issue: create filter(@Component) that extends GenericFilterBean and set your properties there. Then @Autowire it to your config and use setters on filter registration as usual.** \r\n\r\nIf you have simple configuration property(eg. String) then you can use Map with init params and set it on the FilterRegistration bean.\r\n","title":"Spring xml to java config: how to convert nested xml bean definition","body":"<pre><code> &lt;bean\n    name=\"ticketValidationFilter\"\n    class=\"org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter\"\n    p:service=\"https://my.local.service.com/cas-client\"&gt;\n    &lt;property name=\"ticketValidator\"&gt;\n    &lt;bean class=\"org.jasig.cas.client.validation.Cas20ServiceTicketValidator\"&gt;\n    &lt;constructor-arg index=\"0\" value=\"https://localhost:8443/cas\" /&gt;\n    &lt;/bean&gt;\n    &lt;/property&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>Can anyone please help to convert this xml definition to java config? Specifically, I am confused about how to declare <code>ticketValidator</code>.</p>\n\n<pre><code>    @Bean\n    FilterRegistrationBean ticketValidationFilter(){\n\n        Filter ticketValidationFilter = new\n                org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter();\n\n        FilterRegistrationBean frb = new FilterRegistrationBean();\n        frb.addUrlPatterns(\"/*\");\n        frb.setFilter(ticketValidationFilter);\n\n        // ticket Validator somewhere here\n\n        Map&lt;String, String&gt; initParamMap = new HashMap&lt;String, String&gt;();\n        initParamMap.put(\"service\", \"http://localhost:8889/cas-client\");\n        frb.setInitParameters(initParamMap);\n\n        return frb;\n    }\n</code></pre>\n\n<p><strong>-----UPDATE FOR FILTERS CONFIG-------</strong></p>\n\n<p>if you use nested beans for filter configuration(Eg. like in my case), whatever properties you set on your filters - they will be null if you use just setters(don't know why, if anyone eager to explain please do).</p>\n\n<p>To solve this issue: create filter(@Component) that extends GenericFilterBean and set your properties there. Then @Autowire it to your config and use setters on filter registration as usual.** </p>\n\n<p>If you have simple configuration property(eg. String) then you can use Map with init params and set it on the FilterRegistration bean.</p>\n"},{"tags":["java","intellij-idea","logging","command-line-arguments"],"answers":[{"comments":[{"owner":{"account_id":26859333,"reputation":21,"user_id":20443123,"display_name":"Triny Mendoza"},"score":0,"creation_date":1667864568,"post_id":74351994,"comment_id":131265349,"body_markdown":"Thank you, but I added it that way and still don&#39;t get the level Debug for the logs.","body":"Thank you, but I added it that way and still don&#39;t get the level Debug for the logs."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1667884207,"post_id":74351994,"comment_id":131267972,"body_markdown":"Are you sure you are using the correct property for the logging you need? Maybe try `-Dlogging.level.org.springframework.jdbc.core=DEBUG`?","body":"Are you sure you are using the correct property for the logging you need? Maybe try <code>-Dlogging.level.org.springframework.jdbc.core=DEBUG</code>?"},{"owner":{"account_id":26859333,"reputation":21,"user_id":20443123,"display_name":"Triny Mendoza"},"score":0,"creation_date":1667942685,"post_id":74351994,"comment_id":131287824,"body_markdown":"Not so sure, I am a noob about logging. I took that one because is what I found in the debug that was the logger name, and found some documentation about it.","body":"Not so sure, I am a noob about logging. I took that one because is what I found in the debug that was the logger name, and found some documentation about it."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667849621,"creation_date":1667849621,"answer_id":74351994,"question_id":74351541,"body_markdown":"Use the **VM Options** field to specify it instead of the program arguments:\r\n\r\n[![VM Options][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PjyFZ.png\r\n  [2]: https://i.stack.imgur.com/GnUMv.png","title":"How to set logging level from Command Line Argument in IntelliJ Idea","body":"<p>Use the <strong>VM Options</strong> field to specify it instead of the program arguments:</p>\n<p><a href=\"https://i.stack.imgur.com/PjyFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PjyFZ.png\" alt=\"VM Options\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GnUMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GnUMv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26859333,"reputation":21,"user_id":20443123,"display_name":"Triny Mendoza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667934282,"creation_date":1667847329,"question_id":74351541,"body_markdown":"I am trying to set this property as it was in command line in IntelliJ Idea in the run configuration\r\n\r\n    -Dlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG \r\n\r\nbut it isn&#39;t working for me. How can I set this logging level in IntelliJ in a dynamic way?\r\n\r\n[![IntelliJ run configuration](https://i.stack.imgur.com/xeMJY.png)](https://i.stack.imgur.com/xeMJY.png)\r\n\r\nI added it this way also with VM options:\r\n[![VMConfig][1]][1]\r\n\r\n\r\nbut still don&#39;t get the changes in the logging level:\r\n[![logLevel][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yuw15.png\r\n  [2]: https://i.stack.imgur.com/DbQYP.png","title":"How to set logging level from Command Line Argument in IntelliJ Idea","body":"<p>I am trying to set this property as it was in command line in IntelliJ Idea in the run configuration</p>\n<pre><code>-Dlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG \n</code></pre>\n<p>but it isn't working for me. How can I set this logging level in IntelliJ in a dynamic way?</p>\n<p><a href=\"https://i.stack.imgur.com/xeMJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeMJY.png\" alt=\"IntelliJ run configuration\" /></a></p>\n<p>I added it this way also with VM options:\n<a href=\"https://i.stack.imgur.com/Yuw15.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yuw15.png\" alt=\"VMConfig\" /></a></p>\n<p>but still don't get the changes in the logging level:\n<a href=\"https://i.stack.imgur.com/DbQYP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DbQYP.png\" alt=\"logLevel\" /></a></p>\n"},{"tags":["java","spring-data-jpa","filtering","specification-pattern"],"owner":{"account_id":19485923,"reputation":61,"user_id":14255305,"display_name":"rbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1667933556,"creation_date":1667931969,"question_id":74365527,"body_markdown":"I am using the JpaSpecification to get a list of filtered ```ProfileEntity```. ProfileEntity has a ```@OneToMany List&lt;Channel&gt; channels``` field. Each of the ProfileEntitys will have 5 Channels  associated with it but I want my ```findAll(Specification&lt;ProfileEntity&gt; spec)``` to return a list of only 1 Channel (based on the included Language which is part of Channel&#39;s composite key)\r\n\r\nIdeally I would like to leverage the existing JpaSpecification logic but I am not sure if it&#39;s possible to filter the ProfileEntity&#39;s fields in the same way that I filter ProfileEntity itself. I have been unable to find any relevant queries and my attempts to do so have been fruitless. \r\n\r\nEither way, what&#39;s the most efficient way to make the ```findAll(Specification&lt;ProfileEntity&gt; spec)```method returns all ProfileEntitys with only **1** associated Channel","title":"What is the most efficient way to filter a Pojo&#39;s OneToMany field retrieved in a JpaSpecification findAll?","body":"<p>I am using the JpaSpecification to get a list of filtered <code>ProfileEntity</code>. ProfileEntity has a <code>@OneToMany List&lt;Channel&gt; channels</code> field. Each of the ProfileEntitys will have 5 Channels  associated with it but I want my <code>findAll(Specification&lt;ProfileEntity&gt; spec)</code> to return a list of only 1 Channel (based on the included Language which is part of Channel's composite key)</p>\n<p>Ideally I would like to leverage the existing JpaSpecification logic but I am not sure if it's possible to filter the ProfileEntity's fields in the same way that I filter ProfileEntity itself. I have been unable to find any relevant queries and my attempts to do so have been fruitless.</p>\n<p>Either way, what's the most efficient way to make the <code>findAll(Specification&lt;ProfileEntity&gt; spec)</code>method returns all ProfileEntitys with only <strong>1</strong> associated Channel</p>\n"},{"tags":["java","serialization","reference","maps"],"comments":[{"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"score":0,"creation_date":1667935587,"post_id":74365778,"comment_id":131285682,"body_markdown":"In your case, can you serialize the object as a string and store that string to a map, so you have a 1 to 1 map?","body":"In your case, can you serialize the object as a string and store that string to a map, so you have a 1 to 1 map?"},{"owner":{"account_id":21341966,"reputation":81,"user_id":15712331,"display_name":"jgialis"},"score":0,"creation_date":1667942222,"post_id":74365778,"comment_id":131287703,"body_markdown":"I can&#39;t since it is like a utility function which will be used multiple times.","body":"I can&#39;t since it is like a utility function which will be used multiple times."}],"owner":{"account_id":21341966,"reputation":81,"user_id":15712331,"display_name":"jgialis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667933391,"creation_date":1667933391,"question_id":74365778,"body_markdown":"If I am representing JSON string say as a Map&lt;String, Object&gt; object, how can I achieve the following?\r\n\r\n    public class Main {\r\n        public static void main(String [] args)  {\r\n            Map&lt;String, Object&gt; properties = Map.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;);\r\n            Map&lt;String, Object&gt; map = Map.of(&quot;id&quot;, 2819, &quot;name&quot;, &quot;John&quot;, &quot;properties&quot;, properties);\r\n            //map.get(&quot;properties&quot;).put(&quot;k3&quot;, &quot;v3&quot;); --&gt; Doesn&#39;t work, since Object.put() doesn&#39;t exist\r\n            Map&lt;String, Object&gt; propCopy = (Map&lt;String, Object&gt;) map.get(&quot;properties&quot;); //Works but getting an unchecked cast error\r\n        }\r\n    }","title":"How can I get a reference to a value from a Map&lt;String, Object&gt; if the other type is also an object?","body":"<p>If I am representing JSON string say as a Map&lt;String, Object&gt; object, how can I achieve the following?</p>\n<pre><code>public class Main {\n    public static void main(String [] args)  {\n        Map&lt;String, Object&gt; properties = Map.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;);\n        Map&lt;String, Object&gt; map = Map.of(&quot;id&quot;, 2819, &quot;name&quot;, &quot;John&quot;, &quot;properties&quot;, properties);\n        //map.get(&quot;properties&quot;).put(&quot;k3&quot;, &quot;v3&quot;); --&gt; Doesn't work, since Object.put() doesn't exist\n        Map&lt;String, Object&gt; propCopy = (Map&lt;String, Object&gt;) map.get(&quot;properties&quot;); //Works but getting an unchecked cast error\n    }\n}\n</code></pre>\n"},{"tags":["java","list","null","option-type","nullable"],"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1667883948,"post_id":74355847,"comment_id":131267939,"body_markdown":"hi @LouisWasserman well I need to verify ProductList and ProductSublist is not null, is there a better way? I thought thats what Optional is for https://stackoverflow.com/questions/49380052/how-to-avoid-checking-for-null-values-in-method-chaining","body":"hi @LouisWasserman well I need to verify ProductList and ProductSublist is not null, is there a better way? I thought thats what Optional is for <a href=\"https://stackoverflow.com/questions/49380052/how-to-avoid-checking-for-null-values-in-method-chaining\" title=\"how to avoid checking for null values in method chaining\">stackoverflow.com/questions/49380052/&hellip;</a>"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1667885741,"post_id":74355847,"comment_id":131268213,"body_markdown":"hi @shmosel they are both arrayLists, if mainProducts or getProductList is null, just make productSublist variable an empty list","body":"hi @shmosel they are both arrayLists, if mainProducts or getProductList is null, just make productSublist variable an empty list"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667886023,"creation_date":1667886023,"answer_id":74356130,"question_id":74355847,"body_markdown":"Seems you&#39;re looking for something like this:\r\n\r\n    List&lt;ProductSubList&gt; productSubList = Optional.ofNullable(mainProducts)\r\n            .map(MainProducts::getProductSubList)\r\n            .map(list -&gt; list.stream()\r\n                    .sorted(Comparator.comparing(ProductSubList::getProductDate))\r\n                    .collect(Collectors.toList()))\r\n            .orElse(Collections.emptyList());","title":"Java Optional - Sorting a Nullable List stored as a property of a Nullable object","body":"<p>Seems you're looking for something like this:</p>\n<pre><code>List&lt;ProductSubList&gt; productSubList = Optional.ofNullable(mainProducts)\n        .map(MainProducts::getProductSubList)\n        .map(list -&gt; list.stream()\n                .sorted(Comparator.comparing(ProductSubList::getProductDate))\n                .collect(Collectors.toList()))\n        .orElse(Collections.emptyList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1667930051,"post_id":74361166,"comment_id":131283878,"body_markdown":"thanks, I have Java 8 btw, in this code, you are checking if MainProducts is null, how about productSubList,  and what if it had 4-5 layers down?  if (mainProducts == null) return Collections.emptyList();\n        \nreturn mainProducts.getProductSubList().stream()\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\n    .toList();","body":"thanks, I have Java 8 btw, in this code, you are checking if MainProducts is null, how about productSubList,  and what if it had 4-5 layers down?  if (mainProducts == null) return Collections.emptyList();          return mainProducts.getProductSubList().stream()     .sorted(Comparator.comparing(ProductSubList::getProductDate)&zwnj;&#8203;)     .toList();"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667931284,"post_id":74361166,"comment_id":131284305,"body_markdown":"@mattsmith5 *&quot;how about `productSubList`&quot;* - have a look at the class declaration above the very first snippet, list is initialized with a default empty list. If you can make change your domain classes, then apply this fix at all levels (it&#39;s doable even if the nullable collection is coming, for instance, as API response). Eliminating nullable Collections is easier than dialing the nullable objects.","body":"@mattsmith5 <i>&quot;how about <code>productSubList</code>&quot;</i> - have a look at the class declaration above the very first snippet, list is initialized with a default empty list. If you can make change your domain classes, then apply this fix at all levels (it&#39;s doable even if the nullable collection is coming, for instance, as API response). Eliminating nullable Collections is easier than dialing the nullable objects."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667933620,"post_id":74361166,"comment_id":131285057,"body_markdown":"@mattsmith5 So 5 levels of nesting is not a problem if you have a leeway to refactor the code, and 4 inner levels are collections. In case if there are a lot of custom objects, contain collections that needs to be accesses, then try to consider a possibility a default initialization with some dummy data, or implementing the Null-object pattern in some cases. Anyway, eliminating `null` in **one** place is better than treating it everywhere.","body":"@mattsmith5 So 5 levels of nesting is not a problem if you have a leeway to refactor the code, and 4 inner levels are collections. In case if there are a lot of custom objects, contain collections that needs to be accesses, then try to consider a possibility a default initialization with some dummy data, or implementing the Null-object pattern in some cases. Anyway, eliminating <code>null</code> in <b>one</b> place is better than treating it everywhere."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667933884,"post_id":74361166,"comment_id":131285132,"body_markdown":"@mattsmith5 Regarding the language level, in fact all snippets require **Java 16+** because of `toList()`. The first snippet can with run with **JDK 8** if you replace `toList()` with `collect(Collectors.toList())`. For that reason, I&#39;ve changed the headers added (please don&#39;t get offended).","body":"@mattsmith5 Regarding the language level, in fact all snippets require <b>Java 16+</b> because of <code>toList()</code>. The first snippet can with run with <b>JDK 8</b> if you replace <code>toList()</code> with <code>collect(Collectors.toList())</code>. For that reason, I&#39;ve changed the headers added (please don&#39;t get offended)."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667932981,"creation_date":1667912369,"answer_id":74361166,"question_id":74355847,"body_markdown":"# Avoid using Optional to replace Null-checks\r\n\r\nOptional wasn&#39;t designed to perform null-checks, and there&#39;s nothing wrong implicit null-check to begin with. Yes, if there are plenty of null-checks the code can become unreadable very quickly, but it&#39;s rather a design issue than a problem with the tools offered by the language.\r\n\r\nThe best remedy for the code that suffers from null-checks is to reduce the number of nullable fields, in the first place. In some cases it&#39;s fairly easy to achieve, especially if we are talking about Collections of Arrays like in this case, simply assign an **empty Collection by default**. This suggestion can be found in many places, for instance, see item *&quot;Return empty collections or arrays, not nulls&quot;* of the classic book *&quot;Effective Java&quot;*, by Joshua Bloch.\r\n\r\nRegarding the usage `Optional.ofNullable()` here&#39;s quote from the [answer](https://stackoverflow.com/a/34458582/17949945) by Stuart Marks, Java and OpenJDK developer:\r\n\r\n&gt; The primary use of Optional is as follows:\r\n&gt; \r\n&gt; `Optional` is intended to provide a **limited mechanism for library method\r\n&gt; return types** where there is a clear need to represent &quot;no result,&quot; and\r\n&gt; where using null for that is overwhelmingly likely to cause errors.\r\n&gt; \r\n&gt; A typical **code smell** is, instead of the code using method chaining to\r\n&gt; handle an `Optional` returned from some method, it **creates an `Optional`\r\n&gt; from something that&#39;s nullable, in order to chain methods and avoid\r\n&gt; conditionals.**\r\n\r\nWith that being said, if you would follow the advice to avoid keeping a nullable Collection and quite using `Optional` for null-checks the code can be written in a very simple well-readable manner.\r\n\r\nAssuming your domain classes look like that (Lombok&#39;s `@Getter` annotation is used for conciseness):\r\n\r\n    @Getter\r\n    public static class ProductSubList {\r\n        private LocalDateTime productDate;\r\n    }\r\n    \r\n    @Getter\r\n    public static class MainProducts {\r\n        private List&lt;ProductSubList&gt; productSubList = new ArrayList&lt;&gt;(); // or Collection.emptyList() if the class is mean only to carry the data and doesn&#39;t expose methods to modify the list\r\n    }\r\n\r\nWhich would give the following code:\r\n\r\n```\r\nif (mainProducts == null) return Collections.emptyList();\r\n        \r\nreturn mainProducts.getProductSubList().stream()\r\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\r\n    .toList();\r\n```\r\n\r\nPretty much self-explanatory. That would be the best option if can modify the classes you&#39;re using.\r\n\r\nIf for some reason, you can&#39;t modify `MainProducts` *and/or* you&#39;ve provided a simplified version and there are much more nullable moving parts, here a few more options.\r\n\r\n# Stream.ofNullable()\r\n\r\nYou can make use of the Java 9 [`Stream.ofNullable()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)):\r\n\r\n```\r\nList&lt;ProductSubList&gt; productSubList = Stream.ofNullable(mainProducts)\r\n    .flatMap(mainProd -&gt; Stream.ofNullable(mainProd.getProductSubList()))\r\n    .flatMap(Collection::stream)\r\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\r\n    .toList();\r\n```\r\n\r\n**Note** it&#39;s not a silver bullet, and I&#39;m not saying to &quot;plug `Stream.ofNullable()` everywhere&quot;. Excessive usage `Stream.ofNullable()` might create confusion because in it might seem there more levels of nesting than it&#39;s really is.\r\n\r\n# Stream.mapMulti()\r\n\r\nWe can reduce the number of stream operations and rearrange the code in a more readable way with Java 16 [`Stream.mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)):\r\n\r\n```\r\nList&lt;ProductSubList&gt; productSubList1 = Stream.ofNullable(mainProducts)\r\n    .&lt;ProductSubList&gt;mapMulti((mainProd, consumer) -&gt; {\r\n        List&lt;ProductSubList&gt; prodSubLists = mainProd.getProductSubList();\r\n        if (prodSubLists != null) prodSubLists.forEach(consumer);\r\n    })\r\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\r\n    .toList();\r\n```\r\n\r\nPersonally, I think the version above is good enough, but if you&#39;re unhappy with null-checks in the stream and want to see fancy one-liners, here&#39;s how it can be rewritten:\r\n\r\n```\r\nList&lt;ProductSubList&gt; productSubList2 = Stream.ofNullable(mainProducts)\r\n    .&lt;ProductSubList&gt;mapMulti((mainProd, consumer) -&gt;\r\n        Objects.requireNonNullElse(\r\n            mainProd.getProductSubList(), List.&lt;ProductSubList&gt;of()\r\n        ).forEach(consumer)\r\n    )\r\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\r\n    .toList();\r\n```\r\n\r\n&lt;h3&gt;Also see:&lt;/h3&gt;\r\n\r\n * [Should Optional.ofNullable() be used for null check?](https://stackoverflow.com/a/52048770/17949945)\r\n * [Uses for Optional](https://stackoverflow.com/a/23464794/17949945)","title":"Java Optional - Sorting a Nullable List stored as a property of a Nullable object","body":"<h1>Avoid using Optional to replace Null-checks</h1>\n<p>Optional wasn't designed to perform null-checks, and there's nothing wrong implicit null-check to begin with. Yes, if there are plenty of null-checks the code can become unreadable very quickly, but it's rather a design issue than a problem with the tools offered by the language.</p>\n<p>The best remedy for the code that suffers from null-checks is to reduce the number of nullable fields, in the first place. In some cases it's fairly easy to achieve, especially if we are talking about Collections of Arrays like in this case, simply assign an <strong>empty Collection by default</strong>. This suggestion can be found in many places, for instance, see item <em>&quot;Return empty collections or arrays, not nulls&quot;</em> of the classic book <em>&quot;Effective Java&quot;</em>, by Joshua Bloch.</p>\n<p>Regarding the usage <code>Optional.ofNullable()</code> here's quote from the <a href=\"https://stackoverflow.com/a/34458582/17949945\">answer</a> by Stuart Marks, Java and OpenJDK developer:</p>\n<blockquote>\n<p>The primary use of Optional is as follows:</p>\n<p><code>Optional</code> is intended to provide a <strong>limited mechanism for library method\nreturn types</strong> where there is a clear need to represent &quot;no result,&quot; and\nwhere using null for that is overwhelmingly likely to cause errors.</p>\n<p>A typical <strong>code smell</strong> is, instead of the code using method chaining to\nhandle an <code>Optional</code> returned from some method, it <strong>creates an <code>Optional</code>\nfrom something that's nullable, in order to chain methods and avoid\nconditionals.</strong></p>\n</blockquote>\n<p>With that being said, if you would follow the advice to avoid keeping a nullable Collection and quite using <code>Optional</code> for null-checks the code can be written in a very simple well-readable manner.</p>\n<p>Assuming your domain classes look like that (Lombok's <code>@Getter</code> annotation is used for conciseness):</p>\n<pre><code>@Getter\npublic static class ProductSubList {\n    private LocalDateTime productDate;\n}\n\n@Getter\npublic static class MainProducts {\n    private List&lt;ProductSubList&gt; productSubList = new ArrayList&lt;&gt;(); // or Collection.emptyList() if the class is mean only to carry the data and doesn't expose methods to modify the list\n}\n</code></pre>\n<p>Which would give the following code:</p>\n<pre><code>if (mainProducts == null) return Collections.emptyList();\n        \nreturn mainProducts.getProductSubList().stream()\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\n    .toList();\n</code></pre>\n<p>Pretty much self-explanatory. That would be the best option if can modify the classes you're using.</p>\n<p>If for some reason, you can't modify <code>MainProducts</code> <em>and/or</em> you've provided a simplified version and there are much more nullable moving parts, here a few more options.</p>\n<h1>Stream.ofNullable()</h1>\n<p>You can make use of the Java 9 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)\" rel=\"nofollow noreferrer\"><code>Stream.ofNullable()</code></a>:</p>\n<pre><code>List&lt;ProductSubList&gt; productSubList = Stream.ofNullable(mainProducts)\n    .flatMap(mainProd -&gt; Stream.ofNullable(mainProd.getProductSubList()))\n    .flatMap(Collection::stream)\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\n    .toList();\n</code></pre>\n<p><strong>Note</strong> it's not a silver bullet, and I'm not saying to &quot;plug <code>Stream.ofNullable()</code> everywhere&quot;. Excessive usage <code>Stream.ofNullable()</code> might create confusion because in it might seem there more levels of nesting than it's really is.</p>\n<h1>Stream.mapMulti()</h1>\n<p>We can reduce the number of stream operations and rearrange the code in a more readable way with Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Stream.mapMulti()</code></a>:</p>\n<pre><code>List&lt;ProductSubList&gt; productSubList1 = Stream.ofNullable(mainProducts)\n    .&lt;ProductSubList&gt;mapMulti((mainProd, consumer) -&gt; {\n        List&lt;ProductSubList&gt; prodSubLists = mainProd.getProductSubList();\n        if (prodSubLists != null) prodSubLists.forEach(consumer);\n    })\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\n    .toList();\n</code></pre>\n<p>Personally, I think the version above is good enough, but if you're unhappy with null-checks in the stream and want to see fancy one-liners, here's how it can be rewritten:</p>\n<pre><code>List&lt;ProductSubList&gt; productSubList2 = Stream.ofNullable(mainProducts)\n    .&lt;ProductSubList&gt;mapMulti((mainProd, consumer) -&gt;\n        Objects.requireNonNullElse(\n            mainProd.getProductSubList(), List.&lt;ProductSubList&gt;of()\n        ).forEach(consumer)\n    )\n    .sorted(Comparator.comparing(ProductSubList::getProductDate))\n    .toList();\n</code></pre>\n<h3>Also see:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/52048770/17949945\">Should Optional.ofNullable() be used for null check?</a></li>\n<li><a href=\"https://stackoverflow.com/a/23464794/17949945\">Uses for Optional</a></li>\n</ul>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74356130,"answer_count":2,"score":2,"last_activity_date":1667932981,"creation_date":1667883519,"question_id":74355847,"body_markdown":"How can I approach sorting with an Optional?\r\n\r\nBoth `mainProducts` or `productSublist` in the code below maybe `null`. The resulting list `productSubList` should be sorted by Date.\r\n\r\n    List&lt;ProductSubList&gt; productSubList = Optional.of(mainProducts)\r\n            .map(MainProducts::getProductSubList)\r\n            .ifPresent(list -&gt; list.stream().sorted(Comparator.comparing(ProductSubList::getProductDate))\r\n            .collect(Collectors.toList()));\r\n\r\nThe code shown above produces a **compilation error**:\r\n \r\n&gt; Required type: ProductSubList &lt;EncounterCharges&gt; ; Provided:void\r\n\r\n\r\n**Part Answer which seems too long, is there a way to make this shorter?**\r\n\r\n      if (Optional.of(mainProducts).map(MainProducts::getProductSubList).isPresent()) {\r\n          productSublist = mainProducts.getProductSubList().stream()\r\n                  .sorted(Comparator.comparing(ProductSubList::getProductDate))\r\n                  .collect(Collectors.toList());\r\n        }\r\n\r\n**Resource**: https://stackoverflow.com/questions/49380052/how-to-avoid-checking-for-null-values-in-method-chaining","title":"Java Optional - Sorting a Nullable List stored as a property of a Nullable object","body":"<p>How can I approach sorting with an Optional?</p>\n<p>Both <code>mainProducts</code> or <code>productSublist</code> in the code below maybe <code>null</code>. The resulting list <code>productSubList</code> should be sorted by Date.</p>\n<pre><code>List&lt;ProductSubList&gt; productSubList = Optional.of(mainProducts)\n        .map(MainProducts::getProductSubList)\n        .ifPresent(list -&gt; list.stream().sorted(Comparator.comparing(ProductSubList::getProductDate))\n        .collect(Collectors.toList()));\n</code></pre>\n<p>The code shown above produces a <strong>compilation error</strong>:</p>\n<blockquote>\n<p>Required type: ProductSubList  ; Provided:void</p>\n</blockquote>\n<p><strong>Part Answer which seems too long, is there a way to make this shorter?</strong></p>\n<pre><code>  if (Optional.of(mainProducts).map(MainProducts::getProductSubList).isPresent()) {\n      productSublist = mainProducts.getProductSubList().stream()\n              .sorted(Comparator.comparing(ProductSubList::getProductDate))\n              .collect(Collectors.toList());\n    }\n</code></pre>\n<p><strong>Resource</strong>: <a href=\"https://stackoverflow.com/questions/49380052/how-to-avoid-checking-for-null-values-in-method-chaining\">How to avoid checking for null values in method chaining?</a></p>\n"},{"tags":["java","postgresql","jdbc","callable-statement"],"answers":[{"tags":[],"owner":{"account_id":7437215,"reputation":21,"user_id":5656228,"display_name":"Jan Chmelensky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558090157,"creation_date":1558090157,"answer_id":56184900,"question_id":56169873,"body_markdown":"The jdbc driver contains bug but cannot be fixed easy because it breaks backward compatibility :-( \r\n\r\nsee details: https://github.com/pgjdbc/pgjdbc/pull/1475","title":"How can I call a postres procedure with one or more INOUT parameters from java","body":"<p>The jdbc driver contains bug but cannot be fixed easy because it breaks backward compatibility :-( </p>\n\n<p>see details: <a href=\"https://github.com/pgjdbc/pgjdbc/pull/1475\" rel=\"nofollow noreferrer\">https://github.com/pgjdbc/pgjdbc/pull/1475</a></p>\n"},{"tags":[],"owner":{"account_id":4306599,"reputation":3578,"user_id":3518815,"accept_rate":25,"display_name":"Kuntal Ghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667932832,"creation_date":1667932832,"answer_id":74365668,"question_id":56169873,"body_markdown":"You can read [CallableStatements and INOUT Parameters][1]\r\n\r\n\r\n  [1]: https://db.apache.org/derby/docs/10.7/ref/rrefjdbc75719.html","title":"How can I call a postres procedure with one or more INOUT parameters from java","body":"<p>You can read <a href=\"https://db.apache.org/derby/docs/10.7/ref/rrefjdbc75719.html\" rel=\"nofollow noreferrer\">CallableStatements and INOUT Parameters</a></p>\n"}],"owner":{"account_id":7437215,"reputation":21,"user_id":5656228,"display_name":"Jan Chmelensky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667932832,"creation_date":1558013652,"question_id":56169873,"body_markdown":"There is a stored procedure in postgresql 11:\r\n```\r\nCREATE OR REPLACE PROCEDURE clone_ad (\r\n    p_src_ad_id BIGINT,\r\n    p_ad_def_id BIGINT,\r\n    p_user_id BIGINT,\r\n    p_dst_ad_id INOUT BIGINT)\r\nAS ...\r\n```\r\nIt works perfect but I can&#39;t call it from my java code :-(\r\n\r\nI have postgresql 11 and java 8. I tried two postgres jdbc drivers org.postgresql:postgresql:42.2.5 and postgresql:postgresql:9.1-901-1.jdbc4 result is the same\r\n\r\nwhen I use \r\n```\r\n       stmt = conn.prepareCall(&quot;{ call clone_ad(?, ?, ?, ?)}&quot;);\r\n       stmt.setLong(1,1L);\r\n       stmt.setLong(2,1000L);\r\n       stmt.setLong(3,999L);\r\n       stmt.setObject(4,null, Types.BIGINT);\r\n       stmt.registerOutParameter(4, Types.BIGINT);\r\n       boolean hadResults = stmt.execute();\r\n```\r\njava throws:\r\norg.postgresql.util.PSQLException: ERROR: clone_ad(bigint, bigint, bigint, bigint) is a procedure\r\n  Hint: To call a procedure, use CALL.\r\n\r\nand when I use \r\n```\r\n       stmt = conn.prepareCall(&quot;call clone_ad(?, ?, ?, ?)&quot;);\r\n       stmt.setLong(1,1L);\r\n       stmt.setLong(2,1000L);\r\n       stmt.setLong(3,999L);\r\n       stmt.setObject(4,null, Types.BIGINT);\r\n       stmt.registerOutParameter(4, Types.BIGINT);\r\n       boolean hadResults = stmt.execute();\r\n```\r\njava throws:\r\norg.postgresql.util.PSQLException: This statement does not declare an OUT parameter.  Use { ?= call ... } to declare one.\r\n\r\nCalling of another procedure without INOUT parameters works a I expect.\r\n\r\nAny suggestion?","title":"How can I call a postres procedure with one or more INOUT parameters from java","body":"<p>There is a stored procedure in postgresql 11:</p>\n\n<pre><code>CREATE OR REPLACE PROCEDURE clone_ad (\n    p_src_ad_id BIGINT,\n    p_ad_def_id BIGINT,\n    p_user_id BIGINT,\n    p_dst_ad_id INOUT BIGINT)\nAS ...\n</code></pre>\n\n<p>It works perfect but I can't call it from my java code :-(</p>\n\n<p>I have postgresql 11 and java 8. I tried two postgres jdbc drivers org.postgresql:postgresql:42.2.5 and postgresql:postgresql:9.1-901-1.jdbc4 result is the same</p>\n\n<p>when I use </p>\n\n<pre><code>       stmt = conn.prepareCall(\"{ call clone_ad(?, ?, ?, ?)}\");\n       stmt.setLong(1,1L);\n       stmt.setLong(2,1000L);\n       stmt.setLong(3,999L);\n       stmt.setObject(4,null, Types.BIGINT);\n       stmt.registerOutParameter(4, Types.BIGINT);\n       boolean hadResults = stmt.execute();\n</code></pre>\n\n<p>java throws:\norg.postgresql.util.PSQLException: ERROR: clone_ad(bigint, bigint, bigint, bigint) is a procedure\n  Hint: To call a procedure, use CALL.</p>\n\n<p>and when I use </p>\n\n<pre><code>       stmt = conn.prepareCall(\"call clone_ad(?, ?, ?, ?)\");\n       stmt.setLong(1,1L);\n       stmt.setLong(2,1000L);\n       stmt.setLong(3,999L);\n       stmt.setObject(4,null, Types.BIGINT);\n       stmt.registerOutParameter(4, Types.BIGINT);\n       boolean hadResults = stmt.execute();\n</code></pre>\n\n<p>java throws:\norg.postgresql.util.PSQLException: This statement does not declare an OUT parameter.  Use { ?= call ... } to declare one.</p>\n\n<p>Calling of another procedure without INOUT parameters works a I expect.</p>\n\n<p>Any suggestion?</p>\n"},{"tags":["java","json","spring","spring-boot","spring-camel"],"answers":[{"comments":[{"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"score":0,"creation_date":1667900502,"post_id":74349354,"comment_id":131272239,"body_markdown":"Thanks! How do tell this 2nd option to use xstream library too?","body":"Thanks! How do tell this 2nd option to use xstream library too?"},{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":0,"creation_date":1667914875,"post_id":74349354,"comment_id":131277660,"body_markdown":"The `ListJacksonDataFormat` class is specifically for jackson, if you use this class you will use jackson.  If you want to use xstream just use the first option.","body":"The <code>ListJacksonDataFormat</code> class is specifically for jackson, if you use this class you will use jackson.  If you want to use xstream just use the first option."},{"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"score":0,"creation_date":1667918586,"post_id":74349354,"comment_id":131279199,"body_markdown":"Thanks, it was because in 2nd case I had list and I could not just write List&lt;MyClass&gt;.class as argument for .json() method.","body":"Thanks, it was because in 2nd case I had list and I could not just write List&lt;MyClass&gt;.class as argument for .json() method."},{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":1,"creation_date":1667930583,"post_id":74349354,"comment_id":131284079,"body_markdown":"I will edit the answer to try to make it better answer the question","body":"I will edit the answer to try to make it better answer the question"}],"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667930825,"creation_date":1667836446,"answer_id":74349354,"question_id":74349119,"body_markdown":"The likely issue is that in the first example the actual json which you are trying to unmarshal does not include a timestamp so jackson will not try to unmarshal a field of type `java.time.ZonedDateTime`.\r\n\r\nIf it is your intention that the object be unmarshalled with the timestamp field populated you should add `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` to your project.","title":"Spring boot camel unmarshal json list of objects that have ZonedDateTime field","body":"<p>The likely issue is that in the first example the actual json which you are trying to unmarshal does not include a timestamp so jackson will not try to unmarshal a field of type <code>java.time.ZonedDateTime</code>.</p>\n<p>If it is your intention that the object be unmarshalled with the timestamp field populated you should add <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> to your project.</p>\n"}],"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74349354,"answer_count":1,"score":0,"last_activity_date":1667930825,"creation_date":1667835328,"question_id":74349119,"body_markdown":"I have 2 different camel routes.\r\n\r\n1)\r\n\r\n``` java\r\nfrom(...).routeId(...)\r\n  .unmarshal().json(SomeClass.class)\r\n  ....;\r\n```\r\n\r\nAnd\r\n2)\r\n\r\n``` java\r\nfrom(...).routeId(...)\r\n  .unmarshal(new ListJacksonDataFormat(SomeOtherClass.class))\r\n  ....;\r\n```\r\n\r\n\r\nBoth `SomeClass` and `SomeOtherClass` have field named timestamp whose type is `java.time.ZonedDateTime`.\r\n\r\nIn first route I pass single object and it unmarshals without errors. In 2nd route I pass a list of objects and it does not work:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n\r\nQuestions:\r\n1) Do I correctly understand that if I want to unmarshal list I need to use `.unmarshal(new ListJacksonDataFormat(...))` instead of `.unmarshal().json(...)`?\r\n2) Do I really need to add Module `com.fasterxml.jackson.datatype:jackson-datatype-jsr310`? Otherwise I would have added it without even asking here but since my first route can manage ZonedDateTime just fine I wanted to be sure that I really have to add a new module or if there are any other means of dealing with it? It&#39;s strange that first route can unmarshal ZonedDateTime fine and 2nd can&#39;t.\r\n\r\nAfter `.unmarshal(...)` I plan to call `.bean(..., &quot;method&quot;)` where method takes List&lt;SomeOtherClass&gt; as argument. Not sure if this extra info is needed but added it just in case.\r\n","title":"Spring boot camel unmarshal json list of objects that have ZonedDateTime field","body":"<p>I have 2 different camel routes.</p>\n<p>1)</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(...).routeId(...)\n  .unmarshal().json(SomeClass.class)\n  ....;\n</code></pre>\n<p>And\n2)</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(...).routeId(...)\n  .unmarshal(new ListJacksonDataFormat(SomeOtherClass.class))\n  ....;\n</code></pre>\n<p>Both <code>SomeClass</code> and <code>SomeOtherClass</code> have field named timestamp whose type is <code>java.time.ZonedDateTime</code>.</p>\n<p>In first route I pass single object and it unmarshals without errors. In 2nd route I pass a list of objects and it does not work:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type <code>java.time.ZonedDateTime</code> not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling</p>\n</blockquote>\n<p>Questions:</p>\n<ol>\n<li>Do I correctly understand that if I want to unmarshal list I need to use <code>.unmarshal(new ListJacksonDataFormat(...))</code> instead of <code>.unmarshal().json(...)</code>?</li>\n<li>Do I really need to add Module <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code>? Otherwise I would have added it without even asking here but since my first route can manage ZonedDateTime just fine I wanted to be sure that I really have to add a new module or if there are any other means of dealing with it? It's strange that first route can unmarshal ZonedDateTime fine and 2nd can't.</li>\n</ol>\n<p>After <code>.unmarshal(...)</code> I plan to call <code>.bean(..., &quot;method&quot;)</code> where method takes List as argument. Not sure if this extra info is needed but added it just in case.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":2,"creation_date":1667931008,"post_id":74365298,"comment_id":131284213,"body_markdown":"You can&#39;t assign a `List` to an `ArrayList`.","body":"You can&#39;t assign a <code>List</code> to an <code>ArrayList</code>."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1667931392,"post_id":74365298,"comment_id":131284348,"body_markdown":"Spring will automatically create a list of beans for the same entity. Since you are Qualifying `Person` three different ways, the application context will automatically add a `List&lt;T&gt;` of beans of that type, in this case `Person`. Since you didn&#39;t specify (didn&#39;t use qualifier for your `db` object) spring will default to that `List&lt;T&gt;` instead. \nAlso, always use the interface instead of the specific type, it is a better practice.","body":"Spring will automatically create a list of beans for the same entity. Since you are Qualifying <code>Person</code> three different ways, the application context will automatically add a <code>List&lt;T&gt;</code> of beans of that type, in this case <code>Person</code>. Since you didn&#39;t specify (didn&#39;t use qualifier for your <code>db</code> object) spring will default to that <code>List&lt;T&gt;</code> instead.  Also, always use the interface instead of the specific type, it is a better practice."},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1667931721,"post_id":74365298,"comment_id":131284453,"body_markdown":"@xehpuk what I meant is that if I replace all ArrayList usages by List, it breaks.","body":"@xehpuk what I meant is that if I replace all ArrayList usages by List, it breaks."},{"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"score":0,"creation_date":1667931782,"post_id":74365298,"comment_id":131284470,"body_markdown":"@JorgeCampos so what would you suggest at this point? Always use Qualifier or? I don&#39;t understand the sense of interfaces in this case yet.\nAs I understand, creating those three people one by one creates &quot;in cloud&quot; a List of Persons?","body":"@JorgeCampos so what would you suggest at this point? Always use Qualifier or? I don&#39;t understand the sense of interfaces in this case yet. As I understand, creating those three people one by one creates &quot;in cloud&quot; a List of Persons?"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1667932665,"post_id":74365298,"comment_id":131284757,"body_markdown":"For this particular case, yes, you do need to &quot;qualify&quot; your `db` to point to the DB bean you created (the type here is kind irrelevant really) because of the way Spring itself works. Regarding the &quot;in cloud&quot; statement: yes, but the correct assertion to it is it creates a &quot;List of a qualified type&quot; in your case `Person` that has three &quot;different&quot; usages for it. Regarding the interface, read this post, it may give you some clarification: https://stackoverflow.com/q/383947/460557","body":"For this particular case, yes, you do need to &quot;qualify&quot; your <code>db</code> to point to the DB bean you created (the type here is kind irrelevant really) because of the way Spring itself works. Regarding the &quot;in cloud&quot; statement: yes, but the correct assertion to it is it creates a &quot;List of a qualified type&quot; in your case <code>Person</code> that has three &quot;different&quot; usages for it. Regarding the interface, read this post, it may give you some clarification: <a href=\"https://stackoverflow.com/q/383947/460557\">stackoverflow.com/q/383947/460557</a>"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1667935188,"post_id":74365298,"comment_id":131285571,"body_markdown":"@funnyguy I see. For the IOC behavior for collections, see [`@Autowired`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html). You should be able to use your bean if you give the parameter the same name (`createOtherPeople`), I think.","body":"@funnyguy I see. For the IOC behavior for collections, see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\" rel=\"nofollow noreferrer\"><code>@Autowired</code></a>. You should be able to use your bean if you give the parameter the same name (<code>createOtherPeople</code>), I think."}],"owner":{"account_id":21399076,"reputation":107,"user_id":15761589,"display_name":"funnyguy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667930762,"creation_date":1667930762,"question_id":74365298,"body_markdown":"I&#39;m new to Spring, so I apologize if the question seems to be &quot;funny&quot;.\r\n\r\nI have my `PersonService` component:\r\n```\r\n@Component\r\npublic class PersonService {\r\n    private Person ceo;\r\n    private Person vp;\r\n    private Person secretary;\r\n\r\n    private ArrayList&lt;Person&gt; db;\r\n\r\n    public PersonService(@Autowired @Qualifier(&quot;ceo&quot;) Person ceo,\r\n                         @Autowired @Qualifier(&quot;vp&quot;) Person vp,\r\n                         @Autowired @Qualifier(&quot;secretary&quot;) Person secretary,\r\n                         @Autowired ArrayList&lt;Person&gt; db) {\r\n        this.ceo = ceo;\r\n        this.vp = vp;\r\n        this.secretary = secretary;\r\n        this.db = db;\r\n    }\r\n\r\n    public Person getCeo() {\r\n        return ceo;\r\n    }\r\n\r\n    public Person getVp() {\r\n        return vp;\r\n    }\r\n\r\n    public Person getSecretary() {\r\n        return secretary;\r\n    }\r\n\r\n    public void setCeo(Person ceo) {\r\n        this.ceo = ceo;\r\n    }\r\n\r\n    public void setVp(Person vp) {\r\n        this.vp = vp;\r\n    }\r\n\r\n    public void setSecretary(Person secretary) {\r\n        this.secretary = secretary;\r\n    }\r\n\r\n    public List&lt;Person&gt; getDb() {\r\n        return db;\r\n    }\r\n\r\n    public void setDb(ArrayList&lt;Person&gt; db) {\r\n        this.db = db;\r\n    }\r\n}\r\n```\r\n\r\nand config method which creates those beans:\r\n```\r\n@Configuration\r\npublic class Config {\r\n\r\n    @Bean\r\n    @Qualifier(&quot;ceo&quot;)\r\n    public Person createCeo() {\r\n        System.out.println(&quot;Tworze beana metodą createPerson (prezes)&quot;);\r\n        return new Person(&quot;1&quot;, &quot;Chrystal&quot;, &quot;Havoc&quot;, &quot;chavocr@yahoo.com&quot;, &quot;Mymm&quot;);\r\n    }\r\n\r\n    @Bean\r\n    @Qualifier(&quot;vp&quot;)\r\n    public Person createVp() {\r\n        System.out.println(&quot;Tworze beana metodą createPerson (wiceprezes)&quot;);\r\n        return new Person(&quot;2&quot;, &quot;Halley&quot;, &quot;Gadaud&quot;, &quot;hgadaud9@sohu.com&quot;, &quot;Oyope&quot;);\r\n    }\r\n\r\n    @Bean\r\n    @Qualifier(&quot;secretary&quot;)\r\n    public Person createSecretary() {\r\n        return new Person(&quot;3&quot;, &quot;Kirbie&quot;, &quot;Wrettum&quot;, &quot;kwrettumj@slideshare.net&quot;, &quot;Browsetype&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public ArrayList&lt;Person&gt; createOtherPeople() throws IOException {\r\n      ....\r\n      return people\r\n    }\r\n```\r\n\r\nThe method `createOtherPeople` is supposed to return about 30 people from csv file. \r\nThe problem is that if I change the returned type from `ArrayList&lt;Person&gt;` to `List&lt;Person&gt;` and do this:\r\n```\r\nPersonService personService = applicationContext.getBean(PersonService.class);\r\nSystem.out.println(personService.getCeo());\r\nSystem.out.println(personService.getVp());\r\nSystem.out.println(personService.getSecretary());\r\nSystem.out.println(personService.getDb());\r\n```\r\n`getDb()` returns not those 30 people, but 3 people that are `ceo, vp, secretary`. Why is that happening? Why does Spring apply those three people which are created in other methods: `createCeo, createVp` to my `db` which is supposed to return 30 people?\r\n\r\nI can also add, that if I add `@Qualifier` for my `db` if it&#39;s `List&lt;Person&gt;` it works well, but as there is only one method returning `List&lt;Person&gt;` I should not be forced to add `@Qualifier` or do I misunderstand something?","title":"Spring bean wrongly autowired when using List instead of ArrayList","body":"<p>I'm new to Spring, so I apologize if the question seems to be &quot;funny&quot;.</p>\n<p>I have my <code>PersonService</code> component:</p>\n<pre><code>@Component\npublic class PersonService {\n    private Person ceo;\n    private Person vp;\n    private Person secretary;\n\n    private ArrayList&lt;Person&gt; db;\n\n    public PersonService(@Autowired @Qualifier(&quot;ceo&quot;) Person ceo,\n                         @Autowired @Qualifier(&quot;vp&quot;) Person vp,\n                         @Autowired @Qualifier(&quot;secretary&quot;) Person secretary,\n                         @Autowired ArrayList&lt;Person&gt; db) {\n        this.ceo = ceo;\n        this.vp = vp;\n        this.secretary = secretary;\n        this.db = db;\n    }\n\n    public Person getCeo() {\n        return ceo;\n    }\n\n    public Person getVp() {\n        return vp;\n    }\n\n    public Person getSecretary() {\n        return secretary;\n    }\n\n    public void setCeo(Person ceo) {\n        this.ceo = ceo;\n    }\n\n    public void setVp(Person vp) {\n        this.vp = vp;\n    }\n\n    public void setSecretary(Person secretary) {\n        this.secretary = secretary;\n    }\n\n    public List&lt;Person&gt; getDb() {\n        return db;\n    }\n\n    public void setDb(ArrayList&lt;Person&gt; db) {\n        this.db = db;\n    }\n}\n</code></pre>\n<p>and config method which creates those beans:</p>\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean\n    @Qualifier(&quot;ceo&quot;)\n    public Person createCeo() {\n        System.out.println(&quot;Tworze beana metodą createPerson (prezes)&quot;);\n        return new Person(&quot;1&quot;, &quot;Chrystal&quot;, &quot;Havoc&quot;, &quot;chavocr@yahoo.com&quot;, &quot;Mymm&quot;);\n    }\n\n    @Bean\n    @Qualifier(&quot;vp&quot;)\n    public Person createVp() {\n        System.out.println(&quot;Tworze beana metodą createPerson (wiceprezes)&quot;);\n        return new Person(&quot;2&quot;, &quot;Halley&quot;, &quot;Gadaud&quot;, &quot;hgadaud9@sohu.com&quot;, &quot;Oyope&quot;);\n    }\n\n    @Bean\n    @Qualifier(&quot;secretary&quot;)\n    public Person createSecretary() {\n        return new Person(&quot;3&quot;, &quot;Kirbie&quot;, &quot;Wrettum&quot;, &quot;kwrettumj@slideshare.net&quot;, &quot;Browsetype&quot;);\n    }\n\n    @Bean\n    public ArrayList&lt;Person&gt; createOtherPeople() throws IOException {\n      ....\n      return people\n    }\n</code></pre>\n<p>The method <code>createOtherPeople</code> is supposed to return about 30 people from csv file.\nThe problem is that if I change the returned type from <code>ArrayList&lt;Person&gt;</code> to <code>List&lt;Person&gt;</code> and do this:</p>\n<pre><code>PersonService personService = applicationContext.getBean(PersonService.class);\nSystem.out.println(personService.getCeo());\nSystem.out.println(personService.getVp());\nSystem.out.println(personService.getSecretary());\nSystem.out.println(personService.getDb());\n</code></pre>\n<p><code>getDb()</code> returns not those 30 people, but 3 people that are <code>ceo, vp, secretary</code>. Why is that happening? Why does Spring apply those three people which are created in other methods: <code>createCeo, createVp</code> to my <code>db</code> which is supposed to return 30 people?</p>\n<p>I can also add, that if I add <code>@Qualifier</code> for my <code>db</code> if it's <code>List&lt;Person&gt;</code> it works well, but as there is only one method returning <code>List&lt;Person&gt;</code> I should not be forced to add <code>@Qualifier</code> or do I misunderstand something?</p>\n"},{"tags":["java","spring","caching","ehcache"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1308744803,"post_id":6439476,"comment_id":7558564,"body_markdown":"Why do you want to know it? Ideally the cache is hidden to the consumer, hence its name.","body":"Why do you want to know it? Ideally the cache is hidden to the consumer, hence its name."},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1308745987,"post_id":6439476,"comment_id":7558992,"body_markdown":"What do you mean, &quot;inside&quot;?  As a key, or as a value?","body":"What do you mean, &quot;inside&quot;?  As a key, or as a value?"}],"answers":[{"comments":[{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":2,"creation_date":1308749104,"post_id":6439592,"comment_id":7560108,"body_markdown":"Be careful with that, isKeyInCache will cause expiration logic to be run.  The key may be listed as being there but upon return of that method it will expire the entry and the cache will no longer contain the element.  I got bit by this a little while back.","body":"Be careful with that, isKeyInCache will cause expiration logic to be run.  The key may be listed as being there but upon return of that method it will expire the entry and the cache will no longer contain the element.  I got bit by this a little while back."},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1308758134,"post_id":6439592,"comment_id":7563516,"body_markdown":"@Dave: The javadoc is quite clear on that - &quot;Since no assertions are made about the state of the Element it is possible that the Element is expired, but this method still returns true.&quot;","body":"@Dave: The javadoc is quite clear on that - &quot;Since no assertions are made about the state of the Element it is possible that the Element is expired, but this method still returns true.&quot;"},{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":1,"creation_date":1308758466,"post_id":6439592,"comment_id":7563653,"body_markdown":"@skaffman yeah - unfortunately I read the docs /after/ I had been burned by it and figured out my misconfiguration trying to save misery :-)","body":"@skaffman yeah - unfortunately I read the docs /after/ I had been burned by it and figured out my misconfiguration trying to save misery :-)"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1308785394,"post_id":6439592,"comment_id":7570748,"body_markdown":"that&#39;s pretty much true about _any_ concurrent cache implementation:  just because you see it now, doesn&#39;t mean it will be there later.","body":"that&#39;s pretty much true about <i>any</i> concurrent cache implementation:  just because you see it now, doesn&#39;t mean it will be there later."},{"owner":{"account_id":62398,"reputation":15301,"user_id":185432,"accept_rate":63,"display_name":"Marco"},"score":0,"creation_date":1308905739,"post_id":6439592,"comment_id":7595661,"body_markdown":"So checking if it is in the cache should be discouraged then?","body":"So checking if it is in the cache should be discouraged then?"},{"owner":{"account_id":62398,"reputation":15301,"user_id":185432,"accept_rate":63,"display_name":"Marco"},"score":0,"creation_date":1308905902,"post_id":6439592,"comment_id":7595706,"body_markdown":"I checked the JavaDoc and so no mentioning that it will trigger causes expiration logic.. am i missing something here?","body":"I checked the JavaDoc and so no mentioning that it will trigger causes expiration logic.. am i missing something here?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":3,"creation_date":1308918374,"post_id":6439592,"comment_id":7598644,"body_markdown":"I don&#39;t think there is anything wrong with checking that something is in the cache.  just be aware that, depending on how the cache is configured, something can be in the cache one minute and gone the next.","body":"I don&#39;t think there is anything wrong with checking that something is in the cache.  just be aware that, depending on how the cache is configured, something can be in the cache one minute and gone the next."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1308745941,"creation_date":1308744721,"answer_id":6439592,"question_id":6439476,"body_markdown":"perhaps [isKeyInCache][1]?\r\n\r\n\r\n  [1]: http://ehcache.org/apidocs/net/sf/ehcache/Ehcache.html#isKeyInCache%28java.lang.Object%29","title":"EHCache how to check if something is in the cache or not?","body":"<p>perhaps <a href=\"http://ehcache.org/apidocs/net/sf/ehcache/Ehcache.html#isKeyInCache%28java.lang.Object%29\" rel=\"noreferrer\">isKeyInCache</a>?</p>\n"},{"tags":[],"owner":{"account_id":706889,"reputation":1,"user_id":601951,"display_name":"Steven Harris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353029763,"creation_date":1311831355,"answer_id":6854513,"question_id":6439476,"body_markdown":"Have you looked at `SelfPopulatingCache and or BlockingCache`? They will block all secondary requesters after a db retrieve is initiated until the cache is populated","title":"EHCache how to check if something is in the cache or not?","body":"<p>Have you looked at <code>SelfPopulatingCache and or BlockingCache</code>? They will block all secondary requesters after a db retrieve is initiated until the cache is populated</p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395847279,"creation_date":1382545361,"answer_id":19547106,"question_id":6439476,"body_markdown":"It is possible to access the hibernate statistics + ehcache stats etc via jmx. EhcacheHibernateMBean is the main interface that exposes all the API&#39;s via jmx. It basically extends two interfaces -- EhcacheStats and HibernateStats. And as the name implies EhcacheStats contains methods related with Ehcache and HibernateStats related with Hibernate. You can see cache hit/miss/put rates, change config element values dynamically -- like maxElementInMemory, TTI, TTL, enable/disable statistics collection etc and various other things. This can be achieved in your application by overriding buildSessionFactory() method on LocalSessionFactoryBean by adding tc.active as &quot;true&quot; System property when second level cache is enabled in Hibernate configuration \r\n\r\n      @Override\r\n            protected SessionFactory buildSessionFactory() throws Exception {\r\n                    Properties properties = this.getHibernateProperties();\r\n                    String secondLevelCache = (String) properties\r\n                                    .get(&quot;hibernate.cache.use_second_level_cache&quot;);\r\n                    if (secondLevelCache.equals(&quot;true&quot;)) {\r\n                            System.setProperty(&quot;tc.active&quot;, &quot;true&quot;);\r\n                    }\r\n                    return super.buildSessionFactory();\r\n            }\r\n\r\nNo when you access your application via JMX, go to tab Mbeans , on left go to net.sf.ehcache.hibernate --&gt; net.sf.ehcache.Cachemanager@..\r\n\r\nUnder this go to attributes. \r\nClick on attributes and on right side, inspect RegionCacheAttriutes.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qEh5G.png\r\n\r\n**Note** : The view has changed with JDK1.7 . After logging into JMX Console, navigate to net.sf.ehcache.hibernate under Mbeans tab. Click on the CacheRegionStats Clicking on it will open bring up the screen on the right. Double click on top section and it brings up the tabular navigation as shown below. You will have to navigate in the tabular navigation to find the count of any object you are interested in.","title":"EHCache how to check if something is in the cache or not?","body":"<p>It is possible to access the hibernate statistics + ehcache stats etc via jmx. EhcacheHibernateMBean is the main interface that exposes all the API's via jmx. It basically extends two interfaces -- EhcacheStats and HibernateStats. And as the name implies EhcacheStats contains methods related with Ehcache and HibernateStats related with Hibernate. You can see cache hit/miss/put rates, change config element values dynamically -- like maxElementInMemory, TTI, TTL, enable/disable statistics collection etc and various other things. This can be achieved in your application by overriding buildSessionFactory() method on LocalSessionFactoryBean by adding tc.active as \"true\" System property when second level cache is enabled in Hibernate configuration </p>\n\n<pre><code>  @Override\n        protected SessionFactory buildSessionFactory() throws Exception {\n                Properties properties = this.getHibernateProperties();\n                String secondLevelCache = (String) properties\n                                .get(\"hibernate.cache.use_second_level_cache\");\n                if (secondLevelCache.equals(\"true\")) {\n                        System.setProperty(\"tc.active\", \"true\");\n                }\n                return super.buildSessionFactory();\n        }\n</code></pre>\n\n<p>No when you access your application via JMX, go to tab Mbeans , on left go to net.sf.ehcache.hibernate --> net.sf.ehcache.Cachemanager@..</p>\n\n<p>Under this go to attributes. \nClick on attributes and on right side, inspect RegionCacheAttriutes.</p>\n\n<p><img src=\"https://i.stack.imgur.com/qEh5G.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Note</strong> : The view has changed with JDK1.7 . After logging into JMX Console, navigate to net.sf.ehcache.hibernate under Mbeans tab. Click on the CacheRegionStats Clicking on it will open bring up the screen on the right. Double click on top section and it brings up the tabular navigation as shown below. You will have to navigate in the tabular navigation to find the count of any object you are interested in.</p>\n"}],"owner":{"account_id":62398,"reputation":15301,"user_id":185432,"accept_rate":63,"display_name":"Marco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24304,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6439592,"answer_count":3,"score":9,"last_activity_date":1667930707,"creation_date":1308744195,"question_id":6439476,"body_markdown":"Is there a way of checking if an object is inside an EHCache managed cache?\r\n\r\nThe challenge I face is that I have implemented a method that retrieves a single value from the database (a find(key) method). The result of that find method is nicely cached by EHCache, but now I want to reduce the number of SQL queries that result from calling the method several times.\r\n\r\nSo to achieve this we implemented a new method which as argument takes a list of keys, but as the argument is different for every method call EHCache does a bad job on caching the results.\r\nEHCache used the method parameters as entry point to the cache.\r\n\r\nSo I would like to re-engineer some stuff. The idea was that I take the arguments in the find(list of keys) method, execute a large SQL query and then stuff the results inside the cache, I have not wrapped my head around it, but after writing this down it feels like manually modifying the cache is also a no go.\r\n\r\nAny insight or hints are appreciated!","title":"EHCache how to check if something is in the cache or not?","body":"<p>Is there a way of checking if an object is inside an EHCache managed cache?</p>\n<p>The challenge I face is that I have implemented a method that retrieves a single value from the database (a find(key) method). The result of that find method is nicely cached by EHCache, but now I want to reduce the number of SQL queries that result from calling the method several times.</p>\n<p>So to achieve this we implemented a new method which as argument takes a list of keys, but as the argument is different for every method call EHCache does a bad job on caching the results.\nEHCache used the method parameters as entry point to the cache.</p>\n<p>So I would like to re-engineer some stuff. The idea was that I take the arguments in the find(list of keys) method, execute a large SQL query and then stuff the results inside the cache, I have not wrapped my head around it, but after writing this down it feels like manually modifying the cache is also a no go.</p>\n<p>Any insight or hints are appreciated!</p>\n"},{"tags":["java","rest","httpresponse"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667929060,"post_id":74364929,"comment_id":131283505,"body_markdown":"Can you please elaborate more how you are getting response &amp; what field you want to extract","body":"Can you please elaborate more how you are getting response &amp; what field you want to extract"},{"owner":{"account_id":25926033,"reputation":81,"user_id":20410560,"display_name":"akanesora"},"score":0,"creation_date":1667929193,"post_id":74364929,"comment_id":131283563,"body_markdown":"@AshishPatil Thanks for reminder, I have update it.","body":"@AshishPatil Thanks for reminder, I have update it."}],"answers":[{"comments":[{"owner":{"account_id":25926033,"reputation":81,"user_id":20410560,"display_name":"akanesora"},"score":0,"creation_date":1667933179,"post_id":74365034,"comment_id":131284899,"body_markdown":"JsonNode jsonNode = new ObjectMapper().readTree(response); I tried this but it told me The method readTree(JsonParser) in the type ObjectMapper is not applicable for the arguments (Response). Am I supposed to convert the response as something?","body":"JsonNode jsonNode = new ObjectMapper().readTree(response); I tried this but it told me The method readTree(JsonParser) in the type ObjectMapper is not applicable for the arguments (Response). Am I supposed to convert the response as something?"},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1667936532,"post_id":74365034,"comment_id":131285993,"body_markdown":"streamFromServer should be an InputStream, not a Response. There is probably a method in Response to get an InputStream. I don&#39;t know the fully-qualified Response class that you&#39;re working with so I can&#39;t be more specific.","body":"streamFromServer should be an InputStream, not a Response. There is probably a method in Response to get an InputStream. I don&#39;t know the fully-qualified Response class that you&#39;re working with so I can&#39;t be more specific."}],"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667929361,"creation_date":1667929361,"answer_id":74365034,"question_id":74364929,"body_markdown":"ObjectMapper is the core class in Jackson, use that. There is no need convert anything to a String, Jackson can read directly from the HTTP input stream.\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class ParseJSON {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tInputStream streamFromServer = streamFromServer; //Wherever this comes from\r\n    \t\tfinal JsonNode jsonNode = new ObjectMapper().readTree( streamFromServer );\r\n    \t\tfinal String yourValue = jsonNode.at( &quot;/path/to/your/value&quot; ).asText();\r\n    \t}\r\n    }\r\n\r\n","title":"Java how to retrieve a particular field form http response","body":"<p>ObjectMapper is the core class in Jackson, use that. There is no need convert anything to a String, Jackson can read directly from the HTTP input stream.</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class ParseJSON {\n    public static void main(String[] args) throws IOException {\n        InputStream streamFromServer = streamFromServer; //Wherever this comes from\n        final JsonNode jsonNode = new ObjectMapper().readTree( streamFromServer );\n        final String yourValue = jsonNode.at( &quot;/path/to/your/value&quot; ).asText();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667930330,"creation_date":1667930330,"answer_id":74365216,"question_id":74364929,"body_markdown":"Though I am not sure how your `Customer` object looks like but below might be helpful to you:\r\n\r\n\r\n\r\n    String customer = EntityUtils.toString(entity);  // returns your customer in String format.\r\n    ObjectMapper mapper = new ObjectMapper();  // this is com.fasterxml.jackson.databind.ObjectMapper class\r\n    \r\n    HashMap&lt;?, ?&gt; map = mapper.readValue(customer, HashMap.class);  \r\n    \r\n    System.out.println(map.get(&quot;id&quot;)); // extracting id field.\r\n\r\n","title":"Java how to retrieve a particular field form http response","body":"<p>Though I am not sure how your <code>Customer</code> object looks like but below might be helpful to you:</p>\n<pre><code>String customer = EntityUtils.toString(entity);  // returns your customer in String format.\nObjectMapper mapper = new ObjectMapper();  // this is com.fasterxml.jackson.databind.ObjectMapper class\n\nHashMap&lt;?, ?&gt; map = mapper.readValue(customer, HashMap.class);  \n\nSystem.out.println(map.get(&quot;id&quot;)); // extracting id field.\n</code></pre>\n"}],"owner":{"account_id":25926033,"reputation":81,"user_id":20410560,"display_name":"akanesora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74365034,"answer_count":2,"score":1,"last_activity_date":1667930330,"creation_date":1667928837,"question_id":74364929,"body_markdown":"I&#39;m trying to do this by convert the response to json and then find the filed form it.\r\n\r\nBut I don&#39;t know neither how to convert it to json, nor how to traverse the json.\r\n\r\n\r\n\t\r\n\r\n    @POST\r\n    \t@Path(&quot;/custoemrs&quot;)\r\n    \t@Produces({ MediaType.APPLICATION_JSON })\r\n    \tResponse createCustomer(Customer customer);\r\n\r\nthere would be a id field which I want to extract.\r\n\r\n\r\nThere are too many answers out there, I tried some of them but none is working.\r\n\r\nI want to use jackson to process the json file, and I&#39;m using resteasy client.\r\n\r\nThe response I&#39;m using is javax.ws.rs.core.Response, please kindly base on this to answer\r\n\r\n\r\n\r\nI saw many people said something like \r\n\r\n`EntityUtils.toString(entity)`\r\n\r\nBut I can&#39;t even resolve the entityutils...","title":"Java how to retrieve a particular field form http response","body":"<p>I'm trying to do this by convert the response to json and then find the filed form it.</p>\n<p>But I don't know neither how to convert it to json, nor how to traverse the json.</p>\n<pre><code>@POST\n    @Path(&quot;/custoemrs&quot;)\n    @Produces({ MediaType.APPLICATION_JSON })\n    Response createCustomer(Customer customer);\n</code></pre>\n<p>there would be a id field which I want to extract.</p>\n<p>There are too many answers out there, I tried some of them but none is working.</p>\n<p>I want to use jackson to process the json file, and I'm using resteasy client.</p>\n<p>The response I'm using is javax.ws.rs.core.Response, please kindly base on this to answer</p>\n<p>I saw many people said something like</p>\n<p><code>EntityUtils.toString(entity)</code></p>\n<p>But I can't even resolve the entityutils...</p>\n"},{"tags":["java","spring-boot","jax-rs","spring-restcontroller"],"answers":[{"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667929857,"post_id":74365097,"comment_id":131283793,"body_markdown":"Should not autowire it directly, but use constructor injection.","body":"Should not autowire it directly, but use constructor injection."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667929974,"post_id":74365097,"comment_id":131283852,"body_markdown":"Also context is [not directly analogous](https://readlearncode.com/java-ee/what-is-javax-ws-rs-core-context-httpheaders-and-uriinfo/) to Spring&#39;s autowired. It&#39;s more context-specific, if you excuse the pun.","body":"Also context is <a href=\"https://readlearncode.com/java-ee/what-is-javax-ws-rs-core-context-httpheaders-and-uriinfo/\" rel=\"nofollow noreferrer\">not directly analogous</a> to Spring&#39;s autowired. It&#39;s more context-specific, if you excuse the pun."},{"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"score":0,"creation_date":1667930506,"post_id":74365097,"comment_id":131284049,"body_markdown":"@RoddyoftheFrozenPeas If i use `@Autowired MyObject object2` then won&#39;t itt work,If yes what should i use","body":"@RoddyoftheFrozenPeas If i use <code>@Autowired MyObject object2</code> then won&#39;t itt work,If yes what should i use"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667930913,"post_id":74365097,"comment_id":131284183,"body_markdown":"In order `MyObject` can be injected it must be created/initialized in the first place. In general, you have a class annotated with `@Configuration` in which all the Spring Beans are created. So there you must also initialize `MyObject` so it can be injected into `MyController`.","body":"In order <code>MyObject</code> can be injected it must be created/initialized in the first place. In general, you have a class annotated with <code>@Configuration</code> in which all the Spring Beans are created. So there you must also initialize <code>MyObject</code> so it can be injected into <code>MyController</code>."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1667932149,"post_id":74365097,"comment_id":131284596,"body_markdown":"You probably need to give more context about what MyObject is? Does it need request info?","body":"You probably need to give more context about what MyObject is? Does it need request info?"}],"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667930294,"creation_date":1667929657,"answer_id":74365097,"question_id":74364959,"body_markdown":"The `@Context` is Dependency Injection featured by JAX-RS. See also: https://dzone.com/articles/jax-rs-what-is-context\r\n\r\nIn your case just inject `MyObject object2` into your class as an attribue via `@Autowired` so you can use it later:\r\n\r\n```\r\nclass MyController {\r\n\r\n  private final MyObject object2;\r\n\r\n  @Autowired\r\n  public MyController(MyObject object2) {\r\n    this.object2 = object2;\r\n  }\r\n  ...\r\n}\r\n\r\n```","title":"Jax Rs to Rest Controller","body":"<p>The <code>@Context</code> is Dependency Injection featured by JAX-RS. See also: <a href=\"https://dzone.com/articles/jax-rs-what-is-context\" rel=\"nofollow noreferrer\">https://dzone.com/articles/jax-rs-what-is-context</a></p>\n<p>In your case just inject <code>MyObject object2</code> into your class as an attribue via <code>@Autowired</code> so you can use it later:</p>\n<pre><code>class MyController {\n\n  private final MyObject object2;\n\n  @Autowired\n  public MyController(MyObject object2) {\n    this.object2 = object2;\n  }\n  ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74365097,"answer_count":1,"score":0,"last_activity_date":1667930294,"creation_date":1667928988,"question_id":74364959,"body_markdown":"\r\n\r\nI have a rest end point written using JAX-RS \r\n\r\n   \r\n\r\n     import javax.ws.rs.core.Context\r\n    \r\n        @POST\r\n        public Response something(@RequestBody MyOrderObject obj1,@Context MyObject obj2) {\r\n        \r\n        }\r\n\r\nI want to write the above rest end point using Spring Rest.What should I replace the @Context in Spring Boot ?\r\n\r\n    @RestController\r\n         class MyController\r\n    \t {\r\n        @POST\r\n        public @ResponseBody something(@RequestBody MyOrderObject obj1) {\r\n    \r\n        }\r\n    \t}\r\n\r\n \r\n","title":"Jax Rs to Rest Controller","body":"<p>I have a rest end point written using JAX-RS</p>\n<pre><code> import javax.ws.rs.core.Context\n\n    @POST\n    public Response something(@RequestBody MyOrderObject obj1,@Context MyObject obj2) {\n    \n    }\n</code></pre>\n<p>I want to write the above rest end point using Spring Rest.What should I replace the @Context in Spring Boot ?</p>\n<pre><code>@RestController\n     class MyController\n     {\n    @POST\n    public @ResponseBody something(@RequestBody MyOrderObject obj1) {\n\n    }\n    }\n</code></pre>\n"},{"tags":["java","gradle","minecraft-fabric"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1667947611,"post_id":74365189,"comment_id":131289059,"body_markdown":"Please provide an [MRE](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>."},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":0,"creation_date":1667975157,"post_id":74365189,"comment_id":131293203,"body_markdown":"How did it not work? Do you get an error message? It sounds like your Java may not be installed properly, can you run `.\\gradlew --version` and make sure that works before running a particular task?","body":"How did it not work? Do you get an error message? It sounds like your Java may not be installed properly, can you run <code>.\\gradlew --version</code> and make sure that works before running a particular task?"},{"owner":{"account_id":26449123,"reputation":1,"user_id":20092569,"display_name":"Parker Harrod"},"score":0,"creation_date":1668017452,"post_id":74365189,"comment_id":131307962,"body_markdown":"Hi there Bernie this is what came up Build time:   2022-08-05 21:17:56 UTC\nRevision:     d1daa0cbf1a0103000b71484e1dbfe096e095918\n\nKotlin:       1.6.21\nGroovy:       3.0.10\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.5 (Oracle Corporation 17.0.5+9-LTS-191)\nOS:           Windows 10 10.0 amd64","body":"Hi there Bernie this is what came up Build time:   2022-08-05 21:17:56 UTC Revision:     d1daa0cbf1a0103000b71484e1dbfe096e095918  Kotlin:       1.6.21 Groovy:       3.0.10 Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021 JVM:          17.0.5 (Oracle Corporation 17.0.5+9-LTS-191) OS:           Windows 10 10.0 amd64"}],"owner":{"account_id":26449123,"reputation":1,"user_id":20092569,"display_name":"Parker Harrod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667930190,"creation_date":1667930190,"question_id":74365189,"body_markdown":"Hi there I want to know what java I need to have for gradle to not fail during .\\gradle gensources . I remember there being a specific version of java for this and I forgot the link can somebody comment it?\r\n\r\nI tried just downloading java 17 and it didn&#39;t work","title":"Java Gradle Gen Sources","body":"<p>Hi there I want to know what java I need to have for gradle to not fail during .\\gradle gensources . I remember there being a specific version of java for this and I forgot the link can somebody comment it?</p>\n<p>I tried just downloading java 17 and it didn't work</p>\n"},{"tags":["java","maven","docker","kubernetes"],"comments":[{"owner":{"account_id":395849,"reputation":46365,"user_id":759019,"accept_rate":98,"display_name":"Anirudh Ramanathan"},"score":1,"creation_date":1476838980,"post_id":40120355,"comment_id":67511886,"body_markdown":"That looks like an application error from within your container itself. You could try to [`docker run`](https://docs.docker.com/engine/reference/run/) your container to ensure that it is setup correctly.","body":"That looks like an application error from within your container itself. You could try to <a href=\"https://docs.docker.com/engine/reference/run/\" rel=\"nofollow noreferrer\"><code>docker run</code></a> your container to ensure that it is setup correctly."},{"owner":{"account_id":4275696,"reputation":848,"user_id":3496352,"accept_rate":67,"display_name":"chaosaffe"},"score":0,"creation_date":1476896077,"post_id":40120355,"comment_id":67544336,"body_markdown":"Can you please include the log where you see `ImagePullBackOff`? That would not usually be caused by an application issue, so it appears you have two separate issues here.","body":"Can you please include the log where you see <code>ImagePullBackOff</code>? That would not usually be caused by an application issue, so it appears you have two separate issues here."},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1476896576,"post_id":40120355,"comment_id":67544628,"body_markdown":"@AnirudhRamanathan You are right. There is a problem with docker. So some issues with mvn. I&#39;ll try to solve that first. ChaosAffe I see ImagePullBackOff in the status of each images not in a log file.","body":"@AnirudhRamanathan You are right. There is a problem with docker. So some issues with mvn. I&#39;ll try to solve that first. ChaosAffe I see ImagePullBackOff in the status of each images not in a log file."},{"owner":{"account_id":4470616,"reputation":1798,"user_id":3637043,"accept_rate":73,"display_name":"sitakant"},"score":0,"creation_date":1490954261,"post_id":40120355,"comment_id":73352439,"body_markdown":"@WowBow : Could you please post your pods definition ?","body":"@WowBow : Could you please post your pods definition ?"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667929172,"creation_date":1667929172,"answer_id":74364991,"question_id":40120355,"body_markdown":"At the end of your Dockerfile, you twice define CMD, but the last one is just &quot;mvn&quot; without any lifecyle information. That&#39;s why you get the feedback from maven and the container terminates:\r\n\r\n```Dockerfile\r\nCMD [&quot;/sbin/my_init&quot;]\r\n\r\nVOLUME /root/.m2\r\n\r\nCMD [&quot;mvn&quot;]\r\n```","title":"CrashLoopBackOff: Docker image not running on Kubernates ? (ImagePullBackOff)","body":"<p>At the end of your Dockerfile, you twice define CMD, but the last one is just &quot;mvn&quot; without any lifecyle information. That's why you get the feedback from maven and the container terminates:</p>\n<pre><code>CMD [&quot;/sbin/my_init&quot;]\n\nVOLUME /root/.m2\n\nCMD [&quot;mvn&quot;]\n</code></pre>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667929172,"creation_date":1476838392,"question_id":40120355,"body_markdown":" - I have a REST API application with the following maven and docker file. \r\n - I am using Jdk 8, latest Docker and Kubernates, latest minicubi , and work on latest Mac OS\r\n\r\nI was able to create the docker image without any problem as well as deploy it on Kubernate. However here the status when I run `kubectl get pods`\r\n\r\n    NAME                                     READY     STATUS             RESTARTS   AGE employee-2271331337-vj6v2             0/1       CrashLoopBackOff   29         2h office365-email-3450521264-nrtkr      0/1       ImagePullBackOff   0          5h our-node-2-3162948349-lelwt 1/1       Running            0          23h\r\n\r\nThen I run the following code to see the log `kubectl logs e-office365-2271331337-vj6v2 -p`and found the following log:\r\n\r\n&gt; lugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;.\r\n&gt; Available lifecycle phases are: validate, initialize,\r\n&gt; generate-sources, process-sources, generate-resources,\r\n&gt; process-resources, compile, process-classes, generate-test-sources,\r\n&gt; process-test-sources, generate-test-resources, process-test-resources,\r\n&gt; test-compile, process-test-classes, test, prepare-package, package,\r\n&gt; pre-integration-test, integration-test, post-integration-test, verify,\r\n&gt; install, deploy, pre-clean, clean, post-clean, pre-site, site,\r\n&gt; post-site, site-deploy. -&gt; [Help 1] [ERROR]\r\n\r\n\r\n**DockerFile:**\r\n\r\n    # Dockerfile\r\n    \r\n    FROM  phusion/baseimage:0.9.17\r\n    \r\n    \r\n    RUN echo &quot;deb http://archive.ubuntu.com/ubuntu trusty main universe&quot; &gt; /etc/apt/sources.list\r\n    \r\n    RUN apt-get -y update\r\n    \r\n    RUN DEBIAN_FRONTEND=noninteractive apt-get install -y -q python-software-properties software-properties-common\r\n    \r\n    ENV JAVA_VER 8\r\n    ENV JAVA_HOME /usr/lib/jvm/java-8-oracle\r\n    \r\n    \r\n    ENV MAVEN_VERSION 3.3.9\r\n    \r\n    \r\n    ENV MAVEN_HOME /usr/share/maven\r\n    \r\n    RUN echo &#39;deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&#39; &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\r\n        echo &#39;deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&#39; &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\r\n        apt-key adv --keyserver keyserver.ubuntu.com --recv-keys C2518248EEA14886 &amp;&amp; \\\r\n        apt-get update &amp;&amp; \\\r\n        echo oracle-java${JAVA_VER}-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections &amp;&amp; \\\r\n        apt-get install -y --force-yes --no-install-recommends oracle-java${JAVA_VER}-installer oracle-java${JAVA_VER}-set-default &amp;&amp; \\\r\n        apt-get clean &amp;&amp; \\\r\n        rm -rf /var/cache/oracle-jdk${JAVA_VER}-installer\r\n    \r\n    \r\n    RUN mkdir -p /usr/share/maven \\\r\n      &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\r\n        | tar -xzC /usr/share/maven --strip-components=1 \\\r\n      &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\r\n    \r\n    RUN update-java-alternatives -s java-8-oracle\r\n    \r\n    RUN echo &quot;export JAVA_HOME=/usr/lib/jvm/java-8-oracle&quot; &gt;&gt; ~/.bashrc\r\n    \r\n    RUN apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\r\n    \r\n    CMD [&quot;/sbin/my_init&quot;]\r\n    \r\n    VOLUME /root/.m2\r\n    \r\n    CMD [&quot;mvn&quot;]\r\n\r\n**Maven:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \r\n        &lt;properties&gt;\r\n            &lt;dropwizard.version&gt;1.0.0&lt;/dropwizard.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;groupId&gt;com.emp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;empv1&lt;/artifactId&gt;\r\n        &lt;version&gt;EMP-208-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n                        &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                        &lt;/filters&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;config.EmailUtilApplication&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n         \r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.34&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20160810&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.smoketurner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dropwizard-swagger&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0-1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nI appericiate your help to make sure the images runs on kubernates. ","title":"CrashLoopBackOff: Docker image not running on Kubernates ? (ImagePullBackOff)","body":"<ul>\n<li>I have a REST API application with the following maven and docker file. </li>\n<li>I am using Jdk 8, latest Docker and Kubernates, latest minicubi , and work on latest Mac OS</li>\n</ul>\n\n<p>I was able to create the docker image without any problem as well as deploy it on Kubernate. However here the status when I run <code>kubectl get pods</code></p>\n\n<pre><code>NAME                                     READY     STATUS             RESTARTS   AGE employee-2271331337-vj6v2             0/1       CrashLoopBackOff   29         2h office365-email-3450521264-nrtkr      0/1       ImagePullBackOff   0          5h our-node-2-3162948349-lelwt 1/1       Running            0          23h\n</code></pre>\n\n<p>Then I run the following code to see the log <code>kubectl logs e-office365-2271331337-vj6v2 -p</code>and found the following log:</p>\n\n<blockquote>\n  <p>lugin-group-id>:[:]:.\n  Available lifecycle phases are: validate, initialize,\n  generate-sources, process-sources, generate-resources,\n  process-resources, compile, process-classes, generate-test-sources,\n  process-test-sources, generate-test-resources, process-test-resources,\n  test-compile, process-test-classes, test, prepare-package, package,\n  pre-integration-test, integration-test, post-integration-test, verify,\n  install, deploy, pre-clean, clean, post-clean, pre-site, site,\n  post-site, site-deploy. -> [Help 1] [ERROR]</p>\n</blockquote>\n\n<p><strong>DockerFile:</strong></p>\n\n<pre><code># Dockerfile\n\nFROM  phusion/baseimage:0.9.17\n\n\nRUN echo \"deb http://archive.ubuntu.com/ubuntu trusty main universe\" &gt; /etc/apt/sources.list\n\nRUN apt-get -y update\n\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y -q python-software-properties software-properties-common\n\nENV JAVA_VER 8\nENV JAVA_HOME /usr/lib/jvm/java-8-oracle\n\n\nENV MAVEN_VERSION 3.3.9\n\n\nENV MAVEN_HOME /usr/share/maven\n\nRUN echo 'deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main' &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\n    echo 'deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main' &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\n    apt-key adv --keyserver keyserver.ubuntu.com --recv-keys C2518248EEA14886 &amp;&amp; \\\n    apt-get update &amp;&amp; \\\n    echo oracle-java${JAVA_VER}-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections &amp;&amp; \\\n    apt-get install -y --force-yes --no-install-recommends oracle-java${JAVA_VER}-installer oracle-java${JAVA_VER}-set-default &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    rm -rf /var/cache/oracle-jdk${JAVA_VER}-installer\n\n\nRUN mkdir -p /usr/share/maven \\\n  &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\n    | tar -xzC /usr/share/maven --strip-components=1 \\\n  &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\n\nRUN update-java-alternatives -s java-8-oracle\n\nRUN echo \"export JAVA_HOME=/usr/lib/jvm/java-8-oracle\" &gt;&gt; ~/.bashrc\n\nRUN apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nCMD [\"/sbin/my_init\"]\n\nVOLUME /root/.m2\n\nCMD [\"mvn\"]\n</code></pre>\n\n<p><strong>Maven:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n    &lt;properties&gt;\n        &lt;dropwizard.version&gt;1.0.0&lt;/dropwizard.version&gt;\n    &lt;/properties&gt;\n\n    &lt;groupId&gt;com.emp&lt;/groupId&gt;\n    &lt;artifactId&gt;empv1&lt;/artifactId&gt;\n    &lt;version&gt;EMP-208-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                    &lt;mainClass&gt;config.EmailUtilApplication&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n            &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.11.34&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n                &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n                &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.smoketurner&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-swagger&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I appericiate your help to make sure the images runs on kubernates. </p>\n"},{"tags":["java","variables","subclass","private","abstract"],"answers":[{"comments":[{"owner":{"account_id":1166666,"reputation":723,"user_id":1144756,"display_name":"Thinesh Ganeshalingam"},"score":0,"creation_date":1399252455,"post_id":23463446,"comment_id":35971091,"body_markdown":"Private variables cannot be accessed even in sub classes. You can either change that variable to protected (so it can accessed in sub classes and the classes in the same package) or use get color in the sub class also.","body":"Private variables cannot be accessed even in sub classes. You can either change that variable to protected (so it can accessed in sub classes and the classes in the same package) or use get color in the sub class also."}],"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399252883,"creation_date":1399252249,"answer_id":23463446,"question_id":23463427,"body_markdown":"    g.setColor(color);\r\n    g.fillOval(x, y, width, height);\r\n\r\nAll these fields are private to the parent class.\r\n\r\nYou cannot access a private field from outside the class, not even from subclasses.\r\n\r\nYou could change the field to protected or provide getters for the subclasses to call.\r\n\r\nSo in Shape, add a method\r\n\r\n    protected Color getColor(){  return color; }\r\n\r\nand then you can do\r\n\r\n    g.setColor(getColor());\r\n\r\nin your subclasses. Same for the other fields.\r\n\r\n","title":"What does &quot;variable has private access&quot; mean? How do I fix it?","body":"<pre><code>g.setColor(color);\ng.fillOval(x, y, width, height);\n</code></pre>\n\n<p>All these fields are private to the parent class.</p>\n\n<p>You cannot access a private field from outside the class, not even from subclasses.</p>\n\n<p>You could change the field to protected or provide getters for the subclasses to call.</p>\n\n<p>So in Shape, add a method</p>\n\n<pre><code>protected Color getColor(){  return color; }\n</code></pre>\n\n<p>and then you can do</p>\n\n<pre><code>g.setColor(getColor());\n</code></pre>\n\n<p>in your subclasses. Same for the other fields.</p>\n"},{"comments":[{"owner":{"account_id":4423471,"reputation":171,"user_id":3602628,"display_name":"user3602628"},"score":1,"creation_date":1399252781,"post_id":23463456,"comment_id":35971165,"body_markdown":"I&#39;m sorry but I have trouble understanding how to use set and get methods could you provide a visual example?","body":"I&#39;m sorry but I have trouble understanding how to use set and get methods could you provide a visual example?"},{"owner":{"account_id":3000741,"reputation":1834,"user_id":2546299,"display_name":"Tot&#242;"},"score":0,"creation_date":1399252895,"post_id":23463456,"comment_id":35971185,"body_markdown":"in the superclass add the accessor methods for all the private fields e.g. `public int getX(){return this.x;}` etc... and then in the sub-classes (e.g. `Ellipse`) use them like: `g.fillOval(getX(), getY(), getWidth(), getHeight());`","body":"in the superclass add the accessor methods for all the private fields e.g. <code>public int getX(){return this.x;}</code> etc... and then in the sub-classes (e.g. <code>Ellipse</code>) use them like: <code>g.fillOval(getX(), getY(), getWidth(), getHeight());</code>"},{"owner":{"account_id":4423471,"reputation":171,"user_id":3602628,"display_name":"user3602628"},"score":0,"creation_date":1399253941,"post_id":23463456,"comment_id":35971442,"body_markdown":"So if I understand you correctly you&#39;re saying I need to add get methods to my super class (because I&#39;m pretty sure I have setters) and set them to return true and then just put them in the the subclass replacing all the variables in parenthesis?","body":"So if I understand you correctly you&#39;re saying I need to add get methods to my super class (because I&#39;m pretty sure I have setters) and set them to return true and then just put them in the the subclass replacing all the variables in parenthesis?"},{"owner":{"account_id":3000741,"reputation":1834,"user_id":2546299,"display_name":"Tot&#242;"},"score":0,"creation_date":1399254146,"post_id":23463456,"comment_id":35971488,"body_markdown":"You need to add get methods in the super class, and set them to return  what they have to return (e.g. `public int getWidth(){return this.width;}public int getX(){return this.x;}` ) and use them to retrieve the field value instead of accessing the field directly","body":"You need to add get methods in the super class, and set them to return  what they have to return (e.g. <code>public int getWidth(){return this.width;}public int getX(){return this.x;}</code> ) and use them to retrieve the field value instead of accessing the field directly"},{"owner":{"account_id":4423471,"reputation":171,"user_id":3602628,"display_name":"user3602628"},"score":0,"creation_date":1399256011,"post_id":23463456,"comment_id":35971864,"body_markdown":"Okay I did what you said and added get methods to all the setters and had them return true and I put the get methods inside the subclass just like in your example but now it&#39;s saying method getColor cannot be applied to given types. So what happened?","body":"Okay I did what you said and added get methods to all the setters and had them return true and I put the get methods inside the subclass just like in your example but now it&#39;s saying method getColor cannot be applied to given types. So what happened?"},{"owner":{"account_id":3000741,"reputation":1834,"user_id":2546299,"display_name":"Tot&#242;"},"score":0,"creation_date":1399257218,"post_id":23463456,"comment_id":35972145,"body_markdown":"Sorry, I don&#39;t follow you... Why do the accessors method have to return `true`? The `setSomething` doesn&#39;t need to return anything, the `getSomeField` has to return `someField`. If you can update the code in your question with the latest changes we may be able to help.","body":"Sorry, I don&#39;t follow you... Why do the accessors method have to return <code>true</code>? The <code>setSomething</code> doesn&#39;t need to return anything, the <code>getSomeField</code> has to return <code>someField</code>. If you can update the code in your question with the latest changes we may be able to help."}],"tags":[],"owner":{"account_id":3000741,"reputation":1834,"user_id":2546299,"display_name":"Tot&#242;"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399252413,"creation_date":1399252413,"answer_id":23463456,"question_id":23463427,"body_markdown":"`private int x, y, width, height;` means that they can only be accessed from the actual class where they are declared. You should create appropriate `get` and `set` methods and use them. You want the fields to be either `public` or `protected` to access them using the dot notation, but IMO it&#39;s a better design to keep them private and use `get` and `set`. See also https://stackoverflow.com/questions/215497/in-java-whats-the-difference-between-public-default-protected-and-private that explains the fields&#39; visibility.","title":"What does &quot;variable has private access&quot; mean? How do I fix it?","body":"<p><code>private int x, y, width, height;</code> means that they can only be accessed from the actual class where they are declared. You should create appropriate <code>get</code> and <code>set</code> methods and use them. You want the fields to be either <code>public</code> or <code>protected</code> to access them using the dot notation, but IMO it's a better design to keep them private and use <code>get</code> and <code>set</code>. See also <a href=\"https://stackoverflow.com/questions/215497/in-java-whats-the-difference-between-public-default-protected-and-private\">In Java, difference between default, public, protected, and private</a> that explains the fields' visibility.</p>\n"}],"owner":{"account_id":4423471,"reputation":171,"user_id":3602628,"display_name":"user3602628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91260,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":2,"score":14,"last_activity_date":1667929171,"creation_date":1399252055,"question_id":23463427,"body_markdown":"I&#39;m trying to make an abstract shape class for rectangle and ellipse the only abstract method I gave shape was the draw method, but after I gave it a constructor and everything it gives me an error in the rectangle class saying that color and the other variables have private accesses here is my code:\r\n\r\n    public abstract class Shape{\r\n            private int x, y, width, height;\r\n            private Color color;\r\n            public Shape(int x, int y, int width, int height, Color color){\r\n                setXY(x, y);\r\n                setSize(width, height);\r\n                setColor(color);\r\n            }\r\n    \r\n            public boolean setXY(int x, int y){\r\n                this.x=x;\r\n                this.y=y;\r\n                return true;\r\n            }\r\n    \r\n            public boolean setSize(int width, int height){\r\n                this.width=width;\r\n                this.height=height;\r\n                return true;\r\n            }\r\n    \r\n            public boolean setColor(Color color){\r\n                if(color==null)\r\n                    return false;\r\n                this.color=color;\r\n                return true;\r\n            }\r\n    \r\n            public abstract void draw(Graphics g);\r\n        }\r\n    \r\n        class Rectangle extends Shape{\r\n            public Rectangle(int x, int y, int width, int height, Color color){\r\n                super(x, y, width, height, color);\r\n            }\r\n            \r\n            public void draw(Graphics g){\r\n                setColor(color);\r\n                fillRect(x, y, width, height);\r\n                setColor(Color.BLACK);\r\n                drawRect(x, y, width, height);\r\n            }\r\n        }\r\n    \r\n        class Ellipse extends Shape{\r\n            public Ellipse(int x, int y, int width, int height, Color color){\r\n                super(x, y, width, height, color);\r\n            }\r\n            \r\n            public void draw(Graphics g){\r\n                g.setColor(color);\r\n                g.fillOval(x, y, width, height);\r\n                g.setColor(Color.BLACK);\r\n                g.drawOval(x, y, width, height);\r\n            }\r\n        }","title":"What does &quot;variable has private access&quot; mean? How do I fix it?","body":"<p>I'm trying to make an abstract shape class for rectangle and ellipse the only abstract method I gave shape was the draw method, but after I gave it a constructor and everything it gives me an error in the rectangle class saying that color and the other variables have private accesses here is my code:</p>\n\n<pre><code>public abstract class Shape{\n        private int x, y, width, height;\n        private Color color;\n        public Shape(int x, int y, int width, int height, Color color){\n            setXY(x, y);\n            setSize(width, height);\n            setColor(color);\n        }\n\n        public boolean setXY(int x, int y){\n            this.x=x;\n            this.y=y;\n            return true;\n        }\n\n        public boolean setSize(int width, int height){\n            this.width=width;\n            this.height=height;\n            return true;\n        }\n\n        public boolean setColor(Color color){\n            if(color==null)\n                return false;\n            this.color=color;\n            return true;\n        }\n\n        public abstract void draw(Graphics g);\n    }\n\n    class Rectangle extends Shape{\n        public Rectangle(int x, int y, int width, int height, Color color){\n            super(x, y, width, height, color);\n        }\n\n        public void draw(Graphics g){\n            setColor(color);\n            fillRect(x, y, width, height);\n            setColor(Color.BLACK);\n            drawRect(x, y, width, height);\n        }\n    }\n\n    class Ellipse extends Shape{\n        public Ellipse(int x, int y, int width, int height, Color color){\n            super(x, y, width, height, color);\n        }\n\n        public void draw(Graphics g){\n            g.setColor(color);\n            g.fillOval(x, y, width, height);\n            g.setColor(Color.BLACK);\n            g.drawOval(x, y, width, height);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","openapi-generator"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1657894142,"post_id":72992123,"comment_id":128925081,"body_markdown":"Are you looking for OOTB solution (it seems that openapi generator does not support what you want, if forget about an &quot;option&quot; to put stuff into `x-class-extra-annotation`) or asking how improve `mustache` template?","body":"Are you looking for OOTB solution (it seems that openapi generator does not support what you want, if forget about an &quot;option&quot; to put stuff into <code>x-class-extra-annotation</code>) or asking how improve <code>mustache</code> template?"}],"answers":[{"tags":[],"owner":{"account_id":26870046,"reputation":1,"user_id":20452190,"display_name":"Mintas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667929039,"creation_date":1667929039,"answer_id":74364968,"question_id":72992123,"body_markdown":"There is no production-ready solution (yet!)\r\nIf you are not starving for this feature, wait for acceptance of related issue and PR to one of the nearest releases.\r\nhttps://github.com/OpenAPITools/openapi-generator/issues/13938\r\nIt will allow required customizations using \r\nx-spring-constraint: @MyAnnotation(value = 1, message = &quot;nice&quot;) (or x-java-constraint) extension with configOption\r\ncustomValidationAnnotationsPackages=&quot;my.custom.package.MyAnnotaion;my.other.package.*&quot;\r\n\r\nElse, refer to https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215 as tutorial for handmade solution","title":"Openapi generator: Add import class to generated model","body":"<p>There is no production-ready solution (yet!)\nIf you are not starving for this feature, wait for acceptance of related issue and PR to one of the nearest releases.\n<a href=\"https://github.com/OpenAPITools/openapi-generator/issues/13938\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/13938</a>\nIt will allow required customizations using\nx-spring-constraint: @MyAnnotation(value = 1, message = &quot;nice&quot;) (or x-java-constraint) extension with configOption\ncustomValidationAnnotationsPackages=&quot;my.custom.package.MyAnnotaion;my.other.package.*&quot;</p>\n<p>Else, refer to <a href=\"https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215\" rel=\"nofollow noreferrer\">https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215</a> as tutorial for handmade solution</p>\n"}],"owner":{"account_id":244916,"reputation":1317,"user_id":518066,"accept_rate":33,"display_name":"user518066"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3484,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667929039,"creation_date":1657878472,"question_id":72992123,"body_markdown":"I am using Openapi generator(5.4.0), with spring (generator name) and gradle, I am trying to add an import to a generated model.\r\n\r\nFor the particular field in the api spec, I  have added:\r\n```\r\n x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonFormat ....&quot;\r\n```\r\n\r\nThis works, however I dont want to fully qualify it, and have the com.fasterxml.jackson.annotation.JsonFormat import added.\r\n\r\n\r\nI tried adding typeMappings to genratedCode task, but that doesn&#39;t work.\r\n\r\n```\r\nimportMappings = [\r\n            &#39;JsonFormat&#39;    : &#39;com.fasterxml.jackson.annotation.JsonFormat&#39;\r\n    ]\r\n```\r\n\r\nUpdate:\r\nI can add model.mustache template to project, and add the import. ie\r\n```\r\n{{#useBeanValidation}}\r\n...\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\n...\r\n{{/useBeanValidation}}\r\n```\r\n\r\n\r\nAny ideas? Better ways.\r\nThanks.","title":"Openapi generator: Add import class to generated model","body":"<p>I am using Openapi generator(5.4.0), with spring (generator name) and gradle, I am trying to add an import to a generated model.</p>\n<p>For the particular field in the api spec, I  have added:</p>\n<pre><code> x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonFormat ....&quot;\n</code></pre>\n<p>This works, however I dont want to fully qualify it, and have the com.fasterxml.jackson.annotation.JsonFormat import added.</p>\n<p>I tried adding typeMappings to genratedCode task, but that doesn't work.</p>\n<pre><code>importMappings = [\n            'JsonFormat'    : 'com.fasterxml.jackson.annotation.JsonFormat'\n    ]\n</code></pre>\n<p>Update:\nI can add model.mustache template to project, and add the import. ie</p>\n<pre><code>{{#useBeanValidation}}\n...\nimport com.fasterxml.jackson.annotation.JsonFormat;\n...\n{{/useBeanValidation}}\n</code></pre>\n<p>Any ideas? Better ways.\nThanks.</p>\n"},{"tags":["java","java-7","smbj","libsmbclient"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667911824,"post_id":74361002,"comment_id":131276339,"body_markdown":"You need to find out which of those methods throw that exception and then catch it in the appropriate place. But it might be an unchecked exception. What do you plan to do about it, if and when you *do* catch it?","body":"You need to find out which of those methods throw that exception and then catch it in the appropriate place. But it might be an unchecked exception. What do you plan to do about it, if and when you <i>do</i> catch it?"},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667911965,"post_id":74361002,"comment_id":131276393,"body_markdown":"Your catch block is inside the if, It should be after the try block has ended.","body":"Your catch block is inside the if, It should be after the try block has ended."}],"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667929012,"creation_date":1667911585,"question_id":74361002,"body_markdown":"I&#39;m just getting started with java development. My ex-colleagues write a code(Code 1). I recently faced the timeout exception. \r\n\r\nCode 1:\r\n\r\n```\r\n    \r\n public String deleteFiles(String DOMAIN0, String USER, String PASSWORD, String SRC_DIR, String DST_DIR, String ext, String ipAddress, String dstRoot) {\r\n SmbConfig config = SmbConfig.builder()\r\n                 .withMultiProtocolNegotiate(true)\r\n                 .withSigningRequired(true)\r\n                 .withDfsEnabled(true)\r\n                 .build();\r\n \r\n SMBClient client = new SMBClient(config);\r\n try {\r\n Connection connection = client.connect(ipAddress);\r\n AuthenticationContext ac1 = new AuthenticationContext(USER, PASSWORD.toCharArray(), DOMAIN);\r\n Session session1 = connection1.authenticate(ac1);\r\n \r\n DiskShare share1 = (DiskShare) session1.connectShare(SRC_DIR);\r\n \r\n if (DST_DIR.contains(&quot;.&quot;)) {\r\n if (fileCheckExists) {\r\n share1.rm(DST_DIR);\r\n \r\n else {\r\n boolean fileCheckExists = share1.folderExists(DST_DIR);\r\n if (fileCheckExists) {\r\n share1.rmdir(DST_DIR0, true);\r\n \r\n \r\n \r\n \r\n catch (TimeoutException et) {\r\n return &quot;Error:&quot; + et.getMessage();\r\n \r\n catch (Exception ex) {\r\n return &quot;Error:&quot; + ex.getMessage();\r\n \r\n return &quot;Completed&quot;;\r\n     }\r\n```\r\n\r\nI added a TimeoutException catch block, but eclipse show the error message(**Unreachable catch block for TimeoutException. This exception is never thrown from the try statement body**).\r\n\r\n\r\n```\r\ncatch (TimeoutException et) {\r\n        \t return &quot;Error:&quot; + et.getMessage();\r\n\t\t}\r\n```\r\n\r\n\r\n\r\n\r\nhow to handle the timeout exception. Please suggust me.","title":"How to handle timeout exception - Smbj","body":"<p>I'm just getting started with java development. My ex-colleagues write a code(Code 1). I recently faced the timeout exception.</p>\n<p>Code 1:</p>\n<pre><code>    \n public String deleteFiles(String DOMAIN0, String USER, String PASSWORD, String SRC_DIR, String DST_DIR, String ext, String ipAddress, String dstRoot) {\n SmbConfig config = SmbConfig.builder()\n                 .withMultiProtocolNegotiate(true)\n                 .withSigningRequired(true)\n                 .withDfsEnabled(true)\n                 .build();\n \n SMBClient client = new SMBClient(config);\n try {\n Connection connection = client.connect(ipAddress);\n AuthenticationContext ac1 = new AuthenticationContext(USER, PASSWORD.toCharArray(), DOMAIN);\n Session session1 = connection1.authenticate(ac1);\n \n DiskShare share1 = (DiskShare) session1.connectShare(SRC_DIR);\n \n if (DST_DIR.contains(&quot;.&quot;)) {\n if (fileCheckExists) {\n share1.rm(DST_DIR);\n \n else {\n boolean fileCheckExists = share1.folderExists(DST_DIR);\n if (fileCheckExists) {\n share1.rmdir(DST_DIR0, true);\n \n \n \n \n catch (TimeoutException et) {\n return &quot;Error:&quot; + et.getMessage();\n \n catch (Exception ex) {\n return &quot;Error:&quot; + ex.getMessage();\n \n return &quot;Completed&quot;;\n     }\n</code></pre>\n<p>I added a TimeoutException catch block, but eclipse show the error message(<strong>Unreachable catch block for TimeoutException. This exception is never thrown from the try statement body</strong>).</p>\n<pre><code>catch (TimeoutException et) {\n             return &quot;Error:&quot; + et.getMessage();\n        }\n</code></pre>\n<p>how to handle the timeout exception. Please suggust me.</p>\n"},{"tags":["java","http","tomcat10"],"comments":[{"owner":{"account_id":4474019,"reputation":26,"user_id":3639556,"display_name":"Selvam Ramasamy"},"score":0,"creation_date":1666259220,"post_id":74137690,"comment_id":130895748,"body_markdown":"https://stackoverflow.com/questions/24292373/spring-boot-rest-controller-how-to-return-different-http-status-codes","body":"<a href=\"https://stackoverflow.com/questions/24292373/spring-boot-rest-controller-how-to-return-different-http-status-codes\" title=\"spring boot rest controller how to return different http status codes\">stackoverflow.com/questions/24292373/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4474019,"reputation":26,"user_id":3639556,"display_name":"Selvam Ramasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667928441,"creation_date":1666259570,"answer_id":74137875,"question_id":74137690,"body_markdown":"You can use `ResponseEntity` with a status code:\r\n\r\n```java\r\n@GET\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic ResponseEntity&lt;List&lt;Alert&gt;&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\r\n    if (isValid(sessionId)) {\r\n        return new ResponseEntity&lt;&gt;(DatabaseAccess.getAlerts(), HttpStatus.OK);\r\n    }\r\n    return ResponseEntity.badRequest().body(&quot;Bad request&quot;)\r\n}\r\n```","title":"TomCat how to send an HTTP status code instead of the normal JSON response?","body":"<p>You can use <code>ResponseEntity</code> with a status code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Produces(MediaType.APPLICATION_JSON)\npublic ResponseEntity&lt;List&lt;Alert&gt;&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\n    if (isValid(sessionId)) {\n        return new ResponseEntity&lt;&gt;(DatabaseAccess.getAlerts(), HttpStatus.OK);\n    }\n    return ResponseEntity.badRequest().body(&quot;Bad request&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17015155,"reputation":138,"user_id":12309235,"display_name":"ANISH SAJI  KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667928719,"creation_date":1667928719,"answer_id":74364906,"question_id":74137690,"body_markdown":"If you want to send an HTTP status code instead of the normal JSON response, you can use the response.sendStatus() method.","title":"TomCat how to send an HTTP status code instead of the normal JSON response?","body":"<p>If you want to send an HTTP status code instead of the normal JSON response, you can use the response.sendStatus() method.</p>\n"}],"owner":{"account_id":23006244,"reputation":3,"user_id":17129483,"display_name":"Thijs0001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74137875,"answer_count":2,"score":0,"last_activity_date":1667928719,"creation_date":1666258872,"question_id":74137690,"body_markdown":"I&#39;m building a webserver in TomCat, and trying to implement a function that returns a list normally, but I want it to first check if the user has a valid session. If the user does not have a valid session I want to send back a response with http status code 403. How can I do this? I can only return an empty list. This is my current code:\r\n```@Path(&quot;/alerts&quot;)\r\npublic class AlertsResource {\r\n\t@Context\r\n\tUriInfo uriInfo;\r\n\t@Context\r\n\tRequest request;\r\n\r\n\t@GET\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic List&lt;Alert&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\r\n\t\tif (isValid(sessionId)) {\r\n\t\t\treturn DatabaseAccess.getAlerts();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n","title":"TomCat how to send an HTTP status code instead of the normal JSON response?","body":"<p>I'm building a webserver in TomCat, and trying to implement a function that returns a list normally, but I want it to first check if the user has a valid session. If the user does not have a valid session I want to send back a response with http status code 403. How can I do this? I can only return an empty list. This is my current code:</p>\n<pre><code>public class AlertsResource {\n    @Context\n    UriInfo uriInfo;\n    @Context\n    Request request;\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;Alert&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\n        if (isValid(sessionId)) {\n            return DatabaseAccess.getAlerts();\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","server","serversocket"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667928126,"post_id":74364736,"comment_id":131283120,"body_markdown":"put the IP address of the other computer instead of localhost?","body":"put the IP address of the other computer instead of localhost?"},{"owner":{"account_id":23710662,"reputation":11,"user_id":17732577,"display_name":"Francesco"},"score":0,"creation_date":1667928264,"post_id":74364736,"comment_id":131283171,"body_markdown":"Yeah, but I wanted to do it in an automatic way (if exists),without changing the IP address everytime I run the program on another computer","body":"Yeah, but I wanted to do it in an automatic way (if exists),without changing the IP address everytime I run the program on another computer"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667928301,"post_id":74364736,"comment_id":131283192,"body_markdown":"then how should your program know which other computer it is? There could be 2 computers, or 100, or 1000000. Imagine opening a web browser and not telling it which website to go to.","body":"then how should your program know which other computer it is? There could be 2 computers, or 100, or 1000000. Imagine opening a web browser and not telling it which website to go to."},{"owner":{"account_id":23710662,"reputation":11,"user_id":17732577,"display_name":"Francesco"},"score":0,"creation_date":1667928568,"post_id":74364736,"comment_id":131283298,"body_markdown":"Oh yes, you&#39;re right, I didn&#39;t think about it, I&#39;m sorry","body":"Oh yes, you&#39;re right, I didn&#39;t think about it, I&#39;m sorry"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667929149,"post_id":74364736,"comment_id":131283549,"body_markdown":"there are some programs that try to connect to &quot;the whole internet&quot; - like bitcoin - but it&#39;s not easy and they have to use many tricks to make it work. Making it automatically connect on *just your network* is possible, although I don&#39;t know how (I&#39;d have to find out) and you&#39;d still have to figure out what to do if there was more than one server","body":"there are some programs that try to connect to &quot;the whole internet&quot; - like bitcoin - but it&#39;s not easy and they have to use many tricks to make it work. Making it automatically connect on <i>just your network</i> is possible, although I don&#39;t know how (I&#39;d have to find out) and you&#39;d still have to figure out what to do if there was more than one server"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667929384,"post_id":74364736,"comment_id":131283639,"body_markdown":"Any arbitrary &quot;other computer&quot; is tricky as you would need to ensure that the address were routable and also that port forwarding were set up. If you want it to run on your own LAN, it should do so if you use the LAN IP address of the server. What are your intentions?","body":"Any arbitrary &quot;other computer&quot; is tricky as you would need to ensure that the address were routable and also that port forwarding were set up. If you want it to run on your own LAN, it should do so if you use the LAN IP address of the server. What are your intentions?"}],"owner":{"account_id":23710662,"reputation":11,"user_id":17732577,"display_name":"Francesco"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667927879,"creation_date":1667927879,"question_id":74364736,"body_markdown":"I&#39;m trying to make a connection unicast between a client and a server in Java. At the moment, I succeded in writing the code for making a connection between client and server only if the server is the localhost.\r\n\r\nCould you tell me how can I make the same connection, but assuming the server is on another computer? Thanks\r\n\r\nThis below is the file MyServer.java\r\n\r\n```lang-java\r\npackage clientserver;\r\nimport java.net.*;  \r\nimport java.io.*;\r\n\r\npublic class MyServer {\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        ServerSocket server=new ServerSocket(3333);\r\n        Socket client=server.accept();\r\n        \r\n        DataInputStream din=new DataInputStream(client.getInputStream());\r\n        DataOutputStream dout=new DataOutputStream(client.getOutputStream());\r\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n        \r\n        String strClient=&quot;&quot;,strServer=&quot;&quot;;\r\n        \r\n        while(!strClient.equals(&quot;stop&quot;)){  \r\n            strClient = din.readUTF();\r\n            System.out.println(&quot;Client: &quot;+strClient);\r\n\r\n            System.out.print(&quot;Enter a message to send to the client: &quot;);\r\n            strServer=br.readLine();\r\n            dout.writeUTF(strServer);\r\n        }\r\n        dout.close();\r\n        client.close();\r\n        server.close();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nThis below is the file MyClient.java\r\n\r\n```lang-java\r\npackage clientserver;\r\nimport java.net.*;  \r\nimport java.io.*;\r\n\r\npublic class MyClient {\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        Socket s = new Socket(&quot;localhost&quot;, 3333);\r\n        \r\n        DataInputStream din= new DataInputStream(s.getInputStream());\r\n        DataOutputStream dout= new DataOutputStream(s.getOutputStream());\r\n        BufferedReader br = new BufferedReader (new InputStreamReader(System.in));\r\n        \r\n        String strClient = &quot;&quot;, strServer =&quot;&quot;;\r\n        \r\n        while(!strClient.equals(&quot;stop&quot;)){\r\n            System.out.print(&quot;Enter a message to send to the server: &quot;);\r\n            strClient = br.readLine();\r\n            dout.writeUTF(strClient);\r\n            \r\n            strServer = din.readUTF();\r\n            System.out.println(&quot;Server: &quot;+strServer);\r\n        }\r\n        \r\n        dout.close();\r\n        s.close();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI think this line of code `Socket s = new Socket(&quot;localhost&quot;, 3333);` should change, but I don&#39;t know into what.\r\n\r\nI hope I wrote everything clear. Thanks for your help :D!\r\n","title":"Java Socket Remote Client-Server","body":"<p>I'm trying to make a connection unicast between a client and a server in Java. At the moment, I succeded in writing the code for making a connection between client and server only if the server is the localhost.</p>\n<p>Could you tell me how can I make the same connection, but assuming the server is on another computer? Thanks</p>\n<p>This below is the file MyServer.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package clientserver;\nimport java.net.*;  \nimport java.io.*;\n\npublic class MyServer {\n\n    public static void main(String[] args) throws Exception{\n        ServerSocket server=new ServerSocket(3333);\n        Socket client=server.accept();\n        \n        DataInputStream din=new DataInputStream(client.getInputStream());\n        DataOutputStream dout=new DataOutputStream(client.getOutputStream());\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        \n        String strClient=&quot;&quot;,strServer=&quot;&quot;;\n        \n        while(!strClient.equals(&quot;stop&quot;)){  \n            strClient = din.readUTF();\n            System.out.println(&quot;Client: &quot;+strClient);\n\n            System.out.print(&quot;Enter a message to send to the client: &quot;);\n            strServer=br.readLine();\n            dout.writeUTF(strServer);\n        }\n        dout.close();\n        client.close();\n        server.close();\n    }\n    \n}\n</code></pre>\n<p>This below is the file MyClient.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package clientserver;\nimport java.net.*;  \nimport java.io.*;\n\npublic class MyClient {\n\n    public static void main(String[] args) throws Exception{\n        Socket s = new Socket(&quot;localhost&quot;, 3333);\n        \n        DataInputStream din= new DataInputStream(s.getInputStream());\n        DataOutputStream dout= new DataOutputStream(s.getOutputStream());\n        BufferedReader br = new BufferedReader (new InputStreamReader(System.in));\n        \n        String strClient = &quot;&quot;, strServer =&quot;&quot;;\n        \n        while(!strClient.equals(&quot;stop&quot;)){\n            System.out.print(&quot;Enter a message to send to the server: &quot;);\n            strClient = br.readLine();\n            dout.writeUTF(strClient);\n            \n            strServer = din.readUTF();\n            System.out.println(&quot;Server: &quot;+strServer);\n        }\n        \n        dout.close();\n        s.close();\n    }\n    \n}\n</code></pre>\n<p>I think this line of code <code>Socket s = new Socket(&quot;localhost&quot;, 3333);</code> should change, but I don't know into what.</p>\n<p>I hope I wrote everything clear. Thanks for your help :D!</p>\n"},{"tags":["java","spring","spring-boot","gradle","intellij-idea"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667928315,"post_id":74364694,"comment_id":131283200,"body_markdown":"Your question is too vague. I could be anything. In general if your code compiles well after you deleted the class `MapStruct` it should run as well. Make sure that `MapStruct` is not used by any other client code or is e.g. referenced in a xml Spring context file.","body":"Your question is too vague. I could be anything. In general if your code compiles well after you deleted the class <code>MapStruct</code> it should run as well. Make sure that <code>MapStruct</code> is not used by any other client code or is e.g. referenced in a xml Spring context file."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667931165,"post_id":74364694,"comment_id":131284269,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26869802,"reputation":1,"user_id":20451984,"display_name":"Mudit Srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667927729,"creation_date":1667927729,"question_id":74364694,"body_markdown":"Now, Let&#39;s assume I&#39;m working in a branch &#39;feature&#39; of my project, and I write a MapStruct mapper interface and build/run it, but later on I find that I don&#39;t need this mapper, so I refactor and delete this file.\r\nNow, after I refactored and deleted this mapper interface, I tried running the application but am unable to do so, as it throws FileNotFoundException.\r\n\r\nAlso, when I undeleted the mapper interface, I am able to run the application.\r\n\r\n\r\nPS: \r\nLanguage - Java-11\r\nFramework - SpringBoot (Gradle)\r\nIDE - IntelliJ IDEA(CE)\r\n\r\n\r\nCan someone please help me find out the reason I&#39;m still getting this error?","title":"Mapstruct generating random mapper implementation class","body":"<p>Now, Let's assume I'm working in a branch 'feature' of my project, and I write a MapStruct mapper interface and build/run it, but later on I find that I don't need this mapper, so I refactor and delete this file.\nNow, after I refactored and deleted this mapper interface, I tried running the application but am unable to do so, as it throws FileNotFoundException.</p>\n<p>Also, when I undeleted the mapper interface, I am able to run the application.</p>\n<p>PS:\nLanguage - Java-11\nFramework - SpringBoot (Gradle)\nIDE - IntelliJ IDEA(CE)</p>\n<p>Can someone please help me find out the reason I'm still getting this error?</p>\n"},{"tags":["java","wicket","checkstyle","resourcebundle"],"comments":[{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":0,"creation_date":1491385025,"post_id":43203318,"comment_id":73524531,"body_markdown":"Just to be sure: Is it your goal to ensure that `Foo_demo.properties` contains only keys which also occur in `Foo.properties`? Or could `_demo` also include keys that are *not* present in `Foo`? In the latter case, you could simply turn off the check.","body":"Just to be sure: Is it your goal to ensure that <code>Foo_demo.properties</code> contains only keys which also occur in <code>Foo.properties</code>? Or could <code>_demo</code> also include keys that are <i>not</i> present in <code>Foo</code>? In the latter case, you could simply turn off the check."},{"owner":{"account_id":2255169,"reputation":3148,"user_id":1986499,"accept_rate":81,"display_name":"Imperative"},"score":0,"creation_date":1491475462,"post_id":43203318,"comment_id":73574389,"body_markdown":"The `_demo` (or `_demo_de` etc.) property files will only contain a subset of the original property keys. Right now i do apply a suppress for the Variation files, but would&#39;ve liked to check them too.","body":"The <code>_demo</code> (or <code>_demo_de</code> etc.) property files will only contain a subset of the original property keys. Right now i do apply a suppress for the Variation files, but would&#39;ve liked to check them too."},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":1,"creation_date":1491476444,"post_id":43203318,"comment_id":73575120,"body_markdown":"Gotcha. Then you&#39;re out of luck. Checkstyle can&#39;t do that at the moment (as of 7.6).","body":"Gotcha. Then you&#39;re out of luck. Checkstyle can&#39;t do that at the moment (as of 7.6)."}],"owner":{"account_id":2255169,"reputation":3148,"user_id":1986499,"accept_rate":81,"display_name":"Imperative"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667927263,"creation_date":1491298200,"question_id":43203318,"body_markdown":"I have two properties files, e.g. `Foo.properties` and `Foo_demo.properties`. Foo.properties has multiple entries. Foo_demo.propeties overides a subset of these entries.\r\n\r\nFoo.properties:\r\n\r\n    text1 = TXT 1\r\n    text2 = TXT 2\r\n    text3 = TXT 3\r\nFoo_demo.properties:\r\n\r\n    text1 = TXT 1 Override\r\n\r\nRunning Checkstyle with the Translation module on this will fail because of two missing translations of entries text2 and text3 in Foo_demo.properties.\r\n\r\nIs there a configuration for checkstyle that allows the specified resourcebundle structure?\r\n\r\nBackground: this is used in a Wicket application, where resourcebundles can be further parametrized with style and variation parameters, see [Wicket i18n][1]\r\n\r\n\r\n  [1]: https://ci.apache.org/projects/wicket/guide/6.x/guide/i18n.html#i18n_2","title":"Checkstyle ignore missing resourcebundle properties for variation","body":"<p>I have two properties files, e.g. <code>Foo.properties</code> and <code>Foo_demo.properties</code>. Foo.properties has multiple entries. Foo_demo.propeties overides a subset of these entries.</p>\n\n<p>Foo.properties:</p>\n\n<pre><code>text1 = TXT 1\ntext2 = TXT 2\ntext3 = TXT 3\n</code></pre>\n\n<p>Foo_demo.properties:</p>\n\n<pre><code>text1 = TXT 1 Override\n</code></pre>\n\n<p>Running Checkstyle with the Translation module on this will fail because of two missing translations of entries text2 and text3 in Foo_demo.properties.</p>\n\n<p>Is there a configuration for checkstyle that allows the specified resourcebundle structure?</p>\n\n<p>Background: this is used in a Wicket application, where resourcebundles can be further parametrized with style and variation parameters, see <a href=\"https://ci.apache.org/projects/wicket/guide/6.x/guide/i18n.html#i18n_2\" rel=\"nofollow noreferrer\">Wicket i18n</a></p>\n"},{"tags":["java","arrays","error-handling","integer","java.util.scanner"],"comments":[{"owner":{"display_name":"user2663434"},"score":0,"creation_date":1381118754,"post_id":19216864,"comment_id":28439417,"body_markdown":"possible duplicate of: http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java","body":"possible duplicate of: <a href=\"http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java\" title=\"determine if a string is an integer in java\">stackoverflow.com/questions/5439529/&hellip;</a>"},{"owner":{"account_id":2326070,"reputation":5010,"user_id":2040569,"accept_rate":78,"display_name":"Austin T French"},"score":0,"creation_date":1381118838,"post_id":19216864,"comment_id":28439434,"body_markdown":"A foreach and then something like http://stackoverflow.com/questions/8391979/does-java-have-a-int-tryparse-that-doesnt-throw-an-exception-for-bad-data","body":"A foreach and then something like <a href=\"http://stackoverflow.com/questions/8391979/does-java-have-a-int-tryparse-that-doesnt-throw-an-exception-for-bad-data\" title=\"does java have a int tryparse that doesnt throw an exception for bad data\">stackoverflow.com/questions/8391979/&hellip;</a>"},{"owner":{"account_id":3400847,"reputation":1,"user_id":2853036,"display_name":"Kevin Grant"},"score":0,"creation_date":1381119738,"post_id":19216864,"comment_id":28439598,"body_markdown":"in what way would i implement the foreach?","body":"in what way would i implement the foreach?"}],"answers":[{"comments":[{"owner":{"account_id":334019,"reputation":2532,"user_id":660187,"accept_rate":100,"display_name":"Afra"},"score":0,"creation_date":1453884015,"post_id":19217026,"comment_id":57790078,"body_markdown":"This is not good...catching exceptions for every item in the array that is not a number is bad. Use int.TryParse instead","body":"This is not good...catching exceptions for every item in the array that is not a number is bad. Use int.TryParse instead"}],"tags":[],"owner":{"account_id":1536909,"reputation":36,"user_id":1432692,"display_name":"astennent"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1381119741,"creation_date":1381119741,"answer_id":19217026,"question_id":19216864,"body_markdown":"Using the String you made with the scanner, loop over a space-delimited list and check that each element is an integer. If they all pass, return true; otherwise return false. \r\n\r\nCredit for the isInteger check goes to https://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java\r\n\r\n    public static boolean containsAllIntegers(String integers){\r\n       String[] newArray = integers.split(&quot; &quot;);\r\n       //loop over the array; if any value isnt an integer return false.\r\n       for (String integer : newArray){\r\n          if (!isInteger(integer)){\r\n             return false;\r\n          }   \r\n       }   \r\n       return true;\r\n    }\r\n\r\n    public static boolean isInteger(String s) {\r\n      try { \r\n          Integer.parseInt(s); \r\n       } catch(NumberFormatException e) { \r\n          return false; \r\n       }\r\n       // only got here if we didn&#39;t return false\r\n       return true;\r\n    }","title":"How to check if each element in a string array is an integer?","body":"<p>Using the String you made with the scanner, loop over a space-delimited list and check that each element is an integer. If they all pass, return true; otherwise return false. </p>\n\n<p>Credit for the isInteger check goes to <a href=\"https://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java\">Determine if a String is an Integer in Java</a></p>\n\n<pre><code>public static boolean containsAllIntegers(String integers){\n   String[] newArray = integers.split(\" \");\n   //loop over the array; if any value isnt an integer return false.\n   for (String integer : newArray){\n      if (!isInteger(integer)){\n         return false;\n      }   \n   }   \n   return true;\n}\n\npublic static boolean isInteger(String s) {\n  try { \n      Integer.parseInt(s); \n   } catch(NumberFormatException e) { \n      return false; \n   }\n   // only got here if we didn't return false\n   return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21940554,"reputation":11,"user_id":16221166,"display_name":"vinaykala58"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667927221,"creation_date":1667820408,"answer_id":74345848,"question_id":19216864,"body_markdown":"//we can use regex as well like below if anyone is still searching for the answer\r\n\r\npublic class testclass3 {\r\n\t\r\n\tpublic static boolean findStringValues(String o, Integer len) {\r\n\t\t\r\n\t\tif (((o.replaceAll(&quot;[0-9]&quot;, &quot;&quot;)).length())==len) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] strValues = {&quot;ABX&quot;,&quot;XYZ&quot;,&quot;1234&quot;,&quot;PUNE30&quot;};\r\n\t\tint count=0;\r\n\t\tfor(int i=0;i&lt;strValues.length;i++) {\r\n\t\t\t if(!(findStringValues(strValues[i],strValues[i].length()))) {\r\n\t\t\t\t count = count +1;\r\n\t\t\t }\r\n\t\t}System.out.println(count);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n//OR if your array is an object array with Integer and String values the below implementation should work\r\n\r\n\tpublic void findPureStringCount() {\r\n\t\tint count=0;\r\n\t\tObject[] arrStr = {123,&quot;abc&quot;,&quot;abc123&quot;};\r\n\t\tfor(Object str : arrStr) {\r\n\t\t\tif (str instanceof String) {\r\n\t\t\t\tcount = count+1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(count);\r\n\t}","title":"How to check if each element in a string array is an integer?","body":"<p>//we can use regex as well like below if anyone is still searching for the answer</p>\n<p>public class testclass3 {</p>\n<pre><code>public static boolean findStringValues(String o, Integer len) {\n    \n    if (((o.replaceAll(&quot;[0-9]&quot;, &quot;&quot;)).length())==len) {\n        return true;\n    }\n    \n    return false;\n}\n\npublic static void main(String[] args) {\n    String[] strValues = {&quot;ABX&quot;,&quot;XYZ&quot;,&quot;1234&quot;,&quot;PUNE30&quot;};\n    int count=0;\n    for(int i=0;i&lt;strValues.length;i++) {\n         if(!(findStringValues(strValues[i],strValues[i].length()))) {\n             count = count +1;\n         }\n    }System.out.println(count);\n    \n}\n</code></pre>\n<p>}</p>\n<p>//OR if your array is an object array with Integer and String values the below implementation should work</p>\n<pre><code>public void findPureStringCount() {\n    int count=0;\n    Object[] arrStr = {123,&quot;abc&quot;,&quot;abc123&quot;};\n    for(Object str : arrStr) {\n        if (str instanceof String) {\n            count = count+1;\n        }\n    }\n    System.out.println(count);\n}\n</code></pre>\n"}],"owner":{"account_id":3400847,"reputation":1,"user_id":2853036,"display_name":"Kevin Grant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19217026,"answer_count":2,"score":0,"last_activity_date":1667927221,"creation_date":1381118617,"question_id":19216864,"body_markdown":"    \r\nI&#39;m attempting an error check that determines whether all the the elements of an array are integers, i&#39;ve been stuck for a long time though. any ideas on how to get started would be helpful.\r\n\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;Please list at least one and up to 10 integers: &quot;);\r\n    String integers = scan.nextLine();\r\n\r\n    String[] newArray = integers.split(&quot;&quot;);","title":"How to check if each element in a string array is an integer?","body":"<p>I'm attempting an error check that determines whether all the the elements of an array are integers, i've been stuck for a long time though. any ideas on how to get started would be helpful.</p>\n\n<pre><code>Scanner scan = new Scanner(System.in);\n\nSystem.out.print(\"Please list at least one and up to 10 integers: \");\nString integers = scan.nextLine();\n\nString[] newArray = integers.split(\"\");\n</code></pre>\n"},{"tags":["java","bash","maven","junit","serenity-bdd"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667927479,"post_id":74364577,"comment_id":131282902,"body_markdown":"First you should use `mvn clean verify -s ..` instead of calling the goal instead of using the life cycle...","body":"First you should use <code>mvn clean verify -s ..</code> instead of calling the goal instead of using the life cycle..."},{"owner":{"account_id":5425221,"reputation":32160,"user_id":7366100,"display_name":"markp-fuso"},"score":1,"creation_date":1667927484,"post_id":74364577,"comment_id":131282905,"body_markdown":"based on the sample output ... what would you be looking for to indicate an issue? will it be sufficient to look for the string `[ERROR]`? are there other strings that need to be considered? would a simple `grep` of the output be sufficient or is there more to consider?","body":"based on the sample output ... what would you be looking for to indicate an issue? will it be sufficient to look for the string <code>[ERROR]</code>? are there other strings that need to be considered? would a simple <code>grep</code> of the output be sufficient or is there more to consider?"},{"owner":{"account_id":968842,"reputation":45626,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"score":0,"creation_date":1667927789,"post_id":74364577,"comment_id":131283017,"body_markdown":"@markp-fuso I was hoping to not have to grep for error strings.","body":"@markp-fuso I was hoping to not have to grep for error strings."},{"owner":{"account_id":968842,"reputation":45626,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"score":0,"creation_date":1667928007,"post_id":74364577,"comment_id":131283081,"body_markdown":"@khmarbaise I still get code 0 with this.","body":"@khmarbaise I still get code 0 with this."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667931172,"post_id":74364577,"comment_id":131284272,"body_markdown":"The test you are executing is failing... which looks like an integration test which should be executed via maven-failsafe-plugin... The error is: `UnsatisfiedDependency Error creating bean with name &#39;com.xxx...` furthermore you should configure maven-failsafe-plugin via `&lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;` because you seemed to using an older version before 3.0.0-MXX","body":"The test you are executing is failing... which looks like an integration test which should be executed via maven-failsafe-plugin... The error is: <code>UnsatisfiedDependency Error creating bean with name &#39;com.xxx...</code> furthermore you should configure maven-failsafe-plugin via <code>&lt;trimStackTrace&gt;false&lt;&#47;trimStackTrace&gt;</code> because you seemed to using an older version before 3.0.0-MXX"},{"owner":{"account_id":3085839,"reputation":1615,"user_id":9716110,"display_name":"Eric Marceau"},"score":1,"creation_date":1667943068,"post_id":74364577,"comment_id":131287923,"body_markdown":"If you aren&#39;t the original author of that program, maybe the testing program is successfully reporting that all unit-testing was &quot;performed&quot; successfully, but that one of those units failed the test in question.  There might in fact be no problem with &quot;what&quot; was reported, and that it is giving direction as to where to focus the next phase of debugging efforts.  Also, if make did not set the proper conditional, build could proceed without all the pieces you expected, under the &quot;wrong&quot; conditions.","body":"If you aren&#39;t the original author of that program, maybe the testing program is successfully reporting that all unit-testing was &quot;performed&quot; successfully, but that one of those units failed the test in question.  There might in fact be no problem with &quot;what&quot; was reported, and that it is giving direction as to where to focus the next phase of debugging efforts.  Also, if make did not set the proper conditional, build could proceed without all the pieces you expected, under the &quot;wrong&quot; conditions."}],"owner":{"account_id":968842,"reputation":45626,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667927182,"creation_date":1667927182,"question_id":74364577,"body_markdown":"I have this bash command that runs some integration tests\r\n\r\n    mvn clean test-compile failsafe:integration-test -s ./settings.xml\r\n\r\nThis command results in this output.\r\n\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Errors: \r\n    [ERROR]   MyJavaIntegrationTestClass &#187; UnsatisfiedDependency Error creating bean with name &#39;com.xxx...\r\n    [INFO] \r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n    [INFO] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  39.037 s\r\n    [INFO] Finished at: 2022-11-08T16:42:26Z\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\nThe problem here is that the code does not even compile and even says that there is 1 error but still I get a successful build.  I tried to capture the error code from the call and got a 0 (success) so couldn&#39;t use the error code to decide whether the tests ran ok or not.  What I am trying to do is fail the script if there are any compilation or test run failures and pass the script if there are not.  How can I achieve this?","title":"How to get error code from compiling integration tests","body":"<p>I have this bash command that runs some integration tests</p>\n<pre><code>mvn clean test-compile failsafe:integration-test -s ./settings.xml\n</code></pre>\n<p>This command results in this output.</p>\n<pre><code>[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   MyJavaIntegrationTestClass » UnsatisfiedDependency Error creating bean with name 'com.xxx...\n[INFO] \n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  39.037 s\n[INFO] Finished at: 2022-11-08T16:42:26Z\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>The problem here is that the code does not even compile and even says that there is 1 error but still I get a successful build.  I tried to capture the error code from the call and got a 0 (success) so couldn't use the error code to decide whether the tests ran ok or not.  What I am trying to do is fail the script if there are any compilation or test run failures and pass the script if there are not.  How can I achieve this?</p>\n"},{"tags":["java","string","combinatorics"],"comments":[{"owner":{"account_id":906710,"reputation":191,"user_id":4317000,"display_name":"Marwa Eldawy"},"score":0,"creation_date":1574541488,"post_id":59011851,"comment_id":104271678,"body_markdown":"Based on what are the variables in your example assigned the values 1,2 and 3 ? because number of known characters in the string is 3? namely, A,B and C?","body":"Based on what are the variables in your example assigned the values 1,2 and 3 ? because number of known characters in the string is 3? namely, A,B and C?"},{"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"score":0,"creation_date":1574541767,"post_id":59011851,"comment_id":104271770,"body_markdown":"@MarwaEldawy 0 is a variable that should be detected from the input. So A, B and C are known and shouldn&#39;t be changed. Another example: A00BC, there we again have 9 different combinations with numbers 1, 2 and 3: A11BC, A12BC, A13BC, A21BC, A22BC, A23BC, A31BC, A32BC, A33BC.","body":"@MarwaEldawy 0 is a variable that should be detected from the input. So A, B and C are known and shouldn&#39;t be changed. Another example: A00BC, there we again have 9 different combinations with numbers 1, 2 and 3: A11BC, A12BC, A13BC, A21BC, A22BC, A23BC, A31BC, A32BC, A33BC."},{"owner":{"account_id":906710,"reputation":191,"user_id":4317000,"display_name":"Marwa Eldawy"},"score":1,"creation_date":1574542057,"post_id":59011851,"comment_id":104271834,"body_markdown":"I understand this example. My question is: If we have a string like this: A00BCDE. What values should 00 take? 1,2 and 3 also? What about this example: A0000 ? what values should 0000 take ?","body":"I understand this example. My question is: If we have a string like this: A00BCDE. What values should 00 take? 1,2 and 3 also? What about this example: A0000 ? what values should 0000 take ?"},{"owner":{"account_id":906710,"reputation":191,"user_id":4317000,"display_name":"Marwa Eldawy"},"score":0,"creation_date":1574542217,"post_id":59011851,"comment_id":104271881,"body_markdown":"Or maybe you mean the string will always contain 5 characters, with 2 variables?","body":"Or maybe you mean the string will always contain 5 characters, with 2 variables?"},{"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"score":1,"creation_date":1574543604,"post_id":59011851,"comment_id":104272248,"body_markdown":"@MarwaEldawy There are always 5 characters where we can have one to four zero&#39;s, that need to be replaced with our values, that are always 1, 2, 3. By math, with two variables we get 3^2=9 combinations, with 3 variables we get 3^3=27 combinations, and with 4 variables we get 3^4=81 combinations.","body":"@MarwaEldawy There are always 5 characters where we can have one to four zero&#39;s, that need to be replaced with our values, that are always 1, 2, 3. By math, with two variables we get 3^2=9 combinations, with 3 variables we get 3^3=27 combinations, and with 4 variables we get 3^4=81 combinations."}],"answers":[{"comments":[{"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"score":0,"creation_date":1574558832,"post_id":59012687,"comment_id":104275196,"body_markdown":"Does perfectly the job. Thank you very much!","body":"Does perfectly the job. Thank you very much!"}],"tags":[],"owner":{"account_id":1049500,"reputation":648,"user_id":1053761,"display_name":"rzehan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667927005,"creation_date":1574546651,"answer_id":59012687,"question_id":59011851,"body_markdown":"What about this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n \r\n    public class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\r\n        String input = scanner.next();\r\n\r\n        //find positions of &#39;0&#39; in input\r\n        List&lt;Integer&gt; varPositions = findVarPositions(input);\r\n\r\n        //create permutations\r\n        List&lt;String&gt; permutations = new ArrayList&lt;&gt;();\r\n        permutations.add(input);//AB0C0\r\n        for (int position : varPositions) {\r\n            permutations = permutateAtPosition(permutations, position);\r\n        }\r\n\r\n        //print permutations\r\n        for (String permutation : permutations) {\r\n            System.out.println(permutation.toUpperCase());\r\n        }\r\n    }\r\n\r\n    private static List&lt;Integer&gt; findVarPositions(String input) {\r\n        List&lt;Integer&gt; varPositions = new ArrayList&lt;&gt;();\r\n        int lastVarPosition = -1;\r\n        while ((lastVarPosition = input.indexOf(&#39;0&#39;, lastVarPosition + 1)) != -1) {\r\n            varPositions.add(lastVarPosition);\r\n        }\r\n        return varPositions;\r\n    }\r\n\r\n    private static List&lt;String&gt; permutateAtPosition(List&lt;String&gt; partialyPermutated, int position) {\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        char[] replacements = {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;};\r\n        for (String item : partialyPermutated) {\r\n            for (int i = 0; i &lt; replacements.length; i++) {\r\n                String output = replaceCharAt(item, position, replacements[i]);\r\n                result.add(output);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static String replaceCharAt(String input, int position, char replacement) {\r\n        //converting to char array, because there&#39;s no method like\r\n        //String.replaceAtPosition(position, char)\r\n        char[] charArray = input.toCharArray();\r\n        charArray[position] = replacement;\r\n        return new String(charArray);\r\n    }\r\n\r\n    }\r\n\r\nIt&#39;s not fixed to a number of variables. \r\n\r\nThe idea is to extract positions of &#39;0&#39; and subsequently call the method `permutateAtPosition`, which takes a partially permutated list and permutates it by one more level. \r\n\r\nFor &quot;a0b0c0&quot; and values 1-2 it would be `[&#39;a0b0c0&#39;]`, then `[&#39;a1b0c0&#39;,&#39;a2b0c0&#39;]`, then `[&#39;a1b1c0&#39;,&#39;a1b2c0&#39;,&#39;a2b1c0&#39;,&#39;a2b2c0&#39;]`, and finally `[&#39;a1b1c1&#39;,&#39;a1b1c2&#39;,&#39;a1b2c1&#39;,&#39;a1b2c2&#39;,&#39;a2b1c1&#39;,&#39;a2b1c2&#39;,&#39;a2b2c1&#39;&#39;a2b2c2&#39;]`.\r\n\r\nThis solution keeps everything in memory, so in the general case (unlimited input string) it would be wiser to go with depth-first instead.\r\n\r\n\r\n","title":"Replacing String in Java to get all variations","body":"<p>What about this:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\npublic static void main(String[] args) throws Exception {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\n    String input = scanner.next();\n\n    //find positions of '0' in input\n    List&lt;Integer&gt; varPositions = findVarPositions(input);\n\n    //create permutations\n    List&lt;String&gt; permutations = new ArrayList&lt;&gt;();\n    permutations.add(input);//AB0C0\n    for (int position : varPositions) {\n        permutations = permutateAtPosition(permutations, position);\n    }\n\n    //print permutations\n    for (String permutation : permutations) {\n        System.out.println(permutation.toUpperCase());\n    }\n}\n\nprivate static List&lt;Integer&gt; findVarPositions(String input) {\n    List&lt;Integer&gt; varPositions = new ArrayList&lt;&gt;();\n    int lastVarPosition = -1;\n    while ((lastVarPosition = input.indexOf('0', lastVarPosition + 1)) != -1) {\n        varPositions.add(lastVarPosition);\n    }\n    return varPositions;\n}\n\nprivate static List&lt;String&gt; permutateAtPosition(List&lt;String&gt; partialyPermutated, int position) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    char[] replacements = {'1', '2', '3', '4', '5'};\n    for (String item : partialyPermutated) {\n        for (int i = 0; i &lt; replacements.length; i++) {\n            String output = replaceCharAt(item, position, replacements[i]);\n            result.add(output);\n        }\n    }\n    return result;\n}\n\nprivate static String replaceCharAt(String input, int position, char replacement) {\n    //converting to char array, because there's no method like\n    //String.replaceAtPosition(position, char)\n    char[] charArray = input.toCharArray();\n    charArray[position] = replacement;\n    return new String(charArray);\n}\n\n}\n</code></pre>\n<p>It's not fixed to a number of variables.</p>\n<p>The idea is to extract positions of '0' and subsequently call the method <code>permutateAtPosition</code>, which takes a partially permutated list and permutates it by one more level.</p>\n<p>For &quot;a0b0c0&quot; and values 1-2 it would be <code>['a0b0c0']</code>, then <code>['a1b0c0','a2b0c0']</code>, then <code>['a1b1c0','a1b2c0','a2b1c0','a2b2c0']</code>, and finally <code>['a1b1c1','a1b1c2','a1b2c1','a1b2c2','a2b1c1','a2b1c2','a2b2c1''a2b2c2']</code>.</p>\n<p>This solution keeps everything in memory, so in the general case (unlimited input string) it would be wiser to go with depth-first instead.</p>\n"},{"comments":[{"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"score":0,"creation_date":1574558741,"post_id":59012774,"comment_id":104275181,"body_markdown":"Thank you for posting. I really like the concept, because it&#39;s so universal to use for more cases. Could you further elaborate how to deal with the &quot;format&quot; defined in the last String? I don&#39;t see another reference to it in the code.","body":"Thank you for posting. I really like the concept, because it&#39;s so universal to use for more cases. Could you further elaborate how to deal with the &quot;format&quot; defined in the last String? I don&#39;t see another reference to it in the code."},{"owner":{"account_id":12635898,"reputation":66,"user_id":9185318,"display_name":"Joeri De Plecker"},"score":0,"creation_date":1574607510,"post_id":59012774,"comment_id":104283878,"body_markdown":"Yes, it&#39;s String.format(). What it does is formatting a string and inputs variables to that string. In this case I used the padding function to add spaces in front of the actual number so &quot;3&quot; becomes &quot; 3&quot; if variableCount is 2. Those spaces get then replaced by 0&#39;s. So it becomes &quot;03&quot; instead.","body":"Yes, it&#39;s String.format(). What it does is formatting a string and inputs variables to that string. In this case I used the padding function to add spaces in front of the actual number so &quot;3&quot; becomes &quot; 3&quot; if variableCount is 2. Those spaces get then replaced by 0&#39;s. So it becomes &quot;03&quot; instead."}],"tags":[],"owner":{"account_id":12635898,"reputation":66,"user_id":9185318,"display_name":"Joeri De Plecker"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574547298,"creation_date":1574547298,"answer_id":59012774,"question_id":59011851,"body_markdown":"I&#39;ve got another solution for you.\r\nFirst step, getting the amount of variables:\r\n\r\n    int variableCount = 0;\r\n    for (int i = 0; i &lt; 5; i++) {\r\n        if (input.charAt(i) == &#39;0&#39;) {\r\n            variableCount++;\r\n        }\r\n    }\r\n\r\nThen calculating the amount of results we are expecting:\r\n\r\n    int countMax = (int)Math.pow(4,variableCount);\r\n\r\nLastly, count up in base 4. Pad the number with 0&#39;s and replace the original input 0&#39;s:\r\n\r\n    for (int i = 0; i &lt; countMax; i++) {\r\n        String paddedNumbers = format(&quot;%&quot; + variableCount + &quot;s&quot;,Integer.toString(i, 4)).replace(&quot; &quot;, &quot;0&quot;);\r\n        int replacedCount = 0;\r\n        char[] outputChars = input.toCharArray();\r\n        for (int j = 0; j &lt; 5; j++) {\r\n            if (input.charAt(j) == &#39;0&#39;) {\r\n                outputChars[j] = paddedNumbers.charAt(replacedCount);\r\n                replacedCount++;\r\n            }\r\n        }\r\n        System.out.println(outputChars);\r\n    }","title":"Replacing String in Java to get all variations","body":"<p>I've got another solution for you.\nFirst step, getting the amount of variables:</p>\n\n<pre><code>int variableCount = 0;\nfor (int i = 0; i &lt; 5; i++) {\n    if (input.charAt(i) == '0') {\n        variableCount++;\n    }\n}\n</code></pre>\n\n<p>Then calculating the amount of results we are expecting:</p>\n\n<pre><code>int countMax = (int)Math.pow(4,variableCount);\n</code></pre>\n\n<p>Lastly, count up in base 4. Pad the number with 0's and replace the original input 0's:</p>\n\n<pre><code>for (int i = 0; i &lt; countMax; i++) {\n    String paddedNumbers = format(\"%\" + variableCount + \"s\",Integer.toString(i, 4)).replace(\" \", \"0\");\n    int replacedCount = 0;\n    char[] outputChars = input.toCharArray();\n    for (int j = 0; j &lt; 5; j++) {\n        if (input.charAt(j) == '0') {\n            outputChars[j] = paddedNumbers.charAt(replacedCount);\n            replacedCount++;\n        }\n    }\n    System.out.println(outputChars);\n}\n</code></pre>\n"}],"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59012687,"answer_count":2,"score":0,"last_activity_date":1667927005,"creation_date":1574540240,"question_id":59011851,"body_markdown":"I&#39;m trying to get a printout of all variations of a certain String. For example, we have this input: AB0C0. The 0 in the 3rd and 5th spots should be treated as variables. The variable characters are 1, 2, and 3 to be placed in the spot of 0. This means there would be all possible variations of this input:\r\n\r\n 1. AB1C1\r\n 2. AB2C1\r\n 3. AB3C1\r\n 4. AB1C2\r\n 5. AB1C3\r\n 6. AB2C2\r\n 7. AB2C3\r\n 8. AB3C2\r\n 9. AB3C3\r\n\r\nThis is just an example. A 5-character long string is a place for 1 to 5 variables. The issue I&#39;m facing is, that it should generate all variations no matter how many variables are in the input in no matter in which place they are.\r\n\r\n    Scanner scanner = new Scanner (System.in);\r\n    System.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\r\n    String input = scanner.next();\r\n    String strOutput1 = input.replaceFirst(&quot;0&quot;,&quot;1&quot;);\r\n    String strOutput1A = input.replace(&quot;0&quot;,&quot;1&quot;);\r\n    String strOutput2 = input.replaceFirst(&quot;0&quot;,&quot;2&quot;);\r\n    String strOutput3 = input.replaceFirst(&quot;0&quot;,&quot;3&quot;);\r\n    String strOutput4 = input.replaceFirst(&quot;0&quot;,&quot;4&quot;);\r\n    String strOutput5 = input.replaceFirst(&quot;0&quot;,&quot;5&quot;);\r\n    System.out.println(strOutput1.toUpperCase());\r\n    System.out.println(strOutput1A.toUpperCase());\r\n    System.out.println(strOutput2.toUpperCase());\r\n    System.out.println(strOutput3.toUpperCase());\r\n    System.out.println(strOutput4.toUpperCase());\r\n    System.out.println(strOutput5.toUpperCase());","title":"Replacing String in Java to get all variations","body":"<p>I'm trying to get a printout of all variations of a certain String. For example, we have this input: AB0C0. The 0 in the 3rd and 5th spots should be treated as variables. The variable characters are 1, 2, and 3 to be placed in the spot of 0. This means there would be all possible variations of this input:</p>\n<ol>\n<li>AB1C1</li>\n<li>AB2C1</li>\n<li>AB3C1</li>\n<li>AB1C2</li>\n<li>AB1C3</li>\n<li>AB2C2</li>\n<li>AB2C3</li>\n<li>AB3C2</li>\n<li>AB3C3</li>\n</ol>\n<p>This is just an example. A 5-character long string is a place for 1 to 5 variables. The issue I'm facing is, that it should generate all variations no matter how many variables are in the input in no matter in which place they are.</p>\n<pre><code>Scanner scanner = new Scanner (System.in);\nSystem.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\nString input = scanner.next();\nString strOutput1 = input.replaceFirst(&quot;0&quot;,&quot;1&quot;);\nString strOutput1A = input.replace(&quot;0&quot;,&quot;1&quot;);\nString strOutput2 = input.replaceFirst(&quot;0&quot;,&quot;2&quot;);\nString strOutput3 = input.replaceFirst(&quot;0&quot;,&quot;3&quot;);\nString strOutput4 = input.replaceFirst(&quot;0&quot;,&quot;4&quot;);\nString strOutput5 = input.replaceFirst(&quot;0&quot;,&quot;5&quot;);\nSystem.out.println(strOutput1.toUpperCase());\nSystem.out.println(strOutput1A.toUpperCase());\nSystem.out.println(strOutput2.toUpperCase());\nSystem.out.println(strOutput3.toUpperCase());\nSystem.out.println(strOutput4.toUpperCase());\nSystem.out.println(strOutput5.toUpperCase());\n</code></pre>\n"},{"tags":["java","android","fragment","navbar","tablayout"],"answers":[{"tags":[],"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667926975,"creation_date":1667926975,"answer_id":74364535,"question_id":74364494,"body_markdown":"This worked well and I&#39;m even thinking of ditching the navbar in the future because it was so much more complex.","title":"How to make a navbar in a fragment android studio","body":"<p>This worked well and I'm even thinking of ditching the navbar in the future because it was so much more complex.</p>\n"}],"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667926975,"creation_date":1667926802,"question_id":74364494,"body_markdown":"I was running into some trouble making a navbar in a fragment that was loaded by a different navbar. \r\n\r\nBasically trying to solve the problem of having a menu in a fragment that was accessed by a navbar. \r\n\r\nThe easiest thing turned out to be creating a tablayout in the fragment. Here&#39;s the tutorial I followed: https://www.youtube.com/watch?v=pIKdHeOjYNw\r\n\r\nHere&#39;s the basic code:\r\n\r\n**Main Fragment**\r\n\r\n    public class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        \r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        TabLayout tabLayout = root.findViewById(R.id.tabLayout);\r\n        ViewPager2 viewPager2 = root.findViewById(R.id.viewPagerHomeScreen);\r\n        ViewPagerAdapter viewPagerAdapter = new ViewPagerAdapter(this);\r\n        viewPager2.setAdapter(viewPagerAdapter);\r\n\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                viewPager2.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    private class ViewPagerAdapter extends FragmentStateAdapter {\r\n\r\n\r\n        public ViewPagerAdapter(@NonNull Fragment fragment) {\r\n            super(fragment);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            switch (position){\r\n                case 0 :\r\n                    return new HomeScreenMembership();\r\n                case 1 :\r\n                    return new HomeScreenCreatedClubs();\r\n                default :\r\n                    return new HomeScreenMembership();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return 2;\r\n        }\r\n    }\r\n\r\n\r\n**Main Fragment XMl**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/membership_tab&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/created_clubs_tab&quot; /&gt;\r\n\r\n\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/viewPagerHomeScreen&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**One of the Fragments For One Of the Tabs**\r\n(the rest were almost identical)\r\n\r\n```\r\npackage com.freedommuskrats.clubbub.ui.home;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.freedommuskrats.clubbub.R;\r\n\r\n\r\npublic class HomeScreenCreatedClubs extends Fragment {\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_home_screen_created_clubs, container, false);\r\n    }\r\n}\r\n```\r\n\r\n**XML for that fragment**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.home.HomeScreenCreatedClubs&quot;&gt;\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:text=&quot;Created&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n\r\n","title":"How to make a navbar in a fragment android studio","body":"<p>I was running into some trouble making a navbar in a fragment that was loaded by a different navbar.</p>\n<p>Basically trying to solve the problem of having a menu in a fragment that was accessed by a navbar.</p>\n<p>The easiest thing turned out to be creating a tablayout in the fragment. Here's the tutorial I followed: <a href=\"https://www.youtube.com/watch?v=pIKdHeOjYNw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=pIKdHeOjYNw</a></p>\n<p>Here's the basic code:</p>\n<p><strong>Main Fragment</strong></p>\n<pre><code>public class HomeFragment extends Fragment {\n\nprivate FragmentHomeBinding binding;\n\npublic View onCreateView(@NonNull LayoutInflater inflater,\n                         ViewGroup container, Bundle savedInstanceState) {\n    \n    binding = FragmentHomeBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n\n    TabLayout tabLayout = root.findViewById(R.id.tabLayout);\n    ViewPager2 viewPager2 = root.findViewById(R.id.viewPagerHomeScreen);\n    ViewPagerAdapter viewPagerAdapter = new ViewPagerAdapter(this);\n    viewPager2.setAdapter(viewPagerAdapter);\n\n    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n            viewPager2.setCurrentItem(tab.getPosition());\n        }\n\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n\n        }\n\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n\n        }\n    });\n\n    return root;\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n    binding = null;\n}\n\nprivate class ViewPagerAdapter extends FragmentStateAdapter {\n\n\n    public ViewPagerAdapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position){\n            case 0 :\n                return new HomeScreenMembership();\n            case 1 :\n                return new HomeScreenCreatedClubs();\n            default :\n                return new HomeScreenMembership();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return 2;\n    }\n}\n</code></pre>\n<p><strong>Main Fragment XMl</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tabLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/membership_tab&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/created_clubs_tab&quot; /&gt;\n\n\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/viewPagerHomeScreen&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>One of the Fragments For One Of the Tabs</strong>\n(the rest were almost identical)</p>\n<pre><code>package com.freedommuskrats.clubbub.ui.home;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.freedommuskrats.clubbub.R;\n\n\npublic class HomeScreenCreatedClubs extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_home_screen_created_clubs, container, false);\n    }\n}\n</code></pre>\n<p><strong>XML for that fragment</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeScreenCreatedClubs&quot;&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;Created&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":2552656,"reputation":2755,"user_id":2216129,"accept_rate":58,"display_name":"Topological Sort"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459185942,"creation_date":1459185942,"answer_id":36267411,"question_id":36266563,"body_markdown":"    for (int i = 0; i &lt; q.length(); i++) //as before, but a little simplified...\r\n        if (q.charAt(i) != q.charAt(i)) \r\n             locations.add(i);\r\n        \r\n    //Now we&#39;re going to create those variations.\r\n\r\n    toReturn.add(q);  //Start with the first string\r\n\r\n    for each location we found\r\n       Additions = a new empty list of Strings\r\n       for each element in toReturn\r\n          create a new String which is a copy of that element\r\n          alter its location-th character to match the corresponding char in qW\r\n          append it to Additions\r\n       append Additions to toReturn\r\n\r\nWhen this is done, toReturn should start with q and end with qW, and have all variations between.  ","title":"Creating all variations based on the differences of two Strings","body":"<pre><code>for (int i = 0; i &lt; q.length(); i++) //as before, but a little simplified...\n    if (q.charAt(i) != q.charAt(i)) \n         locations.add(i);\n\n//Now we're going to create those variations.\n\ntoReturn.add(q);  //Start with the first string\n\nfor each location we found\n   Additions = a new empty list of Strings\n   for each element in toReturn\n      create a new String which is a copy of that element\n      alter its location-th character to match the corresponding char in qW\n      append it to Additions\n   append Additions to toReturn\n</code></pre>\n\n<p>When this is done, toReturn should start with q and end with qW, and have all variations between.  </p>\n"},{"comments":[{"owner":{"account_id":5864557,"reputation":524,"user_id":4619039,"accept_rate":93,"display_name":"Mr.Fireman"},"score":0,"creation_date":1459192849,"post_id":36267501,"comment_id":60166090,"body_markdown":"Wonderful solution, thank you so much for your help!","body":"Wonderful solution, thank you so much for your help!"}],"tags":[],"owner":{"account_id":3360461,"reputation":619,"user_id":2822371,"display_name":"abhaybhatia"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459186284,"creation_date":1459186284,"answer_id":36267501,"question_id":36266563,"body_markdown":"Here is a recursive solution\r\n&lt;br/&gt;Time Complexity : O(n)\r\n\r\n\tpublic List&lt;String&gt; allVariants(String x, String y) {\r\n\t\tif ((x == null || x.isEmpty()) &amp;&amp; (y == null || y.isEmpty())) {\r\n\t\t\treturn new ArrayList&lt;String&gt;();\r\n\t\t}\r\n\t\tList&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n\t\tif (x == null || x.isEmpty()) {\r\n\t\t\tl.add(y);\r\n\t\t\treturn l;\r\n\t\t}\r\n\t\tif (y == null || y.isEmpty()) {\r\n\t\t\tl.add(x);\r\n\t\t\treturn l;\r\n\t\t}\r\n\t\tchar xc = x.charAt(0);\r\n\t\tchar yc = y.charAt(0);\r\n\t\tList&lt;String&gt; next = allVariants(x.substring(1), y.substring(1));\r\n\t\tif (next.isEmpty()) {\r\n\t\t\tl.add(xc + &quot;&quot;);\r\n\t\t\tif (xc != yc) {\r\n\t\t\t\tl.add(yc + &quot;&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (String e : next) {\r\n\t\t\t\tl.add(xc + e);\r\n\t\t\t\tif (xc != yc) {\r\n\t\t\t\t\tl.add(yc + e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn l;\r\n\t}\r\n\r\n\r\nTest Code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; l = new Test().allVariants(&quot;igis&quot;, &quot;eges&quot;);\r\n\t\tfor (String x : l) {\r\n\t\t\tSystem.out.println(x);\r\n\t\t}\r\n\t}\r\n\r\nOutput: \r\n\r\n    igis\r\n    egis\r\n    iges\r\n    eges","title":"Creating all variations based on the differences of two Strings","body":"<p>Here is a recursive solution\n<br/>Time Complexity : O(n)</p>\n\n<pre><code>public List&lt;String&gt; allVariants(String x, String y) {\n    if ((x == null || x.isEmpty()) &amp;&amp; (y == null || y.isEmpty())) {\n        return new ArrayList&lt;String&gt;();\n    }\n    List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n    if (x == null || x.isEmpty()) {\n        l.add(y);\n        return l;\n    }\n    if (y == null || y.isEmpty()) {\n        l.add(x);\n        return l;\n    }\n    char xc = x.charAt(0);\n    char yc = y.charAt(0);\n    List&lt;String&gt; next = allVariants(x.substring(1), y.substring(1));\n    if (next.isEmpty()) {\n        l.add(xc + \"\");\n        if (xc != yc) {\n            l.add(yc + \"\");\n        }\n    } else {\n        for (String e : next) {\n            l.add(xc + e);\n            if (xc != yc) {\n                l.add(yc + e);\n            }\n        }\n    }\n    return l;\n}\n</code></pre>\n\n<p>Test Code:</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; l = new Test().allVariants(\"igis\", \"eges\");\n    for (String x : l) {\n        System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>igis\negis\niges\neges\n</code></pre>\n"}],"owner":{"account_id":5864557,"reputation":524,"user_id":4619039,"accept_rate":93,"display_name":"Mr.Fireman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36267501,"answer_count":2,"score":1,"last_activity_date":1667926951,"creation_date":1459182790,"question_id":36266563,"body_markdown":"I do have a function waiting two Strings. I would like to return with a list of words containing all of the possible variations, which can be created based on the differences.\r\n\r\n    getAllVersions(&#39;cso&#39;,&#39;cső&#39;); //--&gt; [cso, cső]\r\n    getAllVersions(&#39;eges&#39;,&#39;igis&#39;); //--&gt; [eges, igis, egis, iges]\r\n\r\nSo far I have created the function which counts the differences, and saves their locations. Do you have any idea how to continue?\r\n\r\n    public ArrayList&lt;String&gt; getAllVersions(String q, String qW) {\r\n                int differences = 0;\r\n                ArrayList&lt;Integer&gt; locations = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;String&gt; toReturn = new ArrayList&lt;&gt;();\r\n\r\n                for (int i = 0; i &lt; q.length(); i++) {\r\n                    if (q.charAt(i) != q.charAt(i)) {\r\n                        differences++;\r\n                        locations.add(i);\r\n                    }\r\n                }  \r\n                       toReturn.add(q);\r\n                       toReturn.add(qW);\r\n                 for (int i = 0; i &lt; q.length(); i++) {\r\n                   for (int j = 0; j &lt; q.length(); j++) {\r\n                \r\n                   }\r\n                 }\r\n                return toReturn;\r\n            }\r\n        }\r\n","title":"Creating all variations based on the differences of two Strings","body":"<p>I do have a function waiting two Strings. I would like to return with a list of words containing all of the possible variations, which can be created based on the differences.</p>\n\n<pre><code>getAllVersions('cso','cső'); //--&gt; [cso, cső]\ngetAllVersions('eges','igis'); //--&gt; [eges, igis, egis, iges]\n</code></pre>\n\n<p>So far I have created the function which counts the differences, and saves their locations. Do you have any idea how to continue?</p>\n\n<pre><code>public ArrayList&lt;String&gt; getAllVersions(String q, String qW) {\n            int differences = 0;\n            ArrayList&lt;Integer&gt; locations = new ArrayList&lt;&gt;();\n            ArrayList&lt;String&gt; toReturn = new ArrayList&lt;&gt;();\n\n            for (int i = 0; i &lt; q.length(); i++) {\n                if (q.charAt(i) != q.charAt(i)) {\n                    differences++;\n                    locations.add(i);\n                }\n            }  \n                   toReturn.add(q);\n                   toReturn.add(qW);\n             for (int i = 0; i &lt; q.length(); i++) {\n               for (int j = 0; j &lt; q.length(); j++) {\n\n               }\n             }\n            return toReturn;\n        }\n    }\n</code></pre>\n"},{"tags":["java","swing","jtable","renderer"],"answers":[{"comments":[{"owner":{"account_id":65605,"reputation":2500,"user_id":192958,"accept_rate":76,"display_name":"Asaf"},"score":0,"creation_date":1264580992,"post_id":2141377,"comment_id":2087069,"body_markdown":"thanks for replying!  i won&#39;t use JLabel because (a) i render multiple lines, and (b) i paint differently parts the text (color, size, links).  in the second link (JPanel solution) you call drawString() yourself, which is the thing i&#39;m trying to avoid...\nwhat i&#39;m looking for is to use all the power of JTextPane but _turn off_ text wrapping.","body":"thanks for replying!  i won&#39;t use JLabel because (a) i render multiple lines, and (b) i paint differently parts the text (color, size, links).  in the second link (JPanel solution) you call drawString() yourself, which is the thing i&#39;m trying to avoid... what i&#39;m looking for is to use all the power of JTextPane but <i>turn off</i> text wrapping."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1264652269,"post_id":2141377,"comment_id":2094981,"body_markdown":"I added an example renderer using the kit you mentioned.","body":"I added an example renderer using the kit you mentioned."},{"owner":{"account_id":176013,"reputation":1401,"user_id":406423,"display_name":"MadMike"},"score":1,"creation_date":1667894677,"post_id":2141377,"comment_id":131270192,"body_markdown":"It seems the Website java-sl.com is offline (anyone knows what happened to that site?) I found a archived version at archive.org - web.archive.org/web/20220203131713/http://java-sl.com/wrap.html","body":"It seems the Website java-sl.com is offline (anyone knows what happened to that site?) I found a archived version at archive.org - web.archive.org/web/20220203131713/<a href=\"http://java-sl.com/wrap.html\" rel=\"nofollow noreferrer\">java-sl.com/wrap.html</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1667926338,"post_id":2141377,"comment_id":131282487,"body_markdown":"@MadMike: I&#39;ve added your [archive link](http://web.archive.org/web/20220203131713/java-sl.com/wrap.html) above.","body":"@MadMike: I&#39;ve added your <a href=\"http://web.archive.org/web/20220203131713/java-sl.com/wrap.html\" rel=\"nofollow noreferrer\">archive link</a> above."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667926178,"creation_date":1264527897,"answer_id":2141377,"question_id":2139868,"body_markdown":"Use a custom [renderer][1]. Extending `JLabel` should give you ellipsis symbols to indicate truncation, but you can use `JPanel` and [this approach][2] to let clipping chop the result.\r\n\r\nAddendum: The [`WrapEditorKit`][3] that you cited works well and seems to do what you want. In your `LogRenderer`, I think you can extend `JEditorPane` and set the editor in the constructor. For example:\r\n\r\n    private static class LogRenderer\r\n        extends JEditorPane implements TableCellRenderer {\r\n\r\n        public LogRenderer() {\r\n            this.setEditorKit(new WrapEditorKit());\r\n        }\r\n\r\n        public Component getListCellRendererComponent(\r\n            JList list, Object value, int index,\r\n            boolean isSelected, boolean cellHasFocus) {\r\n            this.setText((String) value);\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(\r\n            JTable table, Object value, boolean isSelected,\r\n            boolean hasFocus, int row, int column) {\r\n            this.setText((String) value);\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n[1]:http://java.sun.com/docs/books/tutorial/uiswing/components/table.html#renderer\r\n[2]:https://stackoverflow.com/questions/2123841/javax-swing-timer-repeats-fine-but-actionlistener-doesnt-do-anything/2124507#2124507\r\n[3]:http://web.archive.org/web/20220203131713/java-sl.com/wrap.html\r\n[4]:http://java-sl.com/wrap.html\r\n[5]:http://java-sl.com/src/wrap_src.html","title":"cropping text lines in a jtextpane-based jtable cell renderer","body":"<p>Use a custom <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/table.html#renderer\" rel=\"nofollow noreferrer\">renderer</a>. Extending <code>JLabel</code> should give you ellipsis symbols to indicate truncation, but you can use <code>JPanel</code> and <a href=\"https://stackoverflow.com/questions/2123841/javax-swing-timer-repeats-fine-but-actionlistener-doesnt-do-anything/2124507#2124507\">this approach</a> to let clipping chop the result.</p>\n<p>Addendum: The <a href=\"http://web.archive.org/web/20220203131713/java-sl.com/wrap.html\" rel=\"nofollow noreferrer\"><code>WrapEditorKit</code></a> that you cited works well and seems to do what you want. In your <code>LogRenderer</code>, I think you can extend <code>JEditorPane</code> and set the editor in the constructor. For example:</p>\n<pre><code>private static class LogRenderer\n    extends JEditorPane implements TableCellRenderer {\n\n    public LogRenderer() {\n        this.setEditorKit(new WrapEditorKit());\n    }\n\n    public Component getListCellRendererComponent(\n        JList list, Object value, int index,\n        boolean isSelected, boolean cellHasFocus) {\n        this.setText((String) value);\n        return this;\n    }\n\n    @Override\n    public Component getTableCellRendererComponent(\n        JTable table, Object value, boolean isSelected,\n        boolean hasFocus, int row, int column) {\n        this.setText((String) value);\n        return this;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":65605,"reputation":2500,"user_id":192958,"accept_rate":76,"display_name":"Asaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2885,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2141377,"answer_count":1,"score":3,"last_activity_date":1667926178,"creation_date":1264514838,"question_id":2139868,"body_markdown":"i&#39;m using a JTextPane as a cell renderer in my table (so i can control color, font, size and links easily).\r\nthe problem is that lines get wrapped when the cell&#39;s get too small to contain the full text.\r\n\r\ni know the number of expected text lines in advance (or i can just count), so i set the row&#39;s height accordingly.&lt;br&gt;\r\n\r\nhow do i get the lines to crop (visually! i.e. in the middle of a letter) at the cell end?\r\n\r\nthanks, asaf :-)\r\n&lt;p&gt;\r\n**more info:** i&#39;ve tried two solutions i found on the net. one that involves [setting my own EditroKit][1] \r\n  [1]: http://java-sl.com/wrap.html\r\n. the other is listed below, and involves overriding of setSize().&lt;br&gt;\r\nalas, none worked...\r\n\r\nhere is my renderer (apologies for messed up indentation...):\r\n\r\n    package textTable;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Insets;\r\n\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.table.TableCellRenderer;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.SimpleAttributeSet;\r\n    import javax.swing.text.StyleConstants;\r\n    import javax.swing.text.StyledDocument;\r\n\r\n    public class LogRenderer extends JPanel implements TableCellRenderer {\r\n    \tstatic class NoWrapTextPane extends JTextPane {\r\n    \t\tpublic NoWrapTextPane () {\r\n    \t\t\tsuper();\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean getScrollableTracksViewportWidth() {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void setSize(Dimension d) {\r\n    \t\t\tif(d.width &lt; getParent().getSize().width) {\r\n    \t\t\t\td.width = getParent().getSize().width;\r\n    \t\t\t}\r\n    \t\t\tsuper.setSize(d);\r\n    \t\t}\r\n    \t}\r\n\t\r\n    \tprivate JTextPane textPane = new NoWrapTextPane();//JTextPane();\r\n    \tprivate StyledDocument doc = textPane.getStyledDocument();\r\n    \tprivate SimpleAttributeSet attr = new SimpleAttributeSet();\r\n    \tprivate FontMetrics fontMetrics;\r\n    \t\r\n    \tpublic LogRenderer() {\r\n\t\ttextPane.setMargin(new Insets(0,0,0,0));\r\n    \t\t\r\n    \t\tfontMetrics = textPane.getFontMetrics(getFont());\r\n    \t\t\r\n    \t\tStyleConstants.setFontFamily(attr, &quot;monospaced&quot;);//&quot;Courier&quot;\r\n\t\t\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(textPane,BorderLayout.CENTER);\r\n\t}\r\n\t\r\n\tpublic Component getTableCellRendererComponent(JTable table,\r\n\t\t\tObject value, boolean isSelected, boolean hasFocus, int row,\r\n\t\t\tint column) {\r\n    \t\tString[] text;\r\n    \t\tif (value != null &amp;&amp; value instanceof String[]) {\r\n    \t\t\ttext = (String[]) value;\r\n    \t\t} else {\r\n    \t\t\ttext = null;\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tdoc.remove(0, doc.getLength());\r\n    \t\t\tif (text != null) {\r\n    \t\t\t\tint offset = 0;\r\n    \t\t\t\tfor (String line : text) {\r\n    \t\t\t\t\tdoc.insertString(offset, line+&quot;\\n&quot;, attr);\r\n    \t\t\t\t\toffset += (line == null ? 0 : line.length()) +1;\r\n    \t\t\t\t}\r\n    \t\t\t\tint preferredHeight = fontMetrics.getHeight() *     text.length;\r\n    \t\t\t\tif (preferredHeight != table.getRowHeight(row)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;preferredHeight     &quot;+preferredHeight+&quot; = fontMetrics.getHeight() &quot;+fontMetrics.getHeight()+&quot; + text.length     &quot;+text.length);\r\n    \t\t\t\t    table.setRowHeight(row, preferredHeight);\r\n    \t\t\t\t} \r\n    \t\t\t}\r\n    \t\t} catch (BadLocationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    //\t\ttextPane.setToolTipText(&quot;hi&quot;);\r\n    \t\treturn this;\r\n    \t}\t\r\n    }","title":"cropping text lines in a jtextpane-based jtable cell renderer","body":"<p>i'm using a JTextPane as a cell renderer in my table (so i can control color, font, size and links easily).\nthe problem is that lines get wrapped when the cell's get too small to contain the full text.</p>\n\n<p>i know the number of expected text lines in advance (or i can just count), so i set the row's height accordingly.<br></p>\n\n<p>how do i get the lines to crop (visually! i.e. in the middle of a letter) at the cell end?</p>\n\n<p>thanks, asaf :-)\n<p>\n<strong>more info:</strong> i've tried two solutions i found on the net. one that involves <a href=\"http://java-sl.com/wrap.html\" rel=\"nofollow noreferrer\">setting my own EditroKit</a> \n. the other is listed below, and involves overriding of setSize().<br>\nalas, none worked...</p>\n\n<p>here is my renderer (apologies for messed up indentation...):</p>\n\n<pre><code>package textTable;\nimport java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.FontMetrics;\nimport java.awt.Insets;\n\nimport javax.swing.JPanel;\nimport javax.swing.JTable;\nimport javax.swing.JTextPane;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.SimpleAttributeSet;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyledDocument;\n\npublic class LogRenderer extends JPanel implements TableCellRenderer {\n    static class NoWrapTextPane extends JTextPane {\n        public NoWrapTextPane () {\n            super();\n        }\n        @Override\n        public boolean getScrollableTracksViewportWidth() {\n            return false;\n        }\n        @Override\n        public void setSize(Dimension d) {\n            if(d.width &lt; getParent().getSize().width) {\n                d.width = getParent().getSize().width;\n            }\n            super.setSize(d);\n        }\n    }\n\n    private JTextPane textPane = new NoWrapTextPane();//JTextPane();\n    private StyledDocument doc = textPane.getStyledDocument();\n    private SimpleAttributeSet attr = new SimpleAttributeSet();\n    private FontMetrics fontMetrics;\n\n    public LogRenderer() {\n    textPane.setMargin(new Insets(0,0,0,0));\n\n        fontMetrics = textPane.getFontMetrics(getFont());\n\n        StyleConstants.setFontFamily(attr, \"monospaced\");//\"Courier\"\n\n    setLayout(new BorderLayout());\n    add(textPane,BorderLayout.CENTER);\n}\n\npublic Component getTableCellRendererComponent(JTable table,\n        Object value, boolean isSelected, boolean hasFocus, int row,\n        int column) {\n        String[] text;\n        if (value != null &amp;&amp; value instanceof String[]) {\n            text = (String[]) value;\n        } else {\n            text = null;\n        }\n        try {\n            doc.remove(0, doc.getLength());\n            if (text != null) {\n                int offset = 0;\n                for (String line : text) {\n                    doc.insertString(offset, line+\"\\n\", attr);\n                    offset += (line == null ? 0 : line.length()) +1;\n                }\n                int preferredHeight = fontMetrics.getHeight() *     text.length;\n                if (preferredHeight != table.getRowHeight(row)) {\n                    System.out.println(\"preferredHeight     \"+preferredHeight+\" = fontMetrics.getHeight() \"+fontMetrics.getHeight()+\" + text.length     \"+text.length);\n                    table.setRowHeight(row, preferredHeight);\n                } \n            }\n        } catch (BadLocationException e) {\n            e.printStackTrace();\n        }\n//      textPane.setToolTipText(\"hi\");\n        return this;\n    }   \n}\n</code></pre>\n"},{"tags":["java","azure","azure-functions","azure-blob-storage","azure-eventgrid"],"answers":[{"tags":[],"owner":{"account_id":14422052,"reputation":6211,"user_id":10417839,"display_name":"PramodValavala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667926001,"creation_date":1667926001,"answer_id":74364299,"question_id":72100631,"body_markdown":"While you can [fetch trigger metadata][1], there is no way to get similar data from an input binding.\r\n\r\nYou would either have to directly use the Storage SDK for the output, or forward the Event Grid event as a queue message which has your own payload schema and use a second function which processes the queue message to bind to the filename present in the message payload.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption#metadata","title":"How to get the blob-name of a @BlobInput?","body":"<p>While you can <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption#metadata\" rel=\"nofollow noreferrer\">fetch trigger metadata</a>, there is no way to get similar data from an input binding.</p>\n<p>You would either have to directly use the Storage SDK for the output, or forward the Event Grid event as a queue message which has your own payload schema and use a second function which processes the queue message to bind to the filename present in the message payload.</p>\n"}],"owner":{"account_id":203967,"reputation":4189,"user_id":2393559,"accept_rate":55,"display_name":"Matthias G&#252;ntert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667926001,"creation_date":1651586613,"question_id":72100631,"body_markdown":"Consider the Azure Function as shown below, that gets triggered upon blob upload. I&#39;d like to scale that image and write it back to another blob container. And finally, send a message to a service bus topic containing the status and a link to the scaled image. \r\n\r\nCurrently, I am just generating a random blob name. \r\n\r\nHow can I get the ***name*** of the blob read by the `@BlobInput`? The source name is encoded in the `EventSchema`, however, I don&#39;t know how to reuse a parsed/substringed version of `{data.url}` as a parameter to `@BlobOutput(..., path = &quot;xxx&quot;) ...`. \r\n\r\n\r\n```\r\npublic class ImageScaleFunction {\r\n\r\n    @FunctionName(&quot;ImageScaleFunction&quot;)\r\n    @StorageAccount(&quot;AzureWebJobsStorage&quot;)\r\n    public void run(\r\n            @EventGridTrigger(name = &quot;eventGridEvent&quot;) EventSchema event,\r\n            @BlobInput(name = &quot;input&quot;, dataType = &quot;binary&quot;, path = &quot;{data.url}&quot;) byte[] blobInput,\r\n            @BlobOutput(name = &quot;output&quot;, dataType = &quot;binary&quot;, path = &quot;image-output/{rand-guid}.jpg&quot;)  OutputBinding&lt;byte[]&gt; blobOutput,\r\n            @ServiceBusQueueOutput(name = &quot;message&quot;, dataType = &quot;string&quot;, queueName = &quot;my-cool-queue&quot;, connection = &quot;AzureServiceBusConnection&quot;) OutputBinding&lt;String&gt; message,\r\n            final ExecutionContext context) throws Exception {\r\n\r\n\t// .. \r\n\t\r\n\t}\r\n}\r\n```\r\n\r\nhttps://learn.microsoft.com/en-us/azure/event-grid/event-schema-blob-storage?tabs=event-grid-event-schema\r\n\r\n```\r\npublic class EventSchema {\r\n    public String id;\r\n    public String eventType;\r\n    public String subject;\r\n    public Date eventTime;\r\n    public String dataVersion;\r\n    public String topic;\r\n    public String metadataVersion;\r\n    public Map&lt;String, Object&gt; data;\r\n}\r\n```","title":"How to get the blob-name of a @BlobInput?","body":"<p>Consider the Azure Function as shown below, that gets triggered upon blob upload. I'd like to scale that image and write it back to another blob container. And finally, send a message to a service bus topic containing the status and a link to the scaled image.</p>\n<p>Currently, I am just generating a random blob name.</p>\n<p>How can I get the <em><strong>name</strong></em> of the blob read by the <code>@BlobInput</code>? The source name is encoded in the <code>EventSchema</code>, however, I don't know how to reuse a parsed/substringed version of <code>{data.url}</code> as a parameter to <code>@BlobOutput(..., path = &quot;xxx&quot;) ...</code>.</p>\n<pre><code>public class ImageScaleFunction {\n\n    @FunctionName(&quot;ImageScaleFunction&quot;)\n    @StorageAccount(&quot;AzureWebJobsStorage&quot;)\n    public void run(\n            @EventGridTrigger(name = &quot;eventGridEvent&quot;) EventSchema event,\n            @BlobInput(name = &quot;input&quot;, dataType = &quot;binary&quot;, path = &quot;{data.url}&quot;) byte[] blobInput,\n            @BlobOutput(name = &quot;output&quot;, dataType = &quot;binary&quot;, path = &quot;image-output/{rand-guid}.jpg&quot;)  OutputBinding&lt;byte[]&gt; blobOutput,\n            @ServiceBusQueueOutput(name = &quot;message&quot;, dataType = &quot;string&quot;, queueName = &quot;my-cool-queue&quot;, connection = &quot;AzureServiceBusConnection&quot;) OutputBinding&lt;String&gt; message,\n            final ExecutionContext context) throws Exception {\n\n    // .. \n    \n    }\n}\n</code></pre>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/event-grid/event-schema-blob-storage?tabs=event-grid-event-schema\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/event-grid/event-schema-blob-storage?tabs=event-grid-event-schema</a></p>\n<pre><code>public class EventSchema {\n    public String id;\n    public String eventType;\n    public String subject;\n    public Date eventTime;\n    public String dataVersion;\n    public String topic;\n    public String metadataVersion;\n    public Map&lt;String, Object&gt; data;\n}\n</code></pre>\n"},{"tags":["java","libgdx","default"],"answers":[{"tags":[],"owner":{"account_id":7854366,"reputation":646,"user_id":5936778,"accept_rate":100,"display_name":"spacer GIF"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667925539,"creation_date":1667925539,"answer_id":74364199,"question_id":32960443,"body_markdown":"**Note:** This answer applies only to the gdx-setup tool as of late 2022. The gdx-liftoff tool is similar but has a slightly less boneheaded configuration out of the box. Additionally, I would like to get some of libGDX&#39;s HTML backend reworked one day, as there is no point in the padding and it&#39;s applied unevenly, plus less obvious things like the way it creates a table for layout.\r\n\r\nGrey background\r\n===============\r\n\r\nThe background colour can be customised by changing `background: #222222` in `html/webapp/styles.css` to some other colour. Or apply it directly to the body in `index.html` and delete `styles.css` (plus the `link` to it) as it doesn&#39;t contain anything important once the superdev button has been removed.\r\n\r\nGrey border\r\n===========\r\n\r\nThe border around the game can be removed by editing `HtmlLauncher` like so:\r\n\r\n``` lang-java\r\n@Override\r\npublic GwtApplicationConfiguration getConfig () {\r\n  GwtApplicationConfiguration config = new GwtApplicationConfiguration(true);\r\n  config.padHorizontal = 0;\r\n  config.padVertical = 0;\r\n  return config;\r\n}\r\n```\r\n\r\nSeparating `GwtApplicationConfiguration` into a `config` variable brings it in line with the other launchers (desktop, Android, iOS) and setting the padding to 0 is self-explanatory. While we&#39;re here, passing `true` into the app config&#39;s constructor tells it to render at native resolution on high-DPI/&quot;retina&quot; displays instead of upscaling.\r\n\r\nRecompile button\r\n================\r\n\r\nOr the superdev button, as I call it. Just remove the `&lt;a class=&quot;superdev&quot;...` line from `html/webapp/index.html`. If you need access to it during development, it&#39;s recommended you add its link to your bookmark bar. Visibility of the bookmark bar can be toggled using Ctrl+Shift+B in Chrome and Firefox.\r\n\r\nLoad/splash screen\r\n==================\r\n\r\nYou&#39;re probably best referring to https://libgdx.com/wiki/html5-backend-and-gwt-specifics#changing-the-load-screen-progress-bar for this (which may not have existed when the question was asked). In short, `getPreloaderCallback()` and `adjustMeterPanel()` can be overridden in `HtmlLauncher`. I typically just overwrite `logo.png` after building instead of using the recommended method for changing the logo.\r\n\r\nOther changes\r\n=============\r\n\r\nThings you might want to change before a final release:\r\n\r\n- `styles.css` isn&#39;t very important beyond changing the background colour, as noted earlier.\r\n- In `index.html`, a comma should be added to between `device-width` and `initial-scale` for it to be valid HTML.\r\n- In `index.html`, applying `align=&quot;center&quot;` to a `div` is deprecated behaviour. Probably best remove that alignment. If you need it, apply via CSS instead.\r\n- In `index.html`, `handleMouseDown()` and `handleMouseUp()` are completely pointless, as far as I can see. I don&#39;t use them for my own projects and have had no complaints.\r\n- `html/build/dist/assets/assets.txt` references some files that may not be necessary. The default font (`arial` or `lsans`, depending on libGDX version) is only needed if you use it and the vertex/fragment shaders are only needed if you do 3D stuff, I believe. Removing these can remove load times ever so slightly, especially on HTTP/1.1 connections. But I don&#39;t have an automated way to remove those lines (except on Linux - `head -n -8`).\r\n- Setting an asset filter as seen at https://libgdx.com/wiki/html5-backend-and-gwt-specifics#speeding-up-preload-process is an easy way to reduce your load times. I return `false` for music files to reduce load times greatly - it ends up streaming music instead of preloading it (if using `Music`, *not* `AssetManager`).","title":"Libgdx - Remove HTML greybackground/recompile button/ load splash","body":"<p><strong>Note:</strong> This answer applies only to the gdx-setup tool as of late 2022. The gdx-liftoff tool is similar but has a slightly less boneheaded configuration out of the box. Additionally, I would like to get some of libGDX's HTML backend reworked one day, as there is no point in the padding and it's applied unevenly, plus less obvious things like the way it creates a table for layout.</p>\n<h1>Grey background</h1>\n<p>The background colour can be customised by changing <code>background: #222222</code> in <code>html/webapp/styles.css</code> to some other colour. Or apply it directly to the body in <code>index.html</code> and delete <code>styles.css</code> (plus the <code>link</code> to it) as it doesn't contain anything important once the superdev button has been removed.</p>\n<h1>Grey border</h1>\n<p>The border around the game can be removed by editing <code>HtmlLauncher</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic GwtApplicationConfiguration getConfig () {\n  GwtApplicationConfiguration config = new GwtApplicationConfiguration(true);\n  config.padHorizontal = 0;\n  config.padVertical = 0;\n  return config;\n}\n</code></pre>\n<p>Separating <code>GwtApplicationConfiguration</code> into a <code>config</code> variable brings it in line with the other launchers (desktop, Android, iOS) and setting the padding to 0 is self-explanatory. While we're here, passing <code>true</code> into the app config's constructor tells it to render at native resolution on high-DPI/&quot;retina&quot; displays instead of upscaling.</p>\n<h1>Recompile button</h1>\n<p>Or the superdev button, as I call it. Just remove the <code>&lt;a class=&quot;superdev&quot;...</code> line from <code>html/webapp/index.html</code>. If you need access to it during development, it's recommended you add its link to your bookmark bar. Visibility of the bookmark bar can be toggled using Ctrl+Shift+B in Chrome and Firefox.</p>\n<h1>Load/splash screen</h1>\n<p>You're probably best referring to <a href=\"https://libgdx.com/wiki/html5-backend-and-gwt-specifics#changing-the-load-screen-progress-bar\" rel=\"noreferrer\">https://libgdx.com/wiki/html5-backend-and-gwt-specifics#changing-the-load-screen-progress-bar</a> for this (which may not have existed when the question was asked). In short, <code>getPreloaderCallback()</code> and <code>adjustMeterPanel()</code> can be overridden in <code>HtmlLauncher</code>. I typically just overwrite <code>logo.png</code> after building instead of using the recommended method for changing the logo.</p>\n<h1>Other changes</h1>\n<p>Things you might want to change before a final release:</p>\n<ul>\n<li><code>styles.css</code> isn't very important beyond changing the background colour, as noted earlier.</li>\n<li>In <code>index.html</code>, a comma should be added to between <code>device-width</code> and <code>initial-scale</code> for it to be valid HTML.</li>\n<li>In <code>index.html</code>, applying <code>align=&quot;center&quot;</code> to a <code>div</code> is deprecated behaviour. Probably best remove that alignment. If you need it, apply via CSS instead.</li>\n<li>In <code>index.html</code>, <code>handleMouseDown()</code> and <code>handleMouseUp()</code> are completely pointless, as far as I can see. I don't use them for my own projects and have had no complaints.</li>\n<li><code>html/build/dist/assets/assets.txt</code> references some files that may not be necessary. The default font (<code>arial</code> or <code>lsans</code>, depending on libGDX version) is only needed if you use it and the vertex/fragment shaders are only needed if you do 3D stuff, I believe. Removing these can remove load times ever so slightly, especially on HTTP/1.1 connections. But I don't have an automated way to remove those lines (except on Linux - <code>head -n -8</code>).</li>\n<li>Setting an asset filter as seen at <a href=\"https://libgdx.com/wiki/html5-backend-and-gwt-specifics#speeding-up-preload-process\" rel=\"noreferrer\">https://libgdx.com/wiki/html5-backend-and-gwt-specifics#speeding-up-preload-process</a> is an easy way to reduce your load times. I return <code>false</code> for music files to reduce load times greatly - it ends up streaming music instead of preloading it (if using <code>Music</code>, <em>not</em> <code>AssetManager</code>).</li>\n</ul>\n"}],"owner":{"account_id":4521895,"reputation":83,"user_id":3674819,"accept_rate":25,"display_name":"Dreamtime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1667925539,"creation_date":1444095924,"question_id":32960443,"body_markdown":"What is the proper way to remove the grey background that covers the entire screen, the recompile button, and the default libGDX load and/or load splash in a HTML build of my game?\r\n\r\n\r\n\r\n","title":"Libgdx - Remove HTML greybackground/recompile button/ load splash","body":"<p>What is the proper way to remove the grey background that covers the entire screen, the recompile button, and the default libGDX load and/or load splash in a HTML build of my game?</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667501077,"post_id":74308054,"comment_id":131187589,"body_markdown":"There’s only one settings.gradle. See https://docs.gradle.org/current/userguide/multi_project_builds.html","body":"There’s only one settings.gradle. See <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/multi_project_builds.html</a>"},{"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"score":0,"creation_date":1667503167,"post_id":74308054,"comment_id":131188183,"body_markdown":"Removing settings.gradle for individual projects ends also with an error:\n\nExecution failed for task &#39;:util:bootJar&#39;.\n&gt; Error while evaluating property &#39;mainClass&#39; of task &#39;:util:bootJar&#39;\n   &gt; Failed to calculate the value of task &#39;:util:bootJar&#39; property &#39;mainClass&#39;.\n      &gt; Main class name has not been configured and it could not be resolved","body":"Removing settings.gradle for individual projects ends also with an error:  Execution failed for task &#39;:util:bootJar&#39;. &gt; Error while evaluating property &#39;mainClass&#39; of task &#39;:util:bootJar&#39;    &gt; Failed to calculate the value of task &#39;:util:bootJar&#39; property &#39;mainClass&#39;.       &gt; Main class name has not been configured and it could not be resolved"},{"owner":{"account_id":9291622,"reputation":11371,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1667512303,"post_id":74308054,"comment_id":131190704,"body_markdown":"`org.springframework.boot` plugin should be applied only to projects that contain a Springboot application (project containing a @SpringbootApplication annoted main class).  Is your `util` subproject really a Springboot app project, or just a utility java library project?","body":"<code>org.springframework.boot</code> plugin should be applied only to projects that contain a Springboot application (project containing a @SpringbootApplication annoted main class).  Is your <code>util</code> subproject really a Springboot app project, or just a utility java library project?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667540843,"post_id":74308054,"comment_id":131194972,"body_markdown":"There are literally hundreds of examples for spring boot Gradle multi module projects, including one from spring team https://spring.io/guides/gs/multi-module/","body":"There are literally hundreds of examples for spring boot Gradle multi module projects, including one from spring team <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/multi-module</a>"},{"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"score":0,"creation_date":1667747000,"post_id":74308054,"comment_id":131235526,"body_markdown":"@M.Ricciuti is just a library project.","body":"@M.Ricciuti is just a library project."}],"answers":[{"tags":[],"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667925428,"creation_date":1667925428,"answer_id":74364178,"question_id":74308054,"body_markdown":"I missed some configurations and removed unnecessary libraries from the **build.gradle** file followed this basic [tutorial][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/multi-module","title":"Gradle including project as dependency not working","body":"<p>I missed some configurations and removed unnecessary libraries from the <strong>build.gradle</strong> file followed this basic <a href=\"https://spring.io/guides/gs/multi-module\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n"}],"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667925428,"creation_date":1667500728,"question_id":74308054,"body_markdown":"I&#39;m trying to create a Gradle project by using multiple subprojects, **util** depends on **api** project, both projects reside under the same directory:\r\n\r\n    ├── mainFolder\r\n    │   ...\r\n    ├── api\r\n    │   ├── src\r\n    │   │   └──...\r\n    │   └── build.gradle\r\n    ├── util\r\n    │   ├── src\r\n    │   │   └──...\r\n    │   └── build.gradle\r\n    └── settings.gradle\r\n\r\n\r\n**util project build.gradle**\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;my.package.util&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tspringBootVersion = &#39;2.7.5&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\r\n\r\n\timplementation project(&#39;:api&#39;)\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n**util project settings.gradle**\r\n\r\n```\r\nrootProject.name = &#39;util&#39;\r\n```\r\n\r\n**api project build.gradle**\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;my.package.api&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tspringBootVersion = &#39;2.7.5&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n**api project gradle.settings**\r\n\r\n```\r\nrootProject.name = &#39;api&#39;\r\n\r\n```\r\n\r\n**main project gradle.settings**\r\n```\r\ninclude &#39;:api&#39;\r\ninclude &#39;:util&#39;\r\n```\r\n\r\nBut after running gradle build I&#39;m always getting this error message:\r\n\r\n```\r\nA problem occurred evaluating root project &#39;util&#39;.\r\nProject with path &#39;:api&#39; could not be found in root project &#39;util&#39;.\r\n```\r\n\r\nI&#39;ll appreciate any hint, thanks in advance.\r\n","title":"Gradle including project as dependency not working","body":"<p>I'm trying to create a Gradle project by using multiple subprojects, <strong>util</strong> depends on <strong>api</strong> project, both projects reside under the same directory:</p>\n<pre><code>├── mainFolder\n│   ...\n├── api\n│   ├── src\n│   │   └──...\n│   └── build.gradle\n├── util\n│   ├── src\n│   │   └──...\n│   └── build.gradle\n└── settings.gradle\n</code></pre>\n<p><strong>util project build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\ngroup = 'my.package.util'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    springBootVersion = '2.7.5'\n}\n\ndependencies {\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\n\n    implementation project(':api')\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><strong>util project settings.gradle</strong></p>\n<pre><code>rootProject.name = 'util'\n</code></pre>\n<p><strong>api project build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\ngroup = 'my.package.api'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    springBootVersion = '2.7.5'\n}\n\ndependencies {\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\n\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><strong>api project gradle.settings</strong></p>\n<pre><code>rootProject.name = 'api'\n\n</code></pre>\n<p><strong>main project gradle.settings</strong></p>\n<pre><code>include ':api'\ninclude ':util'\n</code></pre>\n<p>But after running gradle build I'm always getting this error message:</p>\n<pre><code>A problem occurred evaluating root project 'util'.\nProject with path ':api' could not be found in root project 'util'.\n</code></pre>\n<p>I'll appreciate any hint, thanks in advance.</p>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1667926112,"post_id":74364147,"comment_id":131282382,"body_markdown":"A regex is never a good solution for parsing XML. XML is too complex for several reasons, one of them is nesting. Out of these two options, I&#39;d go for `Document.getElementsByTagName`. However, both solutions will have issues with files that large. There is another option: use SAX or StAX parsing from a `Reader` or `InputStream. Then you won&#39;t have to hold the entire document in memory. See https://www.baeldung.com/java-sax-parser and https://www.baeldung.com/java-stax for more information.","body":"A regex is never a good solution for parsing XML. XML is too complex for several reasons, one of them is nesting. Out of these two options, I&#39;d go for <code>Document.getElementsByTagName</code>. However, both solutions will have issues with files that large. There is another option: use SAX or StAX parsing from a <code>Reader</code> or `InputStream. Then you won&#39;t have to hold the entire document in memory. See <a href=\"https://www.baeldung.com/java-sax-parser\" rel=\"nofollow noreferrer\">baeldung.com/java-sax-parser</a> and <a href=\"https://www.baeldung.com/java-stax\" rel=\"nofollow noreferrer\">baeldung.com/java-stax</a> for more information."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1667932771,"post_id":74364147,"comment_id":131284792,"body_markdown":"Correctness always comes before performance. You might succeed in writing a regex-based solution that works on one example file, but it will have bugs that show up when given other equally valid XML files. For a correct solution, you need to use an XML parser. Having said that, there are much better tools in the Java world than DOM.","body":"Correctness always comes before performance. You might succeed in writing a regex-based solution that works on one example file, but it will have bugs that show up when given other equally valid XML files. For a correct solution, you need to use an XML parser. Having said that, there are much better tools in the Java world than DOM."}],"owner":{"account_id":26869268,"reputation":1,"user_id":20451528,"display_name":"rohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667925344,"creation_date":1667925273,"question_id":74364147,"body_markdown":"Which approach is better in terms of space and time complexity to find count of list of xml element names from XML data.\r\nThe xml data will be of 2 GB.\r\nList of xml element names to be searched will be around 30.\r\n\r\napproach 1:\r\n\r\n```\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(xmlString.getBytes());\r\n    Document doc = db.parse(bis);\r\n\r\n    NodeList xList = doc.getElementsByTagName(&quot;xTag&quot;);\r\n```\r\n\r\napproach 2:\r\n\r\n```\r\n    Pattern pattern = Pattern.compile(regex, Pattern.DOTALL);\r\n    Matcher matcher = pattern.matcher(xmlString);\r\n    while (matcher.find())\r\n        count++;\r\n```\r\n\r\n```\r\n\r\nfor example :\r\n            &lt;x&gt;\r\n\t\t&lt;Element1&gt;\r\n\t\t   &lt;Employee&gt;\r\n\t\t\t  &lt;Name&gt;Name&lt;/Name&gt;\r\n\t\t\t  &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\r\n\t\t\t  &lt;Gender&gt;female&lt;/Gender&gt;\r\n\t\t   &lt;/Employee&gt;\r\n\t\t   &lt;Element2 Type=&quot;D&quot;&gt;\r\n\t\t\t  &lt;Element3&gt;1000.00&lt;/Element3&gt;\r\n\t\t   &lt;/Element2&gt;\r\n\t\t   &lt;Services Type=&quot;K&quot;&gt;\r\n\t\t\t  &lt;Element4&gt;1000.00&lt;/Element4&gt;\r\n\t\t   &lt;/Services&gt;\r\n\t\t&lt;/Element1&gt;\r\n\t\t&lt;Element1&gt;\r\n\t\t   &lt;Employee&gt;\r\n\t\t\t  &lt;Name&gt;Name&lt;/Name&gt;\r\n\t\t\t  &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\r\n\t\t\t  &lt;Gender&gt;female&lt;/Gender&gt;\r\n\t\t   &lt;/Employee&gt;\r\n\t\t   &lt;Element2 Type=&quot;D&quot;&gt;\r\n\t\t\t  &lt;Element3&gt;1000.00&lt;/Element3&gt;\r\n\t\t   &lt;/Element2&gt;\r\n\t\t&lt;/Element1&gt;\r\n            &lt;/x&gt;\r\n\r\ncount output :\r\n\tElement1 - 2\r\n\tEmployee - 2\r\n\tElement2 - 2\r\n\tServices - 1\r\n```\r\n\r\n\r\n\t\r\n\r\nCould you please suggest which approach is better ?\r\norg.w3c.dom.Document.getElementsByTagName or Regex pattern matcher","title":"XML org.w3c.dom.Document.getElementsByTagName vs Regex pattern matcher","body":"<p>Which approach is better in terms of space and time complexity to find count of list of xml element names from XML data.\nThe xml data will be of 2 GB.\nList of xml element names to be searched will be around 30.</p>\n<p>approach 1:</p>\n<pre><code>    DocumentBuilder db = dbf.newDocumentBuilder();\n    ByteArrayInputStream bis = new ByteArrayInputStream(xmlString.getBytes());\n    Document doc = db.parse(bis);\n\n    NodeList xList = doc.getElementsByTagName(&quot;xTag&quot;);\n</code></pre>\n<p>approach 2:</p>\n<pre><code>    Pattern pattern = Pattern.compile(regex, Pattern.DOTALL);\n    Matcher matcher = pattern.matcher(xmlString);\n    while (matcher.find())\n        count++;\n</code></pre>\n<pre><code>\nfor example :\n            &lt;x&gt;\n        &lt;Element1&gt;\n           &lt;Employee&gt;\n              &lt;Name&gt;Name&lt;/Name&gt;\n              &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\n              &lt;Gender&gt;female&lt;/Gender&gt;\n           &lt;/Employee&gt;\n           &lt;Element2 Type=&quot;D&quot;&gt;\n              &lt;Element3&gt;1000.00&lt;/Element3&gt;\n           &lt;/Element2&gt;\n           &lt;Services Type=&quot;K&quot;&gt;\n              &lt;Element4&gt;1000.00&lt;/Element4&gt;\n           &lt;/Services&gt;\n        &lt;/Element1&gt;\n        &lt;Element1&gt;\n           &lt;Employee&gt;\n              &lt;Name&gt;Name&lt;/Name&gt;\n              &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\n              &lt;Gender&gt;female&lt;/Gender&gt;\n           &lt;/Employee&gt;\n           &lt;Element2 Type=&quot;D&quot;&gt;\n              &lt;Element3&gt;1000.00&lt;/Element3&gt;\n           &lt;/Element2&gt;\n        &lt;/Element1&gt;\n            &lt;/x&gt;\n\ncount output :\n    Element1 - 2\n    Employee - 2\n    Element2 - 2\n    Services - 1\n</code></pre>\n<p>Could you please suggest which approach is better ?\norg.w3c.dom.Document.getElementsByTagName or Regex pattern matcher</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667925074,"post_id":74364020,"comment_id":131281958,"body_markdown":"The code you posted does not compile because `System.out.println(&quot;Your word looks like this: &quot; + word);` will result in a compilation error because there is no variable called `word` in your code defined anywhere. Because the code doesn&#39;t compile I&#39;m not sure how you manage to get any result at all. Edit: You have now edited your question and I&#39;m not even sure what it is your asking. What specific problem is it you are facing? Simply asking &quot;Am I on the right track&quot; is a really broad question.","body":"The code you posted does not compile because <code>System.out.println(&quot;Your word looks like this: &quot; + word);</code> will result in a compilation error because there is no variable called <code>word</code> in your code defined anywhere. Because the code doesn&#39;t compile I&#39;m not sure how you manage to get any result at all. Edit: You have now edited your question and I&#39;m not even sure what it is your asking. What specific problem is it you are facing? Simply asking &quot;Am I on the right track&quot; is a really broad question."},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1667925211,"post_id":74364020,"comment_id":131282008,"body_markdown":"Oops. Forgot to edit that. Re-edited it now","body":"Oops. Forgot to edit that. Re-edited it now"},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1667925413,"post_id":74364020,"comment_id":131282086,"body_markdown":"ansArray[] is outputting a value of &#39;[C@3b6eb2ec&#39;. Why is the letter not being replaced when I set ansArray[j] = guess;?","body":"ansArray[] is outputting a value of &#39;[C@3b6eb2ec&#39;. Why is the letter not being replaced when I set ansArray[j] = guess;?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667925517,"post_id":74364020,"comment_id":131282120,"body_markdown":"Use `Arrays#toString` before printing the array.","body":"Use <code>Arrays#toString</code> before printing the array."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667925540,"post_id":74364020,"comment_id":131282131,"body_markdown":"See: [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"See: <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1667925633,"post_id":74364020,"comment_id":131282172,"body_markdown":"Array.toString worked. Can&#39;t believe it was that simple. Thank you","body":"Array.toString worked. Can&#39;t believe it was that simple. Thank you"}],"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667925247,"creation_date":1667924712,"question_id":74364020,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Hangman\r\n{\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString secretWord = &quot;dinosaur&quot;;\r\n\t\tchar[] secretWordArray = new char[] {&#39;d&#39;, &#39;i&#39;, &#39;n&#39;, &#39;o&#39;, &#39;s&#39;, &#39;a&#39;, &#39;u&#39;, &#39;r&#39;};\r\n\t\tchar[] ansArray = new char[8];\r\n\t\tint lives = 6;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Starting game...\\n\\n&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Your secret word is: &quot;);\r\n\t\t//Displays the &#39;fillers&#39;: ******* \r\n\t\tfor(int i = 0; i&lt;secretWordArray.length; i++)\r\n\t\t{\r\n\t\t\tansArray[i] = &#39;*&#39;;\r\n\t\t}\r\n\t\t\r\n\t\twhile(lives&gt;0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;\\nInput a letter: &quot;);\r\n\t\t\tString guessString = in.nextLine();\r\n\t\t\tchar guess = guessString.charAt(0);\r\n\t\t\t\r\n\t\t\tif(secretWord.contains(guessString))\r\n\t\t\t{\r\n\t\t\t\tfor(int j = 0; j&lt;secretWordArray.length; j++) \r\n\t\t\t\t{\r\n\t\t\t\t\tif(secretWordArray[j] == guess)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tansArray[j] = guess;\r\n\t\t\t\t\t\tSystem.out.println(&quot;The word contains the letter &quot; + guess + &quot;!&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Your word looks like this: &quot; + ansArray);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} //end for-loop \r\n\t\t\t} //end if (guess correct statement)\r\n\t\t\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;The word does not contain the letter &quot; + guess + &quot;.\\nYou have &quot; + lives + &quot; lives left.&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Your word looks like this: &quot; + ansArray);\r\n\t\t\t\tlives--;\r\n\t\t\t}\r\n\t\t} //end while (lives loop)\r\n\t\t\r\n\t} //end main\r\n} //end class\r\n```\r\n\r\n\r\nCoding a simple hangman game for CS101 final project. Stuck on what to do next.\r\n\r\nI used a char[] secretWordArray to breakdown the word into each letter. The char[] ansArray is a blank array which at the start of the program, is equal to * * * * * * * . If the user guesses &#39;o&#39;, ansArray is changed to * * * o * * * *\r\n\r\nI&#39;m not really sure if there&#39;s a better alternative than using a char[] arr to go about this? Or if my thought process is right and I&#39;m just coding it wrong? Help pls","title":"java hangman game -- replacing a specific letter if user guessed correctly","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Hangman\n{\n    public static void main(String[] args) throws IOException\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String secretWord = &quot;dinosaur&quot;;\n        char[] secretWordArray = new char[] {'d', 'i', 'n', 'o', 's', 'a', 'u', 'r'};\n        char[] ansArray = new char[8];\n        int lives = 6;\n        \n        System.out.println(&quot;Starting game...\\n\\n&quot;);\n        \n        System.out.println(&quot;Your secret word is: &quot;);\n        //Displays the 'fillers': ******* \n        for(int i = 0; i&lt;secretWordArray.length; i++)\n        {\n            ansArray[i] = '*';\n        }\n        \n        while(lives&gt;0)\n        {\n            System.out.println(&quot;\\nInput a letter: &quot;);\n            String guessString = in.nextLine();\n            char guess = guessString.charAt(0);\n            \n            if(secretWord.contains(guessString))\n            {\n                for(int j = 0; j&lt;secretWordArray.length; j++) \n                {\n                    if(secretWordArray[j] == guess)\n                    {\n                        ansArray[j] = guess;\n                        System.out.println(&quot;The word contains the letter &quot; + guess + &quot;!&quot;);\n                        System.out.println(&quot;Your word looks like this: &quot; + ansArray);\n                        \n                    }\n                } //end for-loop \n            } //end if (guess correct statement)\n        \n            else\n            {\n                System.out.println(&quot;The word does not contain the letter &quot; + guess + &quot;.\\nYou have &quot; + lives + &quot; lives left.&quot;);\n                System.out.println(&quot;Your word looks like this: &quot; + ansArray);\n                lives--;\n            }\n        } //end while (lives loop)\n        \n    } //end main\n} //end class\n</code></pre>\n<p>Coding a simple hangman game for CS101 final project. Stuck on what to do next.</p>\n<p>I used a char[] secretWordArray to breakdown the word into each letter. The char[] ansArray is a blank array which at the start of the program, is equal to * * * * * * * . If the user guesses 'o', ansArray is changed to * * * o * * * *</p>\n<p>I'm not really sure if there's a better alternative than using a char[] arr to go about this? Or if my thought process is right and I'm just coding it wrong? Help pls</p>\n"},{"tags":["java","jms","activemq-artemis","jboss-eap-7"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667846954,"post_id":74350043,"comment_id":131260798,"body_markdown":"@JustinBertram.  thanks. I updated the question with queue stats.  I don&#39;t see an &quot;acked message count&quot; in the response.","body":"@JustinBertram.  thanks. I updated the question with queue stats.  I don&#39;t see an &quot;acked message count&quot; in the response."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667849401,"post_id":74350043,"comment_id":131261584,"body_markdown":"It looks like the messaging subsystem on EAP doesn&#39;t expose the acked message count from the underlying instance of ActiveMQ Artemis. However, it does expose `messages-added` so we can infer from the data you provided that one of the 30 total consumers on `HifWebHookQueue` received the one message which was sent because `messages-added` is `1` and `message-count` (i.e. how many messages are currently on the queue waiting to be consumed) is `0`. If the MDB didn&#39;t receive a message I would expect to see  `message-count` _and_ `messages-added` _and_ `consumer-count` &gt; 0.","body":"It looks like the messaging subsystem on EAP doesn&#39;t expose the acked message count from the underlying instance of ActiveMQ Artemis. However, it does expose <code>messages-added</code> so we can infer from the data you provided that one of the 30 total consumers on <code>HifWebHookQueue</code> received the one message which was sent because <code>messages-added</code> is <code>1</code> and <code>message-count</code> (i.e. how many messages are currently on the queue waiting to be consumed) is <code>0</code>. If the MDB didn&#39;t receive a message I would expect to see  <code>message-count</code> <i>and</i> <code>messages-added</code> <i>and</i> <code>consumer-count</code> &gt; 0."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667849451,"post_id":74350043,"comment_id":131261597,"body_markdown":"In short, at this point I see no evidence of a problem.","body":"In short, at this point I see no evidence of a problem."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667852587,"post_id":74350043,"comment_id":131262502,"body_markdown":"@JustinBertram - I meant the  &quot;onMessage()&quot; handler. the MDB did not receive the message.","body":"@JustinBertram - I meant the  &quot;onMessage()&quot; handler. the MDB did not receive the message."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667854508,"post_id":74350043,"comment_id":131262998,"body_markdown":"How do you know the MDB did not receive the message? According to the metrics you provided `HifWebHookQueue` has consumers and a message was added to the queue that is no longer there. _Something_ consumed that message. The default number of concurrent sessions for an MDB is 15 so I would expect your `consumer-count` to be 15. Since it is 30 then perhaps you have another MDB listening on the same queue. Have you explored this possibility?","body":"How do you know the MDB did not receive the message? According to the metrics you provided <code>HifWebHookQueue</code> has consumers and a message was added to the queue that is no longer there. <i>Something</i> consumed that message. The default number of concurrent sessions for an MDB is 15 so I would expect your <code>consumer-count</code> to be 15. Since it is 30 then perhaps you have another MDB listening on the same queue. Have you explored this possibility?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667855880,"post_id":74350043,"comment_id":131263406,"body_markdown":"There is no other MDB listening on the queue, and I have a breakpoint in the debugger in the MDB code, and 1/2 the time it never hits. I also update a table with the status, and it does not get updated.  Very strange.","body":"There is no other MDB listening on the queue, and I have a breakpoint in the debugger in the MDB code, and 1/2 the time it never hits. I also update a table with the status, and it does not get updated.  Very strange."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667864479,"post_id":74350043,"comment_id":131265327,"body_markdown":"The evidence indicates that there is another consumer on the queue given that `message-count` is 0 and `messages-added` is 1. How are you confirming there is no other consumer on the queue? Can you run `/subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:list-consumers-as-json`?","body":"The evidence indicates that there is another consumer on the queue given that <code>message-count</code> is 0 and <code>messages-added</code> is 1. How are you confirming there is no other consumer on the queue? Can you run <code>&#47;subsystem=messaging-activemq&#47;server=default&#47;jms-queue=HIFWe&zwnj;&#8203;bHookQueue:list-cons&zwnj;&#8203;umers-as-json</code>?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667921773,"post_id":74350043,"comment_id":131280649,"body_markdown":"@JustinBertram - you were correct.  I am an idiot.  I had an earlier version of the code with a test MDB in a different package that I forgot about.  Please submit an answer so I can give you credit for the time you spent.  thanks!","body":"@JustinBertram - you were correct.  I am an idiot.  I had an earlier version of the code with a test MDB in a different package that I forgot about.  Please submit an answer so I can give you credit for the time you spent.  thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667924361,"creation_date":1667924361,"answer_id":74363949,"question_id":74350043,"body_markdown":"The data you provided indicates that one of the 30 total consumers on `HifWebHookQueue` received the one message which was sent because `messages-added` is 1 and `message-count` (i.e. how many messages are currently on the queue waiting to be consumed) is 0. If the message wasn&#39;t consumed I would expect to see `message-count` and `messages-added` and `consumer-count` &gt; 0.\r\nThe default number of concurrent sessions for an MDB is 15 so I would expect your consumer-count to be 15. Since it is 30 then you almost certainly have another MDB deployed also consuming from `HifWebHookQueue`.\r\n\r\nYou can run the following command to see all the consumers for `HifWebHookQueue`:\r\n```\r\n/subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:list-consumers-as-json?\r\n```","title":"JBoss JMS MDB is losing messages","body":"<p>The data you provided indicates that one of the 30 total consumers on <code>HifWebHookQueue</code> received the one message which was sent because <code>messages-added</code> is 1 and <code>message-count</code> (i.e. how many messages are currently on the queue waiting to be consumed) is 0. If the message wasn't consumed I would expect to see <code>message-count</code> and <code>messages-added</code> and <code>consumer-count</code> &gt; 0.\nThe default number of concurrent sessions for an MDB is 15 so I would expect your consumer-count to be 15. Since it is 30 then you almost certainly have another MDB deployed also consuming from <code>HifWebHookQueue</code>.</p>\n<p>You can run the following command to see all the consumers for <code>HifWebHookQueue</code>:</p>\n<pre><code>/subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:list-consumers-as-json?\n</code></pre>\n"}],"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74363949,"answer_count":1,"score":0,"last_activity_date":1667924361,"creation_date":1667839625,"question_id":74350043,"body_markdown":"I have a pretty standard web app on EAP 7.2. Requests come in through a servlet which sends a message to a JMS queue which is then processed by an MDB. Maybe 50% of the time the `onMessage()` method on the MDB is never invoked when the producer sends the message. There are no errors in the server log file. Here&#39;s the basic setup:\r\n\r\njboss config:\r\n```xml\r\n&lt;jms-queue name=&quot;HIFWebHookQueue&quot; entries=&quot;HifWebHookQueue java:jboss/exported/jms/queue/HifWebHookQueue&quot;/&gt;\r\n```\r\n\r\nServlet side:\r\n```java\r\n@WebServlet(name = &quot;/&quot;)\r\npublic class MyServlet extends HttpServlet {\r\n\r\n    @Inject\r\n    private JMSContext context;\r\n\r\n    @Resource(lookup = &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;)\r\n    private Queue queue;\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\r\n\t \r\n        JMSProducer producer = context.createProducer();\r\n    \tproducer.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n    \tObjectMessage msg = context.createObjectMessage(evt);  //evt is a serializable pojo\r\n    \tproducer.send(queue,evt);\r\n\t}\r\n```\r\nthe MDB side:\r\n```java\r\n@MessageDriven(name = &quot;WebhookListenerEJB&quot;, activationConfig = {\r\n    @ActivationConfigProperty(propertyName=&quot;messagingType&quot;, propertyValue=&quot;javax.jms.MessageListener&quot;),\r\n    @ActivationConfigProperty(propertyName=&quot;destinationType&quot;, propertyValue=&quot;javax.jms.Queue&quot;),\r\n    @ActivationConfigProperty(propertyName=&quot;destination&quot;, propertyValue=&quot;java:/jms/queue/HIFWebHookQueue&quot;),\r\n    @ActivationConfigProperty(propertyName=&quot;ConnectionFactoryName&quot;, propertyValue=&quot;ConnectionFactory&quot;),\r\n})\r\n@TransactionManagement(value = TransactionManagementType.CONTAINER)\r\n@TransactionAttribute(value = TransactionAttributeType.REQUIRED)\r\npublic class WebhookListenerEJB implements MessageListener {\r\n\r\n    public void onMessage(Message message) {\r\n        ObjectMessage msg = (ObjectMessage) message;\r\n        ... stuff ...\r\n        message.acknowledge();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s output from the JBoss CLI after sending 1st message (and no MDB event):\r\n```\r\n[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:read-resource(include-runtime=true)\r\n{\r\n    &quot;outcome&quot; =&gt; &quot;success&quot;,\r\n    &quot;result&quot; =&gt; {\r\n        &quot;consumer-count&quot; =&gt; 30,\r\n        &quot;dead-letter-address&quot; =&gt; &quot;jms.queue.DLQ&quot;,\r\n        &quot;delivering-count&quot; =&gt; 0,\r\n        &quot;durable&quot; =&gt; true,\r\n        &quot;entries&quot; =&gt; [\r\n            &quot;HifWebHookQueue&quot;,\r\n            &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;\r\n        ],\r\n        &quot;expiry-address&quot; =&gt; &quot;jms.queue.ExpiryQueue&quot;,\r\n        &quot;legacy-entries&quot; =&gt; undefined,\r\n        &quot;message-count&quot; =&gt; 0L,\r\n        &quot;messages-added&quot; =&gt; 1L,\r\n        &quot;paused&quot; =&gt; false,\r\n        &quot;queue-address&quot; =&gt; &quot;jms.queue.HIFWebHookQueue&quot;,\r\n        &quot;scheduled-count&quot; =&gt; 0L,\r\n        &quot;selector&quot; =&gt; undefined,\r\n        &quot;temporary&quot; =&gt; false\r\n    }\r\n}\r\n```","title":"JBoss JMS MDB is losing messages","body":"<p>I have a pretty standard web app on EAP 7.2. Requests come in through a servlet which sends a message to a JMS queue which is then processed by an MDB. Maybe 50% of the time the <code>onMessage()</code> method on the MDB is never invoked when the producer sends the message. There are no errors in the server log file. Here's the basic setup:</p>\n<p>jboss config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jms-queue name=&quot;HIFWebHookQueue&quot; entries=&quot;HifWebHookQueue java:jboss/exported/jms/queue/HifWebHookQueue&quot;/&gt;\n</code></pre>\n<p>Servlet side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(name = &quot;/&quot;)\npublic class MyServlet extends HttpServlet {\n\n    @Inject\n    private JMSContext context;\n\n    @Resource(lookup = &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;)\n    private Queue queue;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\n     \n        JMSProducer producer = context.createProducer();\n        producer.setDeliveryMode(DeliveryMode.PERSISTENT);\n        ObjectMessage msg = context.createObjectMessage(evt);  //evt is a serializable pojo\n        producer.send(queue,evt);\n    }\n</code></pre>\n<p>the MDB side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MessageDriven(name = &quot;WebhookListenerEJB&quot;, activationConfig = {\n    @ActivationConfigProperty(propertyName=&quot;messagingType&quot;, propertyValue=&quot;javax.jms.MessageListener&quot;),\n    @ActivationConfigProperty(propertyName=&quot;destinationType&quot;, propertyValue=&quot;javax.jms.Queue&quot;),\n    @ActivationConfigProperty(propertyName=&quot;destination&quot;, propertyValue=&quot;java:/jms/queue/HIFWebHookQueue&quot;),\n    @ActivationConfigProperty(propertyName=&quot;ConnectionFactoryName&quot;, propertyValue=&quot;ConnectionFactory&quot;),\n})\n@TransactionManagement(value = TransactionManagementType.CONTAINER)\n@TransactionAttribute(value = TransactionAttributeType.REQUIRED)\npublic class WebhookListenerEJB implements MessageListener {\n\n    public void onMessage(Message message) {\n        ObjectMessage msg = (ObjectMessage) message;\n        ... stuff ...\n        message.acknowledge();\n    }\n}\n</code></pre>\n<p>Here's output from the JBoss CLI after sending 1st message (and no MDB event):</p>\n<pre><code>[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:read-resource(include-runtime=true)\n{\n    &quot;outcome&quot; =&gt; &quot;success&quot;,\n    &quot;result&quot; =&gt; {\n        &quot;consumer-count&quot; =&gt; 30,\n        &quot;dead-letter-address&quot; =&gt; &quot;jms.queue.DLQ&quot;,\n        &quot;delivering-count&quot; =&gt; 0,\n        &quot;durable&quot; =&gt; true,\n        &quot;entries&quot; =&gt; [\n            &quot;HifWebHookQueue&quot;,\n            &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;\n        ],\n        &quot;expiry-address&quot; =&gt; &quot;jms.queue.ExpiryQueue&quot;,\n        &quot;legacy-entries&quot; =&gt; undefined,\n        &quot;message-count&quot; =&gt; 0L,\n        &quot;messages-added&quot; =&gt; 1L,\n        &quot;paused&quot; =&gt; false,\n        &quot;queue-address&quot; =&gt; &quot;jms.queue.HIFWebHookQueue&quot;,\n        &quot;scheduled-count&quot; =&gt; 0L,\n        &quot;selector&quot; =&gt; undefined,\n        &quot;temporary&quot; =&gt; false\n    }\n}\n</code></pre>\n"},{"tags":["java","for-loop","count","average"],"comments":[{"owner":{"account_id":329656,"reputation":42009,"user_id":653298,"display_name":"Jacob"},"score":3,"creation_date":1312966777,"post_id":7008189,"comment_id":8367969,"body_markdown":"args.length already contains your `count`, no need for the first for loop. Whats your question? Are you asking for improvements? Does your code work? Do you want to know how to transform `args[]` to an `int`-array?","body":"args.length already contains your <code>count</code>, no need for the first for loop. Whats your question? Are you asking for improvements? Does your code work? Do you want to know how to transform <code>args[]</code> to an <code>int</code>-array?"},{"owner":{"account_id":254934,"reputation":638,"user_id":534659,"accept_rate":89,"display_name":"mj.scintilla"},"score":0,"creation_date":1312966943,"post_id":7008189,"comment_id":8368012,"body_markdown":"`int count = args.length;` to get number of arguments ..","body":"<code>int count = args.length;</code> to get number of arguments .."},{"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"score":0,"creation_date":1312967028,"post_id":7008189,"comment_id":8368031,"body_markdown":"Is these two codes related or not ? Because in 2nd for loop you are using count.","body":"Is these two codes related or not ? Because in 2nd for loop you are using count."},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":0,"creation_date":1312967119,"post_id":7008189,"comment_id":8368056,"body_markdown":"Related: http://stackoverflow.com/questions/6993060/simple-calculator-program-in-java-no-of-integers-read-and-average/","body":"Related: <a href=\"http://stackoverflow.com/questions/6993060/simple-calculator-program-in-java-no-of-integers-read-and-average/\" title=\"simple calculator program in java no of integers read and average\">stackoverflow.com/questions/6993060/&hellip;</a>"},{"owner":{"account_id":475252,"reputation":137,"user_id":885460,"accept_rate":50,"display_name":"syncoroll"},"score":0,"creation_date":1312968595,"post_id":7008189,"comment_id":8368388,"body_markdown":"Sorry i wasnt clear,  Ive written code for the average, but i dont know how to make it so that it also uses ints from my args.length rather than the array","body":"Sorry i wasnt clear,  Ive written code for the average, but i dont know how to make it so that it also uses ints from my args.length rather than the array"}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312966815,"creation_date":1312966815,"answer_id":7008233,"question_id":7008189,"body_markdown":"This\r\n\r\n    for (int i = 0; i&lt;args.length -1; ++i)\r\n        count++;\r\n\r\nbasically computes `args.length` again, just incorrectly (loop condition should be `i&lt;args.length`). Why not just use `args.length` (or `nums.length`) directly instead?\r\n\r\nOtherwise your code seems OK. Although it looks as though you wanted to read the input from the command line, but don&#39;t know how to convert that into an array of numbers - is this your real problem?\r\n","title":"Calculate average in java","body":"<p>This</p>\n\n<pre><code>for (int i = 0; i&lt;args.length -1; ++i)\n    count++;\n</code></pre>\n\n<p>basically computes <code>args.length</code> again, just incorrectly (loop condition should be <code>i&lt;args.length</code>). Why not just use <code>args.length</code> (or <code>nums.length</code>) directly instead?</p>\n\n<p>Otherwise your code seems OK. Although it looks as though you wanted to read the input from the command line, but don't know how to convert that into an array of numbers - is this your real problem?</p>\n"},{"comments":[{"owner":{"account_id":475252,"reputation":137,"user_id":885460,"accept_rate":50,"display_name":"syncoroll"},"score":0,"creation_date":1312969811,"post_id":7008265,"comment_id":8368702,"body_markdown":"If i was to use args.lengths instead of nums.length what would i do to &quot;sum += nums[i];&quot; ?","body":"If i was to use args.lengths instead of nums.length what would i do to &quot;sum += nums[i];&quot; ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1312970525,"post_id":7008265,"comment_id":8368915,"body_markdown":"@syncoroll Rereading your updated question I also updated my answer.","body":"@syncoroll Rereading your updated question I also updated my answer."},{"owner":{"account_id":182648,"reputation":3820,"user_id":417516,"accept_rate":68,"display_name":"banjara"},"score":0,"creation_date":1343380572,"post_id":7008265,"comment_id":15491566,"body_markdown":"integer overflow is not taken care of","body":"integer overflow is not taken care of"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1343633359,"post_id":7008265,"comment_id":15544334,"body_markdown":"@zuxqoj That&#39;s true but I doubt this will be a problem here and I&#39;d rather like to keep the example simple. I&#39;ll add another example though.","body":"@zuxqoj That&#39;s true but I doubt this will be a problem here and I&#39;d rather like to keep the example simple. I&#39;ll add another example though."},{"owner":{"account_id":1927754,"reputation":5881,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Žilėnas"},"score":1,"creation_date":1389079128,"post_id":7008265,"comment_id":31495705,"body_markdown":"You should check if 0 == args.length, if you don&#39;t do this then you  you get &quot;division by zero&quot; on line double average = sum/args.length; when args.length is 0.","body":"You should check if 0 == args.length, if you don&#39;t do this then you  you get &quot;division by zero&quot; on line double average = sum/args.length; when args.length is 0."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1389102705,"post_id":7008265,"comment_id":31509078,"body_markdown":"@MariusŽilėnas you&#39;re right and there are probably still a couple of further errors that might occur, but for simplicity&#39;s sake and in the case of the OP those are omitted and left for the implementor to handle.","body":"@MariusŽilėnas you&#39;re right and there are probably still a couple of further errors that might occur, but for simplicity&#39;s sake and in the case of the OP those are omitted and left for the implementor to handle."},{"owner":{"account_id":5333573,"reputation":1377,"user_id":4253424,"display_name":"huseyin"},"score":0,"creation_date":1495624520,"post_id":7008265,"comment_id":75329788,"body_markdown":"sum += Double.valueOf( args );  should be sum += Double.valueOf( arg );","body":"sum += Double.valueOf( args );  should be sum += Double.valueOf( arg );"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1495632067,"post_id":7008265,"comment_id":75335551,"body_markdown":"@Andromeda you&#39;re right, I fixed it in both snippets.","body":"@Andromeda you&#39;re right, I fixed it in both snippets."}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":8,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1495632021,"creation_date":1312966942,"answer_id":7008265,"question_id":7008189,"body_markdown":"Just some minor modification to your code will do (with some var renaming for clarity) :\r\n\r\n\r\n    double sum = 0; //average will have decimal point\r\n\r\n    for(int i=0; i &lt; args.length; i++){\r\n       //parse string to double, note that this might fail if you encounter a non-numeric string\r\n       //Note that we could also do Integer.valueOf( args[i] ) but this is more flexible\r\n       sum += Double.valueOf( args[i] ); \r\n    }\r\n    \r\n    double average = sum/args.length;\r\n\r\n    System.out.println(average );\r\n    \r\nNote that the loop can also be simplified:\r\n\r\n    for(String arg : args){\r\n       sum += Double.valueOf( arg );\r\n    }\r\n\r\nEdit: the OP seems to want to use the `args` array. This seems to be a String array, thus updated the answer accordingly.\r\n\r\n__Update__:\r\n\r\nAs zoxqoj correctly pointed out, integer/double overflow is not taken care of in the code above. Although I assume the input values will be small enough to not have that problem, here&#39;s a snippet to use for really large input values:\r\n\r\n    BigDecimal sum = BigDecimal.ZERO;\r\n    for(String arg : args){\r\n      sum = sum.add( new BigDecimal( arg ) );\r\n    }\r\n\r\nThis approach has several advantages (despite being somewhat slower, so don&#39;t use it for time critical operations):\r\n\r\n- Precision is kept, with double you will gradually loose precision with the number of math operations (or not get exact precision at all, depending on the numbers)\r\n- The probability of overflow is practically eliminated. Note however, that a `BigDecimal` might be bigger than what fits into a `double` or `long`.","title":"Calculate average in java","body":"<p>Just some minor modification to your code will do (with some var renaming for clarity) :</p>\n\n<pre><code>double sum = 0; //average will have decimal point\n\nfor(int i=0; i &lt; args.length; i++){\n   //parse string to double, note that this might fail if you encounter a non-numeric string\n   //Note that we could also do Integer.valueOf( args[i] ) but this is more flexible\n   sum += Double.valueOf( args[i] ); \n}\n\ndouble average = sum/args.length;\n\nSystem.out.println(average );\n</code></pre>\n\n<p>Note that the loop can also be simplified:</p>\n\n<pre><code>for(String arg : args){\n   sum += Double.valueOf( arg );\n}\n</code></pre>\n\n<p>Edit: the OP seems to want to use the <code>args</code> array. This seems to be a String array, thus updated the answer accordingly.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>As zoxqoj correctly pointed out, integer/double overflow is not taken care of in the code above. Although I assume the input values will be small enough to not have that problem, here's a snippet to use for really large input values:</p>\n\n<pre><code>BigDecimal sum = BigDecimal.ZERO;\nfor(String arg : args){\n  sum = sum.add( new BigDecimal( arg ) );\n}\n</code></pre>\n\n<p>This approach has several advantages (despite being somewhat slower, so don't use it for time critical operations):</p>\n\n<ul>\n<li>Precision is kept, with double you will gradually loose precision with the number of math operations (or not get exact precision at all, depending on the numbers)</li>\n<li>The probability of overflow is practically eliminated. Note however, that a <code>BigDecimal</code> might be bigger than what fits into a <code>double</code> or <code>long</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":785985,"reputation":1,"user_id":857894,"display_name":"Jordan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967030,"creation_date":1312967030,"answer_id":7008287,"question_id":7008189,"body_markdown":"     System.out.println(result/count) \r\nyou can&#39;t do this because result/count is not a String type, and System.out.println() only takes a String parameter. perhaps try:\r\n\r\n    double avg = (double)result / (double)args.length","title":"Calculate average in java","body":"<pre><code> System.out.println(result/count) \n</code></pre>\n\n<p>you can't do this because result/count is not a String type, and System.out.println() only takes a String parameter. perhaps try:</p>\n\n<pre><code>double avg = (double)result / (double)args.length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1312967033,"creation_date":1312967033,"answer_id":7008288,"question_id":7008189,"body_markdown":"    int values[] = { 23, 1, 5, 78, 22, 4};\r\n\r\n    int sum = 0;\r\n    for (int i = 0; i &lt; values.length; i++)\r\n        sum += values[i];\r\n\r\n    double average = ((double) sum) / values.length;","title":"Calculate average in java","body":"<pre><code>int values[] = { 23, 1, 5, 78, 22, 4};\n\nint sum = 0;\nfor (int i = 0; i &lt; values.length; i++)\n    sum += values[i];\n\ndouble average = ((double) sum) / values.length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341876,"reputation":3376,"user_id":672736,"accept_rate":70,"display_name":"Swagatika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967050,"creation_date":1312967050,"answer_id":7008291,"question_id":7008189,"body_markdown":"for 1. the number of integers read in, you can just use length property of array like :\r\n\r\n    int count = args.length\r\nwhich gives you no of elements in an array.\r\nAnd 2. to calculate average value :\r\n you are doing in correct way.","title":"Calculate average in java","body":"<p>for 1. the number of integers read in, you can just use length property of array like :</p>\n\n<pre><code>int count = args.length\n</code></pre>\n\n<p>which gives you no of elements in an array.\nAnd 2. to calculate average value :\n you are doing in correct way.</p>\n"},{"comments":[{"owner":{"account_id":475252,"reputation":137,"user_id":885460,"accept_rate":50,"display_name":"syncoroll"},"score":0,"creation_date":1312969546,"post_id":7008318,"comment_id":8368618,"body_markdown":"I got an error for using args. &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\tType mismatch: cannot convert from element type String to int&quot;","body":"I got an error for using args. &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:  \tType mismatch: cannot convert from element type String to int&quot;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1312970127,"post_id":7008318,"comment_id":8368798,"body_markdown":"Note that `res /= count` will do integer division and thus would most certainly yield the wrong result (the OP states that the average may contain decimal points).","body":"Note that <code>res &#47;= count</code> will do integer division and thus would most certainly yield the wrong result (the OP states that the average may contain decimal points)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1312970254,"post_id":7008318,"comment_id":8368847,"body_markdown":"@syncoroll You didn&#39;t tell us what `args` actually is - thus it might be assumed it is `int[] args`. Most likely you have `String[] args` (it&#39;s a `main` method, right?) - thus you&#39;d have to change the for loop to `for( String a : args)` and call `res += Integer.parseInt( a)` inside.","body":"@syncoroll You didn&#39;t tell us what <code>args</code> actually is - thus it might be assumed it is <code>int[] args</code>. Most likely you have <code>String[] args</code> (it&#39;s a <code>main</code> method, right?) - thus you&#39;d have to change the for loop to <code>for( String a : args)</code> and call <code>res += Integer.parseInt( a)</code> inside."},{"owner":{"account_id":473674,"reputation":1913,"user_id":882913,"accept_rate":100,"display_name":"GrandMarquis"},"score":0,"creation_date":1312974831,"post_id":7008318,"comment_id":8369957,"body_markdown":"You know, i won&#39;t test code for your homework! This is just a way of doing it, an algorithm.. it should work, it depends on the type of your vars..","body":"You know, i won&#39;t test code for your homework! This is just a way of doing it, an algorithm.. it should work, it depends on the type of your vars.."}],"tags":[],"owner":{"account_id":473674,"reputation":1913,"user_id":882913,"accept_rate":100,"display_name":"GrandMarquis"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967251,"creation_date":1312967251,"answer_id":7008318,"question_id":7008189,"body_markdown":"Instead of:\r\n\r\n    int count = 0;\r\n    for (int i = 0; i&lt;args.length -1; ++i)\r\n        count++;\r\n    System.out.println(count);\r\n\r\n     }\r\n\r\nyou can just\r\n\r\n    int count = args.length;\r\n\r\n\r\nThe average is the sum of your args divided by the number of your args.\r\n\r\n    int res = 0;\r\n    int count = args.lenght;\r\n\r\n    for (int a : args)\r\n    {\r\n    res += a;\r\n    }\r\n    res /= count;\r\n\r\nyou can make this code shorter too, i&#39;ll let you try and ask if you need help!\r\n\r\nThis is my first answerso tell me if something wrong!","title":"Calculate average in java","body":"<p>Instead of:</p>\n\n<pre><code>int count = 0;\nfor (int i = 0; i&lt;args.length -1; ++i)\n    count++;\nSystem.out.println(count);\n\n }\n</code></pre>\n\n<p>you can just</p>\n\n<pre><code>int count = args.length;\n</code></pre>\n\n<p>The average is the sum of your args divided by the number of your args.</p>\n\n<pre><code>int res = 0;\nint count = args.lenght;\n\nfor (int a : args)\n{\nres += a;\n}\nres /= count;\n</code></pre>\n\n<p>you can make this code shorter too, i'll let you try and ask if you need help!</p>\n\n<p>This is my first answerso tell me if something wrong!</p>\n"},{"tags":[],"owner":{"display_name":"user837324"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967366,"creation_date":1312967366,"answer_id":7008344,"question_id":7008189,"body_markdown":"If you&#39;re trying to get the integers from the command line args, you&#39;ll need something like this:\r\n\r\n    public static void main(String[] args) {\r\n        int[] nums = new int[args.length];\r\n        for(int i = 0; i &lt; args.length; i++) {\r\n            try {\r\n                nums[i] = Integer.parseInt(args[i]);\r\n            }\r\n            catch(NumberFormatException nfe) {\r\n                System.err.println(&quot;Invalid argument&quot;);\r\n            }\r\n        }\r\n        \r\n        // averaging code here\r\n    }\r\n\r\nAs for the actual averaging code, others have suggested how you can tweak that (so I won&#39;t repeat what they&#39;ve said).\r\n\r\nEdit: actually it&#39;s probably better to just put it inside the above loop and not use the `nums` array at all","title":"Calculate average in java","body":"<p>If you're trying to get the integers from the command line args, you'll need something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] nums = new int[args.length];\n    for(int i = 0; i &lt; args.length; i++) {\n        try {\n            nums[i] = Integer.parseInt(args[i]);\n        }\n        catch(NumberFormatException nfe) {\n            System.err.println(\"Invalid argument\");\n        }\n    }\n\n    // averaging code here\n}\n</code></pre>\n\n<p>As for the actual averaging code, others have suggested how you can tweak that (so I won't repeat what they've said).</p>\n\n<p>Edit: actually it's probably better to just put it inside the above loop and not use the <code>nums</code> array at all</p>\n"},{"tags":[],"owner":{"account_id":2789334,"reputation":3588,"user_id":2399894,"accept_rate":93,"display_name":"SARose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440866871,"creation_date":1440866871,"answer_id":32288434,"question_id":7008189,"body_markdown":"I&#39;m going to show you 2 ways. If you don&#39;t need a lot of stats in your project simply implement following. \r\n\r\n    public double average(ArrayList&lt;Double&gt; x) {\r\n        double sum = 0;\r\n        for (double aX : x) sum += aX;\r\n        return (sum / x.size());\r\n    }\r\n\r\nIf you plan on doing a lot of stats might as well not reinvent the wheel. So why not check out http://commons.apache.org/proper/commons-math/userguide/stat.html\r\n\r\nYou&#39;ll fall into true luv!","title":"Calculate average in java","body":"<p>I'm going to show you 2 ways. If you don't need a lot of stats in your project simply implement following. </p>\n\n<pre><code>public double average(ArrayList&lt;Double&gt; x) {\n    double sum = 0;\n    for (double aX : x) sum += aX;\n    return (sum / x.size());\n}\n</code></pre>\n\n<p>If you plan on doing a lot of stats might as well not reinvent the wheel. So why not check out <a href=\"http://commons.apache.org/proper/commons-math/userguide/stat.html\" rel=\"nofollow\">http://commons.apache.org/proper/commons-math/userguide/stat.html</a></p>\n\n<p>You'll fall into true luv!</p>\n"},{"tags":[],"owner":{"account_id":9903355,"reputation":1,"user_id":7332641,"display_name":"mrlectus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506582789,"creation_date":1506579856,"answer_id":46462290,"question_id":7008189,"body_markdown":"    public class MainTwo{\r\n        public static void main(String[] arguments) {\r\n            double[] Average = new double[5];\r\n            Average[0] = 4;\r\n            Average[1] = 5;\r\n            Average[2] = 2;\r\n            Average[3] = 4;\r\n            Average[4] = 5;\r\n            double sum = 0;\r\n            if (Average.length &gt; 0) {\r\n                for (int x = 0; x &lt; Average.length; x++) {\r\n                    sum+=Average[x];\r\n                    System.out.println(Average[x]);\r\n                }\r\n                System.out.println(&quot;Sum is &quot; + sum);\r\n                System.out.println(&quot;Average is &quot; + sum/Average.length);\r\n          }\r\n       }\r\n    }","title":"Calculate average in java","body":"<pre><code>public class MainTwo{\n    public static void main(String[] arguments) {\n        double[] Average = new double[5];\n        Average[0] = 4;\n        Average[1] = 5;\n        Average[2] = 2;\n        Average[3] = 4;\n        Average[4] = 5;\n        double sum = 0;\n        if (Average.length &gt; 0) {\n            for (int x = 0; x &lt; Average.length; x++) {\n                sum+=Average[x];\n                System.out.println(Average[x]);\n            }\n            System.out.println(\"Sum is \" + sum);\n            System.out.println(\"Average is \" + sum/Average.length);\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964600,"reputation":976,"user_id":1765193,"display_name":"Ravi K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561528839,"creation_date":1561528839,"answer_id":56766143,"question_id":7008189,"body_markdown":"It seems old thread, but Java has evolved since then &amp; introduced Streams &amp; Lambdas in Java 8. So might help everyone who want to do it using Java 8 features. \r\n\r\n - In your case, you want to convert args which is String[] into double\r\n   or int. You can do this using `Arrays.stream(&lt;arr&gt;)`. Once you have stream of String array elements, you can use `mapToDouble(s -&gt; Double.parseDouble(s))` which will convert stream of Strings into    stream of doubles.\r\n - Then you can use `Stream.collect(supplier, accumulator, combiner)` to calculate average if you want to control incremental calculation yourselves. Here is [some good example][1].\r\n - If you don&#39;t want to incrementally do average, you can directly use Java&#39;s `Collectors.averagingDouble()` which directly calculates and returns average. some [examples here][2].\r\n\r\n\r\n  [1]: http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Stream.html#collectjava_util_function_Supplier-java_util_function_BiConsumer-java_util_function_BiConsumer\r\n  [2]: http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Collectors.html#averagingDoublejava_util_function_ToDoubleFunction","title":"Calculate average in java","body":"<p>It seems old thread, but Java has evolved since then &amp; introduced Streams &amp; Lambdas in Java 8. So might help everyone who want to do it using Java 8 features. </p>\n\n<ul>\n<li>In your case, you want to convert args which is String[] into double\nor int. You can do this using <code>Arrays.stream(&lt;arr&gt;)</code>. Once you have stream of String array elements, you can use <code>mapToDouble(s -&gt; Double.parseDouble(s))</code> which will convert stream of Strings into    stream of doubles.</li>\n<li>Then you can use <code>Stream.collect(supplier, accumulator, combiner)</code> to calculate average if you want to control incremental calculation yourselves. Here is <a href=\"http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Stream.html#collectjava_util_function_Supplier-java_util_function_BiConsumer-java_util_function_BiConsumer\" rel=\"nofollow noreferrer\">some good example</a>.</li>\n<li>If you don't want to incrementally do average, you can directly use Java's <code>Collectors.averagingDouble()</code> which directly calculates and returns average. some <a href=\"http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Collectors.html#averagingDoublejava_util_function_ToDoubleFunction\" rel=\"nofollow noreferrer\">examples here</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26869165,"reputation":1,"user_id":20451445,"display_name":"Anfal Ratul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667924039,"creation_date":1667923934,"answer_id":74363876,"question_id":7008189,"body_markdown":"// question: let, Take 10 integers from keyboard using loop and print their average value on the screen.\r\n// here they ask user to input 10 integars using loop and average those numbers.so the correct answer in my perspective with java is below:-\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class averageValueLoop {\r\n    public static void main(String[] args) {\r\n        try (Scanner sc = new Scanner(System.in)) {\r\n            int sum = 0;\r\n            for (int i = 0; i &lt; 10; i++){\r\n                System.out.print(&quot;Enter a number: &quot;);\r\n                sum = sum + sc.nextInt();\r\n            }\r\n\r\n            double average = sum / 10;\r\n            System.out.println(&quot;Average is &quot; + average);\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"Calculate average in java","body":"<p>// question: let, Take 10 integers from keyboard using loop and print their average value on the screen.\n// here they ask user to input 10 integars using loop and average those numbers.so the correct answer in my perspective with java is below:-</p>\n<pre><code>import java.util.Scanner;\n\npublic class averageValueLoop {\n    public static void main(String[] args) {\n        try (Scanner sc = new Scanner(System.in)) {\n            int sum = 0;\n            for (int i = 0; i &lt; 10; i++){\n                System.out.print(&quot;Enter a number: &quot;);\n                sum = sum + sc.nextInt();\n            }\n\n            double average = sum / 10;\n            System.out.println(&quot;Average is &quot; + average);\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":475252,"reputation":137,"user_id":885460,"accept_rate":50,"display_name":"syncoroll"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161452,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":7008265,"answer_count":11,"score":3,"last_activity_date":1667924039,"creation_date":1312966602,"question_id":7008189,"body_markdown":"**EDIT: I&#39;ve written code for the average but I don&#39;t know how to make it so that it also uses `int`s from my `args.length` rather than the array.**\r\n\r\nI need to write a java program that can calculate:\r\n1. the number of integers read in\r\n2. the average value &amp;ndash; which need not be an integer!\r\n\r\nNOTE: I don&#39;t want to calculate the average from the array but the integers in the `args`.\r\n\r\nCurrently I have written this:\r\n\r\n   \tint count = 0;\r\n\tfor (int i = 0; i&lt;args.length -1; ++i)\r\n        count++;\r\n\t\tSystem.out.println(count);\r\n    }\r\n\t\t\r\n\tint nums[] = new int[] { 23, 1, 5, 78, 22, 4};\r\n\tdouble result = 0; //average will have decimal point\r\n\tfor(int i=0; i &lt; nums.length; i++){\r\n\t\tresult += nums[i];\r\n\t}\r\n\tSystem.out.println(result/count)\r\n\r\nCan anyone guide me in the right direction? Or give an example that guides me in the right way to shape this code?\r\n\r\nThanks in advance.\r\n","title":"Calculate average in java","body":"<p><strong>EDIT: I've written code for the average but I don't know how to make it so that it also uses <code>int</code>s from my <code>args.length</code> rather than the array.</strong></p>\n<p>I need to write a java program that can calculate:</p>\n<ol>\n<li>the number of integers read in</li>\n<li>the average value – which need not be an integer!</li>\n</ol>\n<p>NOTE: I don't want to calculate the average from the array but the integers in the <code>args</code>.</p>\n<p>Currently I have written this:</p>\n<pre><code>int count = 0;\nfor (int i = 0; i&lt;args.length -1; ++i)\n    count++;\n    System.out.println(count);\n}\n    \nint nums[] = new int[] { 23, 1, 5, 78, 22, 4};\ndouble result = 0; //average will have decimal point\nfor(int i=0; i &lt; nums.length; i++){\n    result += nums[i];\n}\nSystem.out.println(result/count)\n</code></pre>\n<p>Can anyone guide me in the right direction? Or give an example that guides me in the right way to shape this code?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","image-processing","graphics","computer-vision","bezier"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667924358,"post_id":74344832,"comment_id":131281695,"body_markdown":"Can you expand the code a little by turning this into a [mcve]? (with the data loading and processing replaced by just &quot;loading in the image file you&#39;re showing&quot; which should only be a few lines of code).","body":"Can you expand the code a little by turning this into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? (with the data loading and processing replaced by just &quot;loading in the image file you&#39;re showing&quot; which should only be a few lines of code)."}],"answers":[{"comments":[{"owner":{"account_id":21728470,"reputation":136,"user_id":16037571,"display_name":"Shen"},"score":0,"creation_date":1667852069,"post_id":74350562,"comment_id":131262397,"body_markdown":"Hi Mike, thanks for you answer, I had a further question though. You said I can walk along the contour from the cut-off, but can this be made somehow deterministic, because I would like to generate same output for the same shape. Is there some loss/ cost I can calculate so the start and end points are fixed? \nThe location of the start and end point influence the intersection a lot, which I had been calculating till now, then I usually add some additional constraints to bring the intersection closer but it is very co-incidental.","body":"Hi Mike, thanks for you answer, I had a further question though. You said I can walk along the contour from the cut-off, but can this be made somehow deterministic, because I would like to generate same output for the same shape. Is there some loss/ cost I can calculate so the start and end points are fixed?  The location of the start and end point influence the intersection a lot, which I had been calculating till now, then I usually add some additional constraints to bring the intersection closer but it is very co-incidental."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667861215,"post_id":74350562,"comment_id":131264633,"body_markdown":"Depends on what kind of data you&#39;re working with, and in which language: you talked about numpy arrays, suggesting Python, but the code you&#39;re showing looks like Java, so... &quot;if you can describe the exact data format you&#39;re using, and the tech stack(s) you&#39;re tied to in your post&quot; then there&#39;s probably something more concrete to talk about =)","body":"Depends on what kind of data you&#39;re working with, and in which language: you talked about numpy arrays, suggesting Python, but the code you&#39;re showing looks like Java, so... &quot;if you can describe the exact data format you&#39;re using, and the tech stack(s) you&#39;re tied to in your post&quot; then there&#39;s probably something more concrete to talk about =)"},{"owner":{"account_id":21728470,"reputation":136,"user_id":16037571,"display_name":"Shen"},"score":0,"creation_date":1667896158,"post_id":74350562,"comment_id":131270693,"body_markdown":"Hi @Mike, I am working with java and not using any image processing library, I am using 2d arrays in java to process this data. I just said of sending numpy arrays because, I thought python is what most people use.","body":"Hi @Mike, I am working with java and not using any image processing library, I am using 2d arrays in java to process this data. I just said of sending numpy arrays because, I thought python is what most people use."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667922659,"post_id":74350562,"comment_id":131280992,"body_markdown":"people use _a lot_ of things, probably a good idea to at least tag your post with java, and maybe talk about the data your code uses right now. Because even if someone&#39;s going to say &quot;instead of that, do this: ...&quot; we need to know your current setup before we recommend solutions.","body":"people use <i>a lot</i> of things, probably a good idea to at least tag your post with java, and maybe talk about the data your code uses right now. Because even if someone&#39;s going to say &quot;instead of that, do this: ...&quot; we need to know your current setup before we recommend solutions."},{"owner":{"account_id":21728470,"reputation":136,"user_id":16037571,"display_name":"Shen"},"score":0,"creation_date":1667924510,"post_id":74350562,"comment_id":131281752,"body_markdown":"I have already mentioned my current steps, which is to take two extremas as control point p0 and p3 and find the third control point as the intersection of the lines drawn from the extremas and extremas.y-4. The first intersection point is p1, then I again find the mid point of line joining p1 and p3 to get  the final control point p2. Additionally, I am open to suggestions in any language, I just want to understand how can I optimize the location of my control points such that the curve fits better. \nShould I use something else other than Bezier curves?","body":"I have already mentioned my current steps, which is to take two extremas as control point p0 and p3 and find the third control point as the intersection of the lines drawn from the extremas and extremas.y-4. The first intersection point is p1, then I again find the mid point of line joining p1 and p3 to get  the final control point p2. Additionally, I am open to suggestions in any language, I just want to understand how can I optimize the location of my control points such that the curve fits better.  Should I use something else other than Bezier curves?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667924684,"post_id":74350562,"comment_id":131281824,"body_markdown":"I don&#39;t mean &quot;the code for drawing the infill&quot;, I mean the code that shows off the entire process. If you read through the official [&quot;how to ask a good question&quot;](/help/how-to-ask) guidelines you&#39;ll notice it talks about making sure you have as complete as possible code (with anything that be omitted removed, and anything that isn&#39;t part of the problem but required to show it off hardcoded to minimal form). Because that lets people copy your code, make it work, and then post that now-working-code in the answer they write.","body":"I don&#39;t mean &quot;the code for drawing the infill&quot;, I mean the code that shows off the entire process. If you read through the official <a href=\"/help/how-to-ask\">&quot;how to ask a good question&quot;</a> guidelines you&#39;ll notice it talks about making sure you have as complete as possible code (with anything that be omitted removed, and anything that isn&#39;t part of the problem but required to show it off hardcoded to minimal form). Because that lets people copy your code, make it work, and then post that now-working-code in the answer they write."}],"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667842954,"creation_date":1667842114,"answer_id":74350562,"question_id":74344832,"body_markdown":"If you use a quadratic or cubic Bezier, you can rely on the fact that the control point(s) _define(s)_ the tangent at the start and end points.\r\n\r\nFind your &quot;cutoff&quot; row, and then walk up the shape (with whatever visual processing library you&#39;re already using) on the left and right a little to pick the curve&#39;s start and end points. The first control point then lies somewhere on a line from the start point along the contour, with the same being true for the end point:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe simplest Bezier-based infill would be a quadratic curve, with the single control point at the intersection of those two lines. If you don&#39;t have quadratic primitives but you do have cubic primitives, you can get the exact same curve by creating control points by linear interpolation of the start+intersection and intersection+end pairs (See the second paragraph in https://pomax.github.io/bezierinfo/#reordering).\r\n\r\nOr you could reconstruct the &quot;perfect&quot; cubic by reversing de Casteljau&#39;s procedure (see https://pomax.github.io/bezierinfo/#abc) but I strongly doubt that&#39;s worth the effort.\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/qNcOd.png","title":"Inpainting missing curved segment in an image","body":"<p>If you use a quadratic or cubic Bezier, you can rely on the fact that the control point(s) <em>define(s)</em> the tangent at the start and end points.</p>\n<p>Find your &quot;cutoff&quot; row, and then walk up the shape (with whatever visual processing library you're already using) on the left and right a little to pick the curve's start and end points. The first control point then lies somewhere on a line from the start point along the contour, with the same being true for the end point:</p>\n<p><a href=\"https://i.stack.imgur.com/qNcOd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qNcOd.png\" alt=\"enter image description here\" /></a></p>\n<p>The simplest Bezier-based infill would be a quadratic curve, with the single control point at the intersection of those two lines. If you don't have quadratic primitives but you do have cubic primitives, you can get the exact same curve by creating control points by linear interpolation of the start+intersection and intersection+end pairs (See the second paragraph in <a href=\"https://pomax.github.io/bezierinfo/#reordering\" rel=\"nofollow noreferrer\">https://pomax.github.io/bezierinfo/#reordering</a>).</p>\n<p>Or you could reconstruct the &quot;perfect&quot; cubic by reversing de Casteljau's procedure (see <a href=\"https://pomax.github.io/bezierinfo/#abc\" rel=\"nofollow noreferrer\">https://pomax.github.io/bezierinfo/#abc</a>) but I strongly doubt that's worth the effort.</p>\n"}],"owner":{"account_id":21728470,"reputation":136,"user_id":16037571,"display_name":"Shen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667923608,"creation_date":1667815501,"question_id":74344832,"body_markdown":"I have few images (very low resolution), but due to the inconsistency in data collection, the images sometimes have a missing segment which can be identified by checking for horizontal lines from bottom (atleast that is what I do). I want to fix the missing segment with a reasonable curve in real-time.  For example-  \r\n [![enter image description here](https://i.stack.imgur.com/7azF8.png)](https://i.stack.imgur.com/7azF8.png)[![enter image description here](https://i.stack.imgur.com/GCWGJ.png)](https://i.stack.imgur.com/GCWGJ.png)  \r\nUnfortunately, I cannot upload the image in it&#39;s actual size, but if you want to experiment you can comment and then I will try to send few data as numpy arrays.\r\n\r\n**What have I tried?**  \r\nI have tried fixing the segments using Bezier curves. My Idea was to take the extremes of the horizontal segment as P&lt;sub&gt;0&lt;/sub&gt; and P&lt;sub&gt;3&lt;/sub&gt; and then calculate the intersection point P&lt;sub&gt;1&lt;/sub&gt; as shown in my code below:  \r\n```\r\npublic static Coordinate&lt;Integer&gt; pointofIntersection(List&lt;Coordinate&lt;Integer&gt;&gt; line1, List&lt;Coordinate&lt;Integer&gt;&gt; line2) {\r\n        var m1 = (line1.get(1).row - line1.get(0).row) / (line1.get(1).col - line1.get(0).col);\r\n        var m2 = (line2.get(1).row - line2.get(0).row) / (line2.get(1).col - line2.get(0).col);\r\n        var c1 = line1.get(0).row - m1 * line1.get(0).col;\r\n        var c2 = line2.get(0).row - m2 * line2.get(0).col;\r\n        m2 = m2==0?-1:m2;\r\n        m1 = m1==0?1:m1;\r\n        var slope_diff = (m1 - m2)==0?1:(m1-m2);\r\n        var x = (c2 - c1) / slope_diff;\r\n        var y = m1 * x + c1;\r\n        var slope_ratio = Math.abs((float)m1/(float)m2)&gt;1?Math.pow(Math.abs((float)m1/(float)m2),0.5):Math.pow(Math.abs((float)m1/(float)m2),2);\r\n        x = (int) (x/ slope_ratio);\r\n\r\n        return new Coordinate&lt;Integer&gt;(y, x);\r\n}\r\n```  \r\n\r\nFinally after getting P&lt;sub&gt;1&lt;/sub&gt;, I estimate the fourth control point P&lt;sub&gt;2&lt;/sub&gt; for Bezier curve as the center point of the line joining P&lt;sub&gt;3&lt;/sub&gt; and P&lt;sub&gt;1&lt;/sub&gt; and then I put P&lt;sub&gt;2&lt;/sub&gt;.y = P&lt;sub&gt;1&lt;/sub&gt;.y  \r\nAfter Calculating the four control points, I calculate the Bezier curve as follows:  \r\n\r\n```\r\npublic List&lt;Coordinate&lt;Integer&gt;&gt; generateBezierPath4Points(ArrayList&lt;Coordinate&lt;Integer&gt;&gt; controlPoints, int segments) {\r\n    ArrayList&lt;Coordinate&lt;Integer&gt;&gt; pointsForReturn = new ArrayList&lt;Coordinate&lt;Integer&gt;&gt;();\r\n\r\n    float t = 0;\r\n    for (int i = 0; i &lt; segments; i++) {\r\n        Coordinate p = new Coordinate(-1,-1);\r\n        var x = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).col)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).col) + (3*(1-t)*t*t*controlPoints.get(2).col) + (t*t*t*controlPoints.get(3).col);\r\n        var y = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).row)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).row) + (3*(1-t)*t*t*controlPoints.get(2).row) + (t*t*t*controlPoints.get(3).row);\r\n        Double r = Math.ceil(y);\r\n        Double c = Math.ceil(x);\r\n        p.row = r.intValue();\r\n        p.col = c.intValue();\r\n        t += 1.0f / segments;\r\n        pointsForReturn.add(p);\r\n    }\r\n    return pointsForReturn;\r\n}\r\n```  \r\n**My Results**  \r\n[![enter image description here](https://i.stack.imgur.com/mBHwD.png)](https://i.stack.imgur.com/mBHwD.png)  [![enter image description here](https://i.stack.imgur.com/FIo45.png)](https://i.stack.imgur.com/FIo45.png)  \r\n\r\n**What do I expect?**  \r\nAs you can clearly see that my estimations are sometimes more convex than expected. I want to fill the missing segment such that it appears more natural as I have tried to plot with inkscape (filled in red), where I can visually control the curve. see below:  \r\n[![enter image description here](https://i.stack.imgur.com/0tXqZ.png)](https://i.stack.imgur.com/0tXqZ.png)\r\n\r\n","title":"Inpainting missing curved segment in an image","body":"<p>I have few images (very low resolution), but due to the inconsistency in data collection, the images sometimes have a missing segment which can be identified by checking for horizontal lines from bottom (atleast that is what I do). I want to fix the missing segment with a reasonable curve in real-time.  For example-<br />\n<a href=\"https://i.stack.imgur.com/7azF8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7azF8.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/GCWGJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GCWGJ.png\" alt=\"enter image description here\" /></a><br />\nUnfortunately, I cannot upload the image in it's actual size, but if you want to experiment you can comment and then I will try to send few data as numpy arrays.</p>\n<p><strong>What have I tried?</strong><br />\nI have tried fixing the segments using Bezier curves. My Idea was to take the extremes of the horizontal segment as P<sub>0</sub> and P<sub>3</sub> and then calculate the intersection point P<sub>1</sub> as shown in my code below:</p>\n<pre><code>public static Coordinate&lt;Integer&gt; pointofIntersection(List&lt;Coordinate&lt;Integer&gt;&gt; line1, List&lt;Coordinate&lt;Integer&gt;&gt; line2) {\n        var m1 = (line1.get(1).row - line1.get(0).row) / (line1.get(1).col - line1.get(0).col);\n        var m2 = (line2.get(1).row - line2.get(0).row) / (line2.get(1).col - line2.get(0).col);\n        var c1 = line1.get(0).row - m1 * line1.get(0).col;\n        var c2 = line2.get(0).row - m2 * line2.get(0).col;\n        m2 = m2==0?-1:m2;\n        m1 = m1==0?1:m1;\n        var slope_diff = (m1 - m2)==0?1:(m1-m2);\n        var x = (c2 - c1) / slope_diff;\n        var y = m1 * x + c1;\n        var slope_ratio = Math.abs((float)m1/(float)m2)&gt;1?Math.pow(Math.abs((float)m1/(float)m2),0.5):Math.pow(Math.abs((float)m1/(float)m2),2);\n        x = (int) (x/ slope_ratio);\n\n        return new Coordinate&lt;Integer&gt;(y, x);\n}\n</code></pre>\n<p>Finally after getting P<sub>1</sub>, I estimate the fourth control point P<sub>2</sub> for Bezier curve as the center point of the line joining P<sub>3</sub> and P<sub>1</sub> and then I put P<sub>2</sub>.y = P<sub>1</sub>.y<br />\nAfter Calculating the four control points, I calculate the Bezier curve as follows:</p>\n<pre><code>public List&lt;Coordinate&lt;Integer&gt;&gt; generateBezierPath4Points(ArrayList&lt;Coordinate&lt;Integer&gt;&gt; controlPoints, int segments) {\n    ArrayList&lt;Coordinate&lt;Integer&gt;&gt; pointsForReturn = new ArrayList&lt;Coordinate&lt;Integer&gt;&gt;();\n\n    float t = 0;\n    for (int i = 0; i &lt; segments; i++) {\n        Coordinate p = new Coordinate(-1,-1);\n        var x = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).col)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).col) + (3*(1-t)*t*t*controlPoints.get(2).col) + (t*t*t*controlPoints.get(3).col);\n        var y = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).row)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).row) + (3*(1-t)*t*t*controlPoints.get(2).row) + (t*t*t*controlPoints.get(3).row);\n        Double r = Math.ceil(y);\n        Double c = Math.ceil(x);\n        p.row = r.intValue();\n        p.col = c.intValue();\n        t += 1.0f / segments;\n        pointsForReturn.add(p);\n    }\n    return pointsForReturn;\n}\n</code></pre>\n<p><strong>My Results</strong><br />\n<a href=\"https://i.stack.imgur.com/mBHwD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mBHwD.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/FIo45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FIo45.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>What do I expect?</strong><br />\nAs you can clearly see that my estimations are sometimes more convex than expected. I want to fill the missing segment such that it appears more natural as I have tried to plot with inkscape (filled in red), where I can visually control the curve. see below:<br />\n<a href=\"https://i.stack.imgur.com/0tXqZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0tXqZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","header","http-headers","fortify"],"comments":[{"owner":{"account_id":8885142,"reputation":124,"user_id":6741250,"accept_rate":100,"display_name":"Mokz"},"score":5,"creation_date":1533255138,"post_id":38523430,"comment_id":90290794,"body_markdown":"Hey, did you manage to find a solution that could work with Fortify?","body":"Hey, did you manage to find a solution that could work with Fortify?"}],"answers":[{"tags":[],"owner":{"account_id":9949908,"reputation":11,"user_id":7363019,"display_name":"user7363019"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483293723,"creation_date":1483292901,"answer_id":41417590,"question_id":38523430,"body_markdown":"You should use a method to filter the sensitive info in  \r\n\r\n    response.setHeader(&quot;Content-Disposition&quot;, header)\r\n\r\nJust using \r\n\r\n    fileName.matches(regex) \r\n\r\nis too simple. ","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>You should use a method to filter the sensitive info in  </p>\n\n<pre><code>response.setHeader(\"Content-Disposition\", header)\n</code></pre>\n\n<p>Just using </p>\n\n<pre><code>fileName.matches(regex) \n</code></pre>\n\n<p>is too simple. </p>\n"},{"tags":[],"owner":{"account_id":6167736,"reputation":467,"user_id":4807032,"accept_rate":83,"display_name":"MedAl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538128276,"creation_date":1538128276,"answer_id":52552684,"question_id":38523430,"body_markdown":"    String contentType = uploadedFiles.getFilecontenttype();\r\n    response.setContentType(uploadedFiles.getFilecontenttype());\r\n\r\nFirst of all, you could fix a redundancy here. \r\nSecondly, the problem may come from the fact that you don&#39;t try to validate content-type. What if the content-type had been altered and didn&#39;t match the file really is ? Each user input should be sanitized and/or compared to a white list of contents that you actually expect.\r\n\r\nEDIT : idem for the `filename`. Sanitize this field","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<pre><code>String contentType = uploadedFiles.getFilecontenttype();\nresponse.setContentType(uploadedFiles.getFilecontenttype());\n</code></pre>\n\n<p>First of all, you could fix a redundancy here. \nSecondly, the problem may come from the fact that you don't try to validate content-type. What if the content-type had been altered and didn't match the file really is ? Each user input should be sanitized and/or compared to a white list of contents that you actually expect.</p>\n\n<p>EDIT : idem for the <code>filename</code>. Sanitize this field</p>\n"},{"tags":[],"owner":{"account_id":10919070,"reputation":343,"user_id":8025999,"display_name":"m Piroli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614589135,"creation_date":1614589135,"answer_id":66419166,"question_id":38523430,"body_markdown":"You can use this method to validate headers value in this case filename\r\n\r\n    //Header manipulation \r\n\r\npublic static String validateHeaders(String header) throws UnsupportedEncodingException{\r\n\r\n    String filename = new String(header.getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;);\r\n    String regex = &quot;[`~!@#$%^&amp;*()\\\\+\\\\=\\\\{}|:\\&quot;?&gt;&lt;\\\\/r\\\\/n]&quot;;\r\n    Pattern pa = Pattern.compile(regex);\r\n    Matcher ma = pa.matcher(filename);\r\n    if(ma.find()){\r\n        filename = ma.replaceAll(&quot;&quot;);\r\n    }\r\n       return filename;\r\n    }     \r\nString header = &quot;attachment; filename=\\&quot;&quot; + validateHeaders(fileName) + &quot;\\&quot;&quot;;","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>You can use this method to validate headers value in this case filename</p>\n<pre><code>//Header manipulation \n</code></pre>\n<p>public static String validateHeaders(String header) throws UnsupportedEncodingException{</p>\n<pre><code>String filename = new String(header.getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;);\nString regex = &quot;[`~!@#$%^&amp;*()\\\\+\\\\=\\\\{}|:\\&quot;?&gt;&lt;\\\\/r\\\\/n]&quot;;\nPattern pa = Pattern.compile(regex);\nMatcher ma = pa.matcher(filename);\nif(ma.find()){\n    filename = ma.replaceAll(&quot;&quot;);\n}\n   return filename;\n}     \n</code></pre>\n<p>String header = &quot;attachment; filename=&quot;&quot; + validateHeaders(fileName) + &quot;&quot;&quot;;</p>\n"},{"tags":[],"owner":{"account_id":7162531,"reputation":93,"user_id":6101741,"display_name":"Ritesh Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654705694,"creation_date":1654705694,"answer_id":72549211,"question_id":38523430,"body_markdown":"By using RestTemplate and using HttpHeader for the Authorization header below code is able to resolve the Header Manipulation issue.\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    RestTemplate restTemplate = new RestTemplate();\r\n    HttpHeaders headersNew = new HttpHeaders();\r\n    //Below 2 Line solve the problem\r\n    String sanitizedToken = StringUtils.normalizeSpace(yourJwtToken);\r\n    headersNew.setBearerAuth(sanitizedToken); //This line where fortify reporting issue earlier\r\n    String url =&quot;Your url&quot;;\r\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(null, headersNew);\r\n    ResponseEntity&lt;Object&gt; response =\r\n                        restTemplate.exchange(url,\r\n                                HttpMethod.GET,\r\n                                entity,\r\n                                Object.class);","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>By using RestTemplate and using HttpHeader for the Authorization header below code is able to resolve the Header Manipulation issue.</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nRestTemplate restTemplate = new RestTemplate();\nHttpHeaders headersNew = new HttpHeaders();\n//Below 2 Line solve the problem\nString sanitizedToken = StringUtils.normalizeSpace(yourJwtToken);\nheadersNew.setBearerAuth(sanitizedToken); //This line where fortify reporting issue earlier\nString url =&quot;Your url&quot;;\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(null, headersNew);\nResponseEntity&lt;Object&gt; response =\n                    restTemplate.exchange(url,\n                            HttpMethod.GET,\n                            entity,\n                            Object.class);\n</code></pre>\n"}],"owner":{"account_id":8870753,"reputation":41,"user_id":6624536,"display_name":"LuDem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25387,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1667923430,"creation_date":1469181268,"question_id":38523430,"body_markdown":"I&#39;m trying to fix a &quot;Header Manipulation&quot; issue returned bu HP Fortify Scan for this code. I don&#39;t know if files are already validated during upload (I think not). I tried to use a RegEx to validate filename with no success.\r\nAnyone can help me?    \r\n\r\n\r\n    b = uploadedFiles.getFilecontent().getBytes(1,\r\n        \t\t\t\t\tuploadedFiles.getFilesize().intValue());\r\n        \t\t\tif (b != null) {\r\n        \t\t\t\tresponse.reset();\r\n        \t\t\t\tString fileName = uploadedFiles.getFilename();\r\n        \t\t\t\tString header = &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;;\r\n        \t\t\t\tString contentType = uploadedFiles.getFilecontenttype();\r\n        \t\t\t\tresponse.setContentType(uploadedFiles.getFilecontenttype());\r\n        \t\t\t\tresponse.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;Binary&quot;);\r\n        \t\t\t\tresponse.addHeader(&quot;Cache-Control&quot;, &quot;must-revalidate, private&quot;);\r\n        \t\t\t\tresponse.setContentLength(b.length);\r\n        \t\t\t\tFileCopyUtils.copy(b, response.getOutputStream());\r\n        \t\t\t\tresponse.getOutputStream().flush();\r\n        \t\t\t\tresponse.getOutputStream().close();\r\n        \t\t\t}\r\n\r\nWhat I tried:\r\n\r\n    String fileName = uploadedFiles.getFilename();\r\n    String regex = &quot;[a-zA-Z._ ]*&quot;;\r\n    if (b != null &amp;&amp; fileName.matches(regex)) {\r\n    \t\t\t\tresponse.reset();\r\n    \t\t\t\t// String fileName = uploadedFiles.getFilename();\r\n    \t\t\t\tString header = &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;;\r\n    \t\t\t\tString contentType = uploadedFiles.getFilecontenttype();\r\n    \t\t\t\tresponse.setContentType(uploadedFiles.getFilecontenttype());\r\n    \t\t\t\tresponse.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;Binary&quot;);\r\n    \t\t\t\tresponse.addHeader(&quot;Cache-Control&quot;, &quot;must-revalidate, private&quot;);\t\t\t\r\n    \t\t\t\tresponse.setHeader(&quot;Content-Disposition&quot;, header);\r\n    \t\t\t\tresponse.setContentLength(b.length);\r\n    \t\t\t\tFileCopyUtils.copy(b, response.getOutputStream());\r\n    \t\t\t\tresponse.getOutputStream().flush();\r\n    \t\t\t\tresponse.getOutputStream().close();\r\n    \t\t\t}","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>I'm trying to fix a \"Header Manipulation\" issue returned bu HP Fortify Scan for this code. I don't know if files are already validated during upload (I think not). I tried to use a RegEx to validate filename with no success.\nAnyone can help me?    </p>\n\n<pre><code>b = uploadedFiles.getFilecontent().getBytes(1,\n                        uploadedFiles.getFilesize().intValue());\n                if (b != null) {\n                    response.reset();\n                    String fileName = uploadedFiles.getFilename();\n                    String header = \"attachment; filename=\\\"\" + fileName + \"\\\"\";\n                    String contentType = uploadedFiles.getFilecontenttype();\n                    response.setContentType(uploadedFiles.getFilecontenttype());\n                    response.addHeader(\"Content-Transfer-Encoding\", \"Binary\");\n                    response.addHeader(\"Cache-Control\", \"must-revalidate, private\");\n                    response.setContentLength(b.length);\n                    FileCopyUtils.copy(b, response.getOutputStream());\n                    response.getOutputStream().flush();\n                    response.getOutputStream().close();\n                }\n</code></pre>\n\n<p>What I tried:</p>\n\n<pre><code>String fileName = uploadedFiles.getFilename();\nString regex = \"[a-zA-Z._ ]*\";\nif (b != null &amp;&amp; fileName.matches(regex)) {\n                response.reset();\n                // String fileName = uploadedFiles.getFilename();\n                String header = \"attachment; filename=\\\"\" + fileName + \"\\\"\";\n                String contentType = uploadedFiles.getFilecontenttype();\n                response.setContentType(uploadedFiles.getFilecontenttype());\n                response.addHeader(\"Content-Transfer-Encoding\", \"Binary\");\n                response.addHeader(\"Cache-Control\", \"must-revalidate, private\");            \n                response.setHeader(\"Content-Disposition\", header);\n                response.setContentLength(b.length);\n                FileCopyUtils.copy(b, response.getOutputStream());\n                response.getOutputStream().flush();\n                response.getOutputStream().close();\n            }\n</code></pre>\n"},{"tags":["java","javafx","autocomplete","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667923145,"creation_date":1667921713,"answer_id":74363347,"question_id":74362915,"body_markdown":"The `impl.*` packages are, by design, not part of the public API and not accessible.\r\n\r\nInstead, use the version of `bindAutoCompletion` that [takes a `Callback`](https://controlsfx.github.io/javadoc/11.1.2/org.controlsfx.controls/org/controlsfx/control/textfield/TextFields.html#bindAutoCompletion(javafx.scene.control.TextField,javafx.util.Callback)). \r\n\r\nThe `Callback` is a function from a suggestion request to a collection of suggestions. It will be invoked when the text in the text field changes, and you can retrieve the text from the request using the `getUserText()` method. This way you can use arbitrary logic to map the text field text to a list of suggestions. \r\n\r\nHere is a quick and dirty example that ensures the suggested text starts with the text in the text field:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    import org.controlsfx.control.textfield.TextFields;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            TextField textField = new TextField();\r\n            List&lt;String&gt; allItems = new ArrayList&lt;&gt;();\r\n            for (int i = 1 ; i &lt;= 100; i++) allItems.add(String.valueOf(i));\r\n    \r\n            TextFields.bindAutoCompletion(\r\n                textField,\r\n                suggestionRequest -&gt; matchingItems(allItems, suggestionRequest.getUserText())\r\n            );\r\n            BorderPane root = new BorderPane(textField);\r\n            Scene scene = new Scene(root, 800, 500);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private List&lt;String&gt; matchingItems(List&lt;String&gt; allItems, String prefix) {\r\n            List&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n            for (String s : allItems) {\r\n                if (s.startsWith(prefix)) {\r\n                    matches.add(s);\r\n                }\r\n            }\r\n            return matches ;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"JavaFX - Autocompletion TextField that suggests only matching item starting with input (SuggestionProvider not accessible)","body":"<p>The <code>impl.*</code> packages are, by design, not part of the public API and not accessible.</p>\n<p>Instead, use the version of <code>bindAutoCompletion</code> that <a href=\"https://controlsfx.github.io/javadoc/11.1.2/org.controlsfx.controls/org/controlsfx/control/textfield/TextFields.html#bindAutoCompletion(javafx.scene.control.TextField,javafx.util.Callback)\" rel=\"nofollow noreferrer\">takes a <code>Callback</code></a>.</p>\n<p>The <code>Callback</code> is a function from a suggestion request to a collection of suggestions. It will be invoked when the text in the text field changes, and you can retrieve the text from the request using the <code>getUserText()</code> method. This way you can use arbitrary logic to map the text field text to a list of suggestions.</p>\n<p>Here is a quick and dirty example that ensures the suggested text starts with the text in the text field:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\nimport org.controlsfx.control.textfield.TextFields;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        TextField textField = new TextField();\n        List&lt;String&gt; allItems = new ArrayList&lt;&gt;();\n        for (int i = 1 ; i &lt;= 100; i++) allItems.add(String.valueOf(i));\n\n        TextFields.bindAutoCompletion(\n            textField,\n            suggestionRequest -&gt; matchingItems(allItems, suggestionRequest.getUserText())\n        );\n        BorderPane root = new BorderPane(textField);\n        Scene scene = new Scene(root, 800, 500);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private List&lt;String&gt; matchingItems(List&lt;String&gt; allItems, String prefix) {\n        List&lt;String&gt; matches = new ArrayList&lt;&gt;();\n        for (String s : allItems) {\n            if (s.startsWith(prefix)) {\n                matches.add(s);\n            }\n        }\n        return matches ;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18175565,"reputation":13,"user_id":13224378,"display_name":"Thano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74363347,"answer_count":1,"score":1,"last_activity_date":1667923145,"creation_date":1667919904,"question_id":74362915,"body_markdown":"I would like the Autocompletion to suggests only matching item that START with the user&#39;s input, instead of showing all the item that CONTAIN the user&#39;s input.\r\nOne way I found is to use SuggestionProvider, but I can&#39;t get it imported on my Class.\r\n\r\n---\r\n\r\nI&#39;m trying to use an autocompleted TextField with controlfx ( TextFields.bindAutoCompletion(...) ), which kinda works but doesn&#39;t act as I would like.\r\n\r\nI have a TextField where you can start typing a number of an account and the autocompleted TF suggests a list of all account which contains the user&#39;s input in his number.\r\nFor example, if I start typing &quot;4&quot;, the suggested list shows &quot;4710....&quot;, &quot;4712...&quot;, ..., but also &quot;624...&quot;, &quot;74....&quot;. I guess the last accounts are shown because they CONTAINS my input.\r\n\r\nIt&#39;s not what I want so I found a way to make it acts like I want : by passing a list with only accounts that start with the user&#39;s input :\r\n\r\n```lang-java\r\nTextFields.bindAutoCompletion(myTextField,\r\nUIUtils.comptesListToStrings(db.getComptesStartingBy(myTextField.getText())));\r\n```\r\n\r\nBut I need to update it whenever the input text changes.\r\nSo I found a way by using a SuggestionProvider like this (&lt;https://stackoverflow.com/questions/45778462/update-autocomplete-javafx&gt;):\r\n\r\n```lang-java\r\nSet&lt;String&gt; autoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\nSuggestionProvider&lt;String&gt; provider = SuggestionProvider.create(autoCompletions);\r\nnew AutoCompletionTextFieldBinding&lt;&gt;(textField, provider);\r\n\r\n// and after some times, possible autoCompletions values has changed and now we have:\r\nSet&lt;String&gt; filteredAutoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;));\r\n\r\nprovider.clearSuggestions();\r\nprovider.addPossibleSuggestions(filteredAutoCompletions);\r\n```\r\n\r\nBut I can&#39;t make it work when I try to import SuggestionProvider.\r\nEclipse suggests me &quot;Import &#39;SuggestionProvider&#39; (impl.org.controlfx.autocompletion)&quot; but when I do, I get an error like :\r\n\r\n```lang-java\r\nimport org.controlsfx.control.textfield.TextFields; // &lt;-- this works perfectly\r\nimport impl.org.controlsfx.autocompletion.SuggestionProvider; // &lt;-- &quot;The type impl.org.controlsfx.autocompletion.SuggestionProvider is not accessible&quot;\r\n```\r\n\r\n[Import suggested by Eclipse (img)](https://www.stackoverflow.com/)\r\n\r\n[After importing (img)](https://www.stackoverflow.com/)\r\n\r\nI believe this package is in the same jar as the first line (org.controlsfx.control.textfield.TextFields --&gt; controlfx-11-1-2.jar):\r\n[dependencies tree (img)](https://www.stackoverflow.com/)\r\n\r\n\r\nI&#39;m using Maven for dependencies, on Eclipse.\r\n\r\nI tried to found a solution but couldn&#39;t make it.\r\nSo here I am, asking for help to solve this.\r\nIf there is a way to make the default `bindAutoCompletion` only showing accounts that START WITH the users&#39;s input instead of showing all accounts that CONTAIN the user&#39;s input, it would also be great.\r\n\r\nI&#39;m a beginner in Java and this is my first post on stackoverflow, so please excuse my low-knowledge.","title":"JavaFX - Autocompletion TextField that suggests only matching item starting with input (SuggestionProvider not accessible)","body":"<p>I would like the Autocompletion to suggests only matching item that START with the user's input, instead of showing all the item that CONTAIN the user's input.\nOne way I found is to use SuggestionProvider, but I can't get it imported on my Class.</p>\n<hr />\n<p>I'm trying to use an autocompleted TextField with controlfx ( TextFields.bindAutoCompletion(...) ), which kinda works but doesn't act as I would like.</p>\n<p>I have a TextField where you can start typing a number of an account and the autocompleted TF suggests a list of all account which contains the user's input in his number.\nFor example, if I start typing &quot;4&quot;, the suggested list shows &quot;4710....&quot;, &quot;4712...&quot;, ..., but also &quot;624...&quot;, &quot;74....&quot;. I guess the last accounts are shown because they CONTAINS my input.</p>\n<p>It's not what I want so I found a way to make it acts like I want : by passing a list with only accounts that start with the user's input :</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextFields.bindAutoCompletion(myTextField,\nUIUtils.comptesListToStrings(db.getComptesStartingBy(myTextField.getText())));\n</code></pre>\n<p>But I need to update it whenever the input text changes.\nSo I found a way by using a SuggestionProvider like this (<a href=\"https://stackoverflow.com/questions/45778462/update-autocomplete-javafx\">Update autoComplete JavaFx?</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; autoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\nSuggestionProvider&lt;String&gt; provider = SuggestionProvider.create(autoCompletions);\nnew AutoCompletionTextFieldBinding&lt;&gt;(textField, provider);\n\n// and after some times, possible autoCompletions values has changed and now we have:\nSet&lt;String&gt; filteredAutoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;));\n\nprovider.clearSuggestions();\nprovider.addPossibleSuggestions(filteredAutoCompletions);\n</code></pre>\n<p>But I can't make it work when I try to import SuggestionProvider.\nEclipse suggests me &quot;Import 'SuggestionProvider' (impl.org.controlfx.autocompletion)&quot; but when I do, I get an error like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.controlsfx.control.textfield.TextFields; // &lt;-- this works perfectly\nimport impl.org.controlsfx.autocompletion.SuggestionProvider; // &lt;-- &quot;The type impl.org.controlsfx.autocompletion.SuggestionProvider is not accessible&quot;\n</code></pre>\n<p><a href=\"https://www.stackoverflow.com/\">Import suggested by Eclipse (img)</a></p>\n<p><a href=\"https://www.stackoverflow.com/\">After importing (img)</a></p>\n<p>I believe this package is in the same jar as the first line (org.controlsfx.control.textfield.TextFields --&gt; controlfx-11-1-2.jar):\n<a href=\"https://www.stackoverflow.com/\">dependencies tree (img)</a></p>\n<p>I'm using Maven for dependencies, on Eclipse.</p>\n<p>I tried to found a solution but couldn't make it.\nSo here I am, asking for help to solve this.\nIf there is a way to make the default <code>bindAutoCompletion</code> only showing accounts that START WITH the users's input instead of showing all accounts that CONTAIN the user's input, it would also be great.</p>\n<p>I'm a beginner in Java and this is my first post on stackoverflow, so please excuse my low-knowledge.</p>\n"},{"tags":["java","blockchain","smartcontracts","corda","vault"],"answers":[{"comments":[{"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"score":0,"creation_date":1667982122,"post_id":74363295,"comment_id":131294924,"body_markdown":"Thanks. May I also know behaviour of trackBy with this? Like would it throw this pagination exception if the state which tracks is more than 200 on node startup?","body":"Thanks. May I also know behaviour of trackBy with this? Like would it throw this pagination exception if the state which tracks is more than 200 on node startup?"}],"tags":[],"owner":{"account_id":10430083,"reputation":141,"user_id":7690168,"display_name":"Christian Sailer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667921491,"creation_date":1667921491,"answer_id":74363295,"question_id":74362292,"body_markdown":"The vault query gets translated into an SQL query internally and run on the database. The pagination is only relevant if the result of that query is larger than the page size. ","title":"Corda - PageSpecification in QueryBy","body":"<p>The vault query gets translated into an SQL query internally and run on the database. The pagination is only relevant if the result of that query is larger than the page size.</p>\n"}],"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74363295,"answer_count":1,"score":0,"last_activity_date":1667921491,"creation_date":1667917183,"question_id":74362292,"body_markdown":"In R3 Corda queryBy(), is page specification, other than default-200 is only needed, if there are more results to be returned based on given querycriteria\r\n\r\nOR\r\n\r\nIt is needed even if all criterias not match while querying, but has more than 200 of that particular state present in vault and it do a bulk filtering inside ?\r\n\r\nFor eg:\r\nI need to get CARState of a uniqueID, suppose we have 1000 carstates available in vault. So inorder to get one CarState matching customVaultQueryCriteria() with id, does it need to mention explicit PageSpecification input?\r\n\r\nOr only it is needed only for getAllCarStates() ?\r\n","title":"Corda - PageSpecification in QueryBy","body":"<p>In R3 Corda queryBy(), is page specification, other than default-200 is only needed, if there are more results to be returned based on given querycriteria</p>\n<p>OR</p>\n<p>It is needed even if all criterias not match while querying, but has more than 200 of that particular state present in vault and it do a bulk filtering inside ?</p>\n<p>For eg:\nI need to get CARState of a uniqueID, suppose we have 1000 carstates available in vault. So inorder to get one CarState matching customVaultQueryCriteria() with id, does it need to mention explicit PageSpecification input?</p>\n<p>Or only it is needed only for getAllCarStates() ?</p>\n"},{"tags":["java","spring","elasticsearch"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667925229,"post_id":74363136,"comment_id":131282013,"body_markdown":"@geo is field type nested? show me your java code.","body":"@geo is field type nested? show me your java code."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667925432,"post_id":74363136,"comment_id":131282090,"body_markdown":"as elastic returns everything in &quot;_source&quot; object, so it turns out that geo is not nested, but what are inside geo, those are nested,  &quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot;","body":"as elastic returns everything in &quot;_source&quot; object, so it turns out that geo is not nested, but what are inside geo, those are nested,  &quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot;"},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667925508,"post_id":74363136,"comment_id":131282114,"body_markdown":"@rabbitbr related to showing you java code, I haven&#39;t yet found a solutuion for this, but have another queries which work well but return the whole object graph, and are extremely slow, because as mentioned, return the whole object graph list.","body":"@rabbitbr related to showing you java code, I haven&#39;t yet found a solutuion for this, but have another queries which work well but return the whole object graph, and are extremely slow, because as mentioned, return the whole object graph list."},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667937138,"post_id":74363136,"comment_id":131286172,"body_markdown":"If you are working with nested type you can use source to return the fields you want and add inner_hits to get only the object where the match was found because that way you won&#39;t get the whole array.","body":"If you are working with nested type you can use source to return the fields you want and add inner_hits to get only the object where the match was found because that way you won&#39;t get the whole array."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667970830,"post_id":74363136,"comment_id":131292490,"body_markdown":"@rabbitbr can you show me an example of adding inner_hits?","body":"@rabbitbr can you show me an example of adding inner_hits?"},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667991713,"post_id":74363136,"comment_id":131298204,"body_markdown":"Yes, provide the mapping and documents please.","body":"Yes, provide the mapping and documents please."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667994029,"post_id":74363136,"comment_id":131299015,"body_markdown":"@rabbitbr what do you mean mapping, or documents? I have posted the data, which should be returned with the help of java api. and at the end we should have this picture et the end,\n\n[\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...] \n\n so it turns out this nested field should be queried:\n\n &quot;@geo.Source.Country.IsoCode&quot;, so the isoCode should be returned, grouped by the count of each value.","body":"@rabbitbr what do you mean mapping, or documents? I have posted the data, which should be returned with the help of java api. and at the end we should have this picture et the end,  [\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...]    so it turns out this nested field should be queried:   &quot;@geo.Source.Country.IsoCode&quot;, so the isoCode should be returned, grouped by the count of each value."},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667995235,"post_id":74363136,"comment_id":131299443,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249449/discussion-between-rabbitbr-and-hayk-mkhitaryan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249449/discussion-between-rabbitbr-and-hayk-mkhitaryan\">continue this discussion in chat</a>."}],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920883,"creation_date":1667920883,"question_id":74363136,"body_markdown":"Here is the object cuptured with kibana, which should be returned with java api\r\n\r\n    {\r\n      &quot;_index&quot;: &quot;backend:nips-000320&quot;,\r\n      &quot;_type&quot;: &quot;_doc&quot;,\r\n      &quot;_id&quot;: &quot;qhcOVoQBFSMoMXEJjh46&quot;,\r\n      &quot;_version&quot;: 1,\r\n      &quot;_score&quot;: 0,\r\n      &quot;_source&quot;: {\r\n        &quot;severity&quot;: 5,\r\n        &quot;priority&quot;: 37,\r\n        &quot;@geo&quot;: {\r\n          &quot;Source&quot;: {\r\n            &quot;Continent&quot;: {\r\n              &quot;Code&quot;: &quot;EU&quot;,\r\n              &quot;GeoNameID&quot;: 6255148,\r\n              &quot;Name&quot;: &quot;Europe&quot;\r\n            },\r\n            &quot;Country&quot;: {\r\n              &quot;IsInEuropeanUnion&quot;: false,\r\n              &quot;IsoCode&quot;: &quot;UA&quot;,\r\n              &quot;GeoNameID&quot;: 690791,\r\n              &quot;Name&quot;: &quot;Ukraine&quot;\r\n            }\r\n          }\r\n        },\r\n        &quot;timestamp&quot;: &quot;2022-11-08T07:04:52Z&quot;\r\n      },\r\n      &quot;fields&quot;: {}\r\n    }\r\n\r\n\r\nThe problem is that I can&#39;t find a way to do this kind of nested query with java code and get this:\r\n\r\n    &quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot; grouped by the value of &quot;IsoCode&quot;. \r\nlike this : \r\n\r\n    [\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...]\r\n\r\n\r\nI am trying with QueryBuilder api, but no results yet. Any ideas would be appreciated. ","title":"How I can do Elastic Search nested query with java api, QueryBuilder","body":"<p>Here is the object cuptured with kibana, which should be returned with java api</p>\n<pre><code>{\n  &quot;_index&quot;: &quot;backend:nips-000320&quot;,\n  &quot;_type&quot;: &quot;_doc&quot;,\n  &quot;_id&quot;: &quot;qhcOVoQBFSMoMXEJjh46&quot;,\n  &quot;_version&quot;: 1,\n  &quot;_score&quot;: 0,\n  &quot;_source&quot;: {\n    &quot;severity&quot;: 5,\n    &quot;priority&quot;: 37,\n    &quot;@geo&quot;: {\n      &quot;Source&quot;: {\n        &quot;Continent&quot;: {\n          &quot;Code&quot;: &quot;EU&quot;,\n          &quot;GeoNameID&quot;: 6255148,\n          &quot;Name&quot;: &quot;Europe&quot;\n        },\n        &quot;Country&quot;: {\n          &quot;IsInEuropeanUnion&quot;: false,\n          &quot;IsoCode&quot;: &quot;UA&quot;,\n          &quot;GeoNameID&quot;: 690791,\n          &quot;Name&quot;: &quot;Ukraine&quot;\n        }\n      }\n    },\n    &quot;timestamp&quot;: &quot;2022-11-08T07:04:52Z&quot;\n  },\n  &quot;fields&quot;: {}\n}\n</code></pre>\n<p>The problem is that I can't find a way to do this kind of nested query with java code and get this:</p>\n<pre><code>&quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot; grouped by the value of &quot;IsoCode&quot;. \n</code></pre>\n<p>like this :</p>\n<pre><code>[\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...]\n</code></pre>\n<p>I am trying with QueryBuilder api, but no results yet. Any ideas would be appreciated.</p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1667840667,"post_id":74350240,"comment_id":131258579,"body_markdown":"`System.out.println(new Solution().isHappy(23));` You can move the main method into `Solution` for testing purposes, but `Solution` is really a utility class so wouldn&#39;t have that method normally","body":"<code>System.out.println(new Solution().isHappy(23));</code> You can move the main method into <code>Solution</code> for testing purposes, but <code>Solution</code> is really a utility class so wouldn&#39;t have that method normally"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1667840715,"post_id":74350240,"comment_id":131258593,"body_markdown":"You&#39;ve got everything right except that you don&#39;t do anything with the result -- print it out to the screen or anything.","body":"You&#39;ve got everything right except that you don&#39;t do anything with the result -- print it out to the screen or anything."},{"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"score":0,"creation_date":1667840954,"post_id":74350240,"comment_id":131258705,"body_markdown":"Yea, but let&#39;s say if i want to test things out, how can i actually test it to see if it really works?","body":"Yea, but let&#39;s say if i want to test things out, how can i actually test it to see if it really works?"},{"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"score":0,"creation_date":1667841042,"post_id":74350240,"comment_id":131258732,"body_markdown":"@g00se Ops, saw your comment now, thank you!","body":"@g00se Ops, saw your comment now, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1667841009,"creation_date":1667841009,"answer_id":74350343,"question_id":74350240,"body_markdown":"There are a couple of problems here. When you run a Java application it looks for the `main` method in the class you run. Your class has no `main` method, instead it has an inner class that has a main method.\r\n\r\n    class Solution {\r\n        // existing methods\r\n    \r\n        // no &#39;Main&#39; class wrapping method\r\n        public static void main(String[] argv) {\r\n    \r\n        }\r\n    }\r\n\r\nThe second problem is that `main` is a &#39;static&#39; method but `isHappy` is an &#39;instance&#39; method. To call it you need an instance of the class\r\n\r\n    // inside the `main` function\r\n    var sol = new Solution();\r\n    if (sol.isHappy(23)) {\r\n        System.out.println(&quot;23 is happy&quot;);\r\n    } else {\r\n        System.out.println(&quot;23 is not happy&quot;);\r\n    }\r\n","title":"Calling a boolean method from a class","body":"<p>There are a couple of problems here. When you run a Java application it looks for the <code>main</code> method in the class you run. Your class has no <code>main</code> method, instead it has an inner class that has a main method.</p>\n<pre><code>class Solution {\n    // existing methods\n\n    // no 'Main' class wrapping method\n    public static void main(String[] argv) {\n\n    }\n}\n</code></pre>\n<p>The second problem is that <code>main</code> is a 'static' method but <code>isHappy</code> is an 'instance' method. To call it you need an instance of the class</p>\n<pre><code>// inside the `main` function\nvar sol = new Solution();\nif (sol.isHappy(23)) {\n    System.out.println(&quot;23 is happy&quot;);\n} else {\n    System.out.println(&quot;23 is not happy&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1667842356,"post_id":74350458,"comment_id":131259202,"body_markdown":"I think the `Main` class would need to be static as well if you use this approach.","body":"I think the <code>Main</code> class would need to be static as well if you use this approach."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1667842644,"post_id":74350458,"comment_id":131259287,"body_markdown":"I think that all methods in this task should be static, since there is no need to keep the some internal state. These are pure functions, the result of which based only from the argument.","body":"I think that all methods in this task should be static, since there is no need to keep the some internal state. These are pure functions, the result of which based only from the argument."}],"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667841639,"creation_date":1667841639,"answer_id":74350458,"question_id":74350240,"body_markdown":"You have completely solved the problem. You only have to decide what to do with the result of your calculations. You can simply print a string depending on the result.\r\n\r\nPlease note, that the methods in your `Solution` class are not static. So, you need to create an instance of the class and call the methods on that instance.\r\n\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nclass Solution {\r\n\r\n    public int sumOfDigitsSquares(int n) {\r\n        int totalSum = 0;\r\n        while (n &gt; 0) {\r\n            int last = n % 10;\r\n            n = n / 10;\r\n            totalSum += last * last;\r\n        }\r\n        return totalSum;\r\n    }\r\n\r\n    public boolean isHappy(int n) {\r\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n        while (n != 1 &amp;&amp; !seen.contains(n)) {\r\n            seen.add(n);\r\n            n = sumOfDigitsSquares(n);\r\n        }\r\n        return n == 1;\r\n    }\r\n}\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        var solution = new Solution();\r\n\r\n        String answer = solution.isHappy(23) ? &quot;Is happy&quot; : &quot;Not happy at all&quot;;\r\n        System.out.println(answer);\r\n    }\r\n}\r\n```\r\nHere is one possible way to check all numbers from 1 to 100 for happiness and print the result for each number.\r\n```\r\nIntStream.rangeClosed(1, 100)\r\n                .mapToObj(i -&gt; &quot;&quot; + i + &quot; &quot; + (solution.isHappy(i) ? &quot;is happy&quot; : &quot;not happy&quot;))\r\n                .forEach(System.out::println);\r\n```","title":"Calling a boolean method from a class","body":"<p>You have completely solved the problem. You only have to decide what to do with the result of your calculations. You can simply print a string depending on the result.</p>\n<p>Please note, that the methods in your <code>Solution</code> class are not static. So, you need to create an instance of the class and call the methods on that instance.</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nclass Solution {\n\n    public int sumOfDigitsSquares(int n) {\n        int totalSum = 0;\n        while (n &gt; 0) {\n            int last = n % 10;\n            n = n / 10;\n            totalSum += last * last;\n        }\n        return totalSum;\n    }\n\n    public boolean isHappy(int n) {\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n        while (n != 1 &amp;&amp; !seen.contains(n)) {\n            seen.add(n);\n            n = sumOfDigitsSquares(n);\n        }\n        return n == 1;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) {\n        var solution = new Solution();\n\n        String answer = solution.isHappy(23) ? &quot;Is happy&quot; : &quot;Not happy at all&quot;;\n        System.out.println(answer);\n    }\n}\n</code></pre>\n<p>Here is one possible way to check all numbers from 1 to 100 for happiness and print the result for each number.</p>\n<pre><code>IntStream.rangeClosed(1, 100)\n                .mapToObj(i -&gt; &quot;&quot; + i + &quot; &quot; + (solution.isHappy(i) ? &quot;is happy&quot; : &quot;not happy&quot;))\n                .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667920817,"creation_date":1667841869,"answer_id":74350522,"question_id":74350240,"body_markdown":"To call non-static methods of a class, you need an instance:\r\n\r\n     public static void main (String [] args) {\r\n         Solution foo = new Solution ();\r\n         boolean bar = foo.isHappy (49);\r\n         // do something with bar\r\n     }\r\n\r\nTo use a static method, you don&#39;t use an instance:  \r\n\r\n       class Solution{\r\n           public static int getNext(int n){  ... etc ... \r\n           }                   \r\n           public static boolean isHappy(int n){ ... etc ...  \r\n           }        \r\n         \r\n           public static void main (String [] args) { \r\n              boolean foo = isHappy (1024);\r\n              // do something with foo \r\n           }\r\n       \r\nAnother problem is you are throwing away the result of `isHappy (23)`. \r\n\r\n          System.out.println (isHappy(23));\r\n          System.out.println (&quot;is 23 happy?&quot; + (isHappy(23) ? &quot;Yes&quot; : &quot;No&quot;);\r\n\r\nare two possibilities. \r\n\r\n          ","title":"Calling a boolean method from a class","body":"<p>To call non-static methods of a class, you need an instance:</p>\n<pre><code> public static void main (String [] args) {\n     Solution foo = new Solution ();\n     boolean bar = foo.isHappy (49);\n     // do something with bar\n }\n</code></pre>\n<p>To use a static method, you don't use an instance:</p>\n<pre><code>   class Solution{\n       public static int getNext(int n){  ... etc ... \n       }                   \n       public static boolean isHappy(int n){ ... etc ...  \n       }        \n     \n       public static void main (String [] args) { \n          boolean foo = isHappy (1024);\n          // do something with foo \n       }\n   \n</code></pre>\n<p>Another problem is you are throwing away the result of <code>isHappy (23)</code>.</p>\n<pre><code>      System.out.println (isHappy(23));\n      System.out.println (&quot;is 23 happy?&quot; + (isHappy(23) ? &quot;Yes&quot; : &quot;No&quot;);\n</code></pre>\n<p>are two possibilities.</p>\n"}],"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1667920817,"creation_date":1667840501,"question_id":74350240,"body_markdown":"i just made a problem which should return if a number &quot;isHappy&quot; or not. A number is happy if it meets some criteria:\r\n\r\nA happy number is a number defined by the following process:\r\n\r\n-Starting with any positive integer, replace the number by the sum of the squares of its digits.\r\n-Repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1.\r\n-Those numbers for which this process ends in 1 are happy.\r\n\r\n\r\n`\r\n\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nclass Solution{\r\n    public int getNext(int n){\r\n        int totalSum = 0;\r\n        while(n &gt; 0){\r\n            int last = n % 10;\r\n            n = n / 10;\r\n            totalSum += last * last;\r\n        }\r\n        return totalSum;\r\n    }\r\n\r\n    public boolean isHappy(int n){\r\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n        while( n!=1 &amp;&amp; !seen.contains(n)){\r\n            seen.add(n);\r\n            n = getNext(n);\r\n        }\r\n        return n==1;\r\n    }\r\n}\r\n\r\n class Main {\r\n    public static void main(String[] args){\r\n        isHappy(23);  //this doesnt work.\r\n    }\r\n}\r\n```\r\n\r\n`\r\n\r\nI don&#39;t know how to call this function, tried different methods like int number = 23 for ex and then isHappy(number) sout(isHappy(number)); , number.isHappy() although this makes no sense, intellij is telling me to make a method inside main but i dont think i must do this, think there s another way.","title":"Calling a boolean method from a class","body":"<p>i just made a problem which should return if a number &quot;isHappy&quot; or not. A number is happy if it meets some criteria:</p>\n<p>A happy number is a number defined by the following process:</p>\n<p>-Starting with any positive integer, replace the number by the sum of the squares of its digits.\n-Repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1.\n-Those numbers for which this process ends in 1 are happy.</p>\n<p>`</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nclass Solution{\n    public int getNext(int n){\n        int totalSum = 0;\n        while(n &gt; 0){\n            int last = n % 10;\n            n = n / 10;\n            totalSum += last * last;\n        }\n        return totalSum;\n    }\n\n    public boolean isHappy(int n){\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n        while( n!=1 &amp;&amp; !seen.contains(n)){\n            seen.add(n);\n            n = getNext(n);\n        }\n        return n==1;\n    }\n}\n\n class Main {\n    public static void main(String[] args){\n        isHappy(23);  //this doesnt work.\n    }\n}\n</code></pre>\n<p>`</p>\n<p>I don't know how to call this function, tried different methods like int number = 23 for ex and then isHappy(number) sout(isHappy(number)); , number.isHappy() although this makes no sense, intellij is telling me to make a method inside main but i dont think i must do this, think there s another way.</p>\n"},{"tags":["java","asynchronous","reactive-programming","netty","micronaut"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667920804,"creation_date":1614597052,"answer_id":66421038,"question_id":66396258,"body_markdown":"&gt; There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.\r\n\r\nThere is almost no performance garante, *or immediate gain* at least, when moving to an asynchronous or reactive-style programming.\r\n*This is one of the most common mis-understanding of this programming styles paradigms and they can actually do more harm than good to your application whenever used in the wrong way.*\r\n\r\nThe asynchronous (or reactive) programming promise is ***scalability***, i.e., you application will be able to scale at peak loads way better than a traditional synchronous (blocking) application.\r\n\r\n*Micronaut* has been designed with such considerations in mind while allowing traditional programming style to co-exist with a modern web application building blocks.\r\n\r\nWhen used with [Netty][1], *Micronaut* will serve your *HTTP* requests through a *non-blocking event-loop*, allowing your application to accept (and scale) requests beyond what a traditional *Servlet (2.5 ~ event 3.1 with `Async` requests)* based container would allow.\r\n\r\nHowever, there is a lot of concerns that should be taken into account when using such a model, and *Micronaut* takes most of the job from your shoulders by - well scheduling resources (CPU) usage - allowing to avoid request blocking.\r\n\r\nOne of the common, and simple, tricks is to use the [`@ExecuteOn`][2] annotation whenever your application (or resource endpoint) is going to block on IO operations (network, DB, disk...).\r\n\r\n\r\n  [1]: https://netty.io/\r\n  [2]: https://docs.micronaut.io/latest/api/io/micronaut/scheduling/annotation/ExecuteOn.html","title":"Is asynchronous programming required in Micronaut?","body":"<blockquote>\n<p>There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.</p>\n</blockquote>\n<p>There is almost no performance garante, <em>or immediate gain</em> at least, when moving to an asynchronous or reactive-style programming.\n<em>This is one of the most common mis-understanding of this programming styles paradigms and they can actually do more harm than good to your application whenever used in the wrong way.</em></p>\n<p>The asynchronous (or reactive) programming promise is <em><strong>scalability</strong></em>, i.e., you application will be able to scale at peak loads way better than a traditional synchronous (blocking) application.</p>\n<p><em>Micronaut</em> has been designed with such considerations in mind while allowing traditional programming style to co-exist with a modern web application building blocks.</p>\n<p>When used with <a href=\"https://netty.io/\" rel=\"nofollow noreferrer\">Netty</a>, <em>Micronaut</em> will serve your <em>HTTP</em> requests through a <em>non-blocking event-loop</em>, allowing your application to accept (and scale) requests beyond what a traditional <em>Servlet (2.5 ~ event 3.1 with <code>Async</code> requests)</em> based container would allow.</p>\n<p>However, there is a lot of concerns that should be taken into account when using such a model, and <em>Micronaut</em> takes most of the job from your shoulders by - well scheduling resources (CPU) usage - allowing to avoid request blocking.</p>\n<p>One of the common, and simple, tricks is to use the <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/scheduling/annotation/ExecuteOn.html\" rel=\"nofollow noreferrer\"><code>@ExecuteOn</code></a> annotation whenever your application (or resource endpoint) is going to block on IO operations (network, DB, disk...).</p>\n"}],"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2708,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66421038,"answer_count":1,"score":3,"last_activity_date":1667920804,"creation_date":1614407839,"question_id":66396258,"body_markdown":"There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.\r\n\r\nIf you are planning to do blocking operations in a Micronaut REST application, is it considered terrible practice to execute these on the HTTP request serving threads?\r\n\r\nIf you were to increase the size of the HTTP request serving threadpool in Micronaut so that it was similar in size to that of a regular HTTP framework&#39;s thread pool, for example non reactive Spring MVC / Tomcat, would you expect Micronaut&#39;s performance characteristics to be similar to those of Spring MVC running on Tomcat?","title":"Is asynchronous programming required in Micronaut?","body":"<p>There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.</p>\n<p>If you are planning to do blocking operations in a Micronaut REST application, is it considered terrible practice to execute these on the HTTP request serving threads?</p>\n<p>If you were to increase the size of the HTTP request serving threadpool in Micronaut so that it was similar in size to that of a regular HTTP framework's thread pool, for example non reactive Spring MVC / Tomcat, would you expect Micronaut's performance characteristics to be similar to those of Spring MVC running on Tomcat?</p>\n"},{"tags":["java","matrix","arraylist","stringtokenizer"],"comments":[{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1667923082,"post_id":74363095,"comment_id":131281206,"body_markdown":"Is there a reason of why you are storing all the numbers into one list instead of parsing the file line by line and adding it directly to a List&lt;&lt;ArrayList&gt;&gt; matrix?","body":"Is there a reason of why you are storing all the numbers into one list instead of parsing the file line by line and adding it directly to a List&lt;&lt;ArrayList&gt;&gt; matrix?"},{"owner":{"account_id":26857452,"reputation":1,"user_id":20441539,"display_name":"Bruda"},"score":0,"creation_date":1667923982,"post_id":74363095,"comment_id":131281553,"body_markdown":"I can&#39;t do it. I don&#39;t know how to read a line and put it into a List &lt;&lt;ArrayList&gt;&gt;. I&#39;m trying to get:                                                                            [[0, 24, 12, 52],[24, 0, 16, 23],[12, 16, 0, 18],[52, 23, 18, 0]]                                  With a fixed dimension it&#39;s easy but I want to do it dinamically... for every dimension","body":"I can&#39;t do it. I don&#39;t know how to read a line and put it into a List &lt;&lt;ArrayList&gt;&gt;. I&#39;m trying to get:                                                                            [[0, 24, 12, 52],[24, 0, 16, 23],[12, 16, 0, 18],[52, 23, 18, 0]]                                  With a fixed dimension it&#39;s easy but I want to do it dinamically... for every dimension"}],"owner":{"account_id":26857452,"reputation":1,"user_id":20441539,"display_name":"Bruda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920716,"creation_date":1667920716,"question_id":74363095,"body_markdown":"I can&#39;t put numbers taken froma text file inside a matrix.\r\n\r\nThe text file is this:\r\n\r\n\r\n```\r\n4\r\n0 24 12 52\r\n24 0 16 23\r\n12 16 0 18\r\n52 23 18 0\r\n```\r\n\r\nI tried this:\r\n\r\n\r\n```\r\npublic class Siti {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException, IOException {\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C://Users//dbruschi//Java-projects//NodiTelefonici//nodi.txt&quot;));\r\n\r\n        String line = null;\r\n\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\r\n        while ((line = reader.readLine()) != null) {\r\n            StringTokenizer token = new StringTokenizer(line);\r\n            while (token.hasMoreTokens()) {\r\n                int num = Integer.parseInt(token.nextToken());\r\n                numbers.add(num);\r\n            }\r\n        }\r\n        System.out.println(numbers);\r\n\r\n        int dimension = numbers.get(0);\r\n\r\n\r\n        System.out.println(&quot;The dimension is: &quot; + dimension);\r\n\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\r\n        for(int j = 0; j &lt; dimension; j++) {\r\n            ArrayList&lt;Integer&gt; matrixRow = new ArrayList&lt;Integer&gt;();\r\n            for (int i = 1; i &lt; dimension+1; i++) {\r\n                int elem = numbers.get(i);\r\n                matrixRow.add(elem);\r\n            }\r\n            matrix.add(matrixRow);\r\n        }\r\n        System.out.println(matrix);\r\n     }\r\n}\r\n```\r\nAnd of course the output is this:\r\n\r\n```\r\n[[0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52]]\r\n```\r\n\r\n\r\n\r\n\r\nI tried without arraylist but I want to manage rows and columns and so i think that arraylist is the best way ","title":"How to put values taken from a text file inside a matrix","body":"<p>I can't put numbers taken froma text file inside a matrix.</p>\n<p>The text file is this:</p>\n<pre><code>4\n0 24 12 52\n24 0 16 23\n12 16 0 18\n52 23 18 0\n</code></pre>\n<p>I tried this:</p>\n<pre><code>public class Siti {\n\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C://Users//dbruschi//Java-projects//NodiTelefonici//nodi.txt&quot;));\n\n        String line = null;\n\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n\n        while ((line = reader.readLine()) != null) {\n            StringTokenizer token = new StringTokenizer(line);\n            while (token.hasMoreTokens()) {\n                int num = Integer.parseInt(token.nextToken());\n                numbers.add(num);\n            }\n        }\n        System.out.println(numbers);\n\n        int dimension = numbers.get(0);\n\n\n        System.out.println(&quot;The dimension is: &quot; + dimension);\n\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n\n        for(int j = 0; j &lt; dimension; j++) {\n            ArrayList&lt;Integer&gt; matrixRow = new ArrayList&lt;Integer&gt;();\n            for (int i = 1; i &lt; dimension+1; i++) {\n                int elem = numbers.get(i);\n                matrixRow.add(elem);\n            }\n            matrix.add(matrixRow);\n        }\n        System.out.println(matrix);\n     }\n}\n</code></pre>\n<p>And of course the output is this:</p>\n<pre><code>[[0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52]]\n</code></pre>\n<p>I tried without arraylist but I want to manage rows and columns and so i think that arraylist is the best way</p>\n"},{"tags":["java","pdf","itext","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667967618,"post_id":74363089,"comment_id":131292088,"body_markdown":"&quot;the output pdf generated from the image is low quality&quot; -&gt; check the images first. In PDFBox you can decide the resolution.","body":"&quot;the output pdf generated from the image is low quality&quot; -&gt; check the images first. In PDFBox you can decide the resolution."},{"owner":{"account_id":19963040,"reputation":401,"user_id":14630182,"display_name":"Arjun C E"},"score":0,"creation_date":1668002147,"post_id":74363089,"comment_id":131301997,"body_markdown":"Hi @TilmanHausherr I have a requirement for the scaling factor of the image to be 1 (72dpi) if I generate an image with 72dpi the generated image is low quality","body":"Hi @TilmanHausherr I have a requirement for the scaling factor of the image to be 1 (72dpi) if I generate an image with 72dpi the generated image is low quality"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1668011191,"post_id":74363089,"comment_id":131305687,"body_markdown":"72 dpi won&#39;t look good. You can generate at a higher dpi and scale appropriately when creating the new PDF.","body":"72 dpi won&#39;t look good. You can generate at a higher dpi and scale appropriately when creating the new PDF."}],"owner":{"account_id":19963040,"reputation":401,"user_id":14630182,"display_name":"Arjun C E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920676,"creation_date":1667920676,"question_id":74363089,"body_markdown":"I need to OCR a readable pdf again to generate hOCR file.\r\nI am using,\r\n\r\n&gt; Apache PDFBox -&gt; parse the readable pdf                   \r\n&gt; Qoppa -&gt; OCR the pdf\r\n\r\nCurrently, I am trying iText to create a pdf after converting PDF page to image using PDFRenderer from PDfbox.\r\n\r\n        Document document = new Document();\r\n        PdfWriter.getInstance(document, new FileOutputStream(&quot;iTextImageExample.pdf&quot;));\r\n        document.open();\r\n        Image img = Image.getInstance(&quot;C:\\\\Projects\\\\Data Mapping\\\\singularity-data-jockey-pdflib\\\\src\\\\test\\\\resources\\\\data\\\\pageimg.jpg&quot;);\r\n        document.add(img);\r\n\r\n I also tried with Qoppa PDfDocument class. \r\nThe issue is, the output pdf generated from the image is low quality and OCR is not accurate. Is there any other way to convert the pdf to non searchable pdf? ","title":"Converting ePDF to a non searchable pdf programmatically","body":"<p>I need to OCR a readable pdf again to generate hOCR file.\nI am using,</p>\n<blockquote>\n<p>Apache PDFBox -&gt; parse the readable pdf<br />\nQoppa -&gt; OCR the pdf</p>\n</blockquote>\n<p>Currently, I am trying iText to create a pdf after converting PDF page to image using PDFRenderer from PDfbox.</p>\n<pre><code>    Document document = new Document();\n    PdfWriter.getInstance(document, new FileOutputStream(&quot;iTextImageExample.pdf&quot;));\n    document.open();\n    Image img = Image.getInstance(&quot;C:\\\\Projects\\\\Data Mapping\\\\singularity-data-jockey-pdflib\\\\src\\\\test\\\\resources\\\\data\\\\pageimg.jpg&quot;);\n    document.add(img);\n</code></pre>\n<p>I also tried with Qoppa PDfDocument class.\nThe issue is, the output pdf generated from the image is low quality and OCR is not accurate. Is there any other way to convert the pdf to non searchable pdf?</p>\n"},{"tags":["java","database","jpa","intellij-idea","h2"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667937561,"post_id":74362806,"comment_id":131286275,"body_markdown":"First question: why do you expect it to have changed at all? You have to configure JPA DDL generation  and it really only offers two options; create it or drop and create it (se https://www.baeldung.com/spring-data-jpa-generate-db-schema ). The error you are getting shows it certainly is trying to issue some DROP DDL statements to clean up your database. In this case, it cannot because the drop script it has and is using is wrong for the state of the database. You will need to see if you have a script from before your latest changes you can run, or manually drop the schema yourself.","body":"First question: why do you expect it to have changed at all? You have to configure JPA DDL generation  and it really only offers two options; create it or drop and create it (se <a href=\"https://www.baeldung.com/spring-data-jpa-generate-db-schema\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-generate-db-schema</a> ). The error you are getting shows it certainly is trying to issue some DROP DDL statements to clean up your database. In this case, it cannot because the drop script it has and is using is wrong for the state of the database. You will need to see if you have a script from before your latest changes you can run, or manually drop the schema yourself."},{"owner":{"account_id":26667534,"reputation":1,"user_id":20279399,"display_name":"이소정"},"score":0,"creation_date":1667964653,"post_id":74362806,"comment_id":131291756,"body_markdown":"answer for question : the table should be changed cuz i change the codes..! the table is not the result that i intended. the problem that i face is ; &quot;i change the code but the table is not changed&quot;","body":"answer for question : the table should be changed cuz i change the codes..! the table is not the result that i intended. the problem that i face is ; &quot;i change the code but the table is not changed&quot;"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668013400,"post_id":74362806,"comment_id":131306502,"body_markdown":"You haven&#39;t shown what configuration you are using, and no tool in existence can read your mind. It needs configuration to tell it what to do and how to handle the various use cases and edge cases that crop up. In this case, I would guess (since not details are given) that you are using drop and create options. Since your model has drastically changed since the DB was generated last, the drop script is wildly different from what would be needed. It is a situation that needs manual intervention, hence the warnings! I&#39;ve told you what to do so you&#39;ll need to reframe your question","body":"You haven&#39;t shown what configuration you are using, and no tool in existence can read your mind. It needs configuration to tell it what to do and how to handle the various use cases and edge cases that crop up. In this case, I would guess (since not details are given) that you are using drop and create options. Since your model has drastically changed since the DB was generated last, the drop script is wildly different from what would be needed. It is a situation that needs manual intervention, hence the warnings! I&#39;ve told you what to do so you&#39;ll need to reframe your question"}],"answers":[{"comments":[{"owner":{"account_id":26667534,"reputation":1,"user_id":20279399,"display_name":"이소정"},"score":0,"creation_date":1667953310,"post_id":74363080,"comment_id":131290111,"body_markdown":"so do you mean i should copy persistence xml code in the link and paste?","body":"so do you mean i should copy persistence xml code in the link and paste?"}],"tags":[],"owner":{"account_id":6321227,"reputation":21,"user_id":4909220,"display_name":"Phil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667920630,"creation_date":1667920630,"answer_id":74363080,"question_id":74362806,"body_markdown":"If This is usually configured in your persistence xml:\r\n\r\nFor an example see the &quot;hibernate.hbm2ddl.auto&quot; property here:\r\nhttps://gist.github.com/jorgevs/218483e7ba854e8e6e23be18182b0381","title":"jpa&#39;s changes are not reflected at H2 database","body":"<p>If This is usually configured in your persistence xml:</p>\n<p>For an example see the &quot;hibernate.hbm2ddl.auto&quot; property here:\n<a href=\"https://gist.github.com/jorgevs/218483e7ba854e8e6e23be18182b0381\" rel=\"nofollow noreferrer\">https://gist.github.com/jorgevs/218483e7ba854e8e6e23be18182b0381</a></p>\n"}],"owner":{"account_id":26667534,"reputation":1,"user_id":20279399,"display_name":"이소정"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667920630,"creation_date":1667919485,"question_id":74362806,"body_markdown":"I&#39;m writing the code which is related with one-to-many one way mapping.\r\n\r\nIn that process, i face a problem.\r\n\r\nI changed the intellij codes, but h2 database&#39;s tables don&#39;t change.\r\n\r\n\r\n\r\nThe image below is the result(h2 database table).\r\n[![enter image description here](https://i.stack.imgur.com/LfnoZ.png)](https://i.stack.imgur.com/LfnoZ.png)\r\n\r\nand these are the four java class files.\r\n\r\n```\r\n`package hellojpa;\r\n\r\nimport org.example.Main;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.Persistence;\r\nimport java.util.List;\r\n\r\n`your text`\r\n`public class JpaMain {\r\n\r\n    private static Team team;\r\n\r\n    public static void main(String[] args){\r\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;hello&quot;);\r\n\r\n        EntityManager em = emf.createEntityManager();\r\n\r\n        EntityTransaction tx = em.getTransaction();\r\n        tx.begin();\r\n\r\n        try{\r\n\r\n            Member member = new Member();\r\n            member.setUsername(&quot;member1&quot;);\r\n            em.persist(member);\r\n\r\n            Team team = new Team();\r\n            team.setName(&quot;teamA&quot;);\r\n            team.getMembers().add(member);\r\n            em.persist(team);\r\n\r\n            tx.commit();\r\n        }catch(Exception e){\r\n            tx.rollback();\r\n        } finally{\r\n            em.close();\r\n        }\r\n        emf.close();\r\n    }\r\n}`\r\n`\r\n```\r\n\r\n```\r\npackage hellojpa;\r\nimport net.bytebuddy.dynamic.TypeResolutionStrategy;\r\nimport org.hibernate.annotations.Fetch;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n        public class Member {\r\n        @Id @GeneratedValue\r\n        @Column(name = &quot;MEMBER_ID&quot;)\r\n        private Long id;\r\n\r\n        @Column(name = &quot;USERNAME&quot;)\r\n        private String username;\r\n\r\n        public Long getId() {return id;}\r\n\r\n        public void setId(Long id) {this.id = id;}\r\n\r\n        public String getUsername() {return username;}\r\n\r\n        public void setUsername(String username) {this.username = username;}\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\npackage hellojpa;\r\n\r\npublic enum RoleType {\r\n    GUEST, USER, ADMIN\r\n}\r\n```\r\n\r\n```\r\npackage hellojpa;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\npublic class Team extends Member {\r\n\r\n    @Id @GeneratedValue\r\n    @Column(name = &quot;TEAM_ID&quot;)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;TEAM_ID&quot;)\r\n    private List&lt;Member&gt; members = new ArrayList&lt;&gt;();\r\n\r\n    public Long getId() {return id;}\r\n\r\n    public void setId(Long id) {this.id = id;}\r\n\r\n    public String getName() {return name;}\r\n\r\n    public void setName(String name) {this.name = name;}\r\n\r\n    public List&lt;Member&gt; getMembers() {\r\n        return members;\r\n    }\r\n\r\n    public void setMembers(List&lt;Member&gt; members) {\r\n        this.members = members;\r\n    }\r\n}\r\n```\r\n\r\nand this is the result running the codes.\r\n\r\n```\r\nC:\\jdk1.8\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\lib\\idea_rt.jar=57451:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\jdk1.8\\jre\\lib\\charsets.jar;C:\\jdk1.8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\jdk1.8\\jre\\lib\\ext\\cldrdata.jar;C:\\jdk1.8\\jre\\lib\\ext\\dnsns.jar;C:\\jdk1.8\\jre\\lib\\ext\\jaccess.jar;C:\\jdk1.8\\jre\\lib\\ext\\localedata.jar;C:\\jdk1.8\\jre\\lib\\ext\\nashorn.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunec.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunmscapi.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\jdk1.8\\jre\\lib\\ext\\zipfs.jar;C:\\jdk1.8\\jre\\lib\\jce.jar;C:\\jdk1.8\\jre\\lib\\jfr.jar;C:\\jdk1.8\\jre\\lib\\jsse.jar;C:\\jdk1.8\\jre\\lib\\management-agent.jar;C:\\jdk1.8\\jre\\lib\\resources.jar;C:\\jdk1.8\\jre\\lib\\rt.jar;C:\\Users\\이소정\\IdeaProjects\\untitled\\target\\classes;C:\\Users\\이소정\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\5.3.10.Final\\hibernate-entitymanager-5.3.10.Final.jar;C:\\Users\\이소정\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\이소정\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.3.10.Final\\hibernate-core-5.3.10.Final.jar;C:\\Users\\이소정\\.m2\\repository\\org\\javassist\\javassist\\3.23.2-GA\\javassist-3.23.2-GA.jar;C:\\Users\\이소정\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\이소정\\.m2\\repository\\org\\jboss\\jandex\\2.0.5.Final\\jandex-2.0.5.Final.jar;C:\\Users\\이소정\\.m2\\repository\\com\\fasterxml\\classmate\\1.3.4\\classmate-1.3.4.jar;C:\\Users\\이소정\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\이소정\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\이소정\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.0.4.Final\\hibernate-commons-annotations-5.0.4.Final.jar;C:\\Users\\이소정\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\이소정\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.5\\byte-buddy-1.9.5.jar;C:\\Users\\이소정\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\이소정\\.m2\\repository\\com\\h2database\\h2\\2.1.214\\h2-2.1.214.jar hellojpa.JpaMain\r\n11월 08, 2022 11:52:05 오후 org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\nINFO: HHH000204: Processing PersistenceUnitInfo [\r\n\tname: hello\r\n\t...]\r\n11월 08, 2022 11:52:05 오후 org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.3.10.Final}\r\n11월 08, 2022 11:52:05 오후 org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\n11월 08, 2022 11:52:06 오후 org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:tcp://localhost/~/test]\r\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {user=sa}\r\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n11월 08, 2022 11:52:07 오후 org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\nHibernate: \r\n    \r\n    drop table Member if exists\r\nHibernate: \r\n    \r\n    drop sequence if exists hibernate_sequence\r\n11월 08, 2022 11:52:09 오후 org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@503d56b5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    drop table Member if exists&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    drop table Member if exists&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat hellojpa.JpaMain.main(JpaMain.java:16)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Cannot drop &quot;MEMBER&quot; because &quot;FKE8UEUS37RRMKA8U5STQRU9V0A, FK15N138CXCXM0P0V68XQU8H76F&quot; depends on it; SQL statement:\r\n\r\n    drop table Member if  [90107-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.command.ddl.DropTable.prepareDrop(DropTable.java:97)\r\n\tat org.h2.command.ddl.DropTable.update(DropTable.java:121)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\r\n\tat org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\r\n\tat org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\r\n\tat org.h2.engine.SessionRemote.done(SessionRemote.java:606)\r\n\tat org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 15 more\r\n\r\n11월 08, 2022 11:52:09 오후 org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@30c0ccff] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\r\nHibernate: \r\n    \r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n        primary key (MEMBER_ID)\r\n    )\r\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n        primary key (MEMBER_ID)\r\n    )&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n        primary key (MEMBER_ID)\r\n    )&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat hellojpa.JpaMain.main(JpaMain.java:16)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;MEMBER&quot; already exists; SQL statement:\r\n\r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n [42101-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.command.ddl.CreateTable.update(CreateTable.java:91)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\r\n\tat org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\r\n\tat org.h2.engine.SessionRemote.done(SessionRemote.java:606)\r\n\tat org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 15 more\r\n\r\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references Member&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references Member&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:375)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat hellojpa.JpaMain.main(JpaMain.java:16)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;TEAM_ID&quot; not found; SQL statement:\r\n\r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references  [42122-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.table.Table.getColumn(Table.java:749)\r\n\tat org.h2.table.IndexColumn.mapColumns(IndexColumn.java:184)\r\n\tat org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:214)\r\n\tat org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)\r\n\tat org.h2.command.ddl.AlterTable.update(AlterTable.java:46)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\r\n\tat org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\r\n\tat org.h2.engine.SessionRemote.done(SessionRemote.java:606)\r\n\tat org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 15 more\r\n\r\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\r\nINFO: HHH000476: Executing import script &#39;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5851bd4f&#39;\r\nHibernate: \r\n    \r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references Member\r\nHibernate: \r\n    call next value for hibernate_sequence\r\nHibernate: \r\n    call next value for hibernate_sequence\r\nHibernate: \r\n    insert \r\n    into\r\n        Member\r\n        (USERNAME, DTYPE, MEMBER_ID) \r\n    values\r\n        (?, &#39;Member&#39;, ?)\r\n11월 08, 2022 11:52:10 오후 org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 23505, SQLState: 23505\r\n11월 08, 2022 11:52:10 오후 org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MEMBER(MEMBER_ID) ( /* key:1 */ &#39;Member&#39;, CAST(1 AS BIGINT), &#39;member1&#39;, NULL)&quot;; SQL statement:\r\ninsert into Member (USERNAME, DTYPE, MEMBER_ID) values (?, &#39;Member&#39;, ?) [23505-214]\r\n11월 08, 2022 11:52:10 오후 org.hibernate.internal.ExceptionMapperStandardImpl mapManagedFlushFailure\r\nERROR: HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\r\n11월 08, 2022 11:52:10 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:h2:tcp://localhost/~/test]\r\n\r\nProcess finished with exit code 0\r\n```","title":"jpa&#39;s changes are not reflected at H2 database","body":"<p>I'm writing the code which is related with one-to-many one way mapping.</p>\n<p>In that process, i face a problem.</p>\n<p>I changed the intellij codes, but h2 database's tables don't change.</p>\n<p>The image below is the result(h2 database table).\n<a href=\"https://i.stack.imgur.com/LfnoZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LfnoZ.png\" alt=\"enter image description here\" /></a></p>\n<p>and these are the four java class files.</p>\n<pre><code>`package hellojpa;\n\nimport org.example.Main;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.Persistence;\nimport java.util.List;\n\n`your text`\n`public class JpaMain {\n\n    private static Team team;\n\n    public static void main(String[] args){\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;hello&quot;);\n\n        EntityManager em = emf.createEntityManager();\n\n        EntityTransaction tx = em.getTransaction();\n        tx.begin();\n\n        try{\n\n            Member member = new Member();\n            member.setUsername(&quot;member1&quot;);\n            em.persist(member);\n\n            Team team = new Team();\n            team.setName(&quot;teamA&quot;);\n            team.getMembers().add(member);\n            em.persist(team);\n\n            tx.commit();\n        }catch(Exception e){\n            tx.rollback();\n        } finally{\n            em.close();\n        }\n        emf.close();\n    }\n}`\n`\n</code></pre>\n<pre><code>package hellojpa;\nimport net.bytebuddy.dynamic.TypeResolutionStrategy;\nimport org.hibernate.annotations.Fetch;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n        public class Member {\n        @Id @GeneratedValue\n        @Column(name = &quot;MEMBER_ID&quot;)\n        private Long id;\n\n        @Column(name = &quot;USERNAME&quot;)\n        private String username;\n\n        public Long getId() {return id;}\n\n        public void setId(Long id) {this.id = id;}\n\n        public String getUsername() {return username;}\n\n        public void setUsername(String username) {this.username = username;}\n\n\n}\n</code></pre>\n<pre><code>package hellojpa;\n\npublic enum RoleType {\n    GUEST, USER, ADMIN\n}\n</code></pre>\n<pre><code>package hellojpa;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\npublic class Team extends Member {\n\n    @Id @GeneratedValue\n    @Column(name = &quot;TEAM_ID&quot;)\n    private Long id;\n    private String name;\n\n    @OneToMany\n    @JoinColumn(name = &quot;TEAM_ID&quot;)\n    private List&lt;Member&gt; members = new ArrayList&lt;&gt;();\n\n    public Long getId() {return id;}\n\n    public void setId(Long id) {this.id = id;}\n\n    public String getName() {return name;}\n\n    public void setName(String name) {this.name = name;}\n\n    public List&lt;Member&gt; getMembers() {\n        return members;\n    }\n\n    public void setMembers(List&lt;Member&gt; members) {\n        this.members = members;\n    }\n}\n</code></pre>\n<p>and this is the result running the codes.</p>\n<pre><code>C:\\jdk1.8\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\lib\\idea_rt.jar=57451:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\jdk1.8\\jre\\lib\\charsets.jar;C:\\jdk1.8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\jdk1.8\\jre\\lib\\ext\\cldrdata.jar;C:\\jdk1.8\\jre\\lib\\ext\\dnsns.jar;C:\\jdk1.8\\jre\\lib\\ext\\jaccess.jar;C:\\jdk1.8\\jre\\lib\\ext\\localedata.jar;C:\\jdk1.8\\jre\\lib\\ext\\nashorn.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunec.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunmscapi.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\jdk1.8\\jre\\lib\\ext\\zipfs.jar;C:\\jdk1.8\\jre\\lib\\jce.jar;C:\\jdk1.8\\jre\\lib\\jfr.jar;C:\\jdk1.8\\jre\\lib\\jsse.jar;C:\\jdk1.8\\jre\\lib\\management-agent.jar;C:\\jdk1.8\\jre\\lib\\resources.jar;C:\\jdk1.8\\jre\\lib\\rt.jar;C:\\Users\\이소정\\IdeaProjects\\untitled\\target\\classes;C:\\Users\\이소정\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\5.3.10.Final\\hibernate-entitymanager-5.3.10.Final.jar;C:\\Users\\이소정\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\이소정\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.3.10.Final\\hibernate-core-5.3.10.Final.jar;C:\\Users\\이소정\\.m2\\repository\\org\\javassist\\javassist\\3.23.2-GA\\javassist-3.23.2-GA.jar;C:\\Users\\이소정\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\이소정\\.m2\\repository\\org\\jboss\\jandex\\2.0.5.Final\\jandex-2.0.5.Final.jar;C:\\Users\\이소정\\.m2\\repository\\com\\fasterxml\\classmate\\1.3.4\\classmate-1.3.4.jar;C:\\Users\\이소정\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\이소정\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\이소정\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.0.4.Final\\hibernate-commons-annotations-5.0.4.Final.jar;C:\\Users\\이소정\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\이소정\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.5\\byte-buddy-1.9.5.jar;C:\\Users\\이소정\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\이소정\\.m2\\repository\\com\\h2database\\h2\\2.1.214\\h2-2.1.214.jar hellojpa.JpaMain\n11월 08, 2022 11:52:05 오후 org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [\n    name: hello\n    ...]\n11월 08, 2022 11:52:05 오후 org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.3.10.Final}\n11월 08, 2022 11:52:05 오후 org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\n11월 08, 2022 11:52:06 오후 org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:tcp://localhost/~/test]\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {user=sa}\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\n11월 08, 2022 11:52:07 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\n11월 08, 2022 11:52:07 오후 org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\nHibernate: \n    \n    drop table Member if exists\nHibernate: \n    \n    drop sequence if exists hibernate_sequence\n11월 08, 2022 11:52:09 오후 org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@503d56b5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    drop table Member if exists&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    drop table Member if exists&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at hellojpa.JpaMain.main(JpaMain.java:16)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Cannot drop &quot;MEMBER&quot; because &quot;FKE8UEUS37RRMKA8U5STQRU9V0A, FK15N138CXCXM0P0V68XQU8H76F&quot; depends on it; SQL statement:\n\n    drop table Member if  [90107-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.command.ddl.DropTable.prepareDrop(DropTable.java:97)\n    at org.h2.command.ddl.DropTable.update(DropTable.java:121)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\n    at org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\n    at java.lang.Thread.run(Thread.java:748)\n\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\n    at org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\n    at org.h2.engine.SessionRemote.done(SessionRemote.java:606)\n    at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 15 more\n\n11월 08, 2022 11:52:09 오후 org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@30c0ccff] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\nHibernate: \n    \n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n        primary key (MEMBER_ID)\n    )\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n        primary key (MEMBER_ID)\n    )&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n        primary key (MEMBER_ID)\n    )&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at hellojpa.JpaMain.main(JpaMain.java:16)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;MEMBER&quot; already exists; SQL statement:\n\n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n [42101-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.command.ddl.CreateTable.update(CreateTable.java:91)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\n    at org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\n    at java.lang.Thread.run(Thread.java:748)\n\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\n    at org.h2.engine.SessionRemote.done(SessionRemote.java:606)\n    at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 15 more\n\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references Member&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references Member&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:375)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at hellojpa.JpaMain.main(JpaMain.java:16)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;TEAM_ID&quot; not found; SQL statement:\n\n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references  [42122-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.table.Table.getColumn(Table.java:749)\n    at org.h2.table.IndexColumn.mapColumns(IndexColumn.java:184)\n    at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:214)\n    at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)\n    at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\n    at org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\n    at java.lang.Thread.run(Thread.java:748)\n\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\n    at org.h2.engine.SessionRemote.done(SessionRemote.java:606)\n    at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 15 more\n\n11월 08, 2022 11:52:09 오후 org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\nINFO: HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5851bd4f'\nHibernate: \n    \n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references Member\nHibernate: \n    call next value for hibernate_sequence\nHibernate: \n    call next value for hibernate_sequence\nHibernate: \n    insert \n    into\n        Member\n        (USERNAME, DTYPE, MEMBER_ID) \n    values\n        (?, 'Member', ?)\n11월 08, 2022 11:52:10 오후 org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 23505, SQLState: 23505\n11월 08, 2022 11:52:10 오후 org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MEMBER(MEMBER_ID) ( /* key:1 */ 'Member', CAST(1 AS BIGINT), 'member1', NULL)&quot;; SQL statement:\ninsert into Member (USERNAME, DTYPE, MEMBER_ID) values (?, 'Member', ?) [23505-214]\n11월 08, 2022 11:52:10 오후 org.hibernate.internal.ExceptionMapperStandardImpl mapManagedFlushFailure\nERROR: HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\n11월 08, 2022 11:52:10 오후 org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:h2:tcp://localhost/~/test]\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","apache-camel","jms","apache-karaf","apache-servicemix"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668016784,"post_id":74360146,"comment_id":131307716,"body_markdown":"If you have a different JMS Provider/Implementation you want to talk with just replace the component in your route. For IBM MQ and EMS (I don&#39;t know this implementation by the way) just use the generic [JMS component](https://camel.apache.org/components/3.18.x/jms-component.html) so it fits all.","body":"If you have a different JMS Provider/Implementation you want to talk with just replace the component in your route. For IBM MQ and EMS (I don&#39;t know this implementation by the way) just use the generic <a href=\"https://camel.apache.org/components/3.18.x/jms-component.html\" rel=\"nofollow noreferrer\">JMS component</a> so it fits all."},{"owner":{"account_id":11521870,"reputation":136,"user_id":8443397,"display_name":"Hasan Birol"},"score":0,"creation_date":1668163783,"post_id":74360146,"comment_id":131344418,"body_markdown":"http://www.masterspringboot.com/camel/integration-with-ibm-mq-made-simple-with-camel/ IBM MQ is part of JMS but some fields of it is special for IBM MQ. Should use its client.","body":"<a href=\"http://www.masterspringboot.com/camel/integration-with-ibm-mq-made-simple-with-camel/\" rel=\"nofollow noreferrer\">masterspringboot.com/camel/&hellip;</a> IBM MQ is part of JMS but some fields of it is special for IBM MQ. Should use its client."}],"owner":{"account_id":18991244,"reputation":15,"user_id":13860472,"display_name":"Maciej Kajetan Chrzanowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920609,"creation_date":1667907706,"question_id":74360146,"body_markdown":"What I&#39;m trying to do is making a connection to EMS and IBM MQ. So I&#39;ve tried to get some knowledge from camel.apache.org and people.apache.org about camel-jms component and try to make a connection to those like from ActiveMQ component. I run the application in the docker so instead of localhost I used host.docker.internal and it&#39;s working fine for me.\r\n```xml\r\n&lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\r\n    &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://host.docker.internal:61616&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;admin&quot;/&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;admin&quot;/&gt;\r\n&lt;/bean&gt;\r\n...\r\n&lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&gt;\r\n    &lt;route id=&quot;input&quot;&gt;\r\n      &lt;from uri=&quot;activemq:INPUT-QUEUE&quot;/&gt;\r\n      &lt;!-- Process message --&gt;\r\n      &lt;to uri=&quot;activemq:OUTPUT-QUEUE&quot;/&gt;\r\n    &lt;/route&gt;\r\n&lt;/camelContext&gt;\r\n```\r\nNow what I&#39;m trying to achieve is making the same thing for those 2 that I&#39;m already mentioned.\r\n```xml\r\n&lt;bean id=&quot;ibmMqTryout&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nI do not know what kind of field I need to use and what I&#39;ve tried is to reference some JMSConfiguration and JMSConnectionFactory Bean, but I don&#39;t get how it works in servicemix. Additionally I would like to use some Environment Properties for EMS connection.\r\nI know this question is really chaotic, but I&#39;m in dead end right now.","title":"Camel-jms create connection to EMS / IBMMQ via servicemix Karaf","body":"<p>What I'm trying to do is making a connection to EMS and IBM MQ. So I've tried to get some knowledge from camel.apache.org and people.apache.org about camel-jms component and try to make a connection to those like from ActiveMQ component. I run the application in the docker so instead of localhost I used host.docker.internal and it's working fine for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\n    &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://host.docker.internal:61616&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;admin&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;admin&quot;/&gt;\n&lt;/bean&gt;\n...\n&lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&gt;\n    &lt;route id=&quot;input&quot;&gt;\n      &lt;from uri=&quot;activemq:INPUT-QUEUE&quot;/&gt;\n      &lt;!-- Process message --&gt;\n      &lt;to uri=&quot;activemq:OUTPUT-QUEUE&quot;/&gt;\n    &lt;/route&gt;\n&lt;/camelContext&gt;\n</code></pre>\n<p>Now what I'm trying to achieve is making the same thing for those 2 that I'm already mentioned.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;ibmMqTryout&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I do not know what kind of field I need to use and what I've tried is to reference some JMSConfiguration and JMSConnectionFactory Bean, but I don't get how it works in servicemix. Additionally I would like to use some Environment Properties for EMS connection.\nI know this question is really chaotic, but I'm in dead end right now.</p>\n"},{"tags":["java","rest","swagger","openapi","swagger-codegen"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1667924372,"post_id":74362992,"comment_id":131281702,"body_markdown":"_&quot;when I am trying to send query parameters from the URLs its receiving it as null.&quot;_ - this could be an issue with the specific server/client codegen that you used, or with the code you use to send the request. It&#39;s hard to say without seeing the code.","body":"<i>&quot;when I am trying to send query parameters from the URLs its receiving it as null.&quot;</i> - this could be an issue with the specific server/client codegen that you used, or with the code you use to send the request. It&#39;s hard to say without seeing the code."},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1667930650,"post_id":74362992,"comment_id":131284101,"body_markdown":"@Helen I doubt this could be the issue because I am using some UTs for the testing ,so to validate this first I ran the model generated by swagger and then I ran the model which I wrote manually the one which was created by me was successfull on TCs. I mean from my finding I believe there is either some problem in my yaml syntax or I am doubtful that can we pass the schema in the way I am using it for the query parameters","body":"@Helen I doubt this could be the issue because I am using some UTs for the testing ,so to validate this first I ran the model generated by swagger and then I ran the model which I wrote manually the one which was created by me was successfull on TCs. I mean from my finding I believe there is either some problem in my yaml syntax or I am doubtful that can we pass the schema in the way I am using it for the query parameters"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1667933286,"post_id":74362992,"comment_id":131284948,"body_markdown":"Your OpenAPI definition (and the usage of an object schema as a query parameter) is correct and means that the URL query string is formatted as `/tasks?workflow=...&amp;timestamp=...&amp;createdTill=...&amp;page=...`. There&#39;s just one small error in the definition: the required object properties must be specified in the `required: [prop1, prop2, ...]` list on the object level ([example](https://stackoverflow.com/a/40113571/113116)); properties themselves don&#39;t have the `required: true/false` attribute.","body":"Your OpenAPI definition (and the usage of an object schema as a query parameter) is correct and means that the URL query string is formatted as <code>&#47;tasks?workflow=...&amp;timestamp=...&amp;createdTill=...&amp;page=...</code>. There&#39;s just one small error in the definition: the required object properties must be specified in the <code>required: [prop1, prop2, ...]</code> list on the object level (<a href=\"https://stackoverflow.com/a/40113571/113116\">example</a>); properties themselves don&#39;t have the <code>required: true&#47;false</code> attribute."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1667933762,"post_id":74362992,"comment_id":131285094,"body_markdown":"Since the `PayloadQueryParams` schema lives in a separate file, you probably need to change the parameter schema `$ref` to: `$ref: &#39;path/to/api-defs.yaml#/PayloadQueryParams` or similar.","body":"Since the <code>PayloadQueryParams</code> schema lives in a separate file, you probably need to change the parameter schema <code>$ref</code> to: <code>$ref: &#39;path&#47;to&#47;api-defs.yaml#&#47;PayloadQueryParams</code> or similar."},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1668063728,"post_id":74362992,"comment_id":131317308,"body_markdown":"ok thanks @Helen, thanks for the input but on applying those above too I am not able to resolute it. Please do let me know if you have any reference examples where we are creating a custom model for query params or some reference for this, I spent a much time on this so I am going without any model for now","body":"ok thanks @Helen, thanks for the input but on applying those above too I am not able to resolute it. Please do let me know if you have any reference examples where we are creating a custom model for query params or some reference for this, I spent a much time on this so I am going without any model for now"}],"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920244,"creation_date":1667920244,"question_id":74362992,"body_markdown":"Similar Problem :\r\nhttps://stackoverflow.com/questions/38187187/use-object-type-query-param-in-swagger-documentation\r\n\r\n\r\n**My ask :** \r\n\r\nI have an API for which lets I have 3 query parameters but in the future, it can have multiple parameters with different datatypes. So instead of directly mentioning them in my `api-doc.yaml` I want to create a model(class) which can hold all these parameters. Please note I only want to go with this solution. I know we can pass it in the body. But I am in a tightly coupled setup hence I am interested to see how we can wrap these parameters into a single class\r\n\r\n**My current implementation:**\r\nMy `api-defs.yaml` file where I am defining this model as a schema `PayloadQueryParams`  \r\n```\r\nPayloadQueryParams:\r\n  type: object\r\n  properties:\r\n    workflow:\r\n      type: string\r\n      required: true\r\n    timestamp:\r\n      type: integer\r\n      format: int64\r\n      required : true\r\n    createdTill:\r\n      type: integer\r\n      format: int64\r\n      description: &quot;timestamp in ms for querying scheduler service tasks&quot;\r\n      required : false\r\n    page:\r\n      type: integer\r\n      description: &quot;page number for scheduled tasks&quot;\r\n      required: false\r\n```\r\nNow I am trying to use this model, into my `api-internal.yaml`\r\n```\r\n  /tasks:\r\n    get:\r\n      tags:\r\n        - &quot;internal&quot;\r\n      operationId: &quot;getTask&quot;\r\n      parameters:\r\n        - in: query\r\n          name : PayloadQueryParams\r\n          schema:\r\n            $ref: &#39;#/components/schemas/PayloadQueryParams&#39;\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: OK\r\n          content:\r\n            application/json:\r\n              schema:\r\n                  $ref: &#39;#/components/schemas/ResponseModel&#39;\r\n        &quot;401&quot;:\r\n          description: &quot;Unauthorized&quot;\r\n          content: { }\r\n        &quot;403&quot;:\r\n          description: &quot;Forbidden&quot;\r\n          content: { }\r\n\r\n```\r\nNow usually my approach stays is that with this codegen structure generates a custom boiler plater interface which I implement into my controller layer and override methods, \r\n\r\n**PROBLEM**\r\nWith above structure problem I am facing is \r\n\r\n 1. The methods codegen is generating (`getTask`) that is created with model `PayloadQueryParams` which I expect it to do but the problem is when I am trying to send query parameters from the URLs its receiving it as null. \r\n 2. As part of testing I removed all these definitions from swagger and created my own query paramter class `PayloadQueryParams` exactly same which was generated by swagger and when I try to use that directly into my controller layer, my UTs are working fine that means when I send the query params from URL they are parsed correctly\r\n 3. But as I mentioned I cant go with the setup-2 I have to do same thing via swagger codegen\r\n 4. I have validated by copying the exact definition of class `PayloadQueryParams` generated by swagger into my own custom class, even when they are identical, my APIs without swagger are working but not working when I used swagger codegen for generating query param model\r\n\r\n\r\n**SOLUTIONS I EXPECT**\r\n1. Is there any structual problem in my yaml files ?\r\n2. I am on openAPI so I belive that is not the problem \r\n3. Is there any other way we can get these query parameters into a hashmap or multivalue map \r\n","title":"How to wrap up query parametrs into a custom model in swagger","body":"<p>Similar Problem :\n<a href=\"https://stackoverflow.com/questions/38187187/use-object-type-query-param-in-swagger-documentation\">Use object type query param in swagger documentation</a></p>\n<p><strong>My ask :</strong></p>\n<p>I have an API for which lets I have 3 query parameters but in the future, it can have multiple parameters with different datatypes. So instead of directly mentioning them in my <code>api-doc.yaml</code> I want to create a model(class) which can hold all these parameters. Please note I only want to go with this solution. I know we can pass it in the body. But I am in a tightly coupled setup hence I am interested to see how we can wrap these parameters into a single class</p>\n<p><strong>My current implementation:</strong>\nMy <code>api-defs.yaml</code> file where I am defining this model as a schema <code>PayloadQueryParams</code></p>\n<pre><code>PayloadQueryParams:\n  type: object\n  properties:\n    workflow:\n      type: string\n      required: true\n    timestamp:\n      type: integer\n      format: int64\n      required : true\n    createdTill:\n      type: integer\n      format: int64\n      description: &quot;timestamp in ms for querying scheduler service tasks&quot;\n      required : false\n    page:\n      type: integer\n      description: &quot;page number for scheduled tasks&quot;\n      required: false\n</code></pre>\n<p>Now I am trying to use this model, into my <code>api-internal.yaml</code></p>\n<pre><code>  /tasks:\n    get:\n      tags:\n        - &quot;internal&quot;\n      operationId: &quot;getTask&quot;\n      parameters:\n        - in: query\n          name : PayloadQueryParams\n          schema:\n            $ref: '#/components/schemas/PayloadQueryParams'\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                  $ref: '#/components/schemas/ResponseModel'\n        &quot;401&quot;:\n          description: &quot;Unauthorized&quot;\n          content: { }\n        &quot;403&quot;:\n          description: &quot;Forbidden&quot;\n          content: { }\n\n</code></pre>\n<p>Now usually my approach stays is that with this codegen structure generates a custom boiler plater interface which I implement into my controller layer and override methods,</p>\n<p><strong>PROBLEM</strong>\nWith above structure problem I am facing is</p>\n<ol>\n<li>The methods codegen is generating (<code>getTask</code>) that is created with model <code>PayloadQueryParams</code> which I expect it to do but the problem is when I am trying to send query parameters from the URLs its receiving it as null.</li>\n<li>As part of testing I removed all these definitions from swagger and created my own query paramter class <code>PayloadQueryParams</code> exactly same which was generated by swagger and when I try to use that directly into my controller layer, my UTs are working fine that means when I send the query params from URL they are parsed correctly</li>\n<li>But as I mentioned I cant go with the setup-2 I have to do same thing via swagger codegen</li>\n<li>I have validated by copying the exact definition of class <code>PayloadQueryParams</code> generated by swagger into my own custom class, even when they are identical, my APIs without swagger are working but not working when I used swagger codegen for generating query param model</li>\n</ol>\n<p><strong>SOLUTIONS I EXPECT</strong></p>\n<ol>\n<li>Is there any structual problem in my yaml files ?</li>\n<li>I am on openAPI so I belive that is not the problem</li>\n<li>Is there any other way we can get these query parameters into a hashmap or multivalue map</li>\n</ol>\n"},{"tags":["java","amazon-web-services","rest","aws-lambda"],"comments":[{"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"score":0,"creation_date":1667919926,"post_id":74362846,"comment_id":131279833,"body_markdown":"So, just to understand. From a lambda function, you want to make a call to your local REST API hosted on your machine? Yes, postman will work this it is run on your pc. In order for lambda to call your REST API, you need to expose your machine to the internet via your router. I don&#39;t think you want to go down that path. Why don&#39;t you host your REST API on EC2? Something that lambda can actually reach.","body":"So, just to understand. From a lambda function, you want to make a call to your local REST API hosted on your machine? Yes, postman will work this it is run on your pc. In order for lambda to call your REST API, you need to expose your machine to the internet via your router. I don&#39;t think you want to go down that path. Why don&#39;t you host your REST API on EC2? Something that lambda can actually reach."},{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1667921296,"post_id":74362846,"comment_id":131280446,"body_markdown":"EC2 option is available but for that I need to patch my dev branch which I dont want, local branch is having some unwanted commits which may break dev so I wanted to test this on local api instead but looks like it is tricky. How abou trunning the lambda on local uaing SAM Cli??","body":"EC2 option is available but for that I need to patch my dev branch which I dont want, local branch is having some unwanted commits which may break dev so I wanted to test this on local api instead but looks like it is tricky. How abou trunning the lambda on local uaing SAM Cli??"}],"answers":[{"comments":[{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1667920833,"post_id":74362985,"comment_id":131280254,"body_markdown":"Thanks for the response Mike, I am looking into the suggestion you gave.","body":"Thanks for the response Mike, I am looking into the suggestion you gave."},{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1668014782,"post_id":74362985,"comment_id":131306992,"body_markdown":"I think this is the best resolution to my problem, although I would take the suggestion from Mike and host my API in an EC2 instance to get my job done.","body":"I think this is the best resolution to my problem, although I would take the suggestion from Mike and host my API in an EC2 instance to get my job done."}],"tags":[],"owner":{"account_id":4191339,"reputation":333,"user_id":4637939,"display_name":"Mike Frank"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667920219,"creation_date":1667920219,"answer_id":74362985,"question_id":74362846,"body_markdown":"It sounds like what you need is an internet facing proxy that can forward (tunnel) requests to your local machine. Products like [ngrok][1] or [localxpose][2] are designed to do this easily, giving you an auto-generated host name that is accessible from anywhere on the internet and will forward the http requests to a process running on your local machine. \r\n\r\nThere are also a number of open source projects with similar functionality, but you would have to host these yourself. Here is an example of [an &quot;awesome&quot; repo][3] listing quite a few open source options. \r\n\r\n\r\n  [1]: https://ngrok.com/\r\n  [2]: https://localxpose.io/\r\n  [3]: https://github.com/anderspitman/awesome-tunneling","title":"Calling REST API hosted on local-machine from AWS Lambda","body":"<p>It sounds like what you need is an internet facing proxy that can forward (tunnel) requests to your local machine. Products like <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">ngrok</a> or <a href=\"https://localxpose.io/\" rel=\"nofollow noreferrer\">localxpose</a> are designed to do this easily, giving you an auto-generated host name that is accessible from anywhere on the internet and will forward the http requests to a process running on your local machine.</p>\n<p>There are also a number of open source projects with similar functionality, but you would have to host these yourself. Here is an example of <a href=\"https://github.com/anderspitman/awesome-tunneling\" rel=\"nofollow noreferrer\">an &quot;awesome&quot; repo</a> listing quite a few open source options.</p>\n"}],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74362985,"answer_count":1,"score":1,"last_activity_date":1667920219,"creation_date":1667919628,"question_id":74362846,"body_markdown":"I am having a use case where I need to invoke a Rest API which is deployed/running on my local-machine (locahost:8090) from an AWS Lambda Function which will get triggered on an SQS event.\r\n\r\nI cannot go with API Gateway Option.\r\nI am able to invoke the same API using the IP address from POSTMAN, can I use some Rest Client Like HttpClient or RestTemplate to invoke the same API using the IP address.\r\n\r\nAlso do I need to have some policy attached to my Lambda function, as when I am calling using HttpClient my Lambda function timesout.\r\n\r\n\r\n","title":"Calling REST API hosted on local-machine from AWS Lambda","body":"<p>I am having a use case where I need to invoke a Rest API which is deployed/running on my local-machine (locahost:8090) from an AWS Lambda Function which will get triggered on an SQS event.</p>\n<p>I cannot go with API Gateway Option.\nI am able to invoke the same API using the IP address from POSTMAN, can I use some Rest Client Like HttpClient or RestTemplate to invoke the same API using the IP address.</p>\n<p>Also do I need to have some policy attached to my Lambda function, as when I am calling using HttpClient my Lambda function timesout.</p>\n"},{"tags":["java","gradle","jar","build.gradle"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":1,"creation_date":1667920441,"post_id":74361839,"comment_id":131280068,"body_markdown":"You&#39;re currently creating a &quot;fat jar&quot; instead of a plain jar. Try running `gradle clean &amp;&amp; gradle jar` and if that isn&#39;t working then try removing the `fatJar` task from `build.gradle` and run those commands again.","body":"You&#39;re currently creating a &quot;fat jar&quot; instead of a plain jar. Try running <code>gradle clean &amp;&amp; gradle jar</code> and if that isn&#39;t working then try removing the <code>fatJar</code> task from <code>build.gradle</code> and run those commands again."},{"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"score":0,"creation_date":1667921353,"post_id":74361839,"comment_id":131280471,"body_markdown":"@blacktide Thanks much, I see a lot of improvements with that.","body":"@blacktide Thanks much, I see a lot of improvements with that."}],"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920178,"creation_date":1667915423,"question_id":74361839,"body_markdown":"I am pretty new to using Gradle. I am using Gradle-7.5.1. I just want a jar file created using Gradle that contains just the manifest file and the source files I wrote but why does the created jar contain a million other things in it?\r\n\r\nMy gradle.build file is as follows:\r\n```groovy\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nversion = &#39;1.0&#39;\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ntask fatJar(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Manifest-Version&#39;: version,\r\n            &#39;Class-Path&#39;: configurations.runtimeClasspath.files.collect { it.getName() }.join(&#39; &#39;)\r\n    }\r\n    baseName = &#39;MyProj&#39;\r\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;1.7.25&#39; &lt; etc &gt;\r\n}\r\n```\r\n\r\n\r\nWhat I want in the MyProj-1.0 is:\r\n\r\n```\r\nMETA-INF (holding the Manifest.MF)\r\ncom (holding my src files)\r\n```\r\n\r\nWhat I get in the jar is:\r\n\r\n```none\r\nassets\r\nstyle\r\ncorejava\r\njavax\r\n..and a lot more such things\r\n```\r\n\r\n\r\nThanks in advance for any pointers. As I have banged my head to the point of snapping it!\r\n","title":"Remove unwanted files and jars when creating jar with Gradle","body":"<p>I am pretty new to using Gradle. I am using Gradle-7.5.1. I just want a jar file created using Gradle that contains just the manifest file and the source files I wrote but why does the created jar contain a million other things in it?</p>\n<p>My gradle.build file is as follows:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nversion = '1.0'\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src']\n        }\n    }\n}\n\ntask fatJar(type: Jar) {\n    manifest {\n        attributes 'Manifest-Version': version,\n            'Class-Path': configurations.runtimeClasspath.files.collect { it.getName() }.join(' ')\n    }\n    baseName = 'MyProj'\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25' &lt; etc &gt;\n}\n</code></pre>\n<p>What I want in the MyProj-1.0 is:</p>\n<pre><code>META-INF (holding the Manifest.MF)\ncom (holding my src files)\n</code></pre>\n<p>What I get in the jar is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>assets\nstyle\ncorejava\njavax\n..and a lot more such things\n</code></pre>\n<p>Thanks in advance for any pointers. As I have banged my head to the point of snapping it!</p>\n"},{"tags":["java","android","android-connectivitymanager"],"answers":[{"tags":[],"owner":{"account_id":11562627,"reputation":83,"user_id":8471907,"display_name":"Job"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667919933,"creation_date":1667919933,"answer_id":74362924,"question_id":59648303,"body_markdown":"We encountered the same issue on the Zebra MC18 devices running Android 5. Our workaround was to check if the last onAvailable call came from the same network and we didn&#39;t receive onLost for this network in the meantime.","title":"Multiple random NetworkCallbacks (onAvailable) with same networkId from the ConnectivityManager","body":"<p>We encountered the same issue on the Zebra MC18 devices running Android 5. Our workaround was to check if the last onAvailable call came from the same network and we didn't receive onLost for this network in the meantime.</p>\n"}],"owner":{"account_id":2746857,"reputation":2078,"user_id":2395334,"accept_rate":55,"display_name":"DennisVA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1667919933,"creation_date":1578494784,"question_id":59648303,"body_markdown":"I don&#39;t understand why onAvailable is called multiple times at random moments, the documentation states that it can be called more if the network changes, but the properties of the network object parameter in onAvailable is always the same. I even compared the hashcodes and they are the same...\r\n\r\nThe problem occurs on my LG lollipop device\r\n\r\nAndroid documentation: (https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback)\r\n\r\n&gt; **onAvailable Added in API level 21** Called when the framework connects and has declared a new\r\n&gt; network ready for use. This callback may be called more than once if\r\n&gt; the Network that is satisfying the request changes\r\n\r\n\r\nEDIT: I have implemented other methods from the callback to check if any other methods are fired (onLosing, onUnavailable, onCapabilitiesChanged, onLinkPropertiesChanged), but none of these are called\r\n\r\nI have my own NetworkManager that has this code in it:\r\n\r\n    public void initialize(Context context) {\r\n        connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        setState();\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            final NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n                    .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n                    .addTransportType(NetworkCapabilities.TRANSPORT_WIFI).build();\r\n\r\n            connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\r\n                @Override\r\n                public void onAvailable(final Network network) {\r\n                    super.onAvailable(network);\r\n                    NetworkInfo networkInfo = connectivityManager.getNetworkInfo(network);\r\n                    Log.d(TAG,&quot;Network is Available. Network Info: &quot; + networkInfo);\r\n                    notifyObservers();\r\n                }\r\n\r\n                @Override\r\n                public void onLost(final Network network) {\r\n                    super.onLost(network);\r\n                    notifyObservers();\r\n                }\r\n            });\r\n        } else {\r\n            context.registerReceiver(new NetworkChangeReceiver(), new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\r\n        }\r\n    }\r\n\r\nLogs:\r\n\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    ...\r\n","title":"Multiple random NetworkCallbacks (onAvailable) with same networkId from the ConnectivityManager","body":"<p>I don't understand why onAvailable is called multiple times at random moments, the documentation states that it can be called more if the network changes, but the properties of the network object parameter in onAvailable is always the same. I even compared the hashcodes and they are the same...</p>\n\n<p>The problem occurs on my LG lollipop device</p>\n\n<p>Android documentation: (<a href=\"https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback\" rel=\"noreferrer\">https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback</a>)</p>\n\n<blockquote>\n  <p><strong>onAvailable Added in API level 21</strong> Called when the framework connects and has declared a new\n  network ready for use. This callback may be called more than once if\n  the Network that is satisfying the request changes</p>\n</blockquote>\n\n<p>EDIT: I have implemented other methods from the callback to check if any other methods are fired (onLosing, onUnavailable, onCapabilitiesChanged, onLinkPropertiesChanged), but none of these are called</p>\n\n<p>I have my own NetworkManager that has this code in it:</p>\n\n<pre><code>public void initialize(Context context) {\n    connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    setState();\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n        final NetworkRequest networkRequest = new NetworkRequest.Builder()\n                .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI).build();\n\n        connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(final Network network) {\n                super.onAvailable(network);\n                NetworkInfo networkInfo = connectivityManager.getNetworkInfo(network);\n                Log.d(TAG,\"Network is Available. Network Info: \" + networkInfo);\n                notifyObservers();\n            }\n\n            @Override\n            public void onLost(final Network network) {\n                super.onLost(network);\n                notifyObservers();\n            }\n        });\n    } else {\n        context.registerReceiver(new NetworkChangeReceiver(), new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\n    }\n}\n</code></pre>\n\n<p>Logs:</p>\n\n<pre><code>Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\nNetwork is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\nNetwork is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\nNetwork is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\n...\n</code></pre>\n"},{"tags":["java","spring-boot","apache-flink"],"comments":[{"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"score":0,"creation_date":1667524080,"post_id":74306075,"comment_id":131192702,"body_markdown":"Please give part of the code you are using that illustrate the behavior.","body":"Please give part of the code you are using that illustrate the behavior."},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667552244,"post_id":74306075,"comment_id":131197663,"body_markdown":"It&#39;s proprietary code hence wont be able to give it. But I just need the aggregated result when i call the API, even though the flink aggregation keeps going on in the background","body":"It&#39;s proprietary code hence wont be able to give it. But I just need the aggregated result when i call the API, even though the flink aggregation keeps going on in the background"},{"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"score":0,"creation_date":1667612709,"post_id":74306075,"comment_id":131214845,"body_markdown":"Could you unless give a demonstrative code with the problem logic where we can measure the achievement  of your proposed solution?","body":"Could you unless give a demonstrative code with the problem logic where we can measure the achievement  of your proposed solution?"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667815326,"post_id":74306075,"comment_id":131249243,"body_markdown":"@SpringbootApplication\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}","body":"@SpringbootApplication public class Application {   public static void main(String[] args) {     SpringApplication.run(Application.class, args);   } }"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667816046,"post_id":74306075,"comment_id":131249529,"body_markdown":"@RestController @RequestMapping(&quot;/job&quot;)\npublic class MyJob {    public void buildJob() {     final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();       env.setRuntimeMode(RuntimeExecutionMode.STREAMING);      env.setParallelism(1);","body":"@RestController @RequestMapping(&quot;/job&quot;) public class MyJob {    public void buildJob() {     final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();       env.setRuntimeMode(RuntimeExecutionMode.STREAMING);      env.setParallelism(1);"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667816072,"post_id":74306075,"comment_id":131249540,"body_markdown":"KafkaSource&lt;String&gt; kafkaJobs = KafkaSource.&lt;String&gt;builder()               .setBootstrapServers(bootstrapServers).setTopics(Arrays.asList(&quot;all_jobs&quot;))               .setProperties(properties).setGroupId(allEventsGroupID)               .setStartingOffsets(OffsetsInitializer.earliest())       .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))               .build(); DataStream source = env.fromSource(kafkaJobs, WatermarkStrategy.noWatermarks(), &quot;Kafka Jobs&quot;); // Windowing method to get jobs within a 30 minute window","body":"KafkaSource&lt;String&gt; kafkaJobs = KafkaSource.&lt;String&gt;builder()               .setBootstrapServers(bootstrapServers).setTopics(Arrays.asLi&zwnj;&#8203;st(&quot;all_jobs&quot;))               .setProperties(properties).setGroupId(allEventsGroupID)               .setStartingOffsets(OffsetsInitializer.earliest())       .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(&zwnj;&#8203;StringDeserializer.c&zwnj;&#8203;lass))               .build(); DataStream source = env.fromSource(kafkaJobs, WatermarkStrategy.noWatermarks(), &quot;Kafka Jobs&quot;); // Windowing method to get jobs within a 30 minute window"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667816094,"post_id":74306075,"comment_id":131249549,"body_markdown":"WindowedStream&lt;POJO, String, TimeWindow&gt; windowed30MinStream =  keyedStream.window(TumblingEventTimeWindows.of(Time.minutes(30)));\t// windowed30MinStream.process gives a collection as an array of objects [{}, {}] I want this data [{}, {}] from above to be sent as response to this spring boot api //execute job\n    environment.execute();\treturn [{}, {}];  }}\n\n\n\n\nSorry for multiple messages, couldn&#39;t sent it within 1 comment","body":"WindowedStream&lt;POJO, String, TimeWindow&gt; windowed30MinStream =  keyedStream.window(TumblingEventTimeWindows.of(Time.minutes(&zwnj;&#8203;30)));\t// windowed30MinStream.process gives a collection as an array of objects [{}, {}] I want this data [{}, {}] from above to be sent as response to this spring boot api //execute job     environment.execute();\treturn [{}, {}];  }}     Sorry for multiple messages, couldn&#39;t sent it within 1 comment"}],"answers":[{"comments":[{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1670329965,"post_id":74362907,"comment_id":131847001,"body_markdown":"Is QueryableState https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/queryable_state/ not helpful to get the result at the specific moment when the endpoint is hit?","body":"Is QueryableState <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/queryable_state/\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-master/docs/dev/&hellip;</a> not helpful to get the result at the specific moment when the endpoint is hit?"},{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1671112613,"post_id":74362907,"comment_id":132031396,"body_markdown":"Queryable State is considered end-of-life per the roadmap https://flink.apache.org/roadmap.html","body":"Queryable State is considered end-of-life per the roadmap <a href=\"https://flink.apache.org/roadmap.html\" rel=\"nofollow noreferrer\">flink.apache.org/roadmap.html</a>"}],"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667919860,"creation_date":1667919860,"answer_id":74362907,"question_id":74306075,"body_markdown":"If you&#39;re using an unbounded source with Flink, then you can&#39;t get an aggregated result. If you&#39;re looking for an aggregated result at the moment your endpoint is called, you could consider making it an bounded source. This of course depends on your source. For example, with Kafka, you could provide the starting and ending offsets.","title":"Flink aggregated data as response in spring boot application","body":"<p>If you're using an unbounded source with Flink, then you can't get an aggregated result. If you're looking for an aggregated result at the moment your endpoint is called, you could consider making it an bounded source. This of course depends on your source. For example, with Kafka, you could provide the starting and ending offsets.</p>\n"}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667919860,"creation_date":1667491296,"question_id":74306075,"body_markdown":"I have a spring boot application. The api endpoint for example &quot;/allData&quot; starts a flink program within the spring boot app.\r\n\r\nBut since flink is using an unbounded data source, I am unable to get the aggregated results in the spring boot response. Is there a way I can have the flink aggregated result whenever I hit the endpoint?","title":"Flink aggregated data as response in spring boot application","body":"<p>I have a spring boot application. The api endpoint for example &quot;/allData&quot; starts a flink program within the spring boot app.</p>\n<p>But since flink is using an unbounded data source, I am unable to get the aggregated results in the spring boot response. Is there a way I can have the flink aggregated result whenever I hit the endpoint?</p>\n"},{"tags":["java","swing","awt","jbutton","jlabel"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667922269,"post_id":74362086,"comment_id":131280851,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"}],"answers":[{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667919503,"creation_date":1667919503,"answer_id":74362809,"question_id":74362086,"body_markdown":"You should use another layout. Here is the correct example:\r\n\r\n\tpublic class Intro extends JFrame {\r\n\t\tJFrame frame = new JFrame();\r\n\r\n\t\tJButton ok;\r\n\r\n\t\tJLabel background;\r\n\r\n\t\tJLabel demo;\r\n\r\n\t\tpublic Intro() {\r\n\r\n\t\t\tframe.setTitle(&quot;Let us start&quot;);\r\n\t\t\tframe.setVisible(true);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t\t\tJLabel contentPane = new JLabel(new ImageIcon(&quot;welcome.gif&quot;));\r\n\t\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\t\tframe.setContentPane(contentPane);\r\n\t\t\tframe.setLayout(new BorderLayout());\r\n\t\t\tbackground = new JLabel();\r\n\t\t\tframe.add(background); // why you need it??? it has no visual effect here\r\n\t\t\tframe.setSize(500, 400);\r\n\t\t\tok = new JButton(&quot;OK&quot;);\r\n\t\t\tJPanel buttonPanel = new JPanel(new FlowLayout());\r\n\t\t\tbuttonPanel.add(ok);\r\n\t\t\tframe.add(buttonPanel, BorderLayout.PAGE_END);\r\n\t\t\tdemo = new JLabel(&quot;CSIT 121 Demo System&quot;); // probably you need to change foreground of label to fit your background image\r\n\t\t\tframe.add(demo, BorderLayout.LINE_END);\r\n\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(Intro::new);\r\n\t\t}\r\n\t}\r\n","title":"Java how to bottom align button and filter label to right","body":"<p>You should use another layout. Here is the correct example:</p>\n<pre><code>public class Intro extends JFrame {\n    JFrame frame = new JFrame();\n\n    JButton ok;\n\n    JLabel background;\n\n    JLabel demo;\n\n    public Intro() {\n\n        frame.setTitle(&quot;Let us start&quot;);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel contentPane = new JLabel(new ImageIcon(&quot;welcome.gif&quot;));\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        frame.setContentPane(contentPane);\n        frame.setLayout(new BorderLayout());\n        background = new JLabel();\n        frame.add(background); // why you need it??? it has no visual effect here\n        frame.setSize(500, 400);\n        ok = new JButton(&quot;OK&quot;);\n        JPanel buttonPanel = new JPanel(new FlowLayout());\n        buttonPanel.add(ok);\n        frame.add(buttonPanel, BorderLayout.PAGE_END);\n        demo = new JLabel(&quot;CSIT 121 Demo System&quot;); // probably you need to change foreground of label to fit your background image\n        frame.add(demo, BorderLayout.LINE_END);\n\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(Intro::new);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26867883,"reputation":13,"user_id":20450364,"display_name":"rtsfusion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74362809,"answer_count":1,"score":0,"last_activity_date":1667919503,"creation_date":1667916375,"question_id":74362086,"body_markdown":"Hi I am trying to make a GUI using Javax to look something like this.\r\n[![enter image description here](https://i.stack.imgur.com/oGQlF.png)](https://i.stack.imgur.com/oGQlF.png)\r\n\r\n\r\n\r\n\r\n\r\nBut currently it looks like this\r\n[![enter image description here](https://i.stack.imgur.com/JOIJW.png)](https://i.stack.imgur.com/JOIJW.png)\r\n\r\nThis is my code\r\n\r\n\r\n```\r\nclass Intro extends JFrame implements ActionListener\r\n{\r\n\tJFrame frame = new JFrame();\r\n\tJButton ok;\r\n\tJLabel background;\r\n\tJLabel demo;\r\n\t\r\n\tpublic Intro()\r\n\t{\r\n\t\t\r\n\t\tframe.setTitle(&quot;Let us start&quot;);\r\n\t\tframe.setSize(600,300);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tframe.setContentPane(new JLabel(new ImageIcon(&quot;welcome.gif&quot;)));\r\n\t\tframe.setLayout(new FlowLayout());\r\n\t\tbackground = new JLabel();\r\n\t\tframe.add(background);\r\n\t\tframe.setSize(500,400);\r\n\t\tok = new JButton(&quot;OK&quot;);\r\n\t\tdemo = new JLabel(&quot;CSIT 121 Demo System&quot;, SwingConstants.RIGHT);\r\n\t\tframe.add(demo);\r\n\t\tok.setHorizontalTextPosition(JButton.CENTER);\r\n\t\tok.setVerticalTextPosition(JButton.BOTTOM);\r\n\t\tframe.add(ok);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhat do i need to modify?\r\n","title":"Java how to bottom align button and filter label to right","body":"<p>Hi I am trying to make a GUI using Javax to look something like this.\n<a href=\"https://i.stack.imgur.com/oGQlF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGQlF.png\" alt=\"enter image description here\" /></a></p>\n<p>But currently it looks like this\n<a href=\"https://i.stack.imgur.com/JOIJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOIJW.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code</p>\n<pre><code>class Intro extends JFrame implements ActionListener\n{\n    JFrame frame = new JFrame();\n    JButton ok;\n    JLabel background;\n    JLabel demo;\n    \n    public Intro()\n    {\n        \n        frame.setTitle(&quot;Let us start&quot;);\n        frame.setSize(600,300);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.setContentPane(new JLabel(new ImageIcon(&quot;welcome.gif&quot;)));\n        frame.setLayout(new FlowLayout());\n        background = new JLabel();\n        frame.add(background);\n        frame.setSize(500,400);\n        ok = new JButton(&quot;OK&quot;);\n        demo = new JLabel(&quot;CSIT 121 Demo System&quot;, SwingConstants.RIGHT);\n        frame.add(demo);\n        ok.setHorizontalTextPosition(JButton.CENTER);\n        ok.setVerticalTextPosition(JButton.BOTTOM);\n        frame.add(ok);\n        \n        \n        \n    }\n\n}\n</code></pre>\n<p>What do i need to modify?</p>\n"},{"tags":["java","google-api","google-drive-api","google-oauth","google-api-java-client"],"answers":[{"comments":[{"owner":{"account_id":24136324,"reputation":23,"user_id":18103179,"display_name":"fa gsc"},"score":0,"creation_date":1653624929,"post_id":72399071,"comment_id":127901006,"body_markdown":"Apparently, builder has protected access so this method did not work. I also noticed a GoogleCredentials.newBuilder() however, that did not come with an option for &quot;.setClientSecrets(clientId, clientSecret)&quot;. Appreciate the other thread as well. I will certainly try it out but as mentioned earlier, I am not using a service account.","body":"Apparently, builder has protected access so this method did not work. I also noticed a GoogleCredentials.newBuilder() however, that did not come with an option for &quot;.setClientSecrets(clientId, clientSecret)&quot;. Appreciate the other thread as well. I will certainly try it out but as mentioned earlier, I am not using a service account."},{"owner":{"account_id":24136324,"reputation":23,"user_id":18103179,"display_name":"fa gsc"},"score":0,"creation_date":1653625390,"post_id":72399071,"comment_id":127901070,"body_markdown":"Does it make sense to use UserCredentials class? I can see that it has an option for setting refresh tokens","body":"Does it make sense to use UserCredentials class? I can see that it has an option for setting refresh tokens"}],"tags":[],"owner":{"account_id":23310798,"reputation":1298,"user_id":17390082,"display_name":"Gabriel Carballo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653608205,"creation_date":1653608205,"answer_id":72399071,"question_id":72397786,"body_markdown":"\r\nTry using the [`google-auth-library`][1] as there it defines the class `GoogleCredentials`:\r\n\r\n    Google Credentials = new GoogleCredentials.Builder()\r\n                .setClientSecrets(clientId, clientSecret)\r\n                .setTransport(HTTP_TRANSPORT)\r\n                .setJsonFactory(JSON_FACTORY)\r\n                .build();\r\n                credential.setRefreshToken(refreshToken);\r\n\r\nYou can as well check the Java documentation for [`GoogleCredentials`][2] \r\n\r\nIt seems that you are trying to use the `Drive API` so you may as well check this [thread][3] about connecting to the Drive service.        \r\n\r\n   \r\n\r\n\r\n  [1]: https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/oauth2/GoogleCredentials.java\r\n  [2]: https://javadoc.io/static/com.google.auth/google-auth-library-oauth2-http/1.1.0/com/google/auth/oauth2/GoogleCredentials.html\r\n  [3]: https://stackoverflow.com/questions/69555366/how-to-initialise-google-drive-using-googlecedentials-instead-of-the-deprecated","title":"Migrate to GoogleCredentials from GoogleCredential","body":"<p>Try using the <a href=\"https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/oauth2/GoogleCredentials.java\" rel=\"nofollow noreferrer\"><code>google-auth-library</code></a> as there it defines the class <code>GoogleCredentials</code>:</p>\n<pre><code>Google Credentials = new GoogleCredentials.Builder()\n            .setClientSecrets(clientId, clientSecret)\n            .setTransport(HTTP_TRANSPORT)\n            .setJsonFactory(JSON_FACTORY)\n            .build();\n            credential.setRefreshToken(refreshToken);\n</code></pre>\n<p>You can as well check the Java documentation for <a href=\"https://javadoc.io/static/com.google.auth/google-auth-library-oauth2-http/1.1.0/com/google/auth/oauth2/GoogleCredentials.html\" rel=\"nofollow noreferrer\"><code>GoogleCredentials</code></a></p>\n<p>It seems that you are trying to use the <code>Drive API</code> so you may as well check this <a href=\"https://stackoverflow.com/questions/69555366/how-to-initialise-google-drive-using-googlecedentials-instead-of-the-deprecated\">thread</a> about connecting to the Drive service.</p>\n"}],"owner":{"account_id":24136324,"reputation":23,"user_id":18103179,"display_name":"fa gsc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667919300,"creation_date":1653597507,"question_id":72397786,"body_markdown":"Currently, I am using the following implementation but the code says GoogleCredential is deprecated. \r\n\r\n    GoogleCredential credential = new GoogleCredential.Builder()\r\n                        .setClientSecrets(clientId, clientSecret)\r\n                        .setTransport(HTTP_TRANSPORT)\r\n                        .setJsonFactory(JSON_FACTORY)\r\n                        .build();\r\n                credential.setRefreshToken(refreshToken);\r\nI checked and GoogleCredentials or other google-auth-library classes are supposed to be used. However, all of them seem to require a service account. GoogleCredential is working for me without a service account. Just had to create oauth credentials. I have also generated the refresh tokens but not sure how to use them with the new library. What should I be using here? The goal is to just allow a single user(our backend code) to access google api.\r\n\r\nI don&#39;t see any other questions for java where this was actually answered.\r\n\r\nEdit - Posting my entire set up based on the comment updates-\r\n\r\n    public Credentials getCredentials() throws GeneralSecurityException, IOException {\r\n    \r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    \r\n            try(InputStream in = getCredentialsAsInputStream()) {\r\n    \r\n                if (in == null) {\r\n                    throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n                }\r\n                GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n                String clientId = clientSecrets.getDetails().getClientId();\r\n                String clientSecret = clientSecrets.getDetails().getClientSecret();\r\n    \r\n                Credentials credential = UserCredentials.newBuilder()\r\n                        .setClientId(clientId)\r\n                        .setClientSecret(clientSecret)\r\n                        .setRefreshToken(refreshToken)\r\n                        .build();\r\n    \r\n                return credential;\r\n\r\nAnd for setting up the drive\r\n\r\n    public Drive getDriveService() {\r\n            try {\r\n                Credentials credential = getCredentials();\r\n                HttpRequestInitializer httpRequestInitializer = new HttpCredentialsAdapter(credential);\r\n                final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n                return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, httpRequestInitializer)\r\n                        .setApplicationName(DRIVE_API_APPLICATION_NAME)\r\n                        .setHttpRequestInitializer(httpRequest -&gt; {\r\n    \r\n                            httpRequestInitializer.initialize(httpRequest);\r\n                            httpRequest.setConnectTimeout(2 * 60000);  // 2 minutes connect timeout\r\n                            httpRequest.setReadTimeout(2 * 60000);  // 2 minutes read timeout\r\n    \r\n                        })\r\n                        .build();\r\n            } catch (GeneralSecurityException | IOException e){\r\n                log.error(&quot;Error creating drive service class : {}&quot;, e);\r\n            }\r\n            return null;\r\n        }\r\n\r\n","title":"Migrate to GoogleCredentials from GoogleCredential","body":"<p>Currently, I am using the following implementation but the code says GoogleCredential is deprecated.</p>\n<pre><code>GoogleCredential credential = new GoogleCredential.Builder()\n                    .setClientSecrets(clientId, clientSecret)\n                    .setTransport(HTTP_TRANSPORT)\n                    .setJsonFactory(JSON_FACTORY)\n                    .build();\n            credential.setRefreshToken(refreshToken);\n</code></pre>\n<p>I checked and GoogleCredentials or other google-auth-library classes are supposed to be used. However, all of them seem to require a service account. GoogleCredential is working for me without a service account. Just had to create oauth credentials. I have also generated the refresh tokens but not sure how to use them with the new library. What should I be using here? The goal is to just allow a single user(our backend code) to access google api.</p>\n<p>I don't see any other questions for java where this was actually answered.</p>\n<p>Edit - Posting my entire set up based on the comment updates-</p>\n<pre><code>public Credentials getCredentials() throws GeneralSecurityException, IOException {\n\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n\n        try(InputStream in = getCredentialsAsInputStream()) {\n\n            if (in == null) {\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n            }\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n            String clientId = clientSecrets.getDetails().getClientId();\n            String clientSecret = clientSecrets.getDetails().getClientSecret();\n\n            Credentials credential = UserCredentials.newBuilder()\n                    .setClientId(clientId)\n                    .setClientSecret(clientSecret)\n                    .setRefreshToken(refreshToken)\n                    .build();\n\n            return credential;\n</code></pre>\n<p>And for setting up the drive</p>\n<pre><code>public Drive getDriveService() {\n        try {\n            Credentials credential = getCredentials();\n            HttpRequestInitializer httpRequestInitializer = new HttpCredentialsAdapter(credential);\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, httpRequestInitializer)\n                    .setApplicationName(DRIVE_API_APPLICATION_NAME)\n                    .setHttpRequestInitializer(httpRequest -&gt; {\n\n                        httpRequestInitializer.initialize(httpRequest);\n                        httpRequest.setConnectTimeout(2 * 60000);  // 2 minutes connect timeout\n                        httpRequest.setReadTimeout(2 * 60000);  // 2 minutes read timeout\n\n                    })\n                    .build();\n        } catch (GeneralSecurityException | IOException e){\n            log.error(&quot;Error creating drive service class : {}&quot;, e);\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1654709304,"post_id":72547771,"comment_id":128158485,"body_markdown":"I suspect (so not an answer) that `&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;` is removing some reflection-loaded class that&#39;s used by Log4J. Try removing that line and see what happens. Otherwise, your locally-repackaged `log4j-core` is missing something important. Try with the &quot;real&quot; dependency to see if that solves the problem.","body":"I suspect (so not an answer) that <code>&lt;minimizeJar&gt;true&lt;&#47;minimizeJar&gt;</code> is removing some reflection-loaded class that&#39;s used by Log4J. Try removing that line and see what happens. Otherwise, your locally-repackaged <code>log4j-core</code> is missing something important. Try with the &quot;real&quot; dependency to see if that solves the problem."}],"answers":[{"tags":[],"owner":{"account_id":67666,"reputation":4579,"user_id":197896,"accept_rate":77,"display_name":"anhldbk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667919170,"creation_date":1667919170,"answer_id":74362732,"question_id":72547771,"body_markdown":"I see a solution [here][1]. It works for me\r\n\r\n    &lt;filter&gt;\r\n        &lt;artifact&gt;log4j:log4j&lt;/artifact&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;org/apache/log4j/spi/LoggingEvent.class&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter&gt;\r\n        &lt;artifact&gt;org.apache.logging.log4j:log4j-*&lt;/artifact&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/filter&gt;\r\n\r\n  [1]: https://github.com/fbacchella/LogHub/blob/master/pom.xml","title":"ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger","body":"<p>I see a solution <a href=\"https://github.com/fbacchella/LogHub/blob/master/pom.xml\" rel=\"nofollow noreferrer\">here</a>. It works for me</p>\n<pre><code>&lt;filter&gt;\n    &lt;artifact&gt;log4j:log4j&lt;/artifact&gt;\n    &lt;includes&gt;\n        &lt;include&gt;org/apache/log4j/spi/LoggingEvent.class&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/filter&gt;\n&lt;filter&gt;\n    &lt;artifact&gt;org.apache.logging.log4j:log4j-*&lt;/artifact&gt;\n    &lt;includes&gt;\n        &lt;include&gt;**&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/filter&gt;\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667919170,"creation_date":1654699528,"question_id":72547771,"body_markdown":"I am using custom log4j2 library - corporate library, company specific, I created fat jar out of maven project and trying to run the code commandline \r\n\r\n    java -jar &quot;target\\abc-0.0.1-SNAPSHOT.jar&quot;\r\n    ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n    FATAL AlertPocDemo SomePOCData\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netcool-demo-inbuilt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;netcool-poc&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.6&lt;/java.version&gt;\r\n    \t\t&lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n    \t\t&lt;log4j-tcs.version&gt;2.17.0-tcs-patch-4&lt;/log4j-tcs.version&gt;\r\n    \t\t&lt;netcool.version&gt;1.3.1&lt;/netcool.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;XXX.YYY&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;Log4j2NetcoolSocketAppender&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.0-tcs-patch-4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;transformers&gt;\r\n    \t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t&lt;/transformers&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.jolira&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.4.4&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;one-jar&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;!-- Build an executable JAR --&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n    \t\t\t\t\t\t\t&lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n    \t\t\t\t\t\t\t&lt;dependencyReducedPomLocation&gt;${java.io.tmpdir}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\r\n    \t\t\t\t\t\t\t&lt;relocations&gt;\r\n    \t\t\t\t\t\t\t\t&lt;relocation&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;pattern&gt;com.acme.coyote&lt;/pattern&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;shadedPattern&gt;hidden.coyote&lt;/shadedPattern&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/relocation&gt;\r\n    \t\t\t\t\t\t\t&lt;/relocations&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger","body":"<p>I am using custom log4j2 library - corporate library, company specific, I created fat jar out of maven project and trying to run the code commandline</p>\n<pre><code>java -jar &quot;target\\abc-0.0.1-SNAPSHOT.jar&quot;\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nFATAL AlertPocDemo SomePOCData\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;netcool-demo-inbuilt&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;netcool-poc&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.6&lt;/java.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n        &lt;log4j-tcs.version&gt;2.17.0-tcs-patch-4&lt;/log4j-tcs.version&gt;\n        &lt;netcool.version&gt;1.3.1&lt;/netcool.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;XXX.YYY&lt;/groupId&gt;\n            &lt;artifactId&gt;Log4j2NetcoolSocketAppender&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0-tcs-patch-4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.jolira&lt;/groupId&gt;\n                &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;one-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n                            &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                            &lt;dependencyReducedPomLocation&gt;${java.io.tmpdir}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\n                            &lt;relocations&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.acme.coyote&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;hidden.coyote&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                            &lt;/relocations&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1667914928,"post_id":74361633,"comment_id":131277686,"body_markdown":"Why not `return stream.filter(str -&gt; str.matches(&quot;a|b|c&quot;)).....`","body":"Why not <code>return stream.filter(str -&gt; str.matches(&quot;a|b|c&quot;)).....</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667917543,"creation_date":1667915328,"answer_id":74361817,"question_id":74361633,"body_markdown":"Once the stream is consumed - it&#39;s done, and you can&#39;t use it anymore. Otherwise, you would get an `IllegalStateException`.\r\n\r\nBecause Stream is a mean of iteration of the source of data, not a container of data.\r\n\r\nHere&#39;s a quote from the [API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html):\r\n\r\n&gt; Streams differ from collections in several ways:\r\n&gt; \r\n&gt; * **No storage**. A **stream is not a data structure** that stores elements; instead, it conveys elements from a source such as a data structure,\r\n&gt; an array, a generator function, or an I/O channel, through a pipeline\r\n&gt; of computational operations.\r\n\r\nYou can store the incoming stream data into a collection, and then interact with it. As a collection we can use a `LinkedHashMap` (for the example with strings a set, would be enough, but if we generify the code the map would be useful to deal with complex objects that are contrary to string not necessarily identical even if they are equal).\r\n\r\nThat&#39;s how it might be implemented **without** using hard-coded conditions:\r\n\r\n    private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\r\n                                       T key1, T key2, T key3) {\r\n        \r\n        Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\r\n            Function.identity(),\r\n            Function.identity(),\r\n            (l, r) -&gt; l,         // preserve the first value - precaution against duplicates\r\n            LinkedHashMap::new\r\n        ));\r\n        \r\n        return Stream.of(map.get(key1), map.get(key2), map.get(key3))\r\n            .filter(Objects::nonNull)\r\n            .findFirst()\r\n            .orElse(null); // NOTE that it&#39;s NOT the most recommended option (we can return Optional itself or use methods like orElseThrow())\r\n    }\r\n\r\nAnd we can make this method expect a varargs of *keys*:\r\n\r\n    private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\r\n                                       T... keys) {\r\n        \r\n        Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\r\n            Function.identity(),\r\n            Function.identity(),\r\n            (l, r) -&gt; l,\r\n            LinkedHashMap::new\r\n        ));\r\n        \r\n        return Arrays.stream(keys)\r\n            .map(map::get)\r\n            .filter(Objects::nonNull)\r\n            .findFirst()\r\n            .orElse(null);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;String&gt; stream1 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n        Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n        Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\r\n\r\n        System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\r\n        System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\r\n        System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\na\r\nb\r\nnull\r\n```","title":"Stream find first multiple option","body":"<p>Once the stream is consumed - it's done, and you can't use it anymore. Otherwise, you would get an <code>IllegalStateException</code>.</p>\n<p>Because Stream is a mean of iteration of the source of data, not a container of data.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">API documentation</a>:</p>\n<blockquote>\n<p>Streams differ from collections in several ways:</p>\n<ul>\n<li><strong>No storage</strong>. A <strong>stream is not a data structure</strong> that stores elements; instead, it conveys elements from a source such as a data structure,\nan array, a generator function, or an I/O channel, through a pipeline\nof computational operations.</li>\n</ul>\n</blockquote>\n<p>You can store the incoming stream data into a collection, and then interact with it. As a collection we can use a <code>LinkedHashMap</code> (for the example with strings a set, would be enough, but if we generify the code the map would be useful to deal with complex objects that are contrary to string not necessarily identical even if they are equal).</p>\n<p>That's how it might be implemented <strong>without</strong> using hard-coded conditions:</p>\n<pre><code>private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\n                                   T key1, T key2, T key3) {\n    \n    Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\n        Function.identity(),\n        Function.identity(),\n        (l, r) -&gt; l,         // preserve the first value - precaution against duplicates\n        LinkedHashMap::new\n    ));\n    \n    return Stream.of(map.get(key1), map.get(key2), map.get(key3))\n        .filter(Objects::nonNull)\n        .findFirst()\n        .orElse(null); // NOTE that it's NOT the most recommended option (we can return Optional itself or use methods like orElseThrow())\n}\n</code></pre>\n<p>And we can make this method expect a varargs of <em>keys</em>:</p>\n<pre><code>private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\n                                   T... keys) {\n    \n    Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\n        Function.identity(),\n        Function.identity(),\n        (l, r) -&gt; l,\n        LinkedHashMap::new\n    ));\n    \n    return Arrays.stream(keys)\n        .map(map::get)\n        .filter(Objects::nonNull)\n        .findFirst()\n        .orElse(null);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Stream&lt;String&gt; stream1 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\n    Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\n    Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\n\n    System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\n    System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\n    System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>a\nb\nnull\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4718484,"reputation":809,"user_id":3817061,"display_name":"Moe Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915405,"creation_date":1667915405,"answer_id":74361832,"question_id":74361633,"body_markdown":"Good explanation of the error here:  https://www.baeldung.com/java-stream-operated-upon-or-closed-exception\r\n\r\nBasically, you can only run a stream once.  \r\n\r\nIf you really want to do it this way, try:\r\n\r\n```\r\n    private static String findBestValue(List&lt;String&gt; list) {\r\n        return list.stream().filter(str -&gt; str.equals(&quot;a&quot;))\r\n                .findFirst()\r\n                .orElse(list.stream().filter(str -&gt; str.equals(&quot;b&quot;))\r\n                        .findFirst()\r\n                        .orElse(list.stream().filter(str -&gt; str.equals(&quot;c&quot;))\r\n                                .findFirst()\r\n                                .orElse(null)));\r\n    }\r\n```","title":"Stream find first multiple option","body":"<p>Good explanation of the error here:  <a href=\"https://www.baeldung.com/java-stream-operated-upon-or-closed-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-stream-operated-upon-or-closed-exception</a></p>\n<p>Basically, you can only run a stream once.</p>\n<p>If you really want to do it this way, try:</p>\n<pre><code>    private static String findBestValue(List&lt;String&gt; list) {\n        return list.stream().filter(str -&gt; str.equals(&quot;a&quot;))\n                .findFirst()\n                .orElse(list.stream().filter(str -&gt; str.equals(&quot;b&quot;))\n                        .findFirst()\n                        .orElse(list.stream().filter(str -&gt; str.equals(&quot;c&quot;))\n                                .findFirst()\n                                .orElse(null)));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667918815,"creation_date":1667918815,"answer_id":74362648,"question_id":74361633,"body_markdown":"@Alexander Ivanchenko&#39;s solution can also be written as\r\n\r\n    private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream, T... keys) {\r\n        Set&lt;T&gt; set = stream.collect(Collectors.toSet());\r\n        return Stream.of(keys)\r\n            .filter(set::contains)\r\n            .findFirst()\r\n            .orElse(null);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n        Stream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\r\n        Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n        Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\r\n\r\n        System.out.println(findBestValue(stream0, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\r\n        System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\r\n        System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\r\n        System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\r\n    }\r\n\r\noutput:\r\n\r\n    a\r\n    a\r\n    b\r\n    null\r\n\r\n","title":"Stream find first multiple option","body":"<p>@Alexander Ivanchenko's solution can also be written as</p>\n<pre><code>private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream, T... keys) {\n    Set&lt;T&gt; set = stream.collect(Collectors.toSet());\n    return Stream.of(keys)\n        .filter(set::contains)\n        .findFirst()\n        .orElse(null);\n}\n\npublic static void main(String[] args) {\n    Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\n    Stream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\n    Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\n    Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\n\n    System.out.println(findBestValue(stream0, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\n    System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\n    System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\n    System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\n}\n</code></pre>\n<p>output:</p>\n<pre><code>a\na\nb\nnull\n</code></pre>\n"}],"owner":{"account_id":13903101,"reputation":568,"user_id":10038235,"display_name":"Kyofa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74361817,"answer_count":3,"score":-1,"last_activity_date":1667918815,"creation_date":1667914488,"question_id":74361633,"body_markdown":"I have a stream and I would like to extract one value based on the condition :\r\n\r\n- If any match condition A find first that match A\r\n- Else if any match condition B find first that match B\r\n- Else if any match condition C find first that match C\r\n- Else null\r\n\r\nFor example :\r\n\r\n    Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n    Stream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\r\n    Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n    Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\r\n\r\n    findBestValue(stream0); //should return &quot;a&quot;\r\n    findBestValue(stream1); //should return &quot;a&quot;\r\n    findBestValue(stream2); //should return &quot;b&quot;\r\n    findBestValue(stream3); //should return null\r\n\r\nI tried the following, but that return a ```java.lang.IllegalStateException: stream has already been operated upon or closed```\r\n\r\n    private static String findBestValue(Stream&lt;String&gt; stream) {\r\n        return stream.filter(str -&gt; str.equals(&quot;a&quot;))\r\n                .findFirst()\r\n                .orElse(stream.filter(str -&gt; str.equals(&quot;b&quot;))\r\n                        .findFirst()\r\n                        .orElse(stream.filter(str -&gt; str.equals(&quot;c&quot;))\r\n                                .findFirst()\r\n                                .orElse(null))\r\n                );\r\n    }\r\n\r\nAny idea how I could archive that ?\r\n\r\nNote : a, b, c are just for the example I can&#39;t use .sort()","title":"Stream find first multiple option","body":"<p>I have a stream and I would like to extract one value based on the condition :</p>\n<ul>\n<li>If any match condition A find first that match A</li>\n<li>Else if any match condition B find first that match B</li>\n<li>Else if any match condition C find first that match C</li>\n<li>Else null</li>\n</ul>\n<p>For example :</p>\n<pre><code>Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\nStream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\nStream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\nStream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\n\nfindBestValue(stream0); //should return &quot;a&quot;\nfindBestValue(stream1); //should return &quot;a&quot;\nfindBestValue(stream2); //should return &quot;b&quot;\nfindBestValue(stream3); //should return null\n</code></pre>\n<p>I tried the following, but that return a <code>java.lang.IllegalStateException: stream has already been operated upon or closed</code></p>\n<pre><code>private static String findBestValue(Stream&lt;String&gt; stream) {\n    return stream.filter(str -&gt; str.equals(&quot;a&quot;))\n            .findFirst()\n            .orElse(stream.filter(str -&gt; str.equals(&quot;b&quot;))\n                    .findFirst()\n                    .orElse(stream.filter(str -&gt; str.equals(&quot;c&quot;))\n                            .findFirst()\n                            .orElse(null))\n            );\n}\n</code></pre>\n<p>Any idea how I could archive that ?</p>\n<p>Note : a, b, c are just for the example I can't use .sort()</p>\n"},{"tags":["java","google-api","google-oauth","google-api-java-client"],"answers":[{"comments":[{"owner":{"account_id":12233284,"reputation":27,"user_id":8928554,"display_name":"DGrinbergs"},"score":0,"creation_date":1641583572,"post_id":70617328,"comment_id":124851001,"body_markdown":"Thanks for your answer however, this isn&#39;t what I am looking for. This approach still makes two requests.","body":"Thanks for your answer however, this isn&#39;t what I am looking for. This approach still makes two requests."}],"tags":[],"owner":{"account_id":3080,"reputation":2755,"user_id":4372,"display_name":"Johannes Passing"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641536678,"creation_date":1641536678,"answer_id":70617328,"question_id":70613164,"body_markdown":"You can use `IdTokenCredentials` to access the ID token like so:\r\n\r\n```\r\nvar credentials = UserCredentials.newBuilder()\r\n        .setClientId(&quot;...&quot;)\r\n        .setClientSecret(&quot;...&quot;)\r\n        .setRefreshToken(&quot;...&quot;)\r\n        .build()\r\n        .createScoped(&quot;openid email&quot;);\r\n\r\nvar idToken = IdTokenCredentials\r\n        .newBuilder()\r\n        .setIdTokenProvider((IdTokenProvider)credentials)\r\n        .build();\r\n\r\nidToken.refresh();\r\nSystem.out.println(idToken.getIdToken().getTokenValue());\r\n```","title":"How does one get the id_token using Google&#39;s OAuth2 Java Api?","body":"<p>You can use <code>IdTokenCredentials</code> to access the ID token like so:</p>\n<pre><code>var credentials = UserCredentials.newBuilder()\n        .setClientId(&quot;...&quot;)\n        .setClientSecret(&quot;...&quot;)\n        .setRefreshToken(&quot;...&quot;)\n        .build()\n        .createScoped(&quot;openid email&quot;);\n\nvar idToken = IdTokenCredentials\n        .newBuilder()\n        .setIdTokenProvider((IdTokenProvider)credentials)\n        .build();\n\nidToken.refresh();\nSystem.out.println(idToken.getIdToken().getTokenValue());\n</code></pre>\n"}],"owner":{"account_id":12233284,"reputation":27,"user_id":8928554,"display_name":"DGrinbergs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667918006,"creation_date":1641500360,"question_id":70613164,"body_markdown":"I&#39;m trying to get my head around the [OAuth2 Java library](https://github.com/googleapis/google-auth-library-java) that Google provides.\r\n\r\nI have everything I need to make the request to Google&#39;s token endpoint manually using Springs built-in WebClient. However, this is very verbose and feels like re-inventing the wheel. It got me thinking that there must be a way to get this data using the classes provided by the library. Right?\r\n\r\nCurrently I am using the `com.google.auth.oauth2.UserAuthorizer` class to build up a request for the exchange of information.\r\n\r\n```\r\nval userCredentials: UserCredentials = UserAuthorizer.newBuilder()\r\n  .setClientId(googleOauthConfig.clientId)\r\n  .setTokenStore(tokenStore)\r\n  .setScopes(googleOauthConfig.scopes)\r\n  .setTokenServerUri(URI.create(&quot;https://oauth2.googleapis.com/token&quot;))\r\n  .setCallbackUri(redirectUri)\r\n  .build()\r\n  .getCredentialsFromCode(authorizationCode, redirectUri)\r\n```\r\n\r\nThe internals of `getCredentialsFromCode()` parses the response and it contains all the tokens. Including the `id_token` but, it gets discarded when constructing the `UserCredentials` object further down.\r\n\r\n[![Debug mode showing that the value for id_token is stored][1]][1]\r\n\r\n```\r\nreturn UserCredentials.newBuilder()\r\n  .setClientId(clientId.getClientId())\r\n  .setClientSecret(clientId.getClientSecret())\r\n  .setRefreshToken(refreshToken)\r\n  .setAccessToken(accessToken)\r\n  .setHttpTransportFactory(transportFactory)\r\n  .setTokenServerUri(tokenServerUri)\r\n  .build(); // no mention of id_token\r\n```\r\n\r\nRegardless, I want to get this value so I can know basic information about the user such as their name, birthday and email address from a single request.\r\n\r\nThere does exist a method called `idTokenWithAudience()` which returns a Google ID Token from the refresh token response. If I call this, I get a token back that doesn&#39;t contain all the data that was available in the identically named `id_token` mentioned earlier making it a no-go either.\r\n\r\n  [1]: https://i.stack.imgur.com/zSMvN.png","title":"How does one get the id_token using Google&#39;s OAuth2 Java Api?","body":"<p>I'm trying to get my head around the <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">OAuth2 Java library</a> that Google provides.</p>\n<p>I have everything I need to make the request to Google's token endpoint manually using Springs built-in WebClient. However, this is very verbose and feels like re-inventing the wheel. It got me thinking that there must be a way to get this data using the classes provided by the library. Right?</p>\n<p>Currently I am using the <code>com.google.auth.oauth2.UserAuthorizer</code> class to build up a request for the exchange of information.</p>\n<pre><code>val userCredentials: UserCredentials = UserAuthorizer.newBuilder()\n  .setClientId(googleOauthConfig.clientId)\n  .setTokenStore(tokenStore)\n  .setScopes(googleOauthConfig.scopes)\n  .setTokenServerUri(URI.create(&quot;https://oauth2.googleapis.com/token&quot;))\n  .setCallbackUri(redirectUri)\n  .build()\n  .getCredentialsFromCode(authorizationCode, redirectUri)\n</code></pre>\n<p>The internals of <code>getCredentialsFromCode()</code> parses the response and it contains all the tokens. Including the <code>id_token</code> but, it gets discarded when constructing the <code>UserCredentials</code> object further down.</p>\n<p><a href=\"https://i.stack.imgur.com/zSMvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zSMvN.png\" alt=\"Debug mode showing that the value for id_token is stored\" /></a></p>\n<pre><code>return UserCredentials.newBuilder()\n  .setClientId(clientId.getClientId())\n  .setClientSecret(clientId.getClientSecret())\n  .setRefreshToken(refreshToken)\n  .setAccessToken(accessToken)\n  .setHttpTransportFactory(transportFactory)\n  .setTokenServerUri(tokenServerUri)\n  .build(); // no mention of id_token\n</code></pre>\n<p>Regardless, I want to get this value so I can know basic information about the user such as their name, birthday and email address from a single request.</p>\n<p>There does exist a method called <code>idTokenWithAudience()</code> which returns a Google ID Token from the refresh token response. If I call this, I get a token back that doesn't contain all the data that was available in the identically named <code>id_token</code> mentioned earlier making it a no-go either.</p>\n"},{"tags":["java","string","string-formatting"],"answers":[{"tags":[],"owner":{"account_id":10930,"reputation":781821,"user_id":20862,"accept_rate":50,"display_name":"Ignacio Vazquez-Abrams"},"comment_count":0,"down_vote_count":1,"up_vote_count":342,"is_accepted":false,"score":341,"last_activity_date":1667917681,"creation_date":1312134713,"answer_id":6891209,"question_id":6891175,"body_markdown":"From &lt;a href=&quot;https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax&quot;&gt;the docs&lt;/a&gt;:\r\n\r\n&gt; - The format specifiers for general, character, and numeric types have the following syntax:\r\n&gt;\r\n&gt;       %[argument_index$][flags][width][.precision]conversion     \r\n&gt; \r\n&gt; The optional &lt;i&gt;argument_index&lt;/i&gt; is a decimal integer indicating the position of the argument in the argument list. The first argument is referenced by `&quot;1$&quot;`, the second by `&quot;2$&quot;`, etc. \r\n\r\n    String.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>From <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">the docs</a>:</p>\n<blockquote>\n<ul>\n<li><p>The format specifiers for general, character, and numeric types have the following syntax:</p>\n<pre><code>%[argument_index$][flags][width][.precision]conversion     \n</code></pre>\n</li>\n</ul>\n<p>The optional <i>argument_index</i> is a decimal integer indicating the position of the argument in the argument list. The first argument is referenced by <code>&quot;1$&quot;</code>, the second by <code>&quot;2$&quot;</code>, etc.</p>\n</blockquote>\n<pre><code>String.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1513958934,"post_id":41150461,"comment_id":82858291,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dpos","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dpos\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#d&zwnj;&#8203;pos</a>"}],"tags":[],"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"comment_count":1,"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1481744283,"creation_date":1481743080,"answer_id":41150461,"question_id":6891175,"body_markdown":"Another option is to use *relative indexing*: The format specifier references the same argument as the last format specifier.\r\n\r\nFor example:\r\n\r\n    String.format(&quot;%s %&lt;s %&lt;s %&lt;s&quot;, &quot;hello&quot;)\r\n\r\nresults in `hello hello hello hello`.","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>Another option is to use <em>relative indexing</em>: The format specifier references the same argument as the last format specifier.</p>\n\n<p>For example:</p>\n\n<pre><code>String.format(\"%s %&lt;s %&lt;s %&lt;s\", \"hello\")\n</code></pre>\n\n<p>results in <code>hello hello hello hello</code>.</p>\n"},{"tags":[],"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1497443978,"creation_date":1497443978,"answer_id":44545067,"question_id":6891175,"body_markdown":"One common case for reusing an argument in `String.format` is with a separator (e.g. `&quot;;&quot;` for CSV or tab for console).\r\n\r\n    System.out.println(String.format(&quot;%s %2$s %s %2$s %s %n&quot;, &quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    // &quot;a ; ; ; b&quot;\r\n\r\nThis isn&#39;t the desired output. `&quot;c&quot;` doesn&#39;t appear anywhere.\r\n\r\nYou need to use the separator first (with `%s`) and only use the argument index (`%2$s`) for the following occurences :\r\n\r\n    System.out.println(String.format(&quot;%s %s %s %2$s %s %n&quot;, &quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    //\t&quot;a ; b ; c&quot;\r\n\r\nSpaces are added for readability and debugging. Once the format appears to be correct, spaces can be removed in the text editor:\r\n\r\n    System.out.println(String.format(&quot;%s%s%s%2$s%s%n&quot;, &quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    // &quot;a;b;c&quot;","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>One common case for reusing an argument in <code>String.format</code> is with a separator (e.g. <code>\";\"</code> for CSV or tab for console).</p>\n\n<pre><code>System.out.println(String.format(\"%s %2$s %s %2$s %s %n\", \"a\", \";\", \"b\", \"c\"));\n// \"a ; ; ; b\"\n</code></pre>\n\n<p>This isn't the desired output. <code>\"c\"</code> doesn't appear anywhere.</p>\n\n<p>You need to use the separator first (with <code>%s</code>) and only use the argument index (<code>%2$s</code>) for the following occurences :</p>\n\n<pre><code>System.out.println(String.format(\"%s %s %s %2$s %s %n\", \"a\", \";\", \"b\", \"c\"));\n//  \"a ; b ; c\"\n</code></pre>\n\n<p>Spaces are added for readability and debugging. Once the format appears to be correct, spaces can be removed in the text editor:</p>\n\n<pre><code>System.out.println(String.format(\"%s%s%s%2$s%s%n\", \"a\", \";\", \"b\", \"c\"));\n// \"a;b;c\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6135552,"reputation":2268,"user_id":4784537,"display_name":"Ahmad Al-Kurdi"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1632120697,"creation_date":1531237677,"answer_id":51269523,"question_id":6891175,"body_markdown":"You need to use the index argument `%[argument_index$]` as the following:\r\n\r\n    String hello = &quot;Hello&quot;;\r\n    String.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);\r\n\r\nResult: `Hello Hello Hello Hello Hello Hello` ","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>You need to use the index argument <code>%[argument_index$]</code> as the following:</p>\n<pre><code>String hello = &quot;Hello&quot;;\nString.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);\n</code></pre>\n<p>Result: <code>Hello Hello Hello Hello Hello Hello</code></p>\n"}],"owner":{"account_id":562339,"reputation":1861,"user_id":871777,"display_name":"Carey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102308,"favorite_count":0,"down_vote_count":0,"up_vote_count":186,"answer_count":4,"score":186,"last_activity_date":1667917803,"creation_date":1312134485,"question_id":6891175,"body_markdown":"\r\n    String hello = &quot;Hello&quot;;\r\n    \r\n    String.format(&quot;%s %s %s %s %s %s&quot;, hello, hello, hello, hello, hello, hello);\r\n\r\n    hello hello hello hello hello hello \r\n\r\nDoes the `hello` variable need to be repeated multiple times in the call to the format method or is there a shorthand version that lets you specify the argument once to be applied to all of the `%s` tokens?","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<pre><code>String hello = &quot;Hello&quot;;\n\nString.format(&quot;%s %s %s %s %s %s&quot;, hello, hello, hello, hello, hello, hello);\n\nhello hello hello hello hello hello \n</code></pre>\n<p>Does the <code>hello</code> variable need to be repeated multiple times in the call to the format method or is there a shorthand version that lets you specify the argument once to be applied to all of the <code>%s</code> tokens?</p>\n"},{"tags":["java","string","memory","pdf-generation","chromium"],"answers":[{"tags":[],"owner":{"account_id":6157819,"reputation":71,"user_id":4800282,"display_name":"Niels"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667891320,"creation_date":1667891320,"answer_id":74356857,"question_id":74218933,"body_markdown":"The terms &#39;chrome read stdin&#39; would probably have brought you to [this question][1] explaining how to read from a data url:\r\n\r\n    chrome.exe &quot;data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+PHRpdGxlPlRlc3Q8L3RpdGxlPjwvaGVhZD48Ym9keT5ZbzwvYm9keT48L2h0bWw+&quot;\r\n\r\nReading input from stdin sounds like you would also want to write the output to stdout: &#39;chrome pdf to stdout&#39;. Which links to someone trying the same thing and running into issues about [not being able to combine --stdout with screenshot or pdf output][2] from 2018. \r\nAnd (depending on the usecase) even worse, a limitation of the data url&#39;s of 2MB.\r\n\r\nSo if you can&#39;t guarantee the input to be less than 2MB you might be better off using files anyway, or check if the limitation has been removed.\r\n\r\nAlso, given that you specify that option 2 has a solution in serving the page directly, would that not also open up the option to do the same for option 1?\r\n\r\n  [1]: https://stackoverflow.com/questions/9045584\r\n  [2]: https://bugs.chromium.org/p/chromium/issues/detail?id=732052","title":"Chromium headless PDF generation (in Java) using String instead of temp file/page","body":"<p>The terms 'chrome read stdin' would probably have brought you to <a href=\"https://stackoverflow.com/questions/9045584\">this question</a> explaining how to read from a data url:</p>\n<pre><code>chrome.exe &quot;data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+PHRpdGxlPlRlc3Q8L3RpdGxlPjwvaGVhZD48Ym9keT5ZbzwvYm9keT48L2h0bWw+&quot;\n</code></pre>\n<p>Reading input from stdin sounds like you would also want to write the output to stdout: 'chrome pdf to stdout'. Which links to someone trying the same thing and running into issues about <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=732052\" rel=\"nofollow noreferrer\">not being able to combine --stdout with screenshot or pdf output</a> from 2018.\nAnd (depending on the usecase) even worse, a limitation of the data url's of 2MB.</p>\n<p>So if you can't guarantee the input to be less than 2MB you might be better off using files anyway, or check if the limitation has been removed.</p>\n<p>Also, given that you specify that option 2 has a solution in serving the page directly, would that not also open up the option to do the same for option 1?</p>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667917734,"creation_date":1667915645,"answer_id":74361904,"question_id":74218933,"body_markdown":"You should not need redundant `-disable-gpu` usure which version it was not needed for Windows, but redundant in https://chromium-review.googlesource.com/c/chromium/src/+/1161172 (2018), however, you may want to replace with `--print-to-pdf-no-header` to avoid those.\r\n\r\nYour using windows as the shell to run Chrome/MSEdge.exe so for that reason there will be a significantly smaller command line ability to CMD pass a variable string.\r\n\r\nTo pass a base64 for html string as stdin will often be limited by content for similar string length reasons to say 1.5MB (75% of 2MB). Thus in special exceptional cases that may be 4096 pages see https://github.com/GitHubRulesOK/MyNotes/raw/master/Hanoi.htm however the norm is usually **only a few standard html pages**.\r\n\r\nPDF file handling requires a file system to generate the pages, thus a file centred approach to store the decimal based file index. So the memory work around is to use a RamDrive/Disk or its Bytes IO equivalent as named FileStream object.\r\n\r\nUsing PDF data in memory is usually highly disk intensive as the limited resources after contents program processing need to draw on the bus disk cache to augment virtual ram. As a result working in memory can be just as slow if not slower than using cached disk file data.\r\n\r\n%Tmp% / %temp% files can usually respond quicker and be very easily overwritten.\r\n\r\nThere are many other working and non-working switches bandied about the web, but the semi-official list is https://peter.sh/experiments/chromium-command-line-switches/","title":"Chromium headless PDF generation (in Java) using String instead of temp file/page","body":"<p>You should not need redundant <code>-disable-gpu</code> usure which version it was not needed for Windows, but redundant in <a href=\"https://chromium-review.googlesource.com/c/chromium/src/+/1161172\" rel=\"nofollow noreferrer\">https://chromium-review.googlesource.com/c/chromium/src/+/1161172</a> (2018), however, you may want to replace with <code>--print-to-pdf-no-header</code> to avoid those.</p>\n<p>Your using windows as the shell to run Chrome/MSEdge.exe so for that reason there will be a significantly smaller command line ability to CMD pass a variable string.</p>\n<p>To pass a base64 for html string as stdin will often be limited by content for similar string length reasons to say 1.5MB (75% of 2MB). Thus in special exceptional cases that may be 4096 pages see <a href=\"https://github.com/GitHubRulesOK/MyNotes/raw/master/Hanoi.htm\" rel=\"nofollow noreferrer\">https://github.com/GitHubRulesOK/MyNotes/raw/master/Hanoi.htm</a> however the norm is usually <strong>only a few standard html pages</strong>.</p>\n<p>PDF file handling requires a file system to generate the pages, thus a file centred approach to store the decimal based file index. So the memory work around is to use a RamDrive/Disk or its Bytes IO equivalent as named FileStream object.</p>\n<p>Using PDF data in memory is usually highly disk intensive as the limited resources after contents program processing need to draw on the bus disk cache to augment virtual ram. As a result working in memory can be just as slow if not slower than using cached disk file data.</p>\n<p>%Tmp% / %temp% files can usually respond quicker and be very easily overwritten.</p>\n<p>There are many other working and non-working switches bandied about the web, but the semi-official list is <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></p>\n"}],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667917734,"creation_date":1666859003,"question_id":74218933,"body_markdown":"We currently use the PhantomJS executable for two things in our Java project:\r\n\r\n1. Create a PDF file from a given `String html` we get from our database (for which we write the String to a temp file first)\r\n2. Create a screenshot of a given Widget-Object (for which we have an open HTML page on the front-end)\r\n\r\nSince PhantomJS hasn&#39;t been updated for a few years, I&#39;m about to change it to a headless Chromium method instead, which has the options `--print-to-pdf` and `--screenshot` for options 1 and 2.\r\n\r\nOption 2 isn&#39;t really relevant since we have a page, but for option 1 it would be nice if we could directly use the chromium command-line with the given String. Right now with PhantomJS, we convert the String to a temp file, and then use the executable to generate the actual PDF output file. I can of course do the same with the headless Chromium executable, but since I&#39;m changing it right now anyway, it would be nice if the &#39;String to temp HTML file&#39; step wouldn&#39;t be necessary for creating the output PDF file, since we already have the page in memory anyway after retrieving it from the database.\r\n\r\nFrom what I&#39;ve seen, the Chromium executable is usually run for either a HTML file to PDF file:\r\n\r\n    chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; C:/path/to/input-file.html\r\n\r\nOr for a HTML page to PDF file:\r\n\r\n    chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; https://www.google.com/\r\n\r\nI couldn&#39;t really find the docs for the `chrome`/`chromium` executable (although I have been able to find [the list of command options in the source code](https://source.chromium.org/chromium/chromium/src/+/main:headless/app/headless_shell_switches.cc;bpv=0;bpt=1)), so maybe there are more options besides these two above? (If anyone has a link to the docs, that would be great as well.)  \r\nIf not, I guess I&#39;ll just use a temp file as we did before with PhantomJS.","title":"Chromium headless PDF generation (in Java) using String instead of temp file/page","body":"<p>We currently use the PhantomJS executable for two things in our Java project:</p>\n<ol>\n<li>Create a PDF file from a given <code>String html</code> we get from our database (for which we write the String to a temp file first)</li>\n<li>Create a screenshot of a given Widget-Object (for which we have an open HTML page on the front-end)</li>\n</ol>\n<p>Since PhantomJS hasn't been updated for a few years, I'm about to change it to a headless Chromium method instead, which has the options <code>--print-to-pdf</code> and <code>--screenshot</code> for options 1 and 2.</p>\n<p>Option 2 isn't really relevant since we have a page, but for option 1 it would be nice if we could directly use the chromium command-line with the given String. Right now with PhantomJS, we convert the String to a temp file, and then use the executable to generate the actual PDF output file. I can of course do the same with the headless Chromium executable, but since I'm changing it right now anyway, it would be nice if the 'String to temp HTML file' step wouldn't be necessary for creating the output PDF file, since we already have the page in memory anyway after retrieving it from the database.</p>\n<p>From what I've seen, the Chromium executable is usually run for either a HTML file to PDF file:</p>\n<pre><code>chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; C:/path/to/input-file.html\n</code></pre>\n<p>Or for a HTML page to PDF file:</p>\n<pre><code>chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; https://www.google.com/\n</code></pre>\n<p>I couldn't really find the docs for the <code>chrome</code>/<code>chromium</code> executable (although I have been able to find <a href=\"https://source.chromium.org/chromium/chromium/src/+/main:headless/app/headless_shell_switches.cc;bpv=0;bpt=1\" rel=\"nofollow noreferrer\">the list of command options in the source code</a>), so maybe there are more options besides these two above? (If anyone has a link to the docs, that would be great as well.)<br />\nIf not, I guess I'll just use a temp file as we did before with PhantomJS.</p>\n"},{"tags":["java","json","objectmapper"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667916183,"post_id":74361308,"comment_id":131278210,"body_markdown":"Are you open to use other json libraries?","body":"Are you open to use other json libraries?"}],"answers":[{"comments":[{"owner":{"account_id":7654053,"reputation":21,"user_id":5801655,"display_name":"user5801655"},"score":0,"creation_date":1668503643,"post_id":74362374,"comment_id":131414966,"body_markdown":"jp.nextToken() actually throws &#39;JsonParseException: Unexpected character (&#39;,&#39; (code 44))&#39; . I had handled that exception  and returned input String but that fix  opened other cases where input JSON string is actually invalid JSON. How do I make sure mentioned JSON doesn&#39;t throw exception but Identify its not parsable?","body":"jp.nextToken() actually throws &#39;JsonParseException: Unexpected character (&#39;,&#39; (code 44))&#39; . I had handled that exception  and returned input String but that fix  opened other cases where input JSON string is actually invalid JSON. How do I make sure mentioned JSON doesn&#39;t throw exception but Identify its not parsable?"}],"tags":[],"owner":{"account_id":15324770,"reputation":66,"user_id":11056221,"display_name":"Munish"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667917560,"creation_date":1667917560,"answer_id":74362374,"question_id":74361308,"body_markdown":"You may want to check first whether the json is valid using the below code,\r\nThe nextToken verifies if the json is valid, if not you can return the input string as is, it is already a string.\r\n\r\n```\r\npublic void testInvalidJson() {\r\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\r\n\t\tJsonParser jp = mapper.getFactory().createParser(input);\r\n        \r\n        try {\r\n            Object map = mapper.readValue(jp, Map.class);\r\n\t\t\twhile (jp.nextToken() != null) {\r\n\t\t\t//return the source string\r\n\t\t\t//System.out.println(input);\r\n\t\t}\t\r\n            System.out.println(map);\r\n        } catch (JsonMappingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (JsonProcessingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```","title":"Convert Invalid JSON to String using com.fasterxml.jackson.databind.ObjectMapper","body":"<p>You may want to check first whether the json is valid using the below code,\nThe nextToken verifies if the json is valid, if not you can return the input string as is, it is already a string.</p>\n<pre><code>public void testInvalidJson() {\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\n        JsonParser jp = mapper.getFactory().createParser(input);\n        \n        try {\n            Object map = mapper.readValue(jp, Map.class);\n            while (jp.nextToken() != null) {\n            //return the source string\n            //System.out.println(input);\n        }   \n            System.out.println(map);\n        } catch (JsonMappingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (JsonProcessingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7654053,"reputation":21,"user_id":5801655,"display_name":"user5801655"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74362374,"answer_count":1,"score":0,"last_activity_date":1667917560,"creation_date":1667913055,"question_id":74361308,"body_markdown":"In below Java TestCase  I have invalid JOSN (&#39;input&#39; variable Value), meaning its not strict JOSN object. I want mapper.readValue to return input String as is.\r\nBelow test case print &quot;{StrKey1=StrValue1}&quot; on console. mapper.readValue does not throw an exception but pick first JOSN item and convert it into Map. I have to keep Map.class as Value Type because following logic is depend on that if converted value is Map.  \r\n\r\n```\r\n@Test\r\n    public void testInvalidJson() {\r\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            Object map = mapper.readValue(input, Map.class);\r\n            System.out.println(map);\r\n        } catch (JsonMappingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (JsonProcessingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nI dont want to set DeserializationFeature.FAIL_ON_TRAILING_TOKENS on ObjectMapper as my inputs are expected to be invalid JSON as well as non strict JSON and those should be converted to String. \r\nEven org.json.JSONObject(&quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;) does not throw an exception. \r\n\r\nWhat changes I should make in above code so that mapper.readValue will return complete input string as output for given input?","title":"Convert Invalid JSON to String using com.fasterxml.jackson.databind.ObjectMapper","body":"<p>In below Java TestCase  I have invalid JOSN ('input' variable Value), meaning its not strict JOSN object. I want mapper.readValue to return input String as is.\nBelow test case print &quot;{StrKey1=StrValue1}&quot; on console. mapper.readValue does not throw an exception but pick first JOSN item and convert it into Map. I have to keep Map.class as Value Type because following logic is depend on that if converted value is Map.</p>\n<pre><code>@Test\n    public void testInvalidJson() {\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            Object map = mapper.readValue(input, Map.class);\n            System.out.println(map);\n        } catch (JsonMappingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (JsonProcessingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>I dont want to set DeserializationFeature.FAIL_ON_TRAILING_TOKENS on ObjectMapper as my inputs are expected to be invalid JSON as well as non strict JSON and those should be converted to String.\nEven org.json.JSONObject(&quot;{&quot;StrKey1&quot;:&quot;StrValue1&quot;},{&quot;StrKey2&quot;:&quot;StrValue2&quot;}&quot;) does not throw an exception.</p>\n<p>What changes I should make in above code so that mapper.readValue will return complete input string as output for given input?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1263393,"reputation":4122,"user_id":1221203,"accept_rate":66,"display_name":"Nezam"},"score":0,"creation_date":1365396319,"post_id":15871309,"comment_id":22593318,"body_markdown":"Why do you want to do that and waste resources?","body":"Why do you want to do that and waste resources?"},{"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"score":1,"creation_date":1365396640,"post_id":15871309,"comment_id":22593403,"body_markdown":"@Nezam, excuse me, what do you mean..?","body":"@Nezam, excuse me, what do you mean..?"},{"owner":{"account_id":1263393,"reputation":4122,"user_id":1221203,"accept_rate":66,"display_name":"Nezam"},"score":0,"creation_date":1365396705,"post_id":15871309,"comment_id":22593424,"body_markdown":"Why would you want to convert a `JSONArray` which you showed to an `ArrayList` or an `Array`.Any special use?","body":"Why would you want to convert a <code>JSONArray</code> which you showed to an <code>ArrayList</code> or an <code>Array</code>.Any special use?"},{"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"score":1,"creation_date":1365397119,"post_id":15871309,"comment_id":22593535,"body_markdown":"yes, in spesification list it had to be stringArray... :(","body":"yes, in spesification list it had to be stringArray... :("},{"owner":{"account_id":215866,"reputation":22280,"user_id":470749,"accept_rate":73,"display_name":"Ryan"},"score":0,"creation_date":1616429767,"post_id":15871309,"comment_id":117993804,"body_markdown":"https://stackoverflow.com/a/55691694/470749 was helpful for me. `list.add(item.getAsString());`","body":"<a href=\"https://stackoverflow.com/a/55691694/470749\">stackoverflow.com/a/55691694/470749</a> was helpful for me. <code>list.add(item.getAsString());</code>"}],"answers":[{"comments":[{"owner":{"account_id":235989,"reputation":347,"user_id":503182,"accept_rate":83,"display_name":"youseeus"},"score":15,"creation_date":1468843886,"post_id":15871348,"comment_id":64278183,"body_markdown":"this is insecure: \n[\n  {\n    &quot;name&quot; : &quot;},{&quot;\n  }, ...\n]","body":"this is insecure:  [   {     &quot;name&quot; : &quot;},{&quot;   }, ... ]"},{"owner":{"account_id":235989,"reputation":347,"user_id":503182,"accept_rate":83,"display_name":"youseeus"},"score":5,"creation_date":1497416503,"post_id":15871348,"comment_id":76062634,"body_markdown":"the problem is, that, if some string contains json (like &quot;},{&quot;), it would be splitted too.","body":"the problem is, that, if some string contains json (like &quot;},{&quot;), it would be splitted too."}],"tags":[],"owner":{"account_id":2257919,"reputation":31825,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"comment_count":2,"down_vote_count":16,"up_vote_count":28,"is_accepted":false,"score":12,"last_activity_date":1663201620,"creation_date":1365395785,"answer_id":15871348,"question_id":15871309,"body_markdown":"TERRIBLE TERRIBLE TERRIBLE hack: \r\n\r\n    String[] arr = jsonArray.toString().replace(&quot;},{&quot;, &quot; ,&quot;).split(&quot; &quot;);\r\n    \r\n   ","title":"Convert JSONArray to String Array","body":"<p>TERRIBLE TERRIBLE TERRIBLE hack:</p>\n<pre><code>String[] arr = jsonArray.toString().replace(&quot;},{&quot;, &quot; ,&quot;).split(&quot; &quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"score":0,"creation_date":1365410196,"post_id":15871355,"comment_id":22598509,"body_markdown":"this convert to Array List first, then I can convert again to StringArray, thank to give an idea... (y)","body":"this convert to Array List first, then I can convert again to StringArray, thank to give an idea... (y)"},{"owner":{"account_id":1913760,"reputation":2126,"user_id":1890717,"accept_rate":53,"display_name":"Menachem Hornbacher"},"score":0,"creation_date":1481739414,"post_id":15871355,"comment_id":69501153,"body_markdown":"You can use list.add(arr.getString(i) just as well","body":"You can use list.add(arr.getString(i) just as well"},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":3,"creation_date":1522686805,"post_id":15871355,"comment_id":86236545,"body_markdown":"Since the length of the array is known, the `ArrayList` should be constructed with an explicit size (e.g. `new ArrayList&lt;String&gt;(arr.length())`.","body":"Since the length of the array is known, the <code>ArrayList</code> should be constructed with an explicit size (e.g. <code>new ArrayList&lt;String&gt;(arr.length())</code>."}],"tags":[],"owner":{"account_id":2448453,"reputation":2538,"user_id":2135257,"accept_rate":50,"display_name":"Saad Asad"},"comment_count":3,"down_vote_count":3,"up_vote_count":81,"is_accepted":true,"score":78,"last_activity_date":1553581679,"creation_date":1365395858,"answer_id":15871355,"question_id":15871309,"body_markdown":"Take a look at this [tutorial](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/).\r\nAlso you can parse above json like :\r\n\r\n    JSONArray arr = new JSONArray(yourJSONresponse);\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    for(int i = 0; i &lt; arr.length(); i++){\r\n        list.add(arr.getJSONObject(i).getString(&quot;name&quot;));\r\n    }","title":"Convert JSONArray to String Array","body":"<p>Take a look at this <a href=\"http://www.androidhive.info/2012/01/android-json-parsing-tutorial/\" rel=\"noreferrer\">tutorial</a>.\nAlso you can parse above json like :</p>\n\n<pre><code>JSONArray arr = new JSONArray(yourJSONresponse);\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nfor(int i = 0; i &lt; arr.length(); i++){\n    list.add(arr.getJSONObject(i).getString(\"name\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23031,"reputation":10957,"user_id":57423,"accept_rate":78,"display_name":"Bhushan Bhangale"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365395961,"creation_date":1365395961,"answer_id":15871373,"question_id":15871309,"body_markdown":"You can loop to create the String \r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    for (int i=0; i&lt;jsonArray.length(); i++) {\r\n        list.add( jsonArray.getString(i) );\r\n    }\r\n    String[] stringArray = list.toArray(new String[list.size()]);","title":"Convert JSONArray to String Array","body":"<p>You can loop to create the String </p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nfor (int i=0; i&lt;jsonArray.length(); i++) {\n    list.add( jsonArray.getString(i) );\n}\nString[] stringArray = list.toArray(new String[list.size()]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"score":0,"creation_date":1365397215,"post_id":15871528,"comment_id":22593565,"body_markdown":"hmm, I would like if the code is for dynamic data.. but thank you for your answer... :)","body":"hmm, I would like if the code is for dynamic data.. but thank you for your answer... :)"},{"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"score":0,"creation_date":1365402314,"post_id":15871528,"comment_id":22595229,"body_markdown":"@andikurnia\n\nYou have to get the dynamic data in `s`. please accept the answer if it works for you.","body":"@andikurnia  You have to get the dynamic data in <code>s</code>. please accept the answer if it works for you."},{"owner":{"account_id":107057,"reputation":3790,"user_id":284830,"accept_rate":20,"display_name":"Michael Munsey"},"score":0,"creation_date":1414186307,"post_id":15871528,"comment_id":41734618,"body_markdown":"I think this would fail if there were escaped brackets (\\[) within the JSON.","body":"I think this would fail if there were escaped brackets (&#91;) within the JSON."},{"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"score":0,"creation_date":1414214956,"post_id":15871528,"comment_id":41739818,"body_markdown":"@Michael Munsey, It will not fail if the key or value contains [, but the result will not contain [, see `s = s.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);`. And, I have also mentioned `satisfies only with this particular string format`. This code should be improved based on @andikurnia&#39;s requirement.","body":"@Michael Munsey, It will not fail if the key or value contains [, but the result will not contain [, see <code>s = s.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);</code>. And, I have also mentioned <code>satisfies only with this particular string format</code>. This code should be improved based on @andikurnia&#39;s requirement."}],"tags":[],"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403794634,"creation_date":1365396770,"answer_id":15871528,"question_id":15871309,"body_markdown":"Here is the code : \r\n\r\n    // XXX satisfies only with this particular string format\r\n    \t\tString s = &quot;[{\\&quot;name\\&quot;:\\&quot;IMG_20130403_140457.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130403_145006.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130403_145112.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_085559.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_113700.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_113713.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_135706.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_161501.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130405_082413.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130405_104212.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130405_160524.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130408_082456.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;test.jpg\\&quot;}]&quot;;\r\n    \t\ts = s.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n    \t\ts = s.substring(1, s.length() - 1);\r\n    \t\tString[] split = s.split(&quot;[}][,][{]&quot;);\r\n    \t\tfor (String string : split) {\r\n    \t\t\tSystem.out.println(string);\r\n    \t\t}\r\n\r\n","title":"Convert JSONArray to String Array","body":"<p>Here is the code : </p>\n\n<pre><code>// XXX satisfies only with this particular string format\n        String s = \"[{\\\"name\\\":\\\"IMG_20130403_140457.jpg\\\"},{\\\"name\\\":\\\"IMG_20130403_145006.jpg\\\"},{\\\"name\\\":\\\"IMG_20130403_145112.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_085559.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_113700.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_113713.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_135706.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_161501.jpg\\\"},{\\\"name\\\":\\\"IMG_20130405_082413.jpg\\\"},{\\\"name\\\":\\\"IMG_20130405_104212.jpg\\\"},{\\\"name\\\":\\\"IMG_20130405_160524.jpg\\\"},{\\\"name\\\":\\\"IMG_20130408_082456.jpg\\\"},{\\\"name\\\":\\\"test.jpg\\\"}]\";\n        s = s.replace(\"[\", \"\").replace(\"]\", \"\");\n        s = s.substring(1, s.length() - 1);\n        String[] split = s.split(\"[}][,][{]\");\n        for (String string : split) {\n            System.out.println(string);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1739024,"reputation":4902,"user_id":1590950,"display_name":"indivisible"},"score":3,"creation_date":1401959889,"post_id":24055890,"comment_id":37091674,"body_markdown":"Code only answers, while they may be correct, are rarely as informative as ones that also explain why. Consider adding some comments or an explanation to your post.","body":"Code only answers, while they may be correct, are rarely as informative as ones that also explain why. Consider adding some comments or an explanation to your post."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":2,"creation_date":1417305058,"post_id":24055890,"comment_id":42898811,"body_markdown":"Checking if &quot;jsonArray&quot; is null after using it - is wrong as you might get NPE before the check itself.","body":"Checking if &quot;jsonArray&quot; is null after using it - is wrong as you might get NPE before the check itself."}],"tags":[],"owner":{"account_id":3055379,"reputation":411,"user_id":2589139,"display_name":"toddsalpen"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1494952047,"creation_date":1401958876,"answer_id":24055890,"question_id":15871309,"body_markdown":"    public static String[] getStringArray(JSONArray jsonArray) {\r\n        String[] stringArray = null;\r\n        if (jsonArray != null) {\r\n            int length = jsonArray.length();\r\n            stringArray = new String[length];\r\n            for (int i = 0; i &lt; length; i++) {\r\n                stringArray[i] = jsonArray.optString(i);\r\n            }\r\n        }\r\n        return stringArray;\r\n    }","title":"Convert JSONArray to String Array","body":"<pre><code>public static String[] getStringArray(JSONArray jsonArray) {\n    String[] stringArray = null;\n    if (jsonArray != null) {\n        int length = jsonArray.length();\n        stringArray = new String[length];\n        for (int i = 0; i &lt; length; i++) {\n            stringArray[i] = jsonArray.optString(i);\n        }\n    }\n    return stringArray;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235989,"reputation":347,"user_id":503182,"accept_rate":83,"display_name":"youseeus"},"score":2,"creation_date":1502717291,"post_id":28010925,"comment_id":78308722,"body_markdown":"this is dangerous, cause there could be other occurrence of &quot;,&quot; in the data","body":"this is dangerous, cause there could be other occurrence of &quot;,&quot; in the data"}],"tags":[],"owner":{"account_id":989366,"reputation":983,"user_id":1007081,"accept_rate":92,"display_name":"Wops"},"comment_count":1,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1421592101,"creation_date":1421592101,"answer_id":28010925,"question_id":15871309,"body_markdown":"There you go:\r\n\r\n    String tempNames = jsonObj.names().toString();  \r\n    String[] types = tempNames.substring(1, tempNames.length()-1).split(&quot;,&quot;); //remove [ and ] , then split by &#39;,&#39;\r\n","title":"Convert JSONArray to String Array","body":"<p>There you go:</p>\n\n<pre><code>String tempNames = jsonObj.names().toString();  \nString[] types = tempNames.substring(1, tempNames.length()-1).split(\",\"); //remove [ and ] , then split by ','\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265783,"reputation":338,"user_id":552985,"display_name":"begrossi"},"comment_count":0,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1656599110,"creation_date":1446142111,"answer_id":33421601,"question_id":15871309,"body_markdown":"Simplest and correct code is:\r\n\r\n    public static String[] toStringArray(JSONArray array) {\r\n\t\tif(array==null)\r\n\t\t\treturn new String[0];\r\n\t\t\r\n\t\tString[] arr=new String[array.length()];\r\n\t\tfor(int i=0; i&lt;arr.length; i++) {\r\n\t\t\tarr[i]=array.optString(i);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\nUsing `List&lt;String&gt;` is not a good idea, as you know the length of the array.\r\nObserve that it uses `arr.length` in `for` condition to avoid calling a method, i.e. `array.length()`, on each loop.","title":"Convert JSONArray to String Array","body":"<p>Simplest and correct code is:</p>\n<pre><code>public static String[] toStringArray(JSONArray array) {\n    if(array==null)\n        return new String[0];\n    \n    String[] arr=new String[array.length()];\n    for(int i=0; i&lt;arr.length; i++) {\n        arr[i]=array.optString(i);\n    }\n    return arr;\n}\n</code></pre>\n<p>Using <code>List&lt;String&gt;</code> is not a good idea, as you know the length of the array.\nObserve that it uses <code>arr.length</code> in <code>for</code> condition to avoid calling a method, i.e. <code>array.length()</code>, on each loop.</p>\n"},{"tags":[],"owner":{"account_id":1034505,"reputation":1110,"user_id":1042153,"display_name":"Leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484040351,"creation_date":1484040351,"answer_id":41565329,"question_id":15871309,"body_markdown":"Using only the portable JAVA API. http://www.oracle.com/technetwork/articles/java/json-1973242.html\r\n\r\n\r\n----------\r\n\r\n\r\n        try (JsonReader reader = Json.createReader(new StringReader(yourJSONresponse))) {\r\n            JsonArray arr = reader.readArray();\r\n\r\n            List&lt;String&gt; l = arr.getValuesAs(JsonObject.class)\r\n                .stream().map(o -&gt; o.getString(&quot;name&quot;)).collect(Collectors.toList());\r\n        }","title":"Convert JSONArray to String Array","body":"<p>Using only the portable JAVA API. <a href=\"http://www.oracle.com/technetwork/articles/java/json-1973242.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/articles/java/json-1973242.html</a></p>\n\n<hr>\n\n<pre><code>    try (JsonReader reader = Json.createReader(new StringReader(yourJSONresponse))) {\n        JsonArray arr = reader.readArray();\n\n        List&lt;String&gt; l = arr.getValuesAs(JsonObject.class)\n            .stream().map(o -&gt; o.getString(\"name\")).collect(Collectors.toList());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1485677707,"post_id":41918571,"comment_id":71018725,"body_markdown":"While you may have solved this user&#39;s problem, code-only answers are not very helpful to users who come to this question in the future.  Please edit your answer to explain why your code solves the original problem.","body":"While you may have solved this user&#39;s problem, code-only answers are not very helpful to users who come to this question in the future.  Please edit your answer to explain why your code solves the original problem."},{"owner":{"account_id":3345487,"reputation":1483,"user_id":2810726,"accept_rate":0,"display_name":"Mbuodile Obiosio"},"score":0,"creation_date":1586083476,"post_id":41918571,"comment_id":107989747,"body_markdown":"Incomplete answer. If you must provide answers then include and explanation and the extra utils","body":"Incomplete answer. If you must provide answers then include and explanation and the extra utils"}],"tags":[],"owner":{"account_id":6849407,"reputation":2415,"user_id":5266998,"accept_rate":86,"display_name":"Januka samaranyake"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485698263,"creation_date":1485674632,"answer_id":41918571,"question_id":15871309,"body_markdown":"  You can input json array to this function get output as string array\r\n\r\n&gt; example Input - {\r\n&gt;                 &quot;gender&quot; : [&quot;male&quot;, &quot;female&quot;]\r\n&gt;                 } \r\n&gt; \r\n&gt; output - {&quot;male&quot;, &quot;female&quot;}\r\n\r\n    private String[] convertToStringArray(Object array) throws Exception {\r\n       return StringUtils.stripAll(array.toString().substring(1, array.toString().length()-1).split(&quot;,&quot;));\r\n    }","title":"Convert JSONArray to String Array","body":"<p>You can input json array to this function get output as string array</p>\n\n<blockquote>\n  <p>example Input - {\n                  \"gender\" : [\"male\", \"female\"]\n                  } </p>\n  \n  <p>output - {\"male\", \"female\"}</p>\n</blockquote>\n\n<pre><code>private String[] convertToStringArray(Object array) throws Exception {\n   return StringUtils.stripAll(array.toString().substring(1, array.toString().length()-1).split(\",\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495515454,"creation_date":1495515454,"answer_id":44126095,"question_id":15871309,"body_markdown":"A ready-to-use method:\r\n\r\n    /**\r\n    * Convert JSONArray to ArrayList&lt;String&gt;.\r\n    * \r\n    * @param jsonArray JSON array.\r\n    * @return String array.\r\n    */\r\n    public static ArrayList&lt;String&gt; toStringArrayList(JSONArray jsonArray) {\r\n\r\n      ArrayList&lt;String&gt; stringArray = new ArrayList&lt;String&gt;();\r\n      int arrayIndex;\r\n      JSONObject jsonArrayItem;\r\n      String jsonArrayItemKey;\r\n\r\n      for (\r\n        arrayIndex = 0;\r\n        arrayIndex &lt; jsonArray.length();\r\n        arrayIndex++) {\r\n\r\n        try {\r\n          jsonArrayItem =\r\n            jsonArray.getJSONObject(\r\n              arrayIndex);\r\n\r\n          jsonArrayItemKey =\r\n            jsonArrayItem.getString(\r\n              &quot;name&quot;);\r\n\r\n          stringArray.add(\r\n            jsonArrayItemKey);\r\n        } catch (JSONException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n\r\n      return stringArray;\r\n    }","title":"Convert JSONArray to String Array","body":"<p>A ready-to-use method:</p>\n\n<pre><code>/**\n* Convert JSONArray to ArrayList&lt;String&gt;.\n* \n* @param jsonArray JSON array.\n* @return String array.\n*/\npublic static ArrayList&lt;String&gt; toStringArrayList(JSONArray jsonArray) {\n\n  ArrayList&lt;String&gt; stringArray = new ArrayList&lt;String&gt;();\n  int arrayIndex;\n  JSONObject jsonArrayItem;\n  String jsonArrayItemKey;\n\n  for (\n    arrayIndex = 0;\n    arrayIndex &lt; jsonArray.length();\n    arrayIndex++) {\n\n    try {\n      jsonArrayItem =\n        jsonArray.getJSONObject(\n          arrayIndex);\n\n      jsonArrayItemKey =\n        jsonArrayItem.getString(\n          \"name\");\n\n      stringArray.add(\n        jsonArrayItemKey);\n    } catch (JSONException e) {\n      e.printStackTrace();\n    }\n  }\n\n  return stringArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4090960,"reputation":1295,"user_id":3358937,"accept_rate":100,"display_name":"Cjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530859280,"creation_date":1530859280,"answer_id":51204389,"question_id":15871309,"body_markdown":"The below code will convert the JSON array of the format \r\n\r\n&gt; [{&quot;version&quot;:&quot;70.3.0;3&quot;},{&quot;version&quot;:&quot;6R_16B000I_J4;3&quot;},{&quot;version&quot;:&quot;46.3.0;3&quot;},{&quot;version&quot;:&quot;20.3.0;2&quot;},{&quot;version&quot;:&quot;4.1.3;0&quot;},{&quot;version&quot;:&quot;10.3.0;1&quot;}]\r\n\r\nto List of String\r\n\r\n&gt; [70.3.0;3, 6R_16B000I_J4;3, 46.3.0;3, 20.3.0;2, 4.1.3;0, 10.3.0;1]\r\n\r\n**Code** :\r\n\r\n`ObjectMapper mapper = new ObjectMapper();\r\nArrayNode node = (ArrayNode)mapper.readTree(dataFromDb);\r\ndata = node.findValuesAsText(&quot;version&quot;);` // &quot;version&quot; is the node in the JSON\r\n\r\nand use com.fasterxml.jackson.databind.ObjectMapper","title":"Convert JSONArray to String Array","body":"<p>The below code will convert the JSON array of the format </p>\n\n<blockquote>\n  <p>[{\"version\":\"70.3.0;3\"},{\"version\":\"6R_16B000I_J4;3\"},{\"version\":\"46.3.0;3\"},{\"version\":\"20.3.0;2\"},{\"version\":\"4.1.3;0\"},{\"version\":\"10.3.0;1\"}]</p>\n</blockquote>\n\n<p>to List of String</p>\n\n<blockquote>\n  <p>[70.3.0;3, 6R_16B000I_J4;3, 46.3.0;3, 20.3.0;2, 4.1.3;0, 10.3.0;1]</p>\n</blockquote>\n\n<p><strong>Code</strong> :</p>\n\n<p><code>ObjectMapper mapper = new ObjectMapper();\nArrayNode node = (ArrayNode)mapper.readTree(dataFromDb);\ndata = node.findValuesAsText(\"version\");</code> // \"version\" is the node in the JSON</p>\n\n<p>and use com.fasterxml.jackson.databind.ObjectMapper</p>\n"},{"tags":[],"owner":{"account_id":3861036,"reputation":23,"user_id":3198784,"display_name":"Alex Seguin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547834624,"creation_date":1547834624,"answer_id":54259322,"question_id":15871309,"body_markdown":"Bit late for an answer, but here&#39;s what I came up with using Gson:\r\n\r\nfor a jsonarray foo: [{&quot;test&quot;: &quot;bar&quot;}, {&quot;test&quot;: &quot;bar2&quot;}]\r\n\r\n    JsonArray foo = getJsonFromWherever();\r\n    String[] test = new String[foo.size()]\r\n    foo.forEach(x -&gt; {test = ArrayUtils.add(test, x.get(&quot;test&quot;).getAsString());});","title":"Convert JSONArray to String Array","body":"<p>Bit late for an answer, but here's what I came up with using Gson:</p>\n\n<p>for a jsonarray foo: [{\"test\": \"bar\"}, {\"test\": \"bar2\"}]</p>\n\n<pre><code>JsonArray foo = getJsonFromWherever();\nString[] test = new String[foo.size()]\nfoo.forEach(x -&gt; {test = ArrayUtils.add(test, x.get(\"test\").getAsString());});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13173019,"reputation":2021,"user_id":9514676,"display_name":"YouBee"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1595481608,"creation_date":1563445424,"answer_id":57092365,"question_id":15871309,"body_markdown":"Was trying one of the same scenario but found one different and simple solution to convert JSONArray into List.\r\n\r\n    import java.lang.reflect.Type;\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    \r\n    String jsonStringArray = &quot;[\\&quot;JSON\\&quot;,\\&quot;To\\&quot;,\\&quot;Java\\&quot;]&quot;;                 \r\n        \r\n    //creating Gson instance to convert JSON array to Java array\r\n                       \r\n        Gson converter = new Gson();                  \r\n        Type type = new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType();\r\n        List&lt;String&gt; list =  converter.fromJson(jsonStringArray, type );\r\n\r\n\r\nGive a try","title":"Convert JSONArray to String Array","body":"<p>Was trying one of the same scenario but found one different and simple solution to convert JSONArray into List.</p>\n<pre><code>import java.lang.reflect.Type;\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\nString jsonStringArray = &quot;[\\&quot;JSON\\&quot;,\\&quot;To\\&quot;,\\&quot;Java\\&quot;]&quot;;                 \n    \n//creating Gson instance to convert JSON array to Java array\n                   \n    Gson converter = new Gson();                  \n    Type type = new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType();\n    List&lt;String&gt; list =  converter.fromJson(jsonStringArray, type );\n</code></pre>\n<p>Give a try</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563917770,"creation_date":1563917770,"answer_id":57172529,"question_id":15871309,"body_markdown":"You might want to take a look at `JSONArray.toList()`, which returns a `List` containing Maps and Lists, which represent your JSON structure. So you can use it with Java Streams like this:\r\n\r\n    JSONArray array = new JSONArray(jsonString);\r\n    List&lt;String&gt; result = array.toList().stream()\r\n            .filter(Map.class::isInstance)\r\n            .map(Map.class::cast)\r\n            .map(o -&gt; o.get(&quot;name&quot;))\r\n            .filter(String.class::isInstance)\r\n            .map(String.class::cast)\r\n            .collect(Collectors.toList());\r\n\r\nThis might just be useful even for more complex objects.\r\n\r\nAlternatively you can just use an `IntStream` to iterate over all items in the `JSONArray` and map all names:\r\n\r\n    JSONArray array = new JSONArray(jsonString);\r\n    List&lt;String&gt; result = IntStream.range(0, array.length())\r\n            .mapToObj(array::getJSONObject)\r\n            .map(o -&gt; o.getString(&quot;name&quot;))\r\n            .collect(Collectors.toList());","title":"Convert JSONArray to String Array","body":"<p>You might want to take a look at <code>JSONArray.toList()</code>, which returns a <code>List</code> containing Maps and Lists, which represent your JSON structure. So you can use it with Java Streams like this:</p>\n\n<pre><code>JSONArray array = new JSONArray(jsonString);\nList&lt;String&gt; result = array.toList().stream()\n        .filter(Map.class::isInstance)\n        .map(Map.class::cast)\n        .map(o -&gt; o.get(\"name\"))\n        .filter(String.class::isInstance)\n        .map(String.class::cast)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>This might just be useful even for more complex objects.</p>\n\n<p>Alternatively you can just use an <code>IntStream</code> to iterate over all items in the <code>JSONArray</code> and map all names:</p>\n\n<pre><code>JSONArray array = new JSONArray(jsonString);\nList&lt;String&gt; result = IntStream.range(0, array.length())\n        .mapToObj(array::getJSONObject)\n        .map(o -&gt; o.getString(\"name\"))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8263344,"reputation":2713,"user_id":6213883,"accept_rate":69,"display_name":"It&#233;ration 122442"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578316314,"creation_date":1578316314,"answer_id":59612759,"question_id":15871309,"body_markdown":"I do post an answer here for the question [here][1] that was closed even though the asnwers here helped, but were not sufficient.\r\n\r\nSo, this is in order to get a json array to a `String[]` using **jsonsimple**.\r\n\r\nAccording to the (marvelous) [decode examples and docs][2], JSONArrays are java List, so we can access List methods.\r\n\r\nFrom there, is it possible to transform it to a `String[]` with the following:\r\n\r\n\t\tJSONObject assemblingTags = (JSONObject) obj.get(&quot;assembling-tags&quot;);\r\n\t\tJSONArray aTagsList = (JSONArray) assemblingTags.get(&quot;list&quot;);\r\n\t\tString[] tagsList = (String[]) aTagsList.stream().toArray(String[]::new);\r\n\r\n  [1]: https://stackoverflow.com/q/59610805/6213883\r\n  [2]: https://code.google.com/archive/p/json-simple/wikis/DecodingExamples.wiki","title":"Convert JSONArray to String Array","body":"<p>I do post an answer here for the question <a href=\"https://stackoverflow.com/q/59610805/6213883\">here</a> that was closed even though the asnwers here helped, but were not sufficient.</p>\n\n<p>So, this is in order to get a json array to a <code>String[]</code> using <strong>jsonsimple</strong>.</p>\n\n<p>According to the (marvelous) <a href=\"https://code.google.com/archive/p/json-simple/wikis/DecodingExamples.wiki\" rel=\"nofollow noreferrer\">decode examples and docs</a>, JSONArrays are java List, so we can access List methods.</p>\n\n<p>From there, is it possible to transform it to a <code>String[]</code> with the following:</p>\n\n<pre><code>    JSONObject assemblingTags = (JSONObject) obj.get(\"assembling-tags\");\n    JSONArray aTagsList = (JSONArray) assemblingTags.get(\"list\");\n    String[] tagsList = (String[]) aTagsList.stream().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630074331,"creation_date":1630074331,"answer_id":68955074,"question_id":15871309,"body_markdown":"And here is my solution, You may want to convert and merge more than a single array :\r\n\r\n    public static String[] multiJsonArrayToSingleStringArray(JSONArray... arrays) {\r\n        ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n        for (JSONArray array : arrays)\r\n            for (int i = 0; i &lt; array.length(); i++)\r\n                list.add(array.optString(i));\r\n\r\n        return list.toArray(new String[list.size()]);\r\n    }\r\n","title":"Convert JSONArray to String Array","body":"<p>And here is my solution, You may want to convert and merge more than a single array :</p>\n<pre><code>public static String[] multiJsonArrayToSingleStringArray(JSONArray... arrays) {\n    ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\n    for (JSONArray array : arrays)\n        for (int i = 0; i &lt; array.length(); i++)\n            list.add(array.optString(i));\n\n    return list.toArray(new String[list.size()]);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5919781,"reputation":29345,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1632645878,"post_id":69330737,"comment_id":122544719,"body_markdown":"You should make it clear what this compared to the existing answers (which superficially look quite similar).  It also doesn&#39;t look like you use `data`.","body":"You should make it clear what this compared to the existing answers (which superficially look quite similar).  It also doesn&#39;t look like you use <code>data</code>."},{"owner":{"account_id":20459968,"reputation":11,"user_id":15012833,"display_name":"Furkan Uyanik"},"score":0,"creation_date":1664884262,"post_id":69330737,"comment_id":130567674,"body_markdown":"I am so sorry. I updated my answer. Thank you for feedback!","body":"I am so sorry. I updated my answer. Thank you for feedback!"}],"tags":[],"owner":{"account_id":20459968,"reputation":11,"user_id":15012833,"display_name":"Furkan Uyanik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632682048,"creation_date":1632612306,"answer_id":69330737,"question_id":15871309,"body_markdown":"The below code will convert JSON array to List&lt;String&gt;\r\n\r\nFor example; \r\n\r\n```\r\nimport org.json.JSONArray\r\n\r\nString data = &quot;YOUR_JSON_ARRAY_DATA&quot;;\r\nJSONArray arr = new JSONArray(data);\r\nList&lt;String&gt; list = arr.toList().stream().map(Object::toString).collect(Collectors.toList());\r\n```","title":"Convert JSONArray to String Array","body":"<p>The below code will convert JSON array to List</p>\n<p>For example;</p>\n<pre><code>import org.json.JSONArray\n\nString data = &quot;YOUR_JSON_ARRAY_DATA&quot;;\nJSONArray arr = new JSONArray(data);\nList&lt;String&gt; list = arr.toList().stream().map(Object::toString).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16267255,"reputation":771,"user_id":11746909,"display_name":"MUGABA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667917204,"creation_date":1667917204,"answer_id":74362295,"question_id":15871309,"body_markdown":"I know this is probably late. I hope it will help someone. \r\n\r\nWhen you have a string array that is stringfied. say something like this\r\n\r\n    String chars =  &quot;[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]&quot;;// Json stringfied string\r\n    List&lt;String&gt;charArray = (List&lt;String&gt;) JSON.parse(chars);\r\n\r\n    String[] stringArray = cars.toArray(new String[char.size()]);\r\n\r\nThere you go the array has something like this\r\n  \r\n\r\n     stringarray = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;];\r\n\r\n","title":"Convert JSONArray to String Array","body":"<p>I know this is probably late. I hope it will help someone.</p>\n<p>When you have a string array that is stringfied. say something like this</p>\n<pre><code>String chars =  &quot;[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]&quot;;// Json stringfied string\nList&lt;String&gt;charArray = (List&lt;String&gt;) JSON.parse(chars);\n\nString[] stringArray = cars.toArray(new String[char.size()]);\n</code></pre>\n<p>There you go the array has something like this</p>\n<pre><code> stringarray = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;];\n</code></pre>\n"}],"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298038,"favorite_count":0,"down_vote_count":1,"up_vote_count":77,"accepted_answer_id":15871355,"answer_count":18,"score":76,"last_activity_date":1667917204,"creation_date":1365395581,"question_id":15871309,"body_markdown":"I want to ask a question about converting a `jsonArray` to a `StringArray` on `Android`. Here is my code to get `jsonArray` from server.\r\n\r\n\ttry {\r\n\t\tDefaultHttpClient defaultClient = new DefaultHttpClient();\r\n\t\tHttpGet httpGetRequest = new HttpGet(&quot;http://server/android/listdir.php&quot;);\r\n\t\tHttpResponse httpResponse = defaultClient.execute(httpGetRequest);\r\n\t\t\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent(),&quot;UTF-8&quot;));\r\n\t\t\r\n\t\tString json = reader.readLine();\r\n\t\t\r\n\t\t//JSONObject jsonObject = new JSONObject(json);\r\n\t\tJSONArray jsonArray = new JSONArray(json);\r\n\t\tLog.d(&quot;&quot;, json);\r\n\t\t\r\n\t\t//Toast.makeText(getApplicationContext(), json, Toast.LENGTH_SHORT).show();\r\n\t\t\r\n\t} catch (Exception e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nAnd this is the `JSON`.\r\n\r\n    [\r\n        {&quot;name&quot;: &quot;IMG_20130403_140457.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130403_145006.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130403_145112.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_085559.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_113700.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_113713.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_135706.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_161501.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130405_082413.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130405_104212.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130405_160524.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130408_082456.jpg&quot;},\r\n        {&quot;name&quot;:&quot;test.jpg&quot;}\r\n    ]\r\n\r\nHow can I convert jsonArray that I&#39;ve got to StringArray so I can get StringArray like this:\r\n\r\n    array = {&quot;IMG_20130403_140457.jpg&quot;,&quot;IMG_20130403_145006.jpg&quot;,........,&quot;test.jpg&quot;};\r\n\r\nThank you for your help :)","title":"Convert JSONArray to String Array","body":"<p>I want to ask a question about converting a <code>jsonArray</code> to a <code>StringArray</code> on <code>Android</code>. Here is my code to get <code>jsonArray</code> from server.</p>\n\n<pre><code>try {\n    DefaultHttpClient defaultClient = new DefaultHttpClient();\n    HttpGet httpGetRequest = new HttpGet(\"http://server/android/listdir.php\");\n    HttpResponse httpResponse = defaultClient.execute(httpGetRequest);\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent(),\"UTF-8\"));\n\n    String json = reader.readLine();\n\n    //JSONObject jsonObject = new JSONObject(json);\n    JSONArray jsonArray = new JSONArray(json);\n    Log.d(\"\", json);\n\n    //Toast.makeText(getApplicationContext(), json, Toast.LENGTH_SHORT).show();\n\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>And this is the <code>JSON</code>.</p>\n\n<pre><code>[\n    {\"name\": \"IMG_20130403_140457.jpg\"},\n    {\"name\":\"IMG_20130403_145006.jpg\"},\n    {\"name\":\"IMG_20130403_145112.jpg\"},\n    {\"name\":\"IMG_20130404_085559.jpg\"},\n    {\"name\":\"IMG_20130404_113700.jpg\"},\n    {\"name\":\"IMG_20130404_113713.jpg\"},\n    {\"name\":\"IMG_20130404_135706.jpg\"},\n    {\"name\":\"IMG_20130404_161501.jpg\"},\n    {\"name\":\"IMG_20130405_082413.jpg\"},\n    {\"name\":\"IMG_20130405_104212.jpg\"},\n    {\"name\":\"IMG_20130405_160524.jpg\"},\n    {\"name\":\"IMG_20130408_082456.jpg\"},\n    {\"name\":\"test.jpg\"}\n]\n</code></pre>\n\n<p>How can I convert jsonArray that I've got to StringArray so I can get StringArray like this:</p>\n\n<pre><code>array = {\"IMG_20130403_140457.jpg\",\"IMG_20130403_145006.jpg\",........,\"test.jpg\"};\n</code></pre>\n\n<p>Thank you for your help :)</p>\n"},{"tags":["java","java-module"],"answers":[{"tags":[],"owner":{"account_id":11148187,"reputation":181,"user_id":8182287,"display_name":"Herv&#233; Guillemet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667917165,"creation_date":1667916824,"answer_id":74362203,"question_id":74326731,"body_markdown":"In each module directory, your package hierarchy should be complete, starting at the root, with the `module-info` at the root.\r\n\r\nSo it should look like:\r\n\r\n```lang-plaintext\r\nmodule_test [FOLDER]:\r\n\r\n  &gt; park [MODULE]\r\n    &gt; module-info [MODULE DESCRIPTOR]\r\n    &gt; park [PACKAGE]\r\n      &gt; props [PACKAGE]\r\n        &gt; park.props.Bench [CLASS]\r\n        &gt; park.props.Bin [CLASS]\r\n      &gt; employees [PACKAGE]\r\n        &gt; park.employees.Cleaner [CLASS]\r\n\r\n  &gt; services [MODULE]\r\n    &gt; module-info [PACKAGE DESCRIPTOR]\r\n    &gt; services [PACKAGE]\r\n      &gt; parkcleaning [PACKAGE]\r\n        &gt; services.parkcleaning.CleaningService [CLASS]\r\n```\r\nThen, in the directory of module `park`:\r\n```shell\r\njavac park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java module-info.java\r\n```\r\nand in the directory of module `services`:\r\n```shell\r\njavac -p .. services/parkcleaning/CleaningService.java module-info.java\r\n```\r\nor:\r\n```shell\r\njavac -p ../park services/parkcleaning/CleaningService.java module-info.java\r\n```","title":"Module not found while trying to test java module dependencies","body":"<p>In each module directory, your package hierarchy should be complete, starting at the root, with the <code>module-info</code> at the root.</p>\n<p>So it should look like:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>module_test [FOLDER]:\n\n  &gt; park [MODULE]\n    &gt; module-info [MODULE DESCRIPTOR]\n    &gt; park [PACKAGE]\n      &gt; props [PACKAGE]\n        &gt; park.props.Bench [CLASS]\n        &gt; park.props.Bin [CLASS]\n      &gt; employees [PACKAGE]\n        &gt; park.employees.Cleaner [CLASS]\n\n  &gt; services [MODULE]\n    &gt; module-info [PACKAGE DESCRIPTOR]\n    &gt; services [PACKAGE]\n      &gt; parkcleaning [PACKAGE]\n        &gt; services.parkcleaning.CleaningService [CLASS]\n</code></pre>\n<p>Then, in the directory of module <code>park</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java module-info.java\n</code></pre>\n<p>and in the directory of module <code>services</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -p .. services/parkcleaning/CleaningService.java module-info.java\n</code></pre>\n<p>or:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -p ../park services/parkcleaning/CleaningService.java module-info.java\n</code></pre>\n"}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74362203,"answer_count":1,"score":0,"last_activity_date":1667917165,"creation_date":1667642068,"question_id":74326731,"body_markdown":"I&#39;m currently reading [Boyarksy &amp; Selikoff&#39;s OCP Study Guide for Java SE 17][1] and have finally reached the **Modules** chapter. I&#39;ve been trying, based on their written examples, to create two &quot;test&quot; modules, in order to see how this actually works. Of course, I know there are rare cases (if any) where we need to create modules by hand, because build tools already do this for us, but still just wanted to check how it works, to also have some bit of &quot;low-level&quot; knowledge about modularity in Java.\r\n\r\nI plan to create two modules, one called `park` and the other one called `services`. `park` module should contain two packages, `props` and `employees`, while `service` module should only have one package called `parkcleaning`.\r\nBoth modules should have the following structure:\r\n\r\n```\r\nmodule_test [FOLDER]:\r\n\r\n  &gt; park [MODULE]\r\n     &gt; park.props [PACKAGE]\r\n        &gt; park.props.Bench [CLASS]\r\n        &gt; park.props.Bin [CLASS]\r\n     &gt; park.employees [PACKAGE]\r\n        &gt; park.employees.Cleaner [CLASS]\r\n\r\n  &gt; services [MODULE]\r\n     &gt; services.parkcleaning [PACKAGE]\r\n        &gt; services.parkcleaning.CleaningService [CLASS]\r\n```\r\n\r\nI&#39;ve stored both my modules in a folder called `module_test`, which looks like this:\r\n[![enter image description here][2]][2]\r\n\r\n... with the `park` folder looking like this:\r\n[![enter image description here][3]][3]\r\n\r\nand its `module-info.java`:\r\n```\r\nmodule park {\r\n\texports park.employees;\r\n}\r\n```\r\n\r\n... and the `services` folder looking like this:\r\n[![enter image description here][4]][4]\r\n\r\nand its `module-info.java`:\r\n```\r\nmodule services {\r\n\trequires park;\r\n}\r\n```\r\n\r\nNow, each folder contains files with the classes specified in the above hierarchy, so there&#39;s no need to display them. As you can see, `services` module has a dependency on the `park` module because my `CleaningService` class requires a `park.employees.Cleaner` field. Again, I think I don&#39;t need to display the class because that&#39;s all what it does.\r\n\r\nI&#39;ve been trying the following steps:\r\n\r\n1. Compile the `.java` files from the `park` module (classes + the `module-info.java`) with the following command:\r\n\r\n```\r\njavac -p module_test park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java park/module-info.java\r\n```\r\n\r\nwhich makes my `park` folder look like this:\r\n[![enter image description here][5]][5]\r\n\r\n(also, there are `.class` files both inside `employees` and `props` folders now)\r\n\r\n2. Compile the `.java` files from the `services` module using:\r\n```\r\njavac -p module_test services/parkcleaning/CleaningService.java services/module-info.java\r\n```\r\n\r\nwhich gives me the following error:\r\n```\r\nservices\\module-info.java:2: error: module not found: park\r\n        requires park;\r\n                 ^\r\n1 error\r\n```\r\n\r\nI&#39;m pretty sure there&#39;s something wrong with the hierarchy of my folders, although I don&#39;t know what. I&#39;ve also properly defined the package names inside the `.java` class files, but I still don&#39;t know what could be wrong.\r\n\r\n  [1]: https://www.amazon.com/Oracle-Certified-Professional-Developer-Study/dp/1119864585\r\n  [2]: https://i.stack.imgur.com/FttJd.png\r\n  [3]: https://i.stack.imgur.com/HkWeF.png\r\n  [4]: https://i.stack.imgur.com/omRj8.png\r\n  [5]: https://i.stack.imgur.com/VatX8.png","title":"Module not found while trying to test java module dependencies","body":"<p>I'm currently reading <a href=\"https://rads.stackoverflow.com/amzn/click/com/1119864585\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Boyarksy &amp; Selikoff's OCP Study Guide for Java SE 17</a> and have finally reached the <strong>Modules</strong> chapter. I've been trying, based on their written examples, to create two &quot;test&quot; modules, in order to see how this actually works. Of course, I know there are rare cases (if any) where we need to create modules by hand, because build tools already do this for us, but still just wanted to check how it works, to also have some bit of &quot;low-level&quot; knowledge about modularity in Java.</p>\n<p>I plan to create two modules, one called <code>park</code> and the other one called <code>services</code>. <code>park</code> module should contain two packages, <code>props</code> and <code>employees</code>, while <code>service</code> module should only have one package called <code>parkcleaning</code>.\nBoth modules should have the following structure:</p>\n<pre><code>module_test [FOLDER]:\n\n  &gt; park [MODULE]\n     &gt; park.props [PACKAGE]\n        &gt; park.props.Bench [CLASS]\n        &gt; park.props.Bin [CLASS]\n     &gt; park.employees [PACKAGE]\n        &gt; park.employees.Cleaner [CLASS]\n\n  &gt; services [MODULE]\n     &gt; services.parkcleaning [PACKAGE]\n        &gt; services.parkcleaning.CleaningService [CLASS]\n</code></pre>\n<p>I've stored both my modules in a folder called <code>module_test</code>, which looks like this:\n<a href=\"https://i.stack.imgur.com/FttJd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FttJd.png\" alt=\"enter image description here\" /></a></p>\n<p>... with the <code>park</code> folder looking like this:\n<a href=\"https://i.stack.imgur.com/HkWeF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HkWeF.png\" alt=\"enter image description here\" /></a></p>\n<p>and its <code>module-info.java</code>:</p>\n<pre><code>module park {\n    exports park.employees;\n}\n</code></pre>\n<p>... and the <code>services</code> folder looking like this:\n<a href=\"https://i.stack.imgur.com/omRj8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/omRj8.png\" alt=\"enter image description here\" /></a></p>\n<p>and its <code>module-info.java</code>:</p>\n<pre><code>module services {\n    requires park;\n}\n</code></pre>\n<p>Now, each folder contains files with the classes specified in the above hierarchy, so there's no need to display them. As you can see, <code>services</code> module has a dependency on the <code>park</code> module because my <code>CleaningService</code> class requires a <code>park.employees.Cleaner</code> field. Again, I think I don't need to display the class because that's all what it does.</p>\n<p>I've been trying the following steps:</p>\n<ol>\n<li>Compile the <code>.java</code> files from the <code>park</code> module (classes + the <code>module-info.java</code>) with the following command:</li>\n</ol>\n<pre><code>javac -p module_test park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java park/module-info.java\n</code></pre>\n<p>which makes my <code>park</code> folder look like this:\n<a href=\"https://i.stack.imgur.com/VatX8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VatX8.png\" alt=\"enter image description here\" /></a></p>\n<p>(also, there are <code>.class</code> files both inside <code>employees</code> and <code>props</code> folders now)</p>\n<ol start=\"2\">\n<li>Compile the <code>.java</code> files from the <code>services</code> module using:</li>\n</ol>\n<pre><code>javac -p module_test services/parkcleaning/CleaningService.java services/module-info.java\n</code></pre>\n<p>which gives me the following error:</p>\n<pre><code>services\\module-info.java:2: error: module not found: park\n        requires park;\n                 ^\n1 error\n</code></pre>\n<p>I'm pretty sure there's something wrong with the hierarchy of my folders, although I don't know what. I've also properly defined the package names inside the <code>.java</code> class files, but I still don't know what could be wrong.</p>\n"},{"tags":["python","java","go"],"comments":[{"owner":{"account_id":230492,"reputation":30459,"user_id":494134,"accept_rate":66,"display_name":"John Gordon"},"score":1,"creation_date":1667433320,"post_id":74296791,"comment_id":131168964,"body_markdown":"Python itself doesn&#39;t care.  Buffering is controlled by the output destination.  Direct terminal output is line-buffered.  Pipes have much larger buffers, a minimum of 8Kb and often more.","body":"Python itself doesn&#39;t care.  Buffering is controlled by the output destination.  Direct terminal output is line-buffered.  Pipes have much larger buffers, a minimum of 8Kb and often more."},{"owner":{"account_id":26617743,"reputation":1081,"user_id":20236884,"display_name":"craigb"},"score":1,"creation_date":1667434079,"post_id":74296791,"comment_id":131169067,"body_markdown":"Adding to @John Gordon&#39;s point, this isn&#39;t related to `asyncio` - you&#39;ll get the same behavior with a regular program that does, eg, `print(&quot;hello&quot;); time.sleep(10)`.","body":"Adding to @John Gordon&#39;s point, this isn&#39;t related to <code>asyncio</code> - you&#39;ll get the same behavior with a regular program that does, eg, <code>print(&quot;hello&quot;); time.sleep(10)</code>."},{"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667434147,"post_id":74296791,"comment_id":131169074,"body_markdown":"I just realized that. I guess my question is then: why does **Python** do this? Are other languages flushing the buffer implicitly when I print?","body":"I just realized that. I guess my question is then: why does <b>Python</b> do this? Are other languages flushing the buffer implicitly when I print?"},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1667434565,"post_id":74296791,"comment_id":131169126,"body_markdown":"Did you try any other languages? Most of them should behave the same.","body":"Did you try any other languages? Most of them should behave the same."},{"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667434812,"post_id":74296791,"comment_id":131169154,"body_markdown":"I updated the question. Golang, Java, and C all print pretty much immediately, regardless of whether or not `stdout` is attached to a terminal.","body":"I updated the question. Golang, Java, and C all print pretty much immediately, regardless of whether or not <code>stdout</code> is attached to a terminal."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667434823,"post_id":74296791,"comment_id":131169157,"body_markdown":"See [answer](https://stackoverflow.com/a/17615727/) if you simply want to force Python to not buffer.  Also, a trivial C program that has a bunch of `printf` with using strings without `\\n`  with `sleep` in between them will demonstrate the need to call `flush`, so your assertion that C doesn&#39;t print right away is proven false.","body":"See <a href=\"https://stackoverflow.com/a/17615727/\">answer</a> if you simply want to force Python to not buffer.  Also, a trivial C program that has a bunch of <code>printf</code> with using strings without <code>\\n</code>  with <code>sleep</code> in between them will demonstrate the need to call <code>flush</code>, so your assertion that C doesn&#39;t print right away is proven false."},{"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667435140,"post_id":74296791,"comment_id":131169203,"body_markdown":"I never said that C doesn&#39;t print right away. I said that C *does* print right away, regardless of whether or not `stdout` is attached to a TTY. All output in all programs are printing newlines, so your point about lack of `\\n` is irrelevant.","body":"I never said that C doesn&#39;t print right away. I said that C <i>does</i> print right away, regardless of whether or not <code>stdout</code> is attached to a TTY. All output in all programs are printing newlines, so your point about lack of <code>\\n</code> is irrelevant."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667435188,"post_id":74296791,"comment_id":131169214,"body_markdown":"So does Python. See [this thread](https://stackoverflow.com/questions/6290117/printf-flush-problem) to clear up your misconceptions.","body":"So does Python. See <a href=\"https://stackoverflow.com/questions/6290117/printf-flush-problem\">this thread</a> to clear up your misconceptions."},{"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":1,"creation_date":1667435222,"post_id":74296791,"comment_id":131169215,"body_markdown":"As I said, Python does *not* print right away if `stdout` is not attached to a TTY. Please re-read my question to clear up your misconceptions.","body":"As I said, Python does <i>not</i> print right away if <code>stdout</code> is not attached to a TTY. Please re-read my question to clear up your misconceptions."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667435634,"post_id":74296791,"comment_id":131169270,"body_markdown":"The other answer I linked earlier showed that you can change that behavior, Try `python -u sync_test.py | cat`. Also [this trivial C program](https://pastebin.com/raw/vwdaRtuy) will show that there is always buffering going on even for `stdout`, and seeing both dots only showing up after a second demonstrates that there is at least line-buffering going on for C.","body":"The other answer I linked earlier showed that you can change that behavior, Try <code>python -u sync_test.py | cat</code>. Also <a href=\"https://pastebin.com/raw/vwdaRtuy\" rel=\"nofollow noreferrer\">this trivial C program</a> will show that there is always buffering going on even for <code>stdout</code>, and seeing both dots only showing up after a second demonstrates that there is at least line-buffering going on for C."},{"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667435811,"post_id":74296791,"comment_id":131169297,"body_markdown":"Please refrain from commenting unless you have read my question and are going to stay on topic. I already understood how to fix it. I am asking why does Python do this?","body":"Please refrain from commenting unless you have read my question and are going to stay on topic. I already understood how to fix it. I am asking why does Python do this?"},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667438014,"post_id":74296791,"comment_id":131169564,"body_markdown":"Well, your edits with the new code examples made it more than amply clear that it is now a different question so it&#39;s now reopened.  Though honestly asking &quot;why&quot; a language does this usually gets nowhere unless there are specific design documents that can be referenced (which you might be able to find from their tracker/past discussions, but often times this is buried behind years or decades of archives).  That said, you have not addressed the usage of `-u` flag with Python.","body":"Well, your edits with the new code examples made it more than amply clear that it is now a different question so it&#39;s now reopened.  Though honestly asking &quot;why&quot; a language does this usually gets nowhere unless there are specific design documents that can be referenced (which you might be able to find from their tracker/past discussions, but often times this is buried behind years or decades of archives).  That said, you have not addressed the usage of <code>-u</code> flag with Python."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667438585,"post_id":74296791,"comment_id":131169641,"body_markdown":"That said, for Java, you used [`System.out`](https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out) which is a [PrintStream](https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html), which may have been configured to flush automatically.","body":"That said, for Java, you used <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out\" rel=\"nofollow noreferrer\"><code>System.out</code></a> which is a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">PrintStream</a>, which may have been configured to flush automatically."},{"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667439380,"post_id":74296791,"comment_id":131169755,"body_markdown":"As expected, using `python -u` causes output to be printed immediately. I already knew this, and it is functionally equivalent to adding `flush=True` to the `print` statements, so I don&#39;t need to address it in the question.","body":"As expected, using <code>python -u</code> causes output to be printed immediately. I already knew this, and it is functionally equivalent to adding <code>flush=True</code> to the <code>print</code> statements, so I don&#39;t need to address it in the question."},{"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667439815,"post_id":74296791,"comment_id":131169815,"body_markdown":"And the question was erroneously closed as it was anyway. You have a number of incorrect and off-topic statements, so please stop commenting unless you actually have something that is related to the question.","body":"And the question was erroneously closed as it was anyway. You have a number of incorrect and off-topic statements, so please stop commenting unless you actually have something that is related to the question."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667445820,"post_id":74296791,"comment_id":131170635,"body_markdown":"Apologies, as per the question/edits as worded, I failed to gather that you were asking for the difference between the buffering schemes in streams to TTY vs. something else, which ShadowRanger got and provided the answer for. That being said, the previous threads I&#39;ve linked _do_ demonstrate how outputs may be buffered (even in tty) - if you wanted the output to be dumped to stdout now you _must_ flush the stream, otherwise some form buffering may happen, which I lumped together (incorrectly from your perspective) as the goal, rather than addressing line-buffer vs block-buffer as you wanted.","body":"Apologies, as per the question/edits as worded, I failed to gather that you were asking for the difference between the buffering schemes in streams to TTY vs. something else, which ShadowRanger got and provided the answer for. That being said, the previous threads I&#39;ve linked <i>do</i> demonstrate how outputs may be buffered (even in tty) - if you wanted the output to be dumped to stdout now you <i>must</i> flush the stream, otherwise some form buffering may happen, which I lumped together (incorrectly from your perspective) as the goal, rather than addressing line-buffer vs block-buffer as you wanted."},{"owner":{"account_id":1825560,"reputation":115627,"user_id":5728991,"display_name":"Cerise Lim&#243;n"},"score":0,"creation_date":1667446298,"post_id":74296791,"comment_id":131170711,"body_markdown":"*Are Java and Go flushing the buffers implicitly*?  Go&#39;s os.Stdout is not buffered.","body":"<i>Are Java and Go flushing the buffers implicitly</i>?  Go&#39;s os.Stdout is not buffered."}],"answers":[{"tags":[],"owner":{"account_id":151071,"reputation":146111,"user_id":364696,"display_name":"ShadowRanger"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1667917071,"creation_date":1667439884,"answer_id":74297370,"question_id":74296791,"body_markdown":"The answer to &quot;Why does Python do this?&quot; is &quot;To be roughly consistent with the C standard&quot;, where, by default, being connected to a tty makes `stdout` line buffered, and block buffered otherwise. Back in the Python 2 days, `sys.stdout` (and the file objects returned by regular `open`, but not by `io.open`) was actually built on top of C&#39;s `stdio.h` calls, so this behavior was inherited from C directly; in Python 3, `stdio.h` was removed from the picture (Python 3 uses its own buffering wrappers for I/O, which when flushed, call the underlying OS I/O routines directly, with no C-style `FILE*`s involved at all), but they preserved the behavior to minimize compatibility issues for existing code.\r\n\r\nThe reason C (and some other languages) make it line-buffered when connected to a tty is to allow the user to see complete lines immediately. Otherwise it&#39;s block-buffered because it&#39;s assumed no one is reading the lines as they appear anyway, so reducing system calls (by buffering more before each bulk write system call) is beneficial.\r\n\r\nSystem calls aren&#39;t *that* expensive nowadays, so it&#39;s perfectly reasonable for a modern language to default to line buffering even when not connected to a tty; it&#39;ll run slower, but a few thousand cycles here and there isn&#39;t that much in the grand scheme of things. Go and Java aren&#39;t *wrong* to behave the way they do, and Python and C aren&#39;t *wrong* to go the other way. The behavior is consistent, and it works well enough for common cases, and it&#39;s trivial to add flushes (or otherwise mess with the default buffering, e.g. with the `-u` command line switch for Python, or the `setvbuf` function in C), and changing it might change the behavior of existing code, so there&#39;s no strong incentive to go back and alter the default behavior.","title":"Why do I need to use `flush=True` if printing when stdout isn&#39;t a TTY in Python but not in Java or Go?","body":"<p>The answer to &quot;Why does Python do this?&quot; is &quot;To be roughly consistent with the C standard&quot;, where, by default, being connected to a tty makes <code>stdout</code> line buffered, and block buffered otherwise. Back in the Python 2 days, <code>sys.stdout</code> (and the file objects returned by regular <code>open</code>, but not by <code>io.open</code>) was actually built on top of C's <code>stdio.h</code> calls, so this behavior was inherited from C directly; in Python 3, <code>stdio.h</code> was removed from the picture (Python 3 uses its own buffering wrappers for I/O, which when flushed, call the underlying OS I/O routines directly, with no C-style <code>FILE*</code>s involved at all), but they preserved the behavior to minimize compatibility issues for existing code.</p>\n<p>The reason C (and some other languages) make it line-buffered when connected to a tty is to allow the user to see complete lines immediately. Otherwise it's block-buffered because it's assumed no one is reading the lines as they appear anyway, so reducing system calls (by buffering more before each bulk write system call) is beneficial.</p>\n<p>System calls aren't <em>that</em> expensive nowadays, so it's perfectly reasonable for a modern language to default to line buffering even when not connected to a tty; it'll run slower, but a few thousand cycles here and there isn't that much in the grand scheme of things. Go and Java aren't <em>wrong</em> to behave the way they do, and Python and C aren't <em>wrong</em> to go the other way. The behavior is consistent, and it works well enough for common cases, and it's trivial to add flushes (or otherwise mess with the default buffering, e.g. with the <code>-u</code> command line switch for Python, or the <code>setvbuf</code> function in C), and changing it might change the behavior of existing code, so there's no strong incentive to go back and alter the default behavior.</p>\n"}],"owner":{"account_id":2145106,"reputation":2951,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74297370,"answer_count":1,"score":-2,"last_activity_date":1667917071,"creation_date":1667433040,"question_id":74296791,"body_markdown":"Given the following small program:\r\n\r\n```python\r\n#!/usr/bin/env python3\r\nimport time\r\n\r\nfor i in range(15):\r\n    print(f&#39;{i}: sleeping&#39;)\r\n    time.sleep(1)\r\n```\r\n\r\nWhen I run it with `stdout` attached to the terminal directly, I get the output pretty much immediately:\r\n\r\n```sh\r\n./sync_test.py\r\n```\r\n\r\nHowever, if I run my program with `stdout` attached to a pipe (which on the other end `cat` is listening and printing to the terminal), I don&#39;t get the output until the program ends:\r\n\r\n\r\n```sh\r\n./sync_test.py | cat\r\n```\r\n\r\nThe only way I can get the output to be printed before the program quits is if I add `flush=True` to all of my print statements.\r\n\r\nI tried this out in a few other languages (Go, Java, and C) and got mixed results. In Go and Java, the programs print immediately when `stdout` is not attached to a TTY. But with C, I experience the same behavior as I do with Python.\r\n\r\nThe Go program (test_go.go):\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t&quot;fmt&quot;\r\n\t&quot;time&quot;\r\n)\r\n\r\nfunc main() {\r\n\tfor i := 0; i &lt; 15; i++ {\r\n\t\tfmt.Printf(&quot;%d: sleeping\\n&quot;, i)\r\n\t\ttime.Sleep(1 * time.Second)\r\n\t}\r\n}\r\n```\r\n\r\nThe Java program (test_java.java):\r\n\r\n```java\r\npublic class test_java {\r\n    public static void main(String[] args) throws Exception{\r\n        for(int i=0; i&lt;15; i++){\r\n            System.out.println(i + &quot;: sleeping&quot;);\r\n            Thread.sleep(1000);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe C program (test_c.c):\r\n\r\n```c\r\n#include &lt;stdio.h&gt;\r\n#include &lt;unistd.h&gt;\r\nint main() {\r\n    for(int i=0; i &lt; 15; i ++) {\r\n        printf(&quot;Hello, World!\\n&quot;);\r\n        sleep(1);\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\n(all programs were run with ` | cat` at the end of the command)\r\n\r\nI understand that `stdout` is buffered. What is the explanation for the differences in behavior across languages? And whether `stdout` is connected to a TTY or not? Are Java and Go flushing the buffers implicitly whereas C and Python are not?\r\n","title":"Why do I need to use `flush=True` if printing when stdout isn&#39;t a TTY in Python but not in Java or Go?","body":"<p>Given the following small program:</p>\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python3\nimport time\n\nfor i in range(15):\n    print(f'{i}: sleeping')\n    time.sleep(1)\n</code></pre>\n<p>When I run it with <code>stdout</code> attached to the terminal directly, I get the output pretty much immediately:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./sync_test.py\n</code></pre>\n<p>However, if I run my program with <code>stdout</code> attached to a pipe (which on the other end <code>cat</code> is listening and printing to the terminal), I don't get the output until the program ends:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./sync_test.py | cat\n</code></pre>\n<p>The only way I can get the output to be printed before the program quits is if I add <code>flush=True</code> to all of my print statements.</p>\n<p>I tried this out in a few other languages (Go, Java, and C) and got mixed results. In Go and Java, the programs print immediately when <code>stdout</code> is not attached to a TTY. But with C, I experience the same behavior as I do with Python.</p>\n<p>The Go program (test_go.go):</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport (\n    &quot;fmt&quot;\n    &quot;time&quot;\n)\n\nfunc main() {\n    for i := 0; i &lt; 15; i++ {\n        fmt.Printf(&quot;%d: sleeping\\n&quot;, i)\n        time.Sleep(1 * time.Second)\n    }\n}\n</code></pre>\n<p>The Java program (test_java.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test_java {\n    public static void main(String[] args) throws Exception{\n        for(int i=0; i&lt;15; i++){\n            System.out.println(i + &quot;: sleeping&quot;);\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n<p>The C program (test_c.c):</p>\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\nint main() {\n    for(int i=0; i &lt; 15; i ++) {\n        printf(&quot;Hello, World!\\n&quot;);\n        sleep(1);\n    }\n    return 0;\n}\n</code></pre>\n<p>(all programs were run with <code> | cat</code> at the end of the command)</p>\n<p>I understand that <code>stdout</code> is buffered. What is the explanation for the differences in behavior across languages? And whether <code>stdout</code> is connected to a TTY or not? Are Java and Go flushing the buffers implicitly whereas C and Python are not?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":12091526,"reputation":156,"user_id":8837461,"display_name":"ahmed"},"score":0,"creation_date":1668750645,"post_id":74356280,"comment_id":131486887,"body_markdown":"if you got serial can you help me with this code","body":"if you got serial can you help me with this code"}],"answers":[{"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667916867,"creation_date":1667916867,"answer_id":74362216,"question_id":74356280,"body_markdown":"You can add more than devices by calling ADB shell getprop and reading any unique value.\r\n\r\nAlso you can find some changes maybe help you to find device serial or unique value.\r\n\r\n           when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\r\n            }\r\n\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\r\n            }\r\n\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\r\n            }\r\n\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.serialno&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.sno&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.cdma.esn&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;vendor.gsm.serial&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.un&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.uniqueno&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.wifimac&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.btmac&quot;) as String\r\n            }\r\n","title":"Android Management API - some android device does not provide serialNumber","body":"<p>You can add more than devices by calling ADB shell getprop and reading any unique value.</p>\n<p>Also you can find some changes maybe help you to find device serial or unique value.</p>\n<pre><code>       when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\n        }\n\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\n        }\n\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\n        }\n\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.serialno&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.sno&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.cdma.esn&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;vendor.gsm.serial&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.un&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.uniqueno&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.wifimac&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.btmac&quot;) as String\n        }\n</code></pre>\n"}],"owner":{"account_id":10358251,"reputation":31,"user_id":7639477,"display_name":"Suman Neupane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667916867,"creation_date":1667887254,"question_id":74356280,"body_markdown":"I am working with Android Management API to fetch device serialNumber.\r\n\r\nSome devices like Samsung A30, Samsung Active Tab 3, etc provides device serial number. But some devices like Redmi Pro 10 and SamsungSM-G781B do not provide the device serial number.\r\n\r\nI have provided this to the **management app policy**.\r\n\r\n```\r\n{\r\n    &quot;installType&quot;: &quot;REQUIRED_FOR_SETUP&quot;,\r\n    &quot;permissionGrants&quot;: {\r\n        &quot;policy&quot;: &quot;GRANT&quot;,\r\n        &quot;permission&quot;: &quot;android.permission.PACKAGE_USAGE_STATS&quot;\r\n    },\r\n    &quot;autoUpdateMode&quot;: &quot;AUTO_UPDATE_HIGH_PRIORITY&quot;,\r\n    &quot;defaultPermissionPolicy&quot;: &quot;GRANT&quot;,\r\n    &quot;packageName&quot;: &quot;com.example.management&quot;,\r\n    &quot;delegatedScopes&quot;: [\r\n        &quot;CERT_INSTALL&quot;\r\n    ]\r\n}\r\n```\r\n\r\nI have provided this to **AndroidManifest.xml**\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n&lt;uses-permission\r\n    android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot;\r\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n&lt;uses-permission\r\n    android:name=&quot;android.permission.READ_PHONE_STATE&quot;\r\n    tools:remove=&quot;android:maxSdkVersion&quot;/&gt;\r\n```\r\n\r\nHere is the code,\r\n\r\n```\r\n  fun getDeviceSerial(applicationContext: Context): String {\r\n\r\n            var serialNumber: String = &quot;&quot;\r\n\r\n            try {\r\n                val c = Class.forName(&quot;android.os.SystemProperties&quot;)\r\n                val get = c.getMethod(&quot;get&quot;, String::class.java)\r\n\r\n                serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\r\n                }\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\r\n                }\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\r\n                }\r\n\r\n                @Suppress(&quot;DEPRECATION&quot;)\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = Build.SERIAL\r\n                }\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = &quot;&quot;\r\n                }\r\n\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Toast.makeText(applicationContext, e.message, Toast.LENGTH_LONG).show()\r\n                serialNumber = &quot;&quot;\r\n            }\r\n\r\n            if (serialNumber == &quot;unknown&quot;) {\r\n                try {\r\n                    val c = Class.forName(&quot;android.os.SystemProperties&quot;)\r\n                    val get = c.getMethod(\r\n                        &quot;get&quot;,\r\n                        String::class.java,\r\n                        String::class.java\r\n                    )\r\n                    serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;, &quot;unknown&quot;) as String\r\n                } catch (ignored: Exception) {\r\n                    Toast.makeText(\r\n                        applicationContext,\r\n                        &quot;ignored ${ignored.message}&quot;,\r\n                        Toast.LENGTH_LONG\r\n                    )\r\n                        .show()\r\n                }\r\n            }\r\n            try {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O &amp;&amp; serialNumber == &quot;unknown&quot;) {\r\n                    if (ActivityCompat.checkSelfPermission(\r\n                            applicationContext,\r\n                            Manifest.permission.READ_PHONE_STATE\r\n                        ) == PackageManager.PERMISSION_GRANTED\r\n                    ) {\r\n                        serialNumber = Build.getSerial()\r\n                    } \r\n                \r\n                } \r\n            } catch (e: Exception) {\r\n                 serialNumber = &quot;&quot;\r\n            }\r\n       \r\n\r\n            return serialNumber\r\n        }\r\n\r\n        fun openTelePhony(context: Context?) {\r\n            context?.let {\r\n                var a = &quot;&quot;\r\n                try {\r\n                    //check permission\r\n                    if (ContextCompat.checkSelfPermission(\r\n                            context,\r\n                            Manifest.permission.CALL_PHONE\r\n                        ) == PackageManager.PERMISSION_GRANTED\r\n                    ) {\r\n                        a = getDeviceSerial(context)\r\n                   \r\n                    } else {\r\n                        a = Build.SERIAL\r\n                       \r\n                    }\r\n                    System.out.print(a)\r\n                } catch (e: Exception) {\r\n                    System.out.print()\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nI tryed above code to get device serial no from android management api.\r\n\r\n","title":"Android Management API - some android device does not provide serialNumber","body":"<p>I am working with Android Management API to fetch device serialNumber.</p>\n<p>Some devices like Samsung A30, Samsung Active Tab 3, etc provides device serial number. But some devices like Redmi Pro 10 and SamsungSM-G781B do not provide the device serial number.</p>\n<p>I have provided this to the <strong>management app policy</strong>.</p>\n<pre><code>{\n    &quot;installType&quot;: &quot;REQUIRED_FOR_SETUP&quot;,\n    &quot;permissionGrants&quot;: {\n        &quot;policy&quot;: &quot;GRANT&quot;,\n        &quot;permission&quot;: &quot;android.permission.PACKAGE_USAGE_STATS&quot;\n    },\n    &quot;autoUpdateMode&quot;: &quot;AUTO_UPDATE_HIGH_PRIORITY&quot;,\n    &quot;defaultPermissionPolicy&quot;: &quot;GRANT&quot;,\n    &quot;packageName&quot;: &quot;com.example.management&quot;,\n    &quot;delegatedScopes&quot;: [\n        &quot;CERT_INSTALL&quot;\n    ]\n}\n</code></pre>\n<p>I have provided this to <strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot;\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.READ_PHONE_STATE&quot;\n    tools:remove=&quot;android:maxSdkVersion&quot;/&gt;\n</code></pre>\n<p>Here is the code,</p>\n<pre><code>  fun getDeviceSerial(applicationContext: Context): String {\n\n            var serialNumber: String = &quot;&quot;\n\n            try {\n                val c = Class.forName(&quot;android.os.SystemProperties&quot;)\n                val get = c.getMethod(&quot;get&quot;, String::class.java)\n\n                serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\n                }\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\n                }\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\n                }\n\n                @Suppress(&quot;DEPRECATION&quot;)\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = Build.SERIAL\n                }\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = &quot;&quot;\n                }\n\n            } catch (e: Exception) {\n                e.printStackTrace()\n                Toast.makeText(applicationContext, e.message, Toast.LENGTH_LONG).show()\n                serialNumber = &quot;&quot;\n            }\n\n            if (serialNumber == &quot;unknown&quot;) {\n                try {\n                    val c = Class.forName(&quot;android.os.SystemProperties&quot;)\n                    val get = c.getMethod(\n                        &quot;get&quot;,\n                        String::class.java,\n                        String::class.java\n                    )\n                    serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;, &quot;unknown&quot;) as String\n                } catch (ignored: Exception) {\n                    Toast.makeText(\n                        applicationContext,\n                        &quot;ignored ${ignored.message}&quot;,\n                        Toast.LENGTH_LONG\n                    )\n                        .show()\n                }\n            }\n            try {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O &amp;&amp; serialNumber == &quot;unknown&quot;) {\n                    if (ActivityCompat.checkSelfPermission(\n                            applicationContext,\n                            Manifest.permission.READ_PHONE_STATE\n                        ) == PackageManager.PERMISSION_GRANTED\n                    ) {\n                        serialNumber = Build.getSerial()\n                    } \n                \n                } \n            } catch (e: Exception) {\n                 serialNumber = &quot;&quot;\n            }\n       \n\n            return serialNumber\n        }\n\n        fun openTelePhony(context: Context?) {\n            context?.let {\n                var a = &quot;&quot;\n                try {\n                    //check permission\n                    if (ContextCompat.checkSelfPermission(\n                            context,\n                            Manifest.permission.CALL_PHONE\n                        ) == PackageManager.PERMISSION_GRANTED\n                    ) {\n                        a = getDeviceSerial(context)\n                   \n                    } else {\n                        a = Build.SERIAL\n                       \n                    }\n                    System.out.print(a)\n                } catch (e: Exception) {\n                    System.out.print()\n                }\n            }\n        }\n</code></pre>\n<p>I tryed above code to get device serial no from android management api.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667913572,"post_id":74361360,"comment_id":131277066,"body_markdown":"Try `Image img = new Image(selectedFile.toURL());` It seems to expect a URL","body":"Try <code>Image img = new Image(selectedFile.toURL());</code> It seems to expect a URL"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667913653,"post_id":74361360,"comment_id":131277102,"body_markdown":"`java.net.MalformedURLException: unknown protocol: c` - URLs for (local) file operations start with `file://`","body":"<code>java.net.MalformedURLException: unknown protocol: c</code> - URLs for (local) file operations start with <code>file:&#47;&#47;</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667916394,"post_id":74361360,"comment_id":131278290,"body_markdown":"@g00se It expects a String representation of a URL (see [docs](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String))). Also note [`File.toURL()` is deprecated](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/File.html#toURL()). Use `selectedFile.toURI().toURL().toExternalForm()`.","body":"@g00se It expects a String representation of a URL (see <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">docs</a>). Also note <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/File.html#toURL()\" rel=\"nofollow noreferrer\"><code>File.toURL()</code> is deprecated</a>. Use <code>selectedFile.toURI().toURL().toExternalForm()</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667916923,"post_id":74361360,"comment_id":131278489,"body_markdown":"@James_D  That&#39;s really lame. Thanks","body":"@James_D  That&#39;s really lame. Thanks"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667917049,"post_id":74361360,"comment_id":131278532,"body_markdown":"@g00se I agree. If it wants a URL, I don&#39;t know why it didn&#39;t make the parameter type `URL`, as in other parts of the API.","body":"@g00se I agree. If it wants a URL, I don&#39;t know why it didn&#39;t make the parameter type <code>URL</code>, as in other parts of the API."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667935656,"post_id":74361360,"comment_id":131285706,"body_markdown":"Unrelated, but JavaFX has a file chooser, you should use that instead of Swing.","body":"Unrelated, but JavaFX has a file chooser, you should use that instead of Swing."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667916658,"creation_date":1667916658,"answer_id":74362163,"question_id":74361360,"body_markdown":"The [`Image` constructor](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)) expects a string representation of a URL. To get a URL for a `File`, use `selectedFile.toURI().toURL()`. To convert to a string representation in a robust way, call `toExternalForm()` on the `URL`. So you need\r\n\r\n    Image img = new Image(selectedFile.toURI().toURL().toExternalForm());\r\n\r\n(You can almost certainly rely on `selectedFile.toURI().toString()`; the code above just feels marginally more robust.)","title":"Invalid URL: unknown protocol: c when uploading a image to imageview javafx","body":"<p>The <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Image</code> constructor</a> expects a string representation of a URL. To get a URL for a <code>File</code>, use <code>selectedFile.toURI().toURL()</code>. To convert to a string representation in a robust way, call <code>toExternalForm()</code> on the <code>URL</code>. So you need</p>\n<pre><code>Image img = new Image(selectedFile.toURI().toURL().toExternalForm());\n</code></pre>\n<p>(You can almost certainly rely on <code>selectedFile.toURI().toString()</code>; the code above just feels marginally more robust.)</p>\n"}],"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74362163,"answer_count":1,"score":1,"last_activity_date":1667916658,"creation_date":1667913267,"question_id":74361360,"body_markdown":"I am trying to upload an image to an image view on java fx, I am getting the following error(runtime) when I selected an image.\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Invalid URL: unknown\r\n&gt; protocol: c \tat javafx.scene.image.Image.validateUrl(Image.java:1121)\r\n&gt; \tat javafx.scene.image.Image.&lt;init&gt;(Image.java:620) \tat\r\n&gt; me.siyum.schola.controller.AddStudentFromController.uploadStImageOnAction(AddStudentFromController.java:28)\r\n&gt; \t... 41 more Caused by: java.net.MalformedURLException: unknown\r\n&gt; protocol: c\r\n\r\n\r\nCode I am trying :\r\n\r\n\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.shape.Circle;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n    import java.io.File;\r\n    \r\n    public class AddStudentFromController {\r\n        public Circle circleImage;\r\n        public ImageView imgSt;\r\n    \r\n        public void uploadStImageOnAction(MouseEvent mouseEvent) {\r\n            JFileChooser jFileChooser = new JFileChooser();\r\n            jFileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n            FileNameExtensionFilter fileNameExtensionFilter = new FileNameExtensionFilter(\r\n                    &quot;.IMAGE&quot;,&quot;jpg&quot;, &quot;gif&quot;, &quot;png&quot;);\r\n            jFileChooser.addChoosableFileFilter(fileNameExtensionFilter);\r\n            int result = jFileChooser.showSaveDialog(null);\r\n    \r\n            if(result == JFileChooser.APPROVE_OPTION){\r\n                File selectedFile = jFileChooser.getSelectedFile();\r\n                String absolutePath = selectedFile.getAbsolutePath();\r\n                Image img = new Image(absolutePath);\r\n                imgSt.setImage(img);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Invalid URL: unknown protocol: c when uploading a image to imageview javafx","body":"<p>I am trying to upload an image to an image view on java fx, I am getting the following error(runtime) when I selected an image.</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Invalid URL: unknown\nprotocol: c   at javafx.scene.image.Image.validateUrl(Image.java:1121)\nat javafx.scene.image.Image.(Image.java:620)  at\nme.siyum.schola.controller.AddStudentFromController.uploadStImageOnAction(AddStudentFromController.java:28)\n... 41 more Caused by: java.net.MalformedURLException: unknown\nprotocol: c</p>\n</blockquote>\n<p>Code I am trying :</p>\n<pre><code>import javafx.scene.image.Image;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.shape.Circle;\n\nimport javax.swing.*;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport java.io.File;\n\npublic class AddStudentFromController {\n    public Circle circleImage;\n    public ImageView imgSt;\n\n    public void uploadStImageOnAction(MouseEvent mouseEvent) {\n        JFileChooser jFileChooser = new JFileChooser();\n        jFileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n        FileNameExtensionFilter fileNameExtensionFilter = new FileNameExtensionFilter(\n                &quot;.IMAGE&quot;,&quot;jpg&quot;, &quot;gif&quot;, &quot;png&quot;);\n        jFileChooser.addChoosableFileFilter(fileNameExtensionFilter);\n        int result = jFileChooser.showSaveDialog(null);\n\n        if(result == JFileChooser.APPROVE_OPTION){\n            File selectedFile = jFileChooser.getSelectedFile();\n            String absolutePath = selectedFile.getAbsolutePath();\n            Image img = new Image(absolutePath);\n            imgSt.setImage(img);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","html","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18448391,"reputation":36,"user_id":13439109,"display_name":"Krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667916574,"creation_date":1667916574,"answer_id":74362140,"question_id":74341889,"body_markdown":"I think you can use WebSocket to establish connections between the frontend and the backend so that you can push notification to frontend and reflect the changes. This too has its own complexity like managing all the connections. This is only recommended if you really need real time reflections or else what you are doing is fine.","title":"Am I able to trigger an event from Spring Boot that can use JavaScript or something else to update an image in HTML?","body":"<p>I think you can use WebSocket to establish connections between the frontend and the backend so that you can push notification to frontend and reflect the changes. This too has its own complexity like managing all the connections. This is only recommended if you really need real time reflections or else what you are doing is fine.</p>\n"}],"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74362140,"answer_count":1,"score":0,"last_activity_date":1667916574,"creation_date":1667794256,"question_id":74341889,"body_markdown":"I need to be able to update an image on a website thats in HTML while using Spring Boot as a backend. Right now I&#39;m using JavaScript to update the image after a set amount of time but it&#39;s not in time with when the image is updated in my database making it skip some of them. It also uses a lot of requests to the server and I don&#39;t know if that is good or bad. Is there a way to be able to send an event from java to javascript or use a javascript function in java to update the image. I&#39;ve tried looking it up before but I haven&#39;t found anything that has done exactly what I needed it to do. Some of the stuff have found doesn&#39;t work in my project either.\r\n\r\nI&#39;ve tried using eval engine in java to use a javascript function in java but I never got it to work. I made a loop in javascript to request an api url to retrieve the image from the databse but it was off time. That&#39;s all I&#39;ve been able to try and nothing else has been close to what I needed to happen.","title":"Am I able to trigger an event from Spring Boot that can use JavaScript or something else to update an image in HTML?","body":"<p>I need to be able to update an image on a website thats in HTML while using Spring Boot as a backend. Right now I'm using JavaScript to update the image after a set amount of time but it's not in time with when the image is updated in my database making it skip some of them. It also uses a lot of requests to the server and I don't know if that is good or bad. Is there a way to be able to send an event from java to javascript or use a javascript function in java to update the image. I've tried looking it up before but I haven't found anything that has done exactly what I needed it to do. Some of the stuff have found doesn't work in my project either.</p>\n<p>I've tried using eval engine in java to use a javascript function in java but I never got it to work. I made a loop in javascript to request an api url to retrieve the image from the databse but it was off time. That's all I've been able to try and nothing else has been close to what I needed to happen.</p>\n"},{"tags":["java","linux","netty","x86-64","epoll"],"answers":[{"tags":[],"owner":{"account_id":3229192,"reputation":684,"user_id":3931900,"display_name":"Abolfazl Hashemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667915808,"creation_date":1667915808,"answer_id":74361940,"question_id":33360154,"body_markdown":"You can find it in following link:\r\n\r\n https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.0.32.Final/","title":"How to build netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar?","body":"<p>You can find it in following link:</p>\n<p><a href=\"https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.0.32.Final/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.0.32.Final/</a></p>\n"}],"owner":{"account_id":6849433,"reputation":103,"user_id":5267016,"display_name":"Dev G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2283,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1667915808,"creation_date":1445921333,"question_id":33360154,"body_markdown":"I am using native epoll transport in netty and was able to download netty-transport-native-epoll-4.0.32.jar from the repository.\r\n\r\nHowever I also need netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar but not unable to find it anywhere. Please let me know where to download this jar, or how to build it.","title":"How to build netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar?","body":"<p>I am using native epoll transport in netty and was able to download netty-transport-native-epoll-4.0.32.jar from the repository.</p>\n\n<p>However I also need netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar but not unable to find it anywhere. Please let me know where to download this jar, or how to build it.</p>\n"},{"tags":["java","selenium","selenium-webdriver","appium-android"],"answers":[{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915782,"creation_date":1667915782,"answer_id":74361933,"question_id":74360021,"body_markdown":"I&#39;ve ran into a similar issue. The problem is the following - from the testng official website:\r\n&quot;@BeforeClass: The annotated method will be run before the first test method in the current class is invoked.&quot;\r\n\r\nWhich means that basically your class &quot;TC_LoginToYEO&quot; is initialized before the @BeforeClass method is executed; and since the driver has not been created at that moment, and is passed on as null.\r\n\r\nA simple workaround would be to do the following:\r\n\r\n```\r\npublic class TC_LoginToYEO extends Base {   \r\n    LaunchScreen launch;\r\n    YEOLockScreen lock;\r\n    SettingsScreen settings;\r\n    MessagesScreen ms;\r\n\r\n    @BeforeMethod\r\n    public void classLevelBeforeMethod(){\r\n\r\n    launch = new LaunchScreen(getDriver());\r\n    lock = new YEOLockScreen(getDriver());\r\n    settings = new SettingsScreen(getDriver());\r\n    ms = new MessagesScreen(getDriver());\r\n\r\n    }\r\n\r\n\r\n    @Test(priority = 0)\r\n    public void login_To_YEO() {\r\n        launch.select_Country_Code(&quot;India&quot;);\r\n        launch.login(&quot;891&quot;, &quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHope this helps!!\r\n","title":"NullPointerException is displayed while starting a static driver using@BeforeClass and getting the driver","body":"<p>I've ran into a similar issue. The problem is the following - from the testng official website:\n&quot;@BeforeClass: The annotated method will be run before the first test method in the current class is invoked.&quot;</p>\n<p>Which means that basically your class &quot;TC_LoginToYEO&quot; is initialized before the @BeforeClass method is executed; and since the driver has not been created at that moment, and is passed on as null.</p>\n<p>A simple workaround would be to do the following:</p>\n<pre><code>public class TC_LoginToYEO extends Base {   \n    LaunchScreen launch;\n    YEOLockScreen lock;\n    SettingsScreen settings;\n    MessagesScreen ms;\n\n    @BeforeMethod\n    public void classLevelBeforeMethod(){\n\n    launch = new LaunchScreen(getDriver());\n    lock = new YEOLockScreen(getDriver());\n    settings = new SettingsScreen(getDriver());\n    ms = new MessagesScreen(getDriver());\n\n    }\n\n\n    @Test(priority = 0)\n    public void login_To_YEO() {\n        launch.select_Country_Code(&quot;India&quot;);\n        launch.login(&quot;891&quot;, &quot;3&quot;);\n    }\n}\n</code></pre>\n<p>Hope this helps!!</p>\n"}],"owner":{"account_id":13914298,"reputation":1,"user_id":10046585,"display_name":"shiva durga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667915782,"creation_date":1667907086,"question_id":74360021,"body_markdown":"I am starting the appium server and setting the driver by @BeforeClass and handling driver in another method and calling it from the test cases\r\n\r\n```\r\npackage setup;\r\n\r\nimport java.net.URL;\r\nimport java.time.Duration;\r\n\r\nimport org.apache.commons.lang3.RandomStringUtils;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport net.bytebuddy.utility.RandomString;\r\n\r\npublic class Base {\r\n\tString deviceIp = &quot;192.148.31.156&quot;;\r\n\r\n\tRuntime runtime = Runtime.getRuntime();\r\n\tpublic static AndroidDriver driverA;\r\n\tstatic URL appiumURL;\r\n\tstatic DesiredCapabilities capabilities = new DesiredCapabilities();\r\n\r\n\t@BeforeSuite\r\n\tpublic void startServer() {\r\n\t\ttry {\r\n\t\t\truntime.exec(&quot;cmd.exe /c start cmd.exe /k adb connect &quot; + deviceIp + &quot;&quot;);\r\n\t\t\truntime.exec(&quot;cmd.exe /c start cmd.exe /k appium -a 127.0.0.1 -p 4723&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t@BeforeClass\r\n\tpublic static AndroidDriver setDriver() {\r\n\r\n\t\tcapabilities.setCapability(&quot;automationName&quot;, &quot;Appium&quot;);\r\n\t\tcapabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tcapabilities.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\r\n\t\tcapabilities.setCapability(&quot;deviceName&quot;, &quot;192&quot;);\r\n\t\tcapabilities.setCapability(&quot;unlockKey&quot;, &quot;934448&quot;);\r\n\t\tcapabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Users\\\\DELL\\\\Desktop\\\\APK files\\\\YEO App Android\\\\app.apk&quot;);\r\n\t\tcapabilities.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tappiumURL = new URL(&quot;http://127.0.0.1:4733/wd/hub&quot;);\r\n\t\t\tdriverA = new AndroidDriver(appiumURL, capabilities);\r\n\t\t\t// driverA.manage().timeouts().implicitlyWait(10, nulls);\r\n\t\t\tdriverA.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn driverA;\r\n\t}\r\n\r\n\t@AfterSuite\r\n\tpublic void stopServer() {\r\n\t\ttry {\r\n\t\t\truntime.exec(&quot;taskkill /F /IM node.exe&quot;);\r\n\t\t\truntime.exec(&quot;taskkill /F /IM cmd.exe&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static AndroidDriver getDriver() {\r\n\t\t// this.setDriver();\r\n\t\treturn driverA;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd Calling the driver as below\r\n\r\n```\r\npackage testcases;\r\nimport org.testng.annotations.Test;\r\n\r\nimport Resources.RuntimeHandler;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport pageFactories.LaunchScreen;\r\nimport pageFactories.MessagesScreen;\r\nimport pageFactories.SettingsScreen;\r\nimport pageFactories.YEOLockScreen;\r\nimport setup.Base;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.BeforeTest;\r\nimport io.appium.java_client.android.AndroidDriver;\r\n\r\npublic class TC_LoginToYEO extends Base {\t\r\n\tLaunchScreen launch = new LaunchScreen(getDriver());\r\n\tYEOLockScreen lock = new YEOLockScreen(getDriver());\r\n\tSettingsScreen settings = new SettingsScreen(getDriver());\r\n\tMessagesScreen ms = new MessagesScreen(getDriver());\r\n\r\n\t@Test(priority = 0)\r\n\tpublic void login_To_YEO() {\r\n\t\tlaunch.select_Country_Code(&quot;India&quot;);\r\n\t\tlaunch.login(&quot;891&quot;, &quot;3&quot;);\r\n\t}\r\n}\r\n```\r\n\r\ni&#39;m expecting the driver to continue but its failing, Please refer the errors and trace\r\n\r\n\\`\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n\tat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\r\n\tat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy12.click(Unknown Source)\r\n\tat pageFactories.LaunchScreen.nav_To_LoginPage(LaunchScreen.java:62)\r\n\tat pageFactories.LaunchScreen.select_Country_Code(LaunchScreen.java:67)\r\n\tat testcases.TC_LoginToYEO.login_To_YEO(TC_LoginToYEO.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```\r\n\r\nAnybody provides a solution to this is really appreciated","title":"NullPointerException is displayed while starting a static driver using@BeforeClass and getting the driver","body":"<p>I am starting the appium server and setting the driver by @BeforeClass and handling driver in another method and calling it from the test cases</p>\n<pre><code>package setup;\n\nimport java.net.URL;\nimport java.time.Duration;\n\nimport org.apache.commons.lang3.RandomStringUtils;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Test;\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport net.bytebuddy.utility.RandomString;\n\npublic class Base {\n    String deviceIp = &quot;192.148.31.156&quot;;\n\n    Runtime runtime = Runtime.getRuntime();\n    public static AndroidDriver driverA;\n    static URL appiumURL;\n    static DesiredCapabilities capabilities = new DesiredCapabilities();\n\n    @BeforeSuite\n    public void startServer() {\n        try {\n            runtime.exec(&quot;cmd.exe /c start cmd.exe /k adb connect &quot; + deviceIp + &quot;&quot;);\n            runtime.exec(&quot;cmd.exe /c start cmd.exe /k appium -a 127.0.0.1 -p 4723&quot;);\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @BeforeClass\n    public static AndroidDriver setDriver() {\n\n        capabilities.setCapability(&quot;automationName&quot;, &quot;Appium&quot;);\n        capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n        capabilities.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\n        capabilities.setCapability(&quot;deviceName&quot;, &quot;192&quot;);\n        capabilities.setCapability(&quot;unlockKey&quot;, &quot;934448&quot;);\n        capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Users\\\\DELL\\\\Desktop\\\\APK files\\\\YEO App Android\\\\app.apk&quot;);\n        capabilities.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\n\n        try {\n            appiumURL = new URL(&quot;http://127.0.0.1:4733/wd/hub&quot;);\n            driverA = new AndroidDriver(appiumURL, capabilities);\n            // driverA.manage().timeouts().implicitlyWait(10, nulls);\n            driverA.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n\n        return driverA;\n    }\n\n    @AfterSuite\n    public void stopServer() {\n        try {\n            runtime.exec(&quot;taskkill /F /IM node.exe&quot;);\n            runtime.exec(&quot;taskkill /F /IM cmd.exe&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static AndroidDriver getDriver() {\n        // this.setDriver();\n        return driverA;\n    }\n\n}\n</code></pre>\n<p>And Calling the driver as below</p>\n<pre><code>package testcases;\nimport org.testng.annotations.Test;\n\nimport Resources.RuntimeHandler;\n\nimport org.testng.annotations.Test;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport pageFactories.LaunchScreen;\nimport pageFactories.MessagesScreen;\nimport pageFactories.SettingsScreen;\nimport pageFactories.YEOLockScreen;\nimport setup.Base;\n\nimport org.openqa.selenium.WebDriver;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.BeforeTest;\nimport io.appium.java_client.android.AndroidDriver;\n\npublic class TC_LoginToYEO extends Base {   \n    LaunchScreen launch = new LaunchScreen(getDriver());\n    YEOLockScreen lock = new YEOLockScreen(getDriver());\n    SettingsScreen settings = new SettingsScreen(getDriver());\n    MessagesScreen ms = new MessagesScreen(getDriver());\n\n    @Test(priority = 0)\n    public void login_To_YEO() {\n        launch.select_Country_Code(&quot;India&quot;);\n        launch.login(&quot;891&quot;, &quot;3&quot;);\n    }\n}\n</code></pre>\n<p>i'm expecting the driver to continue but its failing, Please refer the errors and trace</p>\n<p>`</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n    at org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\n    at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\n    at jdk.proxy2/jdk.proxy2.$Proxy12.click(Unknown Source)\n    at pageFactories.LaunchScreen.nav_To_LoginPage(LaunchScreen.java:62)\n    at pageFactories.LaunchScreen.select_Country_Code(LaunchScreen.java:67)\n    at testcases.TC_LoginToYEO.login_To_YEO(TC_LoginToYEO.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n<p>Anybody provides a solution to this is really appreciated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667914678,"post_id":74361612,"comment_id":131277574,"body_markdown":"newStr is a new string each time, so it will only be `test.replace(letters[n], n);` where n = letters.length -1.","body":"newStr is a new string each time, so it will only be <code>test.replace(letters[n], n);</code> where n = letters.length -1."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667914786,"post_id":74361612,"comment_id":131277616,"body_markdown":"Also, you probably need to convert `i` to a number? Can you explain *why* your loop doesn&#39;t work? Maybe it is one of the two things I suggested.","body":"Also, you probably need to convert <code>i</code> to a number? Can you explain <i>why</i> your loop doesn&#39;t work? Maybe it is one of the two things I suggested."}],"answers":[{"tags":[],"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667915192,"creation_date":1667915192,"answer_id":74361789,"question_id":74361612,"body_markdown":"That is because you forget to use `newStr.replace`, every time loop will generate the last `test.replace` copy character\r\n\r\n\r\n```java\r\n        String test = &quot;FF432423FA112&quot;;\r\n\t\tString[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\r\n\t\tString newStr = test;\r\n\t\tfor (int i=0; i&lt;letters.length; i++) {\r\n\t\t\tnewStr = newStr.replace(letters[i], i + &quot;&quot;);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(newStr);\r\n\r\n```","title":"Multiple replace of literals by digits","body":"<p>That is because you forget to use <code>newStr.replace</code>, every time loop will generate the last <code>test.replace</code> copy character</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String test = &quot;FF432423FA112&quot;;\n        String[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\n        String newStr = test;\n        for (int i=0; i&lt;letters.length; i++) {\n            newStr = newStr.replace(letters[i], i + &quot;&quot;);\n        }\n\n        System.out.println(newStr);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915403,"creation_date":1667915403,"answer_id":74361829,"question_id":74361612,"body_markdown":"If given string is &quot;FF432423FA112&quot; and the expected output is &quot;5543242350112&quot; considering to replace only alphabets and retain number as is, below code is an example.\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String test = &quot;FF432423FA112&quot;;\r\n            String letters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            StringBuilder output = new StringBuilder();\r\n            int value = 0;\r\n            for (int i=0; i&lt;test.length(); i++) {\r\n                char c = test.charAt(i);\r\n                if(Character.isDigit(c)) {\r\n                    value = Character.getNumericValue(c);\r\n                } else {\r\n                    value = letters.indexOf(c);\r\n                }\r\n                output.append(value);\r\n            }\r\n            System.out.println(output);\r\n        }\r\n    }","title":"Multiple replace of literals by digits","body":"<p>If given string is &quot;FF432423FA112&quot; and the expected output is &quot;5543242350112&quot; considering to replace only alphabets and retain number as is, below code is an example.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String test = &quot;FF432423FA112&quot;;\n        String letters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        StringBuilder output = new StringBuilder();\n        int value = 0;\n        for (int i=0; i&lt;test.length(); i++) {\n            char c = test.charAt(i);\n            if(Character.isDigit(c)) {\n                value = Character.getNumericValue(c);\n            } else {\n                value = letters.indexOf(c);\n            }\n            output.append(value);\n        }\n        System.out.println(output);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user12497632"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74361789,"answer_count":2,"score":0,"last_activity_date":1667915403,"creation_date":1667914408,"question_id":74361612,"body_markdown":"I need to replace multiple literals by digits in a string like &quot;FF432423FA112&quot;. &quot;A&quot;=0, &quot;B&quot;=1 etc. I&#39;ve tried to do it in a loop like but it didn&#39;t work. Tried also with char array\r\n    \r\n    String test = &quot;FF432423FA112&quot;;\r\n    String[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\r\n        for (int i=0; i&lt;letters.length; i++) {\r\n            newStr = test.replace(letters[i],i);\r\n        }","title":"Multiple replace of literals by digits","body":"<p>I need to replace multiple literals by digits in a string like &quot;FF432423FA112&quot;. &quot;A&quot;=0, &quot;B&quot;=1 etc. I've tried to do it in a loop like but it didn't work. Tried also with char array</p>\n<pre><code>String test = &quot;FF432423FA112&quot;;\nString[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\n    for (int i=0; i&lt;letters.length; i++) {\n        newStr = test.replace(letters[i],i);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","scheduled-tasks","dst"],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667915139,"creation_date":1667915139,"question_id":74361775,"body_markdown":"I have problem with spring boot application at V2.2 with scheduled method.\r\n\r\n```java\r\n@Service\r\npublic class X {\r\n    @Scheduled(cron = &quot;59 59 2 25-31 10 ?&quot;)\r\n    public void changeTimeToStandardTime() {\r\n        System.out.println(LocalDateTime.now()+ &quot; CHANGE TO STANDARD TIME&quot;);\r\n        if (LocalDate.now().getDayOfWeek().equals(DayOfWeek.SUNDAY)) {\r\n            //do sth\r\n        }\r\n    }\r\n\r\n\r\n    @Scheduled(cron = &quot;*/20 * * * * *&quot;)\r\n    public void test() {\r\n        System.out.println(LocalDateTime.now()+&quot; RUN TEST EVERY 20 sec&quot;);\r\n\r\n    }\r\n}\r\n```\r\nWhen I start my application at 2:55 AM on the last Sunday in October, when there is a time change from 3:00AM to 2:00AM, then neither the `changeTimeToStandardTime()` method nor the `test()` method will write me anything in the console, so it won&#39;t get called.\r\nOn the other hand, when I run the application at 1:00AM or 3:00AM (already after the time change), then `test()` prints the text correctly every 20 sec.\r\n\r\nI also tried running the application at 1:00AM and changing the system time later to 2:58AM, but after jumping to 2:58AM, the `test()` method gets called once and stops writing out (hovwever it should every 20 sec)\r\n\r\nWhat could be the problem? \r\n\r\nI have `@Enablescheduling` added to the main application class.\r\n","title":"@Scheduler Spring Boot doesn&#39;t work on the hour of the daylight saving time (DST) change","body":"<p>I have problem with spring boot application at V2.2 with scheduled method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class X {\n    @Scheduled(cron = &quot;59 59 2 25-31 10 ?&quot;)\n    public void changeTimeToStandardTime() {\n        System.out.println(LocalDateTime.now()+ &quot; CHANGE TO STANDARD TIME&quot;);\n        if (LocalDate.now().getDayOfWeek().equals(DayOfWeek.SUNDAY)) {\n            //do sth\n        }\n    }\n\n\n    @Scheduled(cron = &quot;*/20 * * * * *&quot;)\n    public void test() {\n        System.out.println(LocalDateTime.now()+&quot; RUN TEST EVERY 20 sec&quot;);\n\n    }\n}\n</code></pre>\n<p>When I start my application at 2:55 AM on the last Sunday in October, when there is a time change from 3:00AM to 2:00AM, then neither the <code>changeTimeToStandardTime()</code> method nor the <code>test()</code> method will write me anything in the console, so it won't get called.\nOn the other hand, when I run the application at 1:00AM or 3:00AM (already after the time change), then <code>test()</code> prints the text correctly every 20 sec.</p>\n<p>I also tried running the application at 1:00AM and changing the system time later to 2:58AM, but after jumping to 2:58AM, the <code>test()</code> method gets called once and stops writing out (hovwever it should every 20 sec)</p>\n<p>What could be the problem?</p>\n<p>I have <code>@Enablescheduling</code> added to the main application class.</p>\n"},{"tags":["java","json","jackson","record","java-record"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1653650586,"post_id":72404561,"comment_id":127907835,"body_markdown":"Java records are fairly new, and as a result, the version of Jackson that you are using matters here. What version of Jackson are you using?","body":"Java records are fairly new, and as a result, the version of Jackson that you are using matters here. What version of Jackson are you using?"},{"owner":{"account_id":6374107,"reputation":534,"user_id":4945656,"accept_rate":50,"display_name":"leyren"},"score":0,"creation_date":1653651058,"post_id":72404561,"comment_id":127908000,"body_markdown":"I am using 2.13.3 @davidalayachew","body":"I am using 2.13.3 @davidalayachew"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1653695037,"post_id":72404561,"comment_id":127921233,"body_markdown":"Huh, forgive me, but it appears that I was mistaken. Apparently, that is not a feature currently capable in Jackson. Sorry to have misled you.","body":"Huh, forgive me, but it appears that I was mistaken. Apparently, that is not a feature currently capable in Jackson. Sorry to have misled you."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1653902405,"creation_date":1653867917,"answer_id":72428021,"question_id":72404561,"body_markdown":"Jackson does not support defining default values for nulls.\r\n&lt;br&gt;There is no annotation to set default value.\r\n&lt;br&gt;You can set default value only on java class level.\r\n&lt;br&gt;There is open [Jackson issue][1] for that functionality.\r\n\r\n**Solution** is to define only one constructor with properties initialization logic in case nulls. Record is immutable, fields filling performs only via constructor. Only in the constructor, you can define default values for record fields.\r\n```java\r\npublic record Foo(Integer x, Integer y, Integer z) {\r\n    public Foo(Integer x, Integer y, Integer z) {\r\n        this.x = x == null ? 1 : x;\r\n        this.y = y == null ? 2: y;\r\n        this.z = z == null ? 3: z;\r\n    }\r\n}\r\n```\r\nUnit test:\r\n```java\r\n    @Test\r\n    public void test() throws Exception {\r\n        int xDefault = 1;\r\n        int yDefault = 2;\r\n        int zDefault = 3;\r\n\r\n        String json = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22, \\&quot;z\\&quot;:33 }&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Foo foo = objectMapper.reader().readValue(json, Foo.class);\r\n\r\n        Assert.assertEquals(11, (int) foo.x());\r\n        Assert.assertEquals(22, (int) foo.y());\r\n        Assert.assertEquals(33, (int) foo.z());\r\n\r\n        String json2 = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22}&quot;;\r\n        Foo foo2 = objectMapper.reader().readValue(json2, Foo.class);\r\n\r\n        Assert.assertEquals(11, (int) foo2.x());\r\n        Assert.assertEquals(22, (int) foo2.y());\r\n        Assert.assertEquals(zDefault, (int) foo2.z());\r\n\r\n        String json3 = &quot;{ }&quot;;\r\n        Foo foo3 = objectMapper.reader().readValue(json3, Foo.class);\r\n\r\n        Assert.assertEquals(xDefault, (int) foo3.x());\r\n        Assert.assertEquals(yDefault, (int) foo3.y());\r\n        Assert.assertEquals(zDefault, (int) foo3.z());\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-future-ideas/issues/39","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>Jackson does not support defining default values for nulls.\n<br>There is no annotation to set default value.\n<br>You can set default value only on java class level.\n<br>There is open <a href=\"https://github.com/FasterXML/jackson-future-ideas/issues/39\" rel=\"noreferrer\">Jackson issue</a> for that functionality.</p>\n<p><strong>Solution</strong> is to define only one constructor with properties initialization logic in case nulls. Record is immutable, fields filling performs only via constructor. Only in the constructor, you can define default values for record fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(Integer x, Integer y, Integer z) {\n    public Foo(Integer x, Integer y, Integer z) {\n        this.x = x == null ? 1 : x;\n        this.y = y == null ? 2: y;\n        this.z = z == null ? 3: z;\n    }\n}\n</code></pre>\n<p>Unit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() throws Exception {\n        int xDefault = 1;\n        int yDefault = 2;\n        int zDefault = 3;\n\n        String json = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22, \\&quot;z\\&quot;:33 }&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        Foo foo = objectMapper.reader().readValue(json, Foo.class);\n\n        Assert.assertEquals(11, (int) foo.x());\n        Assert.assertEquals(22, (int) foo.y());\n        Assert.assertEquals(33, (int) foo.z());\n\n        String json2 = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22}&quot;;\n        Foo foo2 = objectMapper.reader().readValue(json2, Foo.class);\n\n        Assert.assertEquals(11, (int) foo2.x());\n        Assert.assertEquals(22, (int) foo2.y());\n        Assert.assertEquals(zDefault, (int) foo2.z());\n\n        String json3 = &quot;{ }&quot;;\n        Foo foo3 = objectMapper.reader().readValue(json3, Foo.class);\n\n        Assert.assertEquals(xDefault, (int) foo3.x());\n        Assert.assertEquals(yDefault, (int) foo3.y());\n        Assert.assertEquals(zDefault, (int) foo3.z());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"score":0,"creation_date":1667913977,"post_id":74078911,"comment_id":131277287,"body_markdown":"nice idea but didnt work for me","body":"nice idea but didnt work for me"}],"tags":[],"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665832380,"creation_date":1665832380,"answer_id":74078911,"question_id":72404561,"body_markdown":"You could override the record&#39;s getters to achieve some kind of default value logic:\r\n\r\n```java\r\npublic record Foo(String requiredValue, Integer optionalValue) {\r\n\r\n    @Override\r\n    public Integer optionalValue() {\r\n        return optionalValue == null ? 42 : optionalValue;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen you want to provide default values for only some of the record&#39;s fields, this might be more convenient than overriding the canonical constructor.","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>You could override the record's getters to achieve some kind of default value logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(String requiredValue, Integer optionalValue) {\n\n    @Override\n    public Integer optionalValue() {\n        return optionalValue == null ? 42 : optionalValue;\n    }\n\n}\n</code></pre>\n<p>When you want to provide default values for only some of the record's fields, this might be more convenient than overriding the canonical constructor.</p>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915067,"creation_date":1667915067,"answer_id":74361747,"question_id":72404561,"body_markdown":"have similar problem,of puting default values in record. \r\n\r\nthis how i solve it  \r\n\r\n        public record Foo(Integer x, Integer y, Integer z)\r\n    {\r\n        public Foo(Integer x, Integer y, Integer z)\r\n        {\r\n            this.x=x==null?1:x;\r\n            this.y=y==null?2:y;\r\n            this.z=z==null?3:z;\r\n        }\r\n    }\r\n\r\n   \r\n\r\n","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>have similar problem,of puting default values in record.</p>\n<p>this how i solve it</p>\n<pre><code>    public record Foo(Integer x, Integer y, Integer z)\n{\n    public Foo(Integer x, Integer y, Integer z)\n    {\n        this.x=x==null?1:x;\n        this.y=y==null?2:y;\n        this.z=z==null?3:z;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6374107,"reputation":534,"user_id":4945656,"accept_rate":50,"display_name":"leyren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3239,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1667915067,"creation_date":1653650237,"question_id":72404561,"body_markdown":"Assume a JSON structure with multiple optional fields. With classes, you can do something like\r\n```java\r\n    public static final class Foo {\r\n        @JsonProperty(&quot;x&quot;)\r\n        private int x = 1;\r\n\r\n        @JsonProperty(&quot;y&quot;)\r\n        private int y = 2;\r\n\r\n        @JsonProperty(&quot;z&quot;)\r\n        private int z = 3;\r\n        \r\n    }\r\n```\r\nwhich defines default values for the fields in case it is not present in the provided json. Can this be done with records as well?\r\n```java\r\n    public record Foo(int x, int y, int z) {\r\n\r\n    }\r\n```\r\nConstructor overloading is obviously not an option, and as far as I know you could only have a single `@JsonCreator` annotation anyway.\r\n\r\nA custom deserializer should do the trick, but is there any other way, like an annotation that provides a default value to use in the constructor of the record in case it is not provided in the json?\r\n\r\n","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>Assume a JSON structure with multiple optional fields. With classes, you can do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final class Foo {\n        @JsonProperty(&quot;x&quot;)\n        private int x = 1;\n\n        @JsonProperty(&quot;y&quot;)\n        private int y = 2;\n\n        @JsonProperty(&quot;z&quot;)\n        private int z = 3;\n        \n    }\n</code></pre>\n<p>which defines default values for the fields in case it is not present in the provided json. Can this be done with records as well?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public record Foo(int x, int y, int z) {\n\n    }\n</code></pre>\n<p>Constructor overloading is obviously not an option, and as far as I know you could only have a single <code>@JsonCreator</code> annotation anyway.</p>\n<p>A custom deserializer should do the trick, but is there any other way, like an annotation that provides a default value to use in the constructor of the record in case it is not provided in the json?</p>\n"},{"tags":["java","performance","rust"],"comments":[{"owner":{"account_id":1873428,"reputation":40785,"user_id":1695172,"accept_rate":91,"display_name":"Netwave"},"score":4,"creation_date":1619085809,"post_id":67211077,"comment_id":118800499,"body_markdown":"did you compile rust in production mode or in debug?","body":"did you compile rust in production mode or in debug?"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1619085900,"post_id":67211077,"comment_id":118800535,"body_markdown":"Did you benchmark your code correctly? https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"Did you benchmark your code correctly? <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1619086325,"post_id":67211077,"comment_id":118800706,"body_markdown":"There is no such thing as a benchmark that produces outputper iteration. You are measuring I/O, not CPU time.","body":"There is no such thing as a benchmark that produces outputper iteration. You are measuring I/O, not CPU time."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1619088297,"post_id":67211077,"comment_id":118801590,"body_markdown":"As noted by the above comment, printing in a loop is not a good way to measure language performance. But specifically for rust, all calls to `println!` acquire a lock. You could optimize this by explicitly acquiring the lock once https://rust-cli.github.io/book/tutorial/output.html#a-note-on-printing-performance . The JVM JIT is smart enough to recognise the inefficient repeated-locking and perform that optimization automatically.","body":"As noted by the above comment, printing in a loop is not a good way to measure language performance. But specifically for rust, all calls to <code>println!</code> acquire a lock. You could optimize this by explicitly acquiring the lock once <a href=\"https://rust-cli.github.io/book/tutorial/output.html#a-note-on-printing-performance\" rel=\"nofollow noreferrer\">rust-cli.github.io/book/tutorial/&hellip;</a> . The JVM JIT is smart enough to recognise the inefficient repeated-locking and perform that optimization automatically."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619088613,"post_id":67211077,"comment_id":118801729,"body_markdown":"@MikeFHay, I ran the code without the `println!` in the loop too, and I got similar results.","body":"@MikeFHay, I ran the code without the <code>println!</code> in the loop too, and I got similar results."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619088669,"post_id":67211077,"comment_id":118801748,"body_markdown":"@Netwave, these are just simple programs that I ran on intelliJ.","body":"@Netwave, these are just simple programs that I ran on intelliJ."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619088898,"post_id":67211077,"comment_id":118801850,"body_markdown":"It&#39;s technically not a benchmark. It&#39;s just a simple raw performance comparison.","body":"It&#39;s technically not a benchmark. It&#39;s just a simple raw performance comparison."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1619091066,"post_id":67211077,"comment_id":118802786,"body_markdown":"I think it wasn&#39;t appropriate to close this question. OP specifically asked if there was a mistake in the benchmark code, they wrote a clear example that could easily be fixed. The question was ready for a specific answer addressing those issues and providing results after fixes.","body":"I think it wasn&#39;t appropriate to close this question. OP specifically asked if there was a mistake in the benchmark code, they wrote a clear example that could easily be fixed. The question was ready for a specific answer addressing those issues and providing results after fixes."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1619091442,"post_id":67211077,"comment_id":118802935,"body_markdown":"Although it&#39;s definitely not good to print anything at all during the measurement, I think the commenters above missed the fact that the condition `a2 + b2 = c2` is satisfied just 299 times out of 1 million tested combinations (with NUM_ITERS = 100).","body":"Although it&#39;s definitely not good to print anything at all during the measurement, I think the commenters above missed the fact that the condition <code>a2 + b2 = c2</code> is satisfied just 299 times out of 1 million tested combinations (with NUM_ITERS = 100)."},{"owner":{"account_id":16056708,"reputation":1539,"user_id":13854774,"display_name":"Deadbeef"},"score":1,"creation_date":1619092710,"post_id":67211077,"comment_id":118803523,"body_markdown":"I agree with @MarkoTopolnik. The question has details or clarity, although a more suitable title might better.","body":"I agree with @MarkoTopolnik. The question has details or clarity, although a more suitable title might better."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1619092735,"post_id":67211077,"comment_id":118803534,"body_markdown":"With the Java example, you are mostly measuring first-time initialization overhead, the start in interpreted execution mode, JIT activity, etc. When you run the method multiple times within the same runtime, the time will drop significantly. Then, the smallest executions times will exhibit the expected 10&#179; scaling factor when changing `NUM_ITERS` by factor ten. Since the Rust execution does already exhibit the 10&#179; scaling factor, it might be the final state without other distorting factors, but that would imply that it is horribly slow.","body":"With the Java example, you are mostly measuring first-time initialization overhead, the start in interpreted execution mode, JIT activity, etc. When you run the method multiple times within the same runtime, the time will drop significantly. Then, the smallest executions times will exhibit the expected 10&#179; scaling factor when changing <code>NUM_ITERS</code> by factor ten. Since the Rust execution does already exhibit the 10&#179; scaling factor, it might be the final state without other distorting factors, but that would imply that it is horribly slow."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619092830,"post_id":67211077,"comment_id":118803577,"body_markdown":"Yes, @MarkoTopolnik is correct. And for `NUM_ITERS = 1000` it was printing `3755` in 1 billion iterations.","body":"Yes, @MarkoTopolnik is correct. And for <code>NUM_ITERS = 1000</code> it was printing <code>3755</code> in 1 billion iterations."},{"owner":{"account_id":16056708,"reputation":1539,"user_id":13854774,"display_name":"Deadbeef"},"score":3,"creation_date":1619092898,"post_id":67211077,"comment_id":118803617,"body_markdown":"@DivyanshuPundir, in IntelliJ, run with `cargo run --release` to run optimized code.","body":"@DivyanshuPundir, in IntelliJ, run with <code>cargo run --release</code> to run optimized code."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619093139,"post_id":67211077,"comment_id":118803716,"body_markdown":"@Holger, Rust claims to be a system programming language with performance similar to C/C++. And Java has the Garbage Collector running (which is missing in Rust). Shouldn&#39;t it make sense for Rust to be faster for a simple number-crunching program like this?","body":"@Holger, Rust claims to be a system programming language with performance similar to C/C++. And Java has the Garbage Collector running (which is missing in Rust). Shouldn&#39;t it make sense for Rust to be faster for a simple number-crunching program like this?"},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619093359,"post_id":67211077,"comment_id":118803815,"body_markdown":"As @Deadbeef suggested, I ran the program using `cargo run --release` for `NUM_ITERS = 1000`. Now the results are\n\n`Java: 990470026 ns`\n\n`Rust: 542113378 ns`\n\nLooks like Rust does some serious optimisations in its release mode.","body":"As @Deadbeef suggested, I ran the program using <code>cargo run --release</code> for <code>NUM_ITERS = 1000</code>. Now the results are  <code>Java: 990470026 ns</code>  <code>Rust: 542113378 ns</code>  Looks like Rust does some serious optimisations in its release mode."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1619093393,"post_id":67211077,"comment_id":118803833,"body_markdown":"I just used an improved version (which I&#39;d be more than happy to share in an anwer, if reopened), the result with optimized Rust build is 0.6 ns per iteration and for Java it&#39;s 0.32 ns per iteration. I don&#39;t find this a surprising result, there&#39;s no allocation here so GC doesn&#39;t matter, and Java&#39;s JIT compiler is very good at optimized simple code as this.","body":"I just used an improved version (which I&#39;d be more than happy to share in an anwer, if reopened), the result with optimized Rust build is 0.6 ns per iteration and for Java it&#39;s 0.32 ns per iteration. I don&#39;t find this a surprising result, there&#39;s no allocation here so GC doesn&#39;t matter, and Java&#39;s JIT compiler is very good at optimized simple code as this."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1619094536,"post_id":67211077,"comment_id":118804300,"body_markdown":"@MarkoTopolnik I already vote to reopen. Afaik, there’s only one more vote needed…","body":"@MarkoTopolnik I already vote to reopen. Afaik, there’s only one more vote needed…"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1619094654,"post_id":67211077,"comment_id":118804351,"body_markdown":"@DivyanshuPundir 542113378 ns is the order of magnitude I get with Java too, when I run this multiple times within the same JVM. So, the higher numbers are the expected startup issues of an environment with dynamical compilation.","body":"@DivyanshuPundir 542113378 ns is the order of magnitude I get with Java too, when I run this multiple times within the same JVM. So, the higher numbers are the expected startup issues of an environment with dynamical compilation."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1619097441,"post_id":67211077,"comment_id":118805677,"body_markdown":"You want to read https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java for example,","body":"You want to read <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a> for example,"}],"answers":[{"comments":[{"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":2,"creation_date":1619098084,"post_id":67214010,"comment_id":118805979,"body_markdown":"Running both of those programs on my machine yields 0.38 ns for Java and 0.10 ns for Rust as the best times per iterations. Consider adding the rustc flag `-C target-cpu=native` to let the compiler use the host machine&#39;s full instruction set. Also, which JVM are you using? The JIT compiler may be good, but we&#39;re testing it against LLVM&#39;s ahead-of-time compilation, which is expected to be more aggressive in general.","body":"Running both of those programs on my machine yields 0.38 ns for Java and 0.10 ns for Rust as the best times per iterations. Consider adding the rustc flag <code>-C target-cpu=native</code> to let the compiler use the host machine&#39;s full instruction set. Also, which JVM are you using? The JIT compiler may be good, but we&#39;re testing it against LLVM&#39;s ahead-of-time compilation, which is expected to be more aggressive in general."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1619098368,"post_id":67214010,"comment_id":118806153,"body_markdown":"@E_net4thecopycat I found one surprising result: I actually changed the print statement in Rust at the last moment without rerunning the test. Changing from `println!(&quot;Count is divisible by 137&quot;)` to `println(&quot;Count is divisible by 137: {}&quot;, count)` results in a difference of 0.26 ns vs. the posted 0.60 ns!","body":"@E_net4thecopycat I found one surprising result: I actually changed the print statement in Rust at the last moment without rerunning the test. Changing from <code>println!(&quot;Count is divisible by 137&quot;)</code> to <code>println(&quot;Count is divisible by 137: {}&quot;, count)</code> results in a difference of 0.26 ns vs. the posted 0.60 ns!"},{"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":0,"creation_date":1619098678,"post_id":67214010,"comment_id":118806287,"body_markdown":"@MarkoTopolnik Yes, the results may be a bit surprising like that. For microbenchmarking in Rust, one would often use a statistics-driven harness such as [Criterion.rs](https://bheisler.github.io/criterion.rs/book/index.html), which provides an implementation of `black_box()`, a construct designed to avoid optimizing values out (otherwise, the `black_box` in the std library requires a nightly toolchain at the moment).","body":"@MarkoTopolnik Yes, the results may be a bit surprising like that. For microbenchmarking in Rust, one would often use a statistics-driven harness such as <a href=\"https://bheisler.github.io/criterion.rs/book/index.html\" rel=\"nofollow noreferrer\">Criterion.rs</a>, which provides an implementation of <code>black_box()</code>, a construct designed to avoid optimizing values out (otherwise, the <code>black_box</code> in the std library requires a nightly toolchain at the moment)."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1619099462,"post_id":67214010,"comment_id":118806668,"body_markdown":"@E_net4thecopycat I played with the target CPU flag, more surprising results. When printing `c`, it makes the performance worse (0.67 ns), but when not printing it, it makes it even better than what you posted: a mere 0.076 ns per iteration! There must be some shortcuts the compiler is taking.","body":"@E_net4thecopycat I played with the target CPU flag, more surprising results. When printing <code>c</code>, it makes the performance worse (0.67 ns), but when not printing it, it makes it even better than what you posted: a mere 0.076 ns per iteration! There must be some shortcuts the compiler is taking."},{"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":0,"creation_date":1619100213,"post_id":67214010,"comment_id":118807014,"body_markdown":"Granted, many shortcuts are possible here. I would suspect that the JVM is taking shortcuts too, with the last 5 runs being consistently faster than the first two. Some kind of memoization perhaps? The low iteration times in general are possibly caused by loop unrolling for the employment of SIMD instructions.","body":"Granted, many shortcuts are possible here. I would suspect that the JVM is taking shortcuts too, with the last 5 runs being consistently faster than the first two. Some kind of memoization perhaps? The low iteration times in general are possibly caused by loop unrolling for the employment of SIMD instructions."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1619100424,"post_id":67214010,"comment_id":118807105,"body_markdown":"@E_net4thecopycat The first two runs are slower because the code hasn&#39;t been fully JIT-compiled yet. This is always expected on the JVM. I doubt there&#39;s memoization, after all this is still 0.3 ns * 1,000,000,000 iterations, the runtime is non-trivial. I was thinking SIMD as well... if I had a disassembler set up, I&#39;d check it out.","body":"@E_net4thecopycat The first two runs are slower because the code hasn&#39;t been fully JIT-compiled yet. This is always expected on the JVM. I doubt there&#39;s memoization, after all this is still 0.3 ns * 1,000,000,000 iterations, the runtime is non-trivial. I was thinking SIMD as well... if I had a disassembler set up, I&#39;d check it out."},{"owner":{"account_id":4003899,"reputation":25729,"user_id":3650362,"display_name":"trent"},"score":0,"creation_date":1619105839,"post_id":67214010,"comment_id":118809946,"body_markdown":"Note that hardware also has &quot;warming up&quot; effects -- frequency scaling and adaptive branch prediction come to mind; there are others. In this case I wouldn&#39;t expect any of them to be significant, but to perform a fair comparison you should run the Rust version multiple times just as you do the JVM version, to show that the per-iteration cost *doesn&#39;t* decrease over time.","body":"Note that hardware also has &quot;warming up&quot; effects -- frequency scaling and adaptive branch prediction come to mind; there are others. In this case I wouldn&#39;t expect any of them to be significant, but to perform a fair comparison you should run the Rust version multiple times just as you do the JVM version, to show that the per-iteration cost <i>doesn&#39;t</i> decrease over time."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1619106292,"post_id":67214010,"comment_id":118810169,"body_markdown":"@trentcl Adaptive branch prediction works at the nanosecond scale since you need just two passes for it to get fully biased in one direction. There is a significant effect _opposite_ to frequency scaling: thermal throttling, which is something i routinely observe when benchmarking on the laptop. This works at the second scale and it&#39;s not very significant with single-threaded code. As for running several times, it&#39;s such an instinct that I don&#39;t even see the result as &quot;fully materialized&quot; until it&#39;s at least 3 times about the same. But I can add a loop to Rust as well.","body":"@trentcl Adaptive branch prediction works at the nanosecond scale since you need just two passes for it to get fully biased in one direction. There is a significant effect <i>opposite</i> to frequency scaling: thermal throttling, which is something i routinely observe when benchmarking on the laptop. This works at the second scale and it&#39;s not very significant with single-threaded code. As for running several times, it&#39;s such an instinct that I don&#39;t even see the result as &quot;fully materialized&quot; until it&#39;s at least 3 times about the same. But I can add a loop to Rust as well."},{"owner":{"account_id":4003899,"reputation":25729,"user_id":3650362,"display_name":"trent"},"score":0,"creation_date":1619106781,"post_id":67214010,"comment_id":118810399,"body_markdown":"As I said: I wouldn&#39;t expect any of them to be significant in this case. But microbenchmarks are unreliable enough without adding more unnecessary variables.","body":"As I said: I wouldn&#39;t expect any of them to be significant in this case. But microbenchmarks are unreliable enough without adding more unnecessary variables."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619107659,"post_id":67214010,"comment_id":118810814,"body_markdown":"@MarkoTopolnik, I implemented your version of the Java code in Rust and got almost a consistent `0.71 ns` per iteration. Looks like there&#39;s no warmup effect in Rust.\n\nBut, I got an even more shocking result when I removed the `println!` with `c`. `0.000000076 ns` for the first iteration and `~0.000000043 ns` for the other 6.\n\nI did get the warning that said `variable &#39;c&#39; is assigned to, but never used`. Could it be that Rust sees that the variable isn&#39;t being used and bypasses the computation involving it?","body":"@MarkoTopolnik, I implemented your version of the Java code in Rust and got almost a consistent <code>0.71 ns</code> per iteration. Looks like there&#39;s no warmup effect in Rust.  But, I got an even more shocking result when I removed the <code>println!</code> with <code>c</code>. <code>0.000000076 ns</code> for the first iteration and <code>~0.000000043 ns</code> for the other 6.  I did get the warning that said <code>variable &#39;c&#39; is assigned to, but never used</code>. Could it be that Rust sees that the variable isn&#39;t being used and bypasses the computation involving it?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1619107896,"post_id":67214010,"comment_id":118810949,"body_markdown":"@DivyanshuPundir Yes, that&#39;s what my comment in the code explains: `Use c to ensure its computation can&#39;t be elided by the optimizer`","body":"@DivyanshuPundir Yes, that&#39;s what my comment in the code explains: <code>Use c to ensure its computation can&#39;t be elided by the optimizer</code>"},{"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"score":0,"creation_date":1656651445,"post_id":67214010,"comment_id":128629110,"body_markdown":"What about GraalVM and run Java as binary, this will remove any kind of warmup and also make much smaller memory needed...","body":"What about GraalVM and run Java as binary, this will remove any kind of warmup and also make much smaller memory needed..."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1656666616,"post_id":67214010,"comment_id":128633038,"body_markdown":"@kensai Yeah, that exists, but it has many problems because Java wasn&#39;t meant to be a statically-compiled language. There are projects like Quarkus whose sole business is modifying popular libraries to be GraalVM-compatible.","body":"@kensai Yeah, that exists, but it has many problems because Java wasn&#39;t meant to be a statically-compiled language. There are projects like Quarkus whose sole business is modifying popular libraries to be GraalVM-compatible."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":13,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1619165229,"creation_date":1619097256,"answer_id":67214010,"question_id":67211077,"body_markdown":"I adjusted your code to eliminate the points of criticism laid out in the comments. Not compiling Rust for production is the biggest problem, that introduces a 50x overhead. Beyond that, I eliminated printing while measuring, and did proper warming up of the Java code.\r\n\r\nI would say that Java and Rust were on par after these changes, they are within 2x of each other and both have very low cost per iteration (just a fraction of a nanosecond).\r\n\r\nHere is my code:\r\n\r\n\r\n```java\r\npublic class Testing {\r\n    private static final int NUM_ITERS = 1_000;\r\n    private static final int MEASURE_TIMES = 7;\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; MEASURE_TIMES; i++) {\r\n            System.out.format(&quot;%.2f ns per iteration%n&quot;, benchmark());\r\n        }\r\n    }\r\n\r\n    private static double benchmark() {\r\n        long tInit = System.nanoTime();\r\n        int c = 0;\r\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\r\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\r\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\r\n                    if (i*i + j*j == k*k) {\r\n                        ++c;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (c % 137 == 0) {\r\n            // Use c so its computation can&#39;t be elided\r\n            System.out.println(&quot;Count is divisible by 13: &quot; + c);\r\n        }\r\n        long tookNanos = System.nanoTime() - tInit;\r\n        return tookNanos / ((double) NUM_ITERS * NUM_ITERS * NUM_ITERS);\r\n    }\r\n}\r\n```\r\n\r\n```rust\r\nuse std::time::SystemTime;\r\n\r\nconst NUM_ITERS: i32 = 1000;\r\n\r\nfn main() {\r\n    let mut c = 0;\r\n\r\n    let t_init = SystemTime::now();\r\n    for i in 0..NUM_ITERS {\r\n        for j in 0..NUM_ITERS {\r\n            for k in 0..NUM_ITERS {\r\n                if i*i + j*j == k*k {\r\n                    c += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let took_ns = t_init.elapsed().unwrap().as_nanos() as f64;\r\n\r\n    let iters = NUM_ITERS as f64;\r\n    println!(&quot;{} ns per iteration&quot;, took_ns / (iters * iters * iters));\r\n    // Use c to ensure its computation can&#39;t be elided by the optimizer\r\n    if c % 137 == 0 {\r\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\r\n    }\r\n}\r\n```\r\n\r\nI run Java from IntelliJ, with JDK 16. I run Rust from the command line, using `cargo run --release`.\r\n\r\nExample of Java output:\r\n\r\n```\r\n0.98 ns per iteration\r\n0.93 ns per iteration\r\n0.32 ns per iteration\r\n0.34 ns per iteration\r\n0.32 ns per iteration\r\n0.33 ns per iteration\r\n0.32 ns per iteration\r\n```\r\n\r\nExample of Rust output:\r\n\r\n```\r\n0.600314 ns per iteration\r\n```\r\n\r\nWhile I&#39;m not necessarily surprised to see Java giving a better result (its JIT compiler has been optimized for 20 years now and there&#39;s no object allocation, so no GC), I was puzzled at the overall low cost of an iteration. We can assume the expression `i*i + j*j` to be hoisted out of the inner loop, which leaves just `k*k` inside it. \r\n\r\nI used a disassembler to check out the code Rust produced. It definitely involves IMUL in the innermost loop. I read [this](https://stackoverflow.com/a/37925245/1103872) answer, which says Intel has a latency of just 3 CPU cycles for an IMUL instruction. Combine that with multiple ALUs and instruction parallelism, and the result of 1 cycle per iteration becomes more plausible.\r\n\r\nAnother interesting thing I discovered is that, if I just check `c % 137 == 0` but don&#39;t print the actual value of `c` in the Rust `println!` statement, (only print &quot;Count is divisible by 137&quot;), iteration cost drops to just 0.26 ns. So Rust was able to eliminate a lot of work from the loop when I didn&#39;t ask for the exact value of `c`.\r\n\r\n----\r\n\r\n## UPDATE\r\n\r\nAs discussed in the comments with @trentci, I mimicked the Java code more completely, adding an outer loop that repeats the measurement, which is now in a separate function:\r\n\r\n```\r\nuse std::time::SystemTime;\r\n\r\nconst NUM_ITERS: i32 = 1000;\r\nconst MEASURE_TIMES: i32 = 7;\r\n\r\nfn main() {\r\n    let total_iters: f64 = NUM_ITERS as f64 * NUM_ITERS as f64 * NUM_ITERS as f64;\r\n    for _ in 0..MEASURE_TIMES {\r\n        let took_ns = benchmark() as f64;\r\n        println!(&quot;{} ns per iteration&quot;, took_ns / total_iters);\r\n    }\r\n}\r\n\r\nfn benchmark() -&gt; u128 {\r\n    let mut c = 0;\r\n\r\n    let t_init = SystemTime::now();\r\n    for i in 0..NUM_ITERS {\r\n        for j in 0..NUM_ITERS {\r\n            for k in 0..NUM_ITERS {\r\n                if i*i + j*j == k*k {\r\n                    c += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // Use c to ensure its computation can&#39;t be elided by the optimizer\r\n    if c % 137 == 0 {\r\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\r\n    }\r\n    return t_init.elapsed().unwrap().as_nanos();\r\n}\r\n```\r\n\r\nNow I&#39;m getting this output:\r\n\r\n```\r\n0.781475 ns per iteration\r\n0.760657 ns per iteration\r\n0.783821 ns per iteration\r\n0.777313 ns per iteration\r\n0.766473 ns per iteration\r\n0.774042 ns per iteration\r\n0.766718 ns per iteration\r\n```\r\n\r\nAnother subtle change to the code that resulted in a significant change in performance. However, it also shows a key advantage of Rust over Java: there is no warmup needed to get the optimum performance.","title":"Java vs Rust performance","body":"<p>I adjusted your code to eliminate the points of criticism laid out in the comments. Not compiling Rust for production is the biggest problem, that introduces a 50x overhead. Beyond that, I eliminated printing while measuring, and did proper warming up of the Java code.</p>\n<p>I would say that Java and Rust were on par after these changes, they are within 2x of each other and both have very low cost per iteration (just a fraction of a nanosecond).</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Testing {\n    private static final int NUM_ITERS = 1_000;\n    private static final int MEASURE_TIMES = 7;\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; MEASURE_TIMES; i++) {\n            System.out.format(&quot;%.2f ns per iteration%n&quot;, benchmark());\n        }\n    }\n\n    private static double benchmark() {\n        long tInit = System.nanoTime();\n        int c = 0;\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\n                    if (i*i + j*j == k*k) {\n                        ++c;\n                    }\n                }\n            }\n        }\n        if (c % 137 == 0) {\n            // Use c so its computation can't be elided\n            System.out.println(&quot;Count is divisible by 13: &quot; + c);\n        }\n        long tookNanos = System.nanoTime() - tInit;\n        return tookNanos / ((double) NUM_ITERS * NUM_ITERS * NUM_ITERS);\n    }\n}\n</code></pre>\n<pre class=\"lang-rust prettyprint-override\"><code>use std::time::SystemTime;\n\nconst NUM_ITERS: i32 = 1000;\n\nfn main() {\n    let mut c = 0;\n\n    let t_init = SystemTime::now();\n    for i in 0..NUM_ITERS {\n        for j in 0..NUM_ITERS {\n            for k in 0..NUM_ITERS {\n                if i*i + j*j == k*k {\n                    c += 1;\n                }\n            }\n        }\n    }\n    let took_ns = t_init.elapsed().unwrap().as_nanos() as f64;\n\n    let iters = NUM_ITERS as f64;\n    println!(&quot;{} ns per iteration&quot;, took_ns / (iters * iters * iters));\n    // Use c to ensure its computation can't be elided by the optimizer\n    if c % 137 == 0 {\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\n    }\n}\n</code></pre>\n<p>I run Java from IntelliJ, with JDK 16. I run Rust from the command line, using <code>cargo run --release</code>.</p>\n<p>Example of Java output:</p>\n<pre><code>0.98 ns per iteration\n0.93 ns per iteration\n0.32 ns per iteration\n0.34 ns per iteration\n0.32 ns per iteration\n0.33 ns per iteration\n0.32 ns per iteration\n</code></pre>\n<p>Example of Rust output:</p>\n<pre><code>0.600314 ns per iteration\n</code></pre>\n<p>While I'm not necessarily surprised to see Java giving a better result (its JIT compiler has been optimized for 20 years now and there's no object allocation, so no GC), I was puzzled at the overall low cost of an iteration. We can assume the expression <code>i*i + j*j</code> to be hoisted out of the inner loop, which leaves just <code>k*k</code> inside it.</p>\n<p>I used a disassembler to check out the code Rust produced. It definitely involves IMUL in the innermost loop. I read <a href=\"https://stackoverflow.com/a/37925245/1103872\">this</a> answer, which says Intel has a latency of just 3 CPU cycles for an IMUL instruction. Combine that with multiple ALUs and instruction parallelism, and the result of 1 cycle per iteration becomes more plausible.</p>\n<p>Another interesting thing I discovered is that, if I just check <code>c % 137 == 0</code> but don't print the actual value of <code>c</code> in the Rust <code>println!</code> statement, (only print &quot;Count is divisible by 137&quot;), iteration cost drops to just 0.26 ns. So Rust was able to eliminate a lot of work from the loop when I didn't ask for the exact value of <code>c</code>.</p>\n<hr />\n<h2>UPDATE</h2>\n<p>As discussed in the comments with @trentci, I mimicked the Java code more completely, adding an outer loop that repeats the measurement, which is now in a separate function:</p>\n<pre><code>use std::time::SystemTime;\n\nconst NUM_ITERS: i32 = 1000;\nconst MEASURE_TIMES: i32 = 7;\n\nfn main() {\n    let total_iters: f64 = NUM_ITERS as f64 * NUM_ITERS as f64 * NUM_ITERS as f64;\n    for _ in 0..MEASURE_TIMES {\n        let took_ns = benchmark() as f64;\n        println!(&quot;{} ns per iteration&quot;, took_ns / total_iters);\n    }\n}\n\nfn benchmark() -&gt; u128 {\n    let mut c = 0;\n\n    let t_init = SystemTime::now();\n    for i in 0..NUM_ITERS {\n        for j in 0..NUM_ITERS {\n            for k in 0..NUM_ITERS {\n                if i*i + j*j == k*k {\n                    c += 1;\n                }\n            }\n        }\n    }\n    // Use c to ensure its computation can't be elided by the optimizer\n    if c % 137 == 0 {\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\n    }\n    return t_init.elapsed().unwrap().as_nanos();\n}\n</code></pre>\n<p>Now I'm getting this output:</p>\n<pre><code>0.781475 ns per iteration\n0.760657 ns per iteration\n0.783821 ns per iteration\n0.777313 ns per iteration\n0.766473 ns per iteration\n0.774042 ns per iteration\n0.766718 ns per iteration\n</code></pre>\n<p>Another subtle change to the code that resulted in a significant change in performance. However, it also shows a key advantage of Rust over Java: there is no warmup needed to get the optimum performance.</p>\n"},{"tags":[],"owner":{"account_id":2619864,"reputation":219,"user_id":2501984,"display_name":"Peter Ertl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667914801,"creation_date":1667914801,"answer_id":74361693,"question_id":67211077,"body_markdown":"The Java VM possibly just-in-time compiles your inner loop to native assembly code after it exceeds a certain number of iterations. I am not an JVM expert but this could possibly explain why a larger number of iterations magically makes the java code run faster.\r\n\r\nThe technology behind this is called **HotSpot** and afaik it works differently on &quot;client&quot; and &quot;server&quot; VMs. It also depends on the vendor of the JVM if it is available and how it behaves.\r\n\r\nhttps://en.wikipedia.org/wiki/HotSpot_(virtual_machine)\r\n","title":"Java vs Rust performance","body":"<p>The Java VM possibly just-in-time compiles your inner loop to native assembly code after it exceeds a certain number of iterations. I am not an JVM expert but this could possibly explain why a larger number of iterations magically makes the java code run faster.</p>\n<p>The technology behind this is called <strong>HotSpot</strong> and afaik it works differently on &quot;client&quot; and &quot;server&quot; VMs. It also depends on the vendor of the JVM if it is available and how it behaves.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/HotSpot_(virtual_machine)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/HotSpot_(virtual_machine)</a></p>\n"}],"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12061,"favorite_count":0,"down_vote_count":4,"up_vote_count":16,"answer_count":2,"score":12,"last_activity_date":1667914801,"creation_date":1619085743,"question_id":67211077,"body_markdown":"I ran a small identical benchmark on both Java and Rust.\r\n\r\nJava:\r\n```\r\npublic class Main {\r\n    private static final int NUM_ITERS = 100;\r\n\r\n    public static void main(String[] args) {\r\n        long tInit = System.nanoTime();\r\n        int c = 0;\r\n\r\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\r\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\r\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\r\n                    if (i*i + j*j == k*k) {\r\n                        ++c;\r\n                        System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(c);\r\n        System.out.println(System.nanoTime() - tInit);\r\n    }\r\n}\r\n```\r\n\r\nRust:\r\n```\r\nuse std::time::SystemTime;\r\n\r\nconst NUM_ITERS: i32 = 100;\r\n\r\nfn main() {\r\n    let t_init = SystemTime::now();\r\n    let mut c = 0;\r\n\r\n    for i in 0..NUM_ITERS {\r\n        for j in 0..NUM_ITERS {\r\n            for k in 0..NUM_ITERS {\r\n                if i*i + j*j == k*k {\r\n                    c += 1;\r\n                    println!(&quot;{} {} {}&quot;, i, j, k);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    println!(&quot;{}&quot;, c);\r\n    println!(&quot;{}&quot;, t_init.elapsed().unwrap().as_nanos());\r\n}\r\n\r\n```\r\n\r\nWhen `NUM_ITERS = 100`, as expected, Rust out-performed Java\r\n```\r\nJava: 59311348 ns\r\nRust: 29629242 ns\r\n```\r\n\r\nBut for `NUM_ITERS = 1000`, I saw that Rust took much longer and Java was way faster\r\n```\r\nJava: 1585835361  ns\r\nRust: 28623818145 ns\r\n```\r\n\r\nWhat could be the reason for this? Shouldn&#39;t Rust perform better than Java in this case too? Or is it because I have made some mistake in the implementation?\r\n\r\n# Update\r\n\r\nI removed the lines `System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);` and `println!(&quot;{} {} {}&quot;, i, j, k);` from the codes. And here are the outputs\r\n\r\n```\r\nNUM_ITERS = 100\r\nJava: 3843114  ns\r\nRust: 29072345 ns\r\n\r\n\r\nNUM_ITERS = 1000\r\nJava: 1014829974  ns\r\nRust: 28402166953 ns\r\n```\r\n\r\nSo, without the `println` statements, Java performs better than Rust in both cases. I simply want to know that why that is the case. Java has the Garbage Collector running and other overheads. Have I not implemented the loops in Rust optimally?","title":"Java vs Rust performance","body":"<p>I ran a small identical benchmark on both Java and Rust.</p>\n<p>Java:</p>\n<pre><code>public class Main {\n    private static final int NUM_ITERS = 100;\n\n    public static void main(String[] args) {\n        long tInit = System.nanoTime();\n        int c = 0;\n\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\n                    if (i*i + j*j == k*k) {\n                        ++c;\n                        System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);\n                    }\n                }\n            }\n        }\n\n        System.out.println(c);\n        System.out.println(System.nanoTime() - tInit);\n    }\n}\n</code></pre>\n<p>Rust:</p>\n<pre><code>use std::time::SystemTime;\n\nconst NUM_ITERS: i32 = 100;\n\nfn main() {\n    let t_init = SystemTime::now();\n    let mut c = 0;\n\n    for i in 0..NUM_ITERS {\n        for j in 0..NUM_ITERS {\n            for k in 0..NUM_ITERS {\n                if i*i + j*j == k*k {\n                    c += 1;\n                    println!(&quot;{} {} {}&quot;, i, j, k);\n                }\n            }\n        }\n    }\n\n    println!(&quot;{}&quot;, c);\n    println!(&quot;{}&quot;, t_init.elapsed().unwrap().as_nanos());\n}\n\n</code></pre>\n<p>When <code>NUM_ITERS = 100</code>, as expected, Rust out-performed Java</p>\n<pre><code>Java: 59311348 ns\nRust: 29629242 ns\n</code></pre>\n<p>But for <code>NUM_ITERS = 1000</code>, I saw that Rust took much longer and Java was way faster</p>\n<pre><code>Java: 1585835361  ns\nRust: 28623818145 ns\n</code></pre>\n<p>What could be the reason for this? Shouldn't Rust perform better than Java in this case too? Or is it because I have made some mistake in the implementation?</p>\n<h1>Update</h1>\n<p>I removed the lines <code>System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);</code> and <code>println!(&quot;{} {} {}&quot;, i, j, k);</code> from the codes. And here are the outputs</p>\n<pre><code>NUM_ITERS = 100\nJava: 3843114  ns\nRust: 29072345 ns\n\n\nNUM_ITERS = 1000\nJava: 1014829974  ns\nRust: 28402166953 ns\n</code></pre>\n<p>So, without the <code>println</code> statements, Java performs better than Rust in both cases. I simply want to know that why that is the case. Java has the Garbage Collector running and other overheads. Have I not implemented the loops in Rust optimally?</p>\n"},{"tags":["java","android","arrays","json","hashmap"],"comments":[{"owner":{"account_id":318746,"reputation":1188,"user_id":636131,"display_name":"Simeon G"},"score":1,"creation_date":1610120661,"post_id":65631929,"comment_id":116040102,"body_markdown":"Are you asking how to decode the byte array into a JSON string like you&#39;ve already provided? Or are you asking about converting the JSON string you provided (decoded from the website) into a Java structure like a HashMap?","body":"Are you asking how to decode the byte array into a JSON string like you&#39;ve already provided? Or are you asking about converting the JSON string you provided (decoded from the website) into a Java structure like a HashMap?"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610122290,"post_id":65631929,"comment_id":116040933,"body_markdown":"I should convert the byte array into a HashMap, or in any case a structure that allows me to retrieve every single data of it.","body":"I should convert the byte array into a HashMap, or in any case a structure that allows me to retrieve every single data of it."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610144652,"post_id":65631929,"comment_id":116049407,"body_markdown":"@DanieleMonaldi &quot;JSON string as a byte array&quot; is not clear. Does `[123, 45, 67, 90, ...]` represent the data logically (i.e., the first byte is value of 123, and so on), or does it represent the data physically (i.e., literally `[`, `1`, `2`, `3`, `,`, ... go over your network)?","body":"@DanieleMonaldi &quot;JSON string as a byte array&quot; is not clear. Does <code>[123, 45, 67, 90, ...]</code> represent the data logically (i.e., the first byte is value of 123, and so on), or does it represent the data physically (i.e., literally <code>[</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>,</code>, ... go over your network)?"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610182772,"post_id":65631929,"comment_id":116055598,"body_markdown":"@fluffy the server sends me the JSON string like the one I published in the form of a byte array, so for example 123 represents the character &quot;{&quot;","body":"@fluffy the server sends me the JSON string like the one I published in the form of a byte array, so for example 123 represents the character &quot;{&quot;"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610187326,"post_id":65631929,"comment_id":116056600,"body_markdown":"@DanieleMonaldi I have an idea of decoding it using Gson, but let me ask you three questions first. 1) `123`, `45`, `67`, and `90` represent ASCII/UTF-8 characters `{`, `-`, `C`, and `Z` respectively (malformed but unusual JSON): they differ structurally from the JSON, but why? 2) When I was pretty-formatting your JSON, I found it was illegal: is that something your server sends to you or you just had some typos while posting it? 3) Shouldn&#39;t your server send a ready-to-use JSON rather than send it as an byte-array-encoded JSON that is not necessarily JSON-compatible?","body":"@DanieleMonaldi I have an idea of decoding it using Gson, but let me ask you three questions first. 1) <code>123</code>, <code>45</code>, <code>67</code>, and <code>90</code> represent ASCII/UTF-8 characters <code>{</code>, <code>-</code>, <code>C</code>, and <code>Z</code> respectively (malformed but unusual JSON): they differ structurally from the JSON, but why? 2) When I was pretty-formatting your JSON, I found it was illegal: is that something your server sends to you or you just had some typos while posting it? 3) Shouldn&#39;t your server send a ready-to-use JSON rather than send it as an byte-array-encoded JSON that is not necessarily JSON-compatible?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610187370,"post_id":65631929,"comment_id":116056607,"body_markdown":"@DanieleMonaldi And the fourth one please: 4) You mentioned an online decoder. Which did you use?","body":"@DanieleMonaldi And the fourth one please: 4) You mentioned an online decoder. Which did you use?"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610190279,"post_id":65631929,"comment_id":116057240,"body_markdown":"The byte array I posted was a generic example, with random numbers, just to give the idea. The json, instead, is a real example.  Unfortunately the server was not developed by me, but being a group project it was developed by a friend, who chose this solution because it also works with iOS (an app that another friend is developing). I used this site: https://onlineutf8tools.com/convert-bytes-to-utf8","body":"The byte array I posted was a generic example, with random numbers, just to give the idea. The json, instead, is a real example.  Unfortunately the server was not developed by me, but being a group project it was developed by a friend, who chose this solution because it also works with iOS (an app that another friend is developing). I used this site: <a href=\"https://onlineutf8tools.com/convert-bytes-to-utf8\" rel=\"nofollow noreferrer\">onlineutf8tools.com/convert-bytes-to-utf8</a>"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610191816,"post_id":65631929,"comment_id":116057626,"body_markdown":"@DanieleMonaldi I do not want to seem intrusive, but shouldn&#39;t the friend of yours fix their Python code so that the serve could generate legal and valid JSON ready to consume in _any_ application (including commands `curl` and `jq`), and another friend of yours (at the iOS side) could remove away the intermediate code that decodes byte-array-encoded text to plain text? Having that, you could even avoid asking the question here, because now you have to deal with bad design and implement an adapter to decode one stream to another one.","body":"@DanieleMonaldi I do not want to seem intrusive, but shouldn&#39;t the friend of yours fix their Python code so that the serve could generate legal and valid JSON ready to consume in <i>any</i> application (including commands <code>curl</code> and <code>jq</code>), and another friend of yours (at the iOS side) could remove away the intermediate code that decodes byte-array-encoded text to plain text? Having that, you could even avoid asking the question here, because now you have to deal with bad design and implement an adapter to decode one stream to another one."},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610192269,"post_id":65631929,"comment_id":116057727,"body_markdown":"I think it is the only solution, thanks for the help!","body":"I think it is the only solution, thanks for the help!"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610225357,"post_id":65631929,"comment_id":116067535,"body_markdown":"@fluffy The server has been fixed and now sends a json. Now how should I do to retrieve the information?","body":"@fluffy The server has been fixed and now sends a json. Now how should I do to retrieve the information?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610225828,"post_id":65631929,"comment_id":116067662,"body_markdown":"@DanieleMonaldi One less issue now so good news! It depends on which JSON library you&#39;re using, but I guess there are more comprehensive sources over the Web than mine.","body":"@DanieleMonaldi One less issue now so good news! It depends on which JSON library you&#39;re using, but I guess there are more comprehensive sources over the Web than mine."}],"answers":[{"comments":[{"owner":{"account_id":5964077,"reputation":501,"user_id":4688289,"display_name":"Sherwin Varghese"},"score":1,"creation_date":1656916936,"post_id":65633241,"comment_id":128678477,"body_markdown":"A small edit on the 3rd line to correct the syntax - \n\n\n\n\nTypeReference&lt;Map&lt;String,Object&gt;&gt; tr = new TypeReference&lt;Map&lt;String,Object&gt;&gt; () {};","body":"A small edit on the 3rd line to correct the syntax -      TypeReference&lt;Map&lt;String,Object&gt;&gt; tr = new TypeReference&lt;Map&lt;String,Object&gt;&gt; () {};"}],"tags":[],"owner":{"account_id":318746,"reputation":1188,"user_id":636131,"display_name":"Simeon G"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610125272,"creation_date":1610125272,"answer_id":65633241,"question_id":65631929,"body_markdown":"You should be able to use the [ObjectMapper][1] from Jackson or any other JSON parser/serializer to achieve this. One option, using ObjectMapper is to just serialize the string directly into a hashmap like this:\r\n\r\n    byte src[] = getBytesFromServer();\r\n    ObjectMapper om = new ObjectMapper();\r\n    TypeReference&lt;Map&lt;String,Object&gt;&gt; tr = new TypeReference&lt;Map&lt;String,Object&gt;&gt; {};\r\n    Map&lt;String,Object&gt; val = om.readValue(src,tr);\r\n\r\nThere are a few variants of this that should be helpful to you. You can also achieve the same with other JSON libraries like [GSon][2]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: https://github.com/google/gson","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>You should be able to use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> from Jackson or any other JSON parser/serializer to achieve this. One option, using ObjectMapper is to just serialize the string directly into a hashmap like this:</p>\n<pre><code>byte src[] = getBytesFromServer();\nObjectMapper om = new ObjectMapper();\nTypeReference&lt;Map&lt;String,Object&gt;&gt; tr = new TypeReference&lt;Map&lt;String,Object&gt;&gt; {};\nMap&lt;String,Object&gt; val = om.readValue(src,tr);\n</code></pre>\n<p>There are a few variants of this that should be helpful to you. You can also achieve the same with other JSON libraries like <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSon</a></p>\n"},{"tags":[],"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610194816,"creation_date":1610194816,"answer_id":65642564,"question_id":65631929,"body_markdown":"In the meantime, while your server code is not yet fixed, I can provide an example of adapting the byte-encoded response to what you can parse, for the &quot;educational&quot; purposes to avoid bad practices in the future (simply don&#39;t do the following).\r\n\r\nThe idea to solve your problem is _adapting_ the incoming payload (byte-array-encoded text) to a byte/character-stream that can be consumed as JSON.\r\n\r\nUsing the org.json is _might_ be implemented like this (however, I&#39;m not sure if I&#39;ve implemented it properly):\r\n\r\n```java\r\npublic final class Decoding {\r\n\r\n\tprivate Decoding() {\r\n\t}\r\n\r\n\tpublic static Reader of(final Reader reader) {\r\n\t\tfinal JSONTokener jsonTokener = new JSONTokener(reader);\r\n\t\treturn new Reader() {\r\n\t\t\tprivate boolean beginToProcess = true;\r\n\t\t\tprivate boolean endToProcess = true;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int read(@Nonnull final char[] buffer, final int offset, final int length)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tif ( beginToProcess ) {\r\n\t\t\t\t\tfinal char ch = jsonTokener.nextClean();\r\n\t\t\t\t\tif ( ch != &#39;[&#39; ) {\r\n\t\t\t\t\t\tthrow new IOException(&quot;Not an array begin: &quot; + ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbeginToProcess = false;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !jsonTokener.more() ) {\r\n\t\t\t\t\tif ( endToProcess ) {\r\n\t\t\t\t\t\tfinal char ch = jsonTokener.nextClean();\r\n\t\t\t\t\t\tif ( ch != &#39;\\u0000&#39; ) {\r\n\t\t\t\t\t\t\tthrow new IOException(&quot;Not an array or document end: &quot; + ch);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tendToProcess = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tfinal char b = (char) (int) jsonTokener.nextValue();\r\n\t\t\t\tif ( jsonTokener.more() ) {\r\n\t\t\t\t\tfinal char ch = jsonTokener.nextClean();\r\n\t\t\t\t\tswitch ( ch ) {\r\n\t\t\t\t\tcase &#39;,&#39;:\r\n\t\t\t\t\tcase &#39;]&#39;:\r\n\t\t\t\t\t\t// do nothing\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow new IOException(&quot;Not an array delimiter: &quot; + ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbuffer[offset] = b;\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close()\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\treader.close();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t...\r\n```\r\n\r\nor using Gson for example:\r\n\r\n```java\r\n\t...\r\n\tpublic static Reader of(final JsonReader jsonReader) {\r\n\t\treturn new Reader() {\r\n\t\t\tprivate boolean beginToProcess = true;\r\n\t\t\tprivate boolean endToProcess = true;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int read(@Nonnull final char[] buffer, final int offset, final int length)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tif ( beginToProcess ) {\r\n\t\t\t\t\tjsonReader.beginArray();\r\n\t\t\t\t\tbeginToProcess = false;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !jsonReader.hasNext() ) {\r\n\t\t\t\t\tif ( endToProcess ) {\r\n\t\t\t\t\t\tjsonReader.endArray();\r\n\t\t\t\t\t\tendToProcess = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tfinal int b = jsonReader.nextInt();\r\n\t\t\t\tbuffer[offset] = (char) b;\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close()\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tjsonReader.close();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\nBoth decoders are suboptimal and do not provide the maximum performance, but I hope you won&#39;t need it once your server is fixed. Now you can decode the input readers and convert them to valid JSON documents (in a JUnit 5 test):\r\n\r\n```java\r\npublic final class DecodingTest {\r\n\r\n\t@Test\r\n\tpublic void test()\r\n\t\t\tthrows IOException {\r\n\t\tfinal String payload = &quot;[123,34,97,117,116,104,111,114,34,58,34,65,110,116,111,110,34,44,34,116,121,112,101,34,58,34,115,101,114,118,101,114,32,105,110,102,111,34,44,34,100,97,116,101,34,58,34,48,56,47,48,49,47,50,48,50,49,34,44,34,99,111,110,116,101,110,116,34,58,34,34,44,34,111,112,116,34,58,123,34,99,112,117,34,58,123,34,102,114,101,113,34,58,91,51,56,54,54,46,48,52,49,56,55,53,44,49,54,48,48,44,51,57,48,48,93,44,34,117,115,97,103,101,34,58,91,48,44,48,44,49,44,50,44,49,44,49,44,48,44,50,93,44,34,108,111,97,100,34,58,91,48,46,53,44,48,46,54,51,44,48,46,54,49,93,125,44,34,109,101,109,111,114,121,34,58,123,34,114,97,109,34,58,91,49,53,46,53,52,44,49,50,46,48,49,44,50,50,46,55,44,50,46,56,53,44,57,46,54,55,93,125,44,34,100,105,115,107,115,34,58,123,34,115,115,100,34,58,91,50,49,57,46,49,44,49,51,44,49,57,52,46,57,44,54,46,51,93,44,34,104,100,100,34,58,91,48,44,48,44,48,44,49,48,48,93,125,44,34,116,101,109,112,115,34,58,123,34,99,111,114,101,45,48,34,58,91,51,50,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,49,34,58,91,51,54,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,50,34,58,91,51,55,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,51,34,58,91,51,56,44,56,53,44,49,48,53,93,125,125,44,34,97,116,116,97,99,104,101,100,34,58,110,117,108,108,125]&quot;;\r\n\t\tfinal String expected = &quot;{\\&quot;author\\&quot;:\\&quot;Anton\\&quot;,\\&quot;type\\&quot;:\\&quot;server info\\&quot;,\\&quot;date\\&quot;:\\&quot;08/01/2021\\&quot;,\\&quot;content\\&quot;:\\&quot;\\&quot;,\\&quot;opt\\&quot;:{\\&quot;cpu\\&quot;:{\\&quot;freq\\&quot;:[3866.041875,1600,3900],\\&quot;usage\\&quot;:[0,0,1,2,1,1,0,2],\\&quot;load\\&quot;:[0.5,0.63,0.61]},\\&quot;memory\\&quot;:{\\&quot;ram\\&quot;:[15.54,12.01,22.7,2.85,9.67]},\\&quot;disks\\&quot;:{\\&quot;ssd\\&quot;:[219.1,13,194.9,6.3],\\&quot;hdd\\&quot;:[0,0,0,100]},\\&quot;temps\\&quot;:{\\&quot;core-0\\&quot;:[32,85,105],\\&quot;core-1\\&quot;:[36,85,105],\\&quot;core-2\\&quot;:[37,85,105],\\&quot;core-3\\&quot;:[38,85,105]}},\\&quot;attached\\&quot;:null}&quot;;\r\n\t\ttry ( final Reader reader = Decoding.of(new StringReader(payload));\r\n\t\t\t\tfinal Writer writer = new StringWriter() ) {\r\n\t\t\tCharStreams.copy(reader, writer);\r\n\t\t\tAssertions.assertEquals(expected, writer.toString());\r\n\t\t}\r\n\t\ttry ( final Reader reader = Decoding.of(new JsonReader(new StringReader(payload)));\r\n\t\t\t\tfinal Writer writer = new StringWriter() ) {\r\n\t\t\tCharStreams.copy(reader, writer);\r\n\t\t\tAssertions.assertEquals(expected, writer.toString());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNote that `CharStreams.copy` is taken from Google Guava from brevity.\r\n\r\nThe readers can now be consumed as regular JSON documents by library, `org.json`, Gson, Jackson, Moshi or whatever else.","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>In the meantime, while your server code is not yet fixed, I can provide an example of adapting the byte-encoded response to what you can parse, for the &quot;educational&quot; purposes to avoid bad practices in the future (simply don't do the following).</p>\n<p>The idea to solve your problem is <em>adapting</em> the incoming payload (byte-array-encoded text) to a byte/character-stream that can be consumed as JSON.</p>\n<p>Using the org.json is <em>might</em> be implemented like this (however, I'm not sure if I've implemented it properly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Decoding {\n\n    private Decoding() {\n    }\n\n    public static Reader of(final Reader reader) {\n        final JSONTokener jsonTokener = new JSONTokener(reader);\n        return new Reader() {\n            private boolean beginToProcess = true;\n            private boolean endToProcess = true;\n\n            @Override\n            public int read(@Nonnull final char[] buffer, final int offset, final int length)\n                    throws IOException {\n                if ( beginToProcess ) {\n                    final char ch = jsonTokener.nextClean();\n                    if ( ch != '[' ) {\n                        throw new IOException(&quot;Not an array begin: &quot; + ch);\n                    }\n                    beginToProcess = false;\n                }\n                if ( !jsonTokener.more() ) {\n                    if ( endToProcess ) {\n                        final char ch = jsonTokener.nextClean();\n                        if ( ch != '\\u0000' ) {\n                            throw new IOException(&quot;Not an array or document end: &quot; + ch);\n                        }\n                        endToProcess = false;\n                    }\n                    return -1;\n                }\n                final char b = (char) (int) jsonTokener.nextValue();\n                if ( jsonTokener.more() ) {\n                    final char ch = jsonTokener.nextClean();\n                    switch ( ch ) {\n                    case ',':\n                    case ']':\n                        // do nothing\n                        break;\n                    default:\n                        throw new IOException(&quot;Not an array delimiter: &quot; + ch);\n                    }\n                }\n                buffer[offset] = b;\n                return 1;\n            }\n\n            @Override\n            public void close()\n                    throws IOException {\n                reader.close();\n            }\n        };\n    }\n    ...\n</code></pre>\n<p>or using Gson for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ...\n    public static Reader of(final JsonReader jsonReader) {\n        return new Reader() {\n            private boolean beginToProcess = true;\n            private boolean endToProcess = true;\n\n            @Override\n            public int read(@Nonnull final char[] buffer, final int offset, final int length)\n                    throws IOException {\n                if ( beginToProcess ) {\n                    jsonReader.beginArray();\n                    beginToProcess = false;\n                }\n                if ( !jsonReader.hasNext() ) {\n                    if ( endToProcess ) {\n                        jsonReader.endArray();\n                        endToProcess = false;\n                    }\n                    return -1;\n                }\n                final int b = jsonReader.nextInt();\n                buffer[offset] = (char) b;\n                return 1;\n            }\n\n            @Override\n            public void close()\n                    throws IOException {\n                jsonReader.close();\n            }\n        };\n    }\n\n}\n</code></pre>\n<p>Both decoders are suboptimal and do not provide the maximum performance, but I hope you won't need it once your server is fixed. Now you can decode the input readers and convert them to valid JSON documents (in a JUnit 5 test):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class DecodingTest {\n\n    @Test\n    public void test()\n            throws IOException {\n        final String payload = &quot;[123,34,97,117,116,104,111,114,34,58,34,65,110,116,111,110,34,44,34,116,121,112,101,34,58,34,115,101,114,118,101,114,32,105,110,102,111,34,44,34,100,97,116,101,34,58,34,48,56,47,48,49,47,50,48,50,49,34,44,34,99,111,110,116,101,110,116,34,58,34,34,44,34,111,112,116,34,58,123,34,99,112,117,34,58,123,34,102,114,101,113,34,58,91,51,56,54,54,46,48,52,49,56,55,53,44,49,54,48,48,44,51,57,48,48,93,44,34,117,115,97,103,101,34,58,91,48,44,48,44,49,44,50,44,49,44,49,44,48,44,50,93,44,34,108,111,97,100,34,58,91,48,46,53,44,48,46,54,51,44,48,46,54,49,93,125,44,34,109,101,109,111,114,121,34,58,123,34,114,97,109,34,58,91,49,53,46,53,52,44,49,50,46,48,49,44,50,50,46,55,44,50,46,56,53,44,57,46,54,55,93,125,44,34,100,105,115,107,115,34,58,123,34,115,115,100,34,58,91,50,49,57,46,49,44,49,51,44,49,57,52,46,57,44,54,46,51,93,44,34,104,100,100,34,58,91,48,44,48,44,48,44,49,48,48,93,125,44,34,116,101,109,112,115,34,58,123,34,99,111,114,101,45,48,34,58,91,51,50,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,49,34,58,91,51,54,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,50,34,58,91,51,55,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,51,34,58,91,51,56,44,56,53,44,49,48,53,93,125,125,44,34,97,116,116,97,99,104,101,100,34,58,110,117,108,108,125]&quot;;\n        final String expected = &quot;{\\&quot;author\\&quot;:\\&quot;Anton\\&quot;,\\&quot;type\\&quot;:\\&quot;server info\\&quot;,\\&quot;date\\&quot;:\\&quot;08/01/2021\\&quot;,\\&quot;content\\&quot;:\\&quot;\\&quot;,\\&quot;opt\\&quot;:{\\&quot;cpu\\&quot;:{\\&quot;freq\\&quot;:[3866.041875,1600,3900],\\&quot;usage\\&quot;:[0,0,1,2,1,1,0,2],\\&quot;load\\&quot;:[0.5,0.63,0.61]},\\&quot;memory\\&quot;:{\\&quot;ram\\&quot;:[15.54,12.01,22.7,2.85,9.67]},\\&quot;disks\\&quot;:{\\&quot;ssd\\&quot;:[219.1,13,194.9,6.3],\\&quot;hdd\\&quot;:[0,0,0,100]},\\&quot;temps\\&quot;:{\\&quot;core-0\\&quot;:[32,85,105],\\&quot;core-1\\&quot;:[36,85,105],\\&quot;core-2\\&quot;:[37,85,105],\\&quot;core-3\\&quot;:[38,85,105]}},\\&quot;attached\\&quot;:null}&quot;;\n        try ( final Reader reader = Decoding.of(new StringReader(payload));\n                final Writer writer = new StringWriter() ) {\n            CharStreams.copy(reader, writer);\n            Assertions.assertEquals(expected, writer.toString());\n        }\n        try ( final Reader reader = Decoding.of(new JsonReader(new StringReader(payload)));\n                final Writer writer = new StringWriter() ) {\n            CharStreams.copy(reader, writer);\n            Assertions.assertEquals(expected, writer.toString());\n        }\n    }\n\n}\n</code></pre>\n<p>Note that <code>CharStreams.copy</code> is taken from Google Guava from brevity.</p>\n<p>The readers can now be consumed as regular JSON documents by library, <code>org.json</code>, Gson, Jackson, Moshi or whatever else.</p>\n"},{"tags":[],"owner":{"account_id":15106774,"reputation":562,"user_id":10902231,"display_name":"Felix Seifert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667914482,"creation_date":1667902145,"answer_id":74358953,"question_id":65631929,"body_markdown":"Besides achieving this in Jackson as [demonstrated by Simeon ](https://stackoverflow.com/a/65633241/10902231), you can achieve the same with **Gson**.\r\n\r\n```\r\nMap&lt;String, Object&gt; decode(final byte[] src) {\r\n    final String srcString = new String(src);\r\n    final Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n    return new Gson().fromJson(srcString, mapType);\r\n}\r\n```\r\n\r\nIn case you want to optimise the code and prevent anonymous inner classes, you can create a static inner class ...\r\n\r\n```\r\nprivate static class MapTypeToken extends TypeToken&lt;Map&lt;String, Object&gt;&gt; {}\r\n```\r\n... and use it in your `Type` variable ...\r\n\r\n```\r\nfinal Type mapType = new MapTypeToken().getType();\r\n```","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>Besides achieving this in Jackson as <a href=\"https://stackoverflow.com/a/65633241/10902231\">demonstrated by Simeon </a>, you can achieve the same with <strong>Gson</strong>.</p>\n<pre><code>Map&lt;String, Object&gt; decode(final byte[] src) {\n    final String srcString = new String(src);\n    final Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\n    return new Gson().fromJson(srcString, mapType);\n}\n</code></pre>\n<p>In case you want to optimise the code and prevent anonymous inner classes, you can create a static inner class ...</p>\n<pre><code>private static class MapTypeToken extends TypeToken&lt;Map&lt;String, Object&gt;&gt; {}\n</code></pre>\n<p>... and use it in your <code>Type</code> variable ...</p>\n<pre><code>final Type mapType = new MapTypeToken().getType();\n</code></pre>\n"}],"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5157,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667914482,"creation_date":1610119994,"question_id":65631929,"body_markdown":"I&#39;m making an Android App to manage a Unix computer remotely. The application also allows you to see real-time PC statistics (CPU temperature, CPU load, etc.). On the pc there is a Python server that through a socket sends a JSON string as a byte array to the app which contains the PC statistics, like this:\r\n\r\n    [123, 45, 67, 90, ...]\r\n\r\nThis is the contents of the byte array (I decoded it with a website):\r\n\r\n```json\r\n{\r\n    &quot;author&quot;: &quot;Anton&quot;,\r\n    &quot;type&quot;: &quot;server info&quot;,\r\n    &quot;date&quot;: &quot;08/01/2021&quot;,\r\n    &quot;content&quot;: &quot;&quot;,\r\n    &quot;opt&quot;: {\r\n        &quot;cpu&quot;: {\r\n            &quot;freq&quot;: [3866.041875, 1600.0, 3900.0],\r\n            &quot;usage&quot;: [0.0, 0.0, 1.0, 2.0, 1.0, 1.0, 0.0, 2.0],\r\n            &quot;load&quot;: [0.5, 0.63, 0.61]\r\n        },\r\n        &quot;memory&quot;: {\r\n            &quot;ram&quot;: [15.54, 12.01, 22.7, 2.85, 9.67]\r\n        },\r\n        &quot;disks&quot;: {\r\n            &quot;ssd&quot;: [219.1, 13.0, 194.9, 6.3],\r\n            &quot;hdd&quot;: [0.0, 0.0, 0, 100.0]\r\n        },\r\n        &quot;temps&quot;: {\r\n            &quot;core-0&quot;: [32.0, 85.0, 105.0],\r\n            &quot;core-1&quot;: [36.0, 85.0, 105.0],\r\n            &quot;core-2&quot;: [37.0, 85.0, 105.0],\r\n            &quot;core-3&quot;: [38.0, 85.0, 105.0]\r\n        }\r\n    },\r\n    &quot;attached&quot;: null\r\n}\r\n```\r\n\r\nHow can I transform the byte array into a structure like a `HashMap` or a JSON string, so that I can retrieve the PC statistics, and then view them in the App through ProgressiveBars?\r\n","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>I'm making an Android App to manage a Unix computer remotely. The application also allows you to see real-time PC statistics (CPU temperature, CPU load, etc.). On the pc there is a Python server that through a socket sends a JSON string as a byte array to the app which contains the PC statistics, like this:</p>\n<pre><code>[123, 45, 67, 90, ...]\n</code></pre>\n<p>This is the contents of the byte array (I decoded it with a website):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;author&quot;: &quot;Anton&quot;,\n    &quot;type&quot;: &quot;server info&quot;,\n    &quot;date&quot;: &quot;08/01/2021&quot;,\n    &quot;content&quot;: &quot;&quot;,\n    &quot;opt&quot;: {\n        &quot;cpu&quot;: {\n            &quot;freq&quot;: [3866.041875, 1600.0, 3900.0],\n            &quot;usage&quot;: [0.0, 0.0, 1.0, 2.0, 1.0, 1.0, 0.0, 2.0],\n            &quot;load&quot;: [0.5, 0.63, 0.61]\n        },\n        &quot;memory&quot;: {\n            &quot;ram&quot;: [15.54, 12.01, 22.7, 2.85, 9.67]\n        },\n        &quot;disks&quot;: {\n            &quot;ssd&quot;: [219.1, 13.0, 194.9, 6.3],\n            &quot;hdd&quot;: [0.0, 0.0, 0, 100.0]\n        },\n        &quot;temps&quot;: {\n            &quot;core-0&quot;: [32.0, 85.0, 105.0],\n            &quot;core-1&quot;: [36.0, 85.0, 105.0],\n            &quot;core-2&quot;: [37.0, 85.0, 105.0],\n            &quot;core-3&quot;: [38.0, 85.0, 105.0]\n        }\n    },\n    &quot;attached&quot;: null\n}\n</code></pre>\n<p>How can I transform the byte array into a structure like a <code>HashMap</code> or a JSON string, so that I can retrieve the PC statistics, and then view them in the App through ProgressiveBars?</p>\n"},{"tags":["java","jpa","ssl","ssl-certificate","p12"],"owner":{"account_id":19487712,"reputation":63,"user_id":14256662,"display_name":"Lftbrito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667914463,"creation_date":1667914463,"question_id":74361628,"body_markdown":"Im getting the erro `DerInputStream.getLength(): lengthTag=111, too big.` only after I build my project. If I run it on the IDE everything goes normal, but after a &quot;mvn clean package&quot; and try to run it, I get this error.\r\n\r\nHow Im trying to get the KeyStore.\r\n\r\n    \t\tInputStream keyInput = classLoader.getResourceAsStream(&quot;certfile/cert.p12&quot;);\r\n\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n\t\t\tkeyStore.load(keyInput, p12password.toCharArray());\r\n\t\t\tkeyInput.close();\r\n\r\nHow i built my cert\r\n\r\n    openssl pkcs12 -export -out cert.p12 -in cert_crt.pem -inkey cert_key.pem -passout pass: 123456\r\n\r\nI alredy tried to convert it to .jks. I did try to exclue it from filtering on .pom with:\r\n\r\n    &lt;resources&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/*.p12&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/resource&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/*.p12&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n\r\nNothing seems to work.\r\n\r\nObs.: It only happens after I built the project, it run normal if I execute the main class on the IDE.","title":"Erro after build when trying to get .p12 SSL certfile DerInputStream.getLength(): lengthTag=111, too big","body":"<p>Im getting the erro <code>DerInputStream.getLength(): lengthTag=111, too big.</code> only after I build my project. If I run it on the IDE everything goes normal, but after a &quot;mvn clean package&quot; and try to run it, I get this error.</p>\n<p>How Im trying to get the KeyStore.</p>\n<pre><code>        InputStream keyInput = classLoader.getResourceAsStream(&quot;certfile/cert.p12&quot;);\n\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        keyStore.load(keyInput, p12password.toCharArray());\n        keyInput.close();\n</code></pre>\n<p>How i built my cert</p>\n<pre><code>openssl pkcs12 -export -out cert.p12 -in cert_crt.pem -inkey cert_key.pem -passout pass: 123456\n</code></pre>\n<p>I alredy tried to convert it to .jks. I did try to exclue it from filtering on .pom with:</p>\n<pre><code>&lt;resources&gt;\n&lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/*.p12&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/resource&gt;\n&lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;includes&gt;\n        &lt;include&gt;**/*.p12&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/resource&gt;\n</code></pre>\n\n<p>Nothing seems to work.</p>\n<p>Obs.: It only happens after I built the project, it run normal if I execute the main class on the IDE.</p>\n"},{"tags":["java","quarkus","quarkus-qute"],"answers":[{"comments":[{"owner":{"account_id":13610739,"reputation":21,"user_id":9818338,"display_name":"tom"},"score":0,"creation_date":1643181617,"post_id":70838673,"comment_id":125268513,"body_markdown":"Thank you so much for the help. I didn&#39;t notice this paragraph in the docs. Sorry - will be more thoroughly next time.","body":"Thank you so much for the help. I didn&#39;t notice this paragraph in the docs. Sorry - will be more thoroughly next time."}],"tags":[],"owner":{"account_id":22763698,"reputation":11,"user_id":16922093,"display_name":"kevin.conner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643048780,"creation_date":1643048780,"answer_id":70838673,"question_id":70632082,"body_markdown":"I had the same issue.  From the documentation: \r\n\r\n&gt; However, the keys cannot be used directly.\r\n&gt; Instead, a prefix is used to avoid possible collisions with variables\r\n&gt; from the outer scope. By default, the alias of an iterated element\r\n&gt; suffixed with an underscore is used as a prefix. For example, the\r\n&gt; hasNext key must be prefixed with it_ inside an {#each} section:\r\n&gt; {it_hasNext}.\r\n\r\nI had to update the `{count}` to `{it_count}` or `{item_count}` for my application after upgrading.\r\n\r\n    {#each items}\r\n      {it_count}. {it.name} \r\n      {#if it_hasNext}&lt;br&gt;{/if} \r\n    {/each}\r\n\r\nSimilarly for a for loop:\r\n\r\n    {#for item in items}\r\n      {item_count}. {item.name} \r\n      {#if item_hasNext}&lt;br&gt;{/if} \r\n    {/each}\r\n\r\n[Quarkus reference][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/qute-reference#loop_section","title":"quarkus qute: iteration metadata count, hasNext, ... not working","body":"<p>I had the same issue.  From the documentation:</p>\n<blockquote>\n<p>However, the keys cannot be used directly.\nInstead, a prefix is used to avoid possible collisions with variables\nfrom the outer scope. By default, the alias of an iterated element\nsuffixed with an underscore is used as a prefix. For example, the\nhasNext key must be prefixed with it_ inside an {#each} section:\n{it_hasNext}.</p>\n</blockquote>\n<p>I had to update the <code>{count}</code> to <code>{it_count}</code> or <code>{item_count}</code> for my application after upgrading.</p>\n<pre><code>{#each items}\n  {it_count}. {it.name} \n  {#if it_hasNext}&lt;br&gt;{/if} \n{/each}\n</code></pre>\n<p>Similarly for a for loop:</p>\n<pre><code>{#for item in items}\n  {item_count}. {item.name} \n  {#if item_hasNext}&lt;br&gt;{/if} \n{/each}\n</code></pre>\n<p><a href=\"https://quarkus.io/guides/qute-reference#loop_section\" rel=\"nofollow noreferrer\">Quarkus reference</a></p>\n"},{"tags":[],"owner":{"account_id":3138056,"reputation":1166,"user_id":2654154,"display_name":"Martin Kouba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667914164,"creation_date":1667914164,"answer_id":74361553,"question_id":70632082,"body_markdown":"For the record - this breaking change got introduced in 2.5.0 and is documented in the [migration guide](https://github.com/quarkusio/quarkus/wiki/Migration-Guide-2.5#iteration-metadata-prefix). It&#39;s always good to read the migration guides! ;-)","title":"quarkus qute: iteration metadata count, hasNext, ... not working","body":"<p>For the record - this breaking change got introduced in 2.5.0 and is documented in the <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-2.5#iteration-metadata-prefix\" rel=\"nofollow noreferrer\">migration guide</a>. It's always good to read the migration guides! ;-)</p>\n"}],"owner":{"account_id":13610739,"reputation":21,"user_id":9818338,"display_name":"tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667914164,"creation_date":1641642934,"question_id":70632082,"body_markdown":"When making the tutorial\r\n\r\nhttps://kubebyexample.com/en/learning-paths/developing-quarkus-kubernetes/templating-qute-templating-engine/rendering-periodic\r\n\r\nthe following error appears\r\n\r\n```\r\nquarkus.qute.TemplateException: Entry &quot;count&quot; not found in the data map in expression {count} in template reports/v1/report_01.json.template on line 5\r\n```\r\n\r\nConfiguration: Quarkus 2.6.1.Final, surefire-plugin 3.0.0-M5, compiler-plugin 3.8.1\r\n\r\nWhen removing the &quot;count&quot; from the json-template, it works perfect\r\n\r\nI tried also another example (from Sebastian Daschner)\r\n\r\nhttps://github.com/sdaschner/quarkus-playground/tree/qute-example/src/main/java/com/sebastian_daschner/entries\r\n\r\nThis works perfect with 1.3.1.Final but after updating to 2.6.1.Final the same error occurs.\r\n\r\nCan you pls help me.\r\nThomas","title":"quarkus qute: iteration metadata count, hasNext, ... not working","body":"<p>When making the tutorial</p>\n<p><a href=\"https://kubebyexample.com/en/learning-paths/developing-quarkus-kubernetes/templating-qute-templating-engine/rendering-periodic\" rel=\"nofollow noreferrer\">https://kubebyexample.com/en/learning-paths/developing-quarkus-kubernetes/templating-qute-templating-engine/rendering-periodic</a></p>\n<p>the following error appears</p>\n<pre><code>quarkus.qute.TemplateException: Entry &quot;count&quot; not found in the data map in expression {count} in template reports/v1/report_01.json.template on line 5\n</code></pre>\n<p>Configuration: Quarkus 2.6.1.Final, surefire-plugin 3.0.0-M5, compiler-plugin 3.8.1</p>\n<p>When removing the &quot;count&quot; from the json-template, it works perfect</p>\n<p>I tried also another example (from Sebastian Daschner)</p>\n<p><a href=\"https://github.com/sdaschner/quarkus-playground/tree/qute-example/src/main/java/com/sebastian_daschner/entries\" rel=\"nofollow noreferrer\">https://github.com/sdaschner/quarkus-playground/tree/qute-example/src/main/java/com/sebastian_daschner/entries</a></p>\n<p>This works perfect with 1.3.1.Final but after updating to 2.6.1.Final the same error occurs.</p>\n<p>Can you pls help me.\nThomas</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":6513889,"reputation":609,"user_id":5040323,"accept_rate":75,"display_name":"Shivanshu Verma"},"score":2,"creation_date":1667911875,"post_id":74360837,"comment_id":131276359,"body_markdown":"btn=findViewById(R.id.button);","body":"btn=findViewById(R.id.button);"},{"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"score":0,"creation_date":1667915131,"post_id":74360837,"comment_id":131277779,"body_markdown":"Does this answer your question? [findViewByID returns null](https://stackoverflow.com/questions/3264610/findviewbyid-returns-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3264610/findviewbyid-returns-null\">findViewByID returns null</a>"}],"answers":[{"tags":[],"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667912791,"creation_date":1667912791,"answer_id":74361258,"question_id":74360837,"body_markdown":"    btn.findViewById(R.id.button);\r\n\r\nYou&#39;re not supposed to use it this way because `btn` is null at this point.\r\nYou have to do the following:\r\n\r\n    btn = (Button)findViewById(R.id.button);","title":"Cannot find the element by Id in the mainActivityJava","body":"<pre><code>btn.findViewById(R.id.button);\n</code></pre>\n<p>You're not supposed to use it this way because <code>btn</code> is null at this point.\nYou have to do the following:</p>\n<pre><code>btn = (Button)findViewById(R.id.button);\n</code></pre>\n"}],"owner":{"account_id":22508111,"reputation":25,"user_id":16703400,"display_name":"Mohammad Reza Zolfaghari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74361258,"answer_count":1,"score":0,"last_activity_date":1667912791,"creation_date":1667910772,"question_id":74360837,"body_markdown":"I want to select the button element by ID, but when I run the program, I get the app keeps stopping error.\r\nI ran the program in debug mode and the error Caused by: \r\n\r\n``` java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.widget.Button.findViewById(int)&#39; on a null object reference ```\r\n\r\nEven when I click on `R.id.button`, the button element is displayed in the xml file.\r\n\r\nmainActivityFile : \r\n```\r\npackage com.example.app;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity6 extends AppCompatActivity {\r\n\r\n    private Button btn;\r\n     private TextView txt;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main6);\r\n\r\n        btn.findViewById(R.id.button);\r\n        txt.findViewById(R.id.txt);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                txt.setText(&quot;This is a new text.&quot;);\r\n            }\r\n        });\r\n\r\n\r\n       // Toast.makeText(this, &quot;str&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n}\r\n```\r\nxml file : \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity6&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:autoSizeTextType=&quot;uniform&quot;\r\n        android:autoSizeMinTextSize=&quot;25sp&quot;\r\n        android:autoSizeMaxTextSize=&quot;100dp&quot;\r\n        android:autoSizeStepGranularity=&quot;2sp&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n","title":"Cannot find the element by Id in the mainActivityJava","body":"<p>I want to select the button element by ID, but when I run the program, I get the app keeps stopping error.\nI ran the program in debug mode and the error Caused by:</p>\n<p><code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View android.widget.Button.findViewById(int)' on a null object reference</code></p>\n<p>Even when I click on <code>R.id.button</code>, the button element is displayed in the xml file.</p>\n<p>mainActivityFile :</p>\n<pre><code>package com.example.app;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity6 extends AppCompatActivity {\n\n    private Button btn;\n     private TextView txt;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main6);\n\n        btn.findViewById(R.id.button);\n        txt.findViewById(R.id.txt);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                txt.setText(&quot;This is a new text.&quot;);\n            }\n        });\n\n\n       // Toast.makeText(this, &quot;str&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity6&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:autoSizeTextType=&quot;uniform&quot;\n        android:autoSizeMinTextSize=&quot;25sp&quot;\n        android:autoSizeMaxTextSize=&quot;100dp&quot;\n        android:autoSizeStepGranularity=&quot;2sp&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","rest","versioning","api-versioning"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1540334883,"post_id":52958734,"comment_id":92824862,"body_markdown":"Do you really need a new version? Would not an extension of the current one be enough? Then afterwards you can deprecate piecemeal bits as desired.","body":"Do you really need a new version? Would not an extension of the current one be enough? Then afterwards you can deprecate piecemeal bits as desired."},{"owner":{"account_id":2311868,"reputation":3097,"user_id":2029822,"display_name":"Lee Irvine"},"score":0,"creation_date":1540335203,"post_id":52958734,"comment_id":92824936,"body_markdown":"Agree with comment above. You are going to fast. The safe approach will be to build a hybrid v1/v2, and slowly deprecate v1 stuff until the v1 and v2 can be separated without risk to the live application.","body":"Agree with comment above. You are going to fast. The safe approach will be to build a hybrid v1/v2, and slowly deprecate v1 stuff until the v1 and v2 can be separated without risk to the live application."}],"answers":[{"comments":[{"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"score":1,"creation_date":1540335868,"post_id":52958867,"comment_id":92825101,"body_markdown":"Unfortunately I cannot just forget about v1. As long as our clients still use v1, i will have to fix critical bugs there. And our clients are guaranteed by contract to have a working v1 for about 6 months after release of a v2 before we can shut down v1 and force them to v2. It is because of this ongoing maintenance that I would like to avoid having different projects/branches for v1 and v2, as I would have to maintain both.","body":"Unfortunately I cannot just forget about v1. As long as our clients still use v1, i will have to fix critical bugs there. And our clients are guaranteed by contract to have a working v1 for about 6 months after release of a v2 before we can shut down v1 and force them to v2. It is because of this ongoing maintenance that I would like to avoid having different projects/branches for v1 and v2, as I would have to maintain both."}],"tags":[],"owner":{"account_id":5091902,"reputation":1271,"user_id":4084697,"display_name":"Eric Green"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540335377,"creation_date":1540335377,"answer_id":52958867,"question_id":52958734,"body_markdown":"If I were faced with the situation you speak of, I would first try to keep my new version (v2) backward compatible with my first version (v1). If that were the case, you could just add functionality and update your API documentation, keeping only one active code base. I would think you could even add things to the response payload as long as the data coming back would not break anyone&#39;s code - sort of like adding fields to an existing database schema.\r\n\r\nIf v2 was not backward compatible with v1, you could possibly move v1 to another server and notify your users that it is being placed there for a stated, limited period to give them time to make code changes necessary to switch to v2, but also notify them that this version is no longer being updated and if they have issues, they will need to switch to the new version. Hence, v2 is the HEAD version of your code base with no other branches under active development.\r\n\r\nI hope this helps and offers something you didn&#39;t already think of.","title":"REST API: Multiple versions, single application?","body":"<p>If I were faced with the situation you speak of, I would first try to keep my new version (v2) backward compatible with my first version (v1). If that were the case, you could just add functionality and update your API documentation, keeping only one active code base. I would think you could even add things to the response payload as long as the data coming back would not break anyone's code - sort of like adding fields to an existing database schema.</p>\n\n<p>If v2 was not backward compatible with v1, you could possibly move v1 to another server and notify your users that it is being placed there for a stated, limited period to give them time to make code changes necessary to switch to v2, but also notify them that this version is no longer being updated and if they have issues, they will need to switch to the new version. Hence, v2 is the HEAD version of your code base with no other branches under active development.</p>\n\n<p>I hope this helps and offers something you didn't already think of.</p>\n"},{"comments":[{"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"score":2,"creation_date":1540401402,"post_id":52959537,"comment_id":92855705,"body_markdown":"as i cannot edit my comment, let me post a new one which i think makes more clear what my main question here is: I don&#39;t think REST, HATEOS etc has much to do with my question, so maybe I should have just spoken of a &quot;web service&quot;. The main question is what specific implementation techniques there are to mix v1 and v2 API in one code base, where some code must be shared acrros v1 and v2, and some is different.","body":"as i cannot edit my comment, let me post a new one which i think makes more clear what my main question here is: I don&#39;t think REST, HATEOS etc has much to do with my question, so maybe I should have just spoken of a &quot;web service&quot;. The main question is what specific implementation techniques there are to mix v1 and v2 API in one code base, where some code must be shared acrros v1 and v2, and some is different."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1625565375,"post_id":52959537,"comment_id":120654063,"body_markdown":"@user3237736 `so maybe I should have just spoken of a &quot;web service&quot;`, if you are concerned about the exchange of data than my answer still applies as the data exchanged is the important part not how they are implemented in the back. For a pure implementation perspective general SOLID principles apply. I.e. you&#39;ve mentioned that your API contains stuff that does not change. Separations of concerns would recommend to split those into own little units then. As such, the question at hand should then be rephrased into a more generic &quot;How to structure code to support software evolution&quot;","body":"@user3237736 <code>so maybe I should have just spoken of a &quot;web service&quot;</code>, if you are concerned about the exchange of data than my answer still applies as the data exchanged is the important part not how they are implemented in the back. For a pure implementation perspective general SOLID principles apply. I.e. you&#39;ve mentioned that your API contains stuff that does not change. Separations of concerns would recommend to split those into own little units then. As such, the question at hand should then be rephrased into a more generic &quot;How to structure code to support software evolution&quot;"}],"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1540341111,"creation_date":1540341111,"answer_id":52959537,"question_id":52958734,"body_markdown":"The v1/v2 dilemma is a strong hint that you actually do not have a REST API to start with. Peers in a REST architecture exchange more or less standardized content by clients requesting representations of media-types they understand. This technique is called content-type negotiation. Of course, a badly written server may ignore proposed media-types and send one the client does not understand. This will, though, prevent the client from interacting with the server further. A well-behaved server therefore should attempt to serve a client request as best as it can.\r\n\r\nAccording to Fielding:\r\n\r\n&gt; A REST API should spend almost all of its descriptive effort in defining the media type(s) used for representing resources and driving application state, or in defining extended relation names and/or hypertext-enabled mark-up for existing standard media types. Any effort spent describing what methods to use on what URIs of interest should be entirely defined within the scope of the processing rules for a media type (and, in most cases, already defined by existing media types). [*Failure here implies that out-of-band information is driving interaction instead of hypertext*.] &lt;br&gt;[Source](https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven)\r\n\r\nA media type describes how the syntax of a payload exchanged for such a media-type looks like as well as the semantics each element in that representation has. With the help of meaningful link relation names and media types a server can teach a client on the next options available a client can make use of while progressing through its task. I.e. think of a case where a previous response contained a link relation `create` to the client. The client does not really know how something has to look like in order to be processable by the server, thoug on invoking the URI returned for the `create` link relation name the server responds with a form like representation along the line of `application/vnd.xyz-form+json` where this media type defines some input controls the client can use in order to generate a request representation expected by the server on the target endpoint. Similar to the Web the custom form also contains a HTTP action as well as a target URI provided by the client to send the response to and eventually also the representation preferred by the server.\r\n\r\nClients in a REST architecture shouldn&#39;t care about the URI, so returning an URI containing either `v1` or `v2` should be more or less meaningless to them. Fielding even stated that [a REST API itself shouldn&#39;t be versioned at all](https://www.slideshare.net/evolve_conference/201308-fielding-evolve/31)! What is important though is that the client and server are able to understand the payload received. \r\n\r\nInstead of versioning the URI or API, the media type describing the syntax and semantic actually need to be versioned. I.e. if you take a look at the browser based Web (the big sibling of REST) and here HTML in particular you will notice that it is designed in a way to require new version to stay backwards compatible. I.e. client and server receiving a `text/html` defined payload will be able to handle pure HTML (1.0) up to HTML5 content regardless which actuall syntax (maybe even a mixture) was used. Other media types, however, might not be that lenient. Here you could either make use of profiles or register a whole new media-type if you think the old and new one are completly incompatible to each other.\r\n\r\nEither way, I hope I could shed a bit more light on REST architecture and how you might get there. I am well aware that my suggestion may not be easy to achieve, though once you got it you basically decoupled clients from your API and gave the latter one freedom to evolve while not having to fear breaking clients. There will still be a coupling but both, client and server, will couple to the media types rather than to each other. Before creating a new media-type it is probably worth looking for [already existing ones](https://www.iana.org/assignments/media-types/media-types.xhtml)\r\n\r\n\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>The v1/v2 dilemma is a strong hint that you actually do not have a REST API to start with. Peers in a REST architecture exchange more or less standardized content by clients requesting representations of media-types they understand. This technique is called content-type negotiation. Of course, a badly written server may ignore proposed media-types and send one the client does not understand. This will, though, prevent the client from interacting with the server further. A well-behaved server therefore should attempt to serve a client request as best as it can.</p>\n\n<p>According to Fielding:</p>\n\n<blockquote>\n  <p>A REST API should spend almost all of its descriptive effort in defining the media type(s) used for representing resources and driving application state, or in defining extended relation names and/or hypertext-enabled mark-up for existing standard media types. Any effort spent describing what methods to use on what URIs of interest should be entirely defined within the scope of the processing rules for a media type (and, in most cases, already defined by existing media types). [<em>Failure here implies that out-of-band information is driving interaction instead of hypertext</em>.] <br><a href=\"https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n\n<p>A media type describes how the syntax of a payload exchanged for such a media-type looks like as well as the semantics each element in that representation has. With the help of meaningful link relation names and media types a server can teach a client on the next options available a client can make use of while progressing through its task. I.e. think of a case where a previous response contained a link relation <code>create</code> to the client. The client does not really know how something has to look like in order to be processable by the server, thoug on invoking the URI returned for the <code>create</code> link relation name the server responds with a form like representation along the line of <code>application/vnd.xyz-form+json</code> where this media type defines some input controls the client can use in order to generate a request representation expected by the server on the target endpoint. Similar to the Web the custom form also contains a HTTP action as well as a target URI provided by the client to send the response to and eventually also the representation preferred by the server.</p>\n\n<p>Clients in a REST architecture shouldn't care about the URI, so returning an URI containing either <code>v1</code> or <code>v2</code> should be more or less meaningless to them. Fielding even stated that <a href=\"https://www.slideshare.net/evolve_conference/201308-fielding-evolve/31\" rel=\"nofollow noreferrer\">a REST API itself shouldn't be versioned at all</a>! What is important though is that the client and server are able to understand the payload received. </p>\n\n<p>Instead of versioning the URI or API, the media type describing the syntax and semantic actually need to be versioned. I.e. if you take a look at the browser based Web (the big sibling of REST) and here HTML in particular you will notice that it is designed in a way to require new version to stay backwards compatible. I.e. client and server receiving a <code>text/html</code> defined payload will be able to handle pure HTML (1.0) up to HTML5 content regardless which actuall syntax (maybe even a mixture) was used. Other media types, however, might not be that lenient. Here you could either make use of profiles or register a whole new media-type if you think the old and new one are completly incompatible to each other.</p>\n\n<p>Either way, I hope I could shed a bit more light on REST architecture and how you might get there. I am well aware that my suggestion may not be easy to achieve, though once you got it you basically decoupled clients from your API and gave the latter one freedom to evolve while not having to fear breaking clients. There will still be a coupling but both, client and server, will couple to the media types rather than to each other. Before creating a new media-type it is probably worth looking for <a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"nofollow noreferrer\">already existing ones</a></p>\n"},{"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":1,"creation_date":1540384062,"post_id":52968432,"comment_id":92844155,"body_markdown":"REST is different in terms of versioning than a (typical) framework API by a client not interested in the URI itself but in the content it receives and the hint about which representation the content was created for (media-type). For RPC-like APIs, however, I admit that such a design would be benefitial, though REST is just the opposite, at least it should be though ppl are good in confusing REST for anything related to HTTP and sticking to ther RPC-like behaviors ...","body":"REST is different in terms of versioning than a (typical) framework API by a client not interested in the URI itself but in the content it receives and the hint about which representation the content was created for (media-type). For RPC-like APIs, however, I admit that such a design would be benefitial, though REST is just the opposite, at least it should be though ppl are good in confusing REST for anything related to HTTP and sticking to ther RPC-like behaviors ..."},{"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"score":6,"creation_date":1540401173,"post_id":52968432,"comment_id":92855599,"body_markdown":"Sankaraganesh, the question is not how to provide a /v2 endpoint, but how to implement a mix of v1 and v2 services without redundancy and inconsistency in my code - my question is geared towards the actual, specific implementation technique, and whether there are frameworks or design patterns for this","body":"Sankaraganesh, the question is not how to provide a /v2 endpoint, but how to implement a mix of v1 and v2 services without redundancy and inconsistency in my code - my question is geared towards the actual, specific implementation technique, and whether there are frameworks or design patterns for this"},{"owner":{"account_id":3107006,"reputation":10136,"user_id":2629588,"accept_rate":50,"display_name":"Sankarganesh Eswaran"},"score":0,"creation_date":1540476498,"post_id":52968432,"comment_id":92887865,"body_markdown":"@user3237736 In that case, can you edit and remove the following from your question? // I don&#39;t really want to branch off a v2 of my project and then build and deploy v1 and v2 as separate applications, because then I would have maintenance, bugfixing, configuration changes etc in two applications//","body":"@user3237736 In that case, can you edit and remove the following from your question? // I don&#39;t really want to branch off a v2 of my project and then build and deploy v1 and v2 as separate applications, because then I would have maintenance, bugfixing, configuration changes etc in two applications//"},{"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"score":4,"creation_date":1540569752,"post_id":52968432,"comment_id":92928361,"body_markdown":"@SankarganeshEswaran no i can&#39;t remove it, it&#39;s an important part of the question. i think you still misunderstand. I need v1 and v2 API, but don&#39;t want v1 and v2 application. what you suggested is just providing different version to the client through different paths. but that is not the challenge here.","body":"@SankarganeshEswaran no i can&#39;t remove it, it&#39;s an important part of the question. i think you still misunderstand. I need v1 and v2 API, but don&#39;t want v1 and v2 application. what you suggested is just providing different version to the client through different paths. but that is not the challenge here."}],"tags":[],"owner":{"account_id":3107006,"reputation":10136,"user_id":2629588,"accept_rate":50,"display_name":"Sankarganesh Eswaran"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1540382258,"creation_date":1540382258,"answer_id":52968432,"question_id":52958734,"body_markdown":"Hope you have seen \r\n\r\n&gt; 1. https://stackoverflow.com/questions/8907512/api-design-ensuring-backward-compatibility\r\n&gt; 2. http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/32713.pdf\r\n\r\n\r\nHaving two versions of API in the same application is quiet enough\r\n\r\n&gt; api.mysite.com/[version1]/api/url\r\n&gt; \r\n&gt; api.mysite.com/[version2]/api/url\r\n\r\nNot sure why you need to build and deploy v1 and v2 as separate applications? Unless you are planning for a Zero-Down-time rolling upgrade in production","title":"REST API: Multiple versions, single application?","body":"<p>Hope you have seen </p>\n\n<blockquote>\n  <ol>\n  <li><a href=\"https://stackoverflow.com/questions/8907512/api-design-ensuring-backward-compatibility\">API design ensuring backward compatibility</a></li>\n  <li><a href=\"http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/32713.pdf\" rel=\"nofollow noreferrer\">http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/32713.pdf</a></li>\n  </ol>\n</blockquote>\n\n<p>Having two versions of API in the same application is quiet enough</p>\n\n<blockquote>\n  <p>api.mysite.com/[version1]/api/url</p>\n  \n  <p>api.mysite.com/[version2]/api/url</p>\n</blockquote>\n\n<p>Not sure why you need to build and deploy v1 and v2 as separate applications? Unless you are planning for a Zero-Down-time rolling upgrade in production</p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667912489,"creation_date":1561449657,"answer_id":56749424,"question_id":52958734,"body_markdown":"I like to bring up the following strategies into the discussion, and both are strategies in [continuous delivery][1].\r\n\r\n**Branch Abstraction**\r\n\r\nThe basic idea is to place an abstract layer in between the clients and your current implementation. Then introduce a second implementation behind the abstract layer. This gives you the opportunity to progress within your normal code base but support new features for your next version API instantly.\r\n\r\nSee *[BranchByAbstraction][2]*.\r\n\r\n**Feature Toggles**\r\n\r\nAdd features to your code base without making them visible to your customers. This allows you stay on your main development branch even if things are not ready for end users yet.\r\n\r\nSee *[Feature Toggles (aka Feature Flags)][3]*\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Continuous_delivery\r\n  [2]: https://martinfowler.com/bliki/BranchByAbstraction.html\r\n  [3]: https://martinfowler.com/articles/feature-toggles.html\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>I like to bring up the following strategies into the discussion, and both are strategies in <a href=\"https://en.wikipedia.org/wiki/Continuous_delivery\" rel=\"nofollow noreferrer\">continuous delivery</a>.</p>\n<p><strong>Branch Abstraction</strong></p>\n<p>The basic idea is to place an abstract layer in between the clients and your current implementation. Then introduce a second implementation behind the abstract layer. This gives you the opportunity to progress within your normal code base but support new features for your next version API instantly.</p>\n<p>See <em><a href=\"https://martinfowler.com/bliki/BranchByAbstraction.html\" rel=\"nofollow noreferrer\">BranchByAbstraction</a></em>.</p>\n<p><strong>Feature Toggles</strong></p>\n<p>Add features to your code base without making them visible to your customers. This allows you stay on your main development branch even if things are not ready for end users yet.</p>\n<p>See <em><a href=\"https://martinfowler.com/articles/feature-toggles.html\" rel=\"nofollow noreferrer\">Feature Toggles (aka Feature Flags)</a></em></p>\n"},{"comments":[{"owner":{"account_id":226443,"reputation":144,"user_id":487494,"display_name":"Gijs"},"score":0,"creation_date":1631538892,"post_id":68267490,"comment_id":122241598,"body_markdown":"Did you give the [Abstract Factory pattern](https://en.wikipedia.org/wiki/Abstract_factory_pattern) a thought yet?","body":"Did you give the <a href=\"https://en.wikipedia.org/wiki/Abstract_factory_pattern\" rel=\"nofollow noreferrer\">Abstract Factory pattern</a> a thought yet?"},{"owner":{"account_id":2344069,"reputation":128,"user_id":2054918,"display_name":"Amega"},"score":0,"creation_date":1631635603,"post_id":68267490,"comment_id":122273986,"body_markdown":"@JavaJigs that&#39;s actually it. At least, this pattern is one of the approaches which implements the described idea.","body":"@JavaJigs that&#39;s actually it. At least, this pattern is one of the approaches which implements the described idea."}],"tags":[],"owner":{"account_id":2344069,"reputation":128,"user_id":2054918,"display_name":"Amega"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667912734,"creation_date":1625561892,"answer_id":68267490,"question_id":52958734,"body_markdown":"I&#39;m also now facing such task, and still having no useful answers.\r\n\r\nThough I believe having separate v1 and v2 instances in parallel can still be at least a fallback-solution, I&#39;m currently thinking about a scheme for a single application, which will heavily use the benefits of [dependency injection][1] in the application.\r\n\r\nSo, basically idea is to configure your [IoC][2] container accordingly to a received request, so that each and every service would receive a needed version of its dependencies. This can theoretically be a good solution, but it requires an already near to ideal architecture of your application (which is often not the case) where all the [concerns are separated][3], etc. As [SOLID][4] as possible, in other words.\r\n\r\nAt least with this approach, you&#39;ll be able to quickly identify all the components of your codebase which require refactoring, though making the whole process not a quick one. Besides, I believe the closer changes approach the core of the application, the more difficult parallel versioning may be, but we will see.\r\n\r\nI should point out once more, that for me it&#39;s still just an idea which I&#39;m going to research further specifically for my project, so I&#39;m not sure how easy or problematic it will be in fact.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_injection\r\n  [2]: https://en.wikipedia.org/wiki/Inversion_of_control\r\n  [3]: https://en.wikipedia.org/wiki/Separation_of_concerns\r\n  [4]: https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\r\n\r\n\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>I'm also now facing such task, and still having no useful answers.</p>\n<p>Though I believe having separate v1 and v2 instances in parallel can still be at least a fallback-solution, I'm currently thinking about a scheme for a single application, which will heavily use the benefits of <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a> in the application.</p>\n<p>So, basically idea is to configure your <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"nofollow noreferrer\">IoC</a> container accordingly to a received request, so that each and every service would receive a needed version of its dependencies. This can theoretically be a good solution, but it requires an already near to ideal architecture of your application (which is often not the case) where all the <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">concerns are separated</a>, etc. As <a href=\"https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\" rel=\"nofollow noreferrer\">SOLID</a> as possible, in other words.</p>\n<p>At least with this approach, you'll be able to quickly identify all the components of your codebase which require refactoring, though making the whole process not a quick one. Besides, I believe the closer changes approach the core of the application, the more difficult parallel versioning may be, but we will see.</p>\n<p>I should point out once more, that for me it's still just an idea which I'm going to research further specifically for my project, so I'm not sure how easy or problematic it will be in fact.</p>\n"}],"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14639,"favorite_count":0,"down_vote_count":2,"up_vote_count":22,"closed_date":1625591963,"answer_count":5,"score":20,"last_activity_date":1667912734,"creation_date":1540334262,"question_id":52958734,"body_markdown":"I am working on a REST API where I will have to introduce some breaking changes soon, so a v2 is needed. We still need to support v1 for a couple of months though in parallel, to give our clients time to switch over to the new API whenever they are ready. Our API is offered via shared cloud, and all our clients share the same system backend, especially a single, shared database. \r\n\r\nI have found a lot of articles about REST API versioning, but they were all more from a client&#39;s point of view, or high-level design point of view. That&#39;s not really my concern, our API already has a versioning in the URI, so offering services with a /v2 base path won&#39;t be aproblem.\r\n\r\nHowever I am asking myself how I am actually going to implement this, and I haven&#39;t really found good articles on that. I don&#39;t really want to branch off a v2 of my project and then build and deploy v1 and v2 as separate applications, because then I would have maintenance, bugfixing, configuration changes etc in two applications, which is double work and carries the usual dangers of redundancy (i.e.: possible inconsistencies between the versions). Also, the v2 of course is not different in every service, so most of the code would still be the same.\r\n\r\nIs there any best practices on how to technically implement a REST API in a single application that provides multiple versions to the outside, and where some code is shared (i.e.: v2/someService would internally redirect to v1/someService), and just the actual differences are coded in new services? Maybe there&#39;s even frameworks that help with designing this? The app is coded in Java with Spring MVC if that&#39;s helpful. \r\n\r\nI&#39;m thankful for any tips or resources on how to tackle this. Thanks!\r\n\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>I am working on a REST API where I will have to introduce some breaking changes soon, so a v2 is needed. We still need to support v1 for a couple of months though in parallel, to give our clients time to switch over to the new API whenever they are ready. Our API is offered via shared cloud, and all our clients share the same system backend, especially a single, shared database. </p>\n\n<p>I have found a lot of articles about REST API versioning, but they were all more from a client's point of view, or high-level design point of view. That's not really my concern, our API already has a versioning in the URI, so offering services with a /v2 base path won't be aproblem.</p>\n\n<p>However I am asking myself how I am actually going to implement this, and I haven't really found good articles on that. I don't really want to branch off a v2 of my project and then build and deploy v1 and v2 as separate applications, because then I would have maintenance, bugfixing, configuration changes etc in two applications, which is double work and carries the usual dangers of redundancy (i.e.: possible inconsistencies between the versions). Also, the v2 of course is not different in every service, so most of the code would still be the same.</p>\n\n<p>Is there any best practices on how to technically implement a REST API in a single application that provides multiple versions to the outside, and where some code is shared (i.e.: v2/someService would internally redirect to v1/someService), and just the actual differences are coded in new services? Maybe there's even frameworks that help with designing this? The app is coded in Java with Spring MVC if that's helpful. </p>\n\n<p>I'm thankful for any tips or resources on how to tackle this. Thanks!</p>\n"},{"tags":["java","spring","tomcat7","applicationcontext"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1455778645,"post_id":35474592,"comment_id":58644067,"body_markdown":"Circular reference to WHAT? Show the complete error message/stack trace.","body":"Circular reference to WHAT? Show the complete error message/stack trace."},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":0,"creation_date":1455778658,"post_id":35474592,"comment_id":58644075,"body_markdown":"This needs a lote more informations. An empty context and vague descritpion doesn&#39;t help.","body":"This needs a lote more informations. An empty context and vague descritpion doesn&#39;t help."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455778998,"post_id":35474592,"comment_id":58644234,"body_markdown":"@trappski please check applocationContext.xml","body":"@trappski please check applocationContext.xml"},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455779025,"post_id":35474592,"comment_id":58644247,"body_markdown":"@JimGarrison check StackTrace","body":"@JimGarrison check StackTrace"},{"owner":{"account_id":7677535,"reputation":10742,"user_id":5817888,"accept_rate":33,"display_name":"J&#233;r&#233;mie B"},"score":0,"creation_date":1455779064,"post_id":35474592,"comment_id":58644261,"body_markdown":"If you read your own stacktrace, you&#39;ll see an issue with &#39;customGrexMapper&#39;. I don&#39;t see any reference in your question about this bean.","body":"If you read your own stacktrace, you&#39;ll see an issue with &#39;customGrexMapper&#39;. I don&#39;t see any reference in your question about this bean."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455779148,"post_id":35474592,"comment_id":58644293,"body_markdown":"@J&#233;r&#233;mieB why working on 4 different environment but not only Production ?","body":"@J&#233;r&#233;mieB why working on 4 different environment but not only Production ?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1455779166,"post_id":35474592,"comment_id":58644303,"body_markdown":"Please carefully read ALL the &quot;caused by&quot; exception messages. They contain suggestions on what to do.  As to why if fails in production but not other environments, CLEARLY production does not mirror EXACTLY the environment available in the deployment workflow systems.  Something is different in production.","body":"Please carefully read ALL the &quot;caused by&quot; exception messages. They contain suggestions on what to do.  As to why if fails in production but not other environments, CLEARLY production does not mirror EXACTLY the environment available in the deployment workflow systems.  Something is different in production."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455779275,"post_id":35474592,"comment_id":58644348,"body_markdown":"#All please read my question tiltle i already solve this.","body":"#All please read my question tiltle i already solve this."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1456144080,"post_id":35474592,"comment_id":58795164,"body_markdown":"@trappski have u found any solution?","body":"@trappski have u found any solution?"},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":0,"creation_date":1456169068,"post_id":35474592,"comment_id":58812358,"body_markdown":"Well... The proper solution is to fix the circular dependency in the first place. It is obviously there even if it shows up only in one environment. Meaning you probably do have som difference in the configuration somewhere. And where are the beans in error defined? Can&#39;t find them in the posted context.","body":"Well... The proper solution is to fix the circular dependency in the first place. It is obviously there even if it shows up only in one environment. Meaning you probably do have som difference in the configuration somewhere. And where are the beans in error defined? Can&#39;t find them in the posted context."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1456919966,"post_id":35474592,"comment_id":59166438,"body_markdown":"@trappski check this line &lt;context:component-scan base-package=&quot;in.test.server&quot;&gt;","body":"@trappski check this line &lt;context:component-scan base-package=&quot;in.test.server&quot;&gt;"}],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1455789477,"creation_date":1455789477,"answer_id":35478198,"question_id":35474592,"body_markdown":"I had exactly this problem a while ago. Spring is a bit random in the order it wires dependencies, so in some cases an application would start... and in production it would fail with this error. \r\n\r\nThe problem was a really bad practice promoted by spring until a year or two ago... the problem? Use setter / @Autowired on fields for injection rather than constructor injection. The issue we had, was that we were slowly migrating the configuration to constructor injection, and we opened ourselves to this issue, as we had a mix of the two. The issue depends on which bean is instantiated first. I cannot remember properly now, but I think that if the bean using constructor injection is instantiated first, the error would appear, but if bean using setter injection was instantiated first, the the error would happen. In this case, we should have done all of the work in one go. When everything uses constructor injection, the issue can be replicated in all environments. \r\n\r\nThe solution is simple: dependency cycles are a symptom of an issue with the design of the classes. You have to find what the cycle is and cut it. It&#39;s not a problem with Spring, but rather one within your application.","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p>I had exactly this problem a while ago. Spring is a bit random in the order it wires dependencies, so in some cases an application would start... and in production it would fail with this error. </p>\n\n<p>The problem was a really bad practice promoted by spring until a year or two ago... the problem? Use setter / @Autowired on fields for injection rather than constructor injection. The issue we had, was that we were slowly migrating the configuration to constructor injection, and we opened ourselves to this issue, as we had a mix of the two. The issue depends on which bean is instantiated first. I cannot remember properly now, but I think that if the bean using constructor injection is instantiated first, the error would appear, but if bean using setter injection was instantiated first, the the error would happen. In this case, we should have done all of the work in one go. When everything uses constructor injection, the issue can be replicated in all environments. </p>\n\n<p>The solution is simple: dependency cycles are a symptom of an issue with the design of the classes. You have to find what the cycle is and cut it. It's not a problem with Spring, but rather one within your application.</p>\n"},{"tags":[],"owner":{"account_id":8869397,"reputation":301,"user_id":6623509,"display_name":"Monkey D. Luffy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512065424,"creation_date":1512065424,"answer_id":47579975,"question_id":35474592,"body_markdown":"Just now i have faced this issue and resolved by moving the required methods into one class and exposed it using @service annotation hence the issue has been resolved. This approach might be naive but solves the problem.\r\n\r\nClass with all the methods/functions needed:\r\n\r\n    @ Service\r\n    public class Class1\r\n    {\r\n        /% Method 1 %/\r\n        /% Method 2 %/\r\n        /% Method 3 %/\r\n        /% Method 4 %/\r\n    }\r\n\r\nAutowired Class 1.\r\n\r\n    public class Class2\r\n    {\r\n        @ Autowired\r\n    \tprivate Class1 class1;\r\n        /% class1.Method1() %/\r\n        /% class1.Method1() %/\r\n        .\r\n        .\r\n        .\r\n    }","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p>Just now i have faced this issue and resolved by moving the required methods into one class and exposed it using @service annotation hence the issue has been resolved. This approach might be naive but solves the problem.</p>\n\n<p>Class with all the methods/functions needed:</p>\n\n<pre><code>@ Service\npublic class Class1\n{\n    /% Method 1 %/\n    /% Method 2 %/\n    /% Method 3 %/\n    /% Method 4 %/\n}\n</code></pre>\n\n<p>Autowired Class 1.</p>\n\n<pre><code>public class Class2\n{\n    @ Autowired\n    private Class1 class1;\n    /% class1.Method1() %/\n    /% class1.Method1() %/\n    .\n    .\n    .\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667912533,"creation_date":1667912533,"answer_id":74361194,"question_id":35474592,"body_markdown":"Use @Lazy annotation for constructor dependency injection.","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p>Use @Lazy annotation for constructor dependency injection.</p>\n"}],"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8804,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":3,"score":1,"last_activity_date":1667912533,"creation_date":1455777800,"question_id":35474592,"body_markdown":"\t\r\n**#All please read my question tiltle i already solve this**\r\n\r\nSpring circular reference working on Local , UAT , DEMO , STAGGING environment But not on Production Environment only.\r\nall environment having same configuration\r\n\r\n&gt;  1 JDK : 1.7.0.79\r\n&gt; \r\n&gt; 2.Tomcat 7.0\r\n\r\napplicationContext.xml\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n        \txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n        \txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n        \txsi:schemaLocation=&quot;http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\r\n    &lt;context:component-scan base-package=&quot;in.test.server&quot;&gt;\r\n    \t&lt;/context:component-scan&gt;\r\n    \r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;applicationProperties&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:mail.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:document_storage.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:ekyc.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:messages.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:invitation_codes.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:capitalraise.properties&lt;/value&gt;\t\t\t\t\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t&lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:mail.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb_trunk&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;minIdle&quot; value=&quot;10&quot; /&gt;\r\n    \t\t&lt;property name=&quot;initialSize&quot; value=&quot;10&quot; /&gt;\r\n    \t\t&lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1 FROM DUAL&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;in.grex.server.datamodel&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n    \t\t&lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot; /&gt;\r\n    \t\t&lt;property name=&quot;port&quot; value=&quot;587&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${mail.mailAccount}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${mail.mailAccountPassword}&quot; /&gt;\r\n    \r\n    \t\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;mailUtil&quot; class=&quot;in.grex.server.common.util.MailUtil&quot;&gt;\r\n    \t\t&lt;property name=&quot;mailSender&quot; ref=&quot;mailSender&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Bean for dozer mapper. --&gt;\r\n    \t&lt;bean id=&quot;mapper&quot; class=&quot;org.dozer.DozerBeanMapper&quot; scope=&quot;singleton&quot;&gt;\r\n    \t\t&lt;property name=&quot;mappings&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean class=&quot;in.grex.server.dto.mapper.GrexDozerMapper&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t\r\n    \t&lt;!-- Bean for dozer searchmapper. --&gt;\r\n    \t&lt;bean id=&quot;searchMapper&quot; class=&quot;org.dozer.DozerBeanMapper&quot; scope=&quot;singleton&quot;&gt;\r\n    \t\t&lt;property name=&quot;mappings&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean class=&quot;in.grex.server.dto.mapper.GrexDozerSearchMapper&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n        &lt;/beans&gt;\r\n\r\n**StackTrace**\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSearchService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customGrexMapper&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4994)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5492)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1081)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1877)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customGrexMapper&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\r\n    \t... 26 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customGrexMapper&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\r\n    \t... 28 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\r\n    \t... 39 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\r\n    \t... 41 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\r\n    \t... 52 more\r\n    Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:548)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\r\n    \t... 54 more\r\n","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p><strong>#All please read my question tiltle i already solve this</strong></p>\n\n<p>Spring circular reference working on Local , UAT , DEMO , STAGGING environment But not on Production Environment only.\nall environment having same configuration</p>\n\n<blockquote>\n  <p>1 JDK : 1.7.0.79</p>\n  \n  <p>2.Tomcat 7.0</p>\n</blockquote>\n\n<p>applicationContext.xml</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n        xmlns:p=\"http://www.springframework.org/schema/p\" xmlns:jee=\"http://www.springframework.org/schema/jee\"\n        xmlns:task=\"http://www.springframework.org/schema/task\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd\n            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n            http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd\"&gt;\n&lt;context:component-scan base-package=\"in.test.server\"&gt;\n    &lt;/context:component-scan&gt;\n\n    &lt;context:annotation-config /&gt;\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n\n    &lt;bean id=\"applicationProperties\"\n        class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath*:mail.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:document_storage.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:ekyc.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:messages.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:invitation_codes.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:capitalraise.properties&lt;/value&gt;               \n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"ignoreUnresolvablePlaceholders\" value=\"true\" /&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath*:mail.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/testdb_trunk\" /&gt;\n        &lt;property name=\"username\" value=\"root\" /&gt;\n        &lt;property name=\"password\" value=\"root\" /&gt;\n        &lt;property name=\"minIdle\" value=\"10\" /&gt;\n        &lt;property name=\"initialSize\" value=\"10\" /&gt;\n        &lt;property name=\"validationQuery\" value=\"SELECT 1 FROM DUAL\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"packagesToScan\" value=\"in.grex.server.datamodel\" /&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n        &lt;property name=\"host\" value=\"smtp.gmail.com\" /&gt;\n        &lt;property name=\"port\" value=\"587\" /&gt;\n        &lt;property name=\"username\" value=\"${mail.mailAccount}\" /&gt;\n        &lt;property name=\"password\" value=\"${mail.mailAccountPassword}\" /&gt;\n\n        &lt;property name=\"javaMailProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n                &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"mailUtil\" class=\"in.grex.server.common.util.MailUtil\"&gt;\n        &lt;property name=\"mailSender\" ref=\"mailSender\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Bean for dozer mapper. --&gt;\n    &lt;bean id=\"mapper\" class=\"org.dozer.DozerBeanMapper\" scope=\"singleton\"&gt;\n        &lt;property name=\"mappings\"&gt;\n            &lt;list&gt;\n                &lt;bean class=\"in.grex.server.dto.mapper.GrexDozerMapper\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n    &lt;!-- Bean for dozer searchmapper. --&gt;\n    &lt;bean id=\"searchMapper\" class=\"org.dozer.DozerBeanMapper\" scope=\"singleton\"&gt;\n        &lt;property name=\"mappings\"&gt;\n            &lt;list&gt;\n                &lt;bean class=\"in.grex.server.dto.mapper.GrexDozerSearchMapper\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<p><strong>StackTrace</strong></p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSearchService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customGrexMapper': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4994)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5492)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1081)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1877)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customGrexMapper': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\n    ... 26 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customGrexMapper': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\n    ... 28 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\n    ... 39 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\n    ... 41 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\n    ... 52 more\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:548)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\n    ... 54 more\n</code></pre>\n"},{"tags":["java","android","time","notifications","schedule"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646778542,"post_id":71400145,"comment_id":126207510,"body_markdown":"[get the time from the timepicker](https://www.tutorialspoint.com/android/android_timepicker_control.htm#:~:text=In%20order%20to%20get%20the,getCurrentHour()%3B%20int%20min%20%3D%20timePicker1.) after the user has set the time then use that to set your alarm manager to display the notification.","body":"<a href=\"https://www.tutorialspoint.com/android/android_timepicker_control.htm#:~:text=In%20order%20to%20get%20the,getCurrentHour()%3B%20int%20min%20%3D%20timePicker1.\" rel=\"nofollow noreferrer\">get the time from the timepicker</a> after the user has set the time then use that to set your alarm manager to display the notification."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646778659,"post_id":71400145,"comment_id":126207539,"body_markdown":"Alternatively you can use a [WorkManager](https://codingwithmitch.com/blog/work-manager-getting-started/).","body":"Alternatively you can use a <a href=\"https://codingwithmitch.com/blog/work-manager-getting-started/\" rel=\"nofollow noreferrer\">WorkManager</a>."},{"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"score":0,"creation_date":1646822732,"post_id":71400145,"comment_id":126217452,"body_markdown":"Thank you for the reply. Like I said, I have managed to retrieve and store the time from the time picker successfully, and I pass it to the Alarm Manager. The problem is, I can&#39;t seem to make the Alarm Manager work with the notification I created","body":"Thank you for the reply. Like I said, I have managed to retrieve and store the time from the time picker successfully, and I pass it to the Alarm Manager. The problem is, I can&#39;t seem to make the Alarm Manager work with the notification I created"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646827706,"post_id":71400145,"comment_id":126219175,"body_markdown":"Where is the code where you set the `AlarmManager`?","body":"Where is the code where you set the <code>AlarmManager</code>?"},{"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"score":0,"creation_date":1646828690,"post_id":71400145,"comment_id":126219506,"body_markdown":"I added it after the answer below, from this link: https://developer.android.com/training/scheduling/alarms. There exists a section which says &quot;Wake up the device to fire the alarm at approximately 2:00 p.m&quot; and I tried to mimick that...","body":"I added it after the answer below, from this link: <a href=\"https://developer.android.com/training/scheduling/alarms\" rel=\"nofollow noreferrer\">developer.android.com/training/scheduling/alarms</a>. There exists a section which says &quot;Wake up the device to fire the alarm at approximately 2:00 p.m&quot; and I tried to mimick that..."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1646833439,"post_id":71400145,"comment_id":126221270,"body_markdown":"Can you edit your question with the `AlarmManager` code?","body":"Can you edit your question with the <code>AlarmManager</code> code?"},{"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"score":0,"creation_date":1646844772,"post_id":71400145,"comment_id":126226113,"body_markdown":"Just updated it, thank you for your help so far I really appreciate it!","body":"Just updated it, thank you for your help so far I really appreciate it!"}],"answers":[{"comments":[{"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"score":0,"creation_date":1646768467,"post_id":71400233,"comment_id":126204499,"body_markdown":"Thank you. I have read the AlarmManager documentation and got a somewhat good understanding of how it works. However, I am still missing the process of combining that with the notification I created...","body":"Thank you. I have read the AlarmManager documentation and got a somewhat good understanding of how it works. However, I am still missing the process of combining that with the notification I created..."}],"tags":[],"owner":{"account_id":23239,"reputation":4528,"user_id":58100,"accept_rate":67,"display_name":"E.M."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646766218,"creation_date":1646766218,"answer_id":71400233,"question_id":71400145,"body_markdown":"If there is an exact time that the notification needs to be sent, you will want to use AlarmManager. See https://developer.android.com/training/scheduling/alarms\r\n\r\nThe docs describe when to use AlarmManager vs. other APIs: https://developer.android.com/guide/background#alarms","title":"Android Studio - How to Schedule a Notification?","body":"<p>If there is an exact time that the notification needs to be sent, you will want to use AlarmManager. See <a href=\"https://developer.android.com/training/scheduling/alarms\" rel=\"nofollow noreferrer\">https://developer.android.com/training/scheduling/alarms</a></p>\n<p>The docs describe when to use AlarmManager vs. other APIs: <a href=\"https://developer.android.com/guide/background#alarms\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/background#alarms</a></p>\n"},{"tags":[],"owner":{"account_id":18243423,"reputation":403,"user_id":13280037,"display_name":"Zaman Rajpoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667912427,"creation_date":1667912427,"answer_id":74361175,"question_id":71400145,"body_markdown":"*Okay After too much research and fighting with this finally I did it* \r\nNote: this is suitable for Android O+ Versions\r\n**In Activity Class**\r\n\r\n    button.setOnClickListener(view -&gt; {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                Calendar calendar = Calendar.getInstance();\r\n                //10 is for how many seconds from now you want to schedule also you can create a custom instance of Callender to set on exact time\r\n                calendar.add(Calendar.SECOND, 10);\r\n                //function for Creating [Notification Channel][1]\r\n                createNotificationChannel();\r\n                //function for scheduling the notification\r\n                scheduleotification(calendar);\r\n            }\r\n        });\r\n\r\n    \r\ncode for **createNotificationChannel()**\r\n\r\n\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public void createNotificationChannel() {\r\n        String id = &quot;channelID&quot;;\r\n        String name = &quot;Daily Alerts&quot;;\r\n        String des = &quot;Channel Description A Brief&quot;;\r\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n        NotificationChannel channel = new NotificationChannel(id, name, importance);\r\n        channel.setDescription(des);\r\n        NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        manager.createNotificationChannel(channel);\r\n    }\r\n\r\n\r\ncode for  scheduleNotification(**Calender** calendar);\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    public void scheduleNotification(Calendar calendar) {\r\n        Intent intent = new Intent(getApplicationContext(), Notification.class);\r\n        intent.putExtra(&quot;titleExtra&quot;, &quot;Dynamic Title&quot;);\r\n        intent.putExtra(&quot;textExtra&quot;, &quot;Dynamic Text Body&quot;);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n        Toast.makeText(getApplicationContext(), &quot;Scheduled &quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\nNotification.kt\r\n\r\n        class Notification : BroadcastReceiver() \r\n    {\r\n        override fun onReceive(context: Context, intent: Intent) {\r\n            message = intent.getStringExtra(&quot;textExtra&quot;).toString()\r\n            title = intent.getStringExtra(&quot;titleExtra&quot;).toString()\r\n            val notification =\r\n                NotificationCompat.Builder(context, channelID).setSmallIcon(R.drawable.notification)\r\n                    .setContentText(message).setContentTitle(title).build()\r\n            val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n            manager.notify(notificationId, notification)\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.google.com/search?q=notification%20channel%20android&amp;oq=notification%20channel%20a&amp;aqs=chrome.1.69i57j0i512j0i20i263i512l2j0i22i30l6.10671j0j7&amp;sourceid=chrome&amp;ie=UTF-8","title":"Android Studio - How to Schedule a Notification?","body":"<p><em>Okay After too much research and fighting with this finally I did it</em>\nNote: this is suitable for Android O+ Versions\n<strong>In Activity Class</strong></p>\n<pre><code>button.setOnClickListener(view -&gt; {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            Calendar calendar = Calendar.getInstance();\n            //10 is for how many seconds from now you want to schedule also you can create a custom instance of Callender to set on exact time\n            calendar.add(Calendar.SECOND, 10);\n            //function for Creating [Notification Channel][1]\n            createNotificationChannel();\n            //function for scheduling the notification\n            scheduleotification(calendar);\n        }\n    });\n</code></pre>\n<p>code for <strong>createNotificationChannel()</strong></p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.O)\npublic void createNotificationChannel() {\n    String id = &quot;channelID&quot;;\n    String name = &quot;Daily Alerts&quot;;\n    String des = &quot;Channel Description A Brief&quot;;\n    int importance = NotificationManager.IMPORTANCE_DEFAULT;\n    NotificationChannel channel = new NotificationChannel(id, name, importance);\n    channel.setDescription(des);\n    NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n    manager.createNotificationChannel(channel);\n}\n</code></pre>\n<p>code for  scheduleNotification(<strong>Calender</strong> calendar);</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\npublic void scheduleNotification(Calendar calendar) {\n    Intent intent = new Intent(getApplicationContext(), Notification.class);\n    intent.putExtra(&quot;titleExtra&quot;, &quot;Dynamic Title&quot;);\n    intent.putExtra(&quot;textExtra&quot;, &quot;Dynamic Text Body&quot;);\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n    AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n    alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n    Toast.makeText(getApplicationContext(), &quot;Scheduled &quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>Notification.kt</p>\n<pre><code>    class Notification : BroadcastReceiver() \n{\n    override fun onReceive(context: Context, intent: Intent) {\n        message = intent.getStringExtra(&quot;textExtra&quot;).toString()\n        title = intent.getStringExtra(&quot;titleExtra&quot;).toString()\n        val notification =\n            NotificationCompat.Builder(context, channelID).setSmallIcon(R.drawable.notification)\n                .setContentText(message).setContentTitle(title).build()\n        val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        manager.notify(notificationId, notification)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667912427,"creation_date":1646765738,"question_id":71400145,"body_markdown":"I have created a sample notification for a project I am currently working on, using this code in the **onCreate** method of my Main Activity.\r\nI have also got a **TimePicker** Fragment class, which as the name suggests, opens up a time picker dialogue which allows the user to set a specific time of day. Then, the **hour** and **minutes** are stored in ```DataSite.class```, which holds a number of get and set methods. Below is the code for ```TimePicker.class```: \r\n``` \r\npublic class TimePickerFragment extends DialogFragment\r\n        implements TimePickerDialog.OnTimeSetListener {\r\n\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        // Use the current time as the default values for the picker\r\n        final Calendar c = Calendar.getInstance();\r\n        int hour = c.get(Calendar.HOUR_OF_DAY);\r\n        int minute = c.get(Calendar.MINUTE);\r\n\r\n        // Create a new instance of TimePickerDialog and return it\r\n        return new TimePickerDialog(getActivity(), this, hour, minute,\r\n                DateFormat.is24HourFormat(getActivity()));\r\n    }\r\n\r\n    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n        DataSite ds = new DataSite();\r\n        ds.setHour(hourOfDay);\r\n        ds.setMinute(minute);\r\n    }\r\n}\r\n```\r\nIn short, I would like to schedule the ```createNotificationChannel();``` method call on the Main Activity, according to the **hour** and **minutes** the user has selected. As I said, the time information is stored in **DataSite**.\r\n\r\nI have gotten the time picker working, and the notification shows as expected. All that I need now is a way to combine these two functionalities. As far as I can tell from other forum posts, I will have to use the **Alarm Manager**, but nothing I have read elsewhere works for me. \r\n\r\n**Edit: I have attempted to utilize the ```AlarmManager```. Below you can see the full code I currently have so far:**\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_initial_screen);\r\n        .\r\n        .\r\n        .\r\n        .\r\n        .\r\n        Intent intent = new Intent(this, InitialScreen.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;reflectnotification&quot;)\r\n                .setSmallIcon(R.drawable.app_icon_background)\r\n                .setContentTitle(&quot;Reflect Reminder&quot;)\r\n                .setContentText(&quot;Time to Reflect on your selected Goal!&quot;)\r\n                .setStyle(new NotificationCompat.BigTextStyle()\r\n                        .bigText(&quot;Time to Reflect on your selected Goal!&quot;))\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                .setContentIntent(pendingIntent)\r\n                .setAutoCancel(true);\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\r\n        createNotificationChannel();\r\n//        notificationManager.notify(200, builder.build());\r\n\r\n        hour = ((DataSite)getApplication()).getHour();\r\n        minute = ((DataSite)getApplication()).getMinute();\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        calendar.set(Calendar.HOUR_OF_DAY, hour);\r\n        calendar.set(Calendar.MINUTE, minute);\r\n\r\n        Toast.makeText(getApplicationContext(),&quot;Picked time: &quot;+ hour +&quot;:&quot;+minute, Toast.LENGTH_LONG).show();\r\n\r\n        alarmMgr = (AlarmManager)getApplicationContext().getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent2 = new Intent(getApplicationContext(), InitialScreen.class);\r\n        alarmIntent = PendingIntent.getBroadcast(getApplicationContext(), 200, intent2, 0);\r\n\r\n        alarmMgr.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), alarmIntent);\r\n    }\r\n```\r\n```\r\n    private void createNotificationChannel() {\r\n        // Create the NotificationChannel, but only on API 26+ because\r\n        // the NotificationChannel class is new and not in the support library\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Reflect Reminder&quot;;\r\n            String description = &quot;Time to Reflect on your selected Goal!&quot;;\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(&quot;reflectnotification&quot;, name, importance);\r\n            channel.setDescription(description);\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n```","title":"Android Studio - How to Schedule a Notification?","body":"<p>I have created a sample notification for a project I am currently working on, using this code in the <strong>onCreate</strong> method of my Main Activity.\nI have also got a <strong>TimePicker</strong> Fragment class, which as the name suggests, opens up a time picker dialogue which allows the user to set a specific time of day. Then, the <strong>hour</strong> and <strong>minutes</strong> are stored in <code>DataSite.class</code>, which holds a number of get and set methods. Below is the code for <code>TimePicker.class</code>:</p>\n<pre><code>public class TimePickerFragment extends DialogFragment\n        implements TimePickerDialog.OnTimeSetListener {\n\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        // Use the current time as the default values for the picker\n        final Calendar c = Calendar.getInstance();\n        int hour = c.get(Calendar.HOUR_OF_DAY);\n        int minute = c.get(Calendar.MINUTE);\n\n        // Create a new instance of TimePickerDialog and return it\n        return new TimePickerDialog(getActivity(), this, hour, minute,\n                DateFormat.is24HourFormat(getActivity()));\n    }\n\n    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n        DataSite ds = new DataSite();\n        ds.setHour(hourOfDay);\n        ds.setMinute(minute);\n    }\n}\n</code></pre>\n<p>In short, I would like to schedule the <code>createNotificationChannel();</code> method call on the Main Activity, according to the <strong>hour</strong> and <strong>minutes</strong> the user has selected. As I said, the time information is stored in <strong>DataSite</strong>.</p>\n<p>I have gotten the time picker working, and the notification shows as expected. All that I need now is a way to combine these two functionalities. As far as I can tell from other forum posts, I will have to use the <strong>Alarm Manager</strong>, but nothing I have read elsewhere works for me.</p>\n<p><strong>Edit: I have attempted to utilize the <code>AlarmManager</code>. Below you can see the full code I currently have so far:</strong></p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_initial_screen);\n        .\n        .\n        .\n        .\n        .\n        Intent intent = new Intent(this, InitialScreen.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;reflectnotification&quot;)\n                .setSmallIcon(R.drawable.app_icon_background)\n                .setContentTitle(&quot;Reflect Reminder&quot;)\n                .setContentText(&quot;Time to Reflect on your selected Goal!&quot;)\n                .setStyle(new NotificationCompat.BigTextStyle()\n                        .bigText(&quot;Time to Reflect on your selected Goal!&quot;))\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                .setContentIntent(pendingIntent)\n                .setAutoCancel(true);\n\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\n        createNotificationChannel();\n//        notificationManager.notify(200, builder.build());\n\n        hour = ((DataSite)getApplication()).getHour();\n        minute = ((DataSite)getApplication()).getMinute();\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(System.currentTimeMillis());\n        calendar.set(Calendar.HOUR_OF_DAY, hour);\n        calendar.set(Calendar.MINUTE, minute);\n\n        Toast.makeText(getApplicationContext(),&quot;Picked time: &quot;+ hour +&quot;:&quot;+minute, Toast.LENGTH_LONG).show();\n\n        alarmMgr = (AlarmManager)getApplicationContext().getSystemService(Context.ALARM_SERVICE);\n        Intent intent2 = new Intent(getApplicationContext(), InitialScreen.class);\n        alarmIntent = PendingIntent.getBroadcast(getApplicationContext(), 200, intent2, 0);\n\n        alarmMgr.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), alarmIntent);\n    }\n</code></pre>\n<pre><code>    private void createNotificationChannel() {\n        // Create the NotificationChannel, but only on API 26+ because\n        // the NotificationChannel class is new and not in the support library\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            CharSequence name = &quot;Reflect Reminder&quot;;\n            String description = &quot;Time to Reflect on your selected Goal!&quot;;\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\n            NotificationChannel channel = new NotificationChannel(&quot;reflectnotification&quot;, name, importance);\n            channel.setDescription(description);\n            // Register the channel with the system; you can't change the importance\n            // or other notification behaviors after this\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":544312,"reputation":507,"user_id":913717,"accept_rate":80,"display_name":"Bruce Zu"},"score":0,"creation_date":1617312101,"post_id":5492885,"comment_id":118277052,"body_markdown":"If you want to validate string with Uniform Resource Names (URNs) 8141: [rfc8141][1]  You can refer to [URN8141Test.java][2] and [URN8141.java][3]\n\nIt has been used in our team for a few years.  \n\n\n  [1]: https://tools.ietf.org/html/rfc8141\n  [2]: https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/test/java/URN8141Test.java\n  [3]: https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/main/java/URN8141.java","body":"If you want to validate string with Uniform Resource Names (URNs) 8141: [rfc8141][1]  You can refer to [URN8141Test.java][2] and [URN8141.java][3]  It has been used in our team for a few years.       [1]: <a href=\"https://tools.ietf.org/html/rfc8141\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc8141</a>   [2]: <a href=\"https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/test/java/URN8141Test.java\" rel=\"nofollow noreferrer\">github.com/BruceZu/broken_colored_glass/blob/master/project/&zwnj;&#8203;src/&hellip;</a>   [3]: <a href=\"https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/main/java/URN8141.java\" rel=\"nofollow noreferrer\">github.com/BruceZu/broken_colored_glass/blob/master/project/&zwnj;&#8203;src/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1301694284,"post_id":5492927,"comment_id":6268031,"body_markdown":"I like this. Of course, this only checks if a string is a possible URN, not that it actually complies to some registered URN namespace. For this you would need a URN namespace database.","body":"I like this. Of course, this only checks if a string is a possible URN, not that it actually complies to some registered URN namespace. For this you would need a URN namespace database."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1323855458,"post_id":5492927,"comment_id":10522969,"body_markdown":"The regular expression is not compliant to [RFC2141](http://www.ietf.org/rfc/rfc2141.txt). For example, namespace allows upper case characters, while your regex doesn&#39;t.","body":"The regular expression is not compliant to <a href=\"http://www.ietf.org/rfc/rfc2141.txt\" rel=\"nofollow noreferrer\">RFC2141</a>. For example, namespace allows upper case characters, while your regex doesn&#39;t."},{"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"score":0,"creation_date":1323858671,"post_id":5492927,"comment_id":10523994,"body_markdown":"A good point! I have amended it to do case insensitive matching.","body":"A good point! I have amended it to do case insensitive matching."},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":0,"creation_date":1343756915,"post_id":5492927,"comment_id":15591130,"body_markdown":"I would prefer a standard library? any one? java.net.URI doesn&#180;t seem to be able to validate or get parts or the URN","body":"I would prefer a standard library? any one? java.net.URI doesn&#180;t seem to be able to validate or get parts or the URN"},{"owner":{"account_id":10411714,"reputation":1132,"user_id":7676920,"accept_rate":86,"display_name":"basse"},"score":0,"creation_date":1667827853,"post_id":5492927,"comment_id":131253617,"body_markdown":"Is there a way to make this regex safe against overflowing the stack? As it is, SonarQube complains of it with the &quot;Regular expressions should not overflow the stack&quot; error https://rules.sonarsource.com/java/tag/regex/RSPEC-5998","body":"Is there a way to make this regex safe against overflowing the stack? As it is, SonarQube complains of it with the &quot;Regular expressions should not overflow the stack&quot; error <a href=\"https://rules.sonarsource.com/java/tag/regex/RSPEC-5998\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/tag/regex/RSPEC-5998</a>"},{"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"score":0,"creation_date":1667912306,"post_id":5492927,"comment_id":131276519,"body_markdown":"Simply replace the `+` with a `++`. In this case, SonarQube is complaining about something that cannot happen. The left-hand side of the alternation cannot match a `%` and the right hand side can only match a `%`. This means the algorithm will never back-track as only one branch can ever be possible. This is too subtle for SonarQube to reason out, but we can make it obvious by using the possessive quantifier `++` to explicitly disallow backtracking (which we won&#39;t be doing anyway)","body":"Simply replace the <code>+</code> with a <code>++</code>. In this case, SonarQube is complaining about something that cannot happen. The left-hand side of the alternation cannot match a <code>%</code> and the right hand side can only match a <code>%</code>. This means the algorithm will never back-track as only one branch can ever be possible. This is too subtle for SonarQube to reason out, but we can make it obvious by using the possessive quantifier <code>++</code> to explicitly disallow backtracking (which we won&#39;t be doing anyway)"}],"tags":[],"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"comment_count":6,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1667912361,"creation_date":1301522189,"answer_id":5492927,"question_id":5492885,"body_markdown":"If you only need to validate it, you can use a regular expression. The following will match only RFC2141 compliant URNs:\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class UrnTest {\r\n        public static final Pattern URN_PATTERN = Pattern.compile(\r\n            &quot;^urn:[a-z0-9][a-z0-9-]{0,31}:([a-z0-9()+,\\\\-.:=@;$_!*&#39;]|%[0-9a-f]{2})++$&quot;,\r\n            Pattern.CASE_INSENSITIVE);\r\n\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            for(String urn : args) {\r\n                boolean isUrn = URN_PATTERN.matcher(urn).matches();\r\n                System.out.println(urn+&quot;  :  &quot;+(isUrn ? &quot;valid&quot; : &quot;not valid&quot;));\r\n            }\r\n        }\r\n    }\r\n","title":"How do I validate URNs?","body":"<p>If you only need to validate it, you can use a regular expression. The following will match only RFC2141 compliant URNs:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class UrnTest {\n    public static final Pattern URN_PATTERN = Pattern.compile(\n        &quot;^urn:[a-z0-9][a-z0-9-]{0,31}:([a-z0-9()+,\\\\-.:=@;$_!*']|%[0-9a-f]{2})++$&quot;,\n        Pattern.CASE_INSENSITIVE);\n\n\n    public static void main(String[] args) throws Exception {\n        for(String urn : args) {\n            boolean isUrn = URN_PATTERN.matcher(urn).matches();\n            System.out.println(urn+&quot;  :  &quot;+(isUrn ? &quot;valid&quot; : &quot;not valid&quot;));\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1342007,"reputation":807,"user_id":1283512,"accept_rate":25,"display_name":"matthaeus"},"score":1,"creation_date":1379419497,"post_id":15984959,"comment_id":27810374,"body_markdown":"Short note (like can be found in jcabi java-doc v.0.8): &quot;NOTICE: the implementation is not fully compliant with RFC 2141. It will become compliant in one of our future versions. Once it becomes fully compliant this notice will be removed.&quot;","body":"Short note (like can be found in jcabi java-doc v.0.8): &quot;NOTICE: the implementation is not fully compliant with RFC 2141. It will become compliant in one of our future versions. Once it becomes fully compliant this notice will be removed.&quot;"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365834397,"creation_date":1365834397,"answer_id":15984959,"question_id":5492885,"body_markdown":"You can try [jcabi-urn](http://www.jcabi.com/jcabi-urn/index.html) and its class [`com.jcabi.urn.URN`](http://www.jcabi.com/jcabi-urn/apidocs-0.7.16/com/jcabi/urn/URN.html)","title":"How do I validate URNs?","body":"<p>You can try <a href=\"http://www.jcabi.com/jcabi-urn/index.html\" rel=\"nofollow\">jcabi-urn</a> and its class <a href=\"http://www.jcabi.com/jcabi-urn/apidocs-0.7.16/com/jcabi/urn/URN.html\" rel=\"nofollow\"><code>com.jcabi.urn.URN</code></a></p>\n"},{"tags":[],"owner":{"account_id":1959872,"reputation":51,"user_id":1761830,"display_name":"Ralf Claussnitzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1460896056,"creation_date":1460893213,"answer_id":36676013,"question_id":5492885,"body_markdown":"I recently released [urnlib][1]. It implements a class for representing an Uniform Resource Name (URN). It also implements parsing and serialization according to the constraints defined in [RFC 2141][2].\r\n\r\nIt&#39;s released on Maven Central and aims to serve as a network identifier handling library just like the native Java URL and URI classes.\r\n\r\n\r\n  [1]: https://github.com/slub/urnlib\r\n  [2]: https://www.rfc-editor.org/rfc/rfc2141","title":"How do I validate URNs?","body":"<p>I recently released <a href=\"https://github.com/slub/urnlib\" rel=\"nofollow noreferrer\">urnlib</a>. It implements a class for representing an Uniform Resource Name (URN). It also implements parsing and serialization according to the constraints defined in <a href=\"https://www.rfc-editor.org/rfc/rfc2141\" rel=\"nofollow noreferrer\">RFC 2141</a>.</p>\n<p>It's released on Maven Central and aims to serve as a network identifier handling library just like the native Java URL and URI classes.</p>\n"}],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6376,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5492927,"answer_count":3,"score":13,"last_activity_date":1667912361,"creation_date":1301521844,"question_id":5492885,"body_markdown":"What&#39;s the easiest way to validate that a string is a valid [URN][1]?\r\n\r\n**Edit** Using URI is not a correct solution! URIs are allowed to have all kinds of things that URNs can&#39;t, like `&amp;`\r\n\r\n\r\n  [1]: http://www.ietf.org/rfc/rfc2141.txt","title":"How do I validate URNs?","body":"<p>What's the easiest way to validate that a string is a valid <a href=\"http://www.ietf.org/rfc/rfc2141.txt\">URN</a>?</p>\n\n<p><strong>Edit</strong> Using URI is not a correct solution! URIs are allowed to have all kinds of things that URNs can't, like <code>&amp;</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9323,"page":900,"page_size":100}
