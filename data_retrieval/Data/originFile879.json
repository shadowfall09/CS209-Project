{"items":[{"tags":["java","spring-boot","rest","file-upload"],"answers":[{"comments":[{"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"score":0,"creation_date":1668829234,"post_id":74469082,"comment_id":131507267,"body_markdown":"It seems a good approach, can I see a concrete example?","body":"It seems a good approach, can I see a concrete example?"}],"tags":[],"owner":{"account_id":2460702,"reputation":171,"user_id":2144940,"display_name":"Eduardo Felipe Zambom Santana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668648196,"creation_date":1668648196,"answer_id":74469082,"question_id":74468931,"body_markdown":"I have the same problem in my application, and I think it will not work, you will not be able to send the Event in the body and the @RequestParam as a MultipartFile.\r\n\r\nI solved this problem creating two routes, one to POST the object, and a second one to send the file which receives the object id in the path and the MultipartFile in the @RequestParam.\r\n\r\nThe same idea to download the file, I have one GET route to return the object, and a second GET route that receives the object id and return the file.","title":"Which approach is better to upload image to entity in spring boot rest api application?","body":"<p>I have the same problem in my application, and I think it will not work, you will not be able to send the Event in the body and the @RequestParam as a MultipartFile.</p>\n<p>I solved this problem creating two routes, one to POST the object, and a second one to send the file which receives the object id in the path and the MultipartFile in the @RequestParam.</p>\n<p>The same idea to download the file, I have one GET route to return the object, and a second GET route that receives the object id and return the file.</p>\n"},{"tags":[],"owner":{"account_id":14070869,"reputation":71,"user_id":10164385,"display_name":"Ngo Tuoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668651267,"creation_date":1668651267,"answer_id":74469367,"question_id":74468931,"body_markdown":"if you can want return an image in object `Event` or same. You should convert to base64\r\n\r\nor you can return only that file in body with content-type=application/octet-stream\r\n\r\ndocument refer: [Baeldung][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-controller-return-image-file","title":"Which approach is better to upload image to entity in spring boot rest api application?","body":"<p>if you can want return an image in object <code>Event</code> or same. You should convert to base64</p>\n<p>or you can return only that file in body with content-type=application/octet-stream</p>\n<p>document refer: <a href=\"https://www.baeldung.com/spring-controller-return-image-file\" rel=\"nofollow noreferrer\">Baeldung</a></p>\n"}],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668652774,"creation_date":1668646326,"question_id":74468931,"body_markdown":"For example I have enitity Event with fields name, description etc. And then I want to add new field String &quot;photo&quot; that will be reference to a photo. So it is easy to add new field to entity, Hibernate will update the table of entity Event.\r\n\r\nAlso I have POSTmethod saveEvent(Event event) in EventRestController class to save new Entity. Suppose, that I responsible only for backend, and I only need give endpoints to the frontend developers.\r\nMy method createEvent() returns ReponseEntity&lt;Event&gt;. Suppose I changing my method to:\r\n\r\n    public ResponseEntity&lt;Event&gt; createEvent(@RequestBody Event event,\r\n                @RequestParam(&quot;image&quot;) MultipartFile multipartFile) throws IOException {\r\n        ...\r\n        event.setPhoto(StringUtils.cleanPath(multipartFile.getOriginalFilename()));\r\n        // save event in repo\r\n        // upload image to directory event-photos/{eventId}\r\n        // return event with photo field\r\n    }\r\n\r\nAnd then my GET method will be return ReponseEntity&lt;Event&gt; with field photo:\r\n\r\n    public ResponseEntity&lt;Event&gt; getEventById(@PathVariable(value = &quot;eventId&quot;) long eventId) {\r\n        // returns Event with field &quot;photo&quot;\r\n    }\r\n\r\n**And here is my question. Is this enough to show image of this Event for frontend developers? Is this a good approach to link image reference to the Entity?**","title":"Which approach is better to upload image to entity in spring boot rest api application?","body":"<p>For example I have enitity Event with fields name, description etc. And then I want to add new field String &quot;photo&quot; that will be reference to a photo. So it is easy to add new field to entity, Hibernate will update the table of entity Event.</p>\n<p>Also I have POSTmethod saveEvent(Event event) in EventRestController class to save new Entity. Suppose, that I responsible only for backend, and I only need give endpoints to the frontend developers.\nMy method createEvent() returns ReponseEntity. Suppose I changing my method to:</p>\n<pre><code>public ResponseEntity&lt;Event&gt; createEvent(@RequestBody Event event,\n            @RequestParam(&quot;image&quot;) MultipartFile multipartFile) throws IOException {\n    ...\n    event.setPhoto(StringUtils.cleanPath(multipartFile.getOriginalFilename()));\n    // save event in repo\n    // upload image to directory event-photos/{eventId}\n    // return event with photo field\n}\n</code></pre>\n<p>And then my GET method will be return ReponseEntity with field photo:</p>\n<pre><code>public ResponseEntity&lt;Event&gt; getEventById(@PathVariable(value = &quot;eventId&quot;) long eventId) {\n    // returns Event with field &quot;photo&quot;\n}\n</code></pre>\n<p><strong>And here is my question. Is this enough to show image of this Event for frontend developers? Is this a good approach to link image reference to the Entity?</strong></p>\n"},{"tags":["java","android","android-studio","native"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1668658540,"post_id":74469406,"comment_id":131460928,"body_markdown":"you need to refresh the list where the draft show.","body":"you need to refresh the list where the draft show."},{"owner":{"account_id":17998397,"reputation":147,"user_id":13080858,"display_name":"Unknown Developer"},"score":0,"creation_date":1668658899,"post_id":74469406,"comment_id":131460970,"body_markdown":"as discuss, need to automatically refresh when it return to list.","body":"as discuss, need to automatically refresh when it return to list."},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1668659396,"post_id":74469406,"comment_id":131461052,"body_markdown":"When you back to previous screen you can refresh list automatically from onResume() method.","body":"When you back to previous screen you can refresh list automatically from onResume() method."},{"owner":{"account_id":17998397,"reputation":147,"user_id":13080858,"display_name":"Unknown Developer"},"score":0,"creation_date":1668661689,"post_id":74469406,"comment_id":131461425,"body_markdown":"it wont work sir","body":"it wont work sir"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1668667391,"post_id":74469406,"comment_id":131462478,"body_markdown":"Share some code of your draft activity from where you call that adaptor.","body":"Share some code of your draft activity from where you call that adaptor."}],"owner":{"account_id":17998397,"reputation":147,"user_id":13080858,"display_name":"Unknown Developer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668652594,"creation_date":1668651636,"question_id":74469406,"body_markdown":"How can i refresh listview after I delete my draft when it automatically back pressed?\r\n\r\n```\r\npublic void deleteDraft() {\r\n    ((LoaderActivity) getActivity()).getLoader().show();\r\n    ApiHelper.get().itrDeleteDraft(new ItrDeleteDraftApi.Request(userID, projectID, itrRaisedID)).enqueue(new ApiRequest.Callback&lt;ItrDeleteDraftApi.Response&gt;()  {\r\n        @Override\r\n        public void onSuccess(ItrDeleteDraftApi.Response response) {\r\n            ((LoaderActivity) requireActivity()).getLoader().hide();\r\n            requireActivity().onBackPressed();\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(String e) {\r\n            ((LoaderActivity) getActivity()).getLoader().hide();\r\n            ErrorManager.promptError(getActivity(), e);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\n```\r\n\r\n@OnClick(R.id.buttons_itr_delete) public void onDeleteButtonClick(){\r\n        new AlertDialog.Builder(getContext()).setCancelable(false).setTitle(&quot;&quot;).setMessage(R.string.confirm_delete_itr).setNegativeButton(R.string.cancel, (d,e)-&gt;d.dismiss()).setPositiveButton(R.string.ok, (d,e)-&gt; {\r\n            itrDetailFragment.deleteDraft();\r\n        }).create().show();\r\n    }\r\n```\r\nIt will refresh or else it will disappear in the list","title":"How can I refresh the listview after I delete my draft when it automatically re-presses?","body":"<p>How can i refresh listview after I delete my draft when it automatically back pressed?</p>\n<pre><code>public void deleteDraft() {\n    ((LoaderActivity) getActivity()).getLoader().show();\n    ApiHelper.get().itrDeleteDraft(new ItrDeleteDraftApi.Request(userID, projectID, itrRaisedID)).enqueue(new ApiRequest.Callback&lt;ItrDeleteDraftApi.Response&gt;()  {\n        @Override\n        public void onSuccess(ItrDeleteDraftApi.Response response) {\n            ((LoaderActivity) requireActivity()).getLoader().hide();\n            requireActivity().onBackPressed();\n        }\n\n        @Override\n        public void onFailure(String e) {\n            ((LoaderActivity) getActivity()).getLoader().hide();\n            ErrorManager.promptError(getActivity(), e);\n        }\n    });\n}\n</code></pre>\n<pre><code>\n@OnClick(R.id.buttons_itr_delete) public void onDeleteButtonClick(){\n        new AlertDialog.Builder(getContext()).setCancelable(false).setTitle(&quot;&quot;).setMessage(R.string.confirm_delete_itr).setNegativeButton(R.string.cancel, (d,e)-&gt;d.dismiss()).setPositiveButton(R.string.ok, (d,e)-&gt; {\n            itrDetailFragment.deleteDraft();\n        }).create().show();\n    }\n</code></pre>\n<p>It will refresh or else it will disappear in the list</p>\n"},{"tags":["java","clone","cloneable"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1450561576,"post_id":34375695,"comment_id":56493086,"body_markdown":"Isn&#39;t that a bit redundant, since you&#39;re using `super.clone();` already?","body":"Isn&#39;t that a bit redundant, since you&#39;re using <code>super.clone();</code> already?"},{"owner":{"account_id":3710014,"reputation":5149,"user_id":3087601,"accept_rate":93,"display_name":"Zereges"},"score":2,"creation_date":1450561636,"post_id":34375695,"comment_id":56493104,"body_markdown":"@Kayaman `myclass` might be derived from `someClass`, which (apart from all `someClass` members), also has `row`, `col` and `color`. So `super.clone()` won&#39;t copy such members.","body":"@Kayaman <code>myclass</code> might be derived from <code>someClass</code>, which (apart from all <code>someClass</code> members), also has <code>row</code>, <code>col</code> and <code>color</code>. So <code>super.clone()</code> won&#39;t copy such members."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1450561714,"post_id":34375695,"comment_id":56493125,"body_markdown":"@Zereges I wasn&#39;t asking for speculation, I was asking for facts.","body":"@Zereges I wasn&#39;t asking for speculation, I was asking for facts."},{"owner":{"account_id":3710014,"reputation":5149,"user_id":3087601,"accept_rate":93,"display_name":"Zereges"},"score":0,"creation_date":1450561786,"post_id":34375695,"comment_id":56493144,"body_markdown":"@Kayaman It&#39;s probable, that OP wants to copy members, which are copied by `super.clone()`","body":"@Kayaman It&#39;s probable, that OP wants to copy members, which are copied by <code>super.clone()</code>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1450562268,"post_id":34375695,"comment_id":56493277,"body_markdown":"@Zereges To me it&#39;s more probable that he doesn&#39;t fully understand how `clone()` works (which isn&#39;t surprising). That&#39;s why I didn&#39;t want speculation. Facts work better than guesses on SO.","body":"@Zereges To me it&#39;s more probable that he doesn&#39;t fully understand how <code>clone()</code> works (which isn&#39;t surprising). That&#39;s why I didn&#39;t want speculation. Facts work better than guesses on SO."},{"owner":{"display_name":"user5460725"},"score":0,"creation_date":1450562475,"post_id":34375695,"comment_id":56493345,"body_markdown":"My class implements an interface, which doesn&#39;t have `row`, `col` and `color`, just as @Zereges said.","body":"My class implements an interface, which doesn&#39;t have <code>row</code>, <code>col</code> and <code>color</code>, just as @Zereges said."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1450562824,"post_id":34375695,"comment_id":56493452,"body_markdown":"@JohnStrife Zereges never said that. The call to `super.clone()` will copy all the fields (otherwise what would be the advantage of calling it?), so the copying by hand is unnecessary. You can replace the whole method with `return (MyInterface)super.clone();`.","body":"@JohnStrife Zereges never said that. The call to <code>super.clone()</code> will copy all the fields (otherwise what would be the advantage of calling it?), so the copying by hand is unnecessary. You can replace the whole method with <code>return (MyInterface)super.clone();</code>."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1450563014,"post_id":34375695,"comment_id":56493499,"body_markdown":"Jeez, it&#39;s like herding cats.","body":"Jeez, it&#39;s like herding cats."},{"owner":{"display_name":"user5460725"},"score":0,"creation_date":1450563099,"post_id":34375695,"comment_id":56493524,"body_markdown":"Will the super.clone() also copy the fields that are defined only in  `myClass`, and not in the class it&#39;s derived from (which I guess being Object)?","body":"Will the super.clone() also copy the fields that are defined only in  <code>myClass</code>, and not in the class it&#39;s derived from (which I guess being Object)?"}],"answers":[{"tags":[],"owner":{"account_id":4728705,"reputation":3094,"user_id":3824920,"accept_rate":89,"display_name":"Denis Lukenich"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450561674,"creation_date":1450561674,"answer_id":34375736,"question_id":34375695,"body_markdown":"Under the assumption that you don&#39;t have another choice you can use Reflection. The following code shows how this forks for the field color.\r\nYou need some try-catch around it.\r\n\r\n    Field f =  getClass().getDeclaredField(&quot;color&quot;);\r\n    f.setAccessible(true);\r\n    f.set(x, this.color)","title":"Dealing with final fields when overriding clone","body":"<p>Under the assumption that you don't have another choice you can use Reflection. The following code shows how this forks for the field color.\nYou need some try-catch around it.</p>\n\n<pre><code>Field f =  getClass().getDeclaredField(\"color\");\nf.setAccessible(true);\nf.set(x, this.color)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2993703,"reputation":3071,"user_id":2540669,"display_name":"augray"},"score":1,"creation_date":1450563462,"post_id":34375932,"comment_id":56493602,"body_markdown":"The wording from [the documentation](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone()): &quot;The method clone for class Object performs a specific cloning operation. First, if the class of this object does not implement the interface Cloneable, then a CloneNotSupportedException is thrown. ... Otherwise, this method creates a new instance of the class of this object and initializes **all** its fields with exactly the contents of the corresponding fields of this object, as if by assignment&quot; (emphasis mine)","body":"The wording from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone()\" rel=\"nofollow noreferrer\">the documentation</a>: &quot;The method clone for class Object performs a specific cloning operation. First, if the class of this object does not implement the interface Cloneable, then a CloneNotSupportedException is thrown. ... Otherwise, this method creates a new instance of the class of this object and initializes <b>all</b> its fields with exactly the contents of the corresponding fields of this object, as if by assignment&quot; (emphasis mine)"},{"owner":{"display_name":"user5460725"},"score":0,"creation_date":1450563519,"post_id":34375932,"comment_id":56493615,"body_markdown":"Well, I guess this class derives directly from Object, so I don&#39;t know if it&#39;s `clone() ` is good...\n\nedit: I understood now. Thanks.","body":"Well, I guess this class derives directly from Object, so I don&#39;t know if it&#39;s <code>clone() </code> is good...  edit: I understood now. Thanks."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1450563612,"post_id":34375932,"comment_id":56493637,"body_markdown":"@JohnStrife Well I know. It is (however `Object` does not implement `Cloneable`, another &quot;funny&quot; thing about `clone()`). As for augray, I don&#39;t know what your point was, but does it really surprise you if a method called `clone()` creates a clone of an object?","body":"@JohnStrife Well I know. It is (however <code>Object</code> does not implement <code>Cloneable</code>, another &quot;funny&quot; thing about <code>clone()</code>). As for augray, I don&#39;t know what your point was, but does it really surprise you if a method called <code>clone()</code> creates a clone of an object?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1450564553,"post_id":34375932,"comment_id":56493866,"body_markdown":"Now I hope everyone learned a lesson why using `clone()` is a bad idea, and that there are plenty of [better ways](http://stackoverflow.com/questions/2156120/java-recommended-solution-for-deep-cloning-copying-an-instance) to do it, especially when dealing with complex objects and mutable object properties.","body":"Now I hope everyone learned a lesson why using <code>clone()</code> is a bad idea, and that there are plenty of <a href=\"http://stackoverflow.com/questions/2156120/java-recommended-solution-for-deep-cloning-copying-an-instance\">better ways</a> to do it, especially when dealing with complex objects and mutable object properties."},{"owner":{"display_name":"user5460725"},"score":0,"creation_date":1450565445,"post_id":34375932,"comment_id":56494080,"body_markdown":"Yeah, I had already read from many sources that using the clone() method is a mess, I just had no choice this time.","body":"Yeah, I had already read from many sources that using the clone() method is a mess, I just had no choice this time."}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1450563298,"creation_date":1450563298,"answer_id":34375932,"question_id":34375695,"body_markdown":"Since the call to `super.clone();` will already create a (shallow) copy of all the fields, final or not, your full method will become:\r\n\r\n    @Override\r\n    public MyInterface clone() throws CloneNotSupportedException {\r\n        return (MyInterface)super.clone();\r\n    }\r\n\r\nThis requires that the superclass also implements `clone()` properly (to ensure that the `super.clone()` eventually reaches the `Object` class. All the fields will be copied properly (including final ones), and if you don&#39;t require deep clones or any other special functionality, you can use this and then promise that you&#39;ll never try to implement `clone()` again (one of the reasons being that it&#39;s not easy to implement it correctly, as evident from this question).","title":"Dealing with final fields when overriding clone","body":"<p>Since the call to <code>super.clone();</code> will already create a (shallow) copy of all the fields, final or not, your full method will become:</p>\n\n<pre><code>@Override\npublic MyInterface clone() throws CloneNotSupportedException {\n    return (MyInterface)super.clone();\n}\n</code></pre>\n\n<p>This requires that the superclass also implements <code>clone()</code> properly (to ensure that the <code>super.clone()</code> eventually reaches the <code>Object</code> class. All the fields will be copied properly (including final ones), and if you don't require deep clones or any other special functionality, you can use this and then promise that you'll never try to implement <code>clone()</code> again (one of the reasons being that it's not easy to implement it correctly, as evident from this question).</p>\n"},{"tags":[],"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668652302,"creation_date":1668652302,"answer_id":74469486,"question_id":34375695,"body_markdown":"One thing to keep being mindful of, when mixing clone and final fields, especially the one with initializers, is that (as one of the comments rightfully says), the values are **copied** from the original, no matter whether that field is final or not, and initializer be damned.\r\n\r\nSo if a final field has a **dynamic** initializer, it&#39;s actually not executed. Which, IMHO, is breaking a serious expectation that if I have a final instance field in a class, every new instance of this class is going to initialize the field to whatever value the initializer says it should be.\r\n\r\nHere is an example where this can be a (*insert your level of seriousness*) problem:\r\n\r\n```java\r\n\r\nimport lombok.SneakyThrows;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] a) {\r\n\r\n        Cloned c1 = new Cloned();\r\n        c1.d.put(&quot;x&quot;, &quot;x&quot;);\r\n        Cloned c2 = c1.clone();\r\n        System.out.println(&quot;c2.x=&quot;+c2.d.get(&quot;x&quot;));\r\n        c1.d.clear();\r\n        System.out.println(&quot;c2.x=&quot;+c2.d.get(&quot;x&quot;));\r\n\r\n    }\r\n\r\n    static class Cloned implements Cloneable {\r\n\r\n        public final Map&lt;String, String&gt; d = new HashMap&lt;&gt;();\r\n\r\n        @Override\r\n        @SneakyThrows\r\n        public Cloned clone() {\r\n            return (Cloned) super.clone();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nc2.x=x\r\nc2.x=null\r\n```","title":"Dealing with final fields when overriding clone","body":"<p>One thing to keep being mindful of, when mixing clone and final fields, especially the one with initializers, is that (as one of the comments rightfully says), the values are <strong>copied</strong> from the original, no matter whether that field is final or not, and initializer be damned.</p>\n<p>So if a final field has a <strong>dynamic</strong> initializer, it's actually not executed. Which, IMHO, is breaking a serious expectation that if I have a final instance field in a class, every new instance of this class is going to initialize the field to whatever value the initializer says it should be.</p>\n<p>Here is an example where this can be a (<em>insert your level of seriousness</em>) problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport lombok.SneakyThrows;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class App {\n\n    public static void main(String[] a) {\n\n        Cloned c1 = new Cloned();\n        c1.d.put(&quot;x&quot;, &quot;x&quot;);\n        Cloned c2 = c1.clone();\n        System.out.println(&quot;c2.x=&quot;+c2.d.get(&quot;x&quot;));\n        c1.d.clear();\n        System.out.println(&quot;c2.x=&quot;+c2.d.get(&quot;x&quot;));\n\n    }\n\n    static class Cloned implements Cloneable {\n\n        public final Map&lt;String, String&gt; d = new HashMap&lt;&gt;();\n\n        @Override\n        @SneakyThrows\n        public Cloned clone() {\n            return (Cloned) super.clone();\n        }\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>c2.x=x\nc2.x=null\n</code></pre>\n"}],"owner":{"display_name":"user5460725"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3397,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":34375932,"answer_count":3,"score":7,"last_activity_date":1668652302,"creation_date":1450561315,"question_id":34375695,"body_markdown":"I&#39;m writing a class in which I have to override the clone() method with the infamous &quot;super.clone() strategy&quot; (it&#39;s not my choice). \r\n\r\nMy code looks like this:\r\n\r\n    @Override\r\n    public myInterface clone()\r\n    {\r\n        myClass x;\r\n        try\r\n        {\r\n            x = (myClass) super.clone();\r\n            x.row = this.row;\r\n            x.col = this.col;\r\n            x.color = this.color; \r\n            //color is a final variable, here&#39;s the error\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            //not doing anything but there has to be the catch block\r\n            //because of Cloneable issues\r\n        }\r\n        return x;\r\n    }\r\n\r\nEverything would be fine, except that I can&#39;t initialize `color` without using a constructor, being it a final variable... is there some way to both use super.clone() AND copying final variables? ","title":"Dealing with final fields when overriding clone","body":"<p>I'm writing a class in which I have to override the clone() method with the infamous \"super.clone() strategy\" (it's not my choice). </p>\n\n<p>My code looks like this:</p>\n\n<pre><code>@Override\npublic myInterface clone()\n{\n    myClass x;\n    try\n    {\n        x = (myClass) super.clone();\n        x.row = this.row;\n        x.col = this.col;\n        x.color = this.color; \n        //color is a final variable, here's the error\n    }\n    catch(Exception e)\n    {\n        //not doing anything but there has to be the catch block\n        //because of Cloneable issues\n    }\n    return x;\n}\n</code></pre>\n\n<p>Everything would be fine, except that I can't initialize <code>color</code> without using a constructor, being it a final variable... is there some way to both use super.clone() AND copying final variables? </p>\n"},{"tags":["java","spring","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668652188,"creation_date":1668652188,"answer_id":74469470,"question_id":74469201,"body_markdown":"You can write an adapter for each class:\r\n```java\r\ninterface Physical {\r\n  int getWeight();\r\n\r\n  public static wrap(Object o) {\r\n    if (o instanceOf Car car) {\r\n      return new CarWrapper(car);\r\n    } else if (o instanceof Computer computer) {\r\n      return new ComputerWrapper(computer);\r\n    } else {\r\n      throw new IllegalArgumentException(o);\r\n    }\r\n  }\r\n}\r\n\r\nclass CarWrapper implements Physical {\r\n  private final Car car;\r\n\r\n  public CarWrapper(Car car) { this.car = car }\r\n\r\n  public int getWeight() {\r\n    return car.getTyreWeight() * 4 + car.getEngineWeight();\r\n  }\r\n}\r\n\r\nclass ComputerWrapper implements Physical{\r\n ...\r\n}\r\n```\r\n\r\nI&#39;m not sure what your question about Spring is.","title":"Polymorphic behaviour withou access to source code","body":"<p>You can write an adapter for each class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Physical {\n  int getWeight();\n\n  public static wrap(Object o) {\n    if (o instanceOf Car car) {\n      return new CarWrapper(car);\n    } else if (o instanceof Computer computer) {\n      return new ComputerWrapper(computer);\n    } else {\n      throw new IllegalArgumentException(o);\n    }\n  }\n}\n\nclass CarWrapper implements Physical {\n  private final Car car;\n\n  public CarWrapper(Car car) { this.car = car }\n\n  public int getWeight() {\n    return car.getTyreWeight() * 4 + car.getEngineWeight();\n  }\n}\n\nclass ComputerWrapper implements Physical{\n ...\n}\n</code></pre>\n<p>I'm not sure what your question about Spring is.</p>\n"}],"owner":{"account_id":7374510,"reputation":124,"user_id":5613658,"display_name":"sjakovac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668652188,"creation_date":1668649341,"question_id":74469201,"body_markdown":"I want to have a clean design of multiple services handling objects of a different type in polymorphic fashion. Also, I do not have access to source code of classes which are arguments to service methods.\r\n\r\nLets say those classes are `Car` and `Computer`. Service `PhysicalDetailsService` would have method `calculateWeight` returning integer. For each class individually weight is calculated in different way:\r\n\r\n```{java}\r\n// For car\r\nCar car = createCar();\r\nint weight = 0;\r\nweight += 4 * car.tierWeight\r\nweight += frameWeight\r\n\r\n\r\n// For computer\r\nComputer computer = createComputer();\r\nint weight = 0;\r\nweight += computer.processorWeight\r\nweight += computer.casingWeight\r\nweight += computer.powerBankWeight\r\n```\r\n\r\nAlso, the price for `Car` and `Computer` can be calculated in a similar way and there would be `PriceService` with `calculatePrice` method.\r\n\r\nHow do I go about designing types of arguments for service methods, and other types in solution as well? Since I don&#39;t have access to `Car` and `Computer` classes I can&#39;t make them inherit/extend some superclass/interface like `PhysicalObject` or  `PriceHavingObject`. Should I still make such interfaces and then adapter for car and computer type? Having a bunch of `ifs` to check if an object is car or computer seems ugly. Is this place for abstract factory pattern to create different types of services? And in the end, how do I go about configuring spring bean services to solve this issue?\r\n\r\n","title":"Polymorphic behaviour withou access to source code","body":"<p>I want to have a clean design of multiple services handling objects of a different type in polymorphic fashion. Also, I do not have access to source code of classes which are arguments to service methods.</p>\n<p>Lets say those classes are <code>Car</code> and <code>Computer</code>. Service <code>PhysicalDetailsService</code> would have method <code>calculateWeight</code> returning integer. For each class individually weight is calculated in different way:</p>\n<pre><code>// For car\nCar car = createCar();\nint weight = 0;\nweight += 4 * car.tierWeight\nweight += frameWeight\n\n\n// For computer\nComputer computer = createComputer();\nint weight = 0;\nweight += computer.processorWeight\nweight += computer.casingWeight\nweight += computer.powerBankWeight\n</code></pre>\n<p>Also, the price for <code>Car</code> and <code>Computer</code> can be calculated in a similar way and there would be <code>PriceService</code> with <code>calculatePrice</code> method.</p>\n<p>How do I go about designing types of arguments for service methods, and other types in solution as well? Since I don't have access to <code>Car</code> and <code>Computer</code> classes I can't make them inherit/extend some superclass/interface like <code>PhysicalObject</code> or  <code>PriceHavingObject</code>. Should I still make such interfaces and then adapter for car and computer type? Having a bunch of <code>ifs</code> to check if an object is car or computer seems ugly. Is this place for abstract factory pattern to create different types of services? And in the end, how do I go about configuring spring bean services to solve this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22886030,"reputation":1859,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1655715274,"post_id":72684249,"comment_id":128388958,"body_markdown":"https://stackoverflow.com/questions/20689055/java-8-instant-now-with-nanosecond-resolution#:~:text=While%20default%20Java8%20clock%20does%20not%20provide%20nanoseconds%20resolution%2C%20you%20can%20combine%20it%20with%20Java%20ability%20to%20measure%20time%20differences%20with%20nanoseconds%20resolution%2C%20thus%20creating%20an%20actual%20nanosecond%2Dcapable%20clock.","body":"<a href=\"https://stackoverflow.com/questions/20689055/java-8-instant-now-with-nanosecond-resolution#:~:text=While%20default%20Java8%20clock%20does%20not%20provide%20nanoseconds%20resolution%2C%20you%20can%20combine%20it%20with%20Java%20ability%20to%20measure%20time%20differences%20with%20nanoseconds%20resolution%2C%20thus%20creating%20an%20actual%20nanosecond%2Dcapable%20clock\" title=\"java 8 instant now with nanosecond resolution%23%3a%7e%3atext%3dWhile%2520default%2520Java8%2520clock%2520does%2520not%2520provide%2520nanoseconds%2520resolution%252C%2520you%2520can%2520combine%2520it%2520with%2520Java%2520ability%2520to%2520measure%2520time%2520differences%2520with%2520nanoseconds%2520resolution%252C%2520thus%2520creating%2520an%2520actual%2520nanosecond%252Dcapable%2520clock\">stackoverflow.com/questions/20689055/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1655717320,"post_id":72684797,"comment_id":128389655,"body_markdown":"`Instant::getNano` gives only the nano part of the `Instant` instance, while `System::nanoTime` returns &quot;the current value of the running Java Virtual Machine&#39;s high-resolution time source, in nanoseconds&quot;. That&#39;s not even roughly equivalent.","body":"<code>Instant::getNano</code> gives only the nano part of the <code>Instant</code> instance, while <code>System::nanoTime</code> returns &quot;the current value of the running Java Virtual Machine&#39;s high-resolution time source, in nanoseconds&quot;. That&#39;s not even roughly equivalent."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1655717670,"post_id":72684797,"comment_id":128389748,"body_markdown":"@tquadrat Of course it&#39;s not *equivalent*, it&#39;s **analogous**. You even do not need the nano value, `Instant` represents a nano time. And you have arithmetical functions defined on the `Instant` class, such as `minus(Instant)`, `minusNanos(long)` etc.","body":"@tquadrat Of course it&#39;s not <i>equivalent</i>, it&#39;s <b>analogous</b>. You even do not need the nano value, <code>Instant</code> represents a nano time. And you have arithmetical functions defined on the <code>Instant</code> class, such as <code>minus(Instant)</code>, <code>minusNanos(long)</code> etc."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":2,"creation_date":1655717780,"post_id":72684797,"comment_id":128389775,"body_markdown":"`System.nanoTime` uses monotonic clock, it can&#39;t go backwards, it won&#39;t slow down / speed up because of NTP. I do not know how to get that with Clock/Instant.","body":"<code>System.nanoTime</code> uses monotonic clock, it can&#39;t go backwards, it won&#39;t slow down / speed up because of NTP. I do not know how to get that with Clock/Instant."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1655718198,"post_id":72684797,"comment_id":128389916,"body_markdown":"@PetrJaneček Of course it depends on your use case. If you are developing a real-time application and you are *critically* dependent on these properties, then you are right. Otherwise it&#39;s just academic. For **microbenchmarks**, you can never perform one measure only, you must run it many times and calculate the average, so rare fluctuations will not matter.","body":"@PetrJaneček Of course it depends on your use case. If you are developing a real-time application and you are <i>critically</i> dependent on these properties, then you are right. Otherwise it&#39;s just academic. For <b>microbenchmarks</b>, you can never perform one measure only, you must run it many times and calculate the average, so rare fluctuations will not matter."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1655735003,"post_id":72684797,"comment_id":128395855,"body_markdown":"@HonzaZidek – It&#39;s not even analogous. But for a mock, equivalency is needed …","body":"@HonzaZidek – It&#39;s not even analogous. But for a mock, equivalency is needed …"}],"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":5,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1655717764,"creation_date":1655716841,"answer_id":72684797,"question_id":72684249,"body_markdown":"Use [`Clock.instant()`][1]. According to [documentation][2]:\r\n\r\n&gt; the class stores a long representing epoch-seconds and an int representing nanosecond-of-second\r\n\r\nYou can access the nano-part using [`Instant.getNano()`][3].\r\n\r\nIt&#39;s not equivalent, but it&#39;s analogous and it provides you with the same functionality. You even do not need to read the nano value, `Instant` **represents** the nano time. And you have arithmetical functions defined on the `Instant` class, such as `minus(Instant)`, `minusNanos(long)` etc.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#instant()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#getNano()","title":"Mocking System.nanoTime()","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html#instant()\" rel=\"nofollow noreferrer\"><code>Clock.instant()</code></a>. According to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>the class stores a long representing epoch-seconds and an int representing nanosecond-of-second</p>\n</blockquote>\n<p>You can access the nano-part using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#getNano()\" rel=\"nofollow noreferrer\"><code>Instant.getNano()</code></a>.</p>\n<p>It's not equivalent, but it's analogous and it provides you with the same functionality. You even do not need to read the nano value, <code>Instant</code> <strong>represents</strong> the nano time. And you have arithmetical functions defined on the <code>Instant</code> class, such as <code>minus(Instant)</code>, <code>minusNanos(long)</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655719286,"creation_date":1655718523,"answer_id":72685138,"question_id":72684249,"body_markdown":"You can use Google Guava&#39;s [`Ticker`](https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Ticker.html) class that does exactly that.\r\n\r\nOr, if you&#39;re simply trying to measure time properly, you can use [`Stopwatch`](https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Stopwatch.html) for extra functionality and nicer API, its constructor takes a Ticker instance.\r\n\r\nThere&#39;s even a `FakeTicker` in [`guava-testlib`](https://github.com/google/guava/tree/master/guava-testlib) if you find any of the other utilities in there useful. Otherwise writing a fake Ticker is obviously very easy.","title":"Mocking System.nanoTime()","body":"<p>You can use Google Guava's <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Ticker.html\" rel=\"nofollow noreferrer\"><code>Ticker</code></a> class that does exactly that.</p>\n<p>Or, if you're simply trying to measure time properly, you can use <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Stopwatch.html\" rel=\"nofollow noreferrer\"><code>Stopwatch</code></a> for extra functionality and nicer API, its constructor takes a Ticker instance.</p>\n<p>There's even a <code>FakeTicker</code> in <a href=\"https://github.com/google/guava/tree/master/guava-testlib\" rel=\"nofollow noreferrer\"><code>guava-testlib</code></a> if you find any of the other utilities in there useful. Otherwise writing a fake Ticker is obviously very easy.</p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655718567,"creation_date":1655718567,"answer_id":72685150,"question_id":72684249,"body_markdown":"# Use your own encapsulation\r\n\r\n````\r\ninterface NanoTimer {\r\n  long nanoTime();\r\n  static NanoTimer system() {\r\n    return System::nanoTime;\r\n  }\r\n}\r\n````\r\n\r\nThis way you can write your own mock very easily.\r\n\r\nAlternatively, I can&#39;t see any use case besides a stopwatch, so I guess that you&#39;d probably want to have a look at Guava&#39;s [`Stopwatch`](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Stopwatch.html)","title":"Mocking System.nanoTime()","body":"<h1>Use your own encapsulation</h1>\n<pre><code>interface NanoTimer {\n  long nanoTime();\n  static NanoTimer system() {\n    return System::nanoTime;\n  }\n}\n</code></pre>\n<p>This way you can write your own mock very easily.</p>\n<p>Alternatively, I can't see any use case besides a stopwatch, so I guess that you'd probably want to have a look at Guava's <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Stopwatch.html\" rel=\"nofollow noreferrer\"><code>Stopwatch</code></a></p>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668651534,"creation_date":1668575562,"answer_id":74455471,"question_id":72684249,"body_markdown":"You can use a interface for dependency injection during unit tests:\r\n\r\n    public class YourClass {\r\n        private static TimeSupplier timeSupplier = System::nanoTime;\r\n\r\n        @VisibleForTesting\r\n        public static void setTimeSupplier(TimeSupplier timeSupplier) {\r\n            YourClass.timeSupplier = timeSupplier;\r\n        }\r\n    \r\n        @FunctionalInterface\r\n        interface TimeSupplier {\r\n            long nanoTime();\r\n        }\r\n        \r\n        // Just use timeSupplier.nanoTime() instead of the static nanoTime calls\r\n    }\r\n\r\nThen you can simply stub the timeout with a constant (Mockito for example):\r\n\r\n    YourClass.TimeSupplier timeSupplier = mock(YourClass.TimeSupplier.class);\r\n    when(timeSupplier.nanoTime()).thenReturn(20221116L);\r\n    YourClass.setTimeSupplier(timeSupplier);\r\n\r\n","title":"Mocking System.nanoTime()","body":"<p>You can use a interface for dependency injection during unit tests:</p>\n<pre><code>public class YourClass {\n    private static TimeSupplier timeSupplier = System::nanoTime;\n\n    @VisibleForTesting\n    public static void setTimeSupplier(TimeSupplier timeSupplier) {\n        YourClass.timeSupplier = timeSupplier;\n    }\n\n    @FunctionalInterface\n    interface TimeSupplier {\n        long nanoTime();\n    }\n    \n    // Just use timeSupplier.nanoTime() instead of the static nanoTime calls\n}\n</code></pre>\n<p>Then you can simply stub the timeout with a constant (Mockito for example):</p>\n<pre><code>YourClass.TimeSupplier timeSupplier = mock(YourClass.TimeSupplier.class);\nwhen(timeSupplier.nanoTime()).thenReturn(20221116L);\nYourClass.setTimeSupplier(timeSupplier);\n</code></pre>\n"}],"owner":{"account_id":41443,"reputation":24989,"user_id":120444,"accept_rate":53,"display_name":"Brandon E Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":4,"score":5,"last_activity_date":1668651534,"creation_date":1655713961,"question_id":72684249,"body_markdown":"One can use Clock to mock calls like ```System.currentTimeMillis()``` using ```Clock.millis()``` and injecting a mock implementation of Clock.\r\n\r\nIs there a similar way to easily mock ```System.nanoTime()```? ","title":"Mocking System.nanoTime()","body":"<p>One can use Clock to mock calls like <code>System.currentTimeMillis()</code> using <code>Clock.millis()</code> and injecting a mock implementation of Clock.</p>\n<p>Is there a similar way to easily mock <code>System.nanoTime()</code>?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2492505,"reputation":10493,"user_id":2169693,"accept_rate":74,"display_name":"G.S"},"score":3,"creation_date":1383727102,"post_id":19807253,"comment_id":29447690,"body_markdown":"Regex is slower as it needs regex compilation","body":"Regex is slower as it needs regex compilation"},{"owner":{"account_id":1496066,"reputation":14731,"user_id":1401975,"display_name":"HamZa"},"score":8,"creation_date":1383727152,"post_id":19807253,"comment_id":29447711,"body_markdown":"When I see questions like &quot;what is faster?&quot; I always think &quot;well just benchmark it and check it out yourself&quot;.","body":"When I see questions like &quot;what is faster?&quot; I always think &quot;well just benchmark it and check it out yourself&quot;."},{"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"score":1,"creation_date":1383727276,"post_id":19807253,"comment_id":29447771,"body_markdown":"you could write the benchmarks in about 5 minutes flat","body":"you could write the benchmarks in about 5 minutes flat"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1383727299,"post_id":19807253,"comment_id":29447783,"body_markdown":"remember to cache your regex","body":"remember to cache your regex"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1383727408,"post_id":19807253,"comment_id":29447836,"body_markdown":"Why don&#39;t you time the execution of both and tell us the timings?","body":"Why don&#39;t you time the execution of both and tell us the timings?"},{"owner":{"account_id":3412463,"reputation":1246,"user_id":2862100,"accept_rate":33,"display_name":"Luke"},"score":0,"creation_date":1383727866,"post_id":19807253,"comment_id":29448058,"body_markdown":"Do a little benchmark with System.currentTimeMillis() and you will know. I bet that startsWith and endWith will be 10 times faster for really big strings :)","body":"Do a little benchmark with System.currentTimeMillis() and you will know. I bet that startsWith and endWith will be 10 times faster for really big strings :)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1383729491,"post_id":19807253,"comment_id":29448835,"body_markdown":"Regex is *faster* if the regex is precompiled.","body":"Regex is <i>faster</i> if the regex is precompiled."}],"answers":[{"comments":[{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":3,"creation_date":1383731319,"post_id":19807614,"comment_id":29449854,"body_markdown":"+1 The JIT will replace certain String methods with highly optimized assembler code; sometimes, they can be replaced with a single CPU opcode.","body":"+1 The JIT will replace certain String methods with highly optimized assembler code; sometimes, they can be replaced with a single CPU opcode."}],"tags":[],"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1668650690,"creation_date":1383728066,"answer_id":19807614,"question_id":19807253,"body_markdown":"Here&#39;s a really rather crude *benchmark* to give you an idea. Adapt it to your use cases to give you more relevant results. \r\n\r\n### TL;DR\r\n\r\n - `startsWith()` and `endsWith()` are much faster\r\n\r\n---\r\n# Detailed results\r\nResults after 1 000 000 runs:\r\n\r\n&lt;pre&gt;\r\n- Uncompiled pattern:        1091 ms\r\n- Compiled pattern:          745 ms\r\n- startsWith() / endsWith(): 24 ms\r\n&lt;/pre&gt;\r\n\r\n\r\n    public class TestRegex {\r\n    \r\n        String regex = &quot;^start.*end$&quot;;\r\n        Pattern p = Pattern.compile(regex);\r\n        \r\n        String start = &quot;start&quot;;\r\n        String end = &quot;end&quot;;\r\n        String search = start + &quot;fewbjlhfgljghfadsjhfdsaglfdhjgahfgfjkhgfdkhjsagafdskghjafdkhjgfadskhjgfdsakhjgfdaskhjgafdskjhgafdsjhkgfads&quot; + end;\r\n        \r\n        int runs = 1000000;\r\n    \r\n        @Test\r\n        public final void test() {\r\n            // Init run\r\n            for (int i = 0; i &lt; runs; i++) {\r\n                search.matches(regex);\r\n            }\r\n            for (int i = 0; i &lt; runs; i++) {\r\n                p.matcher(search).matches();\r\n            }\r\n            for (int i = 0; i &lt; runs; i++) {\r\n                search.startsWith(start);\r\n                search.endsWith(end);\r\n            }\r\n    \r\n    \r\n            // Timed run\r\n            Stopwatch s = Stopwatch.createStarted();\r\n            for (int i = 0; i &lt; runs; i++) {\r\n                search.matches(regex);\r\n            }\r\n            System.out.println(s.elapsed(TimeUnit.MILLISECONDS));\r\n            s.reset();\r\n            \r\n            s.start();\r\n            for (int i = 0; i &lt; runs; i++) {\r\n                p.matcher(search).matches();\r\n            }\r\n            System.out.println(s.elapsed(TimeUnit.MILLISECONDS));\r\n            s.reset();\r\n            \r\n            s.start();\r\n            for (int i = 0; i &lt; runs; i++) {\r\n                search.startsWith(start);\r\n                search.endsWith(end);\r\n            }\r\n            System.out.println(s.elapsed(TimeUnit.MILLISECONDS));\r\n        }\r\n    \r\n    }","title":"Java String parsing, What is faster? Regex or String methods?","body":"<p>Here's a really rather crude <em>benchmark</em> to give you an idea. Adapt it to your use cases to give you more relevant results.</p>\n<h3>TL;DR</h3>\n<ul>\n<li><code>startsWith()</code> and <code>endsWith()</code> are much faster</li>\n</ul>\n<hr />\n<h1>Detailed results</h1>\n<p>Results after 1 000 000 runs:</p>\n<pre>\n- Uncompiled pattern:        1091 ms\n- Compiled pattern:          745 ms\n- startsWith() / endsWith(): 24 ms\n</pre>\n<pre><code>public class TestRegex {\n\n    String regex = &quot;^start.*end$&quot;;\n    Pattern p = Pattern.compile(regex);\n    \n    String start = &quot;start&quot;;\n    String end = &quot;end&quot;;\n    String search = start + &quot;fewbjlhfgljghfadsjhfdsaglfdhjgahfgfjkhgfdkhjsagafdskghjafdkhjgfadskhjgfdsakhjgfdaskhjgafdskjhgafdsjhkgfads&quot; + end;\n    \n    int runs = 1000000;\n\n    @Test\n    public final void test() {\n        // Init run\n        for (int i = 0; i &lt; runs; i++) {\n            search.matches(regex);\n        }\n        for (int i = 0; i &lt; runs; i++) {\n            p.matcher(search).matches();\n        }\n        for (int i = 0; i &lt; runs; i++) {\n            search.startsWith(start);\n            search.endsWith(end);\n        }\n\n\n        // Timed run\n        Stopwatch s = Stopwatch.createStarted();\n        for (int i = 0; i &lt; runs; i++) {\n            search.matches(regex);\n        }\n        System.out.println(s.elapsed(TimeUnit.MILLISECONDS));\n        s.reset();\n        \n        s.start();\n        for (int i = 0; i &lt; runs; i++) {\n            p.matcher(search).matches();\n        }\n        System.out.println(s.elapsed(TimeUnit.MILLISECONDS));\n        s.reset();\n        \n        s.start();\n        for (int i = 0; i &lt; runs; i++) {\n            search.startsWith(start);\n            search.endsWith(end);\n        }\n        System.out.println(s.elapsed(TimeUnit.MILLISECONDS));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1994559,"reputation":5717,"user_id":1787782,"accept_rate":38,"display_name":"buddy123"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383730204,"creation_date":1383730204,"answer_id":19808295,"question_id":19807253,"body_markdown":"Indeed, the difference is there and noticeable for small strings as well.\r\nHaving a compiled version of the regex using a pattern does make some enhancements, but no doubt, its the worst idea when the match is easy.\r\n\r\nThanks everyone.","title":"Java String parsing, What is faster? Regex or String methods?","body":"<p>Indeed, the difference is there and noticeable for small strings as well.\nHaving a compiled version of the regex using a pattern does make some enhancements, but no doubt, its the worst idea when the match is easy.</p>\n\n<p>Thanks everyone.</p>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1383730523,"creation_date":1383730523,"answer_id":19808410,"question_id":19807253,"body_markdown":"Note that both methods may report different results in cases where the string expeted at the end is a suffix of the start string:\r\n\r\n    ^start.*art$\r\n\r\nwill not match\r\n\r\n    &quot;start&quot;\r\n\r\nwhile\r\n\r\n    &quot;start&quot;.startsWith(&quot;start&quot;) &amp;&amp; &quot;start&quot;.endsWith(&quot;art&quot;)\r\n\r\nwill be true.","title":"Java String parsing, What is faster? Regex or String methods?","body":"<p>Note that both methods may report different results in cases where the string expeted at the end is a suffix of the start string:</p>\n\n<pre><code>^start.*art$\n</code></pre>\n\n<p>will not match</p>\n\n<pre><code>\"start\"\n</code></pre>\n\n<p>while</p>\n\n<pre><code>\"start\".startsWith(\"start\") &amp;&amp; \"start\".endsWith(\"art\")\n</code></pre>\n\n<p>will be true.</p>\n"}],"owner":{"account_id":1994559,"reputation":5717,"user_id":1787782,"accept_rate":38,"display_name":"buddy123"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6264,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1668650690,"creation_date":1383726893,"question_id":19807253,"body_markdown":"I&#39;m facing a dilemma.\r\nI&#39;m parsing a string and can either do\r\n\r\n    s.matches(regex)\r\n\r\nor I can do\r\n\r\n    s.startsWith(..) &amp;&amp; s.endsWith(..)\r\n\r\nAs you already realize, its not a complicated regexp, and both situations will work.\r\nThe idea is, the string may be very long (hundreds of chars), so I wish to maximize efficiency.\r\nWhat works how and better suits the issue?","title":"Java String parsing, What is faster? Regex or String methods?","body":"<p>I'm facing a dilemma.\nI'm parsing a string and can either do</p>\n\n<pre><code>s.matches(regex)\n</code></pre>\n\n<p>or I can do</p>\n\n<pre><code>s.startsWith(..) &amp;&amp; s.endsWith(..)\n</code></pre>\n\n<p>As you already realize, its not a complicated regexp, and both situations will work.\nThe idea is, the string may be very long (hundreds of chars), so I wish to maximize efficiency.\nWhat works how and better suits the issue?</p>\n"},{"tags":["java","oop","design-patterns","architecture","package"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1668597936,"post_id":74459621,"comment_id":131442851,"body_markdown":"Where do you want the knowledge? Do you want anything in com.app.parser.* to know about Apples or Bananas? Or is it ok for something in com.app.apples to know how to provide parsing capabilities?","body":"Where do you want the knowledge? Do you want anything in com.app.parser.* to know about Apples or Bananas? Or is it ok for something in com.app.apples to know how to provide parsing capabilities?"},{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1668598457,"post_id":74459621,"comment_id":131443016,"body_markdown":"I don&#39;t really know. Could you explain that? Why does it influence the decision from a pragmatic point of view?","body":"I don&#39;t really know. Could you explain that? Why does it influence the decision from a pragmatic point of view?"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":2,"creation_date":1668598826,"post_id":74459621,"comment_id":131443149,"body_markdown":"What&#39;s the point of your com.app.parser package? Is it to provide a _clean and uniform API_ to all parsing in your system? Then you wouldn&#39;t spoil it with implementation details from specific domain packages, right? You would want to keep it generic. And then: what&#39;s the point of the com.app.apples package? It&#39;s to provide all functionality about apples, right? So it makes sense for it to contain an IParser implementing AppleParser that parses strings to Apples.","body":"What&#39;s the point of your com.app.parser package? Is it to provide a <i>clean and uniform API</i> to all parsing in your system? Then you wouldn&#39;t spoil it with implementation details from specific domain packages, right? You would want to keep it generic. And then: what&#39;s the point of the com.app.apples package? It&#39;s to provide all functionality about apples, right? So it makes sense for it to contain an IParser implementing AppleParser that parses strings to Apples."},{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1668599254,"post_id":74459621,"comment_id":131443276,"body_markdown":"You are correct. The idea behind adding an AppleParser to com.app.apples is to have all the &quot;apple&quot; related code in one place, making it easy to remove the &quot;apple&quot; feature or use it elsewhere. However, one could also make a case for including it in the com.app.parser package. I don&#39;t think there is a best solution, but rather a judgment call.","body":"You are correct. The idea behind adding an AppleParser to com.app.apples is to have all the &quot;apple&quot; related code in one place, making it easy to remove the &quot;apple&quot; feature or use it elsewhere. However, one could also make a case for including it in the com.app.parser package. I don&#39;t think there is a best solution, but rather a judgment call."}],"answers":[{"comments":[{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1668669981,"post_id":74469292,"comment_id":131463128,"body_markdown":"Good point about the package privacy. So you wouldn&#39;t consider system requirements like e.g. networking a feature?","body":"Good point about the package privacy. So you wouldn&#39;t consider system requirements like e.g. networking a feature?"},{"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"score":0,"creation_date":1668671359,"post_id":74469292,"comment_id":131463555,"body_markdown":"I also think features and functionality are not contradicting, e.g. I could create a common &quot;functional&quot; package like com.app.parser or com.app.shared with the interface IParser and add the implementation to the &quot;feature&quot; packages, e.g. com.app.AppleParser.  This leads to high cohesion within the feature, but still promotes code reusage, right? Slicing packages by features should be default when you think about software as a means to end to fulfill user requirements. Makes it easy to remove/change/add requirements.","body":"I also think features and functionality are not contradicting, e.g. I could create a common &quot;functional&quot; package like com.app.parser or com.app.shared with the interface IParser and add the implementation to the &quot;feature&quot; packages, e.g. com.app.AppleParser.  This leads to high cohesion within the feature, but still promotes code reusage, right? Slicing packages by features should be default when you think about software as a means to end to fulfill user requirements. Makes it easy to remove/change/add requirements."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1669833280,"post_id":74469292,"comment_id":131735219,"body_markdown":"Interface reuse and implementation reuse may be considered as separate abilities. It is not unusual for multiple features to share one implementation of some interface. Also consider the purpose of an interface... if each feature exclusively uses one unique implementation, [why create an interface at all](https://stackoverflow.com/q/2659366/1371329)? In this case each parser is a private utility, not a shared service.","body":"Interface reuse and implementation reuse may be considered as separate abilities. It is not unusual for multiple features to share one implementation of some interface. Also consider the purpose of an interface... if each feature exclusively uses one unique implementation, <a href=\"https://stackoverflow.com/q/2659366/1371329\">why create an interface at all</a>? In this case each parser is a private utility, not a shared service."}],"tags":[],"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668650615,"creation_date":1668650294,"answer_id":74469292,"question_id":74459621,"body_markdown":"To frame the question a bit, there are two broad strategies for packaging classes.\r\n1. Package by function (horizontal slicing).\r\n2. Package by feature (vertical slicing).\r\n\r\nThe first strategy would result in something like: a package for controllers, a package for services, and a package for repositories. The second strategy would result in something like: a controller, a service, and a repository per package.\r\n\r\nIn my experience, the first strategy is more common; but it has drawbacks.\r\n1. Nearly all classes in the application must be `public`, because they are called from a different package; and nearly all classes call out to another package as well.\r\n2. Nearly all classes are packaged together with other classes they do _not_ interact with.\r\n\r\nIn other words, the package-by-function strategy results in high coupling between packages and low cohesion within packages. On the flip side, the package-by-feature strategy is by no means flawless. In particular, it assumes little or no code reuse between features.\r\n\r\n----\r\n\r\nWhen writing [application](https://stackoverflow.com/questions/1270729/difference-between-library-and-application-code) code in Java, I have two guidelines for packaging classes.\r\n1. Minimize the number of classes per package.\r\n2. Minimize the number of `public` classes.\r\n\r\nThese are opposing guidelines, because every package requires at least one `public` class as its entry point. So the difficulty is in striking a balance between the two. In a very general sense, you may consider the first guideline to focus more on package-by-function and the second guideline to focus more on package-by-feature; so the two guidelines together aim to balance the two strategies.\r\n\r\nTheir commonality is that both guidelines aim to reduce complexity. All else being equal, large packages are more complex than small packages; and broadly-scoped code is more complex than narrowly-scoped code. So I strive for small packages containing mostly default (package-private) classes.\r\n\r\n----\r\n\r\nIn terms of the parser in question,\r\n\r\n&gt; what defines that feature?\r\n\r\nThe user. Features are defined by users. When a user interacts with your application, e.g. by calling an API, all the code executed to provide the response to that call comprises a feature.\r\n\r\n&gt; is the feature about the parsing or about the &quot;domain&quot; like apple/banana?\r\n\r\nNeither. The feature is about what the user wants to do. A feature may include parsing of apples or bananas or both, but also needs to accept the user&#39;s request parameters, retrieve the apples and bananas from storage, select the parser, format the output, etc., etc.\r\n\r\nI would want to: _a_.) put the parser in a package that allows as many of its feature&#39;s classes to be non-public as possible, while _b_.) limiting the size of the package itself.\r\n","title":"How to choose the correct package for a class?","body":"<p>To frame the question a bit, there are two broad strategies for packaging classes.</p>\n<ol>\n<li>Package by function (horizontal slicing).</li>\n<li>Package by feature (vertical slicing).</li>\n</ol>\n<p>The first strategy would result in something like: a package for controllers, a package for services, and a package for repositories. The second strategy would result in something like: a controller, a service, and a repository per package.</p>\n<p>In my experience, the first strategy is more common; but it has drawbacks.</p>\n<ol>\n<li>Nearly all classes in the application must be <code>public</code>, because they are called from a different package; and nearly all classes call out to another package as well.</li>\n<li>Nearly all classes are packaged together with other classes they do <em>not</em> interact with.</li>\n</ol>\n<p>In other words, the package-by-function strategy results in high coupling between packages and low cohesion within packages. On the flip side, the package-by-feature strategy is by no means flawless. In particular, it assumes little or no code reuse between features.</p>\n<hr />\n<p>When writing <a href=\"https://stackoverflow.com/questions/1270729/difference-between-library-and-application-code\">application</a> code in Java, I have two guidelines for packaging classes.</p>\n<ol>\n<li>Minimize the number of classes per package.</li>\n<li>Minimize the number of <code>public</code> classes.</li>\n</ol>\n<p>These are opposing guidelines, because every package requires at least one <code>public</code> class as its entry point. So the difficulty is in striking a balance between the two. In a very general sense, you may consider the first guideline to focus more on package-by-function and the second guideline to focus more on package-by-feature; so the two guidelines together aim to balance the two strategies.</p>\n<p>Their commonality is that both guidelines aim to reduce complexity. All else being equal, large packages are more complex than small packages; and broadly-scoped code is more complex than narrowly-scoped code. So I strive for small packages containing mostly default (package-private) classes.</p>\n<hr />\n<p>In terms of the parser in question,</p>\n<blockquote>\n<p>what defines that feature?</p>\n</blockquote>\n<p>The user. Features are defined by users. When a user interacts with your application, e.g. by calling an API, all the code executed to provide the response to that call comprises a feature.</p>\n<blockquote>\n<p>is the feature about the parsing or about the &quot;domain&quot; like apple/banana?</p>\n</blockquote>\n<p>Neither. The feature is about what the user wants to do. A feature may include parsing of apples or bananas or both, but also needs to accept the user's request parameters, retrieve the apples and bananas from storage, select the parser, format the output, etc., etc.</p>\n<p>I would want to: <em>a</em>.) put the parser in a package that allows as many of its feature's classes to be non-public as possible, while <em>b</em>.) limiting the size of the package itself.</p>\n"}],"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668650615,"creation_date":1668597754,"question_id":74459621,"body_markdown":"Consider the following simple package structure:\r\n\r\n    com.app.parser\r\n      - IParser\r\n    com.app.apples\r\n      - Apple\r\n    com.app.bananas\r\n      - Banana\r\n\r\nWhere should I put my `AppleParser/BananaParser`? \r\n\r\nInto the `com.app.parser` package or in a more domain focused package, e.g. `AppleParser` into `com.app.apples.tools`? \r\n\r\nSo far, I tried to package my classes by features as suggested by e.g. [Medium][1] or [Martin Fowler][2], but what defines that feature? In the example above, is the feature about the parsing or about the &quot;domain&quot; like apple/banana?\r\n\r\n\r\n  [1]: https://medium.com/hackernoon/package-by-features-not-layers-2d076df1964d\r\n  [2]: https://martinfowler.com/bliki/PresentationDomainDataLayering.html","title":"How to choose the correct package for a class?","body":"<p>Consider the following simple package structure:</p>\n<pre><code>com.app.parser\n  - IParser\ncom.app.apples\n  - Apple\ncom.app.bananas\n  - Banana\n</code></pre>\n<p>Where should I put my <code>AppleParser/BananaParser</code>?</p>\n<p>Into the <code>com.app.parser</code> package or in a more domain focused package, e.g. <code>AppleParser</code> into <code>com.app.apples.tools</code>?</p>\n<p>So far, I tried to package my classes by features as suggested by e.g. <a href=\"https://medium.com/hackernoon/package-by-features-not-layers-2d076df1964d\" rel=\"nofollow noreferrer\">Medium</a> or <a href=\"https://martinfowler.com/bliki/PresentationDomainDataLayering.html\" rel=\"nofollow noreferrer\">Martin Fowler</a>, but what defines that feature? In the example above, is the feature about the parsing or about the &quot;domain&quot; like apple/banana?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668650524,"creation_date":1668650524,"answer_id":74469315,"question_id":74466822,"body_markdown":"AssertJ provides really cool features to extract information. Look at the example below\r\n\r\n```java\r\n@Test\r\nvoid test() {\r\n    var person = new Person(1l, &quot;Edd&#250;&quot;, &quot;Mel&#233;ndez&quot;);\r\n    assertThat(person)\r\n            .extracting(Person::name, Person::lastname)\r\n            .contains(&quot;Edd&#250;&quot;, &quot;Mel&#233;ndez&quot;);\r\n\r\n    var expected = new PersonName(&quot;Edd&#250;&quot;, &quot;Mel&#233;ndez&quot;);\r\n    assertThat(person)\r\n            .extracting(data -&gt; new PersonName(data.name(), data.lastname()), as(InstanceOfAssertFactories.type(PersonName.class)))\r\n            .isEqualTo(expected);\r\n}\r\n\r\nrecord Person(Long id, String name, String lastname){}\r\nrecord PersonName(String name, String lastname){}\r\n```\r\n\r\nThe first assertions extract the name and lastname and match with the information provided. The second, useful if you use fixture data, allows to extract and map the data, in the example to `PersonName`","title":"How to perform integration tests on MySQL service layer and omit the ID of entities?","body":"<p>AssertJ provides really cool features to extract information. Look at the example below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test() {\n    var person = new Person(1l, &quot;Eddú&quot;, &quot;Meléndez&quot;);\n    assertThat(person)\n            .extracting(Person::name, Person::lastname)\n            .contains(&quot;Eddú&quot;, &quot;Meléndez&quot;);\n\n    var expected = new PersonName(&quot;Eddú&quot;, &quot;Meléndez&quot;);\n    assertThat(person)\n            .extracting(data -&gt; new PersonName(data.name(), data.lastname()), as(InstanceOfAssertFactories.type(PersonName.class)))\n            .isEqualTo(expected);\n}\n\nrecord Person(Long id, String name, String lastname){}\nrecord PersonName(String name, String lastname){}\n</code></pre>\n<p>The first assertions extract the name and lastname and match with the information provided. The second, useful if you use fixture data, allows to extract and map the data, in the example to <code>PersonName</code></p>\n"}],"owner":{"account_id":15569966,"reputation":51,"user_id":11232692,"display_name":"juyebgastro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668650524,"creation_date":1668630533,"question_id":74466822,"body_markdown":"I&#39;m writing a Spring application using JPA to connect to a MySQL database. I&#39;m using Testcontainers to perform integration tests on the service layer of my app, which is working very smoothly. In the test class I construct the entities to be stored in the database, and I use the builder pattern for this:\r\n\r\n```\r\nprivate static final OrderDTO VALID_ORDER = OrderDTO.builder()\r\n    .withId(1L) // primary key\r\n    .withOrderId(&quot;orderId&quot;) // fetched from external API\r\n    .withAddress(validAddress)\r\n    ...\r\n    .build();\r\n```\r\nI then have a test:\r\n\r\n```\r\nvoid shouldSaveNewOrder() {\r\n    OrderDTO order = orderService.saveNewOrder(VALID_ORDER);\r\n    assertThat(orderService.findByOrderId(&quot;orderId&quot;)).isEqualTo(order);\r\n}\r\n```\r\n\r\nMy issue is - I have another test class which also constructs `OrderDTO` entities and stores them in the same database, meaning I have to hardcode specific IDs in the tests so they don&#39;t conflict between classes. This creates unnecessary confusion in the test classes, so ideally I&#39;d like to omit the ID from the tests as it&#39;s not important - I only need to test the other fields. Of course, the ID is the primary key so it can&#39;t be null so I can&#39;t simply remove the `withId()` from the builder.\r\n\r\nMy question is how can I achieve this? The other option was to wipe the database table and reset the auto-increment after the test class runs, but afaik that will involve invoking an EntityManager or JdbcTemplate, and I&#39;m writing this application at the Repository level so that doesn&#39;t seem the best approach. I&#39;d rather have clean tests anyway!\r\n","title":"How to perform integration tests on MySQL service layer and omit the ID of entities?","body":"<p>I'm writing a Spring application using JPA to connect to a MySQL database. I'm using Testcontainers to perform integration tests on the service layer of my app, which is working very smoothly. In the test class I construct the entities to be stored in the database, and I use the builder pattern for this:</p>\n<pre><code>private static final OrderDTO VALID_ORDER = OrderDTO.builder()\n    .withId(1L) // primary key\n    .withOrderId(&quot;orderId&quot;) // fetched from external API\n    .withAddress(validAddress)\n    ...\n    .build();\n</code></pre>\n<p>I then have a test:</p>\n<pre><code>void shouldSaveNewOrder() {\n    OrderDTO order = orderService.saveNewOrder(VALID_ORDER);\n    assertThat(orderService.findByOrderId(&quot;orderId&quot;)).isEqualTo(order);\n}\n</code></pre>\n<p>My issue is - I have another test class which also constructs <code>OrderDTO</code> entities and stores them in the same database, meaning I have to hardcode specific IDs in the tests so they don't conflict between classes. This creates unnecessary confusion in the test classes, so ideally I'd like to omit the ID from the tests as it's not important - I only need to test the other fields. Of course, the ID is the primary key so it can't be null so I can't simply remove the <code>withId()</code> from the builder.</p>\n<p>My question is how can I achieve this? The other option was to wipe the database table and reset the auto-increment after the test class runs, but afaik that will involve invoking an EntityManager or JdbcTemplate, and I'm writing this application at the Repository level so that doesn't seem the best approach. I'd rather have clean tests anyway!</p>\n"},{"tags":["java","spring","maven","heroku"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650899965,"post_id":72001783,"comment_id":127226840,"body_markdown":"This `invalid target release: 11` means you are not using a JDK11+ and your pom file contains `&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source` and `&lt;source&gt;17&lt;/source&gt;&lt;target&gt;17&lt;/target&gt;` so the question is now: what target would like to build for and which JDK do you use?","body":"This <code>invalid target release: 11</code> means you are not using a JDK11+ and your pom file contains <code>&lt;maven.compiler.source&gt;1.8&lt;&#47;maven.compiler.source</code> and <code>&lt;source&gt;17&lt;&#47;source&gt;&lt;target&gt;17&lt;&#47;target&gt;</code> so the question is now: what target would like to build for and which JDK do you use?"},{"owner":{"account_id":25088996,"reputation":1,"user_id":18940862,"display_name":"Francisco Borges"},"score":0,"creation_date":1650900719,"post_id":72001783,"comment_id":127227193,"body_markdown":"I started the project in java 17, so i would like to keep going with the same version. How can i fix it in pom.xml","body":"I started the project in java 17, so i would like to keep going with the same version. How can i fix it in pom.xml"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650902845,"post_id":72001783,"comment_id":127227984,"body_markdown":"Decide which version you would like to build for (JDK version)... Remove the configuration for the compiler-plugin with source/target and use only `&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;` and `&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;` or in case you want to use JDK17 change them appropriately. Check if the heroku supports the appropriate JDK version...","body":"Decide which version you would like to build for (JDK version)... Remove the configuration for the compiler-plugin with source/target and use only <code>&lt;maven.compiler.source&gt;11&lt;&#47;maven.compiler.source&gt;</code> and <code>&lt;maven.compiler.target&gt;11&lt;&#47;maven.compiler.target&gt;</code> or in case you want to use JDK17 change them appropriately. Check if the heroku supports the appropriate JDK version..."},{"owner":{"account_id":25088996,"reputation":1,"user_id":18940862,"display_name":"Francisco Borges"},"score":0,"creation_date":1650903946,"post_id":72001783,"comment_id":127228410,"body_markdown":"Removed the configuration for the maven-compiler-plugin and tried to use only  the the source and target for both versions 11 and 17, but neither worked.","body":"Removed the configuration for the maven-compiler-plugin and tried to use only  the the source and target for both versions 11 and 17, but neither worked."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650904408,"post_id":72001783,"comment_id":127228587,"body_markdown":"What does it mean: &quot;neither worked&quot;?","body":"What does it mean: &quot;neither worked&quot;?"},{"owner":{"account_id":25088996,"reputation":1,"user_id":18940862,"display_name":"Francisco Borges"},"score":0,"creation_date":1650904641,"post_id":72001783,"comment_id":127228666,"body_markdown":"I tried t o put in version 11 and then in version 17 the source and the target and didn&#39;t worked changing the versions.","body":"I tried t o put in version 11 and then in version 17 the source and the target and didn&#39;t worked changing the versions."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650904931,"post_id":72001783,"comment_id":127228770,"body_markdown":"What is the error output etc. ? Please post those messages ...","body":"What is the error output etc. ? Please post those messages ..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650904991,"post_id":72001783,"comment_id":127228795,"body_markdown":"Also you have to define the java version which should be used on heroku (see the answer post) java.runtime.version=11 !!!","body":"Also you have to define the java version which should be used on heroku (see the answer post) java.runtime.version=11 !!!"},{"owner":{"account_id":25088996,"reputation":1,"user_id":18940862,"display_name":"Francisco Borges"},"score":0,"creation_date":1650906182,"post_id":72001783,"comment_id":127229228,"body_markdown":"Already made it, and still not working. I&#39;m trying to re define the system variables of maven to see if i made something wrong.","body":"Already made it, and still not working. I&#39;m trying to re define the system variables of maven to see if i made something wrong."}],"answers":[{"comments":[{"owner":{"account_id":25088996,"reputation":1,"user_id":18940862,"display_name":"Francisco Borges"},"score":1,"creation_date":1650903074,"post_id":72002081,"comment_id":127228063,"body_markdown":"Tried it, but the same error is appearing in the same version [invalid target release: 11]. I already added the file ```system.properties``` with the version of java.","body":"Tried it, but the same error is appearing in the same version [invalid target release: 11]. I already added the file <code>system.properties</code> with the version of java."}],"tags":[],"owner":{"account_id":23555182,"reputation":11,"user_id":17597292,"display_name":"khalil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650901419,"creation_date":1650900818,"answer_id":72002081,"question_id":72001783,"body_markdown":"This is probably just a problem in version because heroku run by default version:\r\n     \r\njava: 8 &amp; jdk: 1.8 \r\n\r\nyou can change your project version and will work fine, \r\notherwise you can create a file `system.properties` in your root directory, and define the version you work with `java.runtime.version`, you can find the details here: https://devcenter.heroku.com/articles/java-support","title":"Uploading in heroku error. Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile. Uploading Heroku with git in spring","body":"<p>This is probably just a problem in version because heroku run by default version:</p>\n<p>java: 8 &amp; jdk: 1.8</p>\n<p>you can change your project version and will work fine,\notherwise you can create a file <code>system.properties</code> in your root directory, and define the version you work with <code>java.runtime.version</code>, you can find the details here: <a href=\"https://devcenter.heroku.com/articles/java-support\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/java-support</a></p>\n"},{"tags":[],"owner":{"account_id":16996098,"reputation":1,"user_id":12812361,"display_name":"Exziro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668650371,"creation_date":1668650283,"answer_id":74469288,"question_id":72001783,"body_markdown":"Maybe its answer is a little bit late, i met the same problem like yours. but i changed my ` &lt;java.version&gt;17&lt;/java.version&gt;`to` &lt;java.version&gt;1.8&lt;/java.version&gt;`. and it can be run. \r\nif someone has the same problem, you can try this.","title":"Uploading in heroku error. Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile. Uploading Heroku with git in spring","body":"<p>Maybe its answer is a little bit late, i met the same problem like yours. but i changed my <code> &lt;java.version&gt;17&lt;/java.version&gt;</code>to<code> &lt;java.version&gt;1.8&lt;/java.version&gt;</code>. and it can be run.\nif someone has the same problem, you can try this.</p>\n"}],"owner":{"account_id":25088996,"reputation":1,"user_id":18940862,"display_name":"Francisco Borges"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668650371,"creation_date":1650899472,"question_id":72001783,"body_markdown":"The Full error is:\r\n```Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project DAI: Fatal error compiling: invalid target release: 11 -&gt; [Help 1] ```\r\n\r\nIm using git to put into the git that is provided \r\n\r\nFull error part in cmd:\r\n\r\n```remote:        [INFO] Compiling 84 source files to /tmp/build_70ecb9a7/target/classes\r\nremote:        [INFO] ------------------------------------------------------------------------\r\nremote:        [INFO] BUILD FAILURE\r\nremote:        [INFO] ------------------------------------------------------------------------\r\nremote:        [INFO] Total time:  23.195 s\r\nremote:        [INFO] Finished at: 2022-04-25T13:37:56Z\r\nremote:        [INFO] ------------------------------------------------------------------------\r\nremote:        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project DAI: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\nremote:        [ERROR]\r\nremote:        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nremote:        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\nremote:        [ERROR]\r\nremote:        [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\nremote:        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\nremote:\r\nremote:  !     ERROR: Failed to build app with Maven\r\nremote:        We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\nremote:        please submit a ticket so we can help: https://help.heroku.com/\r\nremote:\r\nremote:  !     Push rejected, failed to compile Java app.\r\nremote:\r\nremote:  !     Push failed\r\nremote:  !\r\nremote:  ! ## Warning - The same version of this code has already been built: 7443754b101ae5df5488e13d965acefaa6099876\r\nremote:  !\r\nremote:  ! We have detected that you have triggered a build from source code with version 7443754b101ae5df5488e13d965acefaa6099876\r\nremote:  ! at least twice. One common cause of this behavior is attempting to deploy code from a different branch.\r\nremote:  !\r\nremote:  ! If you are developing on a branch and deploying via git you must run:\r\nremote:  !\r\nremote:  !     git push heroku &lt;branchname&gt;:main\r\nremote:  !\r\nremote:  ! This article goes into details on the behavior:\r\nremote:  !   https://devcenter.heroku.com/articles/duplicate-build-version\r\nremote:\r\nremote: Verifying deploy...\r\nremote:\r\nremote: !       Push rejected to still-dusk-73288.\r\nremote:\r\nTo https://git.heroku.com/still-dusk-73288.git\r\n ! [remote rejected] main -&gt; main (pre-receive hook declined)\r\nerror: failed to push some refs to &#39;git repo&#39; \r\n```\r\n\r\n\r\n\r\nMy full pom.xml file:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DAI&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;DAI&lt;/name&gt;\r\n    &lt;description&gt;Projecto de DAI&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;!--&lt;java.version&gt;11&lt;/java.version&gt;--&gt;\r\n        &lt;repackage.classifier/&gt;\r\n        &lt;spring-native.version&gt;0.11.3&lt;/spring-native.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sshd-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.44&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;ng-boot-starter-t\r\n            &lt;artifactId&gt;spriest&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;classifier&gt;${repackage.classifier}&lt;/classifier&gt;\r\n                    &lt;image&gt;\r\n                        &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\r\n                        &lt;env&gt;\r\n                            &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n                        &lt;/env&gt;\r\n                    &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.3&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--&lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test-generate&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;enhance&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enhance&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n                            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\r\n                            &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\r\n                            &lt;enableAssociationManagement&gt;true&lt;/enableAssociationManagement&gt;\r\n                            &lt;enableExtendedEnhancement&gt;false&lt;/enableExtendedEnhancement&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;name&gt;Spring Releases&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;name&gt;Spring Releases&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;repackage.classifier&gt;exec&lt;/repackage.classifier&gt;\r\n                &lt;native-buildtools.version&gt;0.9.10&lt;/native-buildtools.version&gt;\r\n            &lt;/properties&gt;\r\n            &lt;!--&lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${native-buildtools.version}&lt;/version&gt;\r\n                        &lt;extensions&gt;true&lt;/extensions&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;test-native&lt;/id&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;test&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;build-native&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;--&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI already tried some solutions for the problem in stack overflow. But at the moment nothing resulted.\r\nCan someone give some solutions to try to put in heroku? I need to put one api online as fast as possible. Thanks in advance :)","title":"Uploading in heroku error. Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile. Uploading Heroku with git in spring","body":"<p>The Full error is:\n<code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project DAI: Fatal error compiling: invalid target release: 11 -&gt; [Help 1] </code></p>\n<p>Im using git to put into the git that is provided</p>\n<p>Full error part in cmd:</p>\n<pre><code>remote:        [INFO] ------------------------------------------------------------------------\nremote:        [INFO] BUILD FAILURE\nremote:        [INFO] ------------------------------------------------------------------------\nremote:        [INFO] Total time:  23.195 s\nremote:        [INFO] Finished at: 2022-04-25T13:37:56Z\nremote:        [INFO] ------------------------------------------------------------------------\nremote:        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project DAI: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\nremote:        [ERROR]\nremote:        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\nremote:        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\nremote:        [ERROR]\nremote:        [ERROR] For more information about the errors and possible solutions, please read the following articles:\nremote:        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\nremote:\nremote:  !     ERROR: Failed to build app with Maven\nremote:        We're sorry this build is failing! If you can't find the issue in application code,\nremote:        please submit a ticket so we can help: https://help.heroku.com/\nremote:\nremote:  !     Push rejected, failed to compile Java app.\nremote:\nremote:  !     Push failed\nremote:  !\nremote:  ! ## Warning - The same version of this code has already been built: 7443754b101ae5df5488e13d965acefaa6099876\nremote:  !\nremote:  ! We have detected that you have triggered a build from source code with version 7443754b101ae5df5488e13d965acefaa6099876\nremote:  ! at least twice. One common cause of this behavior is attempting to deploy code from a different branch.\nremote:  !\nremote:  ! If you are developing on a branch and deploying via git you must run:\nremote:  !\nremote:  !     git push heroku &lt;branchname&gt;:main\nremote:  !\nremote:  ! This article goes into details on the behavior:\nremote:  !   https://devcenter.heroku.com/articles/duplicate-build-version\nremote:\nremote: Verifying deploy...\nremote:\nremote: !       Push rejected to still-dusk-73288.\nremote:\nTo https://git.heroku.com/still-dusk-73288.git\n ! [remote rejected] main -&gt; main (pre-receive hook declined)\nerror: failed to push some refs to 'git repo' \n</code></pre>\n<p>My full pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;DAI&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DAI&lt;/name&gt;\n    &lt;description&gt;Projecto de DAI&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;!--&lt;java.version&gt;11&lt;/java.version&gt;--&gt;\n        &lt;repackage.classifier/&gt;\n        &lt;spring-native.version&gt;0.11.3&lt;/spring-native.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\n            &lt;artifactId&gt;sshd-core&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n            &lt;version&gt;${spring-native.version}&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.44&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;ng-boot-starter-t\n            &lt;artifactId&gt;spriest&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;${repackage.classifier}&lt;/classifier&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\n                        &lt;env&gt;\n                            &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                        &lt;/env&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.3&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!--&lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring-native.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-generate&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enhance&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enhance&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnError&gt;true&lt;/failOnError&gt;\n                            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\n                            &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\n                            &lt;enableAssociationManagement&gt;true&lt;/enableAssociationManagement&gt;\n                            &lt;enableExtendedEnhancement&gt;false&lt;/enableExtendedEnhancement&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;repackage.classifier&gt;exec&lt;/repackage.classifier&gt;\n                &lt;native-buildtools.version&gt;0.9.10&lt;/native-buildtools.version&gt;\n            &lt;/properties&gt;\n            &lt;!--&lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${native-buildtools.version}&lt;/version&gt;\n                        &lt;extensions&gt;true&lt;/extensions&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;test-native&lt;/id&gt;\n                                &lt;phase&gt;test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;test&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-native&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;--&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I already tried some solutions for the problem in stack overflow. But at the moment nothing resulted.\nCan someone give some solutions to try to put in heroku? I need to put one api online as fast as possible. Thanks in advance :)</p>\n"},{"tags":["java","azure","azure-devops","azure-databricks"],"answers":[{"tags":[],"owner":{"account_id":21897459,"reputation":971,"user_id":16183552,"display_name":"Ziyang Liu-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668650285,"creation_date":1668650285,"answer_id":74469290,"question_id":74460172,"body_markdown":"You can use [Databricks CLI][1], which provides an easy-to-use interface to the Azure Databricks platform. \r\n\r\nAt the same time, you can also use Databricks CLI in the Azure DevOps to integrate with Azure Databricks, for detailed info, please refer to [Continuous integration and delivery on Azure Databricks using Azure DevOps][2]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/databricks/dev-tools/cli/\r\n  [2]: https://learn.microsoft.com/en-us/azure/databricks/dev-tools/ci-cd/ci-cd-azure-devops","title":"Is it possible to call/execute Azure data brick script from external java api?","body":"<p>You can use <a href=\"https://learn.microsoft.com/en-us/azure/databricks/dev-tools/cli/\" rel=\"nofollow noreferrer\">Databricks CLI</a>, which provides an easy-to-use interface to the Azure Databricks platform.</p>\n<p>At the same time, you can also use Databricks CLI in the Azure DevOps to integrate with Azure Databricks, for detailed info, please refer to <a href=\"https://learn.microsoft.com/en-us/azure/databricks/dev-tools/ci-cd/ci-cd-azure-devops\" rel=\"nofollow noreferrer\">Continuous integration and delivery on Azure Databricks using Azure DevOps</a></p>\n"}],"owner":{"account_id":6381890,"reputation":131,"user_id":4951026,"accept_rate":71,"display_name":"Deepak Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668650285,"creation_date":1668600371,"question_id":74460172,"body_markdown":"Is it possible to call Azure data brick script from external java api? I want to execute this script on demand , or please suggest how can I achieve this?\r\n","title":"Is it possible to call/execute Azure data brick script from external java api?","body":"<p>Is it possible to call Azure data brick script from external java api? I want to execute this script on demand , or please suggest how can I achieve this?</p>\n"},{"tags":["java","linux","ubuntu","awtrobot"],"comments":[{"owner":{"account_id":26948775,"reputation":1,"user_id":20518331,"display_name":"Joe"},"score":0,"creation_date":1668592166,"post_id":74458304,"comment_id":131440779,"body_markdown":"my current desktop is gnome","body":"my current desktop is gnome"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1668592549,"post_id":74458304,"comment_id":131440911,"body_markdown":"https://stackoverflow.com/questions/24668407/how-to-take-a-screenshot-of-desktop-fast-with-java-in-windows-ffmpeg-etc Maybe?","body":"<a href=\"https://stackoverflow.com/questions/24668407/how-to-take-a-screenshot-of-desktop-fast-with-java-in-windows-ffmpeg-etc\" title=\"how to take a screenshot of desktop fast with java in windows ffmpeg etc\">stackoverflow.com/questions/24668407/&hellip;</a> Maybe?"},{"owner":{"account_id":26948775,"reputation":1,"user_id":20518331,"display_name":"Joe"},"score":0,"creation_date":1668593979,"post_id":74458304,"comment_id":131441419,"body_markdown":"@Grim I do not want to use ffmpeg or java cv because i want to run this code on many other platforms , so i want to implement this function in java only","body":"@Grim I do not want to use ffmpeg or java cv because i want to run this code on many other platforms , so i want to implement this function in java only"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668594841,"post_id":74458304,"comment_id":131441732,"body_markdown":"Works for me. Make sure you run it on the EDT","body":"Works for me. Make sure you run it on the EDT"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668613045,"post_id":74458304,"comment_id":131448894,"body_markdown":"We don&#39;t know the context of how that code is executed. For example, is it just executed in the main() method of your class, or do you click on a button in the frame? Post a proper [me] demonstrating the problem. Then people can copy/paste/compile/test to see if they have the same problem.","body":"We don&#39;t know the context of how that code is executed. For example, is it just executed in the main() method of your class, or do you click on a button in the frame? Post a proper [me] demonstrating the problem. Then people can copy/paste/compile/test to see if they have the same problem."},{"owner":{"account_id":26948775,"reputation":1,"user_id":20518331,"display_name":"Joe"},"score":0,"creation_date":1668649884,"post_id":74458304,"comment_id":131459649,"body_markdown":"@camickr  i have re-edit the question , added test code at the bottom of the question","body":"@camickr  i have re-edit the question , added test code at the bottom of the question"},{"owner":{"account_id":26948775,"reputation":1,"user_id":20518331,"display_name":"Joe"},"score":0,"creation_date":1668650533,"post_id":74458304,"comment_id":131459754,"body_markdown":"@g00se you can see the test code, it works on windows but not works on ubuntu, why i need edt","body":"@g00se you can see the test code, it works on windows but not works on ubuntu, why i need edt"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668656405,"post_id":74458304,"comment_id":131460620,"body_markdown":"Again, usually an image is taken from a GUI when the application is running and the JVM is active. I would guess the issue is that the JVM closes before the image can be created on Linux. Try more realistic test.","body":"Again, usually an image is taken from a GUI when the application is running and the JVM is active. I would guess the issue is that the JVM closes before the image can be created on Linux. Try more realistic test."},{"owner":{"account_id":26948775,"reputation":1,"user_id":20518331,"display_name":"Joe"},"score":0,"creation_date":1668666113,"post_id":74458304,"comment_id":131462175,"body_markdown":"@camickr i try the test code on  centos , it works, the code should be ok","body":"@camickr i try the test code on  centos , it works, the code should be ok"}],"owner":{"account_id":26948775,"reputation":1,"user_id":20518331,"display_name":"Joe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668649670,"creation_date":1668592048,"question_id":74458304,"body_markdown":"this is my code,it works well on windows,by failed in ubuntu\r\n\r\n\r\n```\r\nvoid linuxShot() throws AWTException, IOException {\r\n   Robot robot=new Robot();\r\n   Dimension d=  Toolkit.getDefaultToolkit().getScreenSize();\r\n   Rectangle screenRect=new  Rectangle(d);\r\n   BufferedImage bufferedImage=robot.createScreenCapture(screenRect);\r\n   //save picture\r\n   File file=new File(&quot;temp&quot;+File.separator+&quot;screen.png&quot;);\r\n   ImageIO.write(bufferedImage,&quot;png&quot;,file);\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nthere is my system infomation:\r\njdk version:\r\n```\r\nopenjdk version &quot;1.8.0_352&quot;\r\nOpenJDK Runtime Environment Corretto-8.352.08.1 (build 1.8.0_352-b08)\r\nOpenJDK 64-Bit Server VM Corretto-8.352.08.1 (build 25.352-b08, mixed mode)\r\n```\r\nsystem :\r\n```\r\nPRETTY_NAME=&quot;Ubuntu 22.04.1 LTS&quot;\r\nNAME=&quot;Ubuntu&quot;\r\nVERSION_ID=&quot;22.04&quot;\r\nVERSION=&quot;22.04.1 LTS (Jammy Jellyfish)&quot;\r\nVERSION_CODENAME=jammy\r\nID=ubuntu\r\nID_LIKE=debian\r\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\r\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\r\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\r\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\r\nUBUNTU_CODENAME=jammy\r\n```\r\n\r\n\r\nwhen i run this code in ubuntu,this is no exception,but the picture is all black，how can I resolve this problem or is there annother way to take a screenshot by java which can works on both windows and linux\r\n\r\n\r\n\r\ntest code:\r\n\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.awt.image.BufferedImage;\r\npublic class Main {\r\n    public static void main(String[] args) throws AWTException, IOException {\r\n        Robot robot=new Robot();\r\n        Dimension d=  Toolkit.getDefaultToolkit().getScreenSize();\r\n        Rectangle screenRect=new  Rectangle(d);\r\n        BufferedImage bufferedImage=robot.createScreenCapture(screenRect);\r\n        //save picture\r\n        File file=new File(&quot;screen.png&quot;);\r\n        ImageIO.write(bufferedImage,&quot;png&quot;,file);\r\n    }\r\n}\r\n```","title":"how can I take a screenshot in linux by java?","body":"<p>this is my code,it works well on windows,by failed in ubuntu</p>\n<pre><code>void linuxShot() throws AWTException, IOException {\n   Robot robot=new Robot();\n   Dimension d=  Toolkit.getDefaultToolkit().getScreenSize();\n   Rectangle screenRect=new  Rectangle(d);\n   BufferedImage bufferedImage=robot.createScreenCapture(screenRect);\n   //save picture\n   File file=new File(&quot;temp&quot;+File.separator+&quot;screen.png&quot;);\n   ImageIO.write(bufferedImage,&quot;png&quot;,file);\n\n}\n</code></pre>\n<p>there is my system infomation:\njdk version:</p>\n<pre><code>openjdk version &quot;1.8.0_352&quot;\nOpenJDK Runtime Environment Corretto-8.352.08.1 (build 1.8.0_352-b08)\nOpenJDK 64-Bit Server VM Corretto-8.352.08.1 (build 25.352-b08, mixed mode)\n</code></pre>\n<p>system :</p>\n<pre><code>PRETTY_NAME=&quot;Ubuntu 22.04.1 LTS&quot;\nNAME=&quot;Ubuntu&quot;\nVERSION_ID=&quot;22.04&quot;\nVERSION=&quot;22.04.1 LTS (Jammy Jellyfish)&quot;\nVERSION_CODENAME=jammy\nID=ubuntu\nID_LIKE=debian\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\nUBUNTU_CODENAME=jammy\n</code></pre>\n<p>when i run this code in ubuntu,this is no exception,but the picture is all black，how can I resolve this problem or is there annother way to take a screenshot by java which can works on both windows and linux</p>\n<p>test code:</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.awt.image.BufferedImage;\npublic class Main {\n    public static void main(String[] args) throws AWTException, IOException {\n        Robot robot=new Robot();\n        Dimension d=  Toolkit.getDefaultToolkit().getScreenSize();\n        Rectangle screenRect=new  Rectangle(d);\n        BufferedImage bufferedImage=robot.createScreenCapture(screenRect);\n        //save picture\n        File file=new File(&quot;screen.png&quot;);\n        ImageIO.write(bufferedImage,&quot;png&quot;,file);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mobile"],"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668648929,"creation_date":1668648929,"question_id":74469157,"body_markdown":"I know this is common to ask but I have trouble using `super.onBackPressed();` that it crash my app eventually, So let&#39;s say I&#39;m in the **second activity** and I want to go back to the mainActivity.The problem is when I go back the logcat says `msg&#39;s executing time is too long` and sometimes it crashes the app, can someone have an idea for this?\r\n\r\n**second activity** goes back to second activity\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if ((keyCode == KeyEvent.KEYCODE_BACK)) {\r\n            super.onBackPressed();\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n**first activity** goes to 2nd activity : I didn&#39;t `finish()` the intent because I use `backPressed` on second activity\r\n\r\n        InventoryList.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(MainActivity.this, com.example.cashgrantsmobile.Inventory.InventoryList.class);\r\n            startActivity(intent);\r\n        });","title":"msg&#39;s executing time is too long in Android Java","body":"<p>I know this is common to ask but I have trouble using <code>super.onBackPressed();</code> that it crash my app eventually, So let's say I'm in the <strong>second activity</strong> and I want to go back to the mainActivity.The problem is when I go back the logcat says <code>msg's executing time is too long</code> and sometimes it crashes the app, can someone have an idea for this?</p>\n<p><strong>second activity</strong> goes back to second activity</p>\n<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n    if ((keyCode == KeyEvent.KEYCODE_BACK)) {\n        super.onBackPressed();\n    }\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n<p><strong>first activity</strong> goes to 2nd activity : I didn't <code>finish()</code> the intent because I use <code>backPressed</code> on second activity</p>\n<pre><code>    InventoryList.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(MainActivity.this, com.example.cashgrantsmobile.Inventory.InventoryList.class);\n        startActivity(intent);\n    });\n</code></pre>\n"},{"tags":["java","json","jackson","jsonparser","fasterxml"],"answers":[{"comments":[{"owner":{"account_id":1419695,"reputation":1277,"user_id":1344583,"accept_rate":60,"display_name":"Loren Cahlander"},"score":0,"creation_date":1668658002,"post_id":74469124,"comment_id":131460844,"body_markdown":"The problem with this is that it does not help with the fn:json-to-xml() XQuery method that should render `&lt;fn:string escaped=&quot;true&quot;&gt;\\u0000&lt;/fn:string&gt;`. I created this example to allow for the recreation, but the code is deeper.  Take a look at https://github.com/eXist-db/exist/blob/develop/exist-core/src/main/java/org/exist/xquery/functions/fn/JSON.java where I am working on this.  Also see https://github.com/eXist-db/exist/issues/3594","body":"The problem with this is that it does not help with the fn:json-to-xml() XQuery method that should render <code>&lt;fn:string escaped=&quot;true&quot;&gt;\\u0000&lt;&#47;fn:string&gt;</code>. I created this example to allow for the recreation, but the code is deeper.  Take a look at <a href=\"https://github.com/eXist-db/exist/blob/develop/exist-core/src/main/java/org/exist/xquery/functions/fn/JSON.java\" rel=\"nofollow noreferrer\">github.com/eXist-db/exist/blob/develop/exist-core/src/main/j&zwnj;&#8203;ava/&hellip;</a> where I am working on this.  Also see <a href=\"https://github.com/eXist-db/exist/issues/3594\" rel=\"nofollow noreferrer\">github.com/eXist-db/exist/issues/3594</a>"}],"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668648567,"creation_date":1668648567,"answer_id":74469124,"question_id":74468685,"body_markdown":"The solution is to use \r\n\r\n    &quot;{ \\&quot;value\\&quot;: \\&quot;\\\\\\\\u0000\\&quot; }&quot;\r\n\r\nIn other words, double up the backslashes. \r\n\r\nIf you use `\\\\0000` in your Java string literal, then Java will know that you do not have a Unicode escape sequence (you do not want `\\U0000` to be interpreted as the null character).\r\n\r\nBut that means Java will pass `\\u0000` to the JSON parser.\r\n\r\nThe parser will then apply JSON&#39;s own rules regarding backslashes - which also act as escape characters. So, JSON will now interpret `\\u0000` as the null character.\r\n\r\nBy doubling up the backslashes from 2 to 4, you will ensure that JSON receives a string containing `\\\\u0000`. Java will reduce each pair of backslashes to a single literal backslash in its resulting string.\r\n\r\nAnd that means that JSON will know it is a literal `\\u0000` string and not the null character.","title":"In fasterxml&#39;s JsonParser I want to get the raw text from property","body":"<p>The solution is to use</p>\n<pre><code>&quot;{ \\&quot;value\\&quot;: \\&quot;\\\\\\\\u0000\\&quot; }&quot;\n</code></pre>\n<p>In other words, double up the backslashes.</p>\n<p>If you use <code>\\\\0000</code> in your Java string literal, then Java will know that you do not have a Unicode escape sequence (you do not want <code>\\U0000</code> to be interpreted as the null character).</p>\n<p>But that means Java will pass <code>\\u0000</code> to the JSON parser.</p>\n<p>The parser will then apply JSON's own rules regarding backslashes - which also act as escape characters. So, JSON will now interpret <code>\\u0000</code> as the null character.</p>\n<p>By doubling up the backslashes from 2 to 4, you will ensure that JSON receives a string containing <code>\\\\u0000</code>. Java will reduce each pair of backslashes to a single literal backslash in its resulting string.</p>\n<p>And that means that JSON will know it is a literal <code>\\u0000</code> string and not the null character.</p>\n"}],"owner":{"account_id":1419695,"reputation":1277,"user_id":1344583,"accept_rate":60,"display_name":"Loren Cahlander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668648567,"creation_date":1668643530,"question_id":74468685,"body_markdown":"I have a sample snippet that parses the JSON that I am trying to get the rawtext of the value.  I want to properly escape the text for XML.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport com.fasterxml.jackson.core.JsonFactory;\r\nimport com.fasterxml.jackson.core.JsonParseException;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonToken;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class App\r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        JsonFactory factory = createJsonFactory(true);\r\n        try (final JsonParser parser = factory.createParser(&quot;{ \\&quot;value\\&quot;: \\&quot;\\\\u0000\\&quot; }&quot;)) {\r\n            JsonToken token;\r\n            while ((token = parser.nextValue()) != null) {\r\n                switch (token) {\r\n                    case VALUE_STRING:\r\n                        String text = parser.getText();\r\n                        System.out.println(text);\r\n                        break;\r\n\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n\r\n        } catch (JsonParseException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static JsonFactory createJsonFactory(boolean liberal) {\r\n        JsonFactory factory = new JsonFactory();\r\n        factory.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);\r\n\r\n        // duplicates are handled in readValue\r\n        factory.configure(JsonParser.Feature.STRICT_DUPLICATE_DETECTION, false);\r\n        if (liberal) {\r\n            factory.configure(JsonParser.Feature.ALLOW_COMMENTS, true);\r\n            factory.configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\r\n            factory.configure(JsonParser.Feature.ALLOW_NUMERIC_LEADING_ZEROS, true);\r\n            factory.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n            factory.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true);\r\n        }\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\nHow do I get the output of `\\u0000` instead of the null character?\r\n\r\nI have the following as my dependency:\r\n\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.13.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n","title":"In fasterxml&#39;s JsonParser I want to get the raw text from property","body":"<p>I have a sample snippet that parses the JSON that I am trying to get the rawtext of the value.  I want to properly escape the text for XML.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonToken;\n\nimport java.io.IOException;\n\npublic class App\n{\n    public static void main( String[] args )\n    {\n        JsonFactory factory = createJsonFactory(true);\n        try (final JsonParser parser = factory.createParser(&quot;{ \\&quot;value\\&quot;: \\&quot;\\\\u0000\\&quot; }&quot;)) {\n            JsonToken token;\n            while ((token = parser.nextValue()) != null) {\n                switch (token) {\n                    case VALUE_STRING:\n                        String text = parser.getText();\n                        System.out.println(text);\n                        break;\n\n                    default:\n                        break;\n                }\n            }\n\n        } catch (JsonParseException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static JsonFactory createJsonFactory(boolean liberal) {\n        JsonFactory factory = new JsonFactory();\n        factory.configure(JsonParser.Feature.ALLOW_NON_NUMERIC_NUMBERS, true);\n\n        // duplicates are handled in readValue\n        factory.configure(JsonParser.Feature.STRICT_DUPLICATE_DETECTION, false);\n        if (liberal) {\n            factory.configure(JsonParser.Feature.ALLOW_COMMENTS, true);\n            factory.configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\n            factory.configure(JsonParser.Feature.ALLOW_NUMERIC_LEADING_ZEROS, true);\n            factory.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n            factory.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true);\n        }\n        return factory;\n    }\n}\n</code></pre>\n<p>How do I get the output of <code>\\u0000</code> instead of the null character?</p>\n<p>I have the following as my dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n      &lt;version&gt;2.13.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","string","algorithm"],"answers":[{"tags":[],"owner":{"account_id":329794,"reputation":5980,"user_id":653511,"accept_rate":86,"display_name":"stemm"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1668647429,"creation_date":1353931456,"answer_id":13564498,"question_id":13564464,"body_markdown":"&lt;H2&gt;1) Few words about Levenshtein distance algorithm improvement&lt;/H2&gt;\r\n\r\n**Recursive implementation of Levenshteins distance has exponential complexity**.\r\n\r\nI&#39;d suggest you to use **memoization technique** and implement Levenshtein distance without recursion, and reduce complexity to `O(N^2)`(needs `O(N^2)` memory)\r\n\r\n    public static int levenshteinDistance( String s1, String s2 ) {\r\n        return dist( s1.toCharArray(), s2.toCharArray() );\r\n    }\r\n\r\n    public static int dist( char[] s1, char[] s2 ) {\r\n\r\n        // distance matrix - to memoize distances between substrings\r\n        // needed to avoid recursion\r\n        int[][] d = new int[ s1.length + 1 ][ s2.length + 1 ];\r\n\r\n        // d[i][j] - would contain distance between such substrings:\r\n        // s1.subString(0, i) and s2.subString(0, j)\r\n     \r\n        for( int i = 0; i &lt; s1.length + 1; i++ ) {\r\n            d[ i ][ 0 ] = i;\r\n        }\r\n     \r\n        for(int j = 0; j &lt; s2.length + 1; j++) {\r\n            d[ 0 ][ j ] = j;\r\n        }\r\n     \r\n        for( int i = 1; i &lt; s1.length + 1; i++ ) {\r\n            for( int j = 1; j &lt; s2.length + 1; j++ ) {\r\n                int d1 = d[ i - 1 ][ j ] + 1;\r\n                int d2 = d[ i ][ j - 1 ] + 1;\r\n                int d3 = d[ i - 1 ][ j - 1 ];\r\n                if ( s1[ i - 1 ] != s2[ j - 1 ] ) {\r\n                    d3 += 1;\r\n                }\r\n                d[ i ][ j ] = Math.min( Math.min( d1, d2 ), d3 );\r\n            }\r\n        }\r\n        return d[ s1.length ][ s2.length ];\r\n    }\r\n\r\nOr, even better - you may notice, that for each cell in distance matrix - you need only information about previous line, so **you can reduce memory needs to `O(N)`**:\r\n\r\n    public static int dist( char[] s1, char[] s2 ) {\r\n\r\n        // memoize only previous line of distance matrix     \r\n        int[] prev = new int[ s2.length + 1 ];\r\n     \r\n        for( int j = 0; j &lt; s2.length + 1; j++ ) {\r\n            prev[ j ] = j;\r\n        }\r\n     \r\n        for( int i = 1; i &lt; s1.length + 1; i++ ) {\r\n\r\n            // calculate current line of distance matrix     \r\n            int[] curr = new int[ s2.length + 1 ];\r\n            curr[0] = i;\r\n     \r\n            for( int j = 1; j &lt; s2.length + 1; j++ ) {\r\n                int d1 = prev[ j ] + 1;\r\n                int d2 = curr[ j - 1 ] + 1;\r\n                int d3 = prev[ j - 1 ];\r\n                if ( s1[ i - 1 ] != s2[ j - 1 ] ) {\r\n                    d3 += 1;\r\n                }\r\n                curr[ j ] = Math.min( Math.min( d1, d2 ), d3 );\r\n            }\r\n\r\n            // define current line of distance matrix as previous     \r\n            prev = curr;\r\n        }\r\n        return prev[ s2.length ];\r\n    }\r\n\r\n&lt;H2&gt;2) Few words about autocomplete&lt;/H2&gt;\r\n\r\nLevenshtein&#39;s distance is preferred only if you need to find exact matches.\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nBut what if your keyword would be **`apple`** and user typed **`green apples`**? Levenshteins distance between query and keyword would be large (**7 points**). And Levensteins distance between **`apple`** and **`bcdfghk`** (dumb string) would be **7 points** too!\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nI&#39;d suggest you to use **full-text search engine** (e.g. [Lucene][1]). The trick is - that you have to use **[n-gram][2]** model to represent each keyword.\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nIn few words:\r\n&lt;br/&gt;\r\n**1)** you have to represent each keyword as document, which contains n-grams: `apple -&gt; [ap, pp, pl, le]`.\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n**2)** after transforming each keyword to set of n-grams - you have to **index each keyword-document** by n-gram in your search engine. You&#39;ll have to create index like this:\r\n\r\n    ...\r\n    ap -&gt; apple, map, happy ...\r\n    pp -&gt; apple ...\r\n    pl -&gt; apple, place ...\r\n    ...\r\n\r\n**3)** So you have n-gram index. **When you get a query - you have to split it into n-grams**. After this - you&#39;ll have a set of user&#39;s query n-grams. And all you need - is to match most similar documents from your search engine. In draft approach it would be enough.\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n**4)** For better suggest - you may rank results of search-engine by Levenshtein distance.\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n\r\n**P.S.** I&#39;d suggest you to look through the book **[&quot;Introduction to information retrieval&quot;][3]**.\r\n\r\n\r\n  [1]: http://lucene.apache.org/\r\n  [2]: http://en.wikipedia.org/wiki/N-gram\r\n  [3]: http://www.amazon.com/dp/0521865719/?tag=stackoverfl08-20","title":"Problems with Levenshtein algorithm in Java","body":"<H2>1) Few words about Levenshtein distance algorithm improvement</H2>\n<p><strong>Recursive implementation of Levenshteins distance has exponential complexity</strong>.</p>\n<p>I'd suggest you to use <strong>memoization technique</strong> and implement Levenshtein distance without recursion, and reduce complexity to <code>O(N^2)</code>(needs <code>O(N^2)</code> memory)</p>\n<pre><code>public static int levenshteinDistance( String s1, String s2 ) {\n    return dist( s1.toCharArray(), s2.toCharArray() );\n}\n\npublic static int dist( char[] s1, char[] s2 ) {\n\n    // distance matrix - to memoize distances between substrings\n    // needed to avoid recursion\n    int[][] d = new int[ s1.length + 1 ][ s2.length + 1 ];\n\n    // d[i][j] - would contain distance between such substrings:\n    // s1.subString(0, i) and s2.subString(0, j)\n \n    for( int i = 0; i &lt; s1.length + 1; i++ ) {\n        d[ i ][ 0 ] = i;\n    }\n \n    for(int j = 0; j &lt; s2.length + 1; j++) {\n        d[ 0 ][ j ] = j;\n    }\n \n    for( int i = 1; i &lt; s1.length + 1; i++ ) {\n        for( int j = 1; j &lt; s2.length + 1; j++ ) {\n            int d1 = d[ i - 1 ][ j ] + 1;\n            int d2 = d[ i ][ j - 1 ] + 1;\n            int d3 = d[ i - 1 ][ j - 1 ];\n            if ( s1[ i - 1 ] != s2[ j - 1 ] ) {\n                d3 += 1;\n            }\n            d[ i ][ j ] = Math.min( Math.min( d1, d2 ), d3 );\n        }\n    }\n    return d[ s1.length ][ s2.length ];\n}\n</code></pre>\n<p>Or, even better - you may notice, that for each cell in distance matrix - you need only information about previous line, so <strong>you can reduce memory needs to <code>O(N)</code></strong>:</p>\n<pre><code>public static int dist( char[] s1, char[] s2 ) {\n\n    // memoize only previous line of distance matrix     \n    int[] prev = new int[ s2.length + 1 ];\n \n    for( int j = 0; j &lt; s2.length + 1; j++ ) {\n        prev[ j ] = j;\n    }\n \n    for( int i = 1; i &lt; s1.length + 1; i++ ) {\n\n        // calculate current line of distance matrix     \n        int[] curr = new int[ s2.length + 1 ];\n        curr[0] = i;\n \n        for( int j = 1; j &lt; s2.length + 1; j++ ) {\n            int d1 = prev[ j ] + 1;\n            int d2 = curr[ j - 1 ] + 1;\n            int d3 = prev[ j - 1 ];\n            if ( s1[ i - 1 ] != s2[ j - 1 ] ) {\n                d3 += 1;\n            }\n            curr[ j ] = Math.min( Math.min( d1, d2 ), d3 );\n        }\n\n        // define current line of distance matrix as previous     \n        prev = curr;\n    }\n    return prev[ s2.length ];\n}\n</code></pre>\n<H2>2) Few words about autocomplete</H2>\n<p>Levenshtein's distance is preferred only if you need to find exact matches.\n<br/>\n<br/>\nBut what if your keyword would be <strong><code>apple</code></strong> and user typed <strong><code>green apples</code></strong>? Levenshteins distance between query and keyword would be large (<strong>7 points</strong>). And Levensteins distance between <strong><code>apple</code></strong> and <strong><code>bcdfghk</code></strong> (dumb string) would be <strong>7 points</strong> too!\n<br/>\n<br/>\nI'd suggest you to use <strong>full-text search engine</strong> (e.g. <a href=\"http://lucene.apache.org/\" rel=\"nofollow noreferrer\">Lucene</a>). The trick is - that you have to use <strong><a href=\"http://en.wikipedia.org/wiki/N-gram\" rel=\"nofollow noreferrer\">n-gram</a></strong> model to represent each keyword.\n<br/>\n<br/>\nIn few words:\n<br/>\n<strong>1)</strong> you have to represent each keyword as document, which contains n-grams: <code>apple -&gt; [ap, pp, pl, le]</code>.\n<br/>\n<br/>\n<strong>2)</strong> after transforming each keyword to set of n-grams - you have to <strong>index each keyword-document</strong> by n-gram in your search engine. You'll have to create index like this:</p>\n<pre><code>...\nap -&gt; apple, map, happy ...\npp -&gt; apple ...\npl -&gt; apple, place ...\n...\n</code></pre>\n<p><strong>3)</strong> So you have n-gram index. <strong>When you get a query - you have to split it into n-grams</strong>. After this - you'll have a set of user's query n-grams. And all you need - is to match most similar documents from your search engine. In draft approach it would be enough.\n<br/>\n<br/>\n<strong>4)</strong> For better suggest - you may rank results of search-engine by Levenshtein distance.\n<br/>\n<br/></p>\n<p><strong>P.S.</strong> I'd suggest you to look through the book <strong><a href=\"https://rads.stackoverflow.com/amzn/click/com/0521865719\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">&quot;Introduction to information retrieval&quot;</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":2447488,"reputation":53,"user_id":12299436,"display_name":"Pramod Karivellur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362462454,"creation_date":1362462454,"answer_id":15216697,"question_id":13564464,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Algorithmm {\r\n        public static void main(String args[])\r\n        {\r\n            Scanner sc= new Scanner(System.in);\r\n            System.out.println(&quot;Enter the correct string &quot;);\r\n            String correct=sc.nextLine();\r\n            System.out.println(&quot;Enter the incorrect string &quot;);\r\n            String incorrect=sc.nextLine();\r\n            int i=correct.length(),j=incorrect.length();\r\n            ++i ; ++j;\r\n            int a[][] = new int[i][j];\r\n            int b[] = new int[3];       \r\n            for(int m=0;m&lt;i;m++)\r\n                for(int n=0;n&lt;j;n++)\r\n                {\r\n                    \r\n                            if(m==0 || n==0)\r\n                            {\r\n                              a[0][n]=n;\r\n                              a[m][0]=m;\r\n                            }\r\n                            else\r\n                            {\r\n                                b[0]=a[m-1][n-1]; b[1]=a[m-1][n]; b[2]=a[m][n-1];\r\n                                \r\n                                \r\n                                if ( correct.charAt(m-1) == incorrect.charAt(n-1)  )\r\n                                {\r\n                                    a[m][n]=a[m-1][n-1];\r\n                                }\r\n                                \r\n                                else\r\n                                {\r\n                                    for(int t=0;t&lt;2;t++)\r\n                                        for(int u=0;u&lt;2-t;u++)\r\n                                            if(b[u]&gt;b[u+1])\r\n                                                b[u]=b[u+1];\r\n                                    \r\n                                    \r\n                                    a[m][n]=b[0]+1;\r\n                                    \r\n                                    \r\n                                }\r\n                                \r\n                            }\r\n                    \r\n                }\r\n            \r\n            \r\n            for(int m=0;m&lt;i;m++)\r\n            {\r\n                for(int n=0;n&lt;j;n++)\r\n                    System.out.print( a[m][n] +&quot;  &quot;);  \r\n                System.out.print(&quot;\\n&quot;);                \r\n            }\r\n            \r\n            \r\n            \r\n            System.out.println(&quot; Levenshtein distance :  &quot;+a[i-1][j-1]);\r\n            \r\n        }\r\n    \r\n    }","title":"Problems with Levenshtein algorithm in Java","body":"<pre><code>import java.util.Scanner;\n\npublic class Algorithmm {\n    public static void main(String args[])\n    {\n        Scanner sc= new Scanner(System.in);\n        System.out.println(\"Enter the correct string \");\n        String correct=sc.nextLine();\n        System.out.println(\"Enter the incorrect string \");\n        String incorrect=sc.nextLine();\n        int i=correct.length(),j=incorrect.length();\n        ++i ; ++j;\n        int a[][] = new int[i][j];\n        int b[] = new int[3];       \n        for(int m=0;m&lt;i;m++)\n            for(int n=0;n&lt;j;n++)\n            {\n\n                        if(m==0 || n==0)\n                        {\n                          a[0][n]=n;\n                          a[m][0]=m;\n                        }\n                        else\n                        {\n                            b[0]=a[m-1][n-1]; b[1]=a[m-1][n]; b[2]=a[m][n-1];\n\n\n                            if ( correct.charAt(m-1) == incorrect.charAt(n-1)  )\n                            {\n                                a[m][n]=a[m-1][n-1];\n                            }\n\n                            else\n                            {\n                                for(int t=0;t&lt;2;t++)\n                                    for(int u=0;u&lt;2-t;u++)\n                                        if(b[u]&gt;b[u+1])\n                                            b[u]=b[u+1];\n\n\n                                a[m][n]=b[0]+1;\n\n\n                            }\n\n                        }\n\n            }\n\n\n        for(int m=0;m&lt;i;m++)\n        {\n            for(int n=0;n&lt;j;n++)\n                System.out.print( a[m][n] +\"  \");  \n            System.out.print(\"\\n\");                \n        }\n\n\n\n        System.out.println(\" Levenshtein distance :  \"+a[i-1][j-1]);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2447488,"reputation":53,"user_id":12299436,"display_name":"Pramod Karivellur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362463886,"creation_date":1362463886,"answer_id":15216998,"question_id":13564464,"body_markdown":"                                   \r\n    public class Algorithmm {\r\n        public static void main(String args[])\r\n        {\r\n            Scanner sc= new Scanner(System.in);\r\n            System.out.println(&quot;Enter the correct string &quot;);\r\n            String correct=sc.nextLine();\r\n            System.out.println(&quot;Enter the incorrect string &quot;);\r\n            String incorrect=sc.nextLine();\r\n            int i=correct.length(),j=incorrect.length();\r\n            ++i ; ++j;\r\n            int a[][] = new int[i][j];\r\n            int b[] = new int[3];       \r\n            for(int m=0;m&lt;i;m++)\r\n                for(int n=0;n&lt;j;n++)\r\n                {               \r\n                            if(m==0 || n==0)\r\n                            {\r\n                               a[0][n]=n;\r\n                               a[m][0]=m;\r\n                            }\r\n                            else\r\n                            {\r\n                                b[0]=a[m-1][n-1]; b[1]=a[m-1][n]; b[2]=a[m][n-1];    \r\n                                if ( correct.charAt(m-1) == incorrect.charAt(n-1)  )                        \r\n                                    a[m][n]=a[m-1][n-1];                                                        \r\n                                else\r\n                                {\r\n                           //instead of using the above code for finding the smallest number in       the array &#39;b&#39; we can simplyfy that code to the following, so that we can reduce the execution time.//\r\n                                  \r\n                                    if(  (b[0]&lt;=b[1]) &amp;&amp; (b[0])&lt;=b[2]  )\r\n                                        a[m][n]=b[0]+1;\r\n                                    else if(  (b[1]&lt;=b[0]) &amp;&amp; (b[1])&lt;=b[2]  )\r\n                                        a[m][n]=b[1]+1;\r\n                                    else\r\n                                        a[m][n]=b[2]+1;    \r\n                                }                            \r\n                            }                \r\n                }               \r\n            for(int m=0;m&lt;i;m++)\r\n            {\r\n                for(int n=0;n&lt;j;n++)\r\n                    System.out.print( a[m][n] +&quot;  &quot;);  \r\n                System.out.print(&quot;\\n&quot;);                \r\n            }       \r\n            System.out.println(&quot;\r\n    Levenshtein distance :\r\n      &quot;+a[i-1][j-1]);        \r\n        }\r\n    }","title":"Problems with Levenshtein algorithm in Java","body":"<pre><code>public class Algorithmm {\n    public static void main(String args[])\n    {\n        Scanner sc= new Scanner(System.in);\n        System.out.println(\"Enter the correct string \");\n        String correct=sc.nextLine();\n        System.out.println(\"Enter the incorrect string \");\n        String incorrect=sc.nextLine();\n        int i=correct.length(),j=incorrect.length();\n        ++i ; ++j;\n        int a[][] = new int[i][j];\n        int b[] = new int[3];       \n        for(int m=0;m&lt;i;m++)\n            for(int n=0;n&lt;j;n++)\n            {               \n                        if(m==0 || n==0)\n                        {\n                           a[0][n]=n;\n                           a[m][0]=m;\n                        }\n                        else\n                        {\n                            b[0]=a[m-1][n-1]; b[1]=a[m-1][n]; b[2]=a[m][n-1];    \n                            if ( correct.charAt(m-1) == incorrect.charAt(n-1)  )                        \n                                a[m][n]=a[m-1][n-1];                                                        \n                            else\n                            {\n                       //instead of using the above code for finding the smallest number in       the array 'b' we can simplyfy that code to the following, so that we can reduce the execution time.//\n\n                                if(  (b[0]&lt;=b[1]) &amp;&amp; (b[0])&lt;=b[2]  )\n                                    a[m][n]=b[0]+1;\n                                else if(  (b[1]&lt;=b[0]) &amp;&amp; (b[1])&lt;=b[2]  )\n                                    a[m][n]=b[1]+1;\n                                else\n                                    a[m][n]=b[2]+1;    \n                            }                            \n                        }                \n            }               \n        for(int m=0;m&lt;i;m++)\n        {\n            for(int n=0;n&lt;j;n++)\n                System.out.print( a[m][n] +\"  \");  \n            System.out.print(\"\\n\");                \n        }       \n        System.out.println(\"\nLevenshtein distance :\n  \"+a[i-1][j-1]);        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1455517804,"creation_date":1455517804,"answer_id":35402823,"question_id":13564464,"body_markdown":"You can use [Apache Commons Lang3&#39;s `StringUtils.getLevenshteinDistance()`][1]:\r\n\r\n&gt; Find the Levenshtein distance between two Strings.\r\n&gt; \r\n&gt; This is the number of changes needed to change one String into\r\n&gt; another, where each change is a single character modification\r\n&gt; (deletion, insertion or substitution).\r\n&gt; \r\n&gt; The previous implementation of the Levenshtein distance algorithm was\r\n&gt; from http://www.merriampark.com/ld.htm\r\n&gt; \r\n&gt; Chas Emerick has written an implementation in Java, which avoids an\r\n&gt; OutOfMemoryError which can occur when my Java implementation is used\r\n&gt; with very large strings.\r\n&gt; \r\n&gt; This implementation of the Levenshtein distance algorithm is from\r\n&gt; http://www.merriampark.com/ldjava.htm\r\n&gt; \r\n&gt;      StringUtils.getLevenshteinDistance(null, *)             = IllegalArgumentException\r\n&gt;      StringUtils.getLevenshteinDistance(*, null)             = IllegalArgumentException\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;&quot;,&quot;&quot;)               = 0\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;&quot;,&quot;a&quot;)              = 1\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;aaapppp&quot;, &quot;&quot;)       = 7\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;frog&quot;, &quot;fog&quot;)       = 1\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;fly&quot;, &quot;ant&quot;)        = 3\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;elephant&quot;, &quot;hippo&quot;) = 7\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;hippo&quot;, &quot;elephant&quot;) = 7\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;hippo&quot;, &quot;zzzzzzzz&quot;) = 8\r\n&gt;      StringUtils.getLevenshteinDistance(&quot;hello&quot;, &quot;hallo&quot;)    = 1\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#getLevenshteinDistance(java.lang.CharSequence,%20java.lang.CharSequence)\r\n","title":"Problems with Levenshtein algorithm in Java","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#getLevenshteinDistance(java.lang.CharSequence,%20java.lang.CharSequence)\" rel=\"noreferrer\">Apache Commons Lang3's <code>StringUtils.getLevenshteinDistance()</code></a>:</p>\n\n<blockquote>\n  <p>Find the Levenshtein distance between two Strings.</p>\n  \n  <p>This is the number of changes needed to change one String into\n  another, where each change is a single character modification\n  (deletion, insertion or substitution).</p>\n  \n  <p>The previous implementation of the Levenshtein distance algorithm was\n  from <a href=\"http://www.merriampark.com/ld.htm\" rel=\"noreferrer\">http://www.merriampark.com/ld.htm</a></p>\n  \n  <p>Chas Emerick has written an implementation in Java, which avoids an\n  OutOfMemoryError which can occur when my Java implementation is used\n  with very large strings.</p>\n  \n  <p>This implementation of the Levenshtein distance algorithm is from\n  <a href=\"http://www.merriampark.com/ldjava.htm\" rel=\"noreferrer\">http://www.merriampark.com/ldjava.htm</a></p>\n\n<pre><code> StringUtils.getLevenshteinDistance(null, *)             = IllegalArgumentException\n StringUtils.getLevenshteinDistance(*, null)             = IllegalArgumentException\n StringUtils.getLevenshteinDistance(\"\",\"\")               = 0\n StringUtils.getLevenshteinDistance(\"\",\"a\")              = 1\n StringUtils.getLevenshteinDistance(\"aaapppp\", \"\")       = 7\n StringUtils.getLevenshteinDistance(\"frog\", \"fog\")       = 1\n StringUtils.getLevenshteinDistance(\"fly\", \"ant\")        = 3\n StringUtils.getLevenshteinDistance(\"elephant\", \"hippo\") = 7\n StringUtils.getLevenshteinDistance(\"hippo\", \"elephant\") = 7\n StringUtils.getLevenshteinDistance(\"hippo\", \"zzzzzzzz\") = 8\n StringUtils.getLevenshteinDistance(\"hello\", \"hallo\")    = 1\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20660840,"reputation":1,"user_id":15168837,"display_name":"Wad&#239; Mami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656299086,"creation_date":1656072934,"answer_id":72743937,"question_id":13564464,"body_markdown":"You can use [Package org.apache.commons.text.similarity](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/package-summary.html)  \r\n\r\nwhich is better than writing your own Levenshtein.","title":"Problems with Levenshtein algorithm in Java","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/package-summary.html\" rel=\"nofollow noreferrer\">Package org.apache.commons.text.similarity</a></p>\n<p>which is better than writing your own Levenshtein.</p>\n"}],"owner":{"account_id":1413469,"reputation":4993,"user_id":1339620,"accept_rate":86,"display_name":"Valentino Ru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15238,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":13564498,"answer_count":5,"score":12,"last_activity_date":1668647429,"creation_date":1353931335,"question_id":13564464,"body_markdown":"I want to use the [Levenshtein algorithm][1] for the following task: if a user on my website searches for some value (he enters characters in a input), I want to instantly check for suggestions with AJAX, like Google Instant does. \r\n\r\nI have the impression that the Levenshtein algorithm is way too slow for such a task. To check its behaviour, I first implemented it in Java, printing out the two `String`s in every recursive call of the method.\r\n\r\n    public class Levenshtein {\r\n    \tpublic static void main(String[] arg){\r\n    \t\tString a = &quot;Hallo Zusammen&quot;;\r\n    \t\tString b = &quot;jfdss Zusammen&quot;;\r\n    \t\t\r\n    \t\tint res = levenshtein(a, b);\r\n    \t\t\r\n    \t\tSystem.out.println(res);\r\n    \t}\r\n    \t\r\n    \tpublic static int levenshtein(String s, String t){\r\n    \t\tint len_s = s.length();\r\n    \t\tint len_t = t.length();\r\n    \t\tint cost = 0;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;s: &quot; + s + &quot;, t: &quot; + t);\r\n    \t\t\r\n    \t\tif(len_s&gt;0 &amp;&amp; len_t&gt;0){\r\n    \t\t\tif(s.charAt(0) != t.charAt(0)) cost = 1;\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(len_s == 0){\r\n    \t\t\treturn len_t;\r\n    \t\t}else{\r\n    \t\t\tif(len_t == 0){\r\n    \t\t\t\treturn len_s;\r\n    \t\t\t}else{\r\n    \t\t\t\tString news = s.substring(0, s.length()-1);\r\n    \t\t\t\tString newt = t.substring(0, t.length()-1);\r\n    \t\t\t\treturn min(levenshtein(news, t) + 1,\r\n    \t\t\t\t\t\t\tlevenshtein(s, newt) + 1,\r\n    \t\t\t\t\t\t\tlevenshtein(news, newt) + cost);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static int min(int a, int b, int c) {\r\n    \t      return Math.min(Math.min(a, b), c);\r\n    \t}\r\n    }\r\n\r\nHowever, here are some points:\r\n\r\n - The check `if(len_s&gt;0 &amp;&amp; len_t&gt;0)` was added by me, because I was getting a `StringIndexOutOfBoundsException` with above test values.\r\n - With above test values, the algorithm seems to calculate infinitely\r\n\r\nAre there optimizations that can be made on the algorithm to make it work for me, or should I use a completely different one to accomplish the desired task?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Levenshtein_distance","title":"Problems with Levenshtein algorithm in Java","body":"<p>I want to use the <a href=\"http://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"noreferrer\">Levenshtein algorithm</a> for the following task: if a user on my website searches for some value (he enters characters in a input), I want to instantly check for suggestions with AJAX, like Google Instant does. </p>\n\n<p>I have the impression that the Levenshtein algorithm is way too slow for such a task. To check its behaviour, I first implemented it in Java, printing out the two <code>String</code>s in every recursive call of the method.</p>\n\n<pre><code>public class Levenshtein {\n    public static void main(String[] arg){\n        String a = \"Hallo Zusammen\";\n        String b = \"jfdss Zusammen\";\n\n        int res = levenshtein(a, b);\n\n        System.out.println(res);\n    }\n\n    public static int levenshtein(String s, String t){\n        int len_s = s.length();\n        int len_t = t.length();\n        int cost = 0;\n\n        System.out.println(\"s: \" + s + \", t: \" + t);\n\n        if(len_s&gt;0 &amp;&amp; len_t&gt;0){\n            if(s.charAt(0) != t.charAt(0)) cost = 1;\n        }\n\n        if(len_s == 0){\n            return len_t;\n        }else{\n            if(len_t == 0){\n                return len_s;\n            }else{\n                String news = s.substring(0, s.length()-1);\n                String newt = t.substring(0, t.length()-1);\n                return min(levenshtein(news, t) + 1,\n                            levenshtein(s, newt) + 1,\n                            levenshtein(news, newt) + cost);\n            }\n        }\n    }\n\n    public static int min(int a, int b, int c) {\n          return Math.min(Math.min(a, b), c);\n    }\n}\n</code></pre>\n\n<p>However, here are some points:</p>\n\n<ul>\n<li>The check <code>if(len_s&gt;0 &amp;&amp; len_t&gt;0)</code> was added by me, because I was getting a <code>StringIndexOutOfBoundsException</code> with above test values.</li>\n<li>With above test values, the algorithm seems to calculate infinitely</li>\n</ul>\n\n<p>Are there optimizations that can be made on the algorithm to make it work for me, or should I use a completely different one to accomplish the desired task?</p>\n"},{"tags":["java","spring-boot","websocket","spring-websocket"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668567736,"post_id":74454585,"comment_id":131435144,"body_markdown":"You need to change the port number in `new WebSocket(&#39;ws://localhost:8080/sockets&#39;)`","body":"You need to change the port number in <code>new WebSocket(&#39;ws:&#47;&#47;localhost:8080&#47;sockets&#39;)</code>"},{"owner":{"account_id":6929087,"reputation":153,"user_id":5319151,"display_name":"thusimon"},"score":0,"creation_date":1668568993,"post_id":74454585,"comment_id":131435294,"body_markdown":"@tgdavies, would you be more specific? my WebSocket server is on port 8080, port 3000 is a WebSocket client, which want to connect to 8080","body":"@tgdavies, would you be more specific? my WebSocket server is on port 8080, port 3000 is a WebSocket client, which want to connect to 8080"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668572703,"post_id":74454585,"comment_id":131435857,"body_markdown":"I see, I thought you&#39;d moved your whole server. Apologies.","body":"I see, I thought you&#39;d moved your whole server. Apologies."},{"owner":{"account_id":6929087,"reputation":153,"user_id":5319151,"display_name":"thusimon"},"score":0,"creation_date":1668574263,"post_id":74454585,"comment_id":131436095,"body_markdown":"@tgdavies NP! thank you for looking into it","body":"@tgdavies NP! thank you for looking into it"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668578108,"post_id":74454585,"comment_id":131436722,"body_markdown":"What do you see in the server logs for a failed connection?","body":"What do you see in the server logs for a failed connection?"},{"owner":{"account_id":6929087,"reputation":153,"user_id":5319151,"display_name":"thusimon"},"score":0,"creation_date":1668646981,"post_id":74454585,"comment_id":131459163,"body_markdown":"@tgdavies I found the root cause, it is actually very simple, after registering the websocket in WebSocketConfig.java, should also set origins, e.g `setAllowedOrigins(&quot;http://localhost:3000&quot;, &quot;http://localhost:8080&quot;);`, or `setAllowedOrigins(&quot;*&quot;);` to accept any clients.","body":"@tgdavies I found the root cause, it is actually very simple, after registering the websocket in WebSocketConfig.java, should also set origins, e.g <code>setAllowedOrigins(&quot;http:&#47;&#47;localhost:3000&quot;, &quot;http:&#47;&#47;localhost:8080&quot;);</code>, or <code>setAllowedOrigins(&quot;*&quot;);</code> to accept any clients."}],"answers":[{"tags":[],"owner":{"account_id":6929087,"reputation":153,"user_id":5319151,"display_name":"thusimon"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668647428,"creation_date":1668647428,"answer_id":74469030,"question_id":74454585,"body_markdown":"for anyone who also encounter this, `registry.addHandler(socketTextHandler, &quot;/sockets&quot;).setAllowedOrigins(&quot;*&quot;);` will resolve the issue","title":"WebSocket client can not connect to Java spring WebSocket server using different port","body":"<p>for anyone who also encounter this, <code>registry.addHandler(socketTextHandler, &quot;/sockets&quot;).setAllowedOrigins(&quot;*&quot;);</code> will resolve the issue</p>\n"}],"owner":{"account_id":6929087,"reputation":153,"user_id":5319151,"display_name":"thusimon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668647428,"creation_date":1668567027,"question_id":74454585,"body_markdown":"I am using Java Spring WebSocket to create a WebSocket server, it actually works if WebSocket client is created from the SAME server.\r\n\r\nThis is my server side code, very simple\r\n```\r\n// WebSocketConfig.java\r\n@Configuration\r\n@EnableWebSocket\r\npublic class WebSocketConfig implements WebSocketConfigurer  {\r\n    @Autowired\r\n    SocketTextHandler socketTextHandler;\r\n\r\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n        registry.addHandler(socketTextHandler, &quot;/sockets&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n```\r\n// SocketTextHandler.java\r\n@Component\r\npublic class SocketTextHandler extends TextWebSocketHandler {\r\n    @Override\r\n    public void handleTextMessage(WebSocketSession session, TextMessage message)\r\n            throws InterruptedException, IOException {\r\n        String payload = message.getPayload();\r\n        System.out.println(&quot;16: &quot; + session.getId());\r\n        session.sendMessage(new TextMessage(&quot;Resp: &quot; + payload));\r\n    }\r\n\r\n    @Override\r\n    public void handleTransportError(WebSocketSession session, Throwable exception) {\r\n        System.out.println(&quot;Server transport error: &quot; + exception.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nThen I put the following WebSocket client in the Spring boot static index.html\r\n```\r\n&lt;html&gt;\r\n  &lt;body&gt;\r\n    Hello\r\n    &lt;script&gt;\r\n      console.log(&#39;start&#39;);\r\n      const ws = new WebSocket(&#39;ws://localhost:8080/sockets&#39;);\r\n      ws.onopen = function(evt) {\r\n        console.log(&#39;onopen&#39;, evt);\r\n      }\r\n      ws.onerror = function(evt) {\r\n        console.log(&#39;onerror&#39;, evt);\r\n      }\r\n      console.log(&#39;done&#39;);\r\n   &lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThen I visit `http://localhost:8080/index.html`, there is no error and I can see the `console.log(&#39;onopen&#39;, evt)` log.\r\n\r\nHowever, my WebSocket client should be running on a different port `http://localhost:3000`, I use the same index.html, but when I visit `http://localhost:3000/index.html`, there is always this error `WebSocket connection to &#39;ws://localhost:8080/sockets&#39; failed` in console\r\n\r\nI am wondering are WebSockets required to be connected from the same server? Or I missed something.\r\n\r\nThanks!","title":"WebSocket client can not connect to Java spring WebSocket server using different port","body":"<p>I am using Java Spring WebSocket to create a WebSocket server, it actually works if WebSocket client is created from the SAME server.</p>\n<p>This is my server side code, very simple</p>\n<pre><code>// WebSocketConfig.java\n@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer  {\n    @Autowired\n    SocketTextHandler socketTextHandler;\n\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(socketTextHandler, &quot;/sockets&quot;);\n    }\n    \n}\n</code></pre>\n<pre><code>// SocketTextHandler.java\n@Component\npublic class SocketTextHandler extends TextWebSocketHandler {\n    @Override\n    public void handleTextMessage(WebSocketSession session, TextMessage message)\n            throws InterruptedException, IOException {\n        String payload = message.getPayload();\n        System.out.println(&quot;16: &quot; + session.getId());\n        session.sendMessage(new TextMessage(&quot;Resp: &quot; + payload));\n    }\n\n    @Override\n    public void handleTransportError(WebSocketSession session, Throwable exception) {\n        System.out.println(&quot;Server transport error: &quot; + exception.getMessage());\n    }\n}\n</code></pre>\n<p>Then I put the following WebSocket client in the Spring boot static index.html</p>\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    Hello\n    &lt;script&gt;\n      console.log('start');\n      const ws = new WebSocket('ws://localhost:8080/sockets');\n      ws.onopen = function(evt) {\n        console.log('onopen', evt);\n      }\n      ws.onerror = function(evt) {\n        console.log('onerror', evt);\n      }\n      console.log('done');\n   &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Then I visit <code>http://localhost:8080/index.html</code>, there is no error and I can see the <code>console.log('onopen', evt)</code> log.</p>\n<p>However, my WebSocket client should be running on a different port <code>http://localhost:3000</code>, I use the same index.html, but when I visit <code>http://localhost:3000/index.html</code>, there is always this error <code>WebSocket connection to 'ws://localhost:8080/sockets' failed</code> in console</p>\n<p>I am wondering are WebSockets required to be connected from the same server? Or I missed something.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring"],"owner":{"account_id":22215340,"reputation":3,"user_id":16957274,"display_name":"Muhammad Ihab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1668646955,"creation_date":1668276023,"question_id":74415315,"body_markdown":"While using `@RequestBody`, I found that it didn&#39;t work as expected. It should map incoming HTTP request body from JSON to some Java object and it only works if JSON property names match the Java object fields&#39; names.\\\r\nHere&#39;s what happened\\\r\nConsider the password property in the following:\r\n\r\n**Route handler: (I&#39;ve commented out the userService method and instead repsonded to the  request with the same User object just to test the HTTP request)**\r\n```\r\n@PostMapping\r\npublic User registerUser(@RequestBody User user) {\r\n    // return userService.addUser(user);\r\n    return user;\r\n}\r\n```\r\n\r\n**User class**\r\n```java\r\n@Column(name = &quot;user_password&quot;)\r\nprivate String userPassword;\r\n```\r\n\r\n**My POST request #1:**\r\n```\r\n{\r\n  &quot;firstName&quot;: &quot;M&quot;,\r\n  &quot;lastName&quot;: &quot;M&quot;,\r\n  &quot;email&quot;: &quot;m@mail.com&quot;,\r\n  &quot;userPassword&quot;: &quot;123&quot;,\r\n  &quot;dob&quot;: &quot;2022-01-01&quot;\r\n}\r\n```\r\n**Response #1: (I expect password property to be called &quot;userPassword&quot; but it&#39;s not. Also value is null)**\r\n```\r\n{\r\n  &quot;id&quot;: null,\r\n  &quot;firstName&quot;: &quot;M&quot;,\r\n  &quot;lastName&quot;: &quot;M&quot;,\r\n  &quot;email&quot;: &quot;m@mail.com&quot;,\r\n  &quot;dob&quot;: &quot;2022-01-01T00:00:00.000+00:00&quot;,\r\n  &quot;dateJoined&quot;: null,\r\n  &quot;password&quot;: null\r\n}\r\n```\r\n**My POST request #2: (I&#39;ve changed the name from &quot;userPassword&quot; to &quot;password&quot;)**\r\n```\r\n{\r\n  &quot;firstName&quot;: &quot;M&quot;,\r\n  &quot;lastName&quot;: &quot;M&quot;,\r\n  &quot;email&quot;: &quot;m@mail.com&quot;,\r\n  &quot;password&quot;: &quot;123&quot;,\r\n  &quot;dob&quot;: &quot;2022-01-01&quot;\r\n}\r\n```\r\n\r\n**Response #2: (only now password property is updated properly)**\r\n```\r\n{\r\n  &quot;id&quot;: null,\r\n  &quot;firstName&quot;: &quot;M&quot;,\r\n  &quot;lastName&quot;: &quot;M&quot;,\r\n  &quot;email&quot;: &quot;m@mail.com&quot;,\r\n  &quot;dob&quot;: &quot;2022-01-01T00:00:00.000+00:00&quot;,\r\n  &quot;dateJoined&quot;: null,\r\n  &quot;password&quot;: &quot;123&quot;\r\n}\r\n```\r\n\r\nMy question is, I don&#39;t want to ask why this happens, Instead I want to know how should I research this and find the answer on my own so that I can solve similar problems in the future on my own. I want to research how does `@RequestBody`&#39;s mapping work.\r\n\r\nThe [documentation][1] only says that `@RequestBody` uses HttpMessageConverter interface. But I&#39;ve no clue where to go next. :)\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-config-message-converters","title":"I can&#39;t effectively research about @RequestBody to find my answer","body":"<p>While using <code>@RequestBody</code>, I found that it didn't work as expected. It should map incoming HTTP request body from JSON to some Java object and it only works if JSON property names match the Java object fields' names.<br />\nHere's what happened<br />\nConsider the password property in the following:</p>\n<p><strong>Route handler: (I've commented out the userService method and instead repsonded to the  request with the same User object just to test the HTTP request)</strong></p>\n<pre><code>@PostMapping\npublic User registerUser(@RequestBody User user) {\n    // return userService.addUser(user);\n    return user;\n}\n</code></pre>\n<p><strong>User class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;user_password&quot;)\nprivate String userPassword;\n</code></pre>\n<p><strong>My POST request #1:</strong></p>\n<pre><code>{\n  &quot;firstName&quot;: &quot;M&quot;,\n  &quot;lastName&quot;: &quot;M&quot;,\n  &quot;email&quot;: &quot;m@mail.com&quot;,\n  &quot;userPassword&quot;: &quot;123&quot;,\n  &quot;dob&quot;: &quot;2022-01-01&quot;\n}\n</code></pre>\n<p><strong>Response #1: (I expect password property to be called &quot;userPassword&quot; but it's not. Also value is null)</strong></p>\n<pre><code>{\n  &quot;id&quot;: null,\n  &quot;firstName&quot;: &quot;M&quot;,\n  &quot;lastName&quot;: &quot;M&quot;,\n  &quot;email&quot;: &quot;m@mail.com&quot;,\n  &quot;dob&quot;: &quot;2022-01-01T00:00:00.000+00:00&quot;,\n  &quot;dateJoined&quot;: null,\n  &quot;password&quot;: null\n}\n</code></pre>\n<p><strong>My POST request #2: (I've changed the name from &quot;userPassword&quot; to &quot;password&quot;)</strong></p>\n<pre><code>{\n  &quot;firstName&quot;: &quot;M&quot;,\n  &quot;lastName&quot;: &quot;M&quot;,\n  &quot;email&quot;: &quot;m@mail.com&quot;,\n  &quot;password&quot;: &quot;123&quot;,\n  &quot;dob&quot;: &quot;2022-01-01&quot;\n}\n</code></pre>\n<p><strong>Response #2: (only now password property is updated properly)</strong></p>\n<pre><code>{\n  &quot;id&quot;: null,\n  &quot;firstName&quot;: &quot;M&quot;,\n  &quot;lastName&quot;: &quot;M&quot;,\n  &quot;email&quot;: &quot;m@mail.com&quot;,\n  &quot;dob&quot;: &quot;2022-01-01T00:00:00.000+00:00&quot;,\n  &quot;dateJoined&quot;: null,\n  &quot;password&quot;: &quot;123&quot;\n}\n</code></pre>\n<p>My question is, I don't want to ask why this happens, Instead I want to know how should I research this and find the answer on my own so that I can solve similar problems in the future on my own. I want to research how does <code>@RequestBody</code>'s mapping work.</p>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-config-message-converters\" rel=\"nofollow noreferrer\">documentation</a> only says that <code>@RequestBody</code> uses HttpMessageConverter interface. But I've no clue where to go next. :)</p>\n<p>Thanks</p>\n"},{"tags":["java","windows","exec"],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1271871079,"post_id":2685013,"comment_id":2705192,"body_markdown":"That&#39;s not the problem, as the exit code is 0 (meaning success), the problem is that the file redirection (the `&gt;`) is handled by the shell/cmd.exe and therefore isn&#39;t applied. The solution still is the same, however.","body":"That&#39;s not the problem, as the exit code is 0 (meaning success), the problem is that the file redirection (the <code>&gt;</code>) is handled by the shell/cmd.exe and therefore isn&#39;t applied. The solution still is the same, however."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1271869788,"creation_date":1271869788,"answer_id":2685013,"question_id":2684985,"body_markdown":"echo is not a standalone command under Windows, but embedded in cmd.exe.\r\n\r\nI believe you need to invoke a command like &quot;cmd.exe /C echo ...&quot;.","title":"running Echo from Java","body":"<p>echo is not a standalone command under Windows, but embedded in cmd.exe.</p>\n\n<p>I believe you need to invoke a command like \"cmd.exe /C echo ...\".</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1271870328,"creation_date":1271870328,"answer_id":2685075,"question_id":2684985,"body_markdown":"The `&gt;`  is intrepreted by the shell, when `echo` is run in the cmmand line, and it&#39;s the shell who create the file.\r\n\r\nWhen you use it from Java, there is no shell, and what the command sees as argument is :\r\n\r\n `&quot;foo &gt; c:\\tmp.txt&quot;`\r\n\r\n( Which you can confirm, from the execution output )","title":"running Echo from Java","body":"<p>The <code>&gt;</code>  is intrepreted by the shell, when <code>echo</code> is run in the cmmand line, and it's the shell who create the file.</p>\n\n<p>When you use it from Java, there is no shell, and what the command sees as argument is :</p>\n\n<p><code>\"foo &gt; c:\\tmp.txt\"</code></p>\n\n<p>( Which you can confirm, from the execution output )</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1271870908,"creation_date":1271870908,"answer_id":2685145,"question_id":2684985,"body_markdown":"You can&#39;t just pass &quot;&gt; c:\\\\tmp.txt&quot; to Runtime.exec as part of the command line to make redirection happen. From the Javadocs: &quot;All its standard io (i.e. stdin, stdout, stderr) operations will be redirected to the parent process through three streams (getOutputStream(), getInputStream(), getErrorStream()).&quot;\r\n\r\nIf you want to redirect output to a file, to the best of my knowledge the only way to do that would be to open the file in Java, do getInputStream, and then read from the process&#39;s input stream and write to the desired file.","title":"running Echo from Java","body":"<p>You can't just pass \"> c:\\tmp.txt\" to Runtime.exec as part of the command line to make redirection happen. From the Javadocs: \"All its standard io (i.e. stdin, stdout, stderr) operations will be redirected to the parent process through three streams (getOutputStream(), getInputStream(), getErrorStream()).\"</p>\n\n<p>If you want to redirect output to a file, to the best of my knowledge the only way to do that would be to open the file in Java, do getInputStream, and then read from the process's input stream and write to the desired file.</p>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6189,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2685013,"answer_count":3,"score":5,"last_activity_date":1668646901,"creation_date":1271869518,"question_id":2684985,"body_markdown":"I&#39;m trying out the Runtime.exec() method to run a command line process.\r\n\r\nI wrote this sample code, which runs without problems but doesn&#39;t produce a file at c:\\tmp.txt.\r\n\r\n    String cmdLine = &quot;echo foo &gt; c:\\\\tmp.txt&quot;;\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process pr = rt.exec(cmdLine);\r\n    \r\n    BufferedReader input = new BufferedReader(\r\n                               new InputStreamReader(pr.getInputStream()));\r\n    String line;\r\n    \r\n    StringBuilder output = new StringBuilder();\r\n    while ((line = input.readLine()) != null) {\r\n        output.append(line);\r\n    }\r\n    \r\n    int exitVal = pr.waitFor();\r\n    \r\n    logger.info(String.format(&quot;Ran command &#39;%s&#39;, got exit code %d, output:\\n%s&quot;, cmdLine, exitVal, output));\r\n\r\nThe output is \r\n\r\n&gt; INFO  21-04 20:02:03,024 - Ran command\r\n&gt; &#39;echo foo &gt; c:\\tmp.txt&#39;, got exit code\r\n&gt; 0, output: foo &gt; c:\\tmp.txt\r\n\r\n","title":"running Echo from Java","body":"<p>I'm trying out the Runtime.exec() method to run a command line process.</p>\n\n<p>I wrote this sample code, which runs without problems but doesn't produce a file at c:\\tmp.txt.</p>\n\n<pre><code>String cmdLine = \"echo foo &gt; c:\\\\tmp.txt\";\nRuntime rt = Runtime.getRuntime();\nProcess pr = rt.exec(cmdLine);\n\nBufferedReader input = new BufferedReader(\n                           new InputStreamReader(pr.getInputStream()));\nString line;\n\nStringBuilder output = new StringBuilder();\nwhile ((line = input.readLine()) != null) {\n    output.append(line);\n}\n\nint exitVal = pr.waitFor();\n\nlogger.info(String.format(\"Ran command '%s', got exit code %d, output:\\n%s\", cmdLine, exitVal, output));\n</code></pre>\n\n<p>The output is </p>\n\n<blockquote>\n  <p>INFO  21-04 20:02:03,024 - Ran command\n  'echo foo > c:\\tmp.txt', got exit code\n  0, output: foo > c:\\tmp.txt</p>\n</blockquote>\n"},{"tags":["java","jdbc","prepared-statement"],"answers":[{"comments":[{"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"score":0,"creation_date":1508138820,"post_id":46764844,"comment_id":80475182,"body_markdown":"Thanks for the reply Eran, I thought also to eliminate the 1st query parameter.. However, I don&#39;t understand why my approach isn&#39;t working...","body":"Thanks for the reply Eran, I thought also to eliminate the 1st query parameter.. However, I don&#39;t understand why my approach isn&#39;t working..."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1508139108,"post_id":46764844,"comment_id":80475333,"body_markdown":"@yaylitzis Well, I&#39;m not sure if that&#39;s the reason, but when I run a SQL query such as `SELECT something from someTable where someColumn = NULL;`, I get empty result even if `SELECT something from someTable where someColumn IS NULL;` returns results. Perhaps `setNull` is meant to be used only to update columns to null.","body":"@yaylitzis Well, I&#39;m not sure if that&#39;s the reason, but when I run a SQL query such as <code>SELECT something from someTable where someColumn = NULL;</code>, I get empty result even if <code>SELECT something from someTable where someColumn IS NULL;</code> returns results. Perhaps <code>setNull</code> is meant to be used only to update columns to null."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1508139503,"post_id":46764844,"comment_id":80475515,"body_markdown":"@yaylitzis Added some mySQL reference.","body":"@yaylitzis Added some mySQL reference."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1508140102,"post_id":46764844,"comment_id":80475820,"body_markdown":"You are right, but why quote the MySQL documentation on a question about SQLite?","body":"You are right, but why quote the MySQL documentation on a question about SQLite?"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1508140155,"post_id":46764844,"comment_id":80475854,"body_markdown":"@MarkRotteveel My bad, I didn&#39;t read the question carefully enough.","body":"@MarkRotteveel My bad, I didn&#39;t read the question carefully enough."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1668608553,"post_id":46764844,"comment_id":131447006,"body_markdown":"I have the same question as how OP phrased it, but this doesn&#39;t answer my question. I want a single `PreparedStatement` with which I can select null values or specified values.","body":"I have the same question as how OP phrased it, but this doesn&#39;t answer my question. I want a single <code>PreparedStatement</code> with which I can select null values or specified values."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":6,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1508140187,"creation_date":1508138238,"answer_id":46764844,"question_id":46764806,"body_markdown":"What you are trying to do is equivalent to writing `SELECT * FROM INVENTORY WHERE paleta = NULL ...`, which doesn&#39;t work.\r\n\r\nSince you are essentially searching for rows having a constant value in the `paleta` column (which happens to be `NULL`), you can eliminate the first query parameter and explicitly check for null:\r\n\r\n    sq = &quot;SELECT * FROM INVENTORY WHERE paleta IS NULL AND product = ? AND lot = ?&quot;;\r\n\r\n    stm = c.prepareStatement(sq);\r\n    stm.setString(1, &quot;theIdOftheProduct&quot;);\r\n    stm.setString(2, &quot;theLotOftheProduct&quot;);","title":"Prepared statement with set null in query doesn&#39;t return any record","body":"<p>What you are trying to do is equivalent to writing <code>SELECT * FROM INVENTORY WHERE paleta = NULL ...</code>, which doesn't work.</p>\n\n<p>Since you are essentially searching for rows having a constant value in the <code>paleta</code> column (which happens to be <code>NULL</code>), you can eliminate the first query parameter and explicitly check for null:</p>\n\n<pre><code>sq = \"SELECT * FROM INVENTORY WHERE paleta IS NULL AND product = ? AND lot = ?\";\n\nstm = c.prepareStatement(sq);\nstm.setString(1, \"theIdOftheProduct\");\nstm.setString(2, \"theLotOftheProduct\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668646341,"creation_date":1668608956,"answer_id":74462217,"question_id":46764806,"body_markdown":"I found my answer in https://stackoverflow.com/a/4215618/1052284\r\n\r\nYou&#39;ll have to decide upon an unused value. I simply kept it at `&#39;&#39;` since I don&#39;t have empty values.\r\n\r\n```\r\nsq = &quot;SELECT * FROM INVENTORY WHERE IFNULL(paleta, &#39;&#39;) = ? AND product = ? AND lot = ?&quot;;\r\n//...\r\nstm = c.prepareStatement(sq);\r\nstm.setString(1, &quot;&quot;); // &#39;&#39; for NULL, otherwise a specific value\r\nstm.setString(2, &quot;theIdOftheProduct&quot;);\r\nstm.setString(3, &quot;theLotOftheProduct&quot;);\r\n```\r\n\r\nBut beware if you many queries, it&#39;s VERY slow. I clock in at about 4000 times slower, on average, than queries without `IFNULL`. ~50ms instead of microseconds.","title":"Prepared statement with set null in query doesn&#39;t return any record","body":"<p>I found my answer in <a href=\"https://stackoverflow.com/a/4215618/1052284\">https://stackoverflow.com/a/4215618/1052284</a></p>\n<p>You'll have to decide upon an unused value. I simply kept it at <code>''</code> since I don't have empty values.</p>\n<pre><code>sq = &quot;SELECT * FROM INVENTORY WHERE IFNULL(paleta, '') = ? AND product = ? AND lot = ?&quot;;\n//...\nstm = c.prepareStatement(sq);\nstm.setString(1, &quot;&quot;); // '' for NULL, otherwise a specific value\nstm.setString(2, &quot;theIdOftheProduct&quot;);\nstm.setString(3, &quot;theLotOftheProduct&quot;);\n</code></pre>\n<p>But beware if you many queries, it's VERY slow. I clock in at about 4000 times slower, on average, than queries without <code>IFNULL</code>. ~50ms instead of microseconds.</p>\n"}],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46764844,"answer_count":2,"score":1,"last_activity_date":1668646341,"creation_date":1508138097,"question_id":46764806,"body_markdown":"I use prepared statements to read/write data in my DB (SQLite). In my table `INVENTORY`, there are records which have `null` value in the column `paleta` (the column is defined as `VARCHAR` in the table). I want to select these records and I tried:\r\n\r\n    sq = &quot;SELECT * FROM INVENTORY WHERE paleta = ? AND product = ? AND lot = ?&quot;;\r\n    //...\r\n    stm = c.prepareStatement(sq);\r\n    stm.setNull(1, java.sql.Types.VARCHAR);\r\n    stm.setString(2, &quot;theIdOftheProduct&quot;);\r\n    stm.setString(3, &quot;theLotOftheProduct&quot;);\r\n    \r\n    ResultSet rs = stm.executeQuery();\r\n\r\nThe above query doesn&#39;t return anything.. I removed the `paleta = ?` and I get the records I want.. How can I define the query like `SELECT * FROM INVENTORY WHERE paleta is null etc..` using the query parameters?","title":"Prepared statement with set null in query doesn&#39;t return any record","body":"<p>I use prepared statements to read/write data in my DB (SQLite). In my table <code>INVENTORY</code>, there are records which have <code>null</code> value in the column <code>paleta</code> (the column is defined as <code>VARCHAR</code> in the table). I want to select these records and I tried:</p>\n\n<pre><code>sq = \"SELECT * FROM INVENTORY WHERE paleta = ? AND product = ? AND lot = ?\";\n//...\nstm = c.prepareStatement(sq);\nstm.setNull(1, java.sql.Types.VARCHAR);\nstm.setString(2, \"theIdOftheProduct\");\nstm.setString(3, \"theLotOftheProduct\");\n\nResultSet rs = stm.executeQuery();\n</code></pre>\n\n<p>The above query doesn't return anything.. I removed the <code>paleta = ?</code> and I get the records I want.. How can I define the query like <code>SELECT * FROM INVENTORY WHERE paleta is null etc..</code> using the query parameters?</p>\n"},{"tags":["java","logging","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272244641,"creation_date":1272244641,"answer_id":2710640,"question_id":2710524,"body_markdown":"Put the properties you want in the properties file.\r\n\r\nIn your Formatter call\r\n\r\n    LogManager theManager = LogManager.getLogManager();\r\n    String value = theManager.getProperty(&quot;propName&quot;);\r\n    // do whatever with value\r\n\r\n","title":"how to configure my own formatter in java logging property file","body":"<p>Put the properties you want in the properties file.</p>\n\n<p>In your Formatter call</p>\n\n<pre><code>LogManager theManager = LogManager.getLogManager();\nString value = theManager.getProperty(\"propName\");\n// do whatever with value\n</code></pre>\n"},{"comments":[{"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"score":0,"creation_date":1668646231,"post_id":19991351,"comment_id":131459047,"body_markdown":"Its 2022 and this class is still being used in production.  Gigabytes of logs a day and no one has said anything to me about performance or issues with it.","body":"Its 2022 and this class is still being used in production.  Gigabytes of logs a day and no one has said anything to me about performance or issues with it."}],"tags":[],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668646051,"creation_date":1384475900,"answer_id":19991351,"question_id":2710524,"body_markdown":"Write your own Formatter that accepts a format String.\r\n\r\nConfigure your formatter in the logging.properties file.  For example:\r\n\r\n    java.util.logging.ConsoleHandler.formatter = my.util.logging.CustomFormatter\r\n    my.util.logging.CustomFormatter.format = %t %L: %E %m\r\n    my.util.logging.CustomFormatter.date.format = ddMMMyyyy HH:mm:ss\r\n\t# logger.log(Level.INFO, &quot;INFO message.&quot;);\r\n\t# produces the following log message:\r\n\t# 18Aug2013 13:04:19 INFO: (LoggingLevelDemo.java:34) INFO message.\r\n\r\nIf writing such a Formatter seems daunting, Here is something to start with:\r\n\r\n\tpackage my.util.logging;\r\n\r\n\timport java.io.PrintWriter;\r\n\timport java.io.StringWriter;\r\n\timport java.text.DateFormat;\r\n\timport java.text.FieldPosition;\r\n\timport java.text.Format;\r\n\timport java.text.MessageFormat;\r\n\timport java.text.SimpleDateFormat;\r\n\timport java.util.Date;\r\n\timport java.util.TimeZone;\r\n\timport java.util.logging.Formatter;\r\n\timport java.util.logging.LogManager;\r\n\timport java.util.logging.LogRecord;\r\n\timport java.util.logging.Logger;\r\n\r\n\t/**\r\n\t * A {@link Formatter} that may be customized in a {@code logging.properties} file. The syntax of the property\r\n\t * {@code my.util.logging.CustomFormatter.format} specifies the output. A newline will be appended to the string and\r\n\t * the following special characters will be expanded (case sensitive):-\r\n\t * &lt;ul&gt;\r\n\t * &lt;li&gt;{@code %m} - message&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %L} - log level&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %n} - name of the logger&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %t} - a timestamp (in ISO-8601 &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; format)&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %M} - source method name (if available, otherwise &quot;?&quot;)&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %c} - source class name (if available, otherwise &quot;?&quot;)&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %C} - source simple class name (if available, otherwise &quot;?&quot;)&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %T} - thread ID&lt;/li&gt;\r\n\t * &lt;li&gt;{@code %E} - (Filename.java:linenumber) Slow to generate Eclipse format&lt;/li&gt;\r\n\t * &lt;/ul&gt;\r\n\t * The default format is {@value #DEFAULT_FORMAT}. Curly brace characters are not allowed.\r\n\t *\r\n\t * Based on http://javablog.co.uk/2008/07/12/logging-with-javautillogging/ \r\n     * %E Eclipse format was added with flag to avoid Stack trace generation if Eclipse format not used.\r\n\t *\r\n\t * @author Samuel Halliday\r\n\t * @author Ryan Ripken\r\n\t */\r\n\tpublic class CustomFormatter extends Formatter\r\n\t{\r\n\r\n\t\t// milliseconds can be nice for rough performance numbers\r\n\t\tpublic static final String DATE_FORMAT = &quot;yyyy-MM-dd HH:mm:ss.SSS Z&quot;;\r\n\t\tprivate static final DateFormat defaultDateFormat = new SimpleDateFormat(DATE_FORMAT);\r\n\t\t// private static final String USACE_DATE_FORMAT = &quot;yyyyMMdd HHmmss Z&quot;;\r\n\t\tpublic static final String DEFAULT_FORMAT = &quot;%t %L: %E %m&quot;;\r\n\t\tprotected static final StackTraceElement nullElement = new StackTraceElement(&quot;?&quot;, &quot;?&quot;, &quot;?&quot;, -1);\r\n\r\n\t\tprivate final MessageFormat messageFormat;\r\n\t\tprivate final boolean[] needsArg;\r\n\t\tprivate final DateFormat dateFormat;\r\n\r\n\t\tpublic CustomFormatter()\r\n\t\t{\r\n\t\t\tsuper();\r\n\r\n\t\t\tLogManager logManager = LogManager.getLogManager();\r\n\t\t\tString classname = getClass().getName();\r\n\r\n\t\t\t// load the format from logging.properties\r\n\t\t\tString dateFormatKey = classname + &quot;.date.format&quot;;\r\n\r\n\t\t\tString strDateFormat = logManager.getProperty(dateFormatKey);\r\n\r\n\t\t\tif (strDateFormat != null) {\r\n\t\t\t\tdateFormat = new SimpleDateFormat(strDateFormat);\r\n\t\t\t} else {\r\n\t\t\t\tdateFormat = defaultDateFormat;\r\n\t\t\t}\r\n\t\t\tString dateFormatTimeZoneKey = classname + &quot;.date.timezone&quot;;\r\n\t\t\tString strDateFormatTimeZone = logManager\r\n\t\t\t\t.getProperty(dateFormatTimeZoneKey);\r\n\t\t\tif (strDateFormatTimeZone != null) {\r\n\t\t\t\tdateFormat.setTimeZone(TimeZone.getTimeZone(strDateFormatTimeZone));\r\n\t\t\t}\r\n\r\n\t\t\tString propName = classname + &quot;.format&quot;;\r\n\t\t\tString format = logManager.getProperty(propName);\r\n\t\t\tif (format == null || format.trim().length() == 0) {\r\n\t\t\t\tformat = DEFAULT_FORMAT;\r\n\t\t\t}\r\n\t\t\tif (format.contains(&quot;{&quot;) || format.contains(&quot;}&quot;)) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;curly braces not allowed&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t// convert it into the MessageFormat form\r\n\t\t\tformat = format.replace(&quot;%L&quot;, &quot;{0}&quot;)\r\n\t\t\t\t.replace(&quot;%m&quot;, &quot;{1}&quot;)\r\n\t\t\t\t.replace(&quot;%M&quot;, &quot;{2}&quot;)\r\n\t\t\t\t.replace(&quot;%t&quot;, &quot;{3}&quot;)\r\n\t\t\t\t.replace(&quot;%c&quot;, &quot;{4}&quot;)\r\n\t\t\t\t.replace(&quot;%T&quot;, &quot;{5}&quot;)\r\n\t\t\t\t.replace(&quot;%n&quot;, &quot;{6}&quot;)\r\n\t\t\t\t.replace(&quot;%C&quot;, &quot;{7}&quot;)\r\n\t\t\t\t.replace(&quot;%E&quot;, &quot;{8}&quot;) +\r\n\t\t\t\t&quot;\\n&quot;;\r\n\r\n\t\t\tmessageFormat = new MessageFormat(format);\r\n\t\t\tFormat[] formatsByArgumentIndex = messageFormat.getFormatsByArgumentIndex();\r\n\t\t\tneedsArg = new boolean[9];\r\n\t\t\tfor (int i = 0; i &lt; formatsByArgumentIndex.length; i++) {\r\n\t\t\t\tneedsArg[i] = format.contains(&quot;{&quot; + i + &quot;}&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String format(LogRecord record)\r\n\t\t{\r\n\t\t\tString[] arguments = new String[9];\r\n\r\n\t\t\t// This is a StringBuffer instead of StringBuilder so that\r\n\t\t\t// it can be re-used for the messageFormat.format calls.\r\n\t\t\t// It is, hopefully, slightly oversized so that it won&#39;t \r\n\t\t\t// have to be enlarged...\r\n\t\t\tStringBuffer sb = new StringBuffer(256);\r\n\r\n\t\t\tif (needsArg[0]) {\r\n\t\t\t\t// %L\r\n\t\t\t\targuments[0] = record.getLevel().toString();\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[1]) {\r\n\t\t\t\t// %m\r\n\t\t\t\tsb = formatMessage(record, sb);\r\n\t\t\t\tsb = getThrowableMessage(record, sb);  // maybe this should have been its own flag?\r\n\t\t\t\targuments[1] = sb.toString();\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[2]) {\r\n\t\t\t\t// %M\r\n\t\t\t\targuments[2] = record.getSourceMethodName();\r\n\t\t\t} else {\r\n\t\t\t\targuments[2] = &quot;?&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[3]) {\r\n\t\t\t\t// %t\r\n\t\t\t\tsb.delete(0, sb.length()); // re-use\r\n\r\n\t\t\t\tDate date = new Date(record.getMillis());\r\n\t\t\t\tFieldPosition fieldPos = new FieldPosition(0);\r\n\t\t\t\tsynchronized (dateFormat) {\r\n\t\t\t\t\tsb = dateFormat.format(date, sb, fieldPos);\r\n\t\t\t\t}\r\n\r\n\t\t\t\targuments[3] = sb.toString();\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[4] || needsArg[7]) {\r\n\t\t\t\t// %c\r\n\t\t\t\targuments[4] = record.getSourceClassName();\r\n\t\t\t} else {\r\n\t\t\t\targuments[4] = &quot;?&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[5]) {\r\n\t\t\t\t// %T\r\n\t\t\t\targuments[5] = Integer.toString(record.getThreadID());\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[6]) {\r\n\t\t\t\t// %n\r\n\t\t\t\targuments[6] = record.getLoggerName();\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[7]) {\r\n\t\t\t\t// %C\r\n\t\t\t\tint start = arguments[4].lastIndexOf(&#39;.&#39;) + 1;\r\n\t\t\t\tif (start &gt; 0 &amp;&amp; start &lt; arguments[4].length()) {\r\n\t\t\t\t\targuments[7] = arguments[4].substring(start);\r\n\t\t\t\t} else {\r\n\t\t\t\t\targuments[7] = arguments[4];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (needsArg[8]) {\r\n\t\t\t\t// %E Expensive Eclipse Format\r\n\t\t\t\tsb.delete(0, sb.length()); // reuse buffer\r\n\t\t\t\tgetEclipseFormat(sb); // gets a stackTrace to generate.\r\n\t\t\t\targuments[8] = sb.toString();\r\n\t\t\t} else {\r\n\t\t\t\targuments[8] = &quot;(?:?)&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tsb.delete(0, sb.length()); //reuse buffer\r\n\r\n\t\t\tFieldPosition fieldPos = new FieldPosition(0);\r\n\r\n\t\t\tsynchronized (messageFormat) {\r\n\t\t\t\t// messageFormat.format only calls into \r\n\t\t\t\t// messageFormat.format(arguments, new StringBuffer(), new FieldPosition(0)).toString();\r\n\t\t\t\t// we already have a StringBuffer laying around.  We should reuse it.\r\n\t\t\t\t//return messageFormat.format(arguments);\r\n\t\t\t\tsb = messageFormat.format(arguments, sb, fieldPos);\r\n\t\t\t}\r\n\t\t\treturn sb.toString();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Localize and format the message string from a log record.\r\n\t\t * &lt;p&gt;\r\n\t\t * The message string is first localized to a format string using the record&#39;s ResourceBundle. (If there is no\r\n\t\t * ResourceBundle, or if the message key is not found, then the key is used as the format string.) The format String\r\n\t\t * uses java.text style formatting.\r\n\t\t * &lt;ul&gt;\r\n\t\t * &lt;li&gt;If there are no parameters, no formatter is used.\r\n\t\t * &lt;li&gt;Otherwise, if the string contains &quot;{0&quot; then java.text.MessageFormat is used to format the string.\r\n\t\t * &lt;li&gt;Otherwise no formatting is performed.\r\n\t\t * &lt;/ul&gt;\r\n\t\t * &lt;p&gt;\r\n\t\t *\r\n\t\t * @param record the log record containing the raw message\r\n\t\t * @param result the StringBuffer where the message text is to be appended\r\n\t\t * @return StringBuffer where the message text was appended\r\n\t\t */\r\n\t\tpublic synchronized StringBuffer formatMessage(LogRecord record, StringBuffer result)\r\n\t\t{\r\n\t\t\t// This is the default formatMessage implementation from \r\n\t\t\t// java.util.logging.Formatter except that it has been\r\n\t\t\t// modified to operate on the passed in StringBuffer.\r\n\r\n\t\t\tString format = record.getMessage();\r\n\t\t\tjava.util.ResourceBundle catalog = record.getResourceBundle();\r\n\t\t\tif (catalog != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tformat = catalog.getString(record.getMessage());\r\n\t\t\t\t} catch (java.util.MissingResourceException ex) {\r\n\t\t\t\t\t// Drop through.  Use record message as format\r\n\t\t\t\t\tformat = record.getMessage();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Do the formatting.\r\n\t\t\ttry {\r\n\t\t\t\tObject parameters[] = record.getParameters();\r\n\t\t\t\tif (parameters == null || parameters.length == 0) {\r\n\t\t\t\t\t// No parameters.  Just return format string.\r\n\t\t\t\t\tresult.append(format);\r\n\t\t\t\t} else if (format.indexOf(&quot;{0&quot;) &gt;= 0 ||\r\n\t\t\t\t\tformat.indexOf(&quot;{1&quot;) &gt;= 0 ||\r\n\t\t\t\t\tformat.indexOf(&quot;{2&quot;) &gt;= 0 ||\r\n\t\t\t\t\tformat.indexOf(&quot;{3&quot;) &gt;= 0) {\r\n\t\t\t\t\t// Is is a java.text style format?\r\n\t\t\t\t\t// Ideally we could match with\r\n\t\t\t\t\t// Pattern.compile(&quot;\\\\{\\\\d&quot;).matcher(format).find())\r\n\t\t\t\t\t// However the cost is 14% higher, so we cheaply check for\r\n\t\t\t\t\t// 1 of the first 4 parameters\r\n\t\t\t\t\tMessageFormat temp = new MessageFormat(format);\r\n\t\t\t\t\ttemp.format(parameters, result, new FieldPosition(0));  // this appends to sb \t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.append(format);\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\t// Formatting failed: use localized format string.\r\n\t\t\t\tresult.append(format);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tprotected StringBuffer getThrowableMessage(LogRecord record, StringBuffer sb)\r\n\t\t{\r\n\t\t\tThrowable thrown = record.getThrown();\r\n\t\t\tif (thrown != null) {\r\n\t\t\t\tPrintWriter pw = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tStringWriter sw = new StringWriter();\r\n\t\t\t\t\tpw = new PrintWriter(sw);\r\n\t\t\t\t\trecord.getThrown().printStackTrace(pw);\r\n\t\t\t\t\tpw.flush();\r\n\t\t\t\t\tsb.append(&#39;\\n&#39;);\r\n\t\t\t\t\tsb.append(sw.toString());\r\n\t\t\t\t} catch (Exception ex) {\r\n\t\t\t\t\tSystem.out.println(&quot;CustomFormatter:Caught exception trying to build log message.&quot;);\r\n\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif (pw != null) {\r\n\t\t\t\t\t\tpw.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn sb;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns caller location information in eclipse format eg (Filename.java:23) WARNING Generating caller location\r\n\t\t * information is extremely slow. It&#39;s use should be avoided unless execution speed is not an issue.\r\n\t\t *\r\n\t\t * @param sb\r\n\t\t *\r\n\t\t * @return the eclipse format\r\n\t\t */\r\n\t\tpublic StringBuffer getEclipseFormat(StringBuffer sb)\r\n\t\t{\r\n\t\t\tfinal boolean useCurrentThread = false;\r\n\t\t\t// getStackTrace can be expensive\r\n\t\t\tStackTraceElement[] stackTrace;\r\n\r\n\t\t\tif (useCurrentThread) {\r\n\t\t\t\tstackTrace = Thread.currentThread().getStackTrace();\r\n\t\t\t} else {\r\n\t\t\t\t// Its possible this is faster.\r\n\t\t\t\t// http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6375302\r\n\t\t\t\tstackTrace = new Throwable().getStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\tStackTraceElement element = findCallingElement(stackTrace);\r\n\t\t\tappendEclipseFormat(element, sb);\r\n\t\t\treturn sb;\r\n\t\t}\r\n\r\n\t\tpublic static StringBuffer appendEclipseFormat(final StackTraceElement element, final StringBuffer sb)\r\n\t\t{\r\n\t\t\tif (element == null || nullElement == element) {\r\n\t\t\t\tsb.append(&quot;(?:?)&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tsb.append(&#39;(&#39;);\r\n\r\n\t\t\t\tString filename = element.getFileName();\r\n\t\t\t\tif (filename == null || filename.isEmpty()) {\r\n\t\t\t\t\tsb.append(&quot;?&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsb.append(filename);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsb.append(&#39;:&#39;);\r\n\r\n\t\t\t\tint lineNumber = element.getLineNumber();\r\n\t\t\t\tif (lineNumber &lt;= 0) {\r\n\t\t\t\t\tsb.append(&#39;?&#39;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsb.append(lineNumber);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsb.append(&#39;)&#39;);\r\n\t\t\t}\r\n\r\n\t\t\treturn sb;\r\n\t\t}\r\n\r\n\t\tpublic static StackTraceElement findCallingElement(StackTraceElement[] stackTrace)\r\n\t\t{\r\n\t\t\tStackTraceElement retval = nullElement;\r\n\r\n\t\t\tint lastIdx = firstIndexNot(stackTrace, Logger.class.getName(), 7);\r\n\r\n\t\t\tif (lastIdx &gt;= 0 &amp;&amp; lastIdx &lt; stackTrace.length) {\r\n\t\t\t\tretval = stackTrace[lastIdx];\r\n\t\t\t}\r\n\r\n\t\t\treturn retval;\r\n\t\t}\r\n\r\n\t\tprivate static int firstIndexNot(StackTraceElement[] stackTrace,\r\n\t\t\tString classname, int fromIndex)\r\n\t\t{\r\n\t\t\tint idx = -1;\r\n\r\n\t\t\tif (classname != null) {\r\n\t\t\t\tif (stackTrace != null &amp;&amp; fromIndex &gt;= 0 &amp;&amp; stackTrace.length &gt; fromIndex) {\r\n\t\t\t\t\tfor (int i = fromIndex; i &lt; stackTrace.length; i++) {\r\n\t\t\t\t\t\tif (!classname.equals(stackTrace[i].getClassName())) {\r\n\t\t\t\t\t\t\tidx = i;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn idx;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n","title":"how to configure my own formatter in java logging property file","body":"<p>Write your own Formatter that accepts a format String.</p>\n<p>Configure your formatter in the logging.properties file.  For example:</p>\n<pre><code>java.util.logging.ConsoleHandler.formatter = my.util.logging.CustomFormatter\nmy.util.logging.CustomFormatter.format = %t %L: %E %m\nmy.util.logging.CustomFormatter.date.format = ddMMMyyyy HH:mm:ss\n# logger.log(Level.INFO, &quot;INFO message.&quot;);\n# produces the following log message:\n# 18Aug2013 13:04:19 INFO: (LoggingLevelDemo.java:34) INFO message.\n</code></pre>\n<p>If writing such a Formatter seems daunting, Here is something to start with:</p>\n<pre><code>package my.util.logging;\n\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.text.DateFormat;\nimport java.text.FieldPosition;\nimport java.text.Format;\nimport java.text.MessageFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.TimeZone;\nimport java.util.logging.Formatter;\nimport java.util.logging.LogManager;\nimport java.util.logging.LogRecord;\nimport java.util.logging.Logger;\n\n/**\n * A {@link Formatter} that may be customized in a {@code logging.properties} file. The syntax of the property\n * {@code my.util.logging.CustomFormatter.format} specifies the output. A newline will be appended to the string and\n * the following special characters will be expanded (case sensitive):-\n * &lt;ul&gt;\n * &lt;li&gt;{@code %m} - message&lt;/li&gt;\n * &lt;li&gt;{@code %L} - log level&lt;/li&gt;\n * &lt;li&gt;{@code %n} - name of the logger&lt;/li&gt;\n * &lt;li&gt;{@code %t} - a timestamp (in ISO-8601 &quot;yyyy-MM-dd HH:mm:ss.SSS&quot; format)&lt;/li&gt;\n * &lt;li&gt;{@code %M} - source method name (if available, otherwise &quot;?&quot;)&lt;/li&gt;\n * &lt;li&gt;{@code %c} - source class name (if available, otherwise &quot;?&quot;)&lt;/li&gt;\n * &lt;li&gt;{@code %C} - source simple class name (if available, otherwise &quot;?&quot;)&lt;/li&gt;\n * &lt;li&gt;{@code %T} - thread ID&lt;/li&gt;\n * &lt;li&gt;{@code %E} - (Filename.java:linenumber) Slow to generate Eclipse format&lt;/li&gt;\n * &lt;/ul&gt;\n * The default format is {@value #DEFAULT_FORMAT}. Curly brace characters are not allowed.\n *\n * Based on http://javablog.co.uk/2008/07/12/logging-with-javautillogging/ \n * %E Eclipse format was added with flag to avoid Stack trace generation if Eclipse format not used.\n *\n * @author Samuel Halliday\n * @author Ryan Ripken\n */\npublic class CustomFormatter extends Formatter\n{\n\n    // milliseconds can be nice for rough performance numbers\n    public static final String DATE_FORMAT = &quot;yyyy-MM-dd HH:mm:ss.SSS Z&quot;;\n    private static final DateFormat defaultDateFormat = new SimpleDateFormat(DATE_FORMAT);\n    // private static final String USACE_DATE_FORMAT = &quot;yyyyMMdd HHmmss Z&quot;;\n    public static final String DEFAULT_FORMAT = &quot;%t %L: %E %m&quot;;\n    protected static final StackTraceElement nullElement = new StackTraceElement(&quot;?&quot;, &quot;?&quot;, &quot;?&quot;, -1);\n\n    private final MessageFormat messageFormat;\n    private final boolean[] needsArg;\n    private final DateFormat dateFormat;\n\n    public CustomFormatter()\n    {\n        super();\n\n        LogManager logManager = LogManager.getLogManager();\n        String classname = getClass().getName();\n\n        // load the format from logging.properties\n        String dateFormatKey = classname + &quot;.date.format&quot;;\n\n        String strDateFormat = logManager.getProperty(dateFormatKey);\n\n        if (strDateFormat != null) {\n            dateFormat = new SimpleDateFormat(strDateFormat);\n        } else {\n            dateFormat = defaultDateFormat;\n        }\n        String dateFormatTimeZoneKey = classname + &quot;.date.timezone&quot;;\n        String strDateFormatTimeZone = logManager\n            .getProperty(dateFormatTimeZoneKey);\n        if (strDateFormatTimeZone != null) {\n            dateFormat.setTimeZone(TimeZone.getTimeZone(strDateFormatTimeZone));\n        }\n\n        String propName = classname + &quot;.format&quot;;\n        String format = logManager.getProperty(propName);\n        if (format == null || format.trim().length() == 0) {\n            format = DEFAULT_FORMAT;\n        }\n        if (format.contains(&quot;{&quot;) || format.contains(&quot;}&quot;)) {\n            throw new IllegalArgumentException(&quot;curly braces not allowed&quot;);\n        }\n\n        // convert it into the MessageFormat form\n        format = format.replace(&quot;%L&quot;, &quot;{0}&quot;)\n            .replace(&quot;%m&quot;, &quot;{1}&quot;)\n            .replace(&quot;%M&quot;, &quot;{2}&quot;)\n            .replace(&quot;%t&quot;, &quot;{3}&quot;)\n            .replace(&quot;%c&quot;, &quot;{4}&quot;)\n            .replace(&quot;%T&quot;, &quot;{5}&quot;)\n            .replace(&quot;%n&quot;, &quot;{6}&quot;)\n            .replace(&quot;%C&quot;, &quot;{7}&quot;)\n            .replace(&quot;%E&quot;, &quot;{8}&quot;) +\n            &quot;\\n&quot;;\n\n        messageFormat = new MessageFormat(format);\n        Format[] formatsByArgumentIndex = messageFormat.getFormatsByArgumentIndex();\n        needsArg = new boolean[9];\n        for (int i = 0; i &lt; formatsByArgumentIndex.length; i++) {\n            needsArg[i] = format.contains(&quot;{&quot; + i + &quot;}&quot;);\n        }\n    }\n\n    @Override\n    public String format(LogRecord record)\n    {\n        String[] arguments = new String[9];\n\n        // This is a StringBuffer instead of StringBuilder so that\n        // it can be re-used for the messageFormat.format calls.\n        // It is, hopefully, slightly oversized so that it won't \n        // have to be enlarged...\n        StringBuffer sb = new StringBuffer(256);\n\n        if (needsArg[0]) {\n            // %L\n            arguments[0] = record.getLevel().toString();\n        }\n\n        if (needsArg[1]) {\n            // %m\n            sb = formatMessage(record, sb);\n            sb = getThrowableMessage(record, sb);  // maybe this should have been its own flag?\n            arguments[1] = sb.toString();\n        }\n\n        if (needsArg[2]) {\n            // %M\n            arguments[2] = record.getSourceMethodName();\n        } else {\n            arguments[2] = &quot;?&quot;;\n        }\n\n        if (needsArg[3]) {\n            // %t\n            sb.delete(0, sb.length()); // re-use\n\n            Date date = new Date(record.getMillis());\n            FieldPosition fieldPos = new FieldPosition(0);\n            synchronized (dateFormat) {\n                sb = dateFormat.format(date, sb, fieldPos);\n            }\n\n            arguments[3] = sb.toString();\n        }\n\n        if (needsArg[4] || needsArg[7]) {\n            // %c\n            arguments[4] = record.getSourceClassName();\n        } else {\n            arguments[4] = &quot;?&quot;;\n        }\n\n        if (needsArg[5]) {\n            // %T\n            arguments[5] = Integer.toString(record.getThreadID());\n        }\n\n        if (needsArg[6]) {\n            // %n\n            arguments[6] = record.getLoggerName();\n        }\n\n        if (needsArg[7]) {\n            // %C\n            int start = arguments[4].lastIndexOf('.') + 1;\n            if (start &gt; 0 &amp;&amp; start &lt; arguments[4].length()) {\n                arguments[7] = arguments[4].substring(start);\n            } else {\n                arguments[7] = arguments[4];\n            }\n        }\n\n        if (needsArg[8]) {\n            // %E Expensive Eclipse Format\n            sb.delete(0, sb.length()); // reuse buffer\n            getEclipseFormat(sb); // gets a stackTrace to generate.\n            arguments[8] = sb.toString();\n        } else {\n            arguments[8] = &quot;(?:?)&quot;;\n        }\n\n        sb.delete(0, sb.length()); //reuse buffer\n\n        FieldPosition fieldPos = new FieldPosition(0);\n\n        synchronized (messageFormat) {\n            // messageFormat.format only calls into \n            // messageFormat.format(arguments, new StringBuffer(), new FieldPosition(0)).toString();\n            // we already have a StringBuffer laying around.  We should reuse it.\n            //return messageFormat.format(arguments);\n            sb = messageFormat.format(arguments, sb, fieldPos);\n        }\n        return sb.toString();\n    }\n\n    /**\n     * Localize and format the message string from a log record.\n     * &lt;p&gt;\n     * The message string is first localized to a format string using the record's ResourceBundle. (If there is no\n     * ResourceBundle, or if the message key is not found, then the key is used as the format string.) The format String\n     * uses java.text style formatting.\n     * &lt;ul&gt;\n     * &lt;li&gt;If there are no parameters, no formatter is used.\n     * &lt;li&gt;Otherwise, if the string contains &quot;{0&quot; then java.text.MessageFormat is used to format the string.\n     * &lt;li&gt;Otherwise no formatting is performed.\n     * &lt;/ul&gt;\n     * &lt;p&gt;\n     *\n     * @param record the log record containing the raw message\n     * @param result the StringBuffer where the message text is to be appended\n     * @return StringBuffer where the message text was appended\n     */\n    public synchronized StringBuffer formatMessage(LogRecord record, StringBuffer result)\n    {\n        // This is the default formatMessage implementation from \n        // java.util.logging.Formatter except that it has been\n        // modified to operate on the passed in StringBuffer.\n\n        String format = record.getMessage();\n        java.util.ResourceBundle catalog = record.getResourceBundle();\n        if (catalog != null) {\n            try {\n                format = catalog.getString(record.getMessage());\n            } catch (java.util.MissingResourceException ex) {\n                // Drop through.  Use record message as format\n                format = record.getMessage();\n            }\n        }\n        // Do the formatting.\n        try {\n            Object parameters[] = record.getParameters();\n            if (parameters == null || parameters.length == 0) {\n                // No parameters.  Just return format string.\n                result.append(format);\n            } else if (format.indexOf(&quot;{0&quot;) &gt;= 0 ||\n                format.indexOf(&quot;{1&quot;) &gt;= 0 ||\n                format.indexOf(&quot;{2&quot;) &gt;= 0 ||\n                format.indexOf(&quot;{3&quot;) &gt;= 0) {\n                // Is is a java.text style format?\n                // Ideally we could match with\n                // Pattern.compile(&quot;\\\\{\\\\d&quot;).matcher(format).find())\n                // However the cost is 14% higher, so we cheaply check for\n                // 1 of the first 4 parameters\n                MessageFormat temp = new MessageFormat(format);\n                temp.format(parameters, result, new FieldPosition(0));  // this appends to sb       \n            } else {\n                result.append(format);\n            }\n        } catch (Exception ex) {\n            // Formatting failed: use localized format string.\n            result.append(format);\n        }\n        return result;\n    }\n\n    protected StringBuffer getThrowableMessage(LogRecord record, StringBuffer sb)\n    {\n        Throwable thrown = record.getThrown();\n        if (thrown != null) {\n            PrintWriter pw = null;\n            try {\n                StringWriter sw = new StringWriter();\n                pw = new PrintWriter(sw);\n                record.getThrown().printStackTrace(pw);\n                pw.flush();\n                sb.append('\\n');\n                sb.append(sw.toString());\n            } catch (Exception ex) {\n                System.out.println(&quot;CustomFormatter:Caught exception trying to build log message.&quot;);\n                ex.printStackTrace();\n            } finally {\n                if (pw != null) {\n                    pw.close();\n                }\n            }\n        }\n        return sb;\n    }\n\n    /**\n     * Returns caller location information in eclipse format eg (Filename.java:23) WARNING Generating caller location\n     * information is extremely slow. It's use should be avoided unless execution speed is not an issue.\n     *\n     * @param sb\n     *\n     * @return the eclipse format\n     */\n    public StringBuffer getEclipseFormat(StringBuffer sb)\n    {\n        final boolean useCurrentThread = false;\n        // getStackTrace can be expensive\n        StackTraceElement[] stackTrace;\n\n        if (useCurrentThread) {\n            stackTrace = Thread.currentThread().getStackTrace();\n        } else {\n            // Its possible this is faster.\n            // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6375302\n            stackTrace = new Throwable().getStackTrace();\n        }\n\n        StackTraceElement element = findCallingElement(stackTrace);\n        appendEclipseFormat(element, sb);\n        return sb;\n    }\n\n    public static StringBuffer appendEclipseFormat(final StackTraceElement element, final StringBuffer sb)\n    {\n        if (element == null || nullElement == element) {\n            sb.append(&quot;(?:?)&quot;);\n        } else {\n            sb.append('(');\n\n            String filename = element.getFileName();\n            if (filename == null || filename.isEmpty()) {\n                sb.append(&quot;?&quot;);\n            } else {\n                sb.append(filename);\n            }\n\n            sb.append(':');\n\n            int lineNumber = element.getLineNumber();\n            if (lineNumber &lt;= 0) {\n                sb.append('?');\n            } else {\n                sb.append(lineNumber);\n            }\n\n            sb.append(')');\n        }\n\n        return sb;\n    }\n\n    public static StackTraceElement findCallingElement(StackTraceElement[] stackTrace)\n    {\n        StackTraceElement retval = nullElement;\n\n        int lastIdx = firstIndexNot(stackTrace, Logger.class.getName(), 7);\n\n        if (lastIdx &gt;= 0 &amp;&amp; lastIdx &lt; stackTrace.length) {\n            retval = stackTrace[lastIdx];\n        }\n\n        return retval;\n    }\n\n    private static int firstIndexNot(StackTraceElement[] stackTrace,\n        String classname, int fromIndex)\n    {\n        int idx = -1;\n\n        if (classname != null) {\n            if (stackTrace != null &amp;&amp; fromIndex &gt;= 0 &amp;&amp; stackTrace.length &gt; fromIndex) {\n                for (int i = fromIndex; i &lt; stackTrace.length; i++) {\n                    if (!classname.equals(stackTrace[i].getClassName())) {\n                        idx = i;\n                        break;\n                    }\n                }\n            }\n        }\n\n        return idx;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":80690,"reputation":1187,"user_id":227998,"accept_rate":80,"display_name":"loudiyimo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668646051,"creation_date":1272241550,"question_id":2710524,"body_markdown":"For my java project, i am using the java logging api. I want to log everything using a property file. \r\n\r\nBefore using this file (log.properties), I configured my onwn formatter in the java code. (see below)\r\n\r\nNow I want to configure my own fomatter in the propertie file, instead of the java code. \r\ndoes someone know how to do that ?\r\n\r\n\r\n\r\n\r\n\r\n    Formatter formatter = new Formatter() {\r\n    \r\n                    @Override\r\n                    public String format(LogRecord arg0) {\r\n                        StringBuilder b = new StringBuilder();\r\n                        b.append(new Date());\r\n                        b.append(&quot; &quot;);\r\n                        b.append(arg0.getSourceClassName());\r\n                        b.append(&quot; &quot;);\r\n                        b.append(arg0.getSourceMethodName());\r\n                        b.append(&quot; &quot;);\r\n                        b.append(arg0.getLevel());\r\n                        b.append(&quot; &quot;);\r\n                        b.append(arg0.getMessage());\r\n                        b.append(System.getProperty(&quot;line.separator&quot;));\r\n                        return b.toString();\r\n                    }\r\n    \r\n                };\r\n\r\nfomatter in the java code\r\n\r\n\r\n\r\n&gt;..... .....\r\n\r\n&gt; java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter\r\n&gt; java.util.logging.FileHandler.level=WARNING\r\n\r\n&gt; **java.util.logging.??? = how can i configure my own formater in the property file with this information: data, clasename, methodename, level .etc.****\r\n\r\nformatter in de log.proprties \r\n\r\n","title":"how to configure my own formatter in java logging property file","body":"<p>For my java project, i am using the java logging api. I want to log everything using a property file. </p>\n\n<p>Before using this file (log.properties), I configured my onwn formatter in the java code. (see below)</p>\n\n<p>Now I want to configure my own fomatter in the propertie file, instead of the java code. \ndoes someone know how to do that ?</p>\n\n<pre><code>Formatter formatter = new Formatter() {\n\n                @Override\n                public String format(LogRecord arg0) {\n                    StringBuilder b = new StringBuilder();\n                    b.append(new Date());\n                    b.append(\" \");\n                    b.append(arg0.getSourceClassName());\n                    b.append(\" \");\n                    b.append(arg0.getSourceMethodName());\n                    b.append(\" \");\n                    b.append(arg0.getLevel());\n                    b.append(\" \");\n                    b.append(arg0.getMessage());\n                    b.append(System.getProperty(\"line.separator\"));\n                    return b.toString();\n                }\n\n            };\n</code></pre>\n\n<p>fomatter in the java code</p>\n\n<blockquote>\n  <p>..... .....</p>\n  \n  <p>java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter\n  java.util.logging.FileHandler.level=WARNING</p>\n  \n  <p>**java.util.logging.??? = how can i configure my own formater in the property file with this information: data, clasename, methodename, level .etc.****</p>\n</blockquote>\n\n<p>formatter in de log.proprties </p>\n"},{"tags":["java","archunit"],"comments":[{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":1,"creation_date":1668644068,"post_id":74461422,"comment_id":131458723,"body_markdown":"FYI: [Arch Unit 1.0.0](https://github.com/TNG/ArchUnit/releases/tag/v1.0.0) has been released more than 6 weeks ago! &#128521;","body":"FYI: <a href=\"https://github.com/TNG/ArchUnit/releases/tag/v1.0.0\" rel=\"nofollow noreferrer\">Arch Unit 1.0.0</a> has been released more than 6 weeks ago! 😉"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1668757769,"post_id":74461422,"comment_id":131488489,"body_markdown":"And note that [ArchUnit#768](https://github.com/TNG/ArchUnit/issues/768) is not a PR, but a just feature request.","body":"And note that <a href=\"https://github.com/TNG/ArchUnit/issues/768\" rel=\"nofollow noreferrer\">ArchUnit#768</a> is not a PR, but a just feature request."}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668643981,"creation_date":1668643981,"answer_id":74468731,"question_id":74461422,"body_markdown":"For the specific case of [`record`s](https://openjdk.org/jeps/395), the parameter names are also field names, and therefore caught by\r\n```java\r\n@ArchTest\r\nArchRule no_field_named_uuid = noFields()\r\n    .that().haveRawType(UUID.class)\r\n    .should().haveName(&quot;uuid&quot;)\r\n    .because(&quot;developers have to use the allowed name &#39;id&#39; or &quot; +\r\n            &quot;think of a more specific name regarding their purpose&quot;);\r\n```\r\n","title":"ArchUnit test sensitive variable naming","body":"<p>For the specific case of <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\"><code>record</code>s</a>, the parameter names are also field names, and therefore caught by</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nArchRule no_field_named_uuid = noFields()\n    .that().haveRawType(UUID.class)\n    .should().haveName(&quot;uuid&quot;)\n    .because(&quot;developers have to use the allowed name 'id' or &quot; +\n            &quot;think of a more specific name regarding their purpose&quot;);\n</code></pre>\n"}],"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1668643981,"creation_date":1668605769,"question_id":74461422,"body_markdown":"Setup:\r\n```\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-boot.version&gt;2.7.0&lt;/spring-boot.version&gt;\r\n\r\n        &lt;junit-jupiter-engine.version&gt;5.8.2&lt;/junit-jupiter-engine.version&gt;\r\n        &lt;mockito-junit-jupiter.version&gt;4.6.1&lt;/mockito-junit-jupiter.version&gt;\r\n\r\n        &lt;archunit.version&gt;1.0.0-rc1&lt;/archunit.version&gt;\r\n```\r\n\r\nIn my recent Java 17-Project **Arch Unit Tests** are used.\r\n\r\nIt works fine so far and I&#39;d like to extend the tests by **blacklisting** specific variable names.\r\n\r\n**Target:** The question is not about &quot;does it makes sense&quot; - it is about &quot;how to do it&quot;.\r\n\r\n-----\r\n\r\nSample Examples to get into my mood:\r\n\r\na) **Blacklisting** an Uuid.class to be named &#39;uuid&#39;.\r\n  - Developers therefore have to use the allowed name &#39;id&#39; or think of a more specific name regarding their purpose.\r\n\r\nSample Class:\r\n```\r\nimport java.io.Serializable;\r\nimport java.util.UUID;\r\n\r\npublic record myClassRecordClass(\r\n    UUID id,\r\n    UUID uuid,               &lt;-- forbidden\r\n    UUID pupilId,\r\n    UUID teacherId,\r\n    String className\r\n) implements Serializable {}\r\n\r\n```\r\n\r\nb) **Blacklisting** an &#39;until now used term&#39; within a business case, as it has to be renamed.\r\n  - Falling back into the &#39;old habit/naming convention&#39; shall be prohibited.\r\n\r\n-----\r\n\r\nNov. 2022: As far as I know **classes, fields and members** can be checked via ArchUnit, but **not variable names**.\r\n\r\nIn case the following PR might cover the issue ... https://github.com/TNG/ArchUnit/issues/768\r\n... somewhen in the future.\r\n\r\nNevertheless, did I miss a better solution?\r\nIs there any other way to tackle the issue?\r\n\r\nBest wishes   :)","title":"ArchUnit test sensitive variable naming","body":"<p>Setup:</p>\n<pre><code>        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-boot.version&gt;2.7.0&lt;/spring-boot.version&gt;\n\n        &lt;junit-jupiter-engine.version&gt;5.8.2&lt;/junit-jupiter-engine.version&gt;\n        &lt;mockito-junit-jupiter.version&gt;4.6.1&lt;/mockito-junit-jupiter.version&gt;\n\n        &lt;archunit.version&gt;1.0.0-rc1&lt;/archunit.version&gt;\n</code></pre>\n<p>In my recent Java 17-Project <strong>Arch Unit Tests</strong> are used.</p>\n<p>It works fine so far and I'd like to extend the tests by <strong>blacklisting</strong> specific variable names.</p>\n<p><strong>Target:</strong> The question is not about &quot;does it makes sense&quot; - it is about &quot;how to do it&quot;.</p>\n<hr />\n<p>Sample Examples to get into my mood:</p>\n<p>a) <strong>Blacklisting</strong> an Uuid.class to be named 'uuid'.</p>\n<ul>\n<li>Developers therefore have to use the allowed name 'id' or think of a more specific name regarding their purpose.</li>\n</ul>\n<p>Sample Class:</p>\n<pre><code>import java.io.Serializable;\nimport java.util.UUID;\n\npublic record myClassRecordClass(\n    UUID id,\n    UUID uuid,               &lt;-- forbidden\n    UUID pupilId,\n    UUID teacherId,\n    String className\n) implements Serializable {}\n\n</code></pre>\n<p>b) <strong>Blacklisting</strong> an 'until now used term' within a business case, as it has to be renamed.</p>\n<ul>\n<li>Falling back into the 'old habit/naming convention' shall be prohibited.</li>\n</ul>\n<hr />\n<p>Nov. 2022: As far as I know <strong>classes, fields and members</strong> can be checked via ArchUnit, but <strong>not variable names</strong>.</p>\n<p>In case the following PR might cover the issue ... <a href=\"https://github.com/TNG/ArchUnit/issues/768\" rel=\"nofollow noreferrer\">https://github.com/TNG/ArchUnit/issues/768</a>\n... somewhen in the future.</p>\n<p>Nevertheless, did I miss a better solution?\nIs there any other way to tackle the issue?</p>\n<p>Best wishes   :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7732499,"reputation":601,"user_id":5855129,"display_name":"Schesam"},"score":1,"creation_date":1668640640,"post_id":74468364,"comment_id":131458093,"body_markdown":"Try using String.substring() to extract pieces of the Input-String and concatenate it after with the wanted &#39;-&#39;","body":"Try using String.substring() to extract pieces of the Input-String and concatenate it after with the wanted &#39;-&#39;"}],"answers":[{"tags":[],"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668640641,"creation_date":1668640641,"answer_id":74468398,"question_id":74468364,"body_markdown":"You can try this\r\n\r\n    clientID = String.format(&quot;%s-%s&quot;, clientID.substring(0, 4), clientID.substring(4));\r\n\r\nOr this\r\n\r\n    clientID = clientID.substring(0, 4) + &quot;-&quot; + clientID.substring(4);","title":"How to format String variable that is entered by the user from this (00000000) to this (0000-0000)","body":"<p>You can try this</p>\n<pre><code>clientID = String.format(&quot;%s-%s&quot;, clientID.substring(0, 4), clientID.substring(4));\n</code></pre>\n<p>Or this</p>\n<pre><code>clientID = clientID.substring(0, 4) + &quot;-&quot; + clientID.substring(4);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1668643781,"post_id":74468689,"comment_id":131458680,"body_markdown":"or even just `input.replaceAll(&quot;(?&lt;=^....)&quot;, &quot;-&quot;)`","body":"or even just <code>input.replaceAll(&quot;(?&lt;=^....)&quot;, &quot;-&quot;)</code>"}],"tags":[],"owner":{"account_id":14048778,"reputation":196,"user_id":10148219,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668643609,"creation_date":1668643609,"answer_id":74468689,"question_id":74468364,"body_markdown":"You can also use some regex for this kind of tasks. In this simple case, it is probably a little bit overkill, but in general with regex, you are a lot more flexible.\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          String pattern = &quot;^(\\\\d{4})(\\\\d{4})$&quot;;\r\n          \r\n          String input = &quot;12345678&quot;;\r\n          String parsedInput = input.replaceAll(pattern, &quot;$1-$2&quot;);\r\n    \r\n          System.out.println(parsedInput);\r\n        }\r\n    }\r\n\r\nFirst you define your pattern. In this case we say that we have two blocks `^(...)(...)$` where each contains exactly 4 `{4}` numbers `\\d`.\r\nWith the `replaceAll` function, you then can rearrange these earlier defined blocks. They simply get numberd in order of appearance in the pattern. So `$1` references the first block, `$2` the second, and so on.\r\nWith that you can simply add the hypen in between the two blocks with `$1-$2`","title":"How to format String variable that is entered by the user from this (00000000) to this (0000-0000)","body":"<p>You can also use some regex for this kind of tasks. In this simple case, it is probably a little bit overkill, but in general with regex, you are a lot more flexible.</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      String pattern = &quot;^(\\\\d{4})(\\\\d{4})$&quot;;\n      \n      String input = &quot;12345678&quot;;\n      String parsedInput = input.replaceAll(pattern, &quot;$1-$2&quot;);\n\n      System.out.println(parsedInput);\n    }\n}\n</code></pre>\n<p>First you define your pattern. In this case we say that we have two blocks <code>^(...)(...)$</code> where each contains exactly 4 <code>{4}</code> numbers <code>\\d</code>.\nWith the <code>replaceAll</code> function, you then can rearrange these earlier defined blocks. They simply get numberd in order of appearance in the pattern. So <code>$1</code> references the first block, <code>$2</code> the second, and so on.\nWith that you can simply add the hypen in between the two blocks with <code>$1-$2</code></p>\n"}],"owner":{"account_id":26906781,"reputation":1,"user_id":20482989,"display_name":"PP-M_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668643609,"creation_date":1668640280,"question_id":74468364,"body_markdown":"I trying to figure out how to change the format of the variable that is entered by the user, all I found online is how to format already known values but nothing else really. the only thing is for sure is that the user is instructed to enter eight numbers only. \r\n```\r\n`System.out.print(&quot;Please enter your ID: &quot;);\r\nclientID = input.next();\r\nSystem.out.println(&quot;Welcome &quot; + clientName + &quot;(Client ID: &quot; + clientID + &quot;), to yout invesment portfolio.&quot;);`\r\n\r\n```\r\n\r\n\r\nI tried to use the &quot;String.format&quot; method but I couldn&#39;t figure out how to edit the variable at a certain index.","title":"How to format String variable that is entered by the user from this (00000000) to this (0000-0000)","body":"<p>I trying to figure out how to change the format of the variable that is entered by the user, all I found online is how to format already known values but nothing else really. the only thing is for sure is that the user is instructed to enter eight numbers only.</p>\n<pre><code>`System.out.print(&quot;Please enter your ID: &quot;);\nclientID = input.next();\nSystem.out.println(&quot;Welcome &quot; + clientName + &quot;(Client ID: &quot; + clientID + &quot;), to yout invesment portfolio.&quot;);`\n\n</code></pre>\n<p>I tried to use the &quot;String.format&quot; method but I couldn't figure out how to edit the variable at a certain index.</p>\n"},{"tags":["java","jls"],"answers":[{"comments":[{"owner":{"account_id":5167086,"reputation":655,"user_id":4136745,"display_name":"sify"},"score":0,"creation_date":1668606607,"post_id":74459667,"comment_id":131446089,"body_markdown":"I don&#39;t quite agree with your final statement, in specs they are actually two kinds of parameter, and receiver parameters don&#39;t end in method descriptors or MethodParameters attribute in jvm classfile format.","body":"I don&#39;t quite agree with your final statement, in specs they are actually two kinds of parameter, and receiver parameters don&#39;t end in method descriptors or MethodParameters attribute in jvm classfile format."},{"owner":{"account_id":5167086,"reputation":655,"user_id":4136745,"display_name":"sify"},"score":0,"creation_date":1668607581,"post_id":74459667,"comment_id":131446524,"body_markdown":"I&#39;m reading java19 specs, it may look a little different from java8 specs. But still in java8 specs `FormalParameter` and `ReceiverParameter` are two definitions. If it&#39;s like what you said, then the definition should look like: `FormalParameter:  ReceiverParameter | {some other difinitions}`","body":"I&#39;m reading java19 specs, it may look a little different from java8 specs. But still in java8 specs <code>FormalParameter</code> and <code>ReceiverParameter</code> are two definitions. If it&#39;s like what you said, then the definition should look like: <code>FormalParameter:  ReceiverParameter | {some other difinitions}</code>"},{"owner":{"account_id":5167086,"reputation":655,"user_id":4136745,"display_name":"sify"},"score":0,"creation_date":1668754489,"post_id":74459667,"comment_id":131487650,"body_markdown":"Very nice and detailed explanation. I guess the keyword is &quot;implicitly&quot; in  &#167;8.8.1. Once I write it down syntactically, it&#39;s not implicit, and thus should be named as receiver parameter.","body":"Very nice and detailed explanation. I guess the keyword is &quot;implicitly&quot; in  &#167;8.8.1. Once I write it down syntactically, it&#39;s not implicit, and thus should be named as receiver parameter."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1668754735,"post_id":74459667,"comment_id":131487699,"body_markdown":"If you write it down it is a receiver parameter, but 8.8.1 isn&#39;t formally related to the parameter you wrote down. It&#39;s only our bigger-picture understanding which allows us to say that the receiver parameter you declare according to 8.4.1 is (or is representative of) the parameter that 8.8.1 describes.","body":"If you write it down it is a receiver parameter, but 8.8.1 isn&#39;t formally related to the parameter you wrote down. It&#39;s only our bigger-picture understanding which allows us to say that the receiver parameter you declare according to 8.4.1 is (or is representative of) the parameter that 8.8.1 describes."}],"tags":[],"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668642237,"creation_date":1668597964,"answer_id":74459667,"question_id":74459405,"body_markdown":"**TL;DR**: it&#39;s not contradictory for the JLS to call this a &quot;formal parameter&quot; in &#167;8.8.1, because &#167;8.8.1 isn&#39;t describing a syntactic form.\r\n\r\n---\r\n\r\nThis is a deceptively subtle question, and we need to be very careful to distinguish between the English language terms &quot;formal parameter&quot; and &quot;receiver parameter&quot;, which can have different meanings in different contexts, and the terms `FormalParameter` and `ReceiverParameter` defined in the Java grammar, which have specific definitions in any given version of the JLS, but these definitions have changed over time.\r\n\r\nThe normal semantic meaning of the English term &quot;formal parameter&quot; is given by [Wikipedia][1]:\r\n\r\n&gt; The term *parameter* (sometimes called *formal parameter*) is often used to refer to the variable as found in the function definition, while *argument* (sometimes called *actual parameter*) refers to the actual input supplied at function call.\r\n\r\nEssentially this just means a &quot;parameter&quot;, but the word &quot;formal&quot; is used, analogously to the concept of a [formal variable][2] in mathematics, to emphasise that we&#39;re talking about an abstract variable defined in the source code rather than one existing at runtime which holds the argument&#39;s value.\r\n\r\nThis corresponds with the meaning of the term &quot;formal parameter&quot; in [JLS 7][3], where in Java 7 *all* parameters are described as formal parameters.\r\n\r\n---\r\n\r\nBut then Java 8 introduced &quot;receiver parameters&quot; into the language, and the meaning of the term &quot;formal parameter&quot; in the JLS itself changed in a subtle way. At this point we need to draw a distinction between the *syntactic form* of a formal parameter (i.e. what `FormalParameter` refers to), and the *semantic meaning* of a formal parameter.\r\n\r\nGrammatically, in [JLS 8 &#167;8.4.1][4] a `ReceiverParameter` is not a `FormalParameter` but it *is* included in `FormalParameters` and `FormalParameterList`. This may seem inconsistent, but it reflects the fact that the names of syntactic forms in the grammar don&#39;t necessarily correspond with how we would interpret those names in English. (When making changes to the language grammar, there are other interests to balance besides consistency with English.) The spec also states that *&quot;If a method or constructor has no formal parameters, only an empty pair of parentheses appears in the declaration&quot;*; but a method with only a receiver parameter does *not* have an empty pair of parentheses. So we might infer that a receiver parameter is a kind of formal parameter, even though a `ReceiverParameter` is not a kind of `FormalParameter`.\r\n\r\nBut this also doesn&#39;t tell us anything about *implicitly declared* parameters, because &quot;implicitly declared&quot; means those parameters are not written in the source code and have no syntactic form. Therefore, when [JLS 8 &#167;8.8.1][5] says:\r\n\r\n&gt; The constructor of a non-`private` inner member class implicitly declares, as the first formal parameter, a variable representing the immediately enclosing instance of the class (&#167;15.9.2, &#167;15.9.3).\r\n\r\nthe English language term &quot;formal parameter&quot; here does not refer to the language grammar. Note also that this paragraph *doesn&#39;t* say that the implicitly declared parameter is a &quot;receiver parameter&quot;.\r\n\r\nSo we have two different but clearly related things:\r\n\r\n- A receiver parameter, which is a syntactic form whose type annotation is that of the immediately enclosing class and whose name is `this` qualified by that class name;\r\n- The implicitly declared formal parameter, a purely semantic construct with no syntactic form, which is a variable whose type is the immediately enclosing class and whose name is `this` qualified by that class name.\r\n\r\nThe relationship between these two things is obvious, but &#167;8.8.1 says that every method or constructor of an inner class has the latter (in order to receive a reference to the enclosing instance at runtime), regardless of whether or not the former is declared in the source code. Since the latter exists whether or not the former does, they are distinct things.\r\n\r\nThe question then is whether the latter is a receiver parameter, a formal parameter, or both. Since we are talking about the implicit parameter *with no syntactic form*,\r\n\r\n- It cannot be a &quot;receiver parameter&quot; according to the syntactic definition of that term in &#167;8.4.1.\r\n- But it also cannot be a &quot;formal parameter&quot; according to the definition of that term in &#167;8.4.1, for the same reason: it is only defined there as a syntactic form.\r\n\r\nSo when &#167;8.8.1 describes this implicitly declared parameter as a &quot;formal parameter&quot;, we can only make sense of this by saying that *semantically* it is a formal parameter; when the method or constructor is invoked, it receives an implicitly passed value (that is, a reference to the enclosing instance) *as if* it had been declared as a formal parameter and *as if* the method or constructor invocation had explicitly passed it a value.\r\n\r\nSo, in context, calling it a &quot;formal parameter&quot; makes more sense than calling it a &quot;receiver parameter&quot;, because a (syntactic) formal parameter does affect the semantic meaning of the method or constructor — it creates a parameter variable which receives a value at runtime — whereas the declaration of a (syntactic) receiver parameter does not change the semantic meaning of the method.\r\n\r\nAll of that said, despite the JLS giving no meaning to the term &quot;receiver parameter&quot; beyond its syntactical definition in &#167;8.4.1, you and I still understand the term &quot;receiver parameter&quot; to have a conceptual meaning, and according to that conceptual meaning we would identify the implicit parameter of &#167;8.8.1 as a &quot;receiver parameter&quot;. But our interpretation is not specified in the JLS, and therefore does not refute the JLS calling it a &quot;formal parameter&quot; instead.\r\n\r\n---\r\n\r\nAs you note in the comments, if we look at version 19 of the Java Language Specification, we can see that the syntactic definitions in [JLS 19 &#167;8.4.1][6] have changed compared to JLS 8: in particular, `ReceiverParameter` is no longer included in `FormalParameters` or `FormalParameterList`.\r\n\r\nHowever, this doesn&#39;t change the interpretation of &#167;8.8.1, which still describes the implicitly declared parameter as a &quot;formal parameter&quot;. The changes in &#167;8.4.1 should not affect the intepretation of this section, because it is not describing a syntactic form. Really, these changes only affect the structure of a parse tree, and the implicit parameter described in &#167;8.8.1 is never present in a parse tree anyway.\r\n\r\nNote also that the use of similar terminology in the Java classfile format has no bearing on this question, because the classfile format is essentially a different language with its own specification (the Java Virtual Machine Specification) which the Java Language Specification does not depend on. The meaning of a program written in Java is defined by the JLS, not the JVMS.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Parameter_(computer_programming)#Parameters_and_arguments\r\n  [2]: https://en.wikipedia.org/wiki/Indeterminate_(variable)\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.1\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.8.1\r\n  [6]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4.1","title":"paradox about receiver parameter in jls-8.4 and jls-8.8.1","body":"<p><strong>TL;DR</strong>: it's not contradictory for the JLS to call this a &quot;formal parameter&quot; in §8.8.1, because §8.8.1 isn't describing a syntactic form.</p>\n<hr />\n<p>This is a deceptively subtle question, and we need to be very careful to distinguish between the English language terms &quot;formal parameter&quot; and &quot;receiver parameter&quot;, which can have different meanings in different contexts, and the terms <code>FormalParameter</code> and <code>ReceiverParameter</code> defined in the Java grammar, which have specific definitions in any given version of the JLS, but these definitions have changed over time.</p>\n<p>The normal semantic meaning of the English term &quot;formal parameter&quot; is given by <a href=\"https://en.wikipedia.org/wiki/Parameter_(computer_programming)#Parameters_and_arguments\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>The term <em>parameter</em> (sometimes called <em>formal parameter</em>) is often used to refer to the variable as found in the function definition, while <em>argument</em> (sometimes called <em>actual parameter</em>) refers to the actual input supplied at function call.</p>\n</blockquote>\n<p>Essentially this just means a &quot;parameter&quot;, but the word &quot;formal&quot; is used, analogously to the concept of a <a href=\"https://en.wikipedia.org/wiki/Indeterminate_(variable)\" rel=\"nofollow noreferrer\">formal variable</a> in mathematics, to emphasise that we're talking about an abstract variable defined in the source code rather than one existing at runtime which holds the argument's value.</p>\n<p>This corresponds with the meaning of the term &quot;formal parameter&quot; in <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">JLS 7</a>, where in Java 7 <em>all</em> parameters are described as formal parameters.</p>\n<hr />\n<p>But then Java 8 introduced &quot;receiver parameters&quot; into the language, and the meaning of the term &quot;formal parameter&quot; in the JLS itself changed in a subtle way. At this point we need to draw a distinction between the <em>syntactic form</em> of a formal parameter (i.e. what <code>FormalParameter</code> refers to), and the <em>semantic meaning</em> of a formal parameter.</p>\n<p>Grammatically, in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">JLS 8 §8.4.1</a> a <code>ReceiverParameter</code> is not a <code>FormalParameter</code> but it <em>is</em> included in <code>FormalParameters</code> and <code>FormalParameterList</code>. This may seem inconsistent, but it reflects the fact that the names of syntactic forms in the grammar don't necessarily correspond with how we would interpret those names in English. (When making changes to the language grammar, there are other interests to balance besides consistency with English.) The spec also states that <em>&quot;If a method or constructor has no formal parameters, only an empty pair of parentheses appears in the declaration&quot;</em>; but a method with only a receiver parameter does <em>not</em> have an empty pair of parentheses. So we might infer that a receiver parameter is a kind of formal parameter, even though a <code>ReceiverParameter</code> is not a kind of <code>FormalParameter</code>.</p>\n<p>But this also doesn't tell us anything about <em>implicitly declared</em> parameters, because &quot;implicitly declared&quot; means those parameters are not written in the source code and have no syntactic form. Therefore, when <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.8.1\" rel=\"nofollow noreferrer\">JLS 8 §8.8.1</a> says:</p>\n<blockquote>\n<p>The constructor of a non-<code>private</code> inner member class implicitly declares, as the first formal parameter, a variable representing the immediately enclosing instance of the class (§15.9.2, §15.9.3).</p>\n</blockquote>\n<p>the English language term &quot;formal parameter&quot; here does not refer to the language grammar. Note also that this paragraph <em>doesn't</em> say that the implicitly declared parameter is a &quot;receiver parameter&quot;.</p>\n<p>So we have two different but clearly related things:</p>\n<ul>\n<li>A receiver parameter, which is a syntactic form whose type annotation is that of the immediately enclosing class and whose name is <code>this</code> qualified by that class name;</li>\n<li>The implicitly declared formal parameter, a purely semantic construct with no syntactic form, which is a variable whose type is the immediately enclosing class and whose name is <code>this</code> qualified by that class name.</li>\n</ul>\n<p>The relationship between these two things is obvious, but §8.8.1 says that every method or constructor of an inner class has the latter (in order to receive a reference to the enclosing instance at runtime), regardless of whether or not the former is declared in the source code. Since the latter exists whether or not the former does, they are distinct things.</p>\n<p>The question then is whether the latter is a receiver parameter, a formal parameter, or both. Since we are talking about the implicit parameter <em>with no syntactic form</em>,</p>\n<ul>\n<li>It cannot be a &quot;receiver parameter&quot; according to the syntactic definition of that term in §8.4.1.</li>\n<li>But it also cannot be a &quot;formal parameter&quot; according to the definition of that term in §8.4.1, for the same reason: it is only defined there as a syntactic form.</li>\n</ul>\n<p>So when §8.8.1 describes this implicitly declared parameter as a &quot;formal parameter&quot;, we can only make sense of this by saying that <em>semantically</em> it is a formal parameter; when the method or constructor is invoked, it receives an implicitly passed value (that is, a reference to the enclosing instance) <em>as if</em> it had been declared as a formal parameter and <em>as if</em> the method or constructor invocation had explicitly passed it a value.</p>\n<p>So, in context, calling it a &quot;formal parameter&quot; makes more sense than calling it a &quot;receiver parameter&quot;, because a (syntactic) formal parameter does affect the semantic meaning of the method or constructor — it creates a parameter variable which receives a value at runtime — whereas the declaration of a (syntactic) receiver parameter does not change the semantic meaning of the method.</p>\n<p>All of that said, despite the JLS giving no meaning to the term &quot;receiver parameter&quot; beyond its syntactical definition in §8.4.1, you and I still understand the term &quot;receiver parameter&quot; to have a conceptual meaning, and according to that conceptual meaning we would identify the implicit parameter of §8.8.1 as a &quot;receiver parameter&quot;. But our interpretation is not specified in the JLS, and therefore does not refute the JLS calling it a &quot;formal parameter&quot; instead.</p>\n<hr />\n<p>As you note in the comments, if we look at version 19 of the Java Language Specification, we can see that the syntactic definitions in <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">JLS 19 §8.4.1</a> have changed compared to JLS 8: in particular, <code>ReceiverParameter</code> is no longer included in <code>FormalParameters</code> or <code>FormalParameterList</code>.</p>\n<p>However, this doesn't change the interpretation of §8.8.1, which still describes the implicitly declared parameter as a &quot;formal parameter&quot;. The changes in §8.4.1 should not affect the intepretation of this section, because it is not describing a syntactic form. Really, these changes only affect the structure of a parse tree, and the implicit parameter described in §8.8.1 is never present in a parse tree anyway.</p>\n<p>Note also that the use of similar terminology in the Java classfile format has no bearing on this question, because the classfile format is essentially a different language with its own specification (the Java Virtual Machine Specification) which the Java Language Specification does not depend on. The meaning of a program written in Java is defined by the JLS, not the JVMS.</p>\n"}],"owner":{"account_id":5167086,"reputation":655,"user_id":4136745,"display_name":"sify"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74459667,"answer_count":1,"score":0,"last_activity_date":1668642237,"creation_date":1668596782,"question_id":74459405,"body_markdown":"[jls-8.4](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4) states that\r\n&gt; The receiver parameter is an optional syntactic device for an instance method or an\r\ninner class&#39;s constructor. For an instance method, the receiver parameter represents\r\nthe object for which the method is invoked. For an inner class&#39;s constructor, the\r\nreceiver parameter represents the immediately enclosing instance of the newly\r\nconstructed object.\r\n\r\nThere is also an example in jls-8.4.1, note the highlighted part\r\n[![enter image description here][1]][1]\r\n\r\nHowever, [jls-8.8.1](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.8.1) states that\r\n&gt; The constructor of a non-private inner member class implicitly declares, as the\r\nfirst formal parameter, a variable representing the immediately enclosing instance\r\nof the class\r\n\r\nSo in jls-8.8.1, the parameter in highlighted constructors of above example should be called formal parameter. classfile structure conforms to it, because I can find this parameter in method descriptor and in `MethodParameters` attribute of the constructor. \r\n\r\nBut clearly receiver parameter and formal parameter are two different things in jls, see `Method Declaration` in jls-8.4, `Formal Parameters` in jls-8.4.1 and `Constructor Declaration` in jls-8.8.\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nWhat&#39;s the right kind of such parameter in jls?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9PlZI.png\r\n  [2]: https://i.stack.imgur.com/wlACw.png\r\n  [3]: https://i.stack.imgur.com/1m9JX.png\r\n  [4]: https://i.stack.imgur.com/amiCZ.png","title":"paradox about receiver parameter in jls-8.4 and jls-8.8.1","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.4\" rel=\"nofollow noreferrer\">jls-8.4</a> states that</p>\n<blockquote>\n<p>The receiver parameter is an optional syntactic device for an instance method or an\ninner class's constructor. For an instance method, the receiver parameter represents\nthe object for which the method is invoked. For an inner class's constructor, the\nreceiver parameter represents the immediately enclosing instance of the newly\nconstructed object.</p>\n</blockquote>\n<p>There is also an example in jls-8.4.1, note the highlighted part\n<a href=\"https://i.stack.imgur.com/9PlZI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9PlZI.png\" alt=\"enter image description here\" /></a></p>\n<p>However, <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.8.1\" rel=\"nofollow noreferrer\">jls-8.8.1</a> states that</p>\n<blockquote>\n<p>The constructor of a non-private inner member class implicitly declares, as the\nfirst formal parameter, a variable representing the immediately enclosing instance\nof the class</p>\n</blockquote>\n<p>So in jls-8.8.1, the parameter in highlighted constructors of above example should be called formal parameter. classfile structure conforms to it, because I can find this parameter in method descriptor and in <code>MethodParameters</code> attribute of the constructor.</p>\n<p>But clearly receiver parameter and formal parameter are two different things in jls, see <code>Method Declaration</code> in jls-8.4, <code>Formal Parameters</code> in jls-8.4.1 and <code>Constructor Declaration</code> in jls-8.8.\n<a href=\"https://i.stack.imgur.com/wlACw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wlACw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1m9JX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1m9JX.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/amiCZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/amiCZ.png\" alt=\"enter image description here\" /></a></p>\n<p>What's the right kind of such parameter in jls?</p>\n"},{"tags":["java","android","apk","alarm","samsung-galaxy"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1668674778,"post_id":74468584,"comment_id":131464703,"body_markdown":"I don&#39;t know exactly how `startActivities` works, but if it sends the whole Intents-array in once call to the clock app the clock app may just accept one intent and ignore the other (because the clock developers could not imagine that more than one entry is added at a time). Therefore I would try to send the Intents one-by-one (and may be wait a small time span between each call just to make sure).","body":"I don&#39;t know exactly how <code>startActivities</code> works, but if it sends the whole Intents-array in once call to the clock app the clock app may just accept one intent and ignore the other (because the clock developers could not imagine that more than one entry is added at a time). Therefore I would try to send the Intents one-by-one (and may be wait a small time span between each call just to make sure)."},{"owner":{"account_id":26955835,"reputation":11,"user_id":20524221,"display_name":"RomanS"},"score":0,"creation_date":1668761111,"post_id":74468584,"comment_id":131489425,"body_markdown":"@Robert Thank you for your answer. Your suggestion had actually been my first attempt, but resulted in the same problem. In the meantime, I found another [app](https://play.google.com/store/apps/details?id=com.sentryapplications.alarmclock), that offers a different but acceptable workaround that works for me, I think. Regarding my post, I&#39;m sticking to the assumption that the problem is coming from my hardware.","body":"@Robert Thank you for your answer. Your suggestion had actually been my first attempt, but resulted in the same problem. In the meantime, I found another <a href=\"https://play.google.com/store/apps/details?id=com.sentryapplications.alarmclock\" rel=\"nofollow noreferrer\">app</a>, that offers a different but acceptable workaround that works for me, I think. Regarding my post, I&#39;m sticking to the assumption that the problem is coming from my hardware."}],"owner":{"account_id":26955835,"reputation":11,"user_id":20524221,"display_name":"RomanS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668642230,"creation_date":1668642230,"question_id":74468584,"body_markdown":"My final goal is to easily activate and deactivate a certain series of 17 alarms in the clock app whenever necessary. Unfortunately, the app only offers the option to either deleting(!) all alarms at once or deactivating one by one. The same applies to every other app from the Play Store I have tried.\r\n\r\nI think an acceptable workaround solution would be to delete all alarms with the mentioned functionality and re-implement the series of alarms programmatically as needed. So, I wrote a minimalist app in Android Studio that works perfectly fine in the emulator.\r\n\r\nAfter building the debug APK, I transferred it on my smartphone and installed it without any errors. Now I am facing the problem that after starting my app only the first alarm is created. Does somebody have an explanation for this error. Thank you!\r\n\r\n**MainActivity.java**\r\n\r\n```lang-java\r\npackage com.example.setalarms;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.provider.AlarmClock;\r\nimport android.os.Bundle;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        String[] messages = {&quot;alarm1&quot;,&quot;alarm2to16&quot;,&quot;alarm17&quot;};\r\n        int[] hours = {7,8,9};\r\n        int[] minutes = {0,0,0};\r\n        ArrayList&lt;Integer&gt; days = new ArrayList&lt;&gt;(\r\n                Arrays.asList(1,2,3,4,5,6,7)\r\n        );\r\n    \r\n        Intent[] intents = new Intent[messages.length];\r\n    \r\n        for (int i = 0; i &lt; messages.length; i++) {\r\n            Intent intent = new Intent(AlarmClock.ACTION_SET_ALARM)\r\n                    .putExtra(AlarmClock.EXTRA_MESSAGE, messages[i])\r\n                    .putExtra(AlarmClock.EXTRA_HOUR, hours[i])\r\n                    .putExtra(AlarmClock.EXTRA_MINUTES, minutes[i])\r\n                    .putExtra(AlarmClock.EXTRA_DAYS, days)\r\n                    .putExtra(AlarmClock.EXTRA_SKIP_UI, i != messages.length - 1);\r\n            intents[i] = intent;\r\n        }\r\n\r\n        startActivities(intents);\r\n    }\r\n}\r\n```\r\n\r\n**AndroidManifest.xml**\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.SetAlarms&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**Hardware / Software**\r\n\r\n```\r\nSAMSUNG Galaxy A3 (2017) SM-A320FL\r\nAndroid Studio Dolphin 2021.3.1 Patch 1\r\nAndroid 8.0.0 (Oreo)\r\nClock 7.0.92.7 (Galaxy Store)\r\n```","title":"App for setting up a certain series of alarms is only working in the Android Studio Emulator","body":"<p>My final goal is to easily activate and deactivate a certain series of 17 alarms in the clock app whenever necessary. Unfortunately, the app only offers the option to either deleting(!) all alarms at once or deactivating one by one. The same applies to every other app from the Play Store I have tried.</p>\n<p>I think an acceptable workaround solution would be to delete all alarms with the mentioned functionality and re-implement the series of alarms programmatically as needed. So, I wrote a minimalist app in Android Studio that works perfectly fine in the emulator.</p>\n<p>After building the debug APK, I transferred it on my smartphone and installed it without any errors. Now I am facing the problem that after starting my app only the first alarm is created. Does somebody have an explanation for this error. Thank you!</p>\n<p><strong>MainActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.setalarms;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.provider.AlarmClock;\nimport android.os.Bundle;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    \n        String[] messages = {&quot;alarm1&quot;,&quot;alarm2to16&quot;,&quot;alarm17&quot;};\n        int[] hours = {7,8,9};\n        int[] minutes = {0,0,0};\n        ArrayList&lt;Integer&gt; days = new ArrayList&lt;&gt;(\n                Arrays.asList(1,2,3,4,5,6,7)\n        );\n    \n        Intent[] intents = new Intent[messages.length];\n    \n        for (int i = 0; i &lt; messages.length; i++) {\n            Intent intent = new Intent(AlarmClock.ACTION_SET_ALARM)\n                    .putExtra(AlarmClock.EXTRA_MESSAGE, messages[i])\n                    .putExtra(AlarmClock.EXTRA_HOUR, hours[i])\n                    .putExtra(AlarmClock.EXTRA_MINUTES, minutes[i])\n                    .putExtra(AlarmClock.EXTRA_DAYS, days)\n                    .putExtra(AlarmClock.EXTRA_SKIP_UI, i != messages.length - 1);\n            intents[i] = intent;\n        }\n\n        startActivities(intents);\n    }\n}\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SetAlarms&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>Hardware / Software</strong></p>\n<pre><code>SAMSUNG Galaxy A3 (2017) SM-A320FL\nAndroid Studio Dolphin 2021.3.1 Patch 1\nAndroid 8.0.0 (Oreo)\nClock 7.0.92.7 (Galaxy Store)\n</code></pre>\n"},{"tags":["java","algorithm","signals"],"comments":[{"owner":{"account_id":4531172,"reputation":379,"user_id":3681614,"display_name":"S. Miller"},"score":0,"creation_date":1403552372,"post_id":24373922,"comment_id":37693568,"body_markdown":"I think you will need some type of averaging method, but you do not necessarily have to average over the whole signal.  You may be able to use a boxcar filter.","body":"I think you will need some type of averaging method, but you do not necessarily have to average over the whole signal.  You may be able to use a boxcar filter."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1403553752,"post_id":24373922,"comment_id":37694203,"body_markdown":"So do you want the average difference between a peak and the trough that comes immediately after (and vice versa) or you want to know the frequency of the wave?","body":"So do you want the average difference between a peak and the trough that comes immediately after (and vice versa) or you want to know the frequency of the wave?"},{"owner":{"account_id":461480,"reputation":2840,"user_id":863192,"accept_rate":41,"display_name":"Zack Newsham"},"score":0,"creation_date":1403554250,"post_id":24373922,"comment_id":37694425,"body_markdown":"Its the frequency of the wave I need","body":"Its the frequency of the wave I need"}],"answers":[{"comments":[{"owner":{"account_id":461480,"reputation":2840,"user_id":863192,"accept_rate":41,"display_name":"Zack Newsham"},"score":0,"creation_date":1403555775,"post_id":24373964,"comment_id":37695129,"body_markdown":"Will this still work if the signal is not symmetric? I.e. The upward slope is steeper than the downward, or vice versa?","body":"Will this still work if the signal is not symmetric? I.e. The upward slope is steeper than the downward, or vice versa?"},{"owner":{"account_id":2548335,"reputation":3616,"user_id":2212650,"display_name":"Adam Yost"},"score":0,"creation_date":1403555908,"post_id":24373964,"comment_id":37695193,"body_markdown":"yes, all you are doing is finding the inflection points. Mind you this method assumes that you are getting data points along the curve, rather than a high point, low point, high point pattern.","body":"yes, all you are doing is finding the inflection points. Mind you this method assumes that you are getting data points along the curve, rather than a high point, low point, high point pattern."},{"owner":{"account_id":461480,"reputation":2840,"user_id":863192,"accept_rate":41,"display_name":"Zack Newsham"},"score":2,"creation_date":1403581165,"post_id":24373964,"comment_id":37700882,"body_markdown":"Purely a direction change was not enough (due to noise on the signal) I ended up looking for a substantial direction change, and this turned out to be relatively accurate.","body":"Purely a direction change was not enough (due to noise on the signal) I ended up looking for a substantial direction change, and this turned out to be relatively accurate."}],"tags":[],"owner":{"account_id":2548335,"reputation":3616,"user_id":2212650,"display_name":"Adam Yost"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403552259,"creation_date":1403552259,"answer_id":24373964,"question_id":24373922,"body_markdown":"Find the point at which the direction of change changes. In calculus terms this is the second derivative.\r\n\r\nBasically you are looking for the point where `sign(f(x)-f(x-1))` is opposite `sign(f(x+1)-f(x))`\r\n\r\n\r\nDepending on your data acquisition there are a few ways to do this. If you add some more info about your specific problem I will edit the answer to help more.","title":"Signal processing (in Java)","body":"<p>Find the point at which the direction of change changes. In calculus terms this is the second derivative.</p>\n\n<p>Basically you are looking for the point where <code>sign(f(x)-f(x-1))</code> is opposite <code>sign(f(x+1)-f(x))</code></p>\n\n<p>Depending on your data acquisition there are a few ways to do this. If you add some more info about your specific problem I will edit the answer to help more.</p>\n"},{"comments":[{"owner":{"account_id":461480,"reputation":2840,"user_id":863192,"accept_rate":41,"display_name":"Zack Newsham"},"score":0,"creation_date":1403564524,"post_id":24374144,"comment_id":37697081,"body_markdown":"it appears I need to know the frequency of the wave to use this.","body":"it appears I need to know the frequency of the wave to use this."},{"owner":{"account_id":1556313,"reputation":13459,"user_id":1447296,"accept_rate":100,"display_name":"adjan"},"score":1,"creation_date":1403564749,"post_id":24374144,"comment_id":37697144,"body_markdown":"Yes, but you could start with a low cutoff frequency and increase it until only the very-high frequencies are being passed.","body":"Yes, but you could start with a low cutoff frequency and increase it until only the very-high frequencies are being passed."}],"tags":[],"owner":{"account_id":1556313,"reputation":13459,"user_id":1447296,"accept_rate":100,"display_name":"adjan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403552983,"creation_date":1403552983,"answer_id":24374144,"question_id":24373922,"body_markdown":"As it seems, you just need the high frequencies. Use a [high-pass filter][1] \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/High-pass_filter#Algorithmic_implementation","title":"Signal processing (in Java)","body":"<p>As it seems, you just need the high frequencies. Use a <a href=\"http://en.wikipedia.org/wiki/High-pass_filter#Algorithmic_implementation\" rel=\"nofollow\">high-pass filter</a> </p>\n"},{"comments":[{"owner":{"account_id":461480,"reputation":2840,"user_id":863192,"accept_rate":41,"display_name":"Zack Newsham"},"score":0,"creation_date":1403621666,"post_id":24389087,"comment_id":37723013,"body_markdown":"This is very interesting, I havent got time right now to go into any depth with my response, but something that I see which may cause a problem: What happens if the frequency of the wave is less than 1? Will it be possible to differentiate between the real result and the &quot;very low frequency result&quot;?","body":"This is very interesting, I havent got time right now to go into any depth with my response, but something that I see which may cause a problem: What happens if the frequency of the wave is less than 1? Will it be possible to differentiate between the real result and the &quot;very low frequency result&quot;?"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1403625857,"post_id":24389087,"comment_id":37726131,"body_markdown":"@ZackNewsham The nice thing about fourier is that its all naturally in arbitary units. What matters is that the sampling frequency is higher than frequencys you care about, that you have at least a few periods of the wave in the time your sampling and the linear portion doesn&#39;t wipe out the wave (e.g. the wave goes from 0 to 1 in 20 seconds but the linear movement has gone to 1000 in that time isn&#39;t going to work). So if it looks like my first graph, whatever the units; seconds, milliseconds, millenia you&#39;ll get a graph that looks like the the second; but its units will be in KHz, Hz or nHz","body":"@ZackNewsham The nice thing about fourier is that its all naturally in arbitary units. What matters is that the sampling frequency is higher than frequencys you care about, that you have at least a few periods of the wave in the time your sampling and the linear portion doesn&#39;t wipe out the wave (e.g. the wave goes from 0 to 1 in 20 seconds but the linear movement has gone to 1000 in that time isn&#39;t going to work). So if it looks like my first graph, whatever the units; seconds, milliseconds, millenia you&#39;ll get a graph that looks like the the second; but its units will be in KHz, Hz or nHz"}],"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1403625891,"creation_date":1403619668,"answer_id":24389087,"question_id":24373922,"body_markdown":"When you stated you wanted to extract the frequency of the wave the first thing I thought of was a fourier transform; this converts the signal from the time domain to the frequency domain. Given the following sample wave:\n\n![enter image description here][1]\n\nThis is a sine way to which I have added noise and a trend. The underlying sine wave has a frequency of 1.5Hz\n\nYou get this fourier transform\n\n![enter image description here][2]\n\nHere you can see a large response at 0hz, this is the linear trend and we can ignore it in this case. After that you can see one peak in the response at 1.5Hz, the frequency of our input signal. In other words; once you have the fourier transform your result is the data point with the largest value (after you remove the very low frequency results)\n\n# Java Code\nApachi commons has a fast fourier transform class which I used to create this transformation. It takes as an input the sampled data for your wave and outputs a complex number, the modulus of the complex number (the square root of the real part squared plus the imaginary part squared) is [equal to the energy at that frequency][3]. Each entry `i` in the outputted array referes to the frequency at `i*samplingFrequency/noOfSamples`.\n\n\nHowever the java code below largly deals with these issues for you. The only issue with the fast fourier transform is that the number of input entries must be a power of 2.\n\n    import org.apache.commons.math3.complex.Complex;\n    import org.apache.commons.math3.transform.DftNormalization;\n    import org.apache.commons.math3.transform.FastFourierTransformer;\n    import org.apache.commons.math3.transform.TransformType;\n    \n    public class FourierTest {\n    \n        public static void main(String[] args) {\n          \n            double samplingFrequency=10; //hz, You will know this from your data and need to set it here\n            \n            \n    \n            double[] frequencyDomain = new double[input.length];\n    \n            FastFourierTransformer transformer = new FastFourierTransformer(DftNormalization.STANDARD);\n            try {           \n                Complex[] complex = transformer.transform(input, TransformType.FORWARD);\n                \n                for (int i = 0; i &lt; complex.length; i++) {               \n                    double real = (complex[i].getReal());\n                    double imaginary = (complex[i].getImaginary());\n    \n                    frequencyDomain[i] = Math.sqrt((real * real) + (imaginary * imaginary));\n                }\n    \n            } catch (IllegalArgumentException e) {\n                System.out.println(e);\n            }\n    \n            //only to frequencyDomain.length/2 since second half is mirror image or first half\n            for(int i=0;i&lt;frequencyDomain.length/2;i++){\n                double frequency=samplingFrequency*i/frequencyDomain.length;\n                System.out.println(&quot;Frequency: &quot; + frequency + &quot;\\t\\tEnergyComponent: &quot; + frequencyDomain[i]);\n            }\n        }\n        \n        static double[]  input = new double[]{\n                0.017077407 , //sample at 0 seconds\n                1.611895528 , //sample at 0.1 seconds\n                2.063967663 , //sample at 0.2 seconds\n                1.598492541 , //etc\n                0.184678933 ,\n                0.02654732  ,\n                0.165869218 ,\n                1.026139745 ,\n                1.914179294 ,\n                2.523684208 ,\n                1.71795312  ,\n                0.932131202 ,\n                1.097366772 ,\n                1.107912105 ,\n                2.843777623 ,\n                2.503608192 ,\n                2.540595787 ,\n                2.048111122 ,\n                1.515498608 ,\n                1.828077941 ,\n                2.400006658 ,\n                3.562953532 ,\n                3.34333491  ,\n                2.620231348 ,\n                2.769874641 ,\n                2.423059324 ,\n                2.11147835  ,\n                3.473525478 ,\n                4.504105599 ,\n                4.325642774 ,\n                3.963498242 ,\n                2.842688545 ,\n                2.573038184 ,\n                3.434226007 ,\n                4.924115479 ,\n                4.876122332 ,\n                4.553580015 ,\n                3.92554604  ,\n                3.804585546 ,\n                3.476610932 ,\n                4.535171252 ,\n                5.398007229 ,\n                5.729933758 ,\n                5.573444511 ,\n                4.487695977 ,\n                4.133046459 ,\n                4.796637209 ,\n                5.091399617 ,\n                6.420441446 ,\n                6.473462022 ,\n                5.663322311 ,\n                4.866446009 ,\n                4.840966187 ,\n                5.329697081 ,\n                6.746910181 ,\n                6.580067494 ,\n                7.140083322 ,\n                6.243532245 ,\n                4.960520462 ,\n                5.100901901 ,\n                6.794495306 ,\n                6.959324497 ,\n                7.194674358 ,\n                7.035874424 \n    \n            };\n    }\n\n\n  [1]: http://i.stack.imgur.com/KM6HO.png\n  [2]: http://i.stack.imgur.com/Ey8WF.png\n  [3]: https://stackoverflow.com/a/12086626/2187042","title":"Signal processing (in Java)","body":"<p>When you stated you wanted to extract the frequency of the wave the first thing I thought of was a fourier transform; this converts the signal from the time domain to the frequency domain. Given the following sample wave:</p>\n<p><img src=\"https://i.stack.imgur.com/KM6HO.png\" alt=\"enter image description here\" /></p>\n<p>This is a sine way to which I have added noise and a trend. The underlying sine wave has a frequency of 1.5Hz</p>\n<p>You get this fourier transform</p>\n<p><img src=\"https://i.stack.imgur.com/Ey8WF.png\" alt=\"enter image description here\" /></p>\n<p>Here you can see a large response at 0hz, this is the linear trend and we can ignore it in this case. After that you can see one peak in the response at 1.5Hz, the frequency of our input signal. In other words; once you have the fourier transform your result is the data point with the largest value (after you remove the very low frequency results)</p>\n<h1>Java Code</h1>\n<p>Apachi commons has a fast fourier transform class which I used to create this transformation. It takes as an input the sampled data for your wave and outputs a complex number, the modulus of the complex number (the square root of the real part squared plus the imaginary part squared) is <a href=\"https://stackoverflow.com/a/12086626/2187042\">equal to the energy at that frequency</a>. Each entry <code>i</code> in the outputted array referes to the frequency at <code>i*samplingFrequency/noOfSamples</code>.</p>\n<p>However the java code below largly deals with these issues for you. The only issue with the fast fourier transform is that the number of input entries must be a power of 2.</p>\n<pre><code>import org.apache.commons.math3.complex.Complex;\nimport org.apache.commons.math3.transform.DftNormalization;\nimport org.apache.commons.math3.transform.FastFourierTransformer;\nimport org.apache.commons.math3.transform.TransformType;\n\npublic class FourierTest {\n\n    public static void main(String[] args) {\n      \n        double samplingFrequency=10; //hz, You will know this from your data and need to set it here\n        \n        \n\n        double[] frequencyDomain = new double[input.length];\n\n        FastFourierTransformer transformer = new FastFourierTransformer(DftNormalization.STANDARD);\n        try {           \n            Complex[] complex = transformer.transform(input, TransformType.FORWARD);\n            \n            for (int i = 0; i &lt; complex.length; i++) {               \n                double real = (complex[i].getReal());\n                double imaginary = (complex[i].getImaginary());\n\n                frequencyDomain[i] = Math.sqrt((real * real) + (imaginary * imaginary));\n            }\n\n        } catch (IllegalArgumentException e) {\n            System.out.println(e);\n        }\n\n        //only to frequencyDomain.length/2 since second half is mirror image or first half\n        for(int i=0;i&lt;frequencyDomain.length/2;i++){\n            double frequency=samplingFrequency*i/frequencyDomain.length;\n            System.out.println(&quot;Frequency: &quot; + frequency + &quot;\\t\\tEnergyComponent: &quot; + frequencyDomain[i]);\n        }\n    }\n    \n    static double[]  input = new double[]{\n            0.017077407 , //sample at 0 seconds\n            1.611895528 , //sample at 0.1 seconds\n            2.063967663 , //sample at 0.2 seconds\n            1.598492541 , //etc\n            0.184678933 ,\n            0.02654732  ,\n            0.165869218 ,\n            1.026139745 ,\n            1.914179294 ,\n            2.523684208 ,\n            1.71795312  ,\n            0.932131202 ,\n            1.097366772 ,\n            1.107912105 ,\n            2.843777623 ,\n            2.503608192 ,\n            2.540595787 ,\n            2.048111122 ,\n            1.515498608 ,\n            1.828077941 ,\n            2.400006658 ,\n            3.562953532 ,\n            3.34333491  ,\n            2.620231348 ,\n            2.769874641 ,\n            2.423059324 ,\n            2.11147835  ,\n            3.473525478 ,\n            4.504105599 ,\n            4.325642774 ,\n            3.963498242 ,\n            2.842688545 ,\n            2.573038184 ,\n            3.434226007 ,\n            4.924115479 ,\n            4.876122332 ,\n            4.553580015 ,\n            3.92554604  ,\n            3.804585546 ,\n            3.476610932 ,\n            4.535171252 ,\n            5.398007229 ,\n            5.729933758 ,\n            5.573444511 ,\n            4.487695977 ,\n            4.133046459 ,\n            4.796637209 ,\n            5.091399617 ,\n            6.420441446 ,\n            6.473462022 ,\n            5.663322311 ,\n            4.866446009 ,\n            4.840966187 ,\n            5.329697081 ,\n            6.746910181 ,\n            6.580067494 ,\n            7.140083322 ,\n            6.243532245 ,\n            4.960520462 ,\n            5.100901901 ,\n            6.794495306 ,\n            6.959324497 ,\n            7.194674358 ,\n            7.035874424 \n\n        };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9638217,"reputation":43,"user_id":7153489,"display_name":"Sambit Paul"},"score":0,"creation_date":1595506087,"post_id":62970304,"comment_id":111502010,"body_markdown":"Any reason behind the downvote would be appreciated.\nI understood the problem as being one of detecting local peaks which is solved with this specific library&#39;s utility.","body":"Any reason behind the downvote would be appreciated. I understood the problem as being one of detecting local peaks which is solved with this specific library&#39;s utility."}],"tags":[],"owner":{"account_id":9638217,"reputation":43,"user_id":7153489,"display_name":"Sambit Paul"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1668641458,"creation_date":1595085905,"answer_id":62970304,"question_id":24373922,"body_markdown":"As I understand the problem, what is needed here is the height of the peak relative to the neighbouring troughs. I have created a library which can deal with such scenarios using what I call spike detection. The library is called [jDSP](https://jdsp.dev) and provides an utility called Spike Detection.\r\n\r\nA demonstration of spike detection can be found [here](https://github.com/psambit9791/jdsp/wiki/Spike-Detection-and-Filtering) and what can be done is to identify peak heights relative to neighbouring troughs and then, filter using specific values.\r\n\r\n![Image](https://raw.githubusercontent.com/psambit9791/jDSP/master/res/wiki/peaks/filtered_spike_2.png)\r\n\r\nThe orange crosses represent the peaks detected.","title":"Signal processing (in Java)","body":"<p>As I understand the problem, what is needed here is the height of the peak relative to the neighbouring troughs. I have created a library which can deal with such scenarios using what I call spike detection. The library is called <a href=\"https://jdsp.dev\" rel=\"nofollow noreferrer\">jDSP</a> and provides an utility called Spike Detection.</p>\n<p>A demonstration of spike detection can be found <a href=\"https://github.com/psambit9791/jdsp/wiki/Spike-Detection-and-Filtering\" rel=\"nofollow noreferrer\">here</a> and what can be done is to identify peak heights relative to neighbouring troughs and then, filter using specific values.</p>\n<p><img src=\"https://raw.githubusercontent.com/psambit9791/jDSP/master/res/wiki/peaks/filtered_spike_2.png\" alt=\"Image\" /></p>\n<p>The orange crosses represent the peaks detected.</p>\n"}],"owner":{"account_id":461480,"reputation":2840,"user_id":863192,"accept_rate":41,"display_name":"Zack Newsham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2430,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24389087,"answer_count":4,"score":4,"last_activity_date":1668641458,"creation_date":1403552070,"question_id":24373922,"body_markdown":"I have a sensor that I am reading from, currently the code is in Java, but I dont think the issue is language specific, more approach related.\r\n\r\nThe sensor produces a signal with high and low pulses, roughly like a heartbeat. However, the &quot;high&quot; pulse is not always the same level, nor is the &quot;low&quot;. What I am interested in is the relative difference. However, this alone is not enough, as within a single &quot;session&quot; the high and low values may also change (think a curved mid point)\r\n\r\nIve included an image of the 4 &quot;types&quot; of signals I would like to be able to handle. Top left is the &quot;ideal&quot; I&#39;m fairly sure I can already handle that, the other three sadly are more common and less easy to handle.\r\n\r\nMy current approach has been to look for the average of the data, and see how many times that point is crossed, which will tell me how many high and low pulses there were. \r\n\r\nI&#39;d like to know if there is a simple way of detecting the high and low pulse, without using the averaging method.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SZku1.jpg","title":"Signal processing (in Java)","body":"<p>I have a sensor that I am reading from, currently the code is in Java, but I dont think the issue is language specific, more approach related.</p>\n\n<p>The sensor produces a signal with high and low pulses, roughly like a heartbeat. However, the \"high\" pulse is not always the same level, nor is the \"low\". What I am interested in is the relative difference. However, this alone is not enough, as within a single \"session\" the high and low values may also change (think a curved mid point)</p>\n\n<p>Ive included an image of the 4 \"types\" of signals I would like to be able to handle. Top left is the \"ideal\" I'm fairly sure I can already handle that, the other three sadly are more common and less easy to handle.</p>\n\n<p>My current approach has been to look for the average of the data, and see how many times that point is crossed, which will tell me how many high and low pulses there were. </p>\n\n<p>I'd like to know if there is a simple way of detecting the high and low pulse, without using the averaging method.</p>\n\n<p><img src=\"https://i.stack.imgur.com/SZku1.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1668624688,"post_id":74465701,"comment_id":131453318,"body_markdown":"This does not appear to be reading anything from a file.","body":"This does not appear to be reading anything from a file."},{"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"score":0,"creation_date":1668624789,"post_id":74465701,"comment_id":131453347,"body_markdown":"It reads a number of 64 bits, checked by debugging","body":"It reads a number of 64 bits, checked by debugging"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1668624832,"post_id":74465701,"comment_id":131453368,"body_markdown":"Read through all answers [here](https://stackoverflow.com/questions/3028380/how-to-convert-biginteger-to-string-in-java) and see if it gives you any ideas.","body":"Read through all answers <a href=\"https://stackoverflow.com/questions/3028380/how-to-convert-biginteger-to-string-in-java\">here</a> and see if it gives you any ideas."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1668624848,"post_id":74465701,"comment_id":131453375,"body_markdown":"You realize this is only going to fill in 1 out of every 8 bytes in your array? What&#39;s the point in that?","body":"You realize this is only going to fill in 1 out of every 8 bytes in your array? What&#39;s the point in that?"},{"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"score":0,"creation_date":1668625207,"post_id":74465701,"comment_id":131453506,"body_markdown":"Yes, I understand the error. But how can I make it fill the first 256 bytes of the file into the value variable?","body":"Yes, I understand the error. But how can I make it fill the first 256 bytes of the file into the value variable?"},{"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"score":0,"creation_date":1668625269,"post_id":74465701,"comment_id":131453525,"body_markdown":"I need it to make a BigInt decimal number from the first 256 bytes","body":"I need it to make a BigInt decimal number from the first 256 bytes"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1668626510,"post_id":74465701,"comment_id":131453924,"body_markdown":"When you write your BigDecimal, you calculate bytes and write 256 of them. When reading, you convert the byte[] into int[] and process that. Do you realize that an int is 16 bits and would thus consume 2 bytes? With that, your int[] should at most have 128 entries.","body":"When you write your BigDecimal, you calculate bytes and write 256 of them. When reading, you convert the byte[] into int[] and process that. Do you realize that an int is 16 bits and would thus consume 2 bytes? With that, your int[] should at most have 128 entries."}],"answers":[{"comments":[{"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"score":0,"creation_date":1668627641,"post_id":74466161,"comment_id":131454362,"body_markdown":"Thank you! But I didn’t really understand what Do sign extension means, what should I write there?","body":"Thank you! But I didn’t really understand what Do sign extension means, what should I write there?"},{"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"score":0,"creation_date":1668627739,"post_id":74466161,"comment_id":131454396,"body_markdown":"The essence of the task was that I got 64 numbers of 32 bytes each, I had to write them to a file, and then read the bytes of the file elsewhere and turn them into numbers that were originally","body":"The essence of the task was that I got 64 numbers of 32 bytes each, I had to write them to a file, and then read the bytes of the file elsewhere and turn them into numbers that were originally"},{"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"score":0,"creation_date":1668628064,"post_id":74466161,"comment_id":131454522,"body_markdown":"The problem was that there could be numbers both 247 bits long and exactly 255, that is, I have to make the minimum size 32 bytes so that all numbers fit","body":"The problem was that there could be numbers both 247 bits long and exactly 255, that is, I have to make the minimum size 32 bytes so that all numbers fit"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668628201,"post_id":74466161,"comment_id":131454566,"body_markdown":"Okay I&#39;ll complete the code.","body":"Okay I&#39;ll complete the code."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668628837,"post_id":74466161,"comment_id":131454781,"body_markdown":"Probably all positive numbers then, so sign extension is not needed. (Negative numbers are padded to the left with 1 bits.)","body":"Probably all positive numbers then, so sign extension is not needed. (Negative numbers are padded to the left with 1 bits.)"},{"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"score":0,"creation_date":1668629578,"post_id":74466161,"comment_id":131455060,"body_markdown":"Thank you again! But a small error: &#39;arraycopy(java.lang.Object, int, java.lang.Object, int, int)&#39; in &#39;java.lang.System&#39; cannot be applied to &#39;(byte[], int, byte[], int)&#39; and Expected 5 arguments but found 4","body":"Thank you again! But a small error: &#39;arraycopy(java.lang.Object, int, java.lang.Object, int, int)&#39; in &#39;java.lang.System&#39; cannot be applied to &#39;(byte[], int, byte[], int)&#39; and Expected 5 arguments but found 4"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668640766,"post_id":74466161,"comment_id":131458123,"body_markdown":"Corrected: source+index, destination+index, length","body":"Corrected: source+index, destination+index, length"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668640627,"creation_date":1668627068,"answer_id":74466161,"question_id":74465701,"body_markdown":"256 bits are 32 bytes, but somehow you do a bit per byte or such.\r\n\r\n    public static byte[] toHH2(BigInteger n) {\r\n        byte[] b = n.toByteArray(); /// &lt;= 32 bytes in big endian order!\r\n        return Arrays.copyOf(b, 32 - b.length);\r\n        if (b.length &lt; 32) {\r\n            byte[] b2 = new byte[256];\r\n            System.arraycopy(b, 0, b2, 32 - b.length, b.length);\r\n            if (b[0] &lt; 0) { // Do sign extension, if most significant byte negative.\r\n                for (int j = 0; j &lt; 32 - b.length; ++j) {\r\n                    b2[j] = -1;\r\n                }\r\n            }\r\n            b = b2;\r\n        }\r\n        return b;\r\n    }\r\n\r\nFor ease I have padded it. Not needed, but it shows that the most significant byte is at index 0 of the bytes.\r\n\r\n    // Now several such 32 byte arrays are stored in the file.\r\n    var dataSignatureInt = Files.readAllBytes(Path.of(\r\n        &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\DigitalSignatureGOST.png&quot;));\r\n    int numberCount = dataSignatureInt.length / 32;\r\n    BigInteger[] numbers = new BigInteger[numberCount];\r\n\r\nTo split a large byte array into 32 byte subarrays, the class `ByteBuffer` is ideal.\r\n\r\n    ByteBuffer buf = ByteBuffer.wrap(dataSignatureInt);\r\n    byte[] bytes = new byte[32];\r\n    for (int i = 0; i &lt; numberCount; ++i) {\r\n        buf.get(bytes);\r\n        numbers[i] = new BigInteger(bytes);        \r\n    }\r\n\r\nLast but not least, you could consider using [**`BitSet`**][1] instead of `BigInteger` if you are interested in single bits.\r\n\r\n    BitSet bitSet = new BitSet(256);\r\n    byte[] shortenedBytes = bitSet.toByteArray();\r\n    bitSet = BitSet.valueOf(shortenedBytes);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/BitSet.html","title":"How to read a 32 byte number from a file into a variable?","body":"<p>256 bits are 32 bytes, but somehow you do a bit per byte or such.</p>\n<pre><code>public static byte[] toHH2(BigInteger n) {\n    byte[] b = n.toByteArray(); /// &lt;= 32 bytes in big endian order!\n    return Arrays.copyOf(b, 32 - b.length);\n    if (b.length &lt; 32) {\n        byte[] b2 = new byte[256];\n        System.arraycopy(b, 0, b2, 32 - b.length, b.length);\n        if (b[0] &lt; 0) { // Do sign extension, if most significant byte negative.\n            for (int j = 0; j &lt; 32 - b.length; ++j) {\n                b2[j] = -1;\n            }\n        }\n        b = b2;\n    }\n    return b;\n}\n</code></pre>\n<p>For ease I have padded it. Not needed, but it shows that the most significant byte is at index 0 of the bytes.</p>\n<pre><code>// Now several such 32 byte arrays are stored in the file.\nvar dataSignatureInt = Files.readAllBytes(Path.of(\n    &quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\DigitalSignatureGOST.png&quot;));\nint numberCount = dataSignatureInt.length / 32;\nBigInteger[] numbers = new BigInteger[numberCount];\n</code></pre>\n<p>To split a large byte array into 32 byte subarrays, the class <code>ByteBuffer</code> is ideal.</p>\n<pre><code>ByteBuffer buf = ByteBuffer.wrap(dataSignatureInt);\nbyte[] bytes = new byte[32];\nfor (int i = 0; i &lt; numberCount; ++i) {\n    buf.get(bytes);\n    numbers[i] = new BigInteger(bytes);        \n}\n</code></pre>\n<p>Last but not least, you could consider using <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><strong><code>BitSet</code></strong></a> instead of <code>BigInteger</code> if you are interested in single bits.</p>\n<pre><code>BitSet bitSet = new BitSet(256);\nbyte[] shortenedBytes = bitSet.toByteArray();\nbitSet = BitSet.valueOf(shortenedBytes);\n</code></pre>\n"}],"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74466161,"answer_count":1,"score":-1,"last_activity_date":1668640627,"creation_date":1668624557,"question_id":74465701,"body_markdown":"I am working with BigInteger, and using my function I write a BigInteger of 256 bits to a file (there are 64 such numbers)\r\n\r\n    public static byte[] toHH2(BigInteger n) {\r\n        byte[] b = new byte[256];\r\n    \r\n        for(int i = 0; i &lt; 256; i+=8) {\r\n            b[i] = (byte) (n.longValue() &gt;&gt; (248 - i) &amp; 0xff);\r\n        }\r\n        return b;\r\n    }\r\n\r\nThen I need to read this 256 bit number and write it to a variable. But for some reason, I end up with a maximum of 64 bit numbers, and I need 256, how to fix the error?\r\n\r\n    var dataSignatureInt = bytesToIntArray(Files.readAllBytes(Path.of(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\DigitalSignatureGOST.png&quot;)));\r\n    for(int i = 0; i &lt; file.length; i+=256) { //file lenght = 16384 \r\n        BigInteger value = BigInteger.valueOf(dataSignatureInt[i]);\r\n\r\n        for(int j = 0; j &lt; 256; j++) {\r\n            System.out.println(&quot;i = &quot; + i + &quot; j = &quot; + j);\r\n            value = BigInteger.valueOf((value.longValue() &lt;&lt; 8) | dataSignatureInt[i + j]);\r\n        }","title":"How to read a 32 byte number from a file into a variable?","body":"<p>I am working with BigInteger, and using my function I write a BigInteger of 256 bits to a file (there are 64 such numbers)</p>\n<pre><code>public static byte[] toHH2(BigInteger n) {\n    byte[] b = new byte[256];\n\n    for(int i = 0; i &lt; 256; i+=8) {\n        b[i] = (byte) (n.longValue() &gt;&gt; (248 - i) &amp; 0xff);\n    }\n    return b;\n}\n</code></pre>\n<p>Then I need to read this 256 bit number and write it to a variable. But for some reason, I end up with a maximum of 64 bit numbers, and I need 256, how to fix the error?</p>\n<pre><code>var dataSignatureInt = bytesToIntArray(Files.readAllBytes(Path.of(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\DigitalSignatureGOST.png&quot;)));\nfor(int i = 0; i &lt; file.length; i+=256) { //file lenght = 16384 \n    BigInteger value = BigInteger.valueOf(dataSignatureInt[i]);\n\n    for(int j = 0; j &lt; 256; j++) {\n        System.out.println(&quot;i = &quot; + i + &quot; j = &quot; + j);\n        value = BigInteger.valueOf((value.longValue() &lt;&lt; 8) | dataSignatureInt[i + j]);\n    }\n</code></pre>\n"},{"tags":["java","rss","rss-reader","rome"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1600600169,"post_id":63862976,"comment_id":113133172,"body_markdown":"Does this answer your question? [Using the Rome Java API to access metadata fields](https://stackoverflow.com/questions/342619/using-the-rome-java-api-to-access-metadata-fields)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/342619/using-the-rome-java-api-to-access-metadata-fields\">Using the Rome Java API to access metadata fields</a>"},{"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"score":1,"creation_date":1600809728,"post_id":63862976,"comment_id":113204488,"body_markdown":"No It doesn&#39;t. I cannot find a proper way to get images ! Several examples are posted on SO but none of them work!","body":"No It doesn&#39;t. I cannot find a proper way to get images ! Several examples are posted on SO but none of them work!"}],"answers":[{"tags":[],"owner":{"account_id":26956391,"reputation":1,"user_id":20524678,"display_name":"AnonimusFriend"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668639769,"creation_date":1668639667,"answer_id":74468297,"question_id":63862976,"body_markdown":"You should only read it as content since the parser ignores media: and reads the tag only as &lt; content &gt;  but without the spaces, it works for all tags that have tag that has semicolon in it, it only reads the part of the tag after the semicolon\r\n","title":"Get media content tags from RSS feeds","body":"<p>You should only read it as content since the parser ignores media: and reads the tag only as &lt; content &gt;  but without the spaces, it works for all tags that have tag that has semicolon in it, it only reads the part of the tag after the semicolon</p>\n"}],"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668639769,"creation_date":1599931266,"question_id":63862976,"body_markdown":"As weird as it seems when parsing entries from I cannot find an easy when to get `&lt;media:content&gt;` from RSS feed without parsing XML document with a library.\r\n\r\nI cannot find media content either in enclosures or markups.\r\n\r\nFor example for feed https://www.forbes.com/energy/feed/. I have no enclosures or markups in `FeedEntryImpl`\r\n\r\nWhy that ?","title":"Get media content tags from RSS feeds","body":"<p>As weird as it seems when parsing entries from I cannot find an easy when to get <code>&lt;media:content&gt;</code> from RSS feed without parsing XML document with a library.</p>\n<p>I cannot find media content either in enclosures or markups.</p>\n<p>For example for feed <a href=\"https://www.forbes.com/energy/feed/\" rel=\"nofollow noreferrer\">https://www.forbes.com/energy/feed/</a>. I have no enclosures or markups in <code>FeedEntryImpl</code></p>\n<p>Why that ?</p>\n"},{"tags":["java","serialization","interface","annotations"],"comments":[{"owner":{"account_id":25890066,"reputation":45,"user_id":19617620,"display_name":"ladybug"},"score":0,"creation_date":1668637162,"post_id":74467854,"comment_id":131457326,"body_markdown":"@zapl So if I receive a NotSerializableException, I can 100% be sure it&#39;s not caused by files like above? Since they are never included in the Serialization in the first place?","body":"@zapl So if I receive a NotSerializableException, I can 100% be sure it&#39;s not caused by files like above? Since they are never included in the Serialization in the first place?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668637227,"post_id":74467854,"comment_id":131457345,"body_markdown":"Hard to say without a stack trace and the code that produces the exception.","body":"Hard to say without a stack trace and the code that produces the exception."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668637384,"post_id":74467854,"comment_id":131457386,"body_markdown":"[This answer](https://stackoverflow.com/a/15904913/4216641) by [jtahlborn](https://stackoverflow.com/users/552759/jtahlborn) suggests that - when using standard serialization methods - annotations are not serialized.","body":"<a href=\"https://stackoverflow.com/a/15904913/4216641\">This answer</a> by <a href=\"https://stackoverflow.com/users/552759/jtahlborn\">jtahlborn</a> suggests that - when using standard serialization methods - annotations are not serialized."},{"owner":{"account_id":25890066,"reputation":45,"user_id":19617620,"display_name":"ladybug"},"score":0,"creation_date":1668637691,"post_id":74467854,"comment_id":131457463,"body_markdown":"Thank you @Turing85, I also came across this post before. But I didn&#39;t quite understand if this applies to manually coded Annotations as well. Somewhere else, I also read that Annotations with `Retention(RetentionPolicy.RUNTIME)` can cause problems, so I&#39;m totally lost right now haha","body":"Thank you @Turing85, I also came across this post before. But I didn&#39;t quite understand if this applies to manually coded Annotations as well. Somewhere else, I also read that Annotations with <code>Retention(RetentionPolicy.RUNTIME)</code> can cause problems, so I&#39;m totally lost right now haha"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668637761,"post_id":74467854,"comment_id":131457485,"body_markdown":"To give a more definitive answer, we need a [MRE].","body":"To give a more definitive answer, we need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1668638062,"post_id":74467854,"comment_id":131457568,"body_markdown":"The question doesn&#39;t make sense. When you serialize a class, you serialize data about the *instance* of that class. Both the sender and reciever must still have a copy of the actual class definition, and usually it must be identical in order to work (though different-but-still-compatible class versions is the problem serialversionuid is designed to solve). There is some necessary minimal class-level data when you serialize (like the full class name), but retransmitting annotations every time would be incredibly wasteful.","body":"The question doesn&#39;t make sense. When you serialize a class, you serialize data about the <i>instance</i> of that class. Both the sender and reciever must still have a copy of the actual class definition, and usually it must be identical in order to work (though different-but-still-compatible class versions is the problem serialversionuid is designed to solve). There is some necessary minimal class-level data when you serialize (like the full class name), but retransmitting annotations every time would be incredibly wasteful."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1668638175,"post_id":74467854,"comment_id":131457597,"body_markdown":"serialized objects / instances requires that the deserializing java runtime knows what the class of that object looks like, that&#39;s why you have a serialVersionUid that you&#39;re supposed to change for breaking changes (https://stackoverflow.com/a/3285023/995891) - A serialized object only contains it&#39;s class name and version and the field names and their values. Deserialization then basically creates an instance by name via reflection and sets the fields. That&#39;s why there&#39;s no need to include class meta data like annotations on fields since they don&#39;t do anything to the state of the instance","body":"serialized objects / instances requires that the deserializing java runtime knows what the class of that object looks like, that&#39;s why you have a serialVersionUid that you&#39;re supposed to change for breaking changes (<a href=\"https://stackoverflow.com/a/3285023/995891\">stackoverflow.com/a/3285023/995891</a>) - A serialized object only contains it&#39;s class name and version and the field names and their values. Deserialization then basically creates an instance by name via reflection and sets the fields. That&#39;s why there&#39;s no need to include class meta data like annotations on fields since they don&#39;t do anything to the state of the instance"}],"owner":{"account_id":25890066,"reputation":45,"user_id":19617620,"display_name":"ladybug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668638258,"creation_date":1668636583,"question_id":74467854,"body_markdown":"Since I&#39;m working with a framework that uses the Serializable interface in like every class, I want to make sure that the annotation interfaces in the project I&#39;m working for are serializable as well. However, I can&#39;t neither implement nor extend Serializable in any @interface java file. This is why I&#39;m wondering if these files are serializable by default (like enums for example) and if not, if there is a way to implement it in these files. (Even if it isn&#39;t an elegant way to code. Just want to know if it&#39;s possible in the first place). It&#39;s hard to find out where the NotSerializableExceptions come from, since the project has many fields that are not serializable (Lamdas etc.) \r\n\r\n\r\nThe Annotations are mostly structured like this in my case:\r\n\r\n\r\n```\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.ANNOTATION_TYPE)\r\npublic @interface RandomAnnotation {\r\n\r\n    //random code \r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    @interface RandomA {\r\n        // no value\r\n    }\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    @interface RandomB {\r\n        // no value\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Are annotations serializable by default?","body":"<p>Since I'm working with a framework that uses the Serializable interface in like every class, I want to make sure that the annotation interfaces in the project I'm working for are serializable as well. However, I can't neither implement nor extend Serializable in any @interface java file. This is why I'm wondering if these files are serializable by default (like enums for example) and if not, if there is a way to implement it in these files. (Even if it isn't an elegant way to code. Just want to know if it's possible in the first place). It's hard to find out where the NotSerializableExceptions come from, since the project has many fields that are not serializable (Lamdas etc.)</p>\n<p>The Annotations are mostly structured like this in my case:</p>\n<pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.ANNOTATION_TYPE)\npublic @interface RandomAnnotation {\n\n    //random code \n\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    @interface RandomA {\n        // no value\n    }\n\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    @interface RandomB {\n        // no value\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","exception","try-catch","nested-exceptions"],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275460403,"creation_date":1275460403,"answer_id":2955487,"question_id":2955458,"body_markdown":"I doubt, but you can check with `instanceof` if the exception is of the correct type. \r\n\r\nEdit: There should be a reason that the nested exception is wrapped, so you have to ask yourself what is the purpose of catching the nested one.","title":"Catching an exception that is nested into another exception","body":"<p>I doubt, but you can check with <code>instanceof</code> if the exception is of the correct type. </p>\n\n<p>Edit: There should be a reason that the nested exception is wrapped, so you have to ask yourself what is the purpose of catching the nested one.</p>\n"},{"comments":[{"owner":{"account_id":742,"reputation":3775,"user_id":969,"accept_rate":79,"display_name":"Tobias Schulte"},"score":10,"creation_date":1275464111,"post_id":2955504,"comment_id":3013292,"body_markdown":"The check for e.getCause().getCause() != null is not needed n this case since instanceof will return false if it is null.","body":"The check for e.getCause().getCause() != null is not needed n this case since instanceof will return false if it is null."}],"tags":[],"owner":{"account_id":145570,"reputation":3550,"user_id":355461,"display_name":"Marc"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1275465235,"creation_date":1275460567,"answer_id":2955504,"question_id":2955458,"body_markdown":"You should add some checks to see if `e.getCause().getCause()` is really a `MyException`. Otherwise this code will throw a `ClassCastException`. I would probably write this like:\r\n\r\n    } catch(RemoteAccessException e) {\r\n        if(e.getCause() != null &amp;&amp; e.getCause().getCause() instanceof MyException) {\r\n            MyException ex = (MyException)e.getCause().getCause();\r\n            // Do further useful stuff\r\n        } else {\r\n            throw new IllegalStateException(&quot;...&quot;);\r\n        }\r\n    }","title":"Catching an exception that is nested into another exception","body":"<p>You should add some checks to see if <code>e.getCause().getCause()</code> is really a <code>MyException</code>. Otherwise this code will throw a <code>ClassCastException</code>. I would probably write this like:</p>\n\n<pre><code>} catch(RemoteAccessException e) {\n    if(e.getCause() != null &amp;&amp; e.getCause().getCause() instanceof MyException) {\n        MyException ex = (MyException)e.getCause().getCause();\n        // Do further useful stuff\n    } else {\n        throw new IllegalStateException(\"...\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1275462266,"post_id":2955525,"comment_id":3013124,"body_markdown":"*&quot;I see no reason why you want exception handling to be efficient and elegant ...&quot;* - really? REALLY?  (Sure, it isn&#39;t going to happen, but that is no reason not to *want* it to happen.)","body":"<i>&quot;I see no reason why you want exception handling to be efficient and elegant ...&quot;</i> - really? REALLY?  (Sure, it isn&#39;t going to happen, but that is no reason not to <i>want</i> it to happen.)"},{"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"score":0,"creation_date":1275463349,"post_id":2955525,"comment_id":3013210,"body_markdown":":-) I know, but I only have a limited number of hours in a day and I rather have the rest efficient and elegant. I mean trying to get Java Exception handling elegant is like trying to teach ballet to a rhinoceros : it&#39;ll never be pretty. And throwing exception is slow, so it will never be efficient. So I settle for effective.","body":":-) I know, but I only have a limited number of hours in a day and I rather have the rest efficient and elegant. I mean trying to get Java Exception handling elegant is like trying to teach ballet to a rhinoceros : it&#39;ll never be pretty. And throwing exception is slow, so it will never be efficient. So I settle for effective."},{"owner":{"account_id":158776,"reputation":6092,"user_id":377657,"accept_rate":86,"display_name":"rwong"},"score":0,"creation_date":1373260015,"post_id":2955525,"comment_id":25474074,"body_markdown":"It would be a maintenance nightmare if it contained bugs (and in this code sample, it does.) The biggest frustration for a support engineer is a bug in exception-handling code - it ought to have captured relevant information about a situation, yet it doesn&#39;t (and then died without a trace).","body":"It would be a maintenance nightmare if it contained bugs (and in this code sample, it does.) The biggest frustration for a support engineer is a bug in exception-handling code - it ought to have captured relevant information about a situation, yet it doesn&#39;t (and then died without a trace)."},{"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"score":0,"creation_date":1373970831,"post_id":2955525,"comment_id":25745764,"body_markdown":"I ogree wholeheartedly. The less Exception handling the better. It is a 1000x easier to do it wrong than to do it right. Life would be better if there are less places where exceptions are caught and more exceptions are allowed to fly. And yes, that sometimes you cannot effectively &#39;hide implementation&#39; etc, but it is a lot better than hiding faults triggered by defects.","body":"I ogree wholeheartedly. The less Exception handling the better. It is a 1000x easier to do it wrong than to do it right. Life would be better if there are less places where exceptions are caught and more exceptions are allowed to fly. And yes, that sometimes you cannot effectively &#39;hide implementation&#39; etc, but it is a lot better than hiding faults triggered by defects."}],"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275460899,"creation_date":1275460899,"answer_id":2955525,"question_id":2955458,"body_markdown":"I see no reason why you want exception handling to be efficient and elegant, I settle for effective. They&#39;re called Exceptions for a reason.\r\n\r\nThis code will be a maintenance nightmare. Can&#39;t you redesign the call stack to throw the Exception you are interested in? If it is important the method signatures should show it and not hide it wrapped in 2 other exceptions.\r\n\r\nThe first (e != null) is unnecessary. \r\n\r\nAnd you can change the 3rd better to e.getCause().getCause() instanceof MyException)\r\n\r\n","title":"Catching an exception that is nested into another exception","body":"<p>I see no reason why you want exception handling to be efficient and elegant, I settle for effective. They're called Exceptions for a reason.</p>\n\n<p>This code will be a maintenance nightmare. Can't you redesign the call stack to throw the Exception you are interested in? If it is important the method signatures should show it and not hide it wrapped in 2 other exceptions.</p>\n\n<p>The first (e != null) is unnecessary. </p>\n\n<p>And you can change the 3rd better to e.getCause().getCause() instanceof MyException)</p>\n"},{"comments":[{"owner":{"account_id":145570,"reputation":3550,"user_id":355461,"display_name":"Marc"},"score":0,"creation_date":1275464263,"post_id":2955693,"comment_id":3013304,"body_markdown":"The third reason for this can also be solved by throwing a more generic superclass of the types of exceptions that can be thrown (like `IOException`). This is only the case if the are a lot of exception types that are similar and thus can be grouped.","body":"The third reason for this can also be solved by throwing a more generic superclass of the types of exceptions that can be thrown (like <code>IOException</code>). This is only the case if the are a lot of exception types that are similar and thus can be grouped."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1369105584,"post_id":2955693,"comment_id":23969993,"body_markdown":"@Marc - that only &quot;works&quot; in some circumstances.  If the common supertype of the exceptions is `Exception`, then declaring *that* is a really bad idea.  Besides, it is *often* better from the point of view of code readability and maintainability to declare the individual exceptions.  Or at least, up to a point.  Either way wrapping is a lazy solution for the case #3 &quot;problem&quot;.","body":"@Marc - that only &quot;works&quot; in some circumstances.  If the common supertype of the exceptions is <code>Exception</code>, then declaring <i>that</i> is a really bad idea.  Besides, it is <i>often</i> better from the point of view of code readability and maintainability to declare the individual exceptions.  Or at least, up to a point.  Either way wrapping is a lazy solution for the case #3 &quot;problem&quot;."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1548806573,"creation_date":1275463156,"answer_id":2955693,"question_id":2955458,"body_markdown":"There is no more elegant way of selectively &quot;catching&quot; nested exceptions.  I suppose if you did this kind of nested exception catching a lot, you could possibly refactor the code into a common utility method.  But it still won&#39;t be either elegant or efficient.\r\n\r\nThe elegant solution is to do away with the exception nesting.  Either don&#39;t chain the exceptions in the first place, or (selectively) unwrap and rethrow the nested exceptions further up the stack.\r\n\r\nExceptions tend to be nested for 3 reasons:\r\n\r\n  1. You have decided that the details of the original exception are unlikely to be useful for the application&#39;s error recovery ... but you want to preserve them for diagnostic purposes.\r\n\r\n  2. You are implementing API methods that don&#39;t allow a specific checked exception but your code *unavoidably* throws that exception.  A common workaround is to &quot;smuggle&quot; the checked exception inside an unchecked exception.\r\n\r\n  3. You are being lazy and turning a *diverse* set of unrelated exceptions into a single exception to avoid having lots of checked exceptions in your method signature&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nIn the first case, if you now need to discriminate on the wrapped exceptions, then your initial assumptions were incorrect.  The best solution is change method signatures so that you can get rid of the nesting.\r\n\r\nIn the second case, you probably should unwrap the exceptions as soon as control has passed the problematic API method.\r\n\r\nIn the third case, you should rethink your exception handling strategy; i.e. do it properly&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - Indeed, one of the semi-legitimate reasons for doing this has gone away due to the introduction of the multi-exception catch syntax in Java 7.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - Don&#39;t change your API methods to `throws Exception`.  That only makes things worse.  You now have to either &quot;handle&quot; or propagate `Exception` each time you call the methods.  It is a cancer ...&lt;/sup&gt;","title":"Catching an exception that is nested into another exception","body":"<p>There is no more elegant way of selectively \"catching\" nested exceptions.  I suppose if you did this kind of nested exception catching a lot, you could possibly refactor the code into a common utility method.  But it still won't be either elegant or efficient.</p>\n\n<p>The elegant solution is to do away with the exception nesting.  Either don't chain the exceptions in the first place, or (selectively) unwrap and rethrow the nested exceptions further up the stack.</p>\n\n<p>Exceptions tend to be nested for 3 reasons:</p>\n\n<ol>\n<li><p>You have decided that the details of the original exception are unlikely to be useful for the application's error recovery ... but you want to preserve them for diagnostic purposes.</p></li>\n<li><p>You are implementing API methods that don't allow a specific checked exception but your code <em>unavoidably</em> throws that exception.  A common workaround is to \"smuggle\" the checked exception inside an unchecked exception.</p></li>\n<li><p>You are being lazy and turning a <em>diverse</em> set of unrelated exceptions into a single exception to avoid having lots of checked exceptions in your method signature<sup>1</sup>.</p></li>\n</ol>\n\n<p>In the first case, if you now need to discriminate on the wrapped exceptions, then your initial assumptions were incorrect.  The best solution is change method signatures so that you can get rid of the nesting.</p>\n\n<p>In the second case, you probably should unwrap the exceptions as soon as control has passed the problematic API method.</p>\n\n<p>In the third case, you should rethink your exception handling strategy; i.e. do it properly<sup>2</sup>.</p>\n\n<hr>\n\n<p><sup>1 - Indeed, one of the semi-legitimate reasons for doing this has gone away due to the introduction of the multi-exception catch syntax in Java 7.</sup></p>\n\n<p><sup>2 - Don't change your API methods to <code>throws Exception</code>.  That only makes things worse.  You now have to either \"handle\" or propagate <code>Exception</code> each time you call the methods.  It is a cancer ...</sup></p>\n"},{"comments":[{"owner":{"account_id":2722359,"reputation":662,"user_id":2348375,"accept_rate":80,"display_name":"Ricardo van den Broek"},"score":0,"creation_date":1578867798,"post_id":7440657,"comment_id":105569318,"body_markdown":"If you just need the root cause then this is it. But if you are looking for a specific Exception implementation in the causedBy chain, check out my answer below.","body":"If you just need the root cause then this is it. But if you are looking for a specific Exception implementation in the causedBy chain, check out my answer below."}],"tags":[],"owner":{"display_name":"user321068"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1439897788,"creation_date":1316152151,"answer_id":7440657,"question_id":2955458,"body_markdown":"The [ExceptionUtils#getRootCause()][1] method can come in very handy in such situations.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause%28java.lang.Throwable%29","title":"Catching an exception that is nested into another exception","body":"<p>The <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause%28java.lang.Throwable%29\" rel=\"noreferrer\">ExceptionUtils#getRootCause()</a> method can come in very handy in such situations.</p>\n"},{"tags":[],"owner":{"account_id":7484894,"reputation":31,"user_id":5688487,"display_name":"Shrikant Lohiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462553789,"creation_date":1462552331,"answer_id":37077315,"question_id":2955458,"body_markdown":"You can do as below:\r\n\r\n\r\n    catch (RemoteAccessException e) {\r\n        int index = ExceptionUtils.indexOfThrowable(e, MyExcetption.class)\r\n        if (index != -1) {\r\n             //handleMyException\r\n        } else {\r\n        }\r\n    }\r\n","title":"Catching an exception that is nested into another exception","body":"<p>You can do as below:</p>\n\n<pre><code>catch (RemoteAccessException e) {\n    int index = ExceptionUtils.indexOfThrowable(e, MyExcetption.class)\n    if (index != -1) {\n         //handleMyException\n    } else {\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5389292,"reputation":115,"user_id":4292310,"display_name":"Maksim Maksimov"},"score":0,"creation_date":1568374888,"post_id":51430660,"comment_id":102263603,"body_markdown":"Great solution, but I guess isCausedBy should be getCausedBy and return searched class not just boolean. Otherwise to handle exception you&#39;ll have to search for it again if isCausedBy returns true.","body":"Great solution, but I guess isCausedBy should be getCausedBy and return searched class not just boolean. Otherwise to handle exception you&#39;ll have to search for it again if isCausedBy returns true."},{"owner":{"account_id":2722359,"reputation":662,"user_id":2348375,"accept_rate":80,"display_name":"Ricardo van den Broek"},"score":0,"creation_date":1578868063,"post_id":51430660,"comment_id":105569373,"body_markdown":"@MaksimMaksimov not a bad point. It would make the handling code a little more cumbersome if you&#39;re trying to handle more than one specific implementation. But if you&#39;re only looking for one specific one and/or you need the `causedBy.getMessage()` without the stack trace then your suggested adjustment is needed.","body":"@MaksimMaksimov not a bad point. It would make the handling code a little more cumbersome if you&#39;re trying to handle more than one specific implementation. But if you&#39;re only looking for one specific one and/or you need the <code>causedBy.getMessage()</code> without the stack trace then your suggested adjustment is needed."},{"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"score":0,"creation_date":1602134757,"post_id":51430660,"comment_id":113625330,"body_markdown":"Hey.. can you guys please put an example of the suggestion given by @MaksimMaksimov   Would be a great help..","body":"Hey.. can you guys please put an example of the suggestion given by @MaksimMaksimov   Would be a great help.."},{"owner":{"account_id":2722359,"reputation":662,"user_id":2348375,"accept_rate":80,"display_name":"Ricardo van den Broek"},"score":0,"creation_date":1602775749,"post_id":51430660,"comment_id":113833143,"body_markdown":"@Vicky I added an example. Don&#39;t forget to upvote if this answer is useful! :)","body":"@Vicky I added an example. Don&#39;t forget to upvote if this answer is useful! :)"},{"owner":{"account_id":55283,"reputation":2190,"user_id":165494,"accept_rate":97,"display_name":"Mass Dot Net"},"score":0,"creation_date":1668611045,"post_id":51430660,"comment_id":131448090,"body_markdown":"@RicardovandenBroek I don&#39;t see the `getCausedByType` method referenced in your example of how to use it with `isCausedBy()`.  Should `getCausedBy(e, MyException.class)` be `getCausedByOfType(e, MyException.class)`?","body":"@RicardovandenBroek I don&#39;t see the <code>getCausedByType</code> method referenced in your example of how to use it with <code>isCausedBy()</code>.  Should <code>getCausedBy(e, MyException.class)</code> be <code>getCausedByOfType(e, MyException.class)</code>?"},{"owner":{"account_id":2722359,"reputation":662,"user_id":2348375,"accept_rate":80,"display_name":"Ricardo van den Broek"},"score":1,"creation_date":1668638132,"post_id":51430660,"comment_id":131457585,"body_markdown":"@MassDotNet Good eye! I&#39;ve update that code block to correctly reference `getCausedByOfType()`. The return type on that method was actually also wrong, so I corrected it. Hope this helps!","body":"@MassDotNet Good eye! I&#39;ve update that code block to correctly reference <code>getCausedByOfType()</code>. The return type on that method was actually also wrong, so I corrected it. Hope this helps!"}],"tags":[],"owner":{"account_id":2722359,"reputation":662,"user_id":2348375,"accept_rate":80,"display_name":"Ricardo van den Broek"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1668638034,"creation_date":1532029502,"answer_id":51430660,"question_id":2955458,"body_markdown":"I just solved a problem like this by writing a simple utility method, which will check the entire caused-by chain.\r\n\r\n      /**\r\n       * Recursive method to determine whether an Exception passed is, or has a cause, that is a\r\n       * subclass or implementation of the Throwable provided.\r\n       *\r\n       * @param caught          The Throwable to check\r\n       * @param isOfOrCausedBy  The Throwable Class to look for\r\n       * @return  true if &#39;caught&#39; is of type &#39;isOfOrCausedBy&#39; or has a cause that this applies to.\r\n       */\r\n      private boolean isCausedBy(Throwable caught, Class&lt;? extends Throwable&gt; isOfOrCausedBy) {\r\n        if (caught == null) return false;\r\n        else if (isOfOrCausedBy.isAssignableFrom(caught.getClass())) return true;\r\n        else return isCausedBy(caught.getCause(), isOfOrCausedBy);\r\n      }\r\n\r\nWhen you use it, you would just create a list of if&#39;s from most specific Exception to least specific, with a fallback else-clause:\r\n\r\n    try {\r\n      // Code to be executed\r\n    } catch (Exception e) {\r\n      if (isCausedBy(e, MyException.class)) {\r\n        // Handle MyException.class\r\n      } else if (isCausedBy(e, AnotherException.class)) {\r\n        // Handle AnotherException.class\r\n      } else {\r\n        throw new IllegalStateException(&quot;Error at calling service &#39;service&#39;&quot;);\r\n      }\r\n    }\r\n\r\n**Alternative/Addition per requests in comments**\r\n\r\nIf you want to use a similar method to get the Exception object of the class you&#39;re looking for, you can use something like this:\r\n\r\n      private Throwable getCausedByOfType(Throwable caught, Class&lt;? extends Throwable&gt; isOfOrCausedBy) {\r\n        if (caught == null) return null;\r\n        else if (isOfOrCausedBy.isAssignableFrom(caught.getClass())) return caught;\r\n        else return getCausedByOfType(caught.getCause(), isOfOrCausedBy);\r\n      }\r\n\r\nThis could be used in addition to `isCausedBy()` this way:\r\n\r\n      if (isCausedBy(e, MyException.class)) {\r\n        Throwable causedBy = getCausedByOfType(e, MyException.class);\r\n        System.err.println(causedBy.getMessage());\r\n      }\r\n\r\nIt can also used directly instead of `isCausedBy()`, although it&#39;s probably a matter of opinion whether this is more readable.\r\n\r\n      Throwable causedBy;\r\n      if ((causedBy = getCausedByOfType(e, IllegalAccessException.class)) != null) {\r\n        System.err.println(causedBy.getMessage());\r\n      }","title":"Catching an exception that is nested into another exception","body":"<p>I just solved a problem like this by writing a simple utility method, which will check the entire caused-by chain.</p>\n<pre><code>  /**\n   * Recursive method to determine whether an Exception passed is, or has a cause, that is a\n   * subclass or implementation of the Throwable provided.\n   *\n   * @param caught          The Throwable to check\n   * @param isOfOrCausedBy  The Throwable Class to look for\n   * @return  true if 'caught' is of type 'isOfOrCausedBy' or has a cause that this applies to.\n   */\n  private boolean isCausedBy(Throwable caught, Class&lt;? extends Throwable&gt; isOfOrCausedBy) {\n    if (caught == null) return false;\n    else if (isOfOrCausedBy.isAssignableFrom(caught.getClass())) return true;\n    else return isCausedBy(caught.getCause(), isOfOrCausedBy);\n  }\n</code></pre>\n<p>When you use it, you would just create a list of if's from most specific Exception to least specific, with a fallback else-clause:</p>\n<pre><code>try {\n  // Code to be executed\n} catch (Exception e) {\n  if (isCausedBy(e, MyException.class)) {\n    // Handle MyException.class\n  } else if (isCausedBy(e, AnotherException.class)) {\n    // Handle AnotherException.class\n  } else {\n    throw new IllegalStateException(&quot;Error at calling service 'service'&quot;);\n  }\n}\n</code></pre>\n<p><strong>Alternative/Addition per requests in comments</strong></p>\n<p>If you want to use a similar method to get the Exception object of the class you're looking for, you can use something like this:</p>\n<pre><code>  private Throwable getCausedByOfType(Throwable caught, Class&lt;? extends Throwable&gt; isOfOrCausedBy) {\n    if (caught == null) return null;\n    else if (isOfOrCausedBy.isAssignableFrom(caught.getClass())) return caught;\n    else return getCausedByOfType(caught.getCause(), isOfOrCausedBy);\n  }\n</code></pre>\n<p>This could be used in addition to <code>isCausedBy()</code> this way:</p>\n<pre><code>  if (isCausedBy(e, MyException.class)) {\n    Throwable causedBy = getCausedByOfType(e, MyException.class);\n    System.err.println(causedBy.getMessage());\n  }\n</code></pre>\n<p>It can also used directly instead of <code>isCausedBy()</code>, although it's probably a matter of opinion whether this is more readable.</p>\n<pre><code>  Throwable causedBy;\n  if ((causedBy = getCausedByOfType(e, IllegalAccessException.class)) != null) {\n    System.err.println(causedBy.getMessage());\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531617,"reputation":159,"user_id":5719570,"display_name":"Satrajit A"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1607746783,"creation_date":1607746783,"answer_id":65261564,"question_id":2955458,"body_markdown":"I suppose you could also use `ExceptionUtils.throwableOfThrowable()` as in [here][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/exception/ExceptionUtils.html#throwableOfThrowable-java.lang.Throwable-java.lang.Class-","title":"Catching an exception that is nested into another exception","body":"<p>I suppose you could also use <code>ExceptionUtils.throwableOfThrowable()</code> as in <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/exception/ExceptionUtils.html#throwableOfThrowable-java.lang.Throwable-java.lang.Class-\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4400136,"reputation":660,"user_id":3586084,"display_name":"alierdogan7"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634213570,"creation_date":1634213570,"answer_id":69570499,"question_id":2955458,"body_markdown":"If you are investigating that whether an exception is caused by a custom exception (e.g. `MyException`) you can iterate with a while-loop until you find an instance of `MyException.`\r\n\r\n```\r\nboolean isCausedByMyException(Throwable exception) {\r\n    do {\r\n        if (exception instanceof MyException) {\r\n            return true;\r\n        }\r\n\r\n        exception = exception.getCause();\r\n    } while (exception != null);\r\n\r\n    return false;\r\n}\r\n```","title":"Catching an exception that is nested into another exception","body":"<p>If you are investigating that whether an exception is caused by a custom exception (e.g. <code>MyException</code>) you can iterate with a while-loop until you find an instance of <code>MyException.</code></p>\n<pre><code>boolean isCausedByMyException(Throwable exception) {\n    do {\n        if (exception instanceof MyException) {\n            return true;\n        }\n\n        exception = exception.getCause();\n    } while (exception != null);\n\n    return false;\n}\n</code></pre>\n"}],"owner":{"display_name":"user321068"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83332,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":2955693,"answer_count":9,"score":44,"last_activity_date":1668638034,"creation_date":1275460003,"question_id":2955458,"body_markdown":"I want to catch an exception, that is nested into another exception.\r\nI&#39;m doing it currently this way:\r\n\r\n\r\n    } catch (RemoteAccessException e) {\r\n        if (e != null &amp;&amp; e.getCause() != null &amp;&amp; e.getCause().getCause() != null) {\r\n            MyException etrp = (MyException) e.getCause().getCause();\r\n            ...\r\n        } else {\r\n            throw new IllegalStateException(&quot;Error at calling service &#39;service&#39;&quot;);\r\n        }\r\n    }\r\n\r\nIs there a way to do this more efficient and elegant?","title":"Catching an exception that is nested into another exception","body":"<p>I want to catch an exception, that is nested into another exception.\nI'm doing it currently this way:</p>\n\n<pre><code>} catch (RemoteAccessException e) {\n    if (e != null &amp;&amp; e.getCause() != null &amp;&amp; e.getCause().getCause() != null) {\n        MyException etrp = (MyException) e.getCause().getCause();\n        ...\n    } else {\n        throw new IllegalStateException(\"Error at calling service 'service'\");\n    }\n}\n</code></pre>\n\n<p>Is there a way to do this more efficient and elegant?</p>\n"},{"tags":["java","mysql","http","servlets"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1564812683,"post_id":57335885,"comment_id":101161075,"body_markdown":"That&#39;s the wrong class name if you are using Connector 8.0 or later.","body":"That&#39;s the wrong class name if you are using Connector 8.0 or later."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1564812756,"post_id":57335885,"comment_id":101161083,"body_markdown":"And it shouldn&#39;t be in the **build** path. It should be in the **runtime** classpath, i.e. under WEB-INF/lib in your generated war file.","body":"And it shouldn&#39;t be in the <b>build</b> path. It should be in the <b>runtime</b> classpath, i.e. under WEB-INF/lib in your generated war file."},{"owner":{"account_id":16004199,"reputation":21,"user_id":11550095,"display_name":"Mike"},"score":0,"creation_date":1564819146,"post_id":57335885,"comment_id":101162204,"body_markdown":"@JBNizet how do i add jar file in WEB-INF/lib...?","body":"@JBNizet how do i add jar file in WEB-INF/lib...?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1564819281,"post_id":57335885,"comment_id":101162226,"body_markdown":"It depends on how you&#39;re building your application. Assuming you&#39;re using Eclipse (which is the only tool using the term &quot;build path&quot; AFAIK), you just drop the jar in WebContent/WEB-INF/lib of your web project IIRC.","body":"It depends on how you&#39;re building your application. Assuming you&#39;re using Eclipse (which is the only tool using the term &quot;build path&quot; AFAIK), you just drop the jar in WebContent/WEB-INF/lib of your web project IIRC."},{"owner":{"account_id":16004199,"reputation":21,"user_id":11550095,"display_name":"Mike"},"score":0,"creation_date":1564819640,"post_id":57335885,"comment_id":101162290,"body_markdown":"@JBNizet Eclipse dosen&#39;t allow me to drop the jar file in WebContent/WEB_INF/lib folder...","body":"@JBNizet Eclipse dosen&#39;t allow me to drop the jar file in WebContent/WEB_INF/lib folder..."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1564819944,"post_id":57335885,"comment_id":101162341,"body_markdown":"Then use your file explorer or your command line to put it there. http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.wst.webtools.doc.user%2Ftopics%2Ftwplib.html","body":"Then use your file explorer or your command line to put it there. <a href=\"http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.wst.webtools.doc.user%2Ftopics%2Ftwplib.html\" rel=\"nofollow noreferrer\">help.eclipse.org/kepler/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1564822255,"post_id":57335885,"comment_id":101162758,"body_markdown":"You haven&#39;t needed the `Class.forName()` at all since 2007. Just remove it.","body":"You haven&#39;t needed the <code>Class.forName()</code> at all since 2007. Just remove it."}],"answers":[{"comments":[{"owner":{"account_id":16004199,"reputation":21,"user_id":11550095,"display_name":"Mike"},"score":0,"creation_date":1564819223,"post_id":57336017,"comment_id":101162220,"body_markdown":"```java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver``` still getting this error using ```Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();```","body":"<code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver</code> still getting this error using <code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();</code>"},{"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"score":0,"creation_date":1564819497,"post_id":57336017,"comment_id":101162260,"body_markdown":"are you using Tomcat to run the servlet? In that case, you may need to copy the connector to tomcat/lib folder as well. I&#39;ve seen an error previously while working with tomcat server.","body":"are you using Tomcat to run the servlet? In that case, you may need to copy the connector to tomcat/lib folder as well. I&#39;ve seen an error previously while working with tomcat server."},{"owner":{"account_id":16004199,"reputation":21,"user_id":11550095,"display_name":"Mike"},"score":0,"creation_date":1564819855,"post_id":57336017,"comment_id":101162325,"body_markdown":"yes i am using tomcat server v7.0 to run my program... Can you please give me the location of tomcat/lib folder.","body":"yes i am using tomcat server v7.0 to run my program... Can you please give me the location of tomcat/lib folder."},{"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"score":0,"creation_date":1564819966,"post_id":57336017,"comment_id":101162344,"body_markdown":"&lt;path-to-tomcat-installation-folder-in-your-machine&gt;/lib","body":"&lt;path-to-tomcat-installation-folder-in-your-machine&gt;/lib"}],"tags":[],"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1564813960,"creation_date":1564813960,"answer_id":57336017,"question_id":57335885,"body_markdown":"You need to use `com.mysql.cj.jdbc.Driver` instead of `com.mysql.jdbc.Driver` while using MySQL connector 8. Please refer the documentation [here][1]. \r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-connect-drivermanager.html","title":"How to fix &#39;java.lang.ClassNotFoundException: com.mysql.jdbc.Driver&#39; after adding it to the build path and registered using Class.forName();","body":"<p>You need to use <code>com.mysql.cj.jdbc.Driver</code> instead of <code>com.mysql.jdbc.Driver</code> while using MySQL connector 8. Please refer the documentation <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-connect-drivermanager.html\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}],"owner":{"account_id":16004199,"reputation":21,"user_id":11550095,"display_name":"Mike"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57336017,"answer_count":1,"score":0,"last_activity_date":1668637935,"creation_date":1564812472,"question_id":57335885,"body_markdown":"I had added mysql-connector-java-8.0.12.jar from build path in Eclipse Jee. I \r\nhad also registered that class by adding :\r\n\r\n```Class.forName(&quot;com.mysql.jdbc.Driver&quot;);```\r\n\r\nbut still it is giving me this error : \r\n\r\n``` java.lang.ClassNotFoundException: com.mysql.jdbc.Driver```\r\n\r\nThis is the code of Student.java Servlet.\r\n\r\n```\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\n\r\nimport java.io.*;\r\nimport java.sql.*;\r\n\r\npublic class Student extends HttpServlet\r\n{\r\n\t\r\n\tpublic void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException\r\n\t{\r\n\t\t// business logic\r\n\t\tresponse.setContentType(&quot;text/html&quot;);\r\n\t\tPrintWriter out=response.getWriter();\r\n\t\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/sem5&quot;, &quot;root&quot;, &quot;root&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\tString sql = &quot;insert into p4 values(?,?,?,?,?,?,?)&quot;;\r\n\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\t\t\r\n\t\t\tString enroll = request.getParameter(&quot;enroll&quot;);\r\n\t\t\tString username = request.getParameter(&quot;username&quot;);\r\n\t\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\t\tString gender = request.getParameter(&quot;gender&quot;);\r\n\t\t\tString email = request.getParameter(&quot;email&quot;);\r\n\t\t\tString mobile = request.getParameter(&quot;mobile&quot;);\r\n\t\t\tString address = request.getParameter(&quot;address&quot;);\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\r\n\t\t\tps.setString(1, enroll.toString());\r\n\t\t\tps.setString(2, username.toString());\r\n\t\t\tps.setString(3, password.toString());\r\n\t\t\tps.setString(4, gender.toString());\r\n\t\t\tps.setString(5, email.toString());\r\n\t\t\tps.setString(6, mobile.toString());\r\n\t\t\tps.setString(3, address.toString());\r\n\t\t\t\t\t\t\r\n\t\t\tps.executeUpdate();\r\n\t\t\t\t\t\t\r\n\t\t\tps.close();\r\n\t\t}\r\n\t\tcatch(Exception ex) {\r\n\t\t\tSystem.out.println(&quot;Exception : &quot;+ ex);\r\n\t\t\tout.println(&quot;Error&quot;);\r\n\t\t}\r\n\t}\r\n\tpublic void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException\r\n\t{\r\n\t\tdoGet(request,response);\r\n\t}\r\n}\r\n```\r\n\r\nThanks in advance...","title":"How to fix &#39;java.lang.ClassNotFoundException: com.mysql.jdbc.Driver&#39; after adding it to the build path and registered using Class.forName();","body":"<p>I had added mysql-connector-java-8.0.12.jar from build path in Eclipse Jee. I \nhad also registered that class by adding :</p>\n\n<p><code>Class.forName(\"com.mysql.jdbc.Driver\");</code></p>\n\n<p>but still it is giving me this error : </p>\n\n<p><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</code></p>\n\n<p>This is the code of Student.java Servlet.</p>\n\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.*;\n\nimport java.io.*;\nimport java.sql.*;\n\npublic class Student extends HttpServlet\n{\n\n    public void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException\n    {\n        // business logic\n        response.setContentType(\"text/html\");\n        PrintWriter out=response.getWriter();\n\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/sem5\", \"root\", \"root\");\n\n            String sql = \"insert into p4 values(?,?,?,?,?,?,?)\";\n            PreparedStatement ps = con.prepareStatement(sql);\n\n            String enroll = request.getParameter(\"enroll\");\n            String username = request.getParameter(\"username\");\n            String password = request.getParameter(\"password\");\n            String gender = request.getParameter(\"gender\");\n            String email = request.getParameter(\"email\");\n            String mobile = request.getParameter(\"mobile\");\n            String address = request.getParameter(\"address\");\n\n\n            ps.setString(1, enroll.toString());\n            ps.setString(2, username.toString());\n            ps.setString(3, password.toString());\n            ps.setString(4, gender.toString());\n            ps.setString(5, email.toString());\n            ps.setString(6, mobile.toString());\n            ps.setString(3, address.toString());\n\n            ps.executeUpdate();\n\n            ps.close();\n        }\n        catch(Exception ex) {\n            System.out.println(\"Exception : \"+ ex);\n            out.println(\"Error\");\n        }\n    }\n    public void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException\n    {\n        doGet(request,response);\n    }\n}\n</code></pre>\n\n<p>Thanks in advance...</p>\n"},{"tags":["java","html","css","vaadin","vaadin-grid"],"answers":[{"comments":[{"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"score":0,"creation_date":1668617023,"post_id":74452726,"comment_id":131450590,"body_markdown":"I have set it up according to your comment but it doesn&#39;t seem to work, I have updated the post in the edit.","body":"I have set it up according to your comment but it doesn&#39;t seem to work, I have updated the post in the edit."},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1668627670,"post_id":74452726,"comment_id":131454372,"body_markdown":"Sorry, I missed one part of the solution. I&#39;ve now updated my answer to include it.","body":"Sorry, I missed one part of the solution. I&#39;ve now updated my answer to include it."},{"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"score":0,"creation_date":1668630207,"post_id":74452726,"comment_id":131455269,"body_markdown":"This also does not work, but it works if you put a space between: `.icon-img ::slotted(vaadin-grid-cell-content)`. Thank you for your help :)","body":"This also does not work, but it works if you put a space between: <code>.icon-img ::slotted(vaadin-grid-cell-content)</code>. Thank you for your help :)"},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":1,"creation_date":1668637765,"post_id":74452726,"comment_id":131457488,"body_markdown":"Ah, sorry again, typo, fixed now in the answer. Glad you got it working! (And remember to mark the answer as accepted so others can see it worked :) )","body":"Ah, sorry again, typo, fixed now in the answer. Glad you got it working! (And remember to mark the answer as accepted so others can see it worked :) )"}],"tags":[],"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668637656,"creation_date":1668549979,"answer_id":74452726,"question_id":74452065,"body_markdown":"What you&#39;re missing is that the cell `&lt;td&gt;` element is inside the shadow DOM of the `vaadin-grid` component, and thus cannot be styled with global CSS. To style parts of components that are inside the component&#39;s shadow DOM, you need to inject the CSS into the component.\r\n\r\nIn the Cookbook example, this is done through the `themeFor` parameter in the annotation that loads the stylesheet:\r\n\r\n    @CssImport(themeFor = &quot;vaadin-grid&quot;, value = &quot;./recipe/dynamicgridcellstyling/dynamic-grid-cell-styling.css&quot;)\r\n\r\nIn your theme folder, however, you can do the same thing by putting that CSS in a stylesheet called vaadin-grid.css in the `components` subfolder, i.e.:\r\n\r\n    themes/mangaTheme/components/vaadin-grid.css\r\n\r\nAnother thing you&#39;re missing is that the classname is applied to the `&lt;td&gt;` cell, but the padding is on the `vaadin-grid-cell-content` element slotted into the cell, not the cell itself, so you need to rewrite your selector:\r\n\r\n    .icon-img ::slotted(vaadin-grid-cell-content) {\r\n        padding: 0;\r\n    }\r\n\r\n(The sidebar-grid CSS class works fine as-is because it&#39;s applied to the vaadin-grid root element, which is in the page&#39;s regular DOM.)","title":"How to style grid cells in vaadin","body":"<p>What you're missing is that the cell <code>&lt;td&gt;</code> element is inside the shadow DOM of the <code>vaadin-grid</code> component, and thus cannot be styled with global CSS. To style parts of components that are inside the component's shadow DOM, you need to inject the CSS into the component.</p>\n<p>In the Cookbook example, this is done through the <code>themeFor</code> parameter in the annotation that loads the stylesheet:</p>\n<pre><code>@CssImport(themeFor = &quot;vaadin-grid&quot;, value = &quot;./recipe/dynamicgridcellstyling/dynamic-grid-cell-styling.css&quot;)\n</code></pre>\n<p>In your theme folder, however, you can do the same thing by putting that CSS in a stylesheet called vaadin-grid.css in the <code>components</code> subfolder, i.e.:</p>\n<pre><code>themes/mangaTheme/components/vaadin-grid.css\n</code></pre>\n<p>Another thing you're missing is that the classname is applied to the <code>&lt;td&gt;</code> cell, but the padding is on the <code>vaadin-grid-cell-content</code> element slotted into the cell, not the cell itself, so you need to rewrite your selector:</p>\n<pre><code>.icon-img ::slotted(vaadin-grid-cell-content) {\n    padding: 0;\n}\n</code></pre>\n<p>(The sidebar-grid CSS class works fine as-is because it's applied to the vaadin-grid root element, which is in the page's regular DOM.)</p>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74452726,"answer_count":1,"score":2,"last_activity_date":1668637656,"creation_date":1668545756,"question_id":74452065,"body_markdown":"I have created a simple grid with one column:\r\n\r\n    public MyGrid() {\r\n        addComponentColumn(this::getIcon).setClassNameGenerator(i -&gt; &quot;icon-img&quot;);\r\n        setItems(/** some items */);\r\n        setClassName(&quot;sidebar-grid&quot;);\r\n    }\r\n\r\nAnd I have a css theme called `mangaTheme`. I use it like this `@Theme(&quot;mangaTheme&quot;)`. In the  mangaTheme folder I have `styles.css` file with the following content:\r\n\r\n    .icon-img {\r\n        padding: 0;\r\n    }\r\n    \r\n    .sidebar-grid {\r\n        width: 102px;\r\n        margin: auto;\r\n        margin-left: -30%;\r\n    }\r\n\r\nThe `sidebar-grid` css properties are applied properly as the grid is moved, but the `icon-img` properties are not applied whatsoever:[![enter image description here][1]][1]\r\n\r\nThe classnames are applied: [![enter image description here][2]][2]\r\n\r\nWhat am I doing wrong or missing? I have also read this guide: https://cookbook.vaadin.com/dynamic-grid-cell-styling\r\n\r\nEDIT: After configuring my workspace as was mentioned in the answer this is the resulting structure, but it still does not seem to function properly.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Iqc5.png\r\n  [2]: https://i.stack.imgur.com/ft7Je.png\r\n  [3]: https://i.stack.imgur.com/SR2oV.png","title":"How to style grid cells in vaadin","body":"<p>I have created a simple grid with one column:</p>\n<pre><code>public MyGrid() {\n    addComponentColumn(this::getIcon).setClassNameGenerator(i -&gt; &quot;icon-img&quot;);\n    setItems(/** some items */);\n    setClassName(&quot;sidebar-grid&quot;);\n}\n</code></pre>\n<p>And I have a css theme called <code>mangaTheme</code>. I use it like this <code>@Theme(&quot;mangaTheme&quot;)</code>. In the  mangaTheme folder I have <code>styles.css</code> file with the following content:</p>\n<pre><code>.icon-img {\n    padding: 0;\n}\n\n.sidebar-grid {\n    width: 102px;\n    margin: auto;\n    margin-left: -30%;\n}\n</code></pre>\n<p>The <code>sidebar-grid</code> css properties are applied properly as the grid is moved, but the <code>icon-img</code> properties are not applied whatsoever:<a href=\"https://i.stack.imgur.com/8Iqc5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Iqc5.png\" alt=\"enter image description here\" /></a></p>\n<p>The classnames are applied: <a href=\"https://i.stack.imgur.com/ft7Je.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ft7Je.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong or missing? I have also read this guide: <a href=\"https://cookbook.vaadin.com/dynamic-grid-cell-styling\" rel=\"nofollow noreferrer\">https://cookbook.vaadin.com/dynamic-grid-cell-styling</a></p>\n<p>EDIT: After configuring my workspace as was mentioned in the answer this is the resulting structure, but it still does not seem to function properly.\n<a href=\"https://i.stack.imgur.com/SR2oV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SR2oV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","class","static","kotlin"],"comments":[{"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"score":0,"creation_date":1521464144,"post_id":49363450,"comment_id":85727157,"body_markdown":"What do you need an alternative _for_? What doesn&#39;t work?","body":"What do you need an alternative <i>for</i>? What doesn&#39;t work?"},{"owner":{"account_id":5544706,"reputation":2573,"user_id":4399890,"accept_rate":67,"display_name":"Osama Mohammed"},"score":0,"creation_date":1521464427,"post_id":49363450,"comment_id":85727351,"body_markdown":"in this code in my question, problem(memory Leak) occur because i using asynTask contain (context) of activity, android studio advice me to use (Inner Static class)","body":"in this code in my question, problem(memory Leak) occur because i using asynTask contain (context) of activity, android studio advice me to use (Inner Static class)"}],"answers":[{"tags":[],"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"comment_count":0,"down_vote_count":0,"up_vote_count":135,"is_accepted":true,"score":135,"last_activity_date":1521471007,"creation_date":1521471007,"answer_id":49365796,"question_id":49363450,"body_markdown":"Just omit the `inner` in Kotlin.\r\n\r\n**Inner class (holding reference to outer object)**\r\n\r\nJava:\r\n\r\n    class A {\r\n        class B {\r\n        ...\r\n        }\r\n    }\r\n\r\nKotlin:\r\n\r\n    class A {\r\n        inner class B {\r\n        ...\r\n        }\r\n    }\r\n\r\n**Static inner class aka nested class (no reference to outer object)**\r\n\r\nJava:\r\n\r\n    class A {\r\n        static class B {\r\n        ...\r\n        }\r\n    }\r\n\r\nKotlin:\r\n\r\n    class A {\r\n        class B {\r\n        ...\r\n        }\r\n    }\r\n\r\n","title":"Static Inner Class in Kotlin","body":"<p>Just omit the <code>inner</code> in Kotlin.</p>\n\n<p><strong>Inner class (holding reference to outer object)</strong></p>\n\n<p>Java:</p>\n\n<pre><code>class A {\n    class B {\n    ...\n    }\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>class A {\n    inner class B {\n    ...\n    }\n}\n</code></pre>\n\n<p><strong>Static inner class aka nested class (no reference to outer object)</strong></p>\n\n<p>Java:</p>\n\n<pre><code>class A {\n    static class B {\n    ...\n    }\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>class A {\n    class B {\n    ...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5758401,"reputation":2142,"user_id":4545552,"accept_rate":100,"display_name":"yanefedor"},"score":1,"creation_date":1645162260,"post_id":61009860,"comment_id":125802722,"body_markdown":"What&#39;s the difference in this case?","body":"What&#39;s the difference in this case?"},{"owner":{"account_id":3638345,"reputation":959,"user_id":3033184,"display_name":"GFPF"},"score":0,"creation_date":1668694148,"post_id":61009860,"comment_id":131472126,"body_markdown":"It might help:\nhttps://kotlinlang.org/docs/object-declarations.html#object-declarations-overview","body":"It might help: <a href=\"https://kotlinlang.org/docs/object-declarations.html#object-declarations-overview\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>"}],"tags":[],"owner":{"account_id":18157882,"reputation":51,"user_id":13209691,"display_name":"Clarence Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585919299,"creation_date":1585909761,"answer_id":61009860,"question_id":49363450,"body_markdown":"You can also change the &quot;class&quot; to &quot;object&quot;\r\n\r\n    class OuterA {\r\n      object InnerB {\r\n      ... }\r\n    }\r\n\r\nOR\r\n\r\n    object OuterA {\r\n      object InnerB {\r\n      ... }\r\n    }\r\n       ","title":"Static Inner Class in Kotlin","body":"<p>You can also change the \"class\" to \"object\"</p>\n\n<pre><code>class OuterA {\n  object InnerB {\n  ... }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>object OuterA {\n  object InnerB {\n  ... }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3638345,"reputation":959,"user_id":3033184,"display_name":"GFPF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668637350,"creation_date":1668636879,"answer_id":74467901,"question_id":49363450,"body_markdown":"In Android world, good practices are:\r\n\r\n-Avoid non-static inner classes in activities; \r\n\r\n-Use static inner classes with WeakReference so they can be GC-ed (Garbage Collected) when they are not used, as bellow example: \r\n\r\n\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            MySingleton.init(this)\r\n        }\r\n    }\r\n    \r\n    object MySingleton {\r\n    \r\n        var weakContext: WeakReference&lt;Context&gt;? = null\r\n    \r\n        fun init(ctx: Context) {\r\n            this.weakContext = WeakReference(ctx)\r\n        }\r\n    }\r\n\r\nWhen the MainActivity instance gets destroyed (onDestroy gets called), this weak reference to its context will get destroyed too; so no memory leaks occur.\r\n:]","title":"Static Inner Class in Kotlin","body":"<p>In Android world, good practices are:</p>\n<p>-Avoid non-static inner classes in activities;</p>\n<p>-Use static inner classes with WeakReference so they can be GC-ed (Garbage Collected) when they are not used, as bellow example:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        MySingleton.init(this)\n    }\n}\n\nobject MySingleton {\n\n    var weakContext: WeakReference&lt;Context&gt;? = null\n\n    fun init(ctx: Context) {\n        this.weakContext = WeakReference(ctx)\n    }\n}\n</code></pre>\n<p>When the MainActivity instance gets destroyed (onDestroy gets called), this weak reference to its context will get destroyed too; so no memory leaks occur.\n:]</p>\n"}],"owner":{"account_id":5544706,"reputation":2573,"user_id":4399890,"accept_rate":67,"display_name":"Osama Mohammed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24111,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":49365796,"answer_count":3,"score":55,"last_activity_date":1668637350,"creation_date":1521463894,"question_id":49363450,"body_markdown":"What alternative to an `Inner static Class` can I use in Kotlin Language, if it exists? If not, how can I solve this problem when I need to use a `static class` in Kotlin? See code example below: \r\n\r\n     inner class GeoTask : AsyncTask&lt;Util, Util, Unit&gt;() {\r\n\r\n        override fun doInBackground(vararg p0: Util?) {\r\n\r\n            LocationUtil(this@DisplayMembers).startLocationUpdates()\r\n        }\r\n    }\r\n\r\n\r\nI&#39;ve searched a lot, haven&#39;t found anything,  Thank you very much in advance.\r\n\r\n","title":"Static Inner Class in Kotlin","body":"<p>What alternative to an <code>Inner static Class</code> can I use in Kotlin Language, if it exists? If not, how can I solve this problem when I need to use a <code>static class</code> in Kotlin? See code example below: </p>\n\n<pre><code> inner class GeoTask : AsyncTask&lt;Util, Util, Unit&gt;() {\n\n    override fun doInBackground(vararg p0: Util?) {\n\n        LocationUtil(this@DisplayMembers).startLocationUpdates()\n    }\n}\n</code></pre>\n\n<p>I've searched a lot, haven't found anything,  Thank you very much in advance.</p>\n"},{"tags":["java","postgresql","join","database-design","many-to-many"],"comments":[{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1668580390,"post_id":74455408,"comment_id":131437135,"body_markdown":"What is your 1 specific researched non-duplicate question re how/why you are 1st stuck on what step among which following what published presentation of what design method given what? How are you stuck querying? [mre] Right now you are essentially asking us to (re)write a textbook with bespoke tutorial with no details on what you misunderstand or do or don&#39;t understand. [ask] [Help] Basic questions are faqs. [research](https://meta.stackoverflow.com/q/261592/3404097) [“help me&quot;](https://meta.stackoverflow.com/q/284236/3404097) [homework](https://meta.stackoverflow.com/q/334822/3404097)","body":"What is your 1 specific researched non-duplicate question re how/why you are 1st stuck on what step among which following what published presentation of what design method given what? How are you stuck querying? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> Right now you are essentially asking us to (re)write a textbook with bespoke tutorial with no details on what you misunderstand or do or don&#39;t understand. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <a href=\"https://stackoverflow.com/help\">Help center</a> Basic questions are faqs. <a href=\"https://meta.stackoverflow.com/q/261592/3404097\">research</a> <a href=\"https://meta.stackoverflow.com/q/284236/3404097\">“help me&quot;</a> <a href=\"https://meta.stackoverflow.com/q/334822/3404097\">homework</a>"},{"owner":{"account_id":26946521,"reputation":29,"user_id":20516430,"display_name":"David Moore"},"score":0,"creation_date":1668582027,"post_id":74455408,"comment_id":131437516,"body_markdown":"Actually, I stuck with how to design the relationships between Teachers-Classes-Subjects. The teachers can teach many subjects that are not necessary in the one class while one class can have multiple teachers for multiple subjects.","body":"Actually, I stuck with how to design the relationships between Teachers-Classes-Subjects. The teachers can teach many subjects that are not necessary in the one class while one class can have multiple teachers for multiple subjects."},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1668582998,"post_id":74455408,"comment_id":131437764,"body_markdown":"Please clarify via edits, not comments. Please put all but only what is needed to ask your 1 specific question in your post. Please act on my earlier comments. PS So what is stopping you from recording &#39;teacher [tid] teaches subject [sid] in class [cid]?&#39;--or smaller relationships that it might be expressible in terms of--although you should explain how you are stuck following your given method.","body":"Please clarify via edits, not comments. Please put all but only what is needed to ask your 1 specific question in your post. Please act on my earlier comments. PS So what is stopping you from recording &#39;teacher [tid] teaches subject [sid] in class [cid]?&#39;--or smaller relationships that it might be expressible in terms of--although you should explain how you are stuck following your given method."},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1668585010,"post_id":74455408,"comment_id":131438310,"body_markdown":"[relationships between 3 entities in ER diagram--is a ternary enough or are 2 binaries also needed?](https://stackoverflow.com/a/45557994/3404097) [Should this ER diagram use a ternary relationship instead](https://stackoverflow.com/a/44235312/3404097) [Best Solution - Ternary or Binary Relationship](https://stackoverflow.com/a/35337369/3404097)","body":"<a href=\"https://stackoverflow.com/a/45557994/3404097\">relationships between 3 entities in ER diagram--is a ternary enough or are 2 binaries also needed?</a> <a href=\"https://stackoverflow.com/a/44235312/3404097\">Should this ER diagram use a ternary relationship instead</a> <a href=\"https://stackoverflow.com/a/35337369/3404097\">Best Solution - Ternary or Binary Relationship</a>"},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1668586963,"post_id":74455408,"comment_id":131438920,"body_markdown":"Table relation(ship)s aka associations aka meanings aka (row) membership criteria aka (characteristic) predicates are necessary &amp; sufficient to record &amp; query. Constraints--including cardinalities--saying how &quot;many&quot;--need not exist, be known or be declared to record or query. They can be used to help improve designs. (And declaring can help a DBMS to disallow some invalid states &amp; to optimize.)","body":"Table relation(ship)s aka associations aka meanings aka (row) membership criteria aka (characteristic) predicates are necessary &amp; sufficient to record &amp; query. Constraints--including cardinalities--saying how &quot;many&quot;--need not exist, be known or be declared to record or query. They can be used to help improve designs. (And declaring can help a DBMS to disallow some invalid states &amp; to optimize.)"}],"owner":{"account_id":26946521,"reputation":29,"user_id":20516430,"display_name":"David Moore"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1668637028,"creation_date":1668574927,"question_id":74455408,"body_markdown":"One school has multiple classes. Each class has different `classID`. Teachers have name, age and teach multiple subjects. Students have name, age and unique identity number in class. Teachers and students are people. Subjects have subject name.\r\n\r\nHow to relate teachers who teach multiple subjects to different classes? For example Miss A teaches math and science to class 1 but only literature to class 2. And one class can have multiple teachers.\r\n\r\n```\r\npublic class Classes {\r\n    private int classId;\r\n    private List&lt;Subjects&gt; subjectsList;\r\n    private List&lt;Students&gt; studentsList;\r\n\r\n    public Classes(int classId, List&lt;Subjects&gt; subjectsList,\r\n                   List&lt;Students&gt; studentsList){\r\n        this.classId = classId;\r\n        this.subjectsList = subjectsList;\r\n        this.studentsList = studentsList;\r\n    }\r\n}\r\n\r\npublic class People {\r\n    private String name;\r\n    private int age;\r\n\r\n    public People(String name, int age){\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n}\r\n\r\npublic class Students extends People{\r\n    private int classIdentityID;\r\n    public Students(String name, int age, int classIdentityID){\r\n        super(name,age);\r\n        this.classIdentityID = classIdentityID;\r\n    }\r\n}\r\n\r\npublic class Subjects {\r\n    private String subjectName;\r\n    \r\n    public Subjects(String subjectName){\r\n        this.subjectName = subjectName;\r\n    }\r\n}\r\n\r\npublic class Teachers extends People{\r\n    private List&lt;Subjects&gt; subjectsList;\r\n\r\n    public Teachers(String name, int age,List&lt;Subjects&gt; subjectsList){\r\n        super(name, age);\r\n        this.subjectsList = subjectsList;\r\n    }\r\n}\r\n```\r\n\r\nIf I need to know who is teaching math in class 1, how should I design a table so it is not difficult to query?","title":"How to relate teachers who teach multiple subjects to different classes?","body":"<p>One school has multiple classes. Each class has different <code>classID</code>. Teachers have name, age and teach multiple subjects. Students have name, age and unique identity number in class. Teachers and students are people. Subjects have subject name.</p>\n<p>How to relate teachers who teach multiple subjects to different classes? For example Miss A teaches math and science to class 1 but only literature to class 2. And one class can have multiple teachers.</p>\n<pre><code>public class Classes {\n    private int classId;\n    private List&lt;Subjects&gt; subjectsList;\n    private List&lt;Students&gt; studentsList;\n\n    public Classes(int classId, List&lt;Subjects&gt; subjectsList,\n                   List&lt;Students&gt; studentsList){\n        this.classId = classId;\n        this.subjectsList = subjectsList;\n        this.studentsList = studentsList;\n    }\n}\n\npublic class People {\n    private String name;\n    private int age;\n\n    public People(String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n}\n\npublic class Students extends People{\n    private int classIdentityID;\n    public Students(String name, int age, int classIdentityID){\n        super(name,age);\n        this.classIdentityID = classIdentityID;\n    }\n}\n\npublic class Subjects {\n    private String subjectName;\n    \n    public Subjects(String subjectName){\n        this.subjectName = subjectName;\n    }\n}\n\npublic class Teachers extends People{\n    private List&lt;Subjects&gt; subjectsList;\n\n    public Teachers(String name, int age,List&lt;Subjects&gt; subjectsList){\n        super(name, age);\n        this.subjectsList = subjectsList;\n    }\n}\n</code></pre>\n<p>If I need to know who is teaching math in class 1, how should I design a table so it is not difficult to query?</p>\n"},{"tags":["java","jfugue"],"answers":[{"comments":[{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1668078398,"post_id":74379943,"comment_id":131321951,"body_markdown":":&#39;( unfortunately isFirstNote() returns true even though the note is not part of a chord. I have tested this with a midi i made up with a bar full of single notes. Can you think of another method to achieve this? I would like to use JFugue in my project since it&#39;s very simple and straightforward, but i really can&#39;t use it if i can&#39;t detect when multiple notes are played at the same time","body":":&#39;( unfortunately isFirstNote() returns true even though the note is not part of a chord. I have tested this with a midi i made up with a bar full of single notes. Can you think of another method to achieve this? I would like to use JFugue in my project since it&#39;s very simple and straightforward, but i really can&#39;t use it if i can&#39;t detect when multiple notes are played at the same time"},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1668151322,"post_id":74379943,"comment_id":131340494,"body_markdown":"OK, that needs to be fixed in a future version - and/or, Note could have a method like isPartOfChord. (It should probably also have isRootOfChord.) In the meantime, you&#39;ll know if a note is not part of a chord if the *next* note also has isFirstNote = true. That&#39;s definitely a workaround, but it ought to work.","body":"OK, that needs to be fixed in a future version - and/or, Note could have a method like isPartOfChord. (It should probably also have isRootOfChord.) In the meantime, you&#39;ll know if a note is not part of a chord if the <i>next</i> note also has isFirstNote = true. That&#39;s definitely a workaround, but it ought to work."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1668154694,"post_id":74379943,"comment_id":131341415,"body_markdown":"i tried this approach but i cannot make it work. I am open to consider that the midi i have created is encoded in a strange, unparseable way, because i am not an expert of midi by any means. But all the tests i have made so far, with both power chords and proper major/minor chords showed me that isFirstNote() *always* return true, isHarmonicNote() *always* return false and is isMelodicNote() *always* return false.","body":"i tried this approach but i cannot make it work. I am open to consider that the midi i have created is encoded in a strange, unparseable way, because i am not an expert of midi by any means. But all the tests i have made so far, with both power chords and proper major/minor chords showed me that isFirstNote() <i>always</i> return true, isHarmonicNote() <i>always</i> return false and is isMelodicNote() <i>always</i> return false."},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1668194342,"post_id":74379943,"comment_id":131354765,"body_markdown":"Ah, you&#39;re parsing MIDI. Sorry, I didn&#39;t fully understand your use case. MIDI is a collection of Note On and Note Off events (and other events). When reading MIDI, JFugue has no way to reconstruct what notes are part of chords, and all notes will appear as individual notes. If you were parsing a music string, like &quot;Cmaj&quot; or &quot;C+E+G&quot;, you&#39;d see the isHarmonic/isMelodic set correctly, but when reading MIDI, chord information is not present, just the notes themselves.","body":"Ah, you&#39;re parsing MIDI. Sorry, I didn&#39;t fully understand your use case. MIDI is a collection of Note On and Note Off events (and other events). When reading MIDI, JFugue has no way to reconstruct what notes are part of chords, and all notes will appear as individual notes. If you were parsing a music string, like &quot;Cmaj&quot; or &quot;C+E+G&quot;, you&#39;d see the isHarmonic/isMelodic set correctly, but when reading MIDI, chord information is not present, just the notes themselves."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1668331296,"post_id":74379943,"comment_id":131375287,"body_markdown":"Don&#39;t we have an indication of the time when an instrument plays a note in JFugue ? Clearly all notes that play at the same time are part of a chord","body":"Don&#39;t we have an indication of the time when an instrument plays a note in JFugue ? Clearly all notes that play at the same time are part of a chord"},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1668441177,"post_id":74379943,"comment_id":131399675,"body_markdown":"It gets complicated quickly. First, if the MIDI is a recording of live play, the times may be slightly off. There may be notes that are all played together that are not part of a single chord, or that are part of two chords, or some notes are chord and some are melody. There could be a chord that is played arpeggiated. There are chord inversions to think about. Which is all to say, it&#39;s more work than I wanted to put into it - but I&#39;m always happy to include contributions from the open source community!","body":"It gets complicated quickly. First, if the MIDI is a recording of live play, the times may be slightly off. There may be notes that are all played together that are not part of a single chord, or that are part of two chords, or some notes are chord and some are melody. There could be a chord that is played arpeggiated. There are chord inversions to think about. Which is all to say, it&#39;s more work than I wanted to put into it - but I&#39;m always happy to include contributions from the open source community!"},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1668449019,"post_id":74379943,"comment_id":131402592,"body_markdown":"I see... i would be glad to contribute if i had any notion of midi that went beyond the user&#39;s basic notion. What should i do about this question? Should i accept the answer you gave or you prefer to write a new one that takes into account what you wrote in the penultimate comment?","body":"I see... i would be glad to contribute if i had any notion of midi that went beyond the user&#39;s basic notion. What should i do about this question? Should i accept the answer you gave or you prefer to write a new one that takes into account what you wrote in the penultimate comment?"},{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1668636683,"post_id":74379943,"comment_id":131457186,"body_markdown":"I&#39;ve updated the answer to include what I had said in my comment.","body":"I&#39;ve updated the answer to include what I had said in my comment."}],"tags":[],"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668636654,"creation_date":1668019693,"answer_id":74379943,"question_id":74358365,"body_markdown":"You&#39;re right, `onChordParsed` isn&#39;t called - and should probably be removed from the API - and `onNoteParsed` is used instead. \r\n\r\n**Parsing chords from a Staccato string**\r\n\r\nWhen JFugue processes a chord, it breaks the chord into individual notes - which is necessary to support cases where some of the notes might change in melody during what would otherwise be a chord. As far as JFugue is concerned, &quot;Cmaj&quot; looks just like &quot;C+E+G&quot;, but the latter provides more resolution, allowing things like &quot;Cw+Eh_Ebh+Gw&quot;.\r\n\r\nYou can still do what you want, though. When you get an `onNoteParsed` event, the Note will tell you whether it&#39;s the first note in a sequence, a next note in a sequence, or another note in melody during a sequence. \r\n\r\nFor each note coming in, use the note&#39;s `isFirstNote()`, `isHarmonicNote()`, and `isMelodicNote()` methods to determine whether a note is in a chord. I believe what you&#39;d see for Cw+Eh_Ebh+Gw is:\r\n\r\n - C - first note \r\n - E - harmonic note \r\n - Eb - melodic note \r\n - G - harmonic note\r\n\r\nI _think_ that a single note that is not part of a chord will have `isFirstNote()` = false, but I&#39;d need to double-check that.\r\n\r\n**Parsing chords from MIDI**\r\n\r\nAlthough MIDI data contains timestamps for each Note On and Note Off event, processing chords from MIDI data gets complicated quickly and is beyond what I have been able to implement in JFugue \r\n\r\nHere are some of the reasons why chord processing from MIDI is difficult.\r\n\r\n 1. If the MIDI is a recording of live play, the times may be slightly\r\n    off. \r\n 1. There may be notes that are all played together that are not\r\n    part of a single chord, or that are part of two chords, or some\r\n    notes are chord and some are melody.  \r\n 1. There could be a chord that is played arpeggiated.  \r\n 1. There are chord inversions to think about.\r\n 1. In MIDI, a Note On or Note Off event can appear anywhere in the MIDI stream! Usually, they&#39;re in the right temporal order, but this is not necessarily the case. So we couldn&#39;t determine a chord until the full MIDI is parsed.\r\n 1. Notes that take place at the same time but in different channels should not be chords - but that&#39;s an assumption that may not always be true.\r\n\r\nI realize there are music notation tools that can read MIDI and resolve chords, but I imagine those come with some assumptions about the music and have undergone a lot of trial and error in their development. As JFugue currently stands, it just reads all MIDI notes as notes. Every note read from MIDI will appear as isFirstNote() with no recognition about whether the note is in harmony or melody.","title":"JFugue ParserListenerAdapter onChordParsed method not invoked","body":"<p>You're right, <code>onChordParsed</code> isn't called - and should probably be removed from the API - and <code>onNoteParsed</code> is used instead.</p>\n<p><strong>Parsing chords from a Staccato string</strong></p>\n<p>When JFugue processes a chord, it breaks the chord into individual notes - which is necessary to support cases where some of the notes might change in melody during what would otherwise be a chord. As far as JFugue is concerned, &quot;Cmaj&quot; looks just like &quot;C+E+G&quot;, but the latter provides more resolution, allowing things like &quot;Cw+Eh_Ebh+Gw&quot;.</p>\n<p>You can still do what you want, though. When you get an <code>onNoteParsed</code> event, the Note will tell you whether it's the first note in a sequence, a next note in a sequence, or another note in melody during a sequence.</p>\n<p>For each note coming in, use the note's <code>isFirstNote()</code>, <code>isHarmonicNote()</code>, and <code>isMelodicNote()</code> methods to determine whether a note is in a chord. I believe what you'd see for Cw+Eh_Ebh+Gw is:</p>\n<ul>\n<li>C - first note</li>\n<li>E - harmonic note</li>\n<li>Eb - melodic note</li>\n<li>G - harmonic note</li>\n</ul>\n<p>I <em>think</em> that a single note that is not part of a chord will have <code>isFirstNote()</code> = false, but I'd need to double-check that.</p>\n<p><strong>Parsing chords from MIDI</strong></p>\n<p>Although MIDI data contains timestamps for each Note On and Note Off event, processing chords from MIDI data gets complicated quickly and is beyond what I have been able to implement in JFugue</p>\n<p>Here are some of the reasons why chord processing from MIDI is difficult.</p>\n<ol>\n<li>If the MIDI is a recording of live play, the times may be slightly\noff.</li>\n<li>There may be notes that are all played together that are not\npart of a single chord, or that are part of two chords, or some\nnotes are chord and some are melody.</li>\n<li>There could be a chord that is played arpeggiated.</li>\n<li>There are chord inversions to think about.</li>\n<li>In MIDI, a Note On or Note Off event can appear anywhere in the MIDI stream! Usually, they're in the right temporal order, but this is not necessarily the case. So we couldn't determine a chord until the full MIDI is parsed.</li>\n<li>Notes that take place at the same time but in different channels should not be chords - but that's an assumption that may not always be true.</li>\n</ol>\n<p>I realize there are music notation tools that can read MIDI and resolve chords, but I imagine those come with some assumptions about the music and have undergone a lot of trial and error in their development. As JFugue currently stands, it just reads all MIDI notes as notes. Every note read from MIDI will appear as isFirstNote() with no recognition about whether the note is in harmony or melody.</p>\n"}],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74379943,"answer_count":1,"score":1,"last_activity_date":1668636654,"creation_date":1667899664,"question_id":74358365,"body_markdown":"I am trying to read a midi file that contains only a guitar track. The track is made of both single notes and chords.\r\nWhile i can successfully read all notes through onNoteParsed method, i cannot read chords.\r\nIn fact the onChordParsed method is never invoked.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.jfugue.parser.ParserListenerAdapter;\r\n    import org.jfugue.theory.Chord;\r\n    import org.jfugue.theory.Note;\r\n    \r\n    public class MusicStringParserListener extends ParserListenerAdapter {\r\n    \r\n        private List&lt;String&gt; tokenList = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        public void onNoteParsed(Note note) {\r\n            tokenList.add(note.getToneString() + note.getOctave() + note.getDuration());\r\n        }\r\n    \r\n        @Override\r\n        public void onChordParsed(Chord chord) {\r\n            System.out.println(&quot;onChordParsed entered&quot;);\r\n        }\r\n        \r\n        public List&lt;String&gt; getTokenList() {\r\n            return tokenList;\r\n        }\r\n    }\r\n\r\nI tried to change the midi file to insert different kinds of chords, like major, minor or power chords, but still that method is not fired.\r\n\r\nAm i missing something here?","title":"JFugue ParserListenerAdapter onChordParsed method not invoked","body":"<p>I am trying to read a midi file that contains only a guitar track. The track is made of both single notes and chords.\nWhile i can successfully read all notes through onNoteParsed method, i cannot read chords.\nIn fact the onChordParsed method is never invoked.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport org.jfugue.parser.ParserListenerAdapter;\nimport org.jfugue.theory.Chord;\nimport org.jfugue.theory.Note;\n\npublic class MusicStringParserListener extends ParserListenerAdapter {\n\n    private List&lt;String&gt; tokenList = new ArrayList&lt;&gt;();\n\n    @Override\n    public void onNoteParsed(Note note) {\n        tokenList.add(note.getToneString() + note.getOctave() + note.getDuration());\n    }\n\n    @Override\n    public void onChordParsed(Chord chord) {\n        System.out.println(&quot;onChordParsed entered&quot;);\n    }\n    \n    public List&lt;String&gt; getTokenList() {\n        return tokenList;\n    }\n}\n</code></pre>\n<p>I tried to change the midi file to insert different kinds of chords, like major, minor or power chords, but still that method is not fired.</p>\n<p>Am i missing something here?</p>\n"},{"tags":["java","github","repository","release","building"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668636091,"creation_date":1668636091,"answer_id":74467781,"question_id":74467408,"body_markdown":"It seems there is neither a build script nor a hint in the documentation.\r\n\r\nThe github repository states that the whole thing is a java project - but no hints for gradle, maven, ant or even some shell script.\r\n\r\nAll in all it may be best to ask the developer Ajarmar. If he does not respond all you can do is poke in the dark.","title":"How to build github project with no build file?","body":"<p>It seems there is neither a build script nor a hint in the documentation.</p>\n<p>The github repository states that the whole thing is a java project - but no hints for gradle, maven, ant or even some shell script.</p>\n<p>All in all it may be best to ask the developer Ajarmar. If he does not respond all you can do is poke in the dark.</p>\n"}],"owner":{"account_id":26955717,"reputation":1,"user_id":20524125,"display_name":"user20524125"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668636091,"creation_date":1668633861,"question_id":74467408,"body_markdown":"basically i am looking to edit the program to fit my own specific use case \r\nbut i have literally 0 clue on how to build it, it has no sl file so i am need someone to point it out.\r\n\r\nhttps://github.com/Ajarmar/universal-pokemon-randomizer-zx/releases\r\n\r\nWell i tried to build with visual studio, or going into gradle and messing around but i cant figure it out i am clueless on this. so any help would be welcome ngl. also i need it to be a .jar file ","title":"How to build github project with no build file?","body":"<p>basically i am looking to edit the program to fit my own specific use case\nbut i have literally 0 clue on how to build it, it has no sl file so i am need someone to point it out.</p>\n<p><a href=\"https://github.com/Ajarmar/universal-pokemon-randomizer-zx/releases\" rel=\"nofollow noreferrer\">https://github.com/Ajarmar/universal-pokemon-randomizer-zx/releases</a></p>\n<p>Well i tried to build with visual studio, or going into gradle and messing around but i cant figure it out i am clueless on this. so any help would be welcome ngl. also i need it to be a .jar file</p>\n"},{"tags":["java","android","reactjs","react-native","class"],"comments":[{"owner":{"account_id":15500158,"reputation":348,"user_id":11710180,"display_name":"Sir Beethoven"},"score":0,"creation_date":1668638249,"post_id":74467662,"comment_id":131457616,"body_markdown":"It might be easier to help you if you include an example of what you&#39;re trying to do","body":"It might be easier to help you if you include an example of what you&#39;re trying to do"},{"owner":{"display_name":"user15660680"},"score":0,"creation_date":1668672829,"post_id":74467662,"comment_id":131464020,"body_markdown":"Have you tried using interface?, please test with that","body":"Have you tried using interface?, please test with that"}],"owner":{"account_id":15318038,"reputation":21,"user_id":11051396,"display_name":"Preetam Rangadal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668635471,"creation_date":1668635471,"question_id":74467662,"body_markdown":"I had to work with accessibility services in android\r\nI have two classes “myaccessibilityclass” (which extends accessibility services) and “my custom class” (which extends react native module) \r\nNow I want data in “myaccessibilityclass” into “my custom class”\r\nHow can I get this please help\r\nI’m working in android section of react native app\r\n\r\nI an new to oops world (new to even programming) so tried some things but those didn’t work ","title":"Send data between two classes","body":"<p>I had to work with accessibility services in android\nI have two classes “myaccessibilityclass” (which extends accessibility services) and “my custom class” (which extends react native module)\nNow I want data in “myaccessibilityclass” into “my custom class”\nHow can I get this please help\nI’m working in android section of react native app</p>\n<p>I an new to oops world (new to even programming) so tried some things but those didn’t work</p>\n"},{"tags":["java","jar","jar-signing"],"comments":[{"owner":{"account_id":40959,"reputation":96707,"user_id":118903,"display_name":"Vinay Sajip"},"score":0,"creation_date":1250582986,"post_id":1291978,"comment_id":1122911,"body_markdown":"Not enough information. *Exactly* when do you get the error? *Exactly* what is the error message? Martin is right about the SF/DSA files, plus you may also have to remove digests from MANIFEST.MF. It&#39;s not a good idea to remove the META-INF directory completely (not sure it&#39;s a valid JAR without manifest)","body":"Not enough information. <i>Exactly</i> when do you get the error? <i>Exactly</i> what is the error message? Martin is right about the SF/DSA files, plus you may also have to remove digests from MANIFEST.MF. It&#39;s not a good idea to remove the META-INF directory completely (not sure it&#39;s a valid JAR without manifest)"}],"answers":[{"comments":[{"owner":{"account_id":32399,"reputation":49187,"user_id":89904,"accept_rate":65,"display_name":"Hamza Yerlikaya"},"score":0,"creation_date":1250575462,"post_id":1292007,"comment_id":1122546,"body_markdown":"I completely remove the META-INF directory still i get no algorithm exception","body":"I completely remove the META-INF directory still i get no algorithm exception"},{"owner":{"account_id":886793,"reputation":1848,"user_id":926057,"accept_rate":82,"display_name":"oᴉɹǝɥɔ"},"score":3,"creation_date":1381783642,"post_id":1292007,"comment_id":28701963,"body_markdown":"This is not practical. When your certificate expires and you need to re-sign 40 jars in that &quot;lib&quot; folder doing this one-by-one would be a pain.","body":"This is not practical. When your certificate expires and you need to re-sign 40 jars in that &quot;lib&quot; folder doing this one-by-one would be a pain."},{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":0,"creation_date":1382020942,"post_id":1292007,"comment_id":28805273,"body_markdown":"cherio, this is still the answer, you might to automate it programatically if you have 40 to unsign. But instead of re-sign a jar in place sign it to a different dir to avoid this issue.","body":"cherio, this is still the answer, you might to automate it programatically if you have 40 to unsign. But instead of re-sign a jar in place sign it to a different dir to avoid this issue."},{"owner":{"account_id":4422,"reputation":7797,"user_id":6629,"accept_rate":75,"display_name":"Kinjal Dixit"},"score":0,"creation_date":1444215596,"post_id":1292007,"comment_id":53805262,"body_markdown":"@cherio for precisely that reason, if you also timestamp when signing then you don&#39;t need to resign them after your certificate expires.","body":"@cherio for precisely that reason, if you also timestamp when signing then you don&#39;t need to resign them after your certificate expires."}],"tags":[],"owner":{"account_id":15562,"reputation":125316,"user_id":33006,"accept_rate":88,"display_name":"Martin v. L&#246;wis"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1250574076,"creation_date":1250574076,"answer_id":1292007,"question_id":1291978,"body_markdown":"When you sign a jar file, new files get added to the META-INF directory, e.g. &quot;MKSIGN.SF&quot; and &quot;MKSIGN.DSA&quot;. Just remove them from the jar file (with any zip utility), and you have it unsigned.","title":"Unsigning a signed jar","body":"<p>When you sign a jar file, new files get added to the META-INF directory, e.g. \"MKSIGN.SF\" and \"MKSIGN.DSA\". Just remove them from the jar file (with any zip utility), and you have it unsigned.</p>\n"},{"tags":[],"owner":{"account_id":1344852,"reputation":834,"user_id":1285811,"accept_rate":46,"display_name":"norbi771"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371037096,"creation_date":1371037096,"answer_id":17064515,"question_id":1291978,"body_markdown":"You have to remove signature files from signed jar. Change its extension to zip, remove signature files, and change back to jar. Since now that jar is no longer unsigned.","title":"Unsigning a signed jar","body":"<p>You have to remove signature files from signed jar. Change its extension to zip, remove signature files, and change back to jar. Since now that jar is no longer unsigned.</p>\n"},{"tags":[],"owner":{"account_id":886793,"reputation":1848,"user_id":926057,"accept_rate":82,"display_name":"oᴉɹǝɥɔ"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1381869092,"creation_date":1381865646,"answer_id":19389538,"question_id":1291978,"body_markdown":"I put together a perl script which I use in production to remove JAR signatures. Just pass the folder with jars as an argument. This works in linux. It may work with cygwin though I haven&#39;t tested it in windows.\r\n\r\n[https://docs.google.com/document/d/1B1uEUIiuxh7WdPldD9rUun3COAefjczfdJTMWEecE1g/edit?usp=sharing][1]\r\n\r\n\r\n  [1]: https://docs.google.com/document/d/1B1uEUIiuxh7WdPldD9rUun3COAefjczfdJTMWEecE1g/edit?usp=sharing","title":"Unsigning a signed jar","body":"<p>I put together a perl script which I use in production to remove JAR signatures. Just pass the folder with jars as an argument. This works in linux. It may work with cygwin though I haven't tested it in windows.</p>\n\n<p><a href=\"https://docs.google.com/document/d/1B1uEUIiuxh7WdPldD9rUun3COAefjczfdJTMWEecE1g/edit?usp=sharing\" rel=\"nofollow\">https://docs.google.com/document/d/1B1uEUIiuxh7WdPldD9rUun3COAefjczfdJTMWEecE1g/edit?usp=sharing</a></p>\n"},{"comments":[{"owner":{"account_id":137956,"reputation":13368,"user_id":342546,"accept_rate":100,"display_name":"tohuwawohu"},"score":1,"creation_date":1453714534,"post_id":32623575,"comment_id":57706511,"body_markdown":"Great - exactly what i needed! If there are multiple files to un-sign, one may use `for i in *.jar; do zip -d &quot;$i&quot; &#39;META-INF/*.SF&#39; &#39;META-INF/*.RSA&#39;;done`...","body":"Great - exactly what i needed! If there are multiple files to un-sign, one may use <code>for i in *.jar; do zip -d &quot;$i&quot; &#39;META-INF&#47;*.SF&#39; &#39;META-INF&#47;*.RSA&#39;;done</code>..."},{"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"score":0,"creation_date":1582567332,"post_id":32623575,"comment_id":106814029,"body_markdown":"some jar use also DSA certs","body":"some jar use also DSA certs"}],"tags":[],"owner":{"account_id":1285590,"reputation":1163,"user_id":1238748,"display_name":"martinhans"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1442472703,"creation_date":1442470143,"answer_id":32623575,"question_id":1291978,"body_markdown":"To remove the signature from a jar file, remove the `META-INF` directory from it. A jar file is a zip file so on Linux you can do this:\r\n\r\n    zip -d file.jar &#39;META-INF/*.SF&#39; &#39;META-INF/*.RSA&#39;\r\n\r\n","title":"Unsigning a signed jar","body":"<p>To remove the signature from a jar file, remove the <code>META-INF</code> directory from it. A jar file is a zip file so on Linux you can do this:</p>\n\n<pre><code>zip -d file.jar 'META-INF/*.SF' 'META-INF/*.RSA'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1217553,"reputation":2750,"user_id":1184842,"accept_rate":92,"display_name":"jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521022069,"creation_date":1521022069,"answer_id":49274845,"question_id":1291978,"body_markdown":"I followed the code from the maven jar signer plugin and remove all signing files and also the checksums from the MANIFEST.MF:\r\n\r\n    find -type f \\( \\( -name &quot;*.RSA&quot; -o -name &quot;*.SF&quot; \\) -o \\( -name &quot;*.EC&quot; -o -name &quot;*.DSA&quot; \\) \\) -print0 | xargs -0 --no-run-if-empty rm -rf\r\n    sed -i &#39;/^Name: .*.class/Q&#39; MANIFEST.MF","title":"Unsigning a signed jar","body":"<p>I followed the code from the maven jar signer plugin and remove all signing files and also the checksums from the MANIFEST.MF:</p>\n\n<pre><code>find -type f \\( \\( -name \"*.RSA\" -o -name \"*.SF\" \\) -o \\( -name \"*.EC\" -o -name \"*.DSA\" \\) \\) -print0 | xargs -0 --no-run-if-empty rm -rf\nsed -i '/^Name: .*.class/Q' MANIFEST.MF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1039801,"reputation":1,"user_id":1046111,"display_name":"Jeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570211958,"creation_date":1570211958,"answer_id":58241224,"question_id":1291978,"body_markdown":"You may be running into a specific issue with Bouncy Castle jars. Bouncy Castle implements the Cryptographic Service Provider interface and as such may be using a self-verification technique presented in the [technotes of Java&#39;s documentation][1].\r\n\r\nIn the case of Bouncy Castle, the &quot;fat jar&quot; technique may not be possible. You could use an alternative class loading approach that would load the intact bouncy castle jars from within your own jar (using the jar://path/to/jar!/path/within/jar syntax with a URLClassLoader) but I have not tried this and my not be right for your needs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/HowToImplAProvider.html#integritycheck","title":"Unsigning a signed jar","body":"<p>You may be running into a specific issue with Bouncy Castle jars. Bouncy Castle implements the Cryptographic Service Provider interface and as such may be using a self-verification technique presented in the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/HowToImplAProvider.html#integritycheck\" rel=\"nofollow noreferrer\">technotes of Java's documentation</a>.</p>\n\n<p>In the case of Bouncy Castle, the \"fat jar\" technique may not be possible. You could use an alternative class loading approach that would load the intact bouncy castle jars from within your own jar (using the jar://path/to/jar!/path/within/jar syntax with a URLClassLoader) but I have not tried this and my not be right for your needs.</p>\n"},{"tags":[],"owner":{"account_id":457083,"reputation":4424,"user_id":856172,"display_name":"kbulgrien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668634708,"creation_date":1668634708,"answer_id":74467547,"question_id":1291978,"body_markdown":"Other answers mention using a zip utility.  This answer shows that the [Java Platform Standard Edition Tools jar][1] utility can do this also.\r\n\r\nRemove signature files from a jar file by removing the META-INF directory content from it:\r\n\r\n    mkdir tmp\r\n    cd tmp\r\n    jar -xvf ../signed.jar\r\n    rm -f META-INF/*\r\n\r\nRepackage the files, without signature files, back into a new .jar file:\r\n\r\n    jar -cvf ../unsigned.jar\r\n\r\nWhen the jar file content is coordinated around an .xml file in the top-level of the extracted jar file content, sometimes it is feasible to rebuild a jar file like this:\r\n\r\n    jar -cvf ../rebuilt.jar my.xml \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jar.html","title":"Unsigning a signed jar","body":"<p>Other answers mention using a zip utility.  This answer shows that the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jar.html\" rel=\"nofollow noreferrer\">Java Platform Standard Edition Tools jar</a> utility can do this also.</p>\n<p>Remove signature files from a jar file by removing the META-INF directory content from it:</p>\n<pre><code>mkdir tmp\ncd tmp\njar -xvf ../signed.jar\nrm -f META-INF/*\n</code></pre>\n<p>Repackage the files, without signature files, back into a new .jar file:</p>\n<pre><code>jar -cvf ../unsigned.jar\n</code></pre>\n<p>When the jar file content is coordinated around an .xml file in the top-level of the extracted jar file content, sometimes it is feasible to rebuild a jar file like this:</p>\n<pre><code>jar -cvf ../rebuilt.jar my.xml \n</code></pre>\n"}],"owner":{"account_id":32399,"reputation":49187,"user_id":89904,"accept_rate":65,"display_name":"Hamza Yerlikaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20915,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":7,"score":12,"last_activity_date":1668634708,"creation_date":1250573598,"question_id":1291978,"body_markdown":"I am using bouncy castle provider for AES encryption. I need to create a fat jar from bc and my jar but as soon as i do it i get Algorithm not found exception. Is it possible to get rid of the sign and create regular jar out of it?\r\n\r\nMy build process is..\r\n\r\n- i unzip all jars in to my build directory.\r\n- then remove META-INF directory\r\n- compile my application\r\n- jar it using ant\r\n\r\niget the error when i try to use the \r\n\r\nSecretKeyFactory.getInstance(algorithm);\r\n\r\nalgorithm is PBEWITHSHA256AND128BITAES-CBC-BC from bouncy castle.\r\n","title":"Unsigning a signed jar","body":"<p>I am using bouncy castle provider for AES encryption. I need to create a fat jar from bc and my jar but as soon as i do it i get Algorithm not found exception. Is it possible to get rid of the sign and create regular jar out of it?</p>\n\n<p>My build process is..</p>\n\n<ul>\n<li>i unzip all jars in to my build directory.</li>\n<li>then remove META-INF directory</li>\n<li>compile my application</li>\n<li>jar it using ant</li>\n</ul>\n\n<p>iget the error when i try to use the </p>\n\n<p>SecretKeyFactory.getInstance(algorithm);</p>\n\n<p>algorithm is PBEWITHSHA256AND128BITAES-CBC-BC from bouncy castle.</p>\n"},{"tags":["java","arraylist","synchronized"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312281912,"creation_date":1312280492,"answer_id":6910532,"question_id":6910512,"body_markdown":"&gt;Does it mean that if we declare an ArrayList in object scope, multiple threads accessing the objects have the opportunity to modify the list ?\r\n\r\n\r\nYes. If multiple threads operate on it at the same time, it may result in unexpected behaviour\r\n","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<blockquote>\n  <p>Does it mean that if we declare an ArrayList in object scope, multiple threads accessing the objects have the opportunity to modify the list ?</p>\n</blockquote>\n\n<p>Yes. If multiple threads operate on it at the same time, it may result in unexpected behaviour</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1433146095,"creation_date":1312280511,"answer_id":6910538,"question_id":6910512,"body_markdown":"&gt; ***What does it mean when we say an ArrayList is not synchronized?*** \r\n\r\nIt means that accessing an `ArrayList` instance from multiple threads may not be safe (read, &quot;may result in unexpected behavior&quot; or &quot;may not work as advertised&quot;).\r\n\r\nFurther reading:\r\n\r\n- [Synchronization and thread safety in Java](http://www.javamex.com/tutorials/threads/thread_safety.shtml)\r\n- [Meaning of Java thread safety](http://www.geekinterview.com/talk/14667-java-thread-safe-meaning.html).\r\n\r\n&gt; ***Does it mean that if we declare an ArrayList in object scope, multiple threads accessing the objects have the opportunity to modify the list?***\r\n\r\nEven if it would have been thread safe, multiple threads would be able to modify the list. \r\n\r\nThe difference is that if it&#39;s not thread safe and multiple threads access the list, all bets are off. Saying that the class is not thread safe, is the same as adding &quot;If accessed from one thread at a time, this method works as follows.....&quot; in front of every method description.","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<blockquote>\n  <p><strong><em>What does it mean when we say an ArrayList is not synchronized?</em></strong> </p>\n</blockquote>\n\n<p>It means that accessing an <code>ArrayList</code> instance from multiple threads may not be safe (read, \"may result in unexpected behavior\" or \"may not work as advertised\").</p>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"http://www.javamex.com/tutorials/threads/thread_safety.shtml\" rel=\"noreferrer\">Synchronization and thread safety in Java</a></li>\n<li><a href=\"http://www.geekinterview.com/talk/14667-java-thread-safe-meaning.html\" rel=\"noreferrer\">Meaning of Java thread safety</a>.</li>\n</ul>\n\n<blockquote>\n  <p><strong><em>Does it mean that if we declare an ArrayList in object scope, multiple threads accessing the objects have the opportunity to modify the list?</em></strong></p>\n</blockquote>\n\n<p>Even if it would have been thread safe, multiple threads would be able to modify the list. </p>\n\n<p>The difference is that if it's not thread safe and multiple threads access the list, all bets are off. Saying that the class is not thread safe, is the same as adding \"If accessed from one thread at a time, this method works as follows.....\" in front of every method description.</p>\n"},{"tags":[],"owner":{"account_id":27626,"reputation":346938,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312280555,"creation_date":1312280555,"answer_id":6910551,"question_id":6910512,"body_markdown":"It means that instances of ArrayList are not guaranteed to be threadsafe. This usually includes both read and write access. If you do it without external synchronization you can leave the object in stange states and get some hard to debug behavior.","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<p>It means that instances of ArrayList are not guaranteed to be threadsafe. This usually includes both read and write access. If you do it without external synchronization you can leave the object in stange states and get some hard to debug behavior.</p>\n"},{"tags":[],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312281121,"creation_date":1312281121,"answer_id":6910664,"question_id":6910512,"body_markdown":"Being synchronized means that every operation is thread safe - if you use the same Array List from two threads at the same time, they can&#39;t corrupt the state. However, this makes it slower.\r\n\r\nBy default ArrayList is not synchronized, you can achieved that by **synchronized** keyword\r\n\r\n    ArrayList al=new ArrayList();\r\n    \r\n    Collections.synchronized(al);","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<p>Being synchronized means that every operation is thread safe - if you use the same Array List from two threads at the same time, they can't corrupt the state. However, this makes it slower.</p>\n\n<p>By default ArrayList is not synchronized, you can achieved that by <strong>synchronized</strong> keyword</p>\n\n<pre><code>ArrayList al=new ArrayList();\n\nCollections.synchronized(al);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1586256304,"post_id":6911024,"comment_id":108055627,"body_markdown":"If we use same object reference among multiple threads, no object is thread safe. why are we here specifically saying that ArrayList is not thread safe?","body":"If we use same object reference among multiple threads, no object is thread safe. why are we here specifically saying that ArrayList is not thread safe?"}],"tags":[],"owner":{"account_id":110120,"reputation":4781,"user_id":291538,"accept_rate":91,"display_name":"rompetroll"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1312283080,"creation_date":1312283080,"answer_id":6911024,"question_id":6910512,"body_markdown":"Synchronized or not, an ArrayList can always be modified by multiple threads. Synchronization is about preventing **concurrent** access.\r\n\r\nWith ArrayList (or Collections in general) there are two concurrency problems.\r\n\r\n***First***, there is method synchronization. This means, all calls to methods of an ArrayList instance are synchronized. So there is always only one method executed at a time. All other method calls that happen while the first method still computes are queued until the running method is completed.\r\n\r\nMethod synchronization can be ensured by wrapping an ArrayList like this:\r\n\r\n    List list = Collections.synchronizedList(new ArrayList());\r\n\r\nExample: assume two threads try to do the following at the same time:\r\n\r\n    list.add(0, &quot;test&quot;);\r\n\r\nIf you have a synchronized list, you are guaranteed that the list afterwords starts with two &quot;test&quot; entries. If the list is not synchronized, you might get a list with only one &quot;test&quot; entry... or other unexpected results.\r\n\r\n\r\n\r\n***Second***, there is instance synchronization. Here we not only prevent concurrent method calls, but we make sure that only one thread has access to the list object for a time. This is important if you have pieces of logic that require that the list remains in an unchanged state until the logic is done. For example iterating over lists. You don&#39;t want other threads to add elements while you iterate over a list.\r\n\r\nThis kind of synchronization is done by wrapping your piece of logic with a synchronized block:\r\n\r\n    synchronized(list) {\r\n          for (Object o:list) {\r\n             ...\r\n          }\r\n    }","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<p>Synchronized or not, an ArrayList can always be modified by multiple threads. Synchronization is about preventing <strong>concurrent</strong> access.</p>\n\n<p>With ArrayList (or Collections in general) there are two concurrency problems.</p>\n\n<p><em><strong>First</em></strong>, there is method synchronization. This means, all calls to methods of an ArrayList instance are synchronized. So there is always only one method executed at a time. All other method calls that happen while the first method still computes are queued until the running method is completed.</p>\n\n<p>Method synchronization can be ensured by wrapping an ArrayList like this:</p>\n\n<pre><code>List list = Collections.synchronizedList(new ArrayList());\n</code></pre>\n\n<p>Example: assume two threads try to do the following at the same time:</p>\n\n<pre><code>list.add(0, \"test\");\n</code></pre>\n\n<p>If you have a synchronized list, you are guaranteed that the list afterwords starts with two \"test\" entries. If the list is not synchronized, you might get a list with only one \"test\" entry... or other unexpected results.</p>\n\n<p><em><strong>Second</em></strong>, there is instance synchronization. Here we not only prevent concurrent method calls, but we make sure that only one thread has access to the list object for a time. This is important if you have pieces of logic that require that the list remains in an unchanged state until the logic is done. For example iterating over lists. You don't want other threads to add elements while you iterate over a list.</p>\n\n<p>This kind of synchronization is done by wrapping your piece of logic with a synchronized block:</p>\n\n<pre><code>synchronized(list) {\n      for (Object o:list) {\n         ...\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15901808,"reputation":51,"user_id":11473991,"display_name":"Nirmal Lamrin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557813298,"creation_date":1557813298,"answer_id":56123823,"question_id":6910512,"body_markdown":"Being synchronized means that every operation is thread safe - if you use the same vector from two threads at the same time, they can&#39;t corrupt the state. However, this makes it slower. \r\n\r\nIf you are working in a single threaded environment (or the list is limited to a thread and never shared), use ArrayList. If you are working with multiple threads that share the same collection, either use Vector, or use ArrayList but synchronize in some other way (e.g., manually or via a wrapper).\r\n\r\n","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<p>Being synchronized means that every operation is thread safe - if you use the same vector from two threads at the same time, they can't corrupt the state. However, this makes it slower. </p>\n\n<p>If you are working in a single threaded environment (or the list is limited to a thread and never shared), use ArrayList. If you are working with multiple threads that share the same collection, either use Vector, or use ArrayList but synchronize in some other way (e.g., manually or via a wrapper).</p>\n"},{"tags":[],"owner":{"account_id":23333275,"reputation":1,"user_id":17409348,"display_name":"Beekei_Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668634545,"creation_date":1668634545,"answer_id":74467517,"question_id":6910512,"body_markdown":"Accessing arraylist&#39;s instances from multiple threads is not safe considerable. There are some alternate way to go there **Arraylist ** is not like linkdlist. They may sound similar but not made internally same.\r\n\r\n    Arraylist&lt;datamodel&gt; are;","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<p>Accessing arraylist's instances from multiple threads is not safe considerable. There are some alternate way to go there **Arraylist ** is not like linkdlist. They may sound similar but not made internally same.</p>\n<pre><code>Arraylist&lt;datamodel&gt; are;\n</code></pre>\n"}],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27964,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":6910538,"answer_count":7,"score":23,"last_activity_date":1668634545,"creation_date":1312280417,"question_id":6910512,"body_markdown":"What does it mean when we say an ArrayList is not synchronized? \r\n\r\nDoes it mean that if we declare an ArrayList in object scope, multiple threads accessing the objects have the opportunity to modify the list?","title":"What does it mean when we say an ArrayList is not synchronized?","body":"<p>What does it mean when we say an ArrayList is not synchronized? </p>\n\n<p>Does it mean that if we declare an ArrayList in object scope, multiple threads accessing the objects have the opportunity to modify the list?</p>\n"},{"tags":["java","collections","jackson","stream"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668634159,"creation_date":1668634159,"answer_id":74467461,"question_id":74465288,"body_markdown":"You can always convert it to `Map` after deserialisation:\r\n\r\n    List&lt;Foo&gt; list = deserialiseToList();\r\n    Map&lt;String, Foo&gt; map = list.stream().collect(\r\n      Collectors.toMap(Foo::getProperty, Function.identity()));;\r\n\r\nWhere `getProperty` is a member of a `Foo` class.\r\n\r\nSee:\r\n\r\n - [Java 8 Collectors toMap](https://www.baeldung.com/java-collectors-tomap)","title":"How to deserialize a csv file into a map w/ Jackson","body":"<p>You can always convert it to <code>Map</code> after deserialisation:</p>\n<pre><code>List&lt;Foo&gt; list = deserialiseToList();\nMap&lt;String, Foo&gt; map = list.stream().collect(\n  Collectors.toMap(Foo::getProperty, Function.identity()));;\n</code></pre>\n<p>Where <code>getProperty</code> is a member of a <code>Foo</code> class.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-collectors-tomap\" rel=\"nofollow noreferrer\">Java 8 Collectors toMap</a></li>\n</ul>\n"}],"owner":{"account_id":26954181,"reputation":1,"user_id":20522851,"display_name":"talfelt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668634159,"creation_date":1668622211,"question_id":74465288,"body_markdown":"I have a `CSV` file that I want to deserialise into an object with `Jackson`.\r\n```java\r\nclass Foo{\r\n\r\n   string x, y, z;\r\n\r\n}\r\n```\r\nI can deserialise it into a `List&lt;Foo&gt;`. But is there a way to deserialise it into a `Map&lt;String, Foo&gt;`? Where the key is one of the members in `Foo`.","title":"How to deserialize a csv file into a map w/ Jackson","body":"<p>I have a <code>CSV</code> file that I want to deserialise into an object with <code>Jackson</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo{\n\n   string x, y, z;\n\n}\n</code></pre>\n<p>I can deserialise it into a <code>List&lt;Foo&gt;</code>. But is there a way to deserialise it into a <code>Map&lt;String, Foo&gt;</code>? Where the key is one of the members in <code>Foo</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668627946,"post_id":74466321,"comment_id":131454481,"body_markdown":"You literally can&#39;t do this, certainly not without passing a `Supplier&lt;T&gt;`.","body":"You literally can&#39;t do this, certainly not without passing a <code>Supplier&lt;T&gt;</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668628098,"post_id":74466321,"comment_id":131454536,"body_markdown":"I recommend reading about type erasure, e.g. in [this article at `docs.oracle.com`](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html).","body":"I recommend reading about type erasure, e.g. in <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">this article at <code>docs.oracle.com</code></a>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668628154,"post_id":74466321,"comment_id":131454549,"body_markdown":"Does this answer your question? [Java generics type erasure: when and what happens?](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">Java generics type erasure: when and what happens?</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668628229,"post_id":74466321,"comment_id":131454578,"body_markdown":"You sort-of can do this (with `Class`/`Constructor`/reflection in general), but it&#39;s very brittle, slow, and verbose. A counter-question: _why_ do you want this? For what purpose does it serve (beyond just &quot;being used in your method&quot;, _what_ is that method truly for?).","body":"You sort-of can do this (with <code>Class</code>/<code>Constructor</code>/reflection in general), but it&#39;s very brittle, slow, and verbose. A counter-question: <i>why</i> do you want this? For what purpose does it serve (beyond just &quot;being used in your method&quot;, <i>what</i> is that method truly for?)."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668628671,"post_id":74466321,"comment_id":131454729,"body_markdown":"@Rogue: even with reflection, you can&#39;t necessarily do it without passing the `Class` object or the like.  (You could do it _if_ the list is nonempty and _if_ the elements of the list are all going to be the same concrete type.)","body":"@Rogue: even with reflection, you can&#39;t necessarily do it without passing the <code>Class</code> object or the like.  (You could do it <i>if</i> the list is nonempty and <i>if</i> the elements of the list are all going to be the same concrete type.)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668628733,"post_id":74466321,"comment_id":131454748,"body_markdown":"@LouisWasserman hence `Class`. That said, the whole question smells of an [XY Problem](https://xyproblem.info/).","body":"@LouisWasserman hence <code>Class</code>. That said, the whole question smells of an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1668630781,"post_id":74466321,"comment_id":131455433,"body_markdown":"Does this answer your question? [Why can&#39;t you create an instance of a generic type using &quot;new&quot; operator?](https://stackoverflow.com/questions/30646486/why-cant-you-create-an-instance-of-a-generic-type-using-new-operator)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30646486/why-cant-you-create-an-instance-of-a-generic-type-using-new-operator\">Why can&#39;t you create an instance of a generic type using &quot;new&quot; operator?</a>"},{"owner":{"account_id":26954780,"reputation":19,"user_id":20523361,"display_name":"Celso Henrique"},"score":0,"creation_date":1668707562,"post_id":74466321,"comment_id":131477487,"body_markdown":"I am still not sure how to pass a Class&lt;t&gt; to my new instance.\nClass&lt;T&gt; type;\n            type = null;//I have tried to initiate it with many values, but I don&#39;t seem to get it right.\n\n            T foo= newInstance(type);\n\n    public &lt;T&gt; T newInstance(Class&lt;T&gt; cls) throws InstantiationException, IllegalAccessException {\n        T myObject = cls.newInstance();\n        return myObject;\n    }","body":"I am still not sure how to pass a Class&lt;t&gt; to my new instance. Class&lt;T&gt; type;             type = null;//I have tried to initiate it with many values, but I don&#39;t seem to get it right.              T foo= newInstance(type);      public &lt;T&gt; T newInstance(Class&lt;T&gt; cls) throws InstantiationException, IllegalAccessException {         T myObject = cls.newInstance();         return myObject;     }"}],"owner":{"account_id":26954780,"reputation":19,"user_id":20523361,"display_name":"Celso Henrique"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1668633025,"creation_date":1668627872,"question_id":74466321,"body_markdown":"I am new to java generics and I need to instantiate a new instance of a `T` object my `&lt;T extends Foo&gt;`. But I am having trouble finding a way to do that. How can I create a new instance of an object `T`.\r\n\r\nHere is how my method look like\r\n\r\n    Class Bar extends Foo{\r\n      public Bar(){}\r\n    \r\n      @Override\r\n      doThings(){}\r\n    }\r\n    \r\n    class Foo {\r\n      public Foo(){}\r\n      \r\n      doThings(){}\r\n    }\r\n    \r\n    private &lt;T extends Foo&gt; List&lt;T&gt; doSommething(Somedata data, List&lt;T&gt; foos) {\r\n    \r\n      T t = new T();//I need to instantiate a T object that works for foo and bar\r\n      foos.add(t);//t here could be foo, or bar\r\n      return foos;\r\n    }\r\n\r\n\r\nI have tried:\r\n\r\n    T t = new T(); wrong\r\n    \r\n    T t = (T)(new Foo()); that gives me a foo obj, but I need a T object that extends Foo;\r\n    \r\n    T t;\r\n    t.doSomething(); //that asks me to assign a value to t\r\n    \r\n    t = null\r\n    t.doSomething(); //null exception\r\n\r\nI expect to create an instance of an object `T` that works for `Foo` and `Bar`","title":"how to create a new instance of T where &lt;T extend Foo&gt; and foo is not a type T class","body":"<p>I am new to java generics and I need to instantiate a new instance of a <code>T</code> object my <code>&lt;T extends Foo&gt;</code>. But I am having trouble finding a way to do that. How can I create a new instance of an object <code>T</code>.</p>\n<p>Here is how my method look like</p>\n<pre><code>Class Bar extends Foo{\n  public Bar(){}\n\n  @Override\n  doThings(){}\n}\n\nclass Foo {\n  public Foo(){}\n  \n  doThings(){}\n}\n\nprivate &lt;T extends Foo&gt; List&lt;T&gt; doSommething(Somedata data, List&lt;T&gt; foos) {\n\n  T t = new T();//I need to instantiate a T object that works for foo and bar\n  foos.add(t);//t here could be foo, or bar\n  return foos;\n}\n</code></pre>\n<p>I have tried:</p>\n<pre><code>T t = new T(); wrong\n\nT t = (T)(new Foo()); that gives me a foo obj, but I need a T object that extends Foo;\n\nT t;\nt.doSomething(); //that asks me to assign a value to t\n\nt = null\nt.doSomething(); //null exception\n</code></pre>\n<p>I expect to create an instance of an object <code>T</code> that works for <code>Foo</code> and <code>Bar</code></p>\n"},{"tags":["java","jaxb","glassfish-3"],"comments":[{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1346765525,"post_id":12264106,"comment_id":16444153,"body_markdown":"How does you `questionSet` class look ?","body":"How does you <code>questionSet</code> class look ?"},{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1346765562,"post_id":12264106,"comment_id":16444175,"body_markdown":"What happens when you create the `JAXBContext` in a standalone application outside of GlassFish?","body":"What happens when you create the <code>JAXBContext</code> in a standalone application outside of GlassFish?"},{"owner":{"account_id":1004551,"reputation":405,"user_id":1018644,"accept_rate":53,"display_name":"Eva Donaldson"},"score":0,"creation_date":1346769118,"post_id":12264106,"comment_id":16446088,"body_markdown":"Blaise Doughan - I would not know how to create the context outside of Glassfish.  Something has to host it right?  More importantly my issue is really with Glassfish and the logs which is what I am trying to fix so I can figure out how to fix the other stuff, right?     Santosh - I could include the class, but it is really a collection of classes so it is BIG!  Also, I am not really looking to debug the classes here so much as figure out why nothing is showing up in the log.  Can that be effected by the classes themselves?","body":"Blaise Doughan - I would not know how to create the context outside of Glassfish.  Something has to host it right?  More importantly my issue is really with Glassfish and the logs which is what I am trying to fix so I can figure out how to fix the other stuff, right?     Santosh - I could include the class, but it is really a collection of classes so it is BIG!  Also, I am not really looking to debug the classes here so much as figure out why nothing is showing up in the log.  Can that be effected by the classes themselves?"},{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1346771082,"post_id":12264106,"comment_id":16447073,"body_markdown":"If it is your JAXB impl throwing the exceptions then you can get a more detailed trace from a standalone program.  No host is required, a JAXB impl is included in Jaca SE 6:  http://wiki.eclipse.org/EclipseLink/Examples/MOXy/GettingStarted/TheBasics","body":"If it is your JAXB impl throwing the exceptions then you can get a more detailed trace from a standalone program.  No host is required, a JAXB impl is included in Jaca SE 6:  <a href=\"http://wiki.eclipse.org/EclipseLink/Examples/MOXy/GettingStarted/TheBasics\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/MOXy/GettingStarted/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1004551,"reputation":405,"user_id":1018644,"accept_rate":53,"display_name":"Eva Donaldson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1346770738,"creation_date":1346770738,"answer_id":12266213,"question_id":12264106,"body_markdown":"I was never able to determine why the details did not show up in the log.  However, the details do appear in the caught error message so I have added a break point there rather than keep fighting with the log.\r\n\r\nThank you to everyone who thought about it!","title":"Glassfish 3.1, JAXB counts of IllegalAnnotationExceptions, no detail","body":"<p>I was never able to determine why the details did not show up in the log.  However, the details do appear in the caught error message so I have added a break point there rather than keep fighting with the log.</p>\n\n<p>Thank you to everyone who thought about it!</p>\n"},{"tags":[],"owner":{"account_id":26955549,"reputation":1,"user_id":20523984,"display_name":"Jeffrey Ellis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668631943,"creation_date":1668631943,"answer_id":74467078,"question_id":12264106,"body_markdown":"Try doing a `printStackTrace()` on the exception.\r\n\r\nThe `IllegalAnnotationsException` contains a list of `IllegalAnnotationException` objects that contain information about the problematic annotations.  Unfortunately, this list is not appended to the exception message, nor does it fit in the stack trace directly, so you might not see them through normal logging.  But `IllegalAnnotationsException` does overload `toString()` to include this information.  And `printStackTrace()` uses `toString()` in its implementation.","title":"Glassfish 3.1, JAXB counts of IllegalAnnotationExceptions, no detail","body":"<p>Try doing a <code>printStackTrace()</code> on the exception.</p>\n<p>The <code>IllegalAnnotationsException</code> contains a list of <code>IllegalAnnotationException</code> objects that contain information about the problematic annotations.  Unfortunately, this list is not appended to the exception message, nor does it fit in the stack trace directly, so you might not see them through normal logging.  But <code>IllegalAnnotationsException</code> does overload <code>toString()</code> to include this information.  And <code>printStackTrace()</code> uses <code>toString()</code> in its implementation.</p>\n"}],"owner":{"account_id":1004551,"reputation":405,"user_id":1018644,"accept_rate":53,"display_name":"Eva Donaldson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12266213,"answer_count":2,"score":2,"last_activity_date":1668631943,"creation_date":1346763951,"question_id":12264106,"body_markdown":"I have the following method:\r\n\r\n    public String getXML() throws JAXBException, FileNotFoundException {\r\n        StringWriter writer = new StringWriter();\r\n        JAXBContext jc = JAXBContext.newInstance(questionSet.getClass());\r\n        Marshaller m = jc.createMarshaller();\r\n        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE); // Include indentation and linefeeds\r\n        m.marshal(questionSet, writer);\r\n\r\n        return writer.toString();\r\n    }\r\n\r\nIt throws &quot;9 counts of IllegalAnnotationExceptions&quot; on the JAXBContext instantiation line which is nicely recorded to my Glassfish 3.1 log file.  But I see no details as to what those counts are.  Does anyone know why I might not be getting the details?  Is there a configuration change I need to make?\r\n\r\nThanks!","title":"Glassfish 3.1, JAXB counts of IllegalAnnotationExceptions, no detail","body":"<p>I have the following method:</p>\n\n<pre><code>public String getXML() throws JAXBException, FileNotFoundException {\n    StringWriter writer = new StringWriter();\n    JAXBContext jc = JAXBContext.newInstance(questionSet.getClass());\n    Marshaller m = jc.createMarshaller();\n    m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE); // Include indentation and linefeeds\n    m.marshal(questionSet, writer);\n\n    return writer.toString();\n}\n</code></pre>\n\n<p>It throws \"9 counts of IllegalAnnotationExceptions\" on the JAXBContext instantiation line which is nicely recorded to my Glassfish 3.1 log file.  But I see no details as to what those counts are.  Does anyone know why I might not be getting the details?  Is there a configuration change I need to make?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","saml-2.0"],"answers":[{"tags":[],"owner":{"account_id":26955207,"reputation":26,"user_id":20523710,"display_name":"riaeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668631660,"creation_date":1668631660,"answer_id":74467024,"question_id":74441859,"body_markdown":"Taken from [this issue on spring-security&#39;s GitHub][1]:\r\n\r\n&gt; By default, saml2logout() inherits from the logout(). So you can do:\r\n&gt; \r\n&gt; ```java\r\n&gt; \r\n&gt;     http\r\n&gt;         .logout().logoutSuccessUrl(&quot;/myLogoutSuccessUrl&quot;)\r\n&gt;         .saml2Logout(Customizer.withDefaults())\r\n&gt; \r\n&gt; ```\r\n\r\nUsing the code you provided, this would look like this:\r\n\r\n```java\r\n\r\n    @Bean\r\n    SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        http\r\n            //other stuff...\r\n            .logout().logoutSuccessUrl(&quot;/myLogoutSuccessUrl&quot;)\r\n            .saml2Logout(withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/12111#issuecomment-1297239583","title":"Spring Security SAML: How to configure redirect URL after successful logout","body":"<p>Taken from <a href=\"https://github.com/spring-projects/spring-security/issues/12111#issuecomment-1297239583\" rel=\"nofollow noreferrer\">this issue on spring-security's GitHub</a>:</p>\n<blockquote>\n<p>By default, saml2logout() inherits from the logout(). So you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    http\n        .logout().logoutSuccessUrl(&quot;/myLogoutSuccessUrl&quot;)\n        .saml2Logout(Customizer.withDefaults())\n\n</code></pre>\n</blockquote>\n<p>Using the code you provided, this would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        http\n            //other stuff...\n            .logout().logoutSuccessUrl(&quot;/myLogoutSuccessUrl&quot;)\n            .saml2Logout(withDefaults());\n\n        return http.build();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":26869777,"reputation":13,"user_id":20451962,"display_name":"gzg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74467024,"answer_count":1,"score":0,"last_activity_date":1668631660,"creation_date":1668496679,"question_id":74441859,"body_markdown":"The Spring Security SAML module, when configured with:\r\n```\r\n    @Bean\r\n    SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        http\r\n            //other stuff...\r\n            .saml2Logout(withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n```\r\nwill redirect to *localhost:port/login?logout* by default, and it&#39;s also stated in the documentation that it can *&quot;Redirect to any configured successful logout endpoint&quot;*, but I can&#39;t seem to find where or how to configure this redirect URL.\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/saml2/logout.html\r\n\r\nI&#39;ve checked the 5 customizable components demonstrated in the doc (Logout request &amp; response resolutions, authentication and storage) but none of them seems to cover the redirect URL.\r\n\r\nAnother not-so-elegant approach I thought is to apply a filter externally to redirect any request to &quot;/login?logout&quot; to my desired redirect location, but it&#39;s definitely not the proper solution. ","title":"Spring Security SAML: How to configure redirect URL after successful logout","body":"<p>The Spring Security SAML module, when configured with:</p>\n<pre><code>    @Bean\n    SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        http\n            //other stuff...\n            .saml2Logout(withDefaults());\n\n        return http.build();\n    }\n</code></pre>\n<p>will redirect to <em>localhost:port/login?logout</em> by default, and it's also stated in the documentation that it can <em>&quot;Redirect to any configured successful logout endpoint&quot;</em>, but I can't seem to find where or how to configure this redirect URL.</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/logout.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/saml2/logout.html</a></p>\n<p>I've checked the 5 customizable components demonstrated in the doc (Logout request &amp; response resolutions, authentication and storage) but none of them seems to cover the redirect URL.</p>\n<p>Another not-so-elegant approach I thought is to apply a filter externally to redirect any request to &quot;/login?logout&quot; to my desired redirect location, but it's definitely not the proper solution.</p>\n"},{"tags":["java","list","linked-list","nodes","singly-linked-list"],"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1668609591,"post_id":74452298,"comment_id":131447458,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](https://meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"https://meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"comments":[{"owner":{"account_id":14373191,"reputation":102,"user_id":10427291,"display_name":"janst"},"score":0,"creation_date":1668547630,"post_id":74452373,"comment_id":131431315,"body_markdown":"same with size, that should not be static","body":"same with size, that should not be static"}],"tags":[],"owner":{"account_id":14373191,"reputation":102,"user_id":10427291,"display_name":"janst"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668547586,"creation_date":1668547586,"answer_id":74452373,"question_id":74452298,"body_markdown":"Inside your LinkedList class you declare your Nodes &quot;first&quot; and &quot;last&quot; as static. This means that both LinkedLists share the same first and last. You wont be able to have a separate linked list if they remain static.","title":"Getting an error when creating two separate linkedlists in Java","body":"<p>Inside your LinkedList class you declare your Nodes &quot;first&quot; and &quot;last&quot; as static. This means that both LinkedLists share the same first and last. You wont be able to have a separate linked list if they remain static.</p>\n"}],"owner":{"account_id":18709347,"reputation":1,"user_id":19796143,"display_name":"anon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74452373,"answer_count":1,"score":-1,"last_activity_date":1668631413,"creation_date":1668547145,"question_id":74452298,"body_markdown":"I will do the addition multiplication and print operations of two separate polynomials that I will get from the user. However, when creating two linkedlists in the main class, the nodes that I added to the first linkedlist are replaced by the nodes that I added to the second linkedlist. How can I solve this?\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scn = new Scanner(System.in);\r\n        int coefficient, degree;\r\n        int coef, deg;\r\n        MyLinkedList ml, ml2;\r\n\r\n        ml = new MyLinkedList();\r\n        System.out.println(&quot;Enter the coefficient and power of the first polynomial. Type 0 at the end: &quot;);\r\n        coefficient = scn.nextInt();\r\n        degree = scn.nextInt();\r\n        ml.insertLast(coefficient, degree);\r\n        //System.out.println(ml.toString());\r\n\r\n        while (true) {\r\n            if (coefficient != 0) {\r\n                coefficient = scn.nextInt();\r\n                degree = scn.nextInt();\r\n                ml.insertLast(coefficient, degree);\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        //System.out.println(ml.toString());\r\n        ml2 = new MyLinkedList();\r\n        System.out.println(&quot;Enter the coefficient and power of the second polynomial. Type 0 at the end: &quot;);\r\n        coef = scn.nextInt();\r\n        deg = scn.nextInt();\r\n        ml2.insertLast(coef, deg);\r\n        //System.out.println(ml2.toString());\r\n        while (true) {\r\n            if (coef != 0) {\r\n                coef = scn.nextInt();\r\n                deg = scn.nextInt();\r\n                ml2.insertLast(coef, deg);\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\npublic class MyLinkedList {\r\n    static Node first;\r\n    static Node last;\r\n    static int size = 0;\r\n    public MyLinkedList() {\r\n        first = null;\r\n        last = null;\r\n        size = 0;\r\n    }\r\n    public static void insertLast(int x,int y) {\r\n        Node newNode = new Node(x,y);\r\n        if (first == null) {\r\n            first = newNode;\r\n            last = newNode;\r\n        } else {\r\n            last.next = newNode;\r\n            last = newNode;\r\n        }\r\n        size++;\r\n    }\r\n\r\n    public String toString() {\r\n        Node tmp = first;\r\n        String str = &quot;&quot;;\r\n\r\n        while (tmp != null) {\r\n            str += tmp.coef + &quot;x^&quot;+ tmp.power + &quot;-&gt;&quot;;\r\n            tmp = tmp.next;\r\n        }\r\n        return str;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Getting an error when creating two separate linkedlists in Java","body":"<p>I will do the addition multiplication and print operations of two separate polynomials that I will get from the user. However, when creating two linkedlists in the main class, the nodes that I added to the first linkedlist are replaced by the nodes that I added to the second linkedlist. How can I solve this?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner scn = new Scanner(System.in);\n        int coefficient, degree;\n        int coef, deg;\n        MyLinkedList ml, ml2;\n\n        ml = new MyLinkedList();\n        System.out.println(&quot;Enter the coefficient and power of the first polynomial. Type 0 at the end: &quot;);\n        coefficient = scn.nextInt();\n        degree = scn.nextInt();\n        ml.insertLast(coefficient, degree);\n        //System.out.println(ml.toString());\n\n        while (true) {\n            if (coefficient != 0) {\n                coefficient = scn.nextInt();\n                degree = scn.nextInt();\n                ml.insertLast(coefficient, degree);\n            } else {\n                break;\n            }\n        }\n        //System.out.println(ml.toString());\n        ml2 = new MyLinkedList();\n        System.out.println(&quot;Enter the coefficient and power of the second polynomial. Type 0 at the end: &quot;);\n        coef = scn.nextInt();\n        deg = scn.nextInt();\n        ml2.insertLast(coef, deg);\n        //System.out.println(ml2.toString());\n        while (true) {\n            if (coef != 0) {\n                coef = scn.nextInt();\n                deg = scn.nextInt();\n                ml2.insertLast(coef, deg);\n            } else {\n                break;\n            }\n        }\n    }\n}\npublic class MyLinkedList {\n    static Node first;\n    static Node last;\n    static int size = 0;\n    public MyLinkedList() {\n        first = null;\n        last = null;\n        size = 0;\n    }\n    public static void insertLast(int x,int y) {\n        Node newNode = new Node(x,y);\n        if (first == null) {\n            first = newNode;\n            last = newNode;\n        } else {\n            last.next = newNode;\n            last = newNode;\n        }\n        size++;\n    }\n\n    public String toString() {\n        Node tmp = first;\n        String str = &quot;&quot;;\n\n        while (tmp != null) {\n            str += tmp.coef + &quot;x^&quot;+ tmp.power + &quot;-&gt;&quot;;\n            tmp = tmp.next;\n        }\n        return str;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","macos","jframe","icons"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1668625162,"post_id":74465754,"comment_id":131453487,"body_markdown":"Have you tried testing to see if Toolkit.getDefaultToolkit().getImage(...) is returning the proper icon on Mac?","body":"Have you tried testing to see if Toolkit.getDefaultToolkit().getImage(...) is returning the proper icon on Mac?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668625266,"post_id":74465754,"comment_id":131453524,"body_markdown":"What is happening on mac?","body":"What is happening on mac?"},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668625823,"post_id":74465754,"comment_id":131453700,"body_markdown":"@Jens it simply shows the default java icon","body":"@Jens it simply shows the default java icon"},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668625858,"post_id":74465754,"comment_id":131453710,"body_markdown":"@ControlAltDel yes, its returning the proper image","body":"@ControlAltDel yes, its returning the proper image"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668629782,"post_id":74465754,"comment_id":131455139,"body_markdown":"Use ImageIO to load the image instead of ImageIcon - if the image fails to load for some reason, it will throw an exception","body":"Use ImageIO to load the image instead of ImageIcon - if the image fails to load for some reason, it will throw an exception"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668629829,"post_id":74465754,"comment_id":131455160,"body_markdown":"Try this: `java.net.URL url = getClass().getResource(&quot;/resources/icons/ww_icon.png&quot;); Image image = ImageIO.read(url); setIconImage(image);`","body":"Try this: <code>java.net.URL url = getClass().getResource(&quot;&#47;resources&#47;icons&#47;ww_icon.png&quot;); Image image = ImageIO.read(url); setIconImage(image);</code>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668630881,"creation_date":1668630881,"answer_id":74466886,"question_id":74465754,"body_markdown":"Take a look at the [`Taskbar`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Taskbar.html) class instead\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Image;\r\n    import java.awt.Taskbar;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n\r\n                        Image image = ImageIO.read(getClass().getResource(&quot;/images/16x16.png&quot;));\r\n\r\n                        Taskbar taskbar = Taskbar.getTaskbar();\r\n                        taskbar.setIconImage(image);\r\n\r\n                        JFrame frame = new JFrame();\r\n                        frame.setIconImage(image);\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                setBorder(new EmptyBorder(64, 64, 64, 64));\r\n                add(new JLabel(&quot;Hello World&quot;));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DpEqD.png\r\n\r\nI&#39;d also consider having a look at the [`Desktop`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Desktop.html) class as well","title":"JFrame setIconImage() works on windows but not on Mac","body":"<p>Take a look at the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Taskbar.html\" rel=\"nofollow noreferrer\"><code>Taskbar</code></a> class instead</p>\n<p><a href=\"https://i.stack.imgur.com/DpEqD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DpEqD.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.Image;\nimport java.awt.Taskbar;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n\n                    Image image = ImageIO.read(getClass().getResource(&quot;/images/16x16.png&quot;));\n\n                    Taskbar taskbar = Taskbar.getTaskbar();\n                    taskbar.setIconImage(image);\n\n                    JFrame frame = new JFrame();\n                    frame.setIconImage(image);\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new BorderLayout());\n            setBorder(new EmptyBorder(64, 64, 64, 64));\n            add(new JLabel(&quot;Hello World&quot;));\n        }\n\n    }\n}\n</code></pre>\n<p>I'd also consider having a look at the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Desktop.html\" rel=\"nofollow noreferrer\"><code>Desktop</code></a> class as well</p>\n"}],"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74466886,"answer_count":1,"score":0,"last_activity_date":1668630881,"creation_date":1668624823,"question_id":74465754,"body_markdown":"I was wondering if anyone knows why the following code to set the IconImage from my JFrame only works on windows but not on MacOS.\r\n\r\n```java\r\npublic ClientGUI(String title) {\r\n        setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource(&quot;/icons/ww_icon.png&quot;)));\r\n        setContentPane(contentPane);\r\n        setVisible(true);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n```","title":"JFrame setIconImage() works on windows but not on Mac","body":"<p>I was wondering if anyone knows why the following code to set the IconImage from my JFrame only works on windows but not on MacOS.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ClientGUI(String title) {\n        setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource(&quot;/icons/ww_icon.png&quot;)));\n        setContentPane(contentPane);\n        setVisible(true);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n</code></pre>\n"},{"tags":["java","oop","methods","constructor","static"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1668627115,"post_id":74466146,"comment_id":131454157,"body_markdown":"do you understand what the keyword &quot;this&quot; does?","body":"do you understand what the keyword &quot;this&quot; does?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1668627282,"post_id":74466146,"comment_id":131454225,"body_markdown":"`this.students` makes no sense in a `static` method. Specifically `this` has no meaning here. Simply write `students`.","body":"<code>this.students</code> makes no sense in a <code>static</code> method. Specifically <code>this</code> has no meaning here. Simply write <code>students</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668629295,"post_id":74466146,"comment_id":131454946,"body_markdown":"Remove `static` from every single variable/method aside from `MAX_STUDENTS` and `main`. Don&#39;t add `static` as an access tool, it is more alike to a memory management tool.","body":"Remove <code>static</code> from every single variable/method aside from <code>MAX_STUDENTS</code> and <code>main</code>. Don&#39;t add <code>static</code> as an access tool, it is more alike to a memory management tool."},{"owner":{"account_id":26954839,"reputation":1,"user_id":20523415,"display_name":"gold teeth"},"score":0,"creation_date":1668629392,"post_id":74466146,"comment_id":131454983,"body_markdown":"no it works now but it shows this   Exception in thread &quot;main&quot; java.lang.NullPointerException\n\tat InitializerDemo.addStudent(InitializerDemo.java:28)\n\tat InitializerDemo.main(InitializerDemo.java:39)","body":"no it works now but it shows this   Exception in thread &quot;main&quot; java.lang.NullPointerException \tat InitializerDemo.addStudent(InitializerDemo.java:28) \tat InitializerDemo.main(InitializerDemo.java:39)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668629644,"post_id":74466146,"comment_id":131455091,"body_markdown":"`students` is null. Doing `Student[] students;` is equivalent to `Student[] students = null;`","body":"<code>students</code> is null. Doing <code>Student[] students;</code> is equivalent to <code>Student[] students = null;</code>"},{"owner":{"account_id":26954839,"reputation":1,"user_id":20523415,"display_name":"gold teeth"},"score":0,"creation_date":1668629725,"post_id":74466146,"comment_id":131455118,"body_markdown":"I know but it showing the exception over and over again","body":"I know but it showing the exception over and over again"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668629872,"post_id":74466146,"comment_id":131455167,"body_markdown":"Well, without making `students` into something that isn&#39;t `null`, then you won&#39;t be able to do `students.something` nor `students[i]`, both will cause an NPE (NullPointerException).","body":"Well, without making <code>students</code> into something that isn&#39;t <code>null</code>, then you won&#39;t be able to do <code>students.something</code> nor <code>students[i]</code>, both will cause an NPE (NullPointerException)."},{"owner":{"account_id":26954839,"reputation":1,"user_id":20523415,"display_name":"gold teeth"},"score":0,"creation_date":1668630595,"post_id":74466146,"comment_id":131455380,"body_markdown":"but it wouldn&#39;t make sense to put something if the static array variable already contain the names in the main method with adding the names in the array. I&#39;m sorry, I just confused by the program right now and it so frustrating as hell.","body":"but it wouldn&#39;t make sense to put something if the static array variable already contain the names in the main method with adding the names in the array. I&#39;m sorry, I just confused by the program right now and it so frustrating as hell."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1668695221,"post_id":74466146,"comment_id":131472579,"body_markdown":"You can create an empty array, but Java arrays are fixed-sized (and won&#39;t dynamically make room for new elements). You likely want a `List&lt;Student&gt;` of some kind (`ArrayList`, `LinkedList`, etc).","body":"You can create an empty array, but Java arrays are fixed-sized (and won&#39;t dynamically make room for new elements). You likely want a <code>List&lt;Student&gt;</code> of some kind (<code>ArrayList</code>, <code>LinkedList</code>, etc)."}],"answers":[{"comments":[{"owner":{"account_id":26954839,"reputation":1,"user_id":20523415,"display_name":"gold teeth"},"score":0,"creation_date":1668627971,"post_id":74466193,"comment_id":131454488,"body_markdown":"I tried that it gave this Exception in thread &quot;main&quot; java.lang.NullPointerException\n\tat InitializerDemo.addStudent(InitializerDemo.java:28)\n\tat InitializerDemo.main(InitializerDemo.java:39)","body":"I tried that it gave this Exception in thread &quot;main&quot; java.lang.NullPointerException \tat InitializerDemo.addStudent(InitializerDemo.java:28) \tat InitializerDemo.main(InitializerDemo.java:39)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668628563,"post_id":74466193,"comment_id":131454694,"body_markdown":"you never initialized students, what else do you think would happen?","body":"you never initialized students, what else do you think would happen?"},{"owner":{"account_id":26954839,"reputation":1,"user_id":20523415,"display_name":"gold teeth"},"score":0,"creation_date":1668629426,"post_id":74466193,"comment_id":131455000,"body_markdown":"Instructor = Sally \nNumber of students = 4 \nStudents: [Test Student, Sam, Rajiv, Jennifer, noname, noname, noname, noname, noname, noname] this was the expected output but why does it not print? but I need the student","body":"Instructor = Sally  Number of students = 4  Students: [Test Student, Sam, Rajiv, Jennifer, noname, noname, noname, noname, noname, noname] this was the expected output but why does it not print? but I need the student"},{"owner":{"account_id":26954839,"reputation":1,"user_id":20523415,"display_name":"gold teeth"},"score":0,"creation_date":1668631928,"post_id":74466193,"comment_id":131455792,"body_markdown":"Thanks but for the constructor part if I remove the default constructor it prints all the names with null, null, null, null but I want the noname except nulls","body":"Thanks but for the constructor part if I remove the default constructor it prints all the names with null, null, null, null but I want the noname except nulls"}],"tags":[],"owner":{"account_id":23656220,"reputation":1,"user_id":17684479,"display_name":"Levente Gy&#246;rgyde&#225;k"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668630711,"creation_date":1668627276,"answer_id":74466193,"question_id":74466146,"body_markdown":"Change \r\n`this.students[numStudents++] = s;` \r\nto \r\n`students[numStudents++] = s;`.\r\nI believe that should work.\r\n\r\nYou also have to initialize the students, so change\r\n\r\n    private static Student[] students;\r\nto\r\n\r\n    private static Student[] students = new Student[MAX_STUDENTS];","title":"Static Method addStudents","body":"<p>Change\n<code>this.students[numStudents++] = s;</code>\nto\n<code>students[numStudents++] = s;</code>.\nI believe that should work.</p>\n<p>You also have to initialize the students, so change</p>\n<pre><code>private static Student[] students;\n</code></pre>\n<p>to</p>\n<pre><code>private static Student[] students = new Student[MAX_STUDENTS];\n</code></pre>\n"}],"owner":{"account_id":26954839,"reputation":1,"user_id":20523415,"display_name":"gold teeth"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668630711,"creation_date":1668626999,"question_id":74466146,"body_markdown":"So I need help with this part of JAVA in my COP class OOP programming.\r\nFirst is that I need to change the addStudent to static method but the code will not run because the this.student is not static which makes no sense because it already private static\r\n\r\n\r\n```\r\nimport java.util.Arrays; \r\n \r\npublic class InitializerDemo { \r\n \r\n    public static final int MAX_STUDENTS = 10; \r\n     \r\n    private static Student[] students; \r\n    private Instructor instructor; \r\n    private static int numStudents = 0; \r\n \r\n    // default constructor \r\n    public InitializerDemo() {\r\n    \r\n    } \r\n \r\n    // instructor mutator \r\n    public void setInstructor(Instructor instructor) { \r\n       this.instructor = instructor;\r\n    } \r\n     \r\n    // add a student, increment the count \r\n    //This PART!!! HELP\r\n    public static void addStudent(Student s) { \r\n        this.students[numStudents++] = s;\r\n    } \r\n     \r\n    public static void main(String[] args) { \r\n        // create our aggregator object \r\n        InitializerDemo id = new InitializerDemo(); \r\n         \r\n        // set the instructor \r\n        id.setInstructor(new Instructor(&quot;Sally&quot;)); \r\n         \r\n        // add the students \r\n        id.addStudent(new Student(&quot;Sam&quot;)); \r\n        id.addStudent(new Student(&quot;Rajiv&quot;)); \r\n        id.addStudent(new Student(&quot;Jennifer&quot;)); \r\n        id.addStudent(new Student(&quot;Test Student&quot;));\r\n        \r\n        // output         \r\n        System.out.println(id);   \r\n    } \r\n     \r\n    public String toString() { \r\n        String s = &quot;Instructor = &quot; + instructor + &quot;\\n&quot; + \r\n                   &quot;Number of students = &quot; + numStudents + &quot;\\n&quot; + \r\n                   &quot;Students: &quot; + Arrays.toString(students) + &quot;\\n&quot;; \r\n        return s;   \r\n    } \r\n} \r\n```\r\n```\r\nclass Student { \r\n \r\n    private String name; \r\n \r\n    // instance initializer block \r\n    { \r\n      name = &quot;noname&quot;;  \r\n    } \r\n     \r\n    public Student() { \r\n        \r\n    } \r\n     \r\n    public Student(String name) { \r\n        this.name = name;  \r\n    } \r\n     \r\n    public String toString() { return name; }     \r\n} \r\n \r\n```\r\n```\r\nclass Instructor { \r\n \r\n    private String name; \r\n \r\n    // instance initializer block \r\n    { \r\n      name = &quot;noname&quot;;  \r\n    } \r\n \r\n    public Instructor() { \r\n   \r\n    } \r\n     \r\n    public Instructor(String name) { \r\n      this.name = name;   \r\n    } \r\n     \r\n    public String toString() { return name; } \r\n} \r\n```\r\n\r\n\r\nI need help with that addStudent Method\r\nThese are the instructions and sorry to confuse all you guys and thank you for putting time to help me\r\n\r\nchange the instance variables representing the number of students and the Student array in the aggregator object to private static variables.\r\n \r\n• change the addStudent method in the aggregator object from an instance method to a static method\r\n \r\n• Remove all initialization/instantiation operations from the aggregator object’s default constructor; the constructor can simple be an empty method { }\r\n \r\n• provide a static initializer block in the aggregator object which does the following: \r\n\r\no initializes the number of students to 0\r\n \r\no instantiates the student array\r\n \r\no adds a single student named “Test Student” to the array using the addStudent method ","title":"Static Method addStudents","body":"<p>So I need help with this part of JAVA in my COP class OOP programming.\nFirst is that I need to change the addStudent to static method but the code will not run because the this.student is not static which makes no sense because it already private static</p>\n<pre><code>import java.util.Arrays; \n \npublic class InitializerDemo { \n \n    public static final int MAX_STUDENTS = 10; \n     \n    private static Student[] students; \n    private Instructor instructor; \n    private static int numStudents = 0; \n \n    // default constructor \n    public InitializerDemo() {\n    \n    } \n \n    // instructor mutator \n    public void setInstructor(Instructor instructor) { \n       this.instructor = instructor;\n    } \n     \n    // add a student, increment the count \n    //This PART!!! HELP\n    public static void addStudent(Student s) { \n        this.students[numStudents++] = s;\n    } \n     \n    public static void main(String[] args) { \n        // create our aggregator object \n        InitializerDemo id = new InitializerDemo(); \n         \n        // set the instructor \n        id.setInstructor(new Instructor(&quot;Sally&quot;)); \n         \n        // add the students \n        id.addStudent(new Student(&quot;Sam&quot;)); \n        id.addStudent(new Student(&quot;Rajiv&quot;)); \n        id.addStudent(new Student(&quot;Jennifer&quot;)); \n        id.addStudent(new Student(&quot;Test Student&quot;));\n        \n        // output         \n        System.out.println(id);   \n    } \n     \n    public String toString() { \n        String s = &quot;Instructor = &quot; + instructor + &quot;\\n&quot; + \n                   &quot;Number of students = &quot; + numStudents + &quot;\\n&quot; + \n                   &quot;Students: &quot; + Arrays.toString(students) + &quot;\\n&quot;; \n        return s;   \n    } \n} \n</code></pre>\n<pre><code>class Student { \n \n    private String name; \n \n    // instance initializer block \n    { \n      name = &quot;noname&quot;;  \n    } \n     \n    public Student() { \n        \n    } \n     \n    public Student(String name) { \n        this.name = name;  \n    } \n     \n    public String toString() { return name; }     \n} \n \n</code></pre>\n<pre><code>class Instructor { \n \n    private String name; \n \n    // instance initializer block \n    { \n      name = &quot;noname&quot;;  \n    } \n \n    public Instructor() { \n   \n    } \n     \n    public Instructor(String name) { \n      this.name = name;   \n    } \n     \n    public String toString() { return name; } \n} \n</code></pre>\n<p>I need help with that addStudent Method\nThese are the instructions and sorry to confuse all you guys and thank you for putting time to help me</p>\n<p>change the instance variables representing the number of students and the Student array in the aggregator object to private static variables.</p>\n<p>• change the addStudent method in the aggregator object from an instance method to a static method</p>\n<p>• Remove all initialization/instantiation operations from the aggregator object’s default constructor; the constructor can simple be an empty method { }</p>\n<p>• provide a static initializer block in the aggregator object which does the following:</p>\n<p>o initializes the number of students to 0</p>\n<p>o instantiates the student array</p>\n<p>o adds a single student named “Test Student” to the array using the addStudent method</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668630263,"creation_date":1652514517,"answer_id":72238294,"question_id":72238255,"body_markdown":"First of all, I want to open my answer by saying that you cannot recursively declare an instance of `User` within your `User` class as this will overflow the stack when a new `User` is created. In fact, the creation of a `User` would trigger the creation of another one which in turn would generate another `User` and so forth causing an endless chain of `User` instantiation. This is a logical error.\r\n\r\nAlso, your IDE is probably signaling you another error, a syntax one, about the statement:\r\n\r\n`student.name = &quot;Jack&quot;;`\r\n\r\nAlthough logically incorrect, you are grammatically allowed to declare a `User` within your `User` class, as you&#39;re doing here \r\n\r\n`User student = new User();`\r\n\r\nThis will be interpreted as an attribute of your `User` class. However, you cannot write any logic outside a block. If you want to assign the name &quot;Jack&quot; to your student variable you have three options:\r\n\r\n1. Define a constructor which accepts a name and pass the value Jack to your student instance during its instantiation.\r\n\r\n```\r\npublic class User {\r\n\r\n    public String name;\r\n    public String surname;\r\n    public int age;\r\n    public static String companyname;\r\n\r\n    //Let&#39;s pretend this is fine\r\n    User student = new User(&quot;Jack&quot;);\r\n    \r\n    public User(String name){\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n2. Include your statement within an instance block.\r\n\r\n```\r\npublic class User {\r\n\r\n    public String name;\r\n    public String surname;\r\n    public int age;\r\n    public static String companyname;\r\n\r\n    //Let&#39;s pretend this is fine\r\n    User student = new User();\r\n\r\n    {\r\n        student.name = &quot;Jack&quot;;\r\n    }\r\n}\r\n```\r\n\r\n3. Initialize your student field inside the class constructor.\r\n\r\n```\r\npublic class User {\r\n\r\n    public String name;\r\n    public String surname;\r\n    public int age;\r\n    public static String companyname;\r\n\r\n    //Let&#39;s pretend this is fine\r\n    User student = new User();\r\n\r\n    public User(){\r\n        this.student.name = &quot;Jack&quot;;\r\n    }\r\n}\r\n```\r\n\r\nHowever, all these options have little meaning and they were all meant to let you understand the contexts where you can write your statement. \r\n\r\nI&#39;m assuming that you simply wanted to define a `User` with its actual fields (`name`, `surname`, `age` and `companyname`) and then declare a Student in a &quot;testing&quot; context, like a main method, to test your class. This is most likely what you were attempting to do:\r\n\r\n```\r\npublic class User {\r\n\r\n    public String name;\r\n    public String surname;\r\n    public int age;\r\n    \r\n    public static String companyname;\r\n\r\n    public User(String name, String surname, int age) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n        this.age = age;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        User student = new User(&quot;Jack&quot;, &quot;Black&quot;, 15);\r\n    }\r\n}\r\n```\r\n\r\nOn a side note, you should define a class&#39; attributes (its fields) as `private`. The `public` access modifier is generally meant for the services offered by an object (its methods). This is also known as `information hiding` or `encapsulation`. Basically, you want to hide the internal implementation of your class and protect its state (its fields) from any abuse, like assigning inconsistent values. Your methods are the &quot;outer layer&quot; to regulate the access to your internal state, they contain the logic to prevent misuses and inconsistent changes to the object&#39;s state.\r\n\r\n&lt;h4&gt;No Encapsulation&lt;/h4&gt;\r\n\r\n```\r\npublic class User {\r\n\r\n    public String name;\r\n    public String surname;\r\n    public int age;\r\n   \r\n    public User(String name, String surname, int age) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n        this.age = age;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        User student = new User(&quot;Jack&quot;, &quot;Black&quot;, 15);\r\n        \r\n        //misuse of the object&#39;s attributes\r\n        student.age = -20;\r\n    }\r\n}\r\n```\r\n\r\n&lt;h4&gt;Encapsulation&lt;/h4&gt;\r\n\r\n```\r\npublic class User {\r\n\r\n    private String name;\r\n    private String surname;\r\n    private int age;\r\n\r\n    public User(String name, String surname, int age) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n        this.age = age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        if (age &lt; 0 || age &gt; 120) {\r\n            return;\r\n        }\r\n        this.age = age;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        User student = new User(&quot;Jack&quot;, &quot;Black&quot;, 15);\r\n\r\n        student.age = -20; //gives you an error, you cannot access anymore this field directly\r\n\r\n        student.setAge(-20); //It won&#39;t update its age to -20\r\n        System.out.println(student.getAge()); //It still prints 15\r\n\r\n        student.setAge(25); //Regulates the update and allows the assignment\r\n        System.out.println(student.getAge()); //Prints 25\r\n    }\r\n}\r\n```\r\n\r\nThis article explains quite well the concept of encapsulation:\r\n\r\nhttps://www.geeksforgeeks.org/encapsulation-in-java/","title":"Why can&#39;t I declare object in my local class in Java?","body":"<p>First of all, I want to open my answer by saying that you cannot recursively declare an instance of <code>User</code> within your <code>User</code> class as this will overflow the stack when a new <code>User</code> is created. In fact, the creation of a <code>User</code> would trigger the creation of another one which in turn would generate another <code>User</code> and so forth causing an endless chain of <code>User</code> instantiation. This is a logical error.</p>\n<p>Also, your IDE is probably signaling you another error, a syntax one, about the statement:</p>\n<p><code>student.name = &quot;Jack&quot;;</code></p>\n<p>Although logically incorrect, you are grammatically allowed to declare a <code>User</code> within your <code>User</code> class, as you're doing here</p>\n<p><code>User student = new User();</code></p>\n<p>This will be interpreted as an attribute of your <code>User</code> class. However, you cannot write any logic outside a block. If you want to assign the name &quot;Jack&quot; to your student variable you have three options:</p>\n<ol>\n<li>Define a constructor which accepts a name and pass the value Jack to your student instance during its instantiation.</li>\n</ol>\n<pre><code>public class User {\n\n    public String name;\n    public String surname;\n    public int age;\n    public static String companyname;\n\n    //Let's pretend this is fine\n    User student = new User(&quot;Jack&quot;);\n    \n    public User(String name){\n        this.name = name;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Include your statement within an instance block.</li>\n</ol>\n<pre><code>public class User {\n\n    public String name;\n    public String surname;\n    public int age;\n    public static String companyname;\n\n    //Let's pretend this is fine\n    User student = new User();\n\n    {\n        student.name = &quot;Jack&quot;;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Initialize your student field inside the class constructor.</li>\n</ol>\n<pre><code>public class User {\n\n    public String name;\n    public String surname;\n    public int age;\n    public static String companyname;\n\n    //Let's pretend this is fine\n    User student = new User();\n\n    public User(){\n        this.student.name = &quot;Jack&quot;;\n    }\n}\n</code></pre>\n<p>However, all these options have little meaning and they were all meant to let you understand the contexts where you can write your statement.</p>\n<p>I'm assuming that you simply wanted to define a <code>User</code> with its actual fields (<code>name</code>, <code>surname</code>, <code>age</code> and <code>companyname</code>) and then declare a Student in a &quot;testing&quot; context, like a main method, to test your class. This is most likely what you were attempting to do:</p>\n<pre><code>public class User {\n\n    public String name;\n    public String surname;\n    public int age;\n    \n    public static String companyname;\n\n    public User(String name, String surname, int age) {\n        this.name = name;\n        this.surname = surname;\n        this.age = age;\n    }\n\n    public static void main(String[] args) {\n        User student = new User(&quot;Jack&quot;, &quot;Black&quot;, 15);\n    }\n}\n</code></pre>\n<p>On a side note, you should define a class' attributes (its fields) as <code>private</code>. The <code>public</code> access modifier is generally meant for the services offered by an object (its methods). This is also known as <code>information hiding</code> or <code>encapsulation</code>. Basically, you want to hide the internal implementation of your class and protect its state (its fields) from any abuse, like assigning inconsistent values. Your methods are the &quot;outer layer&quot; to regulate the access to your internal state, they contain the logic to prevent misuses and inconsistent changes to the object's state.</p>\n<h4>No Encapsulation</h4>\n<pre><code>public class User {\n\n    public String name;\n    public String surname;\n    public int age;\n   \n    public User(String name, String surname, int age) {\n        this.name = name;\n        this.surname = surname;\n        this.age = age;\n    }\n\n    public static void main(String[] args) {\n        User student = new User(&quot;Jack&quot;, &quot;Black&quot;, 15);\n        \n        //misuse of the object's attributes\n        student.age = -20;\n    }\n}\n</code></pre>\n<h4>Encapsulation</h4>\n<pre><code>public class User {\n\n    private String name;\n    private String surname;\n    private int age;\n\n    public User(String name, String surname, int age) {\n        this.name = name;\n        this.surname = surname;\n        this.age = age;\n    }\n\n    public void setAge(int age) {\n        if (age &lt; 0 || age &gt; 120) {\n            return;\n        }\n        this.age = age;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public static void main(String[] args) {\n        User student = new User(&quot;Jack&quot;, &quot;Black&quot;, 15);\n\n        student.age = -20; //gives you an error, you cannot access anymore this field directly\n\n        student.setAge(-20); //It won't update its age to -20\n        System.out.println(student.getAge()); //It still prints 15\n\n        student.setAge(25); //Regulates the update and allows the assignment\n        System.out.println(student.getAge()); //Prints 25\n    }\n}\n</code></pre>\n<p>This article explains quite well the concept of encapsulation:</p>\n<p><a href=\"https://www.geeksforgeeks.org/encapsulation-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/encapsulation-in-java/</a></p>\n"}],"owner":{"account_id":25287987,"reputation":29,"user_id":19114580,"display_name":"Murad Axundov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72238294,"answer_count":1,"score":0,"last_activity_date":1668630263,"creation_date":1652514153,"question_id":72238255,"body_markdown":"I started learning programming recently. I know it can look meaningless, but I want to know reason why I can&#39;t declare my object in my local class. I can declare it on the second class that I create, but can&#39;t declare in the main one. \r\n\r\nHere is my code :\r\n\r\n    public class User {\r\n    \t\r\n     public String name;\r\n     public String surname;\r\n     public int age;\r\n     public static String companyname;\r\n     \r\n     User student = new User();\r\n     student.name = &quot;Jack&quot;;\r\n    }\r\n\r\n\r\n\r\n","title":"Why can&#39;t I declare object in my local class in Java?","body":"<p>I started learning programming recently. I know it can look meaningless, but I want to know reason why I can't declare my object in my local class. I can declare it on the second class that I create, but can't declare in the main one.</p>\n<p>Here is my code :</p>\n<pre><code>public class User {\n    \n public String name;\n public String surname;\n public int age;\n public static String companyname;\n \n User student = new User();\n student.name = &quot;Jack&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform","bigtable"],"answers":[{"tags":[],"owner":{"account_id":2881560,"reputation":1371,"user_id":2472345,"accept_rate":62,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668629439,"creation_date":1668629439,"answer_id":74466615,"question_id":74466540,"body_markdown":"Yup, there is. Check out this link to get started. You need the Java client library.\r\n\r\nhttps://cloud.google.com/bigtable/docs/reference/libraries#client-libraries-install-java\r\n\r\nfor Maven:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n          &lt;version&gt;26.1.4&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-cloud-bigtable&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\nThen check this for usage:\r\nhttps://cloud.google.com/bigtable/docs/reference/libraries#client-libraries-usage-java\r\n\r\n    import com.google.api.gax.rpc.NotFoundException;\r\n    import com.google.cloud.bigtable.data.v2.BigtableDataClient;\r\n    import com.google.cloud.bigtable.data.v2.BigtableDataSettings;\r\n    import com.google.cloud.bigtable.data.v2.models.Row;\r\n    import com.google.cloud.bigtable.data.v2.models.RowCell;\r\n    \r\n    public class Quickstart {\r\n    \r\n      public static void main(String... args) {\r\n        String projectId = args[0]; // my-gcp-project-id\r\n        String instanceId = args[1]; // my-bigtable-instance-id\r\n        String tableId = args[2]; // my-bigtable-table-id\r\n    \r\n        quickstart(projectId, instanceId, tableId);\r\n      }\r\n    \r\n      public static void quickstart(String projectId, String instanceId, String tableId) {\r\n        BigtableDataSettings settings =\r\n            BigtableDataSettings.newBuilder().setProjectId(projectId).setInstanceId(instanceId).build();\r\n    \r\n        // Initialize client that will be used to send requests. This client only needs to be created\r\n        // once, and can be reused for multiple requests. After completing all of your requests, call\r\n        // the &quot;close&quot; method on the client to safely clean up any remaining background resources.\r\n        try (BigtableDataClient dataClient = BigtableDataClient.create(settings)) {\r\n          System.out.println(&quot;\\nReading a single row by row key&quot;);\r\n          Row row = dataClient.readRow(tableId, &quot;r1&quot;);\r\n          System.out.println(&quot;Row: &quot; + row.getKey().toStringUtf8());\r\n          for (RowCell cell : row.getCells()) {\r\n            System.out.printf(\r\n                &quot;Family: %s    Qualifier: %s    Value: %s%n&quot;,\r\n                cell.getFamily(), cell.getQualifier().toStringUtf8(), cell.getValue().toStringUtf8());\r\n          }\r\n        } catch (NotFoundException e) {\r\n          System.err.println(&quot;Failed to read from a non-existent table: &quot; + e.getMessage());\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error during quickstart: \\n&quot; + e.toString());\r\n        }\r\n      }\r\n    }","title":"springboot with GCP BigTable","body":"<p>Yup, there is. Check out this link to get started. You need the Java client library.</p>\n<p><a href=\"https://cloud.google.com/bigtable/docs/reference/libraries#client-libraries-install-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigtable/docs/reference/libraries#client-libraries-install-java</a></p>\n<p>for Maven:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n      &lt;version&gt;26.1.4&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-bigtable&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Then check this for usage:\n<a href=\"https://cloud.google.com/bigtable/docs/reference/libraries#client-libraries-usage-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigtable/docs/reference/libraries#client-libraries-usage-java</a></p>\n<pre><code>import com.google.api.gax.rpc.NotFoundException;\nimport com.google.cloud.bigtable.data.v2.BigtableDataClient;\nimport com.google.cloud.bigtable.data.v2.BigtableDataSettings;\nimport com.google.cloud.bigtable.data.v2.models.Row;\nimport com.google.cloud.bigtable.data.v2.models.RowCell;\n\npublic class Quickstart {\n\n  public static void main(String... args) {\n    String projectId = args[0]; // my-gcp-project-id\n    String instanceId = args[1]; // my-bigtable-instance-id\n    String tableId = args[2]; // my-bigtable-table-id\n\n    quickstart(projectId, instanceId, tableId);\n  }\n\n  public static void quickstart(String projectId, String instanceId, String tableId) {\n    BigtableDataSettings settings =\n        BigtableDataSettings.newBuilder().setProjectId(projectId).setInstanceId(instanceId).build();\n\n    // Initialize client that will be used to send requests. This client only needs to be created\n    // once, and can be reused for multiple requests. After completing all of your requests, call\n    // the &quot;close&quot; method on the client to safely clean up any remaining background resources.\n    try (BigtableDataClient dataClient = BigtableDataClient.create(settings)) {\n      System.out.println(&quot;\\nReading a single row by row key&quot;);\n      Row row = dataClient.readRow(tableId, &quot;r1&quot;);\n      System.out.println(&quot;Row: &quot; + row.getKey().toStringUtf8());\n      for (RowCell cell : row.getCells()) {\n        System.out.printf(\n            &quot;Family: %s    Qualifier: %s    Value: %s%n&quot;,\n            cell.getFamily(), cell.getQualifier().toStringUtf8(), cell.getValue().toStringUtf8());\n      }\n    } catch (NotFoundException e) {\n      System.err.println(&quot;Failed to read from a non-existent table: &quot; + e.getMessage());\n    } catch (Exception e) {\n      System.out.println(&quot;Error during quickstart: \\n&quot; + e.toString());\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26955082,"reputation":19,"user_id":20523607,"display_name":"vinod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1668629439,"creation_date":1668629035,"question_id":74466540,"body_markdown":"i am a new bee to GCP and trying to develop springboot rest api that connects to GCP Bigtable, do we have a quickstart guide that helps in development.\r\n","title":"springboot with GCP BigTable","body":"<p>i am a new bee to GCP and trying to develop springboot rest api that connects to GCP Bigtable, do we have a quickstart guide that helps in development.</p>\n"},{"tags":["java","android","android-studio","arraylist"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1668630962,"post_id":74466432,"comment_id":131455488,"body_markdown":"what do you mean most recent recipes?  Are they the most recently viewed recipes?  Why not just add them to a list named recent?","body":"what do you mean most recent recipes?  Are they the most recently viewed recipes?  Why not just add them to a list named recent?"}],"answers":[{"tags":[],"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668628988,"creation_date":1668628988,"answer_id":74466524,"question_id":74466432,"body_markdown":"Create a new array with length three and add a recipe there when it is used. When the array is full and a recipe is used, set:\r\n\r\n    array[0] = array[1];\r\n    array[1] = array[2];\r\n    array[2] = most recently used.\r\n\r\nor, of course, you could do it the other way around, where array[0] is the most recently used. That would be:\r\n\r\n    Recipe temp0 = array[0]\r\n    array[0] = most recently used\r\n    Recipe temp1 = array[1]\r\n    array[1] = temp0;\r\n    array[2] = temp1;\r\n\r\nI don&#39;t know what type of Object your recipes are, so I just called them type Recipe.\r\n\r\n","title":"Find index of recently used list element Java","body":"<p>Create a new array with length three and add a recipe there when it is used. When the array is full and a recipe is used, set:</p>\n<pre><code>array[0] = array[1];\narray[1] = array[2];\narray[2] = most recently used.\n</code></pre>\n<p>or, of course, you could do it the other way around, where array[0] is the most recently used. That would be:</p>\n<pre><code>Recipe temp0 = array[0]\narray[0] = most recently used\nRecipe temp1 = array[1]\narray[1] = temp0;\narray[2] = temp1;\n</code></pre>\n<p>I don't know what type of Object your recipes are, so I just called them type Recipe.</p>\n"}],"owner":{"account_id":26954896,"reputation":1,"user_id":20523461,"display_name":"vern"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668628988,"creation_date":1668628506,"question_id":74466432,"body_markdown":"I am building a recipe app. I created a database of recipes, where the information is set using the ArrayList. My idea is to create a &quot;Recent Recipes&quot; section, in which the templates I created earlier were replaced with buttons on the recipe itself.\r\nQuestion: how to find the index of the three previous used recipes?\r\n\r\nMy database:\r\n`\r\n```\r\npublic class ReceiptsBase {\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; recipesAll = new ArrayList&lt;&gt;();\r\n\r\n    public ReceiptsBase() {\r\n        ArrayList&lt;Integer&gt; mushroom_soup = new ArrayList&lt;&gt;();\r\n        mushroom_soup.add (R.drawable.mush);\r\n        mushroom_soup.add (R.string.mush_name);\r\n        mushroom_soup.add (R.string.mush_info);\r\n        mushroom_soup.add (R.string.mush_prep);\r\n        mushroom_soup.add(R.drawable.mush_blur);\r\n        mushroom_soup.add(R.string.mush_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; tomato_soup = new ArrayList&lt;&gt;();\r\n        tomato_soup.add (R.drawable.tomato);\r\n        tomato_soup.add (R.string.tomato_name);\r\n        tomato_soup.add (R.string.tomato_info);\r\n        tomato_soup.add (R.string.tomato_prep);\r\n        tomato_soup.add(R.drawable.tomato_blur);\r\n        tomato_soup.add(R.string.tomato_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; potato_soup = new ArrayList&lt;&gt;();\r\n        potato_soup.add (R.drawable.potatosoup);\r\n        potato_soup.add (R.string.potsoup_name);\r\n        potato_soup.add (R.string.potsoup_info);\r\n        potato_soup.add (R.string.potsoup_prep);\r\n        potato_soup.add(R.drawable.potatosoup_blur);\r\n        potato_soup.add(R.string.potsoup_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; onion_meal = new ArrayList&lt;&gt;();\r\n        onion_meal.add (R.drawable.onion);\r\n        onion_meal.add (R.string.onion_name);\r\n        onion_meal.add (R.string.onion_info);\r\n        onion_meal.add (R.string.onion_prep);\r\n        onion_meal.add(R.drawable.onion_blur);\r\n        onion_meal.add(R.string.onion_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; pancakes = new ArrayList&lt;&gt;();\r\n        pancakes.add (R.drawable.pancakes);\r\n        pancakes.add (R.string.pank_name);\r\n        pancakes.add (R.string.pank_info);\r\n        pancakes.add (R.string.pank_prep);\r\n        pancakes.add(R.drawable.pancakes_blur);\r\n        pancakes.add(R.string.pank_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; dumplings = new ArrayList&lt;&gt;();\r\n        dumplings.add (R.drawable.dumpl);\r\n        dumplings.add (R.string.dumpl_name);\r\n        dumplings.add (R.string.dumpl_info);\r\n        dumplings.add (R.string.dumpl_prep);\r\n        dumplings.add(R.drawable.dumpl_blur);\r\n        dumplings.add(R.string.dumpl_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; croquettes = new ArrayList&lt;&gt;();\r\n        croquettes.add (R.drawable.croquettes);\r\n        croquettes.add (R.string.croq_name);\r\n        croquettes.add (R.string.croq_info);\r\n        croquettes.add (R.string.croq_prep);\r\n        croquettes.add(R.drawable.croquettes_blur);\r\n        croquettes.add(R.string.croq_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; katsudon = new ArrayList&lt;&gt;();\r\n        katsudon.add (R.drawable.katsudon);\r\n        katsudon.add (R.string.kats_name);\r\n        katsudon.add (R.string.kats_info);\r\n        katsudon.add (R.string.kats_prep);\r\n        katsudon.add(R.drawable.katsudon_blur);\r\n        katsudon.add(R.string.kats_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; garlic_bread = new ArrayList&lt;&gt;();\r\n        garlic_bread.add (R.drawable.garlic);\r\n        garlic_bread.add (R.string.garl_name);\r\n        garlic_bread.add (R.string.garl_info);\r\n        garlic_bread.add (R.string.garl_prop);\r\n        garlic_bread.add(R.drawable.garlic_blur);\r\n        garlic_bread.add(R.string.garlic_ingr);\r\n\r\n        ArrayList&lt;Integer&gt; potato_pancakes = new ArrayList&lt;&gt;();\r\n        potato_pancakes.add (R.drawable.pot_pank);\r\n        potato_pancakes.add (R.string.potpank_name);\r\n        potato_pancakes.add (R.string.potpank_info);\r\n        potato_pancakes.add (R.string.potpank_prep);\r\n        potato_pancakes.add(R.drawable.pot_pank_blur);\r\n        potato_pancakes.add(R.string.potpank_ingr);\r\n\r\n        recipesAll.add(mushroom_soup);\r\n        recipesAll.add(tomato_soup);\r\n        recipesAll.add(potato_soup);\r\n        recipesAll.add(onion_meal);\r\n        recipesAll.add(pancakes);\r\n        recipesAll.add(dumplings);\r\n        recipesAll.add(croquettes);\r\n        recipesAll.add(katsudon);\r\n        recipesAll.add(garlic_bread);\r\n        recipesAll.add(potato_pancakes);\r\n    }\r\n\r\n    public ArrayList&lt;Integer&gt; getReceipt(int receiptIndex) {\r\n        return recipesAll.get(receiptIndex);\r\n    }\r\n\r\n    public ArrayList&lt;ArrayList&lt;Integer&gt;&gt; getReceipts() {\r\n        return recipesAll;\r\n    }\r\n```\r\n`\r\n\r\n[The section](https://i.stack.imgur.com/ZHxSf.png)\r\n\r\nMy code:`\r\n```\r\n @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        hideSystemUI();\r\n\r\n        Button button_recipes = findViewById(R.id.button2);\r\n        button_recipes.setOnClickListener(view -&gt; openRecipes());\r\n\r\n        Button button_search = findViewById(R.id.button3);\r\n        button_search.setOnClickListener(view -&gt; openSearch());\r\n\r\n        Button button_supriseme = findViewById(R.id.button4);\r\n        button_supriseme.setOnClickListener(view -&gt; openSupriseMe());\r\n\r\n        ImageButton recent1 = findViewById(R.id.rec1);\r\n        ImageButton recent2 = findViewById(R.id.rec2);\r\n        ImageButton recent3 = findViewById(R.id.rec3);\r\n\r\n//        recent1.setImageDrawable(getDrawable());\r\n//        recent2.setImageDrawable(getDrawable());\r\n//        recent3.setImageDrawable(getDrawable());\r\n//\r\n//        recent1.setOnClickListener(view -&gt; openRecipe());\r\n//        recent2.setOnClickListener(view -&gt; openRecipe());\r\n//        recent3.setOnClickListener(view -&gt; openRecipe());\r\n\r\n    }\r\n    public void openRecipes(){\r\n        Intent rec = new Intent(this, recipes.class);\r\n        startActivity(rec);\r\n        finish();\r\n    }\r\n    public void openSearch(){\r\n        Intent sea = new Intent(this, search.class);\r\n        startActivity(sea);\r\n        finish();\r\n    }\r\n    public void openSupriseMe(){\r\n        Intent sup = new Intent(this, Example.class);\r\n        startActivity(sup);\r\n        finish();\r\n    }\r\n    public void openRecipe(int recipeIndex){\r\n        Intent sup = new Intent(this, Example.class);\r\n        sup.putExtra(&quot;recipeIndex&quot;, recipeIndex);\r\n        startActivity(sup);\r\n        finish();\r\n    }\r\n```\r\n`\r\n```\r\n","title":"Find index of recently used list element Java","body":"<p>I am building a recipe app. I created a database of recipes, where the information is set using the ArrayList. My idea is to create a &quot;Recent Recipes&quot; section, in which the templates I created earlier were replaced with buttons on the recipe itself.\nQuestion: how to find the index of the three previous used recipes?</p>\n<p>My database:\n`</p>\n<pre><code>public class ReceiptsBase {\n\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; recipesAll = new ArrayList&lt;&gt;();\n\n    public ReceiptsBase() {\n        ArrayList&lt;Integer&gt; mushroom_soup = new ArrayList&lt;&gt;();\n        mushroom_soup.add (R.drawable.mush);\n        mushroom_soup.add (R.string.mush_name);\n        mushroom_soup.add (R.string.mush_info);\n        mushroom_soup.add (R.string.mush_prep);\n        mushroom_soup.add(R.drawable.mush_blur);\n        mushroom_soup.add(R.string.mush_ingr);\n\n        ArrayList&lt;Integer&gt; tomato_soup = new ArrayList&lt;&gt;();\n        tomato_soup.add (R.drawable.tomato);\n        tomato_soup.add (R.string.tomato_name);\n        tomato_soup.add (R.string.tomato_info);\n        tomato_soup.add (R.string.tomato_prep);\n        tomato_soup.add(R.drawable.tomato_blur);\n        tomato_soup.add(R.string.tomato_ingr);\n\n        ArrayList&lt;Integer&gt; potato_soup = new ArrayList&lt;&gt;();\n        potato_soup.add (R.drawable.potatosoup);\n        potato_soup.add (R.string.potsoup_name);\n        potato_soup.add (R.string.potsoup_info);\n        potato_soup.add (R.string.potsoup_prep);\n        potato_soup.add(R.drawable.potatosoup_blur);\n        potato_soup.add(R.string.potsoup_ingr);\n\n        ArrayList&lt;Integer&gt; onion_meal = new ArrayList&lt;&gt;();\n        onion_meal.add (R.drawable.onion);\n        onion_meal.add (R.string.onion_name);\n        onion_meal.add (R.string.onion_info);\n        onion_meal.add (R.string.onion_prep);\n        onion_meal.add(R.drawable.onion_blur);\n        onion_meal.add(R.string.onion_ingr);\n\n        ArrayList&lt;Integer&gt; pancakes = new ArrayList&lt;&gt;();\n        pancakes.add (R.drawable.pancakes);\n        pancakes.add (R.string.pank_name);\n        pancakes.add (R.string.pank_info);\n        pancakes.add (R.string.pank_prep);\n        pancakes.add(R.drawable.pancakes_blur);\n        pancakes.add(R.string.pank_ingr);\n\n        ArrayList&lt;Integer&gt; dumplings = new ArrayList&lt;&gt;();\n        dumplings.add (R.drawable.dumpl);\n        dumplings.add (R.string.dumpl_name);\n        dumplings.add (R.string.dumpl_info);\n        dumplings.add (R.string.dumpl_prep);\n        dumplings.add(R.drawable.dumpl_blur);\n        dumplings.add(R.string.dumpl_ingr);\n\n        ArrayList&lt;Integer&gt; croquettes = new ArrayList&lt;&gt;();\n        croquettes.add (R.drawable.croquettes);\n        croquettes.add (R.string.croq_name);\n        croquettes.add (R.string.croq_info);\n        croquettes.add (R.string.croq_prep);\n        croquettes.add(R.drawable.croquettes_blur);\n        croquettes.add(R.string.croq_ingr);\n\n        ArrayList&lt;Integer&gt; katsudon = new ArrayList&lt;&gt;();\n        katsudon.add (R.drawable.katsudon);\n        katsudon.add (R.string.kats_name);\n        katsudon.add (R.string.kats_info);\n        katsudon.add (R.string.kats_prep);\n        katsudon.add(R.drawable.katsudon_blur);\n        katsudon.add(R.string.kats_ingr);\n\n        ArrayList&lt;Integer&gt; garlic_bread = new ArrayList&lt;&gt;();\n        garlic_bread.add (R.drawable.garlic);\n        garlic_bread.add (R.string.garl_name);\n        garlic_bread.add (R.string.garl_info);\n        garlic_bread.add (R.string.garl_prop);\n        garlic_bread.add(R.drawable.garlic_blur);\n        garlic_bread.add(R.string.garlic_ingr);\n\n        ArrayList&lt;Integer&gt; potato_pancakes = new ArrayList&lt;&gt;();\n        potato_pancakes.add (R.drawable.pot_pank);\n        potato_pancakes.add (R.string.potpank_name);\n        potato_pancakes.add (R.string.potpank_info);\n        potato_pancakes.add (R.string.potpank_prep);\n        potato_pancakes.add(R.drawable.pot_pank_blur);\n        potato_pancakes.add(R.string.potpank_ingr);\n\n        recipesAll.add(mushroom_soup);\n        recipesAll.add(tomato_soup);\n        recipesAll.add(potato_soup);\n        recipesAll.add(onion_meal);\n        recipesAll.add(pancakes);\n        recipesAll.add(dumplings);\n        recipesAll.add(croquettes);\n        recipesAll.add(katsudon);\n        recipesAll.add(garlic_bread);\n        recipesAll.add(potato_pancakes);\n    }\n\n    public ArrayList&lt;Integer&gt; getReceipt(int receiptIndex) {\n        return recipesAll.get(receiptIndex);\n    }\n\n    public ArrayList&lt;ArrayList&lt;Integer&gt;&gt; getReceipts() {\n        return recipesAll;\n    }\n</code></pre>\n<p>`</p>\n<p><a href=\"https://i.stack.imgur.com/ZHxSf.png\" rel=\"nofollow noreferrer\">The section</a></p>\n<p>My code:`</p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        hideSystemUI();\n\n        Button button_recipes = findViewById(R.id.button2);\n        button_recipes.setOnClickListener(view -&gt; openRecipes());\n\n        Button button_search = findViewById(R.id.button3);\n        button_search.setOnClickListener(view -&gt; openSearch());\n\n        Button button_supriseme = findViewById(R.id.button4);\n        button_supriseme.setOnClickListener(view -&gt; openSupriseMe());\n\n        ImageButton recent1 = findViewById(R.id.rec1);\n        ImageButton recent2 = findViewById(R.id.rec2);\n        ImageButton recent3 = findViewById(R.id.rec3);\n\n//        recent1.setImageDrawable(getDrawable());\n//        recent2.setImageDrawable(getDrawable());\n//        recent3.setImageDrawable(getDrawable());\n//\n//        recent1.setOnClickListener(view -&gt; openRecipe());\n//        recent2.setOnClickListener(view -&gt; openRecipe());\n//        recent3.setOnClickListener(view -&gt; openRecipe());\n\n    }\n    public void openRecipes(){\n        Intent rec = new Intent(this, recipes.class);\n        startActivity(rec);\n        finish();\n    }\n    public void openSearch(){\n        Intent sea = new Intent(this, search.class);\n        startActivity(sea);\n        finish();\n    }\n    public void openSupriseMe(){\n        Intent sup = new Intent(this, Example.class);\n        startActivity(sup);\n        finish();\n    }\n    public void openRecipe(int recipeIndex){\n        Intent sup = new Intent(this, Example.class);\n        sup.putExtra(&quot;recipeIndex&quot;, recipeIndex);\n        startActivity(sup);\n        finish();\n    }\n</code></pre>\n<p>`</p>\n<pre><code></code></pre>\n"},{"tags":["java","decimal","decimalformat"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668629437,"post_id":74466430,"comment_id":131455006,"body_markdown":"1_000_000_000 is approximately 2^30, times 4 it overflows 32 int, 2^32. Hence the calculation goes ends in chaos (negative product likely), the while skipped, divided by 10 more. Result 0.314.","body":"1_000_000_000 is approximately 2^30, times 4 it overflows 32 int, 2^32. Hence the calculation goes ends in chaos (negative product likely), the while skipped, divided by 10 more. Result 0.314."},{"owner":{"account_id":26491591,"reputation":27,"user_id":20129821,"display_name":"Arson1st"},"score":0,"creation_date":1668631486,"post_id":74466430,"comment_id":131455664,"body_markdown":"What can I do to fix that? I can&#39;t get any input with Long and if I add an if statement that multiplies the number with 10 if its below 1 for 5th one but it becomes same with 4th","body":"What can I do to fix that? I can&#39;t get any input with Long and if I add an if statement that multiplies the number with 10 if its below 1 for 5th one but it becomes same with 4th"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1668632081,"post_id":74466430,"comment_id":131455826,"body_markdown":"first: please change your code to not resembly C style, declare variables as close as possible to their first use.\nThen: why don&#39;t you use `Long`? Probably even better would be `Double` in your arraylist, as this removes the need for a cast in mixed type operations.","body":"first: please change your code to not resembly C style, declare variables as close as possible to their first use. Then: why don&#39;t you use <code>Long</code>? Probably even better would be <code>Double</code> in your arraylist, as this removes the need for a cast in mixed type operations."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668641114,"post_id":74466430,"comment_id":131458193,"body_markdown":"You can make `count` and `choosenOne` a `long`.","body":"You can make <code>count</code> and <code>choosenOne</code> a <code>long</code>."}],"owner":{"account_id":26491591,"reputation":27,"user_id":20129821,"display_name":"Arson1st"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668628478,"creation_date":1668628478,"question_id":74466430,"body_markdown":"So I was trying to get a approximate value of pi and I tried using DecimalFormat but it didn&#39;t work well\r\n\r\nMy code\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.ArrayList;\r\nimport java.text.DecimalFormat;\r\n\r\npublic class MonteCarlo\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\t\r\n\t\tdouble m = 0, rnumber, result;\r\n\t\tint count = 0, choosenOne;\r\n\t\t\r\n\t\tRandom generator = new Random();\r\n\t\tDecimalFormat fmt = new DecimalFormat(&quot;#.######&quot;);\r\n\t\tArrayList&lt;Integer&gt; n = new ArrayList&lt;Integer&gt;();\r\n\t\tn.add(100);\r\n\t\tn.add(10000);\r\n\t\tn.add(1000000);\r\n\t\tn.add(100000000);\r\n\t\tn.add(1000000000);\r\n\t\t\r\n\t\tfor (int i = 1; i &lt;= 5; i++)\r\n\t\t{\r\n\t\t\tchoosenOne = n.get(i - 1);\r\n\r\n\t\t\twhile (count &lt;= choosenOne * 4)\r\n\t\t\t{\r\n\t\t\t\trnumber = generator.nextDouble(4);\r\n\t\t\t\t\r\n\t\t\t\tif (rnumber &lt;= Math.PI)\r\n\t\t\t\t\tm++;\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tresult = m / choosenOne;\r\n\t\t\t\r\n\t\t\tSystem.out.println(choosenOne + &quot;: &quot; + fmt.format(result));\r\n\t\t}\r\n\t}\r\n}\t\r\n```\r\n\r\nMy Output:\r\n\r\n100: 3.14\r\n\r\n10000: 3.1379\r\n\r\n1000000: 3.141689\r\n\r\n100000000: 3.141726\r\n\r\n1000000000: 0.314173","title":"How to use DecimalFormat","body":"<p>So I was trying to get a approximate value of pi and I tried using DecimalFormat but it didn't work well</p>\n<p>My code</p>\n<pre><code>import java.util.Random;\nimport java.util.ArrayList;\nimport java.text.DecimalFormat;\n\npublic class MonteCarlo\n{\n    public static void main(String[] args)\n    {   \n        double m = 0, rnumber, result;\n        int count = 0, choosenOne;\n        \n        Random generator = new Random();\n        DecimalFormat fmt = new DecimalFormat(&quot;#.######&quot;);\n        ArrayList&lt;Integer&gt; n = new ArrayList&lt;Integer&gt;();\n        n.add(100);\n        n.add(10000);\n        n.add(1000000);\n        n.add(100000000);\n        n.add(1000000000);\n        \n        for (int i = 1; i &lt;= 5; i++)\n        {\n            choosenOne = n.get(i - 1);\n\n            while (count &lt;= choosenOne * 4)\n            {\n                rnumber = generator.nextDouble(4);\n                \n                if (rnumber &lt;= Math.PI)\n                    m++;\n\n                count++;\n            }\n            \n            result = m / choosenOne;\n            \n            System.out.println(choosenOne + &quot;: &quot; + fmt.format(result));\n        }\n    }\n}   \n</code></pre>\n<p>My Output:</p>\n<p>100: 3.14</p>\n<p>10000: 3.1379</p>\n<p>1000000: 3.141689</p>\n<p>100000000: 3.141726</p>\n<p>1000000000: 0.314173</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5977697,"reputation":2143,"user_id":4697963,"display_name":"Markiian Benovskyi"},"score":0,"creation_date":1668626509,"post_id":74465930,"comment_id":131453923,"body_markdown":"Please add some more details about the error you are getting. Also it looks to me that your parsing cast class is a bit wrong, it is hard to understand what is the value if `entry.getValue()` for the first entry in the map, from what I see it can be `&quot;type&quot;:&quot;set&quot;`","body":"Please add some more details about the error you are getting. Also it looks to me that your parsing cast class is a bit wrong, it is hard to understand what is the value if <code>entry.getValue()</code> for the first entry in the map, from what I see it can be <code>&quot;type&quot;:&quot;set&quot;</code>"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668627532,"post_id":74465930,"comment_id":131454329,"body_markdown":"Try `Person person = gson.fromJson(input.readUTF(), Person.class);`. See [https://www.baeldung.com/gson-deserialization-guide](https://www.baeldung.com/gson-deserialization-guide)","body":"Try <code>Person person = gson.fromJson(input.readUTF(), Person.class);</code>. See <a href=\"https://www.baeldung.com/gson-deserialization-guide\" rel=\"nofollow noreferrer\">https://www.baeldung.com/gson-deserialization-guide</a>"}],"answers":[{"tags":[],"owner":{"account_id":25291043,"reputation":76,"user_id":19117122,"display_name":"SrsDanny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668627839,"creation_date":1668627839,"answer_id":74466311,"question_id":74465930,"body_markdown":"The `jsonObject` in the example represents a `Person` so you don&#39;t have to iterate the `jsonObject.entrySet()` you have to use the `jsonObject` itself.\r\n\r\n``` lang-java\r\nPerson person = gson.fromJson(jsonObject, Person.class);\r\n```","title":"How to convert JSON object back to `Person` object java","body":"<p>The <code>jsonObject</code> in the example represents a <code>Person</code> so you don't have to iterate the <code>jsonObject.entrySet()</code> you have to use the <code>jsonObject</code> itself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = gson.fromJson(jsonObject, Person.class);\n</code></pre>\n"}],"owner":{"account_id":26954658,"reputation":5,"user_id":20523260,"display_name":"glory"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74466311,"answer_count":1,"score":-1,"last_activity_date":1668627839,"creation_date":1668625815,"question_id":74465930,"body_markdown":"I want to convert  JSON object back to `Person` object java, but I am getting the following error java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $\r\n\r\nExample Json file: \r\n\r\n```\r\n{\r\n  &quot;type&quot;:&quot;set&quot;,\r\n  &quot;key&quot;:&quot;person&quot;,\r\n  &quot;value&quot;:{\r\n    &quot;name&quot;:&quot;Elon Musk&quot;,\r\n    &quot;car&quot;:{\r\n      &quot;model&quot;:&quot;Tesla Roadster&quot;,\r\n      &quot;year&quot;:&quot;2018&quot;\r\n    },\r\n    &quot;rocket&quot;:{\r\n      &quot;name&quot;:&quot;Falcon 9&quot;,\r\n      &quot;launches&quot;:&quot;87&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```\r\nJsonObject jsonObject = new JsonParser().parse(input.readUTF()).getAsJsonObject();\r\n\r\nGson gson = new Gson();\r\n\r\nfor (Map.Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\r\nPerson person = gson.fromJson(entry.getValue(), Person.class);\r\nSystem.out.println(jsonFile);\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Person  {\r\nString type;\r\nString key;\r\nValue value;\r\n}\r\n```\r\n```\r\n@Data\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@ToString\r\npublic class Value  {\r\nString name;\r\nMap&lt;String, String&gt; car;\r\nMap&lt;String, String&gt; rocket;\r\n}\r\n```","title":"How to convert JSON object back to `Person` object java","body":"<p>I want to convert  JSON object back to <code>Person</code> object java, but I am getting the following error java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $</p>\n<p>Example Json file:</p>\n<pre><code>{\n  &quot;type&quot;:&quot;set&quot;,\n  &quot;key&quot;:&quot;person&quot;,\n  &quot;value&quot;:{\n    &quot;name&quot;:&quot;Elon Musk&quot;,\n    &quot;car&quot;:{\n      &quot;model&quot;:&quot;Tesla Roadster&quot;,\n      &quot;year&quot;:&quot;2018&quot;\n    },\n    &quot;rocket&quot;:{\n      &quot;name&quot;:&quot;Falcon 9&quot;,\n      &quot;launches&quot;:&quot;87&quot;\n    }\n  }\n}\n</code></pre>\n<pre><code>JsonObject jsonObject = new JsonParser().parse(input.readUTF()).getAsJsonObject();\n\nGson gson = new Gson();\n\nfor (Map.Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\nPerson person = gson.fromJson(entry.getValue(), Person.class);\nSystem.out.println(jsonFile);\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Person  {\nString type;\nString key;\nValue value;\n}\n</code></pre>\n<pre><code>@Data\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@ToString\npublic class Value  {\nString name;\nMap&lt;String, String&gt; car;\nMap&lt;String, String&gt; rocket;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-el","application.properties"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656416982,"post_id":72778537,"comment_id":128562172,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":20233393,"reputation":432,"user_id":14839305,"display_name":"Rhett Harrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668627819,"creation_date":1657326973,"answer_id":72918144,"question_id":72778537,"body_markdown":"I believe what you have is correct at least without knowing more information. The ternary operator is correct as long as `${spring.profiles.active}` is a String to compare to &#39;dev&#39;. You may be able to do something as follows\r\n\r\n```java\r\n@Value(&quot;#${spring.profiles.active} == &#39;dev&#39; ? qa : ${spring.profiles.active}&quot;)\r\nprivate String activeProfile;\r\n```\r\n\r\nThen you can use activeProfile where you need it","title":"How to use SpEL ternary operator on application properties","body":"<p>I believe what you have is correct at least without knowing more information. The ternary operator is correct as long as <code>${spring.profiles.active}</code> is a String to compare to 'dev'. You may be able to do something as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#${spring.profiles.active} == 'dev' ? qa : ${spring.profiles.active}&quot;)\nprivate String activeProfile;\n</code></pre>\n<p>Then you can use activeProfile where you need it</p>\n"}],"owner":{"account_id":19588978,"reputation":1,"user_id":14820855,"display_name":"Henry Soares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668627819,"creation_date":1656365702,"question_id":72778537,"body_markdown":"I wanted to use a ternary operator with SpEL on application.properties. Something like this:\r\n\r\n```\r\nprofile: ${spring.profiles.active} == &#39;dev&#39; ? qa : ${spring.profiles.active}\r\n```\r\n\r\nHow can I do something like this? Is there another alternative? ","title":"How to use SpEL ternary operator on application properties","body":"<p>I wanted to use a ternary operator with SpEL on application.properties. Something like this:</p>\n<pre><code>profile: ${spring.profiles.active} == 'dev' ? qa : ${spring.profiles.active}\n</code></pre>\n<p>How can I do something like this? Is there another alternative?</p>\n"},{"tags":["java","azure","docker","azure-aks","azure-container-apps"],"answers":[{"tags":[],"owner":{"account_id":417729,"reputation":6909,"user_id":793891,"display_name":"CSharpRocks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668627679,"creation_date":1668627679,"answer_id":74466280,"question_id":74466017,"body_markdown":"You don&#39;t use a Docker Run command directly. Using the **Portal**, when you create a new Container App, you set environment variables in the **App Settings** tab. Enable Ingress with **Accepting Traffic from anywhere** and set the **Target port** to 8080.\r\n\r\nRefer to the [documentation][1] on how to create a mount to temp storage.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/container-apps/storage-mounts?pivots=aca-cli#temporary-storage","title":"Deploy java apps to azure container apps","body":"<p>You don't use a Docker Run command directly. Using the <strong>Portal</strong>, when you create a new Container App, you set environment variables in the <strong>App Settings</strong> tab. Enable Ingress with <strong>Accepting Traffic from anywhere</strong> and set the <strong>Target port</strong> to 8080.</p>\n<p>Refer to the <a href=\"https://learn.microsoft.com/en-us/azure/container-apps/storage-mounts?pivots=aca-cli#temporary-storage\" rel=\"nofollow noreferrer\">documentation</a> on how to create a mount to temp storage.</p>\n"}],"owner":{"account_id":19321606,"reputation":11,"user_id":14125182,"display_name":"Nainesh Goel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668627679,"creation_date":1668626294,"question_id":74466017,"body_markdown":"We have containerized our java application . The application has successfully been deployed on our on-prem environment on a vm. But rather than following a lift and shift approach , we plan to use azure container apps . I tried deploying the app through portal but was not successful. The image is obtained from acr . The following command just needs to be run to deploy the container from the image : \r\n```\r\ndocker run -dit -p 8080:8080 -e var-name=&quot;xyz&quot; -v mount_folder:/mnt/xyz &lt;image-name&gt;\r\n```\r\n\r\nI was having problem setting up the environment vars and the mounts and also was confused as to where to write the docker run command in order to deploy the app through azure container services .\r\n\r\nCan please someone help ....Thanking in anticipation!","title":"Deploy java apps to azure container apps","body":"<p>We have containerized our java application . The application has successfully been deployed on our on-prem environment on a vm. But rather than following a lift and shift approach , we plan to use azure container apps . I tried deploying the app through portal but was not successful. The image is obtained from acr . The following command just needs to be run to deploy the container from the image :</p>\n<pre><code>docker run -dit -p 8080:8080 -e var-name=&quot;xyz&quot; -v mount_folder:/mnt/xyz &lt;image-name&gt;\n</code></pre>\n<p>I was having problem setting up the environment vars and the mounts and also was confused as to where to write the docker run command in order to deploy the app through azure container services .</p>\n<p>Can please someone help ....Thanking in anticipation!</p>\n"},{"tags":["java","selenium","xpath"],"answers":[{"comments":[{"owner":{"account_id":4185034,"reputation":170,"user_id":3428980,"accept_rate":86,"display_name":"Sid"},"score":0,"creation_date":1668630985,"post_id":74466232,"comment_id":131455494,"body_markdown":"Thanks, it worked for me, I was updating some one else&#39;s code, he had a dot(.) but some of the table rows did not have the columns with role = gridcell, that&#39;s why the code was failing, had to add a null check, but your answer helped me understand the issue.","body":"Thanks, it worked for me, I was updating some one else&#39;s code, he had a dot(.) but some of the table rows did not have the columns with role = gridcell, that&#39;s why the code was failing, had to add a null check, but your answer helped me understand the issue."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1668634133,"post_id":74466232,"comment_id":131456408,"body_markdown":"Great to know I helped you to understand / clarify something new!","body":"Great to know I helped you to understand / clarify something new!"}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668627491,"creation_date":1668627491,"answer_id":74466232,"question_id":74466195,"body_markdown":"You need to use relative XPath locator.  \r\nSince you didn&#39;t share a link to the page containing that table we can only guess. So, I guess:  \r\nInstead of \r\n```java\r\nitem.findElements(By.xpath(&quot;/child::td[@role=&#39;gridcell&#39;]&quot;));\r\n```\r\ntry this:\r\n```java\r\nitem.findElements(By.xpath(&quot;.//td[@role=&#39;gridcell&#39;]&quot;));\r\n```\r\nThe dot `.` infront of the XPath means this is relative XPath, we want to locate element matching `//td[@role=&#39;gridcell&#39;]` **inside** current node `item`.  \r\nOtherwise `driver` will search for **all** elements matching `/child::td[@role=&#39;gridcell&#39;]` expression form the first, top element on the page. \r\n","title":"Finding all cells within the table instead of cells within current row in foreach loop in Java","body":"<p>You need to use relative XPath locator.<br />\nSince you didn't share a link to the page containing that table we can only guess. So, I guess:<br />\nInstead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>item.findElements(By.xpath(&quot;/child::td[@role='gridcell']&quot;));\n</code></pre>\n<p>try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>item.findElements(By.xpath(&quot;.//td[@role='gridcell']&quot;));\n</code></pre>\n<p>The dot <code>.</code> infront of the XPath means this is relative XPath, we want to locate element matching <code>//td[@role='gridcell']</code> <strong>inside</strong> current node <code>item</code>.<br />\nOtherwise <code>driver</code> will search for <strong>all</strong> elements matching <code>/child::td[@role='gridcell']</code> expression form the first, top element on the page.</p>\n"}],"owner":{"account_id":4185034,"reputation":170,"user_id":3428980,"accept_rate":86,"display_name":"Sid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74466232,"answer_count":1,"score":1,"last_activity_date":1668627491,"creation_date":1668627290,"question_id":74466195,"body_markdown":"My code is like below.  \r\n\r\n```@FindBy(xpath = &quot;//tbody[@role=&#39;rowgroup&#39;]//tr[@role=&#39;row&#39;]&quot;)\r\n    private List&lt;WebElement&gt; reports;\r\n    public List&lt;WebElement&gt; getReports(){\r\n        return Common.returnElementList(DriverFactory.getDriver(), reportsMenu, reports);\r\n    }\r\n    public Map&lt;String, String&gt; getReportDesc() {\r\n        Map&lt;String, String&gt; temp = new HashMap&lt;&gt;();\r\n        for(WebElement item: getReports()){\r\n            List&lt;WebElement&gt; cols = item.findElements(By.xpath(&quot;/child::td[@role=&#39;gridcell&#39;]&quot;));\r\n            String key = Common.getElementText(DriverFactory.getDriver(), cols.get(0));\r\n            String desc = Common.getElementText(DriverFactory.getDriver(), cols.get(1));\r\n            temp.put(key, desc);\r\n        }\r\n        return temp;\r\n    }\r\n```\r\n\r\nWith `item.findElements(By.xpath(&quot;/child::td[@role=&#39;gridcell&#39;]&quot;));` I am trying to get the cells of that specific row, instead I am getting all the cells in that table.\r\n\r\nHow Can I get the specific row columns?","title":"Finding all cells within the table instead of cells within current row in foreach loop in Java","body":"<p>My code is like below.</p>\n<pre><code>    private List&lt;WebElement&gt; reports;\n    public List&lt;WebElement&gt; getReports(){\n        return Common.returnElementList(DriverFactory.getDriver(), reportsMenu, reports);\n    }\n    public Map&lt;String, String&gt; getReportDesc() {\n        Map&lt;String, String&gt; temp = new HashMap&lt;&gt;();\n        for(WebElement item: getReports()){\n            List&lt;WebElement&gt; cols = item.findElements(By.xpath(&quot;/child::td[@role='gridcell']&quot;));\n            String key = Common.getElementText(DriverFactory.getDriver(), cols.get(0));\n            String desc = Common.getElementText(DriverFactory.getDriver(), cols.get(1));\n            temp.put(key, desc);\n        }\n        return temp;\n    }\n</code></pre>\n<p>With <code>item.findElements(By.xpath(&quot;/child::td[@role='gridcell']&quot;));</code> I am trying to get the cells of that specific row, instead I am getting all the cells in that table.</p>\n<p>How Can I get the specific row columns?</p>\n"},{"tags":["java","android","telegram"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1430835998,"post_id":30055201,"comment_id":48226036,"body_markdown":"I did something like that by using an `eMail` intent (it opens a chooser - Telegram is listed), which I can make the default, eventually. I also send optional attachments (0, 1 or 2 - depending on user choices). I use the recipient&#39;s `eMail address`.","body":"I did something like that by using an <code>eMail</code> intent (it opens a chooser - Telegram is listed), which I can make the default, eventually. I also send optional attachments (0, 1 or 2 - depending on user choices). I use the recipient&#39;s <code>eMail address</code>."},{"owner":{"account_id":3392430,"reputation":707,"user_id":2846982,"display_name":"KM11"},"score":0,"creation_date":1430836226,"post_id":30055201,"comment_id":48226217,"body_markdown":"I&#39;m not sure you can do that since Telegram uses your phone contact list and it doesn&#39;t have a _Type a new number to chat with_ function by itself","body":"I&#39;m not sure you can do that since Telegram uses your phone contact list and it doesn&#39;t have a <i>Type a new number to chat with</i> function by itself"},{"owner":{"account_id":5451453,"reputation":878,"user_id":4336094,"display_name":"Hamid Waezi"},"score":1,"creation_date":1484989929,"post_id":30055201,"comment_id":70745862,"body_markdown":"hi check my answer in [this](http://stackoverflow.com/a/41777520/4336094)\nquestion.","body":"hi check my answer in <a href=\"http://stackoverflow.com/a/41777520/4336094\">this</a> question."}],"answers":[{"tags":[],"owner":{"account_id":2602092,"reputation":84,"user_id":2254182,"display_name":"Sekongur"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1430836884,"creation_date":1430836884,"answer_id":30056092,"question_id":30055201,"body_markdown":"The Telegram Android App does not have a way to send messages directly to telegram users, so if you use the share intent, you&#39;ll get what telegram / any other app wants to do with the message shared. In this case, open the contact list to send this message to him.\r\n\r\nIf you want to send messages directly to Telegram users you should use the Telegram API\r\n[https://core.telegram.org/api#getting-started][1]\r\n\r\nonce you have configured your API key in your app, you could send messages, read them or even get the telegram contacts with these methods\r\n\r\n[https://core.telegram.org/methods][2]\r\n\r\n  [1]: https://core.telegram.org/api#getting-started\r\n  [2]: https://core.telegram.org/methods","title":"Android - Send Telegram message to a specific number","body":"<p>The Telegram Android App does not have a way to send messages directly to telegram users, so if you use the share intent, you'll get what telegram / any other app wants to do with the message shared. In this case, open the contact list to send this message to him.</p>\n\n<p>If you want to send messages directly to Telegram users you should use the Telegram API\n<a href=\"https://core.telegram.org/api#getting-started\" rel=\"noreferrer\">https://core.telegram.org/api#getting-started</a></p>\n\n<p>once you have configured your API key in your app, you could send messages, read them or even get the telegram contacts with these methods</p>\n\n<p><a href=\"https://core.telegram.org/methods\" rel=\"noreferrer\">https://core.telegram.org/methods</a></p>\n"},{"tags":[],"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491222793,"creation_date":1491222793,"answer_id":43184805,"question_id":30055201,"body_markdown":"This one worked for me:\r\n\r\n//check if application is installed first before running this code.\r\n\r\n     Intent i = new Intent(Intent.ACTION_VIEW);\r\n                i.setData(Uri.parse(&quot;http://telegram.me/+UT_USER_ID_HERE&quot;));\r\n                final String appName = &quot;org.telegram.messenger&quot;;\r\n                        i.setPackage(appName);\r\n                this.startActivity(i);","title":"Android - Send Telegram message to a specific number","body":"<p>This one worked for me:</p>\n\n<p>//check if application is installed first before running this code.</p>\n\n<pre><code> Intent i = new Intent(Intent.ACTION_VIEW);\n            i.setData(Uri.parse(\"http://telegram.me/+UT_USER_ID_HERE\"));\n            final String appName = \"org.telegram.messenger\";\n                    i.setPackage(appName);\n            this.startActivity(i);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4765705,"reputation":2639,"user_id":4711030,"accept_rate":64,"display_name":"NehaK"},"score":4,"creation_date":1507194152,"post_id":44240638,"comment_id":80116149,"body_markdown":"How can i get username of user?","body":"How can i get username of user?"}],"tags":[],"owner":{"display_name":"user6558741"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1514735075,"creation_date":1496054920,"answer_id":44240638,"question_id":30055201,"body_markdown":"You can&#39;t send to special number, But You can do this by USERID\r\n\r\n    try {\r\n\r\n        Intent telegramIntent = new Intent(Intent.ACTION_VIEW);\r\n        telegramIntent.setData(Uri.parse(&quot;http://telegram.me/USERID&quot;));\r\n        startActivity(telegramIntent);\r\n\r\n    } catch (Exception e) {\r\n            // show error message\r\n    }\r\n\r\nThis code will show user an alert for choosing applications that support telegram uri&#39;s like Telegram itself and Mobogram!\r\n\r\n**Tip:** don&#39;t set package name. some people install telegram alternatives like mobogram.","title":"Android - Send Telegram message to a specific number","body":"<p>You can't send to special number, But You can do this by USERID</p>\n\n<pre><code>try {\n\n    Intent telegramIntent = new Intent(Intent.ACTION_VIEW);\n    telegramIntent.setData(Uri.parse(\"http://telegram.me/USERID\"));\n    startActivity(telegramIntent);\n\n} catch (Exception e) {\n        // show error message\n}\n</code></pre>\n\n<p>This code will show user an alert for choosing applications that support telegram uri's like Telegram itself and Mobogram!</p>\n\n<p><strong>Tip:</strong> don't set package name. some people install telegram alternatives like mobogram.</p>\n"},{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616150653,"creation_date":1616150653,"answer_id":66706673,"question_id":30055201,"body_markdown":"**This one worked for me:**\r\n    \r\n        try {\r\n        Intent telegram = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://t.me/USER_NAME&quot;));\r\n         telegram.setPackage(&quot;org.telegram.messenger&quot;);\r\n         startActivity(telegram);\r\n        }catch (Exception e) \r\n        {\r\n           Toast.makeText(getContext(), &quot;Telegram app is not installed&quot;, Toast.LENGTH_LONG).show();\r\n         }\r\n    \r\n**Tip:** You can get USER_NAME by click on you telegram profile option you will get option of username in Account session --&gt; if username is none create unique username and put here its work for me.","title":"Android - Send Telegram message to a specific number","body":"<p><strong>This one worked for me:</strong></p>\n<pre><code>    try {\n    Intent telegram = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://t.me/USER_NAME&quot;));\n     telegram.setPackage(&quot;org.telegram.messenger&quot;);\n     startActivity(telegram);\n    }catch (Exception e) \n    {\n       Toast.makeText(getContext(), &quot;Telegram app is not installed&quot;, Toast.LENGTH_LONG).show();\n     }\n</code></pre>\n<p><strong>Tip:</strong> You can get USER_NAME by click on you telegram profile option you will get option of username in Account session --&gt; if username is none create unique username and put here its work for me.</p>\n"},{"tags":[],"owner":{"account_id":25469316,"reputation":1,"user_id":19267798,"display_name":"orz12"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654305341,"creation_date":1654305341,"answer_id":72496423,"question_id":30055201,"body_markdown":"try the intent like this\r\ntg://resolve?domain=YOUR_USER_ID\r\nit&#39;s more direct then https://t.me\r\n","title":"Android - Send Telegram message to a specific number","body":"<p>try the intent like this\ntg://resolve?domain=YOUR_USER_ID\nit's more direct then <a href=\"https://t.me\" rel=\"nofollow noreferrer\">https://t.me</a></p>\n"},{"tags":[],"owner":{"account_id":26305534,"reputation":1,"user_id":19970100,"display_name":"samanba81"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668627489,"creation_date":1668627489,"answer_id":74466231,"question_id":30055201,"body_markdown":"I&#39;m using this for send message on background :&lt;br&gt;\r\nthis cod is api telegram for use send message by url token bot\r\n\r\n1 - use WebView on xml like this : \r\n\r\n        &lt;WebView\r\n        android:id=&quot;@+id/webView_sendToTelegram&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;/&gt;\r\n2 - on java use this cod:\r\n\r\n    \r\n    public static void SendMessageToBotTelegram(String chatID, String text, String botToken,WebView webView) {\r\n        webView.loadUrl(MessageFormat.format(&quot;https://api.telegram.org/bot{0}/sendMessage?chat_id={1}&amp;text={2}&quot;, botToken, chatID, text));\r\n    }\r\nchatID : your telegram id @RawDataBot for get id  &lt;br&gt;\r\ntext : text your message &lt;br&gt;\r\nbotToken : your bot for get message if you don&#39;t have bot using @BotFather for crate bot &lt;br&gt;\r\nwebView : your id WebView on xml","title":"Android - Send Telegram message to a specific number","body":"<p>I'm using this for send message on background :<br>\nthis cod is api telegram for use send message by url token bot</p>\n<p>1 - use WebView on xml like this :</p>\n<pre><code>    &lt;WebView\n    android:id=&quot;@+id/webView_sendToTelegram&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;/&gt;\n</code></pre>\n<p>2 - on java use this cod:</p>\n<pre><code>public static void SendMessageToBotTelegram(String chatID, String text, String botToken,WebView webView) {\n    webView.loadUrl(MessageFormat.format(&quot;https://api.telegram.org/bot{0}/sendMessage?chat_id={1}&amp;text={2}&quot;, botToken, chatID, text));\n}\n</code></pre>\n<p>chatID : your telegram id @RawDataBot for get id  <br>\ntext : text your message <br>\nbotToken : your bot for get message if you don't have bot using @BotFather for crate bot <br>\nwebView : your id WebView on xml</p>\n"}],"owner":{"account_id":3855072,"reputation":2077,"user_id":3194230,"accept_rate":39,"display_name":"fergaral"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25631,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":30056092,"answer_count":6,"score":17,"last_activity_date":1668627489,"creation_date":1430834569,"question_id":30055201,"body_markdown":"I&#39;m trying to send a Telegram message to a specific number from within my Android app. Right now my code launches Telegram app, and then the user has to select the destinatary. What I want to do is to send the message to the specified number, without having the user select the contact. My code is as follows:\r\n\r\n    /**\r\n     * Intent to send a telegram message\r\n     * @param msg\r\n     */\r\n    void intentMessageTelegram(String msg)\r\n    {\r\n        final String appName = &quot;org.telegram.messenger&quot;;\r\n        final boolean isAppInstalled = isAppAvailable(mUIActivity.getApplicationContext(), appName);\r\n        if (isAppInstalled) \r\n        {\r\n            Intent myIntent = new Intent(Intent.ACTION_SEND);\r\n            myIntent.setType(&quot;text/plain&quot;);\r\n            myIntent.setPackage(appName);\r\n            myIntent.putExtra(Intent.EXTRA_TEXT, msg);//\r\n            mUIActivity.startActivity(Intent.createChooser(myIntent, &quot;Share with&quot;));\r\n        } \r\n        else \r\n        {\r\n            Toast.makeText(mUIActivity, &quot;Telegram not Installed&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n","title":"Android - Send Telegram message to a specific number","body":"<p>I'm trying to send a Telegram message to a specific number from within my Android app. Right now my code launches Telegram app, and then the user has to select the destinatary. What I want to do is to send the message to the specified number, without having the user select the contact. My code is as follows:</p>\n\n<pre><code>/**\n * Intent to send a telegram message\n * @param msg\n */\nvoid intentMessageTelegram(String msg)\n{\n    final String appName = \"org.telegram.messenger\";\n    final boolean isAppInstalled = isAppAvailable(mUIActivity.getApplicationContext(), appName);\n    if (isAppInstalled) \n    {\n        Intent myIntent = new Intent(Intent.ACTION_SEND);\n        myIntent.setType(\"text/plain\");\n        myIntent.setPackage(appName);\n        myIntent.putExtra(Intent.EXTRA_TEXT, msg);//\n        mUIActivity.startActivity(Intent.createChooser(myIntent, \"Share with\"));\n    } \n    else \n    {\n        Toast.makeText(mUIActivity, \"Telegram not Installed\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","database","hibernate","jpa","indexing"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1668614593,"post_id":74462045,"comment_id":131449579,"body_markdown":"You&#39;ll have to evaluate the value of each index based on the data involved and the use case of your app. If you only ever query on name and age or just name, and name is pretty unique, what value do you have in having a separate index on Age, or even having a name, age index? Indexes have different implementations, but are generally B-trees, so that an index on (name, age) cannot be used if you query using only age, but does help queries using just name.","body":"You&#39;ll have to evaluate the value of each index based on the data involved and the use case of your app. If you only ever query on name and age or just name, and name is pretty unique, what value do you have in having a separate index on Age, or even having a name, age index? Indexes have different implementations, but are generally B-trees, so that an index on (name, age) cannot be used if you query using only age, but does help queries using just name."}],"answers":[{"tags":[],"owner":{"account_id":13240240,"reputation":11,"user_id":9561052,"display_name":"Bandrzew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668609786,"creation_date":1668609786,"answer_id":74462454,"question_id":74462045,"body_markdown":"Creating index on list of columns instead of on each column separately is helpful when you wish for it to be unique. So in your example if you allow only one person with given name be X old using unique index on column list is the way to go. If not it&#39;s better to create them separate on each column cause that&#39;s sufficient to make selects quicker.\r\n\r\nPS\r\n\r\nBe aware that indexes slow down inserts and updates and they take away storage so it&#39;s better to use them only where it&#39;s actually helpful.\r\nAnother thing is you might rethink age as database column, it&#39;s better to keep birth date so you don&#39;t have to recalculate it. ","title":"@Index in JPA: Difference between having indexes on each column or having index on all columns together?","body":"<p>Creating index on list of columns instead of on each column separately is helpful when you wish for it to be unique. So in your example if you allow only one person with given name be X old using unique index on column list is the way to go. If not it's better to create them separate on each column cause that's sufficient to make selects quicker.</p>\n<p>PS</p>\n<p>Be aware that indexes slow down inserts and updates and they take away storage so it's better to use them only where it's actually helpful.\nAnother thing is you might rethink age as database column, it's better to keep birth date so you don't have to recalculate it.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668627456,"creation_date":1668627456,"answer_id":74466224,"question_id":74462045,"body_markdown":"Not all RDBMS are handling multi-columns indexes with the same efficiency: if SQLServer, ORACLE and DB2 are quite smart, it&#39;s not always the case with others like MySQL and PostgreSQL. \r\nAnyway the decision of what to index and how should be done in regard of the use cases: what are the search criteria required by the application? to support UI or reporting? How often the related queries will be run? etc. \r\n(And seriously indexing &quot;age&quot;? a column - if any - that should be &quot;virtual&quot; and not stored...) ","title":"@Index in JPA: Difference between having indexes on each column or having index on all columns together?","body":"<p>Not all RDBMS are handling multi-columns indexes with the same efficiency: if SQLServer, ORACLE and DB2 are quite smart, it's not always the case with others like MySQL and PostgreSQL.\nAnyway the decision of what to index and how should be done in regard of the use cases: what are the search criteria required by the application? to support UI or reporting? How often the related queries will be run? etc.\n(And seriously indexing &quot;age&quot;? a column - if any - that should be &quot;virtual&quot; and not stored...)</p>\n"}],"owner":{"account_id":20372223,"reputation":21,"user_id":14944205,"display_name":"JosephCHW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668627456,"creation_date":1668608308,"question_id":74462045,"body_markdown":"I have an entity to which I want to add indexes, using @Index annotation within @Table in JPA. I would appreciate some clarification on what the difference is between these two approaches:\r\n\r\n    @Table(name=&quot;people&quot;, indexes = {\r\n            @Index(columnList = &quot;name&quot;),\r\n            @Index(columnList = &quot;age&quot;)\r\n    })\r\n\r\n    @Table(name=&quot;people&quot;, indexes = {\r\n            @Index(columnList = &quot;name, age&quot;)\r\n    })\r\n\r\nOr both together:\r\n\r\n    @Table(name=&quot;people&quot;, indexes = {\r\n            @Index(columnList = &quot;name&quot;),\r\n            @Index(columnList = &quot;age&quot;),\r\n            @Index(columnList = &quot;name, age&quot;)\r\n    })\r\n\r\nMy intention is to speed up the database access when using a JPA method like \r\n\r\n    peopleRepository.findByNameAndAge(name, age)\r\n\r\nand possibly also one field only like\r\n\r\n    peopleRepository.findByName(name)\r\n\r\nI would very much appreciate an explanation of each and whether certain approaches are better than others if I want to use the above JPA methods.\r\n","title":"@Index in JPA: Difference between having indexes on each column or having index on all columns together?","body":"<p>I have an entity to which I want to add indexes, using @Index annotation within @Table in JPA. I would appreciate some clarification on what the difference is between these two approaches:</p>\n<pre><code>@Table(name=&quot;people&quot;, indexes = {\n        @Index(columnList = &quot;name&quot;),\n        @Index(columnList = &quot;age&quot;)\n})\n\n@Table(name=&quot;people&quot;, indexes = {\n        @Index(columnList = &quot;name, age&quot;)\n})\n</code></pre>\n<p>Or both together:</p>\n<pre><code>@Table(name=&quot;people&quot;, indexes = {\n        @Index(columnList = &quot;name&quot;),\n        @Index(columnList = &quot;age&quot;),\n        @Index(columnList = &quot;name, age&quot;)\n})\n</code></pre>\n<p>My intention is to speed up the database access when using a JPA method like</p>\n<pre><code>peopleRepository.findByNameAndAge(name, age)\n</code></pre>\n<p>and possibly also one field only like</p>\n<pre><code>peopleRepository.findByName(name)\n</code></pre>\n<p>I would very much appreciate an explanation of each and whether certain approaches are better than others if I want to use the above JPA methods.</p>\n"},{"tags":["java",".class-file"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668626852,"creation_date":1668625146,"answer_id":74465818,"question_id":74446059,"body_markdown":"I dug into the Reflection implementation code and all it does to map annotations to parameters, is to assume that the synthetic parameters are at the beginning if the number of parameters does not match the number of parameter annotations.\r\n\r\nThis, however, is only applied to constructors of inner classes or `enum` types, the known use cases of the Java language where this strategy works. For constructors of local and anonymous class, it will simply ignore the mismatch. For any other case, including methods, the implementation will throw an exception if there’s a mismatch.\r\n\r\nSo we can do a similar thing with ASM for the known use cases.\r\n\r\n```java\r\npackage asmtest;\r\n\r\npublic enum Example {\r\n    ;\r\n    Example(@Deprecated int i) {}\r\n    public class Inner {\r\n        Inner(@Deprecated String foo) {}\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class ReadParameters extends ClassVisitor {\r\n    public static void main(String[] args) throws IOException {\r\n        for(Class&lt;?&gt; cl: List.of(Example.class, Example.Inner.class)) {\r\n            System.out.println(cl);\r\n            new ClassReader(cl.getName())\r\n                .accept(new ReadParameters(), ClassReader.SKIP_CODE);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(int access, String name, String descriptor,\r\n                                     String signature, String[] exceptions) {\r\n        System.out.println(&quot; &quot; + name);\r\n        return new ParameterVisitor(name, descriptor);\r\n    }\r\n\r\n    static class ParameterVisitor extends MethodVisitor {\r\n        final Type[] parameterTypes;\r\n        int offset;\r\n\r\n        ParameterVisitor(String name, String desc) {\r\n            super(Opcodes.ASM9);\r\n            parameterTypes = Type.getArgumentTypes(desc);\r\n        }\r\n\r\n        @Override\r\n        public void visitAnnotableParameterCount(int parameterCount, boolean visible) {\r\n            offset = parameterTypes.length - parameterCount;\r\n            for(int i = 0; i &lt; offset; i++)\r\n                System.out.printf(&quot; %3d %-20s %s%n&quot;,\r\n                    i, parameterTypes[i].getClassName(), &quot;(synthetic)&quot;);\r\n        }\r\n\r\n        @Override\r\n        public AnnotationVisitor visitParameterAnnotation(\r\n                int parameter, String descriptor, boolean visible) {\r\n            parameter += offset;\r\n            System.out.printf(&quot; %3d %-20s %s%n&quot;, parameter,\r\n                parameterTypes[parameter].getClassName(),\r\n                Type.getType(descriptor).getClassName());\r\n            return null;\r\n        }\r\n    }\r\n\r\n    protected ReadParameters() {\r\n        super(Opcodes.ASM9);\r\n    }\r\n}\r\n```\r\n\r\n```none\r\nclass asmtest.Example\r\n values\r\n valueOf\r\n &lt;init&gt;\r\n   0 java.lang.String     (synthetic)\r\n   1 int                  (synthetic)\r\n   2 int                  java.lang.Deprecated\r\n $values\r\n &lt;clinit&gt;\r\n\r\nclass asmtest.Example$Inner\r\n &lt;init&gt;\r\n   0 asmtest.Example      (synthetic)\r\n   1 java.lang.String     java.lang.Deprecated\r\n```\r\n\r\nThere doesn’t seem to be a smarter solution at all.\r\n\r\n---\r\n\r\nFor reference, this is how the Reflection code looks like\r\n\r\n(`Executable`)\r\n```java\r\nAnnotation[][] sharedGetParameterAnnotations(Class&lt;?&gt;[] parameterTypes,\r\n                                             byte[] parameterAnnotations) {\r\n    int numParameters = parameterTypes.length;\r\n    if (parameterAnnotations == null)\r\n        return new Annotation[numParameters][0];\r\n\r\n    Annotation[][] result = parseParameterAnnotations(parameterAnnotations);\r\n\r\n    if (result.length != numParameters &amp;&amp;\r\n        handleParameterNumberMismatch(result.length, parameterTypes)) {\r\n        Annotation[][] tmp = new Annotation[numParameters][];\r\n        // Shift annotations down to account for any implicit leading parameters\r\n        System.arraycopy(result, 0, tmp, numParameters - result.length, result.length);\r\n        for (int i = 0; i &lt; numParameters - result.length; i++) {\r\n            tmp[i] = new Annotation[0];\r\n        }\r\n        result = tmp;\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n(`Constructor`)\r\n```java\r\n@Override\r\nboolean handleParameterNumberMismatch(int resultLength, Class&lt;?&gt;[] parameterTypes) {\r\n    int numParameters = parameterTypes.length;\r\n    Class&lt;?&gt; declaringClass = getDeclaringClass();\r\n    if (declaringClass.isEnum()) {\r\n        return resultLength + 2 == numParameters &amp;&amp;\r\n                parameterTypes[0] == String.class &amp;&amp;\r\n                parameterTypes[1] == int.class;\r\n    } else if (\r\n        declaringClass.isAnonymousClass() ||\r\n        declaringClass.isLocalClass() )\r\n        return false; // Can&#39;t do reliable parameter counting\r\n    else {\r\n        if (declaringClass.isMemberClass() &amp;&amp;\r\n            ((declaringClass.getModifiers() &amp; Modifier.STATIC) == 0)  &amp;&amp;\r\n            resultLength + 1 == numParameters) {\r\n            return true;\r\n        } else {\r\n            throw new AnnotationFormatError(\r\n                      &quot;Parameter annotations don&#39;t match number of parameters&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n(`Method`)\r\n```java\r\n@Override\r\nboolean handleParameterNumberMismatch(int resultLength, Class&lt;?&gt;[] parameterTypes) {\r\n    throw new AnnotationFormatError(&quot;Parameter annotations don&#39;t match number of parameters&quot;);\r\n}\r\n```\r\n\r\n---\r\n\r\nTo demonstrate how Reflection deals with mismatches for local classes,\r\n\r\n```java\r\nimport java.lang.reflect.Parameter;\r\nimport java.util.Arrays;\r\n\r\npublic class Example2 {\r\n    public static void main(String[] args) {\r\n        class Tmp {\r\n            String[] captured = args;\r\n            Tmp(@Deprecated int arg) {}\r\n        }\r\n        for(Parameter p: Tmp.class.getDeclaredConstructors()[0].getParameters()) {\r\n            System.out.append(p + &quot; &quot;).flush();\r\n            System.out.println(Arrays.toString(p.getAnnotations()));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```none\r\nint arg0 [@java.lang.Deprecated(forRemoval=false, since=&quot;&quot;)]\r\njava.lang.String[] arg1 Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n        at java.base/java.lang.reflect.Parameter.getDeclaredAnnotations(Parameter.java:318)\r\n        at java.base/java.lang.reflect.Parameter.getAnnotations(Parameter.java:358)\r\n        at Example2.main(Example2.java:12)\r\n```\r\n(So in this case, the compiler decided to add the synthetic parameter after the annotated parameter)\r\n","title":"how to map parameter annotations to corresponding method parameter in classfile using asm","body":"<p>I dug into the Reflection implementation code and all it does to map annotations to parameters, is to assume that the synthetic parameters are at the beginning if the number of parameters does not match the number of parameter annotations.</p>\n<p>This, however, is only applied to constructors of inner classes or <code>enum</code> types, the known use cases of the Java language where this strategy works. For constructors of local and anonymous class, it will simply ignore the mismatch. For any other case, including methods, the implementation will throw an exception if there’s a mismatch.</p>\n<p>So we can do a similar thing with ASM for the known use cases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package asmtest;\n\npublic enum Example {\n    ;\n    Example(@Deprecated int i) {}\n    public class Inner {\n        Inner(@Deprecated String foo) {}\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReadParameters extends ClassVisitor {\n    public static void main(String[] args) throws IOException {\n        for(Class&lt;?&gt; cl: List.of(Example.class, Example.Inner.class)) {\n            System.out.println(cl);\n            new ClassReader(cl.getName())\n                .accept(new ReadParameters(), ClassReader.SKIP_CODE);\n            System.out.println();\n        }\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String descriptor,\n                                     String signature, String[] exceptions) {\n        System.out.println(&quot; &quot; + name);\n        return new ParameterVisitor(name, descriptor);\n    }\n\n    static class ParameterVisitor extends MethodVisitor {\n        final Type[] parameterTypes;\n        int offset;\n\n        ParameterVisitor(String name, String desc) {\n            super(Opcodes.ASM9);\n            parameterTypes = Type.getArgumentTypes(desc);\n        }\n\n        @Override\n        public void visitAnnotableParameterCount(int parameterCount, boolean visible) {\n            offset = parameterTypes.length - parameterCount;\n            for(int i = 0; i &lt; offset; i++)\n                System.out.printf(&quot; %3d %-20s %s%n&quot;,\n                    i, parameterTypes[i].getClassName(), &quot;(synthetic)&quot;);\n        }\n\n        @Override\n        public AnnotationVisitor visitParameterAnnotation(\n                int parameter, String descriptor, boolean visible) {\n            parameter += offset;\n            System.out.printf(&quot; %3d %-20s %s%n&quot;, parameter,\n                parameterTypes[parameter].getClassName(),\n                Type.getType(descriptor).getClassName());\n            return null;\n        }\n    }\n\n    protected ReadParameters() {\n        super(Opcodes.ASM9);\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>class asmtest.Example\n values\n valueOf\n &lt;init&gt;\n   0 java.lang.String     (synthetic)\n   1 int                  (synthetic)\n   2 int                  java.lang.Deprecated\n $values\n &lt;clinit&gt;\n\nclass asmtest.Example$Inner\n &lt;init&gt;\n   0 asmtest.Example      (synthetic)\n   1 java.lang.String     java.lang.Deprecated\n</code></pre>\n<p>There doesn’t seem to be a smarter solution at all.</p>\n<hr />\n<p>For reference, this is how the Reflection code looks like</p>\n<p>(<code>Executable</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Annotation[][] sharedGetParameterAnnotations(Class&lt;?&gt;[] parameterTypes,\n                                             byte[] parameterAnnotations) {\n    int numParameters = parameterTypes.length;\n    if (parameterAnnotations == null)\n        return new Annotation[numParameters][0];\n\n    Annotation[][] result = parseParameterAnnotations(parameterAnnotations);\n\n    if (result.length != numParameters &amp;&amp;\n        handleParameterNumberMismatch(result.length, parameterTypes)) {\n        Annotation[][] tmp = new Annotation[numParameters][];\n        // Shift annotations down to account for any implicit leading parameters\n        System.arraycopy(result, 0, tmp, numParameters - result.length, result.length);\n        for (int i = 0; i &lt; numParameters - result.length; i++) {\n            tmp[i] = new Annotation[0];\n        }\n        result = tmp;\n    }\n    return result;\n}\n</code></pre>\n<p>(<code>Constructor</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nboolean handleParameterNumberMismatch(int resultLength, Class&lt;?&gt;[] parameterTypes) {\n    int numParameters = parameterTypes.length;\n    Class&lt;?&gt; declaringClass = getDeclaringClass();\n    if (declaringClass.isEnum()) {\n        return resultLength + 2 == numParameters &amp;&amp;\n                parameterTypes[0] == String.class &amp;&amp;\n                parameterTypes[1] == int.class;\n    } else if (\n        declaringClass.isAnonymousClass() ||\n        declaringClass.isLocalClass() )\n        return false; // Can't do reliable parameter counting\n    else {\n        if (declaringClass.isMemberClass() &amp;&amp;\n            ((declaringClass.getModifiers() &amp; Modifier.STATIC) == 0)  &amp;&amp;\n            resultLength + 1 == numParameters) {\n            return true;\n        } else {\n            throw new AnnotationFormatError(\n                      &quot;Parameter annotations don't match number of parameters&quot;);\n        }\n    }\n}\n</code></pre>\n<p>(<code>Method</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nboolean handleParameterNumberMismatch(int resultLength, Class&lt;?&gt;[] parameterTypes) {\n    throw new AnnotationFormatError(&quot;Parameter annotations don't match number of parameters&quot;);\n}\n</code></pre>\n<hr />\n<p>To demonstrate how Reflection deals with mismatches for local classes,</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Parameter;\nimport java.util.Arrays;\n\npublic class Example2 {\n    public static void main(String[] args) {\n        class Tmp {\n            String[] captured = args;\n            Tmp(@Deprecated int arg) {}\n        }\n        for(Parameter p: Tmp.class.getDeclaredConstructors()[0].getParameters()) {\n            System.out.append(p + &quot; &quot;).flush();\n            System.out.println(Arrays.toString(p.getAnnotations()));\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>int arg0 [@java.lang.Deprecated(forRemoval=false, since=&quot;&quot;)]\njava.lang.String[] arg1 Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n        at java.base/java.lang.reflect.Parameter.getDeclaredAnnotations(Parameter.java:318)\n        at java.base/java.lang.reflect.Parameter.getAnnotations(Parameter.java:358)\n        at Example2.main(Example2.java:12)\n</code></pre>\n<p>(So in this case, the compiler decided to add the synthetic parameter after the annotated parameter)</p>\n"}],"owner":{"account_id":5167086,"reputation":655,"user_id":4136745,"display_name":"sify"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74465818,"answer_count":1,"score":1,"last_activity_date":1668626852,"creation_date":1668517257,"question_id":74446059,"body_markdown":"As per the [jvms-4.7.18](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.7.18) :\r\n\r\n&gt; The i&#39;th entry in the parameter_annotations table may, but is not required to, correspond to the i&#39;th parameter descriptor in the method descriptor (&#167;4.3.3).  \r\nFor example, a compiler may choose to create entries in the table corresponding only to those parameter descriptors which represent explicitly declared parameters in source code. In the Java programming language, a constructor of an inner class is specified to have an implicitly declared parameter before its explicitly declared parameters (JLS &#167;8.8.1), so the corresponding &lt;init&gt; method in a class file has a parameter descriptor representing the implicitly declared parameter before any parameter descriptors representing explicitly declared parameters. If the first explicitly declared parameter is annotated in source code, then a compiler may create parameter_annotations[0] to store annotations corresponding to the second parameter descriptor. \r\n\r\nAnd in asm `MethodVisitor.visitParameterAnnotation​` [javadoc](https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html#visitParameterAnnotation(int,java.lang.String,boolean)) also states that:\r\n\r\n&gt; parameter - the parameter index. This index must be strictly smaller than the number of parameters in the method descriptor, and strictly smaller than the parameter count specified in visitAnnotableParameterCount(int, boolean). Important note: a parameter index i is not required to correspond to the i&#39;th parameter descriptor in the method descriptor, in particular in case of synthetic parameters \r\n\r\nSo the parameter index doesn&#39;t always match. Then how should I know which parameter annotation correspond to which parameter?\r\n\r\nAt first I thought I could use `MethodParameters` attribute in jvms, which corresponds to `MethodVisitor.visitParameter​` in asm, which has parameter access_flags in it. I just need to filter out parameters which are `ACC_SYNTHETIC` or `ACC_MANDATED`, then the remaining parameters would just match the parameter annotations. But later I found out that `MethodParameters` doesn&#39;t exist in classfile by default.(see my other question: https://stackoverflow.com/questions/74426526/how-to-show-method-parameter-access-flags-in-java-classfile) That means I can&#39;t get a parameter&#39;s access_flags in classfile, and the approach above doesn&#39;t work.\r\n\r\nI also found related issues in asm&#39;s reposiroty:\r\n- https://gitlab.ow2.org/asm/asm/-/merge_requests/44\r\n- https://gitlab.ow2.org/asm/asm/-/issues/317814\r\n- https://gitlab.ow2.org/asm/asm/-/issues/317788  \r\n\r\nIn the discussions of above issues, it&#39;s decided that asm users should do the mapping between bytecode parameter indices and source code parameters if desired, but it doesn&#39;t mention how.\r\n\r\nI&#39;m also wondering how java reflection framework does the mapping, which may give me some inspiration, but I haven&#39;t checked that.\r\n\r\nBack to the question, how should I map parameter annotations and parameters correctly?","title":"how to map parameter annotations to corresponding method parameter in classfile using asm","body":"<p>As per the <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.7.18\" rel=\"nofollow noreferrer\">jvms-4.7.18</a> :</p>\n<blockquote>\n<p>The i'th entry in the parameter_annotations table may, but is not required to, correspond to the i'th parameter descriptor in the method descriptor (§4.3.3).<br />\nFor example, a compiler may choose to create entries in the table corresponding only to those parameter descriptors which represent explicitly declared parameters in source code. In the Java programming language, a constructor of an inner class is specified to have an implicitly declared parameter before its explicitly declared parameters (JLS §8.8.1), so the corresponding  method in a class file has a parameter descriptor representing the implicitly declared parameter before any parameter descriptors representing explicitly declared parameters. If the first explicitly declared parameter is annotated in source code, then a compiler may create parameter_annotations[0] to store annotations corresponding to the second parameter descriptor.</p>\n</blockquote>\n<p>And in asm <code>MethodVisitor.visitParameterAnnotation​</code> <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html#visitParameterAnnotation(int,java.lang.String,boolean)\" rel=\"nofollow noreferrer\">javadoc</a> also states that:</p>\n<blockquote>\n<p>parameter - the parameter index. This index must be strictly smaller than the number of parameters in the method descriptor, and strictly smaller than the parameter count specified in visitAnnotableParameterCount(int, boolean). Important note: a parameter index i is not required to correspond to the i'th parameter descriptor in the method descriptor, in particular in case of synthetic parameters</p>\n</blockquote>\n<p>So the parameter index doesn't always match. Then how should I know which parameter annotation correspond to which parameter?</p>\n<p>At first I thought I could use <code>MethodParameters</code> attribute in jvms, which corresponds to <code>MethodVisitor.visitParameter​</code> in asm, which has parameter access_flags in it. I just need to filter out parameters which are <code>ACC_SYNTHETIC</code> or <code>ACC_MANDATED</code>, then the remaining parameters would just match the parameter annotations. But later I found out that <code>MethodParameters</code> doesn't exist in classfile by default.(see my other question: <a href=\"https://stackoverflow.com/questions/74426526/how-to-show-method-parameter-access-flags-in-java-classfile\">how to show method parameter access_flags in java classfile</a>) That means I can't get a parameter's access_flags in classfile, and the approach above doesn't work.</p>\n<p>I also found related issues in asm's reposiroty:</p>\n<ul>\n<li><a href=\"https://gitlab.ow2.org/asm/asm/-/merge_requests/44\" rel=\"nofollow noreferrer\">https://gitlab.ow2.org/asm/asm/-/merge_requests/44</a></li>\n<li><a href=\"https://gitlab.ow2.org/asm/asm/-/issues/317814\" rel=\"nofollow noreferrer\">https://gitlab.ow2.org/asm/asm/-/issues/317814</a></li>\n<li><a href=\"https://gitlab.ow2.org/asm/asm/-/issues/317788\" rel=\"nofollow noreferrer\">https://gitlab.ow2.org/asm/asm/-/issues/317788</a></li>\n</ul>\n<p>In the discussions of above issues, it's decided that asm users should do the mapping between bytecode parameter indices and source code parameters if desired, but it doesn't mention how.</p>\n<p>I'm also wondering how java reflection framework does the mapping, which may give me some inspiration, but I haven't checked that.</p>\n<p>Back to the question, how should I map parameter annotations and parameters correctly?</p>\n"},{"tags":["java","android","xml","fragment","android-inflate"],"comments":[{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":2,"creation_date":1618513016,"post_id":67114506,"comment_id":118630890,"body_markdown":"Post the full stacktrace","body":"Post the full stacktrace"},{"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"score":0,"creation_date":1618561401,"post_id":67114506,"comment_id":118643492,"body_markdown":"@Gabriele Mariotti full stack trace was added. thank you in advance.","body":"@Gabriele Mariotti full stack trace was added. thank you in advance."},{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":1,"creation_date":1618561918,"post_id":67114506,"comment_id":118643680,"body_markdown":"Are you using the 1.3.0? What is your app theme?","body":"Are you using the 1.3.0? What is your app theme?"},{"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"score":0,"creation_date":1618562766,"post_id":67114506,"comment_id":118644011,"body_markdown":"@Gabriele Mariotti no, I am using 1.2.0-alpha02 version.","body":"@Gabriele Mariotti no, I am using 1.2.0-alpha02 version."},{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":1,"creation_date":1618562825,"post_id":67114506,"comment_id":118644034,"body_markdown":"Use at least a stable version 1.2.0 or 1.2.1","body":"Use at least a stable version 1.2.0 or 1.2.1"},{"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"score":0,"creation_date":1618563779,"post_id":67114506,"comment_id":118644463,"body_markdown":"@Gabriele Mariotti I also add Gradle code in the update section.","body":"@Gabriele Mariotti I also add Gradle code in the update section."},{"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"score":0,"creation_date":1620227024,"post_id":67114506,"comment_id":119139362,"body_markdown":"@Gabriele Mariotti hello, I changed the material version to 1.3.0(newest version). but the same error is shown.","body":"@Gabriele Mariotti hello, I changed the material version to 1.3.0(newest version). but the same error is shown."},{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1620229996,"post_id":67114506,"comment_id":119140819,"body_markdown":"Which theme are you using?","body":"Which theme are you using?"},{"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"score":0,"creation_date":1620310946,"post_id":67114506,"comment_id":119168179,"body_markdown":"@Gabriele Mariotti sorry, I am beginner to android studio. what do you mean by theme? I think you mean theme.xml:\n\n&lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n\n**********************************************************************************\ndo you need more information?","body":"@Gabriele Mariotti sorry, I am beginner to android studio. what do you mean by theme? I think you mean theme.xml:  &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;  ************************************************************&zwnj;&#8203;********************&zwnj;&#8203;** do you need more information?"},{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1620311091,"post_id":67114506,"comment_id":119168262,"body_markdown":"Yes the theme used in your Activity and defined in themes.xml","body":"Yes the theme used in your Activity and defined in themes.xml"},{"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"score":0,"creation_date":1620311935,"post_id":67114506,"comment_id":119168700,"body_markdown":"@Gabriele Mariotti I added Theme.xml full resource at the end of my question.","body":"@Gabriele Mariotti I added Theme.xml full resource at the end of my question."}],"answers":[{"comments":[{"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"score":0,"creation_date":1618562015,"post_id":67115158,"comment_id":118643712,"body_markdown":"when I replace your code and I run my application, my application is not executed and it also does not give any error. but when I deleted  the mentioned XML code from warming.XML, I get the same error. \nthank you anyway.","body":"when I replace your code and I run my application, my application is not executed and it also does not give any error. but when I deleted  the mentioned XML code from warming.XML, I get the same error.  thank you anyway."}],"tags":[],"owner":{"account_id":3538156,"reputation":247,"user_id":2955931,"display_name":"Frans Hanyane"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618516041,"creation_date":1618516041,"answer_id":67115158,"question_id":67114506,"body_markdown":"You have to use `app:trackColorActive` and `app:trackColorInactive` instead of \r\n`app:activeTrackColor` and `app:inactiveTrackColor`:\r\n\r\n        &lt;com.google.android.material.slider.Slider\r\n            ...\r\n            app:trackColorActive=&quot;#ff4500&quot;\r\n            app:trackColorInactive=&quot;#fbb999&quot;/&gt;\r\n","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>You have to use <code>app:trackColorActive</code> and <code>app:trackColorInactive</code> instead of\n<code>app:activeTrackColor</code> and <code>app:inactiveTrackColor</code>:</p>\n<pre><code>    &lt;com.google.android.material.slider.Slider\n        ...\n        app:trackColorActive=&quot;#ff4500&quot;\n        app:trackColorInactive=&quot;#fbb999&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1625587889,"creation_date":1620630641,"answer_id":67466210,"question_id":67114506,"body_markdown":"well, after a lot of searching, finally I found out there is a simillar object to slider named  &lt;androidx.appcompat.widget.AppCompatSeekBar&gt; in android studio. so, you can use this object instead of &quot;slider&quot; object. so there is no inflating error in this way. ","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>well, after a lot of searching, finally I found out there is a simillar object to slider named  &lt;androidx.appcompat.widget.AppCompatSeekBar&gt; in android studio. so, you can use this object instead of &quot;slider&quot; object. so there is no inflating error in this way.</p>\n"},{"tags":[],"owner":{"account_id":4682240,"reputation":351,"user_id":9909279,"display_name":"Jose Ribamar"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1629898663,"creation_date":1629898663,"answer_id":68923994,"question_id":67114506,"body_markdown":"I created the following theme:\r\n\r\n    &lt;style name=&quot;MyMaterialTheme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Add attributes here --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/itimalia_pink_califoria&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nthen:\r\n\r\n       &lt;com.google.android.material.slider.Slider\r\n        android:id=&quot;@+id/slider&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/MyMaterialTheme&quot;/&gt;\r\n\r\nand it works.","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>I created the following theme:</p>\n<pre><code>&lt;style name=&quot;MyMaterialTheme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;!-- Add attributes here --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/itimalia_pink_califoria&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>then:</p>\n<pre><code>   &lt;com.google.android.material.slider.Slider\n    android:id=&quot;@+id/slider&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:theme=&quot;@style/MyMaterialTheme&quot;/&gt;\n</code></pre>\n<p>and it works.</p>\n"},{"tags":[],"owner":{"account_id":2106041,"reputation":2316,"user_id":1872349,"display_name":"Raphael C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636039156,"creation_date":1636039156,"answer_id":69841588,"question_id":67114506,"body_markdown":"I had the same issue. Upgrading to `com.google.android.material:material:1.4.0` did not help. As stated above, the only solution was to set `android:theme` to something, and then it worked.","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>I had the same issue. Upgrading to <code>com.google.android.material:material:1.4.0</code> did not help. As stated above, the only solution was to set <code>android:theme</code> to something, and then it worked.</p>\n"},{"tags":[],"owner":{"account_id":10494248,"reputation":1009,"user_id":7735068,"display_name":"Willey Hute"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646212119,"creation_date":1646212119,"answer_id":71320037,"question_id":67114506,"body_markdown":"It is due to your base app theme is not a child of the material theme. In my case, I was using the app theme of Appcompat child..but I was using a view that inherits everything from the MaterialComponenets theme. And it was throwing the error.\r\n\r\nApp theme: \r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n       ...\r\n    &lt;/style&gt;\r\n\r\nSo I created another style as,\r\n\r\n    &lt;style name=&quot;WD_Slider&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        ...\r\n    &lt;/style&gt;\r\n\r\nand referred that style in slider view as, \r\n\r\n    android:theme=&quot;@style/WD_Slider&quot;\r\n\r\nWith this approach, you can use any view which is not a child of your app theme and override the required theme exactly when you use it in XML at the view level.\r\n","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>It is due to your base app theme is not a child of the material theme. In my case, I was using the app theme of Appcompat child..but I was using a view that inherits everything from the MaterialComponenets theme. And it was throwing the error.</p>\n<p>App theme:</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n   ...\n&lt;/style&gt;\n</code></pre>\n<p>So I created another style as,</p>\n<pre><code>&lt;style name=&quot;WD_Slider&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n    ...\n&lt;/style&gt;\n</code></pre>\n<p>and referred that style in slider view as,</p>\n<pre><code>android:theme=&quot;@style/WD_Slider&quot;\n</code></pre>\n<p>With this approach, you can use any view which is not a child of your app theme and override the required theme exactly when you use it in XML at the view level.</p>\n"},{"tags":[],"owner":{"account_id":106543,"reputation":288,"user_id":3229211,"display_name":"Groovee60"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1653934726,"creation_date":1653934726,"answer_id":72438557,"question_id":67114506,"body_markdown":"If your application theme is not derived from Material Design, you can get past the runtime crash by assigning the following theme to the Slider widget.\r\n\r\nandroid:theme=&quot;@style/Theme.MaterialComponents.DayNight.NoActionBar&quot;","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>If your application theme is not derived from Material Design, you can get past the runtime crash by assigning the following theme to the Slider widget.</p>\n<p>android:theme=&quot;@style/Theme.MaterialComponents.DayNight.NoActionBar&quot;</p>\n"},{"tags":[],"owner":{"account_id":3001282,"reputation":430,"user_id":2546742,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668626641,"creation_date":1668626641,"answer_id":74466092,"question_id":67114506,"body_markdown":"This has given me exact tracking in kotlin\r\n\r\n    seekBar?.setOnSeekBarChangeListener(object : SeekBar.OnSeekBarChangeListener {\r\n            override fun onProgressChanged(seekBar: SeekBar, progress: Int,\r\n                                           fromUser: Boolean) {\r\n                \r\n                tvProgress.text = &quot;CAD &quot;+ progress.toString()\r\n                val bounds: Rect = seekBar.thumb.bounds\r\n                tvProgress.x = (seekBar.left + bounds.left + seekBar.thumbOffset).toFloat()\r\n\r\n             }\r\n\r\n            override fun onStartTrackingTouch(seekBar: SeekBar) {\r\n             }\r\n\r\n            override fun onStopTrackingTouch(seekBar: SeekBar) {\r\n                seekBarValue = seekBar.progress\r\n             }\r\n        })\r\n\r\n\r\n \r\n\r\n    &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:visibility=&quot;visible&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvProgress&quot;\r\n                    android:layout_width=&quot;@dimen/_50sdp&quot;\r\n                    android:layout_height=&quot;@dimen/_30sdp&quot;\r\n                     android:background=&quot;@drawable/bg_box_border_unselected&quot;\r\n                    android:backgroundTint=&quot;@color/black&quot;\r\n                    android:fontFamily=&quot;@font/open_sans_regular&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:paddingStart=&quot;@dimen/_3sdp&quot;\r\n                    android:paddingEnd=&quot;@dimen/_3sdp&quot;\r\n                    android:text=&quot;CAD 20&quot;\r\n                    android:textColor=&quot;@color/white&quot; /&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatSeekBar\r\n                    android:id=&quot;@+id/seekBar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/tvProgress&quot;\r\n                     android:max=&quot;28&quot;\r\n                    android:maxHeight=&quot;@dimen/_5sdp&quot;\r\n                    android:min=&quot;20&quot;\r\n                    android:minHeight=&quot;@dimen/_5sdp&quot;\r\n                    android:padding=&quot;@dimen/_10sdp&quot;\r\n                    android:progress=&quot;20&quot;\r\n                    android:progressDrawable=&quot;@drawable/custom_seekbar&quot;\r\n                    android:thumb=&quot;@drawable/ic_thumb_seekbar&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>This has given me exact tracking in kotlin</p>\n<pre><code>seekBar?.setOnSeekBarChangeListener(object : SeekBar.OnSeekBarChangeListener {\n        override fun onProgressChanged(seekBar: SeekBar, progress: Int,\n                                       fromUser: Boolean) {\n            \n            tvProgress.text = &quot;CAD &quot;+ progress.toString()\n            val bounds: Rect = seekBar.thumb.bounds\n            tvProgress.x = (seekBar.left + bounds.left + seekBar.thumbOffset).toFloat()\n\n         }\n\n        override fun onStartTrackingTouch(seekBar: SeekBar) {\n         }\n\n        override fun onStopTrackingTouch(seekBar: SeekBar) {\n            seekBarValue = seekBar.progress\n         }\n    })\n\n\n\n\n&lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:visibility=&quot;visible&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tvProgress&quot;\n                android:layout_width=&quot;@dimen/_50sdp&quot;\n                android:layout_height=&quot;@dimen/_30sdp&quot;\n                 android:background=&quot;@drawable/bg_box_border_unselected&quot;\n                android:backgroundTint=&quot;@color/black&quot;\n                android:fontFamily=&quot;@font/open_sans_regular&quot;\n                android:gravity=&quot;center&quot;\n                android:paddingStart=&quot;@dimen/_3sdp&quot;\n                android:paddingEnd=&quot;@dimen/_3sdp&quot;\n                android:text=&quot;CAD 20&quot;\n                android:textColor=&quot;@color/white&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatSeekBar\n                android:id=&quot;@+id/seekBar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/tvProgress&quot;\n                 android:max=&quot;28&quot;\n                android:maxHeight=&quot;@dimen/_5sdp&quot;\n                android:min=&quot;20&quot;\n                android:minHeight=&quot;@dimen/_5sdp&quot;\n                android:padding=&quot;@dimen/_10sdp&quot;\n                android:progress=&quot;20&quot;\n                android:progressDrawable=&quot;@drawable/custom_seekbar&quot;\n                android:thumb=&quot;@drawable/ic_thumb_seekbar&quot; /&gt;\n        &lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":19758953,"reputation":342,"user_id":14468588,"display_name":"mohammad rezza"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8172,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":67466210,"answer_count":7,"score":12,"last_activity_date":1668626641,"creation_date":1618512932,"question_id":67114506,"body_markdown":"I want to inflate a layout containing a single seekBar. in this way, I&#39;ve created a java class that extends fragment class and then I inflate the layout. but the following error occurred:\r\n\r\nBinary XML file line #9: Binary XML file line #9: Error inflating class com.google.android.material.slider.Slider\r\n\r\n    warming.XML is in the following:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n  \r\n        &lt;com.google.android.material.slider.Slider\r\n            android:layout_width=&quot;327dp&quot;\r\n            android:layout_height=&quot;37dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginStart=&quot;42dp&quot;\r\n            android:layout_marginTop=&quot;217dp&quot;\r\n            android:layout_marginEnd=&quot;42dp&quot;\r\n            android:layout_marginBottom=&quot;349dp&quot;\r\n            android:valueFrom=&quot;0&quot;\r\n            android:valueTo=&quot;300&quot;\r\n            app:activeTrackColor=&quot;#ff4500&quot;\r\n            app:inactiveTrackColor=&quot;#fbb999&quot; &gt;\r\n\r\n        &lt;/com.google.android.material.slider.Slider&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nand firstPage.java that inflate layout warming.XML is in the following:\r\n\r\n\r\n    public class firstPage extends Fragment {\r\n       @Nullable\r\n       @Override\r\n       public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n          return inflater.inflate(R.layout.warming,container,false);\r\n       }\r\n    }\r\n\r\nusing the following code, I want to execute the firstPage.java class:\r\n\r\n    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,new firstPage()).commit();\r\n\r\nwhat&#39;s the matter? can anyone help me? I&#39;ve searched for this problem in StackOverflow and some other websites, and there were similar questions but no one can solve my problem. \r\n\r\n**Update**\r\n\r\nfull Stack Trace is here:\r\n\r\n    04-16 12:45:37.991 18832-18832/? I/art: Late-enabling -Xcheck:jni\r\n    04-16 12:45:37.991 18832-18832/? I/art: VMHOOK: rlim_cur : 0 pid:18832\r\n    04-16 12:45:38.132 18832-18832/com.example.myapplication W/System: ClassLoader referenced unknown path: /data/app/com.example.myapplication-2/lib/arm\r\n    04-16 12:45:38.443 18832-18832/com.example.myapplication W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\r\n    04-16 12:45:38.513 18832-18832/com.example.myapplication I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\r\n    04-16 12:45:38.513 18832-18832/com.example.myapplication I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\r\n    04-16 12:45:38.914 18832-18848/com.example.myapplication I/Adreno-EGL: &lt;qeglDrvAPI_eglInitialize:379&gt;: EGL 1.4 QUALCOMM build: Nondeterministic_AU_msm8974_LA.BF.1.1.3__release_AU (I3fa967cfef)\r\n        OpenGL ES Shader Compiler Version: E031.28.00.02\r\n        Build Date: 09/29/15 Tue\r\n        Local Branch: mybranch14683032\r\n        Remote Branch: quic/master\r\n        Local Patches: NONE\r\n        Reconstruct Branch: NOTHING\r\n    04-16 12:45:51.663 18832-18832/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.myapplication, PID: 18832\r\n        android.view.InflateException: Binary XML file line #8: Binary XML file line #8: Error inflating class com.google.android.material.slider.Slider\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at com.example.myapplication.firstPage.onCreateView(firstPage.java:16)\r\n            at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)\r\n            at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)\r\n            at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)\r\n            at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)\r\n            at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)\r\n            at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)\r\n            at android.os.Handler.handleCallback(Handler.java:739)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:168)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5885)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)\r\n         Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class com.google.android.material.slider.Slider\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:835)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)&#160;\r\n            at com.example.myapplication.firstPage.onCreateView(firstPage.java:16)&#160;\r\n            at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)&#160;\r\n            at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n            at android.os.Looper.loop(Looper.java:168)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:5885)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)&#160;\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance(Native Method)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:619)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764)&#160;\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)&#160;\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:835)&#160;\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)&#160;\r\n            at com.example.myapplication.firstPage.onCreateView(firstPage.java:16)&#160;\r\n            at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)&#160;\r\n            at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n            at android.os.Looper.loop(Looper.java:168)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:5885)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)&#160;\r\n         Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 11: TypedValue{t=0x2/d=0x7f0300b4 a=3}\r\n            at android.content.res.TypedArray.getColorStateList(TypedArray.java:482)\r\n            at com.google.android.material.resources.MaterialResources.getColorStateList(MaterialResources.java:71)\r\n            at com.google.android.material.slider.Slider.processAttributes(Slider.java:365)\r\n            at com.google.android.material.slider.Slider.&lt;init&gt;(Slider.java:261)\r\n            at com.google.android.material.slider.Slider.&lt;init&gt;(Slider.java:252)\r\n            at java.lang.reflect.Constructor.newInstance(Native Method)&#160;\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:619)&#160;\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764)&#160;\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)&#160;\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:835)&#160;\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)&#160;\r\n            at com.example.myapplication.firstPage.onCreateView(firstPage.java:16)&#160;\r\n            at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)&#160;\r\n            at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)&#160;\r\n            at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n            at android.os.Looper.loop(Looper.java:168)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:5885)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)&#160;\r\n    04-16 12:45:53.565 18832-18832/com.example.myapplication D/Process: killProcess, pid=18832\r\n    04-16 12:45:53.670 18832-18832/com.example.myapplication D/Process: com.android.internal.os.RuntimeInit$UncaughtHandler.uncaughtException:113 java.lang.ThreadGroup.uncaughtException:693 java.lang.ThreadGroup.uncaughtException:690 \r\n\r\n\r\nand in the following is the Build.gradle code:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n            minSdkVersion 22\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.2.0-alpha02&#39;\r\n    //    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    //    implementation &#39;com.android.support:design:28.+&#39;\r\n    //    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    }\r\n\r\n\r\nand if you want to ask me &quot;why don&#39;t you use the &quot;material:1.3.0&quot; version&quot;, I can say that because of rendering problem associated with Navigation Drawer Layout, according to some instruction in StackOverFlow, I changed it to &quot;material:1.2.0-alpha02&quot; and rendering problem was solved.\r\nI ask that question in another post. you can access that question in the following link:\r\nhttps://stackoverflow.com/questions/67095956/com-google-android-materialmaterial1-2-0-alpha02-does-not-include-some-instr\r\n\r\nand here is Theme.xml:\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;","title":"Error inflating class com.google.android.material.slider.Slider","body":"<p>I want to inflate a layout containing a single seekBar. in this way, I've created a java class that extends fragment class and then I inflate the layout. but the following error occurred:</p>\n<p>Binary XML file line #9: Binary XML file line #9: Error inflating class com.google.android.material.slider.Slider</p>\n<pre><code>warming.XML is in the following:\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.slider.Slider\n        android:layout_width=&quot;327dp&quot;\n        android:layout_height=&quot;37dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;42dp&quot;\n        android:layout_marginTop=&quot;217dp&quot;\n        android:layout_marginEnd=&quot;42dp&quot;\n        android:layout_marginBottom=&quot;349dp&quot;\n        android:valueFrom=&quot;0&quot;\n        android:valueTo=&quot;300&quot;\n        app:activeTrackColor=&quot;#ff4500&quot;\n        app:inactiveTrackColor=&quot;#fbb999&quot; &gt;\n\n    &lt;/com.google.android.material.slider.Slider&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>and firstPage.java that inflate layout warming.XML is in the following:</p>\n<pre><code>public class firstPage extends Fragment {\n   @Nullable\n   @Override\n   public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n      return inflater.inflate(R.layout.warming,container,false);\n   }\n}\n</code></pre>\n<p>using the following code, I want to execute the firstPage.java class:</p>\n<pre><code>getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,new firstPage()).commit();\n</code></pre>\n<p>what's the matter? can anyone help me? I've searched for this problem in StackOverflow and some other websites, and there were similar questions but no one can solve my problem.</p>\n<p><strong>Update</strong></p>\n<p>full Stack Trace is here:</p>\n<pre><code>04-16 12:45:37.991 18832-18832/? I/art: Late-enabling -Xcheck:jni\n04-16 12:45:37.991 18832-18832/? I/art: VMHOOK: rlim_cur : 0 pid:18832\n04-16 12:45:38.132 18832-18832/com.example.myapplication W/System: ClassLoader referenced unknown path: /data/app/com.example.myapplication-2/lib/arm\n04-16 12:45:38.443 18832-18832/com.example.myapplication W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\n04-16 12:45:38.513 18832-18832/com.example.myapplication I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\n04-16 12:45:38.513 18832-18832/com.example.myapplication I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\n04-16 12:45:38.914 18832-18848/com.example.myapplication I/Adreno-EGL: &lt;qeglDrvAPI_eglInitialize:379&gt;: EGL 1.4 QUALCOMM build: Nondeterministic_AU_msm8974_LA.BF.1.1.3__release_AU (I3fa967cfef)\n    OpenGL ES Shader Compiler Version: E031.28.00.02\n    Build Date: 09/29/15 Tue\n    Local Branch: mybranch14683032\n    Remote Branch: quic/master\n    Local Patches: NONE\n    Reconstruct Branch: NOTHING\n04-16 12:45:51.663 18832-18832/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 18832\n    android.view.InflateException: Binary XML file line #8: Binary XML file line #8: Error inflating class com.google.android.material.slider.Slider\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at com.example.myapplication.firstPage.onCreateView(firstPage.java:16)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)\n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)\n        at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)\n        at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)\n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)\n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)\n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)\n        at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:168)\n        at android.app.ActivityThread.main(ActivityThread.java:5885)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)\n     Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class com.google.android.material.slider.Slider\n        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:835)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \n        at com.example.myapplication.firstPage.onCreateView(firstPage.java:16) \n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600) \n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881) \n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238) \n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303) \n        at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439) \n        at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079) \n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869) \n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824) \n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727) \n        at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150) \n        at android.os.Handler.handleCallback(Handler.java:739) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:168) \n        at android.app.ActivityThread.main(ActivityThread.java:5885) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687) \n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance(Native Method)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:619)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:835) \n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \n        at com.example.myapplication.firstPage.onCreateView(firstPage.java:16) \n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600) \n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881) \n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238) \n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303) \n        at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439) \n        at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079) \n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869) \n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824) \n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727) \n        at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150) \n        at android.os.Handler.handleCallback(Handler.java:739) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:168) \n        at android.app.ActivityThread.main(ActivityThread.java:5885) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687) \n     Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 11: TypedValue{t=0x2/d=0x7f0300b4 a=3}\n        at android.content.res.TypedArray.getColorStateList(TypedArray.java:482)\n        at com.google.android.material.resources.MaterialResources.getColorStateList(MaterialResources.java:71)\n        at com.google.android.material.slider.Slider.processAttributes(Slider.java:365)\n        at com.google.android.material.slider.Slider.&lt;init&gt;(Slider.java:261)\n        at com.google.android.material.slider.Slider.&lt;init&gt;(Slider.java:252)\n        at java.lang.reflect.Constructor.newInstance(Native Method) \n        at android.view.LayoutInflater.createView(LayoutInflater.java:619) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:835) \n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \n        at com.example.myapplication.firstPage.onCreateView(firstPage.java:16) \n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600) \n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881) \n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238) \n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303) \n        at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439) \n        at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079) \n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869) \n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824) \n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727) \n        at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150) \n        at android.os.Handler.handleCallback(Handler.java:739) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:168) \n        at android.app.ActivityThread.main(ActivityThread.java:5885) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687) \n04-16 12:45:53.565 18832-18832/com.example.myapplication D/Process: killProcess, pid=18832\n04-16 12:45:53.670 18832-18832/com.example.myapplication D/Process: com.android.internal.os.RuntimeInit$UncaughtHandler.uncaughtException:113 java.lang.ThreadGroup.uncaughtException:693 java.lang.ThreadGroup.uncaughtException:690 \n</code></pre>\n<p>and in the following is the Build.gradle code:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 30\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdkVersion 22\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.0-alpha02'\n//    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n//    implementation 'com.android.support:design:28.+'\n//    implementation 'com.google.android.material:material:1.3.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>and if you want to ask me &quot;why don't you use the &quot;material:1.3.0&quot; version&quot;, I can say that because of rendering problem associated with Navigation Drawer Layout, according to some instruction in StackOverFlow, I changed it to &quot;material:1.2.0-alpha02&quot; and rendering problem was solved.\nI ask that question in another post. you can access that question in the following link:\n<a href=\"https://stackoverflow.com/questions/67095956/com-google-android-materialmaterial1-2-0-alpha02-does-not-include-some-instr\">https://stackoverflow.com/questions/67095956/com-google-android-materialmaterial1-2-0-alpha02-does-not-include-some-instr</a></p>\n<p>and here is Theme.xml:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3029738,"reputation":103,"user_id":2569014,"display_name":"Ridje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668626561,"creation_date":1668626561,"answer_id":74466078,"question_id":71870124,"body_markdown":"I had the same issue when popup window was closing if I set a new text to AutoCompleteTextView.&lt;br&gt;\r\nHave you tried to use setText() with filter parameter?&lt;br&gt;\r\nLike that:\r\n```\r\nAutoCompleteTextView.setText(&quot;&quot;, false).\r\n```","title":"How to stop the exposed dropdown menu closing after cancel last letter in the AutoCompleteTextView","body":"<p>I had the same issue when popup window was closing if I set a new text to AutoCompleteTextView.<br>\nHave you tried to use setText() with filter parameter?<br>\nLike that:</p>\n<pre><code>AutoCompleteTextView.setText(&quot;&quot;, false).\n</code></pre>\n"}],"owner":{"account_id":24935785,"reputation":1,"user_id":18802385,"display_name":"Andrea Bonatti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668626561,"creation_date":1649932084,"question_id":71870124,"body_markdown":"I need help to change a behavior of exposed dropdown menu in android.  \r\nI am looking to find a way to stop the auto-closing of the dropdown menu whene i cancel all the letters that i inserted in the dropdown menu. The desired behavior is to show all the selectable options in that specific case.  \r\nThe dropdown menu that i implemented is made by using aTextInputLayout and an AppCompatAutoCompleteTextView.&lt;br /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/text_input_layout_report&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox.Dense.ExposedDropdownMenu&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;32dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;32dp&quot;\r\n        android:hint=&quot;@string/report&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\r\n            android:id=&quot;@+id/autocomplete_textview_report&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:inputType=&quot;text&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\nThe items are passed to the menu by using a custom arrayadapter where is made the filtering.","title":"How to stop the exposed dropdown menu closing after cancel last letter in the AutoCompleteTextView","body":"<p>I need help to change a behavior of exposed dropdown menu in android.<br />\nI am looking to find a way to stop the auto-closing of the dropdown menu whene i cancel all the letters that i inserted in the dropdown menu. The desired behavior is to show all the selectable options in that specific case.<br />\nThe dropdown menu that i implemented is made by using aTextInputLayout and an AppCompatAutoCompleteTextView.<br /></p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/text_input_layout_report&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox.Dense.ExposedDropdownMenu&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:hint=&quot;@string/report&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatAutoCompleteTextView\n        android:id=&quot;@+id/autocomplete_textview_report&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;text&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>The items are passed to the menu by using a custom arrayadapter where is made the filtering.</p>\n"},{"tags":["java","mocking"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668625382,"post_id":74465839,"comment_id":131453557,"body_markdown":"Is there any more stacktrace?","body":"Is there any more stacktrace?"},{"owner":{"account_id":2221851,"reputation":313,"user_id":1961048,"display_name":"gerumato"},"score":0,"creation_date":1668625540,"post_id":74465839,"comment_id":131453603,"body_markdown":"Yes there is, I&#39;ve just added it to the question.","body":"Yes there is, I&#39;ve just added it to the question."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668625602,"post_id":74465839,"comment_id":131453621,"body_markdown":"Please add it to your question","body":"Please add it to your question"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668627041,"post_id":74465839,"comment_id":131454120,"body_markdown":"There is no module system in Java 1.8, so it’s impossible to get this exception in Java 1.8. In other words, you are not using Java 1.8.","body":"There is no module system in Java 1.8, so it’s impossible to get this exception in Java 1.8. In other words, you are not using Java 1.8."},{"owner":{"account_id":2221851,"reputation":313,"user_id":1961048,"display_name":"gerumato"},"score":0,"creation_date":1668632571,"post_id":74465839,"comment_id":131455961,"body_markdown":"Great, I&#39;ll go check this out.","body":"Great, I&#39;ll go check this out."}],"owner":{"account_id":2221851,"reputation":313,"user_id":1961048,"display_name":"gerumato"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668625705,"answer_count":0,"score":0,"last_activity_date":1668626338,"creation_date":1668625262,"question_id":74465839,"body_markdown":"I&#39;m trying to make a simple test project with mockejb 0.6-beta2 and Java 1.8, but keep getting \r\n\r\n    java.lang.ExceptionInInitializerError\r\n\tat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\r\n\tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\r\n\tat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\r\n\tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:116)\r\n\tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:108)\r\n\tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:104)\r\n\tat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\r\n\tat org.mockejb.interceptor.InterceptableProxy.create(InterceptableProxy.java:38)\r\n\tat org.mockejb.jndi.MockContextFactory.getInitialContext(MockContextFactory.java:47)\r\n\tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:732)\r\n\tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\r\n\tat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\r\n\tat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:184)\r\n\tat ar.com.clarin.suscripciones.servicios.impl.GestionarClienteComercialShould.setUp(GestionarClienteComercialShould.java:31)\r\n\r\nWhen I try to run it. I keep geting this ExceptionInInitializerError I don&#39;t understand what I&#39;m doing wrong, it seems to be on par with examples, I don&#39;t know, maybe the library is too old and out of date. The use of another ejb mocking library is also welcomed.\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    public class GestionarClienteComercialShould {\r\n    \r\n    \tprivate Context ctx;\r\n    \t@Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t\t// Setup the JNDI environment to use the MockEJB \r\n    \t\t// context factory\r\n    \t\tMockContextFactory.setAsInitial();;\r\n    \t\t// Create the initial context that will be used for binding EJBs\r\n    \t\tctx = new InitialContext();\t\r\n    \t}\r\n    \t@Test\r\n    \tpublic void test() throws NamingException  {\r\n    \t\t        \r\n    \t\t        \r\n    \t\t// Create an instance of the MockContainer\r\n    \t\tMockContainer mc = new MockContainer(ctx);\r\n    \t\tGestionarBPLocal gestionarBp = mock(GestionarBP.class);\r\n    \t\tSessionBeanDescriptor dd = new SessionBeanDescriptor(\r\n    \t\t\t\t   &quot;java:comp/env/ejb/GestionarBP&quot;, \r\n    \t\t\t\t   GestionarBPLocal.class, GestionarBP.class,\r\n    \t\t\t\t   gestionarBp) ;\r\n    \t\t// Deploy our bean to the container allowing it to\r\n    \t\t// be found via JNDI and tested\r\n    \t\tmc.deploy(dd);\r\n    \t}\r\n    }\r\n\r\nIt fails on line 32 \r\n\r\n    // Create the initial context that will be used for binding EJBs\r\n        ctx = new InitialContext(); \r\n\r\nPls help.\r\nPS: Here&#39;s my pom file:\r\n\r\n    \r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.26&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockejb/mockejb --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockejb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockejb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.6-beta2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\nHEre&#39;s the full stack trace just in case.\r\n\r\n   \r\n\r\n     java.lang.ExceptionInInitializerError\r\n    \tat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\r\n    \tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\r\n    \tat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\r\n    \tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:116)\r\n    \tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:108)\r\n    \tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:104)\r\n    \tat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\r\n    \tat org.mockejb.interceptor.InterceptableProxy.create(InterceptableProxy.java:38)\r\n    \tat org.mockejb.jndi.MockContextFactory.getInitialContext(MockContextFactory.java:47)\r\n    \tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:732)\r\n    \tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\r\n    \tat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\r\n    \tat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:184)\r\n    \tat ar.com.clarin.suscripciones.servicios.impl.GestionarClienteComercialShould.setUp(GestionarClienteComercialShould.java:31)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @cd2dae5\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\r\n    \tat net.sf.cglib.core.ReflectUtils$2.run(ReflectUtils.java:56)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    \tat net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\r\n    \t... 36 more\r\n\r\n","title":"I get java.lang.ExceptionInInitializerError when trying to InitializeContext in mockejb test proyect WITH JAVA 1.8","body":"<p>I'm trying to make a simple test project with mockejb 0.6-beta2 and Java 1.8, but keep getting</p>\n<pre><code>java.lang.ExceptionInInitializerError\nat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\nat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\nat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\nat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\nat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:116)\nat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:108)\nat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:104)\nat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\nat org.mockejb.interceptor.InterceptableProxy.create(InterceptableProxy.java:38)\nat org.mockejb.jndi.MockContextFactory.getInitialContext(MockContextFactory.java:47)\nat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:732)\nat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\nat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\nat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:184)\nat ar.com.clarin.suscripciones.servicios.impl.GestionarClienteComercialShould.setUp(GestionarClienteComercialShould.java:31)\n</code></pre>\n<p>When I try to run it. I keep geting this ExceptionInInitializerError I don't understand what I'm doing wrong, it seems to be on par with examples, I don't know, maybe the library is too old and out of date. The use of another ejb mocking library is also welcomed.</p>\n<pre><code>public class GestionarClienteComercialShould {\n\n    private Context ctx;\n    @Before\n    public void setUp() throws Exception {\n        // Setup the JNDI environment to use the MockEJB \n        // context factory\n        MockContextFactory.setAsInitial();;\n        // Create the initial context that will be used for binding EJBs\n        ctx = new InitialContext(); \n    }\n    @Test\n    public void test() throws NamingException  {\n                \n                \n        // Create an instance of the MockContainer\n        MockContainer mc = new MockContainer(ctx);\n        GestionarBPLocal gestionarBp = mock(GestionarBP.class);\n        SessionBeanDescriptor dd = new SessionBeanDescriptor(\n                   &quot;java:comp/env/ejb/GestionarBP&quot;, \n                   GestionarBPLocal.class, GestionarBP.class,\n                   gestionarBp) ;\n        // Deploy our bean to the container allowing it to\n        // be found via JNDI and tested\n        mc.deploy(dd);\n    }\n}\n</code></pre>\n<p>It fails on line 32</p>\n<pre><code>// Create the initial context that will be used for binding EJBs\n    ctx = new InitialContext(); \n</code></pre>\n<p>Pls help.\nPS: Here's my pom file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.26&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;version&gt;3.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.26&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.mockejb/mockejb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockejb&lt;/groupId&gt;\n        &lt;artifactId&gt;mockejb&lt;/artifactId&gt;\n        &lt;version&gt;0.6-beta2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>HEre's the full stack trace just in case.</p>\n<pre><code> java.lang.ExceptionInInitializerError\n    at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:166)\n    at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:216)\n    at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:144)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:116)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:108)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:104)\n    at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:69)\n    at org.mockejb.interceptor.InterceptableProxy.create(InterceptableProxy.java:38)\n    at org.mockejb.jndi.MockContextFactory.getInitialContext(MockContextFactory.java:47)\n    at java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:732)\n    at java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\n    at java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\n    at java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:184)\n    at ar.com.clarin.suscripciones.servicios.impl.GestionarClienteComercialShould.setUp(GestionarClienteComercialShould.java:31)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @cd2dae5\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\n    at net.sf.cglib.core.ReflectUtils$2.run(ReflectUtils.java:56)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668626273,"creation_date":1668626273,"answer_id":74466012,"question_id":74465946,"body_markdown":"This post is kinda confusing, in what language are you creating the app, java or kotlin? the syntax looks like Kotlin, but you are stating that you know Java basics (nothing said about kotlin)\r\n\r\nAnyways, In kotlin, in order to create a variable you would do something like:\r\n```kotlin\r\nval a: Int = 1 // this is a VALUE, you cannot change the value of &quot;val&quot;\r\nval b = 2  // this is also a value\r\nvar c = 2 // this is a variable, you can change the value of c\r\nc = 5 // like I did here\r\n\r\nvar name: Boolean = false // and that&#39;s what I think you&#39;ve tried to do\r\n```\r\n","title":"I can&#39;t make variables work Android Studio","body":"<p>This post is kinda confusing, in what language are you creating the app, java or kotlin? the syntax looks like Kotlin, but you are stating that you know Java basics (nothing said about kotlin)</p>\n<p>Anyways, In kotlin, in order to create a variable you would do something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val a: Int = 1 // this is a VALUE, you cannot change the value of &quot;val&quot;\nval b = 2  // this is also a value\nvar c = 2 // this is a variable, you can change the value of c\nc = 5 // like I did here\n\nvar name: Boolean = false // and that's what I think you've tried to do\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26954676,"reputation":13,"user_id":20523271,"display_name":"Trying to Learn "},"score":0,"creation_date":1668627405,"post_id":74466018,"comment_id":131454281,"body_markdown":"Thank you, I was most definetly confusing java and kotlin, some projects I had open were kotlin and some java. This really help thanks a ton!","body":"Thank you, I was most definetly confusing java and kotlin, some projects I had open were kotlin and some java. This really help thanks a ton!"}],"tags":[],"owner":{"account_id":122115,"reputation":5060,"user_id":315702,"accept_rate":88,"display_name":"Mark McClelland"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668626297,"creation_date":1668626297,"answer_id":74466018,"question_id":74465946,"body_markdown":"I suspect you&#39;re confusing Java and Kotlin. Java variables are declared via this syntax:\r\n\r\n`type variableName = value;`\r\n\r\nIn the example you&#39;ve given, that would look like:\r\n\r\n`Boolean varName = false;`\r\n\r\n&quot;var&quot; and &quot;val&quot; are used in Kotlin. Android Studio supports both Java files (*.java) and Kotlin files (*.kt) in the same project. If you&#39;re just getting started and you&#39;re not sure which language to use, I recommend you consider using Kotlin instead of Java. Every software developer I know who knows Java and has tried Kotlin has ultimately concluded that they prefer working with Kotlin.\r\n\r\nMore info on Java variable declaration can be found [here][1].\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_variables.asp","title":"I can&#39;t make variables work Android Studio","body":"<p>I suspect you're confusing Java and Kotlin. Java variables are declared via this syntax:</p>\n<p><code>type variableName = value;</code></p>\n<p>In the example you've given, that would look like:</p>\n<p><code>Boolean varName = false;</code></p>\n<p>&quot;var&quot; and &quot;val&quot; are used in Kotlin. Android Studio supports both Java files (<em>.java) and Kotlin files (</em>.kt) in the same project. If you're just getting started and you're not sure which language to use, I recommend you consider using Kotlin instead of Java. Every software developer I know who knows Java and has tried Kotlin has ultimately concluded that they prefer working with Kotlin.</p>\n<p>More info on Java variable declaration can be found <a href=\"https://www.w3schools.com/java/java_variables.asp\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26954676,"reputation":13,"user_id":20523271,"display_name":"Trying to Learn "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74466012,"answer_count":2,"score":-1,"last_activity_date":1668626297,"creation_date":1668625924,"question_id":74465946,"body_markdown":"I have learned the java basics and am now trying to make an android app for my phone. I was doing fine up until I started using variables in android studio. Im fairly sure variables are meant to be declared like \r\n\r\n```\r\nvar/val varName:Boolean false;\r\n```\r\nBut whenever I do this I get an error saying &quot;Cannot resolve symbol var&quot;.\r\n\r\n\r\n\r\n\r\nI have researched but I cannot find any reason this is happening and no matter where I put this line of code it does not work. Everywhere I found online seems to say I&#39;m doing it right but it doesn&#39;t work. \r\nI would love any adviceor how to make it work.\r\nThanks","title":"I can&#39;t make variables work Android Studio","body":"<p>I have learned the java basics and am now trying to make an android app for my phone. I was doing fine up until I started using variables in android studio. Im fairly sure variables are meant to be declared like</p>\n<pre><code>var/val varName:Boolean false;\n</code></pre>\n<p>But whenever I do this I get an error saying &quot;Cannot resolve symbol var&quot;.</p>\n<p>I have researched but I cannot find any reason this is happening and no matter where I put this line of code it does not work. Everywhere I found online seems to say I'm doing it right but it doesn't work.\nI would love any adviceor how to make it work.\nThanks</p>\n"},{"tags":["java","arrays","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668440869,"post_id":74434050,"comment_id":131399567,"body_markdown":"Why are you creating a huge array, let alone whose size is depending on user input, when you only need number of coins as output?","body":"Why are you creating a huge array, let alone whose size is depending on user input, when you only need number of coins as output?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668440984,"post_id":74434050,"comment_id":131399605,"body_markdown":"@SyedAqeelAshiq, I am using the code from the reference link I added in my post.","body":"@SyedAqeelAshiq, I am using the code from the reference link I added in my post."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668441448,"post_id":74434050,"comment_id":131399766,"body_markdown":"Consider something for a moment: `50` is just 5 `10` coins, and `30` is just 3 `10` coins. In essence, you can always model it if it&#39;s a multiple of `10` (the largest number `M` possible). The smallest number `M` would have a total of `sum/50` coins of size `50`, and at most 2 other coins `30+10`, `30`, `10+10`, or `10`. From there, it&#39;s a matter of swapping out the `50`/`30` coins for `10` coins if you need to increase `M`.","body":"Consider something for a moment: <code>50</code> is just 5 <code>10</code> coins, and <code>30</code> is just 3 <code>10</code> coins. In essence, you can always model it if it&#39;s a multiple of <code>10</code> (the largest number <code>M</code> possible). The smallest number <code>M</code> would have a total of <code>sum&#47;50</code> coins of size <code>50</code>, and at most 2 other coins <code>30+10</code>, <code>30</code>, <code>10+10</code>, or <code>10</code>. From there, it&#39;s a matter of swapping out the <code>50</code>/<code>30</code> coins for <code>10</code> coins if you need to increase <code>M</code>."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668441554,"post_id":74434050,"comment_id":131399808,"body_markdown":"@Rogue. I want to select all possible ways to get the sum and also I want to select exactly M coins for each case to get that sum.","body":"@Rogue. I want to select all possible ways to get the sum and also I want to select exactly M coins for each case to get that sum."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1668441563,"post_id":74434050,"comment_id":131399810,"body_markdown":"Are you asking for a general solution, or one that just works for coins of value 10, 30, 50?","body":"Are you asking for a general solution, or one that just works for coins of value 10, 30, 50?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668441607,"post_id":74434050,"comment_id":131399837,"body_markdown":"@PaulHankin, I want to use only the coins 10, 30 and 50. Not a general solution.","body":"@PaulHankin, I want to use only the coins 10, 30 and 50. Not a general solution."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1668446881,"post_id":74434050,"comment_id":131401830,"body_markdown":"https://stackoverflow.com/a/71359069/585411 shows how to solve this. But you have to first change the set of coins to a set of `m` copies of each coin, then look for `m` of them.","body":"<a href=\"https://stackoverflow.com/a/71359069/585411\">stackoverflow.com/a/71359069/585411</a> shows how to solve this. But you have to first change the set of coins to a set of <code>m</code> copies of each coin, then look for <code>m</code> of them."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1668629262,"post_id":74434050,"comment_id":131454929,"body_markdown":"Side note: `new long[sum+1];` automatically initializes all array elements to `0`. `Arrays.fill()` is redundant.","body":"Side note: <code>new long[sum+1];</code> automatically initializes all array elements to <code>0</code>. <code>Arrays.fill()</code> is redundant."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668673949,"post_id":74434050,"comment_id":131464406,"body_markdown":"@learner If you only want specific solution for just 3 denominations, then why just place 3 nested loops. Iterations can be drastically reduced by applying different conditions like sum or Number of coins exceeding the required limits. Are there other memory or CPU requirements which are overrun by nested loops?","body":"@learner If you only want specific solution for just 3 denominations, then why just place 3 nested loops. Iterations can be drastically reduced by applying different conditions like sum or Number of coins exceeding the required limits. Are there other memory or CPU requirements which are overrun by nested loops?"}],"answers":[{"comments":[{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668525378,"post_id":74436474,"comment_id":131423452,"body_markdown":"I am getting OutOfMemory Errors because of line `int[][] combinations = new int[combos][];`","body":"I am getting OutOfMemory Errors because of line <code>int[][] combinations = new int[combos][];</code>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1668526997,"post_id":74436474,"comment_id":131424196,"body_markdown":"We can completely get rid of that array and the algorithm will be the same (by storing the smaller returned digits array directly in a local varaible)...but 3^5000 is a really BIG number; my approach won&#39;t work for inputs that high. Sorry. Good luck with that!","body":"We can completely get rid of that array and the algorithm will be the same (by storing the smaller returned digits array directly in a local varaible)...but 3^5000 is a really BIG number; my approach won&#39;t work for inputs that high. Sorry. Good luck with that!"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1668529170,"post_id":74436474,"comment_id":131425138,"body_markdown":"It is possible to count in another base using a different approach, manipulating the digits directly in an array (or with a String) , thus not requiring integer division or modulus on large numbers. You&#39;d follow the literal counting algorithm as described in my first link. Would you like to see that approach instead? *The run time is still going to be INCREDIBLY LONG for 5,000 digits!","body":"It is possible to count in another base using a different approach, manipulating the digits directly in an array (or with a String) , thus not requiring integer division or modulus on large numbers. You&#39;d follow the literal counting algorithm as described in my first link. Would you like to see that approach instead? *The run time is still going to be INCREDIBLY LONG for 5,000 digits!"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668531941,"post_id":74436474,"comment_id":131426249,"body_markdown":"Thank you very much for providing an idea for this. I am fine with this answer","body":"Thank you very much for providing an idea for this. I am fine with this answer"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668575721,"post_id":74436474,"comment_id":131436309,"body_markdown":"Well with logic that deep and totally different direction, I thought it would be O(n) in memory and CPU. But in the end it turned out O(n^n^n^God knows what else) for both CPU and memory. Strange it got accepted as correct answer. -1. And +1 for the effor though","body":"Well with logic that deep and totally different direction, I thought it would be O(n) in memory and CPU. But in the end it turned out O(n^n^n^God knows what else) for both CPU and memory. Strange it got accepted as correct answer. -1. And +1 for the effor though"}],"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668456680,"creation_date":1668451792,"answer_id":74436474,"question_id":74434050,"body_markdown":"One way to think about this problem is to [count in a different base system](https://www.mathsisfun.com/numbers/bases.html). You use the number of unique coins as the base. So for your example of 10, 30, and 50, the base would be 3.\r\n\r\nNow you need numbers in that base system that have the correct number of digits, which is 4 for your example. Since each digit can be only one of 3 values in base 3 (0, 1, or 2), the total number of possibilites is 3 raised to the power of 4, or 81.\r\n\r\nThus we can count from 0 to 80 in decimal, and convert that decimal number to a four digit base 3 number using [stacked repeated division](https://mathbits.com/MathBits/CompSci/Introduction/frombase10.htm).\r\n\r\nHere&#39;s what those four digit base 3 numbers would look like:\r\n\r\n    0 in base 3: [0, 0, 0, 0]\r\n    1 in base 3: [0, 0, 0, 1]\r\n    2 in base 3: [0, 0, 0, 2]\r\n    3 in base 3: [0, 0, 1, 0]\r\n    4 in base 3: [0, 0, 1, 1]\r\n    5 in base 3: [0, 0, 1, 2]\r\n    6 in base 3: [0, 0, 2, 0]\r\n    7 in base 3: [0, 0, 2, 1]\r\n    8 in base 3: [0, 0, 2, 2]\r\n    9 in base 3: [0, 1, 0, 0]\r\n    10 in base 3: [0, 1, 0, 1]\r\n    11 in base 3: [0, 1, 0, 2]\r\n    12 in base 3: [0, 1, 1, 0]\r\n    13 in base 3: [0, 1, 1, 1]\r\n    14 in base 3: [0, 1, 1, 2]\r\n    15 in base 3: [0, 1, 2, 0]\r\n    16 in base 3: [0, 1, 2, 1]\r\n    17 in base 3: [0, 1, 2, 2]\r\n    18 in base 3: [0, 2, 0, 0]\r\n    19 in base 3: [0, 2, 0, 1]\r\n    20 in base 3: [0, 2, 0, 2]\r\n    21 in base 3: [0, 2, 1, 0]\r\n    22 in base 3: [0, 2, 1, 1]\r\n    23 in base 3: [0, 2, 1, 2]\r\n    24 in base 3: [0, 2, 2, 0]\r\n    25 in base 3: [0, 2, 2, 1]\r\n    26 in base 3: [0, 2, 2, 2]\r\n    27 in base 3: [1, 0, 0, 0]\r\n    28 in base 3: [1, 0, 0, 1]\r\n    29 in base 3: [1, 0, 0, 2]\r\n    30 in base 3: [1, 0, 1, 0]\r\n    31 in base 3: [1, 0, 1, 1]\r\n    32 in base 3: [1, 0, 1, 2]\r\n    33 in base 3: [1, 0, 2, 0]\r\n    34 in base 3: [1, 0, 2, 1]\r\n    35 in base 3: [1, 0, 2, 2]\r\n    36 in base 3: [1, 1, 0, 0]\r\n    37 in base 3: [1, 1, 0, 1]\r\n    38 in base 3: [1, 1, 0, 2]\r\n    39 in base 3: [1, 1, 1, 0]\r\n    40 in base 3: [1, 1, 1, 1]\r\n    41 in base 3: [1, 1, 1, 2]\r\n    42 in base 3: [1, 1, 2, 0]\r\n    43 in base 3: [1, 1, 2, 1]\r\n    44 in base 3: [1, 1, 2, 2]\r\n    45 in base 3: [1, 2, 0, 0]\r\n    46 in base 3: [1, 2, 0, 1]\r\n    47 in base 3: [1, 2, 0, 2]\r\n    48 in base 3: [1, 2, 1, 0]\r\n    49 in base 3: [1, 2, 1, 1]\r\n    50 in base 3: [1, 2, 1, 2]\r\n    51 in base 3: [1, 2, 2, 0]\r\n    52 in base 3: [1, 2, 2, 1]\r\n    53 in base 3: [1, 2, 2, 2]\r\n    54 in base 3: [2, 0, 0, 0]\r\n    55 in base 3: [2, 0, 0, 1]\r\n    56 in base 3: [2, 0, 0, 2]\r\n    57 in base 3: [2, 0, 1, 0]\r\n    58 in base 3: [2, 0, 1, 1]\r\n    59 in base 3: [2, 0, 1, 2]\r\n    60 in base 3: [2, 0, 2, 0]\r\n    61 in base 3: [2, 0, 2, 1]\r\n    62 in base 3: [2, 0, 2, 2]\r\n    63 in base 3: [2, 1, 0, 0]\r\n    64 in base 3: [2, 1, 0, 1]\r\n    65 in base 3: [2, 1, 0, 2]\r\n    66 in base 3: [2, 1, 1, 0]\r\n    67 in base 3: [2, 1, 1, 1]\r\n    68 in base 3: [2, 1, 1, 2]\r\n    69 in base 3: [2, 1, 2, 0]\r\n    70 in base 3: [2, 1, 2, 1]\r\n    71 in base 3: [2, 1, 2, 2]\r\n    72 in base 3: [2, 2, 0, 0]\r\n    73 in base 3: [2, 2, 0, 1]\r\n    74 in base 3: [2, 2, 0, 2]\r\n    75 in base 3: [2, 2, 1, 0]\r\n    76 in base 3: [2, 2, 1, 1]\r\n    77 in base 3: [2, 2, 1, 2]\r\n    78 in base 3: [2, 2, 2, 0]\r\n    79 in base 3: [2, 2, 2, 1]\r\n    80 in base 3: [2, 2, 2, 2]\r\n\r\nThe integer in each resulting array (the base 3 number) represents which coin from the original coin values should go in that spot (0 = 10, 1 = 30, 2 = 50).\r\n\r\nFor example, the number 61 in decimal is 2021 in base 3:\r\n\r\n    61 in base 3: [2, 0, 2, 1]\r\n\r\nThe resulting coin combination for that number would be:\r\n\r\n    50, 10, 50, 30\r\n\r\nHere&#39;s the code that generated the list of base 3 numbers above:\r\n\r\n    import java.util.Arrays;\r\n    class Main {\r\n      \r\n      public static void main(String[] args) {\r\n    \tint sum = 80;\r\n        int numCoins = 4;\r\n        int[] coins = new int[]{10, 30, 50};\r\n        \r\n        int base = coins.length;    \r\n        int combos = (int)Math.pow(base, numCoins); \r\n    \r\n        int[][] combinations = new int[combos][];\r\n        for(int d=0; d&lt;combos; d++) {\r\n          combinations[d] = convertToBase(d, base, numCoins);\r\n          System.out.println(d + &quot; in base &quot; + base + &quot;: &quot; + Arrays.toString(combinations[d]));\r\n        }\r\n      }\r\n    \r\n      public static int[] convertToBase(int decimalNumber, int base, int numDigits) {    \r\n        int[] digits = new int[numDigits];\r\n        int index = digits.length - 1;\r\n    \r\n        int quotient = decimalNumber;\r\n        while (quotient &gt; 0) {\r\n          digits[index] = quotient % base;\r\n          index--;\r\n          quotient = quotient / base;\r\n        }\r\n        \r\n        return digits;\r\n      }\r\n      \r\n    }\r\n\r\nNow that you have all possible combinations of four coins, you need to add up the values from each combo and see if they add up to 80.\r\n\r\nHere&#39;s a new main() to do just that:\r\n\r\n      public static void main(String[] args) {\r\n        int sum = 80;\r\n        int numCoins = 4;\r\n        int[] coins = new int[]{10, 30, 50};\r\n        \r\n        int base = coins.length;    \r\n        int combos = (int)Math.pow(base, numCoins); \r\n    \r\n        int[][] combinations = new int[combos][];\r\n        for(int d=0; d&lt;combos; d++) {\r\n          combinations[d] = convertToBase(d, base, numCoins);\r\n    \r\n          String combo = &quot;&quot;;\r\n          int curSum = 0;\r\n          for(int coinChoice : combinations[d]) {\r\n            combo = combo + coins[coinChoice] + &quot; &quot;;\r\n            curSum = curSum + coins[coinChoice];\r\n          }\r\n          \r\n          if (curSum == sum) {\r\n            System.out.println(&quot;Coins: &quot; + combo + &quot; = &quot; + curSum);\r\n          }\r\n        }\r\n      }\r\n  \r\nProducing the following output:\r\n\r\n    Coins: 10 10 10 50  = 80\r\n    Coins: 10 10 30 30  = 80\r\n    Coins: 10 10 50 10  = 80\r\n    Coins: 10 30 10 30  = 80\r\n    Coins: 10 30 30 10  = 80\r\n    Coins: 10 50 10 10  = 80\r\n    Coins: 30 10 10 30  = 80\r\n    Coins: 30 10 30 10  = 80\r\n    Coins: 30 30 10 10  = 80\r\n    Coins: 50 10 10 10  = 80\r\n\r\nNotice that there are repeats because the same combination of coin denominations could be put into different positions of the four slots.\r\n\r\nIf you want to get rid of duplicates, you could SORT the resulting combos and add them to a [Hashmap](https://www.javatpoint.com/java-hashmap) if they don&#39;t already exist (add `import java.util.HashMap;`):\r\n\r\n      public static void main(String[] args) {\r\n        int sum = 80;\r\n        int numCoins = 4;\r\n        int[] coins = new int[]{10, 30, 50};\r\n        \r\n        int base = coins.length;    \r\n        int combos = (int)Math.pow(base, numCoins); \r\n    \r\n        int[][] combinations = new int[combos][];\r\n        HashMap&lt;String, String&gt; uniqueCombos = new HashMap&lt;String, String&gt;();\r\n        for(int d=0; d&lt;combos; d++) {\r\n          combinations[d] = convertToBase(d, base, numCoins);\r\n    \r\n          String combo = &quot;&quot;;\r\n          int curSum = 0;\r\n          for(int coinChoice : combinations[d]) {\r\n            combo = combo + coins[coinChoice] + &quot; &quot;;\r\n            curSum = curSum + coins[coinChoice];\r\n          }\r\n          \r\n          if (curSum == sum) {\r\n            Arrays.sort(combinations[d]);\r\n            String key = Arrays.toString(combinations[d]);\r\n            if (!uniqueCombos.containsKey(key)) {\r\n              uniqueCombos.put(key, combo);\r\n              System.out.println(&quot;Coins: &quot; + combo + &quot; = &quot; + curSum);\r\n            }  \r\n          }\r\n        }\r\n      }\r\n\r\nNow we only get the two unique combinations in our output:\r\n\r\n    Coins: 10 10 10 50  = 80\r\n    Coins: 10 10 30 30  = 80\r\n\r\nHere is the final version of the entire program:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    class Main {\r\n      \r\n      public static void main(String[] args) {\r\n        int sum = 80;\r\n        int numCoins = 4;\r\n        int[] coins = new int[]{10, 30, 50};\r\n        \r\n        int base = coins.length;    \r\n        int combos = (int)Math.pow(base, numCoins); \r\n    \r\n        int[][] combinations = new int[combos][];\r\n        HashMap&lt;String, String&gt; uniqueCombos = new HashMap&lt;String, String&gt;();\r\n        for(int d=0; d&lt;combos; d++) {\r\n          combinations[d] = convertToBase(d, base, numCoins);\r\n    \r\n          String combo = &quot;&quot;;\r\n          int curSum = 0;\r\n          for(int coinChoice : combinations[d]) {\r\n            combo = combo + coins[coinChoice] + &quot; &quot;;\r\n            curSum = curSum + coins[coinChoice];\r\n          }\r\n          \r\n          if (curSum == sum) {\r\n            Arrays.sort(combinations[d]);\r\n            String key = Arrays.toString(combinations[d]);\r\n            if (!uniqueCombos.containsKey(key)) {\r\n              uniqueCombos.put(key, combo);\r\n              System.out.println(&quot;Coins: &quot; + combo + &quot; = &quot; + curSum);\r\n            }  \r\n          }\r\n        }\r\n      }\r\n    \r\n      public static int[] convertToBase(int decimalNumber, int base, int numDigits) {    \r\n        int[] digits = new int[numDigits];\r\n        int index = digits.length - 1;\r\n    \r\n        int quotient = decimalNumber;\r\n        while (quotient &gt; 0) {\r\n          digits[index] = quotient % base;\r\n          index--;\r\n          quotient = quotient / base;\r\n        }\r\n        \r\n        return digits;\r\n      }\r\n      \r\n    }","title":"Coin change problem with a condition to use exactly m coints","body":"<p>One way to think about this problem is to <a href=\"https://www.mathsisfun.com/numbers/bases.html\" rel=\"nofollow noreferrer\">count in a different base system</a>. You use the number of unique coins as the base. So for your example of 10, 30, and 50, the base would be 3.</p>\n<p>Now you need numbers in that base system that have the correct number of digits, which is 4 for your example. Since each digit can be only one of 3 values in base 3 (0, 1, or 2), the total number of possibilites is 3 raised to the power of 4, or 81.</p>\n<p>Thus we can count from 0 to 80 in decimal, and convert that decimal number to a four digit base 3 number using <a href=\"https://mathbits.com/MathBits/CompSci/Introduction/frombase10.htm\" rel=\"nofollow noreferrer\">stacked repeated division</a>.</p>\n<p>Here's what those four digit base 3 numbers would look like:</p>\n<pre><code>0 in base 3: [0, 0, 0, 0]\n1 in base 3: [0, 0, 0, 1]\n2 in base 3: [0, 0, 0, 2]\n3 in base 3: [0, 0, 1, 0]\n4 in base 3: [0, 0, 1, 1]\n5 in base 3: [0, 0, 1, 2]\n6 in base 3: [0, 0, 2, 0]\n7 in base 3: [0, 0, 2, 1]\n8 in base 3: [0, 0, 2, 2]\n9 in base 3: [0, 1, 0, 0]\n10 in base 3: [0, 1, 0, 1]\n11 in base 3: [0, 1, 0, 2]\n12 in base 3: [0, 1, 1, 0]\n13 in base 3: [0, 1, 1, 1]\n14 in base 3: [0, 1, 1, 2]\n15 in base 3: [0, 1, 2, 0]\n16 in base 3: [0, 1, 2, 1]\n17 in base 3: [0, 1, 2, 2]\n18 in base 3: [0, 2, 0, 0]\n19 in base 3: [0, 2, 0, 1]\n20 in base 3: [0, 2, 0, 2]\n21 in base 3: [0, 2, 1, 0]\n22 in base 3: [0, 2, 1, 1]\n23 in base 3: [0, 2, 1, 2]\n24 in base 3: [0, 2, 2, 0]\n25 in base 3: [0, 2, 2, 1]\n26 in base 3: [0, 2, 2, 2]\n27 in base 3: [1, 0, 0, 0]\n28 in base 3: [1, 0, 0, 1]\n29 in base 3: [1, 0, 0, 2]\n30 in base 3: [1, 0, 1, 0]\n31 in base 3: [1, 0, 1, 1]\n32 in base 3: [1, 0, 1, 2]\n33 in base 3: [1, 0, 2, 0]\n34 in base 3: [1, 0, 2, 1]\n35 in base 3: [1, 0, 2, 2]\n36 in base 3: [1, 1, 0, 0]\n37 in base 3: [1, 1, 0, 1]\n38 in base 3: [1, 1, 0, 2]\n39 in base 3: [1, 1, 1, 0]\n40 in base 3: [1, 1, 1, 1]\n41 in base 3: [1, 1, 1, 2]\n42 in base 3: [1, 1, 2, 0]\n43 in base 3: [1, 1, 2, 1]\n44 in base 3: [1, 1, 2, 2]\n45 in base 3: [1, 2, 0, 0]\n46 in base 3: [1, 2, 0, 1]\n47 in base 3: [1, 2, 0, 2]\n48 in base 3: [1, 2, 1, 0]\n49 in base 3: [1, 2, 1, 1]\n50 in base 3: [1, 2, 1, 2]\n51 in base 3: [1, 2, 2, 0]\n52 in base 3: [1, 2, 2, 1]\n53 in base 3: [1, 2, 2, 2]\n54 in base 3: [2, 0, 0, 0]\n55 in base 3: [2, 0, 0, 1]\n56 in base 3: [2, 0, 0, 2]\n57 in base 3: [2, 0, 1, 0]\n58 in base 3: [2, 0, 1, 1]\n59 in base 3: [2, 0, 1, 2]\n60 in base 3: [2, 0, 2, 0]\n61 in base 3: [2, 0, 2, 1]\n62 in base 3: [2, 0, 2, 2]\n63 in base 3: [2, 1, 0, 0]\n64 in base 3: [2, 1, 0, 1]\n65 in base 3: [2, 1, 0, 2]\n66 in base 3: [2, 1, 1, 0]\n67 in base 3: [2, 1, 1, 1]\n68 in base 3: [2, 1, 1, 2]\n69 in base 3: [2, 1, 2, 0]\n70 in base 3: [2, 1, 2, 1]\n71 in base 3: [2, 1, 2, 2]\n72 in base 3: [2, 2, 0, 0]\n73 in base 3: [2, 2, 0, 1]\n74 in base 3: [2, 2, 0, 2]\n75 in base 3: [2, 2, 1, 0]\n76 in base 3: [2, 2, 1, 1]\n77 in base 3: [2, 2, 1, 2]\n78 in base 3: [2, 2, 2, 0]\n79 in base 3: [2, 2, 2, 1]\n80 in base 3: [2, 2, 2, 2]\n</code></pre>\n<p>The integer in each resulting array (the base 3 number) represents which coin from the original coin values should go in that spot (0 = 10, 1 = 30, 2 = 50).</p>\n<p>For example, the number 61 in decimal is 2021 in base 3:</p>\n<pre><code>61 in base 3: [2, 0, 2, 1]\n</code></pre>\n<p>The resulting coin combination for that number would be:</p>\n<pre><code>50, 10, 50, 30\n</code></pre>\n<p>Here's the code that generated the list of base 3 numbers above:</p>\n<pre><code>import java.util.Arrays;\nclass Main {\n  \n  public static void main(String[] args) {\n    int sum = 80;\n    int numCoins = 4;\n    int[] coins = new int[]{10, 30, 50};\n    \n    int base = coins.length;    \n    int combos = (int)Math.pow(base, numCoins); \n\n    int[][] combinations = new int[combos][];\n    for(int d=0; d&lt;combos; d++) {\n      combinations[d] = convertToBase(d, base, numCoins);\n      System.out.println(d + &quot; in base &quot; + base + &quot;: &quot; + Arrays.toString(combinations[d]));\n    }\n  }\n\n  public static int[] convertToBase(int decimalNumber, int base, int numDigits) {    \n    int[] digits = new int[numDigits];\n    int index = digits.length - 1;\n\n    int quotient = decimalNumber;\n    while (quotient &gt; 0) {\n      digits[index] = quotient % base;\n      index--;\n      quotient = quotient / base;\n    }\n    \n    return digits;\n  }\n  \n}\n</code></pre>\n<p>Now that you have all possible combinations of four coins, you need to add up the values from each combo and see if they add up to 80.</p>\n<p>Here's a new main() to do just that:</p>\n<pre><code>  public static void main(String[] args) {\n    int sum = 80;\n    int numCoins = 4;\n    int[] coins = new int[]{10, 30, 50};\n    \n    int base = coins.length;    \n    int combos = (int)Math.pow(base, numCoins); \n\n    int[][] combinations = new int[combos][];\n    for(int d=0; d&lt;combos; d++) {\n      combinations[d] = convertToBase(d, base, numCoins);\n\n      String combo = &quot;&quot;;\n      int curSum = 0;\n      for(int coinChoice : combinations[d]) {\n        combo = combo + coins[coinChoice] + &quot; &quot;;\n        curSum = curSum + coins[coinChoice];\n      }\n      \n      if (curSum == sum) {\n        System.out.println(&quot;Coins: &quot; + combo + &quot; = &quot; + curSum);\n      }\n    }\n  }\n</code></pre>\n<p>Producing the following output:</p>\n<pre><code>Coins: 10 10 10 50  = 80\nCoins: 10 10 30 30  = 80\nCoins: 10 10 50 10  = 80\nCoins: 10 30 10 30  = 80\nCoins: 10 30 30 10  = 80\nCoins: 10 50 10 10  = 80\nCoins: 30 10 10 30  = 80\nCoins: 30 10 30 10  = 80\nCoins: 30 30 10 10  = 80\nCoins: 50 10 10 10  = 80\n</code></pre>\n<p>Notice that there are repeats because the same combination of coin denominations could be put into different positions of the four slots.</p>\n<p>If you want to get rid of duplicates, you could SORT the resulting combos and add them to a <a href=\"https://www.javatpoint.com/java-hashmap\" rel=\"nofollow noreferrer\">Hashmap</a> if they don't already exist (add <code>import java.util.HashMap;</code>):</p>\n<pre><code>  public static void main(String[] args) {\n    int sum = 80;\n    int numCoins = 4;\n    int[] coins = new int[]{10, 30, 50};\n    \n    int base = coins.length;    \n    int combos = (int)Math.pow(base, numCoins); \n\n    int[][] combinations = new int[combos][];\n    HashMap&lt;String, String&gt; uniqueCombos = new HashMap&lt;String, String&gt;();\n    for(int d=0; d&lt;combos; d++) {\n      combinations[d] = convertToBase(d, base, numCoins);\n\n      String combo = &quot;&quot;;\n      int curSum = 0;\n      for(int coinChoice : combinations[d]) {\n        combo = combo + coins[coinChoice] + &quot; &quot;;\n        curSum = curSum + coins[coinChoice];\n      }\n      \n      if (curSum == sum) {\n        Arrays.sort(combinations[d]);\n        String key = Arrays.toString(combinations[d]);\n        if (!uniqueCombos.containsKey(key)) {\n          uniqueCombos.put(key, combo);\n          System.out.println(&quot;Coins: &quot; + combo + &quot; = &quot; + curSum);\n        }  \n      }\n    }\n  }\n</code></pre>\n<p>Now we only get the two unique combinations in our output:</p>\n<pre><code>Coins: 10 10 10 50  = 80\nCoins: 10 10 30 30  = 80\n</code></pre>\n<p>Here is the final version of the entire program:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nclass Main {\n  \n  public static void main(String[] args) {\n    int sum = 80;\n    int numCoins = 4;\n    int[] coins = new int[]{10, 30, 50};\n    \n    int base = coins.length;    \n    int combos = (int)Math.pow(base, numCoins); \n\n    int[][] combinations = new int[combos][];\n    HashMap&lt;String, String&gt; uniqueCombos = new HashMap&lt;String, String&gt;();\n    for(int d=0; d&lt;combos; d++) {\n      combinations[d] = convertToBase(d, base, numCoins);\n\n      String combo = &quot;&quot;;\n      int curSum = 0;\n      for(int coinChoice : combinations[d]) {\n        combo = combo + coins[coinChoice] + &quot; &quot;;\n        curSum = curSum + coins[coinChoice];\n      }\n      \n      if (curSum == sum) {\n        Arrays.sort(combinations[d]);\n        String key = Arrays.toString(combinations[d]);\n        if (!uniqueCombos.containsKey(key)) {\n          uniqueCombos.put(key, combo);\n          System.out.println(&quot;Coins: &quot; + combo + &quot; = &quot; + curSum);\n        }  \n      }\n    }\n  }\n\n  public static int[] convertToBase(int decimalNumber, int base, int numDigits) {    \n    int[] digits = new int[numDigits];\n    int index = digits.length - 1;\n\n    int quotient = decimalNumber;\n    while (quotient &gt; 0) {\n      digits[index] = quotient % base;\n      index--;\n      quotient = quotient / base;\n    }\n    \n    return digits;\n  }\n  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668525452,"post_id":74439966,"comment_id":131423478,"body_markdown":"I am getting OutOfMemory Errors becase of method addCombinations while adding element to ArrayList when input has values (5000, 190000)","body":"I am getting OutOfMemory Errors becase of method addCombinations while adding element to ArrayList when input has values (5000, 190000)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668527009,"post_id":74439966,"comment_id":131424205,"body_markdown":"@learner At least I&#39;ve explained how to apply Tabulation approach to this problem correctly and gave a viable implementation. Since you&#39;re dialing with such massive numbers, this task requires a different algorithm, and I can&#39;t provide another solution immediately.","body":"@learner At least I&#39;ve explained how to apply Tabulation approach to this problem correctly and gave a viable implementation. Since you&#39;re dialing with such massive numbers, this task requires a different algorithm, and I can&#39;t provide another solution immediately."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1668531887,"post_id":74439966,"comment_id":131426223,"body_markdown":"yes, thank you very much for providing an idea for this.","body":"yes, thank you very much for providing an idea for this."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668479516,"creation_date":1668478981,"answer_id":74439966,"question_id":74434050,"body_markdown":"&gt; ```\r\n&gt; // Pick all coins one by one and update the table[]\r\n&gt; // values after the index greater than or equal to\r\n&gt; // the value of the picked coin\r\n&gt; \r\n&gt; for (int i = 0; i &lt; n; i++)\r\n&gt;     for (int j = coins[i]; j &lt;= sum; j++)\r\n&gt;         table[j] += table[j - coins[i]];\r\n&gt; ```\r\n\r\nThe overall direction is correct, Dynamic Programming is the right tool for this problem.\r\n\r\nBut there&#39;s a couple of serious mistakes in your solution:\r\n\r\n* The outer `for`-loop should iterate over the **coins**, but in the snippet above, the outer loop iterates over the amounts (index `i` represents a particular amount). As a consequence, as the end result you&#39;ll get **not** a number of distinct *Combinations*, but a number of *Permutations* because in the approach you&#39;ve taken two identical sets of coins **arranged differently** would be taken into account. For example, based on the logic of the code permutations like `10 + 10 + 50 + 10` and `10 + 10 + 10 + 50` would contribute the amount of `80`, which not correct according to the problem description.\r\n\r\n* The second issue is much easier to spot, but nevertheless it&#39;s important: you&#39;re not checking if the array index to which you&#39;re referring to exists, which would lead to an `ArrayIndexOutOfBoundsException`.\r\n\r\nSo, the main takeaway - we number the number of Combinations, and for that we need to consider each coin separately from other coins, i.e. the outer loop should perform iteration over the given array of coins.\r\n\r\nTo make the solution more comprehensible, I&#39;ll represent each combination of coins and each group of coin-combinations having the same total amount as objects `Combination` and `Combinations` respectively.\r\n\r\nThe array that would accumulate the result would be of type `Combinations[]`. Each `Combination` has two properties: `limit` and `coinCount` representing the required and current number of coins respectively. `Combination`s which `coinCount` exceeds the `limit` would be discarded on the fly, the rest would filtered out while producing the resulting value.\r\n\r\n    public static long countWays(int[] coins, int n, int sum) {\r\n        \r\n        Combinations[] table = new Combinations[sum + 1];\r\n        \r\n        table[0] = Combinations.withOneNoCoinsComb(n);\r\n        \r\n        for (int coin : coins) {\r\n            \r\n            for (int i = 0; i &lt; table.length; i++) {\r\n                // no combinations representing this amount or i + coin exceeds the sum\r\n                if (table[i] == null || i + coin &gt; sum) continue;\r\n                \r\n                if (table[i + coin] == null) {\r\n                    table[i + coin] = Combinations.getEmpty(); // creating an empty Combinations instance\r\n                }\r\n                \r\n                table[i + coin].addCombinations(table[i]); // adding the combinations from the previous array position representing amount i\r\n            }\r\n        }\r\n        return table[sum].getValidCombCount();\r\n    }\r\n\r\nCustom classes `Combinations` and `Combination`:\r\n\r\n    public class Combinations {\r\n        private List&lt;Combination&gt; comb = new ArrayList&lt;&gt;();\r\n        \r\n        private Combinations() {}\r\n        \r\n        public void addCombinations(Combinations other) {\r\n            for (Combination c : other.comb) {\r\n                if (c.canAdd()) this.comb.add(Combination.copyOf(c).addCoin());\r\n            }\r\n        }\r\n        \r\n        public int getValidCombCount() {\r\n            return (int) comb.stream().filter(Combination::isValid).count();\r\n        }\r\n        \r\n        private static Combinations withOneNoCoinsComb(int limit) {\r\n            Combinations oneComb = new Combinations();\r\n            oneComb.addCombination(new Combination(limit));\r\n            return oneComb;\r\n        }\r\n        \r\n        private static Combinations getEmpty() {\r\n            return new Combinations();\r\n        }\r\n        \r\n        public void addCombination(Combination c) {\r\n            comb.add(c);\r\n        }\r\n        \r\n        // getters\r\n    }\r\n\r\n    public class Combination {\r\n        private final int limit; // m - max number of coins\r\n        private int coinCount;\r\n        \r\n        public Combination(int limit) {\r\n            this.limit = limit;\r\n        }\r\n        \r\n        public Combination(int limit, int coinCount) {\r\n            this.limit = limit;\r\n            this.coinCount = coinCount;\r\n        }\r\n        \r\n        public Combination addCoin() {\r\n            coinCount++;\r\n            return this;\r\n        }\r\n        \r\n        public boolean canAdd() {\r\n            return coinCount &lt;= limit;\r\n        }\r\n        \r\n        public boolean isValid() {\r\n            return coinCount == limit;\r\n        }\r\n        \r\n        public static Combination copyOf(Combination c) {\r\n            return new Combination(c.getLimit(), c.getCoinCount());\r\n        }\r\n        \r\n        // getters\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(countWays(new int[]{10, 30, 50}, 4, 80));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n2\r\n```","title":"Coin change problem with a condition to use exactly m coints","body":"<blockquote>\n<pre><code>// Pick all coins one by one and update the table[]\n// values after the index greater than or equal to\n// the value of the picked coin\n\nfor (int i = 0; i &lt; n; i++)\n    for (int j = coins[i]; j &lt;= sum; j++)\n        table[j] += table[j - coins[i]];\n</code></pre>\n</blockquote>\n<p>The overall direction is correct, Dynamic Programming is the right tool for this problem.</p>\n<p>But there's a couple of serious mistakes in your solution:</p>\n<ul>\n<li><p>The outer <code>for</code>-loop should iterate over the <strong>coins</strong>, but in the snippet above, the outer loop iterates over the amounts (index <code>i</code> represents a particular amount). As a consequence, as the end result you'll get <strong>not</strong> a number of distinct <em>Combinations</em>, but a number of <em>Permutations</em> because in the approach you've taken two identical sets of coins <strong>arranged differently</strong> would be taken into account. For example, based on the logic of the code permutations like <code>10 + 10 + 50 + 10</code> and <code>10 + 10 + 10 + 50</code> would contribute the amount of <code>80</code>, which not correct according to the problem description.</p>\n</li>\n<li><p>The second issue is much easier to spot, but nevertheless it's important: you're not checking if the array index to which you're referring to exists, which would lead to an <code>ArrayIndexOutOfBoundsException</code>.</p>\n</li>\n</ul>\n<p>So, the main takeaway - we number the number of Combinations, and for that we need to consider each coin separately from other coins, i.e. the outer loop should perform iteration over the given array of coins.</p>\n<p>To make the solution more comprehensible, I'll represent each combination of coins and each group of coin-combinations having the same total amount as objects <code>Combination</code> and <code>Combinations</code> respectively.</p>\n<p>The array that would accumulate the result would be of type <code>Combinations[]</code>. Each <code>Combination</code> has two properties: <code>limit</code> and <code>coinCount</code> representing the required and current number of coins respectively. <code>Combination</code>s which <code>coinCount</code> exceeds the <code>limit</code> would be discarded on the fly, the rest would filtered out while producing the resulting value.</p>\n<pre><code>public static long countWays(int[] coins, int n, int sum) {\n    \n    Combinations[] table = new Combinations[sum + 1];\n    \n    table[0] = Combinations.withOneNoCoinsComb(n);\n    \n    for (int coin : coins) {\n        \n        for (int i = 0; i &lt; table.length; i++) {\n            // no combinations representing this amount or i + coin exceeds the sum\n            if (table[i] == null || i + coin &gt; sum) continue;\n            \n            if (table[i + coin] == null) {\n                table[i + coin] = Combinations.getEmpty(); // creating an empty Combinations instance\n            }\n            \n            table[i + coin].addCombinations(table[i]); // adding the combinations from the previous array position representing amount i\n        }\n    }\n    return table[sum].getValidCombCount();\n}\n</code></pre>\n<p>Custom classes <code>Combinations</code> and <code>Combination</code>:</p>\n<pre><code>public class Combinations {\n    private List&lt;Combination&gt; comb = new ArrayList&lt;&gt;();\n    \n    private Combinations() {}\n    \n    public void addCombinations(Combinations other) {\n        for (Combination c : other.comb) {\n            if (c.canAdd()) this.comb.add(Combination.copyOf(c).addCoin());\n        }\n    }\n    \n    public int getValidCombCount() {\n        return (int) comb.stream().filter(Combination::isValid).count();\n    }\n    \n    private static Combinations withOneNoCoinsComb(int limit) {\n        Combinations oneComb = new Combinations();\n        oneComb.addCombination(new Combination(limit));\n        return oneComb;\n    }\n    \n    private static Combinations getEmpty() {\n        return new Combinations();\n    }\n    \n    public void addCombination(Combination c) {\n        comb.add(c);\n    }\n    \n    // getters\n}\n\npublic class Combination {\n    private final int limit; // m - max number of coins\n    private int coinCount;\n    \n    public Combination(int limit) {\n        this.limit = limit;\n    }\n    \n    public Combination(int limit, int coinCount) {\n        this.limit = limit;\n        this.coinCount = coinCount;\n    }\n    \n    public Combination addCoin() {\n        coinCount++;\n        return this;\n    }\n    \n    public boolean canAdd() {\n        return coinCount &lt;= limit;\n    }\n    \n    public boolean isValid() {\n        return coinCount == limit;\n    }\n    \n    public static Combination copyOf(Combination c) {\n        return new Combination(c.getLimit(), c.getCoinCount());\n    }\n    \n    // getters\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(countWays(new int[]{10, 30, 50}, 4, 80));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668626268,"creation_date":1668595303,"answer_id":74459048,"question_id":74434050,"body_markdown":"You want to find all i&gt;=0, j&gt;=0, k&gt;=0 such that:\r\n```none\r\n 10i + 30j + 50k = S\r\n   i +   j +   k = M\r\n```\r\n\r\nFor any particular k, there&#39;s at most one solution for i and j. Solving:\r\n```none\r\n10i + 30j = S - 50k\r\n  i +   j = M - k\r\n```\r\ngives:\r\n```none\r\nj = M - i - k\r\n\r\n10i + 30j = S - 50k\r\n10i + 30(M - i - k) = S - 50k\r\n10i + 30M - 30i - 30k = S - 50k\r\n-20i = S - 50k - 30M + 30k\r\n-20i = S - 20k - 30M\r\n20i = -S + 20k + 30M\r\ni = (30M + 20k - S) / 20\r\n```\r\n\r\nNow, i is an integer if 30M+20k-S is divisible by 20, which is when 30M-S is divisible by 20. If i is an integer, then j is also an integer.\r\n\r\nNow we just need to find the range of k for which i and j are both non-negative.\r\n\r\nWell, i&gt;=0 when 30M+20k-S&gt;=0, ie. when 20k &gt;= S-30M, or k &gt;= (S-30M)/20.\r\n\r\nAnd j&gt;=0, when M-i-k&gt;=0, ie. when M-(30M+20k-S)/20 - k &gt;= 0, or 20M-30M-20k+S - 20k &gt;= 0, or 40k &lt;= S-10M, or k &lt;= (S-10M)/40.\r\n\r\nSo without writing a program, we can solve this problem: if 30M-S is not divisible by 20, then there&#39;s no solutions. Otherwise, we find the upper and lower bounds for k so that i and j are non-negative.\r\n\r\nFor example, when M=4 and sum=80, 30M-S=40 which is divisible by 20, we have i&gt;=0 when k&gt;=(S-30M)/20=(80-120)/20=-2 and j&gt;=0 when k&lt;=(S-10M)/40=(80-40)/40=1. We also need 0&lt;=k&lt;=M, so k=0 and k=1 are the two solutions.\r\n\r\nAn example program (in Python, but easy to convert to whatever you like):\r\n\r\n&lt;!-- language: python --&gt;\r\n\r\n    def ways(M, S):\r\n    \tif (30*M-S) % 20 != 0:\r\n    \t\treturn 0\r\n    \ttop = min(M, (S-10*M)//40)\r\n    \tbot = max(0, (S-30*M)//20)\r\n    \tif top &lt; bot:\r\n    \t\treturn 0\r\n    \treturn top - bot + 1\r\n\r\n","title":"Coin change problem with a condition to use exactly m coints","body":"<p>You want to find all i&gt;=0, j&gt;=0, k&gt;=0 such that:</p>\n<pre class=\"lang-none prettyprint-override\"><code> 10i + 30j + 50k = S\n   i +   j +   k = M\n</code></pre>\n<p>For any particular k, there's at most one solution for i and j. Solving:</p>\n<pre class=\"lang-none prettyprint-override\"><code>10i + 30j = S - 50k\n  i +   j = M - k\n</code></pre>\n<p>gives:</p>\n<pre class=\"lang-none prettyprint-override\"><code>j = M - i - k\n\n10i + 30j = S - 50k\n10i + 30(M - i - k) = S - 50k\n10i + 30M - 30i - 30k = S - 50k\n-20i = S - 50k - 30M + 30k\n-20i = S - 20k - 30M\n20i = -S + 20k + 30M\ni = (30M + 20k - S) / 20\n</code></pre>\n<p>Now, i is an integer if 30M+20k-S is divisible by 20, which is when 30M-S is divisible by 20. If i is an integer, then j is also an integer.</p>\n<p>Now we just need to find the range of k for which i and j are both non-negative.</p>\n<p>Well, i&gt;=0 when 30M+20k-S&gt;=0, ie. when 20k &gt;= S-30M, or k &gt;= (S-30M)/20.</p>\n<p>And j&gt;=0, when M-i-k&gt;=0, ie. when M-(30M+20k-S)/20 - k &gt;= 0, or 20M-30M-20k+S - 20k &gt;= 0, or 40k &lt;= S-10M, or k &lt;= (S-10M)/40.</p>\n<p>So without writing a program, we can solve this problem: if 30M-S is not divisible by 20, then there's no solutions. Otherwise, we find the upper and lower bounds for k so that i and j are non-negative.</p>\n<p>For example, when M=4 and sum=80, 30M-S=40 which is divisible by 20, we have i&gt;=0 when k&gt;=(S-30M)/20=(80-120)/20=-2 and j&gt;=0 when k&lt;=(S-10M)/40=(80-40)/40=1. We also need 0&lt;=k&lt;=M, so k=0 and k=1 are the two solutions.</p>\n<p>An example program (in Python, but easy to convert to whatever you like):</p>\n<pre class=\"lang-py prettyprint-override\"><code>def ways(M, S):\n    if (30*M-S) % 20 != 0:\n        return 0\n    top = min(M, (S-10*M)//40)\n    bot = max(0, (S-30*M)//20)\n    if top &lt; bot:\n        return 0\n    return top - bot + 1\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74459048,"answer_count":3,"score":2,"last_activity_date":1668626268,"creation_date":1668439631,"question_id":74434050,"body_markdown":"I have coins for 10, 30 and 50. But I want to use only `M` coins to get a given `sum`.\r\n\r\nI have this code (from [this][1] as reference) that just find all possible ways to get the total sum without applying the condition of using only `M` coins.\r\n\r\n\r\n    static long countWays(int coins[], int n, int sum)\r\n        {\r\n            // Time complexity of this function: O(n*sum)\r\n            // Space Complexity of this function: O(sum)\r\n     \r\n            // table[i] will be storing the number of solutions\r\n            // for value i. We need sum+1 rows as the table is\r\n            // constructed in bottom up manner using the base\r\n            // case (sum = 0)\r\n            long[] table = new long[sum + 1];\r\n     \r\n            // Initialize all table values as 0\r\n            Arrays.fill(table, 0);\r\n     \r\n            // Base case (If given value is 0)\r\n            table[0] = 1;\r\n     \r\n            // Pick all coins one by one and update the table[]\r\n            // values after the index greater than or equal to\r\n            // the value of the picked coin\r\n            for (int i = 0; i &lt; n; i++)\r\n                for (int j = coins[i]; j &lt;= sum; j++)\r\n                    table[j] += table[j - coins[i]];\r\n     \r\n            return table[sum];\r\n        }\r\n     \r\n        // Driver Function to test above function\r\n        public static void main(String args[])\r\n        {\r\n            int coins[] = { 10, 30, 50 };\r\n            int n = coins.length;\r\n            int sum = 80;\r\n            System.out.println(countWays(coins, n, sum));\r\n        }\r\n\r\n\t\r\nHow can we add that condition for this problem or is there any alternate approach for this.\r\n\r\n\r\n**For example:**\r\n\r\n    M=4 and sum = 80\r\n\r\n**Output**  `2.`\r\n\r\n**Explanation:**\r\n\r\n    case 1 : 10*2 + 30*2 = 80 ( used 4 coins i.e. M coins)\r\n    case 2 : 10*3 + 50*1 = 80 ( used 4 coins i.e. M coins)\r\n\r\n\r\n**Constraints:**\r\n\r\n    M reaches up to 5000\r\n    sum reaches up to 250000\r\n\r\n  [1]: https://www.geeksforgeeks.org/coin-change-dp-7/\r\n","title":"Coin change problem with a condition to use exactly m coints","body":"<p>I have coins for 10, 30 and 50. But I want to use only <code>M</code> coins to get a given <code>sum</code>.</p>\n<p>I have this code (from <a href=\"https://www.geeksforgeeks.org/coin-change-dp-7/\" rel=\"nofollow noreferrer\">this</a> as reference) that just find all possible ways to get the total sum without applying the condition of using only <code>M</code> coins.</p>\n<pre><code>static long countWays(int coins[], int n, int sum)\n    {\n        // Time complexity of this function: O(n*sum)\n        // Space Complexity of this function: O(sum)\n \n        // table[i] will be storing the number of solutions\n        // for value i. We need sum+1 rows as the table is\n        // constructed in bottom up manner using the base\n        // case (sum = 0)\n        long[] table = new long[sum + 1];\n \n        // Initialize all table values as 0\n        Arrays.fill(table, 0);\n \n        // Base case (If given value is 0)\n        table[0] = 1;\n \n        // Pick all coins one by one and update the table[]\n        // values after the index greater than or equal to\n        // the value of the picked coin\n        for (int i = 0; i &lt; n; i++)\n            for (int j = coins[i]; j &lt;= sum; j++)\n                table[j] += table[j - coins[i]];\n \n        return table[sum];\n    }\n \n    // Driver Function to test above function\n    public static void main(String args[])\n    {\n        int coins[] = { 10, 30, 50 };\n        int n = coins.length;\n        int sum = 80;\n        System.out.println(countWays(coins, n, sum));\n    }\n</code></pre>\n<p>How can we add that condition for this problem or is there any alternate approach for this.</p>\n<p><strong>For example:</strong></p>\n<pre><code>M=4 and sum = 80\n</code></pre>\n<p><strong>Output</strong>  <code>2.</code></p>\n<p><strong>Explanation:</strong></p>\n<pre><code>case 1 : 10*2 + 30*2 = 80 ( used 4 coins i.e. M coins)\ncase 2 : 10*3 + 50*1 = 80 ( used 4 coins i.e. M coins)\n</code></pre>\n<p><strong>Constraints:</strong></p>\n<pre><code>M reaches up to 5000\nsum reaches up to 250000\n</code></pre>\n"},{"tags":["java","flutter","dart","plugins","native"],"answers":[{"comments":[{"owner":{"account_id":16851175,"reputation":523,"user_id":12184173,"display_name":"Simon B"},"score":0,"creation_date":1668637304,"post_id":74466003,"comment_id":131457363,"body_markdown":"Yeah but I would need to re-implement the object in Dart and I don&#39;t want to do that since the object is very complicated and has a lot of functions. But Thanks !","body":"Yeah but I would need to re-implement the object in Dart and I don&#39;t want to do that since the object is very complicated and has a lot of functions. But Thanks !"}],"tags":[],"owner":{"account_id":24377110,"reputation":6833,"user_id":18309290,"display_name":"user18309290"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668626214,"creation_date":1668626214,"answer_id":74466003,"question_id":74460505,"body_markdown":"The alternative way is to convert an object to a map in Android and back to an object in Flutter. Something like this:\r\n\r\nFlutter/Dart:\r\n```\r\nclass Device {\r\n  String? id;\r\n  String? name;\r\n\r\n...\r\n  Device.fromMap(Map&lt;String, dynamic&gt; map) {\r\n    id = map[&#39;id&#39;];\r\n    name = map[&#39;name&#39;];\r\n  }\r\n}\r\n\r\nfinal map = await methodChannel.invokeMethod(&#39;requestDevice&#39;);\r\nfinal device = Device.fromMap(map.cast&lt;String, dynamic&gt;());\r\n```\r\n\r\nAndroid/Kotlin:\r\n```\r\ndata class Device(\r\n    val id: String,\r\n    val name: String?\r\n) {\r\n\r\n...\r\n    fun toMap(): Map&lt;String, Any?&gt; {\r\n        return mapOf(\r\n            &quot;id&quot; to id,\r\n            &quot;name&quot; to name\r\n        )\r\n    }\r\n}\r\n\r\noverride fun onMethodCall(@NonNull call: MethodCall, @NonNull result: Result) {\r\n...\r\n    result.success(device.toMap())\r\n...\r\n}\r\n```","title":"Flutter Plugin access native objects","body":"<p>The alternative way is to convert an object to a map in Android and back to an object in Flutter. Something like this:</p>\n<p>Flutter/Dart:</p>\n<pre><code>class Device {\n  String? id;\n  String? name;\n\n...\n  Device.fromMap(Map&lt;String, dynamic&gt; map) {\n    id = map['id'];\n    name = map['name'];\n  }\n}\n\nfinal map = await methodChannel.invokeMethod('requestDevice');\nfinal device = Device.fromMap(map.cast&lt;String, dynamic&gt;());\n</code></pre>\n<p>Android/Kotlin:</p>\n<pre><code>data class Device(\n    val id: String,\n    val name: String?\n) {\n\n...\n    fun toMap(): Map&lt;String, Any?&gt; {\n        return mapOf(\n            &quot;id&quot; to id,\n            &quot;name&quot; to name\n        )\n    }\n}\n\noverride fun onMethodCall(@NonNull call: MethodCall, @NonNull result: Result) {\n...\n    result.success(device.toMap())\n...\n}\n</code></pre>\n"}],"owner":{"account_id":16851175,"reputation":523,"user_id":12184173,"display_name":"Simon B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668626214,"creation_date":1668601878,"question_id":74460505,"body_markdown":"I&#39;m developing a Flutter plugin to implements an iOS SDK and an Android SDK in Flutter. In both native SDKs, there is an object called Peripheral, which is a complexe object extending and implementing other objects. If I want to use theses Objects, do I have to implement them in Flutter too ? Or can I just create an manipulate instances of those objects from dart.\r\n\r\nRight now, I&#39;m trying to manipulate instances by have a PeripheralObject that calls a function in constructor that will create an instance in native Java (for Android) of a peripheral, place it in a hash map, and return it&#39;s memory adress to dart. In dart, I keep the memory adress of the Java object and when I call a function, like `getName`, I pass to the method channel the java memory adress and with that, I can retrieve from the map my instance of the native object, call the method and send back the answer. Is it a good way of resolving the problem or is there other better way to do so ?\r\n\r\nHere is my dart object:\r\n```dart\r\nclass Peripheral {\r\n  late String _objectReference;\r\n  late String _localName, _uuid;\r\n\r\n  Peripheral({required String localName, required String uuid}) {\r\n    _uuid = uuid;\r\n    _localName = localName;\r\n    _newPeripheralInstance(localName, uuid);\r\n  }\r\n\r\n\r\n  Future&lt;void&gt; _newPeripheralInstance(String localName, String uuid) async {\r\n    _objectReference = (await PeripheralPlatform.instance.newPeripheralInstance(localName, uuid))!;\r\n    return;\r\n  }\r\n\r\n  String get objectReference =&gt; _objectReference;\r\n\r\n  Future&lt;String?&gt; getModelName() async {\r\n    return PeripheralPlatform.instance.getModelName(_objectReference);\r\n  }\r\n\r\n  Future&lt;String?&gt; getUuid() async {\r\n    return PeripheralPlatform.instance.getUuid(_objectReference);\r\n  }\r\n}\r\n```\r\n\r\nHere is my Dart Method Channel :\r\n```dart\r\nclass MethodChannelPeripheral extends PeripheralPlatform {\r\n  /// The method channel used to interact with the native platform.\r\n  @visibleForTesting\r\n  final methodChannel = const MethodChannel(&#39;channel&#39;);\r\n\r\n  @override\r\n  Future&lt;String?&gt; newPeripheralInstance(String localName, String uuid) async {\r\n    String? instance = await methodChannel.invokeMethod&lt;String&gt;(&#39;Peripheral-newPeripheralInstance&#39;,  &lt;String, String&gt;{\r\n      &#39;localName&#39;: localName,\r\n      &#39;uuid&#39;: uuid\r\n    });\r\n    return instance;\r\n  }\r\n\r\n  @override\r\n  Future&lt;String?&gt; getModelName(String peripheralReference) {\r\n    return methodChannel.invokeMethod&lt;String&gt;(&#39;Peripheral-getModelName&#39;, &lt;String, String&gt;{\r\n      &#39;peripheralReference&#39;: peripheralReference\r\n    });\r\n  }\r\n\r\n  @override\r\n  Future&lt;String?&gt; getUuid(String peripheralReference) {\r\n    return methodChannel.invokeMethod&lt;String&gt;(&#39;Peripheral-getUuid&#39;, &lt;String, String&gt;{\r\n      &#39;peripheralReference&#39;: peripheralReference\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nAnd here is my Android Java file :\r\n\r\n```java\r\npublic class PluginPeripheral {\r\n  private static Map&lt;String, Peripheral&gt; peripheralMap = new HashMap&lt;&gt;();\r\n\r\n  public static void handleMethodCall(String method, MethodCall call, MethodChannel.Result result) {\r\n    method = method.replace(&quot;Peripheral-&quot;, &quot;&quot;);\r\n    switch (method) {\r\n      case &quot;newPeripheralInstance&quot;:\r\n        newPeripheralInstance(call, result);\r\n        break;\r\n      case &quot;getModelName&quot;:\r\n        getModelName(call, result);\r\n        break;\r\n      case &quot;getUuid&quot;:\r\n        getUuid(call, result);\r\n        break;\r\n      default:\r\n        result.notImplemented();\r\n        break;\r\n    }\r\n  }\r\n\r\n  private static void newPeripheralInstance(MethodCall call, MethodChannel.Result result) {\r\n    if (call.hasArgument(&quot;uuid&quot;) &amp;&amp; call.hasArgument(&quot;localName&quot;)) {\r\n      String uuid = call.argument(&quot;uuid&quot;);\r\n      String localName = call.argument(&quot;localName&quot;);\r\n      if (localName == null || uuid == null) {\r\n        result.error(&quot;Missing argument&quot;, &quot;Missing argument &#39;uuid&#39; or &#39;localName&#39;&quot;, null);\r\n        return;\r\n      }\r\n      Peripheral peripheral = new Peripheral(localName, uuid);\r\n      peripheralMap.put(peripheral.toString(), peripheral);\r\n      result.success(peripheral.toString());\r\n    }\r\n  }\r\n\r\n  private static void getModelName(MethodCall call, MethodChannel.Result result) {\r\n    if (call.hasArgument(&quot;peripheralReference&quot;)) {\r\n      String peripheralString = call.argument(&quot;peripheralReference&quot;);\r\n      if (peripheralString == null) {\r\n        result.error(&quot;Missing argument&quot;, &quot;Missing argument &#39;peripheral&#39;&quot;, null);\r\n        return;\r\n      }\r\n      Peripheral peripheral = peripheralMap.get(peripheralString);\r\n      if (peripheral == null) {\r\n        result.error(&quot;Invalid peripheral&quot;, &quot;Invalid peripheral&quot;, null);\r\n        return;\r\n      }\r\n      result.success(peripheral.getModelName());\r\n    } else {\r\n      result.error(&quot;Missing argument&quot;, &quot;Missing argument &#39;peripheralReference&#39;&quot;, null);\r\n    }\r\n  }\r\n\r\n  private static void getUuid(MethodCall call, MethodChannel.Result result) {\r\n    if (call.hasArgument(&quot;peripheralReference&quot;)) {\r\n      String peripheralString = call.argument(&quot;peripheralReference&quot;);\r\n      if (peripheralString == null) {\r\n        result.error(&quot;Missing argument&quot;, &quot;Missing argument &#39;peripheral&#39;&quot;, null);\r\n        return;\r\n      }\r\n      Peripheral peripheral = peripheralMap.get(peripheralString);\r\n      if (peripheral == null) {\r\n        result.error(&quot;Invalid peripheral&quot;, &quot;Invalid peripheral&quot;, null);\r\n        return;\r\n      }\r\n      result.success(peripheral.getUuid());\r\n    } else {\r\n      result.error(&quot;Missing argument&quot;, &quot;Missing argument &#39;peripheralReference&#39;&quot;, null);\r\n    }\r\n  }\r\n}\r\n```","title":"Flutter Plugin access native objects","body":"<p>I'm developing a Flutter plugin to implements an iOS SDK and an Android SDK in Flutter. In both native SDKs, there is an object called Peripheral, which is a complexe object extending and implementing other objects. If I want to use theses Objects, do I have to implement them in Flutter too ? Or can I just create an manipulate instances of those objects from dart.</p>\n<p>Right now, I'm trying to manipulate instances by have a PeripheralObject that calls a function in constructor that will create an instance in native Java (for Android) of a peripheral, place it in a hash map, and return it's memory adress to dart. In dart, I keep the memory adress of the Java object and when I call a function, like <code>getName</code>, I pass to the method channel the java memory adress and with that, I can retrieve from the map my instance of the native object, call the method and send back the answer. Is it a good way of resolving the problem or is there other better way to do so ?</p>\n<p>Here is my dart object:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Peripheral {\n  late String _objectReference;\n  late String _localName, _uuid;\n\n  Peripheral({required String localName, required String uuid}) {\n    _uuid = uuid;\n    _localName = localName;\n    _newPeripheralInstance(localName, uuid);\n  }\n\n\n  Future&lt;void&gt; _newPeripheralInstance(String localName, String uuid) async {\n    _objectReference = (await PeripheralPlatform.instance.newPeripheralInstance(localName, uuid))!;\n    return;\n  }\n\n  String get objectReference =&gt; _objectReference;\n\n  Future&lt;String?&gt; getModelName() async {\n    return PeripheralPlatform.instance.getModelName(_objectReference);\n  }\n\n  Future&lt;String?&gt; getUuid() async {\n    return PeripheralPlatform.instance.getUuid(_objectReference);\n  }\n}\n</code></pre>\n<p>Here is my Dart Method Channel :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MethodChannelPeripheral extends PeripheralPlatform {\n  /// The method channel used to interact with the native platform.\n  @visibleForTesting\n  final methodChannel = const MethodChannel('channel');\n\n  @override\n  Future&lt;String?&gt; newPeripheralInstance(String localName, String uuid) async {\n    String? instance = await methodChannel.invokeMethod&lt;String&gt;('Peripheral-newPeripheralInstance',  &lt;String, String&gt;{\n      'localName': localName,\n      'uuid': uuid\n    });\n    return instance;\n  }\n\n  @override\n  Future&lt;String?&gt; getModelName(String peripheralReference) {\n    return methodChannel.invokeMethod&lt;String&gt;('Peripheral-getModelName', &lt;String, String&gt;{\n      'peripheralReference': peripheralReference\n    });\n  }\n\n  @override\n  Future&lt;String?&gt; getUuid(String peripheralReference) {\n    return methodChannel.invokeMethod&lt;String&gt;('Peripheral-getUuid', &lt;String, String&gt;{\n      'peripheralReference': peripheralReference\n    });\n  }\n}\n</code></pre>\n<p>And here is my Android Java file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PluginPeripheral {\n  private static Map&lt;String, Peripheral&gt; peripheralMap = new HashMap&lt;&gt;();\n\n  public static void handleMethodCall(String method, MethodCall call, MethodChannel.Result result) {\n    method = method.replace(&quot;Peripheral-&quot;, &quot;&quot;);\n    switch (method) {\n      case &quot;newPeripheralInstance&quot;:\n        newPeripheralInstance(call, result);\n        break;\n      case &quot;getModelName&quot;:\n        getModelName(call, result);\n        break;\n      case &quot;getUuid&quot;:\n        getUuid(call, result);\n        break;\n      default:\n        result.notImplemented();\n        break;\n    }\n  }\n\n  private static void newPeripheralInstance(MethodCall call, MethodChannel.Result result) {\n    if (call.hasArgument(&quot;uuid&quot;) &amp;&amp; call.hasArgument(&quot;localName&quot;)) {\n      String uuid = call.argument(&quot;uuid&quot;);\n      String localName = call.argument(&quot;localName&quot;);\n      if (localName == null || uuid == null) {\n        result.error(&quot;Missing argument&quot;, &quot;Missing argument 'uuid' or 'localName'&quot;, null);\n        return;\n      }\n      Peripheral peripheral = new Peripheral(localName, uuid);\n      peripheralMap.put(peripheral.toString(), peripheral);\n      result.success(peripheral.toString());\n    }\n  }\n\n  private static void getModelName(MethodCall call, MethodChannel.Result result) {\n    if (call.hasArgument(&quot;peripheralReference&quot;)) {\n      String peripheralString = call.argument(&quot;peripheralReference&quot;);\n      if (peripheralString == null) {\n        result.error(&quot;Missing argument&quot;, &quot;Missing argument 'peripheral'&quot;, null);\n        return;\n      }\n      Peripheral peripheral = peripheralMap.get(peripheralString);\n      if (peripheral == null) {\n        result.error(&quot;Invalid peripheral&quot;, &quot;Invalid peripheral&quot;, null);\n        return;\n      }\n      result.success(peripheral.getModelName());\n    } else {\n      result.error(&quot;Missing argument&quot;, &quot;Missing argument 'peripheralReference'&quot;, null);\n    }\n  }\n\n  private static void getUuid(MethodCall call, MethodChannel.Result result) {\n    if (call.hasArgument(&quot;peripheralReference&quot;)) {\n      String peripheralString = call.argument(&quot;peripheralReference&quot;);\n      if (peripheralString == null) {\n        result.error(&quot;Missing argument&quot;, &quot;Missing argument 'peripheral'&quot;, null);\n        return;\n      }\n      Peripheral peripheral = peripheralMap.get(peripheralString);\n      if (peripheral == null) {\n        result.error(&quot;Invalid peripheral&quot;, &quot;Invalid peripheral&quot;, null);\n        return;\n      }\n      result.success(peripheral.getUuid());\n    } else {\n      result.error(&quot;Missing argument&quot;, &quot;Missing argument 'peripheralReference'&quot;, null);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","cucumber","automated-tests"],"comments":[{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1468977608,"post_id":38454370,"comment_id":64345461,"body_markdown":"How do you run maven build from command line? (If you want me to see your reply start it with @Eugene S)","body":"How do you run maven build from command line? (If you want me to see your reply start it with @Eugene S)"},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1468978965,"post_id":38454370,"comment_id":64345744,"body_markdown":"I can see you have done some customization to your `Cucumber.class` runner. Just to make sure that&#39;s not the source of this problem, try to replace it with the original runner and see if that makes any difference.","body":"I can see you have done some customization to your <code>Cucumber.class</code> runner. Just to make sure that&#39;s not the source of this problem, try to replace it with the original runner and see if that makes any difference."},{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1515270736,"post_id":38454370,"comment_id":83240287,"body_markdown":"How are you running with Maven? (Which commands/options are you providing and how?)","body":"How are you running with Maven? (Which commands/options are you providing and how?)"},{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1515270823,"post_id":38454370,"comment_id":83240312,"body_markdown":"Possible duplicate of: https://stackoverflow.com/questions/40971167/cucumberjvmmaventests-dosent-run-from-command-line-through-maven?rq=1","body":"Possible duplicate of: <a href=\"https://stackoverflow.com/questions/40971167/cucumberjvmmaventests-dosent-run-from-command-line-through-maven?rq=1\" title=\"cucumberjvmmaventests dosent run from command line through maven\">stackoverflow.com/questions/40971167/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2578132,"reputation":1841,"user_id":2235381,"display_name":"lojza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526991964,"creation_date":1526991964,"answer_id":50467654,"question_id":38454370,"body_markdown":"try put your `.feature` files into `src\\test\\resources\\features`\r\n\r\nor simply follow https://docs.cucumber.io/guides/10-minute-tutorial/\r\n\r\n    mvn archetype:generate                      \\\r\n       -DarchetypeGroupId=io.cucumber           \\\r\n       -DarchetypeArtifactId=cucumber-archetype \\\r\n       -DarchetypeVersion=2.3.1.2               \\\r\n       -DgroupId=hellocucumber                  \\\r\n       -DartifactId=hellocucumber               \\\r\n       -Dpackage=hellocucumber                  \\\r\n       -Dversion=1.0.0-SNAPSHOT                 \\\r\n       -DinteractiveMode=false\r\n\r\n    cd hellocucumber\r\n\r\n    mvn test","title":"Maven not running cucumber tests","body":"<p>try put your <code>.feature</code> files into <code>src\\test\\resources\\features</code></p>\n\n<p>or simply follow <a href=\"https://docs.cucumber.io/guides/10-minute-tutorial/\" rel=\"nofollow noreferrer\">https://docs.cucumber.io/guides/10-minute-tutorial/</a></p>\n\n<pre><code>mvn archetype:generate                      \\\n   -DarchetypeGroupId=io.cucumber           \\\n   -DarchetypeArtifactId=cucumber-archetype \\\n   -DarchetypeVersion=2.3.1.2               \\\n   -DgroupId=hellocucumber                  \\\n   -DartifactId=hellocucumber               \\\n   -Dpackage=hellocucumber                  \\\n   -Dversion=1.0.0-SNAPSHOT                 \\\n   -DinteractiveMode=false\n\ncd hellocucumber\n\nmvn test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6067081,"reputation":91,"user_id":4737000,"display_name":"Archit Rai Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572516275,"creation_date":1572516275,"answer_id":58640878,"question_id":38454370,"body_markdown":"I was facing the same issue with Junit 5.5.2 and maven 3.6. The tests run fine from IntelliJ but maven does not run the tests.\r\n\r\nMaven 3.6.0 was released on October 24th, 2018. This release includes version 2.22.0 of the Maven Surefire Plugin (unit test runner) and 2.22.0 of the Maven Failsafe (integration test runner) plugin. The 2.22.0 releases include support for JUnit.\r\n\r\nKeeping all the dependencies as it is and adding maven-surefire-plugin 2.12.4 fixed it for me. ","title":"Maven not running cucumber tests","body":"<p>I was facing the same issue with Junit 5.5.2 and maven 3.6. The tests run fine from IntelliJ but maven does not run the tests.</p>\n\n<p>Maven 3.6.0 was released on October 24th, 2018. This release includes version 2.22.0 of the Maven Surefire Plugin (unit test runner) and 2.22.0 of the Maven Failsafe (integration test runner) plugin. The 2.22.0 releases include support for JUnit.</p>\n\n<p>Keeping all the dependencies as it is and adding maven-surefire-plugin 2.12.4 fixed it for me. </p>\n"},{"tags":[],"owner":{"account_id":1623665,"reputation":1963,"user_id":1499715,"accept_rate":100,"display_name":"elirandav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579790946,"creation_date":1579790946,"answer_id":59881238,"question_id":38454370,"body_markdown":"In my case, the issue was `dryRun` enabled. \r\n\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            plugin = {&quot;pretty&quot;}, dryRun = true,\r\n            features = &quot;src/test/resources/features&quot;,\r\n            glue = &quot;com/exelate/cucumber&quot;)\r\n    public class CucumberRunnerTest {\r\n    }\r\n\r\n`dryRun` set to true means to only check that every Step mentioned in the Feature file has corresponding code written in Step Definition file. After removing it, I see that `maven clean install` fails when one of the scenario fails (which is the expected result).\r\n","title":"Maven not running cucumber tests","body":"<p>In my case, the issue was <code>dryRun</code> enabled. </p>\n\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        plugin = {\"pretty\"}, dryRun = true,\n        features = \"src/test/resources/features\",\n        glue = \"com/exelate/cucumber\")\npublic class CucumberRunnerTest {\n}\n</code></pre>\n\n<p><code>dryRun</code> set to true means to only check that every Step mentioned in the Feature file has corresponding code written in Step Definition file. After removing it, I see that <code>maven clean install</code> fails when one of the scenario fails (which is the expected result).</p>\n"},{"tags":[],"owner":{"account_id":18011266,"reputation":41,"user_id":13090872,"display_name":"fatih"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595383196,"creation_date":1595381763,"answer_id":63025471,"question_id":38454370,"body_markdown":"adding surefire plugin solved the issue for me.\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/CucumberRunner*.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;","title":"Maven not running cucumber tests","body":"<p>adding surefire plugin solved the issue for me.</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/CucumberRunner*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17295469,"reputation":137,"user_id":12526239,"display_name":"Yasin Bekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611507371,"creation_date":1611379982,"answer_id":65856071,"question_id":38454370,"body_markdown":"Rai Gupta&#39;s [answer][1] is right. The dependency was an issue for me also. \r\n\r\nI saw too many &quot;Append your runner class with Test, move the runner class into TEST folder&quot; etc. and these make *no* sense since you are just destroying the whole design and it will end horribly designed framework.  \r\n    \r\nThe `JUnit` and `SureFire` plugins need to be aligned. I used:\r\n \r\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.13.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n and\r\n    \r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.4&lt;/version&gt;\r\n    \r\nHowever, this came in with a parallel execution problem. I did not need it, so I removed it, but you can try different versions of the above dependency.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58640878/4424636","title":"Maven not running cucumber tests","body":"<p>Rai Gupta's <a href=\"https://stackoverflow.com/a/58640878/4424636\">answer</a> is right. The dependency was an issue for me also.</p>\n<p>I saw too many &quot;Append your runner class with Test, move the runner class into TEST folder&quot; etc. and these make <em>no</em> sense since you are just destroying the whole design and it will end horribly designed framework.</p>\n<p>The <code>JUnit</code> and <code>SureFire</code> plugins need to be aligned. I used:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.12.4&lt;/version&gt;\n</code></pre>\n<p>However, this came in with a parallel execution problem. I did not need it, so I removed it, but you can try different versions of the above dependency.</p>\n"},{"tags":[],"owner":{"account_id":13473334,"reputation":11,"user_id":9721120,"display_name":"Tony T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638443253,"creation_date":1638443253,"answer_id":70198302,"question_id":38454370,"body_markdown":"This worked for me thanks! Here are the surefire plugin settings I used.\r\n\r\n```\r\n &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/RunTests*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"Maven not running cucumber tests","body":"<p>This worked for me thanks! Here are the surefire plugin settings I used.</p>\n<pre><code> &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/RunTests*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667553901,"creation_date":1667553901,"answer_id":74314731,"question_id":38454370,"body_markdown":"For me, problem solved by changing version of surefire plugin as follows (I added this plugin to sub module that includes cucumber tests),\r\n\r\n       &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n         &lt;/plugin&gt;","title":"Maven not running cucumber tests","body":"<p>For me, problem solved by changing version of surefire plugin as follows (I added this plugin to sub module that includes cucumber tests),</p>\n<pre><code>   &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n     &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8847061,"reputation":91,"user_id":6607503,"display_name":"Bharti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23516,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1668626120,"creation_date":1468920027,"question_id":38454370,"body_markdown":"Can anyone suggest why I am not able to run any test using Maven.\r\n\r\n 1. Surefire plugin is configured\r\n 2. Glue code is set under runner class\r\n 3. &quot;Test&quot; is appended to the runner class\r\n\r\nNote: If I run my `RunnerTest.java` file as Junit it runs all scenarios properly. Only when I run it using Maven, no tests are run.\r\n\r\nHave I missed any dependency? or is there any conflict happening?\r\nPlease refer my project structure image attached and my POM file.\r\n\r\n[Project structure Image][1]\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.cucumber&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;MavenCucumber_RocketTV&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;MavenCucumber_RocketTV&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.53.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.53.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.52.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.53.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.53.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-ie-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.53.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-safari-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.53.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.reporting&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-reporting-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.23&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.cedarsoftware&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-reports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.picocontainer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;picocontainer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${env.JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.41.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20090211&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2-beta&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-dom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-css&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-gvt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-svg-dom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;batik-ext&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ant-nodeps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.cobertura&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cobertura&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X4cp0.jpg","title":"Maven not running cucumber tests","body":"<p>Can anyone suggest why I am not able to run any test using Maven.</p>\n\n<ol>\n<li>Surefire plugin is configured</li>\n<li>Glue code is set under runner class</li>\n<li>\"Test\" is appended to the runner class</li>\n</ol>\n\n<p>Note: If I run my <code>RunnerTest.java</code> file as Junit it runs all scenarios properly. Only when I run it using Maven, no tests are run.</p>\n\n<p>Have I missed any dependency? or is there any conflict happening?\nPlease refer my project structure image attached and my POM file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/X4cp0.jpg\" rel=\"noreferrer\">Project structure Image</a></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.cucumber&lt;/groupId&gt;\n&lt;artifactId&gt;MavenCucumber_RocketTV&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;MavenCucumber_RocketTV&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.18.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\n        &lt;version&gt;2.18.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;19.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n        &lt;version&gt;1.0.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;2.53.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.53.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.52.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n        &lt;version&gt;2.53.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.53.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-ie-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.53.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-safari-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.53.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.reporting&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-reporting-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n        &lt;version&gt;0.0.23&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cedarsoftware&lt;/groupId&gt;\n        &lt;artifactId&gt;json-io&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-reports&lt;/artifactId&gt;\n        &lt;version&gt;1.0.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\n        &lt;version&gt;0.2.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n        &lt;groupId&gt;org.picocontainer&lt;/groupId&gt;\n        &lt;artifactId&gt;picocontainer&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun&lt;/groupId&gt;\n        &lt;artifactId&gt;tools&lt;/artifactId&gt;\n        &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${env.JAVA_HOME}/lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;2.41.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20090211&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n        &lt;version&gt;2.6.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2-beta&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-util&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-dom&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-css&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-gvt&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-svg-dom&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;batik-ext&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant-nodeps&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n            &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.cobertura&lt;/groupId&gt;\n        &lt;artifactId&gt;cobertura&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","api","currency","converters"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1668624795,"post_id":74465664,"comment_id":131453353,"body_markdown":"Wouldn&#39;t it help to show the errors? Also, which dependency management tool are you using? Have you put the JSON library in your dependencies?","body":"Wouldn&#39;t it help to show the errors? Also, which dependency management tool are you using? Have you put the JSON library in your dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":16691391,"reputation":48,"user_id":12063888,"display_name":"Winston"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668625180,"creation_date":1668625180,"answer_id":74465825,"question_id":74465664,"body_markdown":"Different servers produce slightly differnet JSON xml files. You need to construct your app to parse the JSON file accodring to how the template was laid out. You&#39;d only need to do this once. ","title":"Currency Converter App in GUI JAVA using live exchange rates","body":"<p>Different servers produce slightly differnet JSON xml files. You need to construct your app to parse the JSON file accodring to how the template was laid out. You'd only need to do this once.</p>\n"},{"tags":[],"owner":{"account_id":22803614,"reputation":16,"user_id":16955942,"display_name":"alkolhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668625972,"creation_date":1668625972,"answer_id":74465955,"question_id":74465664,"body_markdown":"So there is a lot going on in your code. I recommend you to refactor your program, it has a lot of repetitions.\r\n\r\nRegarding the required libraries:&lt;br&gt;\r\nimporting JSONObject probably does not work because you haven&#39;t listed it in your dependencies.&lt;br&gt;\r\nFor maven check out: https://mvnrepository.com/artifact/org.json/json&lt;br&gt;\r\nIf you&#39;re **not** using a dependency management tool download the jar from here: https://mvnrepository.com/artifact/org.json/json\r\n\r\n&lt;br&gt;\r\nThere is also no use for `import java.net.URLConnection;`&lt;br&gt;\r\nI used `import java.net.HttpURLConnection; import java.net.URL;` and it worked.\r\n\r\n","title":"Currency Converter App in GUI JAVA using live exchange rates","body":"<p>So there is a lot going on in your code. I recommend you to refactor your program, it has a lot of repetitions.</p>\n<p>Regarding the required libraries:<br>\nimporting JSONObject probably does not work because you haven't listed it in your dependencies.<br>\nFor maven check out: <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.json/json</a><br>\nIf you're <strong>not</strong> using a dependency management tool download the jar from here: <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.json/json</a></p>\n<br>\nThere is also no use for `import java.net.URLConnection;`<br>\nI used `import java.net.HttpURLConnection; import java.net.URL;` and it worked.\n"}],"owner":{"account_id":26816524,"reputation":15,"user_id":20406430,"display_name":"Kamen Georgiev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74465955,"answer_count":2,"score":0,"last_activity_date":1668625972,"creation_date":1668624295,"question_id":74465664,"body_markdown":"I am trying to get live exchange rates for my java exchange currency program. I saw that this could be done using API from the internet and import the website URL in the java program to get live exchange rates. However I am having trouble working with JSON and getting a few more errors that prevent me from running the program. I am not sure what to import in order to fix the errors. I am quite new and I am not sure if this should be difficult or am I doing something wrong here. Thank you in advance. \r\n\r\n`\r\n```\r\npackage currencyConverterGUI;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.text.DecimalFormat; // import for decimal place limitation\r\nimport java.net.URL;\r\nimport org.json.JSONObject;\r\nimport java.io.*;\r\nimport java.net.URLConnection;\r\n\r\npublic class currencyGUI extends JFrame //inherit from JFrame\r\n{\r\n\r\n\r\n\r\n    private static final DecimalFormat df = new DecimalFormat(&quot;0.00000&quot;);  // use DecimalFormat to round double numbers to 5 decimal places\r\n\r\n\r\n    private JButton btnConvert; // generated by GUI designer\r\n    private JPanel JPanelMain; // generated by GUI designer\r\n    private JTextField textAmount; // generated by GUI designer\r\n    private JComboBox textFrom; // generated by GUI designer\r\n    private JComboBox textTo; // generated by GUI designer\r\n    private JLabel result; // generated by GUI designer\r\n\r\n\r\n    public currencyGUI() {\r\n\r\n\r\n        btnConvert.addActionListener(new ActionListener() { // button reacts to user click; generated by GUI designer\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n\r\n\r\n                double total;\r\n                double amount = Double.parseDouble(textAmount.getText()); // check if input amount is a number and read the input if it is a number\r\n                int index = textTo.getSelectedIndex(); //get index of selected currency from the first combo box\r\n\r\n                if(textFrom.getSelectedItem() == &quot;USD&quot;)  // if USD is selected in the first combo box, then switch for each currency\r\n                {\r\n\r\n                    switch (index) {\r\n\r\n                        case 0:\r\n                            total = amount * 1;\r\n                            result.setText(df.format(total) + &quot; USD&quot;);\r\n                            break;\r\n\r\n                        case 1:\r\n                            total = amount * 0.86;\r\n                            result.setText(df.format(total) + &quot; EUR&quot;);\r\n                            break;\r\n\r\n                        case 2:\r\n                            total = amount * 1.88;\r\n                            result.setText(df.format(total) + &quot; BGN&quot;);\r\n                            break;\r\n\r\n                        case 3:\r\n                            total = amount * 0.000060;\r\n                            result.setText(df.format(total) + &quot; BTC&quot;);\r\n                            break;\r\n\r\n                        case 4:\r\n                            total = amount * 2.98;\r\n                            result.setText(df.format(total) + &quot; ADA&quot;);\r\n                            break;\r\n\r\n                    }\r\n                }\r\n\r\n                    if(textFrom.getSelectedItem() == &quot;EUR&quot;)  // if EUR is selected in the first combo box, then switch for each currency\r\n                    {\r\n\r\n                        switch (index) {\r\n\r\n                            case 0:\r\n                                total = amount * 1.04;\r\n                                result.setText(df.format(total) + &quot; USD&quot;);\r\n                                break;\r\n\r\n                            case 1:\r\n                                total = amount * 0.1;\r\n                                result.setText(df.format(total) + &quot; EUR&quot;);\r\n                                break;\r\n\r\n                            case 2:\r\n                                total = amount * 1.95;\r\n                                result.setText(df.format(total) + &quot; BGN&quot;);\r\n                                break;\r\n\r\n                            case 3:\r\n                                total = amount * 0.000063;\r\n                                result.setText(df.format(total) + &quot; BTC&quot;);\r\n                                break;\r\n\r\n                            case 4:\r\n                                total = amount * 3.18;\r\n                                result.setText(df.format(total) + &quot; ADA&quot;);\r\n                                break;\r\n\r\n                        }\r\n                    }\r\n\r\n                        if(textFrom.getSelectedItem() == &quot;BGN&quot;)  // if BGN is selected in the first combo box, then switch for each currency\r\n                        {\r\n\r\n                            switch (index) {\r\n\r\n                                case 0:\r\n                                    total = amount * 0.53;\r\n                                    result.setText(df.format(total) + &quot; USD&quot;);\r\n                                    break;\r\n\r\n                                case 1:\r\n                                    total = amount * 0.51;\r\n                                    result.setText(df.format(total) + &quot; EUR&quot;);\r\n                                    break;\r\n\r\n                                case 2:\r\n                                    total = amount * 1;\r\n                                    result.setText(df.format(total) + &quot; BGN&quot;);\r\n                                    break;\r\n\r\n                                case 3:\r\n                                    total = amount * 0.000032;\r\n                                    result.setText(df.format(total) + &quot; BTC&quot;);\r\n                                    break;\r\n\r\n                                case 4:\r\n                                    total = amount * 1.63;\r\n                                    result.setText(df.format(total) + &quot; ADA&quot;);\r\n                                    break;\r\n\r\n                            }\r\n                        }\r\n\r\n                            if(textFrom.getSelectedItem() == &quot;BTC&quot;)  // if BTC is selected in the first combo box, then switch for each currency\r\n                            {\r\n\r\n                                switch (index) {\r\n\r\n                                    case 0:\r\n                                        total = amount * 16446.8;\r\n                                        result.setText(df.format(total) + &quot; USD&quot;);\r\n                                        break;\r\n\r\n                                    case 1:\r\n                                        total = amount * 15851.4;\r\n                                        result.setText(df.format(total) + &quot; EUR&quot;);\r\n                                        break;\r\n\r\n                                    case 2:\r\n                                        total = amount * 31043.1;\r\n                                        result.setText(df.format(total) + &quot; BGN&quot;);\r\n                                        break;\r\n\r\n                                    case 3:\r\n                                        total = amount * 1;\r\n                                        result.setText(df.format(total) + &quot; BTC&quot;);\r\n                                        break;\r\n\r\n                                    case 4:\r\n                                        total = amount * 50467.4;\r\n                                        result.setText(df.format(total) + &quot; ADA&quot;);\r\n                                        break;\r\n\r\n                                }\r\n                            }\r\n\r\n                                if(textFrom.getSelectedItem() == &quot;ADA&quot;)  // if ADA is selected in the first combo box, then switch for each currency\r\n                                {\r\n\r\n                                    switch (index) {\r\n\r\n                                        case 0:\r\n                                            total = amount * 0.33;\r\n                                            result.setText(df.format(total) + &quot; USD&quot;);\r\n                                            break;\r\n\r\n                                        case 1:\r\n                                            total = amount * 0.32;\r\n                                            result.setText(df.format(total) + &quot; EUR&quot;);\r\n                                            break;\r\n\r\n                                        case 2:\r\n                                            total = amount * 0.62;\r\n                                            result.setText(df.format(total) + &quot; BGN&quot;);\r\n                                            break;\r\n\r\n                                        case 3:\r\n                                            total = amount * 0.000020;\r\n                                            result.setText(df.format(total) + &quot; BTC&quot;);\r\n                                            break;\r\n\r\n                                        case 4:\r\n                                            total = amount * 1;\r\n                                            result.setText(df.format(total) + &quot; ADA&quot;);\r\n                                            break;\r\n\r\n                                    }\r\n                                }\r\n                }\r\n\r\n\r\n        });\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        JFrame frame = new JFrame(&quot;Currency Converter&quot;);\r\n        frame.setContentPane(new currencyGUI().JPanelMain);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true); // make pane visible\r\n\r\n\r\n\r\n        URL url = new URL(&quot;https://api.exchangeratesapi.io/latest?symbols=USD,GBP&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(\r\n                con.getInputStream()));\r\n\r\n        String jsonText = readAll(in);\r\n        JSONObject yourData = new JSONObject(jsonText);\r\n            }\r\n    private static String readAll(Reader rd) throws IOException {\r\n        StringBuilder sb = new StringBuilder();\r\n        int cp;\r\n        while ((cp = rd.read()) != -1) {\r\n            sb.append((char) cp);\r\n        }\r\n        return sb.toString();\r\n\r\n    }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n```\r\n`\r\n\r\n\r\n\r\n\r\nI have tried importing\r\n\r\nimport org.json.JSONObject;\r\n\r\nand\r\n\r\nimport java.net.URLConnection;\r\n```\r\nbut this doesn&#39;t fix the error.\r\n```\r\n","title":"Currency Converter App in GUI JAVA using live exchange rates","body":"<p>I am trying to get live exchange rates for my java exchange currency program. I saw that this could be done using API from the internet and import the website URL in the java program to get live exchange rates. However I am having trouble working with JSON and getting a few more errors that prevent me from running the program. I am not sure what to import in order to fix the errors. I am quite new and I am not sure if this should be difficult or am I doing something wrong here. Thank you in advance.</p>\n<p>`</p>\n<pre><code>package currencyConverterGUI;\n\nimport javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.text.DecimalFormat; // import for decimal place limitation\nimport java.net.URL;\nimport org.json.JSONObject;\nimport java.io.*;\nimport java.net.URLConnection;\n\npublic class currencyGUI extends JFrame //inherit from JFrame\n{\n\n\n\n    private static final DecimalFormat df = new DecimalFormat(&quot;0.00000&quot;);  // use DecimalFormat to round double numbers to 5 decimal places\n\n\n    private JButton btnConvert; // generated by GUI designer\n    private JPanel JPanelMain; // generated by GUI designer\n    private JTextField textAmount; // generated by GUI designer\n    private JComboBox textFrom; // generated by GUI designer\n    private JComboBox textTo; // generated by GUI designer\n    private JLabel result; // generated by GUI designer\n\n\n    public currencyGUI() {\n\n\n        btnConvert.addActionListener(new ActionListener() { // button reacts to user click; generated by GUI designer\n\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n\n\n                double total;\n                double amount = Double.parseDouble(textAmount.getText()); // check if input amount is a number and read the input if it is a number\n                int index = textTo.getSelectedIndex(); //get index of selected currency from the first combo box\n\n                if(textFrom.getSelectedItem() == &quot;USD&quot;)  // if USD is selected in the first combo box, then switch for each currency\n                {\n\n                    switch (index) {\n\n                        case 0:\n                            total = amount * 1;\n                            result.setText(df.format(total) + &quot; USD&quot;);\n                            break;\n\n                        case 1:\n                            total = amount * 0.86;\n                            result.setText(df.format(total) + &quot; EUR&quot;);\n                            break;\n\n                        case 2:\n                            total = amount * 1.88;\n                            result.setText(df.format(total) + &quot; BGN&quot;);\n                            break;\n\n                        case 3:\n                            total = amount * 0.000060;\n                            result.setText(df.format(total) + &quot; BTC&quot;);\n                            break;\n\n                        case 4:\n                            total = amount * 2.98;\n                            result.setText(df.format(total) + &quot; ADA&quot;);\n                            break;\n\n                    }\n                }\n\n                    if(textFrom.getSelectedItem() == &quot;EUR&quot;)  // if EUR is selected in the first combo box, then switch for each currency\n                    {\n\n                        switch (index) {\n\n                            case 0:\n                                total = amount * 1.04;\n                                result.setText(df.format(total) + &quot; USD&quot;);\n                                break;\n\n                            case 1:\n                                total = amount * 0.1;\n                                result.setText(df.format(total) + &quot; EUR&quot;);\n                                break;\n\n                            case 2:\n                                total = amount * 1.95;\n                                result.setText(df.format(total) + &quot; BGN&quot;);\n                                break;\n\n                            case 3:\n                                total = amount * 0.000063;\n                                result.setText(df.format(total) + &quot; BTC&quot;);\n                                break;\n\n                            case 4:\n                                total = amount * 3.18;\n                                result.setText(df.format(total) + &quot; ADA&quot;);\n                                break;\n\n                        }\n                    }\n\n                        if(textFrom.getSelectedItem() == &quot;BGN&quot;)  // if BGN is selected in the first combo box, then switch for each currency\n                        {\n\n                            switch (index) {\n\n                                case 0:\n                                    total = amount * 0.53;\n                                    result.setText(df.format(total) + &quot; USD&quot;);\n                                    break;\n\n                                case 1:\n                                    total = amount * 0.51;\n                                    result.setText(df.format(total) + &quot; EUR&quot;);\n                                    break;\n\n                                case 2:\n                                    total = amount * 1;\n                                    result.setText(df.format(total) + &quot; BGN&quot;);\n                                    break;\n\n                                case 3:\n                                    total = amount * 0.000032;\n                                    result.setText(df.format(total) + &quot; BTC&quot;);\n                                    break;\n\n                                case 4:\n                                    total = amount * 1.63;\n                                    result.setText(df.format(total) + &quot; ADA&quot;);\n                                    break;\n\n                            }\n                        }\n\n                            if(textFrom.getSelectedItem() == &quot;BTC&quot;)  // if BTC is selected in the first combo box, then switch for each currency\n                            {\n\n                                switch (index) {\n\n                                    case 0:\n                                        total = amount * 16446.8;\n                                        result.setText(df.format(total) + &quot; USD&quot;);\n                                        break;\n\n                                    case 1:\n                                        total = amount * 15851.4;\n                                        result.setText(df.format(total) + &quot; EUR&quot;);\n                                        break;\n\n                                    case 2:\n                                        total = amount * 31043.1;\n                                        result.setText(df.format(total) + &quot; BGN&quot;);\n                                        break;\n\n                                    case 3:\n                                        total = amount * 1;\n                                        result.setText(df.format(total) + &quot; BTC&quot;);\n                                        break;\n\n                                    case 4:\n                                        total = amount * 50467.4;\n                                        result.setText(df.format(total) + &quot; ADA&quot;);\n                                        break;\n\n                                }\n                            }\n\n                                if(textFrom.getSelectedItem() == &quot;ADA&quot;)  // if ADA is selected in the first combo box, then switch for each currency\n                                {\n\n                                    switch (index) {\n\n                                        case 0:\n                                            total = amount * 0.33;\n                                            result.setText(df.format(total) + &quot; USD&quot;);\n                                            break;\n\n                                        case 1:\n                                            total = amount * 0.32;\n                                            result.setText(df.format(total) + &quot; EUR&quot;);\n                                            break;\n\n                                        case 2:\n                                            total = amount * 0.62;\n                                            result.setText(df.format(total) + &quot; BGN&quot;);\n                                            break;\n\n                                        case 3:\n                                            total = amount * 0.000020;\n                                            result.setText(df.format(total) + &quot; BTC&quot;);\n                                            break;\n\n                                        case 4:\n                                            total = amount * 1;\n                                            result.setText(df.format(total) + &quot; ADA&quot;);\n                                            break;\n\n                                    }\n                                }\n                }\n\n\n        });\n    }\n\n\n    public static void main(String[] args) throws Exception {\n        JFrame frame = new JFrame(&quot;Currency Converter&quot;);\n        frame.setContentPane(new currencyGUI().JPanelMain);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setVisible(true); // make pane visible\n\n\n\n        URL url = new URL(&quot;https://api.exchangeratesapi.io/latest?symbols=USD,GBP&quot;);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n                con.getInputStream()));\n\n        String jsonText = readAll(in);\n        JSONObject yourData = new JSONObject(jsonText);\n            }\n    private static String readAll(Reader rd) throws IOException {\n        StringBuilder sb = new StringBuilder();\n        int cp;\n        while ((cp = rd.read()) != -1) {\n            sb.append((char) cp);\n        }\n        return sb.toString();\n\n    }\n\n\n\n        }\n\n\n\n\n\n</code></pre>\n<p>`</p>\n<p>I have tried importing</p>\n<p>import org.json.JSONObject;</p>\n<p>and</p>\n<p>import java.net.URLConnection;</p>\n<pre><code>but this doesn't fix the error.\n</code></pre>\n"},{"tags":["java","spring","junit","mockito","junit-runner"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668624348,"creation_date":1668624348,"answer_id":74465668,"question_id":74465455,"body_markdown":"Mock _behavior_, not _values_. An `@ConfigurationProperties` class is just a container for data; it doesn&#39;t (generally speaking) _do_ anything. Create a real one with `new` using your test values (e.g., `setCollections(testDatabaseCollectionConfig)`).","title":"Java - Spring and Mockito - Mocking a constructor parameter that is not a field in class?","body":"<p>Mock <em>behavior</em>, not <em>values</em>. An <code>@ConfigurationProperties</code> class is just a container for data; it doesn't (generally speaking) <em>do</em> anything. Create a real one with <code>new</code> using your test values (e.g., <code>setCollections(testDatabaseCollectionConfig)</code>).</p>\n"},{"tags":[],"owner":{"account_id":2896500,"reputation":39,"user_id":6337866,"display_name":"PR16"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668624655,"creation_date":1668624655,"answer_id":74465721,"question_id":74465455,"body_markdown":"You can try to create a mock for that method and create an object instance instead of using the `InjectMocks` annotation. \r\n\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\nclass OrderServiceTest {\r\n\r\n    OrderService orderService;\r\n\r\n    @Mock\r\n    DatabaseConnection dbConnection; // working as expected\r\n    @Mock\r\n    DatabaseConfig databaseConfig; // giving null pointer\r\n    @Mock\r\n    DatabaseCollectionConfig databaseCollectionConfig;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n  \r\n        (...)\r\n  \r\n        when(databaseConfig.getCollections()).thenReturn(databaseCollectionConfig);\r\n        when(databaseCollectionConfig.getCollectionName()).thenReturn(&quot;myCollection&quot;);\r\n        orderService = new OrderService(dbConnection, databaseConfig);\r\n\r\n    }\r\n```","title":"Java - Spring and Mockito - Mocking a constructor parameter that is not a field in class?","body":"<p>You can try to create a mock for that method and create an object instance instead of using the <code>InjectMocks</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\nclass OrderServiceTest {\n\n    OrderService orderService;\n\n    @Mock\n    DatabaseConnection dbConnection; // working as expected\n    @Mock\n    DatabaseConfig databaseConfig; // giving null pointer\n    @Mock\n    DatabaseCollectionConfig databaseCollectionConfig;\n\n    @BeforeEach\n    public void setup() {\n  \n        (...)\n  \n        when(databaseConfig.getCollections()).thenReturn(databaseCollectionConfig);\n        when(databaseCollectionConfig.getCollectionName()).thenReturn(&quot;myCollection&quot;);\n        orderService = new OrderService(dbConnection, databaseConfig);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668625877,"creation_date":1668625877,"answer_id":74465937,"question_id":74465455,"body_markdown":"No need to use @InjectMock annotation because you are using constructor based injection in your service class. Please rewrite your test case like this and try again.\r\n\r\n```\r\n\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\nclass OrderServiceTest {\r\n\r\n    OrderService orderService;\r\n\r\n    @Mock\r\n    DatabaseConnection dbConnection; // working as expected\r\n    @Mock\r\n    DatabaseConfig databaseConfig; // giving null pointer\r\n    @Mock\r\n    DatabaseCollectionConfig databaseCollectionConfig;\r\n\r\n    @BeforeEach\r\n    public void setup(){\r\n   when(databaseConfig.getCollections()).thenReturn(databaseCollectionConfig);\r\n\r\nwhen(databaseCollectionConfig.getCollectionName()).thenReturn(&quot;myCollection&quot;);\r\n\r\n   orderService = new OrderService(dbConnection, databaseConfig);\r\n\r\n       \r\n       \r\n\r\n    }\r\n   }\r\n\r\n```","title":"Java - Spring and Mockito - Mocking a constructor parameter that is not a field in class?","body":"<p>No need to use @InjectMock annotation because you are using constructor based injection in your service class. Please rewrite your test case like this and try again.</p>\n<pre><code>\n\n@RunWith(MockitoJUnitRunner.class)\nclass OrderServiceTest {\n\n    OrderService orderService;\n\n    @Mock\n    DatabaseConnection dbConnection; // working as expected\n    @Mock\n    DatabaseConfig databaseConfig; // giving null pointer\n    @Mock\n    DatabaseCollectionConfig databaseCollectionConfig;\n\n    @BeforeEach\n    public void setup(){\n   when(databaseConfig.getCollections()).thenReturn(databaseCollectionConfig);\n\nwhen(databaseCollectionConfig.getCollectionName()).thenReturn(&quot;myCollection&quot;);\n\n   orderService = new OrderService(dbConnection, databaseConfig);\n\n       \n       \n\n    }\n   }\n\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74465937,"answer_count":3,"score":0,"last_activity_date":1668625877,"creation_date":1668623219,"question_id":74465455,"body_markdown":"I have the following `Spring` component that I am trying to unit test:\r\n\r\n    @Component\r\n    public class OrderService {\r\n    \r\n        private final DatabaseConnection dbConnection;\r\n        private final String collectionName;\r\n    \r\n        @Autowired\r\n        public OrderService(\r\n                DatabaseConnection dbConnection,\r\n                DatabaseConfig databaseConfig) {\r\n    \r\n            this.dbConnection = dbConnection;\r\n            this.collectionName = databaseConfig.getCollectionName();\r\n        }\r\n    \t\r\n    \t//methods etc...\r\n    \t\r\n    \t}\r\n\t\r\nThe `DatabaseConfig` class is as follows:\r\n\r\n    @ConfigurationProperties(prefix = &quot;database&quot;)\r\n    @ConstructorBinding\r\n    public class DatabaseConfig {\r\n    \r\n        //methods etc...\r\n    }\r\n\r\nI am trying to inject mocks in my `OrderService` class as follows:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    class OrderServiceTest {\r\n    \r\n        @InjectMocks\r\n        OrderService orderService;\r\n    \r\n        @Mock\r\n        DatabaseConnection dbConnection; // working as expected\r\n        @Mock\r\n        DatabaseConfig databaseConfig; // giving null pointer\r\n        @Mock\r\n        DatabaseCollectionConfig databaseCollectionConfig;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            MockitoAnnotations.openMocks(this);\r\n    \r\n            when(databaseConfig.getCollections()).thenReturn(databaseCollectionConfig);\r\n            when(databaseCollectionConfig.getCollectionName()).thenReturn(&quot;myCollection&quot;);\r\n    \r\n        }\r\n\t\r\nWhen I run my test class I get:\r\n\r\n    org.mockito.exceptions.misusing.InjectMocksException: \r\n    Cannot instantiate @InjectMocks field named &#39;OrderService&#39; of type &#39;class com.my.package.OrderService&#39;.\r\n    You haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\n    However the constructor or the initialization block threw an exception : null\r\n\r\nThe issue is that in the `OrderService` constructor when I debug this line is coming as null:\r\n\r\n     this.collectionName = databaseConfig.getCollectionName();\r\n\r\n \r\n \r\nHow can I correctly mock `databaseConfig.getCollectionName()` to solve the null issue?\r\n\r\n","title":"Java - Spring and Mockito - Mocking a constructor parameter that is not a field in class?","body":"<p>I have the following <code>Spring</code> component that I am trying to unit test:</p>\n<pre><code>@Component\npublic class OrderService {\n\n    private final DatabaseConnection dbConnection;\n    private final String collectionName;\n\n    @Autowired\n    public OrderService(\n            DatabaseConnection dbConnection,\n            DatabaseConfig databaseConfig) {\n\n        this.dbConnection = dbConnection;\n        this.collectionName = databaseConfig.getCollectionName();\n    }\n    \n    //methods etc...\n    \n    }\n</code></pre>\n<p>The <code>DatabaseConfig</code> class is as follows:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;database&quot;)\n@ConstructorBinding\npublic class DatabaseConfig {\n\n    //methods etc...\n}\n</code></pre>\n<p>I am trying to inject mocks in my <code>OrderService</code> class as follows:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\nclass OrderServiceTest {\n\n    @InjectMocks\n    OrderService orderService;\n\n    @Mock\n    DatabaseConnection dbConnection; // working as expected\n    @Mock\n    DatabaseConfig databaseConfig; // giving null pointer\n    @Mock\n    DatabaseCollectionConfig databaseCollectionConfig;\n\n    @BeforeEach\n    public void setup() {\n        MockitoAnnotations.openMocks(this);\n\n        when(databaseConfig.getCollections()).thenReturn(databaseCollectionConfig);\n        when(databaseCollectionConfig.getCollectionName()).thenReturn(&quot;myCollection&quot;);\n\n    }\n</code></pre>\n<p>When I run my test class I get:</p>\n<pre><code>org.mockito.exceptions.misusing.InjectMocksException: \nCannot instantiate @InjectMocks field named 'OrderService' of type 'class com.my.package.OrderService'.\nYou haven't provided the instance at field declaration so I tried to construct the instance.\nHowever the constructor or the initialization block threw an exception : null\n</code></pre>\n<p>The issue is that in the <code>OrderService</code> constructor when I debug this line is coming as null:</p>\n<pre><code> this.collectionName = databaseConfig.getCollectionName();\n</code></pre>\n<p>How can I correctly mock <code>databaseConfig.getCollectionName()</code> to solve the null issue?</p>\n"},{"tags":["java","http","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668624498,"creation_date":1668624498,"answer_id":74465690,"question_id":74463142,"body_markdown":"You need to use `toD` because it is a dynamic endpoint. So what are you sending is this string `${header.access_token}` and not the the header Token.\r\n\r\n  \r\n\r\n    .toD(&quot;https://api.vk.com/method/users.get?access_token=${header.access_token}&amp;v=5.131&quot;);\r\n\r\nNormnal to doesn&#39;t transform the uri only toD make this. Check the [Docs][1] \r\n\r\n\r\n\r\n&gt; The to is used for sending messages to a static endpoint. In other\r\n&gt; words to sends message only to the same endpoint.\r\n&gt; \r\n&gt; The toD is used for sending message to a dynamic endpoint. The dynamic\r\n&gt; endpoint is evaluated on-demand by an Expression. By default, the\r\n&gt; Simple expression is used to compute the dynamic endpoint URI.\r\n\r\n  [1]: https://camel.apache.org/components/3.18.x/eips/toD-eip.html","title":"Apache Camel headers don&#39;t work in http query","body":"<p>You need to use <code>toD</code> because it is a dynamic endpoint. So what are you sending is this string <code>${header.access_token}</code> and not the the header Token.</p>\n<pre><code>.toD(&quot;https://api.vk.com/method/users.get?access_token=${header.access_token}&amp;v=5.131&quot;);\n</code></pre>\n<p>Normnal to doesn't transform the uri only toD make this. Check the <a href=\"https://camel.apache.org/components/3.18.x/eips/toD-eip.html\" rel=\"nofollow noreferrer\">Docs</a></p>\n<blockquote>\n<p>The to is used for sending messages to a static endpoint. In other\nwords to sends message only to the same endpoint.</p>\n<p>The toD is used for sending message to a dynamic endpoint. The dynamic\nendpoint is evaluated on-demand by an Expression. By default, the\nSimple expression is used to compute the dynamic endpoint URI.</p>\n</blockquote>\n"}],"owner":{"account_id":26535258,"reputation":134,"user_id":20166882,"display_name":"Mihinator3000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74465690,"answer_count":1,"score":0,"last_activity_date":1668624498,"creation_date":1668612586,"question_id":74463142,"body_markdown":"I am trying to call an external API with an access token parameter in query, by taking it from header, however for some reason it doesn&#39;t work, API returns error `Access token not configured`.\r\n\r\nBut when I&#39;m calling log on the same string, access token from header appears to be in place.\r\n\r\nCode from configure method in my Route:\r\n\r\n```java\r\nfrom(&quot;direct:user_get&quot;)\r\n        .log(&quot;https://api.vk.com/method/users.get?access_token=${header.access_token}&amp;v=5.131&quot;)\r\n        .to(&quot;https://api.vk.com/method/users.get?access_token=${header.access_token}&amp;v=5.131&quot;);\r\n```\r\n\r\nCall of `FluentProducerTemplate` (Actual token replaced with &quot;token_example&quot;):\r\n```java\r\nString userGetResponse = producerTemplate\r\n        .to(&quot;direct:user_get&quot;)\r\n        .withHeader(&quot;access_token&quot;, &quot;token_example&quot;)\r\n        .request(String.class);\r\n```\r\n\r\nWhen I pass token right into the `.to()` call itself, everything works fine, API returns valid response.","title":"Apache Camel headers don&#39;t work in http query","body":"<p>I am trying to call an external API with an access token parameter in query, by taking it from header, however for some reason it doesn't work, API returns error <code>Access token not configured</code>.</p>\n<p>But when I'm calling log on the same string, access token from header appears to be in place.</p>\n<p>Code from configure method in my Route:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:user_get&quot;)\n        .log(&quot;https://api.vk.com/method/users.get?access_token=${header.access_token}&amp;v=5.131&quot;)\n        .to(&quot;https://api.vk.com/method/users.get?access_token=${header.access_token}&amp;v=5.131&quot;);\n</code></pre>\n<p>Call of <code>FluentProducerTemplate</code> (Actual token replaced with &quot;token_example&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String userGetResponse = producerTemplate\n        .to(&quot;direct:user_get&quot;)\n        .withHeader(&quot;access_token&quot;, &quot;token_example&quot;)\n        .request(String.class);\n</code></pre>\n<p>When I pass token right into the <code>.to()</code> call itself, everything works fine, API returns valid response.</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":13240240,"reputation":11,"user_id":9561052,"display_name":"Bandrzew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668624038,"creation_date":1668624038,"answer_id":74465611,"question_id":74465293,"body_markdown":"&gt; But in other perspective I know that we should pass models through layers, not parameteres.\r\n\r\nThat would be highly inconvenient in some of the cases. The most trivial one being requesting information about some object while knowing only it&#39;s ID or some other property. You ask your service about object detail while giving this information.\r\n\r\nThe same goes for deleting. You send ID of object you wish to delete into the service and inside you are handling the deletion. So all is OK with the single query approach.","title":"Best practice spring mvc &amp; hibernate approach for delete a record, pass model or parameter is better?","body":"<blockquote>\n<p>But in other perspective I know that we should pass models through layers, not parameteres.</p>\n</blockquote>\n<p>That would be highly inconvenient in some of the cases. The most trivial one being requesting information about some object while knowing only it's ID or some other property. You ask your service about object detail while giving this information.</p>\n<p>The same goes for deleting. You send ID of object you wish to delete into the service and inside you are handling the deletion. So all is OK with the single query approach.</p>\n"}],"owner":{"account_id":4704408,"reputation":21,"user_id":3807023,"display_name":"HamidYari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668624038,"creation_date":1668622252,"question_id":74465293,"body_markdown":"I&#39;m new to Java and also spring and hibernate.\r\nThis is my current order of layers: views -&gt; controllers -&gt; services -&gt; DAO -&gt; DB.\r\n\r\nI want to delete a record. I recieved id in my controller from view. Now I want to know that which one is best practice: send id to service and delegate to DAO layer and do the delete by query, or retrieve the model in controller and pass the model to service layer and DAO and delete that model?\r\n\r\n \r\n\r\nI know that the second approach will execute 2 queries. But in other perspective I know that we should pass models through layers, not parameteres.","title":"Best practice spring mvc &amp; hibernate approach for delete a record, pass model or parameter is better?","body":"<p>I'm new to Java and also spring and hibernate.\nThis is my current order of layers: views -&gt; controllers -&gt; services -&gt; DAO -&gt; DB.</p>\n<p>I want to delete a record. I recieved id in my controller from view. Now I want to know that which one is best practice: send id to service and delegate to DAO layer and do the delete by query, or retrieve the model in controller and pass the model to service layer and DAO and delete that model?</p>\n<p>I know that the second approach will execute 2 queries. But in other perspective I know that we should pass models through layers, not parameteres.</p>\n"},{"tags":["java","jenkins","jenkins-plugins","heap-memory"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668593313,"post_id":74458313,"comment_id":131441153,"body_markdown":"Looks ancient, and doubtly ever fixed: https://issues.jenkins.io/browse/JENKINS-8404, https://www.google.com/search?q=%22Recording+test+results%22+java+heap+space, https://stackoverflow.com/q/13381977/592355 (most promising workaround: `MAVEN_OPTS`!?) ;(;(","body":"Looks ancient, and doubtly ever fixed: <a href=\"https://issues.jenkins.io/browse/JENKINS-8404\" rel=\"nofollow noreferrer\">issues.jenkins.io/browse/JENKINS-8404</a>, <a href=\"https://www.google.com/search?q=%22Recording+test+results%22+java+heap+space\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>, <a href=\"https://stackoverflow.com/q/13381977/592355\">stackoverflow.com/q/13381977/592355</a> (most promising workaround: <code>MAVEN_OPTS</code>!?) ;(;("},{"owner":{"account_id":4111395,"reputation":455,"user_id":3374090,"display_name":"ncarrier"},"score":1,"creation_date":1668606456,"post_id":74458313,"comment_id":131446020,"body_markdown":"Yes I had seen this one. How much ancient it is, isn&#39;t really reassuring...\nPlus if the number of tests was the cause, then it a big issue, we don&#39;t have more than 500 tests, nothing comparable to the 40000 mentioned...\nAnd we&#39;re not using maven :( (I don&#39;t even know what it is ^^&#39;)","body":"Yes I had seen this one. How much ancient it is, isn&#39;t really reassuring... Plus if the number of tests was the cause, then it a big issue, we don&#39;t have more than 500 tests, nothing comparable to the 40000 mentioned... And we&#39;re not using maven :( (I don&#39;t even know what it is ^^&#39;)"}],"answers":[{"comments":[{"owner":{"account_id":4111395,"reputation":455,"user_id":3374090,"display_name":"ncarrier"},"score":1,"creation_date":1668756520,"post_id":74465605,"comment_id":131488158,"body_markdown":"Thank you for your suggestion!\nUnfortunately, this is not a java project. It is a project which builds firmwares for products, on which, after the build and deployment, we do functional (or integration) testing with pytest.\nThose tests generate junit result files for jenkins integration.\nSo I don&#39;t feel like the solution you proposed can apply to my situation, but I may have missed something.\n\nAlso, the tests are grouped per matrix axis and the failures are in the per axis report stages. so in the end, there aren&#39;t so many tests per axis, probably not more than 150.","body":"Thank you for your suggestion! Unfortunately, this is not a java project. It is a project which builds firmwares for products, on which, after the build and deployment, we do functional (or integration) testing with pytest. Those tests generate junit result files for jenkins integration. So I don&#39;t feel like the solution you proposed can apply to my situation, but I may have missed something.  Also, the tests are grouped per matrix axis and the failures are in the per axis report stages. so in the end, there aren&#39;t so many tests per axis, probably not more than 150."}],"tags":[],"owner":{"account_id":5222518,"reputation":3046,"user_id":4175515,"accept_rate":100,"display_name":"Joao  Vitorino"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668623999,"creation_date":1668623999,"answer_id":74465605,"question_id":74458313,"body_markdown":"You can try splitting the tests into chunks/batch/groups but this solution requires changes in the code.\r\n\r\nMore details\r\n\r\nhttps://semaphoreci.com/community/tutorials/how-to-split-junit-tests-in-a-continuous-integration-environment\r\n\r\nhttps://stackoverflow.com/questions/817135/grouping-junit-tests\r\n","title":"How to investigate Java Heap Space errors in jenkins","body":"<p>You can try splitting the tests into chunks/batch/groups but this solution requires changes in the code.</p>\n<p>More details</p>\n<p><a href=\"https://semaphoreci.com/community/tutorials/how-to-split-junit-tests-in-a-continuous-integration-environment\" rel=\"nofollow noreferrer\">https://semaphoreci.com/community/tutorials/how-to-split-junit-tests-in-a-continuous-integration-environment</a></p>\n<p><a href=\"https://stackoverflow.com/questions/817135/grouping-junit-tests\">Grouping JUnit tests</a></p>\n"}],"owner":{"account_id":4111395,"reputation":455,"user_id":3374090,"display_name":"ncarrier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668623999,"creation_date":1668592079,"question_id":74458313,"body_markdown":"I have a **matrix pipeline job** which performs multiple stages (something like ~200) most of which are functional tests whose results are recorded by the following code:\r\n\r\n```\r\n        stage(&#39;Report&#39;) {\r\n            script {\r\n               def summary = junit allowEmptyResults: true, testResults: &quot;**/artifacts/${product}/test-reports/*.xml&quot;\r\n               def buildURL = &quot;${env.BUILD_URL}&quot;\r\n               def TestAnalyzer = buildURL.replace(&quot;/${env.BUILD_NUMBER}&quot;, &quot;/test_results_analyzer&quot;)\r\n               def TestsURL = buildURL.replace(&quot;job/${env.JOB_NAME}/${env.BUILD_NUMBER}&quot;, &quot;blue/organizations/jenkins/${env.JOB_NAME}/detail/${env.JOB_NAME}/${env.BUILD_NUMBER}/tests&quot;)\r\n               slackSend (\r\n                  color: summary.failCount == 0 ? &#39;good&#39; : &#39;warning&#39;,\r\n                  message: &quot;*&lt;${TestsURL}|Test Summary&gt;* for *${env.JOB_NAME}* on *${env.HOSTNAME} - ${product}* &lt;${env.BUILD_URL}| #${env.BUILD_NUMBER}&gt; - &lt;${TestAnalyzer}|${summary.totalCount} Tests&gt;, Failed: ${summary.failCount}, Skipped: ${summary.skipCount}, Passed: ${summary.passCount}&quot;\r\n               )\r\n            }\r\n        }\r\n```\r\n\r\nThe problem is that this Report stage regularly fails with the following error:\r\n```\r\n&gt; Archive JUnit-formatted test results                        9m 25s\r\n[2022-11-16T02:51:49.569Z] Recording test results\r\nJava heap space\r\n```\r\n\r\nI have increased the heap space of the jenkins server to 8GB by modifying the systemd service configuration this way:\r\n```\r\nsoftware-dev@magnet:~$ sudo cat /etc/systemd/system/jenkins.service.d/override.conf\r\n[Service]\r\nEnvironment=&quot;JAVA_OPTS=-Djava.awt.headless=true -Xmx8g&quot;\r\n```\r\n\r\nwhich was taken into account, because I verified with the following command:\r\n\r\n```\r\nsoftware-dev@magnet:~$ tr &#39;\\0&#39; &#39;\\n&#39; &lt; /proc/$(pidof java)/cmdline\r\n/usr/bin/java\r\n-Djava.awt.headless=true\r\n-Xmx10g\r\n-jar\r\n/usr/share/java/jenkins.war\r\n--webroot=/var/cache/jenkins/war\r\n--httpPort=8080\r\n```\r\n\r\nI just increased the Heap size to 10GB and I&#39;ll wait for the result of this night&#39;s build, but I have the feeling that this amount of Heap space really looks excessive, so I&#39;m suspecting that a plugin, maybe the JUnit one, may be buggy and could consume too much memory.\r\n\r\nIs anyone aware of such a thing? Could there be workarounds?\r\n\r\nMore importantly, which methods could I use to try to track if one plugin is consuming too much?\r\nI have notions of Java since my CS degree, but I&#39;m not familiar with the jenkins development ecosystem.\r\n\r\nThank you by advance.","title":"How to investigate Java Heap Space errors in jenkins","body":"<p>I have a <strong>matrix pipeline job</strong> which performs multiple stages (something like ~200) most of which are functional tests whose results are recorded by the following code:</p>\n<pre><code>        stage('Report') {\n            script {\n               def summary = junit allowEmptyResults: true, testResults: &quot;**/artifacts/${product}/test-reports/*.xml&quot;\n               def buildURL = &quot;${env.BUILD_URL}&quot;\n               def TestAnalyzer = buildURL.replace(&quot;/${env.BUILD_NUMBER}&quot;, &quot;/test_results_analyzer&quot;)\n               def TestsURL = buildURL.replace(&quot;job/${env.JOB_NAME}/${env.BUILD_NUMBER}&quot;, &quot;blue/organizations/jenkins/${env.JOB_NAME}/detail/${env.JOB_NAME}/${env.BUILD_NUMBER}/tests&quot;)\n               slackSend (\n                  color: summary.failCount == 0 ? 'good' : 'warning',\n                  message: &quot;*&lt;${TestsURL}|Test Summary&gt;* for *${env.JOB_NAME}* on *${env.HOSTNAME} - ${product}* &lt;${env.BUILD_URL}| #${env.BUILD_NUMBER}&gt; - &lt;${TestAnalyzer}|${summary.totalCount} Tests&gt;, Failed: ${summary.failCount}, Skipped: ${summary.skipCount}, Passed: ${summary.passCount}&quot;\n               )\n            }\n        }\n</code></pre>\n<p>The problem is that this Report stage regularly fails with the following error:</p>\n<pre><code>&gt; Archive JUnit-formatted test results                        9m 25s\n[2022-11-16T02:51:49.569Z] Recording test results\nJava heap space\n</code></pre>\n<p>I have increased the heap space of the jenkins server to 8GB by modifying the systemd service configuration this way:</p>\n<pre><code>software-dev@magnet:~$ sudo cat /etc/systemd/system/jenkins.service.d/override.conf\n[Service]\nEnvironment=&quot;JAVA_OPTS=-Djava.awt.headless=true -Xmx8g&quot;\n</code></pre>\n<p>which was taken into account, because I verified with the following command:</p>\n<pre><code>software-dev@magnet:~$ tr '\\0' '\\n' &lt; /proc/$(pidof java)/cmdline\n/usr/bin/java\n-Djava.awt.headless=true\n-Xmx10g\n-jar\n/usr/share/java/jenkins.war\n--webroot=/var/cache/jenkins/war\n--httpPort=8080\n</code></pre>\n<p>I just increased the Heap size to 10GB and I'll wait for the result of this night's build, but I have the feeling that this amount of Heap space really looks excessive, so I'm suspecting that a plugin, maybe the JUnit one, may be buggy and could consume too much memory.</p>\n<p>Is anyone aware of such a thing? Could there be workarounds?</p>\n<p>More importantly, which methods could I use to try to track if one plugin is consuming too much?\nI have notions of Java since my CS degree, but I'm not familiar with the jenkins development ecosystem.</p>\n<p>Thank you by advance.</p>\n"},{"tags":["java","algorithm","runtime-error"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1668167412,"post_id":74402042,"comment_id":131345642,"body_markdown":"I would strongly suggest you set up a local development environment, which will provide a *lot* more information than just &quot;Runtime Error&quot;. (I&#39;d also recommend using more conventional formatting and naming, for the sake of readability.)","body":"I would strongly suggest you set up a local development environment, which will provide a <i>lot</i> more information than just &quot;Runtime Error&quot;. (I&#39;d also recommend using more conventional formatting and naming, for the sake of readability.)"},{"owner":{"account_id":25574860,"reputation":142,"user_id":19354546,"display_name":"dotheM"},"score":0,"creation_date":1668167538,"post_id":74402042,"comment_id":131345678,"body_markdown":"can you post the link to the challenge?","body":"can you post the link to the challenge?"},{"owner":{"account_id":25651110,"reputation":13,"user_id":19418326,"display_name":"Darklys Lord"},"score":1,"creation_date":1668167609,"post_id":74402042,"comment_id":131345709,"body_markdown":"Ahh yes sorry i thought i did that. https://open.kattis.com/problems/heliocentric","body":"Ahh yes sorry i thought i did that. <a href=\"https://open.kattis.com/problems/heliocentric\" rel=\"nofollow noreferrer\">open.kattis.com/problems/heliocentric</a>"},{"owner":{"account_id":25651110,"reputation":13,"user_id":19418326,"display_name":"Darklys Lord"},"score":0,"creation_date":1668167815,"post_id":74402042,"comment_id":131345781,"body_markdown":"The code was orinaly written at my PC in VS Code. I just copy pasted it into the webiste.","body":"The code was orinaly written at my PC in VS Code. I just copy pasted it into the webiste."},{"owner":{"account_id":25574860,"reputation":142,"user_id":19354546,"display_name":"dotheM"},"score":0,"creation_date":1668167864,"post_id":74402042,"comment_id":131345799,"body_markdown":"have you tried run it in VSCode? what is the runtime? i see the maximum runtime for the task is 1 second. and does it say at which Case you get runtime error?","body":"have you tried run it in VSCode? what is the runtime? i see the maximum runtime for the task is 1 second. and does it say at which Case you get runtime error?"},{"owner":{"account_id":25651110,"reputation":13,"user_id":19418326,"display_name":"Darklys Lord"},"score":0,"creation_date":1668168374,"post_id":74402042,"comment_id":131345973,"body_markdown":"Hi i tried in VSCode there i get no errors at all. And the Website does not specify which runtime it is so i am totaly clueless.","body":"Hi i tried in VSCode there i get no errors at all. And the Website does not specify which runtime it is so i am totaly clueless."},{"owner":{"account_id":25574860,"reputation":142,"user_id":19354546,"display_name":"dotheM"},"score":0,"creation_date":1668168613,"post_id":74402042,"comment_id":131346052,"body_markdown":"Do you think VSCode spent more than 1 second solving the challenge?","body":"Do you think VSCode spent more than 1 second solving the challenge?"},{"owner":{"account_id":25651110,"reputation":13,"user_id":19418326,"display_name":"Darklys Lord"},"score":0,"creation_date":1668168919,"post_id":74402042,"comment_id":131346143,"body_markdown":"i dont think so,","body":"i dont think so,"}],"answers":[{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668621978,"creation_date":1668621978,"answer_id":74465249,"question_id":74402042,"body_markdown":"Your logic is OK, but your I/O isn&#39;t, which is often the problem with Kattis submissions.\r\n\r\nThe description says &quot;at most 10&quot; but the first test case only has 5 lines of input, so your code will probably throw a `java.util.InputMismatchException`.\r\n\r\nYou can use the following pattern to exit cleanly:\r\n\r\n```java\r\nvar scanner = new java.util.Scanner(System.in);\r\n\r\nwhile (scanner.hasNextInt()) {\r\n    // read the ints\r\n}\r\n\r\nscanner.close();\r\n```\r\n\r\n...or slap a `try`/`catch` around your code. That&#39;s ugly, but works as a quick way to test a hypothesis.\r\n\r\nAs an aside, variables with names like `collin` are confusing. This variable isn&#39;t necessary; just `break` as soon as you&#39;re done with the loop instead of adding more state to have to manage.\r\n\r\nThere&#39;s no need to forward-declare variables. Declare them where you use them, as tightly scoped as possible. This reduces the mental burden it takes to understand the code.\r\n\r\nCleaner:\r\n\r\n```java\r\npublic class heliocentric {\r\n    public static void main(String[] args) {\r\n        var scanner = new java.util.Scanner(System.in);\r\n\r\n        for (int i = 1; scanner.hasNextInt(); i++) {\r\n            int days = 0;\r\n            int e = scanner.nextInt();\r\n            int m = scanner.nextInt();\r\n\r\n            while (e != 0 || m != 0) {\r\n                e = (e + 1) % 365;\r\n                m = (m + 1) % 687;\r\n                days++;\r\n            }\r\n\r\n            System.out.println(&quot;Case &quot; + i + &quot;: &quot; + days);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nThere&#39;s probably a better mathematical solution to this problem...","title":"Kattis keeps giving me a Runtime Error on heliocentric","body":"<p>Your logic is OK, but your I/O isn't, which is often the problem with Kattis submissions.</p>\n<p>The description says &quot;at most 10&quot; but the first test case only has 5 lines of input, so your code will probably throw a <code>java.util.InputMismatchException</code>.</p>\n<p>You can use the following pattern to exit cleanly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var scanner = new java.util.Scanner(System.in);\n\nwhile (scanner.hasNextInt()) {\n    // read the ints\n}\n\nscanner.close();\n</code></pre>\n<p>...or slap a <code>try</code>/<code>catch</code> around your code. That's ugly, but works as a quick way to test a hypothesis.</p>\n<p>As an aside, variables with names like <code>collin</code> are confusing. This variable isn't necessary; just <code>break</code> as soon as you're done with the loop instead of adding more state to have to manage.</p>\n<p>There's no need to forward-declare variables. Declare them where you use them, as tightly scoped as possible. This reduces the mental burden it takes to understand the code.</p>\n<p>Cleaner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class heliocentric {\n    public static void main(String[] args) {\n        var scanner = new java.util.Scanner(System.in);\n\n        for (int i = 1; scanner.hasNextInt(); i++) {\n            int days = 0;\n            int e = scanner.nextInt();\n            int m = scanner.nextInt();\n\n            while (e != 0 || m != 0) {\n                e = (e + 1) % 365;\n                m = (m + 1) % 687;\n                days++;\n            }\n\n            System.out.println(&quot;Case &quot; + i + &quot;: &quot; + days);\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>There's probably a better mathematical solution to this problem...</p>\n"}],"owner":{"account_id":25651110,"reputation":13,"user_id":19418326,"display_name":"Darklys Lord"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74465249,"answer_count":1,"score":1,"last_activity_date":1668623900,"creation_date":1668167249,"question_id":74402042,"body_markdown":"Kattis gives me a Runtime Error for [heliocentric](https://open.kattis.com/problems/heliocentric) upon submission. I changed parts of the code and asked my friends and we all have no idea what is wrong. Does anyone have an idea as to what I am missing?\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class heliocentric {\r\n\r\n      public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int inE;\r\n        int inM;\r\n        boolean collin;\r\n        int days;\r\n\r\n        for (int i = 1; i &lt; 10; i++) {\r\n          days = 0;\r\n          collin = false;\r\n          inE = scan.nextInt();\r\n          inM = scan.nextInt();\r\n          if (inE &lt; 0 || inM &lt; 0) {\r\n            collin = true;\r\n          }\r\n\r\n          while (collin != true) {\r\n            if (inE == 0 &amp;&amp; inM == 0) {\r\n              break;\r\n            }\r\n            inE++;\r\n            if (inE == 365) {\r\n              inE = 0;\r\n            }\r\n            inM++;\r\n            if (inM == 687) {\r\n              inM = 0;\r\n            }\r\n            days++;\r\n            if (inE == 0 &amp;&amp; inM == 0) {\r\n              collin = true;\r\n            }\r\n          }\r\n          System.out.println(&quot;Case &quot; + i + &quot;: &quot; + days);\r\n        }\r\n        scan.close();\r\n      }\r\n    }\r\n\r\n\r\nInput \r\n\r\n```none\r\n0 0\r\n364 686\r\n360 682\r\n0 1\r\n1 0\r\n```\r\n\r\nOutput\r\n```none\r\nCase 1: 0\r\nCase 2: 1\r\nCase 3: 5\r\nCase 4: 239075\r\nCase 5: 11679\r\n```\r\n","title":"Kattis keeps giving me a Runtime Error on heliocentric","body":"<p>Kattis gives me a Runtime Error for <a href=\"https://open.kattis.com/problems/heliocentric\" rel=\"nofollow noreferrer\">heliocentric</a> upon submission. I changed parts of the code and asked my friends and we all have no idea what is wrong. Does anyone have an idea as to what I am missing?</p>\n<pre><code>import java.util.Scanner;\n\npublic class heliocentric {\n\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int inE;\n    int inM;\n    boolean collin;\n    int days;\n\n    for (int i = 1; i &lt; 10; i++) {\n      days = 0;\n      collin = false;\n      inE = scan.nextInt();\n      inM = scan.nextInt();\n      if (inE &lt; 0 || inM &lt; 0) {\n        collin = true;\n      }\n\n      while (collin != true) {\n        if (inE == 0 &amp;&amp; inM == 0) {\n          break;\n        }\n        inE++;\n        if (inE == 365) {\n          inE = 0;\n        }\n        inM++;\n        if (inM == 687) {\n          inM = 0;\n        }\n        days++;\n        if (inE == 0 &amp;&amp; inM == 0) {\n          collin = true;\n        }\n      }\n      System.out.println(&quot;Case &quot; + i + &quot;: &quot; + days);\n    }\n    scan.close();\n  }\n}\n</code></pre>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 0\n364 686\n360 682\n0 1\n1 0\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Case 1: 0\nCase 2: 1\nCase 3: 5\nCase 4: 239075\nCase 5: 11679\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1646070359,"post_id":71298155,"comment_id":126028797,"body_markdown":"Start by creating a Java Project in Eclipse, using the wizard, and put your source files into the Source Folder it makes for you. Then you can start addressing the other problems.","body":"Start by creating a Java Project in Eclipse, using the wizard, and put your source files into the Source Folder it makes for you. Then you can start addressing the other problems."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1646072943,"post_id":71298155,"comment_id":126029624,"body_markdown":"`return System.out.println(...)` cannot compile, because `System.out.println(...)` returns `void`, and `void` cannot be returned.","body":"<code>return System.out.println(...)</code> cannot compile, because <code>System.out.println(...)</code> returns <code>void</code>, and <code>void</code> cannot be returned."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1646075874,"post_id":71298155,"comment_id":126030489,"body_markdown":"Using &quot;==&quot; to compare two Strings is also an anti-pattern, testing if they&#39;re the same object rather than whether they contain the same value. Use `.equals()` instead.","body":"Using &quot;==&quot; to compare two Strings is also an anti-pattern, testing if they&#39;re the same object rather than whether they contain the same value. Use <code>.equals()</code> instead."}],"owner":{"account_id":24407742,"reputation":1,"user_id":18335677,"display_name":"Amyy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668623471,"creation_date":1646065925,"question_id":71298155,"body_markdown":"I just started to learn Java using Eclipse. My current homework asks me to write codes where users can choose two games: game 1 is converting seconds value to the &quot;hour:minute:second&quot; format; game 2 is to convert input into the sum of individual digits. \r\n\r\nMy coding is below, but I can&#39;t run it, as it contains lots of problem, such as &#39;selection does not contain main type&#39;, &#39;cannot convert from int to boolean&#39;, among many others. I tried to correct them on Eclipse and also searched the solutions on Stack Overflow, but cannot resolve it.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class SimpleGame {\r\n    \r\n    \t/**\r\n    \t * Write a method to convert the given seconds to hours:minutes:seconds.\r\n    \t * @param seconds to convert\r\n    \t * @return string for the converted seconds in the format: 23:59:59\r\n    \t * \r\n    \t * Example(s): \r\n    \t * - If input seconds is 1432, print and return output in the format: 0:23:52\r\n    \t * - If input seconds is 0, print and return output in the format: 0:0:0\r\n    \t * - If input seconds is not valid (negative), print and return: -1:-1:-1.  \r\n    \t *   So if input seconds is -2, print and return: -1:-1:-1 \r\n    \t *   If input seconds is -3214, likewise print and return: -1:-1:-1\r\n    \t */\r\n    \tpublic String convertTime(int seconds){\r\n    \t\t// TODO: Your code goes here\r\n    \t\tif (seconds == 0) {\r\n    \t\t\treturn System.out.println(&quot;0:0:0&quot;);\r\n    \t\tif (seconds &lt; 0) {\r\n    \t\t\treturn System.out.println(&quot;-1:-1:-1&quot;);\t\r\n    \t\tif (seconds &gt; 0) {\r\n    \t\t\tint hour = seconds/3600;\r\n    \t\t\tint min = (seconds%3600))/60;\r\n    \t\t\tint sec = seconds % 60;\r\n    \t\t\tString strhour = Integer.toString(hour);\r\n    \t\t\tString strmin = Integer.toString(min);\r\n    \t\t\tString strsec = Integer.toString(sec);\r\n    \t\t\treturn System.out.println(strhour + &quot;:&quot; + strmin + &quot;:&quot; + strsec);\r\n    \t\t}\r\n    \t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Write a method that adds all the digits in the given non-negative integer.\r\n    \t * \r\n    \t * @param integer to add digits\r\n    \t * @return integer in which all the digits in the given non-negative integer are\r\n    \t *         added.\r\n    \t * \r\n    \t *         Example(s): - If input is 565, print and return 16. - If input is 7,\r\n    \t *         print and return 7. - If input is 0, print and return 0.\r\n    \t */\r\n    \tpublic int digitsSum(int input) {\r\n    \t\t// TODO: Your code goes here\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Create an instance of the SimpleGame class.\r\n    \t\t// TODO: Your code goes here\r\n    \r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\t// Ask the user which game to play.\r\n    \t\tSystem.out.println(&quot;which game to play?&quot;);\r\n    \t\t// Then ask the user for input and pass the value to the corresponding method.\r\n    \t\tString game = sc.next();\r\n    \t\t// If the user enters 1, ask for an integer to convert and call the convertTime\r\n    \t\t// method.\r\n    \t\tif (game == &quot;1&quot;) {\r\n    \t\t\tSystem.out.println(&quot;what&#39;s your integer?&quot;);\r\n    \t\t\tint num1 = sc.next();\r\n    \t\t\tsc.convertTime(num1);\r\n    \t\t}\r\n    \t\t// If the user enters 2, ask for an integer and call the digitsSum method.\r\n    \t\tif (game == &quot;2&quot;) {\r\n    \t\t\tSystem.out.println(&quot;what&#39;s your integer?&quot;);\r\n    \t\t\tint num2 = sc.next();\r\n    \t\t\tsc.digitsSum(num2);\r\n    \t\t}\r\n    \t\t// TODO: Your code goes here\r\n    \r\n    \t\tsc.close();\r\n    \t}\r\n    }","title":"How can I fix my IDE, which puts lots of squiggle lines over my Java code?","body":"<p>I just started to learn Java using Eclipse. My current homework asks me to write codes where users can choose two games: game 1 is converting seconds value to the &quot;hour:minute:second&quot; format; game 2 is to convert input into the sum of individual digits.</p>\n<p>My coding is below, but I can't run it, as it contains lots of problem, such as 'selection does not contain main type', 'cannot convert from int to boolean', among many others. I tried to correct them on Eclipse and also searched the solutions on Stack Overflow, but cannot resolve it.</p>\n<pre><code>import java.util.Scanner;\n\npublic class SimpleGame {\n\n    /**\n     * Write a method to convert the given seconds to hours:minutes:seconds.\n     * @param seconds to convert\n     * @return string for the converted seconds in the format: 23:59:59\n     * \n     * Example(s): \n     * - If input seconds is 1432, print and return output in the format: 0:23:52\n     * - If input seconds is 0, print and return output in the format: 0:0:0\n     * - If input seconds is not valid (negative), print and return: -1:-1:-1.  \n     *   So if input seconds is -2, print and return: -1:-1:-1 \n     *   If input seconds is -3214, likewise print and return: -1:-1:-1\n     */\n    public String convertTime(int seconds){\n        // TODO: Your code goes here\n        if (seconds == 0) {\n            return System.out.println(&quot;0:0:0&quot;);\n        if (seconds &lt; 0) {\n            return System.out.println(&quot;-1:-1:-1&quot;);  \n        if (seconds &gt; 0) {\n            int hour = seconds/3600;\n            int min = (seconds%3600))/60;\n            int sec = seconds % 60;\n            String strhour = Integer.toString(hour);\n            String strmin = Integer.toString(min);\n            String strsec = Integer.toString(sec);\n            return System.out.println(strhour + &quot;:&quot; + strmin + &quot;:&quot; + strsec);\n        }\n        }\n        }\n    }\n\n    /**\n     * Write a method that adds all the digits in the given non-negative integer.\n     * \n     * @param integer to add digits\n     * @return integer in which all the digits in the given non-negative integer are\n     *         added.\n     * \n     *         Example(s): - If input is 565, print and return 16. - If input is 7,\n     *         print and return 7. - If input is 0, print and return 0.\n     */\n    public int digitsSum(int input) {\n        // TODO: Your code goes here\n        return 0;\n    }\n\n    public static void main(String[] args) {\n        // Create an instance of the SimpleGame class.\n        // TODO: Your code goes here\n\n        Scanner sc = new Scanner(System.in);\n\n        // Ask the user which game to play.\n        System.out.println(&quot;which game to play?&quot;);\n        // Then ask the user for input and pass the value to the corresponding method.\n        String game = sc.next();\n        // If the user enters 1, ask for an integer to convert and call the convertTime\n        // method.\n        if (game == &quot;1&quot;) {\n            System.out.println(&quot;what's your integer?&quot;);\n            int num1 = sc.next();\n            sc.convertTime(num1);\n        }\n        // If the user enters 2, ask for an integer and call the digitsSum method.\n        if (game == &quot;2&quot;) {\n            System.out.println(&quot;what's your integer?&quot;);\n            int num2 = sc.next();\n            sc.digitsSum(num2);\n        }\n        // TODO: Your code goes here\n\n        sc.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","header","http-headers","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668622484,"creation_date":1668622484,"answer_id":74465333,"question_id":74465002,"body_markdown":"I guess you want to send an HTTP request and you want to send some headers over there. So, you use that `DeafaultHttpHeaderMapper` which give us a message you mention:\r\n\r\n\tprivate void setPlainHeader(HttpHeaders target, String name, Object value) {\r\n\t\tString convertedValue = convertToString(value);\r\n\t\tif (StringUtils.hasText(convertedValue)) {\r\n\t\t\ttarget.set(name, convertedValue);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.logger.warn(&quot;Header &#39;&quot; + name + &quot;&#39; with value &#39;&quot; + value +\r\n\t\t\t\t\t&quot;&#39; will not be set since it is not a String and no Converter is available. &quot; +\r\n\t\t\t\t\t&quot;Consider registering a Converter with ConversionService (e.g., &lt;int:converter&gt;)&quot;);\r\n\t\t}\r\n\t}\r\n\r\nTo add a custom convert you just need to declare this `DeafaultHttpHeaderMapper` as a bean and register the mentioned in that message `&lt;int:converter&gt;` or `@IntegrationConverter` bean: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#payload-type-conversion\r\n\r\nFrom here there is still a question why would one transfer over the network those internal volatile `replyChannel` and `errorChannel` headers? Why really just not ignore them?\r\n\r\nFor some sophisticated use-cases we suggest this feature of the Header Enricher: https://docs.spring.io/spring-integration/docs/current/reference/html/message-transformation.html#header-channel-registry","title":"Custom header converter Java DSL- Spring Integration","body":"<p>I guess you want to send an HTTP request and you want to send some headers over there. So, you use that <code>DeafaultHttpHeaderMapper</code> which give us a message you mention:</p>\n<pre><code>private void setPlainHeader(HttpHeaders target, String name, Object value) {\n    String convertedValue = convertToString(value);\n    if (StringUtils.hasText(convertedValue)) {\n        target.set(name, convertedValue);\n    }\n    else {\n        this.logger.warn(&quot;Header '&quot; + name + &quot;' with value '&quot; + value +\n                &quot;' will not be set since it is not a String and no Converter is available. &quot; +\n                &quot;Consider registering a Converter with ConversionService (e.g., &lt;int:converter&gt;)&quot;);\n    }\n}\n</code></pre>\n<p>To add a custom convert you just need to declare this <code>DeafaultHttpHeaderMapper</code> as a bean and register the mentioned in that message <code>&lt;int:converter&gt;</code> or <code>@IntegrationConverter</code> bean: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#payload-type-conversion\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#payload-type-conversion</a></p>\n<p>From here there is still a question why would one transfer over the network those internal volatile <code>replyChannel</code> and <code>errorChannel</code> headers? Why really just not ignore them?</p>\n<p>For some sophisticated use-cases we suggest this feature of the Header Enricher: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-transformation.html#header-channel-registry\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-transformation.html#header-channel-registry</a></p>\n"}],"owner":{"account_id":13532979,"reputation":21,"user_id":17627206,"display_name":"Szymon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668622484,"creation_date":1668620850,"question_id":74465002,"body_markdown":"\r\nHey I&#39;ve got WARNs like that:\r\n\r\n&gt; Header &quot;errorChannel&quot; with value [reference to hash Object] **will not\r\n&gt; be set since it is not a String and no Converter is available.\r\n&gt; Consider registering a Converter with ConversionService**\r\n&gt; \r\n&gt; Header &quot;replyChannel&quot; with value [reference to hash Object] **will not\r\n&gt; be set since it is not a String and no Converter is available.\r\n&gt; Consider registering a Converter with ConversionService**\r\n\r\nMy goal is to keep these headers and I won&#39;t excluding them. And turn on something conversion to setting for e.g. empty &quot;&quot; string for this headers objects.\r\n\r\nCurrently I take all headers like that\r\n```\r\ncustomOutbound.getMappedRequestHeaders(&quot;*&quot;) \r\n```\r\n\r\nI read about that spring ofers some patterns in \r\n\r\n&gt; DeafaultHttpHeaderMapper.class\r\n\r\n But if I want cutomize converter I must implement HeaderMapper? \r\n\r\nIf someone could show me an example with a custom implementation for converting selected headers to a string. It would be great. Thank you guys for support.","title":"Custom header converter Java DSL- Spring Integration","body":"<p>Hey I've got WARNs like that:</p>\n<blockquote>\n<p>Header &quot;errorChannel&quot; with value [reference to hash Object] <strong>will not\nbe set since it is not a String and no Converter is available.\nConsider registering a Converter with ConversionService</strong></p>\n<p>Header &quot;replyChannel&quot; with value [reference to hash Object] <strong>will not\nbe set since it is not a String and no Converter is available.\nConsider registering a Converter with ConversionService</strong></p>\n</blockquote>\n<p>My goal is to keep these headers and I won't excluding them. And turn on something conversion to setting for e.g. empty &quot;&quot; string for this headers objects.</p>\n<p>Currently I take all headers like that</p>\n<pre><code>customOutbound.getMappedRequestHeaders(&quot;*&quot;) \n</code></pre>\n<p>I read about that spring ofers some patterns in</p>\n<blockquote>\n<p>DeafaultHttpHeaderMapper.class</p>\n</blockquote>\n<p>But if I want cutomize converter I must implement HeaderMapper?</p>\n<p>If someone could show me an example with a custom implementation for converting selected headers to a string. It would be great. Thank you guys for support.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1668620924,"post_id":74464918,"comment_id":131452026,"body_markdown":"You method signature for `yesornodisability()` returns void.  You need to change the return type to `String` and then return the `disabled` variable.","body":"You method signature for <code>yesornodisability()</code> returns void.  You need to change the return type to <code>String</code> and then return the <code>disabled</code> variable."},{"owner":{"account_id":891230,"reputation":9225,"user_id":929459,"display_name":"Dmitri"},"score":0,"creation_date":1668620934,"post_id":74464918,"comment_id":131452034,"body_markdown":"`yesornodisability()` has a void return type and isn&#39;t returning anything.  It&#39;s not enough to just read the value in the function, you have to return it too.","body":"<code>yesornodisability()</code> has a void return type and isn&#39;t returning anything.  It&#39;s not enough to just read the value in the function, you have to return it too."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1668622294,"post_id":74464918,"comment_id":131452529,"body_markdown":"Also be aware of the integer division.","body":"Also be aware of the integer division."}],"answers":[{"tags":[],"owner":{"account_id":26742981,"reputation":3,"user_id":20343470,"display_name":"Larry Loch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668622095,"creation_date":1668621221,"answer_id":74465079,"question_id":74464918,"body_markdown":"\r\n\r\n        public static void yesornodisability()\r\n    {\r\n        String disabled;\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\r\n        disabled = scanner.nextLine();\r\n        return;\r\n    }\r\n\r\nYou need to get rid of the void and return disabled.\r\n\r\n    return disabled;\r\n\r\n\r\nYou also need to fix your what your returning in the swimmingPrice() method.\r\n\r\n    return totalCost;\r\n\r\nInstead of `System.out.println(&quot;The swimming price for you is &quot;+totalCost+&quot; pounds.&quot;);\r\n     return swimmingprice();`\r\n\r\nChange to `return &quot;The swimming price for you is &quot; + totalCost + &quot;pounds.&quot;`\r\nThen in the main method `System.out.println(swimmingPrice());`","title":"How can I add string components to an integer for an if statement?","body":"<pre><code>    public static void yesornodisability()\n{\n    String disabled;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\n    disabled = scanner.nextLine();\n    return;\n}\n</code></pre>\n<p>You need to get rid of the void and return disabled.</p>\n<pre><code>return disabled;\n</code></pre>\n<p>You also need to fix your what your returning in the swimmingPrice() method.</p>\n<pre><code>return totalCost;\n</code></pre>\n<p>Instead of <code>System.out.println(&quot;The swimming price for you is &quot;+totalCost+&quot; pounds.&quot;); return swimmingprice();</code></p>\n<p>Change to <code>return &quot;The swimming price for you is &quot; + totalCost + &quot;pounds.&quot;</code>\nThen in the main method <code>System.out.println(swimmingPrice());</code></p>\n"},{"tags":[],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668622075,"creation_date":1668622075,"answer_id":74465266,"question_id":74464918,"body_markdown":"As others have pointed out, you need to change your method&#39;s return type and return the value from it. \r\n\r\nHere is fixed code for you.\r\n\r\n```\r\npublic static String yesornodisability()\r\n{\r\n    String disabled;\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\r\n    disabled = scanner.nextLine();\r\n    return disabled;\r\n}\r\n```","title":"How can I add string components to an integer for an if statement?","body":"<p>As others have pointed out, you need to change your method's return type and return the value from it.</p>\n<p>Here is fixed code for you.</p>\n<pre><code>public static String yesornodisability()\n{\n    String disabled;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\n    disabled = scanner.nextLine();\n    return disabled;\n}\n</code></pre>\n"}],"owner":{"account_id":20817037,"reputation":11,"user_id":20372133,"display_name":"Anonymos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668622095,"creation_date":1668620450,"question_id":74464918,"body_markdown":"I am currently making an `if` statement, but in that if statement I need to add string character, so based on what you say it either takes away 4 or not.\r\n\r\n\r\n```\r\npublic static void yesornodisability()\r\n{\r\n    String disabled;\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\r\n    disabled = scanner.nextLine();\r\n    return;\r\n}\r\n```\r\nThis is the method I am using for my string, When I run the top code (yesornodisability) it works. However when I run the second code it gives me an error saying void cannot be converted to java.lang.String.\r\n\r\nThis is my if statement\r\n\r\n```\r\npublic static int swimmingprice()\r\n {\r\n     int userAge = age();\r\n     int totalCost = total();\r\n     String disabled = yesornodisability();\r\n        \r\n     if (userAge&lt;=18)\r\n     {\r\n         totalCost= totalCost/2;\r\n     }\r\n     else if(userAge&gt;=65)\r\n     {\r\n         totalCost = totalCost-3;\r\n     }\r\n     else if(disabled.equals(&quot;Yes&quot;))\r\n     {\r\n         totalCost = totalCost-4;\r\n     }\r\n     else\r\n     {\r\n         totalCost = 10;\r\n     }\r\n     \r\n     System.out.println(&quot;The swimming price for you is &quot;+totalCost+&quot; pounds.&quot;);\r\n     return swimmingprice();\r\n }\r\n```\r\n\r\n\r\n","title":"How can I add string components to an integer for an if statement?","body":"<p>I am currently making an <code>if</code> statement, but in that if statement I need to add string character, so based on what you say it either takes away 4 or not.</p>\n<pre><code>public static void yesornodisability()\n{\n    String disabled;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\n    disabled = scanner.nextLine();\n    return;\n}\n</code></pre>\n<p>This is the method I am using for my string, When I run the top code (yesornodisability) it works. However when I run the second code it gives me an error saying void cannot be converted to java.lang.String.</p>\n<p>This is my if statement</p>\n<pre><code>public static int swimmingprice()\n {\n     int userAge = age();\n     int totalCost = total();\n     String disabled = yesornodisability();\n        \n     if (userAge&lt;=18)\n     {\n         totalCost= totalCost/2;\n     }\n     else if(userAge&gt;=65)\n     {\n         totalCost = totalCost-3;\n     }\n     else if(disabled.equals(&quot;Yes&quot;))\n     {\n         totalCost = totalCost-4;\n     }\n     else\n     {\n         totalCost = 10;\n     }\n     \n     System.out.println(&quot;The swimming price for you is &quot;+totalCost+&quot; pounds.&quot;);\n     return swimmingprice();\n }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1520499747,"post_id":49169148,"comment_id":85343368,"body_markdown":"did you refresh the scope by doing a post request to `/refresh`","body":"did you refresh the scope by doing a post request to <code>&#47;refresh</code>"},{"owner":{"account_id":9805693,"reputation":333,"user_id":7265513,"display_name":"Y.Ido"},"score":0,"creation_date":1520499957,"post_id":49169148,"comment_id":85343521,"body_markdown":"Yes, and i was learning from here ; http://www.baeldung.com/spring-cloud-bus","body":"Yes, and i was learning from here ; <a href=\"http://www.baeldung.com/spring-cloud-bus\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-bus</a>"}],"answers":[{"tags":[],"owner":{"account_id":9805693,"reputation":333,"user_id":7265513,"display_name":"Y.Ido"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1520502034,"creation_date":1520502034,"answer_id":49169881,"question_id":49169148,"body_markdown":"I finally work work why.\r\nIt did not work because I put @RefreshScope in a wrong place.\r\nIf we want it to work work , we need to place @RefreshScope to the Configuration Class that we want to update value .\r\nSo , in my case , I need to place it to the Controller class that using this bean value.\r\n\r\n    @RefreshScope\r\n    public class ClientController {\r\n        @Value(&quot;${my-name}&quot;)\r\n        private String name;\r\n    } ","title":"spring cloud config client config refresh not working","body":"<p>I finally work work why.\nIt did not work because I put @RefreshScope in a wrong place.\nIf we want it to work work , we need to place @RefreshScope to the Configuration Class that we want to update value .\nSo , in my case , I need to place it to the Controller class that using this bean value.</p>\n\n<pre><code>@RefreshScope\npublic class ClientController {\n    @Value(\"${my-name}\")\n    private String name;\n} \n</code></pre>\n"}],"owner":{"account_id":9805693,"reputation":333,"user_id":7265513,"display_name":"Y.Ido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49169881,"answer_count":1,"score":0,"last_activity_date":1668621894,"creation_date":1520499670,"question_id":49169148,"body_markdown":"When using spring cloud config client , I try to update my app config via update application.properites file. But it dose not work.\r\n\r\nWhat i already try : update config file , and commit to git;\r\n\r\nDose anyone know what is going on ?\r\nI try to test it it result in controller String value like below:\r\n\r\n    @Value(&quot;${my-name}&quot;)\r\n    private String name;\r\n\r\nAnd i already add @RefreshScope in my client side config;\r\nDid I  miss something ?","title":"spring cloud config client config refresh not working","body":"<p>When using spring cloud config client , I try to update my app config via update application.properites file. But it dose not work.</p>\n\n<p>What i already try : update config file , and commit to git;</p>\n\n<p>Dose anyone know what is going on ?\nI try to test it it result in controller String value like below:</p>\n\n<pre><code>@Value(\"${my-name}\")\nprivate String name;\n</code></pre>\n\n<p>And i already add @RefreshScope in my client side config;\nDid I  miss something ?</p>\n"},{"tags":["java","netflix-eureka"],"owner":{"account_id":25574659,"reputation":11,"user_id":19354389,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668621449,"creation_date":1655407560,"question_id":72650960,"body_markdown":"I was trying to initialize my Eureka server and then i got the following exception:\r\n\r\n```\r\n\r\njava.lang.TypeNotPresentException: Type javax.xml.bind.JAXBContext not present\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n\tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1211) ~[na:na]\r\n\tat com.sun.jersey.core.reflection.ReflectionHelper.getClass(ReflectionHelper.java:629) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.reflection.ReflectionHelper.getClass(ReflectionHelper.java:625) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.factory.ContextResolverFactory.getParameterizedType(ContextResolverFactory.java:202) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.factory.ContextResolverFactory.init(ContextResolverFactory.java:89) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1332) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:180) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:799) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:790) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:509) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:339) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:605) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:744) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:270) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4530) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5176) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:423) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:932) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:455) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:427) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:180) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat br.com.alura.microservice.eureka.EurekaServerApplication.main(EurekaServerApplication.java:14) ~[classes/:na]\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBContext\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n\t... 65 common frames omitted\r\n\r\n2022-06-16 15:55:09.544 ERROR 15368 --- [           main] o.apache.catalina.core.StandardContext   : One or more Filters failed to start. Full details will be found in the appropriate container log file\r\n2022-06-16 15:55:09.544 ERROR 15368 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\r\n2022-06-16 15:55:09.549  WARN 15368 --- [           main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [spring.cloud.inetutils] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n2022-06-16 15:55:09.631  INFO 15368 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-06-16 15:55:09.633  WARN 15368 --- [           main] ConfigServletWebServerApplicationContext \r\n\r\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:171) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:109) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\t... 13 common frames omitted```\r\n\r\n\r\n```\r\nSo i search for the solution and found that i needed to add the following depencies, so i did it: \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;``` \r\n```\r\ntryed this one too:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd then the old exception got replaced by a new one: \r\n\r\n```\r\njava.lang.ExceptionInInitializerError: null\r\n\tat com.thoughtworks.xstream.XStream.setupConverters(XStream.java:989) ~[xstream-1.4.10.jar:1.4.10]\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:592) ~[xstream-1.4.10.jar:1.4.10]\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:514) ~[xstream-1.4.10.jar:1.4.10]\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:483) ~[xstream-1.4.10.jar:1.4.10]\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:429) ~[xstream-1.4.10.jar:1.4.10]\r\n\tat com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:396) ~[xstream-1.4.10.jar:1.4.10]\r\n\tat com.netflix.discovery.converters.XmlXStream.&lt;init&gt;(XmlXStream.java:51) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat com.netflix.discovery.converters.XmlXStream.&lt;clinit&gt;(XmlXStream.java:42) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat com.netflix.discovery.converters.wrappers.CodecWrappers$XStreamXml.&lt;init&gt;(CodecWrappers.java:358) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat com.netflix.discovery.converters.wrappers.CodecWrappers.create(CodecWrappers.java:133) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat com.netflix.discovery.converters.wrappers.CodecWrappers.getEncoder(CodecWrappers.java:75) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat com.netflix.discovery.converters.wrappers.CodecWrappers.getEncoder(CodecWrappers.java:66) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat com.netflix.discovery.provider.DiscoveryJerseyProvider.&lt;init&gt;(DiscoveryJerseyProvider.java:77) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat com.netflix.discovery.provider.DiscoveryJerseyProvider.&lt;init&gt;(DiscoveryJerseyProvider.java:64) ~[eureka-client-1.9.8.jar:1.9.8]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347) ~[na:na]\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645) ~[na:na]\r\n\tat com.sun.jersey.core.spi.component.ComponentConstructor._getInstance(ComponentConstructor.java:193) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.component.ComponentConstructor.getInstance(ComponentConstructor.java:180) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.component.ProviderFactory.__getComponentProvider(ProviderFactory.java:166) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.component.ProviderFactory._getComponentProvider(ProviderFactory.java:159) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.component.ProviderFactory.getComponentProvider(ProviderFactory.java:153) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.component.ProviderServices.getComponent(ProviderServices.java:278) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.component.ProviderServices.getProviders(ProviderServices.java:151) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.factory.MessageBodyFactory.initReaders(MessageBodyFactory.java:175) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.core.spi.factory.MessageBodyFactory.init(MessageBodyFactory.java:162) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1338) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:180) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:799) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193) ~[jersey-core-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:790) ~[jersey-server-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:509) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:339) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:605) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:744) ~[jersey-servlet-1.19.1.jar:1.19.1]\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:270) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4530) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5176) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:423) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:932) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:455) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:427) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:180) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat br.com.alura.microservice.eureka.EurekaServerApplication.main(EurekaServerApplication.java:14) ~[classes/:na]\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3646a422\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n\tat com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40) ~[xstream-1.4.10.jar:1.4.10]\r\n\tat com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50) ~[xstream-1.4.10.jar:1.4.10]\r\n\t... 83 common frames omitted\r\n\r\n2022-06-16 16:18:06.335 ERROR 6268 --- [           main] o.apache.catalina.core.StandardContext   : One or more Filters failed to start. Full details will be found in the appropriate container log file\r\n2022-06-16 16:18:06.336 ERROR 6268 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\r\n2022-06-16 16:18:06.341  WARN 6268 --- [           main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [spring.cloud.inetutils] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n2022-06-16 16:18:06.424  INFO 6268 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-06-16 16:18:06.426  WARN 6268 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-06-16 16:18:06.444  INFO 6268 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-06-16 16:18:06.447 ERROR 6268 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat br.com.alura.microservice.eureka.EurekaServerApplication.main(EurekaServerApplication.java:14) ~[classes/:na]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:427) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:180) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\t... 8 common frames omitted\r\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:171) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:109) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n\t... 13 common frames omitted\r\n```\r\n\r\nSo im stuck on this until now.. im using the right versions (java 8), tryed to download the instructor complete project and still having the same error. Just dont know what to do.\r\n\r\n[Here is the full project][1] in case someone want to try\r\n\r\n\r\n  [1]: https://caelum-online-public.s3.amazonaws.com/1233-spring-cloud-microservices/01/microsservicos-workspace-aula-1.zip","title":"Exceptions while starting Eureka","body":"<p>I was trying to initialize my Eureka server and then i got the following exception:</p>\n<pre><code>\njava.lang.TypeNotPresentException: Type javax.xml.bind.JAXBContext not present\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\n    at java.base/java.lang.Class.getGenericInterfaces(Class.java:1211) ~[na:na]\n    at com.sun.jersey.core.reflection.ReflectionHelper.getClass(ReflectionHelper.java:629) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.reflection.ReflectionHelper.getClass(ReflectionHelper.java:625) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.factory.ContextResolverFactory.getParameterizedType(ContextResolverFactory.java:202) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.factory.ContextResolverFactory.init(ContextResolverFactory.java:89) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1332) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:180) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:799) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:790) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:509) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:339) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:605) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:744) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:270) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4530) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5176) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:932) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:427) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:180) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at br.com.alura.microservice.eureka.EurekaServerApplication.main(EurekaServerApplication.java:14) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBContext\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n    ... 65 common frames omitted\n\n2022-06-16 15:55:09.544 ERROR 15368 --- [           main] o.apache.catalina.core.StandardContext   : One or more Filters failed to start. Full details will be found in the appropriate container log file\n2022-06-16 15:55:09.544 ERROR 15368 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\n2022-06-16 15:55:09.549  WARN 15368 --- [           main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [spring.cloud.inetutils] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n2022-06-16 15:55:09.631  INFO 15368 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-06-16 15:55:09.633  WARN 15368 --- [           main] ConfigServletWebServerApplicationContext \n\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:171) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:109) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    ... 13 common frames omitted```\n\n\n</code></pre>\n<p>So i search for the solution and found that i needed to add the following depencies, so i did it:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;``` \n</code></pre>\n<p>tryed this one too:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then the old exception got replaced by a new one:</p>\n<pre><code>java.lang.ExceptionInInitializerError: null\n    at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:989) ~[xstream-1.4.10.jar:1.4.10]\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:592) ~[xstream-1.4.10.jar:1.4.10]\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:514) ~[xstream-1.4.10.jar:1.4.10]\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:483) ~[xstream-1.4.10.jar:1.4.10]\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:429) ~[xstream-1.4.10.jar:1.4.10]\n    at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:396) ~[xstream-1.4.10.jar:1.4.10]\n    at com.netflix.discovery.converters.XmlXStream.&lt;init&gt;(XmlXStream.java:51) ~[eureka-client-1.9.8.jar:1.9.8]\n    at com.netflix.discovery.converters.XmlXStream.&lt;clinit&gt;(XmlXStream.java:42) ~[eureka-client-1.9.8.jar:1.9.8]\n    at com.netflix.discovery.converters.wrappers.CodecWrappers$XStreamXml.&lt;init&gt;(CodecWrappers.java:358) ~[eureka-client-1.9.8.jar:1.9.8]\n    at com.netflix.discovery.converters.wrappers.CodecWrappers.create(CodecWrappers.java:133) ~[eureka-client-1.9.8.jar:1.9.8]\n    at com.netflix.discovery.converters.wrappers.CodecWrappers.getEncoder(CodecWrappers.java:75) ~[eureka-client-1.9.8.jar:1.9.8]\n    at com.netflix.discovery.converters.wrappers.CodecWrappers.getEncoder(CodecWrappers.java:66) ~[eureka-client-1.9.8.jar:1.9.8]\n    at com.netflix.discovery.provider.DiscoveryJerseyProvider.&lt;init&gt;(DiscoveryJerseyProvider.java:77) ~[eureka-client-1.9.8.jar:1.9.8]\n    at com.netflix.discovery.provider.DiscoveryJerseyProvider.&lt;init&gt;(DiscoveryJerseyProvider.java:64) ~[eureka-client-1.9.8.jar:1.9.8]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128) ~[na:na]\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347) ~[na:na]\n    at java.base/java.lang.Class.newInstance(Class.java:645) ~[na:na]\n    at com.sun.jersey.core.spi.component.ComponentConstructor._getInstance(ComponentConstructor.java:193) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.component.ComponentConstructor.getInstance(ComponentConstructor.java:180) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.component.ProviderFactory.__getComponentProvider(ProviderFactory.java:166) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.component.ProviderFactory._getComponentProvider(ProviderFactory.java:159) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.component.ProviderFactory.getComponentProvider(ProviderFactory.java:153) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.component.ProviderServices.getComponent(ProviderServices.java:278) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.component.ProviderServices.getProviders(ProviderServices.java:151) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.factory.MessageBodyFactory.initReaders(MessageBodyFactory.java:175) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.core.spi.factory.MessageBodyFactory.init(MessageBodyFactory.java:162) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1338) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:180) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:799) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193) ~[jersey-core-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:795) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:790) ~[jersey-server-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:509) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:339) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:605) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:744) ~[jersey-servlet-1.19.1.jar:1.19.1]\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:270) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4530) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5176) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:932) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:455) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:427) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:180) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at br.com.alura.microservice.eureka.EurekaServerApplication.main(EurekaServerApplication.java:14) ~[classes/:na]\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3646a422\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n    at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40) ~[xstream-1.4.10.jar:1.4.10]\n    at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50) ~[xstream-1.4.10.jar:1.4.10]\n    ... 83 common frames omitted\n\n2022-06-16 16:18:06.335 ERROR 6268 --- [           main] o.apache.catalina.core.StandardContext   : One or more Filters failed to start. Full details will be found in the appropriate container log file\n2022-06-16 16:18:06.336 ERROR 6268 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\n2022-06-16 16:18:06.341  WARN 6268 --- [           main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [spring.cloud.inetutils] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n2022-06-16 16:18:06.424  INFO 6268 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-06-16 16:18:06.426  WARN 6268 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-06-16 16:18:06.444  INFO 6268 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-06-16 16:18:06.447 ERROR 6268 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at br.com.alura.microservice.eureka.EurekaServerApplication.main(EurekaServerApplication.java:14) ~[classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:427) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:180) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    ... 8 common frames omitted\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:171) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:109) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n    ... 13 common frames omitted\n</code></pre>\n<p>So im stuck on this until now.. im using the right versions (java 8), tryed to download the instructor complete project and still having the same error. Just dont know what to do.</p>\n<p><a href=\"https://caelum-online-public.s3.amazonaws.com/1233-spring-cloud-microservices/01/microsservicos-workspace-aula-1.zip\" rel=\"nofollow noreferrer\">Here is the full project</a> in case someone want to try</p>\n"},{"tags":["java","android","android-recyclerview","android-glide"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1668574584,"post_id":74455288,"comment_id":131436131,"body_markdown":"In your onClick `notifyItemRemoved(position)` Then `mFbPhotos.remove(postion)` Is this what you&#39;re looking for?","body":"In your onClick <code>notifyItemRemoved(position)</code> Then <code>mFbPhotos.remove(postion)</code> Is this what you&#39;re looking for?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1668577227,"post_id":74455288,"comment_id":131436560,"body_markdown":"Glide has nothing to do with this . You only need to call `notifyItemRemoved` with the position as mentioned in your given link .","body":"Glide has nothing to do with this . You only need to call <code>notifyItemRemoved</code> with the position as mentioned in your given link ."},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1668607516,"post_id":74455288,"comment_id":131446496,"body_markdown":"@AmmarAbdullah Its saying **Cannot resolve method &#39;remove&#39; in &#39;fbPhotos&#39;** when trying to add that `mFbPhotos.remove(postion)`.","body":"@AmmarAbdullah Its saying <b>Cannot resolve method &#39;remove&#39; in &#39;fbPhotos&#39;</b> when trying to add that <code>mFbPhotos.remove(postion)</code>."},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1668621506,"post_id":74455288,"comment_id":131452240,"body_markdown":"@ADM Updated my OP to show the effect of click on an image to remove.","body":"@ADM Updated my OP to show the effect of click on an image to remove."},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1668658674,"post_id":74455288,"comment_id":131460943,"body_markdown":"@StealthRT After removing item using `notifyItemRemoved` did you removed that index from your arraylist too? it seems that you&#39;re not deleting that postion/index from arraylist","body":"@StealthRT After removing item using <code>notifyItemRemoved</code> did you removed that index from your arraylist too? it seems that you&#39;re not deleting that postion/index from arraylist"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1668659031,"post_id":74455288,"comment_id":131460993,"body_markdown":"Instead of using `fbPhotos[]` you can use `ArrayList&lt;fbPhotos&gt;` it supports `remove` function","body":"Instead of using <code>fbPhotos[]</code> you can use <code>ArrayList&lt;fbPhotos&gt;</code> it supports <code>remove</code> function"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1668661882,"post_id":74455288,"comment_id":131461456,"body_markdown":"Use a Collection instead of Array because Size of Array is fixed . So use Array List Instead .. Then first remove Item from ArrayList then call notifyItemremove with same index . That should do it","body":"Use a Collection instead of Array because Size of Array is fixed . So use Array List Instead .. Then first remove Item from ArrayList then call notifyItemremove with same index . That should do it"},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1668701717,"post_id":74455288,"comment_id":131475361,"body_markdown":"@AmmarAbdullah Using `fbPhotos.getFBPhotos().remove(position);` does not seem to remove anything from the list?","body":"@AmmarAbdullah Using <code>fbPhotos.getFBPhotos().remove(position);</code> does not seem to remove anything from the list?"}],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668621392,"creation_date":1668573873,"question_id":74455288,"body_markdown":"I&#39;ve looked quite a lot of places to see if I can find anything that lets me know how to remove an image from a **glide** created **RecyclerView** but I&#39;m not finding anything. Almost all of the examples I&#39;ve seen has dealt with **diskCacheStrategy** or something like that for Glide but does not describe how to remove an image from the RecyclerView.\r\n\r\nMy goal is that I just want to remove the image I click on in the list.\r\n\r\nI populate the **RecyclerView** using this:\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ImageGalleryAdapter.MyViewHolder holder, int position) {\r\n        fbPhotos fbPhotos = mFbPhotos[position];\r\n        ImageView imageView = holder.mPhotoImageView;\r\n\r\n        Glide.with(mContext)\r\n            .load(fbPhotos.getUrl())\r\n            .placeholder(R.drawable.ic_cloud_off_red)\r\n            .into(imageView);\r\n    }\r\n\r\nAnd this is the code I use when detecting a click on any of those images:\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        public ImageView mPhotoImageView;\r\n\r\n        public MyViewHolder(View itemView) {\r\n            super(itemView);\r\n            mPhotoImageView = itemView.findViewById(R.id.iv_photo);\r\n            itemView.setOnClickListener(this);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            int position = getAdapterPosition();\r\n\r\n            if(position != RecyclerView.NO_POSITION) {\r\n                fbPhotos fbPhotos = mFbPhotos[position];\r\n            }\r\n        }\r\n    }\r\n\r\nThe full code:\r\n\r\n    public class frag_photos extends Fragment {\r\n        public frag_photos() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        private fbPhotos[] mFbPhotos;\r\n        private Context mContext;\r\n        SwipeRefreshLayout swipeLayout;\r\n        RecyclerView recyclerView;\r\n    \r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.frag_photos, container, false);\r\n    \r\n            RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getContext(), 2);\r\n            recyclerView = view.findViewById(R.id.rv_images);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(layoutManager);\r\n    \r\n            ImageGalleryAdapter adapter = new ImageGalleryAdapter(getContext(), fbPhotos.getFBPhotos());\r\n            recyclerView.setAdapter(adapter);\r\n    \r\n            //Getting SwipeContainerLayout\r\n            swipeLayout = view.findViewById(R.id.swipe_container);\r\n    \r\n            //swip listener\r\n            swipeLayout.setOnRefreshListener(() -&gt; {\r\n                Log.d(&quot;test&quot;, &quot;regresh&quot;);\r\n                swipeLayout.setRefreshing(false);\r\n            });\r\n    \r\n            return view;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n        }\r\n    \r\n        private class ImageGalleryAdapter extends RecyclerView.Adapter&lt;ImageGalleryAdapter.MyViewHolder&gt;  {\r\n            @NonNull\r\n            @Override\r\n            public ImageGalleryAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                Context context = parent.getContext();\r\n                LayoutInflater inflater = LayoutInflater.from(context);\r\n                View photoView = inflater.inflate(R.layout.item_photo, parent, false);\r\n                ImageGalleryAdapter.MyViewHolder viewHolder = new ImageGalleryAdapter.MyViewHolder(photoView);\r\n    \r\n                return viewHolder;\r\n            }\r\n    \r\n            @Override\r\n            public void onBindViewHolder(@NonNull ImageGalleryAdapter.MyViewHolder holder, int position) {\r\n                fbPhotos fbPhotos = mFbPhotos[position];\r\n                ImageView imageView = holder.mPhotoImageView;\r\n    \r\n                Glide.with(mContext)\r\n                    .load(fbPhotos.getUrl())\r\n                    .placeholder(R.drawable.ic_cloud_off_red)\r\n                    .into(imageView);\r\n            }\r\n    \r\n            @Override\r\n            public int getItemCount() {\r\n                return (mFbPhotos.length);\r\n            }\r\n    \r\n            public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n                public ImageView mPhotoImageView;\r\n    \r\n                public MyViewHolder(View itemView) {\r\n                    super(itemView);\r\n    \r\n                    mPhotoImageView = itemView.findViewById(R.id.iv_photo);\r\n                    itemView.setOnClickListener(this);\r\n                }\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n                    int position = getAdapterPosition();\r\n    \r\n                    if(position != RecyclerView.NO_POSITION) {\r\n                        fbPhotos fbPhotos = mFbPhotos[position];\r\n                    }\r\n                }\r\n            }\r\n    \r\n            public ImageGalleryAdapter(Context context, List&lt;fbPhotos&gt; fbPhotos) {\r\n                mContext = context;\r\n                mFbPhotos = fbPhotos.toArray(new fbPhotos[0]);\r\n            }\r\n        }\r\n    }\r\n\r\n[This][1] comes close to what I am looking to do but I just don&#39;t understand the OP code to get a clear view of what all is going on.\r\n\r\nHelp with this would be much appreciated!\r\n\r\n**UPDATE 1**\r\n\r\nSo the suggested `notifyItemRemoved(position);` does remove the image from the list but it seems to just add a duplicate of the last image each time you click on an image?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44371534/how-to-remove-item-from-recyclerview-in-android\r\n  [2]: https://i.stack.imgur.com/ZyG23.gif","title":"Remove clicked image from Glide RecyclerView","body":"<p>I've looked quite a lot of places to see if I can find anything that lets me know how to remove an image from a <strong>glide</strong> created <strong>RecyclerView</strong> but I'm not finding anything. Almost all of the examples I've seen has dealt with <strong>diskCacheStrategy</strong> or something like that for Glide but does not describe how to remove an image from the RecyclerView.</p>\n<p>My goal is that I just want to remove the image I click on in the list.</p>\n<p>I populate the <strong>RecyclerView</strong> using this:</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull ImageGalleryAdapter.MyViewHolder holder, int position) {\n    fbPhotos fbPhotos = mFbPhotos[position];\n    ImageView imageView = holder.mPhotoImageView;\n\n    Glide.with(mContext)\n        .load(fbPhotos.getUrl())\n        .placeholder(R.drawable.ic_cloud_off_red)\n        .into(imageView);\n}\n</code></pre>\n<p>And this is the code I use when detecting a click on any of those images:</p>\n<pre><code>public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n    public ImageView mPhotoImageView;\n\n    public MyViewHolder(View itemView) {\n        super(itemView);\n        mPhotoImageView = itemView.findViewById(R.id.iv_photo);\n        itemView.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        int position = getAdapterPosition();\n\n        if(position != RecyclerView.NO_POSITION) {\n            fbPhotos fbPhotos = mFbPhotos[position];\n        }\n    }\n}\n</code></pre>\n<p>The full code:</p>\n<pre><code>public class frag_photos extends Fragment {\n    public frag_photos() {\n        // Required empty public constructor\n    }\n\n    private fbPhotos[] mFbPhotos;\n    private Context mContext;\n    SwipeRefreshLayout swipeLayout;\n    RecyclerView recyclerView;\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.frag_photos, container, false);\n\n        RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getContext(), 2);\n        recyclerView = view.findViewById(R.id.rv_images);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(layoutManager);\n\n        ImageGalleryAdapter adapter = new ImageGalleryAdapter(getContext(), fbPhotos.getFBPhotos());\n        recyclerView.setAdapter(adapter);\n\n        //Getting SwipeContainerLayout\n        swipeLayout = view.findViewById(R.id.swipe_container);\n\n        //swip listener\n        swipeLayout.setOnRefreshListener(() -&gt; {\n            Log.d(&quot;test&quot;, &quot;regresh&quot;);\n            swipeLayout.setRefreshing(false);\n        });\n\n        return view;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    private class ImageGalleryAdapter extends RecyclerView.Adapter&lt;ImageGalleryAdapter.MyViewHolder&gt;  {\n        @NonNull\n        @Override\n        public ImageGalleryAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            Context context = parent.getContext();\n            LayoutInflater inflater = LayoutInflater.from(context);\n            View photoView = inflater.inflate(R.layout.item_photo, parent, false);\n            ImageGalleryAdapter.MyViewHolder viewHolder = new ImageGalleryAdapter.MyViewHolder(photoView);\n\n            return viewHolder;\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull ImageGalleryAdapter.MyViewHolder holder, int position) {\n            fbPhotos fbPhotos = mFbPhotos[position];\n            ImageView imageView = holder.mPhotoImageView;\n\n            Glide.with(mContext)\n                .load(fbPhotos.getUrl())\n                .placeholder(R.drawable.ic_cloud_off_red)\n                .into(imageView);\n        }\n\n        @Override\n        public int getItemCount() {\n            return (mFbPhotos.length);\n        }\n\n        public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n            public ImageView mPhotoImageView;\n\n            public MyViewHolder(View itemView) {\n                super(itemView);\n\n                mPhotoImageView = itemView.findViewById(R.id.iv_photo);\n                itemView.setOnClickListener(this);\n            }\n\n            @Override\n            public void onClick(View view) {\n                int position = getAdapterPosition();\n\n                if(position != RecyclerView.NO_POSITION) {\n                    fbPhotos fbPhotos = mFbPhotos[position];\n                }\n            }\n        }\n\n        public ImageGalleryAdapter(Context context, List&lt;fbPhotos&gt; fbPhotos) {\n            mContext = context;\n            mFbPhotos = fbPhotos.toArray(new fbPhotos[0]);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/44371534/how-to-remove-item-from-recyclerview-in-android\">This</a> comes close to what I am looking to do but I just don't understand the OP code to get a clear view of what all is going on.</p>\n<p>Help with this would be much appreciated!</p>\n<p><strong>UPDATE 1</strong></p>\n<p>So the suggested <code>notifyItemRemoved(position);</code> does remove the image from the list but it seems to just add a duplicate of the last image each time you click on an image?</p>\n<p><a href=\"https://i.stack.imgur.com/ZyG23.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZyG23.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667758227,"creation_date":1667758227,"answer_id":74338483,"question_id":74338422,"body_markdown":"A function can always return only one value. But you can make this a result object. I made the example with only one of your methods:\r\n\r\n    class Result {\r\n        double solution;\r\n        int iterations;\r\n    }\r\n    \r\n    public static Result evalHorner(double[] a, double x) {\r\n        Result result = new Result();\r\n\r\n        for (int i = a.length - 1; i &gt;= 0; i--) {\r\n            result.solution = a[i] + result.solution * x;\r\n            ++result.iterations;\r\n        }\r\n        return result;\r\n    }\r\n\r\nAlso note that I did not use a global counter variable, so the returned value is fresh for the exact invocation.","title":"How do I count Iterations in loop and compare it to the iterations from the other class?","body":"<p>A function can always return only one value. But you can make this a result object. I made the example with only one of your methods:</p>\n<pre><code>class Result {\n    double solution;\n    int iterations;\n}\n\npublic static Result evalHorner(double[] a, double x) {\n    Result result = new Result();\n\n    for (int i = a.length - 1; i &gt;= 0; i--) {\n        result.solution = a[i] + result.solution * x;\n        ++result.iterations;\n    }\n    return result;\n}\n</code></pre>\n<p>Also note that I did not use a global counter variable, so the returned value is fresh for the exact invocation.</p>\n"}],"owner":{"account_id":26759583,"reputation":23,"user_id":20357756,"display_name":"Bogdan Klinowitzki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74338483,"answer_count":1,"score":0,"last_activity_date":1668621251,"creation_date":1667757762,"question_id":74338422,"body_markdown":"I wrote code that solves polynomials in two ways: \r\n\r\n1) normal form a0*x+a1*x...an*x \r\n2) Horner method. \r\n\r\nNow, what I need, is to count the amount of multiplications in both classes and compare them. So, my program could decide in which case the Horner method is a better way to solve a polynomial. I couldn&#39;t find any ways to count the multiplicators myself.\r\n\r\n```\r\n  static int count_2=0;\r\n  static int count_1=0;\r\n\r\n//---------------------------------------------------------------------------//\r\n  public static double evalSimple(double[] a, double x) {\r\n    double y_temp = 0;\r\n    double y=0;\r\n    int n=1;\r\n    for(int i=1; i &lt; a.length ; ++i) {\r\n      y_temp = (a[i] * Math.pow(x,n));\r\n      y = y + y_temp;\r\n      ++n;\r\n      ++count_1;\r\n    }\r\n    System.out.println(count_1);\r\n    return y+a[0];\r\n  }\r\n\r\n//here would be the class to compare the amount of the multiplikations \r\n\r\n\r\nI tried to initiate the variables count_1 &amp; count_2 and put them in the for-loop, but I didn&#39;t get how to return the value (not just to print them in console) of them for the test environment.","title":"How do I count Iterations in loop and compare it to the iterations from the other class?","body":"<p>I wrote code that solves polynomials in two ways:</p>\n<ol>\n<li>normal form a0<em>x+a1</em>x...an*x</li>\n<li>Horner method.</li>\n</ol>\n<p>Now, what I need, is to count the amount of multiplications in both classes and compare them. So, my program could decide in which case the Horner method is a better way to solve a polynomial. I couldn't find any ways to count the multiplicators myself.</p>\n<pre><code>  static int count_2=0;\n  static int count_1=0;\n\n//---------------------------------------------------------------------------//\n  public static double evalSimple(double[] a, double x) {\n    double y_temp = 0;\n    double y=0;\n    int n=1;\n    for(int i=1; i &lt; a.length ; ++i) {\n      y_temp = (a[i] * Math.pow(x,n));\n      y = y + y_temp;\n      ++n;\n      ++count_1;\n    }\n    System.out.println(count_1);\n    return y+a[0];\n  }\n\n//here would be the class to compare the amount of the multiplikations \n\n\nI tried to initiate the variables count_1 &amp; count_2 and put them in the for-loop, but I didn't get how to return the value (not just to print them in console) of them for the test environment.\n</code></pre>\n"},{"tags":["java","kotlin","date","parsing","internationalization"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1668470385,"post_id":74439102,"comment_id":131408444,"body_markdown":"Would you mind clarifying what is wrong with `28 фев. 2019`? In my env (java 8) everything works smoothly.","body":"Would you mind clarifying what is wrong with <code>28 фев. 2019</code>? In my env (java 8) everything works smoothly."},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1668479952,"post_id":74439102,"comment_id":131409914,"body_markdown":"please share the error, or the output that you are getting","body":"please share the error, or the output that you are getting"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668496035,"post_id":74439102,"comment_id":131412487,"body_markdown":"If you format that date in Russian and Serbian, what are the results? Also which is your Java version, and have you tried other Java versions too? There may be a difference.","body":"If you format that date in Russian and Serbian, what are the results? Also which is your Java version, and have you tried other Java versions too? There may be a difference."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668502101,"post_id":74439102,"comment_id":131414381,"body_markdown":"My Java 18 expects the abbreviation to be `февр.` with a dot in Russian, so the dot in your format is redundant. In Serbian it expects `феб`, so with `б` instead of `в` last.","body":"My Java 18 expects the abbreviation to be <code>февр.</code> with a dot in Russian, so the dot in your format is redundant. In Serbian it expects <code>феб</code>, so with <code>б</code> instead of <code>в</code> last."},{"owner":{"account_id":2940210,"reputation":73,"user_id":2518281,"display_name":"Nebu Pookins"},"score":0,"creation_date":1668588651,"post_id":74439102,"comment_id":131439450,"body_markdown":"@AndreyB.Panfilov I&#39;ve updated the post with an SSCCE.","body":"@AndreyB.Panfilov I&#39;ve updated the post with an SSCCE."},{"owner":{"account_id":2940210,"reputation":73,"user_id":2518281,"display_name":"Nebu Pookins"},"score":0,"creation_date":1668588659,"post_id":74439102,"comment_id":131439453,"body_markdown":"@sidgate I&#39;ve updated the post with an SSCCE.","body":"@sidgate I&#39;ve updated the post with an SSCCE."},{"owner":{"account_id":2940210,"reputation":73,"user_id":2518281,"display_name":"Nebu Pookins"},"score":0,"creation_date":1668588722,"post_id":74439102,"comment_id":131439473,"body_markdown":"@OleV.V. I&#39;ve updated the post with an SSCCE. The value `&quot;28 фев. 2019&quot;` comes from user input, so I can&#39;t change it. What I can do is changed the date format to try to accept more formats.","body":"@OleV.V. I&#39;ve updated the post with an SSCCE. The value <code>&quot;28 фев. 2019&quot;</code> comes from user input, so I can&#39;t change it. What I can do is changed the date format to try to accept more formats."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668592014,"post_id":74439102,"comment_id":131440722,"body_markdown":"Do you know whether February *always* comes as `фев.`? Or asked the other way around, can you risk sometimes getting `февр.`or `фев` (without dot) or something else?","body":"Do you know whether February <i>always</i> comes as <code>фев.</code>? Or asked the other way around, can you risk sometimes getting <code>февр.</code>or <code>фев</code> (without dot) or something else?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668592639,"post_id":74439102,"comment_id":131440947,"body_markdown":"You may want to use a `DateTimeFormatterBuilder` and its overloaded [`appendText(TemporalField, Map&lt;Long, String&gt;)` method](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendText(java.time.temporal.TemporalField,java.util.Map)). With this you can explicitly specify which abbreviations the user uses for each month. Only one abbreviation per month of the year, though.","body":"You may want to use a <code>DateTimeFormatterBuilder</code> and its overloaded <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendText(java.time.temporal.TemporalField,java.util.Map)\" rel=\"nofollow noreferrer\"><code>appendText(TemporalField, Map&lt;Long, String&gt;)</code> method</a>. With this you can explicitly specify which abbreviations the user uses for each month. Only one abbreviation per month of the year, though."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668610805,"post_id":74439102,"comment_id":131447977,"body_markdown":"Example in [my answer here](https://stackoverflow.com/a/50412644/5772882).","body":"Example in <a href=\"https://stackoverflow.com/a/50412644/5772882\">my answer here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668593677,"creation_date":1668591566,"answer_id":74458197,"question_id":74439102,"body_markdown":"Your input seems to have wrong abbreviation. The correct abbreviation should be `февр.`. Check [this page](https://www.loc.gov/aba/pcc/conser/conserhold/Mosabbr.html) and [this page](https://www.localeplanet.com/icu/ru-RU/index.html) for more information.\r\n\r\nA workaround would be to replace the input with the correct abbreviation before you parse it.\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String input = &quot;28 фев. 2019&quot;;\r\n            input = input.replace(&quot;фев.&quot;, &quot;февр.&quot;);\r\n    \r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;d MMM uuuu&quot;,\r\n                    Locale.forLanguageTag(&quot;ru-RU&quot;));\r\n    \r\n            System.out.println(LocalDate.parse(input, dtf));\r\n            System.out.println(LocalDate.of(2019, 2, 28).format(dtf));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2019-02-28\r\n    28 февр. 2019\r\n\r\n","title":"Kotlin/Java/JVM - Parsing Russian dates like &quot;28 фев. 2019&quot;","body":"<p>Your input seems to have wrong abbreviation. The correct abbreviation should be <code>февр.</code>. Check <a href=\"https://www.loc.gov/aba/pcc/conser/conserhold/Mosabbr.html\" rel=\"nofollow noreferrer\">this page</a> and <a href=\"https://www.localeplanet.com/icu/ru-RU/index.html\" rel=\"nofollow noreferrer\">this page</a> for more information.</p>\n<p>A workaround would be to replace the input with the correct abbreviation before you parse it.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String input = &quot;28 фев. 2019&quot;;\n        input = input.replace(&quot;фев.&quot;, &quot;февр.&quot;);\n\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;d MMM uuuu&quot;,\n                Locale.forLanguageTag(&quot;ru-RU&quot;));\n\n        System.out.println(LocalDate.parse(input, dtf));\n        System.out.println(LocalDate.of(2019, 2, 28).format(dtf));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2019-02-28\n28 февр. 2019\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668621325,"post_id":74464154,"comment_id":131452184,"body_markdown":"Interesting. You are including `мар` without dot but not `март` without dot. And `мая.` with dot even though I don’t think it’s an abbreviation? (And not sure to what extent you are answering the question, but the information is still relevant.)","body":"Interesting. You are including <code>мар</code> without dot but not <code>март</code> without dot. And <code>мая.</code> with dot even though I don’t think it’s an abbreviation? (And not sure to what extent you are answering the question, but the information is still relevant.)"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1668622802,"post_id":74464154,"comment_id":131452715,"body_markdown":"`март` - it is a nominative form of `March`, it is barely possible someone may use it as  &quot;short genitive form&quot;. Also there are [some recommendations](http://new.gramota.ru/spravka/buro/search-answer?s=242637) to not create short form of it, same applies for `май`, `июнь` and `июль` - java&#39;s `LLL` (CLDR, I believe) follows those recommendations. TC is actually supposed to write a set of transformation like `s/\\sмар.+\\s/.03./` to mitigate possible ambiguities in user input.","body":"<code>март</code> - it is a nominative form of <code>March</code>, it is barely possible someone may use it as  &quot;short genitive form&quot;. Also there are <a href=\"http://new.gramota.ru/spravka/buro/search-answer?s=242637\" rel=\"nofollow noreferrer\">some recommendations</a> to not create short form of it, same applies for <code>май</code>, <code>июнь</code> and <code>июль</code> - java&#39;s <code>LLL</code> (CLDR, I believe) follows those recommendations. TC is actually supposed to write a set of transformation like <code>s&#47;\\sмар.+\\s&#47;.03.&#47;</code> to mitigate possible ambiguities in user input."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668629256,"post_id":74464154,"comment_id":131454925,"body_markdown":"It seems to me that [this is a solution with enough flexibility to cover all your cases](https://ideone.com/96VjJj).","body":"It seems to me that <a href=\"https://ideone.com/96VjJj\" rel=\"nofollow noreferrer\">this is a solution with enough flexibility to cover all your cases</a>."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668620826,"creation_date":1668616767,"answer_id":74464154,"question_id":74439102,"body_markdown":"Since you are parsing user input, I believe, the only option is to normalize that input prior parsing it - appealing to standards is not an option there.\r\n\r\nIn Russian language we use genitive form of month names in dates (`M(M)+` vs `L(L)+` in java DateTimeFormat) and, normally, short forms are produced using rules below (please do not confuse that with programming standards, conventions, habits, tricks, UI/UX guides, etc):\r\n\r\n- **.** (dot) denotes the short form of the word (`мая.` vs `мая` - the first form looks ridiculous because `мая` is a full genitive form of `May`, another case: `июн.` vs `июня` - both have the same length but `июня` is a full genitive form of `June`)\r\n- typically successive consonant should be kept if they followed by vowel in the full form (there are some exceptions for double consonants) - seems to be your case: `фев.` vs `февр.`\r\n- short form should not end in vowel, `й`, `ь` or `ъ`\r\n\r\nBased on that and taking into account possible user mistakes, typos, common sense and programming habits you may potentially face with the following &quot;short genitive forms&quot; of month names in the wild:\r\n\r\n- January: `янв`, `янв.`\r\n- February: `фев`, `февр`, `фев.`, `февр.`\r\n- March: `мар`, `марта`, `мар.`, `март.`\r\n- April: `апр`, `апр.`\r\n- May: `мая`, `мая.`\r\n- June: `июн`, `июня`, `июн.`\r\n- July: `июл`, `июля`, `июл.`\r\n- August: `авг`, `авг.`\r\n- September: `сен`, `сент`, `сен.`, `сент.`\r\n- October: `окт`, `окт.`\r\n- November: `ноя`, `нояб`, `ноя.`, `нояб.`\r\n- December: `дек`, `дек.`\r\n","title":"Kotlin/Java/JVM - Parsing Russian dates like &quot;28 фев. 2019&quot;","body":"<p>Since you are parsing user input, I believe, the only option is to normalize that input prior parsing it - appealing to standards is not an option there.</p>\n<p>In Russian language we use genitive form of month names in dates (<code>M(M)+</code> vs <code>L(L)+</code> in java DateTimeFormat) and, normally, short forms are produced using rules below (please do not confuse that with programming standards, conventions, habits, tricks, UI/UX guides, etc):</p>\n<ul>\n<li><strong>.</strong> (dot) denotes the short form of the word (<code>мая.</code> vs <code>мая</code> - the first form looks ridiculous because <code>мая</code> is a full genitive form of <code>May</code>, another case: <code>июн.</code> vs <code>июня</code> - both have the same length but <code>июня</code> is a full genitive form of <code>June</code>)</li>\n<li>typically successive consonant should be kept if they followed by vowel in the full form (there are some exceptions for double consonants) - seems to be your case: <code>фев.</code> vs <code>февр.</code></li>\n<li>short form should not end in vowel, <code>й</code>, <code>ь</code> or <code>ъ</code></li>\n</ul>\n<p>Based on that and taking into account possible user mistakes, typos, common sense and programming habits you may potentially face with the following &quot;short genitive forms&quot; of month names in the wild:</p>\n<ul>\n<li>January: <code>янв</code>, <code>янв.</code></li>\n<li>February: <code>фев</code>, <code>февр</code>, <code>фев.</code>, <code>февр.</code></li>\n<li>March: <code>мар</code>, <code>марта</code>, <code>мар.</code>, <code>март.</code></li>\n<li>April: <code>апр</code>, <code>апр.</code></li>\n<li>May: <code>мая</code>, <code>мая.</code></li>\n<li>June: <code>июн</code>, <code>июня</code>, <code>июн.</code></li>\n<li>July: <code>июл</code>, <code>июля</code>, <code>июл.</code></li>\n<li>August: <code>авг</code>, <code>авг.</code></li>\n<li>September: <code>сен</code>, <code>сент</code>, <code>сен.</code>, <code>сент.</code></li>\n<li>October: <code>окт</code>, <code>окт.</code></li>\n<li>November: <code>ноя</code>, <code>нояб</code>, <code>ноя.</code>, <code>нояб.</code></li>\n<li>December: <code>дек</code>, <code>дек.</code></li>\n</ul>\n"}],"owner":{"account_id":2940210,"reputation":73,"user_id":2518281,"display_name":"Nebu Pookins"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74464154,"answer_count":2,"score":2,"last_activity_date":1668620826,"creation_date":1668469068,"question_id":74439102,"body_markdown":"I don&#39;t speak Russian, so I&#39;m having trouble validating whether the months are correctly spelled, etc. To be honest, I&#39;m not fully sure that my input is in Russian (Russian is the language detected by Google translate)\r\n\r\nI have some code in Kotlin which does a best-effort to parse dates specified in various formats and languages. I&#39;m struggling with parsing Russian dates, however. Here&#39;s the relevant part of my code:\r\n\r\n```kotlin\r\nsequenceOf(\r\n  &quot;ru-RU&quot;, // Russian\r\n  &quot;sr&quot;, // Serbian\r\n).forEach {\r\n  val format = DateTimeFormatter.ofPattern(&quot;d MMM. yyyy&quot;)\r\n    .withLocale(Locale.forLanguageTag(it))\r\n  try {\r\n    return listOf(LocalDate.parse(dateString, format))\r\n  } catch (e: Exception) {\r\n    //Ignore and move on\r\n  }\r\n}\r\n```\r\n\r\nThis code correctly parses `&quot;27 апр. 2018&quot;` and `&quot;24 мая. 2013&quot;`, but fails on `&quot;28 фев. 2019&quot;`.\r\n\r\nWhat&#39;s special about `&quot;28 фев. 2019&quot;` and/or how can I parse this value correctly?\r\n\r\nIf you provide answers in Java, I can translate it to Kotlin fairly easily.\r\n\r\n---\r\n\r\n**EDIT**: Here&#39;s an SSCCE in Kotlin:\r\n\r\n```kotlin\r\nimport java.time.LocalDate\r\nimport java.time.format.DateTimeFormatter\r\nimport java.util.*\r\n\r\nprintln(&quot;System.getProperty - &quot; + System.getProperty(&quot;java.version&quot;));\r\nprintln(&quot;Runtime.version - &quot; + Runtime.version());\r\n\r\nval dateString = &quot;28 фев. 2019&quot;\r\n\r\nsequenceOf(\r\n\t&quot;ru-RU&quot;, // Russian\r\n\t&quot;sr&quot;, // Serbian\r\n).forEach {\r\n\tval format = DateTimeFormatter.ofPattern(&quot;d MMM. yyyy&quot;)\r\n\t\t.withLocale(Locale.forLanguageTag(it))\r\n\ttry {\r\n\t\tprintln(&quot;Parse successful - &quot; + LocalDate.parse(dateString, format))\r\n\t} catch (e: Exception) {\r\n\t\tprintln(&quot;Parse failed - &quot; + e)\r\n\t}\r\n}\r\n```\r\n\r\nOutput on my system:\r\n\r\n```text\r\nSystem.getProperty - 17.0.4.1\r\nRuntime.version - 17.0.4.1+7-b469.62\r\nParse failed - java.time.format.DateTimeParseException: Text &#39;28 фев. 2019&#39; could not be parsed at index 3\r\nParse failed - java.time.format.DateTimeParseException: Text &#39;28 фев. 2019&#39; could not be parsed at index 3\r\n```","title":"Kotlin/Java/JVM - Parsing Russian dates like &quot;28 фев. 2019&quot;","body":"<p>I don't speak Russian, so I'm having trouble validating whether the months are correctly spelled, etc. To be honest, I'm not fully sure that my input is in Russian (Russian is the language detected by Google translate)</p>\n<p>I have some code in Kotlin which does a best-effort to parse dates specified in various formats and languages. I'm struggling with parsing Russian dates, however. Here's the relevant part of my code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>sequenceOf(\n  &quot;ru-RU&quot;, // Russian\n  &quot;sr&quot;, // Serbian\n).forEach {\n  val format = DateTimeFormatter.ofPattern(&quot;d MMM. yyyy&quot;)\n    .withLocale(Locale.forLanguageTag(it))\n  try {\n    return listOf(LocalDate.parse(dateString, format))\n  } catch (e: Exception) {\n    //Ignore and move on\n  }\n}\n</code></pre>\n<p>This code correctly parses <code>&quot;27 апр. 2018&quot;</code> and <code>&quot;24 мая. 2013&quot;</code>, but fails on <code>&quot;28 фев. 2019&quot;</code>.</p>\n<p>What's special about <code>&quot;28 фев. 2019&quot;</code> and/or how can I parse this value correctly?</p>\n<p>If you provide answers in Java, I can translate it to Kotlin fairly easily.</p>\n<hr />\n<p><strong>EDIT</strong>: Here's an SSCCE in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.time.LocalDate\nimport java.time.format.DateTimeFormatter\nimport java.util.*\n\nprintln(&quot;System.getProperty - &quot; + System.getProperty(&quot;java.version&quot;));\nprintln(&quot;Runtime.version - &quot; + Runtime.version());\n\nval dateString = &quot;28 фев. 2019&quot;\n\nsequenceOf(\n    &quot;ru-RU&quot;, // Russian\n    &quot;sr&quot;, // Serbian\n).forEach {\n    val format = DateTimeFormatter.ofPattern(&quot;d MMM. yyyy&quot;)\n        .withLocale(Locale.forLanguageTag(it))\n    try {\n        println(&quot;Parse successful - &quot; + LocalDate.parse(dateString, format))\n    } catch (e: Exception) {\n        println(&quot;Parse failed - &quot; + e)\n    }\n}\n</code></pre>\n<p>Output on my system:</p>\n<pre><code>System.getProperty - 17.0.4.1\nRuntime.version - 17.0.4.1+7-b469.62\nParse failed - java.time.format.DateTimeParseException: Text '28 фев. 2019' could not be parsed at index 3\nParse failed - java.time.format.DateTimeParseException: Text '28 фев. 2019' could not be parsed at index 3\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","sap-commerce-cloud"],"comments":[{"owner":{"account_id":1773636,"reputation":5342,"user_id":1617910,"accept_rate":68,"display_name":"Free-Minded"},"score":1,"creation_date":1619251931,"post_id":67236344,"comment_id":118852682,"body_markdown":"Do you have the requied dependecy in extensioninfo.xml ?","body":"Do you have the requied dependecy in extensioninfo.xml ?"}],"answers":[{"tags":[],"owner":{"account_id":4424306,"reputation":186,"user_id":3603194,"display_name":"Adiputera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619256857,"creation_date":1619256857,"answer_id":67241276,"question_id":67236344,"body_markdown":"Class inside `extension/src/` with its bean definition inside `resources/extension-spring.xml` cannot access bean that&#39;s inside `web/webroot/WEB-INF/`, bean inside `WEB-INF` can only be accessed by class inside `web/src/` or `commonweb/src`\r\n\r\n    extension\r\n    | - src/\r\n    | - resources\r\n    |       | - extension-spring.xml\r\n    |\r\n    | - web\r\n         | -- src/\r\n         | -- webroot / WEB-INF / config ","title":"No bean named &#39;dataMapper&#39; available","body":"<p>Class inside <code>extension/src/</code> with its bean definition inside <code>resources/extension-spring.xml</code> cannot access bean that's inside <code>web/webroot/WEB-INF/</code>, bean inside <code>WEB-INF</code> can only be accessed by class inside <code>web/src/</code> or <code>commonweb/src</code></p>\n<pre><code>extension\n| - src/\n| - resources\n|       | - extension-spring.xml\n|\n| - web\n     | -- src/\n     | -- webroot / WEB-INF / config \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4185622,"reputation":933,"user_id":3429457,"display_name":"RicardoVallejo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668620756,"creation_date":1668596560,"answer_id":74459340,"question_id":67236344,"body_markdown":"The answer of @Adiputera is correct but if someone still needs it: \r\n\r\nGetting bean from any context using groovy&#160;script in hybris:\r\n\r\n\r\n    import de.hybris.platform.core.PK\r\n    import de.hybris.platform.spring.HybrisContextLoaderListener\r\n    import org.apache.commons.lang3.reflect.FieldUtils\r\n    import org.springframework.web.context.ContextLoader\r\n    import org.springframework.web.context.WebApplicationContext\r\n    \r\n    STOREFRONTCONTEXT = &quot;previewwebservices&quot;\r\n    \r\n    def f = ContextLoader.getDeclaredField(&quot;currentContextPerThread&quot;)\r\n    f.setAccessible(true)\r\n    \r\n    Map&lt;ClassLoader, WebApplicationContext&gt; contexts = f.get(HybrisContextLoaderListener)\r\n    def appContext = contexts.find {STOREFRONTCONTEXT.equals(it.key.getContextName())}\r\n    //When the context is found, we are ready to get our beans\r\n    if (appContext ==null) println &quot;Impossible to retrieve application context&quot;\r\n    else {\r\n        defaultSyncService = appContext.value.getBean(&quot;synchronizationService&quot;)\r\n    }\r\n\r\nref:\r\nhttps://www.stackextend.com/hybris/getting-bean-from-any-context-using-groovy-script-in-hybris/\r\n\r\nor with JAVA:\r\n\r\n    public DataMapper getDataMapper() {\r\n        DataMapper dataMapper = null;\r\n        try {\r\n            String STOREFRONTCONTEXT = &quot;commercewebservices&quot;;\r\n            Field f = ContextLoader.class.getDeclaredField(&quot;currentContextPerThread&quot;);\r\n            f.setAccessible(true);\r\n    \r\n            Map&lt;HybrisWebappLoader.HybrisWebappClassLoader, WebApplicationContext&gt; contexts = (Map&lt;HybrisWebappLoader.HybrisWebappClassLoader, WebApplicationContext&gt;) f.get(HybrisContextLoaderListener.class);\r\n    \r\n            Optional&lt;HybrisWebappLoader.HybrisWebappClassLoader&gt; appContextKey = contexts.keySet().stream().filter(key -&gt; key.getContextName().equals(STOREFRONTCONTEXT)).findFirst();\r\n            if (appContextKey.isPresent()) {\r\n                dataMapper = contexts.get(appContextKey.get()).getBean(&quot;dataMapper&quot;, DataMapper.class);\r\n            }\r\n        } catch (IllegalAccessException | NoSuchFieldException e) {\r\n            LOG.error(&quot;Impossible to retrieve application context&quot;, e);\r\n        }\r\n        return dataMapper;\r\n    }","title":"No bean named &#39;dataMapper&#39; available","body":"<p>The answer of @Adiputera is correct but if someone still needs it:</p>\n<p>Getting bean from any context using groovy script in hybris:</p>\n<pre><code>import de.hybris.platform.core.PK\nimport de.hybris.platform.spring.HybrisContextLoaderListener\nimport org.apache.commons.lang3.reflect.FieldUtils\nimport org.springframework.web.context.ContextLoader\nimport org.springframework.web.context.WebApplicationContext\n\nSTOREFRONTCONTEXT = &quot;previewwebservices&quot;\n\ndef f = ContextLoader.getDeclaredField(&quot;currentContextPerThread&quot;)\nf.setAccessible(true)\n\nMap&lt;ClassLoader, WebApplicationContext&gt; contexts = f.get(HybrisContextLoaderListener)\ndef appContext = contexts.find {STOREFRONTCONTEXT.equals(it.key.getContextName())}\n//When the context is found, we are ready to get our beans\nif (appContext ==null) println &quot;Impossible to retrieve application context&quot;\nelse {\n    defaultSyncService = appContext.value.getBean(&quot;synchronizationService&quot;)\n}\n</code></pre>\n<p>ref:\n<a href=\"https://www.stackextend.com/hybris/getting-bean-from-any-context-using-groovy-script-in-hybris/\" rel=\"nofollow noreferrer\">https://www.stackextend.com/hybris/getting-bean-from-any-context-using-groovy-script-in-hybris/</a></p>\n<p>or with JAVA:</p>\n<pre><code>public DataMapper getDataMapper() {\n    DataMapper dataMapper = null;\n    try {\n        String STOREFRONTCONTEXT = &quot;commercewebservices&quot;;\n        Field f = ContextLoader.class.getDeclaredField(&quot;currentContextPerThread&quot;);\n        f.setAccessible(true);\n\n        Map&lt;HybrisWebappLoader.HybrisWebappClassLoader, WebApplicationContext&gt; contexts = (Map&lt;HybrisWebappLoader.HybrisWebappClassLoader, WebApplicationContext&gt;) f.get(HybrisContextLoaderListener.class);\n\n        Optional&lt;HybrisWebappLoader.HybrisWebappClassLoader&gt; appContextKey = contexts.keySet().stream().filter(key -&gt; key.getContextName().equals(STOREFRONTCONTEXT)).findFirst();\n        if (appContextKey.isPresent()) {\n            dataMapper = contexts.get(appContextKey.get()).getBean(&quot;dataMapper&quot;, DataMapper.class);\n        }\n    } catch (IllegalAccessException | NoSuchFieldException e) {\n        LOG.error(&quot;Impossible to retrieve application context&quot;, e);\n    }\n    return dataMapper;\n}\n</code></pre>\n"}],"owner":{"account_id":944889,"reputation":878,"user_id":972314,"accept_rate":48,"display_name":"sree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668620756,"creation_date":1619208988,"question_id":67236344,"body_markdown":"I have bean below bean in dto-mapping-v2-spring.xml which is under WEB-INF/config folder.\r\n\r\n      &lt;alias alias=&quot;dataMapper&quot; name=&quot;defaultDataMapper&quot;/&gt;\r\n         &lt;bean id=&quot;defaultDataMapper&quot; \r\n          class=&quot;de.hybris.platform.webservicescommons.mapping.impl.DefaultDataMapper&quot;&gt;\r\n            &lt;property name=&quot;fieldSetBuilder&quot; ref=&quot;fieldSetBuilder&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\nI trying to inject it in one of my service.I added this configuration in spring.xml under resources folder.\r\n\r\n    &lt;alias name=&quot;defaultProductExportService&quot; alias=&quot;ProductExportService&quot;/&gt;\r\n       &lt;bean class=&quot;com.service.DefaultProductExportService&quot; id=&quot;defaultProductExportService&quot;&gt;\r\n          &lt;property name=&quot;datamapper&quot; ref=&quot;datamapper&quot; /&gt;\r\n       &lt;/bean&gt;\r\n\r\nDuring server start it is throwing and error saying \r\n\r\n    Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;dataMapper&#39; available\r\n\r\nHow I can inject bean?\r\n\r\n\r\n\r\n\r\n","title":"No bean named &#39;dataMapper&#39; available","body":"<p>I have bean below bean in dto-mapping-v2-spring.xml which is under WEB-INF/config folder.</p>\n<pre><code>  &lt;alias alias=&quot;dataMapper&quot; name=&quot;defaultDataMapper&quot;/&gt;\n     &lt;bean id=&quot;defaultDataMapper&quot; \n      class=&quot;de.hybris.platform.webservicescommons.mapping.impl.DefaultDataMapper&quot;&gt;\n        &lt;property name=&quot;fieldSetBuilder&quot; ref=&quot;fieldSetBuilder&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>I trying to inject it in one of my service.I added this configuration in spring.xml under resources folder.</p>\n<pre><code>&lt;alias name=&quot;defaultProductExportService&quot; alias=&quot;ProductExportService&quot;/&gt;\n   &lt;bean class=&quot;com.service.DefaultProductExportService&quot; id=&quot;defaultProductExportService&quot;&gt;\n      &lt;property name=&quot;datamapper&quot; ref=&quot;datamapper&quot; /&gt;\n   &lt;/bean&gt;\n</code></pre>\n<p>During server start it is throwing and error saying</p>\n<pre><code>Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'dataMapper' available\n</code></pre>\n<p>How I can inject bean?</p>\n"},{"tags":["java","javafx","tableview","progress-bar"],"answers":[{"tags":[],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1533977908,"creation_date":1533977908,"answer_id":51798103,"question_id":51782049,"body_markdown":"Don&#39;t know why my question has been down-voted, despite following the rules.\r\n\r\nAnyway after further trials managed to get it working &amp; if anyone looking for something similar, all you need to do is to extend - `TableCell&lt;S, Double&gt;` &amp; incorporate the color scheme required by overriding the `updateItem(Double item, boolean empty)` method of ProgressBarTableCell","title":"JavaFx TableView ProgressBar with Conditional Color change","body":"<p>Don't know why my question has been down-voted, despite following the rules.</p>\n\n<p>Anyway after further trials managed to get it working &amp; if anyone looking for something similar, all you need to do is to extend - <code>TableCell&lt;S, Double&gt;</code> &amp; incorporate the color scheme required by overriding the <code>updateItem(Double item, boolean empty)</code> method of ProgressBarTableCell</p>\n"},{"tags":[],"owner":{"account_id":7720495,"reputation":866,"user_id":5846877,"display_name":"Christophe Moine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668620622,"creation_date":1668620622,"answer_id":74464951,"question_id":51782049,"body_markdown":"Following iCoder suggestion, I also ended up copy/pasting `ProgressBarTableCell` :-(\r\n\r\n\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.scene.control.ProgressBar;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.util.Callback;\r\n    import javafx.util.Pair;\r\n    \r\n    public class ProgressBarTableCellEx&lt;S&gt; extends TableCell&lt;S, Pair&lt;Color, Double&gt;&gt; {\r\n        public static &lt;S&gt; Callback&lt;TableColumn&lt;S,Pair&lt;Color, Double&gt;&gt;, TableCell&lt;S,Pair&lt;Color, Double&gt;&gt;&gt; forTableColumn() {\r\n            return param -&gt; new ProgressBarTableCellEx&lt;S&gt;();\r\n        }\r\n    \r\n        private final ProgressBar progressBar;\r\n    \r\n        private ObservableValue&lt;Pair&lt;Color, Double&gt;&gt; observable;\r\n    \r\n        public ProgressBarTableCellEx() {\r\n            this.getStyleClass().add(&quot;progress-bar-table-cell&quot;);\r\n    \r\n            this.progressBar = new ProgressBar();\r\n            this.progressBar.setMaxWidth(Double.MAX_VALUE);\r\n        }\r\n    \r\n        /** {@inheritDoc} */\r\n        @Override public void updateItem(Pair&lt;Color, Double&gt; item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n    \r\n            if (empty) {\r\n                setGraphic(null);\r\n            } else {\r\n                progressBar.progressProperty().unbind();\r\n                progressBar.styleProperty().unbind();\r\n    \r\n                final TableColumn&lt;S,Pair&lt;Color, Double&gt;&gt; column = getTableColumn();\r\n                observable = column == null ? null : column.getCellObservableValue(getIndex());\r\n    \r\n                if (observable != null) {\r\n                    progressBar.progressProperty().bind(observable.map(Pair::getValue));\r\n                    progressBar.styleProperty().bind(observable.map(Pair::getKey).map(color -&gt; &quot;-fx-accent:&quot;+toString(color)));\r\n                } else if (item != null) {\r\n                    progressBar.setProgress(item.getValue());\r\n                    progressBar.setStyle(&quot;-fx-accent:&quot;+toString(item.getKey()));\r\n                }\r\n    \r\n                setGraphic(progressBar);\r\n            }\r\n        }\r\n    \r\n        private String toString(Color color) {\r\n            return color.toString().replace(&quot;0x&quot;, &quot;#&quot;);\r\n        }\r\n    }\r\n\r\n\r\n","title":"JavaFx TableView ProgressBar with Conditional Color change","body":"<p>Following iCoder suggestion, I also ended up copy/pasting <code>ProgressBarTableCell</code> :-(</p>\n<pre><code>import javafx.beans.value.ObservableValue;\nimport javafx.scene.control.ProgressBar;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.paint.Color;\nimport javafx.util.Callback;\nimport javafx.util.Pair;\n\npublic class ProgressBarTableCellEx&lt;S&gt; extends TableCell&lt;S, Pair&lt;Color, Double&gt;&gt; {\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S,Pair&lt;Color, Double&gt;&gt;, TableCell&lt;S,Pair&lt;Color, Double&gt;&gt;&gt; forTableColumn() {\n        return param -&gt; new ProgressBarTableCellEx&lt;S&gt;();\n    }\n\n    private final ProgressBar progressBar;\n\n    private ObservableValue&lt;Pair&lt;Color, Double&gt;&gt; observable;\n\n    public ProgressBarTableCellEx() {\n        this.getStyleClass().add(&quot;progress-bar-table-cell&quot;);\n\n        this.progressBar = new ProgressBar();\n        this.progressBar.setMaxWidth(Double.MAX_VALUE);\n    }\n\n    /** {@inheritDoc} */\n    @Override public void updateItem(Pair&lt;Color, Double&gt; item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty) {\n            setGraphic(null);\n        } else {\n            progressBar.progressProperty().unbind();\n            progressBar.styleProperty().unbind();\n\n            final TableColumn&lt;S,Pair&lt;Color, Double&gt;&gt; column = getTableColumn();\n            observable = column == null ? null : column.getCellObservableValue(getIndex());\n\n            if (observable != null) {\n                progressBar.progressProperty().bind(observable.map(Pair::getValue));\n                progressBar.styleProperty().bind(observable.map(Pair::getKey).map(color -&gt; &quot;-fx-accent:&quot;+toString(color)));\n            } else if (item != null) {\n                progressBar.setProgress(item.getValue());\n                progressBar.setStyle(&quot;-fx-accent:&quot;+toString(item.getKey()));\n            }\n\n            setGraphic(progressBar);\n        }\n    }\n\n    private String toString(Color color) {\n        return color.toString().replace(&quot;0x&quot;, &quot;#&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3762699,"reputation":1446,"user_id":3127144,"accept_rate":56,"display_name":"iCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":51798103,"answer_count":2,"score":2,"last_activity_date":1668620622,"creation_date":1533889161,"question_id":51782049,"body_markdown":"**Need:**\r\nTo be able to change the color of the ProgressBar in TableView depending on the condition in a multi-threaded program\r\n\r\n**Research:**\r\nI refer to link - [Link1][1] based on which I am able to setup the ProgressBar in TableView being updated by multiple threads. As per link - [Link2][2] I need to be able to change the color. In addition did google search as well, but unable to get it working &amp; hence posting.\r\n\r\n**Issue:**\r\nI have done a bind &amp; updating the property, but it does not seem to work. The progress bar is getting updated as per value, which is fine.\r\n\r\nUnable to figure out how to get the color to change based on condition. Hope the issue faced is clear, Inputs / guidance will be much appreciated.\r\n\r\n**Code(relevant portions from Controller class):**\r\n\r\n        StringProperty colorProperty = new SimpleStringProperty();\r\n        .\r\n        .\r\n        .\r\n        progressBar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;pBar));\r\n        progressBar.setCellFactory(ProgressBarTableCell.forTableColumn());\r\n        // Bind property for progress Bar Color Change\r\n        progressBar.styleProperty().bind(colorProperty);\r\n        .\r\n        .\r\n        .\r\n        private static void updateTableView(List&lt;TableViewCust&gt; list, ModelDataFeed apiDataFeed) {\r\n                list.forEach(e -&gt; {\r\n                    double pBarValue = ((apiDataFeed.getMax() - apiDataFeed.getMin()) / e.getAvg());\r\n                    e.setProgressBar(pBarValue / 5);\r\n                    setProgressBarColor(pBarValue / 5));\r\n                });\r\n            }\r\n        .\r\n        .\r\n        .\r\n        // Set Colour to Progress Bar\r\n        private static void setProgressBarColor(double pBarValue) {\r\n                if (pBarValue &lt;= 0.2) {\r\n                    colorProperty.setValue(&quot;-fx-accent: lightskyblue&quot;);\r\n                } else if (pBarValue &lt;= 0.4) {\r\n                    colorProperty.setValue(&quot;-fx-accent: palegreen&quot;);\r\n                } else if (pBarValue &lt;= 0.6) {\r\n                    colorProperty.setValue(&quot;-fx-accent: orange&quot;);\r\n                } else if (pBarValue &lt;= 0.8) {\r\n                    colorProperty.setValue(&quot;-fx-accent: orchid&quot;);\r\n                } else {\r\n                    colorProperty.setValue(&quot;-fx-accent: red&quot;);\r\n                }\r\n            }\r\n\r\n  [1]: https://stackoverflow.com/questions/16721380/javafx-update-progressbar-in-tableview-from-task\r\n  [2]: https://stackoverflow.com/questions/13357077/javafx-progressbar-how-to-change-bar-color","title":"JavaFx TableView ProgressBar with Conditional Color change","body":"<p><strong>Need:</strong>\nTo be able to change the color of the ProgressBar in TableView depending on the condition in a multi-threaded program</p>\n\n<p><strong>Research:</strong>\nI refer to link - <a href=\"https://stackoverflow.com/questions/16721380/javafx-update-progressbar-in-tableview-from-task\">Link1</a> based on which I am able to setup the ProgressBar in TableView being updated by multiple threads. As per link - <a href=\"https://stackoverflow.com/questions/13357077/javafx-progressbar-how-to-change-bar-color\">Link2</a> I need to be able to change the color. In addition did google search as well, but unable to get it working &amp; hence posting.</p>\n\n<p><strong>Issue:</strong>\nI have done a bind &amp; updating the property, but it does not seem to work. The progress bar is getting updated as per value, which is fine.</p>\n\n<p>Unable to figure out how to get the color to change based on condition. Hope the issue faced is clear, Inputs / guidance will be much appreciated.</p>\n\n<p><strong>Code(relevant portions from Controller class):</strong></p>\n\n<pre><code>    StringProperty colorProperty = new SimpleStringProperty();\n    .\n    .\n    .\n    progressBar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"pBar));\n    progressBar.setCellFactory(ProgressBarTableCell.forTableColumn());\n    // Bind property for progress Bar Color Change\n    progressBar.styleProperty().bind(colorProperty);\n    .\n    .\n    .\n    private static void updateTableView(List&lt;TableViewCust&gt; list, ModelDataFeed apiDataFeed) {\n            list.forEach(e -&gt; {\n                double pBarValue = ((apiDataFeed.getMax() - apiDataFeed.getMin()) / e.getAvg());\n                e.setProgressBar(pBarValue / 5);\n                setProgressBarColor(pBarValue / 5));\n            });\n        }\n    .\n    .\n    .\n    // Set Colour to Progress Bar\n    private static void setProgressBarColor(double pBarValue) {\n            if (pBarValue &lt;= 0.2) {\n                colorProperty.setValue(\"-fx-accent: lightskyblue\");\n            } else if (pBarValue &lt;= 0.4) {\n                colorProperty.setValue(\"-fx-accent: palegreen\");\n            } else if (pBarValue &lt;= 0.6) {\n                colorProperty.setValue(\"-fx-accent: orange\");\n            } else if (pBarValue &lt;= 0.8) {\n                colorProperty.setValue(\"-fx-accent: orchid\");\n            } else {\n                colorProperty.setValue(\"-fx-accent: red\");\n            }\n        }\n</code></pre>\n"},{"tags":["java","linux","sockets","server","client"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1668491448,"post_id":74441049,"comment_id":131411567,"body_markdown":"*&quot;What is going on here?&quot;* One or both of the machines&#39; hardware clocks are wrong; i.e. not synced with an accurate time source.","body":"<i>&quot;What is going on here?&quot;</i> One or both of the machines&#39; hardware clocks are wrong; i.e. not synced with an accurate time source."}],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668491275,"creation_date":1668491275,"answer_id":74441101,"question_id":74441049,"body_markdown":"VM takes server time by default. So you need to check the time set on your server machine.\r\n\r\nBasically server &amp; client are two different machines. Time in these two machines are not in sync. You need to check both machine time &amp; rectify where it is not correct.\r\n**This has nothing to do with Java.**","title":"Instant.now() different results in VM","body":"<p>VM takes server time by default. So you need to check the time set on your server machine.</p>\n<p>Basically server &amp; client are two different machines. Time in these two machines are not in sync. You need to check both machine time &amp; rectify where it is not correct.\n<strong>This has nothing to do with Java.</strong></p>\n"},{"tags":[],"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668620553,"creation_date":1668620553,"answer_id":74464937,"question_id":74441049,"body_markdown":"Thank you @aatwork for your information, I&#39;ve solved my problem.\r\n\r\nThe issue has come from my lack of understanding of how time and UTC works on a global scale and that any induvial machine will likely have an offset. \r\n\r\nTo correct for this, one should poll the time from an [NTP][1] server. Doing so will allow for synchronized results across multiple machines.\r\n\r\n[Querying NTP Server in Java][2]\r\n\r\n[Dependency: Apache Commons Net][3]\r\n\r\n[List of Top Public Time Servers][4]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Network_Time_Protocol\r\n  [2]: http://www.avajava.com/tutorials/lessons/how-do-i-query-the-nist-internet-time-service-using-the-network-time-protocol.html\r\n  [3]: https://mvnrepository.com/artifact/commons-net/commons-net/3.6\r\n  [4]: https://gist.github.com/mutin-sa/eea1c396b1e610a2da1e5550d94b0453","title":"Instant.now() different results in VM","body":"<p>Thank you @aatwork for your information, I've solved my problem.</p>\n<p>The issue has come from my lack of understanding of how time and UTC works on a global scale and that any induvial machine will likely have an offset.</p>\n<p>To correct for this, one should poll the time from an <a href=\"https://en.wikipedia.org/wiki/Network_Time_Protocol\" rel=\"nofollow noreferrer\">NTP</a> server. Doing so will allow for synchronized results across multiple machines.</p>\n<p><a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-query-the-nist-internet-time-service-using-the-network-time-protocol.html\" rel=\"nofollow noreferrer\">Querying NTP Server in Java</a></p>\n<p><a href=\"https://mvnrepository.com/artifact/commons-net/commons-net/3.6\" rel=\"nofollow noreferrer\">Dependency: Apache Commons Net</a></p>\n<p><a href=\"https://gist.github.com/mutin-sa/eea1c396b1e610a2da1e5550d94b0453\" rel=\"nofollow noreferrer\">List of Top Public Time Servers</a></p>\n"}],"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74464937,"answer_count":2,"score":-1,"last_activity_date":1668620572,"creation_date":1668490833,"question_id":74441049,"body_markdown":"&gt; I am trying to measure the ping of a socket connection.\r\n&gt; \r\n&gt; Like so;\r\n&gt; \r\n&gt; Server: Sends ping to client\r\n&gt; \r\n&gt; Client: Receives ping and encodes current time as response\r\n&gt; \r\n&gt; Server: Decode response and calculate ping as = current time -\r\n&gt; response time\r\n&gt; \r\n&gt; In theory this should tell me a fairly accurate measurement of the\r\n&gt; amount of time it takes for data to transfer from the client -&gt;\r\n&gt; server.\r\n&gt; \r\n&gt; The ISSUE is the encoded time (millis) from the client (linux VM) is\r\n&gt; ~4s before the time cached on the server when sending the ping.\r\n&gt; \r\n&gt; It would appear that Instant.now() is returning inconsistent results\r\n&gt; across machines.\r\n&gt; \r\n&gt; I&#39;ve confirmed this by simply outputting Instant.now().toEpochMilli()\r\n&gt; \r\n&gt; Running both test at the &quot;same time&quot;, the time on the VM is several\r\n&gt; seconds behind? What is going on here?\r\n","title":"Instant.now() different results in VM","body":"<blockquote>\n<p>I am trying to measure the ping of a socket connection.</p>\n<p>Like so;</p>\n<p>Server: Sends ping to client</p>\n<p>Client: Receives ping and encodes current time as response</p>\n<p>Server: Decode response and calculate ping as = current time -\nresponse time</p>\n<p>In theory this should tell me a fairly accurate measurement of the\namount of time it takes for data to transfer from the client -&gt;\nserver.</p>\n<p>The ISSUE is the encoded time (millis) from the client (linux VM) is\n~4s before the time cached on the server when sending the ping.</p>\n<p>It would appear that Instant.now() is returning inconsistent results\nacross machines.</p>\n<p>I've confirmed this by simply outputting Instant.now().toEpochMilli()</p>\n<p>Running both test at the &quot;same time&quot;, the time on the VM is several\nseconds behind? What is going on here?</p>\n</blockquote>\n"},{"tags":["java","modelmapper"],"answers":[{"comments":[{"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"score":0,"creation_date":1592867029,"post_id":47297690,"comment_id":110573475,"body_markdown":"That didn&#39;t work for me. All fields, except the one where I want to concatenate my two fields, are null.","body":"That didn&#39;t work for me. All fields, except the one where I want to concatenate my two fields, are null."},{"owner":{"account_id":3011691,"reputation":711,"user_id":2555056,"display_name":"Anjan Biswas"},"score":0,"creation_date":1697974798,"post_id":47297690,"comment_id":136344183,"body_markdown":".map(source, destination.getFullname());\nhere source is 2 . then what can i do?","body":".map(source, destination.getFullname()); here source is 2 . then what can i do?"},{"owner":{"account_id":3011691,"reputation":711,"user_id":2555056,"display_name":"Anjan Biswas"},"score":0,"creation_date":1697974848,"post_id":47297690,"comment_id":136344189,"body_markdown":".map(source, destination.getFullname());\nplease provide the complete code for this.","body":".map(source, destination.getFullname()); please provide the complete code for this."}],"tags":[],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1510706966,"creation_date":1510706966,"answer_id":47297690,"question_id":47297689,"body_markdown":"You can use a `Converter` within a `PropertyMap` for this.\r\n\r\nJust configure your mapper like this:\r\n\r\n    @Test\r\n    public void should_map_multiple_fields_into_one() {\r\n\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n\r\n        modelMapper.createTypeMap(Person.class, PersonDto.class)\r\n                .addMappings(\r\n                        new PropertyMap&lt;Person, PersonDto&gt;() {\r\n                            @Override\r\n                            protected void configure() {\r\n                                // define a converter that takes the whole &quot;person&quot;\r\n                                using(ctx -&gt; generateFullname(\r\n                                        ((Person) ctx.getSource()).getFirstname(),\r\n                                        ((Person) ctx.getSource()).getLastname())\r\n                                )\r\n                                // Map the compliete source here\r\n                                .map(source, destination.getFullname());\r\n                            }\r\n                        });\r\n\r\n        // test that all fields are mapped\r\n        modelMapper.validate();\r\n\r\n        // test that the age is calculated\r\n        Person person = new Person();\r\n        person.setFirstname(&quot;Marilyn&quot;);\r\n        person.setLastname(&quot;Monroe&quot;);\r\n        PersonDto personDto = modelMapper.map(person, PersonDto.class);\r\n        assertEquals(personDto.fullname, &quot;Marilyn Monroe&quot;);\r\n    }\r\n\r\n    // This method should be used for mapping. In real, this could be a service call\r\n    private String generateFullname(String firstname, String lastname) {\r\n        return firstname + &quot; &quot; + lastname;\r\n    }","title":"How to map multiple fields into one destination field using modelmapper","body":"<p>You can use a <code>Converter</code> within a <code>PropertyMap</code> for this.</p>\n\n<p>Just configure your mapper like this:</p>\n\n<pre><code>@Test\npublic void should_map_multiple_fields_into_one() {\n\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n\n    modelMapper.createTypeMap(Person.class, PersonDto.class)\n            .addMappings(\n                    new PropertyMap&lt;Person, PersonDto&gt;() {\n                        @Override\n                        protected void configure() {\n                            // define a converter that takes the whole \"person\"\n                            using(ctx -&gt; generateFullname(\n                                    ((Person) ctx.getSource()).getFirstname(),\n                                    ((Person) ctx.getSource()).getLastname())\n                            )\n                            // Map the compliete source here\n                            .map(source, destination.getFullname());\n                        }\n                    });\n\n    // test that all fields are mapped\n    modelMapper.validate();\n\n    // test that the age is calculated\n    Person person = new Person();\n    person.setFirstname(\"Marilyn\");\n    person.setLastname(\"Monroe\");\n    PersonDto personDto = modelMapper.map(person, PersonDto.class);\n    assertEquals(personDto.fullname, \"Marilyn Monroe\");\n}\n\n// This method should be used for mapping. In real, this could be a service call\nprivate String generateFullname(String firstname, String lastname) {\n    return firstname + \" \" + lastname;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4990627,"reputation":139,"user_id":4012973,"display_name":"Alan Albertengo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668620284,"creation_date":1668620284,"answer_id":74464867,"question_id":47297689,"body_markdown":"This is another way to use the converter:\r\n```\r\nModelMapper modelMapper = new ModelMapper();\r\nmodelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n\r\nConverter&lt;Dto, Boolean&gt; converter =\r\n    c -&gt; c.getSource().isBoolean1() || c.getSource().isBoolean2();\r\n\r\nmodelMapper.addMappings(\r\n    mapper -&gt; mapper.using(converter).map(claim-&gt; claim, Dto::setThirdBoolean)\r\n);\r\n```\r\n","title":"How to map multiple fields into one destination field using modelmapper","body":"<p>This is another way to use the converter:</p>\n<pre><code>ModelMapper modelMapper = new ModelMapper();\nmodelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n\nConverter&lt;Dto, Boolean&gt; converter =\n    c -&gt; c.getSource().isBoolean1() || c.getSource().isBoolean2();\n\nmodelMapper.addMappings(\n    mapper -&gt; mapper.using(converter).map(claim-&gt; claim, Dto::setThirdBoolean)\n);\n</code></pre>\n"}],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11045,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":47297690,"answer_count":2,"score":13,"last_activity_date":1668620284,"creation_date":1510706966,"question_id":47297689,"body_markdown":"How to map/merge multiple fields into one field? Like concatenate a `firstname` and `lastname` to the destination `fullname`?\r\n\r\n    public class ModelMapperConfigTest {\r\n    \r\n        @Test\r\n        public void should_validate() {\r\n            new ModelMapperConfig().modelMapper().validate();\r\n        }\r\n    \r\n        @Data\r\n        public static class Person {\r\n            private String firstname;\r\n            private String lastname;\r\n        }\r\n    \r\n        @Data\r\n        public static class PersonDto {\r\n            private String firstname;\r\n            private String lastname;\r\n            private String fullname;\r\n        }\r\n    \r\n        // Test data\r\n    \r\n        @Test\r\n        public void should_map_multiple_fields_into_one() {\r\n    \r\n            ModelMapper modelMapper = new ModelMapper();\r\n            modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n    \r\n            // TODO: Configure modelmapper to merge the two fields\r\n           \r\n            // test that all fields are mapped\r\n            modelMapper.validate();\r\n    \r\n            // test that the age is calculated\r\n            Person person = new Person();\r\n            person.setFirstname(&quot;Marilyn&quot;);\r\n            person.setLastname(&quot;Monroe&quot;);\r\n            PersonDto personDto = modelMapper.map(person, PersonDto.class);\r\n            assertEquals(personDto.fullname, &quot;Marilyn Monroe&quot;);\r\n        }\r\n    \r\n        // This method should be used for mapping. In real, this could be a service call\r\n        private String generateFullname(String firstname, String lastname) {\r\n            return firstname + &quot; &quot; + lastname;\r\n        }\r\n    }","title":"How to map multiple fields into one destination field using modelmapper","body":"<p>How to map/merge multiple fields into one field? Like concatenate a <code>firstname</code> and <code>lastname</code> to the destination <code>fullname</code>?</p>\n\n<pre><code>public class ModelMapperConfigTest {\n\n    @Test\n    public void should_validate() {\n        new ModelMapperConfig().modelMapper().validate();\n    }\n\n    @Data\n    public static class Person {\n        private String firstname;\n        private String lastname;\n    }\n\n    @Data\n    public static class PersonDto {\n        private String firstname;\n        private String lastname;\n        private String fullname;\n    }\n\n    // Test data\n\n    @Test\n    public void should_map_multiple_fields_into_one() {\n\n        ModelMapper modelMapper = new ModelMapper();\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n\n        // TODO: Configure modelmapper to merge the two fields\n\n        // test that all fields are mapped\n        modelMapper.validate();\n\n        // test that the age is calculated\n        Person person = new Person();\n        person.setFirstname(\"Marilyn\");\n        person.setLastname(\"Monroe\");\n        PersonDto personDto = modelMapper.map(person, PersonDto.class);\n        assertEquals(personDto.fullname, \"Marilyn Monroe\");\n    }\n\n    // This method should be used for mapping. In real, this could be a service call\n    private String generateFullname(String firstname, String lastname) {\n        return firstname + \" \" + lastname;\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","file-io"],"answers":[{"tags":[],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222327732,"creation_date":1222327732,"answer_id":131943,"question_id":131901,"body_markdown":"Do you check that the targetPath is a directory, or just that something exists with that name? (I know you say the user can copy it from the operating system, but maybe they&#39;re typing something else).\r\n\r\nDoes targetPath end with a File.separator already?\r\n\r\n(It would help if you could log and tell us what the value of targetPath and filename are on a failing case)","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Do you check that the targetPath is a directory, or just that something exists with that name? (I know you say the user can copy it from the operating system, but maybe they're typing something else).</p>\n\n<p>Does targetPath end with a File.separator already?</p>\n\n<p>(It would help if you could log and tell us what the value of targetPath and filename are on a failing case)</p>\n"},{"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222327791,"creation_date":1222327791,"answer_id":131948,"question_id":131901,"body_markdown":"Maybe the problem is that it is copying the file over the network, to a shared drive?  I think java can have problems when writing files using NFS when the path is something like \\\\mypc\\myshared folder.\r\n\r\nWhat is the path where this problem happens?","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Maybe the problem is that it is copying the file over the network, to a shared drive?  I think java can have problems when writing files using NFS when the path is something like \\mypc\\myshared folder.</p>\n\n<p>What is the path where this problem happens?</p>\n"},{"tags":[],"owner":{"account_id":5731,"reputation":11859,"user_id":9396,"accept_rate":81,"display_name":"gizmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222327820,"creation_date":1222327820,"answer_id":131952,"question_id":131901,"body_markdown":"Try adding some logging to see exactly what is the name and path the file is trying to create, to ensure that the parent is well a directory.\r\n\r\nIn addition, you can also take a look at Channels instead of using a loop. ;-)","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Try adding some logging to see exactly what is the name and path the file is trying to create, to ensure that the parent is well a directory.</p>\n\n<p>In addition, you can also take a look at Channels instead of using a loop. ;-)</p>\n"},{"comments":[{"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"score":0,"creation_date":1587019652,"post_id":131978,"comment_id":108345105,"body_markdown":"Commas are not allowed on Windows but allowed on other OS. Maybe that&#39;s the reason?","body":"Commas are not allowed on Windows but allowed on other OS. Maybe that&#39;s the reason?"}],"tags":[],"owner":{"account_id":8625,"reputation":2119,"user_id":15627,"accept_rate":86,"display_name":"Lars Westergren"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222328347,"creation_date":1222328347,"answer_id":131978,"question_id":131901,"body_markdown":"You say &quot;for some users&quot; - so it works for others? What is the difference here, are the users running different instances on different machines, or is this a server that services concurrent users?\r\n\r\nIf the latter, I&#39;d say it is a concurrency bug somehow - two threads check try to create the file with WinNTFileSystem.createFileExclusively(Native Method) simultaniously.\r\n\r\nNeither createNewFile or createFileExclusively are synchronized when I look at the OpenJDK source, so you may have to synchronize this block yourself.","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>You say \"for some users\" - so it works for others? What is the difference here, are the users running different instances on different machines, or is this a server that services concurrent users?</p>\n\n<p>If the latter, I'd say it is a concurrency bug somehow - two threads check try to create the file with WinNTFileSystem.createFileExclusively(Native Method) simultaniously.</p>\n\n<p>Neither createNewFile or createFileExclusively are synchronized when I look at the OpenJDK source, so you may have to synchronize this block yourself.</p>\n"},{"tags":[],"owner":{"account_id":8457,"reputation":1163,"user_id":15259,"accept_rate":75,"display_name":"xmjx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222328753,"creation_date":1222328753,"answer_id":131994,"question_id":131901,"body_markdown":"Try to create the file in a different directory - e.g. &quot;C:\\&quot; after you made sure you have write access to that directory. If that works, the path name of the file is wrong.\r\n\r\nTake a look at the comment in the Exception and try to vary all the elements in the path name of the file. Experiment. Draw conclusions.","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Try to create the file in a different directory - e.g. \"C:\\\" after you made sure you have write access to that directory. If that works, the path name of the file is wrong.</p>\n\n<p>Take a look at the comment in the Exception and try to vary all the elements in the path name of the file. Experiment. Draw conclusions.</p>\n"},{"comments":[{"owner":{"account_id":3645,"reputation":2084,"user_id":5271,"display_name":"Turismo"},"score":0,"creation_date":1222336275,"post_id":132311,"comment_id":32977,"body_markdown":"The API actually says that it won&#39;t throw an IOException if the file already exists but simply returns false in this case.","body":"The API actually says that it won&#39;t throw an IOException if the file already exists but simply returns false in this case."}],"tags":[],"owner":{"account_id":11224,"reputation":1711,"user_id":21548,"display_name":"bernardn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222334940,"creation_date":1222334940,"answer_id":132311,"question_id":131901,"body_markdown":"Maybe the file already exists. It could be the case if your timestamp resolution is not good enough. As it is an IOException that you are getting, it might not be a permission issue (in which case you would get a SecurityException).\r\n\r\nI would first check for file existence before trying to create the file and try to log what&#39;s happening.\r\n\r\nLook at [public boolean createNewFile()][1] for more information on the method you are using.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#createNewFile()","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Maybe the file already exists. It could be the case if your timestamp resolution is not good enough. As it is an IOException that you are getting, it might not be a permission issue (in which case you would get a SecurityException).</p>\n\n<p>I would first check for file existence before trying to create the file and try to log what's happening.</p>\n\n<p>Look at <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#createNewFile()\" rel=\"nofollow noreferrer\">public boolean createNewFile()</a> for more information on the method you are using.</p>\n"},{"tags":[],"owner":{"account_id":9122,"reputation":9322,"user_id":16724,"display_name":"Alexander"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1222354864,"creation_date":1222354864,"answer_id":133845,"question_id":131901,"body_markdown":"Try this, as it takes more care of adjusting directory separator characters in the path between targetPath and filename:\r\n\r\n    File targetFile = new File(targetPath, filename);","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Try this, as it takes more care of adjusting directory separator characters in the path between targetPath and filename:</p>\n\n<pre><code>File targetFile = new File(targetPath, filename);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3645,"reputation":2084,"user_id":5271,"display_name":"Turismo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1224062541,"creation_date":1224062541,"answer_id":204143,"question_id":131901,"body_markdown":"As I was not able to reproduce the error on my own machine or get hands on the machine of the user where the code failed I waited until now to declare an accepted answer.\r\nI changed the code to the following:\r\n\r\n    File parentFolder = new File(targetPath);\r\n    ... do some checks on parentFolder here ...\r\n    File targetFile = new File(parentFolder, filename);\r\n    targetFile.createNewFile();\r\n    fileInputStream = new FileInputStream(fileToCopy);\r\n    fileOutputStream = new FileOutputStream(targetFile);\r\n    byte[] buffer = new byte[64*1024];\r\n    int i = 0;\r\n    while((i = fileInputStream.read(buffer)) != -1) {\r\n        fileOutputStream.write(buffer, 0, i);\r\n    }\r\n\r\nAfter that it worked for the user reporting the problem. \r\n\r\nSo it seems Alexanders answer did the trick - although I actually use a slightly different constructor than he gave, but along the same lines.\r\n\r\nI yet have to talk that user into helping me verifying that the code change fixed the error (instead of him doing something differently) by running the old version again and checking if it still fails.\r\n\r\nbtw. logging was in place and the logged path seemed ok - sorry for not mentioning that. I took that for granted and found it unnecessarily complicated the code in the question. \r\n\r\nThanks for the helpful answers.","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>As I was not able to reproduce the error on my own machine or get hands on the machine of the user where the code failed I waited until now to declare an accepted answer.\nI changed the code to the following:</p>\n\n<pre><code>File parentFolder = new File(targetPath);\n... do some checks on parentFolder here ...\nFile targetFile = new File(parentFolder, filename);\ntargetFile.createNewFile();\nfileInputStream = new FileInputStream(fileToCopy);\nfileOutputStream = new FileOutputStream(targetFile);\nbyte[] buffer = new byte[64*1024];\nint i = 0;\nwhile((i = fileInputStream.read(buffer)) != -1) {\n    fileOutputStream.write(buffer, 0, i);\n}\n</code></pre>\n\n<p>After that it worked for the user reporting the problem. </p>\n\n<p>So it seems Alexanders answer did the trick - although I actually use a slightly different constructor than he gave, but along the same lines.</p>\n\n<p>I yet have to talk that user into helping me verifying that the code change fixed the error (instead of him doing something differently) by running the old version again and checking if it still fails.</p>\n\n<p>btw. logging was in place and the logged path seemed ok - sorry for not mentioning that. I took that for granted and found it unnecessarily complicated the code in the question. </p>\n\n<p>Thanks for the helpful answers.</p>\n"},{"comments":[{"owner":{"account_id":5203950,"reputation":484,"user_id":4162520,"display_name":"Imre"},"score":1,"creation_date":1507629450,"post_id":2707804,"comment_id":80275826,"body_markdown":"Agreed. I was getting the same error when referring to a file at C:\\Users\\user\\Desktop... but when moved the file to C:\\temp the issue was resolved, hence certainly can be permission related problem.","body":"Agreed. I was getting the same error when referring to a file at C:\\Users\\user\\Desktop... but when moved the file to C:\\temp the issue was resolved, hence certainly can be permission related problem."}],"tags":[],"owner":{"account_id":609990,"reputation":71,"user_id":325329,"display_name":"Sensei"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1356333306,"creation_date":1272189391,"answer_id":2707804,"question_id":131901,"body_markdown":"I just encountered the same problem. I think it has to something do with write access permission. I got the error while trying to write to c:\\ but on changing to D:\\ everything worked fine.\r\nApparently Java did not have permission to write to my System Drive (Running Windows 7 installed on C:\\)","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>I just encountered the same problem. I think it has to something do with write access permission. I got the error while trying to write to c:\\ but on changing to D:\\ everything worked fine.\nApparently Java did not have permission to write to my System Drive (Running Windows 7 installed on C:)</p>\n"},{"comments":[{"owner":{"account_id":3645,"reputation":2084,"user_id":5271,"display_name":"Turismo"},"score":0,"creation_date":1297155241,"post_id":4921530,"comment_id":5495954,"body_markdown":"You should open a new question for your problem if working through the answers on this question does not help you. It is unlikely that you get an answer if you post your question as an answer to this question.","body":"You should open a new question for your problem if working through the answers on this question does not help you. It is unlikely that you get an answer if you post your question as an answer to this question."}],"tags":[],"owner":{"account_id":705113,"reputation":29,"user_id":606450,"display_name":"w.pasman"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1297083227,"creation_date":1297083227,"answer_id":4921530,"question_id":131901,"body_markdown":"Here is the test program I use\r\n\r\n    import java.io.File;\r\n    public class TestWrite {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tif (args.length!=1) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Expected 1 argument: dir for tmp file&quot;);\r\n    \t\t}\r\n    \t\ttry  {\r\n    \t\t\tFile.createTempFile(&quot;bla&quot;,&quot;.tmp&quot;,new File(args[0]));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;exception:&quot;+e);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Here is the test program I use</p>\n\n<pre><code>import java.io.File;\npublic class TestWrite {\n\n    public static void main(String[] args) {\n        if (args.length!=1) {\n            throw new IllegalArgumentException(\"Expected 1 argument: dir for tmp file\");\n        }\n        try  {\n            File.createTempFile(\"bla\",\".tmp\",new File(args[0]));\n        } catch (Exception e) {\n            System.out.println(\"exception:\"+e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208894,"reputation":766,"user_id":459655,"accept_rate":60,"display_name":"MikeRoger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354272605,"creation_date":1354272605,"answer_id":13643716,"question_id":131901,"body_markdown":"A very similar error:-\r\n &quot; ... java.io.IOException: The filename, directory name, or volume label syntax is incorrect&quot;\r\nwas generated in Eclipse for me when the TOMCAT home setting had a training backslash.\r\n\r\nThe minor edit suggested at:-\r\n http://www.coderanch.com/t/556633/Tomcat/java-io-IOException-filename-directory\r\nfixed it for me. ","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>A very similar error:-\n \" ... java.io.IOException: The filename, directory name, or volume label syntax is incorrect\"\nwas generated in Eclipse for me when the TOMCAT home setting had a training backslash.</p>\n\n<p>The minor edit suggested at:-\n <a href=\"http://www.coderanch.com/t/556633/Tomcat/java-io-IOException-filename-directory\" rel=\"nofollow\">http://www.coderanch.com/t/556633/Tomcat/java-io-IOException-filename-directory</a>\nfixed it for me. </p>\n"},{"comments":[{"owner":{"account_id":4185494,"reputation":657,"user_id":6314220,"accept_rate":32,"display_name":"ThomasRones"},"score":0,"creation_date":1564654925,"post_id":35444964,"comment_id":101106185,"body_markdown":"This worked for me. SAP HANA was using this method to create a log file and the colons in my table names were causing the method to fail","body":"This worked for me. SAP HANA was using this method to create a log file and the colons in my table names were causing the method to fail"},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":1,"creation_date":1615850329,"post_id":35444964,"comment_id":117815229,"body_markdown":"Using colons in the filename is what brought me here :p","body":"Using colons in the filename is what brought me here :p"}],"tags":[],"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1581086842,"creation_date":1455664851,"answer_id":35444964,"question_id":131901,"body_markdown":"This can occur when filename has timestamp with colons, eg. `myfile_HH:mm:ss.csv`  Removing colons fixed the issue.","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>This can occur when filename has timestamp with colons, eg. <code>myfile_HH:mm:ss.csv</code>  Removing colons fixed the issue.</p>\n"},{"comments":[{"owner":{"account_id":1129881,"reputation":11550,"user_id":1116230,"display_name":"Nico Haase"},"score":1,"creation_date":1561556781,"post_id":56770950,"comment_id":100104111,"body_markdown":"Please add some more explanation about how to do this. The OP stated &quot;I don&#39;t have access to a machine&quot;, and that was more than ten years(!) ago","body":"Please add some more explanation about how to do this. The OP stated &quot;I don&#39;t have access to a machine&quot;, and that was more than ten years(!) ago"}],"tags":[],"owner":{"account_id":15277425,"reputation":21,"user_id":11022773,"display_name":"urupani"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561545832,"creation_date":1561545832,"answer_id":56770950,"question_id":131901,"body_markdown":"Remove any special characters in the file/folder name in the complete path.","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>Remove any special characters in the file/folder name in the complete path.</p>\n"},{"tags":[],"owner":{"account_id":26904748,"reputation":1,"user_id":20481302,"display_name":"user20481302"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668619930,"creation_date":1668200604,"answer_id":74408100,"question_id":131901,"body_markdown":"~~~\r\nFileUtils.copyFile(src,new File(&quot;C:\\\\Users\\\\daiva\\\\eclipse-workspace\\\\PracticeProgram\\\\Screenshot\\\\adi.png&quot;));\r\n~~~\r\n\t\r\n\r\nTry to copy file like this.\r\n","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<pre><code>FileUtils.copyFile(src,new File(&quot;C:\\\\Users\\\\daiva\\\\eclipse-workspace\\\\PracticeProgram\\\\Screenshot\\\\adi.png&quot;));\n</code></pre>\n<p>Try to copy file like this.</p>\n"}],"owner":{"account_id":3645,"reputation":2084,"user_id":5271,"display_name":"Turismo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127273,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":133845,"answer_count":14,"score":22,"last_activity_date":1668619930,"creation_date":1222327348,"question_id":131901,"body_markdown":"I am trying to copy a file using the following code:\r\n\r\n    File targetFile = new File(targetPath + File.separator + filename);\r\n    ...\r\n    targetFile.createNewFile();\r\n    fileInputStream = new FileInputStream(fileToCopy);\r\n    fileOutputStream = new FileOutputStream(targetFile);\r\n    byte[] buffer = new byte[64*1024];\r\n    int i = 0;\r\n    while((i = fileInputStream.read(buffer)) != -1) {\r\n        fileOutputStream.write(buffer, 0, i);\r\n    }\r\n\r\nFor some users the &lt;code&gt;targetFile.createNewFile&lt;/code&gt; results in this exception:\r\n    \r\n    java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n        at java.io.WinNTFileSystem.createFileExclusively(Native Method)\r\n        at java.io.File.createNewFile(File.java:850)\r\n\r\n\r\nFilename and directory name seem to be correct. The directory &lt;code&gt;targetPath&lt;/code&gt; is even checked for existence before the copy code is executed and the filename looks like this: &lt;code&gt;AB_timestamp.xml&lt;/code&gt;\r\n\r\nThe user has write permissions to the &lt;code&gt;targetPath&lt;/code&gt; and can copy the file without problems using the OS.\r\n\r\nAs I don&#39;t have access to a machine this happens on yet and can&#39;t reproduce the problem on my own machine I turn to you for hints on the reason for this exception.\r\n\r\n\r\n","title":"What are possible reasons for java.io.IOException: &quot;The filename, directory name, or volume label syntax is incorrect&quot;","body":"<p>I am trying to copy a file using the following code:</p>\n\n<pre><code>File targetFile = new File(targetPath + File.separator + filename);\n...\ntargetFile.createNewFile();\nfileInputStream = new FileInputStream(fileToCopy);\nfileOutputStream = new FileOutputStream(targetFile);\nbyte[] buffer = new byte[64*1024];\nint i = 0;\nwhile((i = fileInputStream.read(buffer)) != -1) {\n    fileOutputStream.write(buffer, 0, i);\n}\n</code></pre>\n\n<p>For some users the <code>targetFile.createNewFile</code> results in this exception:</p>\n\n<pre><code>java.io.IOException: The filename, directory name, or volume label syntax is incorrect\n    at java.io.WinNTFileSystem.createFileExclusively(Native Method)\n    at java.io.File.createNewFile(File.java:850)\n</code></pre>\n\n<p>Filename and directory name seem to be correct. The directory <code>targetPath</code> is even checked for existence before the copy code is executed and the filename looks like this: <code>AB_timestamp.xml</code></p>\n\n<p>The user has write permissions to the <code>targetPath</code> and can copy the file without problems using the OS.</p>\n\n<p>As I don't have access to a machine this happens on yet and can't reproduce the problem on my own machine I turn to you for hints on the reason for this exception.</p>\n"},{"tags":["java","ssl","java-8","tomcat9","protocol-handler"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1541427091,"post_id":53155979,"comment_id":93202407,"body_markdown":"Try different port as 4444 or 8443","body":"Try different port as 4444 or 8443"},{"owner":{"account_id":8408382,"reputation":31,"user_id":7785725,"display_name":"Kıvan&#231; Eren"},"score":0,"creation_date":1541428726,"post_id":53155979,"comment_id":93203398,"body_markdown":"I tried but nothings changed, i got same output.","body":"I tried but nothings changed, i got same output."}],"answers":[{"tags":[],"owner":{"account_id":8072358,"reputation":1,"user_id":6084689,"display_name":"Valentine A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563893840,"creation_date":1563893840,"answer_id":57166976,"question_id":53155979,"body_markdown":"I had the same issue. \r\nIt starts to initialize a non-io-blocking connector\r\n\r\n    05-Nov-2018 16:33:57.080 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\nBut your config suggests using io blocking connector\r\n\r\n    Http11Protocol\r\nSo maybe you&#39;d try using other connector instead. In my case changing `Http11Protocol` to `Http11NioProtocol` helped to fix this error.\r\n","title":"Tomcat 9 SSL/TLS -Failed to initialize component error","body":"<p>I had the same issue. \nIt starts to initialize a non-io-blocking connector</p>\n\n<pre><code>05-Nov-2018 16:33:57.080 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-8080\"]\n</code></pre>\n\n<p>But your config suggests using io blocking connector</p>\n\n<pre><code>Http11Protocol\n</code></pre>\n\n<p>So maybe you'd try using other connector instead. In my case changing <code>Http11Protocol</code> to <code>Http11NioProtocol</code> helped to fix this error.</p>\n"},{"comments":[{"owner":{"account_id":1585266,"reputation":372,"user_id":1469789,"display_name":"sataniccrow"},"score":0,"creation_date":1611740175,"post_id":60888117,"comment_id":116545124,"body_markdown":"Thanks, you highlight the correct configuration: adding the official page which goes over the topic https://tomcat.apache.org/tomcat-9.0-doc/ssl-howto.html","body":"Thanks, you highlight the correct configuration: adding the official page which goes over the topic <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/ssl-howto.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-9.0-doc/ssl-howto.html</a>"}],"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1585319618,"creation_date":1585319618,"answer_id":60888117,"question_id":53155979,"body_markdown":"In **Tomcat 9.0.x** get rid of the below exceptions by updating the **protocol** attribute value in the **Connector** element of ***server.xml*** file.\r\n\r\n**Exceptions:**\r\n\r\n    27-Mar-2020 08:06:45.726 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[org.apache.coyote.http11.Http11Protocol-auto-null]]\r\n\torg.apache.catalina.LifecycleException: Protocol handler instantiation failed\r\n\r\n    27-Mar-2020 08:06:44.929 SEVERE [main] org.apache.catalina.connector.Connector.&lt;init&gt; Protocol handler instantiation failed\r\n\tjava.lang.ClassNotFoundException: org.apache.coyote.http11.Http11Protocol\r\n\r\n**Exception Syntax:**\r\n\r\n    &lt;Connector port=&quot;9443&quot; \r\n\t\tprotocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\r\n\t\tmaxThreads=&quot;200&quot; \r\n\t\tSSLEnabled=&quot;true&quot; \r\n\t\tscheme=&quot;https&quot; \r\n\t\tsecure=&quot;true&quot;\r\n\t\tclientAuth=&quot;want&quot; \r\n\t\tsslProtocol=&quot;TLS&quot; \r\n\t\tconnectionTimeout=&quot;20000&quot; \r\n\t\tkeystoreFile=&quot;D:\\\\MYAPP\\\\DINESH_LOMTE\\\\dlomte_keystore.jks&quot; \r\n\t\tkeystorePass=&quot;cardinal&quot; \r\n\t\tkeystoreType=&quot;JKS&quot;\r\n\t\ttruststoreFile=&quot;D:\\\\MYAPP\\\\DINESH_LOMTE\\\\dlomte_truststore.jks&quot; \r\n\t\ttruststorePass=&quot;cardinal&quot; \r\n\t\ttruststoreType=&quot;JKS&quot;\r\n\t/&gt;\r\nIn the above **Connector** element syntax update the **protocol** attribute value\r\n\r\nFrom\r\n\r\n    protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\r\n\r\nTo\r\n\r\n    protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n\r\n**Note:** In order to use an explicit protocol rather than rely on the auto-switching mechanism one of the below values may be used, choose as per your requirement\r\n\r\n    org.apache.coyote.http11.Http11NioProtocol - non blocking Java NIO connector\r\n    org.apache.coyote.http11.Http11Nio2Protocol - non blocking Java NIO2 connector\r\n    org.apache.coyote.http11.Http11AprProtocol - the APR/native connector.\r\n","title":"Tomcat 9 SSL/TLS -Failed to initialize component error","body":"<p>In <strong>Tomcat 9.0.x</strong> get rid of the below exceptions by updating the <strong>protocol</strong> attribute value in the <strong>Connector</strong> element of <strong><em>server.xml</em></strong> file.</p>\n\n<p><strong>Exceptions:</strong></p>\n\n<pre><code>27-Mar-2020 08:06:45.726 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[org.apache.coyote.http11.Http11Protocol-auto-null]]\norg.apache.catalina.LifecycleException: Protocol handler instantiation failed\n\n27-Mar-2020 08:06:44.929 SEVERE [main] org.apache.catalina.connector.Connector.&lt;init&gt; Protocol handler instantiation failed\njava.lang.ClassNotFoundException: org.apache.coyote.http11.Http11Protocol\n</code></pre>\n\n<p><strong>Exception Syntax:</strong></p>\n\n<pre><code>&lt;Connector port=\"9443\" \n    protocol=\"org.apache.coyote.http11.Http11Protocol\"\n    maxThreads=\"200\" \n    SSLEnabled=\"true\" \n    scheme=\"https\" \n    secure=\"true\"\n    clientAuth=\"want\" \n    sslProtocol=\"TLS\" \n    connectionTimeout=\"20000\" \n    keystoreFile=\"D:\\\\MYAPP\\\\DINESH_LOMTE\\\\dlomte_keystore.jks\" \n    keystorePass=\"cardinal\" \n    keystoreType=\"JKS\"\n    truststoreFile=\"D:\\\\MYAPP\\\\DINESH_LOMTE\\\\dlomte_truststore.jks\" \n    truststorePass=\"cardinal\" \n    truststoreType=\"JKS\"\n/&gt;\n</code></pre>\n\n<p>In the above <strong>Connector</strong> element syntax update the <strong>protocol</strong> attribute value</p>\n\n<p>From</p>\n\n<pre><code>protocol=\"org.apache.coyote.http11.Http11Protocol\"\n</code></pre>\n\n<p>To</p>\n\n<pre><code>protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n</code></pre>\n\n<p><strong>Note:</strong> In order to use an explicit protocol rather than rely on the auto-switching mechanism one of the below values may be used, choose as per your requirement</p>\n\n<pre><code>org.apache.coyote.http11.Http11NioProtocol - non blocking Java NIO connector\norg.apache.coyote.http11.Http11Nio2Protocol - non blocking Java NIO2 connector\norg.apache.coyote.http11.Http11AprProtocol - the APR/native connector.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26896778,"reputation":11,"user_id":20474561,"display_name":"SunilC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668619888,"creation_date":1668141050,"answer_id":74398034,"question_id":53155979,"body_markdown":"For tomcat9 change the protocol to HTTP1.1 for 8443 connector.\r\n~~~\r\n&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1\r\n~~~","title":"Tomcat 9 SSL/TLS -Failed to initialize component error","body":"<p>For tomcat9 change the protocol to HTTP1.1 for 8443 connector.</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1\n</code></pre>\n"}],"owner":{"account_id":8408382,"reputation":31,"user_id":7785725,"display_name":"Kıvan&#231; Eren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20017,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1668619888,"creation_date":1541426712,"question_id":53155979,"body_markdown":"I have Tomcat 9.0.12 and Java JDK/JRE 1.8.0_191. I&#39;m trying to configure SSL/TLS. I&#39;ve changed my server.xml file like this:\r\n\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;443&quot; /&gt;\r\n       \r\n    &lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot; SSLEnabled=&quot;true&quot;\r\n                   maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n                   clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; \r\n    \t\t\t   keystoreFile=&quot;C:\\my_certificate.pfx&quot;\r\n    \t\t\t   keystorePass=&quot;my_password&quot; keystoreType=&quot;PKCS12&quot; /&gt;\r\n\r\nMy certificate file is *.pfx format. I run tomcat server via command line with startup.bat command. But i got an error like this (in my catalina.log):\r\n\r\n\r\n    ...\r\n    05-Nov-2018 16:33:57.080 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    05-Nov-2018 16:33:57.190 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    05-Nov-2018 16:33:57.205 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[org.apache.coyote.http11.Http11Protocol-443]]\r\n     org.apache.catalina.LifecycleException: Protocol handler instantiation failed\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:904)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:533)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:852)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:633)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:656)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:306)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:491)\r\n    ...\r\n\r\nwhen i try to connect http://localhost:443 i get ERR_CONNECTION_REFUSED which i added to below.\r\n\r\nERR_CONNECTION_REFUSED:\r\n\r\n![Connection refused error screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/evOCO.jpg","title":"Tomcat 9 SSL/TLS -Failed to initialize component error","body":"<p>I have Tomcat 9.0.12 and Java JDK/JRE 1.8.0_191. I'm trying to configure SSL/TLS. I've changed my server.xml file like this:</p>\n\n<pre><code>&lt;Connector port=\"8080\" protocol=\"HTTP/1.1\"\n               connectionTimeout=\"20000\"\n               redirectPort=\"443\" /&gt;\n\n&lt;Connector port=\"443\" protocol=\"org.apache.coyote.http11.Http11Protocol\" SSLEnabled=\"true\"\n               maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n               clientAuth=\"false\" sslProtocol=\"TLS\" \n               keystoreFile=\"C:\\my_certificate.pfx\"\n               keystorePass=\"my_password\" keystoreType=\"PKCS12\" /&gt;\n</code></pre>\n\n<p>My certificate file is *.pfx format. I run tomcat server via command line with startup.bat command. But i got an error like this (in my catalina.log):</p>\n\n<pre><code>...\n05-Nov-2018 16:33:57.080 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-8080\"]\n05-Nov-2018 16:33:57.190 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n05-Nov-2018 16:33:57.205 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[org.apache.coyote.http11.Http11Protocol-443]]\n org.apache.catalina.LifecycleException: Protocol handler instantiation failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:904)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:533)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:852)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:633)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:656)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:306)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:491)\n...\n</code></pre>\n\n<p>when i try to connect <a href=\"http://localhost:443\" rel=\"nofollow noreferrer\">http://localhost:443</a> i get ERR_CONNECTION_REFUSED which i added to below.</p>\n\n<p>ERR_CONNECTION_REFUSED:</p>\n\n<p><img src=\"https://i.stack.imgur.com/evOCO.jpg\" alt=\"Connection refused error screenshot\"></p>\n"},{"tags":["java","c#","json","serialization","deserialization"],"comments":[{"owner":{"account_id":4746850,"reputation":1232,"user_id":3837961,"display_name":"Bartosz Olchowik"},"score":0,"creation_date":1668583790,"post_id":74456610,"comment_id":131437978,"body_markdown":"arent your Java properties of Data array&#39;s ?","body":"arent your Java properties of Data array&#39;s ?"},{"owner":{"account_id":11295776,"reputation":162,"user_id":8283352,"display_name":"kyo"},"score":0,"creation_date":1668584163,"post_id":74456610,"comment_id":131438076,"body_markdown":"@BartoszOlchowik no they are not","body":"@BartoszOlchowik no they are not"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1668584398,"post_id":74456610,"comment_id":131438129,"body_markdown":"Can you post the actual json that&#39;s going on the line from P1 to P2? I would write it out in P1 before sending, in P2 after receiving (the plain json) and maybe intercept the packets with wireshark and check what&#39;s actually being sent.","body":"Can you post the actual json that&#39;s going on the line from P1 to P2? I would write it out in P1 before sending, in P2 after receiving (the plain json) and maybe intercept the packets with wireshark and check what&#39;s actually being sent."},{"owner":{"account_id":15788230,"reputation":42024,"user_id":11392290,"display_name":"Serge"},"score":0,"creation_date":1668608055,"post_id":74456610,"comment_id":131446756,"body_markdown":"Everything converts to json string to move from one lang to another. So you have to show a json that was sent to Java.  If it is Ok, then it is a java problem,but we need a json to telll it.","body":"Everything converts to json string to move from one lang to another. So you have to show a json that was sent to Java.  If it is Ok, then it is a java problem,but we need a json to telll it."},{"owner":{"account_id":11295776,"reputation":162,"user_id":8283352,"display_name":"kyo"},"score":0,"creation_date":1668619261,"post_id":74456610,"comment_id":131451453,"body_markdown":"Now guys, I was busy with fixing the problem, sorry for late reply. I am giving you the json payloads and the answer thank you for your minus point and your concern.","body":"Now guys, I was busy with fixing the problem, sorry for late reply. I am giving you the json payloads and the answer thank you for your minus point and your concern."}],"answers":[{"tags":[],"owner":{"account_id":11295776,"reputation":162,"user_id":8283352,"display_name":"kyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668619225,"creation_date":1668619225,"answer_id":74464661,"question_id":74456610,"body_markdown":"The problem was using RestRequest/AddJsonBody method like below\r\n\r\n    Request myRequestPayload; // to show payload type\r\n    var client = new RestClient(options);\r\n    var request = new RestRequest();\r\n    var serializedEvent = JsonConvert.SerializeObject(myRequestPayload);\r\n    request.AddJsonBody(serializedEvent);\r\n\r\nand RestSharp documentation has a warning saying **&quot;Do not send JSON string or some sort of JObject instance to AddJsonBody; it won&#39;t work! Use AddStringBody instead.&quot;** So I fixed it by changing AddJsonBody with AddStringBody.\r\nhttps://restsharp.dev/usage.html#url-segment","title":"Request coming as C# JObject to Java JSonNode is not coming properly","body":"<p>The problem was using RestRequest/AddJsonBody method like below</p>\n<pre><code>Request myRequestPayload; // to show payload type\nvar client = new RestClient(options);\nvar request = new RestRequest();\nvar serializedEvent = JsonConvert.SerializeObject(myRequestPayload);\nrequest.AddJsonBody(serializedEvent);\n</code></pre>\n<p>and RestSharp documentation has a warning saying <strong>&quot;Do not send JSON string or some sort of JObject instance to AddJsonBody; it won't work! Use AddStringBody instead.&quot;</strong> So I fixed it by changing AddJsonBody with AddStringBody.\n<a href=\"https://restsharp.dev/usage.html#url-segment\" rel=\"nofollow noreferrer\">https://restsharp.dev/usage.html#url-segment</a></p>\n"}],"owner":{"account_id":11295776,"reputation":162,"user_id":8283352,"display_name":"kyo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668619225,"creation_date":1668583632,"question_id":74456610,"body_markdown":"I have 2 project, P1(.Net) and P2(Java). A post request sends the object to the P1 and P1 deserializes &amp; sends it to P2. Here is the P1 class of the request object in C#.\r\n\r\n    public class Request\r\n    {\r\n        [JsonProperty(&quot;id&quot;)]\r\n        public string Id { get; set; }\r\n        [JsonProperty(&quot;type&quot;)]\r\n        public string Type{ get; set; }\r\n        [JsonProperty(&quot;data&quot;)]\r\n        public JObject Data { get; set; }\r\n    }\r\n\r\nHere is the P2 class of the request object in Java\r\n\r\n    public class Request{\r\n        private String id;\r\n        private String type;\r\n        private JsonNode data;\r\n    }\r\n\r\nWhen data come to P1, after deserialization the request is full and expected like below.\r\n\r\n    id -&gt; 3\r\n    type -&gt; &quot;type1&quot;\r\n    data -&gt; {{name: &quot;myRequest&quot;, topic: &quot;myTopic&quot;}}\r\n\r\nHowever when it hits to the P2 endpoint, the request becomes\r\n\r\n    id -&gt; 3\r\n    type -&gt; &quot;type1&quot;\r\n    data -&gt; {{name: [], topic: []}}\r\nI don&#39;t know where is the problem and I need the data variable as JsonNode because its actual type depends on the request type and I need to parse it in P2. \r\nThe json in P1 is below\r\n\r\n    {\r\n       &quot;id&quot;: &quot;1234&quot;,\r\n       &quot;type&quot;: &quot;type1&quot;,\r\n       &quot;data&quot;: \r\n       {\r\n          &quot;name&quot;: &quot;010018&quot;,\r\n          &quot;topic&quot;: &quot;EGYT&quot;\r\n       }\r\n    }\r\n\r\nThe JSON going from P1 to P2 is below\r\n\r\n    {\r\n       &quot;id&quot;: &quot;1234&quot;,\r\n       &quot;type&quot;: &quot;type1&quot;,\r\n       &quot;data&quot;: \r\n       {\r\n         &quot;name&quot;: [],\r\n         &quot;topic&quot;: []\r\n       }\r\n    }\r\n\r\nI found the answer and sharing below\r\n","title":"Request coming as C# JObject to Java JSonNode is not coming properly","body":"<p>I have 2 project, P1(.Net) and P2(Java). A post request sends the object to the P1 and P1 deserializes &amp; sends it to P2. Here is the P1 class of the request object in C#.</p>\n<pre><code>public class Request\n{\n    [JsonProperty(&quot;id&quot;)]\n    public string Id { get; set; }\n    [JsonProperty(&quot;type&quot;)]\n    public string Type{ get; set; }\n    [JsonProperty(&quot;data&quot;)]\n    public JObject Data { get; set; }\n}\n</code></pre>\n<p>Here is the P2 class of the request object in Java</p>\n<pre><code>public class Request{\n    private String id;\n    private String type;\n    private JsonNode data;\n}\n</code></pre>\n<p>When data come to P1, after deserialization the request is full and expected like below.</p>\n<pre><code>id -&gt; 3\ntype -&gt; &quot;type1&quot;\ndata -&gt; {{name: &quot;myRequest&quot;, topic: &quot;myTopic&quot;}}\n</code></pre>\n<p>However when it hits to the P2 endpoint, the request becomes</p>\n<pre><code>id -&gt; 3\ntype -&gt; &quot;type1&quot;\ndata -&gt; {{name: [], topic: []}}\n</code></pre>\n<p>I don't know where is the problem and I need the data variable as JsonNode because its actual type depends on the request type and I need to parse it in P2.\nThe json in P1 is below</p>\n<pre><code>{\n   &quot;id&quot;: &quot;1234&quot;,\n   &quot;type&quot;: &quot;type1&quot;,\n   &quot;data&quot;: \n   {\n      &quot;name&quot;: &quot;010018&quot;,\n      &quot;topic&quot;: &quot;EGYT&quot;\n   }\n}\n</code></pre>\n<p>The JSON going from P1 to P2 is below</p>\n<pre><code>{\n   &quot;id&quot;: &quot;1234&quot;,\n   &quot;type&quot;: &quot;type1&quot;,\n   &quot;data&quot;: \n   {\n     &quot;name&quot;: [],\n     &quot;topic&quot;: []\n   }\n}\n</code></pre>\n<p>I found the answer and sharing below</p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":21176012,"reputation":21,"user_id":15571310,"display_name":"Tnxts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668618953,"creation_date":1668618582,"question_id":74464513,"body_markdown":"I&#39;m using springboot and springsecurity, I make my own EntryPoint and AccessDenied, but it seems that they don&#39;t work when i throw a AuthenticationException in filter.\r\n\r\n**CustomAccessDeniedHandler.java**\r\n\r\n```\r\n@Slf4j\r\npublic class CustomAccessDeniedHandler implements AccessDeniedHandler {\r\n    @Override\r\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n        response.setContentType(&quot;application/json;charset=utf-8&quot;);\r\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n        PrintWriter out = response.getWriter();\r\n        out.write(new ObjectMapper().writeValueAsString(&quot;no access&quot;));\r\n        out.flush();\r\n        out.close();\r\n    }\r\n}\r\n\r\n```\r\n**CustomAuthenticationEntryPoint.java**\r\n```\r\n@Slf4j\r\npublic class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n        response.getWriter().write(&quot;login failed:&quot; + authException.getMessage());\r\n    }\r\n}\r\n\r\n```\r\n\r\n**CustomException.java**\r\n```\r\n@Getter\r\n@AllArgsConstructor\r\npublic class CustomException extends AuthenticationException {\r\n\r\n\r\n    public CustomException(ResultEnum resultEnum) {\r\n        super(resultEnum.getMsg());\r\n    }\r\n}\r\n```\r\n\r\n**WebSecurityConfig(SpringSecurityConfig)**\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf()\r\n                .disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/error/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling()\r\n                .accessDeniedHandler(customAccessDeniedHandler())\r\n                .authenticationEntryPoint(customAuthenticationEntryPoint());\r\n        http.addFilterAt(wxAppletAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n\r\n    @Autowired\r\n    private WxAppletAuthenticationManager wxAppletAuthenticationManager;\r\n\r\n    @Bean\r\n    public CustomAuthenticationEntryPoint customAuthenticationEntryPoint(){\r\n        return new CustomAuthenticationEntryPoint();\r\n    }\r\n\r\n    @Bean\r\n    public CustomAccessDeniedHandler customAccessDeniedHandler(){\r\n        return new CustomAccessDeniedHandler();\r\n    }\r\n\r\n    @Bean\r\n    public WxAppletAuthenticationFilter wxAppletAuthenticationFilter() {\r\n        WxAppletAuthenticationFilter filter = new WxAppletAuthenticationFilter(&quot;/login&quot;);\r\n        filter.setAuthenticationManager(wxAppletAuthenticationManager);\r\n        filter.setAuthenticationSuccessHandler(customAuthenticationSuccessHandler());\r\n        return filter;\r\n    }\r\n\r\n    @Bean\r\n    public CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler() {\r\n        return new CustomAuthenticationSuccessHandler();\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n```\r\n**error stack**\r\n\r\n```\r\n2022-11-17 00:52:48.263 ERROR 39496 --- [p-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n\r\ncom.tnxts.exception.CustomException: token无效\r\n\tat com.tnxts.filter.WxAppletAuthenticationFilter.attemptAuthentication(WxAppletAuthenticationFilter.java:63) ~[classes/:na]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.4.jar:5.7.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n```\r\n\r\n\r\n[errormsg](https://i.stack.imgur.com/puEp0.png)\r\n\r\n\r\n\r\nI trid to use EntryPoint and AccessDenied to handle exception in springsecurity filter, but they dont work.","title":"Springsecurity AuthenticationEntryPoint and AccessDeniedHandler don&#39;t work","body":"<p>I'm using springboot and springsecurity, I make my own EntryPoint and AccessDenied, but it seems that they don't work when i throw a AuthenticationException in filter.</p>\n<p><strong>CustomAccessDeniedHandler.java</strong></p>\n<pre><code>@Slf4j\npublic class CustomAccessDeniedHandler implements AccessDeniedHandler {\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\n        response.setContentType(&quot;application/json;charset=utf-8&quot;);\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n        PrintWriter out = response.getWriter();\n        out.write(new ObjectMapper().writeValueAsString(&quot;no access&quot;));\n        out.flush();\n        out.close();\n    }\n}\n\n</code></pre>\n<p><strong>CustomAuthenticationEntryPoint.java</strong></p>\n<pre><code>@Slf4j\npublic class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n        response.getWriter().write(&quot;login failed:&quot; + authException.getMessage());\n    }\n}\n\n</code></pre>\n<p><strong>CustomException.java</strong></p>\n<pre><code>@Getter\n@AllArgsConstructor\npublic class CustomException extends AuthenticationException {\n\n\n    public CustomException(ResultEnum resultEnum) {\n        super(resultEnum.getMsg());\n    }\n}\n</code></pre>\n<p><strong>WebSecurityConfig(SpringSecurityConfig)</strong></p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/error/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling()\n                .accessDeniedHandler(customAccessDeniedHandler())\n                .authenticationEntryPoint(customAuthenticationEntryPoint());\n        http.addFilterAt(wxAppletAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n\n    @Autowired\n    private WxAppletAuthenticationManager wxAppletAuthenticationManager;\n\n    @Bean\n    public CustomAuthenticationEntryPoint customAuthenticationEntryPoint(){\n        return new CustomAuthenticationEntryPoint();\n    }\n\n    @Bean\n    public CustomAccessDeniedHandler customAccessDeniedHandler(){\n        return new CustomAccessDeniedHandler();\n    }\n\n    @Bean\n    public WxAppletAuthenticationFilter wxAppletAuthenticationFilter() {\n        WxAppletAuthenticationFilter filter = new WxAppletAuthenticationFilter(&quot;/login&quot;);\n        filter.setAuthenticationManager(wxAppletAuthenticationManager);\n        filter.setAuthenticationSuccessHandler(customAuthenticationSuccessHandler());\n        return filter;\n    }\n\n    @Bean\n    public CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler() {\n        return new CustomAuthenticationSuccessHandler();\n    }\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n</code></pre>\n<p><strong>error stack</strong></p>\n<pre><code>2022-11-17 00:52:48.263 ERROR 39496 --- [p-nio-80-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n\ncom.tnxts.exception.CustomException: token无效\n    at com.tnxts.filter.WxAppletAuthenticationFilter.attemptAuthentication(WxAppletAuthenticationFilter.java:63) ~[classes/:na]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.4.jar:5.7.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/puEp0.png\" rel=\"nofollow noreferrer\">errormsg</a></p>\n<p>I trid to use EntryPoint and AccessDenied to handle exception in springsecurity filter, but they dont work.</p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":3358514,"reputation":205,"user_id":2820906,"display_name":"user2820906"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668618851,"creation_date":1668618851,"question_id":74464572,"body_markdown":"I am using spring security to authenticate with oauth2. It is working correctly returning a 401 Unauthorized. The body is empty though, and I am wondering if it is possible to just change this portion. I am using Webflux, so I know I can create my own authenticationEntryPoint, but I don&#39;t want that as [BearerTokenServerAuthenticationEntryPoint][1] works. Is there a way to just change the response in Spring without creating my own custom class?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/server/resource/web/server/BearerTokenServerAuthenticationEntryPoint.html","title":"How to change response of BearerTokenServerAuthenticationEntryPoint?","body":"<p>I am using spring security to authenticate with oauth2. It is working correctly returning a 401 Unauthorized. The body is empty though, and I am wondering if it is possible to just change this portion. I am using Webflux, so I know I can create my own authenticationEntryPoint, but I don't want that as <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/server/resource/web/server/BearerTokenServerAuthenticationEntryPoint.html\" rel=\"nofollow noreferrer\">BearerTokenServerAuthenticationEntryPoint</a> works. Is there a way to just change the response in Spring without creating my own custom class?</p>\n"},{"tags":["java","maven","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668618501,"creation_date":1668618501,"answer_id":74464498,"question_id":74464455,"body_markdown":"Later versions of maven use the syntax\r\n\r\n    mvn clean test -DtestEnv=stg -Dcucumber.filter.tags=&quot;--tags @forecast&quot;","title":"Maven ignoring Cucumber tag argument after a prior maven argument","body":"<p>Later versions of maven use the syntax</p>\n<pre><code>mvn clean test -DtestEnv=stg -Dcucumber.filter.tags=&quot;--tags @forecast&quot;\n</code></pre>\n"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668618501,"creation_date":1668618287,"question_id":74464455,"body_markdown":"Currently I have the below maven command that consists of two different arguments, 1. testEnv (property set in my code), 2. cucumber tags.\r\n\r\n\r\nI am not sure if my syntax is right for the cucumber tag options when it comes this cucumber version (4.8.1), but below is the command I am trying to run where it is ignoring/skipping the cucumber tags argument:\r\n\r\n```\r\nmvn clean test -DtestEnv=stg -Dcucumber.options=&quot;--tags @forecast&quot;\r\n```\r\n\r\nIs there a reason why my program is running the first argument but not the cucumber tags argument?  When I execute the above command, it just runs everything regardless of the cucumber tag from the feature files.  Please let me know!","title":"Maven ignoring Cucumber tag argument after a prior maven argument","body":"<p>Currently I have the below maven command that consists of two different arguments, 1. testEnv (property set in my code), 2. cucumber tags.</p>\n<p>I am not sure if my syntax is right for the cucumber tag options when it comes this cucumber version (4.8.1), but below is the command I am trying to run where it is ignoring/skipping the cucumber tags argument:</p>\n<pre><code>mvn clean test -DtestEnv=stg -Dcucumber.options=&quot;--tags @forecast&quot;\n</code></pre>\n<p>Is there a reason why my program is running the first argument but not the cucumber tags argument?  When I execute the above command, it just runs everything regardless of the cucumber tag from the feature files.  Please let me know!</p>\n"},{"tags":["java","junit","bufferedreader","io-redirection"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668618722,"post_id":74464291,"comment_id":131451247,"body_markdown":"Does this answer your question? [JUnit: How to simulate System.in testing?](https://stackoverflow.com/questions/1647907/junit-how-to-simulate-system-in-testing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1647907/junit-how-to-simulate-system-in-testing\">JUnit: How to simulate System.in testing?</a>"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668618226,"creation_date":1668618226,"answer_id":74464438,"question_id":74464291,"body_markdown":"`System.in` is a static field.\r\nHere are some steps to test your class:\r\n\r\n  1. Create a mock PrintStream.\r\n  1. In a method annotated with `@BeforeAll`, save the current System.in value.\r\n  1. In a method annotated with `@BeforeAll`, set System.in to your mock.\r\n  1. In a method annotated with `@AfterAll`, set System.in to the saved value from line 2 above.","title":"JUnit Test - BufferedReader Input Redirection","body":"<p><code>System.in</code> is a static field.\nHere are some steps to test your class:</p>\n<ol>\n<li>Create a mock PrintStream.</li>\n<li>In a method annotated with <code>@BeforeAll</code>, save the current System.in value.</li>\n<li>In a method annotated with <code>@BeforeAll</code>, set System.in to your mock.</li>\n<li>In a method annotated with <code>@AfterAll</code>, set System.in to the saved value from line 2 above.</li>\n</ol>\n"}],"owner":{"account_id":26529921,"reputation":1,"user_id":20162291,"display_name":"Chewie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668618226,"creation_date":1668617476,"question_id":74464291,"body_markdown":"I&#39;m new to JUnit tests and I&#39;ve written code to redirect a file as an input, but I&#39;m not sure how to test it. What&#39;s the best way to test the code? \r\n\r\n    private static String request;\r\n\r\n    public static void main(String[] args) {\r\n       readFile();\r\n    }\r\n\r\n    public static void readFile() {\r\n\r\n        try {\r\n           /* BufferedReader to read text from an input stream */\r\n           BufferedReader input = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n           /* While loop to read each line of the file. request - each line is a different client request */ \r\n           while ((request = input.readLine()) != null) {\r\n            System.out.println(&quot;Client request: &quot; + request);\r\n           }\r\n\r\n           /* Closes input */\r\n           input.close();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"JUnit Test - BufferedReader Input Redirection","body":"<p>I'm new to JUnit tests and I've written code to redirect a file as an input, but I'm not sure how to test it. What's the best way to test the code?</p>\n<pre><code>private static String request;\n\npublic static void main(String[] args) {\n   readFile();\n}\n\npublic static void readFile() {\n\n    try {\n       /* BufferedReader to read text from an input stream */\n       BufferedReader input = new BufferedReader(new InputStreamReader(System.in));\n\n       /* While loop to read each line of the file. request - each line is a different client request */ \n       while ((request = input.readLine()) != null) {\n        System.out.println(&quot;Client request: &quot; + request);\n       }\n\n       /* Closes input */\n       input.close();\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":18411453,"reputation":37,"user_id":13411640,"display_name":"Артём Власов"},"score":0,"creation_date":1668617582,"post_id":74464075,"comment_id":131450802,"body_markdown":"your are very close! the reason is column name. renaming field not help, but renaming coulm fix it! thank","body":"your are very close! the reason is column name. renaming field not help, but renaming coulm fix it! thank"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1668617941,"post_id":74464075,"comment_id":131450931,"body_markdown":"I suspected a count aggregate call was being generated by that keyword :)","body":"I suspected a count aggregate call was being generated by that keyword :)"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668617874,"creation_date":1668616409,"answer_id":74464075,"question_id":74463704,"body_markdown":"Try renaming the `count` column from\r\n\r\n    private Integer count;\r\n\r\nto \r\n\r\n    @Column(name = &quot;CARD_COUNT&quot;)\r\n    private Integer count;\r\n\r\n","title":"org.postgresql.util.PSQLException: ERROR: column must appear in the GROUP BY clause or be used in an aggregate function","body":"<p>Try renaming the <code>count</code> column from</p>\n<pre><code>private Integer count;\n</code></pre>\n<p>to</p>\n<pre><code>@Column(name = &quot;CARD_COUNT&quot;)\nprivate Integer count;\n</code></pre>\n"}],"owner":{"account_id":18411453,"reputation":37,"user_id":13411640,"display_name":"Артём Власов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74464075,"answer_count":1,"score":0,"last_activity_date":1668617874,"creation_date":1668614796,"question_id":74463704,"body_markdown":"I have 2 entities with unidirectional association.  \r\n```\r\n@Entity\r\n@Table(name = &quot;albums&quot;)\r\npublic class Album {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String ownerId;\r\n    private String name;\r\n    private Boolean isPublic;\r\n\r\n    @OneToMany(orphanRemoval = true)\r\n    @JoinTable(\r\n            name = &quot;album_album_cards&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;album_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;album_card_id&quot;))\r\n    private List&lt;AlbumCard&gt; cards;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;album_cards&quot;)\r\npublic class AlbumCard {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private Integer price;\r\n    private String condition;\r\n    private String design;\r\n    private Integer count;\r\n    private Long cardId;\r\n    @UpdateTimestamp\r\n    private LocalDate updated;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nAnd three tables albums, album_cards and album_album_cards (for mapping)\r\n\r\nWhen i map entity to model the exception is throws.\r\n```\r\n2022-11-14 21:37:57.725 ERROR 18696 --- [nio-9999-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: column &quot;cards0_.album_id&quot; must appear in the GROUP BY clause or be used in an aggregate function\r\n```\r\n\r\n\r\n```\r\n\tat ru.berserkdeck.albums.impl.mapper.AlbumMapper.albumCardListToAlbumPositionModelList(AlbumMapper.java:57) ~[classes/:na]\r\n\tat ru.berserkdeck.albums.impl.mapper.AlbumMapper.toModel(AlbumMapper.java:31) ~[classes/:na]\r\n\tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n\tat ru.berserkdeck.albums.impl.service.AlbumServiceImpl.getAlbum(AlbumServiceImpl.java:50) ~[classes/:na]\r\n\r\n```\r\n\r\nLast sql logs is \r\n```\r\nHibernate: select album0_.id as id1_1_, album0_.is_public as is_publi2_1_, album0_.name as name3_1_, album0_.owner_id as owner_id4_1_ from albums album0_ where album0_.owner_id=? and album0_.id=?\r\nHibernate: select cards0_.album_id as album_id8_0_0_, cards0_.id as id1_0_0_, cards0_.id as id1_0_1_, cards0_.card_id as card_id2_0_1_, cards0_.condition as conditio3_0_1_, cards0_.count as count4_0_1_, cards0_.design as design5_0_1_, cards0_.price as price6_0_1_, cards0_.updated as updated7_0_1_ from album_cards cards0_ where cards0_.album_id=?\r\n```\r\n\r\nmapper code: \r\n\r\n```\r\n51    protected List&lt;AlbumPositionModel&gt; albumCardListToAlbumPositionModelList(List&lt;AlbumCard&gt; list) {\r\n52        if (list == null) {\r\n53            return new ArrayList&lt;&gt;();\r\n54        }\r\n55\r\n56        List&lt;AlbumPositionModel&gt; list1 = new ArrayList&lt;&gt;();\r\n57        list.forEach(e -&gt; list1.add(albumCardToAlbumPositionModel(e))); &lt;---- exception throws there. And it throws if i call any method of list (List&lt;AlbumCard&gt;)\r\n58        return list1;\r\n```\r\n\r\nthe service method, calling the mapper(i tried with Transactional annotation and without, result the same):\r\n```\r\n    @Override\r\n    public Optional&lt;AlbumModel&gt; getAlbum(String ownerId, Long albumId) {\r\n        if (ownerId != null) {\r\n            return albumRepo\r\n                    .findByOwnerIdAndId(ownerId, albumId)\r\n                    .map(mapper::toModel);\r\n        } else {\r\n            return albumRepo\r\n                    .findByIdAndIsPublic(albumId, true)\r\n                    .map(mapper::toModel);\r\n        }\r\n    }\r\n```\r\nAnyone could help me? What I&#39;m dooing wrong?\r\n","title":"org.postgresql.util.PSQLException: ERROR: column must appear in the GROUP BY clause or be used in an aggregate function","body":"<p>I have 2 entities with unidirectional association.</p>\n<pre><code>@Entity\n@Table(name = &quot;albums&quot;)\npublic class Album {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String ownerId;\n    private String name;\n    private Boolean isPublic;\n\n    @OneToMany(orphanRemoval = true)\n    @JoinTable(\n            name = &quot;album_album_cards&quot;,\n            joinColumns = @JoinColumn(name = &quot;album_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;album_card_id&quot;))\n    private List&lt;AlbumCard&gt; cards;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;album_cards&quot;)\npublic class AlbumCard {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Integer price;\n    private String condition;\n    private String design;\n    private Integer count;\n    private Long cardId;\n    @UpdateTimestamp\n    private LocalDate updated;\n\n}\n\n</code></pre>\n<p>And three tables albums, album_cards and album_album_cards (for mapping)</p>\n<p>When i map entity to model the exception is throws.</p>\n<pre><code>2022-11-14 21:37:57.725 ERROR 18696 --- [nio-9999-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\n\norg.postgresql.util.PSQLException: ERROR: column &quot;cards0_.album_id&quot; must appear in the GROUP BY clause or be used in an aggregate function\n</code></pre>\n<pre><code>    at ru.berserkdeck.albums.impl.mapper.AlbumMapper.albumCardListToAlbumPositionModelList(AlbumMapper.java:57) ~[classes/:na]\n    at ru.berserkdeck.albums.impl.mapper.AlbumMapper.toModel(AlbumMapper.java:31) ~[classes/:na]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at ru.berserkdeck.albums.impl.service.AlbumServiceImpl.getAlbum(AlbumServiceImpl.java:50) ~[classes/:na]\n\n</code></pre>\n<p>Last sql logs is</p>\n<pre><code>Hibernate: select album0_.id as id1_1_, album0_.is_public as is_publi2_1_, album0_.name as name3_1_, album0_.owner_id as owner_id4_1_ from albums album0_ where album0_.owner_id=? and album0_.id=?\nHibernate: select cards0_.album_id as album_id8_0_0_, cards0_.id as id1_0_0_, cards0_.id as id1_0_1_, cards0_.card_id as card_id2_0_1_, cards0_.condition as conditio3_0_1_, cards0_.count as count4_0_1_, cards0_.design as design5_0_1_, cards0_.price as price6_0_1_, cards0_.updated as updated7_0_1_ from album_cards cards0_ where cards0_.album_id=?\n</code></pre>\n<p>mapper code:</p>\n<pre><code>51    protected List&lt;AlbumPositionModel&gt; albumCardListToAlbumPositionModelList(List&lt;AlbumCard&gt; list) {\n52        if (list == null) {\n53            return new ArrayList&lt;&gt;();\n54        }\n55\n56        List&lt;AlbumPositionModel&gt; list1 = new ArrayList&lt;&gt;();\n57        list.forEach(e -&gt; list1.add(albumCardToAlbumPositionModel(e))); &lt;---- exception throws there. And it throws if i call any method of list (List&lt;AlbumCard&gt;)\n58        return list1;\n</code></pre>\n<p>the service method, calling the mapper(i tried with Transactional annotation and without, result the same):</p>\n<pre><code>    @Override\n    public Optional&lt;AlbumModel&gt; getAlbum(String ownerId, Long albumId) {\n        if (ownerId != null) {\n            return albumRepo\n                    .findByOwnerIdAndId(ownerId, albumId)\n                    .map(mapper::toModel);\n        } else {\n            return albumRepo\n                    .findByIdAndIsPublic(albumId, true)\n                    .map(mapper::toModel);\n        }\n    }\n</code></pre>\n<p>Anyone could help me? What I'm dooing wrong?</p>\n"},{"tags":["java","java.util.scanner","calculator","shapes"],"comments":[{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1668597858,"post_id":74459495,"comment_id":131442824,"body_markdown":"You should edit your calculateArea method and add a String parameter. Then add your &#39;shape&#39; there. Now you are just return always the same thing (which we can&#39;t see).","body":"You should edit your calculateArea method and add a String parameter. Then add your &#39;shape&#39; there. Now you are just return always the same thing (which we can&#39;t see)."}],"answers":[{"comments":[{"owner":{"account_id":26045370,"reputation":3,"user_id":19749477,"display_name":"Alpay"},"score":0,"creation_date":1668671859,"post_id":74464233,"comment_id":131463725,"body_markdown":"Thank you very much! This seems like a good solution. \n\nAnd yes, I do have separate classes for each shape + a class named Shape with the method calculateArea() which is then used to extend over to the other classes. \n\nI will try this out and play around with this a bit, to get a feel for the Scanner. Thanks again!","body":"Thank you very much! This seems like a good solution.   And yes, I do have separate classes for each shape + a class named Shape with the method calculateArea() which is then used to extend over to the other classes.   I will try this out and play around with this a bit, to get a feel for the Scanner. Thanks again!"}],"tags":[],"owner":{"account_id":2031794,"reputation":393,"user_id":1815284,"display_name":"ouid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668617136,"creation_date":1668617136,"answer_id":74464233,"question_id":74459495,"body_markdown":"Assuming you have a class per shape like \r\n\r\n```java\r\nclass Rectangle {\r\n        private double height;\r\n        private double width;\r\n\r\n        public Rectangle(double height, double width) {\r\n            this.height = height;\r\n            this.width = width;\r\n        }\r\n\r\n        public double calculateArea() {\r\n            return height * width;\r\n        }\r\n    }\r\n```\r\nand \r\n\r\n```java\r\nclass Circle {\r\n        private double radius;\r\n\r\n        public Circle(double radius) {\r\n            this.radius = radius;\r\n        }\r\n\r\n        public double calculateArea() {\r\n            return radius * radius * 3.1415;\r\n        }\r\n    }\r\n```\r\nwhat you could do is depending on a value of `shape` `String` that you get from `keyboard` `Scanner` to instantiate a class corresponding to the shape and call its `calculateArea()` method, e.g., \r\n\r\n```java\r\n        String shape = keyboard.next();\r\n        if (&quot;rectangle&quot;.equals(shape)) {\r\n            System.out.println(new Rectangle(keyboard.nextDouble(), keyboard.nextDouble()).calculateArea());\r\n        } else if (&quot;circle&quot;.equals(shape)) {\r\n            System.out.println(new Circle(keyboard.nextDouble()).calculateArea());\r\n        } else {\r\n            System.out.println(&quot;unknown shape, known shapes are rectangle and circle&quot;);\r\n        }\r\n``` ","title":"I&#39;m trying to create a simple user input via Scanner so people can choose a shape as well as parameters for the shape for it to then be calculated","body":"<p>Assuming you have a class per shape like</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Rectangle {\n        private double height;\n        private double width;\n\n        public Rectangle(double height, double width) {\n            this.height = height;\n            this.width = width;\n        }\n\n        public double calculateArea() {\n            return height * width;\n        }\n    }\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Circle {\n        private double radius;\n\n        public Circle(double radius) {\n            this.radius = radius;\n        }\n\n        public double calculateArea() {\n            return radius * radius * 3.1415;\n        }\n    }\n</code></pre>\n<p>what you could do is depending on a value of <code>shape</code> <code>String</code> that you get from <code>keyboard</code> <code>Scanner</code> to instantiate a class corresponding to the shape and call its <code>calculateArea()</code> method, e.g.,</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String shape = keyboard.next();\n        if (&quot;rectangle&quot;.equals(shape)) {\n            System.out.println(new Rectangle(keyboard.nextDouble(), keyboard.nextDouble()).calculateArea());\n        } else if (&quot;circle&quot;.equals(shape)) {\n            System.out.println(new Circle(keyboard.nextDouble()).calculateArea());\n        } else {\n            System.out.println(&quot;unknown shape, known shapes are rectangle and circle&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":26045370,"reputation":3,"user_id":19749477,"display_name":"Alpay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74464233,"answer_count":1,"score":0,"last_activity_date":1668617136,"creation_date":1668597197,"question_id":74459495,"body_markdown":"I&#39;m currently in the process of learning Java and I have been given a task to re-write my program. My program at the moment consists of a method called: calculateArea() which is used to calculate 3 different shapes area (a Rectangle, Circle and a Square). \r\n\r\nI now need it to accept user input to choose one of the three shapes, for it to accept user input for the parameters (length and width) and for it to then calculate it and after printing the correct result, to close the program. \r\n\r\nI already created setters and getters for the different shapes and tested that everything works, what I struggle with is how to implement the Scanner to accept the different Shape inputs.\r\n\r\n\r\n\r\nI tried a simple Scanner input for now like this: \r\n\r\n\r\n```\r\nScanner keyboard = new Scanner(System.in);\r\nSystem.out.println(&quot;Enter shape to calculate: &quot;);\r\n\r\nString shape = keyboard.nextLine();\r\nshape = String.valueOf(rectangle.calculateArea());\r\nSystem.out.println(&quot;Your chosen shapes area is: &quot; + shape);\r\n```\r\nThough this way, it always calculates Rectangles values as I&#39;m directly calling the method on Rectangle. How would I need to re-write it, for it to take the shape + parameters and then print out the value of said input?\r\n\r\nI&#39;m still very new and I don&#39;t know how to tackle issues/research like this to find out the right answer, so I would appreciate pointers. \r\n\r\n","title":"I&#39;m trying to create a simple user input via Scanner so people can choose a shape as well as parameters for the shape for it to then be calculated","body":"<p>I'm currently in the process of learning Java and I have been given a task to re-write my program. My program at the moment consists of a method called: calculateArea() which is used to calculate 3 different shapes area (a Rectangle, Circle and a Square).</p>\n<p>I now need it to accept user input to choose one of the three shapes, for it to accept user input for the parameters (length and width) and for it to then calculate it and after printing the correct result, to close the program.</p>\n<p>I already created setters and getters for the different shapes and tested that everything works, what I struggle with is how to implement the Scanner to accept the different Shape inputs.</p>\n<p>I tried a simple Scanner input for now like this:</p>\n<pre><code>Scanner keyboard = new Scanner(System.in);\nSystem.out.println(&quot;Enter shape to calculate: &quot;);\n\nString shape = keyboard.nextLine();\nshape = String.valueOf(rectangle.calculateArea());\nSystem.out.println(&quot;Your chosen shapes area is: &quot; + shape);\n</code></pre>\n<p>Though this way, it always calculates Rectangles values as I'm directly calling the method on Rectangle. How would I need to re-write it, for it to take the shape + parameters and then print out the value of said input?</p>\n<p>I'm still very new and I don't know how to tackle issues/research like this to find out the right answer, so I would appreciate pointers.</p>\n"},{"tags":["java","spring","spring-boot","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668616279,"creation_date":1668616279,"answer_id":74464049,"question_id":74462459,"body_markdown":"\r\n&gt; A `returning` clause restricts matching to only those method executions that return a value of the specified type.\r\n\r\nThe `ShoppingCart.quantity()` method returns `int`, therefore it doesn&#39;t match the `String` return type declared in the advice. You can change the `retVal` type to `int` or to `Object`, which matches any return value.\r\n\r\nFor reference: [After Returning Advice][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-advice-after-returning","title":"Why AfterReturning PointCut is not working?","body":"<blockquote>\n<p>A <code>returning</code> clause restricts matching to only those method executions that return a value of the specified type.</p>\n</blockquote>\n<p>The <code>ShoppingCart.quantity()</code> method returns <code>int</code>, therefore it doesn't match the <code>String</code> return type declared in the advice. You can change the <code>retVal</code> type to <code>int</code> or to <code>Object</code>, which matches any return value.</p>\n<p>For reference: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-advice-after-returning\" rel=\"nofollow noreferrer\">After Returning Advice</a></p>\n"}],"owner":{"account_id":2194060,"reputation":1,"user_id":19312263,"display_name":"TestUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74464049,"answer_count":1,"score":0,"last_activity_date":1668616279,"creation_date":1668609807,"question_id":74462459,"body_markdown":"\r\nMy pointcut for method ``public int quantity()`` in `ShoppingCart.java` is not working.  I am trying to create a pointcut to capture the return value of the method ``public int quantity()`` but the relevant advice for `@AfterReturning` pointcut doesn&#39;t seem to get invoked even after the quantity method is invoked by main method (See the file `AuthenticationAspect.java` which is trying to define an afterReturning Pointcut).\r\n\r\nFile ShoppingCart.java\r\n\r\n    package org.example;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ShoppingCart {\r\n    \r\n        public int quantity()\r\n        {\r\n            System.out.println(&quot;\\n Quantity method called&quot;);\r\n            return 2;\r\n        }\r\n    }\r\n\r\nAuthenticationAspect.java\r\n\r\n    package org.example;\r\n    \r\n    import org.aspectj.lang.JoinPoint;\r\n    import org.aspectj.lang.annotation.AfterReturning;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Before;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class AuthenticationAspect {\r\n   \r\n        @Pointcut(&quot;execution(* org.example.ShoppingCart.quantity())&quot;)\r\n        public void afterReturningPointCut()\r\n        {\r\n        }\r\n    \r\n        @AfterReturning(pointcut = &quot;afterReturningPointCut()&quot;, returning = &quot;retVal&quot;)\r\n        public void afterReturning(String retVal)\r\n        {\r\n            System.out.println(&quot;The quantity used is &quot; + retVal);\r\n        }\r\n    }\r\n\r\nMain.java\r\n\r\n    package org.example;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ApplicationContext context = new AnnotationConfigApplicationContext(BeanConfig.class);\r\n    \r\n            ShoppingCart cart = context.getBean(ShoppingCart.class);\r\n\r\n            cart.quantity();\r\n        }\r\n    }","title":"Why AfterReturning PointCut is not working?","body":"<p>My pointcut for method <code>public int quantity()</code> in <code>ShoppingCart.java</code> is not working.  I am trying to create a pointcut to capture the return value of the method <code>public int quantity()</code> but the relevant advice for <code>@AfterReturning</code> pointcut doesn't seem to get invoked even after the quantity method is invoked by main method (See the file <code>AuthenticationAspect.java</code> which is trying to define an afterReturning Pointcut).</p>\n<p>File ShoppingCart.java</p>\n<pre><code>package org.example;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ShoppingCart {\n\n    public int quantity()\n    {\n        System.out.println(&quot;\\n Quantity method called&quot;);\n        return 2;\n    }\n}\n</code></pre>\n<p>AuthenticationAspect.java</p>\n<pre><code>package org.example;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class AuthenticationAspect {\n\n    @Pointcut(&quot;execution(* org.example.ShoppingCart.quantity())&quot;)\n    public void afterReturningPointCut()\n    {\n    }\n\n    @AfterReturning(pointcut = &quot;afterReturningPointCut()&quot;, returning = &quot;retVal&quot;)\n    public void afterReturning(String retVal)\n    {\n        System.out.println(&quot;The quantity used is &quot; + retVal);\n    }\n}\n</code></pre>\n<p>Main.java</p>\n<pre><code>package org.example;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class Main {\n    public static void main(String[] args) {\n        ApplicationContext context = new AnnotationConfigApplicationContext(BeanConfig.class);\n\n        ShoppingCart cart = context.getBean(ShoppingCart.class);\n\n        cart.quantity();\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","java-8","java-home","system32"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1584957912,"post_id":60811337,"comment_id":107590867,"body_markdown":"Java doesn&#39;t care about JAVA_HOME. It just goes from the PATH.","body":"Java doesn&#39;t care about JAVA_HOME. It just goes from the PATH."},{"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"score":0,"creation_date":1584958327,"post_id":60811337,"comment_id":107591046,"body_markdown":"yrh i know, i set the java_bin into PATH but still not working !","body":"yrh i know, i set the java_bin into PATH but still not working !"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1584998502,"post_id":60811337,"comment_id":107609719,"body_markdown":"So you didn&#39;t do it correctly.","body":"So you didn&#39;t do it correctly."}],"answers":[{"comments":[{"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"score":0,"creation_date":1584960068,"post_id":60811649,"comment_id":107591803,"body_markdown":"i&#39;ve set this java_bin in PATH but in my Account PATH, then this PATH account will be added to the PATH system. not wworking","body":"i&#39;ve set this java_bin in PATH but in my Account PATH, then this PATH account will be added to the PATH system. not wworking"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1584960853,"post_id":60811649,"comment_id":107592151,"body_markdown":"@Mirlo - I am 100% sure that you are doing mistake in setting this. I can help you solve it immediately if you can show the screenshot of your java installation folder and the screenshot of `PATH` environment variable.","body":"@Mirlo - I am 100% sure that you are doing mistake in setting this. I can help you solve it immediately if you can show the screenshot of your java installation folder and the screenshot of <code>PATH</code> environment variable."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1584983321,"post_id":60811649,"comment_id":107603626,"body_markdown":"@Mirlo see https://superuser.com/a/878382 and https://superuser.com/q/367194","body":"@Mirlo see <a href=\"https://superuser.com/a/878382\">superuser.com/a/878382</a> and <a href=\"https://superuser.com/q/367194\">superuser.com/q/367194</a>"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668615674,"creation_date":1584958900,"answer_id":60811649,"question_id":60811337,"body_markdown":"Set the path of your Java bin folder into the path variable e.g. if your Java is installed at `C:\\java\\jdk1.8.0_09`, set `C:\\java\\jdk1.8.0_09\\bin` as the **first entry** in the `PATH` environment variable.\r\n\r\nAlternatively, you can set `C:\\java\\jdk1.8.0_09` into `JAVA_HOME` and then `%JAVA_HOME%\\bin` into the `PATH` environment variable. Make sure to make this the **first entry** in the `PATH` environment variable.","title":"Windows 7 ignores my JAVA_HOME created by my account","body":"<p>Set the path of your Java bin folder into the path variable e.g. if your Java is installed at <code>C:\\java\\jdk1.8.0_09</code>, set <code>C:\\java\\jdk1.8.0_09\\bin</code> as the <strong>first entry</strong> in the <code>PATH</code> environment variable.</p>\n<p>Alternatively, you can set <code>C:\\java\\jdk1.8.0_09</code> into <code>JAVA_HOME</code> and then <code>%JAVA_HOME%\\bin</code> into the <code>PATH</code> environment variable. Make sure to make this the <strong>first entry</strong> in the <code>PATH</code> environment variable.</p>\n"}],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668615674,"creation_date":1584957690,"question_id":60811337,"body_markdown":"How do I persuade Windows to use the JDK of my account instead of default java placed in the system (admin) &quot;Windows\\System32&quot; which run java 1.6.\r\n\r\nWhen i tape :\r\n`where java` i got the two paths (my java and system one).\r\nwhen i run echo `%JAVA_HOME%` i got my java (1.8) but when i execute `java -version` i got the system one (1.6)\r\n\r\nHow could i erase the system one without having the habilitation to admin.\r\n\r\nPS : i cannot acces to admin variables system.","title":"Windows 7 ignores my JAVA_HOME created by my account","body":"<p>How do I persuade Windows to use the JDK of my account instead of default java placed in the system (admin) \"Windows\\System32\" which run java 1.6.</p>\n\n<p>When i tape :\n<code>where java</code> i got the two paths (my java and system one).\nwhen i run echo <code>%JAVA_HOME%</code> i got my java (1.8) but when i execute <code>java -version</code> i got the system one (1.6)</p>\n\n<p>How could i erase the system one without having the habilitation to admin.</p>\n\n<p>PS : i cannot acces to admin variables system.</p>\n"},{"tags":["java","linked-list","doubly-linked-list","circular-list"],"comments":[{"owner":{"account_id":6245015,"reputation":483,"user_id":4857290,"display_name":"Ralms"},"score":0,"creation_date":1668564951,"post_id":74454211,"comment_id":131434736,"body_markdown":"You code seems to imply that Card1 and Card2 are always next to each other in the list, is this correct?","body":"You code seems to imply that Card1 and Card2 are always next to each other in the list, is this correct?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1668612783,"post_id":74454211,"comment_id":131448775,"body_markdown":"Why are there `null` checks on `prev` and `next` members? They should never be `null` in a circular list. If they are `null` then the circular list is broken.","body":"Why are there <code>null</code> checks on <code>prev</code> and <code>next</code> members? They should never be <code>null</code> in a circular list. If they are <code>null</code> then the circular list is broken."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668615628,"creation_date":1668615628,"answer_id":74463892,"question_id":74454211,"body_markdown":"When `Card2` is `Card1.next` then the assignment `Card2.next = temp` will make `Card2` reference itself. This surely breaks the correct continuation of the swap.\r\n\r\nThe check for `null` references could be removed, as in a circular list these should *never* be `null`. I didn&#39;t see your `Node` class, but if you initialise those members to `null` there, then change it: make them self references instead, so you can guarantee that `prev` and `next` are **never** assigned `null`.\r\n\r\nI would take a step back and extract both nodes via a separate `extract` function, and insert them again with a separate `insertBefore` function.\r\n\r\nTo avoid havoc, make sure that `Card2.next` is not `Card1` (so in opposite order). If this is the case repeat the call with the arguments switched, so that `Card1.next` is `Card2`. But there is still a special case to deal with: if these two cards are the only members of the list, there is no way to prevent that `Card2.next` is `Card1`, so that case should be dealt with separately: it is an easy case where only `head` and `tail` should reference the other node than they currently do.\r\n\r\nThere shouldn&#39;t be much code to set `tail`, as there is an invariant: `tail` is always `head.prev` in a non-empty list. So you can just make that assignment at the end.\r\n\r\nAnd I would also use camelCase for your variables, so `card1` instead of `Card1`.\r\n\r\nHere is the suggested code:\r\n\r\n```\r\nprivate void insertBefore(Card card, Card next) { // card is assumed not to be in list yet\r\n    card.next = next;\r\n    card.prev = next.prev;\r\n    card.prev.next = card;\r\n    card.next.prev = card;\r\n}\r\n\r\nprivate void extract(Card card) { // Does not modify its prev/next members\r\n    card.next.prev = card.prev;\r\n    card.prev.next = card.next;\r\n}\r\n\r\nprivate void swap(Card card1, Card card2) {\r\n    // Deal with boundary cases:\r\n    if (card1 == card2) return; // Nothing to do\r\n    if (card2.next == card1) {\r\n        if (card2.prev == card1) { // List has only 2 elements\r\n            tail = head;\r\n            head = head.next;\r\n            return;\r\n        }\r\n        return swap(card2, card1);\r\n    }\r\n    // Here we are sure card2.next is not card1\r\n    Card next2 = card2.next;\r\n    extract(card2);\r\n    extract(card1);\r\n    insertBefore(card2, card1.next);\r\n    insertBefore(card1, next2);\r\n    // Fix head/tail references\r\n    if (head == card1) head = card2;\r\n    else if (head == card2) head = card1;\r\n    tail = head.prev;\r\n}\r\n```\r\n ","title":"How to swap two nodes next to each other in a circular doubly linked list?","body":"<p>When <code>Card2</code> is <code>Card1.next</code> then the assignment <code>Card2.next = temp</code> will make <code>Card2</code> reference itself. This surely breaks the correct continuation of the swap.</p>\n<p>The check for <code>null</code> references could be removed, as in a circular list these should <em>never</em> be <code>null</code>. I didn't see your <code>Node</code> class, but if you initialise those members to <code>null</code> there, then change it: make them self references instead, so you can guarantee that <code>prev</code> and <code>next</code> are <strong>never</strong> assigned <code>null</code>.</p>\n<p>I would take a step back and extract both nodes via a separate <code>extract</code> function, and insert them again with a separate <code>insertBefore</code> function.</p>\n<p>To avoid havoc, make sure that <code>Card2.next</code> is not <code>Card1</code> (so in opposite order). If this is the case repeat the call with the arguments switched, so that <code>Card1.next</code> is <code>Card2</code>. But there is still a special case to deal with: if these two cards are the only members of the list, there is no way to prevent that <code>Card2.next</code> is <code>Card1</code>, so that case should be dealt with separately: it is an easy case where only <code>head</code> and <code>tail</code> should reference the other node than they currently do.</p>\n<p>There shouldn't be much code to set <code>tail</code>, as there is an invariant: <code>tail</code> is always <code>head.prev</code> in a non-empty list. So you can just make that assignment at the end.</p>\n<p>And I would also use camelCase for your variables, so <code>card1</code> instead of <code>Card1</code>.</p>\n<p>Here is the suggested code:</p>\n<pre><code>private void insertBefore(Card card, Card next) { // card is assumed not to be in list yet\n    card.next = next;\n    card.prev = next.prev;\n    card.prev.next = card;\n    card.next.prev = card;\n}\n\nprivate void extract(Card card) { // Does not modify its prev/next members\n    card.next.prev = card.prev;\n    card.prev.next = card.next;\n}\n\nprivate void swap(Card card1, Card card2) {\n    // Deal with boundary cases:\n    if (card1 == card2) return; // Nothing to do\n    if (card2.next == card1) {\n        if (card2.prev == card1) { // List has only 2 elements\n            tail = head;\n            head = head.next;\n            return;\n        }\n        return swap(card2, card1);\n    }\n    // Here we are sure card2.next is not card1\n    Card next2 = card2.next;\n    extract(card2);\n    extract(card1);\n    insertBefore(card2, card1.next);\n    insertBefore(card1, next2);\n    // Fix head/tail references\n    if (head == card1) head = card2;\n    else if (head == card2) head = card1;\n    tail = head.prev;\n}\n</code></pre>\n"}],"owner":{"account_id":26530340,"reputation":3,"user_id":20162638,"display_name":"Flink"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74463892,"answer_count":1,"score":0,"last_activity_date":1668615628,"creation_date":1668563043,"question_id":74454211,"body_markdown":"I am currently trying to swap two nodes in a circular doubly linked list. By current code:\r\n```\r\nprivate void swap(Card Card1, Card Card2) {\r\n\r\n    if (Card1 == head) {\r\n        head = Card2;\r\n    } else if (Card2 == head) {\r\n        head = Card1;\r\n    } if (Card1 == tail) {\r\n        tail = Card2;\r\n    } else if (Card2 == tail) {\r\n        tail = Card1;\r\n    }\r\n\r\n    // Swapping Card1 and Card2\r\n    Card temp = Card1.next;\r\n    Card1.next = Card2.next;\r\n    Card2.next = temp;\r\n\r\n    if (Card1.next != null) {\r\n        Card1.next.prev = Card1;\r\n    } if (Card2.next != null) {\r\n        Card2.next.prev = Card2;\r\n    }\r\n\r\n    temp = Card1.prev;\r\n    Card1.prev = Card2.prev;\r\n    Card2.prev = temp;\r\n\r\n    if (Card1.prev != null) {\r\n        Card1.prev.next = Card1;\r\n    } if (Card2.prev != null) {\r\n        Card2.prev.next = Card2;\r\n    }\r\n\r\n    head.prev = tail;\r\n    tail.next = head;\r\n}\r\n```\r\nThis code should swap between any two nodes in the linked list but for my application. I am just using it to swap with the next node.\r\n\r\n\r\n```\r\npublic void moveCard(Card c, int p) {\r\n       for (int i = 0; i &lt; p; i++) {\r\n          swap(c, c.next);\r\n       }\r\n}\r\n```\r\nHere I am using it to move a card across the list by p positions. Is this correct logic?\r\n\r\n\r\nI Have been trying to debug this for so long and I cant find where it goes wrong. Any Ideas?","title":"How to swap two nodes next to each other in a circular doubly linked list?","body":"<p>I am currently trying to swap two nodes in a circular doubly linked list. By current code:</p>\n<pre><code>private void swap(Card Card1, Card Card2) {\n\n    if (Card1 == head) {\n        head = Card2;\n    } else if (Card2 == head) {\n        head = Card1;\n    } if (Card1 == tail) {\n        tail = Card2;\n    } else if (Card2 == tail) {\n        tail = Card1;\n    }\n\n    // Swapping Card1 and Card2\n    Card temp = Card1.next;\n    Card1.next = Card2.next;\n    Card2.next = temp;\n\n    if (Card1.next != null) {\n        Card1.next.prev = Card1;\n    } if (Card2.next != null) {\n        Card2.next.prev = Card2;\n    }\n\n    temp = Card1.prev;\n    Card1.prev = Card2.prev;\n    Card2.prev = temp;\n\n    if (Card1.prev != null) {\n        Card1.prev.next = Card1;\n    } if (Card2.prev != null) {\n        Card2.prev.next = Card2;\n    }\n\n    head.prev = tail;\n    tail.next = head;\n}\n</code></pre>\n<p>This code should swap between any two nodes in the linked list but for my application. I am just using it to swap with the next node.</p>\n<pre><code>public void moveCard(Card c, int p) {\n       for (int i = 0; i &lt; p; i++) {\n          swap(c, c.next);\n       }\n}\n</code></pre>\n<p>Here I am using it to move a card across the list by p positions. Is this correct logic?</p>\n<p>I Have been trying to debug this for so long and I cant find where it goes wrong. Any Ideas?</p>\n"},{"tags":["java","webclient"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668807683,"post_id":74463876,"comment_id":131504224,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74463876/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24414794,"reputation":1,"user_id":18341784,"display_name":"XuYijie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668615568,"creation_date":1668615568,"answer_id":74463876,"question_id":74463332,"body_markdown":"After the &quot;getToken&quot; method is called successfully, it should return to tell the user that you have successfully obtained the Token and do not need to wait for the execution of the &quot;save&quot; method.","title":"What do you return in the method with Webclient non-blocking call?","body":"<p>After the &quot;getToken&quot; method is called successfully, it should return to tell the user that you have successfully obtained the Token and do not need to wait for the execution of the &quot;save&quot; method.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668615568,"creation_date":1668613335,"question_id":74463332,"body_markdown":"I am trying to understand how I should write WebClient api calls for my method. Here is a simple example:\r\n```\r\nprivate String save(String body) {\r\n   WebClient client = Webclient.create(saveUrl);\r\n   Mono&lt;String&gt; response = client.post()\r\n                .accept(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .body(this.getFormInserter(body))\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n   responseText.doOnNext(response -&gt; //log successful save message).subscribe();\r\n   return ??; // what do I return here?\r\n```\r\n\r\nI know that when I successfully completes the request, it will do `//log successful save message`, which is the desired behavior.\r\n\r\nHowever, what is common practice for the `save` method that I have? I am used to return some string value back to the caller, maybe success/failure message, or for other cases, I return body in order to process further. \r\n\r\nFor more practical example that I am currently working on, I call WebClient to get an access token, and use it in another WebClient to actually save the body like this:\r\nTokenService:\r\n```\r\n    @Override\r\n    public String getToken(String message) {\r\n        WebClient client = WebClient.create(tokenUrl);\r\n        Mono&lt;String&gt; responseText = client.post()\r\n                .accept(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .body(this.getFormInserter())\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retry(3);\r\n        responseText.doOnNext(response -&gt; saveService.save(message, getToken(response))).subscribe();\r\n        return // what to return?\r\n    }\r\n\r\n    private String getToken(String responseBody) {\r\n        JsonObject jsonObject = new Gson().fromJson(responseBody, JsonObject.class);\r\n        return jsonObject.get(ACCESS_TOKEN_FIELD).toString();\r\n    }\r\n```\r\nSaveService:\r\n```\r\n    @Override\r\n    public Mono&lt;Void&gt; save(String message, String accessToken) {\r\n        WebClient client = WebClient.builder()\r\n                .baseUrl(saveUrl)\r\n                .defaultHeaders(httpHeaders -&gt; {\r\n                    httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\r\n                    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n                    httpHeaders.setBearerAuth(accessToken);\r\n                })\r\n                .build();\r\n        client.post().body(BodyInserters.fromPublisher(Mono.just(message), String.class));\r\n        return null; //do i need to return something?\r\n    }\r\n```\r\n\r\nHow I understand WebClient non-blocking call is that it should, as non-blocking suggest, not block the thread. Meaning, WebClient calls that I created should have their own flow until save (since I need token). However, what should I do with the caller who calls the method?\r\n\r\nMy first approach before knowing WebClient was to make rest call in TokenService, get the token, pass it to SaveService and save it. Now, TokenService(will have to change name) is getting the token and save it.\r\n\r\nIs my current approach okay? and what should I return for caller? Should it return anything? It seems like the caller won&#39;t know if call was successful or failure... Not sure if I should log anything besides I tried to save it?","title":"What do you return in the method with Webclient non-blocking call?","body":"<p>I am trying to understand how I should write WebClient api calls for my method. Here is a simple example:</p>\n<pre><code>private String save(String body) {\n   WebClient client = Webclient.create(saveUrl);\n   Mono&lt;String&gt; response = client.post()\n                .accept(MediaType.APPLICATION_FORM_URLENCODED)\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                .body(this.getFormInserter(body))\n                .retrieve()\n                .bodyToMono(String.class)\n   responseText.doOnNext(response -&gt; //log successful save message).subscribe();\n   return ??; // what do I return here?\n</code></pre>\n<p>I know that when I successfully completes the request, it will do <code>//log successful save message</code>, which is the desired behavior.</p>\n<p>However, what is common practice for the <code>save</code> method that I have? I am used to return some string value back to the caller, maybe success/failure message, or for other cases, I return body in order to process further.</p>\n<p>For more practical example that I am currently working on, I call WebClient to get an access token, and use it in another WebClient to actually save the body like this:\nTokenService:</p>\n<pre><code>    @Override\n    public String getToken(String message) {\n        WebClient client = WebClient.create(tokenUrl);\n        Mono&lt;String&gt; responseText = client.post()\n                .accept(MediaType.APPLICATION_FORM_URLENCODED)\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                .body(this.getFormInserter())\n                .retrieve()\n                .bodyToMono(String.class)\n                .retry(3);\n        responseText.doOnNext(response -&gt; saveService.save(message, getToken(response))).subscribe();\n        return // what to return?\n    }\n\n    private String getToken(String responseBody) {\n        JsonObject jsonObject = new Gson().fromJson(responseBody, JsonObject.class);\n        return jsonObject.get(ACCESS_TOKEN_FIELD).toString();\n    }\n</code></pre>\n<p>SaveService:</p>\n<pre><code>    @Override\n    public Mono&lt;Void&gt; save(String message, String accessToken) {\n        WebClient client = WebClient.builder()\n                .baseUrl(saveUrl)\n                .defaultHeaders(httpHeaders -&gt; {\n                    httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\n                    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n                    httpHeaders.setBearerAuth(accessToken);\n                })\n                .build();\n        client.post().body(BodyInserters.fromPublisher(Mono.just(message), String.class));\n        return null; //do i need to return something?\n    }\n</code></pre>\n<p>How I understand WebClient non-blocking call is that it should, as non-blocking suggest, not block the thread. Meaning, WebClient calls that I created should have their own flow until save (since I need token). However, what should I do with the caller who calls the method?</p>\n<p>My first approach before knowing WebClient was to make rest call in TokenService, get the token, pass it to SaveService and save it. Now, TokenService(will have to change name) is getting the token and save it.</p>\n<p>Is my current approach okay? and what should I return for caller? Should it return anything? It seems like the caller won't know if call was successful or failure... Not sure if I should log anything besides I tried to save it?</p>\n"},{"tags":["java","gradle","avro","velocity"],"owner":{"account_id":419090,"reputation":1240,"user_id":796064,"accept_rate":67,"display_name":"drobert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668614949,"creation_date":1668614949,"question_id":74463748,"body_markdown":"I am trying to use two different gradle plugins in a project which utilize different versions of the Velocity templating language: one uses velocity 1 the other velocity 2. Specifically, one of these is the OWASP dependency check plugin ( https://plugins.gradle.org/plugin/org.owasp.dependencycheck ) which uses velocity 2 and the other is a[n unfortunately ancient] gradle avro compiler plugin; versions of avro before 1.9 use velocity 1.x for generating java source code from schemas.\r\n\r\nIf I put both of these in a `plugins` block in `build.gradle`, avro compilation fails with this:\r\n\r\n&gt; Variable $velocityCount has not been set at /org/apache/avro/compiler/specific/templates/java/classic/record.vm[line 124, column 150]\r\n\r\nWhich is a symptom of using the velocity 2 engine with a velocity 1 template.\r\n\r\nThe gradle 7.x documentation (https://docs.gradle.org/current/userguide/plugins.html#plugins_dsl_limitations) says this about the plugins DSL:\r\n\r\n&gt; This allows Gradle to do smart things such as: ... Allow different plugins to use different versions of dependencies.\r\n\r\nBut this does not seem to be the case. Is there a workaround for ensuring two plugins don&#39;t interfere with each other in this way? Or am I perhaps attempting to resolve this the wrong way?","title":"gradle plugins classpath separation?","body":"<p>I am trying to use two different gradle plugins in a project which utilize different versions of the Velocity templating language: one uses velocity 1 the other velocity 2. Specifically, one of these is the OWASP dependency check plugin ( <a href=\"https://plugins.gradle.org/plugin/org.owasp.dependencycheck\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/org.owasp.dependencycheck</a> ) which uses velocity 2 and the other is a[n unfortunately ancient] gradle avro compiler plugin; versions of avro before 1.9 use velocity 1.x for generating java source code from schemas.</p>\n<p>If I put both of these in a <code>plugins</code> block in <code>build.gradle</code>, avro compilation fails with this:</p>\n<blockquote>\n<p>Variable $velocityCount has not been set at /org/apache/avro/compiler/specific/templates/java/classic/record.vm[line 124, column 150]</p>\n</blockquote>\n<p>Which is a symptom of using the velocity 2 engine with a velocity 1 template.</p>\n<p>The gradle 7.x documentation (<a href=\"https://docs.gradle.org/current/userguide/plugins.html#plugins_dsl_limitations\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/plugins.html#plugins_dsl_limitations</a>) says this about the plugins DSL:</p>\n<blockquote>\n<p>This allows Gradle to do smart things such as: ... Allow different plugins to use different versions of dependencies.</p>\n</blockquote>\n<p>But this does not seem to be the case. Is there a workaround for ensuring two plugins don't interfere with each other in this way? Or am I perhaps attempting to resolve this the wrong way?</p>\n"},{"tags":["java","timezone","jpql","java-time","localdatetime"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1597702865,"post_id":63459265,"comment_id":112215236,"body_markdown":"Well, this depends on what JPA provider you&#39;re using. Since you&#39;ve mentioned JPQL you&#39;re probably not using criteria queries so if your provider is Hibernate you might have luck using the built-in HQL function `current_timestamp()`. However, the DB&#39;s time should be the same as your application&#39;s (the servers should use a timing service to keep time consistent) and thus this shouldn&#39;t matter. (Different time zones would _not_ actually mean different times, just different representations).","body":"Well, this depends on what JPA provider you&#39;re using. Since you&#39;ve mentioned JPQL you&#39;re probably not using criteria queries so if your provider is Hibernate you might have luck using the built-in HQL function <code>current_timestamp()</code>. However, the DB&#39;s time should be the same as your application&#39;s (the servers should use a timing service to keep time consistent) and thus this shouldn&#39;t matter. (Different time zones would <i>not</i> actually mean different times, just different representations)."},{"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"score":0,"creation_date":1597704012,"post_id":63459265,"comment_id":112215541,"body_markdown":"@Thomas, are you able to demonstrate the use of `current_timestamp()` in relation to my code?","body":"@Thomas, are you able to demonstrate the use of <code>current_timestamp()</code> in relation to my code?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1597704612,"post_id":63459265,"comment_id":112215663,"body_markdown":"Since you didn&#39;t post much code that&#39;s hard to do. However, assuming your query looks like `... where xxx = :myTime` you should be able to use `... where xxx = current_timestamp()` instead (again: this refers to Hibernate, I&#39;m not sure about other JPA providers)","body":"Since you didn&#39;t post much code that&#39;s hard to do. However, assuming your query looks like <code>... where xxx = :myTime</code> you should be able to use <code>... where xxx = current_timestamp()</code> instead (again: this refers to Hibernate, I&#39;m not sure about other JPA providers)"},{"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"score":0,"creation_date":1597705554,"post_id":63459265,"comment_id":112215863,"body_markdown":"@Thomas, the query in the entity class looks like this: `@NamedQuery(name = &quot;findByTime&quot;, query = &quot;select u from TestEntity u where u.date &lt; :myTime&quot;)`","body":"@Thomas, the query in the entity class looks like this: <code>@NamedQuery(name = &quot;findByTime&quot;, query = &quot;select u from TestEntity u where u.date &lt; :myTime&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668614800,"creation_date":1597703947,"answer_id":63459535,"question_id":63459265,"body_markdown":"&gt; I want to use the value of the current time of the system where the\r\n&gt; oracle database resides, rather than that of my local machine. Is\r\n&gt; there a way to get this using the same LocalDateTime class?\r\n\r\n[`ZonedDateTime#withZoneSameInstant`][1]\r\n--\r\n\r\nReturns a copy of this date-time with a different time-zone, retaining the instant.\r\n\r\nLet&#39;s say the time-zone of the system where your Oracle DB runs is `America/New_York`. You can find the `LocalDateTime` at that time-zone using this method.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Zone ID of the system where Oracle DB runs\r\n    \t\tZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\r\n    \r\n    \t\tSystem.out.println(getLocalDateTimeNowAtZoneId(zoneId));\r\n    \t}\r\n    \r\n    \tstatic LocalDateTime getLocalDateTimeNowAtZoneId(ZoneId zoneId) {\r\n    \t\treturn ZonedDateTime.now().withZoneSameInstant(zoneId).toLocalDateTime();\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-08-17T18:37:04.456820\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-","title":"Is there a way to get the local time and time of an oracle database server using java&#39;s LocalDateTime class?","body":"<blockquote>\n<p>I want to use the value of the current time of the system where the\noracle database resides, rather than that of my local machine. Is\nthere a way to get this using the same LocalDateTime class?</p>\n</blockquote>\n<h2><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#withZoneSameInstant</code></a></h2>\n<p>Returns a copy of this date-time with a different time-zone, retaining the instant.</p>\n<p>Let's say the time-zone of the system where your Oracle DB runs is <code>America/New_York</code>. You can find the <code>LocalDateTime</code> at that time-zone using this method.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Zone ID of the system where Oracle DB runs\n        ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\n\n        System.out.println(getLocalDateTimeNowAtZoneId(zoneId));\n    }\n\n    static LocalDateTime getLocalDateTimeNowAtZoneId(ZoneId zoneId) {\n        return ZonedDateTime.now().withZoneSameInstant(zoneId).toLocalDateTime();\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-08-17T18:37:04.456820\n</code></pre>\n"}],"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668614800,"creation_date":1597702050,"question_id":63459265,"body_markdown":"To get the current time of my machine&#39;s location, and use its value to set the parameter for a jpql query, this code works fine:\r\n\r\n\r\n    LocalDateTime now = LocalDateTime.now();\r\n    query.setParameter(&quot;myTime&quot;, Timestamp.valueOf(now)); //using the current machine time to set parameter for a jpql query\r\n\r\nIn a different test case, I want to use the value of the current time of the system where the oracle database resides, rather than that of my local machine. Is there a way to get this using the same `LocalDateTime` class? If it&#39;s not possible with this class, what&#39;s the best way to resolve this issue?","title":"Is there a way to get the local time and time of an oracle database server using java&#39;s LocalDateTime class?","body":"<p>To get the current time of my machine's location, and use its value to set the parameter for a jpql query, this code works fine:</p>\n<pre><code>LocalDateTime now = LocalDateTime.now();\nquery.setParameter(&quot;myTime&quot;, Timestamp.valueOf(now)); //using the current machine time to set parameter for a jpql query\n</code></pre>\n<p>In a different test case, I want to use the value of the current time of the system where the oracle database resides, rather than that of my local machine. Is there a way to get this using the same <code>LocalDateTime</code> class? If it's not possible with this class, what's the best way to resolve this issue?</p>\n"},{"tags":["java","user-interface","spring","swing"],"comments":[{"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"score":0,"creation_date":1477474727,"post_id":3718671,"comment_id":67778563,"body_markdown":"Is Spring popular at all for GUI applications? From the web it seems that this is not the case (?).","body":"Is Spring popular at all for GUI applications? From the web it seems that this is not the case (?)."}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634481469,"creation_date":1634481469,"answer_id":69605398,"question_id":3718671,"body_markdown":"It is possible, but if you want to work with a GUI-builder, you can&#39;t initialize any GUI composites by spring. So you can&#39;t use such things like dependency injection! Spring managed beans must be get out of the spring context manually.\r\n\r\nI did this years ago, so i guess, it is currently the correct way! I had a global/static ```InitializationManager``` which initializes and holds the spring context. When I need a bean managed by spring, I called a static method of the InitializationManager ```public static &lt;T&gt; T getBean(final Class&lt;T&gt; requiredType)```.\r\n\r\nNot very elegant, but it works stable!\r\n\r\nHope this helps after the long time.","title":"Swing GUI Development with Spring","body":"<p>It is possible, but if you want to work with a GUI-builder, you can't initialize any GUI composites by spring. So you can't use such things like dependency injection! Spring managed beans must be get out of the spring context manually.</p>\n<p>I did this years ago, so i guess, it is currently the correct way! I had a global/static <code>InitializationManager</code> which initializes and holds the spring context. When I need a bean managed by spring, I called a static method of the InitializationManager <code>public static &lt;T&gt; T getBean(final Class&lt;T&gt; requiredType)</code>.</p>\n<p>Not very elegant, but it works stable!</p>\n<p>Hope this helps after the long time.</p>\n"}],"owner":{"account_id":78776,"reputation":2251,"user_id":223939,"accept_rate":75,"display_name":"Pram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29194,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1668614670,"creation_date":1284561375,"question_id":3718671,"body_markdown":"Are there any decent tutorials out there for building Swing GUI applications using Spring (v3 preferably)?","title":"Swing GUI Development with Spring","body":"<p>Are there any decent tutorials out there for building Swing GUI applications using Spring (v3 preferably)?</p>\n"},{"tags":["java","swing","imageicon"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668612754,"post_id":74462880,"comment_id":131448766,"body_markdown":"I would guess your directory in not on your classpath. Use `ImageIO` to read the image. You will get an error if the image can&#39;t be found.","body":"I would guess your directory in not on your classpath. Use <code>ImageIO</code> to read the image. You will get an error if the image can&#39;t be found."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668615816,"post_id":74462880,"comment_id":131450122,"body_markdown":"Better to load your files/images as resources:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)\n[Eclipse](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)","body":"Better to load your files/images as resources: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a> <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">Eclipse</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668634189,"post_id":74462880,"comment_id":131456426,"body_markdown":"Before you do something as advanced as a graphical application, [learn how relative directories work.](https://en.wikipedia.org/wiki/Working_directory)","body":"Before you do something as advanced as a graphical application, <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">learn how relative directories work.</a>"}],"owner":{"account_id":25735603,"reputation":1,"user_id":19490420,"display_name":"James Muscolino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668614643,"creation_date":1668611447,"question_id":74462880,"body_markdown":"I&#39;m trying to make a very basic game where a spaceship moves around but the spaceship icon isn&#39;t displaying. This is the code, could someone please help me?\r\n\r\n   \r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class MyFrame extends JFrame implements KeyListener{\r\n\r\n\r\n    JLabel Rocket;\r\n    ImageIcon rocketImage;\r\n\r\n\r\n\r\n    MyFrame(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setSize(1000,1000);\r\n        this.setLayout(null);\r\n        this.addKeyListener(this);\r\n\r\n        rocketImage = new ImageIcon(&quot;resources/rocket.png&quot;);\r\n\r\n\r\n        Rocket = new JLabel();\r\n        Rocket.setBounds(0, 0, 100, 100);\r\n        Rocket.setIcon(rocketImage);\r\n        Rocket.setVisible(true);\r\n\r\n\r\n\r\n        this.add(Rocket);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n        //keyTyped = Invoked when a key is typed. Uses KeyChar, char output\r\n        switch (e.getKeyChar()) {\r\n            case &#39;a&#39; -&gt; Rocket.setLocation(Rocket.getX() - 10, Rocket.getY());\r\n            case &#39;w&#39; -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() - 10);\r\n            case &#39;s&#39; -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() + 10);\r\n            case &#39;d&#39; -&gt; Rocket.setLocation(Rocket.getX() + 10, Rocket.getY());\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        //keyPressed = Invoked when a physical key is pressed down. Uses KeyCode, int output\r\n        switch (e.getKeyCode()) {\r\n            case 37 -&gt; Rocket.setLocation(Rocket.getX() - 10, Rocket.getY());\r\n            case 38 -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() - 10);\r\n            case 39 -&gt; Rocket.setLocation(Rocket.getX() + 10, Rocket.getY());\r\n            case 40 -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() + 10);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThanks in Advance\r\n\r\n\r\nThe image isn&#39;t appearing but when the label is a just a coloured square it appears. I think it&#39;s something with Image Icon","title":"Image Icon isn&#39;t appearing","body":"<p>I'm trying to make a very basic game where a spaceship moves around but the spaceship icon isn't displaying. This is the code, could someone please help me?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class MyFrame extends JFrame implements KeyListener{\n\n\n    JLabel Rocket;\n    ImageIcon rocketImage;\n\n\n\n    MyFrame(){\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(1000,1000);\n        this.setLayout(null);\n        this.addKeyListener(this);\n\n        rocketImage = new ImageIcon(&quot;resources/rocket.png&quot;);\n\n\n        Rocket = new JLabel();\n        Rocket.setBounds(0, 0, 100, 100);\n        Rocket.setIcon(rocketImage);\n        Rocket.setVisible(true);\n\n\n\n        this.add(Rocket);\n        this.setVisible(true);\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        //keyTyped = Invoked when a key is typed. Uses KeyChar, char output\n        switch (e.getKeyChar()) {\n            case 'a' -&gt; Rocket.setLocation(Rocket.getX() - 10, Rocket.getY());\n            case 'w' -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() - 10);\n            case 's' -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() + 10);\n            case 'd' -&gt; Rocket.setLocation(Rocket.getX() + 10, Rocket.getY());\n        }\n\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        //keyPressed = Invoked when a physical key is pressed down. Uses KeyCode, int output\n        switch (e.getKeyCode()) {\n            case 37 -&gt; Rocket.setLocation(Rocket.getX() - 10, Rocket.getY());\n            case 38 -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() - 10);\n            case 39 -&gt; Rocket.setLocation(Rocket.getX() + 10, Rocket.getY());\n            case 40 -&gt; Rocket.setLocation(Rocket.getX(), Rocket.getY() + 10);\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        \n    }\n}\n</code></pre>\n<p>Thanks in Advance</p>\n<p>The image isn't appearing but when the label is a just a coloured square it appears. I think it's something with Image Icon</p>\n"},{"tags":["java","diff"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1371487237,"post_id":132478,"comment_id":24828767,"body_markdown":"Also see http://stackoverflow.com/questions/479654/java-library-for-free-text-diff","body":"Also see <a href=\"http://stackoverflow.com/questions/479654/java-library-for-free-text-diff\" title=\"java library for free text diff\">stackoverflow.com/questions/479654/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1596,"reputation":77165,"user_id":2138,"accept_rate":58,"display_name":"Sergio del Amo"},"score":7,"creation_date":1222338792,"post_id":132484,"comment_id":33056,"body_markdown":"It returns the remainder of the second String, starting from where it&#39;s different from the first. Which is not efficient enough for me since i would be working with big texts. See: \nStringUtils.difference(&quot;ab&quot;, &quot;abxyz&quot;) -&gt; &quot;xyz&quot;\nStringUtils.difference(&quot;ab&quot;, &quot;xyzab&quot;) -&gt; &quot;xyzab&quot;;","body":"It returns the remainder of the second String, starting from where it&#39;s different from the first. Which is not efficient enough for me since i would be working with big texts. See:  StringUtils.difference(&quot;ab&quot;, &quot;abxyz&quot;) -&gt; &quot;xyz&quot; StringUtils.difference(&quot;ab&quot;, &quot;xyzab&quot;) -&gt; &quot;xyzab&quot;;"},{"owner":{"account_id":4977809,"reputation":2502,"user_id":4003671,"accept_rate":90,"display_name":"Alec"},"score":3,"creation_date":1467655073,"post_id":132484,"comment_id":63805694,"body_markdown":"Also beware this gotcha:\n`StringUtils.difference(&quot;abc&quot;, &quot;&quot;) = &quot;&quot;`\n`StringUtils.difference(&quot;abc&quot;, &quot;abc&quot;) = &quot;&quot;`","body":"Also beware this gotcha: <code>StringUtils.difference(&quot;abc&quot;, &quot;&quot;) = &quot;&quot;</code> <code>StringUtils.difference(&quot;abc&quot;, &quot;abc&quot;) = &quot;&quot;</code>"}],"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1222338142,"creation_date":1222338142,"answer_id":132484,"question_id":132478,"body_markdown":"Apache Commons has String diff\r\n\r\norg.apache.commons.lang.StringUtils\r\n\r\n    StringUtils.difference(&quot;foobar&quot;, &quot;foo&quot;);","title":"How to perform string Diffs in Java?","body":"<p>Apache Commons has String diff</p>\n\n<p>org.apache.commons.lang.StringUtils</p>\n\n<pre><code>StringUtils.difference(\"foobar\", \"foo\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5824,"reputation":84406,"user_id":9567,"accept_rate":100,"display_name":"Torsten Marek"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1222339202,"creation_date":1222339202,"answer_id":132547,"question_id":132478,"body_markdown":"Use the [Levenshtein distance][1] and extract the edit logs from the matrix the algorithm builds up. The Wikipedia article links to a couple of implementations, I&#39;m sure there&#39;s a Java implementation among in.\r\n\r\nLevenshtein is a special case of the [Longest Common Subsequence][2] algorithm, you might also want to have a look at that.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Levenshtein_distance\r\n  [2]: http://en.wikipedia.org/wiki/Longest_common_subsequence_problem","title":"How to perform string Diffs in Java?","body":"<p>Use the <a href=\"http://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"nofollow noreferrer\">Levenshtein distance</a> and extract the edit logs from the matrix the algorithm builds up. The Wikipedia article links to a couple of implementations, I'm sure there's a Java implementation among in.</p>\n\n<p>Levenshtein is a special case of the <a href=\"http://en.wikipedia.org/wiki/Longest_common_subsequence_problem\" rel=\"nofollow noreferrer\">Longest Common Subsequence</a> algorithm, you might also want to have a look at that.</p>\n"},{"comments":[{"owner":{"account_id":97213,"reputation":171,"user_id":263814,"accept_rate":25,"display_name":"Kerinin"},"score":0,"creation_date":1370901623,"post_id":132550,"comment_id":24622026,"body_markdown":"Those are different libs, FWIW","body":"Those are different libs, FWIW"},{"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"score":6,"creation_date":1452806077,"post_id":132550,"comment_id":57342911,"body_markdown":"Maven repository for the google-diff-match-patch is [there](https://bitbucket.org/cowwoc/google-diff-match-patch/wiki/Home).","body":"Maven repository for the google-diff-match-patch is <a href=\"https://bitbucket.org/cowwoc/google-diff-match-patch/wiki/Home\" rel=\"nofollow noreferrer\">there</a>."},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":5,"creation_date":1479884129,"post_id":132550,"comment_id":68740649,"body_markdown":"The actively maintained fork of java-diff-utils seems to be https://github.com/bkromhout/java-diff-utils","body":"The actively maintained fork of java-diff-utils seems to be <a href=\"https://github.com/bkromhout/java-diff-utils\" rel=\"nofollow noreferrer\">github.com/bkromhout/java-diff-utils</a>"},{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":0,"creation_date":1499100076,"post_id":132550,"comment_id":76758829,"body_markdown":"`google-diff-match-patch` on github: https://github.com/GerHobbelt/google-diff-match-patch","body":"<code>google-diff-match-patch</code> on github: <a href=\"https://github.com/GerHobbelt/google-diff-match-patch\" rel=\"nofollow noreferrer\">github.com/GerHobbelt/google-diff-match-patch</a>"},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":2,"creation_date":1612349323,"post_id":132550,"comment_id":116736918,"body_markdown":"The maintained fork seems to be now https://github.com/java-diff-utils/java-diff-utils","body":"The maintained fork seems to be now <a href=\"https://github.com/java-diff-utils/java-diff-utils\" rel=\"nofollow noreferrer\">github.com/java-diff-utils/java-diff-utils</a>"}],"tags":[],"owner":{"account_id":11224,"reputation":1711,"user_id":21548,"display_name":"bernardn"},"comment_count":5,"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1519041566,"creation_date":1222339297,"answer_id":132550,"question_id":132478,"body_markdown":"This library seems to do the trick: [google-diff-match-patch][1]. It can create a patch string from differences and allow to reapply the patch.\r\n\r\n**edit**: Another solution might be to https://code.google.com/p/java-diff-utils/\r\n\r\n\r\n  [1]: https://github.com/google/diff-match-patch","title":"How to perform string Diffs in Java?","body":"<p>This library seems to do the trick: <a href=\"https://github.com/google/diff-match-patch\" rel=\"noreferrer\">google-diff-match-patch</a>. It can create a patch string from differences and allow to reapply the patch.</p>\n\n<p><strong>edit</strong>: Another solution might be to <a href=\"https://code.google.com/p/java-diff-utils/\" rel=\"noreferrer\">https://code.google.com/p/java-diff-utils/</a></p>\n"},{"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1442844247,"post_id":132560,"comment_id":53237638,"body_markdown":"Thank you, but getLevenshteinDistance just returns an integer. That&#39;s not enough to rebuild the strings.","body":"Thank you, but getLevenshteinDistance just returns an integer. That&#39;s not enough to rebuild the strings."},{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1442923470,"post_id":132560,"comment_id":53275051,"body_markdown":"@hstoerr you are correct I must of missed this part in the original question. Long time ago now :)","body":"@hstoerr you are correct I must of missed this part in the original question. Long time ago now :)"},{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":0,"creation_date":1565008048,"post_id":132560,"comment_id":101204107,"body_markdown":"That method is also deprecated.","body":"That method is also deprecated."}],"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"comment_count":3,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1222339576,"creation_date":1222339576,"answer_id":132560,"question_id":132478,"body_markdown":"As Torsten Says you can use\r\n\r\norg.apache.commons.lang.StringUtils;\r\n\r\n\r\n    System.err.println(StringUtils.getLevenshteinDistance(&quot;foobar&quot;, &quot;bar&quot;));\r\n\r\n","title":"How to perform string Diffs in Java?","body":"<p>As Torsten Says you can use</p>\n\n<p>org.apache.commons.lang.StringUtils;</p>\n\n<pre><code>System.err.println(StringUtils.getLevenshteinDistance(\"foobar\", \"bar\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9122,"reputation":9322,"user_id":16724,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222353404,"creation_date":1222353404,"answer_id":133746,"question_id":132478,"body_markdown":"If you need to deal with differences between big amounts of data and have the differences efficiently compressed, you could try a Java implementation of xdelta, which in turn implements RFC 3284 (VCDIFF) for binary diffs (should work with strings too).","title":"How to perform string Diffs in Java?","body":"<p>If you need to deal with differences between big amounts of data and have the differences efficiently compressed, you could try a Java implementation of xdelta, which in turn implements RFC 3284 (VCDIFF) for binary diffs (should work with strings too).</p>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":3,"creation_date":1479975590,"post_id":1147027,"comment_id":68785374,"body_markdown":"The repo https://github.com/bkromhout/java-diff-utils/ forked indirectly from the original GitHub repository and is better maintained. Maybe you can join forces there?","body":"The repo <a href=\"https://github.com/bkromhout/java-diff-utils/\" rel=\"nofollow noreferrer\">github.com/bkromhout/java-diff-utils</a> forked indirectly from the original GitHub repository and is better maintained. Maybe you can join forces there?"}],"tags":[],"owner":{"account_id":28327,"reputation":591,"user_id":75609,"display_name":"dnaumenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456659688,"creation_date":1247906187,"answer_id":1147027,"question_id":132478,"body_markdown":"The [java diff utills][1] library might be useful.\r\n\r\n\r\n  [1]: https://github.com/dnaumenko/java-diff-utils","title":"How to perform string Diffs in Java?","body":"<p>The <a href=\"https://github.com/dnaumenko/java-diff-utils\" rel=\"nofollow noreferrer\">java diff utills</a> library might be useful.</p>\n"},{"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":7,"creation_date":1498068037,"post_id":40873183,"comment_id":76350399,"body_markdown":"Untested plain text code like this almost never makes sense. Create a project on a FLOSS code hosting page and provide the code + tests there.","body":"Untested plain text code like this almost never makes sense. Create a project on a FLOSS code hosting page and provide the code + tests there."}],"tags":[],"owner":{"account_id":9739520,"reputation":53,"user_id":7221637,"accept_rate":38,"display_name":"Sandeep Raj Urs"},"comment_count":1,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1480444226,"creation_date":1480444226,"answer_id":40873183,"question_id":132478,"body_markdown":" \r\n    \r\n    public class Stringdiff {\r\n    public static void main(String args[]){\r\n    System.out.println(strcheck(&quot;sum&quot;,&quot;sumsum&quot;));\r\n    }\r\n\tpublic static String strcheck(String str1,String str2){\r\n\t\tif(Math.abs((str1.length()-str2.length()))==-1){\r\n\t\t\treturn &quot;Invalid&quot;;\r\n\t\t}\r\n\t\tint num=diffcheck1(str1, str2);\r\n\t\tif(num==-1){\r\n\t\t\treturn &quot;Empty&quot;;\r\n\t\t}\r\n\t\tif(str1.length()&gt;str2.length()){\r\n\t\t\treturn str1.substring(num);\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn str2.substring(num);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tpublic static int diffcheck1(String str1,String str2)\r\n\t{\r\n\t\tint i;\r\n\t\tString str;\r\n\t\tString strn;\r\n\t\tif(str1.length()&gt;str2.length()){\r\n\t\t\tstr=str1;\r\n\t\t\tstrn=str2;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tstr=str2;\r\n\t\t\tstrn=str1;\r\n\t\t}\r\n\t\tfor(i=0;i&lt;str.length() &amp;&amp; i&lt;strn.length();i++){\r\n\t\t\t\tif(str1.charAt(i)!=str2.charAt(i)){\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t\tif(i&lt;str1.length()||i&lt;str2.length()){\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t\t\r\n\t\treturn -1;\r\n\t\r\n       }\r\n       }\r\n","title":"How to perform string Diffs in Java?","body":"<pre><code>public class Stringdiff {\npublic static void main(String args[]){\nSystem.out.println(strcheck(\"sum\",\"sumsum\"));\n}\npublic static String strcheck(String str1,String str2){\n    if(Math.abs((str1.length()-str2.length()))==-1){\n        return \"Invalid\";\n    }\n    int num=diffcheck1(str1, str2);\n    if(num==-1){\n        return \"Empty\";\n    }\n    if(str1.length()&gt;str2.length()){\n        return str1.substring(num);\n    }\n    else{\n        return str2.substring(num);\n    }\n\n}\n\npublic static int diffcheck1(String str1,String str2)\n{\n    int i;\n    String str;\n    String strn;\n    if(str1.length()&gt;str2.length()){\n        str=str1;\n        strn=str2;\n    }\n    else{\n        str=str2;\n        strn=str1;\n    }\n    for(i=0;i&lt;str.length() &amp;&amp; i&lt;strn.length();i++){\n            if(str1.charAt(i)!=str2.charAt(i)){\n                return i;\n            }\n    }\n        if(i&lt;str1.length()||i&lt;str2.length()){\n            return i;\n        }\n\n    return -1;\n\n   }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581519491,"creation_date":1581519491,"answer_id":60191154,"question_id":132478,"body_markdown":"Apache Commons Text now has [StringsComparator](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/diff/StringsComparator.html):\r\n\r\n\r\n    StringsComparator c = new StringsComparator(s1, s2);\r\n    c.getScript().visit(new CommandVisitor&lt;Character&gt;() {\r\n\r\n        @Override\r\n        public void visitKeepCommand(Character object) {\r\n            System.out.println(&quot;k: &quot; + object);\r\n        }\r\n\r\n        @Override\r\n        public void visitInsertCommand(Character object) {\r\n            System.out.println(&quot;i: &quot; + object);\r\n        }\r\n\r\n        @Override\r\n        public void visitDeleteCommand(Character object) {\r\n            System.out.println(&quot;d: &quot; + object);\r\n        }\r\n    });\r\n","title":"How to perform string Diffs in Java?","body":"<p>Apache Commons Text now has <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/diff/StringsComparator.html\" rel=\"nofollow noreferrer\">StringsComparator</a>:</p>\n\n<pre><code>StringsComparator c = new StringsComparator(s1, s2);\nc.getScript().visit(new CommandVisitor&lt;Character&gt;() {\n\n    @Override\n    public void visitKeepCommand(Character object) {\n        System.out.println(\"k: \" + object);\n    }\n\n    @Override\n    public void visitInsertCommand(Character object) {\n        System.out.println(\"i: \" + object);\n    }\n\n    @Override\n    public void visitDeleteCommand(Character object) {\n        System.out.println(\"d: \" + object);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668614579,"creation_date":1668614579,"answer_id":74463656,"question_id":132478,"body_markdown":"I found it useful to discover, (for a regression test, where I didn&#39;t need diffing support in production) that `assertj` provides built-in access for `java-diff-utils`.  See its DiffUtils, InputStream, or Diff classes, for example.","title":"How to perform string Diffs in Java?","body":"<p>I found it useful to discover, (for a regression test, where I didn't need diffing support in production) that <code>assertj</code> provides built-in access for <code>java-diff-utils</code>.  See its DiffUtils, InputStream, or Diff classes, for example.</p>\n"}],"owner":{"account_id":1596,"reputation":77165,"user_id":2138,"accept_rate":58,"display_name":"Sergio del Amo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85148,"favorite_count":0,"down_vote_count":1,"up_vote_count":59,"accepted_answer_id":132550,"answer_count":9,"score":58,"last_activity_date":1668614579,"creation_date":1222338039,"question_id":132478,"body_markdown":"I need to perform Diffs between Java strings. I would like to be able to rebuild a string using the original string and diff versions. Has anyone done this in Java? What library do you use?\r\n\r\n\r\n    String a1; // This can be a long text\r\n    String a2; // ej. above text with spelling corrections\r\n    String a3; // ej. above text with spelling corrections and an additional sentence\r\n \r\n    Diff diff = new Diff();\r\n    String differences_a1_a2 = Diff.getDifferences(a,changed_a);\r\n    String differences_a2_a3 = Diff.getDifferences(a,changed_a);    \r\n    String[] diffs = new String[]{a,differences_a1_a2,differences_a2_a3};\r\n    String new_a3 = Diff.build(diffs);\r\n    a3.equals(new_a3); // this is true\r\n\r\n   \r\n\r\n\r\n\r\n","title":"How to perform string Diffs in Java?","body":"<p>I need to perform Diffs between Java strings. I would like to be able to rebuild a string using the original string and diff versions. Has anyone done this in Java? What library do you use?</p>\n\n<pre><code>String a1; // This can be a long text\nString a2; // ej. above text with spelling corrections\nString a3; // ej. above text with spelling corrections and an additional sentence\n\nDiff diff = new Diff();\nString differences_a1_a2 = Diff.getDifferences(a,changed_a);\nString differences_a2_a3 = Diff.getDifferences(a,changed_a);    \nString[] diffs = new String[]{a,differences_a1_a2,differences_a2_a3};\nString new_a3 = Diff.build(diffs);\na3.equals(new_a3); // this is true\n</code></pre>\n"},{"tags":["java","json","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1661331848,"post_id":73470240,"comment_id":129744316,"body_markdown":"What is `qlfJsonDeserializer` from `props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, qlfJsonDeserializer);`?","body":"What is <code>qlfJsonDeserializer</code> from <code>props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, qlfJsonDeserializer);</code>?"},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1661332053,"post_id":73470240,"comment_id":129744407,"body_markdown":"@NikolaiShevchenko my bad, should be moJsonDeserializer, I swapped some class name to generalize the question. I will make an edit.","body":"@NikolaiShevchenko my bad, should be moJsonDeserializer, I swapped some class name to generalize the question. I will make an edit."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1661376635,"post_id":73470240,"comment_id":129760825,"body_markdown":"You seem to have forgotten the type mappings - https://docs.spring.io/spring-kafka/docs/current/reference/html/#serdes-mapping-types","body":"You seem to have forgotten the type mappings - <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#serdes-mapping-types\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16714417,"reputation":1,"user_id":12080899,"display_name":"jfmont"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668614532,"creation_date":1668614532,"answer_id":74463645,"question_id":73470240,"body_markdown":"I was running the same problem, it was fixed after setting the containerFactory (you already have this) and adding the deserializers by class name:\r\n\r\n    properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class.getName());\r\n\r\nAlso added the default type for the consumer:\r\n\r\n    properties.put(JsonDeserializer.VALUE_DEFAULT_TYPE,&quot;foo.bar.MyObject&quot;);\r\n\r\nAlso my @KafkaLister method annotates the @Payload parameter. ","title":"Apache Kafka consumer cannot deserialize java POJO","body":"<p>I was running the same problem, it was fixed after setting the containerFactory (you already have this) and adding the deserializers by class name:</p>\n<pre><code>properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nproperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class.getName());\n</code></pre>\n<p>Also added the default type for the consumer:</p>\n<pre><code>properties.put(JsonDeserializer.VALUE_DEFAULT_TYPE,&quot;foo.bar.MyObject&quot;);\n</code></pre>\n<p>Also my @KafkaLister method annotates the @Payload parameter.</p>\n"}],"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668614532,"creation_date":1661331346,"question_id":73470240,"body_markdown":"I am having problems to configure my kafka consumer to de-serialize Java objects that I send as payload by my producer. I will get the following error message:\r\n\r\n&gt; cannot convert from [java.lang.String] to [foo.bar.MyObject] for GenericMessage [payload={&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:&quot;A&quot;}, (..)]\r\n\r\nMy object just contains two fields:\r\n\r\n```java\r\n@Data\r\npublic class MyObject {\r\n    String type;\r\n    String content;\r\n}\r\n```\r\n\r\nI have added a JSON serializer for my object to my kafka configuration:\r\n\r\n```java\r\n@Configuration\r\npublic class KafkaConf {\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        JsonDeserializer myJsonDeserializer = new JsonDeserializer&lt;&gt;(MyObject.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, myJsonDeserializer);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, MyObject&gt; myObjectConsumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am also explicitly specifying my consumer factory in the kafka listener like this:\r\n\r\n```java\r\n    @KafkaListener(topics = &quot;doc&quot;, groupId = &quot;repliesGroup&quot;, containerFactory = &quot;myObjectConsumerFactory&quot;)\r\n    @SendTo\r\n    public List&lt;String&gt; listen(MyObject foo) {\r\n        return myService.doStuff(foo);\r\n    }\r\n```\r\n\r\nWhat am I still missing here?","title":"Apache Kafka consumer cannot deserialize java POJO","body":"<p>I am having problems to configure my kafka consumer to de-serialize Java objects that I send as payload by my producer. I will get the following error message:</p>\n<blockquote>\n<p>cannot convert from [java.lang.String] to [foo.bar.MyObject] for GenericMessage [payload={&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:&quot;A&quot;}, (..)]</p>\n</blockquote>\n<p>My object just contains two fields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class MyObject {\n    String type;\n    String content;\n}\n</code></pre>\n<p>I have added a JSON serializer for my object to my kafka configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaConf {\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        JsonDeserializer myJsonDeserializer = new JsonDeserializer&lt;&gt;(MyObject.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, myJsonDeserializer);\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, MyObject&gt; myObjectConsumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n}\n</code></pre>\n<p>I am also explicitly specifying my consumer factory in the kafka listener like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @KafkaListener(topics = &quot;doc&quot;, groupId = &quot;repliesGroup&quot;, containerFactory = &quot;myObjectConsumerFactory&quot;)\n    @SendTo\n    public List&lt;String&gt; listen(MyObject foo) {\n        return myService.doStuff(foo);\n    }\n</code></pre>\n<p>What am I still missing here?</p>\n"},{"tags":["java","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1668604920,"post_id":74460232,"comment_id":131445400,"body_markdown":"Have you tried extending `WebSecurityConfigurerAdapter` and overriding `configure(AuthenticationManagerBuilder)`? You might be short-circuiting other default configuration by building the shared builder, which can only be built once.","body":"Have you tried extending <code>WebSecurityConfigurerAdapter</code> and overriding <code>configure(AuthenticationManagerBuilder)</code>? You might be short-circuiting other default configuration by building the shared builder, which can only be built once."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1668609720,"post_id":74460232,"comment_id":131447525,"body_markdown":"Yes, but this didn&#39;t help. FYI, the WebSecurityConfigurerAdapter is deprecated, instead you use a SecurityFilterChain Bean.","body":"Yes, but this didn&#39;t help. FYI, the WebSecurityConfigurerAdapter is deprecated, instead you use a SecurityFilterChain Bean."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1668613430,"post_id":74460232,"comment_id":131449068,"body_markdown":"Please show us the rest of our code, we need the full picture.","body":"Please show us the rest of our code, we need the full picture."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1668614601,"post_id":74460232,"comment_id":131449584,"body_markdown":"@Toerktumlare: thanks for your interest. I&#39;ve added the compelte sample to my request.","body":"@Toerktumlare: thanks for your interest. I&#39;ve added the compelte sample to my request."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1668636105,"post_id":74460232,"comment_id":131457022,"body_markdown":"If you enable debug logging (which you should do before asking here) im guessing you are getting redirected to /error which then wont allow you access since you have not whitelisted it, which will redirect yo to /error again etc etc","body":"If you enable debug logging (which you should do before asking here) im guessing you are getting redirected to /error which then wont allow you access since you have not whitelisted it, which will redirect yo to /error again etc etc"},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1668637694,"post_id":74460232,"comment_id":131457466,"body_markdown":"Yes I have enabled debug logging, I&#39;ve set it even to TRACE. And as I&#39;ve written in my question, all I get is either an infinite loop error `o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;admin&#39;` or an StackOverflowError `o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value`.","body":"Yes I have enabled debug logging, I&#39;ve set it even to TRACE. And as I&#39;ve written in my question, all I get is either an infinite loop error <code>o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1&#47;1) o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;admin&#39;</code> or an StackOverflowError <code>o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1&#47;1) o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value</code>."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1668637729,"post_id":74460232,"comment_id":131457475,"body_markdown":"And additionally fyi, I&#39;ve simplyfied the example, but even with correct error handling the result is the same. Btw: if there were a redirecting problem with an unauthorized /error path, this would be shown in the log. I&#39;ve posted the log, and there is no /error error, there is a recursion caused by whatever, but not by that.","body":"And additionally fyi, I&#39;ve simplyfied the example, but even with correct error handling the result is the same. Btw: if there were a redirecting problem with an unauthorized /error path, this would be shown in the log. I&#39;ve posted the log, and there is no /error error, there is a recursion caused by whatever, but not by that."}],"answers":[{"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1668609436,"post_id":74461863,"comment_id":131447388,"body_markdown":"As I&#39;ve mentioned, the conventional use of an InMemoryUserDetailsManager Bean works - but his is not what I am asking for. I want to understand how to use an AuthenticationManager for InMemoryAuthentication, not to use this in production, but to get a deeper grasp of how Spring Boot works. I want to get this done, and then I can decide, which way to go for. The sunny side best practice solutions won&#39;t help me to gain a deeper understanding...","body":"As I&#39;ve mentioned, the conventional use of an InMemoryUserDetailsManager Bean works - but his is not what I am asking for. I want to understand how to use an AuthenticationManager for InMemoryAuthentication, not to use this in production, but to get a deeper grasp of how Spring Boot works. I want to get this done, and then I can decide, which way to go for. The sunny side best practice solutions won&#39;t help me to gain a deeper understanding..."}],"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668607632,"creation_date":1668607632,"answer_id":74461863,"question_id":74460232,"body_markdown":"Since Spring 5.4, it is recommended to move towards a component-based security configuration. Actually, `WebSecurityConfigurerAdapter` has been deprecated in Spring Security 5.7.0-M2. \r\n\r\nFor the kind of authentication you seem to need in this example, I&#39;d say you could use this, as presented in the official docs: \r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n        @Bean\r\n        public InMemoryUserDetailsManager userDetailsService() {\r\n            UserDetails user = User.withDefaultPasswordEncoder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;password&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n            return new InMemoryUserDetailsManager(user);\r\n        }\r\n    }\r\n\r\nThis article explains other scenarios as well, like creating a custom \r\n`AuthenticationManager`: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication","title":"Spring Boot authentication results in recursion and StackOverflowError using an AuthenticationManager","body":"<p>Since Spring 5.4, it is recommended to move towards a component-based security configuration. Actually, <code>WebSecurityConfigurerAdapter</code> has been deprecated in Spring Security 5.7.0-M2.</p>\n<p>For the kind of authentication you seem to need in this example, I'd say you could use this, as presented in the official docs:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService() {\n        UserDetails user = User.withDefaultPasswordEncoder()\n            .username(&quot;user&quot;)\n            .password(&quot;password&quot;)\n            .roles(&quot;USER&quot;)\n            .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>This article explains other scenarios as well, like creating a custom\n<code>AuthenticationManager</code>: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication</a></p>\n"}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1668614517,"creation_date":1668600638,"question_id":74460232,"body_markdown":"Why does the use of an AuthenticationManager results in a StackOverflowError? Somewhere in the authentication process there seems to be a recursive call, but unfortunately I have no idea how to counter this.\r\n\r\nHere the code:\r\n```Java\r\n@Bean\r\npublic AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n\r\n    AuthenticationManagerBuilder authManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n    authManagerBuilder.inMemoryAuthentication().withUser(&quot;user&quot;).password(&quot;{noop}password&quot;).roles(&quot;USER&quot;);\r\n\r\n    return authManagerBuilder.build();\r\n}\r\n```\r\n\r\nThe login with correct data works, but as soon as username or password are not correct one of the following problems occurs:\r\nWith wrong username an infinite loop:\r\n```\r\n...\r\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;admin&#39;\r\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\r\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;admin&#39;\r\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\r\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;admin&#39;\r\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\r\n...\r\n```\r\nWith correct username but wrong password a recursion resulting in a StackOverflowError:\r\n```\r\n...\r\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\r\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\r\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\r\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\r\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\r\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\r\nw.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\ns.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Filter execution threw an exception] with root cause\r\n\r\njava.lang.StackOverflowError: null\r\n\tat java.base/java.util.stream.IntPipeline.forEachWithCancel(IntPipeline.java:161) ~[na:na]\r\n...\r\n```\r\nThere are no other Beans set except the SecurityFilterChain and the PasswordEncoder. So I wonder why the conventional use of an InMemoryUserDetailsManager Bean works, but the use of the same functionality with the help of an AuthenticationManager leads to problems?\r\n\r\n---\r\nedit:\r\nBecause requested, here the complete code sample:\r\n```Java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http, AuthenticationManager authManager) throws Exception {\r\n        return http\r\n                .authorizeRequests(auth -&gt; auth\r\n                        .mvcMatchers(&quot;/&quot;).permitAll()\r\n                        .mvcMatchers(&quot;/**&quot;).access(&quot;hasRole(&#39;USER&#39;)&quot;))\r\n\r\n                .formLogin(FormLoginConfigurer::permitAll)\r\n                .authenticationManager(authManager)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n        authManagerBuilder.inMemoryAuthentication()\r\n                .withUser(&quot;user&quot;)\r\n                .password(&quot;{noop}password&quot;)\r\n                .roles(&quot;USER&quot;);\r\n\r\n        return authManagerBuilder.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n}\r\n```","title":"Spring Boot authentication results in recursion and StackOverflowError using an AuthenticationManager","body":"<p>Why does the use of an AuthenticationManager results in a StackOverflowError? Somewhere in the authentication process there seems to be a recursive call, but unfortunately I have no idea how to counter this.</p>\n<p>Here the code:</p>\n<pre><code>@Bean\npublic AuthenticationManager authManager(HttpSecurity http) throws Exception {\n\n    AuthenticationManagerBuilder authManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n\n    authManagerBuilder.inMemoryAuthentication().withUser(&quot;user&quot;).password(&quot;{noop}password&quot;).roles(&quot;USER&quot;);\n\n    return authManagerBuilder.build();\n}\n</code></pre>\n<p>The login with correct data works, but as soon as username or password are not correct one of the following problems occurs:\nWith wrong username an infinite loop:</p>\n<pre><code>...\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'admin'\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'admin'\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'admin'\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\n...\n</code></pre>\n<p>With correct username but wrong password a recursion resulting in a StackOverflowError:</p>\n<pre><code>...\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\no.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)\no.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\nw.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\ns.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Filter execution threw an exception] with root cause\n\njava.lang.StackOverflowError: null\n    at java.base/java.util.stream.IntPipeline.forEachWithCancel(IntPipeline.java:161) ~[na:na]\n...\n</code></pre>\n<p>There are no other Beans set except the SecurityFilterChain and the PasswordEncoder. So I wonder why the conventional use of an InMemoryUserDetailsManager Bean works, but the use of the same functionality with the help of an AuthenticationManager leads to problems?</p>\n<hr />\n<p>edit:\nBecause requested, here the complete code sample:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http, AuthenticationManager authManager) throws Exception {\n        return http\n                .authorizeRequests(auth -&gt; auth\n                        .mvcMatchers(&quot;/&quot;).permitAll()\n                        .mvcMatchers(&quot;/**&quot;).access(&quot;hasRole('USER')&quot;))\n\n                .formLogin(FormLoginConfigurer::permitAll)\n                .authenticationManager(authManager)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n\n        authManagerBuilder.inMemoryAuthentication()\n                .withUser(&quot;user&quot;)\n                .password(&quot;{noop}password&quot;)\n                .roles(&quot;USER&quot;);\n\n        return authManagerBuilder.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9344,"page":879,"page_size":100}
