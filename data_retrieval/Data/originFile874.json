{"items":[{"tags":["java","eclipse","jlabel","paint","windowbuilder"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1668794066,"post_id":74493588,"comment_id":131500814,"body_markdown":"&quot;Swing programs should override `paintComponent()` instead of overriding `paint()`.&quot;—[*Painting in AWT and Swing: The Paint Methods*](http://www.oracle.com/technetwork/java/painting-140037.html#callbacks).","body":"&quot;Swing programs should override <code>paintComponent()</code> instead of overriding <code>paint()</code>.&quot;—<a href=\"http://www.oracle.com/technetwork/java/painting-140037.html#callbacks\" rel=\"nofollow noreferrer\"><i>Painting in AWT and Swing: The Paint Methods</i></a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1668794220,"post_id":74493588,"comment_id":131500861,"body_markdown":"Possiblele duplicate of [_How do I set a JLabel&#39;s background color?_](https://stackoverflow.com/q/2380314/230513)","body":"Possiblele duplicate of <a href=\"https://stackoverflow.com/q/2380314/230513\"><i>How do I set a JLabel&#39;s background color?</i></a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668829584,"post_id":74493588,"comment_id":131507300,"body_markdown":"`new ImageIcon(imagePath)` … you will want to read about how [current directories and relative file paths work.](https://en.wikipedia.org/wiki/Working_directory)","body":"<code>new ImageIcon(imagePath)</code> … you will want to read about how <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current directories and relative file paths work.</a>"}],"owner":{"account_id":26976837,"reputation":1,"user_id":20541879,"display_name":"Saturo Gojo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668794029,"creation_date":1668793810,"question_id":74493588,"body_markdown":"\r\nI have put a background image using &quot;paint&quot; and as I&#39;ve tried to add a Jlabel it is not showing upon running. Here&#39;s my code and screenshots.\r\n\r\n[Output][1]\r\n```\r\npublic class startingPage extends JFrame {\r\n```\r\n\r\n```\r\nprivate JPanel contentPane;\r\nprivate String audioFileName = &quot;bg-music.wav&quot;;\r\nprivate String imagePath = &quot;truck_850x300_mining_island.png&quot;;\r\nprivate String logo = &quot;explore_with_mine.png&quot;;\r\n\r\n/**\r\n * Launch the application.\r\n */\r\npublic static void main(String[] args) {\r\n\tEventQueue.invokeLater(new Runnable() {\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tstartingPage frame = new startingPage();\r\n\t\t\t\tframe.setVisible(true);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Create the frame.\r\n */\r\npublic startingPage() {\r\n\t\r\n\t\r\n\t\r\n\tinitComponents();\r\n\tcreateEvents();\r\n\tplayAudio();\r\n\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\npublic void playAudio() {\r\n\t// TODO Auto-generated method stub\r\n\t\r\n\ttry \r\n\t{\r\n\tFile audioPath = new File(audioFileName);\r\n\tprogramManager.stream = AudioSystem.getAudioInputStream(audioPath);\r\n\tprogramManager.clip = AudioSystem.getClip();\r\n\tprogramManager.clip.open(programManager.stream);\r\n\tprogramManager.clip.start();\r\n\t}\r\n\t\r\n\tcatch(Exception e)\r\n\t{\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\r\n}\r\n\r\npublic void createEvents() {\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\npublic void initComponents() {\r\n\t\r\n\tsetTitle(&quot;Explore With Mine&quot;);\r\n\tsetIconImage(Toolkit.getDefaultToolkit().getImage(startingPage.class.getResource(&quot;/exploreWithMine/resources/logo.png&quot;)));\r\n\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\tsetResizable(false);\r\n\tsetBounds(400, 200, 720, 480);\r\n\tcontentPane = new JPanel();\r\n\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\tsetContentPane(contentPane);\r\n\tcontentPane.setLayout(null);\r\n\t\r\n\tJButton btnNewButton = new JButton(&quot;START&quot;);\r\n\tbtnNewButton.setBounds(262, 299, 177, 58);\r\n\tbtnNewButton.setBackground(Color.LIGHT_GRAY);\r\n\tbtnNewButton.setForeground(new Color(165, 42, 42));\r\n\tbtnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 42));\r\n\tcontentPane.add(btnNewButton);\r\n\t\r\n\tJLabel lblNewLabel = new JLabel(&quot;TESTING&quot;);\r\n\tlblNewLabel.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 16));\r\n\tlblNewLabel.setBounds(10, 10, 146, 43);\r\n\tcontentPane.add(lblNewLabel);\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\npublic void paint(Graphics g) \r\n{\r\n\t\r\n\tg.drawImage(new ImageIcon(imagePath).getImage(),\r\n\t\t\t-70,90, null);\r\n\t\r\n\r\n\t\r\n}\r\n```\r\n\r\n```\r\n}\r\n```\r\n\r\n```\r\n```\r\n\r\n[OUTPUT](https://i.stack.imgur.com/eeUlm.png)\r\n[JLABEL not Showing (Upper Left)](https://i.stack.imgur.com/sjwp9.png)\r\n\r\nI have tried removing the painted background image and it worked however I also need that background image to be there.\r\n\r\n[OUTPUT](https://i.stack.imgur.com/A5Tyh.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ECh58.png","title":"JLabel not showing in painted background","body":"<p>I have put a background image using &quot;paint&quot; and as I've tried to add a Jlabel it is not showing upon running. Here's my code and screenshots.</p>\n<p><a href=\"https://i.stack.imgur.com/ECh58.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<pre><code>public class startingPage extends JFrame {\n</code></pre>\n<pre><code>private JPanel contentPane;\nprivate String audioFileName = &quot;bg-music.wav&quot;;\nprivate String imagePath = &quot;truck_850x300_mining_island.png&quot;;\nprivate String logo = &quot;explore_with_mine.png&quot;;\n\n/**\n * Launch the application.\n */\npublic static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            try {\n                startingPage frame = new startingPage();\n                frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n\n/**\n * Create the frame.\n */\npublic startingPage() {\n    \n    \n    \n    initComponents();\n    createEvents();\n    playAudio();\n\n    \n    \n    \n}\n\npublic void playAudio() {\n    // TODO Auto-generated method stub\n    \n    try \n    {\n    File audioPath = new File(audioFileName);\n    programManager.stream = AudioSystem.getAudioInputStream(audioPath);\n    programManager.clip = AudioSystem.getClip();\n    programManager.clip.open(programManager.stream);\n    programManager.clip.start();\n    }\n    \n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    \n}\n\npublic void createEvents() {\n    \n    \n    \n}\n\npublic void initComponents() {\n    \n    setTitle(&quot;Explore With Mine&quot;);\n    setIconImage(Toolkit.getDefaultToolkit().getImage(startingPage.class.getResource(&quot;/exploreWithMine/resources/logo.png&quot;)));\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setResizable(false);\n    setBounds(400, 200, 720, 480);\n    contentPane = new JPanel();\n    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n    setContentPane(contentPane);\n    contentPane.setLayout(null);\n    \n    JButton btnNewButton = new JButton(&quot;START&quot;);\n    btnNewButton.setBounds(262, 299, 177, 58);\n    btnNewButton.setBackground(Color.LIGHT_GRAY);\n    btnNewButton.setForeground(new Color(165, 42, 42));\n    btnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 42));\n    contentPane.add(btnNewButton);\n    \n    JLabel lblNewLabel = new JLabel(&quot;TESTING&quot;);\n    lblNewLabel.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 16));\n    lblNewLabel.setBounds(10, 10, 146, 43);\n    contentPane.add(lblNewLabel);\n    \n    \n    \n    \n    \n    \n}\n\npublic void paint(Graphics g) \n{\n    \n    g.drawImage(new ImageIcon(imagePath).getImage(),\n            -70,90, null);\n    \n\n    \n}\n</code></pre>\n<pre><code>}\n</code></pre>\n<pre><code></code></pre>\n<p><a href=\"https://i.stack.imgur.com/eeUlm.png\" rel=\"nofollow noreferrer\">OUTPUT</a>\n<a href=\"https://i.stack.imgur.com/sjwp9.png\" rel=\"nofollow noreferrer\">JLABEL not Showing (Upper Left)</a></p>\n<p>I have tried removing the painted background image and it worked however I also need that background image to be there.</p>\n<p><a href=\"https://i.stack.imgur.com/A5Tyh.png\" rel=\"nofollow noreferrer\">OUTPUT</a></p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667782371,"post_id":74338311,"comment_id":131242584,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":0,"creation_date":1667806793,"post_id":74338311,"comment_id":131246511,"body_markdown":"You said &#39;delete the other two buttons&#39; but there is only one other button shown in your code and the screenshot. Are you wanting to delete both buttons or or just the &quot;Отклонить&quot; one? It&#39;s hard to tell from your question, but I think you&#39;re looking for this https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Message.html#editMessageComponents(net.dv8tion.jda.api.interactions.components.ComponentLayout...)","body":"You said &#39;delete the other two buttons&#39; but there is only one other button shown in your code and the screenshot. Are you wanting to delete both buttons or or just the &quot;Отклонить&quot; one? It&#39;s hard to tell from your question, but I think you&#39;re looking for this <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Message.html#editMessageComponents(net.dv8tion.jda.api.interactions.components.ComponentLayout...)\" rel=\"nofollow noreferrer\">ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":26839027,"reputation":21,"user_id":20425851,"display_name":"Artur"},"score":0,"creation_date":1667842569,"post_id":74338311,"comment_id":131259260,"body_markdown":"i want to delete both button.","body":"i want to delete both button."}],"answers":[{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668793979,"creation_date":1668793979,"answer_id":74493614,"question_id":74338311,"body_markdown":"The .clear() method removes all elements from a list. This means you are getting \r\nthe **event.getMessage().getActionRows()** as a **List** and then removing its contents, but you are not performing any actual actions to the message. Remember that every action like this would need a **.queue()** at the end, look out for it in the future ;)\r\n\r\nHere is my take on solving the problem, did not check if it works, but it logically should:\r\n\r\n         if(event.getButton().getId().equals(&quot;Принять&quot;)){\r\n            List&lt;ItemComponent&gt; actionRow = event.getMessage().getActionRows().get(0).getComponents();\r\n            actionRow.remove(1);\r\n            actionRow.remove(2);\r\n            event.getMessage().editMessage(event.getMessage().getContentRaw()).setActionRow(actionRow).queue();\r\n        }\r\n\r\nSo you basically get the list of current components in the first ActionRow\r\nthen you remove the ones you do not need from the list using **actionRow.remove()**\r\nthen you simply edit the message with new action rows :)\r\n","title":"How to delete buttons in a message","body":"<p>The .clear() method removes all elements from a list. This means you are getting\nthe <strong>event.getMessage().getActionRows()</strong> as a <strong>List</strong> and then removing its contents, but you are not performing any actual actions to the message. Remember that every action like this would need a <strong>.queue()</strong> at the end, look out for it in the future ;)</p>\n<p>Here is my take on solving the problem, did not check if it works, but it logically should:</p>\n<pre><code>     if(event.getButton().getId().equals(&quot;Принять&quot;)){\n        List&lt;ItemComponent&gt; actionRow = event.getMessage().getActionRows().get(0).getComponents();\n        actionRow.remove(1);\n        actionRow.remove(2);\n        event.getMessage().editMessage(event.getMessage().getContentRaw()).setActionRow(actionRow).queue();\n    }\n</code></pre>\n<p>So you basically get the list of current components in the first ActionRow\nthen you remove the ones you do not need from the list using <strong>actionRow.remove()</strong>\nthen you simply edit the message with new action rows :)</p>\n"}],"owner":{"account_id":26839027,"reputation":21,"user_id":20425851,"display_name":"Artur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668793979,"creation_date":1667756907,"question_id":74338311,"body_markdown":"I have a message, when I click the &quot;Принять&quot; button, I need to delete the other two buttons.\r\nMethod create buttons\r\n[enter image description here][1]\r\n\r\n```\r\nEmbedBuilder eb = new EmbedBuilder();\r\nUser user = event.getUser();\r\neb.setAuthor(user.getAsTag(), null,user.getAvatarUrl());\r\neb.addField(&quot;Ник&quot;, Objects.requireNonNull(event.getValue(&quot;nick&quot;)).getAsString(), true);\r\neb.addField(&quot;О себе&quot;, Objects.requireNonNull(event.getValue(&quot;biography&quot;)).getAsString(), true);\r\nevent.replyEmbeds(eb.build()).addActionRow(\r\n        net.dv8tion.jda.api.interactions.components.buttons.Button.success(&quot;yes&quot;, &quot;Принять&quot;),\r\n        Button.danger(&quot;no&quot;, &quot;Отклонить&quot;)\r\n).queue();\r\n\r\n```\r\n\r\n\r\n\r\n```\r\nevent.getMessage().getActionRows().clear();\r\n\r\nevent.getMessage().getComponents().clear();\r\n\r\n\r\n```\r\nBut the result is 0\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DBkJZ.png","title":"How to delete buttons in a message","body":"<p>I have a message, when I click the &quot;Принять&quot; button, I need to delete the other two buttons.\nMethod create buttons\n<a href=\"https://i.stack.imgur.com/DBkJZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>EmbedBuilder eb = new EmbedBuilder();\nUser user = event.getUser();\neb.setAuthor(user.getAsTag(), null,user.getAvatarUrl());\neb.addField(&quot;Ник&quot;, Objects.requireNonNull(event.getValue(&quot;nick&quot;)).getAsString(), true);\neb.addField(&quot;О себе&quot;, Objects.requireNonNull(event.getValue(&quot;biography&quot;)).getAsString(), true);\nevent.replyEmbeds(eb.build()).addActionRow(\n        net.dv8tion.jda.api.interactions.components.buttons.Button.success(&quot;yes&quot;, &quot;Принять&quot;),\n        Button.danger(&quot;no&quot;, &quot;Отклонить&quot;)\n).queue();\n\n</code></pre>\n<pre><code>event.getMessage().getActionRows().clear();\n\nevent.getMessage().getComponents().clear();\n\n\n</code></pre>\n<p>But the result is 0</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1668788230,"post_id":74492456,"comment_id":131498816,"body_markdown":"Because you *may* want to differentiate a 404 because you didn&#39;t find a user with a certain name or because you didn&#39;t find a user with a certain ID or because you didn&#39;t find a car by showing different messages, for example. But then again this *heavily* depends on the application you&#39;re developing and it *may* not be important at all.","body":"Because you <i>may</i> want to differentiate a 404 because you didn&#39;t find a user with a certain name or because you didn&#39;t find a user with a certain ID or because you didn&#39;t find a car by showing different messages, for example. But then again this <i>heavily</i> depends on the application you&#39;re developing and it <i>may</i> not be important at all."}],"answers":[{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668793478,"creation_date":1668793478,"answer_id":74493517,"question_id":74492456,"body_markdown":"Here `userNotFoundException` and `nameNotFoundException` will convey almost almost same message to the end user and usually such scenarios come under 404 (Resource not found). So the end user can either have to create resource (Sign up) or have to try for another resource. If the resource found, end user will get 200 (OK) Success response.\r\n\r\nThe `nameAlreadyExistsException` comes when end user tries to create a resource which already exist. Usually It&#39;ll come under either 409 (Conflict), 400 (Bad request) or 403 (forbidden - another resource already exists with the same attributes). If the resource is not exist, end user will get 201 (Resource created) Success response.\r\n\r\nImagine as an end user who got 400 for all the above said scenarios end user couldn&#39;t understand what went wrong. Did he tried to access a non existing resource or did he tried to create an existing resource. ","title":"Exception handling | Java Spring boot","body":"<p>Here <code>userNotFoundException</code> and <code>nameNotFoundException</code> will convey almost almost same message to the end user and usually such scenarios come under 404 (Resource not found). So the end user can either have to create resource (Sign up) or have to try for another resource. If the resource found, end user will get 200 (OK) Success response.</p>\n<p>The <code>nameAlreadyExistsException</code> comes when end user tries to create a resource which already exist. Usually It'll come under either 409 (Conflict), 400 (Bad request) or 403 (forbidden - another resource already exists with the same attributes). If the resource is not exist, end user will get 201 (Resource created) Success response.</p>\n<p>Imagine as an end user who got 400 for all the above said scenarios end user couldn't understand what went wrong. Did he tried to access a non existing resource or did he tried to create an existing resource.</p>\n"}],"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668793478,"creation_date":1668788040,"question_id":74492456,"body_markdown":"I am new to spring. I am currently learning about Exception handling. \r\nMy Question is, why do you use an Exception for everything (userNotFoundException, nameNotFoundException, nameAlreadyExistsException)? \r\nWhy not just make a eception for every HttpCode. \r\n\r\nI dont Realy see the value of it. ","title":"Exception handling | Java Spring boot","body":"<p>I am new to spring. I am currently learning about Exception handling.\nMy Question is, why do you use an Exception for everything (userNotFoundException, nameNotFoundException, nameAlreadyExistsException)?\nWhy not just make a eception for every HttpCode.</p>\n<p>I dont Realy see the value of it.</p>\n"},{"tags":["java","switch-statement","locale"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":2,"creation_date":1668792178,"post_id":74493268,"comment_id":131500223,"body_markdown":"Why use a `switch` statement when you can populate and use a `Map`?","body":"Why use a <code>switch</code> statement when you can populate and use a <code>Map</code>?"},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668792620,"post_id":74493268,"comment_id":131500374,"body_markdown":"@rgettman How would I use a map in that case?","body":"@rgettman How would I use a map in that case?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668793169,"creation_date":1668793169,"answer_id":74493471,"question_id":74493268,"body_markdown":"The case labels in a switch need to be a constant expression in Java. You can either replace it with an if-statement or use a Map to look up actions (`Runnable`s).\r\n\r\n#### Approach using if\r\n\r\n```\r\nfinal String selected = Objects.requireNonNull(comboBox.getSelectedItem()).toString()\r\nif (selected.equals(resourceBundle.getString(&quot;menu.settings.language.german&quot;))) {\r\n  Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\r\n} else if (selected.equals(resourceBundle.getString(&quot;menu.settings.language.english_uk&quot;))) {\r\n  Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;))\r\n} else if (selected.equals(resourceBundle.getString(&quot;menu.settings.language.english_us&quot;))) {\r\n  Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;))\r\n} else if (selected.equals(resourceBundle.getString(&quot;menu.settings.language.french&quot;))) {\r\n  Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;));\r\n}\r\n```\r\n\r\n#### Approach using a lookup map\r\n\r\n```\r\nfinal Map&lt;String, Runnable&gt; localeActions = Map.ofEntries(\r\n    Map.entry(\r\n        resourceBundle.getString(&quot;menu.settings.language.german&quot;),\r\n        () -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;))\r\n    ),\r\n    Map.entry(\r\n        resourceBundle.getString(&quot;menu.settings.language.english_uk&quot;)\r\n        () -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;))\r\n    ),\r\n    Map.entry(\r\n        resourceBundle.getString(&quot;menu.settings.language.english_us&quot;)\r\n        () -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;))\r\n    ),\r\n    Map.entry(\r\n        resourceBundle.getString(&quot;menu.settings.language.french&quot;)\r\n        () -&gt; Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;))\r\n    )\r\n);\r\n\r\nfinal Runnable action = localeActions.getOrDefault(\r\n    Objects.requireNonNull(comboBox.getSelectedItem()).toString(),\r\n    () -&gt; {});\r\naction.run();\r\n```","title":"java use switch statement with values retrieved by locale","body":"<p>The case labels in a switch need to be a constant expression in Java. You can either replace it with an if-statement or use a Map to look up actions (<code>Runnable</code>s).</p>\n<h4>Approach using if</h4>\n<pre><code>final String selected = Objects.requireNonNull(comboBox.getSelectedItem()).toString()\nif (selected.equals(resourceBundle.getString(&quot;menu.settings.language.german&quot;))) {\n  Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\n} else if (selected.equals(resourceBundle.getString(&quot;menu.settings.language.english_uk&quot;))) {\n  Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;))\n} else if (selected.equals(resourceBundle.getString(&quot;menu.settings.language.english_us&quot;))) {\n  Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;))\n} else if (selected.equals(resourceBundle.getString(&quot;menu.settings.language.french&quot;))) {\n  Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;));\n}\n</code></pre>\n<h4>Approach using a lookup map</h4>\n<pre><code>final Map&lt;String, Runnable&gt; localeActions = Map.ofEntries(\n    Map.entry(\n        resourceBundle.getString(&quot;menu.settings.language.german&quot;),\n        () -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;))\n    ),\n    Map.entry(\n        resourceBundle.getString(&quot;menu.settings.language.english_uk&quot;)\n        () -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;))\n    ),\n    Map.entry(\n        resourceBundle.getString(&quot;menu.settings.language.english_us&quot;)\n        () -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;))\n    ),\n    Map.entry(\n        resourceBundle.getString(&quot;menu.settings.language.french&quot;)\n        () -&gt; Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;))\n    )\n);\n\nfinal Runnable action = localeActions.getOrDefault(\n    Objects.requireNonNull(comboBox.getSelectedItem()).toString(),\n    () -&gt; {});\naction.run();\n</code></pre>\n"}],"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74493471,"answer_count":1,"score":-1,"last_activity_date":1668793169,"creation_date":1668792046,"question_id":74493268,"body_markdown":"I want to change my switch statement from hardcoded values to something more specific to the current locale, because the names of the languages change from language to language.\r\n\r\nI cant change this:\r\n\r\n```java\r\nswitch(Objects.requireNonNull(comboBox.getSelectedItem()).toString()) {\r\n                case &quot;Deutsch&quot; -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\r\n                case &quot;Englisch (UK)&quot; -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;));\r\n                case &quot;Englisch (US)&quot; -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n                case &quot;Franz&#246;sisch&quot; -&gt; Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;));\r\n}\r\n```\r\nInto something like that\r\n\r\n```java\r\nswitch(Objects.requireNonNull(comboBox.getSelectedItem()).toString()) {\r\n                case (resourceBundle.getString(&quot;menu.settings.language.german&quot;)) -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\r\n                case (resourceBundle.getString(&quot;menu.settings.language.english_uk&quot;)) -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;));\r\n                case (resourceBundle.getString(&quot;menu.settings.language.english_us&quot;)) -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n                case (resourceBundle.getString(&quot;menu.settings.language.french&quot;)) -&gt; Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;));\r\n}\r\n```\r\nHow would I do that?","title":"java use switch statement with values retrieved by locale","body":"<p>I want to change my switch statement from hardcoded values to something more specific to the current locale, because the names of the languages change from language to language.</p>\n<p>I cant change this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch(Objects.requireNonNull(comboBox.getSelectedItem()).toString()) {\n                case &quot;Deutsch&quot; -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\n                case &quot;Englisch (UK)&quot; -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;));\n                case &quot;Englisch (US)&quot; -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;));\n                case &quot;Französisch&quot; -&gt; Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;));\n}\n</code></pre>\n<p>Into something like that</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch(Objects.requireNonNull(comboBox.getSelectedItem()).toString()) {\n                case (resourceBundle.getString(&quot;menu.settings.language.german&quot;)) -&gt; Locale.setDefault(new Locale(&quot;de&quot;, &quot;DE&quot;));\n                case (resourceBundle.getString(&quot;menu.settings.language.english_uk&quot;)) -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;UK&quot;));\n                case (resourceBundle.getString(&quot;menu.settings.language.english_us&quot;)) -&gt; Locale.setDefault(new Locale(&quot;en&quot;, &quot;US&quot;));\n                case (resourceBundle.getString(&quot;menu.settings.language.french&quot;)) -&gt; Locale.setDefault(new Locale(&quot;fr&quot;, &quot;FR&quot;));\n}\n</code></pre>\n<p>How would I do that?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1560694615,"post_id":56619541,"comment_id":99812434,"body_markdown":"When the serialization fails, what error message are you seeing? Does the error message cue to any key lines of code? If so, this is where I&#39;d start.","body":"When the serialization fails, what error message are you seeing? Does the error message cue to any key lines of code? If so, this is where I&#39;d start."},{"owner":{"account_id":6258945,"reputation":785,"user_id":4866692,"accept_rate":0,"display_name":"bw_dev"},"score":0,"creation_date":1560696419,"post_id":56619541,"comment_id":99812872,"body_markdown":"I get lot of Stack overflow exceptions with the same line number, without message.","body":"I get lot of Stack overflow exceptions with the same line number, without message."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1560698527,"post_id":56619541,"comment_id":99813340,"body_markdown":"Yes, those line numbers **are** the key. Why are you not showing the relevant code and the involved line?","body":"Yes, those line numbers <b>are</b> the key. Why are you not showing the relevant code and the involved line?"}],"answers":[{"comments":[{"owner":{"account_id":6258945,"reputation":785,"user_id":4866692,"accept_rate":0,"display_name":"bw_dev"},"score":0,"creation_date":1560696569,"post_id":56619734,"comment_id":99812914,"body_markdown":"Thanks. I will think about. It looks like reflection is only solution :(","body":"Thanks. I will think about. It looks like reflection is only solution :("}],"tags":[],"owner":{"display_name":"user11595728"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560695191,"creation_date":1560695191,"answer_id":56619734,"question_id":56619541,"body_markdown":"It depends on the situation. If the circular references are due to a bug or occur only in a narrow range of cases, I would try to address the specific case.\r\n\r\nIf the situation is general in that object graphs with cycles can routinely occur and it&#39;s a matter of detecting them, it may be worth trying to implement a custom solution based on reflection (to get all fields of classes in the object graph, as well as their value), and storing the values of reference types in an [IdentityHashMap](https://docs.oracle.com/javase/8/docs/api/java/util/IdentityHashMap.html) to detect revisited objects.\r\n\r\nSee [this post](https://stackoverflow.com/questions/5157764/java-detect-circular-references-during-custom-cloning) for an additional discussion on the use of identity hash maps to detect circular references.","title":"Is there any way to find circular references?","body":"<p>It depends on the situation. If the circular references are due to a bug or occur only in a narrow range of cases, I would try to address the specific case.</p>\n\n<p>If the situation is general in that object graphs with cycles can routinely occur and it's a matter of detecting them, it may be worth trying to implement a custom solution based on reflection (to get all fields of classes in the object graph, as well as their value), and storing the values of reference types in an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/IdentityHashMap.html\" rel=\"nofollow noreferrer\">IdentityHashMap</a> to detect revisited objects.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/5157764/java-detect-circular-references-during-custom-cloning\">this post</a> for an additional discussion on the use of identity hash maps to detect circular references.</p>\n"},{"comments":[{"owner":{"account_id":1445493,"reputation":5311,"user_id":1364149,"accept_rate":57,"display_name":"Shloim"},"score":0,"creation_date":1560698424,"post_id":56620147,"comment_id":99813315,"body_markdown":"Borrowing from @Derefacto: Use `IdentityHashMap` for `visiting` and `visited`","body":"Borrowing from @Derefacto: Use <code>IdentityHashMap</code> for <code>visiting</code> and <code>visited</code>"},{"owner":{"account_id":10858365,"reputation":729,"user_id":7983959,"display_name":"Ivan G."},"score":1,"creation_date":1560706273,"post_id":56620147,"comment_id":99815158,"body_markdown":"`Collections.newSetFromMap(new IdentityHashMap&lt;&gt;())` will be useful for this purpose where map values do not have importance","body":"<code>Collections.newSetFromMap(new IdentityHashMap&lt;&gt;())</code> will be useful for this purpose where map values do not have importance"}],"tags":[],"owner":{"account_id":1445493,"reputation":5311,"user_id":1364149,"accept_rate":57,"display_name":"Shloim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560698386,"creation_date":1560698386,"answer_id":56620147,"question_id":56619541,"body_markdown":"A simple DFS algorithm would do the trick\r\n\r\n - Create 2 hash sets: `visiting`, and `visited`.\r\n - Recourse through the Json\r\n  - If current node is in `visiting`\r\n     - print &quot;circular reference found&quot;\r\n  - Else If current node is in `visited`\r\n     - print &quot;crossover found&quot;\r\n  - Else\r\n     - add current node to `visiting`\r\n     - recourse through children nodes\r\n     - remove current node from `visiting` and add it to `visited`\r\n\r\n","title":"Is there any way to find circular references?","body":"<p>A simple DFS algorithm would do the trick</p>\n\n<ul>\n<li>Create 2 hash sets: <code>visiting</code>, and <code>visited</code>.</li>\n<li>Recourse through the Json\n\n<ul>\n<li>If current node is in <code>visiting</code>\n\n<ul>\n<li>print \"circular reference found\"</li>\n</ul></li>\n<li>Else If current node is in <code>visited</code>\n\n<ul>\n<li>print \"crossover found\"</li>\n</ul></li>\n<li>Else\n\n<ul>\n<li>add current node to <code>visiting</code></li>\n<li>recourse through children nodes</li>\n<li>remove current node from <code>visiting</code> and add it to <code>visited</code></li>\n</ul></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12053755,"reputation":21,"user_id":8815636,"display_name":"Andrew Redican"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668793030,"creation_date":1668793030,"answer_id":74493442,"question_id":56619541,"body_markdown":"I&#39;ve solved this problem in TypeScript recently and put it on a npm package to make it publicly available. There is a `hasCircularReference()` and a `isIdentical()` functions, the latter is for data comparison and has circular reference support which you have to opt-in. \r\n\r\nNow, I don&#39;t have plans to ever write in Java, but you can check out the algorithm and maybe create a Java version. The only thing I would ask is give credit where credit us due :). It comes with extensive tests.\r\n\r\nhttps://www.npmjs.com/package/@enio.ai/data-ferret\r\n\r\nGood luck with the serializer if you haven&#39;t solved it already. ","title":"Is there any way to find circular references?","body":"<p>I've solved this problem in TypeScript recently and put it on a npm package to make it publicly available. There is a <code>hasCircularReference()</code> and a <code>isIdentical()</code> functions, the latter is for data comparison and has circular reference support which you have to opt-in.</p>\n<p>Now, I don't have plans to ever write in Java, but you can check out the algorithm and maybe create a Java version. The only thing I would ask is give credit where credit us due :). It comes with extensive tests.</p>\n<p><a href=\"https://www.npmjs.com/package/@enio.ai/data-ferret\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@enio.ai/data-ferret</a></p>\n<p>Good luck with the serializer if you haven't solved it already.</p>\n"}],"owner":{"account_id":6258945,"reputation":785,"user_id":4866692,"accept_rate":0,"display_name":"bw_dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1668793030,"creation_date":1560693751,"question_id":56619541,"body_markdown":"I have to serialize very complicated classes as JSON. The serialization fails with a stack overflow. This is a known problem - serialization fails if there are circular references. Simplest case: Object A keeps a reference to object B, while object B keeps a reference to A.\r\n\r\nUnfortunately, objects to be serialized are too complex (more then 100 fields each), and it is almost impossible to find such dependencies by code review. Gson logs only stack overflow exception with no additional info.\r\n\r\nIs there any way to detect cycles? \r\n\r\n","title":"Is there any way to find circular references?","body":"<p>I have to serialize very complicated classes as JSON. The serialization fails with a stack overflow. This is a known problem - serialization fails if there are circular references. Simplest case: Object A keeps a reference to object B, while object B keeps a reference to A.</p>\n\n<p>Unfortunately, objects to be serialized are too complex (more then 100 fields each), and it is almost impossible to find such dependencies by code review. Gson logs only stack overflow exception with no additional info.</p>\n\n<p>Is there any way to detect cycles? </p>\n"},{"tags":["java","spring","api","hibernate","boot"],"comments":[{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1668769543,"post_id":74488213,"comment_id":131492337,"body_markdown":"what is the tool you are using to build ? mvn grandle ant .....\nor you just trying to run a jar file ?","body":"what is the tool you are using to build ? mvn grandle ant ..... or you just trying to run a jar file ?"},{"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"score":1,"creation_date":1668769619,"post_id":74488213,"comment_id":131492352,"body_markdown":"the problem is that the jvm try to load the class, but this class cannot be found in your classpath, try to add the specified jar to your class path.","body":"the problem is that the jvm try to load the class, but this class cannot be found in your classpath, try to add the specified jar to your class path."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668769952,"post_id":74488213,"comment_id":131492458,"body_markdown":"check that line log mentioned `DirectJDKLog.java: 175` , it can be relate to ide or jvm version.","body":"check that line log mentioned <code>DirectJDKLog.java: 175</code> , it can be relate to ide or jvm version."},{"owner":{"account_id":26972791,"reputation":9,"user_id":20538542,"display_name":"James"},"score":0,"creation_date":1668770144,"post_id":74488213,"comment_id":131492513,"body_markdown":"I&#39;m using gradle.. and antlr-2.7.7.jar already exist.","body":"I&#39;m using gradle.. and antlr-2.7.7.jar already exist."},{"owner":{"account_id":26972791,"reputation":9,"user_id":20538542,"display_name":"James"},"score":0,"creation_date":1668770299,"post_id":74488213,"comment_id":131492565,"body_markdown":"I&#39;d appreciate it if you could tell me where to check what.","body":"I&#39;d appreciate it if you could tell me where to check what."},{"owner":{"account_id":26972791,"reputation":9,"user_id":20538542,"display_name":"James"},"score":0,"creation_date":1668770579,"post_id":74488213,"comment_id":131492650,"body_markdown":"and i&#39;m using visual studio code.","body":"and i&#39;m using visual studio code."}],"owner":{"account_id":26972791,"reputation":9,"user_id":20538542,"display_name":"James"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668792968,"creation_date":1668767096,"question_id":74488213,"body_markdown":"I don&#39;t know why the error below occurs.\r\n\r\nIt is running normally on another computer with Spring boot application. When I run it on a new computer, it boots normally, but when I call the api, the following error message occurs.\r\n\r\nWhat could be the problem? I&#39;m not feeling well, so I&#39;m asking for help.\r\n\r\n\r\n```\r\n2022-11-18 19:14:45,444 ERROR - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: antlr/RecognitionException] with root cause (DirectJDKLog.java: 175)\r\njava.lang.ClassNotFoundException: antlr.RecognitionException\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ~[?:?]\r\nBuiltinClassLoader.java:582\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[?:?]\r\nClassLoaders.java:178\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[?:?]\r\nClassLoader.java:521\r\n\tat org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory.createQueryTranslator(ASTQueryTranslatorFactory.java:44) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nASTQueryTranslatorFactory.java:44\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:112) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nHQLQueryPlan.java:112\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nHQLQueryPlan.java:73\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nQueryPlanCache.java:162\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nAbstractSharedSessionContract.java:613\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nAbstractSharedSessionContract.java:725\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:788) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nAbstractSharedSessionContract.java:788\r\n\tat org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nCriteriaQueryImpl.java:314\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nCriteriaCompiler.java:165\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:751) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nAbstractSharedSessionContract.java:751\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\nAbstractSharedSessionContract.java:114\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\nNativeMethodAccessorImpl.java:62\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\nDelegatingMethodAccessorImpl.java:43\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\nMethod.java:566\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.5.jar:5.3.5]\r\nSharedEntityManagerCreator.java:311\r\n\tat com.sun.proxy.$Proxy152.createQuery(Unknown Source) ~[?:?]\r\n```\r\n\r\n\r\nI expect the api to be called normally.","title":"java.lang.ClassNotFoundException: antlr.RecognitionException","body":"<p>I don't know why the error below occurs.</p>\n<p>It is running normally on another computer with Spring boot application. When I run it on a new computer, it boots normally, but when I call the api, the following error message occurs.</p>\n<p>What could be the problem? I'm not feeling well, so I'm asking for help.</p>\n<pre><code>2022-11-18 19:14:45,444 ERROR - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: antlr/RecognitionException] with root cause (DirectJDKLog.java: 175)\njava.lang.ClassNotFoundException: antlr.RecognitionException\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ~[?:?]\nBuiltinClassLoader.java:582\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[?:?]\nClassLoaders.java:178\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[?:?]\nClassLoader.java:521\n    at org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory.createQueryTranslator(ASTQueryTranslatorFactory.java:44) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nASTQueryTranslatorFactory.java:44\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:112) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nHQLQueryPlan.java:112\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nHQLQueryPlan.java:73\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nQueryPlanCache.java:162\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nAbstractSharedSessionContract.java:613\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nAbstractSharedSessionContract.java:725\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:788) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nAbstractSharedSessionContract.java:788\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nCriteriaQueryImpl.java:314\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nCriteriaCompiler.java:165\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:751) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nAbstractSharedSessionContract.java:751\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\nAbstractSharedSessionContract.java:114\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\nNativeMethodAccessorImpl.java:62\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\nDelegatingMethodAccessorImpl.java:43\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\nMethod.java:566\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.5.jar:5.3.5]\nSharedEntityManagerCreator.java:311\n    at com.sun.proxy.$Proxy152.createQuery(Unknown Source) ~[?:?]\n</code></pre>\n<p>I expect the api to be called normally.</p>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":0,"creation_date":1337420151,"post_id":10659684,"comment_id":13832484,"body_markdown":"You should paste the command line invocation you are using to start the service. I&#39;m assuming it includes both the code base and policy file paths?","body":"You should paste the command line invocation you are using to start the service. I&#39;m assuming it includes both the code base and policy file paths?"},{"owner":{"account_id":313697,"reputation":1993,"user_id":628469,"accept_rate":93,"display_name":"Pumpkin"},"score":0,"creation_date":1337420533,"post_id":10659684,"comment_id":13832540,"body_markdown":"I originally used eclipse and a plug-in from genady.net , in which UI in the WM-properties enables you to: set codebase, set policy , start registry and so on.","body":"I originally used eclipse and a plug-in from genady.net , in which UI in the WM-properties enables you to: set codebase, set policy , start registry and so on."},{"owner":{"account_id":313697,"reputation":1993,"user_id":628469,"accept_rate":93,"display_name":"Pumpkin"},"score":0,"creation_date":1337420811,"post_id":10659684,"comment_id":13832598,"body_markdown":"But I have also tried to start everything by hand which goes like this : javac filename.java , javac filenameServer.java , rmic filenameServer , rmiregistry portnumber &amp; , java filenameServer (+ stating its .policy file location don&#39;t remember how to call it now ), ends up with the exact same error trace","body":"But I have also tried to start everything by hand which goes like this : javac filename.java , javac filenameServer.java , rmic filenameServer , rmiregistry portnumber &amp; , java filenameServer (+ stating its .policy file location don&#39;t remember how to call it now ), ends up with the exact same error trace"},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1337422319,"post_id":10659684,"comment_id":13832798,"body_markdown":"Are you using jdk 1.7 or 1.6.0_29? If so try to downgrade your jdk to 1.6. Also you should start your server with something like : `java -cp [project_dir]/classes/ -Djava.rmi.server.codebase=file:[project_dir]/classes/ -Djava.security.policy=server.policy [package].[class]`, assuming security.policy is in the dir from where you execute the command.","body":"Are you using jdk 1.7 or 1.6.0_29? If so try to downgrade your jdk to 1.6. Also you should start your server with something like : <code>java -cp [project_dir]&#47;classes&#47; -Djava.rmi.server.codebase=file:[project_dir]&#47;classes&#47; -Djava.security.policy=server.policy [package].[class]</code>, assuming security.policy is in the dir from where you execute the command."},{"owner":{"account_id":313697,"reputation":1993,"user_id":628469,"accept_rate":93,"display_name":"Pumpkin"},"score":0,"creation_date":1337422893,"post_id":10659684,"comment_id":13832899,"body_markdown":"I have tried different jdk versions along with manually entering the policy file and codebase locations, those don&#39;t work for me.","body":"I have tried different jdk versions along with manually entering the policy file and codebase locations, those don&#39;t work for me."},{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":0,"creation_date":1337431429,"post_id":10659684,"comment_id":13834486,"body_markdown":"@Pumpkin: First, get rid of the `rmic`; it has no place in modern RMI implementations unless you plan on supporting legacy clients. Second, the policy file and the codebase server needs to be specified using the VM args (`-D`) so we *need to see* what you are using to help you out. Also, try this tutorial: http://docs.oracle.com/javase/tutorial/rmi/overview.html","body":"@Pumpkin: First, get rid of the <code>rmic</code>; it has no place in modern RMI implementations unless you plan on supporting legacy clients. Second, the policy file and the codebase server needs to be specified using the VM args (<code>-D</code>) so we <i>need to see</i> what you are using to help you out. Also, try this tutorial: <a href=\"http://docs.oracle.com/javase/tutorial/rmi/overview.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/rmi/overview.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337429276,"creation_date":1337429276,"answer_id":10665040,"question_id":10659684,"body_markdown":"Get rid of the SecurityManager, or else write yourself a security policy file that grants that permission.","title":"java RMI - unexpected error","body":"<p>Get rid of the SecurityManager, or else write yourself a security policy file that grants that permission.</p>\n"},{"tags":[],"owner":{"account_id":313697,"reputation":1993,"user_id":628469,"accept_rate":93,"display_name":"Pumpkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1345204342,"creation_date":1345204342,"answer_id":12005248,"question_id":10659684,"body_markdown":"The problem was regarding linux file system permissions, altering permissions fixes the problem.","title":"java RMI - unexpected error","body":"<p>The problem was regarding linux file system permissions, altering permissions fixes the problem.</p>\n"},{"tags":[],"owner":{"account_id":11640182,"reputation":3049,"user_id":8524922,"accept_rate":100,"display_name":"Beyondo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668792942,"creation_date":1668792942,"answer_id":74493427,"question_id":10659684,"body_markdown":"If someone stumbles upon the issue on Windows, then two words... **Windows Defender**. It probably just deleted your project files.\r\n\r\nSo just **rebuild** your project. No not &quot;build&quot;, just entirely &quot;**rebuild**&quot;.\r\n\r\nWindows Defender might delete your project&#39; executables if they went into high CPU usage. So I also always suggest putting your project&#39; directory as an exception.","title":"java RMI - unexpected error","body":"<p>If someone stumbles upon the issue on Windows, then two words... <strong>Windows Defender</strong>. It probably just deleted your project files.</p>\n<p>So just <strong>rebuild</strong> your project. No not &quot;build&quot;, just entirely &quot;<strong>rebuild</strong>&quot;.</p>\n<p>Windows Defender might delete your project' executables if they went into high CPU usage. So I also always suggest putting your project' directory as an exception.</p>\n"}],"owner":{"account_id":313697,"reputation":1993,"user_id":628469,"accept_rate":93,"display_name":"Pumpkin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12005248,"answer_count":3,"score":1,"last_activity_date":1668792942,"creation_date":1337374796,"question_id":10659684,"body_markdown":"I have been working on to create a sample RMI project for a while and having difficulty with the following error for a few hours now. If anyone of you can point me towards my mistake, I will be grateful. I will be posting the trimmed code with the error.\r\n\r\nThanks in advance for your time.\r\n\r\nPrimeFinder.java\r\n\r\n    import //irrelevant\r\n    \r\n    public interface PrimeFinder extends Remote \r\n    {\r\n    \tpublic List&lt;Integer&gt; findPrime (int startPoint, int endPoint )\r\n    \t\tthrows RemoteException;\r\n    }\r\n\r\nPrimeFinderService.java\r\n\r\n    import //irrelevant\r\n    \r\n    public class PrimeFinderService extends UnicastRemoteObject\r\n    implements PrimeFinder\r\n    {\r\n    \tpublic PrimeFinderService () throws RemoteException\r\n    \t{\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic List&lt;Integer&gt; findPrime(int startPoint, int endPoint)\r\n    \t\t\tthrows RemoteException {\r\n    \t\t\r\n    \t\t// Irrelevant\r\n    \t}\r\n    \r\n        public static void main ( String args[] ) throws Exception\r\n        {\r\n            if (System.getSecurityManager() == null)\r\n                System.setSecurityManager ( new RMISecurityManager() );\r\n    \r\n            PrimeFinderService svr = new PrimeFinderService();\r\n            Naming.bind (&quot;PowerService&quot;, svr);\r\n    \r\n            System.out.println (&quot;Service bound....&quot;);\r\n        }\r\n    }\r\n\r\n.policy\r\n\r\n    grant {\r\n    \tpermission java.security.AllPermission; }\r\n\r\nThe error that is killing me :\r\n\r\n    Exception in thread &quot;main&quot; java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: \r\n    \tjava.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: \r\n    \tjava.lang.ClassNotFoundException: access to class loader denied\r\n    \tat sun.rmi.server.UnicastServerRef.oldDispatch(UnicastServerRef.java:419)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:267)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:177)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:173)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:553)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:808)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:667)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tat java.lang.Thread.run(Thread.java:679)\r\n    \tat sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:273)\r\n    \tat sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:251)\r\n    \tat sun.rmi.server.UnicastRef.invoke(UnicastRef.java:377)\r\n    \tat sun.rmi.registry.RegistryImpl_Stub.bind(Unknown Source)\r\n    \tat java.rmi.Naming.bind(Naming.java:128)\r\n    \tat q7.PrimeFinderService.main(PrimeFinderService.java:69)\r\n    Caused by: java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: \r\n    \tjava.lang.ClassNotFoundException: access to class loader denied\r\n    \tat sun.rmi.registry.RegistryImpl_Skel.dispatch(Unknown Source)\r\n    \tat sun.rmi.server.UnicastServerRef.oldDispatch(UnicastServerRef.java:409)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:267)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:177)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:173)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:553)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:808)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:667)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tat java.lang.Thread.run(Thread.java:679)\r\n    Caused by: java.lang.ClassNotFoundException: access to class loader denied\r\n    \tat sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:445)\r\n    \tat sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:182)\r\n    \tat java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:637)\r\n    \tat java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:264)\r\n    \tat sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:214)\r\n    \tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1592)\r\n    \tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1513)\r\n    \tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1749)\r\n    \tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1346)\r\n    \tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:368)\r\n    \t... 12 more\r\n    Caused by: java.security.AccessControlException: access denied (java.io.FilePermission /home/cem/workspace/OBSS_q7/bin/q7/- read)\r\n    \tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:393)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:553)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat sun.rmi.server.LoaderHandler$Loader.checkPermissions(LoaderHandler.java:1173)\r\n    \tat sun.rmi.server.LoaderHandler$Loader.access$000(LoaderHandler.java:1127)\r\n    \tat sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:409)\r\n    \t... 21 more\r\n\r\nEdit 1:\r\n\r\nThe error line that I&#39;m trying to overcome is:\r\n\r\n     Caused by: java.security.AccessControlException: access denied (java.io.FilePermission /home/cem/workspace/OBSS_q7/bin/q7/- read)\r\n\r\nI have tried at least 10 different approaches in my .policy file - all of which ended up with the same problem. I have tried anything in the tutorials I have found and it&#39;s I believe safe to say that the problem doesn&#39;t lie in .policy file.\r\n\r\nI have also meddled with the codebase, giving the codebase wrong ends up with different errors so that can&#39;t be it either.\r\n\r\nStill looking for ideas ^^\r\n\r\nCheers !","title":"java RMI - unexpected error","body":"<p>I have been working on to create a sample RMI project for a while and having difficulty with the following error for a few hours now. If anyone of you can point me towards my mistake, I will be grateful. I will be posting the trimmed code with the error.</p>\n\n<p>Thanks in advance for your time.</p>\n\n<p>PrimeFinder.java</p>\n\n<pre><code>import //irrelevant\n\npublic interface PrimeFinder extends Remote \n{\n    public List&lt;Integer&gt; findPrime (int startPoint, int endPoint )\n        throws RemoteException;\n}\n</code></pre>\n\n<p>PrimeFinderService.java</p>\n\n<pre><code>import //irrelevant\n\npublic class PrimeFinderService extends UnicastRemoteObject\nimplements PrimeFinder\n{\n    public PrimeFinderService () throws RemoteException\n    {\n        super();\n    }\n\n\n    public List&lt;Integer&gt; findPrime(int startPoint, int endPoint)\n            throws RemoteException {\n\n        // Irrelevant\n    }\n\n    public static void main ( String args[] ) throws Exception\n    {\n        if (System.getSecurityManager() == null)\n            System.setSecurityManager ( new RMISecurityManager() );\n\n        PrimeFinderService svr = new PrimeFinderService();\n        Naming.bind (\"PowerService\", svr);\n\n        System.out.println (\"Service bound....\");\n    }\n}\n</code></pre>\n\n<p>.policy</p>\n\n<pre><code>grant {\n    permission java.security.AllPermission; }\n</code></pre>\n\n<p>The error that is killing me :</p>\n\n<pre><code>Exception in thread \"main\" java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: \n    java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: \n    java.lang.ClassNotFoundException: access to class loader denied\n    at sun.rmi.server.UnicastServerRef.oldDispatch(UnicastServerRef.java:419)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:267)\n    at sun.rmi.transport.Transport$1.run(Transport.java:177)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:173)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:553)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:808)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:667)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:679)\n    at sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:273)\n    at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:251)\n    at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:377)\n    at sun.rmi.registry.RegistryImpl_Stub.bind(Unknown Source)\n    at java.rmi.Naming.bind(Naming.java:128)\n    at q7.PrimeFinderService.main(PrimeFinderService.java:69)\nCaused by: java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: \n    java.lang.ClassNotFoundException: access to class loader denied\n    at sun.rmi.registry.RegistryImpl_Skel.dispatch(Unknown Source)\n    at sun.rmi.server.UnicastServerRef.oldDispatch(UnicastServerRef.java:409)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:267)\n    at sun.rmi.transport.Transport$1.run(Transport.java:177)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:173)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:553)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:808)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:667)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:679)\nCaused by: java.lang.ClassNotFoundException: access to class loader denied\n    at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:445)\n    at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:182)\n    at java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:637)\n    at java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:264)\n    at sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:214)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1592)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1513)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1749)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1346)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:368)\n    ... 12 more\nCaused by: java.security.AccessControlException: access denied (java.io.FilePermission /home/cem/workspace/OBSS_q7/bin/q7/- read)\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:393)\n    at java.security.AccessController.checkPermission(AccessController.java:553)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at sun.rmi.server.LoaderHandler$Loader.checkPermissions(LoaderHandler.java:1173)\n    at sun.rmi.server.LoaderHandler$Loader.access$000(LoaderHandler.java:1127)\n    at sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:409)\n    ... 21 more\n</code></pre>\n\n<p>Edit 1:</p>\n\n<p>The error line that I'm trying to overcome is:</p>\n\n<pre><code> Caused by: java.security.AccessControlException: access denied (java.io.FilePermission /home/cem/workspace/OBSS_q7/bin/q7/- read)\n</code></pre>\n\n<p>I have tried at least 10 different approaches in my .policy file - all of which ended up with the same problem. I have tried anything in the tutorials I have found and it's I believe safe to say that the problem doesn't lie in .policy file.</p>\n\n<p>I have also meddled with the codebase, giving the codebase wrong ends up with different errors so that can't be it either.</p>\n\n<p>Still looking for ideas ^^</p>\n\n<p>Cheers !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6960007,"reputation":1313,"user_id":5339807,"display_name":"mascoj"},"score":0,"creation_date":1464043852,"post_id":37401736,"comment_id":62312006,"body_markdown":"Yes, just create an Arraylist of Users. This will strip the knowledge of any fields specific to children when accessing the list however, but you shouldn&#39;t have a problem with accessing username and password.","body":"Yes, just create an Arraylist of Users. This will strip the knowledge of any fields specific to children when accessing the list however, but you shouldn&#39;t have a problem with accessing username and password."}],"answers":[{"comments":[{"owner":{"account_id":6411416,"reputation":3133,"user_id":4971065,"accept_rate":83,"display_name":"findwindow"},"score":0,"creation_date":1464044944,"post_id":37401789,"comment_id":62312298,"body_markdown":"Links don&#39;t qualify as answers. What if the link dies? You can summarize the information found in the link as an answer instead.","body":"Links don&#39;t qualify as answers. What if the link dies? You can summarize the information found in the link as an answer instead."}],"tags":[],"owner":{"account_id":2782528,"reputation":51,"user_id":2394775,"display_name":"Fahed Aljghine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1464043900,"creation_date":1464043900,"answer_id":37401789,"question_id":37401736,"body_markdown":"yes , you can make an Arraylist of User class and when you call the constructor you can use any one of the three classes\r\n\r\nsee this tutorial\r\nhttp://www.tutorialspoint.com/java/java_polymorphism.htm","title":"Store in Array List two child classes of the same parent class","body":"<p>yes , you can make an Arraylist of User class and when you call the constructor you can use any one of the three classes</p>\n\n<p>see this tutorial\n<a href=\"http://www.tutorialspoint.com/java/java_polymorphism.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/java/java_polymorphism.htm</a></p>\n"},{"comments":[{"owner":{"account_id":6228011,"reputation":1121,"user_id":4845660,"display_name":"Loic Mouchard"},"score":0,"creation_date":1669022384,"post_id":74493425,"comment_id":131539730,"body_markdown":"Please note the difference between Array (your answer) and ArrayList (the question).\nBy the way : what is the relation User (from the question) to Animals ?","body":"Please note the difference between Array (your answer) and ArrayList (the question). By the way : what is the relation User (from the question) to Animals ?"}],"tags":[],"owner":{"account_id":26725011,"reputation":11,"user_id":20328241,"display_name":"Kiran Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668792936,"creation_date":1668792936,"answer_id":74493425,"question_id":37401736,"body_markdown":"Yes you can . just see the ex:\r\n\r\nAnimal.java\r\n-----------\r\n\r\n          \r\n    public class Animal {\r\n\t\tpublic void makeNoise(){\r\n\t\tSystem.out.println(&quot;Animal making Noise&quot;);\r\n\t\t}\r\n\t\tpublic void eat(){\r\n\t\tSystem.out.println(&quot;Animal is eating&quot;);\r\n\t\t}\r\n\t\tpublic void walk(){\r\n\t\tSystem.out.println(&quot;Animal is walking&quot;);\r\n\t\t}\r\n     }\r\n\r\nDog.java\r\n---------\r\n\r\n   \r\n    public class Dog extends Animal{\r\n\t\t@Override\r\n\t\tpublic void makeNoise(){\r\n\t\tSystem.out.println(&quot;Barking&quot;);\r\n\t\t}\r\n    }\r\n\r\nTiger.java\r\n-----------\r\n      public class Tiger extends Animal{\r\n\r\n\t     @Override\r\n\t     public void makeNoise() {\r\n\t\t    System.out.println(&quot;Raoring...&quot;);\r\n\t     }\r\n      }\r\n\r\n\r\n\r\nAnd I am Accessing the Those Parent and Child class objects through\r\nMain class\r\n\r\nMain.java\r\n---------\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tAnimal[] a1= new Animal[3];\r\n\t\t\r\n\t\ta1[0]=new Dog();\r\n\t\ta1[1]=new Cat();\r\n\t\ta1[2]=new Tiger();\r\n\t\t\r\n\t\tfor(Animal ar:a1) {\r\n\t\t\tar.makeNoise();\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }\r\n\r\n \r\n\r\n\r\n","title":"Store in Array List two child classes of the same parent class","body":"<p>Yes you can . just see the ex:</p>\n<h2>Animal.java</h2>\n<pre><code>public class Animal {\n    public void makeNoise(){\n    System.out.println(&quot;Animal making Noise&quot;);\n    }\n    public void eat(){\n    System.out.println(&quot;Animal is eating&quot;);\n    }\n    public void walk(){\n    System.out.println(&quot;Animal is walking&quot;);\n    }\n }\n</code></pre>\n<h2>Dog.java</h2>\n<pre><code>public class Dog extends Animal{\n    @Override\n    public void makeNoise(){\n    System.out.println(&quot;Barking&quot;);\n    }\n}\n</code></pre>\n<h2>Tiger.java</h2>\n<pre><code>  public class Tiger extends Animal{\n\n     @Override\n     public void makeNoise() {\n        System.out.println(&quot;Raoring...&quot;);\n     }\n  }\n</code></pre>\n<p>And I am Accessing the Those Parent and Child class objects through\nMain class</p>\n<h2>Main.java</h2>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    \n    Animal[] a1= new Animal[3];\n    \n    a1[0]=new Dog();\n    a1[1]=new Cat();\n    a1[2]=new Tiger();\n    \n    for(Animal ar:a1) {\n        ar.makeNoise();\n    }\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":5384749,"reputation":23,"user_id":4289030,"accept_rate":67,"display_name":"Antonis sinotnA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1875,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37401789,"answer_count":2,"score":0,"last_activity_date":1668792936,"creation_date":1464043558,"question_id":37401736,"body_markdown":"I have a parent class User with only Attributes Username and Password. Also i have two Child Classes Customer and Admin. Can i store to the same ArrayList both customers and admins? I need to use the username and password attributes to authenticate them for the log in. ","title":"Store in Array List two child classes of the same parent class","body":"<p>I have a parent class User with only Attributes Username and Password. Also i have two Child Classes Customer and Admin. Can i store to the same ArrayList both customers and admins? I need to use the username and password attributes to authenticate them for the log in. </p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668585815,"post_id":74448089,"comment_id":131438568,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1668793247,"post_id":74448089,"comment_id":131500587,"body_markdown":"According to [the documentation](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageHistory.html#getRetrievedHistory()), `getRetrievedHistory()` gets *&quot;List of Messages, sorted starting from newest to oldest, of all message that have already been retrieved from Discord with this MessageHistory object using the retrievePast(int), retrieveFuture(int), and MessageChannel.getHistoryAround(String, int) methods&quot;*. Since you haven&#39;t used any of these methods prior, this won&#39;t return anything. Next time please read the documentation before asking on StackOverflow.","body":"According to <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageHistory.html#getRetrievedHistory()\" rel=\"nofollow noreferrer\">the documentation</a>, <code>getRetrievedHistory()</code> gets <i>&quot;List of Messages, sorted starting from newest to oldest, of all message that have already been retrieved from Discord with this MessageHistory object using the retrievePast(int), retrieveFuture(int), and MessageChannel.getHistoryAround(String, int) methods&quot;</i>. Since you haven&#39;t used any of these methods prior, this won&#39;t return anything. Next time please read the documentation before asking on StackOverflow."}],"answers":[{"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1668793274,"post_id":74493391,"comment_id":131500594,"body_markdown":"How do you know the OP is wanting to get it from the beginning?","body":"How do you know the OP is wanting to get it from the beginning?"},{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1668794520,"post_id":74493391,"comment_id":131500950,"body_markdown":"It does not matter really, you can use any .getHistory&#39;blank&#39;\nAlso, even using .getHistory would only give top 100 messages due to JDA limitaion, this i the same thing","body":"It does not matter really, you can use any .getHistory&#39;blank&#39; Also, even using .getHistory would only give top 100 messages due to JDA limitaion, this i the same thing"},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1668794610,"post_id":74493391,"comment_id":131500981,"body_markdown":"Right, but the reason I ask is because if this isn&#39;t what they are intending to do then this isn&#39;t an adequate answer to the question. A better approach would be to describe why the method they&#39;re using isn&#39;t returning anything and provide the list of methods that can be used to accomplish what they&#39;re trying to do.","body":"Right, but the reason I ask is because if this isn&#39;t what they are intending to do then this isn&#39;t an adequate answer to the question. A better approach would be to describe why the method they&#39;re using isn&#39;t returning anything and provide the list of methods that can be used to accomplish what they&#39;re trying to do."},{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1668794716,"post_id":74493391,"comment_id":131501006,"body_markdown":"I guess you&#39;re right, i am new to posting stuff here lol","body":"I guess you&#39;re right, i am new to posting stuff here lol"}],"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668792760,"creation_date":1668792760,"answer_id":74493391,"question_id":74448089,"body_markdown":"I&#39;ve had a similar issue recently, here is how i solved it:\r\n\r\n           MessageHistory messagesHistory = event.getGuild().getTextChannelById(&quot;1040285028875247769&quot;).getHistoryFromBeginning(100).complete();\r\n           List&lt;Message&gt; messages = messagesHistory.getRetrievedHistory();\r\n\r\nYes you do need to save them in seperate variables, since you need to complete the 1st one.\r\n\r\nIn your case this would look like this:\r\n\r\n           MessageHistory messagesHistory = event.getChannelgetHistoryFromBeginning(100).complete();\r\n           List&lt;Message&gt; messages = messagesHistory.getRetrievedHistory();\r\n","title":"JDA not retrieving past messages properly","body":"<p>I've had a similar issue recently, here is how i solved it:</p>\n<pre><code>       MessageHistory messagesHistory = event.getGuild().getTextChannelById(&quot;1040285028875247769&quot;).getHistoryFromBeginning(100).complete();\n       List&lt;Message&gt; messages = messagesHistory.getRetrievedHistory();\n</code></pre>\n<p>Yes you do need to save them in seperate variables, since you need to complete the 1st one.</p>\n<p>In your case this would look like this:</p>\n<pre><code>       MessageHistory messagesHistory = event.getChannelgetHistoryFromBeginning(100).complete();\n       List&lt;Message&gt; messages = messagesHistory.getRetrievedHistory();\n</code></pre>\n"}],"owner":{"account_id":26940749,"reputation":1,"user_id":20511604,"display_name":"JavaWobbaBobba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668792760,"creation_date":1668525593,"question_id":74448089,"body_markdown":"I have this code\r\n\r\n```\r\npublic void onMessageReceived(MessageReceivedEvent event) {\r\n    List &lt;Message&gt; Messages = event.getChannel().getHistory().getRetrievedHistory();\r\n    for (int i = 0; i &lt; Messages.size(); i++) {\r\n        System.out.println(Messages.get(i).getContentRaw());\r\n    }\r\n}\r\n```\r\nIt is not grabbing the message history, the list is always empty.\r\n\r\n\r\nI have tried to look into the documentation and solutions, I have not been successful. ","title":"JDA not retrieving past messages properly","body":"<p>I have this code</p>\n<pre><code>public void onMessageReceived(MessageReceivedEvent event) {\n    List &lt;Message&gt; Messages = event.getChannel().getHistory().getRetrievedHistory();\n    for (int i = 0; i &lt; Messages.size(); i++) {\n        System.out.println(Messages.get(i).getContentRaw());\n    }\n}\n</code></pre>\n<p>It is not grabbing the message history, the list is always empty.</p>\n<p>I have tried to look into the documentation and solutions, I have not been successful.</p>\n"},{"tags":["java","string","list","replace","position"],"comments":[{"owner":{"account_id":19780517,"reputation":141,"user_id":14485623,"display_name":"kuriboh"},"score":0,"creation_date":1668794732,"post_id":74493353,"comment_id":131501013,"body_markdown":"So ```positionList[i]``` means where matches happened for each ```population[i]```? Then it comes natural that ```j!=positionsList.get(i).get(k)``` is true in some cases for each ```population[i]```. Btw, It helps a lot if you can trace varibles by debugger or printing them.","body":"So <code>positionList[i]</code> means where matches happened for each <code>population[i]</code>? Then it comes natural that <code>j!=positionsList.get(i).get(k)</code> is true in some cases for each <code>population[i]</code>. Btw, It helps a lot if you can trace varibles by debugger or printing them."},{"owner":{"account_id":19829970,"reputation":13,"user_id":14677576,"display_name":"KonTiki"},"score":0,"creation_date":1668797164,"post_id":74493353,"comment_id":131501620,"body_markdown":"Yes, so it&#39;s like this for example\nInitial song: [E, D, C, D, E, E, E, D, D, D, E, G, G]\n\nList of songs: \n[B, A, B, C, A, F#, B, B, Bb, G#, F, Bb, C],\n[B, F#, Bb, E, C, A, G#, A, F, A, C, A, C#],\n[F, Eb, G#, G#, G#, G#, B, Bb, Eb, G, C#, D, G#],\n[F#, F, Bb, G, D, C, E, G#, C#, F, Bb, C#, C],\n[A, C, F#, Eb, C#, D, A, D, D, F, D, F#, D]\n\nPositionsList\n[7, 8],\n[6],\n[],\n[],\n[]\n\nThat is that&#39;s the list of list of positions where matches happened","body":"Yes, so it&#39;s like this for example Initial song: [E, D, C, D, E, E, E, D, D, D, E, G, G]  List of songs:  [B, A, B, C, A, F#, B, B, Bb, G#, F, Bb, C], [B, F#, Bb, E, C, A, G#, A, F, A, C, A, C#], [F, Eb, G#, G#, G#, G#, B, Bb, Eb, G, C#, D, G#], [F#, F, Bb, G, D, C, E, G#, C#, F, Bb, C#, C], [A, C, F#, Eb, C#, D, A, D, D, F, D, F#, D]  PositionsList [7, 8], [6], [], [], []  That is that&#39;s the list of list of positions where matches happened"}],"owner":{"account_id":19829970,"reputation":13,"user_id":14677576,"display_name":"KonTiki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668792534,"creation_date":1668792534,"question_id":74493353,"body_markdown":"so this is the problem that I am having.\r\n\r\nI have this list of values\r\n\r\n```\r\nArrayList&lt;String&gt; song = new ArrayList&lt;&gt;(Arrays.asList(&quot;E&quot;, &quot;D&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;E&quot;, &quot;E&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;E&quot;, &quot;G&quot;, &quot;G&quot;));\r\n```\r\n\r\nThen I have a list of lists of the same type\r\n\r\n```\r\nArrayList&lt;ArrayList&lt;String&gt;&gt; population = new ArrayList&lt;&gt;();\r\n```\r\n\r\nand the values are being added in that list from this list in random order\r\n\r\n```\r\nArrayList&lt;String&gt; notes = new ArrayList(Arrays.asList(&quot;C&quot;, &quot;C#&quot;, &quot;D&quot;, &quot;Eb&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F#&quot;, &quot;G&quot;, &quot;G#&quot;, &quot;A&quot;, &quot;Bb&quot;, &quot;B&quot;));\r\n```\r\n\r\n```\r\n\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    {\r\n        ArrayList&lt;String&gt; songInPopulation = new ArrayList&lt;&gt;();\r\n        for (int j = 0; j &lt; song.size(); j++) {\r\n           songInPopulation.add(notes.get(rand.nextInt(notes.size())));\r\n        }\r\n        population.add(songInPopulation);\r\n\r\n    }\r\n}\r\n```\r\n\r\nSo at the end I can have for example a list of 5 lists of the following values\r\n\r\nList A = \\[Bb, G#, G, Eb, C, G, C#, A, F#, F, Bb, C, Eb\\]\r\n\r\nList B = \\[F#, G#, E, Bb, D, Bb, G, Bb, G, Bb, C#, Eb, C#\\]\r\n\r\nList C = \\[Eb, C#, F#, B, C#, G#, F, C, F#, C, C#, D, B\\]\r\n\r\nList D = \\[Bb, A, Bb, F#, Eb, E, A, Eb, A, G#, D, F#, D\\]\r\n\r\nList E = \\[F#, Bb, Bb, A, Bb, Bb, G#, G#, D, C, E, F#, G\\]\r\n\r\nI am iterating through these lists, search for matches and saving them into a list of integers that are positions where the matches happened and I am also counting matches\r\n\r\n```\r\n\r\nInteger fitCounter = 0;\r\nInteger maxFitCounter = 0;\r\nInteger positionMax = 0;\r\n\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; positionsList = new ArrayList\\&lt;\\&gt;();\r\n\r\nfor (int i = 0; i &lt; population.size(); i++) {\r\nfitCounter = 0;\r\nArrayList&lt;Integer&gt; positions = new ArrayList&lt;&gt;();\r\nfor (int j = 0; j &lt; song.size(); j++) {\r\n\r\n        if (song.get(j).equals(population.get(i).get(j))) {\r\n    \r\n            fitCounter++;\r\n            positions.add(j);\r\n    \r\n        }\r\n        \r\n        if (fitCounter &gt; maxFitCounter) {\r\n            maxFitCounter = fitCounter;\r\n            positionMax = i;\r\n        }\r\n    }\r\n    positionsList.add(positions);\r\n\r\n}\r\n```\r\n\r\nNow I want to do is replace Strings/Notes within these 5 lists where they didn&#39;t match with the random values from the initial list.\r\n\r\nI tried to do this, but it didn&#39;t work, it&#39;s replace all the strings in the lists\r\n\r\n```\r\n\r\nfor (int i=0;i&lt;population.size();i++){\r\n\r\n    for (int j=0;j&lt; song.size();j++){\r\n    \r\n        for (int k=0;k&lt;positionsList.get(i).size();k++){\r\n            if (j!=positionsList.get(i).get(k)){\r\n                population.get(i).set(j,notes.get(rand.nextInt(notes.size())));\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n```","title":"Find and replace values in a list that don&#39;t match values in another list [Java]","body":"<p>so this is the problem that I am having.</p>\n<p>I have this list of values</p>\n<pre><code>ArrayList&lt;String&gt; song = new ArrayList&lt;&gt;(Arrays.asList(&quot;E&quot;, &quot;D&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;E&quot;, &quot;E&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;E&quot;, &quot;G&quot;, &quot;G&quot;));\n</code></pre>\n<p>Then I have a list of lists of the same type</p>\n<pre><code>ArrayList&lt;ArrayList&lt;String&gt;&gt; population = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and the values are being added in that list from this list in random order</p>\n<pre><code>ArrayList&lt;String&gt; notes = new ArrayList(Arrays.asList(&quot;C&quot;, &quot;C#&quot;, &quot;D&quot;, &quot;Eb&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F#&quot;, &quot;G&quot;, &quot;G#&quot;, &quot;A&quot;, &quot;Bb&quot;, &quot;B&quot;));\n</code></pre>\n<pre><code>\nfor (int i = 0; i &lt; 5; i++) {\n    {\n        ArrayList&lt;String&gt; songInPopulation = new ArrayList&lt;&gt;();\n        for (int j = 0; j &lt; song.size(); j++) {\n           songInPopulation.add(notes.get(rand.nextInt(notes.size())));\n        }\n        population.add(songInPopulation);\n\n    }\n}\n</code></pre>\n<p>So at the end I can have for example a list of 5 lists of the following values</p>\n<p>List A = [Bb, G#, G, Eb, C, G, C#, A, F#, F, Bb, C, Eb]</p>\n<p>List B = [F#, G#, E, Bb, D, Bb, G, Bb, G, Bb, C#, Eb, C#]</p>\n<p>List C = [Eb, C#, F#, B, C#, G#, F, C, F#, C, C#, D, B]</p>\n<p>List D = [Bb, A, Bb, F#, Eb, E, A, Eb, A, G#, D, F#, D]</p>\n<p>List E = [F#, Bb, Bb, A, Bb, Bb, G#, G#, D, C, E, F#, G]</p>\n<p>I am iterating through these lists, search for matches and saving them into a list of integers that are positions where the matches happened and I am also counting matches</p>\n<pre><code>\nInteger fitCounter = 0;\nInteger maxFitCounter = 0;\nInteger positionMax = 0;\n\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; positionsList = new ArrayList\\&lt;\\&gt;();\n\nfor (int i = 0; i &lt; population.size(); i++) {\nfitCounter = 0;\nArrayList&lt;Integer&gt; positions = new ArrayList&lt;&gt;();\nfor (int j = 0; j &lt; song.size(); j++) {\n\n        if (song.get(j).equals(population.get(i).get(j))) {\n    \n            fitCounter++;\n            positions.add(j);\n    \n        }\n        \n        if (fitCounter &gt; maxFitCounter) {\n            maxFitCounter = fitCounter;\n            positionMax = i;\n        }\n    }\n    positionsList.add(positions);\n\n}\n</code></pre>\n<p>Now I want to do is replace Strings/Notes within these 5 lists where they didn't match with the random values from the initial list.</p>\n<p>I tried to do this, but it didn't work, it's replace all the strings in the lists</p>\n<pre><code>\nfor (int i=0;i&lt;population.size();i++){\n\n    for (int j=0;j&lt; song.size();j++){\n    \n        for (int k=0;k&lt;positionsList.get(i).size();k++){\n            if (j!=positionsList.get(i).get(k)){\n                population.get(i).set(j,notes.get(rand.nextInt(notes.size())));\n    \n            }\n        }\n    \n    }\n\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","refactoring","comparison","null","compareto"],"comments":[{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1433248351,"post_id":481813,"comment_id":49260744,"body_markdown":"http://stackoverflow.com/questions/369383/what-is-the-best-way-to-get-min-and-max-value-from-a-list-of-comparables-that-ma","body":"<a href=\"http://stackoverflow.com/questions/369383/what-is-the-best-way-to-get-min-and-max-value-from-a-list-of-comparables-that-ma\" title=\"what is the best way to get min and max value from a list of comparables that ma\">stackoverflow.com/questions/369383/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1233014232,"post_id":481822,"comment_id":298595,"body_markdown":"Yes, that&#39;s generally a good solution, and simplifies many things -  but here I was more interested in the case where null values are allowed, for one reason or another, and must be taken into account :)","body":"Yes, that&#39;s generally a good solution, and simplifies many things -  but here I was more interested in the case where null values are allowed, for one reason or another, and must be taken into account :)"}],"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1233013052,"creation_date":1233012651,"answer_id":481822,"question_id":481813,"body_markdown":"You could design your class to be immutable (Effective Java 2nd Ed. has a great section on this, Item 15: Minimize mutability) and make sure upon construction that no nulls are possible (and use the [null object pattern][1] if needed). Then you can skip all those checks and safely assume the values are not null.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Null_Object_pattern","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>You could design your class to be immutable (Effective Java 2nd Ed. has a great section on this, Item 15: Minimize mutability) and make sure upon construction that no nulls are possible (and use the <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow noreferrer\">null object pattern</a> if needed). Then you can skip all those checks and safely assume the values are not null.</p>\n"},{"comments":[{"owner":{"account_id":16209,"reputation":280512,"user_id":35070,"accept_rate":78,"display_name":"phihag"},"score":0,"creation_date":1233013408,"post_id":481836,"comment_id":298567,"body_markdown":"Your code is a little bit botched: final is not necessary here, the first character of the String class is capitalized in Java. Furthermore, return 1:-1 is not valid Java. I&#39;d suggest a nested if (one == null) {if two == null) return 0; else return -1;}else{if (two == null) return 0; else return 1;}","body":"Your code is a little bit botched: final is not necessary here, the first character of the String class is capitalized in Java. Furthermore, return 1:-1 is not valid Java. I&#39;d suggest a nested if (one == null) {if two == null) return 0; else return -1;}else{if (two == null) return 0; else return 1;}"},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1233013961,"post_id":481836,"comment_id":298587,"body_markdown":"Yup.  I should have tested it first.  Now it&#39;s tested.  :)","body":"Yup.  I should have tested it first.  Now it&#39;s tested.  :)"},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":2,"creation_date":1233014321,"post_id":481836,"comment_id":298597,"body_markdown":"Regarding nested &quot;if&quot; ... I find the nested if to be less readable for this case, so I avoid it.  Yes, sometimes there will be an unnecessary comparison due to this.  final for parameters is not necessary, but is a good idea.","body":"Regarding nested &quot;if&quot; ... I find the nested if to be less readable for this case, so I avoid it.  Yes, sometimes there will be an unnecessary comparison due to this.  final for parameters is not necessary, but is a good idea."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1233496429,"post_id":481836,"comment_id":316086,"body_markdown":"Or return one==null ? (two==null ? 0 :-1) : two==null ? -1 : one.compareToIgnoreCase(two);","body":"Or return one==null ? (two==null ? 0 :-1) : two==null ? -1 : one.compareToIgnoreCase(two);"},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1233505411,"post_id":481836,"comment_id":316264,"body_markdown":"@Peter Lawrey: Yes, but that is less readable.  And with a good optimizer, there should be no real speed difference between the optimized and the readable version.","body":"@Peter Lawrey: Yes, but that is less readable.  And with a good optimizer, there should be no real speed difference between the optimized and the readable version."},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":9,"creation_date":1342188257,"post_id":481836,"comment_id":15146616,"body_markdown":"@phihag - I know it&#39;s over 3 years, BUT... the `final` keyword is not truly necessary (Java code is already verbose as it is.) However, it does prevent reuse of parameters as local vars (a terrible coding practice.) As our collective understanding of software gets better over time, we know that things should be final/const/inmutable by default. So I prefer a bit extra verbosity in using `final` in parameter declarations (however trivial the function may be) to get `inmutability-by-quasi-default`.) The comprehensibility/maintainability overhead of it is negligible in the grand scheme of things.","body":"@phihag - I know it&#39;s over 3 years, BUT... the <code>final</code> keyword is not truly necessary (Java code is already verbose as it is.) However, it does prevent reuse of parameters as local vars (a terrible coding practice.) As our collective understanding of software gets better over time, we know that things should be final/const/inmutable by default. So I prefer a bit extra verbosity in using <code>final</code> in parameter declarations (however trivial the function may be) to get <code>inmutability-by-quasi-default</code>.) The comprehensibility/maintainability overhead of it is negligible in the grand scheme of things."},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":26,"creation_date":1406460766,"post_id":481836,"comment_id":38833317,"body_markdown":"@James McMahon I have to disagree. Xor (^) could simply be replaced with not-equal (!=). It even compiles to the same byte code. The usage of != vs ^ is just a matter of taste and readability. So, judging by the fact that you were surprised I would say that it does not belong here. Use xor when you are trying to calculate a checksum. In most other cases (like this one) let&#39;s stick to !=.","body":"@James McMahon I have to disagree. Xor (^) could simply be replaced with not-equal (!=). It even compiles to the same byte code. The usage of != vs ^ is just a matter of taste and readability. So, judging by the fact that you were surprised I would say that it does not belong here. Use xor when you are trying to calculate a checksum. In most other cases (like this one) let&#39;s stick to !=."},{"owner":{"account_id":19910,"reputation":5729,"user_id":47078,"accept_rate":70,"display_name":"Harvey"},"score":2,"creation_date":1448302040,"post_id":481836,"comment_id":55519087,"body_markdown":"@bvdb: if the `one==null &amp;&amp; two==null` test is done first, than the other case can be made much more readable with `one==null || two==null`. For that matter, I suggest: `if (one==null || two==null) { if (one==two) return 0; return lhs==null ? -1 : 1; }`","body":"@bvdb: if the <code>one==null &amp;&amp; two==null</code> test is done first, than the other case can be made much more readable with <code>one==null || two==null</code>. For that matter, I suggest: <code>if (one==null || two==null) { if (one==two) return 0; return lhs==null ? -1 : 1; }</code>"},{"owner":{"account_id":176796,"reputation":1377,"user_id":407712,"accept_rate":53,"display_name":"Paul Praet"},"score":0,"creation_date":1464257439,"post_id":481836,"comment_id":62415195,"body_markdown":"In the second if you can just write if (one == null) (two will also be null because of the preceeding xor)","body":"In the second if you can just write if (one == null) (two will also be null because of the preceeding xor)"},{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":5,"creation_date":1467707079,"post_id":481836,"comment_id":63821371,"body_markdown":"It is easy to extend this answer by replacing String with T, T declared as &lt;T extends Comparable&lt;T&gt;&gt;... and then we can safely compare any nullable Comparable objects","body":"It is easy to extend this answer by replacing String with T, T declared as &lt;T extends Comparable&lt;T&gt;&gt;... and then we can safely compare any nullable Comparable objects"}],"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"comment_count":10,"down_vote_count":2,"up_vote_count":98,"is_accepted":false,"score":96,"last_activity_date":1481927634,"creation_date":1233012934,"answer_id":481836,"question_id":481813,"body_markdown":"I would implement a null safe comparator.  There may be an implementation out there, but this is so straightforward to implement that I&#39;ve always rolled my own.  \r\n    \r\nNote:  Your comparator above, if *both* names are null, won&#39;t even compare the value fields.  I don&#39;t think this is what you want.\r\n    \r\nI would implement this with something like the following:\r\n    \r\n    // primarily by name, secondarily by value; null-safe; case-insensitive\r\n    public int compareTo(final Metadata other) {\r\n    \r\n        if (other == null) {\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        int result = nullSafeStringComparator(this.name, other.name);\r\n        if (result != 0) {\r\n            return result;\r\n        }\r\n    \r\n        return nullSafeStringComparator(this.value, other.value);\r\n    }\r\n    \r\n    public static int nullSafeStringComparator(final String one, final String two) {\r\n        if (one == null ^ two == null) {\r\n            return (one == null) ? -1 : 1;\r\n        }\r\n    \r\n        if (one == null &amp;&amp; two == null) {\r\n            return 0;\r\n        }\r\n    \r\n        return one.compareToIgnoreCase(two);\r\n    }\r\n    \r\nEDIT:  Fixed typos in code sample.  That&#39;s what I get for not testing it first!\r\n    \r\nEDIT:  Promoted nullSafeStringComparator to static.","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>I would implement a null safe comparator.  There may be an implementation out there, but this is so straightforward to implement that I've always rolled my own.  </p>\n\n<p>Note:  Your comparator above, if <em>both</em> names are null, won't even compare the value fields.  I don't think this is what you want.</p>\n\n<p>I would implement this with something like the following:</p>\n\n<pre><code>// primarily by name, secondarily by value; null-safe; case-insensitive\npublic int compareTo(final Metadata other) {\n\n    if (other == null) {\n        throw new NullPointerException();\n    }\n\n    int result = nullSafeStringComparator(this.name, other.name);\n    if (result != 0) {\n        return result;\n    }\n\n    return nullSafeStringComparator(this.value, other.value);\n}\n\npublic static int nullSafeStringComparator(final String one, final String two) {\n    if (one == null ^ two == null) {\n        return (one == null) ? -1 : 1;\n    }\n\n    if (one == null &amp;&amp; two == null) {\n        return 0;\n    }\n\n    return one.compareToIgnoreCase(two);\n}\n</code></pre>\n\n<p>EDIT:  Fixed typos in code sample.  That's what I get for not testing it first!</p>\n\n<p>EDIT:  Promoted nullSafeStringComparator to static.</p>\n"},{"comments":[{"owner":{"account_id":65698,"reputation":18297,"user_id":193178,"display_name":"Rolf Kristensen"},"score":3,"creation_date":1312540717,"post_id":481844,"comment_id":8291612,"body_markdown":"Should the &quot;0 : 1&quot; not be &quot;0 : -1&quot; ?","body":"Should the &quot;0 : 1&quot; not be &quot;0 : -1&quot; ?"}],"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1629139205,"creation_date":1233013118,"answer_id":481844,"question_id":481813,"body_markdown":"You can extract method:\r\n\r\n    public int cmp(String txt, String otherTxt)\r\n    {\r\n        if ( txt == null )\r\n            return otherTxt == null ? 0 : 1;\r\n         \r\n        if ( otherTxt == null )\r\n              return 1;\r\n\r\n        return txt.compareToIgnoreCase(otherTxt);\r\n    }\r\n\r\n    public int compareTo(Metadata other) {\r\n       int result = cmp( name, other.name); \r\n       if ( result != 0 )  return result;\r\n       return cmp( value, other.value); \r\n   }\r\n","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>You can extract method:</p>\n<pre><code>public int cmp(String txt, String otherTxt)\n{\n    if ( txt == null )\n        return otherTxt == null ? 0 : 1;\n     \n    if ( otherTxt == null )\n          return 1;\n\n    return txt.compareToIgnoreCase(otherTxt);\n}\n\npublic int compareTo(Metadata other) {\n   int result = cmp( name, other.name); \n   if ( result != 0 )  return result;\n   return cmp( value, other.value); \n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1233488455,"post_id":481893,"comment_id":315945,"body_markdown":"Thanks, I was sort of hoping there would be something like this in Commons! In this case, however, I didn&#39;t end up using it: http://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/500643#500643","body":"Thanks, I was sort of hoping there would be something like this in Commons! In this case, however, I didn&#39;t end up using it: <a href=\"http://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/500643#500643\" title=\"how to simplify a null safe compareto implementation\">stackoverflow.com/questions/481813/&hellip;</a>"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1233505128,"post_id":481893,"comment_id":316256,"body_markdown":"Just realised your approach can be simplified by using String.CASE_INSENSITIVE_ORDER; see my edited follow-up answer.","body":"Just realised your approach can be simplified by using String.CASE_INSENSITIVE_ORDER; see my edited follow-up answer."},{"owner":{"account_id":16046,"reputation":13138,"user_id":34553,"accept_rate":100,"display_name":"Daniel Alexiuc"},"score":0,"creation_date":1355366209,"post_id":481893,"comment_id":19070755,"body_markdown":"This is good but the &quot;if (other == null) {&quot; check should not be there. The Javadoc for Comparable says that compareTo should throw a NullPointerException if other is null.","body":"This is good but the &quot;if (other == null) {&quot; check should not be there. The Javadoc for Comparable says that compareTo should throw a NullPointerException if other is null."}],"tags":[],"owner":{"account_id":22157,"reputation":3901,"user_id":54396,"accept_rate":80,"display_name":"Patrick"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1233014684,"creation_date":1233014684,"answer_id":481893,"question_id":481813,"body_markdown":"I always recommend using Apache commons since it will most likely be better than one you can write on your own. Plus you can then do &#39;real&#39; work rather then reinventing.\r\n\r\nThe class you are interested in is the [Null Comparator][1]. It allows you to make nulls high or low. You also give it your own comparator to use when the two values are not null.\r\n\r\nIn your case you can have a static member variable that does the comparison and then your `compareTo` method just references that.\r\n\r\nSomthing like\r\n\r\n    class Metadata implements Comparable&lt;Metadata&gt; {\r\n\tprivate String name;\r\n\tprivate String value;\r\n\r\n\tstatic NullComparator nullAndCaseInsensitveComparator = new NullComparator(\r\n\t\t\tnew Comparator&lt;String&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int compare(String o1, String o2) {\r\n\t\t\t\t\t// inputs can&#39;t be null\r\n\t\t\t\t\treturn o1.compareToIgnoreCase(o2);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t@Override\r\n\tpublic int compareTo(Metadata other) {\r\n\t\tif (other == null) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tint res = nullAndCaseInsensitveComparator.compare(name, other.name);\r\n\t\tif (res != 0)\r\n\t\t\treturn res;\r\n\r\n\t\treturn nullAndCaseInsensitveComparator.compare(value, other.value);\r\n\t}\r\n}\r\n\r\n\r\nEven if you decide to roll your own, keep this class in mind since it is very useful when ordering lists thatcontain null elements.\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/comparators/NullComparator.html &quot;NullComparator&quot;","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>I always recommend using Apache commons since it will most likely be better than one you can write on your own. Plus you can then do 'real' work rather then reinventing.</p>\n\n<p>The class you are interested in is the <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/comparators/NullComparator.html\" rel=\"noreferrer\" title=\"NullComparator\">Null Comparator</a>. It allows you to make nulls high or low. You also give it your own comparator to use when the two values are not null.</p>\n\n<p>In your case you can have a static member variable that does the comparison and then your <code>compareTo</code> method just references that.</p>\n\n<p>Somthing like</p>\n\n<pre><code>class Metadata implements Comparable&lt;Metadata&gt; {\nprivate String name;\nprivate String value;\n\nstatic NullComparator nullAndCaseInsensitveComparator = new NullComparator(\n        new Comparator&lt;String&gt;() {\n\n            @Override\n            public int compare(String o1, String o2) {\n                // inputs can't be null\n                return o1.compareToIgnoreCase(o2);\n            }\n\n        });\n\n@Override\npublic int compareTo(Metadata other) {\n    if (other == null) {\n        return 1;\n    }\n    int res = nullAndCaseInsensitveComparator.compare(name, other.name);\n    if (res != 0)\n        return res;\n\n    return nullAndCaseInsensitveComparator.compare(value, other.value);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Even if you decide to roll your own, keep this class in mind since it is very useful when ordering lists thatcontain null elements.</p>\n"},{"comments":[{"owner":{"account_id":22157,"reputation":3901,"user_id":54396,"accept_rate":80,"display_name":"Patrick"},"score":2,"creation_date":1233602343,"post_id":500643,"comment_id":319213,"body_markdown":"String.CASE_INSENSITIVE_ORDER really does make the solution much cleaner. Nice update.","body":"String.CASE_INSENSITIVE_ORDER really does make the solution much cleaner. Nice update."},{"owner":{"account_id":899048,"reputation":4866,"user_id":935676,"display_name":"amoebe"},"score":2,"creation_date":1348428187,"post_id":500643,"comment_id":16910579,"body_markdown":"If you use Apache Commons anyway, there&#39;s a [`ComparatorChain`](https://commons.apache.org/collections/apidocs/org/apache/commons/collections/comparators/ComparatorChain.html) so you don&#39;t need an own `compareTo` method.","body":"If you use Apache Commons anyway, there&#39;s a <a href=\"https://commons.apache.org/collections/apidocs/org/apache/commons/collections/comparators/ComparatorChain.html\" rel=\"nofollow noreferrer\"><code>ComparatorChain</code></a> so you don&#39;t need an own <code>compareTo</code> method."}],"tags":[],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":2,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1387405813,"creation_date":1233488140,"answer_id":500643,"question_id":481813,"body_markdown":"See the bottom of this answer for updated (2013) solution using Guava.\r\n\r\n\r\n----------\r\n\r\nThis is what I ultimately went with. It turned out we already had a utility method for null-safe String comparison, so the simplest solution was to make use of that. (It&#39;s a big codebase; easy to miss this kind of thing  :)\r\n\r\n    public int compareTo(Metadata other) {\r\n        int result = StringUtils.compare(this.getName(), other.getName(), true);\r\n        if (result != 0) {\r\n            return result;\r\n        }\r\n        return StringUtils.compare(this.getValue(), other.getValue(), true);\r\n    }\r\n\r\nThis is how the helper is defined (it&#39;s overloaded so that you can also define whether nulls come first or last, if you want):\r\n\r\n    public static int compare(String s1, String s2, boolean ignoreCase) { ... }\r\n\r\nSo this is essentially the same as [Eddie&#39;s answer](https://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/481836#481836) (although I wouldn&#39;t call a static helper method a *comparator*) and [that of uzhin](https://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/481844#481844) too.\r\n\r\nAnyway, in general, I would have strongly favoured [Patrick&#39;s solution](https://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/481893#481893), as I think it&#39;s a good practice to use established libraries whenever possible. (*Know and use the libraries* as Josh Bloch says.) But in this case that would not have yielded the cleanest, simplest code.\r\n\r\n\r\n## Edit (2009): Apache Commons Collections version\r\n\r\nActually, here&#39;s a way to make the solution based on Apache Commons [`NullComparator`](http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/comparators/NullComparator.html) simpler. Combine it with the [case-insensitive `Comparator`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#CASE_INSENSITIVE_ORDER) provided in `String` class:\r\n\r\n    public static final Comparator&lt;String&gt; NULL_SAFE_COMPARATOR \r\n        = new NullComparator(String.CASE_INSENSITIVE_ORDER);\r\n\r\n    @Override\r\n    public int compareTo(Metadata other) {\r\n        int result = NULL_SAFE_COMPARATOR.compare(this.name, other.name);\r\n        if (result != 0) {\r\n            return result;\r\n        }\r\n        return NULL_SAFE_COMPARATOR.compare(this.value, other.value);\r\n    }\r\n\r\nNow this is pretty elegant, I think. (Just one small issue remains: the Commons `NullComparator` doesn&#39;t support generics, so there&#39;s an unchecked assignment.)\r\n\r\n## Update (2013): Guava version\r\n\r\nNearly 5 years later, here&#39;s how I&#39;d tackle my original question. If coding in Java, I would (of course) be using [**Guava**][1]. (And quite certainly *not* Apache Commons.) \r\n\r\nPut this constant somewhere, e.g. in &quot;StringUtils&quot; class:\r\n\r\n    public static final Ordering&lt;String&gt; CASE_INSENSITIVE_NULL_SAFE_ORDER =\r\n        Ordering.from(String.CASE_INSENSITIVE_ORDER).nullsLast(); // or nullsFirst()\r\n\r\nThen, in `public class Metadata implements Comparable&lt;Metadata&gt;`:\r\n\r\n    @Override\r\n    public int compareTo(Metadata other) {\r\n        int result = CASE_INSENSITIVE_NULL_SAFE_ORDER.compare(this.name, other.name);\r\n        if (result != 0) {\r\n            return result;\r\n        }\r\n        return CASE_INSENSITIVE_NULL_SAFE_ORDER.compare(this.value, other.value);\r\n    }    \r\n\r\nOf course, this is nearly identical to the Apache Commons version (both use \r\nJDK&#39;s [CASE_INSENSITIVE_ORDER][2]), the use of `nullsLast()` being the only Guava-specific thing. This version is preferable simply because Guava is preferable, as a dependency, to Commons Collections. (As [everyone agrees][3].)\r\n\r\nIf you were wondering about [`Ordering`][4], note that it implements `Comparator`. It&#39;s pretty handy especially for more complex sorting needs, allowing you for example to chain several Orderings using `compound()`. Read [*Ordering Explained*][5] for more!\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#CASE_INSENSITIVE_ORDER\r\n  [3]: https://stackoverflow.com/questions/1444437/apache-commons-vs-guava-formerly-google-collections\r\n  [4]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Ordering.html\r\n  [5]: https://code.google.com/p/guava-libraries/wiki/OrderingExplained","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>See the bottom of this answer for updated (2013) solution using Guava.</p>\n\n<hr>\n\n<p>This is what I ultimately went with. It turned out we already had a utility method for null-safe String comparison, so the simplest solution was to make use of that. (It's a big codebase; easy to miss this kind of thing  :)</p>\n\n<pre><code>public int compareTo(Metadata other) {\n    int result = StringUtils.compare(this.getName(), other.getName(), true);\n    if (result != 0) {\n        return result;\n    }\n    return StringUtils.compare(this.getValue(), other.getValue(), true);\n}\n</code></pre>\n\n<p>This is how the helper is defined (it's overloaded so that you can also define whether nulls come first or last, if you want):</p>\n\n<pre><code>public static int compare(String s1, String s2, boolean ignoreCase) { ... }\n</code></pre>\n\n<p>So this is essentially the same as <a href=\"https://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/481836#481836\">Eddie's answer</a> (although I wouldn't call a static helper method a <em>comparator</em>) and <a href=\"https://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/481844#481844\">that of uzhin</a> too.</p>\n\n<p>Anyway, in general, I would have strongly favoured <a href=\"https://stackoverflow.com/questions/481813/how-to-simplify-a-null-safe-compareto-implementation/481893#481893\">Patrick's solution</a>, as I think it's a good practice to use established libraries whenever possible. (<em>Know and use the libraries</em> as Josh Bloch says.) But in this case that would not have yielded the cleanest, simplest code.</p>\n\n<h2>Edit (2009): Apache Commons Collections version</h2>\n\n<p>Actually, here's a way to make the solution based on Apache Commons <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/comparators/NullComparator.html\" rel=\"noreferrer\"><code>NullComparator</code></a> simpler. Combine it with the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#CASE_INSENSITIVE_ORDER\" rel=\"noreferrer\">case-insensitive <code>Comparator</code></a> provided in <code>String</code> class:</p>\n\n<pre><code>public static final Comparator&lt;String&gt; NULL_SAFE_COMPARATOR \n    = new NullComparator(String.CASE_INSENSITIVE_ORDER);\n\n@Override\npublic int compareTo(Metadata other) {\n    int result = NULL_SAFE_COMPARATOR.compare(this.name, other.name);\n    if (result != 0) {\n        return result;\n    }\n    return NULL_SAFE_COMPARATOR.compare(this.value, other.value);\n}\n</code></pre>\n\n<p>Now this is pretty elegant, I think. (Just one small issue remains: the Commons <code>NullComparator</code> doesn't support generics, so there's an unchecked assignment.)</p>\n\n<h2>Update (2013): Guava version</h2>\n\n<p>Nearly 5 years later, here's how I'd tackle my original question. If coding in Java, I would (of course) be using <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\"><strong>Guava</strong></a>. (And quite certainly <em>not</em> Apache Commons.) </p>\n\n<p>Put this constant somewhere, e.g. in \"StringUtils\" class:</p>\n\n<pre><code>public static final Ordering&lt;String&gt; CASE_INSENSITIVE_NULL_SAFE_ORDER =\n    Ordering.from(String.CASE_INSENSITIVE_ORDER).nullsLast(); // or nullsFirst()\n</code></pre>\n\n<p>Then, in <code>public class Metadata implements Comparable&lt;Metadata&gt;</code>:</p>\n\n<pre><code>@Override\npublic int compareTo(Metadata other) {\n    int result = CASE_INSENSITIVE_NULL_SAFE_ORDER.compare(this.name, other.name);\n    if (result != 0) {\n        return result;\n    }\n    return CASE_INSENSITIVE_NULL_SAFE_ORDER.compare(this.value, other.value);\n}    \n</code></pre>\n\n<p>Of course, this is nearly identical to the Apache Commons version (both use \nJDK's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#CASE_INSENSITIVE_ORDER\" rel=\"noreferrer\">CASE_INSENSITIVE_ORDER</a>), the use of <code>nullsLast()</code> being the only Guava-specific thing. This version is preferable simply because Guava is preferable, as a dependency, to Commons Collections. (As <a href=\"https://stackoverflow.com/questions/1444437/apache-commons-vs-guava-formerly-google-collections\">everyone agrees</a>.)</p>\n\n<p>If you were wondering about <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Ordering.html\" rel=\"noreferrer\"><code>Ordering</code></a>, note that it implements <code>Comparator</code>. It's pretty handy especially for more complex sorting needs, allowing you for example to chain several Orderings using <code>compound()</code>. Read <a href=\"https://code.google.com/p/guava-libraries/wiki/OrderingExplained\" rel=\"noreferrer\"><em>Ordering Explained</em></a> for more!</p>\n"},{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":6,"creation_date":1374883972,"post_id":10026065,"comment_id":26132669,"body_markdown":"(@Kong: This takes care of null-safety but not case-insensitivity which was another aspect of the original question. Thus not changing the accepted answer.)","body":"(@Kong: This takes care of null-safety but not case-insensitivity which was another aspect of the original question. Thus not changing the accepted answer.)"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":3,"creation_date":1387406706,"post_id":10026065,"comment_id":30950203,"body_markdown":"Also, in my mind *Apache Commons* should not be the accepted answer in 2013. (Even if some subprojects are better maintained than others.) [Guava can be used to achieve the same thing](http://stackoverflow.com/a/500643/56285); see `nullsFirst()` / `nullsLast()`.","body":"Also, in my mind <i>Apache Commons</i> should not be the accepted answer in 2013. (Even if some subprojects are better maintained than others.) <a href=\"http://stackoverflow.com/a/500643/56285\">Guava can be used to achieve the same thing</a>; see <code>nullsFirst()</code> / <code>nullsLast()</code>."},{"owner":{"account_id":1629443,"reputation":1299,"user_id":1504300,"accept_rate":71,"display_name":"reallynice"},"score":10,"creation_date":1438936249,"post_id":10026065,"comment_id":51664192,"body_markdown":"@Jonik Why do you think that Apache Commons should not be the accepted answer in 2013?","body":"@Jonik Why do you think that Apache Commons should not be the accepted answer in 2013?"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":3,"creation_date":1468352538,"post_id":10026065,"comment_id":64089332,"body_markdown":"Big parts of Apache Commons are legacy / poorly maintained / low-quality stuff. There are better alternatives for most things it provides, for example in [Guava](https://github.com/google/guava) which is a very high quality lib throughout, and increasingly in JDK itself. Around 2005 yes, Apache Commons was the shit, but these days there is no need for it in most projects. (Sure, there are exceptions; for example if I needed an FTP client for some reason, I&#39;d probably use the one in Apache Commons Net, and so on.)","body":"Big parts of Apache Commons are legacy / poorly maintained / low-quality stuff. There are better alternatives for most things it provides, for example in <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> which is a very high quality lib throughout, and increasingly in JDK itself. Around 2005 yes, Apache Commons was the shit, but these days there is no need for it in most projects. (Sure, there are exceptions; for example if I needed an FTP client for some reason, I&#39;d probably use the one in Apache Commons Net, and so on.)"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":8,"creation_date":1490990051,"post_id":10026065,"comment_id":73374698,"body_markdown":"@Jonik, how would you answer the question using Guava? Your assertion that Apache Commons Lang (package `org.apache.commons.lang3`) is &quot;legacy/poorly maintained/low-quality&quot; is false or at best baseless. Commons Lang3 is easy to understand and use, and it&#39;s actively maintained. It&#39;s probably my most oft-used library (apart from Spring Framework and Spring Security) - the [StringUtils](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html) class with its null-safe methods makes input normalization trivial, for example.","body":"@Jonik, how would you answer the question using Guava? Your assertion that Apache Commons Lang (package <code>org.apache.commons.lang3</code>) is &quot;legacy/poorly maintained/low-quality&quot; is false or at best baseless. Commons Lang3 is easy to understand and use, and it&#39;s actively maintained. It&#39;s probably my most oft-used library (apart from Spring Framework and Spring Security) - the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> class with its null-safe methods makes input normalization trivial, for example."},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1491473244,"post_id":10026065,"comment_id":73572863,"body_markdown":"What I wrote was &quot;Big parts of *Apache Commons* are legacy&quot; and I think that remains true. You may be right that *Commons Lang 3* is fine and actively maintained. In every case, nowadays the **[Java 8 solution](http://stackoverflow.com/a/23908426/56285) is the way to go**. Back in 2013 I did post a [Guava version](http://stackoverflow.com/a/500643/56285) but for this particular problem I&#39;d no longer use Guava (unless Java 8 could not be used for whatever reason).","body":"What I wrote was &quot;Big parts of <i>Apache Commons</i> are legacy&quot; and I think that remains true. You may be right that <i>Commons Lang 3</i> is fine and actively maintained. In every case, nowadays the <b><a href=\"http://stackoverflow.com/a/23908426/56285\">Java 8 solution</a> is the way to go</b>. Back in 2013 I did post a <a href=\"http://stackoverflow.com/a/500643/56285\">Guava version</a> but for this particular problem I&#39;d no longer use Guava (unless Java 8 could not be used for whatever reason)."},{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":2,"creation_date":1491939442,"post_id":10026065,"comment_id":73772713,"body_markdown":"Including a gigantic kitchen sink library to save a few lines of code? Win.","body":"Including a gigantic kitchen sink library to save a few lines of code? Win."},{"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"score":0,"creation_date":1539938707,"post_id":10026065,"comment_id":92690416,"body_markdown":"In streams it would look like this:`.sorted((o1, o2) -&gt; ObjectUtils.compare(o1.getAttribute(), o2.getAttribute()))`.","body":"In streams it would look like this:<code>.sorted((o1, o2) -&gt; ObjectUtils.compare(o1.getAttribute(), o2.getAttribute()))</code>."},{"owner":{"account_id":1217553,"reputation":2750,"user_id":1184842,"accept_rate":92,"display_name":"jan"},"score":0,"creation_date":1570007372,"post_id":10026065,"comment_id":102775104,"body_markdown":"I don&#39;t understand why this answer has 195 votes, because this answer yields a a StackOverflow Exception, because the ObjectUtils compare method simply checks for null, but for the real comparison of the fields it calls the compareTo method of the Comparable instance, i.e. it cannot be used inside this method or it will loop... Or did this change in time and cannot be done now anymore?","body":"I don&#39;t understand why this answer has 195 votes, because this answer yields a a StackOverflow Exception, because the ObjectUtils compare method simply checks for null, but for the real comparison of the fields it calls the compareTo method of the Comparable instance, i.e. it cannot be used inside this method or it will loop... Or did this change in time and cannot be done now anymore?"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1659195795,"post_id":10026065,"comment_id":129238493,"body_markdown":"If you&#39;re going to use Apache Commons Lang3 then use `CompareToBuilder`, not `ObjectUtils`.","body":"If you&#39;re going to use Apache Commons Lang3 then use <code>CompareToBuilder</code>, not <code>ObjectUtils</code>."}],"tags":[],"owner":{"account_id":150233,"reputation":10179,"user_id":363281,"accept_rate":87,"display_name":"Dag"},"comment_count":10,"down_vote_count":1,"up_vote_count":245,"is_accepted":false,"score":244,"last_activity_date":1496674607,"creation_date":1333618162,"answer_id":10026065,"question_id":481813,"body_markdown":"You can simply use [Apache Commons Lang][1]:\r\n\r\n    result = ObjectUtils.compare(firstComparable, secondComparable)\r\n\r\n\r\n  [1]:http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#compare(T,%20T)","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>You can simply use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#compare(T,%20T)\" rel=\"noreferrer\">Apache Commons Lang</a>:</p>\n\n<pre><code>result = ObjectUtils.compare(firstComparable, secondComparable)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":367633,"reputation":6473,"user_id":713937,"accept_rate":84,"display_name":"Piotr Sobczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1414659780,"creation_date":1374646789,"answer_id":17826568,"question_id":481813,"body_markdown":"I know that it may be not directly answer to your question, because you said that null values have to be supported.\r\n\r\nBut I just want to note that supporting nulls in compareTo is not in line with compareTo contract described in official [javadocs for Comparable][1]:\r\n\r\n&gt; Note that null is not an instance of any class, and e.compareTo(null)\r\n&gt; should throw a NullPointerException even though e.equals(null) returns\r\n&gt; false.\r\n\r\nSo I would either throw NullPointerException explicitly or just let it be thrown first time when null argument is being dereferenced.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>I know that it may be not directly answer to your question, because you said that null values have to be supported.</p>\n\n<p>But I just want to note that supporting nulls in compareTo is not in line with compareTo contract described in official <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html#compareTo-T-\" rel=\"noreferrer\">javadocs for Comparable</a>:</p>\n\n<blockquote>\n  <p>Note that null is not an instance of any class, and e.compareTo(null)\n  should throw a NullPointerException even though e.equals(null) returns\n  false.</p>\n</blockquote>\n\n<p>So I would either throw NullPointerException explicitly or just let it be thrown first time when null argument is being dereferenced.</p>\n"},{"comments":[{"owner":{"account_id":2109943,"reputation":4910,"user_id":1875412,"display_name":"jschreiner"},"score":12,"creation_date":1494575844,"post_id":23908426,"comment_id":74897131,"body_markdown":"I support using Java 8 built-in stuff in favor of Apache Commons Lang, but that Java 8 code is quite ugly, and still verbose. I will stick with org.apache.commons.lang3.builder.CompareToBuilder for the moment.","body":"I support using Java 8 built-in stuff in favor of Apache Commons Lang, but that Java 8 code is quite ugly, and still verbose. I will stick with org.apache.commons.lang3.builder.CompareToBuilder for the moment."},{"owner":{"account_id":556948,"reputation":1608,"user_id":919248,"accept_rate":78,"display_name":"Pedro Borges"},"score":2,"creation_date":1528804321,"post_id":23908426,"comment_id":88637854,"body_markdown":"This does not work for Collections.sort(Arrays.asList(null, val1, null, val2, null)) as it will try to call compareTo() on a null object. It looks like a problem with the collections framework to be honest, trying to figure out how to corner this.","body":"This does not work for Collections.sort(Arrays.asList(null, val1, null, val2, null)) as it will try to call compareTo() on a null object. It looks like a problem with the collections framework to be honest, trying to figure out how to corner this."},{"owner":{"account_id":22514,"reputation":1370,"user_id":55597,"accept_rate":88,"display_name":"Scrubbie"},"score":3,"creation_date":1580145675,"post_id":23908426,"comment_id":105993692,"body_markdown":"@PedroBorges  The author asked about sorting container objects that possess sortable fields (where those fields may be null), not about sorting null container references.  So, while your comment is correct, in that `Collections.sort(List)` does not work when the List contains nulls, the comment is not relevant to the question.","body":"@PedroBorges  The author asked about sorting container objects that possess sortable fields (where those fields may be null), not about sorting null container references.  So, while your comment is correct, in that <code>Collections.sort(List)</code> does not work when the List contains nulls, the comment is not relevant to the question."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1617980259,"post_id":23908426,"comment_id":118471269,"body_markdown":"@PedroBorges `null` values can not have a natural order. If you want to sort a list or array containing `null`, you must use a `Comparator`.","body":"@PedroBorges <code>null</code> values can not have a natural order. If you want to sort a list or array containing <code>null</code>, you must use a <code>Comparator</code>."}],"tags":[],"owner":{"account_id":455406,"reputation":19774,"user_id":853558,"accept_rate":75,"display_name":"Lukasz Wiktor"},"comment_count":4,"down_vote_count":0,"up_vote_count":224,"is_accepted":true,"score":224,"last_activity_date":1403535254,"creation_date":1401271055,"answer_id":23908426,"question_id":481813,"body_markdown":"Using **Java 8**:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private static Comparator&lt;String&gt; nullSafeStringComparator = Comparator\r\n            .nullsFirst(String::compareToIgnoreCase); \r\n    \r\n    private static Comparator&lt;Metadata&gt; metadataComparator = Comparator\r\n            .comparing(Metadata::getName, nullSafeStringComparator)\r\n            .thenComparing(Metadata::getValue, nullSafeStringComparator);\r\n    \r\n    public int compareTo(Metadata that) {\r\n        return metadataComparator.compare(this, that);\r\n    }","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>Using <strong>Java 8</strong>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static Comparator&lt;String&gt; nullSafeStringComparator = Comparator\n        .nullsFirst(String::compareToIgnoreCase); \n\nprivate static Comparator&lt;Metadata&gt; metadataComparator = Comparator\n        .comparing(Metadata::getName, nullSafeStringComparator)\n        .thenComparing(Metadata::getValue, nullSafeStringComparator);\n\npublic int compareTo(Metadata that) {\n    return metadataComparator.compare(this, that);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145125,"reputation":2114,"user_id":1902910,"display_name":"Dustin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412699933,"creation_date":1412699933,"answer_id":26240979,"question_id":481813,"body_markdown":"I was looking for something similar and this seemed a bit complicated so I did this.  I think it&#39;s a little easier to understand.  You can use it as a Comparator or as a one liner.  For this question you would change to compareToIgnoreCase().  As is, nulls float up.  You can flip the 1, -1 if you want them to sink.\r\n\r\n    StringUtil.NULL_SAFE_COMPARATOR.compare(getName(), o.getName());\r\n.\r\n\r\n    public class StringUtil {\r\n    \tpublic static final Comparator&lt;String&gt; NULL_SAFE_COMPARATOR = new Comparator&lt;String&gt;() {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int compare(final String s1, final String s2) {\r\n    \t\t\tif (s1 == s2) {\r\n    \t\t\t\t//Nulls or exact equality\r\n    \t\t\t\treturn 0;\r\n    \t\t\t} else if (s1 == null) {\r\n    \t\t\t\t//s1 null and s2 not null, so s1 less\r\n    \t\t\t\treturn -1;\r\n    \t\t\t} else if (s2 == null) {\r\n    \t\t\t\t//s2 null and s1 not null, so s1 greater\r\n    \t\t\t\treturn 1;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn s1.compareTo(s2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}; \r\n    \t\r\n    \tpublic static void main(String args[]) {\r\n    \t\tfinal ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(new String[]{&quot;qad&quot;, &quot;bad&quot;, &quot;sad&quot;, null, &quot;had&quot;}));\r\n    \t\tCollections.sort(list, NULL_SAFE_COMPARATOR);\r\n    \t\t\r\n    \t\tSystem.out.println(list);\r\n    \t}\r\n    }","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>I was looking for something similar and this seemed a bit complicated so I did this.  I think it's a little easier to understand.  You can use it as a Comparator or as a one liner.  For this question you would change to compareToIgnoreCase().  As is, nulls float up.  You can flip the 1, -1 if you want them to sink.</p>\n\n<pre><code>StringUtil.NULL_SAFE_COMPARATOR.compare(getName(), o.getName());\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public class StringUtil {\n    public static final Comparator&lt;String&gt; NULL_SAFE_COMPARATOR = new Comparator&lt;String&gt;() {\n\n        @Override\n        public int compare(final String s1, final String s2) {\n            if (s1 == s2) {\n                //Nulls or exact equality\n                return 0;\n            } else if (s1 == null) {\n                //s1 null and s2 not null, so s1 less\n                return -1;\n            } else if (s2 == null) {\n                //s2 null and s1 not null, so s1 greater\n                return 1;\n            } else {\n                return s1.compareTo(s2);\n            }\n        }\n    }; \n\n    public static void main(String args[]) {\n        final ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(new String[]{\"qad\", \"bad\", \"sad\", null, \"had\"}));\n        Collections.sort(list, NULL_SAFE_COMPARATOR);\n\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2619310,"reputation":398,"user_id":2267713,"accept_rate":67,"display_name":"snp0k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439307564,"creation_date":1439307564,"answer_id":31946179,"question_id":481813,"body_markdown":"Another Apache ObjectUtils example. Able to sort other types of objects.\r\n\r\n    @Override\r\n    public int compare(Object o1, Object o2) {\r\n        String s1 = ObjectUtils.toString(o1);\r\n        String s2 = ObjectUtils.toString(o2);\r\n        return s1.toLowerCase().compareTo(s2.toLowerCase());\r\n    }","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>Another Apache ObjectUtils example. Able to sort other types of objects.</p>\n\n<pre><code>@Override\npublic int compare(Object o1, Object o2) {\n    String s1 = ObjectUtils.toString(o1);\n    String s2 = ObjectUtils.toString(o2);\n    return s1.toLowerCase().compareTo(s2.toLowerCase());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5104101,"reputation":566,"user_id":4092765,"display_name":"Bj&#246;rn Bergenheim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453206826,"creation_date":1453206826,"answer_id":34876954,"question_id":481813,"body_markdown":"In case anyone using Spring, there is a class org.springframework.util.comparator.NullSafeComparator&lt;T&gt; that does this for you as well. Just decorate your own comparable with it like this\r\n\r\n`new NullSafeComparator&lt;YourObject&gt;(new YourComparable(), true)`\r\n\r\nhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/comparator/NullSafeComparator.html","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>In case anyone using Spring, there is a class org.springframework.util.comparator.NullSafeComparator that does this for you as well. Just decorate your own comparable with it like this</p>\n\n<p><code>new NullSafeComparator&lt;YourObject&gt;(new YourComparable(), true)</code></p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/comparator/NullSafeComparator.html\" rel=\"nofollow\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/comparator/NullSafeComparator.html</a></p>\n"},{"tags":[],"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458067418,"creation_date":1458067418,"answer_id":36019562,"question_id":481813,"body_markdown":"This is my implementation that I use to sort my ArrayList. the null classes are sorted to the last.\r\n\r\nfor my case, EntityPhone extends EntityAbstract and my container is List &lt; EntityAbstract&gt;.\r\n\r\nthe &quot;compareIfNull()&quot; method is used for null safe sorting. The other methods are for completeness, showing how compareIfNull can be used.\r\n\r\n    @Nullable\r\n    private static Integer compareIfNull(EntityPhone ep1, EntityPhone ep2) {\r\n    \r\n        if (ep1 == null || ep2 == null) {\r\n            if (ep1 == ep2) {\r\n                return 0;\r\n            }\r\n            return ep1 == null ? -1 : 1;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private static final Comparator&lt;EntityAbstract&gt; AbsComparatorByName = = new Comparator&lt;EntityAbstract&gt;() {\r\n        @Override\r\n        public int compare(EntityAbstract ea1, EntityAbstract ea2) {\r\n    \r\n        //sort type Phone first.\r\n        EntityPhone ep1 = getEntityPhone(ea1);\r\n        EntityPhone ep2 = getEntityPhone(ea2);\r\n    \r\n        //null compare\r\n        Integer x = compareIfNull(ep1, ep2);\r\n        if (x != null) return x;\r\n    \r\n        String name1 = ep1.getName().toUpperCase();\r\n        String name2 = ep2.getName().toUpperCase();\r\n    \r\n        return name1.compareTo(name2);\r\n    }\r\n    }\r\n\r\n\r\n    private static EntityPhone getEntityPhone(EntityAbstract ea) { \r\n        return (ea != null &amp;&amp; ea.getClass() == EntityPhone.class) ?\r\n                (EntityPhone) ea : null;\r\n    }\r\n","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>This is my implementation that I use to sort my ArrayList. the null classes are sorted to the last.</p>\n\n<p>for my case, EntityPhone extends EntityAbstract and my container is List &lt; EntityAbstract>.</p>\n\n<p>the \"compareIfNull()\" method is used for null safe sorting. The other methods are for completeness, showing how compareIfNull can be used.</p>\n\n<pre><code>@Nullable\nprivate static Integer compareIfNull(EntityPhone ep1, EntityPhone ep2) {\n\n    if (ep1 == null || ep2 == null) {\n        if (ep1 == ep2) {\n            return 0;\n        }\n        return ep1 == null ? -1 : 1;\n    }\n    return null;\n}\n\nprivate static final Comparator&lt;EntityAbstract&gt; AbsComparatorByName = = new Comparator&lt;EntityAbstract&gt;() {\n    @Override\n    public int compare(EntityAbstract ea1, EntityAbstract ea2) {\n\n    //sort type Phone first.\n    EntityPhone ep1 = getEntityPhone(ea1);\n    EntityPhone ep2 = getEntityPhone(ea2);\n\n    //null compare\n    Integer x = compareIfNull(ep1, ep2);\n    if (x != null) return x;\n\n    String name1 = ep1.getName().toUpperCase();\n    String name2 = ep2.getName().toUpperCase();\n\n    return name1.compareTo(name2);\n}\n}\n\n\nprivate static EntityPhone getEntityPhone(EntityAbstract ea) { \n    return (ea != null &amp;&amp; ea.getClass() == EntityPhone.class) ?\n            (EntityPhone) ea : null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4995347,"reputation":21,"user_id":4016135,"display_name":"Leo Ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458325459,"creation_date":1458325459,"answer_id":36091695,"question_id":481813,"body_markdown":"we can use java 8 to do a null-friendly comparasion between object.\r\nsupposed i hava a Boy class with 2 fields: String name and Integer age and i want to first compare names and then ages if both are equal.\r\n\r\n    static void test2() {\r\n        List&lt;Boy&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Boy(&quot;Peter&quot;, null));\r\n        list.add(new Boy(&quot;Tom&quot;, 24));\r\n        list.add(new Boy(&quot;Peter&quot;, 20));\r\n        list.add(new Boy(&quot;Peter&quot;, 23));\r\n        list.add(new Boy(&quot;Peter&quot;, 18));\r\n        list.add(new Boy(null, 19));\r\n        list.add(new Boy(null, 12));\r\n        list.add(new Boy(null, 24));\r\n        list.add(new Boy(&quot;Peter&quot;, null));\r\n        list.add(new Boy(null, 21));\r\n        list.add(new Boy(&quot;John&quot;, 30));\r\n        \r\n        List&lt;Boy&gt; list2 = list.stream()\r\n                .sorted(comparing(Boy::getName, \r\n                            nullsLast(naturalOrder()))\r\n                       .thenComparing(Boy::getAge, \r\n                            nullsLast(naturalOrder())))\r\n                .collect(toList());\r\n        list2.stream().forEach(System.out::println);\r\n        \r\n    }\r\n    \r\n    private static class Boy {\r\n        private String name;\r\n        private Integer age;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public Integer getAge() {\r\n            return age;\r\n        }\r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n        public Boy(String name, Integer age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n        \r\n        public String toString() {\r\n            return &quot;name: &quot; + name + &quot; age: &quot; + age;\r\n        }\r\n    }\r\n\r\nand the result:\r\n\r\n        name: John age: 30\r\n        name: Peter age: 18\r\n        name: Peter age: 20\r\n        name: Peter age: 23\r\n        name: Peter age: null\r\n        name: Peter age: null\r\n        name: Tom age: 24\r\n        name: null age: 12\r\n        name: null age: 19\r\n        name: null age: 21\r\n        name: null age: 24","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>we can use java 8 to do a null-friendly comparasion between object.\nsupposed i hava a Boy class with 2 fields: String name and Integer age and i want to first compare names and then ages if both are equal.</p>\n\n<pre><code>static void test2() {\n    List&lt;Boy&gt; list = new ArrayList&lt;&gt;();\n    list.add(new Boy(\"Peter\", null));\n    list.add(new Boy(\"Tom\", 24));\n    list.add(new Boy(\"Peter\", 20));\n    list.add(new Boy(\"Peter\", 23));\n    list.add(new Boy(\"Peter\", 18));\n    list.add(new Boy(null, 19));\n    list.add(new Boy(null, 12));\n    list.add(new Boy(null, 24));\n    list.add(new Boy(\"Peter\", null));\n    list.add(new Boy(null, 21));\n    list.add(new Boy(\"John\", 30));\n\n    List&lt;Boy&gt; list2 = list.stream()\n            .sorted(comparing(Boy::getName, \n                        nullsLast(naturalOrder()))\n                   .thenComparing(Boy::getAge, \n                        nullsLast(naturalOrder())))\n            .collect(toList());\n    list2.stream().forEach(System.out::println);\n\n}\n\nprivate static class Boy {\n    private String name;\n    private Integer age;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public Integer getAge() {\n        return age;\n    }\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n    public Boy(String name, Integer age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String toString() {\n        return \"name: \" + name + \" age: \" + age;\n    }\n}\n</code></pre>\n\n<p>and the result:</p>\n\n<pre><code>    name: John age: 30\n    name: Peter age: 18\n    name: Peter age: 20\n    name: Peter age: 23\n    name: Peter age: null\n    name: Peter age: null\n    name: Tom age: 24\n    name: null age: 12\n    name: null age: 19\n    name: null age: 21\n    name: null age: 24\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468293040,"creation_date":1468291255,"answer_id":38319186,"question_id":481813,"body_markdown":"For the specific case where you know the data will not have nulls (always a good idea for strings) and the data is really large, you are still doing three comparisons before actually comparing the values, *if you know for sure this is your case*, you can optimize a tad bit. YMMV as readable code trumps minor optimization:\r\n\r\n            if(o1.name != null &amp;&amp; o2.name != null){\r\n\t\t\t\treturn o1.name.compareToIgnoreCase(o2.name);\r\n\t\t\t}\r\n            // at least one is null\r\n\t\t\treturn (o1.name == o2.name) ? 0 : (o1.name != null ? 1 : -1);\r\n","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>For the specific case where you know the data will not have nulls (always a good idea for strings) and the data is really large, you are still doing three comparisons before actually comparing the values, <em>if you know for sure this is your case</em>, you can optimize a tad bit. YMMV as readable code trumps minor optimization:</p>\n\n<pre><code>        if(o1.name != null &amp;&amp; o2.name != null){\n            return o1.name.compareToIgnoreCase(o2.name);\n        }\n        // at least one is null\n        return (o1.name == o2.name) ? 0 : (o1.name != null ? 1 : -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145824,"reputation":1089,"user_id":1903453,"display_name":"Nikhil Kumar K"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487004486,"creation_date":1487004486,"answer_id":42209250,"question_id":481813,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Comparator;\r\n    \r\n    public class TestClass {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tStudent s1 = new Student(&quot;1&quot;,&quot;Nikhil&quot;);\r\n    \t\tStudent s2 = new Student(&quot;1&quot;,&quot;*&quot;);\r\n    \t\tStudent s3 = new Student(&quot;1&quot;,null);\r\n    \t\tStudent s11 = new Student(&quot;2&quot;,&quot;Nikhil&quot;);\r\n    \t\tStudent s12 = new Student(&quot;2&quot;,&quot;*&quot;);\r\n    \t\tStudent s13 = new Student(&quot;2&quot;,null);\r\n    \t\tList&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\r\n    \t\tlist.add(s1);\r\n    \t\tlist.add(s2);\r\n    \t\tlist.add(s3);\r\n    \t\tlist.add(s11);\r\n    \t\tlist.add(s12);\r\n    \t\tlist.add(s13);\r\n    \t\t\r\n    \t\tlist.sort(Comparator.comparing(Student::getName,Comparator.nullsLast(Comparator.naturalOrder())));\r\n    \t\t\r\n    \t\tfor (Iterator iterator = list.iterator(); iterator.hasNext();) {\r\n    \t\t\tStudent student = (Student) iterator.next();\r\n    \t\t\tSystem.out.println(student);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\noutput is \r\n\r\n    Student [name=*, id=1]\r\n    Student [name=*, id=2]\r\n    Student [name=Nikhil, id=1]\r\n    Student [name=Nikhil, id=2]\r\n    Student [name=null, id=1]\r\n    Student [name=null, id=2]\r\n\r\n\r\n","title":"How to simplify a null-safe compareTo() implementation?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Comparator;\n\npublic class TestClass {\n\n    public static void main(String[] args) {\n\n        Student s1 = new Student(\"1\",\"Nikhil\");\n        Student s2 = new Student(\"1\",\"*\");\n        Student s3 = new Student(\"1\",null);\n        Student s11 = new Student(\"2\",\"Nikhil\");\n        Student s12 = new Student(\"2\",\"*\");\n        Student s13 = new Student(\"2\",null);\n        List&lt;Student&gt; list = new ArrayList&lt;Student&gt;();\n        list.add(s1);\n        list.add(s2);\n        list.add(s3);\n        list.add(s11);\n        list.add(s12);\n        list.add(s13);\n\n        list.sort(Comparator.comparing(Student::getName,Comparator.nullsLast(Comparator.naturalOrder())));\n\n        for (Iterator iterator = list.iterator(); iterator.hasNext();) {\n            Student student = (Student) iterator.next();\n            System.out.println(student);\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>Student [name=*, id=1]\nStudent [name=*, id=2]\nStudent [name=Nikhil, id=1]\nStudent [name=Nikhil, id=2]\nStudent [name=null, id=1]\nStudent [name=null, id=2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403455,"reputation":3784,"user_id":771226,"accept_rate":65,"display_name":"Amandeep Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552071648,"creation_date":1552071648,"answer_id":55069416,"question_id":481813,"body_markdown":"One of the simple way of [using NullSafe Comparator][1] is to use Spring implementation of it, below is one of the simple example to refer :  \r\n\r\n    public int compare(Object o1, Object o2) {\r\n    \t\tValidationMessage m1 = (ValidationMessage) o1;\r\n    \t\tValidationMessage m2 = (ValidationMessage) o2;\r\n    \t\tint c;\r\n    \t\tif (m1.getTimestamp() == m2.getTimestamp()) {\r\n    \t\t\tc = NullSafeComparator.NULLS_HIGH.compare(m1.getProperty(), m2.getProperty());\r\n    \t\t\tif (c == 0) {\r\n    \t\t\t\tc = m1.getSeverity().compareTo(m2.getSeverity());\r\n    \t\t\t\tif (c == 0) {\r\n    \t\t\t\t\tc = m1.getMessage().compareTo(m2.getMessage());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tc = (m1.getTimestamp() &gt; m2.getTimestamp()) ? -1 : 1;\r\n    \t\t}\r\n    \t\treturn c;\r\n    \t}\r\n\r\n\r\n  [1]: https://zgrepcode.com/examples/spring-framework/org/springframework/util/comparator/nullsafecomparator-implementations\r\n","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>One of the simple way of <a href=\"https://zgrepcode.com/examples/spring-framework/org/springframework/util/comparator/nullsafecomparator-implementations\" rel=\"nofollow noreferrer\">using NullSafe Comparator</a> is to use Spring implementation of it, below is one of the simple example to refer :  </p>\n\n<pre><code>public int compare(Object o1, Object o2) {\n        ValidationMessage m1 = (ValidationMessage) o1;\n        ValidationMessage m2 = (ValidationMessage) o2;\n        int c;\n        if (m1.getTimestamp() == m2.getTimestamp()) {\n            c = NullSafeComparator.NULLS_HIGH.compare(m1.getProperty(), m2.getProperty());\n            if (c == 0) {\n                c = m1.getSeverity().compareTo(m2.getSeverity());\n                if (c == 0) {\n                    c = m1.getMessage().compareTo(m2.getMessage());\n                }\n            }\n        }\n        else {\n            c = (m1.getTimestamp() &gt; m2.getTimestamp()) ? -1 : 1;\n        }\n        return c;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1666790504,"post_id":60788402,"comment_id":131018994,"body_markdown":"Modifying the objects while comparing them is a pretty bad hack imo. You never know what the rest of the system does with those values","body":"Modifying the objects while comparing them is a pretty bad hack imo. You never know what the rest of the system does with those values"}],"tags":[],"owner":{"account_id":1588673,"reputation":1792,"user_id":1472483,"accept_rate":69,"display_name":"MarsPeople"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1584797503,"creation_date":1584797503,"answer_id":60788402,"question_id":481813,"body_markdown":"If you want a simple Hack:\r\n\r\n    arrlist.sort((o1, o2) -&gt; {\r\n        if (o1.getName() == null) o1.setName(&quot;&quot;);\r\n        if (o2.getName() == null) o2.setName(&quot;&quot;);\r\n\r\n        return o1.getName().compareTo(o2.getName());\r\n    })\r\n\r\nif you want put nulls to end of the list just change this in above metod\r\n\r\n    return o2.getName().compareTo(o1.getName());","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>If you want a simple Hack:</p>\n\n<pre><code>arrlist.sort((o1, o2) -&gt; {\n    if (o1.getName() == null) o1.setName(\"\");\n    if (o2.getName() == null) o2.setName(\"\");\n\n    return o1.getName().compareTo(o2.getName());\n})\n</code></pre>\n\n<p>if you want put nulls to end of the list just change this in above metod</p>\n\n<pre><code>return o2.getName().compareTo(o1.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1684739,"reputation":640,"user_id":1548249,"display_name":"lars"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668791882,"creation_date":1668791882,"answer_id":74493238,"question_id":481813,"body_markdown":"A generic utility class which can handle the null aspect and be used in a custom `compareTo` method implementation may look like this:\r\n\r\n```java\r\n/**\r\n * Generic utility class for null-safe comparison.\r\n */\r\npublic class Comparing\r\n{\r\n    /**\r\n     * Compares two objects for order. Returns a negative integer, zero, or a\r\n     * positive integer if the first object is less than, equal to, or greater\r\n     * than the second object. Any of the objects can be null. A null value is\r\n     * considered to be less than a non-null value.\r\n     * \r\n     * @param &lt;T&gt;\r\n     * @param a the first object.\r\n     * @param b the second object.\r\n     * @return an integer value.\r\n     */\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int compareTo( T a, T b )\r\n    {\r\n        if ( a == b )\r\n        {\r\n            return 0;\r\n        }\r\n\r\n        return a != null ? b != null ? a.compareTo( b ) : 1 : -1;\r\n    }\r\n}\r\n```\r\n","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>A generic utility class which can handle the null aspect and be used in a custom <code>compareTo</code> method implementation may look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Generic utility class for null-safe comparison.\n */\npublic class Comparing\n{\n    /**\n     * Compares two objects for order. Returns a negative integer, zero, or a\n     * positive integer if the first object is less than, equal to, or greater\n     * than the second object. Any of the objects can be null. A null value is\n     * considered to be less than a non-null value.\n     * \n     * @param &lt;T&gt;\n     * @param a the first object.\n     * @param b the second object.\n     * @return an integer value.\n     */\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int compareTo( T a, T b )\n    {\n        if ( a == b )\n        {\n            return 0;\n        }\n\n        return a != null ? b != null ? a.compareTo( b ) : 1 : -1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213090,"favorite_count":0,"down_vote_count":0,"up_vote_count":195,"accepted_answer_id":23908426,"answer_count":18,"score":195,"last_activity_date":1668791882,"creation_date":1233012314,"question_id":481813,"body_markdown":"I&#39;m implementing `compareTo()` method for a simple class such as this (to be able to use `Collections.sort()` and other goodies offered by the Java platform):\r\n\r\n    public class Metadata implements Comparable&lt;Metadata&gt; {\r\n        private String name;\r\n        private String value;\r\n    \r\n    // Imagine basic constructor and accessors here\r\n    // Irrelevant parts omitted\r\n    }\r\n\r\nI want the *natural ordering* for these objects to be: 1) sorted by name and 2) sorted by value if name is the same; both comparisons should be case-insensitive. For both fields null values are perfectly acceptable, so `compareTo` must not break in these cases. \r\n\r\nThe solution that springs to mind is along the lines of the following (I&#39;m using &quot;guard clauses&quot; here while others might prefer a single return point, but that&#39;s beside the point):\r\n\r\n    // primarily by name, secondarily by value; null-safe; case-insensitive\r\n    public int compareTo(Metadata other) {\r\n        if (this.name == null &amp;&amp; other.name != null){\r\n            return -1;\r\n        }\r\n        else if (this.name != null &amp;&amp; other.name == null){\r\n            return 1;\r\n        }\r\n        else if (this.name != null &amp;&amp; other.name != null) {\r\n            int result = this.name.compareToIgnoreCase(other.name);\r\n            if (result != 0){\r\n                return result;\r\n            }\r\n        }\r\n\r\n        if (this.value == null) {\r\n            return other.value == null ? 0 : -1;\r\n        }\r\n        if (other.value == null){\r\n            return 1;\r\n        }\r\n    \r\n        return this.value.compareToIgnoreCase(other.value);\r\n    }\r\n\r\nThis does the job, but I&#39;m not perfectly happy with this code. Admittedly it isn&#39;t *very* complex, but is quite verbose and tedious.\r\n\r\nThe question is, **how would you make this less verbose** (while retaining the functionality)? Feel free to refer to Java standard libraries or Apache Commons if they help. Would the only option to make this (a little) simpler be to implement my own &quot;NullSafeStringComparator&quot;, and apply it for comparing both fields?\r\n\r\n**Edits 1-3**: Eddie&#39;s right; fixed the &quot;both names are null&quot; case above\r\n\r\n## About the accepted answer \r\n\r\nI asked this question back in 2009, on Java 1.6 of course, and at the time **[the pure JDK solution by Eddie][1]** was my preferred accepted answer. I never got round to changing that until now (2017).\r\n\r\nThere are also [3rd party library solutions][2]—a 2009 Apache Commons Collections one and a 2013 Guava one, both posted by me—that I did prefer at some point in time.\r\n\r\nI now made the clean **[Java 8 solution by Lukasz Wiktor](https://stackoverflow.com/a/23908426/56285)** the accepted answer. That should definitely be preferred if on Java 8, and these days Java 8 should be available to nearly all projects.\r\n\r\n  [1]: https://stackoverflow.com/a/481836/56285\r\n  [2]: https://stackoverflow.com/a/500643/56285","title":"How to simplify a null-safe compareTo() implementation?","body":"<p>I'm implementing <code>compareTo()</code> method for a simple class such as this (to be able to use <code>Collections.sort()</code> and other goodies offered by the Java platform):</p>\n\n<pre><code>public class Metadata implements Comparable&lt;Metadata&gt; {\n    private String name;\n    private String value;\n\n// Imagine basic constructor and accessors here\n// Irrelevant parts omitted\n}\n</code></pre>\n\n<p>I want the <em>natural ordering</em> for these objects to be: 1) sorted by name and 2) sorted by value if name is the same; both comparisons should be case-insensitive. For both fields null values are perfectly acceptable, so <code>compareTo</code> must not break in these cases. </p>\n\n<p>The solution that springs to mind is along the lines of the following (I'm using \"guard clauses\" here while others might prefer a single return point, but that's beside the point):</p>\n\n<pre><code>// primarily by name, secondarily by value; null-safe; case-insensitive\npublic int compareTo(Metadata other) {\n    if (this.name == null &amp;&amp; other.name != null){\n        return -1;\n    }\n    else if (this.name != null &amp;&amp; other.name == null){\n        return 1;\n    }\n    else if (this.name != null &amp;&amp; other.name != null) {\n        int result = this.name.compareToIgnoreCase(other.name);\n        if (result != 0){\n            return result;\n        }\n    }\n\n    if (this.value == null) {\n        return other.value == null ? 0 : -1;\n    }\n    if (other.value == null){\n        return 1;\n    }\n\n    return this.value.compareToIgnoreCase(other.value);\n}\n</code></pre>\n\n<p>This does the job, but I'm not perfectly happy with this code. Admittedly it isn't <em>very</em> complex, but is quite verbose and tedious.</p>\n\n<p>The question is, <strong>how would you make this less verbose</strong> (while retaining the functionality)? Feel free to refer to Java standard libraries or Apache Commons if they help. Would the only option to make this (a little) simpler be to implement my own \"NullSafeStringComparator\", and apply it for comparing both fields?</p>\n\n<p><strong>Edits 1-3</strong>: Eddie's right; fixed the \"both names are null\" case above</p>\n\n<h2>About the accepted answer</h2>\n\n<p>I asked this question back in 2009, on Java 1.6 of course, and at the time <strong><a href=\"https://stackoverflow.com/a/481836/56285\">the pure JDK solution by Eddie</a></strong> was my preferred accepted answer. I never got round to changing that until now (2017).</p>\n\n<p>There are also <a href=\"https://stackoverflow.com/a/500643/56285\">3rd party library solutions</a>—a 2009 Apache Commons Collections one and a 2013 Guava one, both posted by me—that I did prefer at some point in time.</p>\n\n<p>I now made the clean <strong><a href=\"https://stackoverflow.com/a/23908426/56285\">Java 8 solution by Lukasz Wiktor</a></strong> the accepted answer. That should definitely be preferred if on Java 8, and these days Java 8 should be available to nearly all projects.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1575869683,"post_id":59242922,"comment_id":104696799,"body_markdown":"Can you try changing `testRuntime` → `testRuntimeOnly` and `testCompile` → `testCompileOnly` and see if that solves anything?","body":"Can you try changing <code>testRuntime</code> → <code>testRuntimeOnly</code> and <code>testCompile</code> → <code>testCompileOnly</code> and see if that solves anything?"},{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1575871370,"post_id":59242922,"comment_id":104697202,"body_markdown":"What do you mean by &quot;it doesn&#39;t execute any tests&quot;? What output do you get? Do you get any errors?","body":"What do you mean by &quot;it doesn&#39;t execute any tests&quot;? What output do you get? Do you get any errors?"}],"answers":[{"tags":[],"owner":{"account_id":18269043,"reputation":11,"user_id":13300168,"display_name":"RajaSJN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668791776,"creation_date":1668791776,"answer_id":74493226,"question_id":59242922,"body_markdown":"testCompile is no longer a suppored command, you should use testImplementation instead. ","title":"Gradle tests not running with javafx project","body":"<p>testCompile is no longer a suppored command, you should use testImplementation instead.</p>\n"}],"owner":{"account_id":15419590,"reputation":63,"user_id":11123978,"display_name":"Arnaiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668791776,"creation_date":1575868781,"question_id":59242922,"body_markdown":"build.gradle:\r\n```\r\n  plugins {\r\n      id &#39;java&#39;\r\n      id &#39;application&#39;\r\n      id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.8&#39;\r\n  }\r\n  \r\n  mainClassName = &#39;mvc.Main&#39;\r\n  \r\n  repositories {\r\n      mavenCentral()\r\n  }\r\n  \r\n  dependencies {\r\n      testImplementation(&#39;org.junit.jupiter:junit-jupiter-api:5.6.0-M1&#39;)\r\n      testRuntime(&#39;org.junit.jupiter:junit-jupiter-engine:5.6.0-M1&#39;)\r\n      testCompile(&#39;org.mockito:mockito-core:3.1.0&#39;)\r\n      testCompile(&#39;com.athaydes.automaton:Automaton:1.3.2&#39;)\r\n      testCompile(&quot;org.testfx:testfx-core:4.0.16-alpha&quot;)\r\n      testCompile(&quot;org.testfx:testfx-junit:4.0.15-alpha&quot;)\r\n      testImplementation(&#39;org.hamcrest:hamcrest:2.2&#39;)\r\n      implementation &#39;com.github.cliftonlabs:json-simple:3.1.0&#39;\r\n  }\r\n  \r\n  applicationDefaultJvmArgs = [ &quot;-Djdk.gtk.version=2&quot;]\r\n  \r\n  sourceCompatibility = 11\r\n  targetCompatibility = 11\r\n  \r\n  test {\r\n      useJUnitPlatform()\r\n  \r\n      dependsOn &#39;cleanTest&#39;\r\n  \r\n      testLogging {\r\n          events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n      }   \r\n  }\r\n  \r\n  javafx {\r\n      modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n      version = &#39;11.0.2&#39;\r\n  }     \r\n```\r\n\r\nMy project structure is the usual:\r\n\r\nsrc/main/java/mvc/Main.java\r\n\r\nsrc/test/java/mvc/MainTest.java\r\n\r\nWhen I run gradle test or ./gradlew test tests it doesn&#39;t execute any tests, not sure what&#39;s wrong.","title":"Gradle tests not running with javafx project","body":"<p>build.gradle:</p>\n\n<pre><code>  plugins {\n      id 'java'\n      id 'application'\n      id 'org.openjfx.javafxplugin' version '0.0.8'\n  }\n\n  mainClassName = 'mvc.Main'\n\n  repositories {\n      mavenCentral()\n  }\n\n  dependencies {\n      testImplementation('org.junit.jupiter:junit-jupiter-api:5.6.0-M1')\n      testRuntime('org.junit.jupiter:junit-jupiter-engine:5.6.0-M1')\n      testCompile('org.mockito:mockito-core:3.1.0')\n      testCompile('com.athaydes.automaton:Automaton:1.3.2')\n      testCompile(\"org.testfx:testfx-core:4.0.16-alpha\")\n      testCompile(\"org.testfx:testfx-junit:4.0.15-alpha\")\n      testImplementation('org.hamcrest:hamcrest:2.2')\n      implementation 'com.github.cliftonlabs:json-simple:3.1.0'\n  }\n\n  applicationDefaultJvmArgs = [ \"-Djdk.gtk.version=2\"]\n\n  sourceCompatibility = 11\n  targetCompatibility = 11\n\n  test {\n      useJUnitPlatform()\n\n      dependsOn 'cleanTest'\n\n      testLogging {\n          events \"passed\", \"skipped\", \"failed\"\n      }   \n  }\n\n  javafx {\n      modules = ['javafx.controls', 'javafx.fxml']\n      version = '11.0.2'\n  }     \n</code></pre>\n\n<p>My project structure is the usual:</p>\n\n<p>src/main/java/mvc/Main.java</p>\n\n<p>src/test/java/mvc/MainTest.java</p>\n\n<p>When I run gradle test or ./gradlew test tests it doesn't execute any tests, not sure what's wrong.</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668790508,"post_id":74492944,"comment_id":131499659,"body_markdown":"A `Date` itself doesn&#39;t have a format (other than a default format implemented in its `toString()` method, which use your default timezone). If you want a different format, you also need to use a formatter to *format* the date you want. As an aside, please stop using the legacy classes like `java.util.Date`, and switch to the better designed classes in `java.time`.","body":"A <code>Date</code> itself doesn&#39;t have a format (other than a default format implemented in its <code>toString()</code> method, which use your default timezone). If you want a different format, you also need to use a formatter to <i>format</i> the date you want. As an aside, please stop using the legacy classes like <code>java.util.Date</code>, and switch to the better designed classes in <code>java.time</code>."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1668790600,"post_id":74492944,"comment_id":131499680,"body_markdown":"Your input is a _date_ not a date and a time. A date has no timezone. Why do you think `20221117` should mean nine o&#39;clock in the evening on November 17?","body":"Your input is a <i>date</i> not a date and a time. A date has no timezone. Why do you think <code>20221117</code> should mean nine o&#39;clock in the evening on November 17?"},{"owner":{"account_id":22191801,"reputation":53,"user_id":16443437,"display_name":"Gustavo Silva Costa"},"score":0,"creation_date":1668791057,"post_id":74492944,"comment_id":131499821,"body_markdown":"@ThomasBehr I&#39;ve in my database this data &quot;2022-11-19T02:00:00.000+00:00&quot; and it is considering the same as this &quot;2022-11-18T23:59:00.000-03:00&quot;,","body":"@ThomasBehr I&#39;ve in my database this data &quot;2022-11-19T02:00:00.000+00:00&quot; and it is considering the same as this &quot;2022-11-18T23:59:00.000-03:00&quot;,"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1668792156,"post_id":74492944,"comment_id":131500214,"body_markdown":"@GustavoSilvaCosta Ok, my question was meant to point you towards the fact that you specified your date format as `yyyyMMdd` which means there is information about the day, the month, and the year, but not about the time of the day. Of course, it does not work if your input data does not match the parse format.\n\nAnyways, follow the advice given by MarkRotteveel and ArvindKumarAvinash: Use java.time.","body":"@GustavoSilvaCosta Ok, my question was meant to point you towards the fact that you specified your date format as <code>yyyyMMdd</code> which means there is information about the day, the month, and the year, but not about the time of the day. Of course, it does not work if your input data does not match the parse format.  Anyways, follow the advice given by MarkRotteveel and ArvindKumarAvinash: Use java.time."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668799720,"post_id":74492944,"comment_id":131502294,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668802736,"post_id":74492944,"comment_id":131503029,"body_markdown":"I cannot reproduce. I can get for example `Fri Nov 18 00:00:00 GMT-03:00 2022`, but I can’t get 21:00:00 from the code you have shown. There must be something else going on that you haven’t posted yet. Please, if we’re to help, give us a [mre].","body":"I cannot reproduce. I can get for example <code>Fri Nov 18 00:00:00 GMT-03:00 2022</code>, but I can’t get 21:00:00 from the code you have shown. There must be something else going on that you haven’t posted yet. Please, if we’re to help, give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668791576,"creation_date":1668791576,"answer_id":74493196,"question_id":74492944,"body_markdown":"A few important points:\r\n\r\n 1. Thu Nov 17 21:00:00 GMT-03:00 2022 is not equal to Thu Nov 17 21:00:00 GMT-00:00 2022. The date-time of Thu Nov 17 21:00:00 GMT-03:00 2022 is equal to the date-time of Fri Nov 18 00:00:00 GMT+00:00 2022 which you can obtain by adding 3 hours to Thu Nov 17 21:00:00 GMT-03:00 2022.\r\n 2. Your time-zone has an offset of -03:00 and therefore the `java.util.Date` object is being displayed with the default time-zone offset. Note that `java.util.Date` does not represent a real date-time, rather, it gives you the number of milliseconds from the Epoch and then the `Date#toString` implementation applies the system&#39;s time-zone to render the string.\r\n 3. The ***java.util*** date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n\r\n**Demo with java.time API**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \r\n            public static void main(String[] args) {\r\n                    String data = &quot;20221118&quot;;\r\n                    LocalDate date = LocalDate.parse(data, DateTimeFormatter.BASIC_ISO_DATE);\r\n    \r\n                    ZonedDateTime zdt1 = date.atStartOfDay(ZoneOffset.UTC);\r\n                    ZonedDateTime zdt2 = zdt1.withZoneSameInstant(ZoneOffset.of(&quot;-03:00&quot;));\r\n    \r\n                    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss &#39;GMT&#39;xxx uuuu&quot;,\r\n                                    Locale.ENGLISH);\r\n                    System.out.println(formatter.format(zdt2));\r\n                    System.out.println(formatter.format(zdt1));\r\n            }\r\n    }\r\n\r\n**Output**:\r\n\r\n    Thu Nov 17 21:00:00 GMT-03:00 2022\r\n    Fri Nov 18 00:00:00 GMT+00:00 2022\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Java formatting GMT Date","body":"<p>A few important points:</p>\n<ol>\n<li>Thu Nov 17 21:00:00 GMT-03:00 2022 is not equal to Thu Nov 17 21:00:00 GMT-00:00 2022. The date-time of Thu Nov 17 21:00:00 GMT-03:00 2022 is equal to the date-time of Fri Nov 18 00:00:00 GMT+00:00 2022 which you can obtain by adding 3 hours to Thu Nov 17 21:00:00 GMT-03:00 2022.</li>\n<li>Your time-zone has an offset of -03:00 and therefore the <code>java.util.Date</code> object is being displayed with the default time-zone offset. Note that <code>java.util.Date</code> does not represent a real date-time, rather, it gives you the number of milliseconds from the Epoch and then the <code>Date#toString</code> implementation applies the system's time-zone to render the string.</li>\n<li>The <em><strong>java.util</strong></em> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"noreferrer\">modern date-time API</a>.</li>\n</ol>\n<p><strong>Demo with java.time API</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n\n        public static void main(String[] args) {\n                String data = &quot;20221118&quot;;\n                LocalDate date = LocalDate.parse(data, DateTimeFormatter.BASIC_ISO_DATE);\n\n                ZonedDateTime zdt1 = date.atStartOfDay(ZoneOffset.UTC);\n                ZonedDateTime zdt2 = zdt1.withZoneSameInstant(ZoneOffset.of(&quot;-03:00&quot;));\n\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss 'GMT'xxx uuuu&quot;,\n                                Locale.ENGLISH);\n                System.out.println(formatter.format(zdt2));\n                System.out.println(formatter.format(zdt1));\n        }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Thu Nov 17 21:00:00 GMT-03:00 2022\nFri Nov 18 00:00:00 GMT+00:00 2022\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":22191801,"reputation":53,"user_id":16443437,"display_name":"Gustavo Silva Costa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":74493196,"answer_count":1,"score":0,"last_activity_date":1668791576,"creation_date":1668790295,"question_id":74492944,"body_markdown":"I&#39;m not finding a way to do edit GMT Date\r\n\r\nI receive &quot;params.date&quot; one string in this format &quot;yyyyMMdd&quot;, so this is my flow:\r\n\r\n    Date date = new SimpleDateFormat(&#39;yyyyMMdd&#39;).parse(params.data)\r\n    System.out.println(sdf.parse(params.data))\r\n\r\noutput: \r\n\r\n    Thu Nov 17 21:00:00 GMT-03:00 2022\r\n\r\nAnd I need it:\r\n\r\n    Thu Nov 17 21:00:00 GMT-00:00 2022\r\n\r\n\r\nCan someone help me?\r\n","title":"Java formatting GMT Date","body":"<p>I'm not finding a way to do edit GMT Date</p>\n<p>I receive &quot;params.date&quot; one string in this format &quot;yyyyMMdd&quot;, so this is my flow:</p>\n<pre><code>Date date = new SimpleDateFormat('yyyyMMdd').parse(params.data)\nSystem.out.println(sdf.parse(params.data))\n</code></pre>\n<p>output:</p>\n<pre><code>Thu Nov 17 21:00:00 GMT-03:00 2022\n</code></pre>\n<p>And I need it:</p>\n<pre><code>Thu Nov 17 21:00:00 GMT-00:00 2022\n</code></pre>\n<p>Can someone help me?</p>\n"},{"tags":["java","java-stream","guava","collectors"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666030768,"post_id":74098546,"comment_id":130834228,"body_markdown":"Also, you can pass an existing map to [`Map.copyOf`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map))","body":"Also, you can pass an existing map to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Map.copyOf</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668791530,"creation_date":1666015791,"answer_id":74098627,"question_id":74098546,"body_markdown":"# Guava\r\n\r\nIf you need Guava&#39;s `ImmutableMap`, you can make use of the `Collector` returned by [`ImmutableMap.toImmutableMap()`](https://guava.dev/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#toImmutableMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-) available since Guava&#39;s version `21.0`.\r\n\r\n***Note:*** the minimum JDK version required by the Guava 21.0 release is **Java 8** ([see](https://github.com/google/guava/wiki/Release21#user-content-java-8)), hence below is a valid Java 8 compliant solution.\r\n\r\n    public Map&lt;String, String&gt; getMap() {\r\n        \r\n        return listOfKeys.stream()\r\n            .collect(ImmutableMap.toImmutableMap(\r\n                Function.identity(),               // keyMapper - generating keys\r\n                str -&gt; mapA.getOrDefault(str, &quot;&quot;), // valueMapper - generating values\r\n                (left, right) -&gt; left              // mergeFunction - resolving duplicates\r\n            ));\r\n    }\r\n\r\nIn case if you&#39;re using Guava&#39;s version earlier than `21.0`, then you can generate the resulting map using standard JDK collector [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)) and wrap it with an `ImmutableMap` by the means of [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)).\r\n\r\nThis approach would be cleaner, cramming the stream as an argument of the `copyOf()` method as suggested in another answer:\r\n\r\n```\r\npublic Map&lt;String, String&gt; getMap() {\r\n    \r\n    return istOfKeys.stream()\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.toMap(\r\n                Function.identity(),               // keyMapper - generating keys\r\n                str -&gt; mapA.getOrDefault(str, &quot;&quot;), // valueMapper - generating values\r\n                (left, right) -&gt; right),           // mergeFunction - resolving duplicates\r\n            ImmutableMap::copyOf\r\n        ));\r\n}\r\n```\r\n\r\n**Note:**\r\n\r\n* If all elements contained in `listOfKeys` are guaranteed to be unique, then you can remove `mergeFunction` (*the third argument of the collector*).\r\n\r\n* I&#39;ve replaced `Objects.requireNonNullElse()` with `Map.getOrDefault()` which would guard against the cases when a *key* is not present in the `mapA`. If you also want you protect against situations when the *value* associated with the *key* is `null`, then replace it with `requireNonNullElse()`. But you need to be aware that it&#39;s a sign of a faulty design if `null` values are being stored in the map because they have some special meaning in your business logic (and therefore you can&#39;t get rid of them).\r\n\r\n# Standard JDK\r\n\r\nOtherwise, you can use collector [`Collectors.toUnmodifiableMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toUnmodifiableMap(java.util.function.Function,java.util.function.Function))\r\n\r\nIt internally uses a combination of collectors `toMap()`, accumulates stream data into a map, and `collectingAndThen()`) which performs the final transformation into a so-called [*unmodifiable map*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable) created via `Map.ofEntries()`.\r\n\r\n    public Map&lt;String, String&gt; getMap() {\r\n    \r\n        return listOfKeys.stream()\r\n            .collect(Collectors.toUnmodifiableMap(\r\n                Function.identity(),               // keyMapper - generating keys\r\n                str -&gt; mapA.getOrDefault(str, &quot;&quot;), // valueMapper - generating values\r\n                (left, right) -&gt; left              // mergeFunction - resolving duplicates\r\n            ));\r\n    }","title":"Create an ImmutableMap using Java 8","body":"<h1>Guava</h1>\n<p>If you need Guava's <code>ImmutableMap</code>, you can make use of the <code>Collector</code> returned by <a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#toImmutableMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>ImmutableMap.toImmutableMap()</code></a> available since Guava's version <code>21.0</code>.</p>\n<p><em><strong>Note:</strong></em> the minimum JDK version required by the Guava 21.0 release is <strong>Java 8</strong> (<a href=\"https://github.com/google/guava/wiki/Release21#user-content-java-8\" rel=\"nofollow noreferrer\">see</a>), hence below is a valid Java 8 compliant solution.</p>\n<pre><code>public Map&lt;String, String&gt; getMap() {\n    \n    return listOfKeys.stream()\n        .collect(ImmutableMap.toImmutableMap(\n            Function.identity(),               // keyMapper - generating keys\n            str -&gt; mapA.getOrDefault(str, &quot;&quot;), // valueMapper - generating values\n            (left, right) -&gt; left              // mergeFunction - resolving duplicates\n        ));\n}\n</code></pre>\n<p>In case if you're using Guava's version earlier than <code>21.0</code>, then you can generate the resulting map using standard JDK collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> and wrap it with an <code>ImmutableMap</code> by the means of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a>.</p>\n<p>This approach would be cleaner, cramming the stream as an argument of the <code>copyOf()</code> method as suggested in another answer:</p>\n<pre><code>public Map&lt;String, String&gt; getMap() {\n    \n    return istOfKeys.stream()\n        .collect(Collectors.collectingAndThen(\n            Collectors.toMap(\n                Function.identity(),               // keyMapper - generating keys\n                str -&gt; mapA.getOrDefault(str, &quot;&quot;), // valueMapper - generating values\n                (left, right) -&gt; right),           // mergeFunction - resolving duplicates\n            ImmutableMap::copyOf\n        ));\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li><p>If all elements contained in <code>listOfKeys</code> are guaranteed to be unique, then you can remove <code>mergeFunction</code> (<em>the third argument of the collector</em>).</p>\n</li>\n<li><p>I've replaced <code>Objects.requireNonNullElse()</code> with <code>Map.getOrDefault()</code> which would guard against the cases when a <em>key</em> is not present in the <code>mapA</code>. If you also want you protect against situations when the <em>value</em> associated with the <em>key</em> is <code>null</code>, then replace it with <code>requireNonNullElse()</code>. But you need to be aware that it's a sign of a faulty design if <code>null</code> values are being stored in the map because they have some special meaning in your business logic (and therefore you can't get rid of them).</p>\n</li>\n</ul>\n<h1>Standard JDK</h1>\n<p>Otherwise, you can use collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toUnmodifiableMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Collectors.toUnmodifiableMap()</code></a></p>\n<p>It internally uses a combination of collectors <code>toMap()</code>, accumulates stream data into a map, and <code>collectingAndThen()</code>) which performs the final transformation into a so-called <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\"><em>unmodifiable map</em></a> created via <code>Map.ofEntries()</code>.</p>\n<pre><code>public Map&lt;String, String&gt; getMap() {\n\n    return listOfKeys.stream()\n        .collect(Collectors.toUnmodifiableMap(\n            Function.identity(),               // keyMapper - generating keys\n            str -&gt; mapA.getOrDefault(str, &quot;&quot;), // valueMapper - generating values\n            (left, right) -&gt; left              // mergeFunction - resolving duplicates\n        ));\n}\n</code></pre>\n"}],"owner":{"account_id":14262930,"reputation":231,"user_id":10522989,"display_name":"Andrei Gabor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1668791548,"creation_date":1666015441,"question_id":74098546,"body_markdown":"How can the following method be written using Java Stream API?\r\n\r\n    public Map&lt;String, String&gt; getMap() {\r\n        Map&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\r\n        \r\n        for (String parameterKey : listOfKeys) {\r\n            String parameterValue = mapA.get(parameterKey);\r\n            \r\n            mapB.put(parameterKey, Objects.requireNonNullElse(parameterValue, &quot;&quot;));\r\n        }\r\n        return ImmutableMap.copyOf(mapB);\r\n    }\r\n\r\nI tried something like this:\r\n```\r\nreturn listOfKeys.stream()\r\n\t.map(firstMap::get)\r\n\t.collect( ? )\r\n```\r\nBut I don&#39;t know how to continue from here.","title":"Create an ImmutableMap using Java 8","body":"<p>How can the following method be written using Java Stream API?</p>\n<pre><code>public Map&lt;String, String&gt; getMap() {\n    Map&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\n    \n    for (String parameterKey : listOfKeys) {\n        String parameterValue = mapA.get(parameterKey);\n        \n        mapB.put(parameterKey, Objects.requireNonNullElse(parameterValue, &quot;&quot;));\n    }\n    return ImmutableMap.copyOf(mapB);\n}\n</code></pre>\n<p>I tried something like this:</p>\n<pre><code>return listOfKeys.stream()\n    .map(firstMap::get)\n    .collect( ? )\n</code></pre>\n<p>But I don't know how to continue from here.</p>\n"},{"tags":["java","selenium","testing","automated-tests","pageobjects"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1668795454,"post_id":74493087,"comment_id":131501182,"body_markdown":"Page Object Model as it&#39;s implemented now is a bit out-dated and needs some modifications to work with dynamic sites.  I like your approach better since we&#39;re dealing with a timeline... you want to be able to re-use and/or re-order specifc actions or groups of actions.  I take a similar approach with a custom action class and a procedure class.  So a procedure is a collection of actions and a test is a collection of procedures.  Each action can pass/fail, and each procedure passes if all actions within it pass, else it fails.  It makes re-ordering and outputting of reports a simpler task.","body":"Page Object Model as it&#39;s implemented now is a bit out-dated and needs some modifications to work with dynamic sites.  I like your approach better since we&#39;re dealing with a timeline... you want to be able to re-use and/or re-order specifc actions or groups of actions.  I take a similar approach with a custom action class and a procedure class.  So a procedure is a collection of actions and a test is a collection of procedures.  Each action can pass/fail, and each procedure passes if all actions within it pass, else it fails.  It makes re-ordering and outputting of reports a simpler task."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1668795968,"post_id":74493087,"comment_id":131501309,"body_markdown":"I find it more useful to have re-usable actions and procedures... not really re-usable page-objects... the metaphor was always a bit off there but made more sense when webdriverwaits were not necessary.  POM did do a nice job of making a re-usable collection of webelement selectors for any given view of the site....","body":"I find it more useful to have re-usable actions and procedures... not really re-usable page-objects... the metaphor was always a bit off there but made more sense when webdriverwaits were not necessary.  POM did do a nice job of making a re-usable collection of webelement selectors for any given view of the site...."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1668796958,"post_id":74493087,"comment_id":131501562,"body_markdown":"You could also build the page object model into the steps approach.  (If you find that changes to the site require you to update webelement selectors in multiple places throughout the code...)","body":"You could also build the page object model into the steps approach.  (If you find that changes to the site require you to update webelement selectors in multiple places throughout the code...)"},{"owner":{"account_id":26761666,"reputation":11,"user_id":20359517,"display_name":"Evgenii Plugatar"},"score":0,"creation_date":1668797376,"post_id":74493087,"comment_id":131501698,"body_markdown":"@pcalkins Thank you. I sort of understood your approach, but maybe you posted an example of your code somewhere? I would like to see an example.","body":"@pcalkins Thank you. I sort of understood your approach, but maybe you posted an example of your code somewhere? I would like to see an example."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1668797599,"post_id":74493087,"comment_id":131501762,"body_markdown":"Sure you can see the code here (gui and file-based app):  https://github.com/petecalkins/Browsermator-Selenium4","body":"Sure you can see the code here (gui and file-based app):  <a href=\"https://github.com/petecalkins/Browsermator-Selenium4\" rel=\"nofollow noreferrer\">github.com/petecalkins/Browsermator-Selenium4</a>"},{"owner":{"account_id":26761666,"reputation":11,"user_id":20359517,"display_name":"Evgenii Plugatar"},"score":0,"creation_date":1668797994,"post_id":74493087,"comment_id":131501872,"body_markdown":"@pcalkins Thanks, I&#39;ll take a look at your code. And I would like to note that almost all of us use the OOP paradigm in tests, but tests are still written in an imperative style because it is just a sequence of actions and there can be no other way.","body":"@pcalkins Thanks, I&#39;ll take a look at your code. And I would like to note that almost all of us use the OOP paradigm in tests, but tests are still written in an imperative style because it is just a sequence of actions and there can be no other way."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1668798380,"post_id":74493087,"comment_id":131501954,"body_markdown":"Exactly!  We&#39;re working with a timeline.  One thing follows another.","body":"Exactly!  We&#39;re working with a timeline.  One thing follows another."}],"owner":{"account_id":26761666,"reputation":11,"user_id":20359517,"display_name":"Evgenii Plugatar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668791471,"creation_date":1668791015,"question_id":74493087,"body_markdown":"I have to build test automation for a web project. I will use Java language and Selenium WebDriver. Before I usually used the Page Object pattern and didn&#39;t see anyone else using a different pattern. But now I want to understand what other patterns are there for web testing automation for statically typed languages (e.g.: Java, C#). Have you used other patterns? Why are they better?\r\n\r\nI tried to create an alternative to the Page Object pattern and created a Step Objects pattern. This pattern allows you to store actions in Java objects You can see the use case - [Xteps Step Object pattern example](https://github.com/evpl/xteps#Step-objects). But I haven&#39;t applied this pattern at work yet and I&#39;m not sure if it&#39;s better than Page Object.","title":"Page Object pattern alternative for statically typed languages (e.g.: Java, C#)","body":"<p>I have to build test automation for a web project. I will use Java language and Selenium WebDriver. Before I usually used the Page Object pattern and didn't see anyone else using a different pattern. But now I want to understand what other patterns are there for web testing automation for statically typed languages (e.g.: Java, C#). Have you used other patterns? Why are they better?</p>\n<p>I tried to create an alternative to the Page Object pattern and created a Step Objects pattern. This pattern allows you to store actions in Java objects You can see the use case - <a href=\"https://github.com/evpl/xteps#Step-objects\" rel=\"nofollow noreferrer\">Xteps Step Object pattern example</a>. But I haven't applied this pattern at work yet and I'm not sure if it's better than Page Object.</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":5512516,"reputation":3434,"user_id":4378350,"accept_rate":85,"display_name":"Jan Gassen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1543588872,"creation_date":1543587476,"answer_id":53559265,"question_id":53539406,"body_markdown":"It looks like this can be achieved fairly simple using a custom `BeanPostProcessor`. Within the `postProcessBeforeInitialization`, you can simply check the scope of the bean and the scope of all dependencies. Here is a simple example:\r\n\r\n    @Component\r\n    public class BeanScopeValidator implements BeanPostProcessor {\r\n\r\n      private final ConfigurableListableBeanFactory configurableBeanFactory;\r\n\r\n      @Autowired\r\n      public BeanScopeValidator(ConfigurableListableBeanFactory configurableBeanFactory) {\r\n        this.configurableBeanFactory = configurableBeanFactory;\r\n      }\r\n\r\n      @Override\r\n\t  public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n\t\tString beanScope = configurableBeanFactory.getBeanDefinition(beanName).getScope();\r\n\t\tString[] dependenciesForBean = configurableBeanFactory.getDependenciesForBean(beanName);\r\n\r\n        for (String dependencyBeanName : dependenciesForBean) {\r\n\t      String dependencyBeanScope = configurableBeanFactory.getBeanDefinition(dependencyBeanName).getScope();\r\n\r\n          // TODO: Check if the scopes are compatible and throw an exception\r\n\t\t}\r\n\r\n\t\treturn bean;\r\n\t  }\r\n    }\r\n\r\nThis example is still very basic and is not really convenient to use. Most prominently, it lacks the capability of defining which scope can be injected into which other scope. Thus I&#39;ve created a more complete example [here][1]. Using this project, the following injections are allowed by default:\r\n\r\n* Singletons can be injected into everything\r\n* Everything can be injected into prototypes\r\n* AOP proxies can be injected into everything\r\n* Everything can be injected into beans of the same scope\r\n\r\nIf you want to allow a bean to be injected into another scope, it needs to be explicitly allowed by using a respective annotation:\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    @InjectableInto(&quot;singleton&quot;)\r\n    MyBean getMyBean(){\r\n      //...\r\n    } \r\n\r\n  [1]: https://github.com/CenterDevice/bean-bouncer","title":"Prevent injection of bean with narrower scope using Spring","body":"<p>It looks like this can be achieved fairly simple using a custom <code>BeanPostProcessor</code>. Within the <code>postProcessBeforeInitialization</code>, you can simply check the scope of the bean and the scope of all dependencies. Here is a simple example:</p>\n\n<pre><code>@Component\npublic class BeanScopeValidator implements BeanPostProcessor {\n\n  private final ConfigurableListableBeanFactory configurableBeanFactory;\n\n  @Autowired\n  public BeanScopeValidator(ConfigurableListableBeanFactory configurableBeanFactory) {\n    this.configurableBeanFactory = configurableBeanFactory;\n  }\n\n  @Override\n  public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n    String beanScope = configurableBeanFactory.getBeanDefinition(beanName).getScope();\n    String[] dependenciesForBean = configurableBeanFactory.getDependenciesForBean(beanName);\n\n    for (String dependencyBeanName : dependenciesForBean) {\n      String dependencyBeanScope = configurableBeanFactory.getBeanDefinition(dependencyBeanName).getScope();\n\n      // TODO: Check if the scopes are compatible and throw an exception\n    }\n\n    return bean;\n  }\n}\n</code></pre>\n\n<p>This example is still very basic and is not really convenient to use. Most prominently, it lacks the capability of defining which scope can be injected into which other scope. Thus I've created a more complete example <a href=\"https://github.com/CenterDevice/bean-bouncer\" rel=\"nofollow noreferrer\">here</a>. Using this project, the following injections are allowed by default:</p>\n\n<ul>\n<li>Singletons can be injected into everything</li>\n<li>Everything can be injected into prototypes</li>\n<li>AOP proxies can be injected into everything</li>\n<li>Everything can be injected into beans of the same scope</li>\n</ul>\n\n<p>If you want to allow a bean to be injected into another scope, it needs to be explicitly allowed by using a respective annotation:</p>\n\n<pre><code>@Bean\n@Scope(\"prototype\")\n@InjectableInto(\"singleton\")\nMyBean getMyBean(){\n  //...\n} \n</code></pre>\n"}],"owner":{"account_id":5512516,"reputation":3434,"user_id":4378350,"accept_rate":85,"display_name":"Jan Gassen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53559265,"answer_count":1,"score":2,"last_activity_date":1668791398,"creation_date":1543495547,"question_id":53539406,"body_markdown":"I&#39;m working on a Spring application using beans of different scopes. Many beans are singletons, other request or custom scoped. Especially using those custom scopes makes it sometimes difficult to find out which scope can be safely injected into which other scope or when e.g. a `Provider&lt;T&gt;` needs to be used.\r\n\r\nI am aware that I can just create scope proxies for all beans that are basically not singletons, but in many cases that does not seem to be necessary. For example, a bean might only be supposed to be injected into other beans of the same scope, but not everyone working on the project might be aware of that. Thus, it would be great if one could somehow prevent &quot;misuse&quot; of those beans, especially if one might not always recognize the mistake in time.\r\n\r\nSo my question is: Is there some way to define which scoped can be safely injected into which scope and then prevent beans with narrower scope from directly (without using `Provider&lt;T&gt;`) being injected into e.g. singleton beans?","title":"Prevent injection of bean with narrower scope using Spring","body":"<p>I'm working on a Spring application using beans of different scopes. Many beans are singletons, other request or custom scoped. Especially using those custom scopes makes it sometimes difficult to find out which scope can be safely injected into which other scope or when e.g. a <code>Provider&lt;T&gt;</code> needs to be used.</p>\n<p>I am aware that I can just create scope proxies for all beans that are basically not singletons, but in many cases that does not seem to be necessary. For example, a bean might only be supposed to be injected into other beans of the same scope, but not everyone working on the project might be aware of that. Thus, it would be great if one could somehow prevent &quot;misuse&quot; of those beans, especially if one might not always recognize the mistake in time.</p>\n<p>So my question is: Is there some way to define which scoped can be safely injected into which scope and then prevent beans with narrower scope from directly (without using <code>Provider&lt;T&gt;</code>) being injected into e.g. singleton beans?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668789331,"post_id":74492159,"comment_id":131499216,"body_markdown":"Do you mean like this that foo is not on the same line after `schemas:` ? `.*\\hschemas:(?!.*foo).*` https://regex101.com/r/ZKv3Bc/1 Or with only optional leading spaces `^\\h*schemas:(?!.*foo).*` https://regex101.com/r/Kqd7dt/1","body":"Do you mean like this that foo is not on the same line after <code>schemas:</code> ? <code>.*\\hschemas:(?!.*foo).*</code> <a href=\"https://regex101.com/r/ZKv3Bc/1\" rel=\"nofollow noreferrer\">regex101.com/r/ZKv3Bc/1</a> Or with only optional leading spaces <code>^\\h*schemas:(?!.*foo).*</code> <a href=\"https://regex101.com/r/Kqd7dt/1\" rel=\"nofollow noreferrer\">regex101.com/r/Kqd7dt/1</a>"},{"owner":{"account_id":8188236,"reputation":844,"user_id":6163371,"display_name":"Uwe"},"score":0,"creation_date":1669035824,"post_id":74492159,"comment_id":131544347,"body_markdown":"Thank you! The second option does the job in my case.","body":"Thank you! The second option does the job in my case."}],"answers":[{"comments":[{"owner":{"account_id":8188236,"reputation":844,"user_id":6163371,"display_name":"Uwe"},"score":0,"creation_date":1669036409,"post_id":74493150,"comment_id":131544543,"body_markdown":"Thank you for your suggestions and the detailed explanation! Your first suggestion works well if I prefix it by (?m) for using it in a String#replaceAll call.","body":"Thank you for your suggestions and the detailed explanation! Your first suggestion works well if I prefix it by (?m) for using it in a String#replaceAll call."}],"tags":[],"owner":{"account_id":13494977,"reputation":36,"user_id":9736086,"display_name":"Rafael Starnberger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668791342,"creation_date":1668791342,"answer_id":74493150,"question_id":74492159,"body_markdown":"Would this work?\r\n\r\n    ^(?!.*foo)(\\s*schemas:.*)$\r\n\r\nIf you want to make sure stuff like\r\n\r\n    food, fool, etc.\r\n\r\nmatches you can use this:\r\n\r\n    ^(?!.*(?:foo\\s*$|foo,))(\\s*schemas:.*)$\r\n\r\nReplacement:\r\n\r\n    $1,foo\r\n\r\nIf I understood your question correctly, you want to make sure only one line is checked for the negative lookahead. This should accomplish that. I tested it on https://regex101.com/ using the Java 8 engine. You can also check what each operator does there.\r\n\r\nExplanation:\r\n\r\nwrapping the expression with\r\n\r\n    ^$\r\n\r\nmakes sure that only one line is considered at a time.\r\n\r\nThe negative lookahead\r\n\r\n    (?!.*(?:foo\\s*$|foo,))\r\n\r\nlooks for any &quot;foo&quot; followed by either (whitespaces and a newline) or a comma within this line. If you want to make the expression faster you could probably turn the lookahead into a lookbehind, so that the simpler check for &quot;schemas:&quot; comes first. However, I don&#39;t know if this actually improves performance.\r\n\r\n    ^(\\s*schemas:.*)(?&lt;!(?:foo\\s?$|foo,))$\r\n\r\n With lookbehinds you can&#39;t use the * quantifier, so the regex would match if foo is followed by more than one whitespace.","title":"Regex for adding a word to a specific line if line does not contain the word","body":"<p>Would this work?</p>\n<pre><code>^(?!.*foo)(\\s*schemas:.*)$\n</code></pre>\n<p>If you want to make sure stuff like</p>\n<pre><code>food, fool, etc.\n</code></pre>\n<p>matches you can use this:</p>\n<pre><code>^(?!.*(?:foo\\s*$|foo,))(\\s*schemas:.*)$\n</code></pre>\n<p>Replacement:</p>\n<pre><code>$1,foo\n</code></pre>\n<p>If I understood your question correctly, you want to make sure only one line is checked for the negative lookahead. This should accomplish that. I tested it on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> using the Java 8 engine. You can also check what each operator does there.</p>\n<p>Explanation:</p>\n<p>wrapping the expression with</p>\n<pre><code>^$\n</code></pre>\n<p>makes sure that only one line is considered at a time.</p>\n<p>The negative lookahead</p>\n<pre><code>(?!.*(?:foo\\s*$|foo,))\n</code></pre>\n<p>looks for any &quot;foo&quot; followed by either (whitespaces and a newline) or a comma within this line. If you want to make the expression faster you could probably turn the lookahead into a lookbehind, so that the simpler check for &quot;schemas:&quot; comes first. However, I don't know if this actually improves performance.</p>\n<pre><code>^(\\s*schemas:.*)(?&lt;!(?:foo\\s?$|foo,))$\n</code></pre>\n<p>With lookbehinds you can't use the * quantifier, so the regex would match if foo is followed by more than one whitespace.</p>\n"}],"owner":{"account_id":8188236,"reputation":844,"user_id":6163371,"display_name":"Uwe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74493150,"answer_count":1,"score":0,"last_activity_date":1668791342,"creation_date":1668786526,"question_id":74492159,"body_markdown":"I have a YAML file with multiple lines and I know there&#39;s one line that looks like this:\r\n\r\n```\r\n...\r\n  schemas: core,ext,plugin\r\n...\r\n```\r\nNote that there is unknown number of whitespaces at the beginning of this line (because YAML). The line can be identified uniquely by the `schemas:` expression. The number of existing values for the `schemas` property is unknown, but greater than zero. And I do not know what these values are, except that one of them might be `foo`.\r\n\r\nI would like to use a regex match-and-replace to append the word `,foo` to this line if `foo` is not already contained in the list of values at any position. `foo` might appear on any other line but I want to ignore these instances. I don&#39;t want the other lines to be modified.\r\n\r\nI&#39;ve tried different regular expressions with lookarounds and capture groups, but none did the job. My latest attempt that looked promising at first was:\r\n\r\n```\r\n(?s)(?!.*foo)(.*schemas:.*)\r\n```\r\n\r\nBut this does not match if `foo` is contained on any other line, which is not what I want.\r\n\r\nAny assistance would be very much appreciated. Thanks.\r\n\r\n(I use the Java regex engine, btw.)","title":"Regex for adding a word to a specific line if line does not contain the word","body":"<p>I have a YAML file with multiple lines and I know there's one line that looks like this:</p>\n<pre><code>...\n  schemas: core,ext,plugin\n...\n</code></pre>\n<p>Note that there is unknown number of whitespaces at the beginning of this line (because YAML). The line can be identified uniquely by the <code>schemas:</code> expression. The number of existing values for the <code>schemas</code> property is unknown, but greater than zero. And I do not know what these values are, except that one of them might be <code>foo</code>.</p>\n<p>I would like to use a regex match-and-replace to append the word <code>,foo</code> to this line if <code>foo</code> is not already contained in the list of values at any position. <code>foo</code> might appear on any other line but I want to ignore these instances. I don't want the other lines to be modified.</p>\n<p>I've tried different regular expressions with lookarounds and capture groups, but none did the job. My latest attempt that looked promising at first was:</p>\n<pre><code>(?s)(?!.*foo)(.*schemas:.*)\n</code></pre>\n<p>But this does not match if <code>foo</code> is contained on any other line, which is not what I want.</p>\n<p>Any assistance would be very much appreciated. Thanks.</p>\n<p>(I use the Java regex engine, btw.)</p>\n"},{"tags":["java","testing","request","get","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668790765,"creation_date":1668790765,"answer_id":74493028,"question_id":74491366,"body_markdown":"I tried this and it seems to work fine:\r\n\r\n    * url &#39;https://httpbin.org/anything&#39;\r\n    * param id = 60\r\n    * param filters[start_date] = &#39;Fri Nov 18 2022 10:14:59 GMT-0300&#39;\r\n    * param filters[end_date] = &#39;Sat Nov 19 2022 23:59:59 GMT-0300&#39;\r\n    * method get\r\n\r\nYou can look at the response and confirm the server handles the request correctly:\r\n\r\n    {\r\n      &quot;args&quot;: {\r\n        &quot;filters[end_date]&quot;: &quot;Sat Nov 19 2022 23:59:59 GMT-0300&quot;, \r\n        &quot;filters[start_date]&quot;: &quot;Fri Nov 18 2022 10:14:59 GMT-0300&quot;, \r\n        &quot;id&quot;: &quot;60&quot;\r\n      }, \r\n      &quot;data&quot;: &quot;&quot;, \r\n      &quot;files&quot;: {}, \r\n      &quot;form&quot;: {}, \r\n      &quot;headers&quot;: {\r\n        &quot;Accept-Encoding&quot;: &quot;gzip,deflate&quot;, \r\n        &quot;Host&quot;: &quot;httpbin.org&quot;, \r\n        &quot;User-Agent&quot;: &quot;Apache-HttpClient/4.5.13 (Java/17.0.4.1)&quot;, \r\n        &quot;X-Amzn-Trace-Id&quot;: &quot;Root=1-6377b983-6bfc4696374f7d08239de823&quot;\r\n      }, \r\n      &quot;json&quot;: null, \r\n      &quot;method&quot;: &quot;GET&quot;, \r\n      &quot;origin&quot;: &quot;X.X.X.X&quot;, \r\n      &quot;url&quot;: &quot;https://httpbin.org/anything?filters[start_date]=Fri+Nov+18+2022+10%3A14%3A59+GMT-0300&amp;filters[end_date]=Sat+Nov+19+2022+23%3A59%3A59+GMT-0300&amp;id=60&quot;\r\n    } \r\n\r\n   ","title":"How to do a GET request with params with dates ranges","body":"<p>I tried this and it seems to work fine:</p>\n<pre><code>* url 'https://httpbin.org/anything'\n* param id = 60\n* param filters[start_date] = 'Fri Nov 18 2022 10:14:59 GMT-0300'\n* param filters[end_date] = 'Sat Nov 19 2022 23:59:59 GMT-0300'\n* method get\n</code></pre>\n<p>You can look at the response and confirm the server handles the request correctly:</p>\n<pre><code>{\n  &quot;args&quot;: {\n    &quot;filters[end_date]&quot;: &quot;Sat Nov 19 2022 23:59:59 GMT-0300&quot;, \n    &quot;filters[start_date]&quot;: &quot;Fri Nov 18 2022 10:14:59 GMT-0300&quot;, \n    &quot;id&quot;: &quot;60&quot;\n  }, \n  &quot;data&quot;: &quot;&quot;, \n  &quot;files&quot;: {}, \n  &quot;form&quot;: {}, \n  &quot;headers&quot;: {\n    &quot;Accept-Encoding&quot;: &quot;gzip,deflate&quot;, \n    &quot;Host&quot;: &quot;httpbin.org&quot;, \n    &quot;User-Agent&quot;: &quot;Apache-HttpClient/4.5.13 (Java/17.0.4.1)&quot;, \n    &quot;X-Amzn-Trace-Id&quot;: &quot;Root=1-6377b983-6bfc4696374f7d08239de823&quot;\n  }, \n  &quot;json&quot;: null, \n  &quot;method&quot;: &quot;GET&quot;, \n  &quot;origin&quot;: &quot;X.X.X.X&quot;, \n  &quot;url&quot;: &quot;https://httpbin.org/anything?filters[start_date]=Fri+Nov+18+2022+10%3A14%3A59+GMT-0300&amp;filters[end_date]=Sat+Nov+19+2022+23%3A59%3A59+GMT-0300&amp;id=60&quot;\n} \n</code></pre>\n"}],"owner":{"account_id":26975125,"reputation":11,"user_id":20540496,"display_name":"apark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668790765,"creation_date":1668782595,"question_id":74491366,"body_markdown":"im using karate framework to test some site, but one call to the endpoints is like this: `https://urlbase/index?id=60&amp;filters[start_date]=Fri%20Nov%2018%202022%2010:14:59%20GMT-0300&amp;filters[end_date]=Sat%20Nov%2019%202022%2023:59:59%20GMT-0300`\r\n\r\nAnd i have problems with the filters[...] i don&#39;t know how to do that :( \r\n\r\n\r\n\r\nI have this query def:\r\n\r\n\r\n```\r\n * def query = {id: 60, filters[start_date]:&#39;Fri%20Nov%2018%202022%2010:14:59%20GMT-0300&#39;, filters[end_date]:&#39;Sat%20Nov%2019%202022%2023:59:59%20GMT-0300&#39;}\r\n```\r\n\r\nBut the request url shows: GET https://urlbase/index?id=60&amp;filters=%7Bstart_date%3D%2C+end_date%3D%7D\r\n`\r\nwith no brackets.\r\n\r\nAnd i want my GET url looks like this: `https://urlbase/index?id=60&amp;filters[start_date]=Fri%20Nov%2018%202022%2010:14:59%20GMT-0300&amp;filters[end_date]=Sat%20Nov%2019%202022%2023:59:59%20GMT-0300`","title":"How to do a GET request with params with dates ranges","body":"<p>im using karate framework to test some site, but one call to the endpoints is like this: <code>https://urlbase/index?id=60&amp;filters[start_date]=Fri%20Nov%2018%202022%2010:14:59%20GMT-0300&amp;filters[end_date]=Sat%20Nov%2019%202022%2023:59:59%20GMT-0300</code></p>\n<p>And i have problems with the filters[...] i don't know how to do that :(</p>\n<p>I have this query def:</p>\n<pre><code> * def query = {id: 60, filters[start_date]:'Fri%20Nov%2018%202022%2010:14:59%20GMT-0300', filters[end_date]:'Sat%20Nov%2019%202022%2023:59:59%20GMT-0300'}\n</code></pre>\n<p>But the request url shows: GET https://urlbase/index?id=60&amp;filters=%7Bstart_date%3D%2C+end_date%3D%7D\n`\nwith no brackets.</p>\n<p>And i want my GET url looks like this: <code>https://urlbase/index?id=60&amp;filters[start_date]=Fri%20Nov%2018%202022%2010:14:59%20GMT-0300&amp;filters[end_date]=Sat%20Nov%2019%202022%2023:59:59%20GMT-0300</code></p>\n"},{"tags":["java","mysql","sql-parser","jsqlparser"],"answers":[{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442383168,"creation_date":1441690876,"answer_id":32450027,"question_id":32364792,"body_markdown":"Regarding **JSqlParser**: \r\n\r\n**Issue 166** already fixed. \r\n\r\nThe escaping of single quotes is not supported, but using double single quotes is. Therefore someone could replace all **\\&#39;** using **&#39;&#39;** before parsing.\r\n\r\n**EDIT:** **Issue 167** fixed within actual Snapshot 0.9.5 of JSqlParser.\r\n","title":"SQL Query parser for Java","body":"<p>Regarding <strong>JSqlParser</strong>: </p>\n\n<p><strong>Issue 166</strong> already fixed. </p>\n\n<p>The escaping of single quotes is not supported, but using double single quotes is. Therefore someone could replace all <strong>\\'</strong> using <strong>''</strong> before parsing.</p>\n\n<p><strong>EDIT:</strong> <strong>Issue 167</strong> fixed within actual Snapshot 0.9.5 of JSqlParser.</p>\n"},{"comments":[{"owner":{"account_id":892239,"reputation":24202,"user_id":930271,"accept_rate":50,"display_name":"Francisco Puga"},"score":0,"creation_date":1668790474,"post_id":32473754,"comment_id":131499644,"body_markdown":"Thanks @LukasEder I add it. But take into account that this post was written in 2015, and I don&#39;t review the topic since then.","body":"Thanks @LukasEder I add it. But take into account that this post was written in 2015, and I don&#39;t review the topic since then."}],"tags":[],"owner":{"account_id":892239,"reputation":24202,"user_id":930271,"accept_rate":50,"display_name":"Francisco Puga"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668790433,"creation_date":1441784675,"answer_id":32473754,"question_id":32364792,"body_markdown":"One year ago i search for the same thing but finally i use another approach. Those were the projects that i found to parse sql.\r\n\r\n* [ANTLR][1]. Is commonly used generic parser. It&#39;s a kind of parser generator. From a set of rules it writes the java code. There are rules for a lot of thins like spanish, java or sql.\r\n\r\n* [JParsec][2]. Seems similar to the previous one. Seems that already exists SQL rules, but does not seem easy to use.\r\n\r\n* [ZQL][3]. Uses JavaCC to auto-generate Java code that parses the SQL. I test this one but i can not get it working as i want. And i think that the project is discontinued.\r\n\r\n* [sql-parser][4]. It looks nice, but when i tested it i can not get it working. The link seems to not work, but i think that [this is a fork][5] of the original project.\r\n\r\n* [jOOQ][5] is a great library for those that don&#39;t need or like an ORM and also has a parser.\r\n\r\n\r\n  [1]: http://www.antlr3.org/\r\n  [2]: https://github.com/abailly/jparsec\r\n  [3]: http://zql.sourceforge.net/\r\n  [4]: https://github.com/FoundationDB/sql-parser\r\n  [5]: https://github.com/lchaboud-restlet/fdb-sqlparser\r\n  [6]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/","title":"SQL Query parser for Java","body":"<p>One year ago i search for the same thing but finally i use another approach. Those were the projects that i found to parse sql.</p>\n<ul>\n<li><p><a href=\"http://www.antlr3.org/\" rel=\"nofollow noreferrer\">ANTLR</a>. Is commonly used generic parser. It's a kind of parser generator. From a set of rules it writes the java code. There are rules for a lot of thins like spanish, java or sql.</p>\n</li>\n<li><p><a href=\"https://github.com/abailly/jparsec\" rel=\"nofollow noreferrer\">JParsec</a>. Seems similar to the previous one. Seems that already exists SQL rules, but does not seem easy to use.</p>\n</li>\n<li><p><a href=\"http://zql.sourceforge.net/\" rel=\"nofollow noreferrer\">ZQL</a>. Uses JavaCC to auto-generate Java code that parses the SQL. I test this one but i can not get it working as i want. And i think that the project is discontinued.</p>\n</li>\n<li><p><a href=\"https://github.com/FoundationDB/sql-parser\" rel=\"nofollow noreferrer\">sql-parser</a>. It looks nice, but when i tested it i can not get it working. The link seems to not work, but i think that <a href=\"https://github.com/lchaboud-restlet/fdb-sqlparser\" rel=\"nofollow noreferrer\">this is a fork</a> of the original project.</p>\n</li>\n<li><p><a href=\"https://github.com/lchaboud-restlet/fdb-sqlparser\" rel=\"nofollow noreferrer\">jOOQ</a> is a great library for those that don't need or like an ORM and also has a parser.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1272903,"reputation":512,"user_id":1228785,"accept_rate":0,"display_name":"user1228785"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668790433,"creation_date":1441236869,"question_id":32364792,"body_markdown":"I am looking for SQL query parser for MySQL queries. Using which I can parse the query, modify the query object and print back modified query\r\n\r\nJSQL Parser was exactly what I needed but It has 2 main issues while escaping single quote inside column values\r\nhttps://github.com/JSQLParser/JSqlParser/issues/167\r\nhttps://github.com/JSQLParser/JSqlParser/issues/166\r\n\r\nSo I am looking for open source alternative which can help me with the task\r\n\r\nPresto-parser I tried was not able to parse Update queries\r\n\r\nIf anyone else is aware of any other reliable SQL Parsing library please let me know","title":"SQL Query parser for Java","body":"<p>I am looking for SQL query parser for MySQL queries. Using which I can parse the query, modify the query object and print back modified query</p>\n\n<p>JSQL Parser was exactly what I needed but It has 2 main issues while escaping single quote inside column values\n<a href=\"https://github.com/JSQLParser/JSqlParser/issues/167\" rel=\"nofollow\">https://github.com/JSQLParser/JSqlParser/issues/167</a>\n<a href=\"https://github.com/JSQLParser/JSqlParser/issues/166\" rel=\"nofollow\">https://github.com/JSQLParser/JSqlParser/issues/166</a></p>\n\n<p>So I am looking for open source alternative which can help me with the task</p>\n\n<p>Presto-parser I tried was not able to parse Update queries</p>\n\n<p>If anyone else is aware of any other reliable SQL Parsing library please let me know</p>\n"},{"tags":["java","spring","spring-boot","mockito"],"comments":[{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":0,"creation_date":1594347314,"post_id":62826154,"comment_id":111100991,"body_markdown":"I can&#39;t tell if it is and integration or unit test, but if it&#39;s a unit test you should use ```@Mock``` instead of ```@MockBean```. More info here https://www.baeldung.com/java-spring-mockito-mock-mockbean","body":"I can&#39;t tell if it is and integration or unit test, but if it&#39;s a unit test you should use <code>@Mock</code> instead of <code>@MockBean</code>. More info here <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\" rel=\"nofollow noreferrer\">baeldung.com/java-spring-mockito-mock-mockbean</a>"},{"owner":{"account_id":2251275,"reputation":1325,"user_id":1983465,"accept_rate":83,"display_name":"Bala"},"score":0,"creation_date":1594364227,"post_id":62826154,"comment_id":111105172,"body_markdown":"If you are trying to call real method.i.e. you are trying some kind of integration test. You can directly use @ Autowiredon on ClientService instead of @ MockBean. Are you facing any issues if you use Autowired?","body":"If you are trying to call real method.i.e. you are trying some kind of integration test. You can directly use @ Autowiredon on ClientService instead of @ MockBean. Are you facing any issues if you use Autowired?"}],"answers":[{"tags":[],"owner":{"account_id":14663900,"reputation":1055,"user_id":10590290,"display_name":"Johannes Klug"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594379127,"creation_date":1594378086,"answer_id":62832681,"question_id":62826154,"body_markdown":"Well, there is no &quot;real&quot; method to call. (Ignoring the fact that default methods in interfaces are a thing nowadays)\r\n\r\nGenerally, unit tests should be written for the target class in an isolated fashion. Like this, you are always &quot;testing&quot; the &quot;isExistFkUnitId&quot; method as well.\r\nYou could set the mock up for specific values:\r\n\r\n    Mockito.when(clientService.isExistFkUnitId(&quot;valueA&quot;).thenReturn(&quot;answerA&quot;);\r\n    Mockito.when(clientService.isExistFkUnitId(&quot;valueB&quot;).thenReturn(&quot;answerB&quot;);\r\n\r\nAnyways... to respond to your actual question:\r\n\r\nIf possible, you can instantiate the implementation in a way that the desired method is working and call it through the mock:\r\n\r\n    ClientServiceImpl clientServiceImpl = new ClientServiceImpl(...);\r\n    // spaghetti code only for demonstration purposes ;)\r\n    Mockito.when(clientService.isExistFkUnitId(Mockito.any())).then(i -&gt; clientServiceImpl.isExistFkUnitId((String) i.getArguments()[0]));\r\n\r\n\r\nPOC test:\r\n\r\n    @Test\r\n    public void testit() {\r\n        Myclass myclass = new Myclass();\r\n        Myinterface mock = Mockito.mock(Myinterface.class);\r\n        Mockito.when(mock.myMethod(Mockito.any())).then(i -&gt; myclass.myMethod((String) i.getArguments()[0]));\r\n\r\n        assertThat(mock.myMethod(&quot; works&quot;)).isEqualTo(&quot;yeehaa works&quot;);\r\n    }\r\n\r\n    public interface Myinterface {\r\n        String myMethod(String params);\r\n    }\r\n\r\n    public static class Myclass implements Myinterface {\r\n        @Override\r\n        public String myMethod(String params) {\r\n            return &quot;yeehaa&quot; + params;\r\n        }\r\n    }\r\n\r\nNot exactly a beautiful solution, but if there is no way around it, it should work.","title":"Calling real method using Mockito","body":"<p>Well, there is no &quot;real&quot; method to call. (Ignoring the fact that default methods in interfaces are a thing nowadays)</p>\n<p>Generally, unit tests should be written for the target class in an isolated fashion. Like this, you are always &quot;testing&quot; the &quot;isExistFkUnitId&quot; method as well.\nYou could set the mock up for specific values:</p>\n<pre><code>Mockito.when(clientService.isExistFkUnitId(&quot;valueA&quot;).thenReturn(&quot;answerA&quot;);\nMockito.when(clientService.isExistFkUnitId(&quot;valueB&quot;).thenReturn(&quot;answerB&quot;);\n</code></pre>\n<p>Anyways... to respond to your actual question:</p>\n<p>If possible, you can instantiate the implementation in a way that the desired method is working and call it through the mock:</p>\n<pre><code>ClientServiceImpl clientServiceImpl = new ClientServiceImpl(...);\n// spaghetti code only for demonstration purposes ;)\nMockito.when(clientService.isExistFkUnitId(Mockito.any())).then(i -&gt; clientServiceImpl.isExistFkUnitId((String) i.getArguments()[0]));\n</code></pre>\n<p>POC test:</p>\n<pre><code>@Test\npublic void testit() {\n    Myclass myclass = new Myclass();\n    Myinterface mock = Mockito.mock(Myinterface.class);\n    Mockito.when(mock.myMethod(Mockito.any())).then(i -&gt; myclass.myMethod((String) i.getArguments()[0]));\n\n    assertThat(mock.myMethod(&quot; works&quot;)).isEqualTo(&quot;yeehaa works&quot;);\n}\n\npublic interface Myinterface {\n    String myMethod(String params);\n}\n\npublic static class Myclass implements Myinterface {\n    @Override\n    public String myMethod(String params) {\n        return &quot;yeehaa&quot; + params;\n    }\n}\n</code></pre>\n<p>Not exactly a beautiful solution, but if there is no way around it, it should work.</p>\n"},{"tags":[],"owner":{"account_id":7790200,"reputation":1166,"user_id":5893468,"display_name":"pamcevoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594379869,"creation_date":1594379869,"answer_id":62833164,"question_id":62826154,"body_markdown":"I think you want to use `@Spy` annotation instead of `@Mock` annotation on the field where you want to call the real method.  I don&#39;t happen to have an example to verify this though.\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/2.21.0/org/mockito/Spy.html\r\n\r\nThen you can do `doCallRealMethod().when(clientService.isExistFkUnitId(Mockito.any()))`.\r\nBecause with a spy object you call `doReturn/when` instead of `when/doReturn`.\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/2.21.0/org/mockito/Mockito.html#do_family_methods_stubs\r\n","title":"Calling real method using Mockito","body":"<p>I think you want to use <code>@Spy</code> annotation instead of <code>@Mock</code> annotation on the field where you want to call the real method.  I don't happen to have an example to verify this though.\n<a href=\"https://javadoc.io/doc/org.mockito/mockito-core/2.21.0/org/mockito/Spy.html\" rel=\"noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/2.21.0/org/mockito/Spy.html</a></p>\n<p>Then you can do <code>doCallRealMethod().when(clientService.isExistFkUnitId(Mockito.any()))</code>.\nBecause with a spy object you call <code>doReturn/when</code> instead of <code>when/doReturn</code>.\n<a href=\"https://javadoc.io/doc/org.mockito/mockito-core/2.21.0/org/mockito/Mockito.html#do_family_methods_stubs\" rel=\"noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/2.21.0/org/mockito/Mockito.html#do_family_methods_stubs</a></p>\n"},{"tags":[],"owner":{"account_id":10156845,"reputation":309,"user_id":7501677,"display_name":"rduque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663594482,"creation_date":1663594482,"answer_id":73774255,"question_id":62826154,"body_markdown":"As you are mocking an interface Mockito doesn&#39;t know which implementation are you referring. The only way will be to use the Class.","title":"Calling real method using Mockito","body":"<p>As you are mocking an interface Mockito doesn't know which implementation are you referring. The only way will be to use the Class.</p>\n"},{"tags":[],"owner":{"account_id":5679776,"reputation":51,"user_id":4491418,"display_name":"Steven Dewey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668789662,"creation_date":1668789662,"answer_id":74492821,"question_id":62826154,"body_markdown":"I was having the same problem. My problem was due to the `ClientService` having dependencies that were not mocked when I set up the tests in this format. So `ClientService` had a mock, but if I tried `clientService.productService.get()` or something of that nature the dependant `productService` was always null. I solved this using testing reflection: \r\n\r\n```\r\n    @MockBean\r\n    DependentService mockDependentService\r\n    \r\n    ControllerToTest controllerToTest\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n       mockDependentService = mock(DependentService.class);\r\n       controllerToTest = mock(ControllerToTest.class);\r\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n        //set up test and other mocks \r\n        //be sure to implement the below code that will call the real method that you are wanting to test\r\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\r\n        //assertions\r\n    }\r\n\r\n```\r\nNote that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn&#39;t match the reflection will not find it and inject the mock for you. \r\n\r\nThis approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects. \r\n\r\nHope this helps!","title":"Calling real method using Mockito","body":"<p>I was having the same problem. My problem was due to the <code>ClientService</code> having dependencies that were not mocked when I set up the tests in this format. So <code>ClientService</code> had a mock, but if I tried <code>clientService.productService.get()</code> or something of that nature the dependant <code>productService</code> was always null. I solved this using testing reflection:</p>\n<pre><code>    @MockBean\n    DependentService mockDependentService\n    \n    ControllerToTest controllerToTest\n\n    @BeforeEach\n    public void setup() {\n       mockDependentService = mock(DependentService.class);\n       controllerToTest = mock(ControllerToTest.class);\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\n    }\n    \n    @Test\n    void test() {\n        //set up test and other mocks \n        //be sure to implement the below code that will call the real method that you are wanting to test\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\n        //assertions\n    }\n\n</code></pre>\n<p>Note that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn't match the reflection will not find it and inject the mock for you.</p>\n<p>This approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":873703,"reputation":2551,"user_id":923988,"accept_rate":88,"display_name":"VictorGram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668789662,"creation_date":1594345494,"question_id":62826154,"body_markdown":"I am using JDK 11 and spring boot.\r\nI am implementing a rest API and have 3 layers:\r\n\r\n - controller\r\n - service layer\r\n - data access layer\r\n\r\nI had classes against interfaces at the data-access-layer and did not have any interface at the service layer.\r\n\r\nI wrote integration tests using MockMvc, Mockito, etc to exercise the whole path for each point, exposed by the controller. This was not a problem until I tried to introduce the interface at the service layer.\r\n\r\nInitially, I mocked only repositories/Daos. So the class structure looked like:\r\n\r\n```\r\n    public interface ClientRepo{\r\n    ......\r\n    }\r\n\r\n    public class ClientRepoImpl implements ClientRepo{\r\n    ......\r\n    }\r\n```\r\n\r\nMocked the returned data as:\r\n\r\n```\r\n    @MockBean \r\n    private ClientRepo client;\r\n\r\n    ....\r\n    Mockito.when(client.isExistFkUnitId(Mockito.any(UUID.class))).thenReturn(false); \r\n```\r\n\r\nEverything was fine so far.\r\n\r\nNow I have introduced interface at the service layer as :\r\n\r\n```\r\n    public interface ClientService{\r\n    ......\r\n    }\r\n\r\n    public class ClientServiceImpl implements ClientService{\r\n    ......\r\n    }\r\n```\r\n\r\nAnd tried **( Trying to call actual service method)**: \r\n\r\n```\r\n    @MockBean \r\n    private ClientService clientService;\r\n\r\n    ....\r\n    Mockito.when(clientService.isExistFkUnitId(Mockito.any())).thenCallRealMethod();\r\n```\r\n\r\n**But getting nothing but null all the time**.\r\n\r\nIs there a way to make the real method call keeping the interface?","title":"Calling real method using Mockito","body":"<p>I am using JDK 11 and spring boot.\nI am implementing a rest API and have 3 layers:</p>\n<ul>\n<li>controller</li>\n<li>service layer</li>\n<li>data access layer</li>\n</ul>\n<p>I had classes against interfaces at the data-access-layer and did not have any interface at the service layer.</p>\n<p>I wrote integration tests using MockMvc, Mockito, etc to exercise the whole path for each point, exposed by the controller. This was not a problem until I tried to introduce the interface at the service layer.</p>\n<p>Initially, I mocked only repositories/Daos. So the class structure looked like:</p>\n<pre><code>    public interface ClientRepo{\n    ......\n    }\n\n    public class ClientRepoImpl implements ClientRepo{\n    ......\n    }\n</code></pre>\n<p>Mocked the returned data as:</p>\n<pre><code>    @MockBean \n    private ClientRepo client;\n\n    ....\n    Mockito.when(client.isExistFkUnitId(Mockito.any(UUID.class))).thenReturn(false); \n</code></pre>\n<p>Everything was fine so far.</p>\n<p>Now I have introduced interface at the service layer as :</p>\n<pre><code>    public interface ClientService{\n    ......\n    }\n\n    public class ClientServiceImpl implements ClientService{\n    ......\n    }\n</code></pre>\n<p>And tried <strong>( Trying to call actual service method)</strong>:</p>\n<pre><code>    @MockBean \n    private ClientService clientService;\n\n    ....\n    Mockito.when(clientService.isExistFkUnitId(Mockito.any())).thenCallRealMethod();\n</code></pre>\n<p><strong>But getting nothing but null all the time</strong>.</p>\n<p>Is there a way to make the real method call keeping the interface?</p>\n"},{"tags":["java","spring","hibernate","jpa","hibernate-search"],"answers":[{"comments":[{"owner":{"account_id":327831,"reputation":10444,"user_id":650425,"accept_rate":88,"display_name":"maple_shaft"},"score":0,"creation_date":1669055548,"post_id":74492819,"comment_id":131551498,"body_markdown":"Sounds good, be sure to mark your answer as Accepted once you are able to.","body":"Sounds good, be sure to mark your answer as Accepted once you are able to."}],"tags":[],"owner":{"account_id":2868597,"reputation":23,"user_id":2462379,"display_name":"footyr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668789651,"creation_date":1668789651,"answer_id":74492819,"question_id":74492131,"body_markdown":"Ok I solved this - adding an @Field annotation to the postalCode attribute meant the field was indexed and the error didn&#39;t occur.\r\n\r\nHopefully this will be useful for anyone else with similar problems.","title":"Hibernate Search - issue indexing embedded / associated objects","body":"<p>Ok I solved this - adding an @Field annotation to the postalCode attribute meant the field was indexed and the error didn't occur.</p>\n<p>Hopefully this will be useful for anyone else with similar problems.</p>\n"}],"owner":{"account_id":2868597,"reputation":23,"user_id":2462379,"display_name":"footyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74492819,"answer_count":1,"score":0,"last_activity_date":1668789651,"creation_date":1668786435,"question_id":74492131,"body_markdown":"I&#39;m having difficulty adding index fields to embedded objects using hibernate search. \r\n\r\nI have a simple example whereby a Company can have many CompanyAddress(es) - example of my setup is shown below:\r\n\r\nCompany.java\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;COMPANY&quot;)\r\n    @Indexed\r\n    public class Company implements Serializable {\r\n\r\n        ...\r\n\r\n        @OneToMany(mappedBy=&quot;company&quot;, fetch=FetchType.LAZY, \r\n                   cascade=CascadeType.ALL, orphanRemoval = true)\r\n        @JsonManagedReference\r\n        @IndexedEmbedded(depth=1, includePaths={&quot;postalCode&quot;})\r\n        private Set&lt;CompanyAddress&gt; address;\r\n\r\n        ...\r\n\r\n    }\r\n\r\n\r\nCompanyAddress.java\r\n\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;COMPANY_ADDRESS&quot;)\r\n    @Indexed\r\n    public class CompanyAddress implements Serializable {\r\n   \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;company_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        @JsonBackReference\r\n        @ContainedIn\r\n        private Company company;\r\n\r\n        @Column(name=&quot;POSTAL_CODE&quot;, length=10)\r\n\t    private String postalCode;\r\n\r\n    }\r\n\r\n\r\nWhen I try to index I get the following error:\r\n\r\n`Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.search.exception.SearchException: HSEARCH000216: Found invalid @IndexedEmbedded-&gt;paths elements configured for member &#39;address&#39; of class &#39;com.example.model.Company&#39;. The invalid paths are [address.postalCode]`\r\n\r\n\r\n\r\nNow if I swap the @Contained and @IndexedEmbedded to be on the address object I can index and find companies from addresses however I would wish to be able to include address fields in the Company index.\r\n\r\nI&#39;m using hibernate search 5.11.11.Final.\r\n\r\nAny guidance would be much appreciated.","title":"Hibernate Search - issue indexing embedded / associated objects","body":"<p>I'm having difficulty adding index fields to embedded objects using hibernate search.</p>\n<p>I have a simple example whereby a Company can have many CompanyAddress(es) - example of my setup is shown below:</p>\n<p>Company.java</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;COMPANY&quot;)\n@Indexed\npublic class Company implements Serializable {\n\n    ...\n\n    @OneToMany(mappedBy=&quot;company&quot;, fetch=FetchType.LAZY, \n               cascade=CascadeType.ALL, orphanRemoval = true)\n    @JsonManagedReference\n    @IndexedEmbedded(depth=1, includePaths={&quot;postalCode&quot;})\n    private Set&lt;CompanyAddress&gt; address;\n\n    ...\n\n}\n</code></pre>\n<p>CompanyAddress.java</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;COMPANY_ADDRESS&quot;)\n@Indexed\npublic class CompanyAddress implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name=&quot;company_id&quot;, referencedColumnName = &quot;id&quot;)\n    @JsonBackReference\n    @ContainedIn\n    private Company company;\n\n    @Column(name=&quot;POSTAL_CODE&quot;, length=10)\n    private String postalCode;\n\n}\n</code></pre>\n<p>When I try to index I get the following error:</p>\n<p><code>Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.search.exception.SearchException: HSEARCH000216: Found invalid @IndexedEmbedded-&gt;paths elements configured for member 'address' of class 'com.example.model.Company'. The invalid paths are [address.postalCode]</code></p>\n<p>Now if I swap the @Contained and @IndexedEmbedded to be on the address object I can index and find companies from addresses however I would wish to be able to include address fields in the Company index.</p>\n<p>I'm using hibernate search 5.11.11.Final.</p>\n<p>Any guidance would be much appreciated.</p>\n"},{"tags":["java","ubuntu","intellij-idea","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1668789328,"post_id":74492608,"comment_id":131499212,"body_markdown":"It looks like you are using remote development and running the code on the remote target (WSL). Deployment may be not configured correctly and your code is not updated on the remote. Please file a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with the sample project and the exact steps to reproduce it.","body":"It looks like you are using remote development and running the code on the remote target (WSL). Deployment may be not configured correctly and your code is not updated on the remote. Please file a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with the sample project and the exact steps to reproduce it."},{"owner":{"account_id":4978521,"reputation":119,"user_id":4004201,"accept_rate":40,"display_name":"Simon"},"score":0,"creation_date":1701695813,"post_id":74492608,"comment_id":136803837,"body_markdown":"Is there a space in the path to your app?  Try removing the space. This resolved the same issue for me.","body":"Is there a space in the path to your app?  Try removing the space. This resolved the same issue for me."}],"owner":{"account_id":26942136,"reputation":33,"user_id":20512760,"display_name":"JMoh04"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668789426,"creation_date":1668788652,"question_id":74492608,"body_markdown":"Editing a program and then running it ignores all changes and runs the code that was present when IntelliJ was opened.\r\n\r\n[![enter image description here][1]][1]\r\nAs you can see, my Main program was first just a Hello World, however when I write some new code in, running it will keep displaying that Hello World. The only thing that works is restarting IntelliJ each time, which is tedious.\r\n\r\nI&#39;ve tried various ways to run it, using the gutter run buttons, right-clicking the program and then running for example, reloading from disk, and also rebuilding, but none of these work, my only solution is to restart IntelliJ each time.\r\n\r\nAm I missing something? Thanks for any help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x8BlA.png","title":"Have to restart IntelliJ to run new/edited code?","body":"<p>Editing a program and then running it ignores all changes and runs the code that was present when IntelliJ was opened.</p>\n<p><a href=\"https://i.stack.imgur.com/x8BlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8BlA.png\" alt=\"enter image description here\" /></a>\nAs you can see, my Main program was first just a Hello World, however when I write some new code in, running it will keep displaying that Hello World. The only thing that works is restarting IntelliJ each time, which is tedious.</p>\n<p>I've tried various ways to run it, using the gutter run buttons, right-clicking the program and then running for example, reloading from disk, and also rebuilding, but none of these work, my only solution is to restart IntelliJ each time.</p>\n<p>Am I missing something? Thanks for any help.</p>\n"},{"tags":["java","mysql","sql","transactions","commit"],"comments":[{"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"score":0,"creation_date":1668789082,"post_id":74492519,"comment_id":131499125,"body_markdown":"Why would you need to commit the transaction to get the referenced primary key?","body":"Why would you need to commit the transaction to get the referenced primary key?"}],"answers":[{"tags":[],"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788542,"creation_date":1668788542,"answer_id":74492586,"question_id":74492519,"body_markdown":"You already answered your question: you don&#39;t have enough data before transaction&#39;s commit. Maybe try something like nested transactions? Note that not every database supports this feature.","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>You already answered your question: you don't have enough data before transaction's commit. Maybe try something like nested transactions? Note that not every database supports this feature.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788629,"creation_date":1668788629,"answer_id":74492602,"question_id":74492519,"body_markdown":"Mysql has LAST_INSERT_ID() function.","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>Mysql has LAST_INSERT_ID() function.</p>\n"},{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668789317,"creation_date":1668788630,"answer_id":74492603,"question_id":74492519,"body_markdown":"When you have executed your statement, call [getGeneratedKeys()][1] to fetch the generated keys:\r\n\r\n    Statement statement =\r\n        connection.prepareStatement(&quot;insert into ..&quot;,\r\n                                    Statement.RETURN_GENERATED_KEYS);\r\n    statement.executeUpdate();\r\n    ResultSet keys = statement.getGeneratedKeys();\r\n    ...\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html#getGeneratedKeys()","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>When you have executed your statement, call <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html#getGeneratedKeys()\" rel=\"nofollow noreferrer\">getGeneratedKeys()</a> to fetch the generated keys:</p>\n<pre><code>Statement statement =\n    connection.prepareStatement(&quot;insert into ..&quot;,\n                                Statement.RETURN_GENERATED_KEYS);\nstatement.executeUpdate();\nResultSet keys = statement.getGeneratedKeys();\n...\n</code></pre>\n"}],"owner":{"account_id":24939548,"reputation":11,"user_id":18805621,"display_name":"Francisco Shick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668789317,"creation_date":1668788306,"question_id":74492519,"body_markdown":"I don&#39; t know how to insert a row in the child table that has an attribute that references to the column ID (primary key of the father Table)in the same transaction because i dont know the father primary key if i don&#39;t commit the transaction.\r\nIs there a way to solve this problem?","title":"Is there a way to insert a row in a father table with autoincrement primary key and a child table in the same transaction in SQL?","body":"<p>I don' t know how to insert a row in the child table that has an attribute that references to the column ID (primary key of the father Table)in the same transaction because i dont know the father primary key if i don't commit the transaction.\nIs there a way to solve this problem?</p>\n"},{"tags":["java","hibernate","jpa","orm","natural-key"],"answers":[{"tags":[],"owner":{"account_id":13638,"reputation":424863,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1260910035,"creation_date":1260909628,"answer_id":1910240,"question_id":1910220,"body_markdown":"What naturally identifies an entity. For example, my email address.\r\n\r\nHowever, a long variable length string is not an ideal key, so you may want to define a [surrogate id][1]\r\n\r\nAKA [Natural key][2] in relational design\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-declaration-naturalid\r\n  [2]: http://en.wikipedia.org/wiki/Natural_key","title":"What is a natural identifier in Hibernate?","body":"<p>What naturally identifies an entity. For example, my email address.</p>\n\n<p>However, a long variable length string is not an ideal key, so you may want to define a <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/mapping.html#mapping-declaration-naturalid\" rel=\"noreferrer\">surrogate id</a></p>\n\n<p>AKA <a href=\"http://en.wikipedia.org/wiki/Natural_key\" rel=\"noreferrer\">Natural key</a> in relational design</p>\n"},{"comments":[{"owner":{"account_id":28891,"reputation":10658,"user_id":77542,"accept_rate":100,"display_name":"Tordek"},"score":0,"creation_date":1260909751,"post_id":1910241,"comment_id":1814757,"body_markdown":"The hash (and it doesn&#39;t need to be a hash since a key can be multi-column) would only be a valid natural key if the data cannot change (e-mail is fine, name is iffy, password is unlikely and age is wrong).","body":"The hash (and it doesn&#39;t need to be a hash since a key can be multi-column) would only be a valid natural key if the data cannot change (e-mail is fine, name is iffy, password is unlikely and age is wrong)."},{"owner":{"account_id":13638,"reputation":424863,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"score":0,"creation_date":1260909869,"post_id":1910241,"comment_id":1814774,"body_markdown":"@Chris S: Not opposite: &quot;surrogate&quot;","body":"@Chris S: Not opposite: &quot;surrogate&quot;"},{"owner":{"account_id":11234,"reputation":64948,"user_id":21574,"accept_rate":81,"display_name":"Chris S"},"score":0,"creation_date":1260964528,"post_id":1910241,"comment_id":1819442,"body_markdown":"@Tordek: good point. @Gbn Updated the text a little. The wikipedia articles actually have good explanations of both","body":"@Tordek: good point. @Gbn Updated the text a little. The wikipedia articles actually have good explanations of both"}],"tags":[],"owner":{"account_id":11234,"reputation":64948,"user_id":21574,"accept_rate":81,"display_name":"Chris S"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260964473,"creation_date":1260909632,"answer_id":1910241,"question_id":1910220,"body_markdown":"A social security number might be a [natural identity][1], or as you&#39;ve said a hash of the User&#39;s information. The alternative is a [surrogate key][2], for example a Guid/UID.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Natural_key\r\n  [2]: http://en.wikipedia.org/wiki/Surrogate_key","title":"What is a natural identifier in Hibernate?","body":"<p>A social security number might be a <a href=\"http://en.wikipedia.org/wiki/Natural_key\" rel=\"nofollow noreferrer\">natural identity</a>, or as you've said a hash of the User's information. The alternative is a <a href=\"http://en.wikipedia.org/wiki/Surrogate_key\" rel=\"nofollow noreferrer\">surrogate key</a>, for example a Guid/UID.</p>\n"},{"comments":[{"owner":{"account_id":13638,"reputation":424863,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"score":0,"creation_date":1260910006,"post_id":1910250,"comment_id":1814792,"body_markdown":"One hopes that the key is constrained, eg primary key constraint to reduce such risks","body":"One hopes that the key is constrained, eg primary key constraint to reduce such risks"},{"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"score":3,"creation_date":1260910747,"post_id":1910250,"comment_id":1814881,"body_markdown":"You can constrain it in your data model, but you can&#39;t constrain real-life - mistakes do happen, and your data model doesn&#39;t need to break when they do. If you need to correct someone&#39;s SSN because for example it was entered incorrectly, it should be a single UPDATE. If you&#39;ve used it as a key throughout your system... serialized it, stored it in backups, and possibly even sent it to external systems, you&#39;re completely screwed. There&#39;s no way you are going to be able to update that person&#39;s SSN without breaking something. PS: don&#39;t store SSNs at all unless you have to.","body":"You can constrain it in your data model, but you can&#39;t constrain real-life - mistakes do happen, and your data model doesn&#39;t need to break when they do. If you need to correct someone&#39;s SSN because for example it was entered incorrectly, it should be a single UPDATE. If you&#39;ve used it as a key throughout your system... serialized it, stored it in backups, and possibly even sent it to external systems, you&#39;re completely screwed. There&#39;s no way you are going to be able to update that person&#39;s SSN without breaking something. PS: don&#39;t store SSNs at all unless you have to."},{"owner":{"account_id":13638,"reputation":424863,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"score":1,"creation_date":1260942420,"post_id":1910250,"comment_id":1817686,"body_markdown":"True, it still needs constrained and there should be a difference between logical model and implementation. SSN aint unique either... http://www.computerworld.com/s/article/300161/Not_So_Unique","body":"True, it still needs constrained and there should be a difference between logical model and implementation. SSN aint unique either... <a href=\"http://www.computerworld.com/s/article/300161/Not_So_Unique\" rel=\"nofollow noreferrer\">computerworld.com/s/article/300161/Not_So_Unique</a>"}],"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1260909720,"creation_date":1260909720,"answer_id":1910250,"question_id":1910220,"body_markdown":"A natural identifier is something that is used in the real world as an identifier. An example is a social security number, or a passport number.\r\n\r\nIt is usually a bad idea to use natural identifiers as keys in a persistence layer because a) they can be changed outside of your control, and b) they can end up not being unique due to a mistake elsewhere, and then your data model can&#39;t handle it so your application blows up. ","title":"What is a natural identifier in Hibernate?","body":"<p>A natural identifier is something that is used in the real world as an identifier. An example is a social security number, or a passport number.</p>\n\n<p>It is usually a bad idea to use natural identifiers as keys in a persistence layer because a) they can be changed outside of your control, and b) they can end up not being unique due to a mistake elsewhere, and then your data model can't handle it so your application blows up. </p>\n"},{"tags":[],"owner":{"account_id":239026,"reputation":2527,"user_id":508329,"accept_rate":75,"display_name":"chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1668789294,"creation_date":1399979135,"answer_id":23629503,"question_id":1910220,"body_markdown":"In Hibernate, natural keys are often used for lookups. You will have an auto-generated surrogate id in most cases. But this id is rather useless for lookups, as you&#39;ll always query by fields like name, social security number or anything else from the real world.\r\n\r\nWhen using Hibernate&#39;s caching features, this difference is very important: If the cache is indexed by your primary key (surrogate id), there won&#39;t be any performance gain on lookups. That&#39;s why you can define a set of fields that you are going to query the database with - the natural id. Hibernate can then index the data by your natural key and improve the lookup performance.\r\n\r\nSee this excellent [blog post][1] for a more detailed explanation or this [RedHat page][2] for an example Hibernate mapping file.\r\n\r\n\r\n  [1]: http://tech.puredanger.com/2009/07/10/hibernate-query-cache/\r\n  [2]: http://web.archive.org/web/20150923212633/https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Web_Platform/5/html/Hibernate_Core_Reference_Guide/query-criteria-naturalid.html","title":"What is a natural identifier in Hibernate?","body":"<p>In Hibernate, natural keys are often used for lookups. You will have an auto-generated surrogate id in most cases. But this id is rather useless for lookups, as you'll always query by fields like name, social security number or anything else from the real world.</p>\n<p>When using Hibernate's caching features, this difference is very important: If the cache is indexed by your primary key (surrogate id), there won't be any performance gain on lookups. That's why you can define a set of fields that you are going to query the database with - the natural id. Hibernate can then index the data by your natural key and improve the lookup performance.</p>\n<p>See this excellent <a href=\"http://tech.puredanger.com/2009/07/10/hibernate-query-cache/\" rel=\"noreferrer\">blog post</a> for a more detailed explanation or this <a href=\"http://web.archive.org/web/20150923212633/https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Web_Platform/5/html/Hibernate_Core_Reference_Guide/query-criteria-naturalid.html\" rel=\"noreferrer\">RedHat page</a> for an example Hibernate mapping file.</p>\n"},{"comments":[{"owner":{"account_id":9013600,"reputation":909,"user_id":6717287,"accept_rate":62,"display_name":"Amir Choubani"},"score":0,"creation_date":1546788430,"post_id":47031917,"comment_id":94959033,"body_markdown":"Sorry for commenting on an old question. But, I didn&#39;t understand what does it mean by `skip the entity identifier query` ?","body":"Sorry for commenting on an old question. But, I didn&#39;t understand what does it mean by <code>skip the entity identifier query</code> ?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1546790605,"post_id":47031917,"comment_id":94959633,"body_markdown":"It means skipping this query: \n\n\tSELECT p.id AS id1_0_\n\tFROM post p\n\tWHERE p.slug = &#39;high-performance-java-persistence&#39;\n\t\nwhich aims to get the entity identifier for this parituvlar natural-id value.","body":"It means skipping this query:   \tSELECT p.id AS id1_0_ \tFROM post p \tWHERE p.slug = &#39;high-performance-java-persistence&#39; \t which aims to get the entity identifier for this parituvlar natural-id value."},{"owner":{"account_id":3142616,"reputation":626,"user_id":2657781,"accept_rate":40,"display_name":"Khatri"},"score":1,"creation_date":1552478608,"post_id":47031917,"comment_id":97022961,"body_markdown":"hi, is it necessary to use the &quot;id&quot; filed, can&#39;t we just have slug as Id and NaturalId both?","body":"hi, is it necessary to use the &quot;id&quot; filed, can&#39;t we just have slug as Id and NaturalId both?"},{"owner":{"display_name":"user19601508"},"score":0,"creation_date":1659594028,"post_id":47031917,"comment_id":129332317,"body_markdown":"Good example, thanks. **1.** Do we have to add `@NaturalIdCache` annotation whenever we use `@NaturalId` ?    **2.** As far as I see, `@NaturalId` annotation is used an index, but I am not sure if I should use it whenever I have a unique field in my entity. Any idea?  **3.** Can I use `@NaturalId`  when both; the property is updatable or not?","body":"Good example, thanks. <b>1.</b> Do we have to add <code>@NaturalIdCache</code> annotation whenever we use <code>@NaturalId</code> ?    <b>2.</b> As far as I see, <code>@NaturalId</code> annotation is used an index, but I am not sure if I should use it whenever I have a unique field in my entity. Any idea?  <b>3.</b> Can I use <code>@NaturalId</code>  when both; the property is updatable or not?"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1631712651,"creation_date":1509442035,"answer_id":47031917,"question_id":1910220,"body_markdown":"In a relational database system, typically, you can have two types of simple identifiers:\r\n\r\n- Natural keys, which are assigned by external systems and guaranteed to be unique\r\n- Surrogate keys, like `IDENTITY` or `SEQUENCE` which are assigned by the database. \r\n\r\nThe reason why Surrogate Keys are so popular is that they are more compact (4 bytes or 8 bytes), compared to a Natural Key which is very long (e.g. the VIN takes 17 alphanumerical characters, the book ISBN is 13 digits long). If the Surrogate Key becomes the Primary Key, you can map it using the JPA `@Id` annotation.\r\n\r\nNow, let&#39;s assume we have the following `Post` entity:\r\n\r\n[![Post entity with natural id][1]](https://vladmihalcea.com/the-best-way-to-map-a-naturalid-business-key-with-jpa-and-hibernate/)\r\n\r\nSince the `Post` entity that has also a Natural Key, besides the Surrogate one, you can map it with the Hibernate-specific `@NaturalId` annotation:\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    public class Post {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @NaturalId\r\n        @Column(nullable = false, unique = true)\r\n        private String slug;\r\n     \r\n        //Getters and setters omitted for brevity\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) \r\n                return false;\r\n            Post post = (Post) o;\r\n            return Objects.equals(slug, post.slug);\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(slug);\r\n        }\r\n    }\r\n\r\nNow, considering the entity above, the user might have bookmarked a `Post` article and now they want to read it. However, the bookmarked URL contains the `slug` Natural Identifier, not the Primary Key.\r\n\r\nSo, we can fetch it like this using Hibernate:\r\n\r\n    Post post = entityManager.unwrap(Session.class)\r\n    .bySimpleNaturalId(Post.class)\r\n    .load(slug); \r\n\r\n### Hibernate 5.5 or newer\r\n\r\nWhen fetching the entity by its natural key on Hibernate 5.5 or newer, the following SQL query is generated:\r\n\r\n    SELECT p.id AS id1_0_0_,\r\n           p.slug AS slug2_0_0_,\r\n           p.title AS title3_0_0_\r\n    FROM post p\r\n    WHERE p.slug = &#39;high-performance-java-persistence&#39;\r\n\r\nSo, since Hibernate 5.5, the entity is fetched by its natural identifier directly from the database.\r\n\r\n### Hibernate 5.4 or older\r\n\r\nWhen fetching the entity by its natural key on Hibernate 5.4 or older, two SQL queries are generated:\r\n\r\n    SELECT p.id AS id1_0_\r\n    FROM post p\r\n    WHERE p.slug = &#39;high-performance-java-persistence&#39;\r\n     \r\n    SELECT p.id AS id1_0_0_,\r\n           p.slug AS slug2_0_0_,\r\n           p.title AS title3_0_0_\r\n    FROM post p\r\n    WHERE p.id = 1\r\n\r\nThe first query is needed to resolve the entity identifier associated with the provided natural identifier.\r\n\r\nThe second query is optional if the entity is already loaded in the first or the second-level cache.\r\n\r\nThe reason for having the first query is because Hibernate already has a well-established logic for loading and associating entities by their identifier in the Persistence Context.\r\n\r\nNow, if you want to skip the entity identifier query, you can easily annotate the entity using the `@NaturalIdCache` annotation:\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    @org.hibernate.annotations.Cache(\r\n        usage = CacheConcurrencyStrategy.READ_WRITE\r\n    )\r\n    @NaturalIdCache\r\n    public class Post {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @NaturalId\r\n        @Column(nullable = false, unique = true)\r\n        private String slug;\r\n     \r\n        //Getters and setters omitted for brevity\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) \r\n                return false;\r\n            Post post = (Post) o;\r\n            return Objects.equals(slug, post.slug);\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(slug);\r\n        }\r\n    }\r\n\r\nThis way, you can fetch the `Post` entity without even hitting the database. Cool, right?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/teolr.png\r\n","title":"What is a natural identifier in Hibernate?","body":"<p>In a relational database system, typically, you can have two types of simple identifiers:</p>\n<ul>\n<li>Natural keys, which are assigned by external systems and guaranteed to be unique</li>\n<li>Surrogate keys, like <code>IDENTITY</code> or <code>SEQUENCE</code> which are assigned by the database.</li>\n</ul>\n<p>The reason why Surrogate Keys are so popular is that they are more compact (4 bytes or 8 bytes), compared to a Natural Key which is very long (e.g. the VIN takes 17 alphanumerical characters, the book ISBN is 13 digits long). If the Surrogate Key becomes the Primary Key, you can map it using the JPA <code>@Id</code> annotation.</p>\n<p>Now, let's assume we have the following <code>Post</code> entity:</p>\n<p><a href=\"https://vladmihalcea.com/the-best-way-to-map-a-naturalid-business-key-with-jpa-and-hibernate/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/teolr.png\" alt=\"Post entity with natural id\" /></a></p>\n<p>Since the <code>Post</code> entity that has also a Natural Key, besides the Surrogate one, you can map it with the Hibernate-specific <code>@NaturalId</code> annotation:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic class Post {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @NaturalId\n    @Column(nullable = false, unique = true)\n    private String slug;\n \n    //Getters and setters omitted for brevity\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) \n            return false;\n        Post post = (Post) o;\n        return Objects.equals(slug, post.slug);\n    }\n \n    @Override\n    public int hashCode() {\n        return Objects.hash(slug);\n    }\n}\n</code></pre>\n<p>Now, considering the entity above, the user might have bookmarked a <code>Post</code> article and now they want to read it. However, the bookmarked URL contains the <code>slug</code> Natural Identifier, not the Primary Key.</p>\n<p>So, we can fetch it like this using Hibernate:</p>\n<pre><code>Post post = entityManager.unwrap(Session.class)\n.bySimpleNaturalId(Post.class)\n.load(slug); \n</code></pre>\n<h3>Hibernate 5.5 or newer</h3>\n<p>When fetching the entity by its natural key on Hibernate 5.5 or newer, the following SQL query is generated:</p>\n<pre><code>SELECT p.id AS id1_0_0_,\n       p.slug AS slug2_0_0_,\n       p.title AS title3_0_0_\nFROM post p\nWHERE p.slug = 'high-performance-java-persistence'\n</code></pre>\n<p>So, since Hibernate 5.5, the entity is fetched by its natural identifier directly from the database.</p>\n<h3>Hibernate 5.4 or older</h3>\n<p>When fetching the entity by its natural key on Hibernate 5.4 or older, two SQL queries are generated:</p>\n<pre><code>SELECT p.id AS id1_0_\nFROM post p\nWHERE p.slug = 'high-performance-java-persistence'\n \nSELECT p.id AS id1_0_0_,\n       p.slug AS slug2_0_0_,\n       p.title AS title3_0_0_\nFROM post p\nWHERE p.id = 1\n</code></pre>\n<p>The first query is needed to resolve the entity identifier associated with the provided natural identifier.</p>\n<p>The second query is optional if the entity is already loaded in the first or the second-level cache.</p>\n<p>The reason for having the first query is because Hibernate already has a well-established logic for loading and associating entities by their identifier in the Persistence Context.</p>\n<p>Now, if you want to skip the entity identifier query, you can easily annotate the entity using the <code>@NaturalIdCache</code> annotation:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\n@org.hibernate.annotations.Cache(\n    usage = CacheConcurrencyStrategy.READ_WRITE\n)\n@NaturalIdCache\npublic class Post {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @NaturalId\n    @Column(nullable = false, unique = true)\n    private String slug;\n \n    //Getters and setters omitted for brevity\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) \n            return false;\n        Post post = (Post) o;\n        return Objects.equals(slug, post.slug);\n    }\n \n    @Override\n    public int hashCode() {\n        return Objects.hash(slug);\n    }\n}\n</code></pre>\n<p>This way, you can fetch the <code>Post</code> entity without even hitting the database. Cool, right?</p>\n"},{"tags":[],"owner":{"account_id":6135552,"reputation":2268,"user_id":4784537,"display_name":"Ahmad Al-Kurdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531868279,"creation_date":1531868279,"answer_id":51391279,"question_id":1910220,"body_markdown":"**Natural identifier** (also known as business key): is an identifier that means or represent something in real life.\r\n&lt;br/&gt;\r\n**Email** or **national id** for **person** &lt;br/&gt;\r\n**Isbn** for **Book** &lt;br/&gt;\r\n**IBAN** for **Bank** account \r\n\r\n\r\nThis `@NaturalId` Annotation is used to specify Natural identifier.\r\n\r\n","title":"What is a natural identifier in Hibernate?","body":"<p><strong>Natural identifier</strong> (also known as business key): is an identifier that means or represent something in real life.\n<br/>\n<strong>Email</strong> or <strong>national id</strong> for <strong>person</strong> <br/>\n<strong>Isbn</strong> for <strong>Book</strong> <br/>\n<strong>IBAN</strong> for <strong>Bank</strong> account </p>\n\n<p>This <code>@NaturalId</code> Annotation is used to specify Natural identifier.</p>\n"},{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541352705,"creation_date":1541351903,"answer_id":53143364,"question_id":1910220,"body_markdown":"In relational database theory a relation can have multiple *candidate keys*.\r\nA [candidate key][1] is a set of attributes of a relation that are never duplicate in two rows of that relation and that cannot be reduced by removing one of the attributes and still guarantee uniqueness.\r\n\r\nA natural ID is essentially a candidate key. Where &quot;natural&quot; means it is in the nature of the data you hold in that relation, not something you add like an autogenerated key.\r\nA natural ID can be composed of a single attribute.\r\nIn general any attribute of a relation that is unique and not-null is a candidate key, and can be considered a natural id.\r\n\r\nIn Hibernate this annotation can be used simply to denote that an attribute can be used to do searches that return unique results while not using the key.\r\nThis can be useful when the attribute you denote as natural id is more natural to deal with for you, e.g. when the actual key is autogenerated and you don&#39;t want to use in searches.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Candidate_key","title":"What is a natural identifier in Hibernate?","body":"<p>In relational database theory a relation can have multiple <em>candidate keys</em>.\nA <a href=\"https://en.wikipedia.org/wiki/Candidate_key\" rel=\"nofollow noreferrer\">candidate key</a> is a set of attributes of a relation that are never duplicate in two rows of that relation and that cannot be reduced by removing one of the attributes and still guarantee uniqueness.</p>\n\n<p>A natural ID is essentially a candidate key. Where \"natural\" means it is in the nature of the data you hold in that relation, not something you add like an autogenerated key.\nA natural ID can be composed of a single attribute.\nIn general any attribute of a relation that is unique and not-null is a candidate key, and can be considered a natural id.</p>\n\n<p>In Hibernate this annotation can be used simply to denote that an attribute can be used to do searches that return unique results while not using the key.\nThis can be useful when the attribute you denote as natural id is more natural to deal with for you, e.g. when the actual key is autogenerated and you don't want to use in searches.</p>\n"}],"owner":{"account_id":34618,"reputation":33041,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27914,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":23629503,"answer_count":7,"score":42,"last_activity_date":1668789294,"creation_date":1260909448,"question_id":1910220,"body_markdown":"While reading through the Hibernate documentation, I keep seeing references to the concept of a *natural identifier*. \r\n\r\nDoes this just mean the id an entity has due to the nature of the data it holds? \r\n\r\nE.g. A user&#39;s name + password + age + something are used as a compound identitifier?","title":"What is a natural identifier in Hibernate?","body":"<p>While reading through the Hibernate documentation, I keep seeing references to the concept of a <em>natural identifier</em>. </p>\n\n<p>Does this just mean the id an entity has due to the nature of the data it holds? </p>\n\n<p>E.g. A user's name + password + age + something are used as a compound identitifier?</p>\n"},{"tags":["java",".class-file"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1668785002,"post_id":74491769,"comment_id":131497616,"body_markdown":"The basic way is to put the `.class` files on your class path so the compiler can find them.  In an IDE this may involve adding the files as a &quot;library&quot; and including the library as part of the project.  You should have instructions / documentation how to do that for your assignment.  If you don&#39;t, I&#39;d ask a classmate or your instructor, I think you may have missed some instructions.","body":"The basic way is to put the <code>.class</code> files on your class path so the compiler can find them.  In an IDE this may involve adding the files as a &quot;library&quot; and including the library as part of the project.  You should have instructions / documentation how to do that for your assignment.  If you don&#39;t, I&#39;d ask a classmate or your instructor, I think you may have missed some instructions."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1668785179,"post_id":74491769,"comment_id":131497676,"body_markdown":"P.S. a `.doc` file is normally a Microsoft Word document, maybe open it up and see what&#39;s inside?","body":"P.S. a <code>.doc</code> file is normally a Microsoft Word document, maybe open it up and see what&#39;s inside?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668785649,"post_id":74491769,"comment_id":131497840,"body_markdown":"Even if it’s not a Word file, a file with a `.doc` ending typically is a readable text document targeting human users. So it’s definitely worth looking into this file first.","body":"Even if it’s not a Word file, a file with a <code>.doc</code> ending typically is a readable text document targeting human users. So it’s definitely worth looking into this file first."},{"owner":{"account_id":16519526,"reputation":13,"user_id":13542764,"display_name":"dylanroman03"},"score":0,"creation_date":1668806037,"post_id":74491769,"comment_id":131503864,"body_markdown":"@markspace yeah is a word document, with the instructions for the homework, but it doesn&#39;t say anything about how to use the .class file","body":"@markspace yeah is a word document, with the instructions for the homework, but it doesn&#39;t say anything about how to use the .class file"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1668807142,"post_id":74491769,"comment_id":131504105,"body_markdown":"Without any details what you were actually told to do, I don&#39;t think anyone here has a chance of actually helping you.  Please ask your instructor what you are supposed to do.","body":"Without any details what you were actually told to do, I don&#39;t think anyone here has a chance of actually helping you.  Please ask your instructor what you are supposed to do."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1668964692,"post_id":74491769,"comment_id":131528628,"body_markdown":"If your teacher is reasonable, he will be delighted to give you all the necessary requirements (i.e. contract) on how the interface must be implemented to fully comply with the specification at hand. Otherwise an interface is just technical debt to urgently get rid of.","body":"If your teacher is reasonable, he will be delighted to give you all the necessary requirements (i.e. contract) on how the interface must be implemented to fully comply with the specification at hand. Otherwise an interface is just technical debt to urgently get rid of."}],"answers":[{"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":3,"creation_date":1668786427,"post_id":74492037,"comment_id":131498131,"body_markdown":"There is no need to use a decompiler here, this is nonsense..","body":"There is no need to use a decompiler here, this is nonsense.."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1668963092,"post_id":74492037,"comment_id":131528285,"body_markdown":"@GyroGearless For myself, yes, that is also true. For somebody that&#39;s just beginning Java, maybe it&#39;s something to try.. only if no IDE is at hand here. *In reality*, to implement &#39;correctly&#39; an &#39;interface&#39;, you must know the contract, which is not possible w/o source-code or at least any kind of specifications on the requirements on how to implement a given interface .","body":"@GyroGearless For myself, yes, that is also true. For somebody that&#39;s just beginning Java, maybe it&#39;s something to try.. only if no IDE is at hand here. <i>In reality</i>, to implement &#39;correctly&#39; an &#39;interface&#39;, you must know the contract, which is not possible w/o source-code or at least any kind of specifications on the requirements on how to implement a given interface ."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670861828,"post_id":74492037,"comment_id":131965794,"body_markdown":"@MJG since a decompiler is not capable of restoring documentation, it doesn’t help in explaining the contract of an interface. When you want to know, which methods a compiled interface has, you can use `javap` which ships with every JDK (and is not a decompiler).","body":"@MJG since a decompiler is not capable of restoring documentation, it doesn’t help in explaining the contract of an interface. When you want to know, which methods a compiled interface has, you can use <code>javap</code> which ships with every JDK (and is not a decompiler)."},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1670937179,"post_id":74492037,"comment_id":131984522,"body_markdown":"@Holger a decompiler is used when the IDE does not find the sources, it will at least give you the &#39;structure&#39; of the class. The only option I know from using a compiled interface is to reverse engineer and then of course I agree, to understand an interface, of course it is not what you need, as I indicated above. It both helps to implement the interface in a compilable way, not more.","body":"@Holger a decompiler is used when the IDE does not find the sources, it will at least give you the &#39;structure&#39; of the class. The only option I know from using a compiled interface is to reverse engineer and then of course I agree, to understand an interface, of course it is not what you need, as I indicated above. It both helps to implement the interface in a compilable way, not more."}],"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668786042,"creation_date":1668786042,"answer_id":74492037,"question_id":74491769,"body_markdown":"One option is to decompile the class-file, which will get you a java-file of the interface that was compiled.\r\n\r\nIf you don&#39;t want to use a decompiler, write a small application that will reflect the `numeros` class and prints out all methods and their parameter-types and return-types, so you can implement it.\r\n\r\nOf course you could always use an IDE, with the class-file in module-path, your IDE will assist you to implement the interface.","title":"How to implements interface from .class file in .java file?","body":"<p>One option is to decompile the class-file, which will get you a java-file of the interface that was compiled.</p>\n<p>If you don't want to use a decompiler, write a small application that will reflect the <code>numeros</code> class and prints out all methods and their parameter-types and return-types, so you can implement it.</p>\n<p>Of course you could always use an IDE, with the class-file in module-path, your IDE will assist you to implement the interface.</p>\n"},{"comments":[{"owner":{"account_id":16519526,"reputation":13,"user_id":13542764,"display_name":"dylanroman03"},"score":0,"creation_date":1668806694,"post_id":74492687,"comment_id":131504008,"body_markdown":"But the code would mark an error, and the autocomplete would not work","body":"But the code would mark an error, and the autocomplete would not work"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1670576454,"post_id":74492687,"comment_id":131910677,"body_markdown":"@dylanroman03 I don&#39;t think so. It is a very frequent thing to use libraries (3rd party jar files) which just contain the class files. Static analysis and code completion should work without problems.","body":"@dylanroman03 I don&#39;t think so. It is a very frequent thing to use libraries (3rd party jar files) which just contain the class files. Static analysis and code completion should work without problems."}],"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668789050,"creation_date":1668789050,"answer_id":74492687,"question_id":74491769,"body_markdown":"The .class files simply need to be on the classpath when you compile. How exactly you configure that depends on how you compile (on the commandline or in an IDE; in what IDE).\r\n\r\n[Here][1] is the documentation for the classpath. [Here][2] is a related question for setting the classpath.\r\n\r\n&gt; The class path is the path that the Java runtime environment searches for classes and other resource files. The class search path (more commonly known by the shorter name, &quot;class path&quot;) can be set using either the -classpath option when calling a JDK tool (the preferred method) or by setting the CLASSPATH environment variable. The -classpath option is preferred because you can set it individually for each application without affecting other applications and without other applications modifying its value.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n  [2]: https://stackoverflow.com/questions/36187722/setting-javac-classpath","title":"How to implements interface from .class file in .java file?","body":"<p>The .class files simply need to be on the classpath when you compile. How exactly you configure that depends on how you compile (on the commandline or in an IDE; in what IDE).</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">Here</a> is the documentation for the classpath. <a href=\"https://stackoverflow.com/questions/36187722/setting-javac-classpath\">Here</a> is a related question for setting the classpath.</p>\n<blockquote>\n<p>The class path is the path that the Java runtime environment searches for classes and other resource files. The class search path (more commonly known by the shorter name, &quot;class path&quot;) can be set using either the -classpath option when calling a JDK tool (the preferred method) or by setting the CLASSPATH environment variable. The -classpath option is preferred because you can set it individually for each application without affecting other applications and without other applications modifying its value.</p>\n</blockquote>\n"}],"owner":{"account_id":16519526,"reputation":13,"user_id":13542764,"display_name":"dylanroman03"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668789050,"creation_date":1668784545,"question_id":74491769,"body_markdown":"I have homework that asks me to use a .class file for my project, but I don&#39;t know how to use those files in a .java file. This is the project structure\r\n\r\n```\r\nagentes.class\r\ndatos_confidenciales.class\r\nII_Parcial_2007_1.doc\r\nMain.java\r\nnumeros.class\r\n```\r\n\r\nI mean, I got to make a class called `Main` that implements the `numeros interface`, the numeros interface is in `numeros.class` file\r\n\r\nI&#39;ve googled but no results.","title":"How to implements interface from .class file in .java file?","body":"<p>I have homework that asks me to use a .class file for my project, but I don't know how to use those files in a .java file. This is the project structure</p>\n<pre><code>agentes.class\ndatos_confidenciales.class\nII_Parcial_2007_1.doc\nMain.java\nnumeros.class\n</code></pre>\n<p>I mean, I got to make a class called <code>Main</code> that implements the <code>numeros interface</code>, the numeros interface is in <code>numeros.class</code> file</p>\n<p>I've googled but no results.</p>\n"},{"tags":["java","spring","spring-data-jpa","locking","spring-transactions"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1586207850,"post_id":61068982,"comment_id":108039690,"body_markdown":"Is the mysql table setup to handle the lock?","body":"Is the mysql table setup to handle the lock?"},{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1586207996,"post_id":61068982,"comment_id":108039739,"body_markdown":"If that is setup, try autowiring in an `EntityManager em` and call `em.flush()` and `em.clear()` before querying the AccountBalance.","body":"If that is setup, try autowiring in an <code>EntityManager em</code> and call <code>em.flush()</code> and <code>em.clear()</code> before querying the AccountBalance."},{"owner":{"account_id":2732270,"reputation":30,"user_id":2355778,"display_name":"l7777777b"},"score":0,"creation_date":1586232794,"post_id":61068982,"comment_id":108045906,"body_markdown":"@RobOhRob if i call flush and clear before fetching accountbalance it&#39;ll work. or flush and detach(accountBalance entity only) also going to work well. but why do i need those for accountbalance query not depositTransactionLatest query? and i thought hibernate can handle that automatically?","body":"@RobOhRob if i call flush and clear before fetching accountbalance it&#39;ll work. or flush and detach(accountBalance entity only) also going to work well. but why do i need those for accountbalance query not depositTransactionLatest query? and i thought hibernate can handle that automatically?"}],"answers":[{"tags":[],"owner":{"account_id":1003184,"reputation":852,"user_id":1017571,"accept_rate":75,"display_name":"mbosecke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668789039,"creation_date":1668789039,"answer_id":74492684,"question_id":61068982,"body_markdown":"I had a case where fetching data with a pessimistic lock would correctly block if there happened to be a concurrent transaction, but would inexplicably return stale data to me. The concurrent transaction would update the data and I would expect my return value to reflect this update. The cause was because I was also fetching unrelated data prior to my lock, and this caused hibernate to seed it&#39;s first-level cache with stale data. Something like this:\r\n\r\n````\r\n// Zoo has a collection of animals which will seed the first-level cache.\r\nZoo zoo = zooRepository.getZoo();\r\n\r\n// ... do unrelated work with zoo\r\n\r\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\r\n/* \r\n * Even though the above command might block, making you THINK that \r\n * hibernate is going to return the latest version of this specific \r\n * animal, in reality, if it&#39;s already in the first-level cache, from\r\n * when you fetched the zoo, you will get the cached copy which is \r\n * now stale.\r\n */\r\n````\r\n\r\nI figured this out by having Spring print the SQL and carefully examining it. Prior to my lock I realized that while fetching the Zoo, it would&#39;ve simultaneously fetched my target Animal in a stale state.\r\n\r\nIn my case, the answer was to fetch my locked entities at the very beginning of the transaction so there wasn&#39;t an opportunity for the first-level cache to have gotten dirty by that time, like this:\r\n\r\n```\r\n// Fetch important entity first so we know it&#39;s fresh from the database!\r\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\r\n\r\n// Now do unrelated work \r\nZoo zoo = animal.getZoo();\r\n```\r\n\r\nAn alternative that I didn&#39;t try might be to flush the cache immediately prior to fetching the locked entity: \r\n\r\n```\r\nZoo zoo = animal.getZoo(); // Cache is now dirty/stale!\r\n\r\nentityManager.clear(); // Clear the cache\r\n\r\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\r\n```\r\n\r\nHopefully that helps someone in the future.","title":"Entity fetched with pessimistic locking has outdated value","body":"<p>I had a case where fetching data with a pessimistic lock would correctly block if there happened to be a concurrent transaction, but would inexplicably return stale data to me. The concurrent transaction would update the data and I would expect my return value to reflect this update. The cause was because I was also fetching unrelated data prior to my lock, and this caused hibernate to seed it's first-level cache with stale data. Something like this:</p>\n<pre><code>// Zoo has a collection of animals which will seed the first-level cache.\nZoo zoo = zooRepository.getZoo();\n\n// ... do unrelated work with zoo\n\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\n/* \n * Even though the above command might block, making you THINK that \n * hibernate is going to return the latest version of this specific \n * animal, in reality, if it's already in the first-level cache, from\n * when you fetched the zoo, you will get the cached copy which is \n * now stale.\n */\n</code></pre>\n<p>I figured this out by having Spring print the SQL and carefully examining it. Prior to my lock I realized that while fetching the Zoo, it would've simultaneously fetched my target Animal in a stale state.</p>\n<p>In my case, the answer was to fetch my locked entities at the very beginning of the transaction so there wasn't an opportunity for the first-level cache to have gotten dirty by that time, like this:</p>\n<pre><code>// Fetch important entity first so we know it's fresh from the database!\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\n\n// Now do unrelated work \nZoo zoo = animal.getZoo();\n</code></pre>\n<p>An alternative that I didn't try might be to flush the cache immediately prior to fetching the locked entity:</p>\n<pre><code>Zoo zoo = animal.getZoo(); // Cache is now dirty/stale!\n\nentityManager.clear(); // Clear the cache\n\nAnimal panda = animalRepository.getAnimalByIdWithExclusiveLock(animalId);\n</code></pre>\n<p>Hopefully that helps someone in the future.</p>\n"}],"owner":{"account_id":2732270,"reputation":30,"user_id":2355778,"display_name":"l7777777b"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668789039,"creation_date":1586207177,"question_id":61068982,"body_markdown":"im testing some kind of small banking-ish service with mysql database. \r\n\r\nim using 2nd level cache hibernate (possible source of problem?). \r\n\r\nthe data structure basically consists of 2 tables, a table for list of transactions (deposits) and a table for storing the latest balance for each account which should be able to be updated concurrently. \r\n\r\nand while im testing the concurrency, i see some mistakes on my program. \r\nhere&#39;s my code, its not perfect but its actually running.\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class depositService {\r\n\r\n    //method below is being executed concurrently\r\n    public Deposit save(Long userId, BigDecimal amount){ //add deposit transaction into transaction list and update related user balance\r\n\r\n        DepositTransaction depositTransaction = new DepositTransaction();\r\n        depositTransaction.setUserId(userId);\r\n        depositTransaction.setAmount(amount);\r\n        DepositTransaction depositTransactionLatest = depositTransactionRepository.findTopWithLockByUser_IdOrderByIdDesc(userId).orElse(new DepositTransaction());\r\ndepositTransaction.setBalance(depositTransactionLatest.getBalance().add(depositTransaction.getAmount())); // balance increment works well \r\n        depositTransaction = depositTransactionRepository.save(depositTransaction); //add into transaction table works as expected without any inconsistencies / lost update\r\n            \r\n        AccountBalance accountBalance = accountBalanceRepository.findOneWithLockById(depositTransaction.getUserId()).orElse(null); //update user balance\r\n        accountBalance.setBalance(accountBalance.getBalance().add(depositTransaction.getAmount())); //most of the time, accountBalance.getBalance still having outdated value\r\n        accountBalanceRepository.save(companyBank);\r\n    }\r\n}\r\n```\r\n```\r\n@Repository\r\npublic interface DepositTransactionRepository{\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    Optional&lt;DepositTransaction&gt; findTopWithLockByUser_IdOrderByIdDesc(Long userId);\r\n}\r\n```\r\n```\r\n@Repository\r\npublic interface AccountBalanceRepository{\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    Optional&lt;AccountBalanceTransaction&gt; findOneWithLockById(Long userId);\r\n}\r\n```\r\n\r\nbased on the above code, i have a transaction and inside it i use 2 pessimistic locking fetch for 2 entities. \r\nthe queries generated have &quot;for update&quot; included correctly and its locked properly since i tried to acquire the lock and failed using mysql command line.\r\n\r\nmy problem is the accountbalance will have inconsistencies if there are concurrent request, but i dont quite understand why deposit transaction&#39;s lock can do it.\r\n\r\nthe accountBalance.getBalance() will always have outdated value and will need to wait for a few iterations to change to the updated value.\r\n\r\ni can make this work if i use serialize transaction isolation with retry mechanism in case of deadlock. but i prefer pessimistic if its possible.\r\n","title":"Entity fetched with pessimistic locking has outdated value","body":"<p>im testing some kind of small banking-ish service with mysql database. </p>\n\n<p>im using 2nd level cache hibernate (possible source of problem?). </p>\n\n<p>the data structure basically consists of 2 tables, a table for list of transactions (deposits) and a table for storing the latest balance for each account which should be able to be updated concurrently. </p>\n\n<p>and while im testing the concurrency, i see some mistakes on my program. \nhere's my code, its not perfect but its actually running.</p>\n\n<pre><code>@Service\n@Transactional\npublic class depositService {\n\n    //method below is being executed concurrently\n    public Deposit save(Long userId, BigDecimal amount){ //add deposit transaction into transaction list and update related user balance\n\n        DepositTransaction depositTransaction = new DepositTransaction();\n        depositTransaction.setUserId(userId);\n        depositTransaction.setAmount(amount);\n        DepositTransaction depositTransactionLatest = depositTransactionRepository.findTopWithLockByUser_IdOrderByIdDesc(userId).orElse(new DepositTransaction());\ndepositTransaction.setBalance(depositTransactionLatest.getBalance().add(depositTransaction.getAmount())); // balance increment works well \n        depositTransaction = depositTransactionRepository.save(depositTransaction); //add into transaction table works as expected without any inconsistencies / lost update\n\n        AccountBalance accountBalance = accountBalanceRepository.findOneWithLockById(depositTransaction.getUserId()).orElse(null); //update user balance\n        accountBalance.setBalance(accountBalance.getBalance().add(depositTransaction.getAmount())); //most of the time, accountBalance.getBalance still having outdated value\n        accountBalanceRepository.save(companyBank);\n    }\n}\n</code></pre>\n\n<pre><code>@Repository\npublic interface DepositTransactionRepository{\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    Optional&lt;DepositTransaction&gt; findTopWithLockByUser_IdOrderByIdDesc(Long userId);\n}\n</code></pre>\n\n<pre><code>@Repository\npublic interface AccountBalanceRepository{\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    Optional&lt;AccountBalanceTransaction&gt; findOneWithLockById(Long userId);\n}\n</code></pre>\n\n<p>based on the above code, i have a transaction and inside it i use 2 pessimistic locking fetch for 2 entities. \nthe queries generated have \"for update\" included correctly and its locked properly since i tried to acquire the lock and failed using mysql command line.</p>\n\n<p>my problem is the accountbalance will have inconsistencies if there are concurrent request, but i dont quite understand why deposit transaction's lock can do it.</p>\n\n<p>the accountBalance.getBalance() will always have outdated value and will need to wait for a few iterations to change to the updated value.</p>\n\n<p>i can make this work if i use serialize transaction isolation with retry mechanism in case of deadlock. but i prefer pessimistic if its possible.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1648836128,"post_id":71710995,"comment_id":126733799,"body_markdown":"Why dont you mock restHighLevelClient instead?","body":"Why dont you mock restHighLevelClient instead?"},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1648838899,"post_id":71710995,"comment_id":126734568,"body_markdown":"@Lesiak I  have updated the code, The  restHighLevelClient is declared as a private variable. And to mock the private variable, I need to use PowerMock or mockito-inline. None of these are supported by the current framework which I am using.","body":"@Lesiak I  have updated the code, The  restHighLevelClient is declared as a private variable. And to mock the private variable, I need to use PowerMock or mockito-inline. None of these are supported by the current framework which I am using."},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1648839258,"post_id":71710995,"comment_id":126734644,"body_markdown":"@Lesiak Here, the object creation of restHighLevelClient is happening within the class scope due to which, I am unable to mock it.","body":"@Lesiak Here, the object creation of restHighLevelClient is happening within the class scope due to which, I am unable to mock it."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1648842446,"post_id":71710995,"comment_id":126735348,"body_markdown":"ElasticSearch RestHighLevelClient is thread-safe, if it is also true with OpenSearch, than it is a perfect candidate for injection. See https://stackoverflow.com/questions/46357400/elasticsearch-java-high-level-rest-client-singleton-or-one-instance-per-user","body":"ElasticSearch RestHighLevelClient is thread-safe, if it is also true with OpenSearch, than it is a perfect candidate for injection. See <a href=\"https://stackoverflow.com/questions/46357400/elasticsearch-java-high-level-rest-client-singleton-or-one-instance-per-user\" title=\"elasticsearch java high level rest client singleton or one instance per user\">stackoverflow.com/questions/46357400/&hellip;</a>"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648852717,"post_id":71710995,"comment_id":126737489,"body_markdown":"Hi, Spy and InjectMock annotations does not work together, See an example how to resolve it https://stackoverflow.com/questions/71619940/mockito-how-to-mock-objects-in-a-spy/71621205#71621205","body":"Hi, Spy and InjectMock annotations does not work together, See an example how to resolve it <a href=\"https://stackoverflow.com/questions/71619940/mockito-how-to-mock-objects-in-a-spy/71621205#71621205\" title=\"mockito how to mock objects in a spy\">stackoverflow.com/questions/71619940/&hellip;</a>"},{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":0,"creation_date":1648868425,"post_id":71710995,"comment_id":126739245,"body_markdown":"@Eugene unlike the example in the link, here  the method is in the same mock class. I have but its not working. The code goes into the implementation class and throws NULL pointer exception. I have updated the question. It would be helpful, if you are able to provide me a code snippet.","body":"@Eugene unlike the example in the link, here  the method is in the same mock class. I have but its not working. The code goes into the implementation class and throws NULL pointer exception. I have updated the question. It would be helpful, if you are able to provide me a code snippet."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648909500,"post_id":71710995,"comment_id":126745049,"body_markdown":"I have described the full test.","body":"I have described the full test."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648909754,"creation_date":1648909047,"answer_id":71718320,"question_id":71710995,"body_markdown":"1) Create a partial mock for `PredictionService`.\r\n   You need to use [Spy][1] mock. When you use the spy then the real methods are called (unless a method was stubbed). So some methods will be executed, and others will be mocked.\r\n\r\n2) Second problem is that `Spy` annotation can not work together with `InjectMocks`. Use `Mockito.spy` instead.\r\n```java\r\n @org.mockito.InjectMocks\r\n PredictionService mockPredictionService = Mockito.spy(new PredictionService());\r\n```\r\nAnother option is to create a constructor in `PredictionService` and inject mock manually:\r\n```java\r\nPredictionService mockPredictionService = Mockito.spy(new PredictionService(mockElasticSearch));\r\n```\r\n\r\nExample of working test with comments:\r\n```java\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@RunWith(org.mockito.junit.MockitoJUnitRunner.class)\r\npublic class PredictionServiceTest{\r\n    @org.mockito.Mock\r\n    ElasticSearch mockElasticSearch; //create mock for elastic search\r\n\r\n    @org.mockito.InjectMocks\r\n    PredictionService mockPredictionService = Mockito.spy(new PredictionService());// create partial mock for your service, because you mock only one method of real object\r\n                                                                                   //inject mocks in your service\r\n\r\n    @org.mockito.Mock\r\n    SearchResponse searchResponse;//create a mock for the search response or you can create your own response without mock\r\n\r\n    @org.junit.Test\r\n    public void getPredictionListTest() {\r\n        //perform mock of elastic search\r\n        SearchSourceBuilder searchSourceBuilder = SearchSourceBuilder.searchSource();\r\n        when(mockElasticSearch.createQuery(any())).thenReturn(searchSourceBuilder);\r\n\r\n        //partially mock your service\r\n        when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\n        //execute test\r\n        String actualResponse = mockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);\r\n\r\n        //verify that mock was executed\r\n        verify(mockPredictionService, times(1)).getSearchResponse(any());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy","title":"Mockito mocking a method within the mocked class","body":"<ol>\n<li><p>Create a partial mock for <code>PredictionService</code>.\nYou need to use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy\" rel=\"nofollow noreferrer\">Spy</a> mock. When you use the spy then the real methods are called (unless a method was stubbed). So some methods will be executed, and others will be mocked.</p>\n</li>\n<li><p>Second problem is that <code>Spy</code> annotation can not work together with <code>InjectMocks</code>. Use <code>Mockito.spy</code> instead.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code> @org.mockito.InjectMocks\n PredictionService mockPredictionService = Mockito.spy(new PredictionService());\n</code></pre>\n<p>Another option is to create a constructor in <code>PredictionService</code> and inject mock manually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PredictionService mockPredictionService = Mockito.spy(new PredictionService(mockElasticSearch));\n</code></pre>\n<p>Example of working test with comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.runner.RunWith;\nimport org.mockito.Mockito;\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.*;\n\n@RunWith(org.mockito.junit.MockitoJUnitRunner.class)\npublic class PredictionServiceTest{\n    @org.mockito.Mock\n    ElasticSearch mockElasticSearch; //create mock for elastic search\n\n    @org.mockito.InjectMocks\n    PredictionService mockPredictionService = Mockito.spy(new PredictionService());// create partial mock for your service, because you mock only one method of real object\n                                                                                   //inject mocks in your service\n\n    @org.mockito.Mock\n    SearchResponse searchResponse;//create a mock for the search response or you can create your own response without mock\n\n    @org.junit.Test\n    public void getPredictionListTest() {\n        //perform mock of elastic search\n        SearchSourceBuilder searchSourceBuilder = SearchSourceBuilder.searchSource();\n        when(mockElasticSearch.createQuery(any())).thenReturn(searchSourceBuilder);\n\n        //partially mock your service\n        when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n\n        //execute test\n        String actualResponse = mockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);\n\n        //verify that mock was executed\n        verify(mockPredictionService, times(1)).getSearchResponse(any());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679776,"reputation":51,"user_id":4491418,"display_name":"Steven Dewey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668788769,"creation_date":1668788769,"answer_id":74492624,"question_id":71710995,"body_markdown":"I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I&#39;d share my results for posterity. \r\n\r\nMy situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution: \r\n```\r\n    @MockBean\r\n    DependentService mockDependentService\r\n    \r\n    ControllerToTest controllerToTest\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n       mockDependentService = mock(DependentService.class);\r\n       controllerToTest = mock(ControllerToTest.class);\r\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n        //set up test and other mocks \r\n        //be sure to implement the below code that will call the real method that you are wanting to test\r\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\r\n        //assertions\r\n    }\r\n\r\n```\r\nNote that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn&#39;t match the reflection will not find it and inject the mock for you. \r\n\r\nThis approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects. ","title":"Mockito mocking a method within the mocked class","body":"<p>I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I'd share my results for posterity.</p>\n<p>My situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution:</p>\n<pre><code>    @MockBean\n    DependentService mockDependentService\n    \n    ControllerToTest controllerToTest\n\n    @BeforeEach\n    public void setup() {\n       mockDependentService = mock(DependentService.class);\n       controllerToTest = mock(ControllerToTest.class);\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\n    }\n    \n    @Test\n    void test() {\n        //set up test and other mocks \n        //be sure to implement the below code that will call the real method that you are wanting to test\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\n        //assertions\n    }\n\n</code></pre>\n<p>Note that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn't match the reflection will not find it and inject the mock for you.</p>\n<p>This approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668788769,"creation_date":1648835477,"question_id":71710995,"body_markdown":"I am trying to mock a method in the below class, I am unable to do that and the code flow goes into the implemantion method and it leads to nullPointerException.\r\n\r\nThe class is as below and the method that, I intend to mock is getPredictionList(String, String).\r\n\t\t\r\n\t\tpublic class PredictionService {\r\n\t\t\r\n\t\t\t@Inject\r\n\t\t\tprivate ElasticSearch elasticSearch;\r\n\r\n            private final RestHighLevelClient restHighLevelClient = OpenSearchRestHighLevelClient.getRestHighLevelClient();\r\n\t\t\t\r\n\r\n\t\t\tpublic String getPredictionList(String query, String index){\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t//Method call successfully mocked\r\n\t\t\t\tSearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(query);\r\n\t\t\t\tSearchRequest  searchRequest = new SearchRequest(index);\r\n\t\t\t\tsearchRequest.source(searchSourceBuilder);\r\n\t\t\t\t\r\n\t\t\t\t//Method to be mocked\r\n\t\t\t\tSearchResponse serchResponse = getSearchResponse(searchRequest);\r\n\t\t\t\t\r\n\t\t\t\t//..code..//\r\n\t\t\t\t\r\n\t\t\t\t}catch(Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tpublic SearchResponse getSearchResponse(SearchRequest searchRequest){\r\n\t\t\t\treturn restHighLevelClient.search(searchRequest, RequestOption.DEFAULT);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\nThe corresponding Testing class is as below.\r\n\r\nFirst, I have created a mock of PredictionService and then injected the dependencies. I have mocked getSearchResponse method using this statement. \r\n\r\n     when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\nBut when the code executes, this mock is not present and the code flows into the getSearchResponse implementation and throws null pointer exception. \r\n\r\n\t\t\r\n\t\tclass PredictionServiceTest{\r\n\t\t\t\r\n\t\t\t//Write create a mock to test and inject the resources.\r\n\t\t\t\r\n\t\t\t@Spy\r\n\t\t\t@InjectMock\r\n\t\t\tPredictionService injectMockPredictionService;\r\n\t\t\t\r\n\t\t\t//Mock the resource \r\n\t\t\t@Mock \r\n\t\t\tElasticSearchEntity mockElasticSearchEntity;\r\n\t\t\t\r\n\t\t\t@InjectMock\r\n\t\t\tPredictionService mockPredictionService;\r\n\t\t\t\r\n\t\t\t@Test\r\n\t\t\tpublic void getPredictionListTest() {\r\n\t\t\t\t\r\n\t\t\t\t//Mocking createQuery Response\r\n\t\t\t\tElasticSearchEntity elasticSearchEntity = ElasticSearchEntity();\r\n\t\t\t\tSearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(&quot;inputQuery&quot;);\r\n\t\t\t\twhen(mockElasticSearchEntity.createQuery(any())).thenReturn(searchSourceBuilder);\r\n\t\t\t\t\r\n\t\t\t\t//Mocking searchResponse\r\n\t\t\t\tSearchResponse searchResponse = getDummySearchResponseImplementation();\r\n\t\t\t\twhen(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\t\t\t\t\r\n\t\t\t\tString actualResponse = injectMockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\r\nIf I am to replace mockPredictionService with injectMockPredictionService it directly goes into the implementation method at this line itself and then returns null pointer exception.\r\n\r\n    when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\nreplaced code.\r\n\r\n    when(injectMockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\r\n\r\n\r\n**Update**\t\r\n\r\nI have two mocks of PredictionService, \r\n\r\n\r\n    // To call the method\r\n    @Spy\r\n\t@InjectMock\r\n\tPredictionService injectMockPredictionService;\r\n\r\n\r\n    // To Provide mock for getSearchResponse Method\r\n\t@InjectMock\r\n\tPredictionService mockPredictionService;\r\n\r\nAs per the link  I have changed the implementation to \r\n\r\n    @InjectMock\r\n\tPredictionService injectMockPredictionService = Mockito.spy(new PredictionService ());\r\n\r\nBut this did not help,  The code goes into the implementation class and throws NULL pointer exception. I have updated the question.","title":"Mockito mocking a method within the mocked class","body":"<p>I am trying to mock a method in the below class, I am unable to do that and the code flow goes into the implemantion method and it leads to nullPointerException.</p>\n<p>The class is as below and the method that, I intend to mock is getPredictionList(String, String).</p>\n<pre><code>    public class PredictionService {\n    \n        @Inject\n        private ElasticSearch elasticSearch;\n\n        private final RestHighLevelClient restHighLevelClient = OpenSearchRestHighLevelClient.getRestHighLevelClient();\n        \n\n        public String getPredictionList(String query, String index){\n            \n            try {\n            //Method call successfully mocked\n            SearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(query);\n            SearchRequest  searchRequest = new SearchRequest(index);\n            searchRequest.source(searchSourceBuilder);\n            \n            //Method to be mocked\n            SearchResponse serchResponse = getSearchResponse(searchRequest);\n            \n            //..code..//\n            \n            }catch(Exception e) {\n                e.printStackTrace();\n            }\n            \n            return \n        }\n        \n        \n        public SearchResponse getSearchResponse(SearchRequest searchRequest){\n            return restHighLevelClient.search(searchRequest, RequestOption.DEFAULT);\n        }\n    }\n    \n</code></pre>\n<p>The corresponding Testing class is as below.</p>\n<p>First, I have created a mock of PredictionService and then injected the dependencies. I have mocked getSearchResponse method using this statement.</p>\n<pre><code> when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n</code></pre>\n<p>But when the code executes, this mock is not present and the code flows into the getSearchResponse implementation and throws null pointer exception.</p>\n<pre><code>    class PredictionServiceTest{\n        \n        //Write create a mock to test and inject the resources.\n        \n        @Spy\n        @InjectMock\n        PredictionService injectMockPredictionService;\n        \n        //Mock the resource \n        @Mock \n        ElasticSearchEntity mockElasticSearchEntity;\n        \n        @InjectMock\n        PredictionService mockPredictionService;\n        \n        @Test\n        public void getPredictionListTest() {\n            \n            //Mocking createQuery Response\n            ElasticSearchEntity elasticSearchEntity = ElasticSearchEntity();\n            SearchSourceBuilder searchSourceBuilder = elasticSearchEntity.createQuery(&quot;inputQuery&quot;);\n            when(mockElasticSearchEntity.createQuery(any())).thenReturn(searchSourceBuilder);\n            \n            //Mocking searchResponse\n            SearchResponse searchResponse = getDummySearchResponseImplementation();\n            when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n            \n            String actualResponse = injectMockPredictionService.getPredictionList(&quot;inputQuery&quot;, &quot;someIndex&quot;);       \n        }\n                    \n    }\n</code></pre>\n<p>If I am to replace mockPredictionService with injectMockPredictionService it directly goes into the implementation method at this line itself and then returns null pointer exception.</p>\n<pre><code>when(mockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n</code></pre>\n<p>replaced code.</p>\n<pre><code>when(injectMockPredictionService.getSearchResponse(any())).thenReturn(searchResponse);\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I have two mocks of PredictionService,</p>\n<pre><code>// To call the method\n@Spy\n@InjectMock\nPredictionService injectMockPredictionService;\n\n\n// To Provide mock for getSearchResponse Method\n@InjectMock\nPredictionService mockPredictionService;\n</code></pre>\n<p>As per the link  I have changed the implementation to</p>\n<pre><code>@InjectMock\nPredictionService injectMockPredictionService = Mockito.spy(new PredictionService ());\n</code></pre>\n<p>But this did not help,  The code goes into the implementation class and throws NULL pointer exception. I have updated the question.</p>\n"},{"tags":["java","spring","junit","mocking","mockito"],"answers":[{"comments":[{"owner":{"account_id":159474,"reputation":16722,"user_id":378874,"accept_rate":98,"display_name":"Rick"},"score":0,"creation_date":1303615042,"post_id":5768418,"comment_id":6607277,"body_markdown":"Thanks, your answer helps me a lot to understand it in plain English terms :) I think I am on the right track now","body":"Thanks, your answer helps me a lot to understand it in plain English terms :) I think I am on the right track now"},{"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"score":0,"creation_date":1303615308,"post_id":5768418,"comment_id":6607298,"body_markdown":"I&#39;m fairly new to mocking, but it makes otherwise complex tests really nice once you get your head around how it works.  I&#39;ve really liked Mockito and found it very friendly to work with.  Good luck with your testing!","body":"I&#39;m fairly new to mocking, but it makes otherwise complex tests really nice once you get your head around how it works.  I&#39;ve really liked Mockito and found it very friendly to work with.  Good luck with your testing!"},{"owner":{"account_id":159474,"reputation":16722,"user_id":378874,"accept_rate":98,"display_name":"Rick"},"score":0,"creation_date":1303625135,"post_id":5768418,"comment_id":6608171,"body_markdown":"thanks, great article, I had some issue with getting it to work though but I understand it better now from that, I&#39;m sure its something I did wrong from being new to it but I was able to get Ed&#39;s way to work.. Mock testing is definitely something I should be doing more of","body":"thanks, great article, I had some issue with getting it to work though but I understand it better now from that, I&#39;m sure its something I did wrong from being new to it but I was able to get Ed&#39;s way to work.. Mock testing is definitely something I should be doing more of"},{"owner":{"account_id":5301611,"reputation":798,"user_id":4231018,"accept_rate":81,"display_name":"Michael McKenna"},"score":0,"creation_date":1540573647,"post_id":5768418,"comment_id":92930064,"body_markdown":"model view controller controller? ;)","body":"model view controller controller? ;)"}],"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1303614874,"creation_date":1303614874,"answer_id":5768418,"question_id":5767936,"body_markdown":"In Mockito you aren&#39;t really going to create new &quot;mock&quot; implementations, but rather you are going to mock out the methods on the interface of the injected dependency by telling Mockito what to return when the method is called.\r\n\r\nI wrote a test of a Spring MVC Controller using Mockito and treated it just like any other java class.  I was able to mock out the various other Spring beans I had and inject those using Spring&#39;s ReflectionTestUtils to pass in the Mockito based values.  I wrote about it in my blog back in February.  It has the full source for the test class and most of the source from the controller, so it&#39;s probably too long to put the contents here.\r\n\r\nhttp://digitaljoel.nerd-herders.com/2011/02/05/mock-testing-spring-mvc-controller/","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>In Mockito you aren't really going to create new \"mock\" implementations, but rather you are going to mock out the methods on the interface of the injected dependency by telling Mockito what to return when the method is called.</p>\n\n<p>I wrote a test of a Spring MVC Controller using Mockito and treated it just like any other java class.  I was able to mock out the various other Spring beans I had and inject those using Spring's ReflectionTestUtils to pass in the Mockito based values.  I wrote about it in my blog back in February.  It has the full source for the test class and most of the source from the controller, so it's probably too long to put the contents here.</p>\n\n<p><a href=\"http://digitaljoel.nerd-herders.com/2011/02/05/mock-testing-spring-mvc-controller/\" rel=\"noreferrer\">http://digitaljoel.nerd-herders.com/2011/02/05/mock-testing-spring-mvc-controller/</a></p>\n"},{"tags":[],"owner":{"account_id":211749,"reputation":96,"user_id":464118,"display_name":"Ed Kurowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1303615096,"creation_date":1303615096,"answer_id":5768433,"question_id":5767936,"body_markdown":"If you&#39;re using Mockito you create mocks by calling Mockito&#39;s static mock method.  You can then just pass in the mock to the class you&#39;re trying to test.  Your setup method would look something like this:\r\n\r\n    testBean1 = new TestBean1();\r\n    SubBean1 subBeanMock = mock(SubBean1.class);\r\n    testBean1.setSubBean(subBeanMock);\r\n\r\n\r\n\r\nYou can then add the appropriate behavior to your mock objects for whatever you&#39;re trying to test with Mockito&#39;s static when method, for example:\r\n\r\n    when(subBeanMock.getSomething()).thenReturn(&quot;its working&quot;);\r\n\r\n","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>If you're using Mockito you create mocks by calling Mockito's static mock method.  You can then just pass in the mock to the class you're trying to test.  Your setup method would look something like this:</p>\n\n<pre><code>testBean1 = new TestBean1();\nSubBean1 subBeanMock = mock(SubBean1.class);\ntestBean1.setSubBean(subBeanMock);\n</code></pre>\n\n<p>You can then add the appropriate behavior to your mock objects for whatever you're trying to test with Mockito's static when method, for example:</p>\n\n<pre><code>when(subBeanMock.getSomething()).thenReturn(\"its working\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679776,"reputation":51,"user_id":4491418,"display_name":"Steven Dewey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788451,"creation_date":1668788451,"answer_id":74492562,"question_id":5767936,"body_markdown":"I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I&#39;d share my results for posterity. \r\n\r\nMy situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution: \r\n```\r\n    @MockBean\r\n    DependentService mockDependentService\r\n    \r\n    ControllerToTest controllerToTest\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n       mockDependentService = mock(DependentService.class);\r\n       controllerToTest = mock(ControllerToTest.class);\r\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n        //set up test and other mocks \r\n        //be sure to implement the below code that will call the real method that you are wanting to test\r\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\r\n        //assertions\r\n    }\r\n\r\n```\r\nNote that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn&#39;t match the reflection will not find it and inject the mock for you. \r\n\r\nThis approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects. \r\n\r\nHope this helps someone down the road as it stumped me for a while. ","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>I stumbled on this thread while trying to set up some mocks for a slightly more complicated situation and figured I'd share my results for posterity.</p>\n<p>My situation was similar in the fact that I needed to mock dependencies, but I also wanted to mock some of the methods on the class I was testing. This was the solution:</p>\n<pre><code>    @MockBean\n    DependentService mockDependentService\n    \n    ControllerToTest controllerToTest\n\n    @BeforeEach\n    public void setup() {\n       mockDependentService = mock(DependentService.class);\n       controllerToTest = mock(ControllerToTest.class);\n       ReflectionTestUtils.setField(controllerToTest, &quot;dependantService&quot;, mockDependentService);\n    }\n    \n    @Test\n    void test() {\n        //set up test and other mocks \n        //be sure to implement the below code that will call the real method that you are wanting to test\n        when(controllerToTest.methodToTest()).thenCallRealMethod();\n        //assertions\n    }\n\n</code></pre>\n<p>Note that &quot;dependantService&quot; needs to match whatever you have named the instance of the service on your controller. If that doesn't match the reflection will not find it and inject the mock for you.</p>\n<p>This approach allows all the methods on the controller to be mocked by default, then you can specifically call out which method you want to use the real one. Then use the reflection to set any dependencies needed with the respective mock objects.</p>\n<p>Hope this helps someone down the road as it stumped me for a while.</p>\n"}],"owner":{"account_id":159474,"reputation":16722,"user_id":378874,"accept_rate":98,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13769,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5768433,"answer_count":3,"score":8,"last_activity_date":1668788451,"creation_date":1303606091,"question_id":5767936,"body_markdown":"I&#39;m new to using Mockito and am trying to understand a way to make a unit test of a class that relies on injected dependencies. What I want to do is to create mock objects of the dependencies and make the class that I am testing use those instead of the regular injected dependencies that would be injected by Spring. I have been reading tutorials but am a bit confused on how to do this.\r\n\r\nI have one the class I want to test like this:\r\n\r\n    package org.rd.server.beans;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    public class TestBean1 {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SubBean1 subBean1;\r\n    \t\r\n    \tprivate String helloString;\r\n    \t\r\n    \tpublic String testReturn () {\r\n    \t\t\r\n    \t\tsubBean1.setSomething(&quot;its working&quot;);\r\n    \t\tString something = subBean1.getSomething();\r\n    \t\thelloString = &quot;Hello...... &quot; + something;\r\n    \r\n    \t\treturn helloString;\r\n    \t}\r\n    \t\r\n\r\nThen I have the class that I want to use as a mock object (rather than the regular `SubBean1` class, like below:\r\n\r\n    package org.rd.server.beans.mock;\r\n    \r\n    public class SubBean1Mock {\r\n    \t\r\n    \tprivate String something;\r\n    \r\n    \tpublic String getSomething() {\r\n    \t\treturn something;\r\n    \t}\r\n    \r\n    \tpublic void setSomething(String something) {\r\n    \t\tthis.something = something;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n    \r\n        \r\n        }\r\n\r\nI just want to try running a simple test like this:\r\n\r\n    package test.rd.beans;\r\n    import org.rd.server.beans.TestBean1;\r\n    \r\n    import junit.framework.*;\r\n    \r\n    \r\n    public class TestBean1Test extends TestCase\r\n    {\r\n    \tprivate TestBean1 testBean1;\r\n    \t\r\n    \tpublic TestBean1Test(String name)\r\n    \t{\r\n    \t\tsuper(name);\r\n    \t}\r\n    \t\r\n    \tpublic void setUp()\r\n    \t{\r\n    \t\ttestBean1 = new TestBean1();\r\n    \t\t// Somehow inject the mock dependency SubBean1Mock ???\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void test1() {\r\n    \t\tassertEquals(testBean1.testReturn(),&quot;working&quot;);\r\n    \t}\r\n    }\r\n\r\nI figure there must be some fairly simple way to do this but I can&#39;t seem to understand the tutorials as I don&#39;t have the context yet to understand everything they are doing / explaining. If anyone could shed some light on this I would appreciate it.\r\n\r\n\r\n\r\n\r\n","title":"Mockito, Testing an object that relies on injected dependencies (Spring)?","body":"<p>I'm new to using Mockito and am trying to understand a way to make a unit test of a class that relies on injected dependencies. What I want to do is to create mock objects of the dependencies and make the class that I am testing use those instead of the regular injected dependencies that would be injected by Spring. I have been reading tutorials but am a bit confused on how to do this.</p>\n\n<p>I have one the class I want to test like this:</p>\n\n<pre><code>package org.rd.server.beans;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class TestBean1 {\n\n    @Autowired\n    private SubBean1 subBean1;\n\n    private String helloString;\n\n    public String testReturn () {\n\n        subBean1.setSomething(\"its working\");\n        String something = subBean1.getSomething();\n        helloString = \"Hello...... \" + something;\n\n        return helloString;\n    }\n</code></pre>\n\n<p>Then I have the class that I want to use as a mock object (rather than the regular <code>SubBean1</code> class, like below:</p>\n\n<pre><code>package org.rd.server.beans.mock;\n\npublic class SubBean1Mock {\n\n    private String something;\n\n    public String getSomething() {\n        return something;\n    }\n\n    public void setSomething(String something) {\n        this.something = something;\n    }\n\n\n}\n\n\n    }\n</code></pre>\n\n<p>I just want to try running a simple test like this:</p>\n\n<pre><code>package test.rd.beans;\nimport org.rd.server.beans.TestBean1;\n\nimport junit.framework.*;\n\n\npublic class TestBean1Test extends TestCase\n{\n    private TestBean1 testBean1;\n\n    public TestBean1Test(String name)\n    {\n        super(name);\n    }\n\n    public void setUp()\n    {\n        testBean1 = new TestBean1();\n        // Somehow inject the mock dependency SubBean1Mock ???\n\n    }\n\n    public void test1() {\n        assertEquals(testBean1.testReturn(),\"working\");\n    }\n}\n</code></pre>\n\n<p>I figure there must be some fairly simple way to do this but I can't seem to understand the tutorials as I don't have the context yet to understand everything they are doing / explaining. If anyone could shed some light on this I would appreciate it.</p>\n"},{"tags":["java","database","postgresql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":16761030,"reputation":8829,"user_id":12115778,"display_name":"richyen"},"score":0,"creation_date":1576625513,"post_id":59383535,"comment_id":104958924,"body_markdown":"Queries logged to Postgres&#39; logs are not differentiated by application--can you update your post with your values for `log_min_duration_statement` and `log_statement` in your `SHOW ALL` output (run `SHOW ALL` from `psql`).  Please also show the other params related to `log_*`","body":"Queries logged to Postgres&#39; logs are not differentiated by application--can you update your post with your values for <code>log_min_duration_statement</code> and <code>log_statement</code> in your <code>SHOW ALL</code> output (run <code>SHOW ALL</code> from <code>psql</code>).  Please also show the other params related to <code>log_*</code>"},{"owner":{"account_id":6869865,"reputation":1304,"user_id":5280707,"accept_rate":43,"display_name":"Daniel"},"score":0,"creation_date":1576626058,"post_id":59383535,"comment_id":104959039,"body_markdown":"I added a picture with the log values","body":"I added a picture with the log values"},{"owner":{"account_id":14462805,"reputation":821,"user_id":10447184,"display_name":"Marius Jaraminas"},"score":0,"creation_date":1576626514,"post_id":59383535,"comment_id":104959153,"body_markdown":"Why you just don&#39;t log SQL calls in Spring Boot application logs? like: `logging.level.org.hibernate.SQL=DEBUG`","body":"Why you just don&#39;t log SQL calls in Spring Boot application logs? like: <code>logging.level.org.hibernate.SQL=DEBUG</code>"},{"owner":{"account_id":6869865,"reputation":1304,"user_id":5280707,"accept_rate":43,"display_name":"Daniel"},"score":0,"creation_date":1576626725,"post_id":59383535,"comment_id":104959208,"body_markdown":"I am already doing that. The problem is a certain query is not returning a result set but it works when I copy paste it from the server log to psql. I want to be able to see the logs postgres is putting out to see what&#39;s going on from the database side.","body":"I am already doing that. The problem is a certain query is not returning a result set but it works when I copy paste it from the server log to psql. I want to be able to see the logs postgres is putting out to see what&#39;s going on from the database side."}],"answers":[{"tags":[],"owner":{"account_id":481679,"reputation":6383,"user_id":895640,"display_name":"Jeremy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576628682,"creation_date":1576628682,"answer_id":59383946,"question_id":59383535,"body_markdown":"You can set log_min_duration_statement to 0 to log all statements.  Be careful, though, as this can greatly increase the size of your logs.\r\n\r\nIt&#39;s also helpful to set the application name in the jdbc connection url so it&#39;s easier to pick out the appropriate log messages:\r\n\r\n```\r\njdbc:postgresql://host:5432/DB?ApplicationName=YourApp\r\n```","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p>You can set log_min_duration_statement to 0 to log all statements.  Be careful, though, as this can greatly increase the size of your logs.</p>\n\n<p>It's also helpful to set the application name in the jdbc connection url so it's easier to pick out the appropriate log messages:</p>\n\n<pre><code>jdbc:postgresql://host:5432/DB?ApplicationName=YourApp\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6869865,"reputation":1304,"user_id":5280707,"accept_rate":43,"display_name":"Daniel"},"score":0,"creation_date":1576633215,"post_id":59384029,"comment_id":104960482,"body_markdown":"If I run `show all` from intellij using the postgres console I can see the log level is set to something different from my postgresql.conf. Any idea where I could find the configuration that&#39;s being used when a jdbc connects?","body":"If I run <code>show all</code> from intellij using the postgres console I can see the log level is set to something different from my postgresql.conf. Any idea where I could find the configuration that&#39;s being used when a jdbc connects?"},{"owner":{"account_id":1198561,"reputation":3841,"user_id":1169741,"accept_rate":48,"display_name":"Trismegistos"},"score":0,"creation_date":1668781354,"post_id":59384029,"comment_id":131496247,"body_markdown":"Configuration key is called &#39;log_statement&#39; not &#39;log_statements&#39;","body":"Configuration key is called &#39;log_statement&#39; not &#39;log_statements&#39;"}],"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788183,"creation_date":1576629468,"answer_id":59384029,"question_id":59383535,"body_markdown":"If `log_statement=all` is coming from your postgresql.conf file, but it doesn&#39;t seem to be effective sometimes, then it is possible that that setting has been overridden at the database or user level.  Make sure you are connected to the same database and as the same user as your app server connects, before you issue the &#39;SHOW ALL&#39;.\r\n\r\nThey could have been overridden by something like one of these:\r\n\r\n    alter user &lt;foo&gt; set log_statement=&#39;none&#39;;\r\n    alter database &lt;foo&gt; set log_statement=&#39;none&#39;;\r\n\r\nHowever, to ensure users can&#39;t hide their activity from the superuser, only a superuser would have been allowed to issue one of the above.  And if your app logs in as a superuser (not a good idea), then it could have turned off logging at the session level, overriding the conf file.\r\n\r\nIf it is one of the above commands which changed the setting, you can see it with \\drds in psql, or in SQL with:\r\n\r\n    SELECT rolname AS &quot;Role&quot;, datname AS &quot;Database&quot;,\r\n    pg_catalog.array_to_string(setconfig, E&#39;\\n&#39;) AS &quot;Settings&quot;\r\n    FROM pg_catalog.pg_db_role_setting s\r\n    LEFT JOIN pg_catalog.pg_database d ON d.oid = setdatabase\r\n    LEFT JOIN pg_catalog.pg_roles r ON r.oid = setrole\r\n    ORDER BY 1, 2;\r\n","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p>If <code>log_statement=all</code> is coming from your postgresql.conf file, but it doesn't seem to be effective sometimes, then it is possible that that setting has been overridden at the database or user level.  Make sure you are connected to the same database and as the same user as your app server connects, before you issue the 'SHOW ALL'.</p>\n<p>They could have been overridden by something like one of these:</p>\n<pre><code>alter user &lt;foo&gt; set log_statement='none';\nalter database &lt;foo&gt; set log_statement='none';\n</code></pre>\n<p>However, to ensure users can't hide their activity from the superuser, only a superuser would have been allowed to issue one of the above.  And if your app logs in as a superuser (not a good idea), then it could have turned off logging at the session level, overriding the conf file.</p>\n<p>If it is one of the above commands which changed the setting, you can see it with \\drds in psql, or in SQL with:</p>\n<pre><code>SELECT rolname AS &quot;Role&quot;, datname AS &quot;Database&quot;,\npg_catalog.array_to_string(setconfig, E'\\n') AS &quot;Settings&quot;\nFROM pg_catalog.pg_db_role_setting s\nLEFT JOIN pg_catalog.pg_database d ON d.oid = setdatabase\nLEFT JOIN pg_catalog.pg_roles r ON r.oid = setrole\nORDER BY 1, 2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616057019,"creation_date":1616057019,"answer_id":66687547,"question_id":59383535,"body_markdown":"In order to get the logs of every query, I use the option `log_statement=all` which is configured as a command line argument, for the process of postgres. I use the following docker compose file in order to run the postgresql database in development environment.\r\n  \r\n    version: &quot;3.8&quot;\r\n    \r\n    services:\r\n    \r\n      db-ct:\r\n        container_name: &#39;my-container-name&#39;\r\n        image: &#39;postgres:13&#39;\r\n        environment:\r\n          - POSTGRES_USER=database-username-created-on-container-creation\r\n          - POSTGRES_PASSWORD=database-password-created-on-container-creation\r\n          - POSTGRES_DB=database-name-created-on-container-creation\r\n        ports:\r\n          # The port is available by sql clients, like sqldeveloper\r\n          - &#39;5000:5432&#39;\r\n        volumes:\r\n          - db:/var/lib/postgresql/data/\r\n        restart: &#39;no&#39;\r\n        # Run postgres and log all queries\r\n        command: [ &quot;postgres&quot;, &quot;-c&quot;, &quot;log_statement=all&quot; ]\r\n        networks:\r\n          internal:\r\n    \r\n    volumes:\r\n      # Database files\r\n      # They are stored in a volume thus they are not reset after rebuilding the images\r\n      db:\r\n        name: your-volume-name\r\n    \r\n    networks:\r\n      internal:\r\n  \r\nLine 19: The command line argument\r\n  \r\n4 replaces are required: `my-container-name`, `database-username-created-on-container-creation`, `database-password-created-on-container-creation`, `database-name-created-on-container-creation`, `your-volume-name`\r\n  \r\nThe database will listen on port 5000.","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p>In order to get the logs of every query, I use the option <code>log_statement=all</code> which is configured as a command line argument, for the process of postgres. I use the following docker compose file in order to run the postgresql database in development environment.</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n\n  db-ct:\n    container_name: 'my-container-name'\n    image: 'postgres:13'\n    environment:\n      - POSTGRES_USER=database-username-created-on-container-creation\n      - POSTGRES_PASSWORD=database-password-created-on-container-creation\n      - POSTGRES_DB=database-name-created-on-container-creation\n    ports:\n      # The port is available by sql clients, like sqldeveloper\n      - '5000:5432'\n    volumes:\n      - db:/var/lib/postgresql/data/\n    restart: 'no'\n    # Run postgres and log all queries\n    command: [ &quot;postgres&quot;, &quot;-c&quot;, &quot;log_statement=all&quot; ]\n    networks:\n      internal:\n\nvolumes:\n  # Database files\n  # They are stored in a volume thus they are not reset after rebuilding the images\n  db:\n    name: your-volume-name\n\nnetworks:\n  internal:\n</code></pre>\n<p>Line 19: The command line argument</p>\n<p>4 replaces are required: <code>my-container-name</code>, <code>database-username-created-on-container-creation</code>, <code>database-password-created-on-container-creation</code>, <code>database-name-created-on-container-creation</code>, <code>your-volume-name</code></p>\n<p>The database will listen on port 5000.</p>\n"}],"owner":{"account_id":6869865,"reputation":1304,"user_id":5280707,"accept_rate":43,"display_name":"Daniel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668788183,"creation_date":1576625277,"question_id":59383535,"body_markdown":"[![enter image description here][1]][1]I am working on a spring boot server using Postgres as the database. I would like to be able to have a log file of the queries coming from the server. I have found my sql logs and I can see queries I make to the database via psql but queries coming from my server via jdbc are not logged. How can I get these queries to show in my log file? Or if they are just being logged somewhere else could someone point me in the right direction?\r\n\r\n  [1]: https://i.stack.imgur.com/1s1iW.png","title":"How do I make queries made by JDBC show up in postgres logs?","body":"<p><a href=\"https://i.stack.imgur.com/1s1iW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1s1iW.png\" alt=\"enter image description here\"></a>I am working on a spring boot server using Postgres as the database. I would like to be able to have a log file of the queries coming from the server. I have found my sql logs and I can see queries I make to the database via psql but queries coming from my server via jdbc are not logged. How can I get these queries to show in my log file? Or if they are just being logged somewhere else could someone point me in the right direction?</p>\n"},{"tags":["java","jsp","jstl","jooq"],"answers":[{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1353954741,"post_id":13568710,"comment_id":18594974,"body_markdown":"If you already have Hibernate / JPA entities, of course you could [interact with them through jOOQ as well](http://www.jooq.org/doc/2.6/manual/sql-execution/fetching/pojos/). No need to switch back to Hibernate in general...","body":"If you already have Hibernate / JPA entities, of course you could <a href=\"http://www.jooq.org/doc/2.6/manual/sql-execution/fetching/pojos/\" rel=\"nofollow noreferrer\">interact with them through jOOQ as well</a>. No need to switch back to Hibernate in general..."}],"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1353946860,"creation_date":1353946475,"answer_id":13568710,"question_id":13568538,"body_markdown":"I would use an ORM library like Hibernate, so you just iterate through a plain list of objects.\r\n\r\nIt might seem a bit heavy-weight if your just doing JDBC operations, but it looks like you&#39;ve reached where it would be useful to you. Something like this...\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    class User {\r\n        private String login;\r\n        ...\r\n    }\r\n\r\nand then a DAO class like this...\r\n    \r\n    public List&lt;Users&gt; getUsers() {\r\n        return (List&lt;Users&gt;)sessionFactory.getCurrentSession().createQuery(&quot;from Users&quot;).list();\r\n    }\r\n\r\nObviously there&#39;s plenty of setup and such to bring Hibernate into your project, but I think the benefits outweight that.\r\n\r\nEdit: I don&#39;t think JOOQ can do ORM, but it does seem to have a row mapping system. If you want to stick with JOOQ try creating a `RecordHandler` and use `fetchInto()` method.","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>I would use an ORM library like Hibernate, so you just iterate through a plain list of objects.</p>\n\n<p>It might seem a bit heavy-weight if your just doing JDBC operations, but it looks like you've reached where it would be useful to you. Something like this...</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\nclass User {\n    private String login;\n    ...\n}\n</code></pre>\n\n<p>and then a DAO class like this...</p>\n\n<pre><code>public List&lt;Users&gt; getUsers() {\n    return (List&lt;Users&gt;)sessionFactory.getCurrentSession().createQuery(\"from Users\").list();\n}\n</code></pre>\n\n<p>Obviously there's plenty of setup and such to bring Hibernate into your project, but I think the benefits outweight that.</p>\n\n<p>Edit: I don't think JOOQ can do ORM, but it does seem to have a row mapping system. If you want to stick with JOOQ try creating a <code>RecordHandler</code> and use <code>fetchInto()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":374907,"reputation":4994,"user_id":725400,"accept_rate":57,"display_name":"kskaradzinski"},"score":0,"creation_date":1353955305,"post_id":13569631,"comment_id":18595222,"body_markdown":"But that will return me just one column, and I need whole table","body":"But that will return me just one column, and I need whole table"},{"owner":{"account_id":2016743,"reputation":352,"user_id":1803874,"display_name":"Robertiano"},"score":0,"creation_date":1354009413,"post_id":13569631,"comment_id":18612431,"body_markdown":"I misunderstood your question. Sorry","body":"I misunderstood your question. Sorry"}],"tags":[],"owner":{"account_id":2016743,"reputation":352,"user_id":1803874,"display_name":"Robertiano"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353949554,"creation_date":1353949554,"answer_id":13569631,"question_id":13568538,"body_markdown":"    public List&lt;String&gt; getUsers() {\r\n      Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n      Result&lt;Record&gt; results = sql.select().from(&quot;users&quot;).fetch();\r\n\r\n      return results.getValues(loginFieldIndex);\r\n    }\r\n\r\nAnd you put returned List in request attributes (eg. attribute name &quot;users&quot;) and jsp:\r\n\r\n    &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\r\n      ${u} &lt;br /&gt;\r\n    &lt;/c:forEach&gt;","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<pre><code>public List&lt;String&gt; getUsers() {\n  Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\n  Result&lt;Record&gt; results = sql.select().from(\"users\").fetch();\n\n  return results.getValues(loginFieldIndex);\n}\n</code></pre>\n\n<p>And you put returned List in request attributes (eg. attribute name \"users\") and jsp:</p>\n\n<pre><code>&lt;c:forEach var=\"u\" items=\"${users}\"&gt;\n  ${u} &lt;br /&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668788181,"creation_date":1353954561,"answer_id":13570924,"question_id":13568538,"body_markdown":"It seems that you would like to operate on records as if they were maps. Here&#39;s how to achieve this with jOOQ:\r\n\r\n    public List&lt;Map&lt;String, Object&gt;&gt; getUsers() {\r\n        DSLContext sql = DSL.using(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n      return sql.select().from(&quot;users&quot;).fetchMaps();\r\n    }\r\n\r\nSee the relevant Javadocs here:\r\n\r\n- [`ResultQuery.fetchMaps()`][1]\r\n- [`Result.intoMaps()`][2]\r\n- [`Record.intoMap()`][3]\r\n\r\n\r\n  [1]: http://www.jooq.org/javadoc/latest/org/jooq/ResultQuery.html#fetchMaps%28%29\r\n  [2]: http://www.jooq.org/javadoc/latest/org/jooq/Result.html#intoMaps%28%29\r\n  [3]: http://www.jooq.org/javadoc/latest/org/jooq/Record.html#intoMap%28%29","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>It seems that you would like to operate on records as if they were maps. Here's how to achieve this with jOOQ:</p>\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getUsers() {\n    DSLContext sql = DSL.using(Database.getInstance().connect(), SQLDialect.MYSQL);\n  return sql.select().from(&quot;users&quot;).fetchMaps();\n}\n</code></pre>\n<p>See the relevant Javadocs here:</p>\n<ul>\n<li><a href=\"http://www.jooq.org/javadoc/latest/org/jooq/ResultQuery.html#fetchMaps%28%29\" rel=\"nofollow noreferrer\"><code>ResultQuery.fetchMaps()</code></a></li>\n<li><a href=\"http://www.jooq.org/javadoc/latest/org/jooq/Result.html#intoMaps%28%29\" rel=\"nofollow noreferrer\"><code>Result.intoMaps()</code></a></li>\n<li><a href=\"http://www.jooq.org/javadoc/latest/org/jooq/Record.html#intoMap%28%29\" rel=\"nofollow noreferrer\"><code>Record.intoMap()</code></a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1385110852,"post_id":20138591,"comment_id":30017180,"body_markdown":"This certainly looks interesting. Where&#39;s the `cats` variable coming from?","body":"This certainly looks interesting. Where&#39;s the <code>cats</code> variable coming from?"}],"tags":[],"owner":{"account_id":3622137,"reputation":9,"user_id":3020596,"display_name":"Dan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1385102240,"creation_date":1385102240,"answer_id":20138591,"question_id":13568538,"body_markdown":"This is the top Google answer for &quot;jooq jsp&quot; so (after some experimentation) here is another way of combining JOOQ with JSP, while preserving the type safety and performance of JOOQ.\r\n\r\n    &lt;%@ page isELIgnored=&quot;false&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\r\n    &lt;%@ page import=&quot;static com.example.jooq.tables.TblCats.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;org.jooq.Result, org.jooq.Record&quot; %&gt;\r\n\r\n    &lt;h2&gt;Length: ${fn:length(cats)}&lt;/h2&gt;\r\n\r\n    &lt;c:forEach var=&quot;cat&quot; items=&quot;${cats}&quot;&gt;\r\n     &lt;% Record cat = (Record) pageContext.getAttribute(&quot;cat&quot;); %&gt;\r\n    \r\n     &lt;%= cat.getValue(TBL_CATS.TITLE) %&gt;,\r\n     &lt;%= cat.getValue(TBL_CATS.POSITION) %&gt;\r\n     \r\n     &lt;br&gt;\r\n    \r\n    &lt;/c:forEach&gt;\r\n    \r\n","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>This is the top Google answer for \"jooq jsp\" so (after some experimentation) here is another way of combining JOOQ with JSP, while preserving the type safety and performance of JOOQ.</p>\n\n<pre><code>&lt;%@ page isELIgnored=\"false\" %&gt;\n&lt;%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %&gt;\n&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %&gt;\n&lt;%@ page import=\"static com.example.jooq.tables.TblCats.*\" %&gt;\n&lt;%@ page import=\"org.jooq.Result, org.jooq.Record\" %&gt;\n\n&lt;h2&gt;Length: ${fn:length(cats)}&lt;/h2&gt;\n\n&lt;c:forEach var=\"cat\" items=\"${cats}\"&gt;\n &lt;% Record cat = (Record) pageContext.getAttribute(\"cat\"); %&gt;\n\n &lt;%= cat.getValue(TBL_CATS.TITLE) %&gt;,\n &lt;%= cat.getValue(TBL_CATS.POSITION) %&gt;\n\n &lt;br&gt;\n\n&lt;/c:forEach&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241614,"reputation":9009,"user_id":512535,"accept_rate":80,"display_name":"Dmitri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412296815,"creation_date":1412296815,"answer_id":26171728,"question_id":13568538,"body_markdown":"If you use JOOQ with JSP a lot, it&#39;s worthwhile to add an [ELResolver](http://docs.oracle.com/javaee/5/api/javax/el/ELResolver.html) that understands `Record`.\r\n\r\nHere&#39;s a simple implementation: https://gist.github.com/dbichko/074641915157ac21996c\r\n\r\nYou then need to register it with the JSP engine. In a `ServletContextListener` is as good a place as any:\r\n\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        ServletContext ctx = sce.getServletContext();\r\n        JspFactory.getDefaultFactory()\r\n            .getJspApplicationContext(ctx).addELResolver(new RecordResolver());\r\n    }\r\n\r\nWith that, you can use record fields as properties:\r\n\r\n    &lt;c:forEach var=&quot;user&quot; items=&quot;${users}&quot;&gt;\r\n      ${user.login} &lt;br /&gt;\r\n    &lt;/c:forEach&gt;\r\n","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>If you use JOOQ with JSP a lot, it's worthwhile to add an <a href=\"http://docs.oracle.com/javaee/5/api/javax/el/ELResolver.html\" rel=\"nofollow\">ELResolver</a> that understands <code>Record</code>.</p>\n\n<p>Here's a simple implementation: <a href=\"https://gist.github.com/dbichko/074641915157ac21996c\" rel=\"nofollow\">https://gist.github.com/dbichko/074641915157ac21996c</a></p>\n\n<p>You then need to register it with the JSP engine. In a <code>ServletContextListener</code> is as good a place as any:</p>\n\n<pre><code>public void contextInitialized(ServletContextEvent sce) {\n    ServletContext ctx = sce.getServletContext();\n    JspFactory.getDefaultFactory()\n        .getJspApplicationContext(ctx).addELResolver(new RecordResolver());\n}\n</code></pre>\n\n<p>With that, you can use record fields as properties:</p>\n\n<pre><code>&lt;c:forEach var=\"user\" items=\"${users}\"&gt;\n  ${user.login} &lt;br /&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n"}],"owner":{"account_id":374907,"reputation":4994,"user_id":725400,"accept_rate":57,"display_name":"kskaradzinski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13570924,"answer_count":5,"score":2,"last_activity_date":1668788181,"creation_date":1353945808,"question_id":13568538,"body_markdown":"Is there a way to loop through `Result&lt;Record&gt;` from jOOQ in a `&lt;c:forEach&gt;`?\r\n\r\nHere&#39;s the getter method:\r\n\r\n    public Vector&lt;Map&lt;String, String&gt;&gt; getUsers() {\r\n    \tFactory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n    \tResult&lt;Record&gt; results = sql.select().from(&quot;users&quot;).fetch();\r\n    \r\n    \tVector&lt;Map&lt;String, String&gt;&gt; v = new Vector&lt;Map&lt;String, String&gt;&gt;();\r\n    \tfor(Record item: results) {\r\n    \t\tMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\r\n    \t\tm.put(&quot;login&quot;, item.getValueAsString(&quot;login&quot;));\r\n    \t\t// other columns\r\n    \t\tv.add(m);\r\n    \t}\r\n    \treturn v;\r\n    }\r\n\r\nHere&#39;s the view:\r\n\r\n&lt;!-- language: xhtml --&gt;\r\n\r\n    &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\r\n       ${u.login} &lt;br /&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nIs there way to make my getter method simpler like:\r\n\r\n    public Result&lt;Record&gt; getUsers() {\r\n    \tFactory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\r\n    \treutrn sql.select().from(&quot;users&quot;).fetch();\r\n    }\r\n\r\nBut as mentioned earlier I don&#39;t know how to loop through it in `&lt;c:forEach&gt;`, or maybe is it not possible?","title":"Loop through Result&lt;Record&gt; from jOOQ in &lt;c:forEach&gt;","body":"<p>Is there a way to loop through <code>Result&lt;Record&gt;</code> from jOOQ in a <code>&lt;c:forEach&gt;</code>?</p>\n\n<p>Here's the getter method:</p>\n\n<pre><code>public Vector&lt;Map&lt;String, String&gt;&gt; getUsers() {\n    Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\n    Result&lt;Record&gt; results = sql.select().from(\"users\").fetch();\n\n    Vector&lt;Map&lt;String, String&gt;&gt; v = new Vector&lt;Map&lt;String, String&gt;&gt;();\n    for(Record item: results) {\n        Map&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\n        m.put(\"login\", item.getValueAsString(\"login\"));\n        // other columns\n        v.add(m);\n    }\n    return v;\n}\n</code></pre>\n\n<p>Here's the view:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;c:forEach var=\"u\" items=\"${users}\"&gt;\n   ${u.login} &lt;br /&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>Is there way to make my getter method simpler like:</p>\n\n<pre><code>public Result&lt;Record&gt; getUsers() {\n    Factory sql = new Factory(Database.getInstance().connect(), SQLDialect.MYSQL);\n    reutrn sql.select().from(\"users\").fetch();\n}\n</code></pre>\n\n<p>But as mentioned earlier I don't know how to loop through it in <code>&lt;c:forEach&gt;</code>, or maybe is it not possible?</p>\n"},{"tags":["java","sql","preprocessor"],"answers":[{"comments":[{"owner":{"account_id":68381,"reputation":1779,"user_id":199536,"accept_rate":80,"display_name":"Steve De Caux"},"score":0,"creation_date":1262942057,"post_id":2026445,"comment_id":1949445,"body_markdown":"In a way I&#39;m wondering at the popularity of ORMs, and further wondering if simple straightforward SQL is becoming a lost art. Maybe the TTM project will rescue us all...","body":"In a way I&#39;m wondering at the popularity of ORMs, and further wondering if simple straightforward SQL is becoming a lost art. Maybe the TTM project will rescue us all..."},{"owner":{"account_id":55986,"reputation":110805,"user_id":167735,"display_name":"slebetman"},"score":2,"creation_date":1262943002,"post_id":2026445,"comment_id":1949539,"body_markdown":"I think it&#39;s just that most programmers hate SQL. When our (Perl) shop standardized on DBIx::Class for all database transactions, one of the guys who spearheaded its adoption outright said it: &quot;I hate SQL&quot;. For production code I still sort of agree with this mentality mainly because all the various dialects of SQL are wildly incompatible. But over the years I&#39;ve sort of warmed up to plain-old SQL and have used more of it in my personal code.","body":"I think it&#39;s just that most programmers hate SQL. When our (Perl) shop standardized on DBIx::Class for all database transactions, one of the guys who spearheaded its adoption outright said it: &quot;I hate SQL&quot;. For production code I still sort of agree with this mentality mainly because all the various dialects of SQL are wildly incompatible. But over the years I&#39;ve sort of warmed up to plain-old SQL and have used more of it in my personal code."},{"owner":{"account_id":68381,"reputation":1779,"user_id":199536,"accept_rate":80,"display_name":"Steve De Caux"},"score":0,"creation_date":1262945148,"post_id":2026445,"comment_id":1949727,"body_markdown":"Interesting HM people seem to think writing dialect-specific SQL is inescapable (or doesn&#39;t matter), unfortunately the DBMS vendors encourage this to sell product. Once you&#39;ve done a couple of large system ports you really appreciate plain old SQL. And for me, I can&#39;t see how the ORMs help the matter, because you&#39;re never porting to the same db structure.","body":"Interesting HM people seem to think writing dialect-specific SQL is inescapable (or doesn&#39;t matter), unfortunately the DBMS vendors encourage this to sell product. Once you&#39;ve done a couple of large system ports you really appreciate plain old SQL. And for me, I can&#39;t see how the ORMs help the matter, because you&#39;re never porting to the same db structure."},{"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"score":0,"creation_date":1262962648,"post_id":2026445,"comment_id":1951544,"body_markdown":"If we are talking about the same application, ORMs do help porting, structure changes can be done at ORM level and you don&#39;t need to touch your code.","body":"If we are talking about the same application, ORMs do help porting, structure changes can be done at ORM level and you don&#39;t need to touch your code."},{"owner":{"account_id":33124,"reputation":21375,"user_id":92448,"accept_rate":100,"display_name":"JAL"},"score":0,"creation_date":1269185708,"post_id":2026445,"comment_id":2480425,"body_markdown":"I really don&#39;t understand why so many programmers profess to &#39;hate&#39; SQL. Personally, I hate ORMs.","body":"I really don&#39;t understand why so many programmers profess to &#39;hate&#39; SQL. Personally, I hate ORMs."}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1262941023,"creation_date":1262941023,"answer_id":2026445,"question_id":2026429,"body_markdown":"There is already a standard for embedded SQL in Java, it&#39;s called [SQLJ][1].\r\n\r\nHaving said that, I&#39;ve never seen it used in the wild, and I&#39;ve no idea if it&#39;s really an option any more, with modern tools. Oracle went for it in a big way when the standard appeared, but I think it died on the vine.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SQLJ","title":"Embedded SQL in OO languages like Java","body":"<p>There is already a standard for embedded SQL in Java, it's called <a href=\"http://en.wikipedia.org/wiki/SQLJ\" rel=\"nofollow noreferrer\">SQLJ</a>.</p>\n\n<p>Having said that, I've never seen it used in the wild, and I've no idea if it's really an option any more, with modern tools. Oracle went for it in a big way when the standard appeared, but I think it died on the vine.</p>\n"},{"comments":[{"owner":{"account_id":68381,"reputation":1779,"user_id":199536,"accept_rate":80,"display_name":"Steve De Caux"},"score":1,"creation_date":1262942990,"post_id":2026453,"comment_id":1949537,"body_markdown":"re multi-line strings, Python as well","body":"re multi-line strings, Python as well"}],"tags":[],"owner":{"account_id":87753,"reputation":2467,"user_id":243191,"display_name":"Timothy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262941781,"creation_date":1262941073,"answer_id":2026453,"question_id":2026429,"body_markdown":"Object-Relational mapping tools, such as Hibernate, theoretically make this sort of stuff less of an issue. &quot;theoretically&quot; ;)\r\n\r\nAlso, if you can use Grails, I&#39;ve heard that you can just write fantastic multi-line strings which makes reading SQL statements easier.\r\n","title":"Embedded SQL in OO languages like Java","body":"<p>Object-Relational mapping tools, such as Hibernate, theoretically make this sort of stuff less of an issue. \"theoretically\" ;)</p>\n\n<p>Also, if you can use Grails, I've heard that you can just write fantastic multi-line strings which makes reading SQL statements easier.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262962519,"creation_date":1262941083,"answer_id":2026454,"question_id":2026429,"body_markdown":"There already is something similar to an &#39;embedded language preprocessor&#39; for Java and .NET in the SQL domain: http://ibatis.apache.org/\r\n\r\nAlso, what people usually do is to use a full fledged ORM, like [Hibernate][1], to abstract away SQL.\r\n\r\nMind you, these tools do not allow to store the SQL strings in Java code itself, but serve a similar intent. I personally see no benefit in storing the SQL strings in the code itself, as that is usually messier. Having all the SQL neatly written in a specific file aids reusability and maintainability of your SQL. They do allow SQL as strings if the need should arise, but that is usually as a last resort measure (when the ORM tool doesn&#39;t have a good abstraction for your use case.)\r\n\r\nEDIT: I do think mixing SQL and code (be it OO or not) is fragile and not desirable. It&#39;s a lot better to have a centralized place to store your queries. This is the iBATIS approach. \r\n\r\n  [1]: https://www.hibernate.org/","title":"Embedded SQL in OO languages like Java","body":"<p>There already is something similar to an 'embedded language preprocessor' for Java and .NET in the SQL domain: <a href=\"http://ibatis.apache.org/\" rel=\"nofollow noreferrer\">http://ibatis.apache.org/</a></p>\n\n<p>Also, what people usually do is to use a full fledged ORM, like <a href=\"https://www.hibernate.org/\" rel=\"nofollow noreferrer\">Hibernate</a>, to abstract away SQL.</p>\n\n<p>Mind you, these tools do not allow to store the SQL strings in Java code itself, but serve a similar intent. I personally see no benefit in storing the SQL strings in the code itself, as that is usually messier. Having all the SQL neatly written in a specific file aids reusability and maintainability of your SQL. They do allow SQL as strings if the need should arise, but that is usually as a last resort measure (when the ORM tool doesn't have a good abstraction for your use case.)</p>\n\n<p>EDIT: I do think mixing SQL and code (be it OO or not) is fragile and not desirable. It's a lot better to have a centralized place to store your queries. This is the iBATIS approach. </p>\n"},{"comments":[{"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"score":0,"creation_date":1262941903,"post_id":2026490,"comment_id":1949430,"body_markdown":"They let you embed &#39;queries&#39; but not SQL.","body":"They let you embed &#39;queries&#39; but not SQL."}],"tags":[],"owner":{"account_id":20439,"reputation":4580,"user_id":48839,"display_name":"Chad Okere"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1262941837,"creation_date":1262941837,"answer_id":2026490,"question_id":2026429,"body_markdown":"Well, the simplest, most brain-dead way to do this is simply to include your SQL as a string in your code. \r\n\r\nSomething like \r\n\r\n       Statement s = new Statement(&quot;Select * from wherever&quot;);\r\n\r\nThat may not be very sophisticated, but it works.  The downside is that the compiler can&#39;t check your SQL syntax.  Slightly better solution is &lt;a href=&quot;http://java.sun.com/docs/books/tutorial/jdbc/basics/prepared.html&quot;&gt;Prepaired Statements&lt;/a&gt; where you specify a parametic template.  So you can do stuff like: \r\n\r\n    PreparedStatement s = connection.prepareStatement(&quot;Select * from wherever where state = ?&quot;);\r\n\r\nThat way, your JDBC connection &lt;i&gt;should&lt;/i&gt; throw an exception as soon as you create the prepared statement at run time. So if the code works the first time, it should always work. \r\n\r\nThen in your code later when you want to change the parameter you do: \r\n\r\n    s.setString(1, &quot;CA&quot;);\r\n\r\nMicrosoft has an embedded query language for .net called &lt;a href=&quot;http://msdn.microsoft.com/en-us/netframework/aa904594.aspx&quot;&gt;LINQ&lt;/a&gt;. For databases you use &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/bb425822.aspx&quot;&gt;LINQ to SQL&lt;/a&gt; which lets you embed queries right in your code. ","title":"Embedded SQL in OO languages like Java","body":"<p>Well, the simplest, most brain-dead way to do this is simply to include your SQL as a string in your code. </p>\n\n<p>Something like </p>\n\n<pre><code>   Statement s = new Statement(\"Select * from wherever\");\n</code></pre>\n\n<p>That may not be very sophisticated, but it works.  The downside is that the compiler can't check your SQL syntax.  Slightly better solution is <a href=\"http://java.sun.com/docs/books/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">Prepaired Statements</a> where you specify a parametic template.  So you can do stuff like: </p>\n\n<pre><code>PreparedStatement s = connection.prepareStatement(\"Select * from wherever where state = ?\");\n</code></pre>\n\n<p>That way, your JDBC connection <i>should</i> throw an exception as soon as you create the prepared statement at run time. So if the code works the first time, it should always work. </p>\n\n<p>Then in your code later when you want to change the parameter you do: </p>\n\n<pre><code>s.setString(1, \"CA\");\n</code></pre>\n\n<p>Microsoft has an embedded query language for .net called <a href=\"http://msdn.microsoft.com/en-us/netframework/aa904594.aspx\" rel=\"nofollow noreferrer\">LINQ</a>. For databases you use <a href=\"http://msdn.microsoft.com/en-us/library/bb425822.aspx\" rel=\"nofollow noreferrer\">LINQ to SQL</a> which lets you embed queries right in your code. </p>\n"},{"comments":[{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1262958255,"post_id":2026705,"comment_id":1951017,"body_markdown":"I&#39;d think so. That&#39;s why I think the hype of DSLs and the embedding of SQL do relate to each other","body":"I&#39;d think so. That&#39;s why I think the hype of DSLs and the embedding of SQL do relate to each other"}],"tags":[],"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269184988,"creation_date":1262944282,"answer_id":2026705,"question_id":2026429,"body_markdown":"For the current state of affairs I can offer the following points\r\n\r\n* As mentioned above there is technic in java doing that: [SQLJ][1] which never took of.\r\n* Typically one uses an ORM to get a similiar result ([iBatis][2] and [Hibernate][3] being the ones I here most about\r\n* C# has LINQ which does something similiar\r\n\r\nThere are many problems with embedding sql as part of the language:\r\n\r\n* It tends to tie your language to a database vendor, since the various sql dialects are very different. This is a no go for most modern languages. This wasn&#39;t a problem for COBOL since portability was not a requirement.\r\n* It makes either the language way more complex or requires preprocessing, both are bad things in their own right. But with modern IDEs this is even worse, since they would have a hard time to handle sql inside their code (although they start to actually do it, even when sql is embedded in Strings). This wasn&#39;t a problem for COBOL, since in a modern sense it is a butt ugly language anyway (although it probably was nice when it was invented)\r\n* It requires resources for compiling that are hard to control (namingly the database) and follow a completely different approach then &#39;normal&#39; programming. Again a COBOL Programm and it&#39;s database is pretty much fused together so no problem there.\r\n* SQL doesn&#39;t fit to the OO Paradigm. It returns two dimensional arrays of values, not objects. So you need some kind of ORM anyway.\r\n\r\nOn the other hand DSLs are all the hype now. And there are languages that have XML literals. So I think it is quite possible that languages emerge (or already exist) that have ORM like capabilities embedded in them and allow you to use a SQL (or HQL?) like DSL inside the code.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SQLJ\r\n  [2]: http://ibatis.apache.org/\r\n  [3]: http://www.hibernate.org","title":"Embedded SQL in OO languages like Java","body":"<p>For the current state of affairs I can offer the following points</p>\n\n<ul>\n<li>As mentioned above there is technic in java doing that: <a href=\"http://en.wikipedia.org/wiki/SQLJ\" rel=\"nofollow noreferrer\">SQLJ</a> which never took of.</li>\n<li>Typically one uses an ORM to get a similiar result (<a href=\"http://ibatis.apache.org/\" rel=\"nofollow noreferrer\">iBatis</a> and <a href=\"http://www.hibernate.org\" rel=\"nofollow noreferrer\">Hibernate</a> being the ones I here most about</li>\n<li>C# has LINQ which does something similiar</li>\n</ul>\n\n<p>There are many problems with embedding sql as part of the language:</p>\n\n<ul>\n<li>It tends to tie your language to a database vendor, since the various sql dialects are very different. This is a no go for most modern languages. This wasn't a problem for COBOL since portability was not a requirement.</li>\n<li>It makes either the language way more complex or requires preprocessing, both are bad things in their own right. But with modern IDEs this is even worse, since they would have a hard time to handle sql inside their code (although they start to actually do it, even when sql is embedded in Strings). This wasn't a problem for COBOL, since in a modern sense it is a butt ugly language anyway (although it probably was nice when it was invented)</li>\n<li>It requires resources for compiling that are hard to control (namingly the database) and follow a completely different approach then 'normal' programming. Again a COBOL Programm and it's database is pretty much fused together so no problem there.</li>\n<li>SQL doesn't fit to the OO Paradigm. It returns two dimensional arrays of values, not objects. So you need some kind of ORM anyway.</li>\n</ul>\n\n<p>On the other hand DSLs are all the hype now. And there are languages that have XML literals. So I think it is quite possible that languages emerge (or already exist) that have ORM like capabilities embedded in them and allow you to use a SQL (or HQL?) like DSL inside the code.</p>\n"},{"comments":[{"owner":{"account_id":68381,"reputation":1779,"user_id":199536,"accept_rate":80,"display_name":"Steve De Caux"},"score":0,"creation_date":1263725491,"post_id":2078967,"comment_id":2011691,"body_markdown":"It&#39;s the &quot;inside of a string literal&quot; that is part of the problem","body":"It&#39;s the &quot;inside of a string literal&quot; that is part of the problem"}],"tags":[],"owner":{"account_id":91198,"reputation":10280,"user_id":250560,"accept_rate":87,"display_name":"Konstantin Solomatov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263677431,"creation_date":1263677431,"answer_id":2078967,"question_id":2026429,"body_markdown":"You can workaround such an inability with a decent IDE. For example, IntelliJ IDEA supports a features which is called injected languages. It allows you to write code in a language you want inside of a string literal and be able to use code highlighting, completion, navigation and other services. You can read more about it here: http://blogs.jetbrains.com/idea/2009/03/user-defined-language-injection/","title":"Embedded SQL in OO languages like Java","body":"<p>You can workaround such an inability with a decent IDE. For example, IntelliJ IDEA supports a features which is called injected languages. It allows you to write code in a language you want inside of a string literal and be able to use code highlighting, completion, navigation and other services. You can read more about it here: <a href=\"http://blogs.jetbrains.com/idea/2009/03/user-defined-language-injection/\" rel=\"nofollow noreferrer\">http://blogs.jetbrains.com/idea/2009/03/user-defined-language-injection/</a></p>\n"}],"owner":{"account_id":68381,"reputation":1779,"user_id":199536,"accept_rate":80,"display_name":"Steve De Caux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5214,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1668788133,"creation_date":1262940819,"question_id":2026429,"body_markdown":"One of the things that annoys me working with SQL in OO languages is having to define SQL statements in strings.\n\nWhen I used to work on IBM mainframes, the languages used an SQL preprocessor to parse SQL statements out of the native code, so the statements could be written in cleartext SQL without the obfuscation of strings, for instance in Cobol there is a *EXEC SQL .... END-EXEC* syntax construct that allows **pure SQL statements** to be **embedded** in the Cobol code.\n\n    &lt;pure cobol code, including assignment of value\n     to local variable HOSTVARIABLE&gt;    \n    \n    EXEC SQL\n           SELECT COL_A, COL_B, COL_C\n           INTO :COLA, :COLB, :COLC\n           FROM TAB_A\n           WHERE COL_D = :HOSTVARIABLE\n    END_EXEC\n    \n    &lt;more cobol code, variables COLA, COLB, COLC have been set&gt;\n\n...this makes the SQL statement really easy to read &amp; check for errors. Between the *EXEC SQL .... END-EXEC* tokens there are no constraints on indentation, linebreaking etc., so you can format the SQL statement according to taste.\n\nNote that this example is for a single-row select, when a multiple-row resultset is expected, the coding is different (but still v. easy to read).\n\nSo, taking Java as an example\n\n 1. What made the *&quot;old COBOL&quot;* approach undesirable ? Not only SQL, but system calls could be made much more readable with that approach. Let&#39;s call it the *embedded foreign language preprocessor* approach.  \n\n 2. Would an *embedded foreign language preprocessor* for SQL be useful to implement ? Would you see a benefit in being able to write native SQL statements inside java code ?\n\nEdit\n----\n\n  I&#39;m really asking if you think SQL in OO languages is a throwback, and if not then what could be done to make it better.\n\n","title":"Embedded SQL in OO languages like Java","body":"<p>One of the things that annoys me working with SQL in OO languages is having to define SQL statements in strings.</p>\n<p>When I used to work on IBM mainframes, the languages used an SQL preprocessor to parse SQL statements out of the native code, so the statements could be written in cleartext SQL without the obfuscation of strings, for instance in Cobol there is a <em>EXEC SQL .... END-EXEC</em> syntax construct that allows <strong>pure SQL statements</strong> to be <strong>embedded</strong> in the Cobol code.</p>\n<pre><code>&lt;pure cobol code, including assignment of value\n to local variable HOSTVARIABLE&gt;    \n\nEXEC SQL\n       SELECT COL_A, COL_B, COL_C\n       INTO :COLA, :COLB, :COLC\n       FROM TAB_A\n       WHERE COL_D = :HOSTVARIABLE\nEND_EXEC\n\n&lt;more cobol code, variables COLA, COLB, COLC have been set&gt;\n</code></pre>\n<p>...this makes the SQL statement really easy to read &amp; check for errors. Between the <em>EXEC SQL .... END-EXEC</em> tokens there are no constraints on indentation, linebreaking etc., so you can format the SQL statement according to taste.</p>\n<p>Note that this example is for a single-row select, when a multiple-row resultset is expected, the coding is different (but still v. easy to read).</p>\n<p>So, taking Java as an example</p>\n<ol>\n<li><p>What made the <em>&quot;old COBOL&quot;</em> approach undesirable ? Not only SQL, but system calls could be made much more readable with that approach. Let's call it the <em>embedded foreign language preprocessor</em> approach.</p>\n</li>\n<li><p>Would an <em>embedded foreign language preprocessor</em> for SQL be useful to implement ? Would you see a benefit in being able to write native SQL statements inside java code ?</p>\n</li>\n</ol>\n<h2>Edit</h2>\n<p>I'm really asking if you think SQL in OO languages is a throwback, and if not then what could be done to make it better.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1650989493,"post_id":72016485,"comment_id":127252594,"body_markdown":"Not sure what you mean by it is there without error - the only time you are using that file is in the createEntityManagerFactory line. As your research shows, this is commonly because it isn&#39;t found on the class path, so it isn&#39;t visible to the class loader used to load your DAO class. The persistence xml has to do with your DAO and entities, so I don&#39;t know why you&#39;d have it under the webapp, or how it is getting packed up for deployment, but check your jar file structure on deployment to be sure they are all in the same one.","body":"Not sure what you mean by it is there without error - the only time you are using that file is in the createEntityManagerFactory line. As your research shows, this is commonly because it isn&#39;t found on the class path, so it isn&#39;t visible to the class loader used to load your DAO class. The persistence xml has to do with your DAO and entities, so I don&#39;t know why you&#39;d have it under the webapp, or how it is getting packed up for deployment, but check your jar file structure on deployment to be sure they are all in the same one."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651001293,"post_id":72016485,"comment_id":127256553,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25103918,"reputation":21,"user_id":18954296,"display_name":"SaladCesar"},"score":0,"creation_date":1651003096,"post_id":72016485,"comment_id":127257133,"body_markdown":"Thanks for your answer. What I mean by &quot;without error&quot; is a mistake on my part. I just mean that Eclipse doesn&#39;t throw any immediate syntax error. That&#39;s all. I tried multiple places for the persistence.xml. I tried under /src/main/META-INF/, src/META-INF, src/main/webapp/META-INF. I always get that error.","body":"Thanks for your answer. What I mean by &quot;without error&quot; is a mistake on my part. I just mean that Eclipse doesn&#39;t throw any immediate syntax error. That&#39;s all. I tried multiple places for the persistence.xml. I tried under /src/main/META-INF/, src/META-INF, src/main/webapp/META-INF. I always get that error."},{"owner":{"account_id":25103918,"reputation":21,"user_id":18954296,"display_name":"SaladCesar"},"score":0,"creation_date":1651004206,"post_id":72016485,"comment_id":127257505,"body_markdown":"Also, how can I check file structure on deployment ? It is deployed directly to my tomcat server run by eclipse.","body":"Also, how can I check file structure on deployment ? It is deployed directly to my tomcat server run by eclipse."},{"owner":{"account_id":3418037,"reputation":359,"user_id":2866386,"display_name":"asam"},"score":0,"creation_date":1677680438,"post_id":72016485,"comment_id":133385665,"body_markdown":"@SaladCesar persistence.xml should be in src/main/resources/META-INF/ ie META_INF is inside resources directory","body":"@SaladCesar persistence.xml should be in src/main/resources/META-INF/ ie META_INF is inside resources directory"}],"answers":[{"tags":[],"owner":{"account_id":5266864,"reputation":13,"user_id":4206504,"display_name":"Slavko Krstic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668788087,"creation_date":1668788087,"answer_id":74492471,"question_id":72016485,"body_markdown":"It could be because in your persistence.xml you&#39;re specifying version 2.2 (which is an old javax version) and Jakarta is 3.x. I&#39;m assuming this is Hibernate 6. See here: https://itnext.io/whats-new-in-jakarta-persistence-3-1-by-examples-81b292e8b3a4","title":"jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named error when trying to createEntityManagerFactory","body":"<p>It could be because in your persistence.xml you're specifying version 2.2 (which is an old javax version) and Jakarta is 3.x. I'm assuming this is Hibernate 6. See here: <a href=\"https://itnext.io/whats-new-in-jakarta-persistence-3-1-by-examples-81b292e8b3a4\" rel=\"nofollow noreferrer\">https://itnext.io/whats-new-in-jakarta-persistence-3-1-by-examples-81b292e8b3a4</a></p>\n"}],"owner":{"account_id":25103918,"reputation":21,"user_id":18954296,"display_name":"SaladCesar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2036,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668788087,"creation_date":1650986375,"question_id":72016485,"body_markdown":"I&#39;m trying to setup a backend with an eclipse Dynamic Web Project, and this backend will access a MariaDB using Hibernate ORM. I&#39;m having an issue when creating the Entity Manager Factory. Here is the structure of my project :\r\n[project structure][1]\r\n\r\nHere is the list of the librairies I&#39;ve included :\r\n[Librairies 1][2]\r\n[Librairies 2][3]\r\n\r\nHere is the content of my web.xml :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;5.0&quot;&gt;\r\n  &lt;display-name&gt;trakteur-backend2&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer\r\n\t\t&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n      &lt;param-value&gt;service&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.scanning.recursive&lt;/param-name&gt;\r\n      &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n  \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nHere is the content of my persistence.xml :\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;persistence version=&quot;2.2&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\nhttp://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n\t&lt;persistence-unit name=&quot;persistUnit&quot;&gt;\r\n\t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;class&gt; entities.TrakteurFilm &lt;/class&gt;\r\n\t\t&lt;class&gt; entities.TrakteurUser &lt;/class&gt;\r\n\t\t&lt;class&gt; entities.TrakteurComment &lt;/class&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot;\r\n\t\t\t\tvalue=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n\t\t\t\tvalue=&quot;jdbc:mysql://localhost:3306/trakteur?serverTimezone=UTC&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot;\r\n\t\t\t\tvalue=&quot;user&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot;\r\n\t\t\t\tvalue=&quot;password&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.id.new_generator_mappings&quot;\r\n\t\t\t\tvalue=&quot;false&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nMy DAO class is just the following for now :\r\n```java\r\npackage jpaDAO;\r\n\r\nimport java.util.List;\r\n\r\nimport entities.*;\r\nimport jakarta.persistence.*;\r\n\r\npublic class DAO{\r\n\tprivate EntityManagerFactory emf;\r\n\t\r\n\tpublic DAO()\r\n\t{\r\n\t\temf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);\r\n\t}\r\n\t\r\n\tpublic EntityManager getEntityManager()\r\n\t{\r\n\t\treturn emf.createEntityManager();\r\n\t}\r\n}\r\n```\r\n\r\nThe error I&#39;m having when executing the project on my Tomcat 10 server is the following :\r\n```\r\njakarta.persistence.PersistenceException: No Persistence provider for EntityManager named persistUnit\r\n\tjakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\r\n\tjakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tjpaDAO.DAO.&lt;init&gt;(DAO.java:13)\r\n\tservice.ServiceTrakteur.&lt;clinit&gt;(ServiceTrakteur.java:14)\r\n\tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tjava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tjava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tjava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\torg.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1356)\r\n\torg.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:248)\r\n\torg.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:342)\r\n\torg.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\r\n\torg.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\r\n\torg.jvnet.hk2.internal.Utilities.createService(Utilities.java:2103)\r\n\torg.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:769)\r\n\torg.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:732)\r\n\torg.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:702)\r\n\torg.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\r\n\torg.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\r\n\torg.glassfish.jersey.internal.inject.Injections.getOrCreate(Injections.java:105)\r\n\torg.glassfish.jersey.server.model.MethodHandler$ClassBasedMethodHandler.getInstance(MethodHandler.java:260)\r\n\torg.glassfish.jersey.server.internal.routing.PushMethodHandlerRouter.apply(PushMethodHandlerRouter.java:51)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69)\r\n\torg.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38)\r\n\torg.glassfish.jersey.process.internal.Stages.process(Stages.java:173)\r\n\torg.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:247)\r\n\torg.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\torg.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\torg.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\torg.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\torg.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\torg.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\torg.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\r\n\torg.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n\torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\n\r\nI am getting this error no matter what methods are in my DAO or no matter what REST request I do from my service package.\r\n\r\nWhat I am sure of is that it comes from the line `emf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);` in my DAO, because if I remove this line, all my methods (that don&#39;t need to use the DB obviously) work. With this line, none of them work.\r\n\r\nI can&#39;t find where I failed with my setup. I searched a lot on this issue but I don&#39;t find cases that correspond to mine. Apparently, it appears that the persistence.xml or the persistence unit can&#39;t be found, but it&#39;s here and without error. My object classes (TrakteurComment, TrakteurUser and TrakteurFilm) don&#39;t have any error.\r\n\r\nDo you have an idea of what it could be ?\r\nThanks in advance for any help or any answer.\r\nHave a great day\r\n\r\n  [1]: https://i.stack.imgur.com/oOm0T.png\r\n  [2]: https://i.stack.imgur.com/Ti9vr.png\r\n  [3]: https://i.stack.imgur.com/3b0UV.png","title":"jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named error when trying to createEntityManagerFactory","body":"<p>I'm trying to setup a backend with an eclipse Dynamic Web Project, and this backend will access a MariaDB using Hibernate ORM. I'm having an issue when creating the Entity Manager Factory. Here is the structure of my project :\n<a href=\"https://i.stack.imgur.com/oOm0T.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>Here is the list of the librairies I've included :\n<a href=\"https://i.stack.imgur.com/Ti9vr.png\" rel=\"nofollow noreferrer\">Librairies 1</a>\n<a href=\"https://i.stack.imgur.com/3b0UV.png\" rel=\"nofollow noreferrer\">Librairies 2</a></p>\n<p>Here is the content of my web.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;5.0&quot;&gt;\n  &lt;display-name&gt;trakteur-backend2&lt;/display-name&gt;\n    &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer\n        &lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;service&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.scanning.recursive&lt;/param-name&gt;\n      &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  \n    &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey Web app&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>Here is the content of my persistence.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;persistence version=&quot;2.2&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\nhttp://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;persistUnit&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt; entities.TrakteurFilm &lt;/class&gt;\n        &lt;class&gt; entities.TrakteurUser &lt;/class&gt;\n        &lt;class&gt; entities.TrakteurComment &lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\n                value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                value=&quot;jdbc:mysql://localhost:3306/trakteur?serverTimezone=UTC&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot;\n                value=&quot;user&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\n                value=&quot;password&quot; /&gt;\n            &lt;property name=&quot;hibernate.id.new_generator_mappings&quot;\n                value=&quot;false&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>My DAO class is just the following for now :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jpaDAO;\n\nimport java.util.List;\n\nimport entities.*;\nimport jakarta.persistence.*;\n\npublic class DAO{\n    private EntityManagerFactory emf;\n    \n    public DAO()\n    {\n        emf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);\n    }\n    \n    public EntityManager getEntityManager()\n    {\n        return emf.createEntityManager();\n    }\n}\n</code></pre>\n<p>The error I'm having when executing the project on my Tomcat 10 server is the following :</p>\n<pre><code>jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named persistUnit\n    jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\n    jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    jpaDAO.DAO.&lt;init&gt;(DAO.java:13)\n    service.ServiceTrakteur.&lt;clinit&gt;(ServiceTrakteur.java:14)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    org.glassfish.hk2.utilities.reflection.ReflectionHelper.makeMe(ReflectionHelper.java:1356)\n    org.jvnet.hk2.internal.ClazzCreator.createMe(ClazzCreator.java:248)\n    org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:342)\n    org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:466)\n    org.glassfish.jersey.inject.hk2.RequestContext.findOrCreate(RequestContext.java:59)\n    org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2103)\n    org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:769)\n    org.jvnet.hk2.internal.ServiceLocatorImpl.internalGetService(ServiceLocatorImpl.java:732)\n    org.jvnet.hk2.internal.ServiceLocatorImpl.getService(ServiceLocatorImpl.java:702)\n    org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.getInstance(AbstractHk2InjectionManager.java:160)\n    org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.getInstance(ImmediateHk2InjectionManager.java:30)\n    org.glassfish.jersey.internal.inject.Injections.getOrCreate(Injections.java:105)\n    org.glassfish.jersey.server.model.MethodHandler$ClassBasedMethodHandler.getInstance(MethodHandler.java:260)\n    org.glassfish.jersey.server.internal.routing.PushMethodHandlerRouter.apply(PushMethodHandlerRouter.java:51)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89)\n    org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69)\n    org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38)\n    org.glassfish.jersey.process.internal.Stages.process(Stages.java:173)\n    org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:247)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n    org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\n    org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>I am getting this error no matter what methods are in my DAO or no matter what REST request I do from my service package.</p>\n<p>What I am sure of is that it comes from the line <code>emf = Persistence.createEntityManagerFactory(&quot;persistUnit&quot;);</code> in my DAO, because if I remove this line, all my methods (that don't need to use the DB obviously) work. With this line, none of them work.</p>\n<p>I can't find where I failed with my setup. I searched a lot on this issue but I don't find cases that correspond to mine. Apparently, it appears that the persistence.xml or the persistence unit can't be found, but it's here and without error. My object classes (TrakteurComment, TrakteurUser and TrakteurFilm) don't have any error.</p>\n<p>Do you have an idea of what it could be ?\nThanks in advance for any help or any answer.\nHave a great day</p>\n"},{"tags":["java","mysql","hibernate","foreign-keys","liquibase"],"answers":[{"comments":[{"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"score":0,"creation_date":1635235662,"post_id":69634847,"comment_id":123235379,"body_markdown":"A stupid question, but how should I access the `verification_challenge` from `wallet_information` from the java code perspective? From what I understand - I should remove the `@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;verification_challenge_id&quot;)\n    private VerificationChallenge verificationChallenge;` from the `WalletInformation` object, and add `WalletInformation` to `VerificationChallenge`. So when selecting `WalletInformation` from the database I won&#39;t have the `VerificationChallenge` attached. Should I do it with another DB request?","body":"A stupid question, but how should I access the <code>verification_challenge</code> from <code>wallet_information</code> from the java code perspective? From what I understand - I should remove the <code>@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)     @JoinColumn(name = &quot;verification_challenge_id&quot;)     private VerificationChallenge verificationChallenge;</code> from the <code>WalletInformation</code> object, and add <code>WalletInformation</code> to <code>VerificationChallenge</code>. So when selecting <code>WalletInformation</code> from the database I won&#39;t have the <code>VerificationChallenge</code> attached. Should I do it with another DB request?"},{"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"score":0,"creation_date":1635368502,"post_id":69634847,"comment_id":123282777,"body_markdown":"It&#39;s been a while since I&#39;ve used hibernate so I don&#39;t know off hand. If I remember correctly, though, you are able to set up the mapping to be bi-directional, so both objects can be referenced from either side.","body":"It&#39;s been a while since I&#39;ve used hibernate so I don&#39;t know off hand. If I remember correctly, though, you are able to set up the mapping to be bi-directional, so both objects can be referenced from either side."}],"tags":[],"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634662177,"creation_date":1634662177,"answer_id":69634847,"question_id":69570980,"body_markdown":"I think you have your foreign key set up backwards from what your business logic expects.\r\n\r\nFrom the Liquibase side, It&#39;s just generating SQL like `alter table wallet_information add constraint verification_challenge_fk ... on delete cascade` which tells the database &quot;when you have a delete that would cause this constraint to fail, delete the problem data&quot;. So in your case &quot;when you delete a verification_challenge, delete the wallet_information&quot;.\r\n\r\nSo your fix should be to remove the `verification_challenge_id` column from `wallet_information` and add a `wallet_information_id` column to `verification_challenge` instead. Then, the onDelete=cascade logic will match what you are expecting.","title":"Liquibase: onDelete=&quot;CASCADE&quot; - deleting parent doesn&#39;t delete child, but deleting child deletes parent","body":"<p>I think you have your foreign key set up backwards from what your business logic expects.</p>\n<p>From the Liquibase side, It's just generating SQL like <code>alter table wallet_information add constraint verification_challenge_fk ... on delete cascade</code> which tells the database &quot;when you have a delete that would cause this constraint to fail, delete the problem data&quot;. So in your case &quot;when you delete a verification_challenge, delete the wallet_information&quot;.</p>\n<p>So your fix should be to remove the <code>verification_challenge_id</code> column from <code>wallet_information</code> and add a <code>wallet_information_id</code> column to <code>verification_challenge</code> instead. Then, the onDelete=cascade logic will match what you are expecting.</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668787865,"creation_date":1668787865,"answer_id":74492414,"question_id":69570980,"body_markdown":"TL;DR\r\n\r\n&gt; **I assumed that onDelete=&quot;CASCADE&quot; will behave quite in opposite way...**\r\n\r\nAhh.. not really, [it works][1] as it should be, in your shared code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n       &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \r\n            baseColumnNames=&quot;verification_challenge_id&quot;\r\n            constraintName=&quot;verification_challenge_fk&quot;\r\n            referencedTableName=&quot;verification_challenge&quot; \r\n            referencedColumnNames=&quot;id&quot;\r\n            onDelete=&quot;CASCADE&quot;/&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMeaning whenever you delete record within `verification_challenge` table all the associated entities that have cascading on delete like `wallet_information` will be deleted as well.\r\n \r\n\r\n\r\n  [1]: https://docs.liquibase.com/change-types/add-foreign-key-constraint.html","title":"Liquibase: onDelete=&quot;CASCADE&quot; - deleting parent doesn&#39;t delete child, but deleting child deletes parent","body":"<p>TL;DR</p>\n<blockquote>\n<p><strong>I assumed that onDelete=&quot;CASCADE&quot; will behave quite in opposite way...</strong></p>\n</blockquote>\n<p>Ahh.. not really, <a href=\"https://docs.liquibase.com/change-types/add-foreign-key-constraint.html\" rel=\"nofollow noreferrer\">it works</a> as it should be, in your shared code</p>\n<pre><code>   &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \n        baseColumnNames=&quot;verification_challenge_id&quot;\n        constraintName=&quot;verification_challenge_fk&quot;\n        referencedTableName=&quot;verification_challenge&quot; \n        referencedColumnNames=&quot;id&quot;\n        onDelete=&quot;CASCADE&quot;/&gt;\n</code></pre>\n<p>Meaning whenever you delete record within <code>verification_challenge</code> table all the associated entities that have cascading on delete like <code>wallet_information</code> will be deleted as well.</p>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668787865,"creation_date":1634215630,"question_id":69570980,"body_markdown":"I have two entities (giving You simplified versions):\r\n\r\n    &lt;createTable tableName=&quot;wallet_information&quot;\r\n                 remarks=&quot;A table to contain wallet data&quot;&gt;\r\n        &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;user_uuid&quot; type=&quot;varchar(255)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;wallet_name&quot; type=&quot;varchar(255)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;wallet_address&quot; type=&quot;varchar(63)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;verification_challenge_id&quot; type=&quot;bigint(20)&quot;&gt;\r\n            &lt;constraints nullable=&quot;true&quot;/&gt;\r\n        &lt;/column&gt;\r\n    &lt;/createTable&gt;\r\n\r\nAnd:\r\n\r\n    &lt;createTable tableName=&quot;verification_challenge&quot;\r\n                 remarks=&quot;A table to contain challenge data&quot;&gt;\r\n        &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\r\n        &lt;/column&gt;\r\n        &lt;column name=&quot;challenge_type&quot; type=&quot;varchar(255)&quot;&gt;\r\n            &lt;constraints nullable=&quot;false&quot;/&gt;\r\n        &lt;/column&gt;\r\n    &lt;/createTable&gt;\r\n\r\nAnd finally:\r\n\r\n       &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \r\n            baseColumnNames=&quot;verification_challenge_id&quot;\r\n            constraintName=&quot;verification_challenge_fk&quot;\r\n            referencedTableName=&quot;verification_challenge&quot; \r\n            referencedColumnNames=&quot;id&quot;\r\n            onDelete=&quot;CASCADE&quot;/&gt;\r\n\r\nThen I persist some data in those tables using Hibernate.\r\n\r\nCurrently I am not deleting any data from those tables from the code perspective, but when I manually delete an entry in `wallet_information`, the referenced entry in `verification_challenge` is not deleted alongside it.\r\n\r\nBut when I delete an entry in `verification_challenge`, the referenced entry in `wallet_information` is deleted.\r\n\r\nI assumed that `onDelete=&quot;CASCADE&quot;` will behave quite in opposite way...\r\n\r\nWhat have I done wrong?","title":"Liquibase: onDelete=&quot;CASCADE&quot; - deleting parent doesn&#39;t delete child, but deleting child deletes parent","body":"<p>I have two entities (giving You simplified versions):</p>\n<pre><code>&lt;createTable tableName=&quot;wallet_information&quot;\n             remarks=&quot;A table to contain wallet data&quot;&gt;\n    &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;user_uuid&quot; type=&quot;varchar(255)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;wallet_name&quot; type=&quot;varchar(255)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;wallet_address&quot; type=&quot;varchar(63)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;verification_challenge_id&quot; type=&quot;bigint(20)&quot;&gt;\n        &lt;constraints nullable=&quot;true&quot;/&gt;\n    &lt;/column&gt;\n&lt;/createTable&gt;\n</code></pre>\n<p>And:</p>\n<pre><code>&lt;createTable tableName=&quot;verification_challenge&quot;\n             remarks=&quot;A table to contain challenge data&quot;&gt;\n    &lt;column name=&quot;id&quot; type=&quot;bigint(20)&quot; autoIncrement=&quot;true&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot; primaryKey=&quot;true&quot;/&gt;\n    &lt;/column&gt;\n    &lt;column name=&quot;challenge_type&quot; type=&quot;varchar(255)&quot;&gt;\n        &lt;constraints nullable=&quot;false&quot;/&gt;\n    &lt;/column&gt;\n&lt;/createTable&gt;\n</code></pre>\n<p>And finally:</p>\n<pre><code>   &lt;addForeignKeyConstraint baseTableName=&quot;wallet_information&quot; \n        baseColumnNames=&quot;verification_challenge_id&quot;\n        constraintName=&quot;verification_challenge_fk&quot;\n        referencedTableName=&quot;verification_challenge&quot; \n        referencedColumnNames=&quot;id&quot;\n        onDelete=&quot;CASCADE&quot;/&gt;\n</code></pre>\n<p>Then I persist some data in those tables using Hibernate.</p>\n<p>Currently I am not deleting any data from those tables from the code perspective, but when I manually delete an entry in <code>wallet_information</code>, the referenced entry in <code>verification_challenge</code> is not deleted alongside it.</p>\n<p>But when I delete an entry in <code>verification_challenge</code>, the referenced entry in <code>wallet_information</code> is deleted.</p>\n<p>I assumed that <code>onDelete=&quot;CASCADE&quot;</code> will behave quite in opposite way...</p>\n<p>What have I done wrong?</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668787410,"post_id":74492258,"comment_id":131498515,"body_markdown":"There&#39;s a lot in your code that is pretty confusing.\n\nFirst, storing whether it&#39;s sorted or not a s a string is a bad idea - store that as a boolean. \n\nIs it your intention to only remove the max if the list is unsorted? If so, please edit that into your question.\n\nSimilarly, do we only want to remove it if it *is* the first or last element? Or are we guaranteed to be working with a list such that that is the case?\n\nCan we have repeated elements in the list? What should we do with a list like, say, `1, 2, 2`?","body":"There&#39;s a lot in your code that is pretty confusing.  First, storing whether it&#39;s sorted or not a s a string is a bad idea - store that as a boolean.   Is it your intention to only remove the max if the list is unsorted? If so, please edit that into your question.  Similarly, do we only want to remove it if it <i>is</i> the first or last element? Or are we guaranteed to be working with a list such that that is the case?  Can we have repeated elements in the list? What should we do with a list like, say, <code>1, 2, 2</code>?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1668787529,"post_id":74492258,"comment_id":131498557,"body_markdown":"Pleas add a failing test and debug-information you found so far","body":"Pleas add a failing test and debug-information you found so far"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668787558,"post_id":74492258,"comment_id":131498565,"body_markdown":"Continuing with the code review, using `+=` to append rather than `=` to overwrite is a weird phrasing - in this case it&#39;s equivalent because you&#39;re appending to an empty string, but it&#39;s confusing. It would actually be better to entirely separate that into an `isSorted` function (or just use a pre-existing one, like you do to get the max)","body":"Continuing with the code review, using <code>+=</code> to append rather than <code>=</code> to overwrite is a weird phrasing - in this case it&#39;s equivalent because you&#39;re appending to an empty string, but it&#39;s confusing. It would actually be better to entirely separate that into an <code>isSorted</code> function (or just use a pre-existing one, like you do to get the max)"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1668787584,"post_id":74492258,"comment_id":131498581,"body_markdown":"Please fix the  formatting of your code. (especially indention)","body":"Please fix the  formatting of your code. (especially indention)"},{"owner":{"account_id":15493486,"reputation":83,"user_id":16708103,"display_name":"Aliayub Ali"},"score":0,"creation_date":1668787622,"post_id":74492258,"comment_id":131498599,"body_markdown":"that&#39;s true, that&#39;s how I solved it last time exactly thank you genius.","body":"that&#39;s true, that&#39;s how I solved it last time exactly thank you genius."}],"answers":[{"tags":[],"owner":{"account_id":6970461,"reputation":7437,"user_id":5348875,"accept_rate":67,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668787609,"creation_date":1668787609,"answer_id":74492363,"question_id":74492258,"body_markdown":"Store the index of the maximum element in your recursion and in the end, remove it.\r\n\r\n```\r\nList&lt;Integer&gt; RemoveBiggestFromList(List&lt;Integer&gt; list, int index, int maxIndex){\r\n    if(index &gt;= list.size()) {\r\n        if(list.size() &gt; 0) list.remove(maxIndex);\r\n        return list;\r\n    }\r\n    else{\r\n        if(list.get(index) &gt; list.get(maxIndex)) maxIndex = index;\r\n        return RemoveBiggestFromList(list, index + 1, maxIndex);\r\n    }\r\n}\r\n```\r\n\r\nThen, just do `list = RemoveBiggestFromList(list, 0, 0)`.\r\n\r\nThis is a recursive method to remove the biggest element wherever it is.","title":"is there any recursive way that I can remove the max number either from start or at the end?","body":"<p>Store the index of the maximum element in your recursion and in the end, remove it.</p>\n<pre><code>List&lt;Integer&gt; RemoveBiggestFromList(List&lt;Integer&gt; list, int index, int maxIndex){\n    if(index &gt;= list.size()) {\n        if(list.size() &gt; 0) list.remove(maxIndex);\n        return list;\n    }\n    else{\n        if(list.get(index) &gt; list.get(maxIndex)) maxIndex = index;\n        return RemoveBiggestFromList(list, index + 1, maxIndex);\n    }\n}\n</code></pre>\n<p>Then, just do <code>list = RemoveBiggestFromList(list, 0, 0)</code>.</p>\n<p>This is a recursive method to remove the biggest element wherever it is.</p>\n"}],"owner":{"account_id":15493486,"reputation":83,"user_id":16708103,"display_name":"Aliayub Ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668787609,"creation_date":1668787095,"question_id":74492258,"body_markdown":"I am checking if the list is sorted if it sorted than return false if not than remove the maxNumer in the list either from the start or the end not in the middle the middle is wanted but at end or the start no for example [1,2,3,4] expected false [9,1,2,3,4,6,22] // expected [1,2,3,4,6] thank you.\r\n\r\n\r\n   \r\n    \r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            list.add(9);\r\n            list.add(2);\r\n            list.add(3);\r\n            list.add(4);\r\n            list.add(5);\r\n            list.add(22);\r\n            var r = find132pattern(list);\r\n    \r\n            \r\n        }\r\n    \r\n        \r\n       public static boolean find132pattern(List&lt;Integer&gt; list) {\r\n    \r\n        int count = 0;\r\n        String result = &quot;&quot;;\r\n        for(int i = 0; i &lt; list.size(); i++){\r\n            int prev = i-1;\r\n            int next = list.get(i);\r\n            if(prev &gt; -1){\r\n                prev = list.get(i-1);\r\n                if(prev &gt; next){\r\n                    count+=1;\r\n                }\r\n            }\r\n        }\r\n        if(count &gt; 0){\r\n            result+=&quot;not sorted&quot;;\r\n        }else {\r\n            result+=&quot;sorted&quot;;\r\n        }\r\n    \r\n        Integer start = 0;\r\n    \r\n        Integer end = list.size();\r\n    \r\n        Integer maxNum = Collections.max(list);\r\n    \r\n        Integer maxPos = list.indexOf(maxNum);\r\n    \r\n        \r\n        if(result == &quot;sorted&quot;){\r\n            return false;\r\n        }else if(result == &quot;not sorted&quot; &amp;&amp; maxPos == end || maxPos == start){\r\n            list.remove(maxPos);\r\n            find132pattern(list);\r\n        }else {\r\n            System.out.println(list);\r\n        }\r\n           \r\n        \r\n     return false;\r\n    }\r\n        \r\n    }\r\n    \r\n    \r\n    // find an element","title":"is there any recursive way that I can remove the max number either from start or at the end?","body":"<p>I am checking if the list is sorted if it sorted than return false if not than remove the maxNumer in the list either from the start or the end not in the middle the middle is wanted but at end or the start no for example [1,2,3,4] expected false [9,1,2,3,4,6,22] // expected [1,2,3,4,6] thank you.</p>\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n        list.add(9);\n        list.add(2);\n        list.add(3);\n        list.add(4);\n        list.add(5);\n        list.add(22);\n        var r = find132pattern(list);\n\n        \n    }\n\n    \n   public static boolean find132pattern(List&lt;Integer&gt; list) {\n\n    int count = 0;\n    String result = &quot;&quot;;\n    for(int i = 0; i &lt; list.size(); i++){\n        int prev = i-1;\n        int next = list.get(i);\n        if(prev &gt; -1){\n            prev = list.get(i-1);\n            if(prev &gt; next){\n                count+=1;\n            }\n        }\n    }\n    if(count &gt; 0){\n        result+=&quot;not sorted&quot;;\n    }else {\n        result+=&quot;sorted&quot;;\n    }\n\n    Integer start = 0;\n\n    Integer end = list.size();\n\n    Integer maxNum = Collections.max(list);\n\n    Integer maxPos = list.indexOf(maxNum);\n\n    \n    if(result == &quot;sorted&quot;){\n        return false;\n    }else if(result == &quot;not sorted&quot; &amp;&amp; maxPos == end || maxPos == start){\n        list.remove(maxPos);\n        find132pattern(list);\n    }else {\n        System.out.println(list);\n    }\n       \n    \n return false;\n}\n    \n}\n\n\n// find an element\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1668788484,"post_id":74492349,"comment_id":131498918,"body_markdown":"IDE does not know about every error in the project in most cases. Analysis is run when you open a file, otherwise performance would suffer. There is support for Project wide error analysis, but it&#39;s limited to some languages only. See https://www.jetbrains.com/help/idea/file-and-project-analysis.html#project-wide-analysis. At the moment, it works only for Java.","body":"IDE does not know about every error in the project in most cases. Analysis is run when you open a file, otherwise performance would suffer. There is support for Project wide error analysis, but it&#39;s limited to some languages only. See <a href=\"https://www.jetbrains.com/help/idea/file-and-project-analysis.html#project-wide-analysis\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. At the moment, it works only for Java."},{"owner":{"account_id":309064,"reputation":12440,"user_id":621316,"accept_rate":95,"display_name":"Dave Cousineau"},"score":0,"creation_date":1668788876,"post_id":74492349,"comment_id":131499053,"body_markdown":"in Rider it is, I think Alt-Shift-PageDown (and -PageUp for previous). Not sure about IntelliJ.","body":"in Rider it is, I think Alt-Shift-PageDown (and -PageUp for previous). Not sure about IntelliJ."}],"owner":{"account_id":4742401,"reputation":864,"user_id":7858768,"display_name":"user7858768"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668787518,"creation_date":1668787518,"question_id":74492349,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uk5Xx.png\r\n\r\nIs there any way to go to next error that is anywhere in the project within IntelliJ? Going to `Next Highlighted Error` only goes to errors within the opened file rather than anywhere in the project.","title":"Intellij: Any way to go to next error anywhere in the project?","body":"<p><a href=\"https://i.stack.imgur.com/uk5Xx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uk5Xx.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to go to next error that is anywhere in the project within IntelliJ? Going to <code>Next Highlighted Error</code> only goes to errors within the opened file rather than anywhere in the project.</p>\n"},{"tags":["java","maven","jar","environment-variables"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1668787637,"post_id":74492348,"comment_id":131498604,"body_markdown":"Create 1 config jar per env. At runtime, add the jar to the classpath that matches the env.","body":"Create 1 config jar per env. At runtime, add the jar to the classpath that matches the env."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668787739,"post_id":74492348,"comment_id":131498640,"body_markdown":"Either create an appropriate configuration file which will be put on the class path during runtime so you can control by your classpath at runtime which configuration you are picking up... or just use access to environment variables... never package the configuration into your application...keep the appliation and configuration like a db etc. independent.","body":"Either create an appropriate configuration file which will be put on the class path during runtime so you can control by your classpath at runtime which configuration you are picking up... or just use access to environment variables... never package the configuration into your application...keep the appliation and configuration like a db etc. independent."},{"owner":{"account_id":21872292,"reputation":107,"user_id":16161654,"display_name":"Jack"},"score":0,"creation_date":1668788393,"post_id":74492348,"comment_id":131498884,"body_markdown":"@khmarbaise can you share any resource that might help me on this? cause everything is new to me","body":"@khmarbaise can you share any resource that might help me on this? cause everything is new to me"},{"owner":{"account_id":21872292,"reputation":107,"user_id":16161654,"display_name":"Jack"},"score":0,"creation_date":1668790231,"post_id":74492348,"comment_id":131499557,"body_markdown":"@Michael what do you mean by config jar? what does kind of files is in there to bundle? if you have a helpful resource please share","body":"@Michael what do you mean by config jar? what does kind of files is in there to bundle? if you have a helpful resource please share"}],"owner":{"account_id":21872292,"reputation":107,"user_id":16161654,"display_name":"Jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668787517,"creation_date":1668787517,"question_id":74492348,"body_markdown":"I have a pure java project built with maven\r\n\r\nThis java project is using external DB so there&#39;s a DB IP &amp; DB username and password.\r\n\r\nThese values currently are hardcoded. I want to be able to make these values configurable based on the environment.\r\n\r\nFor example if I want to build the jar for Dev env I will have these values \r\n\r\n    DB IP : 123\r\n    DB username : dev123\r\n    DB password : dev123\r\n\r\nfor QA \r\n\r\n    DB IP : 345\r\n    DB username : Qa123\r\n    DB password : Qa123 \r\n\r\nand so on .. \r\n\r\nI have looked into the profiles but as I understood I cannot access these values withing my program or it&#39;s not recommended to use them for this purpose.\r\n\r\nI had experience with Django and I know that we can create `.env` file \r\nand for `.net` we can have what is called `appsettings`.\r\n\r\nThanks.","title":"Java maven build jar for different environment configuration settings","body":"<p>I have a pure java project built with maven</p>\n<p>This java project is using external DB so there's a DB IP &amp; DB username and password.</p>\n<p>These values currently are hardcoded. I want to be able to make these values configurable based on the environment.</p>\n<p>For example if I want to build the jar for Dev env I will have these values</p>\n<pre><code>DB IP : 123\nDB username : dev123\nDB password : dev123\n</code></pre>\n<p>for QA</p>\n<pre><code>DB IP : 345\nDB username : Qa123\nDB password : Qa123 \n</code></pre>\n<p>and so on ..</p>\n<p>I have looked into the profiles but as I understood I cannot access these values withing my program or it's not recommended to use them for this purpose.</p>\n<p>I had experience with Django and I know that we can create <code>.env</code> file\nand for <code>.net</code> we can have what is called <code>appsettings</code>.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","mysql","sql","database"],"comments":[{"owner":{"account_id":7696128,"reputation":5629,"user_id":5830574,"accept_rate":93,"display_name":"PerlDuck"},"score":2,"creation_date":1469977093,"post_id":38685006,"comment_id":64749697,"body_markdown":"Your English is _by far_ not terrible but I&#39;m afraid your question is off-topic because you are asking for some kind of tutorial. Please refer to [ask]. SO is about specific programming problems, i.e. you should have a particular piece of code that doesn&#39;t work as you expect.","body":"Your English is <i>by far</i> not terrible but I&#39;m afraid your question is off-topic because you are asking for some kind of tutorial. Please refer to <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. SO is about specific programming problems, i.e. you should have a particular piece of code that doesn&#39;t work as you expect."}],"answers":[{"comments":[{"owner":{"account_id":8925496,"reputation":3,"user_id":6660205,"display_name":"Lucy Snod"},"score":0,"creation_date":1469976939,"post_id":38685114,"comment_id":64749663,"body_markdown":"Thank you so much for your answer, I&#39;m try it.","body":"Thank you so much for your answer, I&#39;m try it."}],"tags":[],"owner":{"account_id":6080497,"reputation":628,"user_id":5212952,"accept_rate":50,"display_name":"Drgabble"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469976301,"creation_date":1469976301,"answer_id":38685114,"question_id":38685006,"body_markdown":"I would recommend SQL database [H2][1]. Simply include the .jar with your project (follow the website installation instructions) and use it in your code with:\r\n\r\n    Class.forName(&quot;org.h2.Driver&quot;);\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:h2:&quot;+path_to_database);\r\n    con.createStatement().execute(&quot;CREATE TABLE games(name VARCHAR(80))&quot;);\r\n    con.createStatement().execute(&quot;INSERT INTO games(name) VALUES(&#39;Halo 3&#39;)&quot;);\r\n    // etc...\r\n\r\nTheir documentation is pretty comprehensive to get you started with reading and writing from the database.\r\n\r\n\r\n  [1]: http://www.h2database.com","title":"How to download and parse an sql file in java","body":"<p>I would recommend SQL database <a href=\"http://www.h2database.com\" rel=\"nofollow\">H2</a>. Simply include the .jar with your project (follow the website installation instructions) and use it in your code with:</p>\n\n<pre><code>Class.forName(\"org.h2.Driver\");\nConnection con = DriverManager.getConnection(\"jdbc:h2:\"+path_to_database);\ncon.createStatement().execute(\"CREATE TABLE games(name VARCHAR(80))\");\ncon.createStatement().execute(\"INSERT INTO games(name) VALUES('Halo 3')\");\n// etc...\n</code></pre>\n\n<p>Their documentation is pretty comprehensive to get you started with reading and writing from the database.</p>\n"}],"owner":{"account_id":8925496,"reputation":3,"user_id":6660205,"display_name":"Lucy Snod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38685114,"answer_count":1,"score":0,"last_activity_date":1668787480,"creation_date":1469975464,"question_id":38685006,"body_markdown":"I&#39;m learning java/android development and I have an idea of an app that I want to make.\r\nI want to make an app that displays a list of upcoming games (just an example) that I keep updating frequently. And in order to do that, it downloads a database file (or read it directly without downloading) and parse it to display the information each time the user opens the app.\r\n\r\nI searched a lot and I didn&#39;t find any way to do it. I&#39;ll be thankful if someone tells me how.\r\nI know that it&#39;s possible to use a RSS feed but I want to use database if possible.\r\n","title":"How to download and parse an sql file in java","body":"<p>I'm learning java/android development and I have an idea of an app that I want to make.\nI want to make an app that displays a list of upcoming games (just an example) that I keep updating frequently. And in order to do that, it downloads a database file (or read it directly without downloading) and parse it to display the information each time the user opens the app.</p>\n<p>I searched a lot and I didn't find any way to do it. I'll be thankful if someone tells me how.\nI know that it's possible to use a RSS feed but I want to use database if possible.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"score":3,"creation_date":1340897805,"post_id":11247793,"comment_id":14781345,"body_markdown":"Dot notation may be seen as code, where in Object.toString `Object` will be an instance or otherwise `toString` will be a static method. Dash notation is Javadoc and so is clear.","body":"Dot notation may be seen as code, where in Object.toString <code>Object</code> will be an instance or otherwise <code>toString</code> will be a static method. Dash notation is Javadoc and so is clear."}],"answers":[{"comments":[{"owner":{"account_id":37594,"reputation":9567,"user_id":107510,"accept_rate":85,"display_name":"WhyNotHugo"},"score":4,"creation_date":1340897667,"post_id":11247849,"comment_id":14781274,"body_markdown":"This, in turn, comes from HTML Anchors, which are represented using this notation, since each method is an anchor if the HTML javadoc in generated.","body":"This, in turn, comes from HTML Anchors, which are represented using this notation, since each method is an anchor if the HTML javadoc in generated."},{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":0,"creation_date":1340904198,"post_id":11247849,"comment_id":14784120,"body_markdown":"all makes sense.  I may start to use it now, but I have to admit it is quite ugly and I find it harder to read.  But it does provide disambiguation in the case of static method invocations.","body":"all makes sense.  I may start to use it now, but I have to admit it is quite ugly and I find it harder to read.  But it does provide disambiguation in the case of static method invocations."},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1459705098,"post_id":11247849,"comment_id":60394289,"body_markdown":"But what if the Object is lowercase?","body":"But what if the Object is lowercase?"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1536663151,"post_id":11247849,"comment_id":91495744,"body_markdown":"Lowercase or uppercase is irrelevant. However based on javadoc, the class will be uppercase, an object instance lowercase: `Object obj`. When you want to refer to the method implementation you are supposed to use `Object#method`. Otherwise if you are talking about a specific call, then you can go with `obj.method()`.","body":"Lowercase or uppercase is irrelevant. However based on javadoc, the class will be uppercase, an object instance lowercase: <code>Object obj</code>. When you want to refer to the method implementation you are supposed to use <code>Object#method</code>. Otherwise if you are talking about a specific call, then you can go with <code>obj.method()</code>."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":4,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1459716008,"creation_date":1340897050,"answer_id":11247849,"question_id":11247793,"body_markdown":"It&#39;s the notation used in javadoc comments when linking to another class&#39; method.\r\n\r\nEDIT\r\n\r\nTo gather the additional information provided in comments:\r\n\r\n- @Hugo notes that the `#` notation in turn comes from HTML anchors\r\n- @maksimov points out that `Object.method` is the Java syntax to call static methods, which could be misleading\r\n\r\nUPDATE\r\n\r\nJava 8 brings a new syntax for method references, which now seems to become more popular - so `Object#toString` tends to now be written `Object::toString`.","title":"Why do some folks use Class#method instead of Class.method in correspondence?","body":"<p>It's the notation used in javadoc comments when linking to another class' method.</p>\n\n<p>EDIT</p>\n\n<p>To gather the additional information provided in comments:</p>\n\n<ul>\n<li>@Hugo notes that the <code>#</code> notation in turn comes from HTML anchors</li>\n<li>@maksimov points out that <code>Object.method</code> is the Java syntax to call static methods, which could be misleading</li>\n</ul>\n\n<p>UPDATE</p>\n\n<p>Java 8 brings a new syntax for method references, which now seems to become more popular - so <code>Object#toString</code> tends to now be written <code>Object::toString</code>.</p>\n"}],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6363,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":11247849,"answer_count":1,"score":34,"last_activity_date":1668787240,"creation_date":1340896865,"question_id":11247793,"body_markdown":"When writing about methods in Java (e.g. in forums, mailing lists, issue trackers, etc.) many people separate the method name from the class name using the &#39;#&#39; symbol instead of Java&#39;s native `.` operator; for example, folks refer to `Object#toString` instead of `Object.toString`. Where does this syntax come from?","title":"Why do some folks use Class#method instead of Class.method in correspondence?","body":"<p>When writing about methods in Java (e.g. in forums, mailing lists, issue trackers, etc.) many people separate the method name from the class name using the '#' symbol instead of Java's native <code>.</code> operator; for example, folks refer to <code>Object#toString</code> instead of <code>Object.toString</code>. Where does this syntax come from?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":58992,"reputation":15767,"user_id":176569,"accept_rate":70,"display_name":"bpgergo"},"score":0,"creation_date":1315226479,"post_id":7308083,"comment_id":131508221,"body_markdown":"I just put this here in case you do not insist on regex\nhttps://stackoverflow.com/questions/5572793/sql-parser-library-for-java-retrieve-the-list-of-table-names-present-in-a-sql-s https://stackoverflow.com/questions/660609/sql-parser-library-for-java","body":"I just put this here in case you do not insist on regex <a href=\"https://stackoverflow.com/questions/5572793/sql-parser-library-for-java-retrieve-the-list-of-table-names-present-in-a-sql-s\" title=\"sql parser library for java retrieve the list of table names present in a sql s\">stackoverflow.com/questions/5572793/&hellip;</a> <a href=\"https://stackoverflow.com/questions/660609/sql-parser-library-for-java\" title=\"sql parser library for java\">stackoverflow.com/questions/660609/sql-parser-library-for-ja&zwnj;&#8203;va</a>"},{"owner":{"account_id":190533,"reputation":9098,"user_id":430560,"accept_rate":80,"display_name":"Jonathan Dickinson"},"score":0,"creation_date":1315239766,"post_id":7308083,"comment_id":131508222,"body_markdown":"Wish I could +2: no regex, pre-built solution (Especially the proper parser +298345).","body":"Wish I could +2: no regex, pre-built solution (Especially the proper parser +298345)."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1315225980,"creation_date":1315225980,"answer_id":7308141,"question_id":7308083,"body_markdown":"`(.+)` will consume as much as possible. To make it consume as *little* as possible, change it to `(.+?)`.\r\n\r\nTry something like this:\r\n\r\n    String input = &quot;firstColumn         varchar(4)   not null,&quot;;\r\n    \r\n    Pattern p = Pattern.compile(&quot;(.+?)\\\\s+(.+?)\\\\s+(.*)&quot;);\r\n    Matcher m = p.matcher(input);\r\n    \r\n    if (m.find()) {\r\n        System.out.println(m.group(1));\r\n        System.out.println(m.group(2));\r\n        System.out.println(m.group(3));\r\n    }\r\n\r\nOutput:\r\n\r\n    firstColumn\r\n    varchar(4)\r\n    not null,\r\n\r\n","title":"Parsing SQL table definition using regular expression in Java","body":"<p><code>(.+)</code> will consume as much as possible. To make it consume as <em>little</em> as possible, change it to <code>(.+?)</code>.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>String input = \"firstColumn         varchar(4)   not null,\";\n\nPattern p = Pattern.compile(\"(.+?)\\\\s+(.+?)\\\\s+(.*)\");\nMatcher m = p.matcher(input);\n\nif (m.find()) {\n    System.out.println(m.group(1));\n    System.out.println(m.group(2));\n    System.out.println(m.group(3));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>firstColumn\nvarchar(4)\nnot null,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21356,"reputation":47248,"user_id":51831,"accept_rate":56,"display_name":"jpalecek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315226527,"creation_date":1315226527,"answer_id":7308255,"question_id":7308083,"body_markdown":"Another option (IMHO a preferable one) to lazy matching is specifying the characters that can happen in the word, that is:\r\n\r\n    ([^ ]+)([ ]+)([^ ]+)([ ]+)(.+)([ ]+)\r\n\r\nThe difference is that while this approach will never put spaces in `columnName`, the lazy match still might if the rest of the pattern fails and backtracks.\r\n\r\nBTW, the data type can still contain spaces (eg. `CHAR(20) CHARACTER SET xxxxx`, also the parens may be spaced), so this approach is not really going to work.","title":"Parsing SQL table definition using regular expression in Java","body":"<p>Another option (IMHO a preferable one) to lazy matching is specifying the characters that can happen in the word, that is:</p>\n\n<pre><code>([^ ]+)([ ]+)([^ ]+)([ ]+)(.+)([ ]+)\n</code></pre>\n\n<p>The difference is that while this approach will never put spaces in <code>columnName</code>, the lazy match still might if the rest of the pattern fails and backtracks.</p>\n\n<p>BTW, the data type can still contain spaces (eg. <code>CHAR(20) CHARACTER SET xxxxx</code>, also the parens may be spaced), so this approach is not really going to work.</p>\n"}],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1960,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7308141,"answer_count":2,"score":2,"last_activity_date":1668787167,"creation_date":1315225732,"question_id":7308083,"body_markdown":"Im trying to parse a SQL table creation script in Java.\r\n\r\nIve currently got the following pattern:\r\n\r\n    Pattern p = Pattern.compile(&quot;(.+)([ ]+)(.+)([ ]+)(.+)&quot;);\r\n\r\ni.e a group of any chars (column name), followed by one or more spaces, followed by another group of chars (column type), followed by one or more spaces, followed by any number of chars (i.,e not null etc).\r\n\r\nAnd this is used by the following code:\r\n\r\n    Matcher m = p.matcher(field);\r\n    if(m.find()){\r\n        String column = m.group(1).trim();\r\n        String type = m.group(3).trim();\r\n        String clauses = m.group(5).trim();\r\n    }\r\n\r\nAnd yet when I run this on:\r\n\r\n    firstColumn         varchar(4)   not null,\r\n\r\nThe first group is:\r\n\r\n    firstColumn         varchar(4)\r\n\r\nI would expect the three extracted fields to be firstColumn, varchar(4) and not null respectively.\r\n\r\nAny ideas?\r\n","title":"Parsing SQL table definition using regular expression in Java","body":"<p>Im trying to parse a SQL table creation script in Java.</p>\n\n<p>Ive currently got the following pattern:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(.+)([ ]+)(.+)([ ]+)(.+)\");\n</code></pre>\n\n<p>i.e a group of any chars (column name), followed by one or more spaces, followed by another group of chars (column type), followed by one or more spaces, followed by any number of chars (i.,e not null etc).</p>\n\n<p>And this is used by the following code:</p>\n\n<pre><code>Matcher m = p.matcher(field);\nif(m.find()){\n    String column = m.group(1).trim();\n    String type = m.group(3).trim();\n    String clauses = m.group(5).trim();\n}\n</code></pre>\n\n<p>And yet when I run this on:</p>\n\n<pre><code>firstColumn         varchar(4)   not null,\n</code></pre>\n\n<p>The first group is:</p>\n\n<pre><code>firstColumn         varchar(4)\n</code></pre>\n\n<p>I would expect the three extracted fields to be firstColumn, varchar(4) and not null respectively.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android","image","animated-gif"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1668789493,"post_id":74492253,"comment_id":131499284,"body_markdown":"Use Glide as your image loader, as [Glide supports GIF](https://stackoverflow.com/q/31082330/115145). Or, use [a dedicated GIF library](https://android-arsenal.com/tag/193?sort=created).","body":"Use Glide as your image loader, as <a href=\"https://stackoverflow.com/q/31082330/115145\">Glide supports GIF</a>. Or, use <a href=\"https://android-arsenal.com/tag/193?sort=created\" rel=\"nofollow noreferrer\">a dedicated GIF library</a>."},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1668834128,"post_id":74492253,"comment_id":131507701,"body_markdown":"Load gif using `coil` https://coil-kt.github.io/coil/gifs/","body":"Load gif using <code>coil</code> <a href=\"https://coil-kt.github.io/coil/gifs/\" rel=\"nofollow noreferrer\">coil-kt.github.io/coil/gifs</a>"},{"owner":{"account_id":25183656,"reputation":21,"user_id":19024839,"display_name":"ram shinde"},"score":0,"creation_date":1672399721,"post_id":74492253,"comment_id":132282509,"body_markdown":"@Ammar Abdullah where should i add that code for image loader in my project in which file ?","body":"@Ammar Abdullah where should i add that code for image loader in my project in which file ?"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1672404760,"post_id":74492253,"comment_id":132283700,"body_markdown":"@ramshinde check it out . It for loading images using `Glide` https://stackoverflow.com/a/72543476/15218726","body":"@ramshinde check it out . It for loading images using <code>Glide</code> <a href=\"https://stackoverflow.com/a/72543476/15218726\">stackoverflow.com/a/72543476/15218726</a>"},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1672404852,"post_id":74492253,"comment_id":132283720,"body_markdown":"Just replace `.load(IMAGE_URL)` with `.load(R.drawable.your_gif)`","body":"Just replace <code>.load(IMAGE_URL)</code> with <code>.load(R.drawable.your_gif)</code>"},{"owner":{"account_id":25183656,"reputation":21,"user_id":19024839,"display_name":"ram shinde"},"score":0,"creation_date":1672474527,"post_id":74492253,"comment_id":132295480,"body_markdown":"@Ammar Abdullah, Thank you Ammar but I am trying to fetch gifs from my emulators gallery just like the normal images and when I fetch any gif image from gallery it does not show me any animation just frozen image of that gif so if you can help me with that then that would be amazing.","body":"@Ammar Abdullah, Thank you Ammar but I am trying to fetch gifs from my emulators gallery just like the normal images and when I fetch any gif image from gallery it does not show me any animation just frozen image of that gif so if you can help me with that then that would be amazing."},{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1672474640,"post_id":74492253,"comment_id":132295494,"body_markdown":"pass that gif uri from `onActivityResult` to `.load(uri)` then Glide will play gif for you","body":"pass that gif uri from <code>onActivityResult</code> to <code>.load(uri)</code> then Glide will play gif for you"}],"owner":{"account_id":25183656,"reputation":21,"user_id":19024839,"display_name":"ram shinde"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668787084,"creation_date":1668787084,"question_id":74492253,"body_markdown":"I am developing social media app in which I already coded the logic to take image from my phone gallery but when I retrieve gif image from gallery it doesn&#39;t show me any animation of that gif image, it just shows the still image and I have post feature also but there also it doesn&#39;t show me animation of gif image, so if anyone know how to get the gif image working on android app then please help me.\r\n\r\nThe logic to retrieve image from gallery is:\r\n\r\nthis is a onClick function when i click on camera icon it take me back to gallery.\r\n\r\n```\r\nPhoto.launch(&quot;image/*&quot;);\r\n```\r\n\r\nbefore this i created the global variable for photo and then i stored the image in the firebase database using registerForActivityResult\r\n  \r\n\r\nI want to know how to get the gif image animation working after I retrieve them from gallery.","title":"Does anyone know how to get gif images working in android app?","body":"<p>I am developing social media app in which I already coded the logic to take image from my phone gallery but when I retrieve gif image from gallery it doesn't show me any animation of that gif image, it just shows the still image and I have post feature also but there also it doesn't show me animation of gif image, so if anyone know how to get the gif image working on android app then please help me.</p>\n<p>The logic to retrieve image from gallery is:</p>\n<p>this is a onClick function when i click on camera icon it take me back to gallery.</p>\n<pre><code>Photo.launch(&quot;image/*&quot;);\n</code></pre>\n<p>before this i created the global variable for photo and then i stored the image in the firebase database using registerForActivityResult</p>\n<p>I want to know how to get the gif image animation working after I retrieve them from gallery.</p>\n"},{"tags":["java","option-type","method-chaining","notnull"],"answers":[{"comments":[{"owner":{"account_id":11263087,"reputation":299,"user_id":8260782,"display_name":"laim2003"},"score":0,"creation_date":1588028419,"post_id":61469649,"comment_id":108737723,"body_markdown":"You&#39;re right. Forgot to format my comment. I posted a new comment.","body":"You&#39;re right. Forgot to format my comment. I posted a new comment."},{"owner":{"account_id":11263087,"reputation":299,"user_id":8260782,"display_name":"laim2003"},"score":1,"creation_date":1588028444,"post_id":61469649,"comment_id":108737733,"body_markdown":"When using kotlin, you could also use `attachments?.let{ eb.withAttachments(this) }`","body":"When using kotlin, you could also use <code>attachments?.let{ eb.withAttachments(this) }</code>"},{"owner":{"account_id":30545,"reputation":940,"user_id":83321,"accept_rate":67,"display_name":"Jerry"},"score":0,"creation_date":1588033714,"post_id":61469649,"comment_id":108739178,"body_markdown":"These are both good answers.  I chose the answer below, because I am using Java only in this project, and though I appreciate the note that moving the method to the bottom, the answer below does remove the IF, as I hoped.","body":"These are both good answers.  I chose the answer below, because I am using Java only in this project, and though I appreciate the note that moving the method to the bottom, the answer below does remove the IF, as I hoped."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588027134,"creation_date":1588027134,"answer_id":61469649,"question_id":61469515,"body_markdown":"If `withAttachments()` doesn&#39;t allow a `null` value, then yes, you need `if (attachments != null)`.\r\n\r\nBut, since builders don&#39;t (generally) require a specific order of method calls, you can clean the code up a bit.\r\n\r\n```\r\nEmailBuilder eb = emailBuilder()\r\n        .withSubject(email.getSubject())\r\n        .withReplyTo(replyAddresses)\r\n        .withHeader(&quot;X-showheader&quot;, email.getHeader());\r\nif (attachments != null)\r\n    eb.withAttachments(attachments);\r\nreturn eb.build();\r\n```","title":"Java Method Chaining Optionally based on arguments","body":"<p>If <code>withAttachments()</code> doesn't allow a <code>null</code> value, then yes, you need <code>if (attachments != null)</code>.</p>\n\n<p>But, since builders don't (generally) require a specific order of method calls, you can clean the code up a bit.</p>\n\n<pre><code>EmailBuilder eb = emailBuilder()\n        .withSubject(email.getSubject())\n        .withReplyTo(replyAddresses)\n        .withHeader(\"X-showheader\", email.getHeader());\nif (attachments != null)\n    eb.withAttachments(attachments);\nreturn eb.build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1588027327,"post_id":61469667,"comment_id":108737399,"body_markdown":"Rather than using `Optional`, use a ternary operator: `.withAttachments(attachments != null ? attachments : Collections.emptyList())`, though you might have to hint it using `Collections.&lt;Attachment&gt;emptyList()`","body":"Rather than using <code>Optional</code>, use a ternary operator: <code>.withAttachments(attachments != null ? attachments : Collections.emptyList())</code>, though you might have to hint it using <code>Collections.&lt;Attachment&gt;emptyList()</code>"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1588027588,"post_id":61469667,"comment_id":108737484,"body_markdown":"Thank you, @Andreas","body":"Thank you, @Andreas"},{"owner":{"account_id":30545,"reputation":940,"user_id":83321,"accept_rate":67,"display_name":"Jerry"},"score":0,"creation_date":1588033515,"post_id":61469667,"comment_id":108739119,"body_markdown":"Thank you. I appreciate the ternary operator. The original question was missing the fact that the method included a @NotNull annotation, but this still worked.","body":"Thank you. I appreciate the ternary operator. The original question was missing the fact that the method included a @NotNull annotation, but this still worked."}],"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588027575,"creation_date":1588027202,"answer_id":61469667,"question_id":61469515,"body_markdown":"I&#39;m assuming you can&#39;t change the contract of `withAttachments` to ignore calls with null?  You could, upstream wrap attachments in an `Optional` and then provide an `orElse` with an empty, but not null, impl of whatever type `attachments` is, e.g. (assuming `attachments` is a `List`):\r\n\r\n    Optional&lt;...&gt; optionalAttachments = Optional.ofNullable(attachments);\r\n    \r\n    ...\r\n    \r\n    .withAttachments(optionalAttachments.orElse(Collections.emptyList())\r\n\r\n\r\n**UPDATE** (based on input from comment, hat tip to Andreas)\r\n\r\nYou could also achieve this with a ternary, e.g.:\r\n\r\n    .withAttachments(attachments != null ? attachments : Collections.emptyList())","title":"Java Method Chaining Optionally based on arguments","body":"<p>I'm assuming you can't change the contract of <code>withAttachments</code> to ignore calls with null?  You could, upstream wrap attachments in an <code>Optional</code> and then provide an <code>orElse</code> with an empty, but not null, impl of whatever type <code>attachments</code> is, e.g. (assuming <code>attachments</code> is a <code>List</code>):</p>\n\n<pre><code>Optional&lt;...&gt; optionalAttachments = Optional.ofNullable(attachments);\n\n...\n\n.withAttachments(optionalAttachments.orElse(Collections.emptyList())\n</code></pre>\n\n<p><strong>UPDATE</strong> (based on input from comment, hat tip to Andreas)</p>\n\n<p>You could also achieve this with a ternary, e.g.:</p>\n\n<pre><code>.withAttachments(attachments != null ? attachments : Collections.emptyList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668786839,"creation_date":1668786839,"answer_id":74492221,"question_id":61469515,"body_markdown":"Here is the approach you can use if you can edit or extend the builder.\r\n\r\n    public class ChainBuilder {\r\n    \r\n      public ChainBuilder ifApplicable(\r\n        Supplier&lt;Boolean&gt; filter,\r\n        Consumer&lt;ChainBuilder&gt; extension) {\r\n        if (filter.get()) {\r\n          extension.accept(this);\r\n        }\r\n        return this;\r\n      }\r\n    \r\n      public ChainBuilder withAttribute1(String attribute1) {\r\n        //handle store attribute1;\r\n        return this;\r\n      }\r\n    \r\n      public ChainBuilder withAttribute2(String attribute2) {\r\n        //handle store attribute2;\r\n        return this;\r\n      }\r\n      \r\n      public SomeData build() {\r\n        return new SomeDate(); //with the optional attributes\r\n      }\r\n    }\r\n\r\nThe client code can chain the methods:\r\n\r\n    SomeData data = new ChainBuilder()\r\n          .withAttribute1(&quot;A&quot;)\r\n          .ifApplicable(() -&gt; false, builder -&gt; builder.withAttribute2(&quot;B&quot;))\r\n          .build();\r\n\r\nIt is just an illustration. If you have several conditions, it might make sense to inlcude this into the builder class. ","title":"Java Method Chaining Optionally based on arguments","body":"<p>Here is the approach you can use if you can edit or extend the builder.</p>\n<pre><code>public class ChainBuilder {\n\n  public ChainBuilder ifApplicable(\n    Supplier&lt;Boolean&gt; filter,\n    Consumer&lt;ChainBuilder&gt; extension) {\n    if (filter.get()) {\n      extension.accept(this);\n    }\n    return this;\n  }\n\n  public ChainBuilder withAttribute1(String attribute1) {\n    //handle store attribute1;\n    return this;\n  }\n\n  public ChainBuilder withAttribute2(String attribute2) {\n    //handle store attribute2;\n    return this;\n  }\n  \n  public SomeData build() {\n    return new SomeDate(); //with the optional attributes\n  }\n}\n</code></pre>\n<p>The client code can chain the methods:</p>\n<pre><code>SomeData data = new ChainBuilder()\n      .withAttribute1(&quot;A&quot;)\n      .ifApplicable(() -&gt; false, builder -&gt; builder.withAttribute2(&quot;B&quot;))\n      .build();\n</code></pre>\n<p>It is just an illustration. If you have several conditions, it might make sense to inlcude this into the builder class.</p>\n"}],"owner":{"account_id":30545,"reputation":940,"user_id":83321,"accept_rate":67,"display_name":"Jerry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61469667,"answer_count":3,"score":2,"last_activity_date":1668786839,"creation_date":1588026465,"question_id":61469515,"body_markdown":"If a 3rd party requests an argument ```attachments``` in a method, how may I avoid using an ```if``` and break method chaining, knowing that my argument may be null? The method has the following definition.\r\n\r\n    // import org.jetbrains.annotations.NotNull;\r\n    EmailBuilder withAttachments(@NotNull List&lt;Attachment&gt; attachments);\r\n\r\nI would prefer **NOT** using an if condition for .withAttachments, when attachments == null. I know that javascript has method?(), but what is appropriate for java8, or above? In the case where (attachments == null), I don&#39;t want to call ```.withAttachments()``` at all. But, I don&#39;t see syntax comparable to methodA?() like in javascript, or typescript.\r\n\r\n    return emailBuilder()\r\n      .withSubject(email.getSubject())\r\n      .withReplyTo(replyAddresses)\r\n      .withAttachments(attachments) // This is conditional...based on attachments\r\n      .withHeader(&quot;X-showheader&quot;, email.getShowHeader());\r\n      .build();\r\n\r\nWould I be required to do this?\r\n\r\n    EmailBuilder eb = emailBuilder()\r\n      .withSubject(email.getSubject())\r\n      .withReplyTo(replyAddresses);\r\n      if(attachments)\r\n        eb = eb.withAttachments(attachments); // This is conditional...based on attachments\r\n      eb = eb.withHeader(&quot;X-showheader&quot;, email.getHeader())\r\n      .build;\r\n    return eb;","title":"Java Method Chaining Optionally based on arguments","body":"<p>If a 3rd party requests an argument <code>attachments</code> in a method, how may I avoid using an <code>if</code> and break method chaining, knowing that my argument may be null? The method has the following definition.</p>\n\n<pre><code>// import org.jetbrains.annotations.NotNull;\nEmailBuilder withAttachments(@NotNull List&lt;Attachment&gt; attachments);\n</code></pre>\n\n<p>I would prefer <strong>NOT</strong> using an if condition for .withAttachments, when attachments == null. I know that javascript has method?(), but what is appropriate for java8, or above? In the case where (attachments == null), I don't want to call <code>.withAttachments()</code> at all. But, I don't see syntax comparable to methodA?() like in javascript, or typescript.</p>\n\n<pre><code>return emailBuilder()\n  .withSubject(email.getSubject())\n  .withReplyTo(replyAddresses)\n  .withAttachments(attachments) // This is conditional...based on attachments\n  .withHeader(\"X-showheader\", email.getShowHeader());\n  .build();\n</code></pre>\n\n<p>Would I be required to do this?</p>\n\n<pre><code>EmailBuilder eb = emailBuilder()\n  .withSubject(email.getSubject())\n  .withReplyTo(replyAddresses);\n  if(attachments)\n    eb = eb.withAttachments(attachments); // This is conditional...based on attachments\n  eb = eb.withHeader(\"X-showheader\", email.getHeader())\n  .build;\nreturn eb;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668790879,"post_id":74492148,"comment_id":131499773,"body_markdown":"I hate Spring&#39;s dynamic persistence units; I don&#39;t know the config well, but I suspect you haven&#39;t set it up so that the employee and address packages are not picked up in the same persistence unit. Try putting them in the same package, and verify with the tutorials how they have setup the persistence units and the Classes with in them - they usually do more than just mark a class with the @Entity annotation, giving it a way to limit the packages it scans for entities.","body":"I hate Spring&#39;s dynamic persistence units; I don&#39;t know the config well, but I suspect you haven&#39;t set it up so that the employee and address packages are not picked up in the same persistence unit. Try putting them in the same package, and verify with the tutorials how they have setup the persistence units and the Classes with in them - they usually do more than just mark a class with the @Entity annotation, giving it a way to limit the packages it scans for entities."},{"owner":{"account_id":19780517,"reputation":141,"user_id":14485623,"display_name":"kuriboh"},"score":0,"creation_date":1668792021,"post_id":74492148,"comment_id":131500167,"body_markdown":"Have you checked hibernate configuration, especially the mapping config?","body":"Have you checked hibernate configuration, especially the mapping config?"}],"owner":{"account_id":26073704,"reputation":1,"user_id":19772921,"display_name":"ha ha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668786752,"creation_date":1668786484,"question_id":74492148,"body_markdown":"I have 2 microservices on postgresql - Account and Employee. Where Account is dependent on Employee. \r\nI&#39;m stuck for a few days with this problem:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.rszumlas.account.AccountApplication.main(AccountApplication.java:14) ~[classes/:na]\r\nCaused by: org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\r\n\tat org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:100) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 16 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n**Account entity:**\r\n\r\n```\r\npackage com.rszumlas.account;\r\n\r\nimport com.rszumlas.employee.Employee;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport static javax.persistence.GenerationType.SEQUENCE;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity(name = &quot;Account&quot;)\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;account_sequence&quot;,\r\n            sequenceName = &quot;account_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = SEQUENCE,\r\n            generator = &quot;account_sequence&quot;\r\n    )\r\n    @Column(\r\n            name = &quot;id&quot;,\r\n            updatable = false\r\n    )\r\n    private Long id;\r\n\r\n    @Column(\r\n            name = &quot;email&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String email;\r\n\r\n    @Column(\r\n            name = &quot;password&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String password;\r\n\r\n    @OneToOne(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER\r\n    )\r\n    @JoinColumn(\r\n            name = &quot;employee_id&quot;,\r\n            referencedColumnName = &quot;id&quot;,\r\n            nullable = false,\r\n            foreignKey = @ForeignKey(\r\n                    name = &quot;account_employee_id_fk&quot;\r\n            )\r\n    )\r\n    private Employee employee;\r\n\r\n}\r\n\r\n```\r\n\r\n**Employee entity:**\r\n```\r\npackage com.rszumlas.employee;\r\n\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport static javax.persistence.GenerationType.SEQUENCE;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity(name = &quot;Employee&quot;)\r\n@Table(name = &quot;employee&quot;)\r\npublic class Employee {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;order_type_sequence&quot;,\r\n            sequenceName = &quot;order_type_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = SEQUENCE,\r\n            generator = &quot;order_type_sequence&quot;\r\n    )\r\n    @Column(\r\n            name = &quot;id&quot;,\r\n            updatable = false\r\n    )\r\n    private Long id;\r\n\r\n    @Column(\r\n            name = &quot;first_name&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String first_name;\r\n\r\n    @Column(\r\n            name = &quot;last_name&quot;,\r\n            nullable = false,\r\n            columnDefinition = &quot;TEXT&quot;\r\n    )\r\n    private String last_name;\r\n\r\n    @Column(\r\n            name = &quot;eth&quot;,\r\n            nullable = false\r\n    )\r\n    private double eth;\r\n\r\n    @Column(\r\n            name = &quot;PESEL&quot;,\r\n            nullable = false\r\n    )\r\n    private int PESEL;\r\n\r\n}\r\n\r\n```\r\n\r\n**Parent pom.xml:**\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.rszumlas.ethanol&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ethanol&lt;/artifactId&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;vodka&lt;/module&gt;\r\n        &lt;module&gt;shelf&lt;/module&gt;\r\n        &lt;module&gt;employee&lt;/module&gt;\r\n        &lt;module&gt;account&lt;/module&gt;\r\n        &lt;module&gt;order&lt;/module&gt;\r\n        &lt;module&gt;order-accepted&lt;/module&gt;\r\n        &lt;module&gt;order-done&lt;/module&gt;\r\n        &lt;module&gt;order-handling-info&lt;/module&gt;\r\n        &lt;module&gt;clients&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    \r\n      &lt;name&gt;ethanol&lt;/name&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n          &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n          &lt;version&gt;42.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n          &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.13.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n          &lt;version&gt;3.29.2-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n    \r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n```\r\n\r\nThe same problem also occurs in any relations between other microservices.\r\nDon&#39;t really see any typo, just following some tutorial on Spring Data JPA.\r\n\r\n\r\nThought a missing employee table in postgresql database is a problem, but it isn&#39;t. I created it, and still it throws exception.","title":"org.hibernate.AnnotationException: @OneToOne or @ManyToOne references an unknown entity","body":"<p>I have 2 microservices on postgresql - Account and Employee. Where Account is dependent on Employee.\nI'm stuck for a few days with this problem:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.rszumlas.account.AccountApplication.main(AccountApplication.java:14) ~[classes/:na]\nCaused by: org.hibernate.AnnotationException: @OneToOne or @ManyToOne on com.rszumlas.account.Account.employee references an unknown entity: com.rszumlas.employee.Employee\n    at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:100) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 16 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p><strong>Account entity:</strong></p>\n<pre><code>package com.rszumlas.account;\n\nimport com.rszumlas.employee.Employee;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\nimport static javax.persistence.GenerationType.SEQUENCE;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity(name = &quot;Account&quot;)\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;account_sequence&quot;,\n            sequenceName = &quot;account_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = SEQUENCE,\n            generator = &quot;account_sequence&quot;\n    )\n    @Column(\n            name = &quot;id&quot;,\n            updatable = false\n    )\n    private Long id;\n\n    @Column(\n            name = &quot;email&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String email;\n\n    @Column(\n            name = &quot;password&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String password;\n\n    @OneToOne(\n            cascade = CascadeType.ALL,\n            fetch = FetchType.EAGER\n    )\n    @JoinColumn(\n            name = &quot;employee_id&quot;,\n            referencedColumnName = &quot;id&quot;,\n            nullable = false,\n            foreignKey = @ForeignKey(\n                    name = &quot;account_employee_id_fk&quot;\n            )\n    )\n    private Employee employee;\n\n}\n\n</code></pre>\n<p><strong>Employee entity:</strong></p>\n<pre><code>package com.rszumlas.employee;\n\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\nimport static javax.persistence.GenerationType.SEQUENCE;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity(name = &quot;Employee&quot;)\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;order_type_sequence&quot;,\n            sequenceName = &quot;order_type_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = SEQUENCE,\n            generator = &quot;order_type_sequence&quot;\n    )\n    @Column(\n            name = &quot;id&quot;,\n            updatable = false\n    )\n    private Long id;\n\n    @Column(\n            name = &quot;first_name&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String first_name;\n\n    @Column(\n            name = &quot;last_name&quot;,\n            nullable = false,\n            columnDefinition = &quot;TEXT&quot;\n    )\n    private String last_name;\n\n    @Column(\n            name = &quot;eth&quot;,\n            nullable = false\n    )\n    private double eth;\n\n    @Column(\n            name = &quot;PESEL&quot;,\n            nullable = false\n    )\n    private int PESEL;\n\n}\n\n</code></pre>\n<p><strong>Parent pom.xml:</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    \n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n      &lt;groupId&gt;com.rszumlas.ethanol&lt;/groupId&gt;\n      &lt;artifactId&gt;ethanol&lt;/artifactId&gt;\n      &lt;packaging&gt;pom&lt;/packaging&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;modules&gt;\n        &lt;module&gt;vodka&lt;/module&gt;\n        &lt;module&gt;shelf&lt;/module&gt;\n        &lt;module&gt;employee&lt;/module&gt;\n        &lt;module&gt;account&lt;/module&gt;\n        &lt;module&gt;order&lt;/module&gt;\n        &lt;module&gt;order-accepted&lt;/module&gt;\n        &lt;module&gt;order-done&lt;/module&gt;\n        &lt;module&gt;order-handling-info&lt;/module&gt;\n        &lt;module&gt;clients&lt;/module&gt;\n      &lt;/modules&gt;\n    \n      &lt;name&gt;ethanol&lt;/name&gt;\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\n    \n      &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;/properties&gt;\n    \n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n          &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n          &lt;version&gt;42.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n          &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n          &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n          &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n          &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n          &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.13.2&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n          &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n          &lt;version&gt;3.29.2-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n          &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    \n      &lt;build&gt;\n    \n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n          &lt;plugins&gt;\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.22.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>The same problem also occurs in any relations between other microservices.\nDon't really see any typo, just following some tutorial on Spring Data JPA.</p>\n<p>Thought a missing employee table in postgresql database is a problem, but it isn't. I created it, and still it throws exception.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1668786980,"post_id":74492194,"comment_id":131498342,"body_markdown":"And I still have to keep cascade on OneToMany?","body":"And I still have to keep cascade on OneToMany?"},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1668787305,"post_id":74492194,"comment_id":131498478,"body_markdown":"It does not work as I want to, because now it tries to create a new City entity, but I want to use the ones that already exist","body":"It does not work as I want to, because now it tries to create a new City entity, but I want to use the ones that already exist"}],"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668786686,"creation_date":1668786686,"answer_id":74492194,"question_id":74491660,"body_markdown":"Add `cascade = CascadeType.ALL` to :\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    protected City city\r\n\r\nthis will solve your problem.","title":"I can not save entity (Spring Boot Application)","body":"<p>Add <code>cascade = CascadeType.ALL</code> to :</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\nprotected City city\n</code></pre>\n<p>this will solve your problem.</p>\n"}],"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668786686,"creation_date":1668783978,"question_id":74491660,"body_markdown":"    @Entity(name = &quot;cities&quot;)\r\n    public class City {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @Column(length = 256, unique = true, nullable = false)\r\n    private String name;\r\n\r\n    @Column(length = 4, nullable = false, unique = true)\r\n    private String code;\r\n\r\n    //    @OneToMany(mappedBy=&quot;city&quot;)\r\n    @OneToMany(cascade = CascadeType.ALL , orphanRemoval = true)\r\n    @JoinColumn(name = &quot;city_id&quot;)\r\n    private List&lt;ParkingFacility&gt; parkingFacilities = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy=&quot;city&quot;)\r\n    private List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\r\n\r\n----------------------------------------------------------------------------------\r\n\r\n    @Entity(name = &quot;parking_facilities&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public class ParkingFacility {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    protected Integer id;\r\n\r\n    @Column(length = 256, unique = true, nullable = false)\r\n    protected String name;\r\n\r\n\r\n    protected Integer capacity = 0;\r\n\r\n    @Column(name = &quot;available_capacity&quot;)\r\n    protected  Integer availableCapacity = 0;\r\n\r\n    //    @ManyToOne(cascade=CascadeType.ALL)\r\n    //    @JoinColumn(name=&quot;city_id&quot;, nullable=false)\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    protected City city;\r\n\r\n    @OneToMany(mappedBy=&quot;parkingFacility&quot;)\r\n    private List&lt;Vehicle&gt; vehicles;\r\n\r\n\r\n---------------------------------------------------------------------------------------\r\n\r\n\r\n    public class ParkingFacilityDto {\r\n\r\n    protected Integer id;\r\n    @NotBlank @Length(max = 256)\r\n    protected String name;\r\n    @Min(0)\r\n    protected Integer capacity;\r\n    @Min(0)\r\n    protected Integer availableCapacity;\r\n    @NotBlank @Length(max = 256)\r\n    protected String city;\r\n\r\n\r\n--------------------------------------------------------------------------------------------\r\n\r\n\r\n    public class ParkingFacilityMapper {\r\n\r\n    \r\n\r\n    public static ParkingFacility toFacility(ParkingFacilityDto facilityDto) {\r\n\r\n        return ParkingFacility.builder()\r\n                .name(facilityDto.getName())\r\n                .capacity(facilityDto.getCapacity())\r\n                .availableCapacity(facilityDto.getAvailableCapacity())\r\n                .city(new City(InputFormatter.formatCityName(facilityDto.getCity())))\r\n                .build();\r\n\r\n    }\r\n}\r\n\r\n\r\nI am trying to save a Parking Facility for a given city, but I get this error:\r\n\r\n    org.hibernate.TransientPropertyValueException: object references an unsaved transient \r\n    instance - save the transient instance before flushing : \r\n    com.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; \r\n    com.goosfraba.city_parking.cities.model.City; nested exception is \r\n    java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object \r\n    references an unsaved transient instance - save the transient instance before flushing : \r\n    com.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; com.goosfraba.city_parking.cities.model.City&quot;,\r\n\r\n\r\nI have seen many people recommending to use CascadeType.All on similar questions asked on StackOverflow, but as you can see I am already using it, and still get this error.\r\n\r\nPlease help me as I do not know what to from here\r\n","title":"I can not save entity (Spring Boot Application)","body":"<pre><code>@Entity(name = &quot;cities&quot;)\npublic class City {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Integer id;\n\n@Column(length = 256, unique = true, nullable = false)\nprivate String name;\n\n@Column(length = 4, nullable = false, unique = true)\nprivate String code;\n\n//    @OneToMany(mappedBy=&quot;city&quot;)\n@OneToMany(cascade = CascadeType.ALL , orphanRemoval = true)\n@JoinColumn(name = &quot;city_id&quot;)\nprivate List&lt;ParkingFacility&gt; parkingFacilities = new ArrayList&lt;&gt;();\n\n@OneToMany(mappedBy=&quot;city&quot;)\nprivate List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\n</code></pre>\n<hr />\n<pre><code>@Entity(name = &quot;parking_facilities&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class ParkingFacility {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprotected Integer id;\n\n@Column(length = 256, unique = true, nullable = false)\nprotected String name;\n\n\nprotected Integer capacity = 0;\n\n@Column(name = &quot;available_capacity&quot;)\nprotected  Integer availableCapacity = 0;\n\n//    @ManyToOne(cascade=CascadeType.ALL)\n//    @JoinColumn(name=&quot;city_id&quot;, nullable=false)\n@ManyToOne(fetch = FetchType.EAGER)\nprotected City city;\n\n@OneToMany(mappedBy=&quot;parkingFacility&quot;)\nprivate List&lt;Vehicle&gt; vehicles;\n</code></pre>\n<hr />\n<pre><code>public class ParkingFacilityDto {\n\nprotected Integer id;\n@NotBlank @Length(max = 256)\nprotected String name;\n@Min(0)\nprotected Integer capacity;\n@Min(0)\nprotected Integer availableCapacity;\n@NotBlank @Length(max = 256)\nprotected String city;\n</code></pre>\n<hr />\n<pre><code>public class ParkingFacilityMapper {\n\n\n\npublic static ParkingFacility toFacility(ParkingFacilityDto facilityDto) {\n\n    return ParkingFacility.builder()\n            .name(facilityDto.getName())\n            .capacity(facilityDto.getCapacity())\n            .availableCapacity(facilityDto.getAvailableCapacity())\n            .city(new City(InputFormatter.formatCityName(facilityDto.getCity())))\n            .build();\n\n}\n</code></pre>\n<p>}</p>\n<p>I am trying to save a Parking Facility for a given city, but I get this error:</p>\n<pre><code>org.hibernate.TransientPropertyValueException: object references an unsaved transient \ninstance - save the transient instance before flushing : \ncom.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; \ncom.goosfraba.city_parking.cities.model.City; nested exception is \njava.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object \nreferences an unsaved transient instance - save the transient instance before flushing : \ncom.goosfraba.city_parking.parking_facilities.model.ParkingFacility.city -&gt; com.goosfraba.city_parking.cities.model.City&quot;,\n</code></pre>\n<p>I have seen many people recommending to use CascadeType.All on similar questions asked on StackOverflow, but as you can see I am already using it, and still get this error.</p>\n<p>Please help me as I do not know what to from here</p>\n"},{"tags":["java","xml","streamwriter","xstream"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1668791303,"post_id":74492181,"comment_id":131499903,"body_markdown":"You might have a look at https://stackoverflow.com/questions/8943000/format-xml-generated-by-xstream","body":"You might have a look at <a href=\"https://stackoverflow.com/questions/8943000/format-xml-generated-by-xstream\" title=\"format xml generated by xstream\">stackoverflow.com/questions/8943000/&hellip;</a>"},{"owner":{"account_id":21751347,"reputation":1,"user_id":16057277,"display_name":"Jochen"},"score":0,"creation_date":1669021767,"post_id":74492181,"comment_id":131539483,"body_markdown":"Unfortunately, this does not help me.","body":"Unfortunately, this does not help me."}],"owner":{"account_id":21751347,"reputation":1,"user_id":16057277,"display_name":"Jochen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668786606,"creation_date":1668786606,"question_id":74492181,"body_markdown":"I could use some help to get a better XML output. I hope to find a solution here! Couldn&#39;t find any solution for this.\r\n\r\nThat is my current output:\r\n\r\n```\r\n&lt;java.util.Arrays_-ArrayList&gt;\r\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;123&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;abc&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;some text&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\r\nconsectetur adipisici elit\r\nsed eiusmod tempor incidunt ut labore et dolore magna aliqua\r\n]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n  &lt;/a&gt;\r\n&lt;/java.util.Arrays_-ArrayList&gt;\r\n```\r\n\r\nBut I need one of the following one:\r\n\r\nMinimal solution:\r\n\r\n```\r\n&lt;java.util.Arrays_-ArrayList&gt;\r\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;123&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;abc&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;some text&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\r\n        consectetur adipisici elit\r\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\r\n        ]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n  &lt;/a&gt;\r\n&lt;/java.util.Arrays_-ArrayList&gt;\r\n```\r\n\r\nBest solution:\r\n\r\n```\r\n&lt;java.util.Arrays_-ArrayList&gt;\r\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;123&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;abc&lt;/normalText&gt;\r\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n    &lt;sct.commons.xml.TestObject&gt;\r\n      &lt;normalText&gt;some text&lt;/normalText&gt;\r\n      &lt;cdataText&gt;\r\n        &lt;![CDATA[\r\n        Lorem ipsum dolor sit amet\r\n        consectetur adipisici elit\r\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\r\n        ]]&gt;\r\n      &lt;/cdataText&gt;\r\n    &lt;/sct.commons.xml.TestObject&gt;\r\n  &lt;/a&gt;\r\n&lt;/java.util.Arrays_-ArrayList&gt;\r\n```\r\n\r\n---\r\n\r\nI run this code:\r\n\r\n```\r\nXStream xStream = new XStream(cdataXppDriver);\r\nString xml = xStream.toXML(model);\r\n```\r\n\r\nFollowing my code for the driver:\r\n\r\n```\r\npublic class CdataXppDriver extends XppDriver\r\n{\r\n\r\n    /** The list that contains the field names that would contain a CDATA in the xml. */\r\n    private final List&lt;String&gt; CDATA_FIELDS;\r\n\r\n    public CdataXppDriver(List&lt;String&gt; cdataFields)\r\n    {\r\n        super();\r\n        CDATA_FIELDS = new ArrayList&lt;&gt;();\r\n\r\n        if (cdataFields != null)\r\n        {\r\n            for (String cdataField : cdataFields)\r\n            {\r\n                CDATA_FIELDS.add(cdataField);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public HierarchicalStreamWriter createWriter(Writer out)\r\n    {\r\n        return new PrettyPrintWriter(out, getNameCoder())\r\n        {\r\n            boolean cdata = false;\r\n\r\n            @Override\r\n            public void startNode(String name)\r\n            {\r\n                super.startNode(name);\r\n                cdata = CDATA_FIELDS.contains(name);\r\n            }\r\n\r\n            @Override\r\n            protected void writeText(QuickWriter writer, String text)\r\n            {\r\n                if (cdata)\r\n                {\r\n                    writer.write(&quot;&lt;![CDATA[&quot;);\r\n                    writer.write(text);\r\n                    writer.write(&quot;]]&gt;&quot;);\r\n                }\r\n                else\r\n                {\r\n                    super.writeText(writer, text);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI need more text to post this question, but I don&#39;t know which informations might be missing:","title":"XStream - data within a tag should be indented identically","body":"<p>I could use some help to get a better XML output. I hope to find a solution here! Couldn't find any solution for this.</p>\n<p>That is my current output:</p>\n<pre><code>&lt;java.util.Arrays_-ArrayList&gt;\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;123&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;abc&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;some text&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\nconsectetur adipisici elit\nsed eiusmod tempor incidunt ut labore et dolore magna aliqua\n]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n  &lt;/a&gt;\n&lt;/java.util.Arrays_-ArrayList&gt;\n</code></pre>\n<p>But I need one of the following one:</p>\n<p>Minimal solution:</p>\n<pre><code>&lt;java.util.Arrays_-ArrayList&gt;\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;123&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;abc&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;some text&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[Lorem ipsum dolor sit amet\n        consectetur adipisici elit\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\n        ]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n  &lt;/a&gt;\n&lt;/java.util.Arrays_-ArrayList&gt;\n</code></pre>\n<p>Best solution:</p>\n<pre><code>&lt;java.util.Arrays_-ArrayList&gt;\n  &lt;a class=&quot;sct.commons.xml.TestObject-array&quot;&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;123&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[456]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;abc&lt;/normalText&gt;\n      &lt;cdataText&gt;&lt;![CDATA[def]]&gt;&lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n    &lt;sct.commons.xml.TestObject&gt;\n      &lt;normalText&gt;some text&lt;/normalText&gt;\n      &lt;cdataText&gt;\n        &lt;![CDATA[\n        Lorem ipsum dolor sit amet\n        consectetur adipisici elit\n        sed eiusmod tempor incidunt ut labore et dolore magna aliqua\n        ]]&gt;\n      &lt;/cdataText&gt;\n    &lt;/sct.commons.xml.TestObject&gt;\n  &lt;/a&gt;\n&lt;/java.util.Arrays_-ArrayList&gt;\n</code></pre>\n<hr />\n<p>I run this code:</p>\n<pre><code>XStream xStream = new XStream(cdataXppDriver);\nString xml = xStream.toXML(model);\n</code></pre>\n<p>Following my code for the driver:</p>\n<pre><code>public class CdataXppDriver extends XppDriver\n{\n\n    /** The list that contains the field names that would contain a CDATA in the xml. */\n    private final List&lt;String&gt; CDATA_FIELDS;\n\n    public CdataXppDriver(List&lt;String&gt; cdataFields)\n    {\n        super();\n        CDATA_FIELDS = new ArrayList&lt;&gt;();\n\n        if (cdataFields != null)\n        {\n            for (String cdataField : cdataFields)\n            {\n                CDATA_FIELDS.add(cdataField);\n            }\n        }\n    }\n\n    @Override\n    public HierarchicalStreamWriter createWriter(Writer out)\n    {\n        return new PrettyPrintWriter(out, getNameCoder())\n        {\n            boolean cdata = false;\n\n            @Override\n            public void startNode(String name)\n            {\n                super.startNode(name);\n                cdata = CDATA_FIELDS.contains(name);\n            }\n\n            @Override\n            protected void writeText(QuickWriter writer, String text)\n            {\n                if (cdata)\n                {\n                    writer.write(&quot;&lt;![CDATA[&quot;);\n                    writer.write(text);\n                    writer.write(&quot;]]&gt;&quot;);\n                }\n                else\n                {\n                    super.writeText(writer, text);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>I need more text to post this question, but I don't know which informations might be missing:</p>\n"},{"tags":["java","android","launcher"],"comments":[{"owner":{"account_id":1104091,"reputation":3026,"user_id":1095875,"accept_rate":67,"display_name":"HardCoder"},"score":3,"creation_date":1335502722,"post_id":10344824,"comment_id":13325363,"body_markdown":"Doesn&#39;t that only give the package name of the current app ?","body":"Doesn&#39;t that only give the package name of the current app ?"}],"answers":[{"comments":[{"owner":{"account_id":1212634,"reputation":14544,"user_id":1180898,"accept_rate":93,"display_name":"Amir Uval"},"score":4,"creation_date":1429531709,"post_id":10344985,"comment_id":47627113,"body_markdown":"If there is no selected &quot;default&quot; launcher it returns just &quot;android&quot;. Not a common case, but it happens.","body":"If there is no selected &quot;default&quot; launcher it returns just &quot;android&quot;. Not a common case, but it happens."},{"owner":{"account_id":3078852,"reputation":3366,"user_id":2607567,"accept_rate":85,"display_name":"JacksOnF1re"},"score":1,"creation_date":1434618931,"post_id":10344985,"comment_id":49859895,"body_markdown":"Be aware that it will return NULL if there is no match and you will get a NPE at the last line!","body":"Be aware that it will return NULL if there is no match and you will get a NPE at the last line!"},{"owner":{"account_id":252759,"reputation":19884,"user_id":531021,"display_name":"JesusFreke"},"score":2,"creation_date":1434662672,"post_id":10344985,"comment_id":49888812,"body_markdown":"Yes, this is illustratory code to illustrate the solution, and should not be used as-is for &quot;production&quot; use. Besides, if your phone doesn&#39;t have a home application... you probably have other problems :)","body":"Yes, this is illustratory code to illustrate the solution, and should not be used as-is for &quot;production&quot; use. Besides, if your phone doesn&#39;t have a home application... you probably have other problems :)"},{"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"score":1,"creation_date":1635793167,"post_id":10344985,"comment_id":123383218,"body_markdown":"For anyone wanting to run the block of code in this answer on an Android 11+ device, see my answer [here](https://stackoverflow.com/a/69801531/1071320) about Android 11 package visibility changes which you should take into account.","body":"For anyone wanting to run the block of code in this answer on an Android 11+ device, see my answer <a href=\"https://stackoverflow.com/a/69801531/1071320\">here</a> about Android 11 package visibility changes which you should take into account."}],"tags":[],"owner":{"account_id":252759,"reputation":19884,"user_id":531021,"display_name":"JesusFreke"},"comment_count":4,"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1335502940,"creation_date":1335502940,"answer_id":10344985,"question_id":10344824,"body_markdown":"I think you should be able to use [PackageManager.resolveActivity()][1], with the home intent.\r\n\r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_HOME);\r\n    ResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n    String currentHomePackage = resolveInfo.activityInfo.packageName;\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/pm/PackageManager.html#resolveActivity%28android.content.Intent,%20int%29","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>I think you should be able to use <a href=\"http://developer.android.com/reference/android/content/pm/PackageManager.html#resolveActivity%28android.content.Intent,%20int%29\">PackageManager.resolveActivity()</a>, with the home intent.</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_HOME);\nResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\nString currentHomePackage = resolveInfo.activityInfo.packageName;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":252759,"reputation":19884,"user_id":531021,"display_name":"JesusFreke"},"score":0,"creation_date":1612393575,"post_id":55349760,"comment_id":116756853,"body_markdown":"That&#39;s the human readable name of the application, not the package name.","body":"That&#39;s the human readable name of the application, not the package name."}],"tags":[],"owner":{"account_id":252146,"reputation":4740,"user_id":529977,"accept_rate":62,"display_name":"childno͡.de"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1553573760,"creation_date":1553573760,"answer_id":55349760,"question_id":10344824,"body_markdown":"in general, [I agree to @JesusFreke][1] using the PM resolveActivity\r\n\r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_HOME);\r\n    ResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n\r\nbut to get the right package name, you should use\r\n\r\n    resolveInfo.loadLabel(packageManager).toString()\r\n\r\nor\r\n\r\n    resolveInfo.activityInfo.applicationInfo.loadLabel(packageManager).toString()\r\n\r\n\r\n----------\r\n\r\nHint:\r\nif there is no default set, this might become &quot;Android System&quot; or &quot;open&quot; as for the general System Intent Receiver\r\n\r\nHint:\r\nif you&#39;re looking for web browsers, you might use `net.openid.appauth.browser.BrowserSelector#select()` ([0.7.1+][2]) to implicit get the default browser even there is no one explicit set.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10344985/529977\r\n  [2]: https://github.com/openid/AppAuth-Android/blob/0.7.1/library/java/net/openid/appauth/browser/BrowserSelector.java#L151","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>in general, <a href=\"https://stackoverflow.com/a/10344985/529977\">I agree to @JesusFreke</a> using the PM resolveActivity</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_HOME);\nResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\n</code></pre>\n\n<p>but to get the right package name, you should use</p>\n\n<pre><code>resolveInfo.loadLabel(packageManager).toString()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>resolveInfo.activityInfo.applicationInfo.loadLabel(packageManager).toString()\n</code></pre>\n\n<hr>\n\n<p>Hint:\nif there is no default set, this might become \"Android System\" or \"open\" as for the general System Intent Receiver</p>\n\n<p>Hint:\nif you're looking for web browsers, you might use <code>net.openid.appauth.browser.BrowserSelector#select()</code> (<a href=\"https://github.com/openid/AppAuth-Android/blob/0.7.1/library/java/net/openid/appauth/browser/BrowserSelector.java#L151\" rel=\"nofollow noreferrer\">0.7.1+</a>) to implicit get the default browser even there is no one explicit set.</p>\n"},{"tags":[],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668786413,"creation_date":1635793034,"answer_id":69801531,"question_id":10344824,"body_markdown":"With the [package visibility changes][1] introduced in Android 11, it is now necessary to add a [queries][2] element in your application&#39;s manifest file as below before you can query the [PackageManager.resolveActivity(intent:flags:)][3] method for the default home (a.k.a. launcher) activity that is installed on the device:\r\n\r\n```lang-xml\r\n&lt;queries&gt;\r\n    &lt;intent&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n    &lt;/intent&gt;\r\n&lt;/queries&gt;\r\n```\r\n\r\nIf this [queries](https://developer.android.com/guide/topics/manifest/queries-element) element is omitted from your application&#39;s manifest, then the device will report the `com.android.settings.FallbackHome` activity as its default home activity and that is most likely not what you want.\r\n\r\nFor guidance on how to query the [PackageManager.resolveActivity(intent:flags:)][3] method, see the [accepted answer][4] in this thread.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/package-visibility\r\n  [2]: https://developer.android.com/guide/topics/manifest/queries-element\r\n  [3]: https://developer.android.com/reference/android/content/pm/PackageManager#resolveActivity(android.content.Intent,%20int)\r\n  [4]: https://stackoverflow.com/a/10344985/1071320","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>With the <a href=\"https://developer.android.com/about/versions/11/privacy/package-visibility\" rel=\"nofollow noreferrer\">package visibility changes</a> introduced in Android 11, it is now necessary to add a <a href=\"https://developer.android.com/guide/topics/manifest/queries-element\" rel=\"nofollow noreferrer\">queries</a> element in your application's manifest file as below before you can query the <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#resolveActivity(android.content.Intent,%20int)\" rel=\"nofollow noreferrer\">PackageManager.resolveActivity(intent:flags:)</a> method for the default home (a.k.a. launcher) activity that is installed on the device:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>If this <a href=\"https://developer.android.com/guide/topics/manifest/queries-element\" rel=\"nofollow noreferrer\">queries</a> element is omitted from your application's manifest, then the device will report the <code>com.android.settings.FallbackHome</code> activity as its default home activity and that is most likely not what you want.</p>\n<p>For guidance on how to query the <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#resolveActivity(android.content.Intent,%20int)\" rel=\"nofollow noreferrer\">PackageManager.resolveActivity(intent:flags:)</a> method, see the <a href=\"https://stackoverflow.com/a/10344985/1071320\">accepted answer</a> in this thread.</p>\n"}],"owner":{"account_id":1104091,"reputation":3026,"user_id":1095875,"accept_rate":67,"display_name":"HardCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19419,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":10344985,"answer_count":3,"score":31,"last_activity_date":1668786413,"creation_date":1335501753,"question_id":10344824,"body_markdown":"How can I get the package name of the current launcher in android 2.3 and above programmatically in Java ?","title":"How can I get the package name of the current launcher in android 2.3 and above?","body":"<p>How can I get the package name of the current launcher in android 2.3 and above programmatically in Java ?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1432890279,"post_id":30525437,"comment_id":49124527,"body_markdown":"Try a flush after writing.","body":"Try a flush after writing."},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":2,"creation_date":1432890345,"post_id":30525437,"comment_id":49124570,"body_markdown":"try to flush the writer. By default it print the result the value only the buffer is full or writer is closed.","body":"try to flush the writer. By default it print the result the value only the buffer is full or writer is closed."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1432891348,"post_id":30525437,"comment_id":49125192,"body_markdown":"Side note: consider to use the NIO.2 File API (introduced in Java SE 7) instead of FileWriter.","body":"Side note: consider to use the NIO.2 File API (introduced in Java SE 7) instead of FileWriter."}],"answers":[{"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":2,"creation_date":1432892523,"post_id":30525502,"comment_id":49125972,"body_markdown":"Make sure you&#39;re calling close() in the finally-clause. Best to use try-with-resources.","body":"Make sure you&#39;re calling close() in the finally-clause. Best to use try-with-resources."},{"owner":{"account_id":20342398,"reputation":155,"user_id":14921272,"display_name":"Cole Henrich"},"score":0,"creation_date":1646183494,"post_id":30525502,"comment_id":126059147,"body_markdown":"For me it was that I had the relative pathname of the file. Getting the absolute path made it work.","body":"For me it was that I had the relative pathname of the file. Getting the absolute path made it work."}],"tags":[],"owner":{"account_id":1203727,"reputation":3545,"user_id":1173884,"display_name":"Jindra Helcl"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1432890279,"creation_date":1432890279,"answer_id":30525502,"question_id":30525437,"body_markdown":"You must close the `FileWriter`, otherwise it won&#39;t flush the current buffer. You can call the `flush` method directly..\r\n\r\n    fileWriter.flush()\r\n    fileWriter.close()\r\n\r\nYou don&#39;t need to use the `flush` method if you are closing the file. The `flush` can be used for example if your program runs for a while and outputs something in a file and you want to check it elsewhere.","title":"FileWriter is not writing into a file","body":"<p>You must close the <code>FileWriter</code>, otherwise it won't flush the current buffer. You can call the <code>flush</code> method directly..</p>\n\n<pre><code>fileWriter.flush()\nfileWriter.close()\n</code></pre>\n\n<p>You don't need to use the <code>flush</code> method if you are closing the file. The <code>flush</code> can be used for example if your program runs for a while and outputs something in a file and you want to check it elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":1602362,"reputation":391,"user_id":1483182,"display_name":"romfret"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432890293,"creation_date":1432890293,"answer_id":30525507,"question_id":30525437,"body_markdown":"Please try this :\r\n\r\n      try\r\n        {\r\n            FileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;);\r\n            fileWriter.write(&quot;Hi this is sasi This test writing&quot;);\r\n            fileWriter.append(&quot;test&quot;);\r\n            fileWriter.flush(); // empty buffer in the file\r\n            fileWriter.close(); // close the file to allow opening by others applications\r\n        }\r\n        catch(IOException ioException)\r\n        {\r\n            ioException.printStackTrace();\r\n        }\r\n\r\n","title":"FileWriter is not writing into a file","body":"<p>Please try this :</p>\n\n<pre><code>  try\n    {\n        FileWriter fileWriter = new FileWriter(\"C:\\\\temp\\\\test.txt\");\n        fileWriter.write(\"Hi this is sasi This test writing\");\n        fileWriter.append(\"test\");\n        fileWriter.flush(); // empty buffer in the file\n        fileWriter.close(); // close the file to allow opening by others applications\n    }\n    catch(IOException ioException)\n    {\n        ioException.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1432890307,"creation_date":1432890307,"answer_id":30525510,"question_id":30525437,"body_markdown":"You need to close the `filewriter` else the current buffer will not flush and will not allow you to write to the file.\r\n\r\n    fileWriter.flush(); //just makes sure that any buffered data is written to disk\r\n    fileWriter.close(); //flushes the data and indicates that there isn&#39;t any more data.\r\n\r\nFrom  the Javadoc\r\n\r\n&gt; Close the stream, flushing it first. Once a stream has been closed,\r\n&gt; further write() or flush() invocations will cause an IOException to be\r\n&gt; thrown. Closing a previously-closed stream, however, has no effect.","title":"FileWriter is not writing into a file","body":"<p>You need to close the <code>filewriter</code> else the current buffer will not flush and will not allow you to write to the file.</p>\n\n<pre><code>fileWriter.flush(); //just makes sure that any buffered data is written to disk\nfileWriter.close(); //flushes the data and indicates that there isn't any more data.\n</code></pre>\n\n<p>From  the Javadoc</p>\n\n<blockquote>\n  <p>Close the stream, flushing it first. Once a stream has been closed,\n  further write() or flush() invocations will cause an IOException to be\n  thrown. Closing a previously-closed stream, however, has no effect.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6342341,"reputation":5609,"user_id":4923889,"accept_rate":47,"display_name":"Uma Kanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432890427,"creation_date":1432890427,"answer_id":30525545,"question_id":30525437,"body_markdown":"Try this:\r\n\r\n    import java.io.*;\r\n    \r\n    public class Hey\r\n    \r\n    {\r\n    \tpublic static void main(String ar[])throws IOException\r\n    \t{\r\n    \t\t\r\n          \t\tFile file = new File(&quot;c://temp//Hello1.txt&quot;);\r\n          \t\t// creates the file\r\n          \t\tfile.createNewFile();\r\n          \t\t// creates a FileWriter Object\r\n          \t\tFileWriter writer = new FileWriter(file); \r\n          \t\t// Writes the content to the file\r\n          \t\twriter.write(&quot;This\\n is\\n an\\n example\\n&quot;); \r\n          \t\twriter.flush();\r\n          \t\twriter.close();\r\n    \t}\r\n    }","title":"FileWriter is not writing into a file","body":"<p>Try this:</p>\n\n<pre><code>import java.io.*;\n\npublic class Hey\n\n{\n    public static void main(String ar[])throws IOException\n    {\n\n            File file = new File(\"c://temp//Hello1.txt\");\n            // creates the file\n            file.createNewFile();\n            // creates a FileWriter Object\n            FileWriter writer = new FileWriter(file); \n            // Writes the content to the file\n            writer.write(\"This\\n is\\n an\\n example\\n\"); \n            writer.flush();\n            writer.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432890594,"creation_date":1432890594,"answer_id":30525596,"question_id":30525437,"body_markdown":"Closing was missing. Hence not the last buffered data was not written to disk.\r\n\r\nClosing also happens with try-with-resources. Even when an exception would be thrown. Also a `flush` before `close` is not needed, as a close flushes all buffered data to file.\r\n\r\n    try (FileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;))\r\n    {\r\n        fileWriter.write(&quot;Hi this is sasi This test writing&quot;);\r\n        fileWriter.append(&quot;test&quot;);\r\n    }\r\n    catch (IOException ioException)\r\n    {\r\n        ioException.printStackTrace();\r\n    }\r\n","title":"FileWriter is not writing into a file","body":"<p>Closing was missing. Hence not the last buffered data was not written to disk.</p>\n\n<p>Closing also happens with try-with-resources. Even when an exception would be thrown. Also a <code>flush</code> before <code>close</code> is not needed, as a close flushes all buffered data to file.</p>\n\n<pre><code>try (FileWriter fileWriter = new FileWriter(\"C:\\\\temp\\\\test.txt\"))\n{\n    fileWriter.write(\"Hi this is sasi This test writing\");\n    fileWriter.append(\"test\");\n}\ncatch (IOException ioException)\n{\n    ioException.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":302854,"reputation":4430,"user_id":611446,"accept_rate":82,"display_name":"Sasikumar Murugesan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33943,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1690697405,"accepted_answer_id":30525502,"answer_count":5,"score":6,"last_activity_date":1668786176,"creation_date":1432890093,"question_id":30525437,"body_markdown":"I have below code\r\n\r\n    try\r\n\t{\r\n\t\tFileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;);\r\n\t\tfileWriter.write(&quot;Hi this is sasi This test writing&quot;);\r\n\t\tfileWriter.append(&quot;test&quot;);\r\n\t}\r\n\tcatch(IOException ioException)\r\n\t{\r\n\t\tioException.printStackTrace();\r\n\t}\r\n\r\nAfter executing it, the file is created successfully, but the created file is empty.\r\n\r\nWhat is wrong with the code?","title":"FileWriter is not writing into a file","body":"<p>I have below code</p>\n<pre><code>try\n{\n    FileWriter fileWriter = new FileWriter(&quot;C:\\\\temp\\\\test.txt&quot;);\n    fileWriter.write(&quot;Hi this is sasi This test writing&quot;);\n    fileWriter.append(&quot;test&quot;);\n}\ncatch(IOException ioException)\n{\n    ioException.printStackTrace();\n}\n</code></pre>\n<p>After executing it, the file is created successfully, but the created file is empty.</p>\n<p>What is wrong with the code?</p>\n"},{"tags":["java","linked-list","priority-queue"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1668783759,"post_id":74491538,"comment_id":131497178,"body_markdown":"Why do you sort using a priority queue in the first place? Why not use `Collections.sort` or `.stream().sorted(comparator).toList()`?","body":"Why do you sort using a priority queue in the first place? Why not use <code>Collections.sort</code> or <code>.stream().sorted(comparator).toList()</code>?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1668784047,"post_id":74491538,"comment_id":131497286,"body_markdown":"Are you trying to sort all `Integer` values across all `LinkedList`s?","body":"Are you trying to sort all <code>Integer</code> values across all <code>LinkedList</code>s?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784162,"post_id":74491538,"comment_id":131497324,"body_markdown":"@Savior yes I&#39;m trying to sort them","body":"@Savior yes I&#39;m trying to sort them"},{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":0,"creation_date":1668784180,"post_id":74491538,"comment_id":131497335,"body_markdown":"Hello , You are passing array of LinkedList to the method, so what exactly you want? Just to sort all elements in LinkedList array then whatever @marstran had suggested is clear.","body":"Hello , You are passing array of LinkedList to the method, so what exactly you want? Just to sort all elements in LinkedList array then whatever @marstran had suggested is clear."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1668784517,"post_id":74491538,"comment_id":131497435,"body_markdown":"What do you think `p.add(x);` does in relation to that kind of sorting?","body":"What do you think <code>p.add(x);</code> does in relation to that kind of sorting?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784603,"post_id":74491538,"comment_id":131497475,"body_markdown":"@Savior From my understanding of priorityqueues, upon adding x (the linked list) to the queue using p.add(x), it will be sorted already since its a prioriyqueue. Is my understanding right?","body":"@Savior From my understanding of priorityqueues, upon adding x (the linked list) to the queue using p.add(x), it will be sorted already since its a prioriyqueue. Is my understanding right?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784680,"post_id":74491538,"comment_id":131497505,"body_markdown":"@marstran I need the running time to be as low as possible, which is why I used a priority queue. I need the running time to be O(N logk), where N is the sum of the list lengths and k = lists.length","body":"@marstran I need the running time to be as low as possible, which is why I used a priority queue. I need the running time to be O(N logk), where N is the sum of the list lengths and k = lists.length"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668784804,"post_id":74491538,"comment_id":131497549,"body_markdown":"@Droid But a priority queue will most likely be slower than just sorting the list in the usual way...","body":"@Droid But a priority queue will most likely be slower than just sorting the list in the usual way..."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668784874,"post_id":74491538,"comment_id":131497561,"body_markdown":"@marstran isn&#39;t collections.sort running time O(nlogn)?","body":"@marstran isn&#39;t collections.sort running time O(nlogn)?"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668785164,"post_id":74491538,"comment_id":131497670,"body_markdown":"Yes, but that is the complexity of `Collections.sort` as well. What the big O doesn&#39;t recognize, is that you need to loop through all the elements twice to convert back and forth from the LinkedList as well. So that is an overhead you don&#39;t get with `Collections.sort`.","body":"Yes, but that is the complexity of <code>Collections.sort</code> as well. What the big O doesn&#39;t recognize, is that you need to loop through all the elements twice to convert back and forth from the LinkedList as well. So that is an overhead you don&#39;t get with <code>Collections.sort</code>."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1668785262,"post_id":74491538,"comment_id":131497708,"body_markdown":"You changed your comment while I was writing my previous comment. Doing `priorityQueue.add(x)` for every element is also `O(nlogn)`, as `add` is `O(log n)`","body":"You changed your comment while I was writing my previous comment. Doing <code>priorityQueue.add(x)</code> for every element is also <code>O(nlogn)</code>, as <code>add</code> is <code>O(log n)</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668785576,"post_id":74491538,"comment_id":131497818,"body_markdown":"@marstran Can you say the compexity of Collections.sort when you don&#39;t know the list implementation? Isn&#39;t lookup of a LinkedList slow, eg. ArrayList .get is O(1) but LinkedList is O(N) so changing to a new data type could improve the code?","body":"@marstran Can you say the compexity of Collections.sort when you don&#39;t know the list implementation? Isn&#39;t lookup of a LinkedList slow, eg. ArrayList .get is O(1) but LinkedList is O(N) so changing to a new data type could improve the code?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668785809,"post_id":74491538,"comment_id":131497900,"body_markdown":"Shouldn&#39;t your priority queue just be `PriorityQueue&lt;Integer&gt;` isn&#39;t that where you want to sort the `Integer`s","body":"Shouldn&#39;t your priority queue just be <code>PriorityQueue&lt;Integer&gt;</code> isn&#39;t that where you want to sort the <code>Integer</code>s"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668785954,"post_id":74491538,"comment_id":131497957,"body_markdown":"@matt I tried to do PriorityQueue&lt;Integer&gt; but then I couldn&#39;t do the add() method","body":"@matt I tried to do PriorityQueue&lt;Integer&gt; but then I couldn&#39;t do the add() method"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668785981,"post_id":74491538,"comment_id":131497962,"body_markdown":"@matt sorry just saw ur answer","body":"@matt sorry just saw ur answer"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1668786585,"post_id":74491538,"comment_id":131498182,"body_markdown":"@matt I implicitly meant `Collections.sort` with a linked list. Should have specified it.","body":"@matt I implicitly meant <code>Collections.sort</code> with a linked list. Should have specified it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668864660,"post_id":74491538,"comment_id":131512252,"body_markdown":"@marstran I check, Collections.sort just delgates to List.sort, which for a LinkedList uses the default implementation. The default implementation creates a Object[] and then uses Arrays.sort. So ArrayList, LinkedList would have the same behaviour.","body":"@marstran I check, Collections.sort just delgates to List.sort, which for a LinkedList uses the default implementation. The default implementation creates a Object[] and then uses Arrays.sort. So ArrayList, LinkedList would have the same behaviour."}],"answers":[{"comments":[{"owner":{"display_name":"user18984687"},"score":1,"creation_date":1668785882,"post_id":74491891,"comment_id":131497923,"body_markdown":"Thank you for ur response. If possible, can you also please show how it would be done using priority queue, since I just want to know what method as well. Like what should I edit in my code?","body":"Thank you for ur response. If possible, can you also please show how it would be done using priority queue, since I just want to know what method as well. Like what should I edit in my code?"}],"tags":[],"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785774,"creation_date":1668785233,"answer_id":74491891,"question_id":74491538,"body_markdown":"Try below answer.\r\nTo sort your LinkedList you don&#39;t need to use PriorityQueue. \r\nIt will simply possible with sorted() method of stream API can help you.\r\n\r\n[Collection.sort][1]\r\n\r\nAs you are using Array of LinkedList , java 8 stream API providing [**`flatMap`**][2] function mapper, which will flat multiple list and then simply applying sorting.\r\n\r\nThis will help you.\r\n\r\n    public class MultiMergeWay {\r\n        public static void main(String[] args) {\r\n            LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{100, 500, 80}));\r\n            LinkedList&lt;Integer&gt; array_list1 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{200, 600, 90}));\r\n            LinkedList&lt;Integer&gt; array_list2 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{1200, 700, 80}));\r\n            mergeAll(new LinkedList[]{array_list, array_list1, array_list2});\r\n        }\r\n    \r\n        public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] array) {\r\n            System.out.println(&quot;Before ==&gt;&quot; + array[0] + &quot; &quot; + array[1] + &quot;&quot; + array[2]);\r\n            var result = Stream.of(array).flatMap(Collection::stream).sorted().collect(Collectors.toList());\r\n            System.out.println(&quot;After ==&gt;&quot; + result);\r\n            return new LinkedList&lt;&gt;(result);\r\n        }\r\n    \r\n    }\r\n\r\n## Output ##\r\nBefore ==&gt;[100, 500, 80] [200, 600, 90][1200, 700, 80]\r\n\r\nAfter ==&gt;[80, 80, 90, 100, 200, 500, 600, 700, 1200]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/collections-sort-java-examples/\r\n  [2]: https://www.geeksforgeeks.org/stream-flatmap-java-examples/\r\n  [3]: https://i.stack.imgur.com/R5gQ6.png","title":"is it possible to covert my priorityqueue back to a LinkedList&lt;Integer&gt;?","body":"<p>Try below answer.\nTo sort your LinkedList you don't need to use PriorityQueue.\nIt will simply possible with sorted() method of stream API can help you.</p>\n<p><a href=\"https://www.geeksforgeeks.org/collections-sort-java-examples/\" rel=\"nofollow noreferrer\">Collection.sort</a></p>\n<p>As you are using Array of LinkedList , java 8 stream API providing <a href=\"https://www.geeksforgeeks.org/stream-flatmap-java-examples/\" rel=\"nofollow noreferrer\"><strong><code>flatMap</code></strong></a> function mapper, which will flat multiple list and then simply applying sorting.</p>\n<p>This will help you.</p>\n<pre><code>public class MultiMergeWay {\n    public static void main(String[] args) {\n        LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{100, 500, 80}));\n        LinkedList&lt;Integer&gt; array_list1 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{200, 600, 90}));\n        LinkedList&lt;Integer&gt; array_list2 = new LinkedList&lt;&gt;(Arrays.asList(new Integer[]{1200, 700, 80}));\n        mergeAll(new LinkedList[]{array_list, array_list1, array_list2});\n    }\n\n    public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] array) {\n        System.out.println(&quot;Before ==&gt;&quot; + array[0] + &quot; &quot; + array[1] + &quot;&quot; + array[2]);\n        var result = Stream.of(array).flatMap(Collection::stream).sorted().collect(Collectors.toList());\n        System.out.println(&quot;After ==&gt;&quot; + result);\n        return new LinkedList&lt;&gt;(result);\n    }\n\n}\n</code></pre>\n<h2>Output</h2>\n<p>Before ==&gt;[100, 500, 80] [200, 600, 90][1200, 700, 80]</p>\n<p>After ==&gt;[80, 80, 90, 100, 200, 500, 600, 700, 1200]</p>\n<p><a href=\"https://i.stack.imgur.com/R5gQ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R5gQ6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668785929,"creation_date":1668785929,"answer_id":74492012,"question_id":74491538,"body_markdown":"I think you should change a few things, if I understand the problem. First make the PriorityQueue a collection of Integer not List&lt;Integer&gt;\r\n\r\n    PriorityQueue&lt;Integer&gt; p = new PriorityQueue&lt;&gt;();\r\n\r\nSecond in your loop.\r\n\r\n    p.addAll(x);\r\n\r\nThen your erroneous line, should be correct","title":"is it possible to covert my priorityqueue back to a LinkedList&lt;Integer&gt;?","body":"<p>I think you should change a few things, if I understand the problem. First make the PriorityQueue a collection of Integer not List</p>\n<pre><code>PriorityQueue&lt;Integer&gt; p = new PriorityQueue&lt;&gt;();\n</code></pre>\n<p>Second in your loop.</p>\n<pre><code>p.addAll(x);\n</code></pre>\n<p>Then your erroneous line, should be correct</p>\n"}],"owner":{"display_name":"user18984687"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1668827783,"accepted_answer_id":74492012,"answer_count":2,"score":0,"last_activity_date":1668786056,"creation_date":1668783401,"question_id":74491538,"body_markdown":"I am given `k` numbers of `LinkedList&lt;Integer&gt;` and I&#39;m trying to put them into a `PriorityQueue p` in order to sort it.\r\n\r\nHowever, I&#39;m having trouble trying to convert it back into a `LinkedList&lt;Integer&gt;` from the Priority Queue that I have declared. \r\n\r\nHere is my code: \r\n\r\n    //Code by Dave S.    \r\n    public class MultiMergeWay {\r\n            public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] lists){\r\n                PriorityQueue&lt;LinkedList&lt;Integer&gt;&gt; p = new PriorityQueue&lt;&gt;();\r\n                for(LinkedList&lt;Integer&gt; x : lists){\r\n                    p.add(x);\r\n                }\r\n                LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;Integer&gt;(p); //\r\n                return array_list;\r\n            }\r\n        \r\n        }\r\n\r\nUnless you haven&#39;t already seen it, my code wouldn&#39;t even compile because of an error in the line marked with a `//`. \r\n\r\nCan anyone please explain how can I change my priority queue back to a LinkedList&lt;Integer&gt;?","title":"is it possible to covert my priorityqueue back to a LinkedList&lt;Integer&gt;?","body":"<p>I am given <code>k</code> numbers of <code>LinkedList&lt;Integer&gt;</code> and I'm trying to put them into a <code>PriorityQueue p</code> in order to sort it.</p>\n<p>However, I'm having trouble trying to convert it back into a <code>LinkedList&lt;Integer&gt;</code> from the Priority Queue that I have declared.</p>\n<p>Here is my code:</p>\n<pre><code>//Code by Dave S.    \npublic class MultiMergeWay {\n        public static LinkedList&lt;Integer&gt; mergeAll(LinkedList&lt;Integer&gt;[] lists){\n            PriorityQueue&lt;LinkedList&lt;Integer&gt;&gt; p = new PriorityQueue&lt;&gt;();\n            for(LinkedList&lt;Integer&gt; x : lists){\n                p.add(x);\n            }\n            LinkedList&lt;Integer&gt; array_list = new LinkedList&lt;Integer&gt;(p); //\n            return array_list;\n        }\n    \n    }\n</code></pre>\n<p>Unless you haven't already seen it, my code wouldn't even compile because of an error in the line marked with a <code>//</code>.</p>\n<p>Can anyone please explain how can I change my priority queue back to a LinkedList?</p>\n"},{"tags":["java","enums","xsd","jaxb"],"comments":[{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1668678065,"post_id":74400463,"comment_id":131465892,"body_markdown":"Your pattern allows almost 10 million different values for exampleType. I don&#39;t understand why you want to treat that type as an _enumeration_.","body":"Your pattern allows almost 10 million different values for exampleType. I don&#39;t understand why you want to treat that type as an <i>enumeration</i>."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1668687456,"post_id":74400463,"comment_id":131469376,"body_markdown":"@kimbert there is a specification document describing the possible values","body":"@kimbert there is a specification document describing the possible values"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668698034,"post_id":74400463,"comment_id":131473801,"body_markdown":"@kimbert 10 million? &quot;&quot;\\d{3,6}&quot; (3 to 6 digits) sounds like 1000 values to me. Nevertheless, it&#39;s not suitable for an enumeration.","body":"@kimbert 10 million? &quot;&quot;\\d{3,6}&quot; (3 to 6 digits) sounds like 1000 values to me. Nevertheless, it&#39;s not suitable for an enumeration."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1668756782,"post_id":74400463,"comment_id":131488230,"body_markdown":"@ChristophDahlen it&#39;s a real world scenario. we have no control over the schema. the documentation defines 6 possible values, which is why i would like to have an enum.","body":"@ChristophDahlen it&#39;s a real world scenario. we have no control over the schema. the documentation defines 6 possible values, which is why i would like to have an enum."},{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1668781189,"post_id":74400463,"comment_id":131496188,"body_markdown":"You&#39;re right. 6 digits is 000000..999999, so 1 million. The pattern requires at least 3 digits, so the pattern allows (1 million - 1 hundred) values.","body":"You&#39;re right. 6 digits is 000000..999999, so 1 million. The pattern requires at least 3 digits, so the pattern allows (1 million - 1 hundred) values."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":1,"creation_date":1668787157,"post_id":74400463,"comment_id":131498416,"body_markdown":"unrelated, but i believe the number of possible values for `\\d{3,6}` is `10^3 + 10^4 + 10^5 + 10^6`","body":"unrelated, but i believe the number of possible values for <code>\\d{3,6}</code> is <code>10^3 + 10^4 + 10^5 + 10^6</code>"}],"answers":[{"comments":[{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1668784010,"post_id":74491115,"comment_id":131497269,"body_markdown":"like i said, we have no control over the schema. we get the schema and the docs, and have to generate valid data.","body":"like i said, we have no control over the schema. we get the schema and the docs, and have to generate valid data."}],"tags":[],"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781518,"creation_date":1668781518,"answer_id":74491115,"question_id":74400463,"body_markdown":"Your data type only allows 6 values. Instead of using xs:pattern you should be using xs:enumeration. You have not quoted the values, so I have made up some values as an example:\r\n\r\n```xsd\r\n&lt;xs:simpleType name=&quot;exampleType&quot;&gt;\r\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n        &lt;xs:enumeration value=&quot;100&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;2000&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;30000&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;400000&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;100001&quot;/&gt;\r\n        &lt;xs:enumeration value=&quot;999999&quot;/&gt;\r\n    &lt;/xs:restriction&gt;\r\n&lt;/xs:simpleType&gt;\r\n```","title":"Is it possible to map a pattern-restricted simpleType to an enum class?","body":"<p>Your data type only allows 6 values. Instead of using xs:pattern you should be using xs:enumeration. You have not quoted the values, so I have made up some values as an example:</p>\n<pre><code>&lt;xs:simpleType name=&quot;exampleType&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:enumeration value=&quot;100&quot;/&gt;\n        &lt;xs:enumeration value=&quot;2000&quot;/&gt;\n        &lt;xs:enumeration value=&quot;30000&quot;/&gt;\n        &lt;xs:enumeration value=&quot;400000&quot;/&gt;\n        &lt;xs:enumeration value=&quot;100001&quot;/&gt;\n        &lt;xs:enumeration value=&quot;999999&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785951,"creation_date":1668785951,"answer_id":74492021,"question_id":74400463,"body_markdown":"Instead of letting JAXB generate an enum based on XSD enumeration values, it seems to be possible to map a custom enum class:\r\n\r\n    &lt;jaxb:bindings node=&quot;//xs:simpleType[@name=&#39;customType&#39;]&quot;&gt;\r\n      &lt;jaxb:class ref=&quot;com.package.EnumCustom&quot; /&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n\r\nManually written:\r\n\r\n    @XmlType(name = &quot;&quot;)\r\n    @XmlEnum\r\n    public enum EnumCustom {\r\n      @XmlEnumValue(&quot;111&quot;)    VALUE_A,\r\n      @XmlEnumValue(&quot;111222&quot;) VALUE_B,\r\n      ...\r\n      ;\r\n    }","title":"Is it possible to map a pattern-restricted simpleType to an enum class?","body":"<p>Instead of letting JAXB generate an enum based on XSD enumeration values, it seems to be possible to map a custom enum class:</p>\n<pre><code>&lt;jaxb:bindings node=&quot;//xs:simpleType[@name='customType']&quot;&gt;\n  &lt;jaxb:class ref=&quot;com.package.EnumCustom&quot; /&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>Manually written:</p>\n<pre><code>@XmlType(name = &quot;&quot;)\n@XmlEnum\npublic enum EnumCustom {\n  @XmlEnumValue(&quot;111&quot;)    VALUE_A,\n  @XmlEnumValue(&quot;111222&quot;) VALUE_B,\n  ...\n  ;\n}\n</code></pre>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668785951,"creation_date":1668159141,"question_id":74400463,"body_markdown":"I was trying to map a pattern-restricted simpleType\r\n\r\n    &lt;xs:simpleType name=&quot;exampleType&quot;&gt;\r\n    \t&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n    \t\t&lt;xs:pattern value=&quot;\\d{3,6}&quot;/&gt;\r\n    \t&lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n\r\nto an enum class (with values based on some specification document):\r\n\r\n    &lt;jaxb:bindings node=&quot;//xs:simpleType[@name=&#39;ExampleType&#39;]&quot;&gt;\r\n      &lt;jaxb:typesafeEnumClass name=&quot;EnumExample&quot;&gt;\r\n        &lt;jaxb:typesafeEnumMember value=&quot;1&quot; name=&quot;description_1&quot; /&gt;\r\n        ....\r\n      &lt;/jaxb:typesafeEnumClass&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n\r\nbut got\r\n\r\n    com.sun.istack.SAXParseException2: enum class customization is specified on a type that has no enumeration facet.\r\n\r\nIs that or something similar possible somehow?\r\n","title":"Is it possible to map a pattern-restricted simpleType to an enum class?","body":"<p>I was trying to map a pattern-restricted simpleType</p>\n<pre><code>&lt;xs:simpleType name=&quot;exampleType&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:pattern value=&quot;\\d{3,6}&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n</code></pre>\n<p>to an enum class (with values based on some specification document):</p>\n<pre><code>&lt;jaxb:bindings node=&quot;//xs:simpleType[@name='ExampleType']&quot;&gt;\n  &lt;jaxb:typesafeEnumClass name=&quot;EnumExample&quot;&gt;\n    &lt;jaxb:typesafeEnumMember value=&quot;1&quot; name=&quot;description_1&quot; /&gt;\n    ....\n  &lt;/jaxb:typesafeEnumClass&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>but got</p>\n<pre><code>com.sun.istack.SAXParseException2: enum class customization is specified on a type that has no enumeration facet.\n</code></pre>\n<p>Is that or something similar possible somehow?</p>\n"},{"tags":["java","json","gson","pojo"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668785865,"creation_date":1668785865,"answer_id":74492000,"question_id":74490537,"body_markdown":"May be you need to create custom deserializer like this:\r\n```\r\nclass MyTypeModelDeserializer implements JsonDeserializer&lt;MyBaseTypeModel&gt; {\r\n\r\n    @Override\r\n    public MyBaseTypeModel deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context)\r\n            throws JsonParseException {\r\n\r\n        JsonObject jsonObject = json.getAsJsonObject();\r\n\r\n        JsonElement jsonType = jsonObject.get(&quot;type&quot;);\r\n        String type = jsonType.getAsString();\r\n\r\n        MyBaseTypeModel typeModel = null;     \r\n\r\n        if(&quot;type1&quot;.equals(type)) {\r\n            typeModel = new Type1Model();\r\n        } else if(&quot;type2&quot;.equals(type)) {\r\n            typeModel = new Type2Model();\r\n        }\r\n        // TODO : set properties of type model\r\n\r\n        return typeModel;\r\n    }\r\n}\r\n```","title":"How to set different type for variable in POJO than expected while deserializing json using gson","body":"<p>May be you need to create custom deserializer like this:</p>\n<pre><code>class MyTypeModelDeserializer implements JsonDeserializer&lt;MyBaseTypeModel&gt; {\n\n    @Override\n    public MyBaseTypeModel deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context)\n            throws JsonParseException {\n\n        JsonObject jsonObject = json.getAsJsonObject();\n\n        JsonElement jsonType = jsonObject.get(&quot;type&quot;);\n        String type = jsonType.getAsString();\n\n        MyBaseTypeModel typeModel = null;     \n\n        if(&quot;type1&quot;.equals(type)) {\n            typeModel = new Type1Model();\n        } else if(&quot;type2&quot;.equals(type)) {\n            typeModel = new Type2Model();\n        }\n        // TODO : set properties of type model\n\n        return typeModel;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26954658,"reputation":5,"user_id":20523260,"display_name":"glory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74492000,"answer_count":1,"score":0,"last_activity_date":1668785865,"creation_date":1668778699,"question_id":74490537,"body_markdown":"I want to convert JSON object back to Person object java, but field key can be String or String[]. So I am getting the following error: java.lang.IllegalStateException: Expected STRING but was BEGIN_ARRAY at path $.key\r\n\r\nExample Json files: \r\n\r\n```\r\n{\r\n  &quot;type&quot;:&quot;set&quot;,\r\n  &quot;key&quot;:&quot;person&quot;,\r\n  &quot;value&quot;:{\r\n    &quot;name&quot;:&quot;Elon Musk&quot;,\r\n    &quot;car&quot;:{\r\n      &quot;model&quot;:&quot;Tesla Roadster&quot;,\r\n      &quot;year&quot;:&quot;2018&quot;\r\n    },\r\n    &quot;rocket&quot;:{\r\n      &quot;name&quot;:&quot;Falcon 9&quot;,\r\n      &quot;launches&quot;:&quot;87&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nor\r\n\r\n```\r\n{&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:[&quot;person&quot;,&quot;name&quot;]}\r\n```\r\n\r\n```\r\nJsonObject jsonObject = new JsonParser().parse(input.readUTF()).getAsJsonObject();\r\n\r\nGson gson = new Gson();\r\n\r\nPerson person = gson.fromJson(jsonObject, Person.class);\r\n\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Person  {\r\nString type;\r\nString key;\r\nValue value;\r\n}\r\n```","title":"How to set different type for variable in POJO than expected while deserializing json using gson","body":"<p>I want to convert JSON object back to Person object java, but field key can be String or String[]. So I am getting the following error: java.lang.IllegalStateException: Expected STRING but was BEGIN_ARRAY at path $.key</p>\n<p>Example Json files:</p>\n<pre><code>{\n  &quot;type&quot;:&quot;set&quot;,\n  &quot;key&quot;:&quot;person&quot;,\n  &quot;value&quot;:{\n    &quot;name&quot;:&quot;Elon Musk&quot;,\n    &quot;car&quot;:{\n      &quot;model&quot;:&quot;Tesla Roadster&quot;,\n      &quot;year&quot;:&quot;2018&quot;\n    },\n    &quot;rocket&quot;:{\n      &quot;name&quot;:&quot;Falcon 9&quot;,\n      &quot;launches&quot;:&quot;87&quot;\n    }\n  }\n}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:[&quot;person&quot;,&quot;name&quot;]}\n</code></pre>\n<pre><code>JsonObject jsonObject = new JsonParser().parse(input.readUTF()).getAsJsonObject();\n\nGson gson = new Gson();\n\nPerson person = gson.fromJson(jsonObject, Person.class);\n\n</code></pre>\n<pre><code>@Getter\n@Setter\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Person  {\nString type;\nString key;\nValue value;\n}\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"score":0,"creation_date":1592479038,"post_id":62447117,"comment_id":110443165,"body_markdown":"I&#39;m using Flink 1.10.1 FWIW.","body":"I&#39;m using Flink 1.10.1 FWIW."}],"answers":[{"comments":[{"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"score":0,"creation_date":1592478954,"post_id":62448352,"comment_id":110443108,"body_markdown":"I tried doing it that way but still get the same problem. Also, if what you say is true how does the example I provided work (I&#39;m getting the state in the `open()` method)?","body":"I tried doing it that way but still get the same problem. Also, if what you say is true how does the example I provided work (I&#39;m getting the state in the <code>open()</code> method)?"},{"owner":{"account_id":17213019,"reputation":697,"user_id":12461814,"display_name":"ShemTov"},"score":0,"creation_date":1592479219,"post_id":62448352,"comment_id":110443267,"body_markdown":"when you get state in open() method it&#39;s windowed state by default if im not wrong (thats what i meant), Can you provide code when using context.globalState(), because it&#39;s should work.","body":"when you get state in open() method it&#39;s windowed state by default if im not wrong (thats what i meant), Can you provide code when using context.globalState(), because it&#39;s should work."}],"tags":[],"owner":{"account_id":17213019,"reputation":697,"user_id":12461814,"display_name":"ShemTov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592477698,"creation_date":1592477698,"answer_id":62448352,"question_id":62447117,"body_markdown":"As far as i know, you can&#39;t get the global state from the @override open method.\r\n\r\nYou need to get it from the process function on the ProcessWindowFunction:\r\n\r\n    context.globalState().getMapState(&lt;your_Map_State_Descriptor&gt;)\r\n","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>As far as i know, you can't get the global state from the @override open method.</p>\n\n<p>You need to get it from the process function on the ProcessWindowFunction:</p>\n\n<pre><code>context.globalState().getMapState(&lt;your_Map_State_Descriptor&gt;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"score":0,"creation_date":1592481164,"post_id":62449013,"comment_id":110444243,"body_markdown":"The example was contrived to match the actual class. I tried this suggestion, but I still get an empty state. Please see the question, I added more info and what I tried. Thanks for the note, will keep that in mind. Edit:OHHH I got it, I was using clear() incorrectly!","body":"The example was contrived to match the actual class. I tried this suggestion, but I still get an empty state. Please see the question, I added more info and what I tried. Thanks for the note, will keep that in mind. Edit:OHHH I got it, I was using clear() incorrectly!"}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592480861,"creation_date":1592479818,"answer_id":62449013,"question_id":62447117,"body_markdown":"You want to do something more like this. And keep in mind that these are per-key state stores -- there&#39;s a separate map for every key -- so where do you are doing `stateStore.get(key)`, that doesn&#39;t really make sense. Perhaps all you need is `ValueState`, if you only need to store an Integer for each key.\r\n\r\n    static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\r\n        private final static MapStateDescriptor mapDesc = new MapStateDescriptor&lt;Integer, Integer&gt;(&quot;stateStore&quot;, Integer.class, Integer.class);\r\n\r\n        @Override\r\n        public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\r\n\r\n            MapState&lt;Integer, Integer&gt; stateStore = context.globalState.getMapState(mapDesc);\r\n\r\n            ...\r\n        }\r\n    }\r\n\r\nNote that the global state store is never cleared. So if you have an unbounded key space, you&#39;ll eventually run into problems. You can configure [state TTL](https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/state.html#state-time-to-live-ttl) on the state descriptor(s) to deal with this.","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>You want to do something more like this. And keep in mind that these are per-key state stores -- there's a separate map for every key -- so where do you are doing <code>stateStore.get(key)</code>, that doesn't really make sense. Perhaps all you need is <code>ValueState</code>, if you only need to store an Integer for each key.</p>\n\n<pre><code>static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\n    private final static MapStateDescriptor mapDesc = new MapStateDescriptor&lt;Integer, Integer&gt;(\"stateStore\", Integer.class, Integer.class);\n\n    @Override\n    public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\n\n        MapState&lt;Integer, Integer&gt; stateStore = context.globalState.getMapState(mapDesc);\n\n        ...\n    }\n}\n</code></pre>\n\n<p>Note that the global state store is never cleared. So if you have an unbounded key space, you'll eventually run into problems. You can configure <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/state/state.html#state-time-to-live-ttl\" rel=\"nofollow noreferrer\">state TTL</a> on the state descriptor(s) to deal with this.</p>\n"},{"tags":[],"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592481822,"creation_date":1592481822,"answer_id":62449574,"question_id":62447117,"body_markdown":"My mistake was that I was using the `clear()` method incorrectly. Since this is a global state, using the `clear()` method will clear the state as soon as the TumblingWindow expires. As David pointed out, global state is never cleared, and we have to define a TTL for unbounded key streams.","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>My mistake was that I was using the <code>clear()</code> method incorrectly. Since this is a global state, using the <code>clear()</code> method will clear the state as soon as the TumblingWindow expires. As David pointed out, global state is never cleared, and we have to define a TTL for unbounded key streams.</p>\n"},{"tags":[],"owner":{"account_id":2138751,"reputation":505,"user_id":1897932,"accept_rate":33,"display_name":"kuixiong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785599,"creation_date":1668785599,"answer_id":74491951,"question_id":62447117,"body_markdown":"I noticed that in your `minimum working example`, you just created `stateStore` in `open` function, and used `stateStore` directly in `process` function. While in the so-called `actual class`, you created `activeSessionStore` in `open` function but used `context.globalState().getMapState(desc)` to get the state. In my understanding, you never used the state you created in your `open` function, and always used global state. That&#39;s why when you added the `clear` function, it would become empty, and after you removed `clear` function it would work as you had expected. But actually you have verified in your example, you can achieve what you want without the global state like this:\r\n```java\r\n    ...\r\n    @Override\r\n    public void open(Configuration parameters) throws Exception {\r\n        activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\r\n                                                &quot;name&quot;, UserDefinedEnum.class, Boolean.class));\r\n    }\r\n    ...\r\n    @Override\r\n    public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\r\n        ...\r\n\r\n        Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- Finally used the one you created in open function\r\n        ... do something based on lastFeatureStates....\r\n\r\n        activeSessionStore.put(...);\r\n    }\r\n    \r\n``` ","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>I noticed that in your <code>minimum working example</code>, you just created <code>stateStore</code> in <code>open</code> function, and used <code>stateStore</code> directly in <code>process</code> function. While in the so-called <code>actual class</code>, you created <code>activeSessionStore</code> in <code>open</code> function but used <code>context.globalState().getMapState(desc)</code> to get the state. In my understanding, you never used the state you created in your <code>open</code> function, and always used global state. That's why when you added the <code>clear</code> function, it would become empty, and after you removed <code>clear</code> function it would work as you had expected. But actually you have verified in your example, you can achieve what you want without the global state like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ...\n    @Override\n    public void open(Configuration parameters) throws Exception {\n        activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\n                                                &quot;name&quot;, UserDefinedEnum.class, Boolean.class));\n    }\n    ...\n    @Override\n    public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\n        ...\n\n        Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- Finally used the one you created in open function\n        ... do something based on lastFeatureStates....\n\n        activeSessionStore.put(...);\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":4437721,"reputation":123,"user_id":3613100,"accept_rate":75,"display_name":"343GuiltySpark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1668785599,"creation_date":1592473560,"question_id":62447117,"body_markdown":"I have a `ProcessWindowFunction` for processing TumblingEventTimeWindows in which I use a state store to preserve some values *across multiple tumbling windows*.\r\nMy problem is that this state store is not being preserved across tumbling windows i.e. if I first store something in window [0,999] and then access this store from window [1000,1999], the store is empty.\r\nI am aware of the *global state* and *per window state* stated [here][1]. I want to use global state. I also tried creating a minimum working example to investigate this:\r\n\r\n    import org.apache.flink.api.common.state.MapState;\r\n    import org.apache.flink.api.common.state.MapStateDescriptor;\r\n    import org.apache.flink.api.java.functions.KeySelector;\r\n    import org.apache.flink.configuration.Configuration;\r\n    import org.apache.flink.streaming.api.TimeCharacteristic;\r\n    import org.apache.flink.streaming.api.datastream.DataStream;\r\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n    import org.apache.flink.streaming.api.functions.AssignerWithPeriodicWatermarks;\r\n    import org.apache.flink.streaming.api.functions.windowing.ProcessWindowFunction;\r\n    import org.apache.flink.streaming.api.watermark.Watermark;\r\n    import org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\r\n    import org.apache.flink.streaming.api.windowing.time.Time;\r\n    import org.apache.flink.streaming.api.windowing.windows.TimeWindow;\r\n    import org.apache.flink.util.Collector;\r\n    \r\n    import javax.annotation.Nullable;\r\n    \r\n    \r\n    public class twStateStoreTest {\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // set up the streaming execution environment\r\n            final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n            env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n            env.getConfig().setAutoWatermarkInterval(1000L);\r\n    \r\n            final DataStream&lt;Element&gt; elements = env.fromElements(\r\n                    Element.from(1, 500),\r\n                    Element.from(1, 1000),\r\n                    Element.from(1, 1500),\r\n                    Element.from(1, 2000),\r\n    \r\n                    Element.from(99, 9999)\r\n                    ).\r\n                    assignTimestampsAndWatermarks(new AssignerWithPeriodicWatermarks&lt;Element&gt;() {\r\n                        long w;\r\n                        @Nullable\r\n                        @Override\r\n                        public Watermark getCurrentWatermark() {\r\n                            return new Watermark(w);\r\n                        }\r\n    \r\n                        @Override\r\n                        public long extractTimestamp(Element element, long previousElementTimestamp) {\r\n                            w = element.getTimestamp();\r\n                            return w;\r\n                        }\r\n                    });\r\n    \r\n            elements\r\n                    .keyBy(new KeySelector&lt;Element, Integer&gt;() {\r\n                        @Override\r\n                        public Integer getKey(Element element) throws Exception {\r\n                            return element.value;\r\n                        }\r\n                    })\r\n                    .window(TumblingEventTimeWindows.of(Time.milliseconds(1000L)))\r\n                    .process(new MyProcessWindowFn()).\r\n                    print();\r\n    \r\n            // execute program\r\n            env.execute(&quot;Flink Streaming Java API Skeleton&quot;);\r\n        }\r\n    \r\n        static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\r\n            MapState&lt;Integer, Integer&gt; stateStore;\r\n    \r\n            @Override\r\n            public void open(Configuration parameters) throws Exception {\r\n                stateStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;Integer, Integer&gt;(&quot;stateStore&quot;, Integer.class, Integer.class));\r\n            }\r\n    \r\n            @Override\r\n            public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\r\n    \r\n                if (stateStore.get(key) == null) {\r\n                    stateStore.put(key, 1);\r\n                }else {\r\n                    int previous = stateStore.get(key);\r\n                    stateStore.put(key, previous+1);\r\n                }\r\n                out.collect(&quot;State store for &quot; + elements.toString() + &quot; is &quot; + stateStore.entries().toString()\r\n                        + &quot; for window : &quot; + context.window());\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        static class Element {\r\n            private final long timestamp;\r\n            private final int value;\r\n    \r\n            public Element(long timestamp, int value) {\r\n                this.timestamp = timestamp;\r\n                this.value = value;\r\n            }\r\n    \r\n            public long getTimestamp() {\r\n                return timestamp;\r\n            }\r\n    \r\n            public int getValue() {\r\n                return value;\r\n            }\r\n    \r\n            public static Element from(int value, long timestamp) {\r\n                return new Element(timestamp, value);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nHere I&#39;m trying to count the number of times the `process()` function was called for a key. This example **works** and the state is indeed stored across tumbling windows. I&#39;ve ensured that this example exactly mirrors the actual processWindow function, with other unnecessary code stripped off. \r\n\r\nBut state is **not** preserved across windows in the actual processWindowFunction!\r\n\r\nIs there any gotcha that I am clearly missing to account for? \r\nIs there any other reason why state is not preserved across EventTimeTumblingWindows for a processWindowFunction that uses a MapState defined as follows:\r\n\r\n    private MapState&lt;UserDefinedEnum, Boolean&gt; activeSessionStore;\r\n    \r\n    @Override\r\n        public void open(Configuration parameters) throws Exception {\r\n            activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\r\n                                                    &quot;name&quot;, UserDefinedEnum.class, Boolean.class));\r\n        }\r\n\r\nHere&#39;s the actual class with bloat removed and as per @David&#39;s and @ShemTov&#39;s suggestions:\r\n\r\n    public class IUFeatureStateCombiner extends ProcessWindowFunction&lt;IUSessionMessage, IUSessionMessage, IUMonitorFeatureKey, TimeWindow&gt; {\r\n    \r\n        private final static MapStateDescriptor&lt;IUEventType, Boolean&gt; desc =  new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\r\n                &quot;store&quot;, IUEventType.class, Boolean.class);\r\n        private final Logger LOGGER = LoggerFactory.getLogger(IUFeatureStateCombiner.class);\r\n        \r\n        @Override\r\n        public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\r\n            ...\r\n    \r\n            MapState&lt;IUEventType, Boolean&gt; activeSessionStore = context.globalState().getMapState(desc);\r\n    \r\n            Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- This returns an empty iterable\r\n            // even though I populated activeSessionStore with some values in the previous invocation of process()\r\n    \r\n            ... do something based on lastFeatureStates....\r\n    \r\n            activeSessionStore.put(...);\r\n        }\r\n    \r\n        @Override\r\n        public void clear(Context context) throws Exception {\r\n            context.globalState().getMapState(desc).clear();\r\n        }\r\n    }\r\n\r\nAnd I invoke it using :\r\n\r\n    inputStream.keyBy(IUSessionMessage::getMonitorFeatureKey).\r\n    window(TumblingEventTimeWindows.of(Time.milliseconds(1000L))).\r\n    \t\t\tprocess(new IUFeatureStateCombiner())\r\n\r\n\r\n\r\nThis still has the problem, I get an empty iterable in the second invocation of `process()` even though I populated the state in the previous invocation. \r\n\r\n**Edit: Problem solved, the clear() method should not be invoked since this is a global state.**\r\n\r\n\r\n  [1]: https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/windows.html#using-per-window-state-in-processwindowfunction","title":"Keyed state store behaviour within ProcessWindowFunction (Apache Flink Java)","body":"<p>I have a <code>ProcessWindowFunction</code> for processing TumblingEventTimeWindows in which I use a state store to preserve some values <em>across multiple tumbling windows</em>.\nMy problem is that this state store is not being preserved across tumbling windows i.e. if I first store something in window [0,999] and then access this store from window [1000,1999], the store is empty.\nI am aware of the <em>global state</em> and <em>per window state</em> stated <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/windows.html#using-per-window-state-in-processwindowfunction\" rel=\"nofollow noreferrer\">here</a>. I want to use global state. I also tried creating a minimum working example to investigate this:</p>\n\n<pre><code>import org.apache.flink.api.common.state.MapState;\nimport org.apache.flink.api.common.state.MapStateDescriptor;\nimport org.apache.flink.api.java.functions.KeySelector;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.TimeCharacteristic;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.AssignerWithPeriodicWatermarks;\nimport org.apache.flink.streaming.api.functions.windowing.ProcessWindowFunction;\nimport org.apache.flink.streaming.api.watermark.Watermark;\nimport org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.streaming.api.windowing.windows.TimeWindow;\nimport org.apache.flink.util.Collector;\n\nimport javax.annotation.Nullable;\n\n\npublic class twStateStoreTest {\n\n\n    public static void main(String[] args) throws Exception {\n        // set up the streaming execution environment\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n        env.getConfig().setAutoWatermarkInterval(1000L);\n\n        final DataStream&lt;Element&gt; elements = env.fromElements(\n                Element.from(1, 500),\n                Element.from(1, 1000),\n                Element.from(1, 1500),\n                Element.from(1, 2000),\n\n                Element.from(99, 9999)\n                ).\n                assignTimestampsAndWatermarks(new AssignerWithPeriodicWatermarks&lt;Element&gt;() {\n                    long w;\n                    @Nullable\n                    @Override\n                    public Watermark getCurrentWatermark() {\n                        return new Watermark(w);\n                    }\n\n                    @Override\n                    public long extractTimestamp(Element element, long previousElementTimestamp) {\n                        w = element.getTimestamp();\n                        return w;\n                    }\n                });\n\n        elements\n                .keyBy(new KeySelector&lt;Element, Integer&gt;() {\n                    @Override\n                    public Integer getKey(Element element) throws Exception {\n                        return element.value;\n                    }\n                })\n                .window(TumblingEventTimeWindows.of(Time.milliseconds(1000L)))\n                .process(new MyProcessWindowFn()).\n                print();\n\n        // execute program\n        env.execute(\"Flink Streaming Java API Skeleton\");\n    }\n\n    static class MyProcessWindowFn extends ProcessWindowFunction&lt;Element, String, Integer, TimeWindow&gt; {\n        MapState&lt;Integer, Integer&gt; stateStore;\n\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            stateStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;Integer, Integer&gt;(\"stateStore\", Integer.class, Integer.class));\n        }\n\n        @Override\n        public void process(Integer key, Context context, Iterable&lt;Element&gt; elements, Collector&lt;String&gt; out) throws Exception {\n\n            if (stateStore.get(key) == null) {\n                stateStore.put(key, 1);\n            }else {\n                int previous = stateStore.get(key);\n                stateStore.put(key, previous+1);\n            }\n            out.collect(\"State store for \" + elements.toString() + \" is \" + stateStore.entries().toString()\n                    + \" for window : \" + context.window());\n        }\n    }\n\n\n\n\n    static class Element {\n        private final long timestamp;\n        private final int value;\n\n        public Element(long timestamp, int value) {\n            this.timestamp = timestamp;\n            this.value = value;\n        }\n\n        public long getTimestamp() {\n            return timestamp;\n        }\n\n        public int getValue() {\n            return value;\n        }\n\n        public static Element from(int value, long timestamp) {\n            return new Element(timestamp, value);\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>Here I'm trying to count the number of times the <code>process()</code> function was called for a key. This example <strong>works</strong> and the state is indeed stored across tumbling windows. I've ensured that this example exactly mirrors the actual processWindow function, with other unnecessary code stripped off. </p>\n\n<p>But state is <strong>not</strong> preserved across windows in the actual processWindowFunction!</p>\n\n<p>Is there any gotcha that I am clearly missing to account for? \nIs there any other reason why state is not preserved across EventTimeTumblingWindows for a processWindowFunction that uses a MapState defined as follows:</p>\n\n<pre><code>private MapState&lt;UserDefinedEnum, Boolean&gt; activeSessionStore;\n\n@Override\n    public void open(Configuration parameters) throws Exception {\n        activeSessionStore = getRuntimeContext().getMapState(new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\n                                                \"name\", UserDefinedEnum.class, Boolean.class));\n    }\n</code></pre>\n\n<p>Here's the actual class with bloat removed and as per @David's and @ShemTov's suggestions:</p>\n\n<pre><code>public class IUFeatureStateCombiner extends ProcessWindowFunction&lt;IUSessionMessage, IUSessionMessage, IUMonitorFeatureKey, TimeWindow&gt; {\n\n    private final static MapStateDescriptor&lt;IUEventType, Boolean&gt; desc =  new MapStateDescriptor&lt;IUEventType, Boolean&gt;(\n            \"store\", IUEventType.class, Boolean.class);\n    private final Logger LOGGER = LoggerFactory.getLogger(IUFeatureStateCombiner.class);\n\n    @Override\n    public void process(IUMonitorFeatureKey iuMonitorFeatureKey, Context context, Iterable&lt;IUSessionMessage&gt; elements, Collector&lt;IUSessionMessage&gt; out) throws Exception {\n        ...\n\n        MapState&lt;IUEventType, Boolean&gt; activeSessionStore = context.globalState().getMapState(desc);\n\n        Iterable&lt;Entry&lt;IUEventType, Boolean&gt;&gt; lastFeatureStates = activeSessionStore.entries(); // &lt;-------- This returns an empty iterable\n        // even though I populated activeSessionStore with some values in the previous invocation of process()\n\n        ... do something based on lastFeatureStates....\n\n        activeSessionStore.put(...);\n    }\n\n    @Override\n    public void clear(Context context) throws Exception {\n        context.globalState().getMapState(desc).clear();\n    }\n}\n</code></pre>\n\n<p>And I invoke it using :</p>\n\n<pre><code>inputStream.keyBy(IUSessionMessage::getMonitorFeatureKey).\nwindow(TumblingEventTimeWindows.of(Time.milliseconds(1000L))).\n            process(new IUFeatureStateCombiner())\n</code></pre>\n\n<p>This still has the problem, I get an empty iterable in the second invocation of <code>process()</code> even though I populated the state in the previous invocation. </p>\n\n<p><strong>Edit: Problem solved, the clear() method should not be invoked since this is a global state.</strong></p>\n"},{"tags":["java","maven","version"],"answers":[{"comments":[{"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"score":3,"creation_date":1467988234,"post_id":3697482,"comment_id":63957794,"body_markdown":"I found a code [this](http://stackoverflow.com/questions/2712970/get-maven-artifact-version-at-runtime) that no change Maven config.","body":"I found a code <a href=\"http://stackoverflow.com/questions/2712970/get-maven-artifact-version-at-runtime\">this</a> that no change Maven config."},{"owner":{"account_id":4593339,"reputation":648,"user_id":3726096,"display_name":"SiZiOUS"},"score":14,"creation_date":1536840735,"post_id":3697482,"comment_id":91573940,"body_markdown":"Beware of using filtering directly on `src/main/resources`, as this may process all files located in this directory, including binaries files. To avoid unpredictable behaviours, it&#39;s better to do filtering on a `src/main/resources-filtered` directory, [as suggested here](https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html). Anyway, thank you for this nice trick!","body":"Beware of using filtering directly on <code>src&#47;main&#47;resources</code>, as this may process all files located in this directory, including binaries files. To avoid unpredictable behaviours, it&#39;s better to do filtering on a <code>src&#47;main&#47;resources-filtered</code> directory, <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">as suggested here</a>. Anyway, thank you for this nice trick!"},{"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"score":2,"creation_date":1550788799,"post_id":3697482,"comment_id":96410940,"body_markdown":"The answer below using the MavenXppReader to get the actual model is really useful, as it doesn&#39;t need to run anything to find the value.  In cases where you need to know the version before anything is run, look at the answers below; it was very helpful for me to let gradle know what version a checked out maven project has, so I could know the output jar location beforehand.","body":"The answer below using the MavenXppReader to get the actual model is really useful, as it doesn&#39;t need to run anything to find the value.  In cases where you need to know the version before anything is run, look at the answers below; it was very helpful for me to let gradle know what version a checked out maven project has, so I could know the output jar location beforehand."},{"owner":{"account_id":1422461,"reputation":367,"user_id":1346821,"display_name":"ormurin"},"score":0,"creation_date":1614848068,"post_id":3697482,"comment_id":117511696,"body_markdown":"Beware that this does not work if using it during unit testing. If you need the project information during unit testing see answer by @kriegaex","body":"Beware that this does not work if using it during unit testing. If you need the project information during unit testing see answer by @kriegaex"},{"owner":{"account_id":19395325,"reputation":2019,"user_id":14183155,"display_name":"Vivere"},"score":5,"creation_date":1619213769,"post_id":3697482,"comment_id":118846851,"body_markdown":"From [here](https://stackoverflow.com/questions/36501017/maven-resource-filtering-not-working-because-of-spring-boot-dependency), if you are using spring boot, you need to use `@project.version@` instead of `${project.version}`","body":"From <a href=\"https://stackoverflow.com/questions/36501017/maven-resource-filtering-not-working-because-of-spring-boot-dependency\">here</a>, if you are using spring boot, you need to use <code>@project.version@</code> instead of <code>${project.version}</code>"}],"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":5,"down_vote_count":3,"up_vote_count":339,"is_accepted":true,"score":336,"last_activity_date":1597182634,"creation_date":1284342635,"answer_id":3697482,"question_id":3697449,"body_markdown":"Assuming you&#39;re using Java, you can:\r\n\r\n1. Create a `.properties` file in (most commonly) your `src/main/resources` directory (but in step 4 you could tell it to look elsewhere).\r\n\r\n2. Set the value of some property in your `.properties` file using the standard Maven property for project version:\r\n    ```\r\n    foo.bar=${project.version}\r\n    ```\r\n\r\n3. In your Java code, load the value from the properties file as a resource from the classpath (google for copious examples of how to do this, but [here&#39;s an example for starters][2]).\r\n\r\n4. In Maven, enable resource filtering. This will cause Maven to copy that file into your output classes and translate the resource during that copy, interpreting the property.  You can find some info [here][1] but you mostly just do this in your pom:\r\n\r\n    ```xml\r\n    &lt;build&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n      &lt;/resources&gt;   \r\n    &lt;/build&gt;\r\n    ```\r\n\r\nYou can also get to other standard properties like `project.name`, `project.description`, or even arbitrary properties you put in your pom `&lt;properties&gt;`, etc.  Resource filtering, combined with Maven profiles, can give you variable build behavior at build time.  When you specify a profile at runtime with `-PmyProfile`, that can enable properties that then can show up in your build.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\r\n  [2]: https://stackoverflow.com/a/26573884/1470257\r\n\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>Assuming you're using Java, you can:</p>\n<ol>\n<li><p>Create a <code>.properties</code> file in (most commonly) your <code>src/main/resources</code> directory (but in step 4 you could tell it to look elsewhere).</p>\n</li>\n<li><p>Set the value of some property in your <code>.properties</code> file using the standard Maven property for project version:</p>\n<pre><code>foo.bar=${project.version}\n</code></pre>\n</li>\n<li><p>In your Java code, load the value from the properties file as a resource from the classpath (google for copious examples of how to do this, but <a href=\"https://stackoverflow.com/a/26573884/1470257\">here's an example for starters</a>).</p>\n</li>\n<li><p>In Maven, enable resource filtering. This will cause Maven to copy that file into your output classes and translate the resource during that copy, interpreting the property.  You can find some info <a href=\"http://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\" rel=\"noreferrer\">here</a> but you mostly just do this in your pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n  &lt;/resources&gt;   \n&lt;/build&gt;\n</code></pre>\n</li>\n</ol>\n<p>You can also get to other standard properties like <code>project.name</code>, <code>project.description</code>, or even arbitrary properties you put in your pom <code>&lt;properties&gt;</code>, etc.  Resource filtering, combined with Maven profiles, can give you variable build behavior at build time.  When you specify a profile at runtime with <code>-PmyProfile</code>, that can enable properties that then can show up in your build.</p>\n"},{"comments":[{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":12,"creation_date":1417014954,"post_id":3698409,"comment_id":42799698,"body_markdown":"for people looking for an example reading the properties, this post goes over several methods - http://www.javablog.fr/javaspring-get-and-display-the-version-from-manifest-mf.html","body":"for people looking for an example reading the properties, this post goes over several methods - <a href=\"http://www.javablog.fr/javaspring-get-and-display-the-version-from-manifest-mf.html\" rel=\"nofollow noreferrer\">javablog.fr/&hellip;</a>"}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1284363990,"creation_date":1284361811,"answer_id":3698409,"question_id":3697449,"body_markdown":"Packaged artifacts contain a `META-INF/maven/${groupId}/${artifactId}/pom.properties` file which content looks like:\r\n\r\n    #Generated by Maven\r\n    #Sun Feb 21 23:38:24 GMT 2010\r\n    version=2.5\r\n    groupId=commons-lang\r\n    artifactId=commons-lang\r\n\r\nMany applications use this file to read the application/jar version at runtime, there is zero setup required.\r\n\r\nThe only problem with the above approach is that this file is (currently) generated during the `package` phase and will thus not be present during tests, etc (there is a Jira issue to change this, see [MJAR-76][1]). If this is an issue for you, then the approach described by Alex is the way to go. \r\n\r\n\r\n  [1]: http://jira.codehaus.org/browse/MJAR-76","title":"Retrieve version from maven pom.xml in code","body":"<p>Packaged artifacts contain a <code>META-INF/maven/${groupId}/${artifactId}/pom.properties</code> file which content looks like:</p>\n\n<pre><code>#Generated by Maven\n#Sun Feb 21 23:38:24 GMT 2010\nversion=2.5\ngroupId=commons-lang\nartifactId=commons-lang\n</code></pre>\n\n<p>Many applications use this file to read the application/jar version at runtime, there is zero setup required.</p>\n\n<p>The only problem with the above approach is that this file is (currently) generated during the <code>package</code> phase and will thus not be present during tests, etc (there is a Jira issue to change this, see <a href=\"http://jira.codehaus.org/browse/MJAR-76\" rel=\"noreferrer\">MJAR-76</a>). If this is an issue for you, then the approach described by Alex is the way to go. </p>\n"},{"comments":[{"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"score":18,"creation_date":1361135075,"post_id":6773868,"comment_id":20943443,"body_markdown":"-1 - This solution didn&#39;t work for me; the value of `getImplementationVersion()` was `null`. (maven version 3.0.4)","body":"-1 - This solution didn&#39;t work for me; the value of <code>getImplementationVersion()</code> was <code>null</code>. (maven version 3.0.4)"},{"owner":{"account_id":1019665,"reputation":2547,"user_id":1030387,"accept_rate":60,"display_name":"wikier"},"score":9,"creation_date":1387207951,"post_id":6773868,"comment_id":30849425,"body_markdown":"depending on the phase... only works when the artifact is being packaged, so does not work on unit tests :-/","body":"depending on the phase... only works when the artifact is being packaged, so does not work on unit tests :-/"},{"owner":{"account_id":4703915,"reputation":2852,"user_id":3806701,"accept_rate":53,"display_name":"cs_pupil"},"score":5,"creation_date":1512066483,"post_id":6773868,"comment_id":82117720,"body_markdown":"For `.war` artifacts, remember to use `maven-war-plugin` instead of `maven-jar-plugin`","body":"For <code>.war</code> artifacts, remember to use <code>maven-war-plugin</code> instead of <code>maven-jar-plugin</code>"},{"owner":{"account_id":284591,"reputation":1876,"user_id":582789,"display_name":"Alfonso Nishikawa"},"score":0,"creation_date":1518629117,"post_id":6773868,"comment_id":84588040,"body_markdown":"For me, this does work in **Tomcat 8**, but doesn&#39;t work in **Tomcat 7** (`getImplementationVersion()` returns null).","body":"For me, this does work in <b>Tomcat 8</b>, but doesn&#39;t work in <b>Tomcat 7</b> (<code>getImplementationVersion()</code> returns null)."},{"owner":{"account_id":3300554,"reputation":129,"user_id":2776842,"accept_rate":38,"display_name":"SkyDancer"},"score":3,"creation_date":1645651144,"post_id":6773868,"comment_id":125932422,"body_markdown":"It works when you compile a jar, otherwise doesn&#39;t","body":"It works when you compile a jar, otherwise doesn&#39;t"},{"owner":{"account_id":3061819,"reputation":241,"user_id":3216731,"display_name":"PhilipM"},"score":0,"creation_date":1697703738,"post_id":6773868,"comment_id":136313972,"body_markdown":"Thanks. This works for me – except that if I run the app in the IDE, it doesn’t appear to run out of the JAR file and hence picks up the version number as null (i.e., same problem as unit tests).\n\nIs there a way to get Netbeans (using v18) to run the jar file and hence get the same effect as launching outside the IDE?","body":"Thanks. This works for me – except that if I run the app in the IDE, it doesn’t appear to run out of the JAR file and hence picks up the version number as null (i.e., same problem as unit tests).  Is there a way to get Netbeans (using v18) to run the jar file and hence get the same effect as launching outside the IDE?"}],"tags":[],"owner":{"account_id":456697,"reputation":1152,"user_id":855592,"display_name":"adam.lofts"},"comment_count":6,"down_vote_count":3,"up_vote_count":63,"is_accepted":false,"score":60,"last_activity_date":1418066393,"creation_date":1311239976,"answer_id":6773868,"question_id":3697449,"body_markdown":"There is also the method described in [Easy way to display your apps version number using Maven][1]:\r\n\r\nAdd this to pom.xml\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;test.App&lt;/mainClass&gt;\r\n                &lt;addDefaultImplementationEntries&gt;\r\n                  true\r\n                &lt;/addDefaultImplementationEntries&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen use this:\r\n\r\n    App.class.getPackage().getImplementationVersion()\r\n\r\nI have found this method to be simpler.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20120121133235/http://www.christophkiehl.com/easy-way-to-display-your-apps-version-using-maven-and-manifest","title":"Retrieve version from maven pom.xml in code","body":"<p>There is also the method described in <a href=\"https://web.archive.org/web/20120121133235/http://www.christophkiehl.com/easy-way-to-display-your-apps-version-using-maven-and-manifest\" rel=\"noreferrer\">Easy way to display your apps version number using Maven</a>:</p>\n\n<p>Add this to pom.xml</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;test.App&lt;/mainClass&gt;\n            &lt;addDefaultImplementationEntries&gt;\n              true\n            &lt;/addDefaultImplementationEntries&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then use this:</p>\n\n<pre><code>App.class.getPackage().getImplementationVersion()\n</code></pre>\n\n<p>I have found this method to be simpler.</p>\n"},{"tags":[],"owner":{"account_id":1968068,"reputation":1775,"user_id":1767758,"accept_rate":67,"display_name":"feder"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1398065645,"creation_date":1375710738,"answer_id":18059903,"question_id":3697449,"body_markdown":"Use this Library for the ease of a simple solution. Add to the manifest whatever you need and then query by string.\r\n\r\n     System.out.println(&quot;JAR was created by &quot; + Manifests.read(&quot;Created-By&quot;));\r\n\r\nhttp://manifests.jcabi.com/index.html","title":"Retrieve version from maven pom.xml in code","body":"<p>Use this Library for the ease of a simple solution. Add to the manifest whatever you need and then query by string.</p>\n\n<pre><code> System.out.println(\"JAR was created by \" + Manifests.read(\"Created-By\"));\n</code></pre>\n\n<p><a href=\"http://manifests.jcabi.com/index.html\" rel=\"noreferrer\">http://manifests.jcabi.com/index.html</a></p>\n"},{"comments":[{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":1,"creation_date":1625412052,"post_id":30217570,"comment_id":120615455,"body_markdown":"If looking for how to include &quot;Implementation-Version&quot; to MANIFEST.MF: https://stackoverflow.com/questions/921667/how-do-i-add-an-implementation-version-value-to-a-jar-manifest-using-maven","body":"If looking for how to include &quot;Implementation-Version&quot; to MANIFEST.MF: <a href=\"https://stackoverflow.com/questions/921667/how-do-i-add-an-implementation-version-value-to-a-jar-manifest-using-maven\" title=\"how do i add an implementation version value to a jar manifest using maven\">stackoverflow.com/questions/921667/&hellip;</a>"},{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":0,"creation_date":1630705108,"post_id":30217570,"comment_id":122038446,"body_markdown":"This seems to be an incomplete answer that only applies to certain situations. Did not work for my TestNG project, probably due to lacking manifest packaging.","body":"This seems to be an incomplete answer that only applies to certain situations. Did not work for my TestNG project, probably due to lacking manifest packaging."}],"tags":[],"owner":{"account_id":3603762,"reputation":1569,"user_id":3006465,"display_name":"electrobabe"},"comment_count":2,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1431526649,"creation_date":1431526649,"answer_id":30217570,"question_id":3697449,"body_markdown":"If you use mvn packaging such as jar or war, use:\r\n\r\n    getClass().getPackage().getImplementationVersion()\r\n\r\nIt reads a property &quot;Implementation-Version&quot; of the generated META-INF/MANIFEST.MF (that is set to the pom.xml&#39;s version) in the archive.","title":"Retrieve version from maven pom.xml in code","body":"<p>If you use mvn packaging such as jar or war, use:</p>\n\n<pre><code>getClass().getPackage().getImplementationVersion()\n</code></pre>\n\n<p>It reads a property \"Implementation-Version\" of the generated META-INF/MANIFEST.MF (that is set to the pom.xml's version) in the archive.</p>\n"},{"comments":[{"owner":{"account_id":6396003,"reputation":645,"user_id":4960314,"display_name":"Crompy"},"score":0,"creation_date":1605666350,"post_id":32493612,"comment_id":114719349,"body_markdown":"This answer helped in that I needed to use the @..@ notation to read the properties from maven. Something else is using the ${..} notation and it was conflicting.","body":"This answer helped in that I needed to use the @..@ notation to read the properties from maven. Something else is using the ${..} notation and it was conflicting."}],"tags":[],"owner":{"account_id":250728,"reputation":787,"user_id":2674251,"accept_rate":20,"display_name":"coolnodje"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1460458654,"creation_date":1441861915,"answer_id":32493612,"question_id":3697449,"body_markdown":"To complement what @kieste has posted, which I think is the best way to have Maven build informations available in your code if you&#39;re using Spring-boot: the documentation at http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info is very useful.\r\n\r\nYou just need to activate actuators, and add the properties you need in your ```application.properties``` or ```application.yml```\r\n\r\n\r\n    Automatic property expansion using Maven\r\n    \r\n    You can automatically expand info properties from the Maven project using resource filtering. If you use the spring-boot-starter-parent you can then refer to your Maven ‘project properties’ via @..@ placeholders, e.g.\r\n    \r\n    project.artifactId=myproject\r\n    project.name=Demo\r\n    project.version=X.X.X.X\r\n    project.description=Demo project for info endpoint\r\n    info.build.artifact=@project.artifactId@\r\n    info.build.name=@project.name@\r\n    info.build.description=@project.description@\r\n    info.build.version=@project.version@\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>To complement what @kieste has posted, which I think is the best way to have Maven build informations available in your code if you're using Spring-boot: the documentation at <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info</a> is very useful.</p>\n\n<p>You just need to activate actuators, and add the properties you need in your <code>application.properties</code> or <code>application.yml</code></p>\n\n<pre><code>Automatic property expansion using Maven\n\nYou can automatically expand info properties from the Maven project using resource filtering. If you use the spring-boot-starter-parent you can then refer to your Maven ‘project properties’ via @..@ placeholders, e.g.\n\nproject.artifactId=myproject\nproject.name=Demo\nproject.version=X.X.X.X\nproject.description=Demo project for info endpoint\ninfo.build.artifact=@project.artifactId@\ninfo.build.name=@project.name@\ninfo.build.description=@project.description@\ninfo.build.version=@project.version@\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6494427,"reputation":6518,"user_id":5027456,"accept_rate":70,"display_name":"Simon Sobisch"},"score":2,"creation_date":1509204997,"post_id":41791885,"comment_id":80929463,"body_markdown":"This is nearly identical to what I use and works fine when started from eclipse, but doesn&#39;t when started from the normal `package`d jar (dependency classes aren&#39;t integrated) and doesn&#39;t work when packaged with maven-assembly-plugin `jar-with-dependencies` I get a `java.io.FileNotFoundException: pom.xml` (it is in the final jar as `META-INF/maven/my.package/myapp/pom.xml`) - any hints how to solve this?","body":"This is nearly identical to what I use and works fine when started from eclipse, but doesn&#39;t when started from the normal <code>package</code>d jar (dependency classes aren&#39;t integrated) and doesn&#39;t work when packaged with maven-assembly-plugin <code>jar-with-dependencies</code> I get a <code>java.io.FileNotFoundException: pom.xml</code> (it is in the final jar as <code>META-INF&#47;maven&#47;my.package&#47;myapp&#47;pom.xml</code>) - any hints how to solve this?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1509451924,"post_id":41791885,"comment_id":81016375,"body_markdown":"My solution is meant to work dynamically in development environments, e.g. when used in tests or tools started from IDE or console. The accepted answer to this question shows several ways to package the version number statically into your artifacts. I was not assuming that pom.xml would be available within JARs at all. Nice for you that you have it there, though. Maybe you could just adjust the path when opening the file reader and maybe make it dependent on the classloader situation. I would have to try for myself. Feel free to ask follow-up questions if this does not help.","body":"My solution is meant to work dynamically in development environments, e.g. when used in tests or tools started from IDE or console. The accepted answer to this question shows several ways to package the version number statically into your artifacts. I was not assuming that pom.xml would be available within JARs at all. Nice for you that you have it there, though. Maybe you could just adjust the path when opening the file reader and maybe make it dependent on the classloader situation. I would have to try for myself. Feel free to ask follow-up questions if this does not help."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1509454358,"post_id":41791885,"comment_id":81018004,"body_markdown":"Hi @SimonSobisch, I have just updated my answer so as to show you how to do what you want. But please be aware of the fact that I just did it quick &amp; dirty, I do not particularly like the code with the nested constructors.","body":"Hi @SimonSobisch, I have just updated my answer so as to show you how to do what you want. But please be aware of the fact that I just did it quick &amp; dirty, I do not particularly like the code with the nested constructors."},{"owner":{"account_id":6441151,"reputation":413,"user_id":4991139,"display_name":"Gunnar"},"score":0,"creation_date":1641301648,"post_id":41791885,"comment_id":124765113,"body_markdown":"I&#39;m just extending a tool so it can lookup usages of specific artifacts in repository directory trees and already included maven-model. Now I know how to use it, thanks :)","body":"I&#39;m just extending a tool so it can lookup usages of specific artifacts in repository directory trees and already included maven-model. Now I know how to use it, thanks :)"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":4,"down_vote_count":0,"up_vote_count":132,"is_accepted":false,"score":132,"last_activity_date":1509454277,"creation_date":1485094141,"answer_id":41791885,"question_id":3697449,"body_markdown":"The accepted answer may be the best and most stable way to get a version number into an application **_statically_**, but does not actually answer the original question: How to retrieve the artifact&#39;s version number from pom.xml? Thus, I want to offer an alternative showing how to do it **_dynamically_** during runtime:\r\n\r\nYou can use Maven itself. To be more exact, you can use a Maven library.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then do something like this in Java:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import org.apache.maven.model.Model;\r\n    import org.apache.maven.model.io.xpp3.MavenXpp3Reader;\r\n    import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\r\n    \r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class Application {\r\n        public static void main(String[] args) throws IOException, XmlPullParserException {\r\n            MavenXpp3Reader reader = new MavenXpp3Reader();\r\n            Model model = reader.read(new FileReader(&quot;pom.xml&quot;));\r\n            System.out.println(model.getId());\r\n            System.out.println(model.getGroupId());\r\n            System.out.println(model.getArtifactId());\r\n            System.out.println(model.getVersion());\r\n        }\r\n    }\r\n\r\nThe console log is as follows:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    de.scrum-master.stackoverflow:my-artifact:jar:1.0-SNAPSHOT\r\n    de.scrum-master.stackoverflow\r\n    my-artifact\r\n    1.0-SNAPSHOT\r\n\r\n&lt;hr&gt;\r\n\r\n**Update 2017-10-31:** In order to answer Simon Sobisch&#39;s follow-up question I modified the example like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import org.apache.maven.model.Model;\r\n    import org.apache.maven.model.io.xpp3.MavenXpp3Reader;\r\n    import org.codehaus.plexus.util.xml.pull.XmlPullParserException;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class Application {\r\n      public static void main(String[] args) throws IOException, XmlPullParserException {\r\n        MavenXpp3Reader reader = new MavenXpp3Reader();\r\n        Model model;\r\n        if ((new File(&quot;pom.xml&quot;)).exists())\r\n          model = reader.read(new FileReader(&quot;pom.xml&quot;));\r\n        else\r\n          model = reader.read(\r\n            new InputStreamReader(\r\n              Application.class.getResourceAsStream(\r\n                &quot;/META-INF/maven/de.scrum-master.stackoverflow/aspectj-introduce-method/pom.xml&quot;\r\n              )\r\n            )\r\n          );\r\n        System.out.println(model.getId());\r\n        System.out.println(model.getGroupId());\r\n        System.out.println(model.getArtifactId());\r\n        System.out.println(model.getVersion());\r\n      }\r\n    }\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>The accepted answer may be the best and most stable way to get a version number into an application <strong><em>statically</em></strong>, but does not actually answer the original question: How to retrieve the artifact's version number from pom.xml? Thus, I want to offer an alternative showing how to do it <strong><em>dynamically</em></strong> during runtime:</p>\n\n<p>You can use Maven itself. To be more exact, you can use a Maven library.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n  &lt;version&gt;3.3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And then do something like this in Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport org.apache.maven.model.Model;\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Application {\n    public static void main(String[] args) throws IOException, XmlPullParserException {\n        MavenXpp3Reader reader = new MavenXpp3Reader();\n        Model model = reader.read(new FileReader(\"pom.xml\"));\n        System.out.println(model.getId());\n        System.out.println(model.getGroupId());\n        System.out.println(model.getArtifactId());\n        System.out.println(model.getVersion());\n    }\n}\n</code></pre>\n\n<p>The console log is as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>de.scrum-master.stackoverflow:my-artifact:jar:1.0-SNAPSHOT\nde.scrum-master.stackoverflow\nmy-artifact\n1.0-SNAPSHOT\n</code></pre>\n\n<hr>\n\n<p><strong>Update 2017-10-31:</strong> In order to answer Simon Sobisch's follow-up question I modified the example like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport org.apache.maven.model.Model;\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Application {\n  public static void main(String[] args) throws IOException, XmlPullParserException {\n    MavenXpp3Reader reader = new MavenXpp3Reader();\n    Model model;\n    if ((new File(\"pom.xml\")).exists())\n      model = reader.read(new FileReader(\"pom.xml\"));\n    else\n      model = reader.read(\n        new InputStreamReader(\n          Application.class.getResourceAsStream(\n            \"/META-INF/maven/de.scrum-master.stackoverflow/aspectj-introduce-method/pom.xml\"\n          )\n        )\n      );\n    System.out.println(model.getId());\n    System.out.println(model.getGroupId());\n    System.out.println(model.getArtifactId());\n    System.out.println(model.getVersion());\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5181727,"reputation":104,"user_id":4147255,"display_name":"Imeksbank"},"score":0,"creation_date":1602586614,"post_id":54589733,"comment_id":113761448,"body_markdown":"Thank you . This worked for my project in RapidClipse / Vaadin + Maven 3.6.3","body":"Thank you . This worked for my project in RapidClipse / Vaadin + Maven 3.6.3"}],"tags":[],"owner":{"account_id":4722165,"reputation":2588,"user_id":3819751,"display_name":"ketankk"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1549619404,"creation_date":1549619404,"answer_id":54589733,"question_id":3697449,"body_markdown":"        &lt;build&gt;\r\n                &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\r\n                &lt;pluginManagement&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.2&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                                &lt;archive&gt;\r\n                                    &lt;manifest&gt;\r\n                                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                                        &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                                    &lt;/manifest&gt;\r\n                                &lt;/archive&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                     &lt;/plugins&gt;\r\n                &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nGet Version using `this.getClass().getPackage().getImplementationVersion()`\r\n\r\nPS Don&#39;t forget to add:\r\n\r\n    &lt;manifest&gt;\r\n        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n        &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n    &lt;/manifest&gt;\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<pre><code>    &lt;build&gt;\n            &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n            &lt;pluginManagement&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                                    &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                 &lt;/plugins&gt;\n            &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Get Version using <code>this.getClass().getPackage().getImplementationVersion()</code></p>\n\n<p>PS Don't forget to add:</p>\n\n<pre><code>&lt;manifest&gt;\n    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n    &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"score":1,"creation_date":1599030586,"post_id":58184845,"comment_id":112643268,"body_markdown":"It&#39;s fine, just incredibly slow, especially if the artifacts aren&#39;t downloaded yet.","body":"It&#39;s fine, just incredibly slow, especially if the artifacts aren&#39;t downloaded yet."},{"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"score":0,"creation_date":1599031821,"post_id":58184845,"comment_id":112643843,"body_markdown":"I completely agree with that :-( The only advantage is that it works with every kind of Maven project/module, even those which inherit their version from some parent pom.xml","body":"I completely agree with that :-( The only advantage is that it works with every kind of Maven project/module, even those which inherit their version from some parent pom.xml"}],"tags":[],"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1583198700,"creation_date":1569933076,"answer_id":58184845,"question_id":3697449,"body_markdown":"Sometimes the Maven command line is sufficient when scripting something related to the project version, e.g. for artifact retrieval via URL from a repository:\r\n\r\n    mvn help:evaluate -Dexpression=project.version -q -DforceStdout\r\n\r\nUsage example:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    VERSION=$( mvn help:evaluate -Dexpression=project.version -q -DforceStdout )\r\n    ARTIFACT_ID=$( mvn help:evaluate -Dexpression=project.artifactId -q -DforceStdout )\r\n    GROUP_ID_URL=$( mvn help:evaluate -Dexpression=project.groupId -q -DforceStdout | sed -e &#39;s#\\.#/#g&#39; )\r\n    curl -f -S -O http://REPO-URL/mvn-repos/${GROUP_ID_URL}/${ARTIFACT_ID}/${VERSION}/${ARTIFACT_ID}-${VERSION}.jar\r\n\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>Sometimes the Maven command line is sufficient when scripting something related to the project version, e.g. for artifact retrieval via URL from a repository:</p>\n\n<pre><code>mvn help:evaluate -Dexpression=project.version -q -DforceStdout\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>VERSION=$( mvn help:evaluate -Dexpression=project.version -q -DforceStdout )\nARTIFACT_ID=$( mvn help:evaluate -Dexpression=project.artifactId -q -DforceStdout )\nGROUP_ID_URL=$( mvn help:evaluate -Dexpression=project.groupId -q -DforceStdout | sed -e 's#\\.#/#g' )\ncurl -f -S -O http://REPO-URL/mvn-repos/${GROUP_ID_URL}/${ARTIFACT_ID}/${VERSION}/${ARTIFACT_ID}-${VERSION}.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475993,"reputation":178,"user_id":5014577,"display_name":"Leo Lamas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591058373,"creation_date":1591057043,"answer_id":62142908,"question_id":3697449,"body_markdown":"With reference to [ketankk&#39;s answer](https://stackoverflow.com/a/54589733/10251345):\r\n\r\nUnfortunately, adding this messed with how my application dealt with resources:\r\n\r\n    &lt;build&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n      &lt;/resources&gt;   \r\n    &lt;/build&gt;\r\n\r\nBut using this inside maven-assemble-plugin&#39;s &lt; manifest &gt; tag did the trick:\r\n\r\n    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n    &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n\r\nSo I was able to get version using\r\n\r\n    String version = getClass().getPackage().getImplementationVersion();","title":"Retrieve version from maven pom.xml in code","body":"<p>With reference to <a href=\"https://stackoverflow.com/a/54589733/10251345\">ketankk's answer</a>:</p>\n\n<p>Unfortunately, adding this messed with how my application dealt with resources:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n  &lt;/resources&gt;   \n&lt;/build&gt;\n</code></pre>\n\n<p>But using this inside maven-assemble-plugin's &lt; manifest > tag did the trick:</p>\n\n<pre><code>&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n&lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n</code></pre>\n\n<p>So I was able to get version using</p>\n\n<pre><code>String version = getClass().getPackage().getImplementationVersion();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1604085374,"post_id":62893431,"comment_id":114249690,"body_markdown":"Is this possible with gradle?","body":"Is this possible with gradle?"},{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":0,"creation_date":1646220822,"post_id":62893431,"comment_id":126067987,"body_markdown":"@AdamHughes https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-automatic-expansion-gradle","body":"@AdamHughes <a href=\"https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-automatic-expansion-gradle\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.3.x/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":4330003,"reputation":666,"user_id":3535788,"accept_rate":80,"display_name":"Horst Krause"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594723691,"creation_date":1594723691,"answer_id":62893431,"question_id":3697449,"body_markdown":"When using spring boot, this link might be useful: https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-properties-and-configuration\r\n\r\nWith spring-boot-starter-parent you just need to add the following to your application config file:\r\n\r\n    # get values from pom.xml\r\n    pom.version=@project.version@\r\n\r\nAfter that the value is available like this:\r\n\r\n    @Value(&quot;${pom.version}&quot;)\r\n    private String pomVersion;\r\n","title":"Retrieve version from maven pom.xml in code","body":"<p>When using spring boot, this link might be useful: <a href=\"https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-properties-and-configuration\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.3.x/reference/html/howto.html#howto-properties-and-configuration</a></p>\n<p>With spring-boot-starter-parent you just need to add the following to your application config file:</p>\n<pre><code># get values from pom.xml\npom.version=@project.version@\n</code></pre>\n<p>After that the value is available like this:</p>\n<pre><code>@Value(&quot;${pom.version}&quot;)\nprivate String pomVersion;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3168724,"reputation":20909,"user_id":2678170,"accept_rate":0,"display_name":"Salim Hamidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615397457,"creation_date":1615397457,"answer_id":66569945,"question_id":3697449,"body_markdown":"**Step 1**: If you are using Spring Boot, your pom.xml should already contain **spring-boot-maven-plugin**. You just need to add the following configuration.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;build-info&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;build-info&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\nIt instructs the plugin to execute also build-info goal, which is not run by default. This generates build meta-data about your application, which includes artifact version, build time and more.\r\n\r\n**Step2:** Accessing Build Properties with buildProperties bean. In our case we create a restResource to access to this build info in our webapp\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class BuildInfoResource {\r\n        @Autowired\r\n        private BuildProperties buildProperties;\r\n    \r\n        \r\n        @GetMapping(&quot;/build-info&quot;)\r\n        public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getBuildInfo() {\r\n            Map&lt;String, String&gt; buildInfo = new HashMap();\r\n            buildInfo.put(&quot;appName&quot;, buildProperties.getName());\r\n            buildInfo.put(&quot;appArtifactId&quot;, buildProperties.getArtifact());\r\n            buildInfo.put(&quot;appVersion&quot;, buildProperties.getVersion());\r\n            buildInfo.put(&quot;appBuildDateTime&quot;, buildProperties.getTime());\r\n            return ResponseEntity.ok().body(buldInfo);\r\n        }\r\n    }\r\n\r\nI hope this will help","title":"Retrieve version from maven pom.xml in code","body":"<p><strong>Step 1</strong>: If you are using Spring Boot, your pom.xml should already contain <strong>spring-boot-maven-plugin</strong>. You just need to add the following configuration.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;build-info&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;build-info&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It instructs the plugin to execute also build-info goal, which is not run by default. This generates build meta-data about your application, which includes artifact version, build time and more.</p>\n<p><strong>Step2:</strong> Accessing Build Properties with buildProperties bean. In our case we create a restResource to access to this build info in our webapp</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class BuildInfoResource {\n    @Autowired\n    private BuildProperties buildProperties;\n\n    \n    @GetMapping(&quot;/build-info&quot;)\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getBuildInfo() {\n        Map&lt;String, String&gt; buildInfo = new HashMap();\n        buildInfo.put(&quot;appName&quot;, buildProperties.getName());\n        buildInfo.put(&quot;appArtifactId&quot;, buildProperties.getArtifact());\n        buildInfo.put(&quot;appVersion&quot;, buildProperties.getVersion());\n        buildInfo.put(&quot;appBuildDateTime&quot;, buildProperties.getTime());\n        return ResponseEntity.ok().body(buldInfo);\n    }\n}\n</code></pre>\n<p>I hope this will help</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625891534,"creation_date":1625891534,"answer_id":68324727,"question_id":3697449,"body_markdown":"**Preface:** Because I remember this often referred-to question after having [answered](https://stackoverflow.com/a/41791885/1082681) it a few years ago, showing a dynamic version actually accessing Maven POM infos dynamically (e.g. also during tests), today I found a [similar question](https://stackoverflow.com/q/68321439/1082681) which involved accessing module A&#39;s Maven info from another module B.\r\n\r\nI thought about it for a moment and spontaneously had the idea to use a **special annotation**, applying it to a package declaration in **`package-info.java`**. I also created a multi-module example project on GitHub. I do not want to repeat the whole answer, so please see solution B in [this answer](https://stackoverflow.com/a/68324028/1082681). The Maven setup involves **Templating Maven Plugin**, but could also be solved in a more verbose way using a combination of resource filtering and adding generated sources directory to the build via Build Helper Maven. I wanted to avoid that, so I simply used Templating Maven.","title":"Retrieve version from maven pom.xml in code","body":"<p><strong>Preface:</strong> Because I remember this often referred-to question after having <a href=\"https://stackoverflow.com/a/41791885/1082681\">answered</a> it a few years ago, showing a dynamic version actually accessing Maven POM infos dynamically (e.g. also during tests), today I found a <a href=\"https://stackoverflow.com/q/68321439/1082681\">similar question</a> which involved accessing module A's Maven info from another module B.</p>\n<p>I thought about it for a moment and spontaneously had the idea to use a <strong>special annotation</strong>, applying it to a package declaration in <strong><code>package-info.java</code></strong>. I also created a multi-module example project on GitHub. I do not want to repeat the whole answer, so please see solution B in <a href=\"https://stackoverflow.com/a/68324028/1082681\">this answer</a>. The Maven setup involves <strong>Templating Maven Plugin</strong>, but could also be solved in a more verbose way using a combination of resource filtering and adding generated sources directory to the build via Build Helper Maven. I wanted to avoid that, so I simply used Templating Maven.</p>\n"},{"comments":[{"owner":{"account_id":344,"reputation":7573,"user_id":430,"accept_rate":57,"display_name":"jj33"},"score":0,"creation_date":1638715001,"post_id":69441776,"comment_id":124156241,"body_markdown":"This is cool, going to give it a try","body":"This is cool, going to give it a try"},{"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"score":0,"creation_date":1638727507,"post_id":69441776,"comment_id":124159463,"body_markdown":"Great, let me know if it works for you!","body":"Great, let me know if it works for you!"},{"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"score":0,"creation_date":1639516769,"post_id":69441776,"comment_id":124367774,"body_markdown":"Hey @jj33, I have created a new release to include additional fields as you suggested on github. Hope it turns out to be useful for you!","body":"Hey @jj33, I have created a new release to include additional fields as you suggested on github. Hope it turns out to be useful for you!"}],"tags":[],"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639516615,"creation_date":1633377657,"answer_id":69441776,"question_id":3697449,"body_markdown":"I had the same problem in my daytime job. Even though many of the answers will help to find the version for a specific artifact, we needed to get the version for modules/jars that are not a direct dependency of the application. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.\r\n\r\nThat&#39;s why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.\r\n\r\n# The idea\r\n\r\n1. use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.\r\n2. Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.\r\n\r\n# The solution\r\nPart one of the solution is the `artifact-version-service` library, which can be found on [github](https://github.com/swesteme/artifact-version-service) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-service) now. It covers the service definition and a few ways to get the artifact versions at runtime.\r\n\r\nPart two is the `artifact-version-maven-plugin`, which can also be found on [github](https://github.com/swesteme/artifact-version-maven-plugin) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin). It is used to have a hassle-free generator implementing the service definition for each of the artifacts.\r\n\r\n# Examples\r\n### Fetching all modules with coordinates\r\nNo more reading jar manifests, just a simple method call:\r\n\r\n```java\r\n// iterate list of artifact dependencies\r\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\r\n    // print simple artifact string example\r\n    System.out.println(&quot;artifact = &quot; + artifact);\r\n}\r\n```\r\nA sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\r\n```\r\nThis way the list of artifacts is returned sorted by version numbers. \r\n\r\n### Find a specific artifact\r\n```java\r\nArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\r\n```\r\nFetches the version details for a specific artifact.\r\n\r\n### Find artifacts with matching groupId(s)\r\nFind all artifacts with groupId `de.westemeyer` (exact match):\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\r\n```\r\n\r\nFind all artifacts where groupId *starts with* `de.westemeyer`:\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\r\n```\r\n\r\nSort result by version number:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\r\n```\r\n\r\n### Implement custom actions on list of artifacts\r\nBy supplying a lambda, the very first example could be implemented like this:\r\n```java\r\nArtifactVersionCollector.iterateArtifacts(a -&gt; {\r\n    System.out.println(a);\r\n    return false;\r\n});\r\n```\r\n\r\n# Installation\r\nAdd these two tags to all `pom.xml` files, or maybe to a company master pom somewhere:\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;generate-service&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n# Feedback\r\nIt would be great if maybe some people could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don&#39;t hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.\r\n\r\n# Licence\r\nAll of the source code is open source, free to use even for commercial products (MIT licence).","title":"Retrieve version from maven pom.xml in code","body":"<p>I had the same problem in my daytime job. Even though many of the answers will help to find the version for a specific artifact, we needed to get the version for modules/jars that are not a direct dependency of the application. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.</p>\n<p>That's why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.</p>\n<h1>The idea</h1>\n<ol>\n<li>use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.</li>\n<li>Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.</li>\n</ol>\n<h1>The solution</h1>\n<p>Part one of the solution is the <code>artifact-version-service</code> library, which can be found on <a href=\"https://github.com/swesteme/artifact-version-service\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-service\" rel=\"nofollow noreferrer\">MavenCentral</a> now. It covers the service definition and a few ways to get the artifact versions at runtime.</p>\n<p>Part two is the <code>artifact-version-maven-plugin</code>, which can also be found on <a href=\"https://github.com/swesteme/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">MavenCentral</a>. It is used to have a hassle-free generator implementing the service definition for each of the artifacts.</p>\n<h1>Examples</h1>\n<h3>Fetching all modules with coordinates</h3>\n<p>No more reading jar manifests, just a simple method call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// iterate list of artifact dependencies\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\n    // print simple artifact string example\n    System.out.println(&quot;artifact = &quot; + artifact);\n}\n</code></pre>\n<p>A sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\n</code></pre>\n<p>This way the list of artifacts is returned sorted by version numbers.</p>\n<h3>Find a specific artifact</h3>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\n</code></pre>\n<p>Fetches the version details for a specific artifact.</p>\n<h3>Find artifacts with matching groupId(s)</h3>\n<p>Find all artifacts with groupId <code>de.westemeyer</code> (exact match):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\n</code></pre>\n<p>Find all artifacts where groupId <em>starts with</em> <code>de.westemeyer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\n</code></pre>\n<p>Sort result by version number:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\n</code></pre>\n<h3>Implement custom actions on list of artifacts</h3>\n<p>By supplying a lambda, the very first example could be implemented like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.iterateArtifacts(a -&gt; {\n    System.out.println(a);\n    return false;\n});\n</code></pre>\n<h1>Installation</h1>\n<p>Add these two tags to all <code>pom.xml</code> files, or maybe to a company master pom somewhere:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;generate-service&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<h1>Feedback</h1>\n<p>It would be great if maybe some people could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don't hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.</p>\n<h1>Licence</h1>\n<p>All of the source code is open source, free to use even for commercial products (MIT licence).</p>\n"},{"tags":[],"owner":{"account_id":10878966,"reputation":734,"user_id":8000120,"display_name":"J. Jerez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663635083,"creation_date":1663635083,"answer_id":73780575,"question_id":3697449,"body_markdown":"It&#39;s very easy and no configuration is needed if you use Spring with Maven.\r\nAccording to the [“Automatic Property Expansion Using Maven”][1] official documentation you can automatically expand properties from the Maven project by using resource filtering. If you use the spring-boot-starter-parent, you can then refer to your Maven ‘project properties’ with @..@ placeholders, as shown in the following example:\r\n\r\n    project.version=@project.version@\r\n    project.artifactId=@project.artifactId@\r\n\r\nAnd you can retrieve it with @Value annotation in any class:\r\n\r\n    @Value(&quot;${project.artifactId}@${project.version}&quot;)\r\n    private String RELEASE;\r\n\r\nI hope this helps!\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.properties-and-configuration.expand-properties.maven","title":"Retrieve version from maven pom.xml in code","body":"<p>It's very easy and no configuration is needed if you use Spring with Maven.\nAccording to the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.properties-and-configuration.expand-properties.maven\" rel=\"nofollow noreferrer\">“Automatic Property Expansion Using Maven”</a> official documentation you can automatically expand properties from the Maven project by using resource filtering. If you use the spring-boot-starter-parent, you can then refer to your Maven ‘project properties’ with @..@ placeholders, as shown in the following example:</p>\n<pre><code>project.version=@project.version@\nproject.artifactId=@project.artifactId@\n</code></pre>\n<p>And you can retrieve it with @Value annotation in any class:</p>\n<pre><code>@Value(&quot;${project.artifactId}@${project.version}&quot;)\nprivate String RELEASE;\n</code></pre>\n<p>I hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":6228011,"reputation":1121,"user_id":4845660,"display_name":"Loic Mouchard"},"score":0,"creation_date":1669022092,"post_id":74491832,"comment_id":131539615,"body_markdown":"this is a comment, not an answer.","body":"this is a comment, not an answer."},{"owner":{"account_id":4350664,"reputation":508,"user_id":3551126,"accept_rate":30,"display_name":"teik"},"score":0,"creation_date":1669168039,"post_id":74491832,"comment_id":131581615,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33217158)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33217158\">From Review</a>"}],"tags":[],"owner":{"account_id":26229192,"reputation":1,"user_id":19905455,"display_name":"Maryna Vasylenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785287,"creation_date":1668784909,"answer_id":74491832,"question_id":3697449,"body_markdown":"Accepted answer worked for me once in the step #2 I changed &lt;code&gt;${project.version}&lt;/code&gt; to &lt;code&gt;${pom.version}&lt;/code&gt;","title":"Retrieve version from maven pom.xml in code","body":"<p>Accepted answer worked for me once in the step #2 I changed <code>${project.version}</code> to <code>${pom.version}</code></p>\n"}],"owner":{"account_id":196153,"reputation":4695,"user_id":439450,"accept_rate":79,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273639,"favorite_count":0,"down_vote_count":0,"up_vote_count":333,"accepted_answer_id":3697482,"answer_count":16,"score":333,"last_activity_date":1668785287,"creation_date":1284341769,"question_id":3697449,"body_markdown":"What is the simplest way to retrieve version number from maven&#39;s pom.xml in code, i.e., programatically?","title":"Retrieve version from maven pom.xml in code","body":"<p>What is the simplest way to retrieve version number from maven's pom.xml in code, i.e., programatically?</p>\n"},{"tags":["java","spring","synchronization","infinispan","thread-synchronization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668761773,"post_id":74487003,"comment_id":131489651,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668785083,"creation_date":1668785083,"answer_id":74491869,"question_id":74487003,"body_markdown":"There are several ways to implement this:\r\n\r\n - using counters https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#remotecache_countermanager-hotrod-client-api\r\n - using transactions https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#hotrod_transactions\r\n - using versioned operations ","title":"Java synchronisation with infinispan","body":"<p>There are several ways to implement this:</p>\n<ul>\n<li>using counters <a href=\"https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#remotecache_countermanager-hotrod-client-api\" rel=\"nofollow noreferrer\">https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#remotecache_countermanager-hotrod-client-api</a></li>\n<li>using transactions <a href=\"https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#hotrod_transactions\" rel=\"nofollow noreferrer\">https://infinispan.org/docs/stable/titles/hotrod_java/hotrod_java.html#hotrod_transactions</a></li>\n<li>using versioned operations</li>\n</ul>\n"}],"owner":{"account_id":25896963,"reputation":1,"user_id":19623399,"display_name":"Gagan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668785083,"creation_date":1668761231,"question_id":74487003,"body_markdown":"I need to display number of users currently logged in to an application..\r\nI am using one cache to store the current number of user.\r\nAnd i am doing this operations,\r\nWhen the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.\r\nBut i am facing problem when multiple users logged at the same time..\r\nCan any plz help me resolve this issue?\r\n\r\nI need to display number of users currently logged in to an application..\r\n\r\nI am using one cache to store the current number of user.\r\n\r\nAnd i am doing this operations,\r\n\r\nWhen the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.\r\n\r\nBut i am facing problem when multiple users logged at the same time..\r\n\r\nCan any plz help me resolve this issue?","title":"Java synchronisation with infinispan","body":"<p>I need to display number of users currently logged in to an application..\nI am using one cache to store the current number of user.\nAnd i am doing this operations,\nWhen the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.\nBut i am facing problem when multiple users logged at the same time..\nCan any plz help me resolve this issue?</p>\n<p>I need to display number of users currently logged in to an application..</p>\n<p>I am using one cache to store the current number of user.</p>\n<p>And i am doing this operations,</p>\n<p>When the user logged to an application i am fetching the number of users from the cache and incrementing the value by 1 since one more user has logged in.</p>\n<p>But i am facing problem when multiple users logged at the same time..</p>\n<p>Can any plz help me resolve this issue?</p>\n"},{"tags":["java","kotlin","gradle","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":11569135,"reputation":302,"user_id":8476400,"display_name":"orby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668784909,"creation_date":1668784600,"answer_id":74491776,"question_id":73186364,"body_markdown":"Change to \r\n```groovy\r\ntestImplementation &quot;org.junit.jupiter:junit-jupiter-engine&quot;\r\n```","title":"Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine]","body":"<p>Change to</p>\n<pre><code>testImplementation &quot;org.junit.jupiter:junit-jupiter-engine&quot;\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1668784909,"creation_date":1659296124,"question_id":73186364,"body_markdown":"jdk 1.8.\r\n\r\nGradle 7.3\r\n\r\n\r\nIn my java project I want to write unit test by Kotlin. So I try this:\r\n\r\nin build.gradle:\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\r\n        id &#39;idea&#39;\r\n        id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\r\n        id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.7.10&#39;\r\n    }\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    dependencies {\r\n        // The dependencies in the BOM will be dependency constraints in our build, but the versions in the BOM are forced for used dependencies.\r\n        implementation enforcedPlatform(&#39;org.springframework.boot:spring-boot-dependencies:2.7.2&#39;)\r\n    \r\n        // Use dependency defined in BOM.\r\n        // Version is not needed, because the version defined in the BOM is a dependency constraint that is used.\r\n        implementation &#39;org.xerial:sqlite-jdbc&#39;\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib&#39;\r\n        testImplementation(\r\n                &#39;org.assertj:assertj-core&#39;,\r\n                &#39;org.junit.jupiter:junit-jupiter-api&#39;\r\n        )\r\n        testRuntime(&#39;org.junit.jupiter:junit-jupiter-engine&#39;)\r\n    \r\n        // This version will be overridden by the one found in the BOM\r\n        implementation &#39;log4j:log4j:1.2.17&#39;\r\n        implementation &#39;com.toedter:jcalendar:1.4&#39;\r\n        \r\n    }\r\n\r\nUsage:\r\n\r\n    ./gradlew build\r\n\r\nBut I get error in this line:\r\n\r\n    testRuntime(&#39;org.junit.jupiter:junit-jupiter-engine&#39;)\r\n\r\nError:\r\n\r\n     What went wrong:\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\n","title":"Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine]","body":"<p>jdk 1.8.</p>\n<p>Gradle 7.3</p>\n<p>In my java project I want to write unit test by Kotlin. So I try this:</p>\n<p>in build.gradle:</p>\n<pre><code>plugins {\n    id 'application'\n    id &quot;com.nocwriter.runsql&quot; version &quot;1.0.3&quot;\n    id 'idea'\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\n    id 'org.jetbrains.kotlin.jvm' version '1.7.10'\n}\napply plugin: &quot;io.spring.dependency-management&quot;\ndependencies {\n    // The dependencies in the BOM will be dependency constraints in our build, but the versions in the BOM are forced for used dependencies.\n    implementation enforcedPlatform('org.springframework.boot:spring-boot-dependencies:2.7.2')\n\n    // Use dependency defined in BOM.\n    // Version is not needed, because the version defined in the BOM is a dependency constraint that is used.\n    implementation 'org.xerial:sqlite-jdbc'\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib'\n    testImplementation(\n            'org.assertj:assertj-core',\n            'org.junit.jupiter:junit-jupiter-api'\n    )\n    testRuntime('org.junit.jupiter:junit-jupiter-engine')\n\n    // This version will be overridden by the one found in the BOM\n    implementation 'log4j:log4j:1.2.17'\n    implementation 'com.toedter:jcalendar:1.4'\n    \n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>./gradlew build\n</code></pre>\n<p>But I get error in this line:</p>\n<pre><code>testRuntime('org.junit.jupiter:junit-jupiter-engine')\n</code></pre>\n<p>Error:</p>\n<pre><code> What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Could not find method testRuntime() for arguments [org.junit.jupiter:junit-jupiter-engine] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","websocket","spring-websocket"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668785853,"post_id":72628157,"comment_id":131497912,"body_markdown":"so, is there a question ?","body":"so, is there a question ?"}],"owner":{"account_id":22649623,"reputation":53,"user_id":16824491,"display_name":"WebDev1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668783919,"creation_date":1655281804,"question_id":72628157,"body_markdown":"I&#39;m a backend dev coming from a Python/Django background, and there, there&#39;s a module that introduces channels to websockets.\r\n\r\nFor example, user 1 and 2 can subscribe to a channel i.e. `/payment/1` and user 3 and 4 can subscribe to a channel `/payment/2`. If a message gets sent to a channel, then only those users would get the message.\r\n\r\nI&#39;m finding the Spring websocket somewhat difficult to understand, so this might be something trivial. ","title":"How to subscribe a user to a websocket channel in Java Spring Boot?","body":"<p>I'm a backend dev coming from a Python/Django background, and there, there's a module that introduces channels to websockets.</p>\n<p>For example, user 1 and 2 can subscribe to a channel i.e. <code>/payment/1</code> and user 3 and 4 can subscribe to a channel <code>/payment/2</code>. If a message gets sent to a channel, then only those users would get the message.</p>\n<p>I'm finding the Spring websocket somewhat difficult to understand, so this might be something trivial.</p>\n"},{"tags":["java","android","sqlite","kotlin"],"comments":[{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":2,"creation_date":1657620229,"post_id":72950355,"comment_id":128848507,"body_markdown":"Why don&#39;t you use the insert() method: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insert(java.lang.String,%20java.lang.String,%20android.content.ContentValues)?","body":"Why don&#39;t you use the insert() method: <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insert(java.lang.String,%20java.lang.String,%20android.content.ContentValues)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/database/sqlite/&hellip;</a>?"},{"owner":{"account_id":2613857,"reputation":2238,"user_id":2263395,"accept_rate":60,"display_name":"Tom Raganowicz"},"score":0,"creation_date":1657635117,"post_id":72950355,"comment_id":128854184,"body_markdown":"@forpas Actually `insert` worked well, but was throwing constraint exceptions. Once replaced with: `insertWithOnConflict` works flawlessly. It&#39;s great that Android API can make up some feature lacking natively in that SQLite version.","body":"@forpas Actually <code>insert</code> worked well, but was throwing constraint exceptions. Once replaced with: <code>insertWithOnConflict</code> works flawlessly. It&#39;s great that Android API can make up some feature lacking natively in that SQLite version."}],"answers":[{"tags":[],"owner":{"account_id":2613857,"reputation":2238,"user_id":2263395,"accept_rate":60,"display_name":"Tom Raganowicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668783261,"creation_date":1657622022,"answer_id":72950908,"question_id":72950355,"body_markdown":"I changed to [native insert][1]. I have no clue why `changes()` erroneously returns 1 sometimes.\r\n\r\n    fun insertFilePath(filePath : String) : Boolean {\r\n        val db = this.writableDatabase\r\n    \r\n        val values = ContentValues()\r\n        values.put(&quot;filePath&quot;, filePath)\r\n            \r\n        // Classic `insert` function was throwing SQLiteConstraintException errors\r\n        val rowId = db.insertWithOnConflict(&quot;Files&quot;, null, values, CONFLICT_IGNORE)\r\n    \r\n        if (rowId != -1L) {\r\n            LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, rowId: $rowId&quot;)\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insertWithOnConflict(java.lang.String,%20java.lang.String,%20android.content.ContentValues,%20int)","title":"On INSERT, changes() sometimes returns 1 even if row already existed","body":"<p>I changed to <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#insertWithOnConflict(java.lang.String,%20java.lang.String,%20android.content.ContentValues,%20int)\" rel=\"nofollow noreferrer\">native insert</a>. I have no clue why <code>changes()</code> erroneously returns 1 sometimes.</p>\n<pre><code>fun insertFilePath(filePath : String) : Boolean {\n    val db = this.writableDatabase\n\n    val values = ContentValues()\n    values.put(&quot;filePath&quot;, filePath)\n        \n    // Classic `insert` function was throwing SQLiteConstraintException errors\n    val rowId = db.insertWithOnConflict(&quot;Files&quot;, null, values, CONFLICT_IGNORE)\n\n    if (rowId != -1L) {\n        LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, rowId: $rowId&quot;)\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2613857,"reputation":2238,"user_id":2263395,"accept_rate":60,"display_name":"Tom Raganowicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1668783261,"creation_date":1657619514,"question_id":72950355,"body_markdown":"Table:\r\n\r\n    CREATE TABLE UniqueFile (\r\n        filePath TEXT NOT NULL UNIQUE,\r\n        created INTEGER NOT NULL DEFAULT (strftime(&#39;%s&#39;, &#39;now&#39;))\r\n    )\r\n\r\nwhich along with SQLite&#39;s `changes()` function I use to determine if file entry is inserted for the first time or not:\r\n\r\n```\r\nfun insertFilePath(filePath : String) : Boolean {\r\n        val db = this.writableDatabase\r\n        db.execSQL(&quot;INSERT OR IGNORE INTO UniqueFile (filePath) VALUES(?)&quot;, arrayOf(filePath)) // This will silently hide any other errors. Better alternative is `INSERT ... ON CONFLICT DO NOTHING`, however it requires SQLite 3.24.0+\r\n\r\n        val cursor = db.rawQuery(&quot;select changes()&quot;, null)\r\n        cursor.moveToFirst()\r\n        val changes = cursor.getInt(0)\r\n        cursor.close()\r\n\r\n        if (changes &gt; 0) {\r\n            LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, changes: $changes&quot;)\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nSometimes `changes()` returns `1` even for existing entry.\r\n\r\n```\r\nFirst: [2022-07-12 08:27:26]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\r\nSecond: [2022-07-12 08:28:32]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\r\n```\r\n\r\n`created` field is set to `1657614446` which translates to 08:27:26. It&#39;s like second INSERT was at 08:28:32, but it wasn&#39;t as there is no duplicate. Yet `changes()` returned 1.\r\n\r\nThere is no other function which reads/deletes/writes to this table, however there may be multiple threads opening connections to database. I use singleton approach to make sure only one database connection is open at a time.\r\n\r\n```\r\nclass DatabaseHandler private constructor(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {\r\n\r\n \t\tprivate var instance: DatabaseHandler? = null\r\n        fun getInstance(context: Context) : DatabaseHandler {\r\n            if (instance == null) {\r\n                instance = DatabaseHandler(context)             \r\n            }\r\n\r\n            return instance as DatabaseHandler\r\n        }\r\n}\r\n```\r\n\r\nHow could this happen? I would happily get rid of `INSERT OR IGNORE` but need to support devices with SQLite not supporting `ON DUPLICATE` clause.","title":"On INSERT, changes() sometimes returns 1 even if row already existed","body":"<p>Table:</p>\n<pre><code>CREATE TABLE UniqueFile (\n    filePath TEXT NOT NULL UNIQUE,\n    created INTEGER NOT NULL DEFAULT (strftime('%s', 'now'))\n)\n</code></pre>\n<p>which along with SQLite's <code>changes()</code> function I use to determine if file entry is inserted for the first time or not:</p>\n<pre><code>fun insertFilePath(filePath : String) : Boolean {\n        val db = this.writableDatabase\n        db.execSQL(&quot;INSERT OR IGNORE INTO UniqueFile (filePath) VALUES(?)&quot;, arrayOf(filePath)) // This will silently hide any other errors. Better alternative is `INSERT ... ON CONFLICT DO NOTHING`, however it requires SQLite 3.24.0+\n\n        val cursor = db.rawQuery(&quot;select changes()&quot;, null)\n        cursor.moveToFirst()\n        val changes = cursor.getInt(0)\n        cursor.close()\n\n        if (changes &gt; 0) {\n            LogHelper.log(this, &quot;Inserted UNIQUE filePath: $filePath, changes: $changes&quot;)\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n<p>Sometimes <code>changes()</code> returns <code>1</code> even for existing entry.</p>\n<pre><code>First: [2022-07-12 08:27:26]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\nSecond: [2022-07-12 08:28:32]: Inserted UNIQUE filePath: /storage/emulated/0/somefile.jpg\n</code></pre>\n<p><code>created</code> field is set to <code>1657614446</code> which translates to 08:27:26. It's like second INSERT was at 08:28:32, but it wasn't as there is no duplicate. Yet <code>changes()</code> returned 1.</p>\n<p>There is no other function which reads/deletes/writes to this table, however there may be multiple threads opening connections to database. I use singleton approach to make sure only one database connection is open at a time.</p>\n<pre><code>class DatabaseHandler private constructor(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {\n\n        private var instance: DatabaseHandler? = null\n        fun getInstance(context: Context) : DatabaseHandler {\n            if (instance == null) {\n                instance = DatabaseHandler(context)             \n            }\n\n            return instance as DatabaseHandler\n        }\n}\n</code></pre>\n<p>How could this happen? I would happily get rid of <code>INSERT OR IGNORE</code> but need to support devices with SQLite not supporting <code>ON DUPLICATE</code> clause.</p>\n"},{"tags":["java","maven","migration","java-8","javadoc"],"comments":[{"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"score":0,"creation_date":1365448570,"post_id":15886209,"comment_id":22620180,"body_markdown":"Hi @75inchpianist, I have updated the question, in fact they are errors (although surprisingly enough the last line of the error refers to a warning, as you can see in the generated output). The project is not installed in my local repository, so it is not considered as a simple warning :(","body":"Hi @75inchpianist, I have updated the question, in fact they are errors (although surprisingly enough the last line of the error refers to a warning, as you can see in the generated output). The project is not installed in my local repository, so it is not considered as a simple warning :("},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":0,"creation_date":1392748243,"post_id":15886209,"comment_id":33097398,"body_markdown":"For GoogleJuice: I got the error &quot;error: bad use of &#39;&gt;&#39;&quot; because I had a big arrow in JavaDoc comment","body":"For GoogleJuice: I got the error &quot;error: bad use of &#39;&gt;&#39;&quot; because I had a big arrow in JavaDoc comment"},{"owner":{"account_id":1044212,"reputation":3002,"user_id":1049542,"accept_rate":36,"display_name":"Sergey Ponomarev"},"score":3,"creation_date":1439311114,"post_id":15886209,"comment_id":51804324,"body_markdown":"Maybe it will be useful for someone: You can easily find all this incomplete tags in IntelliJ by running inspection Ctrl+Alt+Shift+i  &quot;Declaration has JavaDoc problems&quot;","body":"Maybe it will be useful for someone: You can easily find all this incomplete tags in IntelliJ by running inspection Ctrl+Alt+Shift+i  &quot;Declaration has JavaDoc problems&quot;"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1509495119,"post_id":15886209,"comment_id":81039961,"body_markdown":"This is not maven, it is the javadoc program which got a lot stricter in Java 8.","body":"This is not maven, it is the javadoc program which got a lot stricter in Java 8."}],"answers":[{"comments":[{"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"score":0,"creation_date":1369254913,"post_id":16700705,"comment_id":24039622,"body_markdown":"Thanks for the idea @Martin. With that property at least I can build and install the project again, however I am still missing the java doc jar (I need it to deploy to Maven central). I updated my question with the details of the experiment.","body":"Thanks for the idea @Martin. With that property at least I can build and install the project again, however I am still missing the java doc jar (I need it to deploy to Maven central). I updated my question with the details of the experiment."},{"owner":{"account_id":6122783,"reputation":143,"user_id":4775820,"display_name":"ZachSand"},"score":0,"creation_date":1588703049,"post_id":16700705,"comment_id":108999303,"body_markdown":"This was the most sufficient answer for me. I just wanted to test building during ongoing development when javadocs were still incomplete.","body":"This was the most sufficient answer for me. I just wanted to test building during ongoing development when javadocs were still incomplete."}],"tags":[],"owner":{"account_id":302679,"reputation":9593,"user_id":611182,"display_name":"Martin Ellis"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1369253273,"creation_date":1369253273,"answer_id":16700705,"question_id":15886209,"body_markdown":"You could try setting the `failOnError` property (see [plugin documentation][1]) to `false`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;failOnError&gt;false&lt;/failOnError&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAs you can see from the docs, the default value is `true`.\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#failOnError","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>You could try setting the <code>failOnError</code> property (see <a href=\"http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#failOnError\">plugin documentation</a>) to <code>false</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;failOnError&gt;false&lt;/failOnError&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>As you can see from the docs, the default value is <code>true</code>.</p>\n"},{"comments":[{"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"score":19,"creation_date":1392113897,"post_id":16743137,"comment_id":32806796,"body_markdown":"Is there a way to make this work with JDK 8 _as well as_ JDK 7? It fails on JDK 7 because its `javadoc` doesn&#39;t know this option.","body":"Is there a way to make this work with JDK 8 <i>as well as</i> JDK 7? It fails on JDK 7 because its <code>javadoc</code> doesn&#39;t know this option."},{"owner":{"account_id":101340,"reputation":2439,"user_id":272742,"accept_rate":64,"display_name":"turbanoff"},"score":0,"creation_date":1447285041,"post_id":16743137,"comment_id":55097379,"body_markdown":"BTW, Xdoclint parameter can be configured more flexible. E.g. to disable annoying HTML checks just use `-Xdoclint:-html`","body":"BTW, Xdoclint parameter can be configured more flexible. E.g. to disable annoying HTML checks just use <code>-Xdoclint:-html</code>"},{"owner":{"account_id":4309055,"reputation":1901,"user_id":3984006,"accept_rate":96,"display_name":"user16655"},"score":0,"creation_date":1450429568,"post_id":16743137,"comment_id":56445442,"body_markdown":"This doesn&#39;t work for me unfortunately (Java 1.8, maven 3.0.5) Any ideas why?","body":"This doesn&#39;t work for me unfortunately (Java 1.8, maven 3.0.5) Any ideas why?"},{"owner":{"account_id":1212497,"reputation":44775,"user_id":1180785,"accept_rate":76,"display_name":"Dave"},"score":9,"creation_date":1460487258,"post_id":16743137,"comment_id":60762392,"body_markdown":"While this answers the question asked here, I&#39;d like to advise future visitors to check peterh&#39;s answer first: http://stackoverflow.com/a/34809831/1180785 (most people hitting this issue will only have a handful of places to fix, so it&#39;s better to fix them than disable the check!)","body":"While this answers the question asked here, I&#39;d like to advise future visitors to check peterh&#39;s answer first: <a href=\"http://stackoverflow.com/a/34809831/1180785\">stackoverflow.com/a/34809831/1180785</a> (most people hitting this issue will only have a handful of places to fix, so it&#39;s better to fix them than disable the check!)"},{"owner":{"account_id":2993713,"reputation":1124,"user_id":2540679,"accept_rate":80,"display_name":"Mehrad Sadegh"},"score":0,"creation_date":1512964640,"post_id":16743137,"comment_id":82452531,"body_markdown":"This does not work with maven-javadoc-plugin version 3.0.0. I had to go back to version 3.0.0-M1 for making -Xdoclint:none work.","body":"This does not work with maven-javadoc-plugin version 3.0.0. I had to go back to version 3.0.0-M1 for making -Xdoclint:none work."},{"owner":{"account_id":3795925,"reputation":1959,"user_id":3151014,"display_name":"t7tran"},"score":9,"creation_date":1513684695,"post_id":16743137,"comment_id":82738599,"body_markdown":"For maven-javadoc-plugin, use `&lt;doclint&gt;none&lt;/doclint&gt;`. See https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#doclint","body":"For maven-javadoc-plugin, use <code>&lt;doclint&gt;none&lt;&#47;doclint&gt;</code>. See <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#doclint\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/&hellip;</a>"},{"owner":{"account_id":981692,"reputation":768,"user_id":1001248,"accept_rate":100,"display_name":"fdelsert"},"score":11,"creation_date":1513760068,"post_id":16743137,"comment_id":82770821,"body_markdown":"Also since maven-javadoc-plugin 3.0.0, `&lt;additionalparam/&gt;` is replaced by `&lt;additionalOptions/&gt;`. See https://issues.apache.org/jira/browse/MJAVADOC-475","body":"Also since maven-javadoc-plugin 3.0.0, <code>&lt;additionalparam&#47;&gt;</code> is replaced by <code>&lt;additionalOptions&#47;&gt;</code>. See <a href=\"https://issues.apache.org/jira/browse/MJAVADOC-475\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MJAVADOC-475</a>"},{"owner":{"account_id":2375654,"reputation":12371,"user_id":2079103,"accept_rate":83,"display_name":"clearlight"},"score":0,"creation_date":1549204480,"post_id":16743137,"comment_id":95811733,"body_markdown":"By &quot;configuration&quot;, what do you mean excatly? *Really* helps to be specific about steps to apply fixes. Please don&#39;t assume some noob or someone focused on a different layer knows much about some sub-invocation and how it&#39;s configured.  To save time, could someone mention anything about how to quickly locate the maven configuration on macOS, Linux ...? On Debian Linux running `dpkg -L maven` implies `/etc/maven/settings`. And running: `find . -name &quot;*plugin*&quot;` in `/usr/share/maven` (also listed in `dpkg -L output`) shows. `./lib/maven-plugin-api-3.x.jar`","body":"By &quot;configuration&quot;, what do you mean excatly? <i>Really</i> helps to be specific about steps to apply fixes. Please don&#39;t assume some noob or someone focused on a different layer knows much about some sub-invocation and how it&#39;s configured.  To save time, could someone mention anything about how to quickly locate the maven configuration on macOS, Linux ...? On Debian Linux running <code>dpkg -L maven</code> implies <code>&#47;etc&#47;maven&#47;settings</code>. And running: <code>find . -name &quot;*plugin*&quot;</code> in <code>&#47;usr&#47;share&#47;maven</code> (also listed in <code>dpkg -L output</code>) shows. <code>.&#47;lib&#47;maven-plugin-api-3.x.jar</code>"}],"tags":[],"owner":{"account_id":104631,"reputation":14320,"user_id":279614,"display_name":"Subhas"},"comment_count":8,"down_vote_count":1,"up_vote_count":426,"is_accepted":true,"score":425,"last_activity_date":1582292267,"creation_date":1369427319,"answer_id":16743137,"question_id":15886209,"body_markdown":"The best solution would be to fix the javadoc errors. If for some reason that is not possible (ie: auto generated source code) then you can disable this check.\r\n\r\n[DocLint is a new feature in Java 8](http://openjdk.java.net/jeps/172), which is summarized as:\r\n\r\n&gt; Provide a means to detect errors in Javadoc comments early in the\r\n&gt; development cycle and in a way that is easily linked back to the\r\n&gt; source code.\r\n\r\nThis is enabled by default, and will run a whole lot of checks before generating Javadocs. You need to turn this off for Java 8 as specified [in this thread](http://mail.openjdk.java.net/pipermail/build-infra-dev/2013-January/002899.html). You&#39;ll have to add this to your maven configuration:\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;java8-doclint-disabled&lt;/id&gt;\r\n        &lt;activation&gt;\r\n          &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n        &lt;/activation&gt;\r\n        &lt;properties&gt;\r\n          &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;jar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;reportPlugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n              &lt;/reportPlugins&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n**For maven-javadoc-plugin 3.0.0+:**\r\nReplace\r\n\r\n    &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n\r\nwith\r\n\r\n    &lt;doclint&gt;none&lt;/doclint&gt;\r\n\r\n","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>The best solution would be to fix the javadoc errors. If for some reason that is not possible (ie: auto generated source code) then you can disable this check.</p>\n\n<p><a href=\"http://openjdk.java.net/jeps/172\" rel=\"noreferrer\">DocLint is a new feature in Java 8</a>, which is summarized as:</p>\n\n<blockquote>\n  <p>Provide a means to detect errors in Javadoc comments early in the\n  development cycle and in a way that is easily linked back to the\n  source code.</p>\n</blockquote>\n\n<p>This is enabled by default, and will run a whole lot of checks before generating Javadocs. You need to turn this off for Java 8 as specified <a href=\"http://mail.openjdk.java.net/pipermail/build-infra-dev/2013-January/002899.html\" rel=\"noreferrer\">in this thread</a>. You'll have to add this to your maven configuration:</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;java8-doclint-disabled&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n    &lt;/activation&gt;\n    &lt;properties&gt;\n      &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\n    &lt;/properties&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.9&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;jar&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;reportPlugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\n              &lt;/configuration&gt;\n            &lt;/plugin&gt;\n          &lt;/reportPlugins&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>For maven-javadoc-plugin 3.0.0+:</strong>\nReplace</p>\n\n<pre><code>&lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;doclint&gt;none&lt;/doclint&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1767180,"reputation":166,"user_id":1612774,"display_name":"Max Nad"},"score":1,"creation_date":1442000147,"post_id":22296107,"comment_id":52919960,"body_markdown":"The best solution would probably be a Hybrid between your solution and the one Zapp provided bellow.\n\nIf you leave it this way, the mvn site:site command will still be crashing.\nYou should create a profile activated by the 1.8 jdk that sets a global property.","body":"The best solution would probably be a Hybrid between your solution and the one Zapp provided bellow.  If you leave it this way, the mvn site:site command will still be crashing. You should create a profile activated by the 1.8 jdk that sets a global property."}],"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"comment_count":1,"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1408108866,"creation_date":1394442988,"answer_id":22296107,"question_id":15886209,"body_markdown":"The easiest approach to get things working with both java 8 and java 7 is to use a profile in the build:\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;doclint-java8-disable&lt;/id&gt;\r\n        &lt;activation&gt;\r\n          &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n        &lt;/activation&gt;\r\n    \r\n        &lt;build&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n              &lt;configuration&gt;\r\n                &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>The easiest approach to get things working with both java 8 and java 7 is to use a profile in the build:</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;doclint-java8-disable&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n    &lt;/activation&gt;\n\n    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1241855,"reputation":1252,"user_id":1204270,"accept_rate":12,"display_name":"Peter N. Steinmetz"},"score":3,"creation_date":1439310758,"post_id":22981151,"comment_id":51804113,"body_markdown":"This is an important point as the lack of this setting in the site-plugin activation will cause release:perform to fail while release:prepare has worked fine. It can be a very annoying problem to find and fix.","body":"This is an important point as the lack of this setting in the site-plugin activation will cause release:perform to fail while release:prepare has worked fine. It can be a very annoying problem to find and fix."},{"owner":{"account_id":1671693,"reputation":2724,"user_id":1538041,"accept_rate":57,"display_name":"Martin H&#246;ller"},"score":0,"creation_date":1453729661,"post_id":22981151,"comment_id":57716375,"body_markdown":"Note, that the configuration of the `maven-javadoc-plugin` via the `&lt;reportPlugins&gt;` section of the `maven-site-plugin` is [not recommended](https://maven.apache.org/plugins/maven-site-plugin/maven-3.html#Configuration_formats) for recent versions of Maven 3.","body":"Note, that the configuration of the <code>maven-javadoc-plugin</code> via the <code>&lt;reportPlugins&gt;</code> section of the <code>maven-site-plugin</code> is <a href=\"https://maven.apache.org/plugins/maven-site-plugin/maven-3.html#Configuration_formats\" rel=\"nofollow noreferrer\">not recommended</a> for recent versions of Maven 3."},{"owner":{"account_id":948242,"reputation":389,"user_id":975019,"accept_rate":60,"display_name":"Skystrider"},"score":0,"creation_date":1677175405,"post_id":22981151,"comment_id":133290863,"body_markdown":"I used mvn clean -Darguments=&quot;-Dmaven.javadoc.skip=true&quot; release:perform","body":"I used mvn clean -Darguments=&quot;-Dmaven.javadoc.skip=true&quot; release:perform"}],"tags":[],"owner":{"account_id":2648113,"reputation":336,"user_id":2290418,"display_name":"Jakub Skoczen"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1397114130,"creation_date":1397114130,"answer_id":22981151,"question_id":15886209,"body_markdown":"Overriding `maven-javadoc-plugin` configuration only, does not fix the problem with `mvn site` (used e.g during the release stage). Here&#39;s what I had to do:\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;doclint-java8-disable&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;reportPlugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n              &lt;/reportPlugins&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Overriding <code>maven-javadoc-plugin</code> configuration only, does not fix the problem with <code>mvn site</code> (used e.g during the release stage). Here's what I had to do:</p>\n\n<pre><code>&lt;profile&gt;\n  &lt;id&gt;doclint-java8-disable&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;reportPlugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n              &lt;/configuration&gt;\n            &lt;/plugin&gt;\n          &lt;/reportPlugins&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2391748,"reputation":3436,"user_id":2091470,"accept_rate":58,"display_name":"Oliver Gondža"},"score":1,"creation_date":1549264784,"post_id":26806103,"comment_id":95826283,"body_markdown":"@clearlight, both `build` and `profiles` are top-level blocks in maven `pom.xml`. https://maven.apache.org/pom.html#Build.","body":"@clearlight, both <code>build</code> and <code>profiles</code> are top-level blocks in maven <code>pom.xml</code>. <a href=\"https://maven.apache.org/pom.html#Build\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html#Build</a>."}],"tags":[],"owner":{"account_id":2391748,"reputation":3436,"user_id":2091470,"accept_rate":58,"display_name":"Oliver Gondža"},"comment_count":1,"down_vote_count":1,"up_vote_count":67,"is_accepted":false,"score":66,"last_activity_date":1552397791,"creation_date":1415379054,"answer_id":26806103,"question_id":15886209,"body_markdown":"Here is the most concise way I am aware of to ignore doclint warnings regardless of java version used. There is no need to duplicate plugin configuration in multiple profiles with slight modifications.\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;doclint-java8-disable&lt;/id&gt;\r\n        &lt;activation&gt;\r\n          &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\r\n        &lt;/activation&gt;\r\n        &lt;properties&gt;\r\n          &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    \r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;attach-javadocs&lt;/id&gt; &lt;!-- The actual id should be apparent from maven output --&gt;\r\n              &lt;configuration&gt;\r\n                &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        ...\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nTested on oracle/open jdk 6, 7, 8 and 11.","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Here is the most concise way I am aware of to ignore doclint warnings regardless of java version used. There is no need to duplicate plugin configuration in multiple profiles with slight modifications.</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;doclint-java8-disable&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n    &lt;/activation&gt;\n    &lt;properties&gt;\n      &lt;javadoc.opts&gt;-Xdoclint:none&lt;/javadoc.opts&gt;\n    &lt;/properties&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.9.1&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;attach-javadocs&lt;/id&gt; &lt;!-- The actual id should be apparent from maven output --&gt;\n          &lt;configuration&gt;\n            &lt;additionalparam&gt;${javadoc.opts}&lt;/additionalparam&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n    ...\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Tested on oracle/open jdk 6, 7, 8 and 11.</p>\n"},{"comments":[{"owner":{"account_id":944240,"reputation":2486,"user_id":971813,"accept_rate":84,"display_name":"acvcu"},"score":2,"creation_date":1443463280,"post_id":30274114,"comment_id":53493943,"body_markdown":"this is the only solution that worked for me. I read the answer here as well: http://blog.joda.org/2014/02/turning-off-doclint-in-jdk-8-javadoc.html","body":"this is the only solution that worked for me. I read the answer here as well: <a href=\"http://blog.joda.org/2014/02/turning-off-doclint-in-jdk-8-javadoc.html\" rel=\"nofollow noreferrer\">blog.joda.org/2014/02/turning-off-doclint-in-jdk-8-javadoc.h&zwnj;&#8203;tml</a>"}],"tags":[],"owner":{"account_id":1525852,"reputation":1543,"user_id":1424321,"display_name":"zapp"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1431769453,"creation_date":1431769453,"answer_id":30274114,"question_id":15886209,"body_markdown":"Add into the global properties section in the pom file:\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n            &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\r\n        &lt;/properties&gt;\r\n\r\nThe common solution provided here in the other answers (adding that property in the plugins section) did not work for some reason. Only by setting it globally I could build the javadoc jar successfully.","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Add into the global properties section in the pom file:</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;properties&gt;\n        &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n    &lt;/properties&gt;\n</code></pre>\n\n<p>The common solution provided here in the other answers (adding that property in the plugins section) did not work for some reason. Only by setting it globally I could build the javadoc jar successfully.</p>\n"},{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1453990705,"post_id":34591533,"comment_id":57850511,"body_markdown":"It is the best solution for me. It works for bots java 7 and java 8. But the way it work is a kind of magic :. How does this parameter &quot;additionalParam&quot; add to  the plugin javadoc (and not to the others)","body":"It is the best solution for me. It works for bots java 7 and java 8. But the way it work is a kind of magic :. How does this parameter &quot;additionalParam&quot; add to  the plugin javadoc (and not to the others)"},{"owner":{"account_id":2728269,"reputation":8653,"user_id":2352699,"accept_rate":36,"display_name":"Fred Porci&#250;ncula"},"score":1,"creation_date":1453994340,"post_id":34591533,"comment_id":57853563,"body_markdown":"@pdem The additional parameter is added to Maven, not to the Javadoc plugin. This solution works whether you&#39;re explicitly using the plugin or not.","body":"@pdem The additional parameter is added to Maven, not to the Javadoc plugin. This solution works whether you&#39;re explicitly using the plugin or not."},{"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"score":3,"creation_date":1516966610,"post_id":34591533,"comment_id":83913943,"body_markdown":"Since maven-javadoc-plugin 3.0.0, you have to add`&lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;` or `&lt;doclint&gt;none&lt;/doclint&gt;` property to your `&lt;properties&gt;`","body":"Since maven-javadoc-plugin 3.0.0, you have to add<code>&lt;additionalJOption&gt;-Xdoclint:none&lt;&#47;additionalJOption&gt;</code> or <code>&lt;doclint&gt;none&lt;&#47;doclint&gt;</code> property to your <code>&lt;properties&gt;</code>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1526751519,"post_id":34591533,"comment_id":87870477,"body_markdown":"Can you clarify: with maven-javadoc-plugin 3.0.0 and above, if I simply specify `&lt;doclint&gt;none&lt;/doclint&gt;` (with no JDK version-based activation), will it still fail on JDK less than 1.8, or does maven-javadoc-plugin automatically detect whether the `doclint` option is supported by the current version of Java?","body":"Can you clarify: with maven-javadoc-plugin 3.0.0 and above, if I simply specify <code>&lt;doclint&gt;none&lt;&#47;doclint&gt;</code> (with no JDK version-based activation), will it still fail on JDK less than 1.8, or does maven-javadoc-plugin automatically detect whether the <code>doclint</code> option is supported by the current version of Java?"}],"tags":[],"owner":{"account_id":2728269,"reputation":8653,"user_id":2352699,"accept_rate":36,"display_name":"Fred Porci&#250;ncula"},"comment_count":4,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1516966974,"creation_date":1451911603,"answer_id":34591533,"question_id":15886209,"body_markdown":"# The shortest solution that will work with any Java version:\n\n&lt;!-- language: lang-xml --&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;disable-java8-doclint&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\nJust add that to your POM and you&#39;re good to go.\n\nThis is basically [@ankon&#39;s answer](https://stackoverflow.com/a/22296107/2352699) plus [@zapp&#39;s answer](https://stackoverflow.com/a/30274114/2352699).\n\n---\n### For maven-javadoc-plugin 3.0.0 users:\nReplace\n\n`&lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;` \n\nby \n\n`&lt;doclint&gt;none&lt;/doclint&gt;`","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<h1>The shortest solution that will work with any Java version:</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;disable-java8-doclint&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;jdk&gt;[1.8,)&lt;/jdk&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Just add that to your POM and you're good to go.</p>\n<p>This is basically <a href=\"https://stackoverflow.com/a/22296107/2352699\">@ankon's answer</a> plus <a href=\"https://stackoverflow.com/a/30274114/2352699\">@zapp's answer</a>.</p>\n<hr />\n<h3>For maven-javadoc-plugin 3.0.0 users:</h3>\n<p>Replace</p>\n<p><code>&lt;additionalparam&gt;-Xdoclint:none&lt;/additionalparam&gt;</code></p>\n<p>by</p>\n<p><code>&lt;doclint&gt;none&lt;/doclint&gt;</code></p>\n"},{"comments":[{"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"score":1,"creation_date":1470944834,"post_id":34809831,"comment_id":65168437,"body_markdown":"Completely agree here, that said, for generated code you can simply tell the plugin to not process code in a given package by adding a excludePackageNames section in the javadoc plugin`s configuration section.  see https://maven.apache.org/plugins/maven-javadoc-plugin/examples/exclude-package-names.html","body":"Completely agree here, that said, for generated code you can simply tell the plugin to not process code in a given package by adding a excludePackageNames section in the javadoc plugin`s configuration section.  see <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/examples/exclude-package-names.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/examples/&hellip;</a>"},{"owner":{"account_id":2375654,"reputation":12371,"user_id":2079103,"accept_rate":83,"display_name":"clearlight"},"score":1,"creation_date":1549205767,"post_id":34809831,"comment_id":95812033,"body_markdown":"That&#39;s SO much easier said than done since a lot of us running into these problems are trying to build unfamiliar opensource code that has a Maven dependency somewhere and we have no idea how it all works, so have no easy way to address the underlying causes. There&#39;s too much myopia about the context. People need to generalize the scope of the answers more and provide more specifics about how to make the fixes.","body":"That&#39;s SO much easier said than done since a lot of us running into these problems are trying to build unfamiliar opensource code that has a Maven dependency somewhere and we have no idea how it all works, so have no easy way to address the underlying causes. There&#39;s too much myopia about the context. People need to generalize the scope of the answers more and provide more specifics about how to make the fixes."},{"owner":{"account_id":948242,"reputation":389,"user_id":975019,"accept_rate":60,"display_name":"Skystrider"},"score":0,"creation_date":1677173262,"post_id":34809831,"comment_id":133290195,"body_markdown":"&quot;javadoc: error - Error decoding percent encoded characters&quot; I haven&#39;t found any way to fix the javadoc (doesn&#39;t help that there is no indication where the problem lies within a small/simple internal library (I don&#39;t know if it&#39;s a maven dependency or not)) - mvn javadoc:fix made a bunch of additions to my files but did not fix the underlying issue. I&#39;m going to have to disable doclint to get mvn release:perform to work","body":"&quot;javadoc: error - Error decoding percent encoded characters&quot; I haven&#39;t found any way to fix the javadoc (doesn&#39;t help that there is no indication where the problem lies within a small/simple internal library (I don&#39;t know if it&#39;s a maven dependency or not)) - mvn javadoc:fix made a bunch of additions to my files but did not fix the underlying issue. I&#39;m going to have to disable doclint to get mvn release:perform to work"},{"owner":{"account_id":948242,"reputation":389,"user_id":975019,"accept_rate":60,"display_name":"Skystrider"},"score":0,"creation_date":1677175371,"post_id":34809831,"comment_id":133290853,"body_markdown":"I used mvn clean -Darguments=&quot;-Dmaven.javadoc.skip=true&quot; release:perform","body":"I used mvn clean -Darguments=&quot;-Dmaven.javadoc.skip=true&quot; release:perform"}],"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":4,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1471169155,"creation_date":1452856518,"answer_id":34809831,"question_id":15886209,"body_markdown":"I don&#39;t think just turning off DocLint is a good solution, at least not long term. It is good that Javadoc has become a bit more strict so the right way to fix the build problem is to **fix the underlying problem**. Yes, you&#39;ll ultimately need to fix those source code files.\r\n\r\nHere are the things to look out for that you could previously get away with:\r\n\r\n* Malformed HTML (for example a missing end-tag, un-escaped brackets, etc)\r\n* Invalid `{@link }`s. (same goes for similar tags such as `@see`)\r\n* Invalid `@author` values. This used to be accepted : `@author John &lt;john.doe@mine.com&gt;` but not so anymore because of the un-escaped brackets.\r\n* HTML tables in Javadoc now require a summary or caption. See [this question][1] for explanation.\r\n\r\nYou&#39;ll simply have to fix your source code files and keep building your Javadoc until it can build without a failure. Cumbersome yes, but personally I like when I have brought my projects up to DocLint level because it means I can be more confident that the Javadoc I produce is actually what I intend.\r\n\r\nThere&#39;s of course the problem if you are generating Javadoc on some source code you&#39;ve not produced yourself, for example because it comes from some code generator, e.g. [wsimport][2]. Strange that Oracle didn&#39;t prepare their own tools for JDK8 compliance before actually releasing JDK8. It seems [it won&#39;t be fixed until Java 9][3]. Only in this particular case I suggest to turn off DocLint as documented elsewhere on this page.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/22528767/1504556\r\n  [2]: http://docs.oracle.com/javase/8/docs/technotes/tools/index.html#webservices\r\n  [3]: http://openjdk.java.net/jeps/212","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I don't think just turning off DocLint is a good solution, at least not long term. It is good that Javadoc has become a bit more strict so the right way to fix the build problem is to <strong>fix the underlying problem</strong>. Yes, you'll ultimately need to fix those source code files.</p>\n\n<p>Here are the things to look out for that you could previously get away with:</p>\n\n<ul>\n<li>Malformed HTML (for example a missing end-tag, un-escaped brackets, etc)</li>\n<li>Invalid <code>{@link }</code>s. (same goes for similar tags such as <code>@see</code>)</li>\n<li>Invalid <code>@author</code> values. This used to be accepted : <code>@author John &lt;john.doe@mine.com&gt;</code> but not so anymore because of the un-escaped brackets.</li>\n<li>HTML tables in Javadoc now require a summary or caption. See <a href=\"https://stackoverflow.com/q/22528767/1504556\">this question</a> for explanation.</li>\n</ul>\n\n<p>You'll simply have to fix your source code files and keep building your Javadoc until it can build without a failure. Cumbersome yes, but personally I like when I have brought my projects up to DocLint level because it means I can be more confident that the Javadoc I produce is actually what I intend.</p>\n\n<p>There's of course the problem if you are generating Javadoc on some source code you've not produced yourself, for example because it comes from some code generator, e.g. <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/index.html#webservices\" rel=\"noreferrer\">wsimport</a>. Strange that Oracle didn't prepare their own tools for JDK8 compliance before actually releasing JDK8. It seems <a href=\"http://openjdk.java.net/jeps/212\" rel=\"noreferrer\">it won't be fixed until Java 9</a>. Only in this particular case I suggest to turn off DocLint as documented elsewhere on this page.</p>\n"},{"tags":[],"owner":{"account_id":6266229,"reputation":118,"user_id":4871886,"display_name":"Raghu Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459652330,"creation_date":1459652330,"answer_id":36381155,"question_id":15886209,"body_markdown":"I&#39;m not sure if this is going to help, but even i faced the exact same problem very recently with **oozie-4.2.0** version.  After reading through the above answers i have just added the maven option through command line and it worked for me.  So, just sharing here.\r\n\r\nI&#39;m using java **1.8.0_77**, haven&#39;t tried with java 1.7  \r\n\r\nbin/mkdistro.sh -DskipTests **-Dmaven.javadoc.opts=&#39;-Xdoclint:-html&#39;**  ","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I'm not sure if this is going to help, but even i faced the exact same problem very recently with <strong>oozie-4.2.0</strong> version.  After reading through the above answers i have just added the maven option through command line and it worked for me.  So, just sharing here.</p>\n\n<p>I'm using java <strong>1.8.0_77</strong>, haven't tried with java 1.7  </p>\n\n<p>bin/mkdistro.sh -DskipTests <strong>-Dmaven.javadoc.opts='-Xdoclint:-html'</strong>  </p>\n"},{"comments":[{"owner":{"account_id":239842,"reputation":30136,"user_id":509706,"accept_rate":77,"display_name":"Wilfred Hughes"},"score":3,"creation_date":1501509008,"post_id":37008481,"comment_id":77796219,"body_markdown":"This is particularly useful because you can use it Jenkins too. Set &#39;Global MAVEN_OPTS&#39; (under &#39;Configure System&#39;) to `-Dadditionalparam=-Xdoclint:none` and all your builds will work with Java 8.","body":"This is particularly useful because you can use it Jenkins too. Set &#39;Global MAVEN_OPTS&#39; (under &#39;Configure System&#39;) to <code>-Dadditionalparam=-Xdoclint:none</code> and all your builds will work with Java 8."},{"owner":{"account_id":8579296,"reputation":734,"user_id":7019931,"display_name":"Roman Khomyshynets"},"score":0,"creation_date":1554812178,"post_id":37008481,"comment_id":97881784,"body_markdown":"`mvn org.apache.maven.plugins:maven-javadoc-plugin:3.1.0:jar -DadditionalJOption=-Xdoclint:none` - it worked for me","body":"<code>mvn org.apache.maven.plugins:maven-javadoc-plugin:3.1.0:jar -DadditionalJOption=-Xdoclint:none</code> - it worked for me"}],"tags":[],"owner":{"account_id":2034272,"reputation":4862,"user_id":1817029,"accept_rate":84,"display_name":"My-Name-Is"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1462289799,"creation_date":1462289799,"answer_id":37008481,"question_id":15886209,"body_markdown":"Since it depends on the version of your JRE which is used to run the maven command you propably dont want to disable `DocLint` per default in your pom.xml\r\n\r\nHence, from command line you can use the switch `-Dadditionalparam=-Xdoclint:none`.\r\n\r\nExample: `mvn clean install -Dadditionalparam=-Xdoclint:none`","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Since it depends on the version of your JRE which is used to run the maven command you propably dont want to disable <code>DocLint</code> per default in your pom.xml</p>\n\n<p>Hence, from command line you can use the switch <code>-Dadditionalparam=-Xdoclint:none</code>.</p>\n\n<p>Example: <code>mvn clean install -Dadditionalparam=-Xdoclint:none</code></p>\n"},{"tags":[],"owner":{"account_id":2199170,"reputation":821,"user_id":1944056,"accept_rate":75,"display_name":"mpasko256"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1508076333,"creation_date":1508076333,"answer_id":46755921,"question_id":15886209,"body_markdown":"I would like to add some insight into other answers\r\n\r\nIn my case \r\n&gt; -Xdoclint:none\r\n\r\nDidn&#39;t work.\r\n\r\nLet start with that, in my project, I didn&#39;t really need javadoc at all. Only some necessary plugins had got a build time dependency on it.\r\n\r\nSo, the most simple way solve my problem was: \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I would like to add some insight into other answers</p>\n\n<p>In my case </p>\n\n<blockquote>\n  <p>-Xdoclint:none</p>\n</blockquote>\n\n<p>Didn't work.</p>\n\n<p>Let start with that, in my project, I didn't really need javadoc at all. Only some necessary plugins had got a build time dependency on it.</p>\n\n<p>So, the most simple way solve my problem was: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;skip&gt;true&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1012572,"reputation":982,"user_id":1024811,"display_name":"Peter W"},"score":0,"creation_date":1530566789,"post_id":47914847,"comment_id":89271997,"body_markdown":"See `doclint` documentation here: http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#doclint","body":"See <code>doclint</code> documentation here: <a href=\"http://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#doclint\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/&hellip;</a>"},{"owner":{"account_id":2375654,"reputation":12371,"user_id":2079103,"accept_rate":83,"display_name":"clearlight"},"score":0,"creation_date":1549206261,"post_id":47914847,"comment_id":95812172,"body_markdown":"Resolved it for me building OpenGrok from github source in Feb&#39;19. Should mention your patch goes into `pom.xml` in project&#39;s src/build directory. In my case all I had to do was search for `maven-javadoc-plugin` and then go to the `&lt;configuration&gt;&lt;/configuration&gt;` block already present and add `&lt;doclint&gt;none&lt;/doclint&gt;`. As easy as all of this is once one knows, the context here is I&#39;m trying to fix a different bug in OpenGrok and have never used Maven before and don&#39;t want to have to recurse into another sub project just to have to figure out how to apply quick fixes.","body":"Resolved it for me building OpenGrok from github source in Feb&#39;19. Should mention your patch goes into <code>pom.xml</code> in project&#39;s src/build directory. In my case all I had to do was search for <code>maven-javadoc-plugin</code> and then go to the <code>&lt;configuration&gt;&lt;&#47;configuration&gt;</code> block already present and add <code>&lt;doclint&gt;none&lt;&#47;doclint&gt;</code>. As easy as all of this is once one knows, the context here is I&#39;m trying to fix a different bug in OpenGrok and have never used Maven before and don&#39;t want to have to recurse into another sub project just to have to figure out how to apply quick fixes."}],"tags":[],"owner":{"account_id":6273007,"reputation":392,"user_id":7347179,"display_name":"Balachandar"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1513806601,"creation_date":1513806601,"answer_id":47914847,"question_id":15886209,"body_markdown":"The configuration property name has been changed in the latest version of maven-javadoc-plugin which is 3.0.0. \r\n\r\nHence the &amp;lt;additionalparam&amp;gt; will not work. So we have to modify it as below.\r\n\r\n       &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n             &lt;doclint&gt;none&lt;/doclint&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>The configuration property name has been changed in the latest version of maven-javadoc-plugin which is 3.0.0. </p>\n\n<p>Hence the &lt;additionalparam&gt; will not work. So we have to modify it as below.</p>\n\n<pre><code>   &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;configuration&gt;\n         &lt;doclint&gt;none&lt;/doclint&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5517095,"reputation":399,"user_id":4381451,"display_name":"amanzoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517410486,"creation_date":1517410486,"answer_id":48545078,"question_id":15886209,"body_markdown":"As of maven-javadoc-plugin 3.0.0 you should have been using [additionalJOption][1] to set an additional Javadoc option, so if you would like Javadoc to disable doclint, you should add the following property. \r\n    \r\n    &lt;properties&gt;\r\n        ...\r\n        &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\r\n        ...\r\n    &lt;properties&gt;\r\n\r\nYou should also mention the version of maven-javadoc-plugin as 3.0.0 or higher. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\t\r\n\t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOption","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>As of maven-javadoc-plugin 3.0.0 you should have been using <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOption\" rel=\"noreferrer\">additionalJOption</a> to set an additional Javadoc option, so if you would like Javadoc to disable doclint, you should add the following property. </p>\n\n<pre><code>&lt;properties&gt;\n    ...\n    &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\n    ...\n&lt;properties&gt;\n</code></pre>\n\n<p>You should also mention the version of maven-javadoc-plugin as 3.0.0 or higher. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;    \n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7762785,"reputation":1,"user_id":6393084,"display_name":"Mariusz Borsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518239255,"creation_date":1518226160,"answer_id":48716350,"question_id":15886209,"body_markdown":"I&#39;m a bit late to the party, but I was forced to search for workaround too, ended up here, and then found it.\r\n\r\nHere&#39;s what works for me:-\r\n\r\n    export JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\r\n\r\nAnd then start your Maven build, any Linux distribution build etc. Nice thing about it that it doesn&#39;t require Maven *config* files modification - I couldn&#39;t do that as my objective was to rebuild a bunch of **Centos** rpm packages, so had to go really deep.","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>I'm a bit late to the party, but I was forced to search for workaround too, ended up here, and then found it.</p>\n\n<p>Here's what works for me:-</p>\n\n<pre><code>export JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\n</code></pre>\n\n<p>And then start your Maven build, any Linux distribution build etc. Nice thing about it that it doesn't require Maven <em>config</em> files modification - I couldn't do that as my objective was to rebuild a bunch of <strong>Centos</strong> rpm packages, so had to go really deep.</p>\n"},{"comments":[{"owner":{"account_id":1925323,"reputation":1521,"user_id":1735931,"accept_rate":43,"display_name":"Akom"},"score":0,"creation_date":1527106906,"post_id":48798566,"comment_id":88006463,"body_markdown":"This works for maven-javadoc-plugin 2.4 but starting in 2.5 (and all the way through 3.0.0), this causes an error: &quot;Exit code: 1 - javadoc: error - invalid flag: -Xdoclint:none&quot;.  So the solution is brittle.","body":"This works for maven-javadoc-plugin 2.4 but starting in 2.5 (and all the way through 3.0.0), this causes an error: &quot;Exit code: 1 - javadoc: error - invalid flag: -Xdoclint:none&quot;.  So the solution is brittle."},{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":2,"creation_date":1538099255,"post_id":48798566,"comment_id":92033908,"body_markdown":"When using this with ```mvn release:perform``` the syntax needs to be ```mvn release:perform -Darguments=&quot;-Dmaven.javadoc.skip=true&quot;```.","body":"When using this with <code>mvn release:perform</code> the syntax needs to be <code>mvn release:perform -Darguments=&quot;-Dmaven.javadoc.skip=true&quot;</code>."}],"tags":[],"owner":{"account_id":11895985,"reputation":41,"user_id":8705407,"display_name":"snj"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574354886,"creation_date":1518655575,"answer_id":48798566,"question_id":15886209,"body_markdown":"Added below\r\n\r\n    JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\r\n\r\nInto Jenkins job :  \r\n\r\n***Configuration &gt; Build Environment &gt; Inject environment variables to the build process &gt; Properties Content***\r\n\r\nSolved my problem of code building through Jenkins Maven :-)","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Added below</p>\n\n<pre><code>JAVA_TOOL_OPTIONS=-DadditionalJOption=-Xdoclint:none\n</code></pre>\n\n<p>Into Jenkins job :  </p>\n\n<p><strong><em>Configuration > Build Environment > Inject environment variables to the build process > Properties Content</em></strong></p>\n\n<p>Solved my problem of code building through Jenkins Maven :-)</p>\n"},{"tags":[],"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526481029,"creation_date":1526294274,"answer_id":50328297,"question_id":15886209,"body_markdown":"To ignore missing `@param` and `@return` tags, it&#39;s enough to disable the `missing` [doclint group][1]. This way, the javadoc will still be checked for higher level and syntax issues:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;doclint&gt;all,-missing&lt;/doclint&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nNote that this is for plugin version 3.0 or newer.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#BEJEFABE","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>To ignore missing <code>@param</code> and <code>@return</code> tags, it's enough to disable the <code>missing</code> <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#BEJEFABE\" rel=\"nofollow noreferrer\">doclint group</a>. This way, the javadoc will still be checked for higher level and syntax issues:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;doclint&gt;all,-missing&lt;/doclint&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Note that this is for plugin version 3.0 or newer.</p>\n"},{"comments":[{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1542735703,"post_id":51729196,"comment_id":93672391,"body_markdown":"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOption","body":"<a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#additionalJOption\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/&hellip;</a>"},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1542738143,"post_id":51729196,"comment_id":93673569,"body_markdown":"Sometimes `-Xdoclint` itself is not enough, but additional args are needed. Newer versions of the `maven-javadoc-plugin` provide `additionalJOptions` for that, older don&#39;t. A workaround is: `&lt;additionalJOption&gt;&quot;-Xdoclint:none&quot; &quot;--allow-script-in-comments&quot;&lt;/additionalJOption&gt;` Quotes are important, else the plugin adds them and assumes only one arg instead of two, resulting in `wrong args` errors.","body":"Sometimes <code>-Xdoclint</code> itself is not enough, but additional args are needed. Newer versions of the <code>maven-javadoc-plugin</code> provide <code>additionalJOptions</code> for that, older don&#39;t. A workaround is: <code>&lt;additionalJOption&gt;&quot;-Xdoclint:none&quot; &quot;--allow-script-in-comments&quot;&lt;&#47;additionalJOption&gt;</code> Quotes are important, else the plugin adds them and assumes only one arg instead of two, resulting in <code>wrong args</code> errors."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1547228495,"post_id":51729196,"comment_id":95134183,"body_markdown":"The former works on Windows only, on Linux instead: `javadoc: error - Illegal package name: &quot;&quot;-Xdoclint:none&quot; &quot;--allow-script-in-comments&quot;&quot;` The outer quotes are added by the logging statement and not present on the shell. I guess the problem is that on Windows `javadoc` is executed by `cmd.exe`, which parses one large string as command line and splits the `additionalJOption`as intended. On Linux the args are passed individually to the process directly and `additionalJOption` gets passed as one argument, leading to the error.","body":"The former works on Windows only, on Linux instead: <code>javadoc: error - Illegal package name: &quot;&quot;-Xdoclint:none&quot; &quot;--allow-script-in-comments&quot;&quot;</code> The outer quotes are added by the logging statement and not present on the shell. I guess the problem is that on Windows <code>javadoc</code> is executed by <code>cmd.exe</code>, which parses one large string as command line and splits the <code>additionalJOption</code>as intended. On Linux the args are passed individually to the process directly and <code>additionalJOption</code> gets passed as one argument, leading to the error."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1547231125,"post_id":51729196,"comment_id":95135199,"body_markdown":"According to `Process Monitor`, `cmd.exe` is not used. Java most likely simply builds one large command line and passes that to `CreateProcess`, so that it gets  parsed by Windows as intended: Splitting args at spaces while honouring quotes.","body":"According to <code>Process Monitor</code>, <code>cmd.exe</code> is not used. Java most likely simply builds one large command line and passes that to <code>CreateProcess</code>, so that it gets  parsed by Windows as intended: Splitting args at spaces while honouring quotes."}],"tags":[],"owner":{"account_id":4093009,"reputation":89,"user_id":3360534,"accept_rate":0,"display_name":"rawrintheclouds"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533651978,"creation_date":1533651978,"answer_id":51729196,"question_id":15886209,"body_markdown":" So, save yourself some hours that I didn&#39;t and try this if it seems not to work:\r\n  \r\n\r\n     &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\r\n\r\nThe tag is changed for newer versions. ","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>So, save yourself some hours that I didn't and try this if it seems not to work:</p>\n\n<pre><code> &lt;additionalJOption&gt;-Xdoclint:none&lt;/additionalJOption&gt;\n</code></pre>\n\n<p>The tag is changed for newer versions. </p>\n"},{"comments":[{"owner":{"account_id":465807,"reputation":456,"user_id":870149,"display_name":"darkstar_mx"},"score":0,"creation_date":1605117355,"post_id":64775740,"comment_id":114556048,"body_markdown":"Update: according to this issue: https://issues.apache.org/jira/browse/MNG-6871, it should work in Java version lower than JDK 8 update release 1.8.0_u121, otherwise it would complain you passed an unrecognized flag.","body":"Update: according to this issue: <a href=\"https://issues.apache.org/jira/browse/MNG-6871\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MNG-6871</a>, it should work in Java version lower than JDK 8 update release 1.8.0_u121, otherwise it would complain you passed an unrecognized flag."}],"tags":[],"owner":{"account_id":465807,"reputation":456,"user_id":870149,"display_name":"darkstar_mx"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605037488,"creation_date":1605037488,"answer_id":64775740,"question_id":15886209,"body_markdown":"In my case I was using a parent pom (not sure it was the real cause since I was running against the clock), maven 2.x and java 1.6 were used, for some reason above solutions didn&#39;t work, so I added the following profile and managed it to make it run:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;myapp&lt;/name&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;description&gt;My App&lt;/description&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;parent-artifact&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;doclint-java6-disable&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;jdk&gt;[1.6,)&lt;/jdk&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;additionalparam&gt;--allow-script-in-comments&lt;/additionalparam&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    &lt;/project&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>In my case I was using a parent pom (not sure it was the real cause since I was running against the clock), maven 2.x and java 1.6 were used, for some reason above solutions didn't work, so I added the following profile and managed it to make it run:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myapp&lt;/name&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;My App&lt;/description&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-artifact&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;doclint-java6-disable&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;jdk&gt;[1.6,)&lt;/jdk&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;additionalparam&gt;--allow-script-in-comments&lt;/additionalparam&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9347215,"reputation":431,"user_id":6938132,"display_name":"srihitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668782586,"creation_date":1668782073,"answer_id":74491250,"question_id":15886209,"body_markdown":"Below configuration worked for me\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnError&gt;false&lt;/failOnError&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Below configuration worked for me</p>\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;failOnError&gt;false&lt;/failOnError&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":415316,"reputation":8582,"user_id":790053,"accept_rate":62,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225150,"favorite_count":0,"down_vote_count":0,"up_vote_count":346,"accepted_answer_id":16743137,"answer_count":19,"score":346,"last_activity_date":1668782586,"creation_date":1365445416,"question_id":15886209,"body_markdown":"Since I use Maven I have been able to build and install in my local repository projects that have incomplete Javadoc tags (for example, a missing parameter). \r\n\r\nHowever, since I migrated to Java 8 (1.8.0-ea-b90) Maven is absolutely strict about missing documentation tags and show me lots of Javadoc errors related to Javadoc problems when I try to build or install a project where the Javadoc is not &quot;perfect&quot;. Some of the projects I am trying to compile and install in my local repository are third party projects from which I do not have control. So the workaround of just fixing all the Javadocs in all these projects does not seem to be feasable in my scenario.\r\n\r\nThis is a small part of the output I see when I execute `mvn clean package install` in my project:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 9.026s\r\n    [INFO] Finished at: Mon Apr 08 21:06:17 CEST 2013\r\n    [INFO] Final Memory: 27M/437M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:2.9:jar (attach-javadocs) on project jpc: MavenReportException: Error while creating archive:\r\n    [ERROR] Exit code: 1 - /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:10: error: @param name not found\r\n    [ERROR] * @param terms the terms to assert\r\n    [ERROR] ^\r\n    [ERROR] /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:11: warning: no description for @return\r\n    [ERROR] * @return\r\n    [ERROR] ^\r\n\r\n\r\n\r\nThe Javadoc Maven plugin is configured like this in my POM:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAs I said before, everything is working fine if I go back to Java 7. \r\nMaybe is this a bug related to Maven running in Java 8?\r\nHow could I make it work (i.e., being able to build the Javadoc of the project and install its code in my local repository) with Java 8?\r\nI have tested with both Maven 3.0.3 and 3.0.5 in OSX.\r\n\r\n**UPDATE:**\r\n\r\nIf I change my Javadoc plugin configuration with `&lt;failOnError&gt;false&lt;/failOnError&gt;` (thanks Martin):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThen the project is installed in my local repository. However, the Javadoc JAR is still not generated.\r\n\r\nA fragment of the output I see in the console with this new configuration is:\r\n\r\n&gt; [ERROR] MavenReportException: Error while creating archive:  Exit\r\n&gt; code: 1 - /Users/....java:18: warning: no @param  ... Command line\r\n&gt; was: /Library/Java/Home/bin/javadoc @options @packages\r\n&gt; \r\n&gt; Refer to the generated Javadoc files in\r\n&gt; &#39;/Users/sergioc/Documents/workspaces/heal/minitoolbox/target/apidocs&#39;\r\n&gt; dir.\r\n&gt; \r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeJavadocCommandLine(AbstractJavadocMojo.java:5043)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeReport(AbstractJavadocMojo.java:1990)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.javadoc.JavadocJar.execute(JavadocJar.java:181)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n&gt; \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) \tat\r\n&gt; org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) \tat\r\n&gt; org.apache.maven.cli.MavenCli.execute(MavenCli.java:537) \tat\r\n&gt; org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196) \tat\r\n&gt; org.apache.maven.cli.MavenCli.main(MavenCli.java:141) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:491) \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n\r\nAny workaround about how to build the sources, install the project and generate the Javadoc JAR in one step as it was working with Java 7?","title":"Maven is not working in Java 8 when Javadoc tags are incomplete","body":"<p>Since I use Maven I have been able to build and install in my local repository projects that have incomplete Javadoc tags (for example, a missing parameter). </p>\n\n<p>However, since I migrated to Java 8 (1.8.0-ea-b90) Maven is absolutely strict about missing documentation tags and show me lots of Javadoc errors related to Javadoc problems when I try to build or install a project where the Javadoc is not \"perfect\". Some of the projects I am trying to compile and install in my local repository are third party projects from which I do not have control. So the workaround of just fixing all the Javadocs in all these projects does not seem to be feasable in my scenario.</p>\n\n<p>This is a small part of the output I see when I execute <code>mvn clean package install</code> in my project:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 9.026s\n[INFO] Finished at: Mon Apr 08 21:06:17 CEST 2013\n[INFO] Final Memory: 27M/437M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:2.9:jar (attach-javadocs) on project jpc: MavenReportException: Error while creating archive:\n[ERROR] Exit code: 1 - /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:10: error: @param name not found\n[ERROR] * @param terms the terms to assert\n[ERROR] ^\n[ERROR] /Users/sergioc/Documents/workspaces/heal/jpc/src/main/java/org/jpc/engine/prolog/PrologDatabase.java:11: warning: no description for @return\n[ERROR] * @return\n[ERROR] ^\n</code></pre>\n\n<p>The Javadoc Maven plugin is configured like this in my POM:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>As I said before, everything is working fine if I go back to Java 7. \nMaybe is this a bug related to Maven running in Java 8?\nHow could I make it work (i.e., being able to build the Javadoc of the project and install its code in my local repository) with Java 8?\nI have tested with both Maven 3.0.3 and 3.0.5 in OSX.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If I change my Javadoc plugin configuration with <code>&lt;failOnError&gt;false&lt;/failOnError&gt;</code> (thanks Martin):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.9&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Then the project is installed in my local repository. However, the Javadoc JAR is still not generated.</p>\n\n<p>A fragment of the output I see in the console with this new configuration is:</p>\n\n<blockquote>\n  <p>[ERROR] MavenReportException: Error while creating archive:  Exit\n  code: 1 - /Users/....java:18: warning: no @param  ... Command line\n  was: /Library/Java/Home/bin/javadoc @options @packages</p>\n  \n  <p>Refer to the generated Javadoc files in\n  '/Users/sergioc/Documents/workspaces/heal/minitoolbox/target/apidocs'\n  dir.</p>\n  \n  <p>at\n  org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeJavadocCommandLine(AbstractJavadocMojo.java:5043)\n    at\n  org.apache.maven.plugin.javadoc.AbstractJavadocMojo.executeReport(AbstractJavadocMojo.java:1990)\n    at\n  org.apache.maven.plugin.javadoc.JavadocJar.execute(JavadocJar.java:181)\n    at\n  org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)   at\n  org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)  at\n  org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)  at\n  org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)   at\n  org.apache.maven.cli.MavenCli.main(MavenCli.java:141)     at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:491)     at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)</p>\n</blockquote>\n\n<p>Any workaround about how to build the sources, install the project and generate the Javadoc JAR in one step as it was working with Java 7?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1668773553,"post_id":74489364,"comment_id":131493539,"body_markdown":"Why do you extract a known word? Are you counting matches?","body":"Why do you extract a known word? Are you counting matches?"},{"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"score":0,"creation_date":1668773681,"post_id":74489364,"comment_id":131493578,"body_markdown":"@WiktorStribiżew Yes, I want to count the total number of occurences of the word, &quot;variant&quot; in this case, in the text.","body":"@WiktorStribiżew Yes, I want to count the total number of occurences of the word, &quot;variant&quot; in this case, in the text."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1668773855,"post_id":74489364,"comment_id":131493637,"body_markdown":"You need to extract all matches with `(?&lt;!\\\\)(?:\\\\{2})*\\&quot;[^\\&quot;\\\\]*(?:\\\\.[^\\&quot;\\\\]*)*\\&quot;` regex and then find all occurrences of `variant` inside those matches, there is no way with a single regex here.","body":"You need to extract all matches with <code>(?&lt;!\\\\)(?:\\\\{2})*\\&quot;[^\\&quot;\\\\]*(?:\\\\.[^\\&quot;\\\\]*)*\\&quot;</code> regex and then find all occurrences of <code>variant</code> inside those matches, there is no way with a single regex here."}],"answers":[{"comments":[{"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"score":0,"creation_date":1669033888,"post_id":74491357,"comment_id":131543596,"body_markdown":"it works, but it founds only 2 occurences , instead of 8 of string `&quot;variant&quot;` in this example: https://regex101.com/r/SYiBDH/1","body":"it works, but it founds only 2 occurences , instead of 8 of string <code>&quot;variant&quot;</code> in this example: <a href=\"https://regex101.com/r/SYiBDH/1\" rel=\"nofollow noreferrer\">regex101.com/r/SYiBDH/1</a>"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1669033959,"post_id":74491357,"comment_id":131543614,"body_markdown":"@Javadkhan [It works and finds all 8 `variant` occurrences](https://ideone.com/D3toKy).","body":"@Javadkhan <a href=\"https://ideone.com/D3toKy\" rel=\"nofollow noreferrer\">It works and finds all 8 <code>variant</code> occurrences</a>."},{"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"score":0,"creation_date":1669034355,"post_id":74491357,"comment_id":131543752,"body_markdown":"Yes it works perfectly, sorry I had a mistake in my code. Thanks for your help!","body":"Yes it works perfectly, sorry I had a mistake in my code. Thanks for your help!"}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668782556,"creation_date":1668782556,"answer_id":74491357,"question_id":74489364,"body_markdown":"You can match all occurrences of the strings inside double quotes and then count the `variant` occurrences inside the  matches:\r\n```java\r\nString s = &quot;variant \\&quot;if and only if 5 divides by i without remainder, then it prints \\\\\\&quot;i + \\\\\\&quot; variant: \\\\\\&quot; + variant\\\\\\&quot;\\&quot; variant&quot;;\r\n\r\n\t\t\r\nPattern pattern = Pattern.compile(&quot;(?s)(?&lt;!\\\\\\\\)(?:\\\\\\\\{2})*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;);\r\nMatcher matcher = pattern.matcher(s);\r\nint count = 0;\r\nwhile (matcher.find()){\r\n\tcount += matcher.group().split(&quot;variant&quot;, -1).length-1;\r\n}\r\nSystem.out.println(count);\r\n```\r\nSee the [online demo][1]. So, the `variant &quot;if and only if 5 divides by i without remainder, then it prints \\&quot;i + \\&quot; variant: \\&quot; + variant\\&quot;&quot; variant` string contains two occurrences of `variant`.\r\n\r\nThe regex is `(?&lt;!\\\\)(?:\\\\{2})*&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;`, see [its demo][2].\r\n\r\n*Details*:\r\n\r\n - `(?&lt;!\\\\)` - no `\\` allowed immediately on the left\r\n - `(?:\\\\{2})*` - zero or more double backslashes\r\n - `&quot;` - a `&quot;` char\r\n - `[^&quot;\\\\]*` - zero or more chars other than `&quot;` and `\\`\r\n - `(?:\\\\.[^&quot;\\\\]*)*`  - zero or more sequences of any escaped char and then zero or more chars other than `\\` and `&quot;`\r\n - `&quot;` - a `&quot;` char.\r\n\r\n  [1]: https://ideone.com/IWn4AU\r\n  [2]: https://regex101.com/r/IohlS8/2","title":"Java regex find all occurences of a word inside double quotes","body":"<p>You can match all occurrences of the strings inside double quotes and then count the <code>variant</code> occurrences inside the  matches:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;variant \\&quot;if and only if 5 divides by i without remainder, then it prints \\\\\\&quot;i + \\\\\\&quot; variant: \\\\\\&quot; + variant\\\\\\&quot;\\&quot; variant&quot;;\n\n        \nPattern pattern = Pattern.compile(&quot;(?s)(?&lt;!\\\\\\\\)(?:\\\\\\\\{2})*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;);\nMatcher matcher = pattern.matcher(s);\nint count = 0;\nwhile (matcher.find()){\n    count += matcher.group().split(&quot;variant&quot;, -1).length-1;\n}\nSystem.out.println(count);\n</code></pre>\n<p>See the <a href=\"https://ideone.com/IWn4AU\" rel=\"nofollow noreferrer\">online demo</a>. So, the <code>variant &quot;if and only if 5 divides by i without remainder, then it prints \\&quot;i + \\&quot; variant: \\&quot; + variant\\&quot;&quot; variant</code> string contains two occurrences of <code>variant</code>.</p>\n<p>The regex is <code>(?&lt;!\\\\)(?:\\\\{2})*&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;</code>, see <a href=\"https://regex101.com/r/IohlS8/2\" rel=\"nofollow noreferrer\">its demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(?&lt;!\\\\)</code> - no <code>\\</code> allowed immediately on the left</li>\n<li><code>(?:\\\\{2})*</code> - zero or more double backslashes</li>\n<li><code>&quot;</code> - a <code>&quot;</code> char</li>\n<li><code>[^&quot;\\\\]*</code> - zero or more chars other than <code>&quot;</code> and <code>\\</code></li>\n<li><code>(?:\\\\.[^&quot;\\\\]*)*</code>  - zero or more sequences of any escaped char and then zero or more chars other than <code>\\</code> and <code>&quot;</code></li>\n<li><code>&quot;</code> - a <code>&quot;</code> char.</li>\n</ul>\n"}],"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74491357,"answer_count":1,"score":2,"last_activity_date":1668782556,"creation_date":1668772865,"question_id":74489364,"body_markdown":"[this][1] is my regex, I&#39;m trying to find all occurences of string &quot;variant&quot; inside double quotes using this regex, but if there are 2 occurences inside double quotes it will take only the last one. My regex basically tries to find the string &quot;variant&quot; which is written inside double quotes, I tried writing it like this but it didn&#39;t work either: `\\\\&quot;.*(variant*).*\\\\&quot;` This is my code:\r\n```\r\nString str_regex = &quot;\\\\&quot;.*(variant).*\\\\&quot;&quot;;\r\nMatcher str_matcher = Pattern.compile(str_regex).matcher(joined);\r\nwhile(str_matcher.find()) {\r\n\tSystem.out.println(str_matcher.group());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/IohlS8/1","title":"Java regex find all occurences of a word inside double quotes","body":"<p><a href=\"https://regex101.com/r/IohlS8/1\" rel=\"nofollow noreferrer\">this</a> is my regex, I'm trying to find all occurences of string &quot;variant&quot; inside double quotes using this regex, but if there are 2 occurences inside double quotes it will take only the last one. My regex basically tries to find the string &quot;variant&quot; which is written inside double quotes, I tried writing it like this but it didn't work either: <code>\\\\&quot;.*(variant*).*\\\\&quot;</code> This is my code:</p>\n<pre><code>String str_regex = &quot;\\\\&quot;.*(variant).*\\\\&quot;&quot;;\nMatcher str_matcher = Pattern.compile(str_regex).matcher(joined);\nwhile(str_matcher.find()) {\n    System.out.println(str_matcher.group());\n}\n</code></pre>\n"},{"tags":["java","marklogic"],"comments":[{"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1668782163,"post_id":74486562,"comment_id":131496559,"body_markdown":"You mean the example in https://docs.marklogic.com/search:search right?","body":"You mean the example in <a href=\"https://docs.marklogic.com/search:search\" rel=\"nofollow noreferrer\">docs.marklogic.com/search:search</a> right?"}],"answers":[{"comments":[{"owner":{"account_id":230244,"reputation":321,"user_id":493736,"display_name":"asusu"},"score":0,"creation_date":1669148918,"post_id":74491296,"comment_id":131577681,"body_markdown":"Close.  It&#39;s actually cts:remainder.  See the section at https://docs.marklogic.com/guide/search-dev/search-api#id_98851 .  This matters as you go through pages.  https://docs.marklogic.com/cts:remainder","body":"Close.  It&#39;s actually cts:remainder.  See the section at <a href=\"https://docs.marklogic.com/guide/search-dev/search-api#id_98851\" rel=\"nofollow noreferrer\">docs.marklogic.com/guide/search-dev/search-api#id_98851</a> .  This matters as you go through pages.  <a href=\"https://docs.marklogic.com/cts:remainder\" rel=\"nofollow noreferrer\">docs.marklogic.com/cts:remainder</a>"},{"owner":{"account_id":230244,"reputation":321,"user_id":493736,"display_name":"asusu"},"score":0,"creation_date":1669822179,"post_id":74491296,"comment_id":131731306,"body_markdown":"Also, are you sure it&#39;s unfiltered?  I couldn&#39;t find a definite answer.  If it is unfiltered then @total would always be correct, right?","body":"Also, are you sure it&#39;s unfiltered?  I couldn&#39;t find a definite answer.  If it is unfiltered then @total would always be correct, right?"},{"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1669824593,"post_id":74491296,"comment_id":131732255,"body_markdown":"Yes. It is mentioned in the https://docs.marklogic.com/search:search Usage Notes: &quot;The output of `search:search` returns a `&lt;response&gt;` element, which in turn contains a `total` attribute. The value of the `total` attribute is an estimate, based on the index resolution of the query, and it is not filtered for accuracy. The accuracy of the index resolution depends on the index configuration of the database, on the query, and on the data being searched.&quot;","body":"Yes. It is mentioned in the <a href=\"https://docs.marklogic.com/search:search\" rel=\"nofollow noreferrer\">docs.marklogic.com/search:search</a> Usage Notes: &quot;The output of <code>search:search</code> returns a <code>&lt;response&gt;</code> element, which in turn contains a <code>total</code> attribute. The value of the <code>total</code> attribute is an estimate, based on the index resolution of the query, and it is not filtered for accuracy. The accuracy of the index resolution depends on the index configuration of the database, on the query, and on the data being searched.&quot;"},{"owner":{"account_id":230244,"reputation":321,"user_id":493736,"display_name":"asusu"},"score":0,"creation_date":1669916090,"post_id":74491296,"comment_id":131757022,"body_markdown":"Oh yeah, I see what you are saying, the estimate  remainder is unfiltered.  But not (by default) the actual search itself.","body":"Oh yeah, I see what you are saying, the estimate  remainder is unfiltered.  But not (by default) the actual search itself."}],"tags":[],"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668782298,"creation_date":1668782298,"answer_id":74491296,"question_id":74486562,"body_markdown":"When you perform a search with [`search:search`][1] it executes an [unfiltered search][2] with the provided search criteria. \r\n\r\nThe `@total` that is returned is the equivalent of what you would get if you provided the search criteria to [`xdmp:estimate()`][3]. It uses the indexes to answer your question and tell you how many documents it thinks match.\r\n\r\n\r\n  [1]: https://docs.marklogic.com/search:search\r\n  [2]: https://docs.marklogic.com/guide/performance/unfiltered#id_89797\r\n  [3]: https://docs.marklogic.com/xdmp:estimate","title":"How total is calculated in search resolve in marklogic","body":"<p>When you perform a search with <a href=\"https://docs.marklogic.com/search:search\" rel=\"nofollow noreferrer\"><code>search:search</code></a> it executes an <a href=\"https://docs.marklogic.com/guide/performance/unfiltered#id_89797\" rel=\"nofollow noreferrer\">unfiltered search</a> with the provided search criteria.</p>\n<p>The <code>@total</code> that is returned is the equivalent of what you would get if you provided the search criteria to <a href=\"https://docs.marklogic.com/xdmp:estimate\" rel=\"nofollow noreferrer\"><code>xdmp:estimate()</code></a>. It uses the indexes to answer your question and tell you how many documents it thinks match.</p>\n"}],"owner":{"account_id":24811112,"reputation":61,"user_id":18692547,"display_name":"Suprita S B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668782298,"creation_date":1668758493,"question_id":74486562,"body_markdown":"In the MarkLogic example explained in this article https://docs.marklogic.com/search:parse, how the total is calculated?\r\n        \r\n example :      \r\n \r\n    &lt;search:response total=&quot;1234&quot; start=&quot;1&quot; page-length=&quot;10&quot; xmlns=&quot;&quot;\r\n                xmlns:search=&quot;http://marklogic.com/appservices/search&quot;&gt;          ","title":"How total is calculated in search resolve in marklogic","body":"<p>In the MarkLogic example explained in this article <a href=\"https://docs.marklogic.com/search:parse\" rel=\"nofollow noreferrer\">https://docs.marklogic.com/search:parse</a>, how the total is calculated?</p>\n<p>example :</p>\n<pre><code>&lt;search:response total=&quot;1234&quot; start=&quot;1&quot; page-length=&quot;10&quot; xmlns=&quot;&quot;\n            xmlns:search=&quot;http://marklogic.com/appservices/search&quot;&gt;          \n</code></pre>\n"},{"tags":["java","hibernate","jpa","reactive-streams","micronaut-data"],"answers":[{"comments":[{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1656323495,"post_id":72726482,"comment_id":128535065,"body_markdown":"I thought it was not recommended to perform blocking IO operations in the event loop.","body":"I thought it was not recommended to perform blocking IO operations in the event loop."},{"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"score":1,"creation_date":1656334853,"post_id":72726482,"comment_id":128539217,"body_markdown":"Correct, my answer was missing that the controller needs to be annotated with `@ExecuteOn(TaskExecutors.IO)`.","body":"Correct, my answer was missing that the controller needs to be annotated with <code>@ExecuteOn(TaskExecutors.IO)</code>."}],"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656334818,"creation_date":1655970650,"answer_id":72726482,"question_id":72706129,"body_markdown":"There are a few options:\r\n\r\n1. Add `@Join(&quot;contributions&quot;)` annotation to your repository method\r\n2. Add `@EntityGraph ...` annotation to your repository method\r\n3. Do fetching and mapping in one method annotated `@ReadOnly` or `@Transactional` so the session is open when the mapper is called\r\n\r\nIn this case, having reactive streams doesn&#39;t make much sense. Just return `Page` from the controller annotated `@ExecuteOn(TaskExecutors.IO)`.","title":"How to use Hibernate lazy loading and reactive streams?","body":"<p>There are a few options:</p>\n<ol>\n<li>Add <code>@Join(&quot;contributions&quot;)</code> annotation to your repository method</li>\n<li>Add <code>@EntityGraph ...</code> annotation to your repository method</li>\n<li>Do fetching and mapping in one method annotated <code>@ReadOnly</code> or <code>@Transactional</code> so the session is open when the mapper is called</li>\n</ol>\n<p>In this case, having reactive streams doesn't make much sense. Just return <code>Page</code> from the controller annotated <code>@ExecuteOn(TaskExecutors.IO)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668782013,"creation_date":1656403822,"answer_id":72782888,"question_id":72706129,"body_markdown":"Mapping the association as `EAGER` is usually a code smell. But if you have situations where you always need to load an association,  you can do it via a query.\r\n\r\nInstead of `findAll`, you would call:\r\n```\r\n@Repository\r\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\r\n\r\n    @Query(&quot;select se from ScoringEntity se left fetch join se.contributions&quot;)\r\n    Page&lt;ScoringEntity&gt; findScoringWithContributions(Pageable pageable);\r\n\r\n}\r\n```\r\n\r\n&gt; Besides I can&#39;t imagine that reactive streams be incompatible with hibernate and lazy loading.\r\n\r\nIn this case the problem is that you are trying to lazy load the association after the session has been closed.\r\n","title":"How to use Hibernate lazy loading and reactive streams?","body":"<p>Mapping the association as <code>EAGER</code> is usually a code smell. But if you have situations where you always need to load an association,  you can do it via a query.</p>\n<p>Instead of <code>findAll</code>, you would call:</p>\n<pre><code>@Repository\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\n\n    @Query(&quot;select se from ScoringEntity se left fetch join se.contributions&quot;)\n    Page&lt;ScoringEntity&gt; findScoringWithContributions(Pageable pageable);\n\n}\n</code></pre>\n<blockquote>\n<p>Besides I can't imagine that reactive streams be incompatible with hibernate and lazy loading.</p>\n</blockquote>\n<p>In this case the problem is that you are trying to lazy load the association after the session has been closed.</p>\n"}],"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":983,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72726482,"answer_count":2,"score":-1,"last_activity_date":1668782013,"creation_date":1655839370,"question_id":72706129,"body_markdown":"I am currently building a REST service with Micronaut Data. I have defined two JPA entities, bounded by a bidirectional ```@OneToMany``` relationship, and lazy loading.\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class ScoringEntity {\r\n    @Id\r\n    private String id;\r\n\r\n    @OneToMany(mappedBy = &quot;scoring&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;ContributionEntity&gt; contributions;\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class ContributionEntity {\r\n    @Id\r\n    private String id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId\r\n    private ScoringEntity scoring;\r\n}\r\n```\r\n```java\r\n@Repository\r\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\r\n\r\n    Page&lt;ScoringEntity&gt; findAll(Pageable pageable);\r\n\r\n}\r\n```\r\n\r\nIn the controller, I return a ```Mono``` which is set to call the repository, then perform a mapping to a DTO (```Scoring```).\r\n```java\r\n@Get\r\npublic Mono&lt;Page&lt;Scoring&gt;&gt; getScoring(Pageable pageable) {\r\n\treturn Mono.fromCallable(() -&gt; scoringRepository.findAll(pageable))\r\n\t\t.map(scoringEntities -&gt; scoringEntities.map(scoringMapper::mapScoring));\r\n}\r\n```\r\n\r\nEverything works fine in the ```findAll()``` method, but things go south when the mapper\r\ntries to access the contributions set :\r\n\r\n```\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: ScoringEntity.contributions, could not initialize proxy - no Session\r\n```\r\n\r\nWhile I understand why this happens (the transaction probably ends with the repository method), I can&#39;t find a satisfying solution. Setting the relationship to eager loading works, but it \r\nsignificantly decreases performance (and I&#39;ve read [elsewhere][1] it would be a code smell, which I tend to believe).\r\n\r\nBesides I can&#39;t imagine that reactive streams be incompatible with hibernate and lazy loading. \r\n\r\nWhat would be the best practice in this situation ?\r\n\r\n\r\n  [1]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/","title":"How to use Hibernate lazy loading and reactive streams?","body":"<p>I am currently building a REST service with Micronaut Data. I have defined two JPA entities, bounded by a bidirectional <code>@OneToMany</code> relationship, and lazy loading.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class ScoringEntity {\n    @Id\n    private String id;\n\n    @OneToMany(mappedBy = &quot;scoring&quot;, fetch = FetchType.LAZY)\n    private Set&lt;ContributionEntity&gt; contributions;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class ContributionEntity {\n    @Id\n    private String id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId\n    private ScoringEntity scoring;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ScoringRepository extends GenericRepository&lt;ScoringEntity, String&gt; {\n\n    Page&lt;ScoringEntity&gt; findAll(Pageable pageable);\n\n}\n</code></pre>\n<p>In the controller, I return a <code>Mono</code> which is set to call the repository, then perform a mapping to a DTO (<code>Scoring</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Get\npublic Mono&lt;Page&lt;Scoring&gt;&gt; getScoring(Pageable pageable) {\n    return Mono.fromCallable(() -&gt; scoringRepository.findAll(pageable))\n        .map(scoringEntities -&gt; scoringEntities.map(scoringMapper::mapScoring));\n}\n</code></pre>\n<p>Everything works fine in the <code>findAll()</code> method, but things go south when the mapper\ntries to access the contributions set :</p>\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: ScoringEntity.contributions, could not initialize proxy - no Session\n</code></pre>\n<p>While I understand why this happens (the transaction probably ends with the repository method), I can't find a satisfying solution. Setting the relationship to eager loading works, but it\nsignificantly decreases performance (and I've read <a href=\"https://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"nofollow noreferrer\">elsewhere</a> it would be a code smell, which I tend to believe).</p>\n<p>Besides I can't imagine that reactive streams be incompatible with hibernate and lazy loading.</p>\n<p>What would be the best practice in this situation ?</p>\n"},{"tags":["java","hibernate","quarkus","hibernate-mapping","quarkus-hibernate-orm"],"comments":[{"owner":{"account_id":20510427,"reputation":21,"user_id":15052338,"display_name":"Altafhusen Makandar"},"score":0,"creation_date":1668783884,"post_id":74491203,"comment_id":131497221,"body_markdown":"After debugging the code, I found that `HibernateOrmRuntimeConfigPersistenceUnit` class has a property `unsupportedProperties` to use for properties that cannot be defined explicitly and it works if the property is defined as.\n\n`quarkus.hibernate-orm.unsupported-properties.&quot;hibernate.physical_naming_strategy&quot;=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy`\n\nBut I think the property should have been provided explicitly. Quarkus team could let know if it can introduce it since `Entity` mapping has these kind of requirement very often.","body":"After debugging the code, I found that <code>HibernateOrmRuntimeConfigPersistenceUnit</code> class has a property <code>unsupportedProperties</code> to use for properties that cannot be defined explicitly and it works if the property is defined as.  <code>quarkus.hibernate-orm.unsupported-properties.&quot;hibernate.phys&zwnj;&#8203;ical_naming_strategy&zwnj;&#8203;&quot;=org.hibernate.boot&zwnj;&#8203;.model.naming.CamelC&zwnj;&#8203;aseToUnderscoresNami&zwnj;&#8203;ngStrategy</code>  But I think the property should have been provided explicitly. Quarkus team could let know if it can introduce it since <code>Entity</code> mapping has these kind of requirement very often."}],"owner":{"account_id":20510427,"reputation":21,"user_id":15052338,"display_name":"Altafhusen Makandar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668781825,"creation_date":1668781825,"question_id":74491203,"body_markdown":"I am trying to map hibernate properties to the database and I do not want to add @Column for  entities having camel case\r\n\r\n```\r\n@Entity\r\npublic class User extends PanacheEntity{\r\n  @Column(name = &quot;user_name&quot;)\r\n  String userName;\r\n}\r\n```\r\n\r\nI am trying to set the below property but it does not work for quarkus version 2.14.1.Final (not sure about other versions)\r\n\r\n```\r\nquarkus.hibernate-orm.physical-naming-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\r\n```\r\n\r\nAm I doing something wrong?","title":"Unable to define quarkus.hibernate-orm.physical-naming-strategy in quarkus version 2.14.1.Final","body":"<p>I am trying to map hibernate properties to the database and I do not want to add @Column for  entities having camel case</p>\n<pre><code>@Entity\npublic class User extends PanacheEntity{\n  @Column(name = &quot;user_name&quot;)\n  String userName;\n}\n</code></pre>\n<p>I am trying to set the below property but it does not work for quarkus version 2.14.1.Final (not sure about other versions)</p>\n<pre><code>quarkus.hibernate-orm.physical-naming-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy\n</code></pre>\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668777420,"post_id":74490182,"comment_id":131494806,"body_markdown":"Are only the last 2 items valid? `\\b\\d+\\s*\\/\\s*0+\\b` https://regex101.com/r/tEBepz/1 If there also can not be quotes in the string `^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*\\b\\d+\\s*\\/\\s*0+\\b` https://regex101.com/r/GEfROq/1","body":"Are only the last 2 items valid? <code>\\b\\d+\\s*\\&#47;\\s*0+\\b</code> <a href=\"https://regex101.com/r/tEBepz/1\" rel=\"nofollow noreferrer\">regex101.com/r/tEBepz/1</a> If there also can not be quotes in the string <code>^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*\\b\\d+\\s*\\&#47;\\s*0+\\b</code> <a href=\"https://regex101.com/r/GEfROq/1\" rel=\"nofollow noreferrer\">regex101.com/r/GEfROq/1</a>"},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668777746,"post_id":74490182,"comment_id":131494940,"body_markdown":"all 4 are valid, if a divide by zero operation is found, then it should return true and there can be many such combinations.","body":"all 4 are valid, if a divide by zero operation is found, then it should return true and there can be many such combinations."},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668778151,"post_id":74490182,"comment_id":131495093,"body_markdown":"java, sorry i tagged javascript also by mistake","body":"java, sorry i tagged javascript also by mistake"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668778182,"post_id":74490182,"comment_id":131495105,"body_markdown":"It looks like also strings with `&lt;&lt;...&gt;&gt;` perhaps like this https://regex101.com/r/HxuBqI/1","body":"It looks like also strings with <code>&lt;&lt;...&gt;&gt;</code> perhaps like this <a href=\"https://regex101.com/r/HxuBqI/1\" rel=\"nofollow noreferrer\">regex101.com/r/HxuBqI/1</a>"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1668779364,"post_id":74490182,"comment_id":131495511,"body_markdown":"Try `text.matches(&quot;([^&#39;\\&quot;]*[&#39;\\&quot;]|.*/\\\\s*0+(?:\\\\.0*)?\\\\b).*&quot;)` - if there is a match, fail the string.","body":"Try <code>text.matches(&quot;([^&#39;\\&quot;]*[&#39;\\&quot;]|.*&#47;\\\\s*0+(?:\\\\.0*)?\\\\b).*&quot;)</code> - if there is a match, fail the string."},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668781219,"post_id":74490182,"comment_id":131496202,"body_markdown":"@WiktorStribiżew tried this, other cases work, but it fails in one case KLENGTH(&quot;/0&quot;)\nIt considers this operation also as divide by zero, which is actually not a divide by zero operation.","body":"@WiktorStribiżew tried this, other cases work, but it fails in one case KLENGTH(&quot;/0&quot;) It considers this operation also as divide by zero, which is actually not a divide by zero operation."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668781916,"post_id":74490182,"comment_id":131496436,"body_markdown":"@aby007 It does not match `LENGTH(&quot;/0&quot;)` See https://regex101.com/r/UUXULn/1 Are there other scenario&#39;s that should/should not match. Are the parts `&lt;&lt;...&gt;&gt;` relevant? If not, can you update the examples in the question?","body":"@aby007 It does not match <code>LENGTH(&quot;&#47;0&quot;)</code> See <a href=\"https://regex101.com/r/UUXULn/1\" rel=\"nofollow noreferrer\">regex101.com/r/UUXULn/1</a> Are there other scenario&#39;s that should/should not match. Are the parts <code>&lt;&lt;...&gt;&gt;</code> relevant? If not, can you update the examples in the question?"},{"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"score":0,"creation_date":1668784305,"post_id":74490182,"comment_id":131497375,"body_markdown":"yes those parts are also relevant, updated the string which should not match","body":"yes those parts are also relevant, updated the string which should not match"}],"answers":[{"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1668781967,"post_id":74490982,"comment_id":131496465,"body_markdown":"@aby007 Try the one without the doubled backslashes `^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*?(?:\\b\\d+\\b|&lt;&lt;.*?&gt;&gt;)\\s*\\/\\s*0+\\b`","body":"@aby007 Try the one without the doubled backslashes <code>^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*?(?:\\b\\d+\\b|&lt;&lt;.*?&gt;&gt;)\\s*\\&#47;\\s*0+\\b</code>"}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668780887,"creation_date":1668780887,"answer_id":74490982,"question_id":74490182,"body_markdown":"If there should not be quotes in the string, you can start the pattern with an assertion that there are no quotes present in the string.\r\n\r\n```none\r\n^(?![^&quot;&#39;\\n]*[&quot;&#39;]).*?(?:\\b\\d+\\b|&lt;&lt;.*?&gt;&gt;)\\s*\\/\\s*0+\\b\r\n```\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `(?![^&quot;&#39;\\n]*[&quot;&#39;])` Negative lookahead, assert not `&quot;` or `&#39;` in the string\r\n- `.*?` Match any char as few as possible\r\n- `(?:` Non capture group\r\n  - `\\b\\d+\\b` Match 1+ digits between word boundaries\r\n  - `|` Or\r\n  - `&lt;&lt;.*?&gt;&gt;` match `&lt;&lt;...&gt;&gt;`\r\n- `)` Close non capture group\r\n- `\\s*\\/\\s*` Match `/` between optional whitespace chars\r\n- `0+\\b` Match 1+ zeroes and a word boundary\r\n\r\nSee a [regex demo](https://regex101.com/r/dCYUcO/1).\r\n\r\nCode example\r\n\r\n    String regex = &quot;^(?![^\\&quot;&#39;\\\\n]*[\\&quot;&#39;]).*?(?:\\\\b\\\\d+|&lt;&lt;.*?&gt;&gt;)\\\\s*\\\\/\\\\s*0+\\\\b&quot;;\r\n    Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n\r\n    String[] strings = { \r\n            &quot;1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001&quot;,\r\n            &quot;2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0&quot;,\r\n            &quot;3) 1    /    0000 + 1       /   00&quot;,\r\n            &quot;4) 1/0&quot;,\r\n            &quot;5) 1/0\\&quot;&quot;,\r\n            &quot;6) 1    /    0900 + 1       /   99&quot;\r\n    };\r\n    for (String s : strings) {\r\n        Matcher matcher = pattern.matcher(s);\r\n        if (matcher.find()) {\r\n            System.out.println(&quot;Match for: &quot; + s);   \r\n        }            \r\n    }\r\n\r\nOutput\r\n\r\n    Match for: 1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001\r\n    Match for: 2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0\r\n    Match for: 3) 1    /    0000 + 1       /   00\r\n    Match for: 4) 1/","title":"Create a pattern to find out if the string contains a divide by zero operation","body":"<p>If there should not be quotes in the string, you can start the pattern with an assertion that there are no quotes present in the string.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?![^&quot;'\\n]*[&quot;']).*?(?:\\b\\d+\\b|&lt;&lt;.*?&gt;&gt;)\\s*\\/\\s*0+\\b\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?![^&quot;'\\n]*[&quot;'])</code> Negative lookahead, assert not <code>&quot;</code> or <code>'</code> in the string</li>\n<li><code>.*?</code> Match any char as few as possible</li>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>\\b\\d+\\b</code> Match 1+ digits between word boundaries</li>\n<li><code>|</code> Or</li>\n<li><code>&lt;&lt;.*?&gt;&gt;</code> match <code>&lt;&lt;...&gt;&gt;</code></li>\n</ul>\n</li>\n<li><code>)</code> Close non capture group</li>\n<li><code>\\s*\\/\\s*</code> Match <code>/</code> between optional whitespace chars</li>\n<li><code>0+\\b</code> Match 1+ zeroes and a word boundary</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/dCYUcO/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>Code example</p>\n<pre><code>String regex = &quot;^(?![^\\&quot;'\\\\n]*[\\&quot;']).*?(?:\\\\b\\\\d+|&lt;&lt;.*?&gt;&gt;)\\\\s*\\\\/\\\\s*0+\\\\b&quot;;\nPattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n\nString[] strings = { \n        &quot;1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001&quot;,\n        &quot;2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0&quot;,\n        &quot;3) 1    /    0000 + 1       /   00&quot;,\n        &quot;4) 1/0&quot;,\n        &quot;5) 1/0\\&quot;&quot;,\n        &quot;6) 1    /    0900 + 1       /   99&quot;\n};\nfor (String s : strings) {\n    Matcher matcher = pattern.matcher(s);\n    if (matcher.find()) {\n        System.out.println(&quot;Match for: &quot; + s);   \n    }            \n}\n</code></pre>\n<p>Output</p>\n<pre><code>Match for: 1) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001\nMatch for: 2) &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0\nMatch for: 3) 1    /    0000 + 1       /   00\nMatch for: 4) 1/\n</code></pre>\n"}],"owner":{"account_id":4942680,"reputation":21,"user_id":3979091,"display_name":"aby007"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668781758,"creation_date":1668776973,"question_id":74490182,"body_markdown":"I have to create a pattern to find out whether there is a divide by zero operation going on in a string.\r\nFollowing are some example strings:\r\n1) `&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001`\r\n2) `&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0`\r\n3) `1    /    0000 + 1       /   00`\r\n4) `1/0`\r\n\r\nThere can be multiple spaces anywhere in the string, operators(+,-,/,*,**,AND,OR,&lt;,&gt;,&lt;=,&gt;=) can be used anywhere in the string. If any double quote(&quot;) or single quote(&#39;) encounters in a string, it should return false.\r\nCan someone help me with this?\r\n\r\nI tried pattern &quot;.+/*0+[^0-9]*&quot; but it doesn&#39;t work for all cases.\r\n\r\nA pattern which should not be considered a divide zero pattern. \r\nEx : LENGTH(&quot;/0&quot;)","title":"Create a pattern to find out if the string contains a divide by zero operation","body":"<p>I have to create a pattern to find out whether there is a divide by zero operation going on in a string.\nFollowing are some example strings:</p>\n<ol>\n<li><code>&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;   /  1 * &lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt; / 00  + &lt;&lt;Employee Profile/Employee Data/Employee/Gender&gt;&gt; / 001</code></li>\n<li><code>&lt;&lt;Employee Profile/Employee Data/Employee/Age&gt;&gt;/0</code></li>\n<li><code>1    /    0000 + 1       /   00</code></li>\n<li><code>1/0</code></li>\n</ol>\n<p>There can be multiple spaces anywhere in the string, operators(+,-,/,*,**,AND,OR,&lt;,&gt;,&lt;=,&gt;=) can be used anywhere in the string. If any double quote(&quot;) or single quote(') encounters in a string, it should return false.\nCan someone help me with this?</p>\n<p>I tried pattern &quot;.+/<em>0+[^0-9]</em>&quot; but it doesn't work for all cases.</p>\n<p>A pattern which should not be considered a divide zero pattern.\nEx : LENGTH(&quot;/0&quot;)</p>\n"},{"tags":["java","java-8","conda"],"answers":[{"tags":[],"owner":{"account_id":2290778,"reputation":101,"user_id":7475219,"display_name":"Andrea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781745,"creation_date":1668553855,"answer_id":74453269,"question_id":74453205,"body_markdown":"I solved the issue by first installing Java 1.8 with the command:\r\n\r\n```\r\nconda install -c main java-1.8.0-openjdk-cos7-s390x\r\n```\r\n\r\nAnd then creating the environment.","title":"conda environment with wrong java version","body":"<p>I solved the issue by first installing Java 1.8 with the command:</p>\n<pre><code>conda install -c main java-1.8.0-openjdk-cos7-s390x\n</code></pre>\n<p>And then creating the environment.</p>\n"}],"owner":{"account_id":2290778,"reputation":101,"user_id":7475219,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668781745,"creation_date":1668553291,"question_id":74453205,"body_markdown":"I created a new conda environment with the command `conda create --name condaenv python=2.7 openjdk=8`. When I activate this environment using `conda activate condaenv` and check the java version, however, I get:\r\n```\r\nopenjdk version &quot;1.7.0_91&quot;\r\nOpenJDK Runtime Environment (Zulu 7.12.0.3-linux64) (build 1.7.0_91-b15)\r\nOpenJDK 64-Bit Server VM (Zulu 7.12.0.3-linux64) (build 24.91-b15, mixed mode)\r\n```\r\nHow can I get the correct java version for this conda environment?\r\n\r\nI checked that the `JAVA_HOME` environmental variable is correct, and it is since running `echo $JAVA_HOME` gives `/home/ag956/.conda/envs/condaenv`","title":"conda environment with wrong java version","body":"<p>I created a new conda environment with the command <code>conda create --name condaenv python=2.7 openjdk=8</code>. When I activate this environment using <code>conda activate condaenv</code> and check the java version, however, I get:</p>\n<pre><code>openjdk version &quot;1.7.0_91&quot;\nOpenJDK Runtime Environment (Zulu 7.12.0.3-linux64) (build 1.7.0_91-b15)\nOpenJDK 64-Bit Server VM (Zulu 7.12.0.3-linux64) (build 24.91-b15, mixed mode)\n</code></pre>\n<p>How can I get the correct java version for this conda environment?</p>\n<p>I checked that the <code>JAVA_HOME</code> environmental variable is correct, and it is since running <code>echo $JAVA_HOME</code> gives <code>/home/ag956/.conda/envs/condaenv</code></p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"score":0,"creation_date":1313106141,"post_id":7034176,"comment_id":8404824,"body_markdown":"Maybe some dedicated wizard library would be helpful, e.g. http://code.google.com/p/cjwizard/","body":"Maybe some dedicated wizard library would be helpful, e.g. <a href=\"http://code.google.com/p/cjwizard/\" rel=\"nofollow noreferrer\">code.google.com/p/cjwizard</a>"},{"owner":{"account_id":451504,"reputation":420,"user_id":847426,"display_name":"mwd"},"score":0,"creation_date":1313106257,"post_id":7034176,"comment_id":8404842,"body_markdown":"What do you mean by &quot;page&quot;? Are you using JPanels? You can swap JPanels to implement the kind of behaviour you are describing.","body":"What do you mean by &quot;page&quot;? Are you using JPanels? You can swap JPanels to implement the kind of behaviour you are describing."},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1313111928,"post_id":7034176,"comment_id":8405618,"body_markdown":"@Brandon, See edit. It includes an [SSCCE](http://www.sscce.org).","body":"@Brandon, See edit. It includes an <a href=\"http://www.sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":2475,"reputation":16513,"user_id":3446,"accept_rate":67,"display_name":"rcreswick"},"score":0,"creation_date":1396287201,"post_id":7034176,"comment_id":34710587,"body_markdown":"@miku that project has a new URL now: https://github.com/creswick/cjwizard","body":"@miku that project has a new URL now: <a href=\"https://github.com/creswick/cjwizard\" rel=\"nofollow noreferrer\">github.com/creswick/cjwizard</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1668781721,"post_id":7034176,"comment_id":131496366,"body_markdown":"Wizard?  Better switch to Microsoft for that.  Or learn how to code Swing properly.","body":"Wizard?  Better switch to Microsoft for that.  Or learn how to code Swing properly."}],"answers":[{"comments":[{"owner":{"account_id":478669,"reputation":69,"user_id":890905,"accept_rate":50,"display_name":"Brandon Lehman"},"score":0,"creation_date":1313113014,"post_id":7034449,"comment_id":8405747,"body_markdown":"Thanks for your help, but this is too much.  If you look at my logic, I have if a radio button is selected when the button is clicked then do what is in the brackets.  What I want to do in the brackets is just go to another JPanel, which I plan on making a separate class.","body":"Thanks for your help, but this is too much.  If you look at my logic, I have if a radio button is selected when the button is clicked then do what is in the brackets.  What I want to do in the brackets is just go to another JPanel, which I plan on making a separate class."},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":1,"creation_date":1313113612,"post_id":7034449,"comment_id":8405814,"body_markdown":"@Brandon, A majority of this code is just filler. If you look at the crux of it, it focuses on using `CardLayout` to exchange panels based on the currently selected `JRadioButton`. That&#39;s all. If there&#39;s already a layout manager that possesses such logic, why not make use of it?","body":"@Brandon, A majority of this code is just filler. If you look at the crux of it, it focuses on using <code>CardLayout</code> to exchange panels based on the currently selected <code>JRadioButton</code>. That&#39;s all. If there&#39;s already a layout manager that possesses such logic, why not make use of it?"}],"tags":[],"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313112591,"creation_date":1313108706,"answer_id":7034449,"question_id":7034176,"body_markdown":"Recommendations:\r\n\r\n 1. Read the [How to Use Radio Buttons](http://download.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton) tutorial\r\n 2. Read the [How to Use CardLayout](http://download.oracle.com/javase/tutorial/uiswing/layout/card.html) tutorial\r\n 3. Learn how to use a [`ButtonGroup`](http://download.oracle.com/javase/7/docs/api/javax/swing/ButtonGroup.html), since you&#39;ll only want one button to be selected at a time\r\n\r\n\r\n----------\r\n\r\n    public final class RadioButtonDemo {\r\n    \tprivate static CardPanel cards;\r\n    \tprivate static Card cardOne;\r\n    \tprivate static Card cardTwo;\r\n    \tprivate static Card cardThree;\r\n    \t\r\n    \tpublic static void main(String[] args){\r\n    \t\tSwingUtilities.invokeLater(new Runnable(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tcreateAndShowGUI();\t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tprivate static void createAndShowGUI(){\r\n    \t\tfinal JFrame frame = new JFrame(&quot;RB Demo&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.getContentPane().setLayout(\r\n    \t\t\t\tnew BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\r\n    \t\tcards = new CardPanel();\r\n    \t\tframe.getContentPane().add(cards);\r\n    \t\tframe.getContentPane().add(new ControlPanel());\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate static void createCards(){\r\n    \t\tcardOne = new Card(\r\n    \t\t\t\t&quot;Card 1&quot;, \r\n    \t\t\t\tnew JLabel(&quot;This is card one&quot;), \r\n    \t\t\t\tColor.PINK);\r\n    \t\tcardTwo = new Card(\r\n    \t\t\t\t&quot;Card 2&quot;, \r\n    \t\t\t\tnew JLabel(&quot;This is card two&quot;), \r\n    \t\t\t\tColor.YELLOW);\r\n    \t\tcardThree = new Card(\r\n    \t\t\t\t&quot;Card 3&quot;, \r\n    \t\t\t\tnew JLabel(&quot;This is card three&quot;), \r\n    \t\t\t\tColor.CYAN);\r\n    \t}\r\n    \t\r\n    \tprivate static final class Card extends JPanel{\r\n    \t\tprivate final String name;\r\n    \t\t\r\n    \t\tpublic Card(\r\n    \t\t\t\tfinal String name, \r\n    \t\t\t\tfinal JComponent component, \r\n    \t\t\t\tfinal Color c){\r\n    \t\t\tsuper();\r\n    \t\t\tthis.name = name;\r\n    \t\t\tsetBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n    \t\t\tsetBackground(c);\r\n    \t\t\tadd(component);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic final String getName(){\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static final class CardPanel extends JPanel{\r\n    \t\tpublic CardPanel(){\r\n    \t\t\tsuper(new CardLayout());\r\n    \t\t\tcreateCards();\r\n    \t\t\tadd(cardOne, cardOne.getName());\r\n    \t\t\tadd(cardTwo, cardTwo.getName());\r\n    \t\t\tadd(cardThree, cardThree.getName());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static final class ControlPanel extends JPanel{\r\n    \t\tprivate static JRadioButton showCardOneButton;\r\n    \t\tprivate static JRadioButton showCardTwoButton;\r\n    \t\tprivate static JRadioButton showCardThreeButton;\r\n    \t\tprivate static JButton showButton;\r\n    \t\t\r\n    \t\tpublic ControlPanel(){\r\n    \t\t\tsuper();\r\n    \t\t\tsetLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n    \t\t\tadd(createJRadioButtonPanel());\r\n    \t\t\tadd(createJButtonPanel());\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate final JPanel createJRadioButtonPanel(){\r\n    \t\t\tfinal JPanel panel = new JPanel();\r\n    \t\t\t\r\n    \t\t\tshowCardOneButton = new JRadioButton(cardOne.getName());\r\n    \t\t\tshowCardOneButton.setSelected(true);\r\n    \t\t\tshowCardTwoButton = new JRadioButton(cardTwo.getName());\r\n    \t\t\tshowCardThreeButton = new JRadioButton(cardThree.getName());\r\n    \t\t\tButtonGroup group = new ButtonGroup();\r\n    \t\t\tgroup.add(showCardOneButton);\r\n    \t\t\tgroup.add(showCardTwoButton);\r\n    \t\t\tgroup.add(showCardThreeButton);\r\n    \t\t\tpanel.add(showCardOneButton);\r\n    \t\t\tpanel.add(showCardTwoButton);\r\n    \t\t\tpanel.add(showCardThreeButton);\r\n    \t\t\t\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate final JPanel createJButtonPanel(){\r\n    \t\t\tfinal JPanel panel = new JPanel();\r\n    \t\t\t\r\n    \t\t\tshowButton = new JButton(&quot;Show&quot;);\r\n    \t\t\tshowButton.addActionListener(new ActionListener(){\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent e){\r\n    \t\t\t\t\tCardLayout cl = (CardLayout) cards.getLayout();\r\n    \t\t\t\t\tif(showCardOneButton.isSelected()){\r\n    \t\t\t\t\t\tcl.show(cards, showCardOneButton.getText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(showCardTwoButton.isSelected()){\r\n    \t\t\t\t\t\tcl.show(cards, showCardTwoButton.getText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if(showCardThreeButton.isSelected()){\r\n    \t\t\t\t\t\tcl.show(cards, showCardThreeButton.getText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\tpanel.add(showButton);\r\n    \t\t\t\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YXreg.png","title":"Java UI, trying to go to next page upon clicking button","body":"<p>Recommendations:</p>\n\n<ol>\n<li>Read the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton\" rel=\"noreferrer\">How to Use Radio Buttons</a> tutorial</li>\n<li>Read the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"noreferrer\">How to Use CardLayout</a> tutorial</li>\n<li>Learn how to use a <a href=\"http://download.oracle.com/javase/7/docs/api/javax/swing/ButtonGroup.html\" rel=\"noreferrer\"><code>ButtonGroup</code></a>, since you'll only want one button to be selected at a time</li>\n</ol>\n\n<hr>\n\n<pre><code>public final class RadioButtonDemo {\n    private static CardPanel cards;\n    private static Card cardOne;\n    private static Card cardTwo;\n    private static Card cardThree;\n\n    public static void main(String[] args){\n        SwingUtilities.invokeLater(new Runnable(){\n            @Override\n            public void run() {\n                createAndShowGUI();             \n            }\n        });\n    }\n\n    private static void createAndShowGUI(){\n        final JFrame frame = new JFrame(\"RB Demo\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(\n                new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\n        cards = new CardPanel();\n        frame.getContentPane().add(cards);\n        frame.getContentPane().add(new ControlPanel());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private static void createCards(){\n        cardOne = new Card(\n                \"Card 1\", \n                new JLabel(\"This is card one\"), \n                Color.PINK);\n        cardTwo = new Card(\n                \"Card 2\", \n                new JLabel(\"This is card two\"), \n                Color.YELLOW);\n        cardThree = new Card(\n                \"Card 3\", \n                new JLabel(\"This is card three\"), \n                Color.CYAN);\n    }\n\n    private static final class Card extends JPanel{\n        private final String name;\n\n        public Card(\n                final String name, \n                final JComponent component, \n                final Color c){\n            super();\n            this.name = name;\n            setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            setBackground(c);\n            add(component);\n        }\n\n        public final String getName(){\n            return name;\n        }\n    }\n\n    private static final class CardPanel extends JPanel{\n        public CardPanel(){\n            super(new CardLayout());\n            createCards();\n            add(cardOne, cardOne.getName());\n            add(cardTwo, cardTwo.getName());\n            add(cardThree, cardThree.getName());\n        }\n    }\n\n    private static final class ControlPanel extends JPanel{\n        private static JRadioButton showCardOneButton;\n        private static JRadioButton showCardTwoButton;\n        private static JRadioButton showCardThreeButton;\n        private static JButton showButton;\n\n        public ControlPanel(){\n            super();\n            setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n            add(createJRadioButtonPanel());\n            add(createJButtonPanel());\n        }\n\n        private final JPanel createJRadioButtonPanel(){\n            final JPanel panel = new JPanel();\n\n            showCardOneButton = new JRadioButton(cardOne.getName());\n            showCardOneButton.setSelected(true);\n            showCardTwoButton = new JRadioButton(cardTwo.getName());\n            showCardThreeButton = new JRadioButton(cardThree.getName());\n            ButtonGroup group = new ButtonGroup();\n            group.add(showCardOneButton);\n            group.add(showCardTwoButton);\n            group.add(showCardThreeButton);\n            panel.add(showCardOneButton);\n            panel.add(showCardTwoButton);\n            panel.add(showCardThreeButton);\n\n            return panel;\n        }\n\n        private final JPanel createJButtonPanel(){\n            final JPanel panel = new JPanel();\n\n            showButton = new JButton(\"Show\");\n            showButton.addActionListener(new ActionListener(){\n                @Override\n                public void actionPerformed(ActionEvent e){\n                    CardLayout cl = (CardLayout) cards.getLayout();\n                    if(showCardOneButton.isSelected()){\n                        cl.show(cards, showCardOneButton.getText());\n                    }\n                    else if(showCardTwoButton.isSelected()){\n                        cl.show(cards, showCardTwoButton.getText());\n                    }\n                    else if(showCardThreeButton.isSelected()){\n                        cl.show(cards, showCardThreeButton.getText());\n                    }\n                }\n            });\n            panel.add(showButton);\n\n            return panel;\n        }\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/YXreg.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313126879,"creation_date":1313126879,"answer_id":7035921,"question_id":7034176,"body_markdown":"    JPanel panelCSV, panelExcel, panelDatabase;\r\n    CardLayout cardLayout = new CardLayout();\r\n    JPanel pagePanel = new JPanel(cardLayout);\r\n    pagePanel.add(panelCSV, &quot;CSV&quot;);\r\n    pagePanel.add(panelExcel, &quot;Excel&quot;);\r\n    pagePanel.add(panelDatabase, &quot;Database&quot;);\r\n    \r\n    public void btnContinueActionPerformed(ActionEvent e) {\r\n        if ( rbCSV.isSelected() ) {\r\n            cardLayout.show(pagePanel, &quot;CSV&quot;);\r\n        } else if ( rbExcel.isSelected() ) {\r\n            cardLayout.show(pagePanel, &quot;Excel&quot;);\r\n        } else if ( rbDatabase.isSelected() ) {\r\n            cardLayout.show(pagePanel, &quot;Database&quot;);\r\n        } else {\r\n            // ....\r\n        }\r\n    }\r\n\r\n","title":"Java UI, trying to go to next page upon clicking button","body":"<pre><code>JPanel panelCSV, panelExcel, panelDatabase;\nCardLayout cardLayout = new CardLayout();\nJPanel pagePanel = new JPanel(cardLayout);\npagePanel.add(panelCSV, \"CSV\");\npagePanel.add(panelExcel, \"Excel\");\npagePanel.add(panelDatabase, \"Database\");\n\npublic void btnContinueActionPerformed(ActionEvent e) {\n    if ( rbCSV.isSelected() ) {\n        cardLayout.show(pagePanel, \"CSV\");\n    } else if ( rbExcel.isSelected() ) {\n        cardLayout.show(pagePanel, \"Excel\");\n    } else if ( rbDatabase.isSelected() ) {\n        cardLayout.show(pagePanel, \"Database\");\n    } else {\n        // ....\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":478669,"reputation":69,"user_id":890905,"accept_rate":50,"display_name":"Brandon Lehman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15557,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1668781588,"creation_date":1313105972,"question_id":7034176,"body_markdown":"I have a simple GUI with 3 radio buttons and a button.  I want the user to select a radio option, then upon clicking the button the user will be directed to a different Java UI depending upon which radio button they selected.  Here is my method:\r\n\r\n     private void btnContinueActionPerformed(java.awt.event.ActionEvent evt)\r\n     {\r\n          if(rbCSV.isSelected())\r\n          {\r\n               \r\n          }\r\n          else if(rbExcel.isSelected())\r\n          {\r\n               \r\n          }\r\n          else if(rbDatabase.isSelected())\r\n          {\r\n               \r\n          }\r\n          else\r\n          {\r\n               \r\n          }\r\n     }\r\n\r\nI am new to Java Swing, and not sure of the syntax that will allow me to direct the user to the next page.  Sort of like a Wizard, I guess.  Any help would be awesome!  Thanks!","title":"Java UI, trying to go to next page upon clicking button","body":"<p>I have a simple GUI with 3 radio buttons and a button.  I want the user to select a radio option, then upon clicking the button the user will be directed to a different Java UI depending upon which radio button they selected.  Here is my method:</p>\n\n<pre><code> private void btnContinueActionPerformed(java.awt.event.ActionEvent evt)\n {\n      if(rbCSV.isSelected())\n      {\n\n      }\n      else if(rbExcel.isSelected())\n      {\n\n      }\n      else if(rbDatabase.isSelected())\n      {\n\n      }\n      else\n      {\n\n      }\n }\n</code></pre>\n\n<p>I am new to Java Swing, and not sure of the syntax that will allow me to direct the user to the next page.  Sort of like a Wizard, I guess.  Any help would be awesome!  Thanks!</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2835334,"reputation":1103,"user_id":2436051,"accept_rate":100,"display_name":"Jens Krogsboell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781412,"creation_date":1668780471,"answer_id":74490899,"question_id":74490236,"body_markdown":"&lt;h1&gt;UPDATE&lt;/h1&gt;\r\nCreating my own bean class as suggested below was not the solution after all. It turns out that the fix really was upgrading from spring boot 2.5.5 to 2.7.5.\r\n&lt;br&gt;&lt;br&gt;\r\n&lt;h1&gt;Below is incorrect&lt;/h1&gt;\r\nI solved it by creating my owner bean class with a default constructor taking  dependencies for the super constructor from the enclosing spring component:\r\n\r\n```\r\npublic class AdminMessageListenerContainer extends KafkaMessageListenerContainer&lt;String, String&gt; {\r\n  public AdminMessageListenerContainer() {\r\n    super(adminKafkaConsumerFactory, adminMessageListenerContainerProperties);\r\n  }\r\n}\r\n```\r\nand then\r\n```\r\nprivate void startAdminMessageListener(Message heartbeat) {\r\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\r\n  if (adminMessageListenerContainer == null) {\r\n    synchronized (threadLock) {\r\n      if (adminMessageListenerContainer == null) {\r\n        this.adminMessageListenerContainerProperties = getAdminMessageListenerContainerProperties(topic);\r\n        final AdminMessageListenerContainer container = new AdminMessageListenerContainer();\r\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, AdminMessageListenerContainer.class, container);\r\n        container.start();\r\n        adminMessageListenerContainer = container;\r\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Dynamically registered bean causes exception in shutdown hook","body":"<h1>UPDATE</h1>\nCreating my own bean class as suggested below was not the solution after all. It turns out that the fix really was upgrading from spring boot 2.5.5 to 2.7.5.\n<br><br>\n<h1>Below is incorrect</h1>\nI solved it by creating my owner bean class with a default constructor taking  dependencies for the super constructor from the enclosing spring component:\n<pre><code>public class AdminMessageListenerContainer extends KafkaMessageListenerContainer&lt;String, String&gt; {\n  public AdminMessageListenerContainer() {\n    super(adminKafkaConsumerFactory, adminMessageListenerContainerProperties);\n  }\n}\n</code></pre>\n<p>and then</p>\n<pre><code>private void startAdminMessageListener(Message heartbeat) {\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\n  if (adminMessageListenerContainer == null) {\n    synchronized (threadLock) {\n      if (adminMessageListenerContainer == null) {\n        this.adminMessageListenerContainerProperties = getAdminMessageListenerContainerProperties(topic);\n        final AdminMessageListenerContainer container = new AdminMessageListenerContainer();\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, AdminMessageListenerContainer.class, container);\n        container.start();\n        adminMessageListenerContainer = container;\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2835334,"reputation":1103,"user_id":2436051,"accept_rate":100,"display_name":"Jens Krogsboell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668781412,"creation_date":1668777281,"question_id":74490236,"body_markdown":"In a Spring Boot application I am starting a Kafka listener container based on a topic name I receive after the application is started. My question however is perhaps not as much about Kafka as it is about dynamically registered beans in general.\r\n\r\n```java\r\nprivate volatile KafkaMessageListenerContainer&lt;String,String&gt; adminMessageListenerContainer;\r\nprivate final Object threadLock = new Object();\r\n...\r\n...\r\nprivate void startAdminMessageListener(Message heartbeat) {\r\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\r\n  if (adminMessageListenerContainer == null) {\r\n    synchronized (threadLock) {\r\n      if (adminMessageListenerContainer == null) {\r\n        final KafkaMessageListenerContainer&lt;String,String&gt; container = createAdminMessageLister(topic);\r\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, KafkaMessageListenerContainer.class, container);\r\n        container.start();\r\n        adminMessageListenerContainer = container;\r\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nThis works very well - except that when I stop the application I get this exception:\r\n```\r\n2022-11-18 13:59:30.861  WARN 67015 --- [ionShutdownHook] ConfigServletWebServerApplicationContext : Exception thrown from LifecycleProcessor on context close\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;adminMessageListenerContainer&#39;: Unsatisfied dependency expressed through constructor parameter 1: Ambiguous argument values for parameter of type [org.springframework.kafka.core.ConsumerFactory] - did you specify the correct bean references as arguments?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:787) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.getLifecycleBeans(DefaultLifecycleProcessor.java:285) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:191) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.5.5.jar:2.5.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.5.5.jar:2.5.5]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.5.5.jar:2.5.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\nHow can I avoid that?","title":"Dynamically registered bean causes exception in shutdown hook","body":"<p>In a Spring Boot application I am starting a Kafka listener container based on a topic name I receive after the application is started. My question however is perhaps not as much about Kafka as it is about dynamically registered beans in general.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private volatile KafkaMessageListenerContainer&lt;String,String&gt; adminMessageListenerContainer;\nprivate final Object threadLock = new Object();\n...\n...\nprivate void startAdminMessageListener(Message heartbeat) {\n  final String topic = heartbeat.getMessageTopicPrefix() + &quot;-&quot; + applicationClusterName;\n  if (adminMessageListenerContainer == null) {\n    synchronized (threadLock) {\n      if (adminMessageListenerContainer == null) {\n        final KafkaMessageListenerContainer&lt;String,String&gt; container = createAdminMessageLister(topic);\n        applicationContext.registerBean(&quot;adminMessageListenerContainer&quot;, KafkaMessageListenerContainer.class, container);\n        container.start();\n        adminMessageListenerContainer = container;\n        log.info(&quot;Starting admin message listener on topic {}&quot;, topic);\n      }\n    }\n  }\n}\n</code></pre>\n<p>This works very well - except that when I stop the application I get this exception:</p>\n<pre><code>2022-11-18 13:59:30.861  WARN 67015 --- [ionShutdownHook] ConfigServletWebServerApplicationContext : Exception thrown from LifecycleProcessor on context close\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminMessageListenerContainer': Unsatisfied dependency expressed through constructor parameter 1: Ambiguous argument values for parameter of type [org.springframework.kafka.core.ConsumerFactory] - did you specify the correct bean references as arguments?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:787) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.DefaultLifecycleProcessor.getLifecycleBeans(DefaultLifecycleProcessor.java:285) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:191) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:129) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1067) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.5.5.jar:2.5.5]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.5.5.jar:2.5.5]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.5.5.jar:2.5.5]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>How can I avoid that?</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1668618041,"post_id":74464377,"comment_id":131450961,"body_markdown":"I am trying to use HQL. When I delete nativequery i still get an syntax error.","body":"I am trying to use HQL. When I delete nativequery i still get an syntax error."}],"tags":[],"owner":{"account_id":224322,"reputation":451,"user_id":5647851,"display_name":"C&#233;sar Alves"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668617858,"creation_date":1668617858,"answer_id":74464377,"question_id":74464155,"body_markdown":"You are using a native query, not an HQL query. Check your SQL syntax.","title":"SQL Syntax error in Hibernate&#39;s map function","body":"<p>You are using a native query, not an HQL query. Check your SQL syntax.</p>\n"},{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781369,"creation_date":1668781369,"answer_id":74491086,"question_id":74464155,"body_markdown":"With a native query, your named parameter won&#39;t work. You need to remove the `nativeQuery = true`","title":"SQL Syntax error in Hibernate&#39;s map function","body":"<p>With a native query, your named parameter won't work. You need to remove the <code>nativeQuery = true</code></p>\n"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668781369,"creation_date":1668616768,"question_id":74464155,"body_markdown":"```SELECT NEW Map (PRODUCT_CATEGORY, COUNT(PRODUCT_CATEGORY) AS COUNTER) from Product WHERE USER_ID = (SELECT USER_ID FROM USERS WHERE USERNAME=&#39;burak123&#39; ```\r\n\r\nHi everyone,\r\nAs hibernates document says here: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select\r\n\r\nI am trying to map the query result into a hash map like this\r\n\r\n```\r\n@Query(value = &quot;SELECT NEW Map( PRODUCT_CATEGORY , COUNT(PRODUCT_CATEGORY) AS COUNTER )  from Product WHERE USER_ID=(SELECT USER_ID FROM USERS WHERE USERNAME=(:username)) &quot;,nativeQuery = true)\r\n    HashMap&lt;Integer,Integer&gt; getCategoryCountsWithUsername(@Param(&quot;username&quot;)String username);\r\n```\r\nBut it throws an JdbcSyntaxErrorException. I am trying to solve this for like 1 hours already. Can someone help?","title":"SQL Syntax error in Hibernate&#39;s map function","body":"<p><code>SELECT NEW Map (PRODUCT_CATEGORY, COUNT(PRODUCT_CATEGORY) AS COUNTER) from Product WHERE USER_ID = (SELECT USER_ID FROM USERS WHERE USERNAME='burak123' </code></p>\n<p>Hi everyone,\nAs hibernates document says here: <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select</a></p>\n<p>I am trying to map the query result into a hash map like this</p>\n<pre><code>@Query(value = &quot;SELECT NEW Map( PRODUCT_CATEGORY , COUNT(PRODUCT_CATEGORY) AS COUNTER )  from Product WHERE USER_ID=(SELECT USER_ID FROM USERS WHERE USERNAME=(:username)) &quot;,nativeQuery = true)\n    HashMap&lt;Integer,Integer&gt; getCategoryCountsWithUsername(@Param(&quot;username&quot;)String username);\n</code></pre>\n<p>But it throws an JdbcSyntaxErrorException. I am trying to solve this for like 1 hours already. Can someone help?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver","chrome-web-driver"],"comments":[{"owner":{"account_id":10183910,"reputation":3715,"user_id":8588359,"accept_rate":100,"display_name":"Raj"},"score":0,"creation_date":1573453105,"post_id":58796324,"comment_id":103873712,"body_markdown":"Please add some more information.","body":"Please add some more information."},{"owner":{"account_id":10829360,"reputation":780,"user_id":7964299,"accept_rate":80,"display_name":"Naveen"},"score":0,"creation_date":1573455502,"post_id":58796324,"comment_id":103874464,"body_markdown":"if you have any Chrome or chrome driver instance running, close them and retry again. Also is this in an AWS / Citrix machine?","body":"if you have any Chrome or chrome driver instance running, close them and retry again. Also is this in an AWS / Citrix machine?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573469069,"creation_date":1573469069,"answer_id":58799859,"question_id":58796324,"body_markdown":"This error message...\r\n\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\t[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\r\n\tNov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n\tINFO: Detected dialect: W3C\r\n\t[1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\r\n\r\n...implies that the **ChromeDriver** was unable to initiate/spawn a new **WebBrowser** i.e. **Chrome Browser** session.\r\n\r\n\r\n----------\r\n\r\n\r\nAnalysis\r\n--------\r\nThe first log message:\r\n\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\r\nis part of the startup log when using [ChromeDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) and is informative in nature. \r\n\r\n&gt;You can find a detailed discussion in [How do I protect the ports that chromedriver use?](https://stackoverflow.com/questions/55442679/how-do-i-protect-the-ports-that-chromedriver-use/55450099#55450099)\r\n\r\n\r\n----------\r\n\r\n\r\nThe following log message:\r\n\r\n\t[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\r\n\t\r\nindicates there are some **incompatibility** between the version of the binaries you are using.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _JDK_ is upgraded to  current levels [JDK 8u222](https://www.oracle.com/technetwork/java/javase/downloads/index.html).\r\n- _Selenium_ is upgraded to  current levels [Version 3.141.59](https://docs.seleniumhq.org/download/).\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v78.0](https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/) level.\r\n- _Chrome_ is updated to  current _Chrome Version 78.0_ level. (as per [ChromeDriver v78.0 release notes](https://chromedriver.storage.googleapis.com/78.0.3904.70/notes.txt))\r\n- _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n- (_WindowsOS only_) Use [_CCleaner_](https://www.ccleaner.com/ccleaner) tool to wipe off all the OS chores before and after the execution of your _Test Suite_.\r\n- (_LinuxOS only_) [Free Up and Release the Unused/Cached Memory in Ubuntu/Linux Mint](http://www.yourownlinux.com/2013/10/how-to-free-up-release-unused-cached-memory-in-linux.html) before and after the execution of your _Test Suite_.\r\n- If your base _Web Client_ version is too old, then uninstall it and install a recent GA and released version of _Web Client_.\r\n- Take a _System Reboot_.\r\n- Execute your `@Test` as **non-root** user.\r\n- Always invoke `driver.quit()` within `tearDown(){}` method to close &amp; destroy the _WebDriver_ and _Web Client_ instances gracefully.","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>This error message...</p>\n\n<pre><code>Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\nNov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n[1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\n</code></pre>\n\n<p>...implies that the <strong>ChromeDriver</strong> was unable to initiate/spawn a new <strong>WebBrowser</strong> i.e. <strong>Chrome Browser</strong> session.</p>\n\n<hr>\n\n<h2>Analysis</h2>\n\n<p>The first log message:</p>\n\n<pre><code>Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n</code></pre>\n\n<p>is part of the startup log when using <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">ChromeDriver</a> and is informative in nature. </p>\n\n<blockquote>\n  <p>You can find a detailed discussion in <a href=\"https://stackoverflow.com/questions/55442679/how-do-i-protect-the-ports-that-chromedriver-use/55450099#55450099\">How do I protect the ports that chromedriver use?</a></p>\n</blockquote>\n\n<hr>\n\n<p>The following log message:</p>\n\n<pre><code>[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\n</code></pre>\n\n<p>indicates there are some <strong>incompatibility</strong> between the version of the binaries you are using.</p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Ensure that:</p>\n\n<ul>\n<li><em>JDK</em> is upgraded to  current levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u222</a>.</li>\n<li><em>Selenium</em> is upgraded to  current levels <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Version 3.141.59</a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/\" rel=\"nofollow noreferrer\">ChromeDriver v78.0</a> level.</li>\n<li><em>Chrome</em> is updated to  current <em>Chrome Version 78.0</em> level. (as per <a href=\"https://chromedriver.storage.googleapis.com/78.0.3904.70/notes.txt\" rel=\"nofollow noreferrer\">ChromeDriver v78.0 release notes</a>)</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>(<em>WindowsOS only</em>) Use <a href=\"https://www.ccleaner.com/ccleaner\" rel=\"nofollow noreferrer\"><em>CCleaner</em></a> tool to wipe off all the OS chores before and after the execution of your <em>Test Suite</em>.</li>\n<li>(<em>LinuxOS only</em>) <a href=\"http://www.yourownlinux.com/2013/10/how-to-free-up-release-unused-cached-memory-in-linux.html\" rel=\"nofollow noreferrer\">Free Up and Release the Unused/Cached Memory in Ubuntu/Linux Mint</a> before and after the execution of your <em>Test Suite</em>.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> user.</li>\n<li>Always invoke <code>driver.quit()</code> within <code>tearDown(){}</code> method to close &amp; destroy the <em>WebDriver</em> and <em>Web Client</em> instances gracefully.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1574149573,"post_id":58821922,"comment_id":104117986,"body_markdown":"How is your answer different from the already published [other answer](https://stackoverflow.com/questions/58796324/how-to-fix-1573451709-039warning-timed-out-connecting-to-chrome-retrying/58799859#58799859)?","body":"How is your answer different from the already published <a href=\"https://stackoverflow.com/questions/58796324/how-to-fix-1573451709-039warning-timed-out-connecting-to-chrome-retrying/58799859#58799859\">other answer</a>?"}],"tags":[],"owner":{"account_id":13455428,"reputation":1,"user_id":9709117,"display_name":"Julio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578516083,"creation_date":1573573014,"answer_id":58821922,"question_id":58796324,"body_markdown":"I had to update to the dev version of chrome 79 and the latest dev version of chromedriver to make it work. Although I&#39;ve run against other issues with this version, so I don&#39;t know if its a good solution.","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>I had to update to the dev version of chrome 79 and the latest dev version of chromedriver to make it work. Although I've run against other issues with this version, so I don't know if its a good solution.</p>\n"},{"tags":[],"owner":{"account_id":7950604,"reputation":173,"user_id":6001534,"display_name":"nimodka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668781276,"creation_date":1668781276,"answer_id":74491065,"question_id":58796324,"body_markdown":"I have fixed this issue of timeout / Connection reset by changing my code from:\r\n```\r\npublic void AfterScenario(Scenario sc) {\t\r\n\t\tdriver.close();\r\n\t\tdriver.quit();\r\n\t\tdriver = null;\r\n\t}\r\n```\r\nto:\r\n```\r\npublic void AfterScenario(Scenario sc) {\r\n\t\tdriver.quit();\r\n\t\tdriver = null;\r\n\t}\r\n```\r\nSo basically I removed the driver.close() and this fixed my issue. I do not know why this is happening, but experts can explain more...","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>I have fixed this issue of timeout / Connection reset by changing my code from:</p>\n<pre><code>public void AfterScenario(Scenario sc) {    \n        driver.close();\n        driver.quit();\n        driver = null;\n    }\n</code></pre>\n<p>to:</p>\n<pre><code>public void AfterScenario(Scenario sc) {\n        driver.quit();\n        driver = null;\n    }\n</code></pre>\n<p>So basically I removed the driver.close() and this fixed my issue. I do not know why this is happening, but experts can explain more...</p>\n"}],"owner":{"account_id":16199397,"reputation":41,"user_id":11696155,"display_name":"Neha Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18198,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1668781276,"creation_date":1573452644,"question_id":58796324,"body_markdown":"My Chrome browser is updated to version 78 and when I tried to execute any code of automation, it shows the error\r\n\r\n\r\n    Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n    [1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\r\n    Nov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\r\n\r\n\r\n\r\n\r\nHow can I fix it?","title":"How to fix [1573451709.039][WARNING]: Timed out connecting to Chrome, retrying... while using chrome version 78 and chrome driver version 78.0.3904.70","body":"<p>My Chrome browser is updated to version 78 and when I tried to execute any code of automation, it shows the error</p>\n\n<pre><code>Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\n[1573451703.668][WARNING]: Timed out connecting to Chrome, retrying...\nNov 11, 2019 11:25:05 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n[1573451709.039][WARNING]: Timed out connecting to Chrome, retrying...\n</code></pre>\n\n<p>How can I fix it?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"score":0,"creation_date":1668767387,"post_id":74488179,"comment_id":131491592,"body_markdown":"what message you want to show like &quot;end of list&quot;","body":"what message you want to show like &quot;end of list&quot;"},{"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"score":0,"creation_date":1668767602,"post_id":74488179,"comment_id":131491661,"body_markdown":"refer https://stackoverflow.com/questions/40726438/android-detect-when-the-last-item-in-a-recyclerview-is-visible","body":"refer <a href=\"https://stackoverflow.com/questions/40726438/android-detect-when-the-last-item-in-a-recyclerview-is-visible\" title=\"android detect when the last item in a recyclerview is visible\">stackoverflow.com/questions/40726438/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":20891675,"reputation":1,"user_id":15346902,"display_name":"mrp"},"score":0,"creation_date":1668783119,"post_id":74491033,"comment_id":131496955,"body_markdown":"With this code, the message will be displayed when you scroll, I want the message to be displayed when you reach the last item in the list.","body":"With this code, the message will be displayed when you scroll, I want the message to be displayed when you reach the last item in the list."},{"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"score":0,"creation_date":1668792535,"post_id":74491033,"comment_id":131500342,"body_markdown":"What do you mean by that? You can check it inside of the adapter...","body":"What do you mean by that? You can check it inside of the adapter..."}],"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668781140,"creation_date":1668781140,"answer_id":74491033,"question_id":74488179,"body_markdown":"This is what I usually use when I want to check if the user is reached to the bottom of the recyclerView\r\n```\r\nrecyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n    @Override\r\n    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n        LinearLayoutManager lm=LinearLayoutManager.class.cast(recyclerView.getLayoutManager());\r\n        int items= lm.getItemCount();\r\n        int last = lm.findLastVisibleItemPosition();\r\n\r\n        boolean bottom= last+ 5 &gt;= items;\r\n        if (items&gt; 0 &amp;&amp; bottom) {\r\n            //you have reached to the bottom of your recycler view\r\n        }\r\n    }\r\n});\r\n```","title":"The last item in the recyclerView list","body":"<p>This is what I usually use when I want to check if the user is reached to the bottom of the recyclerView</p>\n<pre><code>recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n    @Override\n    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n        LinearLayoutManager lm=LinearLayoutManager.class.cast(recyclerView.getLayoutManager());\n        int items= lm.getItemCount();\n        int last = lm.findLastVisibleItemPosition();\n\n        boolean bottom= last+ 5 &gt;= items;\n        if (items&gt; 0 &amp;&amp; bottom) {\n            //you have reached to the bottom of your recycler view\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":20891675,"reputation":1,"user_id":15346902,"display_name":"mrp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668781140,"creation_date":1668766928,"question_id":74488179,"body_markdown":"How can I display a message to the user after scrolling the recyclerview items and viewing the last item in the list?\r\n\r\n\r\nThe code below does not work\r\n\r\n\r\n```\r\nrecyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener(){\r\n    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\r\n        super.onScrolled(recyclerView, dx, dy)\r\n\r\n\r\n        val count= recyclerView.layoutManager?.itemCount\r\n\r\n        if (customerModels.size==count){\r\n            Toast.makeText(applicationContext,&quot;true&quot;,Toast.LENGTH_LONG).show()\r\n\r\n        }\r\n\r\n    }\r\n})\r\n```\r\n","title":"The last item in the recyclerView list","body":"<p>How can I display a message to the user after scrolling the recyclerview items and viewing the last item in the list?</p>\n<p>The code below does not work</p>\n<pre><code>recyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener(){\n    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n        super.onScrolled(recyclerView, dx, dy)\n\n\n        val count= recyclerView.layoutManager?.itemCount\n\n        if (customerModels.size==count){\n            Toast.makeText(applicationContext,&quot;true&quot;,Toast.LENGTH_LONG).show()\n\n        }\n\n    }\n})\n</code></pre>\n"},{"tags":["java","benchmarking","jit"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1668783484,"post_id":74491019,"comment_id":131497077,"body_markdown":"You cannot do this.  You will need to set up your benchmark some other way -- probably using JMH.","body":"You cannot do this.  You will need to set up your benchmark some other way -- probably using JMH."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668785854,"post_id":74491019,"comment_id":131497913,"body_markdown":"Just restart the virtual machine?","body":"Just restart the virtual machine?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1668788966,"post_id":74491019,"comment_id":131499083,"body_markdown":"What are you trying to do? If you want to know how long it takes, why not benchmark that with the optimizations? If you&#39;re looking to improve performance, use a Profiler to see where your code spends its time.","body":"What are you trying to do? If you want to know how long it takes, why not benchmark that with the optimizations? If you&#39;re looking to improve performance, use a Profiler to see where your code spends its time."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1668789770,"post_id":74491019,"comment_id":131499380,"body_markdown":"Can you use the `asm` class to modify the bytecode, call it forcing it to re-JIT, then modify it back to its original?  I&#39;d guess that might work.  Or change some variable that was previously constant, if it had speculatively inlined / constant-propagated based on that, it would have to redo optimization.  But see also [Idiomatic way of performance evaluation?](https://stackoverflow.com/q/60291987) for potential pitfalls of microbenchmarking.","body":"Can you use the <code>asm</code> class to modify the bytecode, call it forcing it to re-JIT, then modify it back to its original?  I&#39;d guess that might work.  Or change some variable that was previously constant, if it had speculatively inlined / constant-propagated based on that, it would have to redo optimization.  But see also <a href=\"https://stackoverflow.com/q/60291987\">Idiomatic way of performance evaluation?</a> for potential pitfalls of microbenchmarking."},{"owner":{"account_id":9237444,"reputation":1,"user_id":6861603,"display_name":"Temurbek Khujaev"},"score":0,"creation_date":1668973902,"post_id":74491019,"comment_id":131530764,"body_markdown":"@Robert I want to compare results of running with different parameters. Like for first run alpha =1 and for second run alpha=1.5 and etc.","body":"@Robert I want to compare results of running with different parameters. Like for first run alpha =1 and for second run alpha=1.5 and etc."}],"owner":{"account_id":9237444,"reputation":1,"user_id":6861603,"display_name":"Temurbek Khujaev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668781062,"creation_date":1668781062,"question_id":74491019,"body_markdown":"I have a java process that benchmarks some long running function. But because of cumulative JIT optimizations every next call to the function performs better then previous calls. \r\n\r\n\r\nJust using `-Xint` to disable JIT is not an option, because it becomes 10x slower and impossible to benchmark.","title":"Is there a way to reset JIT optimizations data at runtime?","body":"<p>I have a java process that benchmarks some long running function. But because of cumulative JIT optimizations every next call to the function performs better then previous calls.</p>\n<p>Just using <code>-Xint</code> to disable JIT is not an option, because it becomes 10x slower and impossible to benchmark.</p>\n"},{"tags":["java","maven","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668850639,"post_id":74490578,"comment_id":131509656,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":24534670,"reputation":1,"user_id":18445945,"display_name":"shri"},"score":0,"creation_date":1668875038,"post_id":74490578,"comment_id":131514609,"body_markdown":"Hi My issue got resolved by adding asynchttpclient maven dependency in POM.","body":"Hi My issue got resolved by adding asynchttpclient maven dependency in POM."}],"owner":{"account_id":24534670,"reputation":1,"user_id":18445945,"display_name":"shri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668780364,"creation_date":1668778903,"question_id":74490578,"body_markdown":"Recently I have upgraded my selenium version from 3.141.59 to 4.1.0 and whenever I am running my script getting the below error\r\n\r\n\r\nConsole &amp;3\r\nN. Results of running class TestRunner\r\n髪\r\n```\r\nminated&gt; TestRunner [TestNG] C:\\Program FilesVava\\jdk1.8.0_321\\bin\\javaw.exe (Nov 18, 2022, 6:46:33 PM)\r\njava.lang.NoClassDefFoundError: org/asynchttpclient/DefaultAsyncHttpClientConfig$Builder at org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91 at org.openqa.selenium.remote.http.netty .NettyClient.&lt;clinit&gt;(NettyClient.java:57)\r\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.jav at org.openqa.selenium.remote.tracing.TracedHttpClient$Factory.createClient(TracedHttpCli at org-openqa.selenium.remote.HttpCommandExecutor-&lt;init&gt;(HttpCommandExecutor.java:107) at org.openqa.selenium. remote. RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Re at org.openqa.selenium. remote. RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java: 146) at com.cucumber.utility.BrowserFactory.launchBrowser (BrowserFactory. java: 82) at com.cucumber.step.StepDefinition _.launch_the_browser_and_navigate_to_ at ?.Launch the browser &quot;yes&quot; &quot;Chrome&quot; &quot;105.0&quot; &quot;Windows 10&quot; and navigate to URL Env &quot;h sed by: java.lang.ClassNotFoundException: org.asynchttpclient.DefaultAsyncHttpClientConfig$Bui\r\nat java.net.URLClassLoader.findClass(URLClassLoader. java: 387)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\nat sun.misc. Launcher$ApplassLoader. loadClass (Launcher. java:355) at java.lang.ClassLoader.loadClass (ClassLoader. java: 351)\r\nat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91)\r\nat org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:57)\r\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java at org.openqa.selenium.remote.tracing. TracedHttpClient$Factory.createClient (TracedHttplie at org.openqa.selenium. remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor. java:107) at org.openga.selenium.remote.RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Rem at org.openqa.selenium.remote. RemoteWebDriver.&lt;init&gt; (RemoteWebDriver.java:146) at com.cucumber.utility.BrowserFactory.launchBrowser(BrowserFactory.java:82) at com.cucumber.step.StepDefinition_.launch_the_browser_and_navigate_to_Paypal at sun.reflect.NativeMethodAccessorImpl.invoke&#174; (Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImp1.java:62) at sun.reflect.DelegatingMethodAccessorImp1.invoke (DelegatingMethodAccessorImpl. java:43) at java.lang.reflect.Method.invoke (Method. java: 498) at cucumber.runtime.Utils$1.call(Utils. java: 26)\r\n=+\r\nTimenit timenit / Timennt\r\n```\r\n\r\nI had okhttp3 class where now I have commented it due to its throwing error.","title":"ClassNotFoundException: org.asynchttpclient.defaultasyncHttpClientConfigBuilder error","body":"<p>Recently I have upgraded my selenium version from 3.141.59 to 4.1.0 and whenever I am running my script getting the below error</p>\n<p>Console &amp;3\nN. Results of running class TestRunner\n髪</p>\n<pre><code>minated&gt; TestRunner [TestNG] C:\\Program FilesVava\\jdk1.8.0_321\\bin\\javaw.exe (Nov 18, 2022, 6:46:33 PM)\njava.lang.NoClassDefFoundError: org/asynchttpclient/DefaultAsyncHttpClientConfig$Builder at org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91 at org.openqa.selenium.remote.http.netty .NettyClient.&lt;clinit&gt;(NettyClient.java:57)\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.jav at org.openqa.selenium.remote.tracing.TracedHttpClient$Factory.createClient(TracedHttpCli at org-openqa.selenium.remote.HttpCommandExecutor-&lt;init&gt;(HttpCommandExecutor.java:107) at org.openqa.selenium. remote. RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Re at org.openqa.selenium. remote. RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java: 146) at com.cucumber.utility.BrowserFactory.launchBrowser (BrowserFactory. java: 82) at com.cucumber.step.StepDefinition _.launch_the_browser_and_navigate_to_ at ?.Launch the browser &quot;yes&quot; &quot;Chrome&quot; &quot;105.0&quot; &quot;Windows 10&quot; and navigate to URL Env &quot;h sed by: java.lang.ClassNotFoundException: org.asynchttpclient.DefaultAsyncHttpClientConfig$Bui\nat java.net.URLClassLoader.findClass(URLClassLoader. java: 387)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\nat sun.misc. Launcher$ApplassLoader. loadClass (Launcher. java:355) at java.lang.ClassLoader.loadClass (ClassLoader. java: 351)\nat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:91)\nat org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:57)\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java at org.openqa.selenium.remote.tracing. TracedHttpClient$Factory.createClient (TracedHttplie at org.openqa.selenium. remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor. java:107) at org.openga.selenium.remote.RemoteWebDriver.createTracedExecutorWithTracedHttpClient(Rem at org.openqa.selenium.remote. RemoteWebDriver.&lt;init&gt; (RemoteWebDriver.java:146) at com.cucumber.utility.BrowserFactory.launchBrowser(BrowserFactory.java:82) at com.cucumber.step.StepDefinition_.launch_the_browser_and_navigate_to_Paypal at sun.reflect.NativeMethodAccessorImpl.invoke® (Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImp1.java:62) at sun.reflect.DelegatingMethodAccessorImp1.invoke (DelegatingMethodAccessorImpl. java:43) at java.lang.reflect.Method.invoke (Method. java: 498) at cucumber.runtime.Utils$1.call(Utils. java: 26)\n=+\nTimenit timenit / Timennt\n</code></pre>\n<p>I had okhttp3 class where now I have commented it due to its throwing error.</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1668622876,"post_id":74465322,"comment_id":131452725,"body_markdown":"Hi there, please provide the samples and all attempted regexes (inputs: matching, non matching) **in plain text format** so whoever wants to help you will be able to copy and test their solution.","body":"Hi there, please provide the samples and all attempted regexes (inputs: matching, non matching) <b>in plain text format</b> so whoever wants to help you will be able to copy and test their solution."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1668623847,"post_id":74465322,"comment_id":131453050,"body_markdown":"You can just add a *word boundary*, e.g. [`^\\b0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)*0*$`](https://regex101.com/r/gwRqnH/2) This will force a *word character* which digits belong to.","body":"You can just add a <i>word boundary</i>, e.g. <a href=\"https://regex101.com/r/gwRqnH/2\" rel=\"nofollow noreferrer\"><code>^\\b0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)*0*$</code></a> This will force a <i>word character</i> which digits belong to."},{"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"score":0,"creation_date":1668630517,"post_id":74465322,"comment_id":131455357,"body_markdown":"@bobblebubble - your solution works, but not solves my problem, which is - why backreference is not working for this case, regardless +1 for you ;)","body":"@bobblebubble - your solution works, but not solves my problem, which is - why backreference is not working for this case, regardless +1 for you ;)"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1668631556,"post_id":74465322,"comment_id":131455686,"body_markdown":"As per the [ask], please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1668632185,"post_id":74465322,"comment_id":131455848,"body_markdown":"@BJagger As far as I know `\\k&lt;grp&gt;` ist a [reference](https://www.regular-expressions.info/named.html) to what was matched by the referenced group. [`(?&lt;grp&gt;abc)123\\k&lt;grp&gt;`](https://regex101.com/r/zEvg1h/1) is the same like using e.g. [`(?&lt;grp&gt;abc)123\\1`](https://regex101.com/r/uHcsBk/1) or [`(abc)123\\1`](https://regex101.com/r/6K7mJu/1). Instead of the `\\b` you could also use a lookahead to check if next character is not the end `(?!$)` or require at least one character `(?=.)`  but those are a bit less efficient than the `\\b` &quot;trick&quot;.","body":"@BJagger As far as I know <code>\\k&lt;grp&gt;</code> ist a <a href=\"https://www.regular-expressions.info/named.html\" rel=\"nofollow noreferrer\">reference</a> to what was matched by the referenced group. <a href=\"https://regex101.com/r/zEvg1h/1\" rel=\"nofollow noreferrer\"><code>(?&lt;grp&gt;abc)123\\k&lt;grp&gt;</code></a> is the same like using e.g. <a href=\"https://regex101.com/r/uHcsBk/1\" rel=\"nofollow noreferrer\"><code>(?&lt;grp&gt;abc)123\\1</code></a> or <a href=\"https://regex101.com/r/6K7mJu/1\" rel=\"nofollow noreferrer\"><code>(abc)123\\1</code></a>. Instead of the <code>\\b</code> you could also use a lookahead to check if next character is not the end <code>(?!$)</code> or require at least one character <code>(?=.)</code>  but those are a bit less efficient than the <code>\\b</code> &quot;trick&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668642664,"creation_date":1668642664,"answer_id":74468617,"question_id":74465322,"body_markdown":"In your pattern you have this `(?&lt;pat&gt;^[10]+$)` followed by `\\k&lt;pat&gt;` which matches the characters that were captured by the named group `pat`.\r\n\r\nBut as you only match `0` or `1` and you have an anchor `$` that asserts the end of the string, there is no more text to match after it by the backreference.\r\n\r\nAs you don&#39;t want to match empty strings, you can write the pattern as:\r\n\r\n    ^(?&lt;pat&gt;0*(1(10)*(0|11)(01*0(01)*1|00)*1)+0*|0+)$\r\n\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `(?&lt;pat&gt;` Named group `pat`\r\n  - `0*` Match optional zeroes\r\n  - `(` Start group to repeat as a whole part\r\n    - `1(10)*(0|11)(01*0(01)*1|00)*1` The initial pattern\r\n  - `)+` Close group and repeat this part 1 or more times to prevent matching an empty string\r\n  - `0*` Match optional zeroes\r\n  - `|` Or\r\n  - `0+` Match 1+ times a zero to prevent matching an empty string\r\n- `)` Close group `pat`\r\n- `$` End of string\r\n\r\nSee a [regex demo](https://regex101.com/r/M0TsZo/1).\r\n\r\n**Note** that I have removed some of the outer capture groups like `(11)` and `(00)` and `(01*0)` which are unnecessary for a match only. \r\n\r\nIf you are only interested in the named group *pat* you can use non capture groups `(?:` instead:\r\n\r\n    ^(?&lt;pat&gt;0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)+0*|0+)$","title":"Patterns in two catching groups work as intended but fail when put in backreference","body":"<p>In your pattern you have this <code>(?&lt;pat&gt;^[10]+$)</code> followed by <code>\\k&lt;pat&gt;</code> which matches the characters that were captured by the named group <code>pat</code>.</p>\n<p>But as you only match <code>0</code> or <code>1</code> and you have an anchor <code>$</code> that asserts the end of the string, there is no more text to match after it by the backreference.</p>\n<p>As you don't want to match empty strings, you can write the pattern as:</p>\n<pre><code>^(?&lt;pat&gt;0*(1(10)*(0|11)(01*0(01)*1|00)*1)+0*|0+)$\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(?&lt;pat&gt;</code> Named group <code>pat</code>\n<ul>\n<li><code>0*</code> Match optional zeroes</li>\n<li><code>(</code> Start group to repeat as a whole part\n<ul>\n<li><code>1(10)*(0|11)(01*0(01)*1|00)*1</code> The initial pattern</li>\n</ul>\n</li>\n<li><code>)+</code> Close group and repeat this part 1 or more times to prevent matching an empty string</li>\n<li><code>0*</code> Match optional zeroes</li>\n<li><code>|</code> Or</li>\n<li><code>0+</code> Match 1+ times a zero to prevent matching an empty string</li>\n</ul>\n</li>\n<li><code>)</code> Close group <code>pat</code></li>\n<li><code>$</code> End of string</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/M0TsZo/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><strong>Note</strong> that I have removed some of the outer capture groups like <code>(11)</code> and <code>(00)</code> and <code>(01*0)</code> which are unnecessary for a match only.</p>\n<p>If you are only interested in the named group <em>pat</em> you can use non capture groups <code>(?:</code> instead:</p>\n<pre><code>^(?&lt;pat&gt;0*(?:1(?:10)*(?:0|11)(?:01*0(?:01)*1|00)*1)+0*|0+)$\n</code></pre>\n"}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668780327,"creation_date":1668622404,"question_id":74465322,"body_markdown":"I write regex which should match a pattern consisting of only optional characters, but simultaneously I want it to doesn&#39;t match an empty string - I figured that I will use backreference for this, but when I try to apply it  my checks stop working: probably I lack in understanding of backreference but please give me a hint where I am making a mistake, my regex:\r\n```\r\n(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\r\n```\r\n**Both subpatterns applied - no matches - regardless if correct or wrong**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Only the second pattern applied (with additional checks for anchors - all correct matches work but also matches empty line**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Only first pattern applied: matches any combination of 1 and 0**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BlMYp.png\r\n  [2]: https://i.stack.imgur.com/PxoW2.png\r\n  [3]: https://i.stack.imgur.com/c2BYZ.png\r\n\r\nAlso, I have a secondary question: If I am using backreference can I use anchors `^` and `$` to check if the whole pattern matched by the first group is matched in backreference?\r\nAs requested in the comments here are inputs \r\n```\r\nThose should match:\r\n101\r\n000\r\n1010\r\n10100\r\nThose should NOT match (empty string in first row):\r\n\r\n101110101\r\n1110001\r\n1000\r\n11\r\n```\r\nand patterns:\r\n```\r\n^[10]+$\r\n^0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*$\r\n(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\r\n```","title":"Patterns in two catching groups work as intended but fail when put in backreference","body":"<p>I write regex which should match a pattern consisting of only optional characters, but simultaneously I want it to doesn't match an empty string - I figured that I will use backreference for this, but when I try to apply it  my checks stop working: probably I lack in understanding of backreference but please give me a hint where I am making a mistake, my regex:</p>\n<pre><code>(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\n</code></pre>\n<p><strong>Both subpatterns applied - no matches - regardless if correct or wrong</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BlMYp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BlMYp.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Only the second pattern applied (with additional checks for anchors - all correct matches work but also matches empty line</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PxoW2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxoW2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Only first pattern applied: matches any combination of 1 and 0</strong></p>\n<p><a href=\"https://i.stack.imgur.com/c2BYZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2BYZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, I have a secondary question: If I am using backreference can I use anchors <code>^</code> and <code>$</code> to check if the whole pattern matched by the first group is matched in backreference?\nAs requested in the comments here are inputs</p>\n<pre><code>Those should match:\n101\n000\n1010\n10100\nThose should NOT match (empty string in first row):\n\n101110101\n1110001\n1000\n11\n</code></pre>\n<p>and patterns:</p>\n<pre><code>^[10]+$\n^0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*$\n(?&lt;pat&gt;^[10]+$)(\\k&lt;pat&gt;0*(1(10)*(0|(11))((01*0)(01)*1|(00))*1)*0*)\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1668779457,"post_id":74490597,"comment_id":131495545,"body_markdown":"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html section 67.8","body":"<a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.2.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a> section 67.8"}],"answers":[{"tags":[],"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668779832,"creation_date":1668779832,"answer_id":74490750,"question_id":74490597,"body_markdown":"JAR stands for Java ARchive. JAR is the only archive format that is cross-platform and the only format that handles audio and image files as well as class files.\r\n\r\nWhen `jar.enabled` is set to `true` it creates a JAR of your application in `build/libs/`.\r\n","title":"Meaning of jar.enabled=false in Gradle","body":"<p>JAR stands for Java ARchive. JAR is the only archive format that is cross-platform and the only format that handles audio and image files as well as class files.</p>\n<p>When <code>jar.enabled</code> is set to <code>true</code> it creates a JAR of your application in <code>build/libs/</code>.</p>\n"}],"owner":{"account_id":1014385,"reputation":10749,"user_id":1026271,"accept_rate":87,"display_name":"Alon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74490750,"answer_count":1,"score":0,"last_activity_date":1668779832,"creation_date":1668779036,"question_id":74490597,"body_markdown":"I&#39;ve seen in a build.gradle file the following setting:\r\n\r\n    jar.enabled = false\r\n\r\nWhat does that line do?\r\n\r\nSorry but I just couldn&#39;t find it on Google.","title":"Meaning of jar.enabled=false in Gradle","body":"<p>I've seen in a build.gradle file the following setting:</p>\n<pre><code>jar.enabled = false\n</code></pre>\n<p>What does that line do?</p>\n<p>Sorry but I just couldn't find it on Google.</p>\n"},{"tags":["java","autoit","cmdline-args"],"comments":[{"owner":{"account_id":5195749,"reputation":2617,"user_id":4157124,"display_name":"user4157124"},"score":0,"creation_date":1668779694,"post_id":74485978,"comment_id":131495656,"body_markdown":"Does this answer your question? [Use whitespace in Windows command line parameters](https://stackoverflow.com/questions/50625457/use-whitespace-in-windows-command-line-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50625457/use-whitespace-in-windows-command-line-parameters\">Use whitespace in Windows command line parameters</a>"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668758671,"creation_date":1668758671,"answer_id":74486593,"question_id":74485978,"body_markdown":"Take your file path into `&quot;` so that your `exec` would look like:\r\n\r\n```\r\nRuntime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\r\n                + &quot;\\&quot;&quot; + filePath + &quot;\\&quot;&quot;);\r\n```","title":"How to put filename with spaces as parameter?","body":"<p>Take your file path into <code>&quot;</code> so that your <code>exec</code> would look like:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\n                + &quot;\\&quot;&quot; + filePath + &quot;\\&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":10615752,"reputation":62,"user_id":7818170,"accept_rate":67,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74486593,"answer_count":1,"score":-1,"last_activity_date":1668779688,"creation_date":1668754948,"question_id":74485978,"body_markdown":"When I run my AutoIt script for a filename without spaces (&quot;filename.txt&quot;) it gets executed successfully. But when filename contains spaces (&quot;File Name.txt&quot;) I get error &quot;File not found&quot;.\r\n\r\nParameterized.au3 :\r\n\r\n```\r\nControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;)\r\nControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;,$CmdLine[1])\r\nControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)\r\n```\r\n\r\nExecution from Java:\r\n\r\n```\r\nRuntime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\r\n                + filePath);\r\n```\r\n\r\n`filePath` is passed as argument from another method :\r\n\r\n```\r\nfilePath-&gt; &quot;C:\\\\Temp\\\\TMP\\\\TCs\\\\TC1\\\\Solution File.txt&quot;\r\n```","title":"How to put filename with spaces as parameter?","body":"<p>When I run my AutoIt script for a filename without spaces (&quot;filename.txt&quot;) it gets executed successfully. But when filename contains spaces (&quot;File Name.txt&quot;) I get error &quot;File not found&quot;.</p>\n<p>Parameterized.au3 :</p>\n<pre><code>ControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;)\nControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;,$CmdLine[1])\nControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)\n</code></pre>\n<p>Execution from Java:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;C:\\\\Users\\Screenshots\\\\Parameterized.exe&quot; + &quot; &quot;\n                + filePath);\n</code></pre>\n<p><code>filePath</code> is passed as argument from another method :</p>\n<pre><code>filePath-&gt; &quot;C:\\\\Temp\\\\TMP\\\\TCs\\\\TC1\\\\Solution File.txt&quot;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668775233,"post_id":74489749,"comment_id":131494073,"body_markdown":"Have you checked that the data inside the database is correct and you should actually be getting more than 1 group?","body":"Have you checked that the data inside the database is correct and you should actually be getting more than 1 group?"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668776062,"post_id":74489749,"comment_id":131494352,"body_markdown":"Yes, as mentioned in the post body, I have checked and it returns all groups as expected.","body":"Yes, as mentioned in the post body, I have checked and it returns all groups as expected."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668778759,"post_id":74489749,"comment_id":131495276,"body_markdown":"Does `Group` class have a `@Entity` annotation? Thats the only thing I don&#39;t see","body":"Does <code>Group</code> class have a <code>@Entity</code> annotation? Thats the only thing I don&#39;t see"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668779527,"post_id":74489749,"comment_id":131495570,"body_markdown":"Yes it does, I think it missing in the description is a typo.","body":"Yes it does, I think it missing in the description is a typo."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668780052,"post_id":74489749,"comment_id":131495786,"body_markdown":"All examples seem to initialize both lists/sets that are involved in the mapping. So `private Set&lt;Group&gt; groups;` to `private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();` might be all thats needed","body":"All examples seem to initialize both lists/sets that are involved in the mapping. So <code>private Set&lt;Group&gt; groups;</code> to <code>private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();</code> might be all thats needed"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668780443,"post_id":74489749,"comment_id":131495926,"body_markdown":"Just tried it, no change","body":"Just tried it, no change"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1668782660,"post_id":74489749,"comment_id":131496781,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249727/discussion-between-steve-otieno-and-xtremebaumer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249727/discussion-between-steve-otieno-and-xtremebaumer\">continue this discussion in chat</a>."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1668785143,"post_id":74489749,"comment_id":131497658,"body_markdown":"I can&#39;t see your Table definition in Database, but if you havn&#39;t constraint on your id column, then can happen, that your groups in database have same value in id column and then result will be exactly how you describe it","body":"I can&#39;t see your Table definition in Database, but if you havn&#39;t constraint on your id column, then can happen, that your groups in database have same value in id column and then result will be exactly how you describe it"}],"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668779565,"creation_date":1668774724,"question_id":74489749,"body_markdown":"I have two entities, User and Group. The relationship between the entities is `ManyToMany`. Group is the owning entity, and User is the referencing entity. The expected functionality is this; \r\n1. When I fetch a group from database, it should return the group with a list. This works perfectly fine\r\n2. When I fetch a user from database, it should return a user with a list of all the groups a user belongs to. This returns user correct user data, with one problem. The group list only contains 1 group instead of the entire list of groups.\r\n\r\nI have checked the database, since I thought that maybe there may be a problem with how I was saving either entities. Database looks fine, and in fact, all records exist in the join table, and with the proper relationships. Wring a query in the query console returns me exactly the data I want. So no problem with data itself.\r\n\r\nThis is my `Group` Entity(Owning side)\r\n```\r\n@Builder\r\n@Entity\r\n@Data\r\n@Table(name = &quot;`group`&quot;)\r\npublic class Group extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER,\r\n            cascade = {CascadeType.MERGE, CascadeType.REFRESH})\r\n    @JoinTable(name = &quot;group_user&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @JsonView(Views.Public.class)\r\n    private Set&lt;User&gt; groupMembers = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nThis is my `User` Entity\r\n```\r\n@Builder\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class User extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;groupMembers&quot;, fetch = FetchType.LAZY, targetEntity = Group.class)\r\n    private Set&lt;Group&gt; groups;\r\n\r\n}\r\n```\r\n\r\nI tried writing a custom native query(shown below) in my repository, but this also gives back a single item in the list.\r\n```\r\n@Query(value = &quot;SELECT * FROM group_user gu JOIN `group` g ON gu.group_id = g.id WHERE gu.user_id = 3;&quot;, nativeQuery = true)\r\n    Set&lt;Group&gt; findAllGroupsOfUser(@Param(&quot;userId&quot;) Long userId);\r\n```\r\n\r\nI also tried changing the type from `Set&lt;Group&gt; groups` to `List&lt;Group&gt; groups`, but it still returns a single item in list.\r\n\r\nFor additional clarity;\r\nHere is the `UserRepository`\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findById(Long id);\r\n\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n\r\n}\r\n```\r\n\r\nAnd the `UserService` implementation method\r\n```\r\n    @Override\r\n    public User getWithGroups(Long userId) throws ResourceNotFoundException {\r\n        User user = this.getUserById(userId).get();\r\n        user.getGroups();\r\n        return user;\r\n    }\r\n```\r\n\r\nWhat am I missing?\r\n\r\n\r\n","title":"Entity only fetches only one item in a list from a many to many relationship","body":"<p>I have two entities, User and Group. The relationship between the entities is <code>ManyToMany</code>. Group is the owning entity, and User is the referencing entity. The expected functionality is this;</p>\n<ol>\n<li>When I fetch a group from database, it should return the group with a list. This works perfectly fine</li>\n<li>When I fetch a user from database, it should return a user with a list of all the groups a user belongs to. This returns user correct user data, with one problem. The group list only contains 1 group instead of the entire list of groups.</li>\n</ol>\n<p>I have checked the database, since I thought that maybe there may be a problem with how I was saving either entities. Database looks fine, and in fact, all records exist in the join table, and with the proper relationships. Wring a query in the query console returns me exactly the data I want. So no problem with data itself.</p>\n<p>This is my <code>Group</code> Entity(Owning side)</p>\n<pre><code>@Builder\n@Entity\n@Data\n@Table(name = &quot;`group`&quot;)\npublic class Group extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(fetch = FetchType.EAGER,\n            cascade = {CascadeType.MERGE, CascadeType.REFRESH})\n    @JoinTable(name = &quot;group_user&quot;,\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @JsonView(Views.Public.class)\n    private Set&lt;User&gt; groupMembers = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>This is my <code>User</code> Entity</p>\n<pre><code>@Builder\n@Entity\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class User extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String username;\n\n    private String password;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;groupMembers&quot;, fetch = FetchType.LAZY, targetEntity = Group.class)\n    private Set&lt;Group&gt; groups;\n\n}\n</code></pre>\n<p>I tried writing a custom native query(shown below) in my repository, but this also gives back a single item in the list.</p>\n<pre><code>@Query(value = &quot;SELECT * FROM group_user gu JOIN `group` g ON gu.group_id = g.id WHERE gu.user_id = 3;&quot;, nativeQuery = true)\n    Set&lt;Group&gt; findAllGroupsOfUser(@Param(&quot;userId&quot;) Long userId);\n</code></pre>\n<p>I also tried changing the type from <code>Set&lt;Group&gt; groups</code> to <code>List&lt;Group&gt; groups</code>, but it still returns a single item in list.</p>\n<p>For additional clarity;\nHere is the <code>UserRepository</code></p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findById(Long id);\n\n    Optional&lt;User&gt; findByUsername(String username);\n\n}\n</code></pre>\n<p>And the <code>UserService</code> implementation method</p>\n<pre><code>    @Override\n    public User getWithGroups(Long userId) throws ResourceNotFoundException {\n        User user = this.getUserById(userId).get();\n        user.getGroups();\n        return user;\n    }\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","json","netbeans","codenameone"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1668779197,"post_id":74485860,"comment_id":131495453,"body_markdown":"You have `map_saccos.get(&quot;MemberDetails&quot;)` - but where is `&quot;MemberDetails&quot;`? It is not in the JSON provided in your question. (I added `java` and `json` tags to your question, so it reaches a wider audience).","body":"You have <code>map_saccos.get(&quot;MemberDetails&quot;)</code> - but where is <code>&quot;MemberDetails&quot;</code>? It is not in the JSON provided in your question. (I added <code>java</code> and <code>json</code> tags to your question, so it reaches a wider audience)."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1668834838,"post_id":74485860,"comment_id":131507772,"body_markdown":"This is JSON of a single entry. Not of a list so as @andrewJames said the `map_saccos.get(&quot;MemberDetails&quot;);` won&#39;t work. I think you got it from the server but already saved the entries. Also did you look in the developer guide at property based parsing which is more seamless?","body":"This is JSON of a single entry. Not of a list so as @andrewJames said the <code>map_saccos.get(&quot;MemberDetails&quot;);</code> won&#39;t work. I think you got it from the server but already saved the entries. Also did you look in the developer guide at property based parsing which is more seamless?"},{"owner":{"account_id":22924287,"reputation":85,"user_id":17059633,"display_name":"festus mutinda"},"score":0,"creation_date":1669022068,"post_id":74485860,"comment_id":131539609,"body_markdown":"Thanks i have looked at it, am sorted.","body":"Thanks i have looked at it, am sorted."}],"owner":{"account_id":22924287,"reputation":85,"user_id":17059633,"display_name":"festus mutinda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668779208,"creation_date":1668754180,"question_id":74485860,"body_markdown":"am getting a json from the server and i managed to save it into storage, \r\n\r\n    {&quot;FirstName&quot;:&quot;Festus&quot;,&quot;MiddleName&quot;:&quot;Kilaka&quot;,&quot;LastName&quot;:&quot;Mutinda&quot;,&quot;MemberNo&quot;:&quot;1886&quot;,&quot;IdNumber&quot;:&quot;3125638&quot;,&quot;PayRollNumber&quot;:&quot;87&quot;,&quot;PhoneNumber&quot;:&quot;254743901110&quot;,&quot;EmailAddress&quot;:&quot;FESTUS@GMAIL.COM&quot;}\r\n\r\nall i need is to read through it and get each variable and attach them to my strings.\r\ni tried the code below but am getting an error.\r\n\r\n\r\n    private String str_response;       \r\n    private String memberNoLabel = &quot;&quot;;\r\n    private String nameLabel = &quot;&quot;;\r\n    private String idNoLbl = &quot;&quot;;\r\n    private String staffNoLbl = &quot;&quot;;\r\n    private String emailAddLbl = &quot;&quot;;\r\n    private String PhoneNumber = &quot;&quot;; //Storage.getInstance().readObject(&quot;PhoneNumber&quot;).toString();\r\n    private String AccBalanceLable = &quot;50,500&quot;;\r\nstr_response = (String) Storage.getInstance().readObject(&quot;profile.json&quot;);\r\n        Log.p(&quot;Reading profile.json from storage.&quot;, 1);\r\n        \r\n        byte[] bytes_mydetails = str_response.getBytes();\r\n        JSONParser json_mysaccos = new JSONParser();\r\n        try (Reader is_mysaccos = new InputStreamReader(new ByteArrayInputStream(bytes_mydetails), &quot;UTF-8&quot;)) \r\n        {\r\n            Map&lt;String, Object&gt; map_saccos = json_mysaccos.parseJSON(is_mysaccos);\r\n            java.util.List&lt;Map&lt;String, Object&gt;&gt; objMydetails = (java.util.List&lt;Map&lt;String, Object&gt;&gt;) map_saccos.get(&quot;MemberDetails&quot;);\r\n            System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\r\n\r\n            for (Map&lt;String, Object&gt; objDetails : objMydetails) \r\n            {\r\n                String name1 = (String) objDetails.get(&quot;FirstName&quot;);\r\n                String name2 = (String)objDetails.get(&quot;MiddleName&quot;);\r\n                String name3 = (String)objDetails.get(&quot;LastName&quot;);\r\n                nameLabel = name1+name2+name3;\r\n\r\n                memberNoLabel = (String)objDetails.get(&quot;MemberNo&quot;);\r\n                idNoLbl = (String)objDetails.get(&quot;IdNumber&quot;);\r\n                staffNoLbl = (String)objDetails.get(&quot;PayRollNumber&quot;);\r\n                PhoneNumber = (String)objDetails.get(&quot;PhoneNumber&quot;);\r\n                emailAddLbl = (String)objDetails.get(&quot;EmailAddress&quot;);\r\n            }\r\n        }\r\n        catch (Exception e) \r\n        {\r\n            System.out.println(&quot;Error @ saccos: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n\r\nam getting this error \r\n\r\n    Error @ saccos: java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n\r\nand it says its from the line\r\n\r\n    System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\r\n\r\nhave tried all available documents and tutorials i could get, but i cant figure out this, help...","title":"Get the Data from a Json String in codename one","body":"<p>am getting a json from the server and i managed to save it into storage,</p>\n<pre><code>{&quot;FirstName&quot;:&quot;Festus&quot;,&quot;MiddleName&quot;:&quot;Kilaka&quot;,&quot;LastName&quot;:&quot;Mutinda&quot;,&quot;MemberNo&quot;:&quot;1886&quot;,&quot;IdNumber&quot;:&quot;3125638&quot;,&quot;PayRollNumber&quot;:&quot;87&quot;,&quot;PhoneNumber&quot;:&quot;254743901110&quot;,&quot;EmailAddress&quot;:&quot;FESTUS@GMAIL.COM&quot;}\n</code></pre>\n<p>all i need is to read through it and get each variable and attach them to my strings.\ni tried the code below but am getting an error.</p>\n<pre><code>private String str_response;       \nprivate String memberNoLabel = &quot;&quot;;\nprivate String nameLabel = &quot;&quot;;\nprivate String idNoLbl = &quot;&quot;;\nprivate String staffNoLbl = &quot;&quot;;\nprivate String emailAddLbl = &quot;&quot;;\nprivate String PhoneNumber = &quot;&quot;; //Storage.getInstance().readObject(&quot;PhoneNumber&quot;).toString();\nprivate String AccBalanceLable = &quot;50,500&quot;;\n</code></pre>\n<p>str_response = (String) Storage.getInstance().readObject(&quot;profile.json&quot;);\nLog.p(&quot;Reading profile.json from storage.&quot;, 1);</p>\n<pre><code>    byte[] bytes_mydetails = str_response.getBytes();\n    JSONParser json_mysaccos = new JSONParser();\n    try (Reader is_mysaccos = new InputStreamReader(new ByteArrayInputStream(bytes_mydetails), &quot;UTF-8&quot;)) \n    {\n        Map&lt;String, Object&gt; map_saccos = json_mysaccos.parseJSON(is_mysaccos);\n        java.util.List&lt;Map&lt;String, Object&gt;&gt; objMydetails = (java.util.List&lt;Map&lt;String, Object&gt;&gt;) map_saccos.get(&quot;MemberDetails&quot;);\n        System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\n\n        for (Map&lt;String, Object&gt; objDetails : objMydetails) \n        {\n            String name1 = (String) objDetails.get(&quot;FirstName&quot;);\n            String name2 = (String)objDetails.get(&quot;MiddleName&quot;);\n            String name3 = (String)objDetails.get(&quot;LastName&quot;);\n            nameLabel = name1+name2+name3;\n\n            memberNoLabel = (String)objDetails.get(&quot;MemberNo&quot;);\n            idNoLbl = (String)objDetails.get(&quot;IdNumber&quot;);\n            staffNoLbl = (String)objDetails.get(&quot;PayRollNumber&quot;);\n            PhoneNumber = (String)objDetails.get(&quot;PhoneNumber&quot;);\n            emailAddLbl = (String)objDetails.get(&quot;EmailAddress&quot;);\n        }\n    }\n    catch (Exception e) \n    {\n        System.out.println(&quot;Error @ saccos: &quot; + e);\n        e.printStackTrace();\n    }\n</code></pre>\n<p>am getting this error</p>\n<pre><code>Error @ saccos: java.lang.NullPointerException\njava.lang.NullPointerException\n</code></pre>\n<p>and it says its from the line</p>\n<pre><code>System.out.println(&quot;No of Details: ---------&gt; &quot; + objMydetails.size());\n</code></pre>\n<p>have tried all available documents and tutorials i could get, but i cant figure out this, help...</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":304562,"reputation":12355,"user_id":614141,"accept_rate":96,"display_name":"javing"},"score":0,"creation_date":1635191402,"post_id":36253040,"comment_id":123225667,"body_markdown":"Maybe you find this article useful: https://medium.com/javarevisited/argument-capturing-a-must-know-unit-testing-technique-e88b3a6a6af1 \n\nIt has a simple example","body":"Maybe you find this article useful: <a href=\"https://medium.com/javarevisited/argument-capturing-a-must-know-unit-testing-technique-e88b3a6a6af1\" rel=\"nofollow noreferrer\">medium.com/javarevisited/&hellip;</a>   It has a simple example"}],"answers":[{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":1,"creation_date":1487947060,"post_id":36253109,"comment_id":72026367,"body_markdown":"What if there are multiple parameters passed into the method - all of different types?  How do you actually verify that boolean parameter was **true**, for example.","body":"What if there are multiple parameters passed into the method - all of different types?  How do you actually verify that boolean parameter was <b>true</b>, for example."},{"owner":{"account_id":307264,"reputation":2065,"user_id":618465,"accept_rate":95,"display_name":"Navigatron"},"score":35,"creation_date":1497005468,"post_id":36253109,"comment_id":75907997,"body_markdown":"Can you provide an explanation for your comment: _Oh, and please consider using TestNG instead of JUnit._. Why consider it? Why change?","body":"Can you provide an explanation for your comment: <i>Oh, and please consider using TestNG instead of JUnit.</i>. Why consider it? Why change?"},{"owner":{"account_id":4715182,"reputation":928,"user_id":3814557,"accept_rate":79,"display_name":"johnwick0831"},"score":2,"creation_date":1525922117,"post_id":36253109,"comment_id":87547834,"body_markdown":"@IgorGanapolsky you just add another ArgumentCaptor.\n\n ArgumentCaptor&lt;BigDecimal&gt; arg = ArgumentCaptor.forClass(BigDecimal.class);\n    ArgumentCaptor&lt;String&gt; arg2 = ArgumentCaptor.forClass(String.class);\n\n    Michael michael = new Michael();\n    michael.sayHi(j);\n    verify(j).saySomething(arg.capture(), arg2.capture());\n    System.out.println(&quot;value is  &quot; + arg.getValue());\n    System.out.println(&quot;string is &quot; + arg2.getValue());","body":"@IgorGanapolsky you just add another ArgumentCaptor.   ArgumentCaptor&lt;BigDecimal&gt; arg = ArgumentCaptor.forClass(BigDecimal.class);     ArgumentCaptor&lt;String&gt; arg2 = ArgumentCaptor.forClass(String.class);      Michael michael = new Michael();     michael.sayHi(j);     verify(j).saySomething(arg.capture(), arg2.capture());     System.out.println(&quot;value is  &quot; + arg.getValue());     System.out.println(&quot;string is &quot; + arg2.getValue());"}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":3,"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1459115545,"creation_date":1459115545,"answer_id":36253109,"question_id":36253040,"body_markdown":"The two main differences are:\r\n\r\n* when you capture even a single argument, you are able to make much more elaborate tests on this argument, and with more obvious code;\r\n* an `ArgumentCaptor` can capture _more_ than once.\r\n\r\nTo illustrate the latter, say you have:\r\n\r\n    final ArgumentCaptor&lt;Foo&gt; captor = ArgumentCaptor.forClass(Foo.class);\r\n\r\n    verify(x, times(4)).someMethod(captor.capture()); // for instance\r\n\r\nThen the captor will be able to give you access to all 4 arguments, which you can then perform assertions on separately.\r\n\r\nThis or any number of arguments in fact, since a `VerificationMode` is not limited to a fixed number of invocations; in any event, the captor will give you access to all of them, if you wish.\r\n\r\nThis also has the benefit that such tests are (imho) much easier to write than having to implement your own `ArgumentMatcher`s -- particularly if you combine mockito with assertj.\r\n\r\nOh, and please consider using TestNG instead of JUnit.\r\n","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>The two main differences are:</p>\n\n<ul>\n<li>when you capture even a single argument, you are able to make much more elaborate tests on this argument, and with more obvious code;</li>\n<li>an <code>ArgumentCaptor</code> can capture <em>more</em> than once.</li>\n</ul>\n\n<p>To illustrate the latter, say you have:</p>\n\n<pre><code>final ArgumentCaptor&lt;Foo&gt; captor = ArgumentCaptor.forClass(Foo.class);\n\nverify(x, times(4)).someMethod(captor.capture()); // for instance\n</code></pre>\n\n<p>Then the captor will be able to give you access to all 4 arguments, which you can then perform assertions on separately.</p>\n\n<p>This or any number of arguments in fact, since a <code>VerificationMode</code> is not limited to a fixed number of invocations; in any event, the captor will give you access to all of them, if you wish.</p>\n\n<p>This also has the benefit that such tests are (imho) much easier to write than having to implement your own <code>ArgumentMatcher</code>s -- particularly if you combine mockito with assertj.</p>\n\n<p>Oh, and please consider using TestNG instead of JUnit.</p>\n"},{"comments":[{"owner":{"account_id":200610,"reputation":52308,"user_id":446554,"accept_rate":73,"display_name":"Cory Klein"},"score":0,"creation_date":1544034517,"post_id":36267673,"comment_id":94136784,"body_markdown":"If `doSomething(data)` mutates `innerData`, then will that change be present in `assertEquals(&quot;Some inner data&quot;, actual.innerData)`, or will `innerData` be captured as-is _before_ `doSomething` is executed?","body":"If <code>doSomething(data)</code> mutates <code>innerData</code>, then will that change be present in <code>assertEquals(&quot;Some inner data&quot;, actual.innerData)</code>, or will <code>innerData</code> be captured as-is <i>before</i> <code>doSomething</code> is executed?"},{"owner":{"account_id":5294426,"reputation":3995,"user_id":4225948,"accept_rate":10,"display_name":"Slava Shpitalny"},"score":0,"creation_date":1544199493,"post_id":36267673,"comment_id":94204006,"body_markdown":"@CoryKlein The `OtherClass` is a mock, and as it is defined now the `doSomething()` will not actualy do anything, it simply records the object that was passed. This means that it will be captured as-is before `doSomething` is executed.","body":"@CoryKlein The <code>OtherClass</code> is a mock, and as it is defined now the <code>doSomething()</code> will not actualy do anything, it simply records the object that was passed. This means that it will be captured as-is before <code>doSomething</code> is executed."},{"owner":{"account_id":1807152,"reputation":1059,"user_id":1644036,"accept_rate":100,"display_name":"Inego"},"score":5,"creation_date":1567752197,"post_id":36267673,"comment_id":102064566,"body_markdown":"In `verify`, `times(1)` is the default and can be omitted.","body":"In <code>verify</code>, <code>times(1)</code> is the default and can be omitted."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":1,"creation_date":1594795094,"post_id":36267673,"comment_id":111247315,"body_markdown":"how does ArgumentCaptor know that foo(other) happened since it is instantiated only after the foo(other) call?","body":"how does ArgumentCaptor know that foo(other) happened since it is instantiated only after the foo(other) call?"},{"owner":{"account_id":5294426,"reputation":3995,"user_id":4225948,"accept_rate":10,"display_name":"Slava Shpitalny"},"score":6,"creation_date":1594894527,"post_id":36267673,"comment_id":111289257,"body_markdown":"@AvramPop the one who knows this is the mock object. It contains inside a lot of information about the mock. Inside all of that information it also contains the call history for each method with it&#39;s parameters. When you call the `verify` method, it uses that information to run matches against the verification that you are doing. For every parameter it asks whether it matches the specific call it checks. When ArgumentCaptor is checked, it simply stores the values it was invoked with so when `verify` ends, it holds all the relevant invocations. It&#39;s roughly how it works. Hope it helps","body":"@AvramPop the one who knows this is the mock object. It contains inside a lot of information about the mock. Inside all of that information it also contains the call history for each method with it&#39;s parameters. When you call the <code>verify</code> method, it uses that information to run matches against the verification that you are doing. For every parameter it asks whether it matches the specific call it checks. When ArgumentCaptor is checked, it simply stores the values it was invoked with so when <code>verify</code> ends, it holds all the relevant invocations. It&#39;s roughly how it works. Hope it helps"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1594963229,"post_id":36267673,"comment_id":111315535,"body_markdown":"I was supposing that the mock object was doing the magic, but was unsure. Thanks for clarifying, @SlavaShpitalny","body":"I was supposing that the mock object was doing the magic, but was unsure. Thanks for clarifying, @SlavaShpitalny"},{"owner":{"account_id":4097768,"reputation":875,"user_id":3364064,"display_name":"V&#237;ctor Gil"},"score":0,"creation_date":1601567353,"post_id":36267673,"comment_id":113454179,"body_markdown":"@SlavaShpitalny very well explained, initially I thought the same as @AvramPop, now I see that `captore.capture()` actually means: &quot;retrieve the argument which was previously saved inside the mock&quot;. I think the name of that API method could be better...","body":"@SlavaShpitalny very well explained, initially I thought the same as @AvramPop, now I see that <code>captore.capture()</code> actually means: &quot;retrieve the argument which was previously saved inside the mock&quot;. I think the name of that API method could be better..."}],"tags":[],"owner":{"account_id":5294426,"reputation":3995,"user_id":4225948,"accept_rate":10,"display_name":"Slava Shpitalny"},"comment_count":7,"down_vote_count":1,"up_vote_count":283,"is_accepted":false,"score":282,"last_activity_date":1503669191,"creation_date":1459186872,"answer_id":36267673,"question_id":36253040,"body_markdown":"I agree with what @fge said, more over. Lets look at example.\r\nConsider you have a method:\r\n\r\n    class A {\r\n        public void foo(OtherClass other) {\r\n            SomeData data = new SomeData(&quot;Some inner data&quot;);\r\n            other.doSomething(data);\r\n        }\r\n    }\r\n\r\nNow if you want to check the inner data you can use the captor:\r\n\r\n    // Create a mock of the OtherClass\r\n    OtherClass other = mock(OtherClass.class);\r\n\r\n    // Run the foo method with the mock\r\n    new A().foo(other);\r\n\r\n    // Capture the argument of the doSomething function\r\n    ArgumentCaptor&lt;SomeData&gt; captor = ArgumentCaptor.forClass(SomeData.class);\r\n    verify(other, times(1)).doSomething(captor.capture());\r\n\r\n    // Assert the argument\r\n    SomeData actual = captor.getValue();\r\n    assertEquals(&quot;Some inner data&quot;, actual.innerData);\r\n","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>I agree with what @fge said, more over. Lets look at example.\nConsider you have a method:</p>\n\n<pre><code>class A {\n    public void foo(OtherClass other) {\n        SomeData data = new SomeData(\"Some inner data\");\n        other.doSomething(data);\n    }\n}\n</code></pre>\n\n<p>Now if you want to check the inner data you can use the captor:</p>\n\n<pre><code>// Create a mock of the OtherClass\nOtherClass other = mock(OtherClass.class);\n\n// Run the foo method with the mock\nnew A().foo(other);\n\n// Capture the argument of the doSomething function\nArgumentCaptor&lt;SomeData&gt; captor = ArgumentCaptor.forClass(SomeData.class);\nverify(other, times(1)).doSomething(captor.capture());\n\n// Assert the argument\nSomeData actual = captor.getValue();\nassertEquals(\"Some inner data\", actual.innerData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6875545,"reputation":2111,"user_id":5284105,"display_name":"Lho Ben"},"comment_count":0,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1624391457,"creation_date":1539987344,"answer_id":52900526,"question_id":36253040,"body_markdown":"The steps in order to make a full check are :\r\n\r\n**First**, prepare the argument captor :\r\n```\r\nArgumentCaptor&lt;ArgumentClass&gt; argumentCaptor = ArgumentCaptor.forClass(ArgumentClass.class);\r\n```\r\n**Second**, verify the call to the dependent on component (collaborator of subject under test). \r\n\r\n*times(1) is the default value, so ne need to add it.*\r\n```\r\nverify(dependentOnComponent, times(1)).method(argumentCaptor.capture());\r\n```\r\n\r\n**Third**, get the argument passed to collaborator using getValue() of the captor\r\n```\r\nArgumentClass someArgument = messageCaptor.getValue();\r\n```\r\n\r\n**Fourth**, use someArgument for assertions","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>The steps in order to make a full check are :</p>\n<p><strong>First</strong>, prepare the argument captor :</p>\n<pre><code>ArgumentCaptor&lt;ArgumentClass&gt; argumentCaptor = ArgumentCaptor.forClass(ArgumentClass.class);\n</code></pre>\n<p><strong>Second</strong>, verify the call to the dependent on component (collaborator of subject under test).</p>\n<p><em>times(1) is the default value, so ne need to add it.</em></p>\n<pre><code>verify(dependentOnComponent, times(1)).method(argumentCaptor.capture());\n</code></pre>\n<p><strong>Third</strong>, get the argument passed to collaborator using getValue() of the captor</p>\n<pre><code>ArgumentClass someArgument = messageCaptor.getValue();\n</code></pre>\n<p><strong>Fourth</strong>, use someArgument for assertions</p>\n"},{"comments":[{"owner":{"account_id":3682862,"reputation":1323,"user_id":3067411,"display_name":"Felipe Martins Melo"},"score":3,"creation_date":1548758940,"post_id":54103611,"comment_id":95648241,"body_markdown":"Shouldn&#39;t it refer to ArgumentCaptor?","body":"Shouldn&#39;t it refer to ArgumentCaptor?"},{"owner":{"account_id":3991392,"reputation":353,"user_id":3290219,"accept_rate":71,"display_name":"Vikram singh"},"score":1,"creation_date":1550836520,"post_id":54103611,"comment_id":96427771,"body_markdown":"yes we are capturing the listener passed to method login() in example login(LoginProvider loginProvider,LoginListener callback)","body":"yes we are capturing the listener passed to method login() in example login(LoginProvider loginProvider,LoginListener callback)"},{"owner":{"account_id":1002291,"reputation":2383,"user_id":1016891,"accept_rate":100,"display_name":"tom_mai78101"},"score":2,"creation_date":1585762673,"post_id":54103611,"comment_id":107879541,"body_markdown":"Where is the `captor` defined in your answer?","body":"Where is the <code>captor</code> defined in your answer?"},{"owner":{"account_id":3991392,"reputation":353,"user_id":3290219,"accept_rate":71,"display_name":"Vikram singh"},"score":1,"creation_date":1592154423,"post_id":54103611,"comment_id":110316842,"body_markdown":"ArgumentCaptor&lt; LoginListener &gt; listenerCaptor =\n            ArgumentCaptor.forClass(LoginListener.class);","body":"ArgumentCaptor&lt; LoginListener &gt; listenerCaptor =             ArgumentCaptor.forClass(LoginListener.class);"}],"tags":[],"owner":{"account_id":3991392,"reputation":353,"user_id":3290219,"accept_rate":71,"display_name":"Vikram singh"},"comment_count":4,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1547010908,"creation_date":1547010908,"answer_id":54103611,"question_id":36253040,"body_markdown":"Here I am giving you a proper example of one callback method .\r\nso suppose we have a method like method login() :\r\n\r\n     public void login() {\r\n        loginService = new LoginService();\r\n        loginService.login(loginProvider, new LoginListener() {\r\n            @Override\r\n            public void onLoginSuccess() {\r\n                loginService.getresult(true);\r\n            }\r\n\r\n            @Override\r\n            public void onLoginFaliure() {\r\n                loginService.getresult(false);\r\n\r\n            }\r\n        });\r\n        System.out.print(&quot;@@##### get called&quot;);\r\n    }\r\n\r\nI also put all the helper class here to make the example more clear:\r\nloginService class\r\n\r\n    public class LoginService implements Login.getresult{\r\n    public void login(LoginProvider loginProvider,LoginListener callback){\r\n\r\n        String username  = loginProvider.getUsername();\r\n        String pwd  = loginProvider.getPassword();\r\n        if(username != null &amp;&amp; pwd != null){\r\n            callback.onLoginSuccess();\r\n        }else{\r\n            callback.onLoginFaliure();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void getresult(boolean value) {\r\n        System.out.print(&quot;login success&quot;+value);\r\n    }}\r\n\r\nand we have listener LoginListener as :\r\n\r\n    interface LoginListener {\r\n    void onLoginSuccess();\r\n\r\n    void onLoginFaliure();\r\n}\r\n\r\nnow I just wanted to test the method login() of class Login\r\n\r\n     @Test\r\n    public void loginTest() throws Exception {\r\n        LoginService service = mock(LoginService.class);\r\n        LoginProvider provider = mock(LoginProvider.class);\r\n        whenNew(LoginProvider.class).withNoArguments().thenReturn(provider);\r\n        whenNew(LoginService.class).withNoArguments().thenReturn(service);\r\n        when(provider.getPassword()).thenReturn(&quot;pwd&quot;);\r\n        when(provider.getUsername()).thenReturn(&quot;username&quot;);\r\n        login.getLoginDetail(&quot;username&quot;,&quot;password&quot;);\r\n\r\n        verify(provider).setPassword(&quot;password&quot;);\r\n        verify(provider).setUsername(&quot;username&quot;);\r\n\r\n        verify(service).login(eq(provider),captor.capture());\r\n\r\n        LoginListener listener = captor.getValue();\r\n\r\n        listener.onLoginSuccess();\r\n\r\n        verify(service).getresult(true);\r\n\r\nalso dont forget to add annotation above the test class as \r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Login.class)","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>Here I am giving you a proper example of one callback method .\nso suppose we have a method like method login() :</p>\n\n<pre><code> public void login() {\n    loginService = new LoginService();\n    loginService.login(loginProvider, new LoginListener() {\n        @Override\n        public void onLoginSuccess() {\n            loginService.getresult(true);\n        }\n\n        @Override\n        public void onLoginFaliure() {\n            loginService.getresult(false);\n\n        }\n    });\n    System.out.print(\"@@##### get called\");\n}\n</code></pre>\n\n<p>I also put all the helper class here to make the example more clear:\nloginService class</p>\n\n<pre><code>public class LoginService implements Login.getresult{\npublic void login(LoginProvider loginProvider,LoginListener callback){\n\n    String username  = loginProvider.getUsername();\n    String pwd  = loginProvider.getPassword();\n    if(username != null &amp;&amp; pwd != null){\n        callback.onLoginSuccess();\n    }else{\n        callback.onLoginFaliure();\n    }\n\n}\n\n@Override\npublic void getresult(boolean value) {\n    System.out.print(\"login success\"+value);\n}}\n</code></pre>\n\n<p>and we have listener LoginListener as :</p>\n\n<pre><code>interface LoginListener {\nvoid onLoginSuccess();\n\nvoid onLoginFaliure();\n</code></pre>\n\n<p>}</p>\n\n<p>now I just wanted to test the method login() of class Login</p>\n\n<pre><code> @Test\npublic void loginTest() throws Exception {\n    LoginService service = mock(LoginService.class);\n    LoginProvider provider = mock(LoginProvider.class);\n    whenNew(LoginProvider.class).withNoArguments().thenReturn(provider);\n    whenNew(LoginService.class).withNoArguments().thenReturn(service);\n    when(provider.getPassword()).thenReturn(\"pwd\");\n    when(provider.getUsername()).thenReturn(\"username\");\n    login.getLoginDetail(\"username\",\"password\");\n\n    verify(provider).setPassword(\"password\");\n    verify(provider).setUsername(\"username\");\n\n    verify(service).login(eq(provider),captor.capture());\n\n    LoginListener listener = captor.getValue();\n\n    listener.onLoginSuccess();\n\n    verify(service).getresult(true);\n</code></pre>\n\n<p>also dont forget to add annotation above the test class as </p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Login.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3995853,"reputation":540,"user_id":3293436,"display_name":"MauroB"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1619433029,"creation_date":1619433029,"answer_id":67265000,"question_id":36253040,"body_markdown":"I created this example that simulates a very simple service that uses a repository to save a String (no dependency injection, no entities), just to teach ArgumentCaptor quickly.\r\n\r\n- The service receives, converts to uppercase and trim a name, then invoke the repository.\r\n- The repository &quot;saves&quot; the String.\r\n- With ArgumentCaptor I want to know which value is passed to the repository and then check if it&#39;s trimmed and in uppercase, as expected\r\n\r\n\r\n3 classes: PersonService, PersonRepository and PersonServiceTest (packages omitted)\r\n    \r\n    public class PersonService {\r\n    \r\n    \tprivate PersonRepository personRepository;\r\n    \r\n    \tpublic void setPersonRepository(final PersonRepository personRepository) {\r\n    \t\tthis.personRepository = personRepository;\r\n    \t}\r\n    \r\n    \tpublic void savePerson(final String name) {\r\n    \t\tthis.personRepository.save(name.toUpperCase().trim());\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class PersonRepository {\r\n\r\n    \tpublic void save(final String person) {\r\n    \t\tSystem.out.println(&quot;.. saving person ..&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.ArgumentCaptor;\r\n    \r\n    class PersonServiceTest {\r\n    \r\n    \t@Test\r\n    \tvoid testPersonService() {\r\n    \r\n    \t\t// Create the repository mock\r\n    \t\tfinal PersonRepository personRepositoryMock = mock(PersonRepository.class);\r\n    \r\n    \t\t// Create the service and set the repository mock\r\n    \t\tfinal PersonService personService = new PersonService();\r\n    \t\tpersonService.setPersonRepository(personRepositoryMock);\r\n    \r\n    \t\t// Save a person\r\n    \t\tpersonService.savePerson(&quot;Mario &quot;);\r\n    \r\n    \t\t// Prepare an ArgumentCaptor to capture the value passed to repo.saveMethod\r\n    \t\tfinal ArgumentCaptor&lt;String&gt; captor = ArgumentCaptor.forClass(String.class);\r\n    \r\n    \t\t// Capture the argument passed in the unique method invocation\r\n    \t\tverify(personRepositoryMock, times(1)).save(captor.capture());\r\n    \r\n    \t\t// Check if the captured value is the expected one\r\n    \t\tfinal String capturedParameter = captor.getValue();\r\n    \t\tassertEquals(&quot;MARIO&quot;, capturedParameter);\r\n    \t}\r\n    }\r\n\r\n","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>I created this example that simulates a very simple service that uses a repository to save a String (no dependency injection, no entities), just to teach ArgumentCaptor quickly.</p>\n<ul>\n<li>The service receives, converts to uppercase and trim a name, then invoke the repository.</li>\n<li>The repository &quot;saves&quot; the String.</li>\n<li>With ArgumentCaptor I want to know which value is passed to the repository and then check if it's trimmed and in uppercase, as expected</li>\n</ul>\n<p>3 classes: PersonService, PersonRepository and PersonServiceTest (packages omitted)</p>\n<pre><code>public class PersonService {\n\n    private PersonRepository personRepository;\n\n    public void setPersonRepository(final PersonRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    public void savePerson(final String name) {\n        this.personRepository.save(name.toUpperCase().trim());\n    }\n\n}\n\npublic class PersonRepository {\n\n    public void save(final String person) {\n        System.out.println(&quot;.. saving person ..&quot;);\n    }\n}\n\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.ArgumentCaptor;\n\nclass PersonServiceTest {\n\n    @Test\n    void testPersonService() {\n\n        // Create the repository mock\n        final PersonRepository personRepositoryMock = mock(PersonRepository.class);\n\n        // Create the service and set the repository mock\n        final PersonService personService = new PersonService();\n        personService.setPersonRepository(personRepositoryMock);\n\n        // Save a person\n        personService.savePerson(&quot;Mario &quot;);\n\n        // Prepare an ArgumentCaptor to capture the value passed to repo.saveMethod\n        final ArgumentCaptor&lt;String&gt; captor = ArgumentCaptor.forClass(String.class);\n\n        // Capture the argument passed in the unique method invocation\n        verify(personRepositoryMock, times(1)).save(captor.capture());\n\n        // Check if the captured value is the expected one\n        final String capturedParameter = captor.getValue();\n        assertEquals(&quot;MARIO&quot;, capturedParameter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668778114,"creation_date":1668778114,"answer_id":74490414,"question_id":36253040,"body_markdown":"You might want to use verify() in combination with the ArgumentCaptor to assure execution in the test and the ArgumentCaptor to evaluate the arguments:\r\n\r\n    ArgumentCaptor&lt;Document&gt; argument = ArgumentCaptor.forClass(Document.class);\r\n    verify(reader).document(argument.capture());\r\n\tassertEquals(*expected value here*, argument.getValue());\r\n\t\t\r\nThe argument&#39;s value is obviously accessible via the argument.getValue() for further manipulation / checking or whatever you wish to do.","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>You might want to use verify() in combination with the ArgumentCaptor to assure execution in the test and the ArgumentCaptor to evaluate the arguments:</p>\n<pre><code>ArgumentCaptor&lt;Document&gt; argument = ArgumentCaptor.forClass(Document.class);\nverify(reader).document(argument.capture());\nassertEquals(*expected value here*, argument.getValue());\n    \n</code></pre>\n<p>The argument's value is obviously accessible via the argument.getValue() for further manipulation / checking or whatever you wish to do.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668778886,"creation_date":1668778886,"answer_id":74490576,"question_id":36253040,"body_markdown":"Use annotations for this and most things @Spy, @Mock, @Captor, etc.\r\n\r\nHere is a sample (using JUnit 5):\r\n```java\r\npublic class Blam\r\n{\r\n  public void foo(final OtherClass other)\r\n  {\r\n    final SomeData data = new SomeData(&quot;Some inner data&quot;);\r\n    other.doSomething(data);\r\n  }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class TestBlam\r\n{\r\n  @Captor\r\n  private ArgumentCaptor&lt;SomeData&gt; captorSomeData;\r\n\r\n  private Blam classToTest;\r\n\r\n  @Mock\r\n  private OtherClass mockOtherClass;\r\n\r\n  @BeforeEach\r\n  void beforeEach()\r\n  {\r\n    classToTest = new Blam();\r\n  }\r\n\r\n  @Test\r\n  void foo_allGood_success()\r\n  {\r\n    SomeData actualSomeData;\r\n\r\n    classToTest.foo(mockOtherClass);\r\n\t\r\n\tverify(mockOtherClass).doSomething(captorSomeData.capture());\r\n\t\r\n\tactualSomeData = captorSomeData.getValue();\r\n\t\r\n\tassert(stuff about actualSomeData);\r\n  }\r\n}\r\n```","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>Use annotations for this and most things @Spy, @Mock, @Captor, etc.</p>\n<p>Here is a sample (using JUnit 5):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Blam\n{\n  public void foo(final OtherClass other)\n  {\n    final SomeData data = new SomeData(&quot;Some inner data&quot;);\n    other.doSomething(data);\n  }\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class TestBlam\n{\n  @Captor\n  private ArgumentCaptor&lt;SomeData&gt; captorSomeData;\n\n  private Blam classToTest;\n\n  @Mock\n  private OtherClass mockOtherClass;\n\n  @BeforeEach\n  void beforeEach()\n  {\n    classToTest = new Blam();\n  }\n\n  @Test\n  void foo_allGood_success()\n  {\n    SomeData actualSomeData;\n\n    classToTest.foo(mockOtherClass);\n    \n    verify(mockOtherClass).doSomething(captorSomeData.capture());\n    \n    actualSomeData = captorSomeData.getValue();\n    \n    assert(stuff about actualSomeData);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7645565,"reputation":2443,"user_id":5796365,"display_name":"Ujjwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250296,"favorite_count":0,"down_vote_count":0,"up_vote_count":219,"answer_count":7,"score":219,"last_activity_date":1668778886,"creation_date":1459115063,"question_id":36253040,"body_markdown":"Can anyone please provide me an example showing how to use the `org.mockito.ArgumentCaptor` class and how it is different from _simple matchers_ that are provided with mockito.\r\n\r\nI read the provided mockito documents but those doesn&#39;t illustrate it clearly, none of them are able to explain it with clarity.","title":"Example of Mockito&#39;s argumentCaptor","body":"<p>Can anyone please provide me an example showing how to use the <code>org.mockito.ArgumentCaptor</code> class and how it is different from <em>simple matchers</em> that are provided with mockito.</p>\n\n<p>I read the provided mockito documents but those doesn't illustrate it clearly, none of them are able to explain it with clarity.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668776666,"post_id":74489498,"comment_id":131494544,"body_markdown":"check here please : https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application","body":"check here please : <a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":15486586,"reputation":106,"user_id":11185081,"display_name":"Manir Mahamat"},"score":0,"creation_date":1671615948,"post_id":74489498,"comment_id":132135350,"body_markdown":"I already use an approach like that one but I want to change it to a global service by using java generics and then use this service everywhere in the project instead of rewriting converter methods every time.","body":"I already use an approach like that one but I want to change it to a global service by using java generics and then use this service everywhere in the project instead of rewriting converter methods every time."}],"answers":[{"comments":[{"owner":{"account_id":15486586,"reputation":106,"user_id":11185081,"display_name":"Manir Mahamat"},"score":0,"creation_date":1669028377,"post_id":74490568,"comment_id":131541716,"body_markdown":"I follow those steps and implemented them but I got an exception saying that the destination type is null: java.lang.IllegalArgumentException: destinationType cannot be null","body":"I follow those steps and implemented them but I got an exception saying that the destination type is null: java.lang.IllegalArgumentException: destinationType cannot be null"}],"tags":[],"owner":{"account_id":19428466,"reputation":36,"user_id":14209474,"display_name":"Nathan Mittelette"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668778858,"creation_date":1668778858,"answer_id":74490568,"question_id":74489498,"body_markdown":"if you want to create some generic methods, you should create an abstract class to extends in every service.\r\n\r\nTo start you should add two types to your CommonService\r\n\r\n```java\r\n// E for Entity and D for DTO\r\npublic interface CommonService&lt;E, D&gt; {\r\n\r\n    //entity mapper\r\n    E mapToEntity(D type);\r\n\r\n    //dto mapper\r\n    D mapToDto(E type);\r\n\r\n}\r\n```\r\n\r\nAnd create a `AbstractCommonService` that implements those methods : \r\n\r\n```java\r\npublic class AbstractCommonService&lt;E, D&gt; implements CommonService&lt;E, D&gt;{\r\n\r\n    protected final ModelMapper modelMapper;\r\n    private final Class&lt;E&gt; entityClass;\r\n    private final Class&lt;D&gt; dtoClass;\r\n\r\n    public AbstractCommonService(ModelMapper modelMapper, Class&lt;E&gt; entityClass, Class&lt;D&gt; dtoClass) {\r\n        this.modelMapper = modelMapper;\r\n        this.entityClass = entityClass;\r\n        this.dtoClass = dtoClass;\r\n    }\r\n\r\n\r\n    @Override\r\n    public E mapToEntity(D type) {\r\n        E entityObject = modelMapper.map(type, entityClass);\r\n        return entityObject;\r\n    }\r\n\r\n    @Override\r\n    public D mapToDto(E type) {\r\n        D dtoObject  = modelMapper.map(type, dtoClass);\r\n        return dtoObject ;\r\n    }\r\n}\r\n```\r\n\r\nAnd create your specific service this way : \r\n\r\n```java\r\n@Service\r\n@Slf4j\r\n@Component(&quot;specificService&quot;)\r\npublic class SpecificService extends AbstractCommonService&lt;SpecificEntity, SpecificDto&gt; {\r\n\r\n    public SpecificService(ModelMapper modelMapper) {\r\n        super(modelMapper, SpecificEntity.class, SpecificDto.class);\r\n    }\r\n\r\n    public void testMethod() {\r\n        this.mapToEntity(new SpecificDto());\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis way you can have only one function to map your entity and your dto for all your services.","title":"How to write a generic service in spring boot which will map DTO to Model and Model to DTO?","body":"<p>if you want to create some generic methods, you should create an abstract class to extends in every service.</p>\n<p>To start you should add two types to your CommonService</p>\n<pre class=\"lang-java prettyprint-override\"><code>// E for Entity and D for DTO\npublic interface CommonService&lt;E, D&gt; {\n\n    //entity mapper\n    E mapToEntity(D type);\n\n    //dto mapper\n    D mapToDto(E type);\n\n}\n</code></pre>\n<p>And create a <code>AbstractCommonService</code> that implements those methods :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AbstractCommonService&lt;E, D&gt; implements CommonService&lt;E, D&gt;{\n\n    protected final ModelMapper modelMapper;\n    private final Class&lt;E&gt; entityClass;\n    private final Class&lt;D&gt; dtoClass;\n\n    public AbstractCommonService(ModelMapper modelMapper, Class&lt;E&gt; entityClass, Class&lt;D&gt; dtoClass) {\n        this.modelMapper = modelMapper;\n        this.entityClass = entityClass;\n        this.dtoClass = dtoClass;\n    }\n\n\n    @Override\n    public E mapToEntity(D type) {\n        E entityObject = modelMapper.map(type, entityClass);\n        return entityObject;\n    }\n\n    @Override\n    public D mapToDto(E type) {\n        D dtoObject  = modelMapper.map(type, dtoClass);\n        return dtoObject ;\n    }\n}\n</code></pre>\n<p>And create your specific service this way :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Slf4j\n@Component(&quot;specificService&quot;)\npublic class SpecificService extends AbstractCommonService&lt;SpecificEntity, SpecificDto&gt; {\n\n    public SpecificService(ModelMapper modelMapper) {\n        super(modelMapper, SpecificEntity.class, SpecificDto.class);\n    }\n\n    public void testMethod() {\n        this.mapToEntity(new SpecificDto());\n    }\n\n}\n</code></pre>\n<p>This way you can have only one function to map your entity and your dto for all your services.</p>\n"}],"owner":{"account_id":15486586,"reputation":106,"user_id":11185081,"display_name":"Manir Mahamat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1668778858,"creation_date":1668773481,"question_id":74489498,"body_markdown":"I am developing an e-commerce rest api using spring boot and I have more than ten models and DTOs classes in my project, so I do not want to write in each service functions which map to Enitity and Dto. Is it possible to use a generic interface that will be like a service in which I can write model mapping logic and then I use it in every service?\r\n\r\n**Here is what I am doing in each service:**\r\n\r\n```\r\n\r\n```\r\n```\r\n@Resource(name = &quot;modelMapper&quot;)\r\nprivate final ModelMapper modelMapper;\r\n```\r\n\r\n```\r\nprivate FaqDto mapToDto(Faq faq){\r\n    FaqDto faqDto = modelMapper.map(faq, FaqDto.class);\r\n    return faqDto;\r\n}\r\n//map to entity\r\nprivate Faq mapToEntity(FaqDto faqDto){\r\n    Faq faq = modelMapper.map(faqDto, Faq.class);\r\n    return faq;\r\n}\r\n```\r\n\r\n**And here what I am trying to do:**\r\n\r\n```\r\n\r\n```\r\n```\r\npublic interface CommonService&lt;T&gt; {\r\n\r\n   //entity mapper\r\n   T mapToEntity(T type);\r\n\r\n   //dto mapper\r\n   T mapToDto(T type);\r\n}\r\n```\r\n```\r\n\r\n```\r\n```\r\n@Service\r\n@Slf4j\r\n@AllArgsConstructor\r\n@Component(&quot;commonService&quot;)\r\npublic class CommonServiceImpl implements CommonService{\r\n\r\n   private static Logger logger = LoggerFactory.getLogger(CommonServiceImpl.class);\r\n\r\n   @Resource(name = &quot;modelMapper&quot;)\r\n   private final ModelMapper modelMapper;\r\n\r\n   \r\n   @Override\r\n    public Object mapToEntity(Object type) {\r\n        Object entityObject = modelMapper.map(type, Object.class);\r\n        return entityObject;\r\n    }\r\n\r\n   @Override\r\n    public Object mapToDto(Object type) {\r\n        Object dtoObject = modelMapper.map(type, Object.class);\r\n        return dtoObject;\r\n    }\r\n}\r\n```\r\n```\r\n\r\n```\r\n**Once I inject this CommonService in other services and trying to use it, so I have to use type casting but still getting error at Postman.**\r\n\r\n","title":"How to write a generic service in spring boot which will map DTO to Model and Model to DTO?","body":"<p>I am developing an e-commerce rest api using spring boot and I have more than ten models and DTOs classes in my project, so I do not want to write in each service functions which map to Enitity and Dto. Is it possible to use a generic interface that will be like a service in which I can write model mapping logic and then I use it in every service?</p>\n<p><strong>Here is what I am doing in each service:</strong></p>\n<pre><code>\n</code></pre>\n<pre><code>@Resource(name = &quot;modelMapper&quot;)\nprivate final ModelMapper modelMapper;\n</code></pre>\n<pre><code>private FaqDto mapToDto(Faq faq){\n    FaqDto faqDto = modelMapper.map(faq, FaqDto.class);\n    return faqDto;\n}\n//map to entity\nprivate Faq mapToEntity(FaqDto faqDto){\n    Faq faq = modelMapper.map(faqDto, Faq.class);\n    return faq;\n}\n</code></pre>\n<p><strong>And here what I am trying to do:</strong></p>\n<pre><code>\n</code></pre>\n<pre><code>public interface CommonService&lt;T&gt; {\n\n   //entity mapper\n   T mapToEntity(T type);\n\n   //dto mapper\n   T mapToDto(T type);\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<pre><code>@Service\n@Slf4j\n@AllArgsConstructor\n@Component(&quot;commonService&quot;)\npublic class CommonServiceImpl implements CommonService{\n\n   private static Logger logger = LoggerFactory.getLogger(CommonServiceImpl.class);\n\n   @Resource(name = &quot;modelMapper&quot;)\n   private final ModelMapper modelMapper;\n\n   \n   @Override\n    public Object mapToEntity(Object type) {\n        Object entityObject = modelMapper.map(type, Object.class);\n        return entityObject;\n    }\n\n   @Override\n    public Object mapToDto(Object type) {\n        Object dtoObject = modelMapper.map(type, Object.class);\n        return dtoObject;\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p><strong>Once I inject this CommonService in other services and trying to use it, so I have to use type casting but still getting error at Postman.</strong></p>\n"},{"tags":["java","google-cloud-platform","google-cloud-functions","google-secret-manager"],"comments":[{"owner":{"account_id":16958113,"reputation":3433,"user_id":12265927,"display_name":"Puteri"},"score":1,"creation_date":1668714273,"post_id":74480847,"comment_id":131479671,"body_markdown":"You can do that but is not recommended. Instead, why don&#39;t you simply use a single SA and grant the needed permissions on both projects according to what it needs to access?","body":"You can do that but is not recommended. Instead, why don&#39;t you simply use a single SA and grant the needed permissions on both projects according to what it needs to access?"}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668778801,"creation_date":1668778801,"answer_id":74490557,"question_id":74480847,"body_markdown":"A service account is one identity. Your function has its own identity. Then, this identity should access the required resources.\r\n\r\nTherefore, grant the Cloud Functions service account the permission to access the resources, secret or whatever.\r\n\r\n-----\r\n\r\nIn that concept, you can easily understand that you can&#39;t have 2 identities for the same service (Cloud Functions can&#39;t be schizophrenia!) \r\n\r\nOf course, you can do unrecommended things, like using a service account key file for each project and have 2 authentications, but it&#39;s a terrible thing and you have to avoid this pattern.","title":"How to use two differents projects id of GCP in Cloud Function","body":"<p>A service account is one identity. Your function has its own identity. Then, this identity should access the required resources.</p>\n<p>Therefore, grant the Cloud Functions service account the permission to access the resources, secret or whatever.</p>\n<hr />\n<p>In that concept, you can easily understand that you can't have 2 identities for the same service (Cloud Functions can't be schizophrenia!)</p>\n<p>Of course, you can do unrecommended things, like using a service account key file for each project and have 2 authentications, but it's a terrible thing and you have to avoid this pattern.</p>\n"}],"owner":{"account_id":23276582,"reputation":19,"user_id":17360633,"display_name":"Alberto Ornelas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668778801,"creation_date":1668712049,"question_id":74480847,"body_markdown":"I have a Cloud Function, in this function I&#39;m connecting database through secrets by GCP\r\n\r\nfor my secrets I&#39;m using different project id (com-project-data)\r\nFor my Google Cloud Function I&#39;m using another project id (com-project-common)\r\n\r\nExists a conflict because each project have a different service account, then I&#39;m asking the following question...\r\n\r\nCan I inject two differents service accounts in my Cloud Function? If this is probably, \r\n\r\nHow Can I do it?\r\n\r\n\r\n","title":"How to use two differents projects id of GCP in Cloud Function","body":"<p>I have a Cloud Function, in this function I'm connecting database through secrets by GCP</p>\n<p>for my secrets I'm using different project id (com-project-data)\nFor my Google Cloud Function I'm using another project id (com-project-common)</p>\n<p>Exists a conflict because each project have a different service account, then I'm asking the following question...</p>\n<p>Can I inject two differents service accounts in my Cloud Function? If this is probably,</p>\n<p>How Can I do it?</p>\n"},{"tags":["java","spring-boot","junit5","spring-cloud-feign","mockwebserver"],"answers":[{"tags":[],"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668778690,"creation_date":1668778690,"answer_id":74490535,"question_id":74490534,"body_markdown":"You can do this by configuring client-side load balancing using `spring-cloud-starter-loadbalancer`. If you are using Gradle, add this to `build.gradle`:\r\n\r\n```\r\ntestImplementation &#39;org.springframework.cloud:spring-cloud-starter-loadbalancer&#39;\r\n```\r\n\r\nThen you can write your test like this:\r\n\r\n```\r\n@SpringBootTest\r\nclass DemoClientTest {\r\n\t@Autowired\r\n\tDemoClient client;\r\n\r\n\tstatic MockWebServer demoServer;\r\n\r\n\t@AfterAll\r\n\tstatic void stopMockServer() throws IOException {\r\n\t\tdemoServer.close();\r\n\t}\r\n\r\n\t@Configuration\r\n\t@EnableAutoConfiguration\r\n\t@EnableFeignClients(clients = DemoClient.class)\r\n\tstatic class Config {\r\n\t\tstatic {\r\n\t\t\tdemoServer = new MockWebServer();\r\n\t\t\ttry {\r\n\t\t\t\tdemoServer.start();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new AssertionError(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tServiceInstanceListSupplier serviceInstanceListSupplier() {\r\n\t\t\treturn ServiceInstanceListSuppliers.from(&quot;mt-server&quot;, new DefaultServiceInstance(\r\n\t\t\t\t&quot;instance1&quot;, &quot;service1&quot;,\r\n\t\t\t\tdemoServer.getHostName(), demoServer.getPort(),\r\n\t\t\t\tfalse\r\n\t\t\t));\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThen you can write tests like this:\r\n\r\n```\r\n\t@Test\r\n\tvoid demoEndpoint_500_throws() {\r\n\t\tdemoServer.enqueue(new MockResponse()\r\n\t\t\t.setResponseCode(500));\r\n\t\tassertThrows(FeignException.class, () -&gt; client.demoEndpoint());\r\n\t}\r\n```","title":"Unit test a FeignClient using MockWebServer","body":"<p>You can do this by configuring client-side load balancing using <code>spring-cloud-starter-loadbalancer</code>. If you are using Gradle, add this to <code>build.gradle</code>:</p>\n<pre><code>testImplementation 'org.springframework.cloud:spring-cloud-starter-loadbalancer'\n</code></pre>\n<p>Then you can write your test like this:</p>\n<pre><code>@SpringBootTest\nclass DemoClientTest {\n    @Autowired\n    DemoClient client;\n\n    static MockWebServer demoServer;\n\n    @AfterAll\n    static void stopMockServer() throws IOException {\n        demoServer.close();\n    }\n\n    @Configuration\n    @EnableAutoConfiguration\n    @EnableFeignClients(clients = DemoClient.class)\n    static class Config {\n        static {\n            demoServer = new MockWebServer();\n            try {\n                demoServer.start();\n            } catch (IOException e) {\n                throw new AssertionError(e);\n            }\n        }\n\n        @Bean\n        ServiceInstanceListSupplier serviceInstanceListSupplier() {\n            return ServiceInstanceListSuppliers.from(&quot;mt-server&quot;, new DefaultServiceInstance(\n                &quot;instance1&quot;, &quot;service1&quot;,\n                demoServer.getHostName(), demoServer.getPort(),\n                false\n            ));\n        }\n    }\n</code></pre>\n<p>Then you can write tests like this:</p>\n<pre><code>    @Test\n    void demoEndpoint_500_throws() {\n        demoServer.enqueue(new MockResponse()\n            .setResponseCode(500));\n        assertThrows(FeignException.class, () -&gt; client.demoEndpoint());\n    }\n</code></pre>\n"}],"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668778690,"creation_date":1668778690,"question_id":74490534,"body_markdown":"I have a `FeignClient` I&#39;ve developed using `spring-cloud-starter-openfeign`. I&#39;d like to write a unit test using `MockWebServer`. How do I set up the Spring configuration for this?","title":"Unit test a FeignClient using MockWebServer","body":"<p>I have a <code>FeignClient</code> I've developed using <code>spring-cloud-starter-openfeign</code>. I'd like to write a unit test using <code>MockWebServer</code>. How do I set up the Spring configuration for this?</p>\n"},{"tags":["java","vaadin","multi-select"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":2,"creation_date":1668780034,"post_id":74490497,"comment_id":131495781,"body_markdown":"Does `TechnologyLabel` have proper setup for equals and hashCode?","body":"Does <code>TechnologyLabel</code> have proper setup for equals and hashCode?"},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1668782249,"post_id":74490497,"comment_id":131496597,"body_markdown":"@cfrick thank you good sir &lt;3. I completely forgot about it","body":"@cfrick thank you good sir &lt;3. I completely forgot about it"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669024050,"post_id":74490497,"comment_id":131540301,"body_markdown":"Is you issue solve? If yes, please add it as the answer or delete the question","body":"Is you issue solve? If yes, please add it as the answer or delete the question"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668778543,"creation_date":1668778543,"question_id":74490497,"body_markdown":"I have a `MultiSelectComboBox` but when trying to select some items through its `select()` method nothing happens.\r\n\r\nMy code looks as follows:\r\n\r\n\r\n    Binder&lt;Technology&gt; binder = new BeanValidationBinder&lt;&gt;(Technology.class);\r\n    MultiSelectComboBox&lt;TechnologyLabel&gt; multiComboBox = new MultiSelectComboBox&lt;&gt;(&quot;Labels&quot;);\r\n    \r\n    binder\r\n                    .forField(this.multiComboBox)\r\n                    .bind(Technology::getLabels, Technology::setLabels);\r\n\r\n            List&lt;TechnologyLabel&gt; labelList = technologyLayout.technologyLabelService.getTechnologyLabels(technology);\r\n            List&lt;Label&gt; containedLabels = new ArrayList&lt;&gt;();\r\n            for (var tl : labelList) {\r\n                containedLabels.add(tl.getLabel());\r\n            }\r\n            List&lt;Label&gt; labels = labelService.findAllLabels();\r\n\r\n            for (var label : labels) {\r\n                if (!containedLabels.contains(label)) {\r\n                    labelList.add(new TechnologyLabel(technology, label));\r\n                }\r\n            }\r\n            multiComboBox.setItems(labelList);\r\n            multiComboBox.setItemLabelGenerator(TechnologyLabel::getLabelName);\r\n            note.setMaxHeight(&quot;10em&quot;);\r\n\r\n            multiComboBox.select(labelList.get(0);\r\n\r\nWhat I do above is querying my `ManyToMany` relation to find all `labels` given the `technology`. Then I find all the `labels` and create a `list` from that. Lastly, I try to select first item of the list, but it does not show a tick next to it.\r\n\r\n ","title":"method select for MultiSelectComboBox not working","body":"<p>I have a <code>MultiSelectComboBox</code> but when trying to select some items through its <code>select()</code> method nothing happens.</p>\n<p>My code looks as follows:</p>\n<pre><code>Binder&lt;Technology&gt; binder = new BeanValidationBinder&lt;&gt;(Technology.class);\nMultiSelectComboBox&lt;TechnologyLabel&gt; multiComboBox = new MultiSelectComboBox&lt;&gt;(&quot;Labels&quot;);\n\nbinder\n                .forField(this.multiComboBox)\n                .bind(Technology::getLabels, Technology::setLabels);\n\n        List&lt;TechnologyLabel&gt; labelList = technologyLayout.technologyLabelService.getTechnologyLabels(technology);\n        List&lt;Label&gt; containedLabels = new ArrayList&lt;&gt;();\n        for (var tl : labelList) {\n            containedLabels.add(tl.getLabel());\n        }\n        List&lt;Label&gt; labels = labelService.findAllLabels();\n\n        for (var label : labels) {\n            if (!containedLabels.contains(label)) {\n                labelList.add(new TechnologyLabel(technology, label));\n            }\n        }\n        multiComboBox.setItems(labelList);\n        multiComboBox.setItemLabelGenerator(TechnologyLabel::getLabelName);\n        note.setMaxHeight(&quot;10em&quot;);\n\n        multiComboBox.select(labelList.get(0);\n</code></pre>\n<p>What I do above is querying my <code>ManyToMany</code> relation to find all <code>labels</code> given the <code>technology</code>. Then I find all the <code>labels</code> and create a <code>list</code> from that. Lastly, I try to select first item of the list, but it does not show a tick next to it.</p>\n"},{"tags":["java","arraylist","serialization"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1668778078,"post_id":74490374,"comment_id":131495063,"body_markdown":"You defined your Book constructor as taking the 3 arguments `String bookTitle, Author name, PubDate date)`, but you are trying to pass 3 Strings into it. That can&#39;t work. If you designed your class constructor to take an Object of type `Author` and `PubDate` then that is what you have to pass into that constructor. Either change your call or change your constructor (or add a new one) to accept the arguments you pass into it.","body":"You defined your Book constructor as taking the 3 arguments <code>String bookTitle, Author name, PubDate date)</code>, but you are trying to pass 3 Strings into it. That can&#39;t work. If you designed your class constructor to take an Object of type <code>Author</code> and <code>PubDate</code> then that is what you have to pass into that constructor. Either change your call or change your constructor (or add a new one) to accept the arguments you pass into it."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668779131,"post_id":74490374,"comment_id":131495425,"body_markdown":"&quot; how do i make the string be converted to author&quot; &lt;- FYI, you do not &quot;convert&quot; a String to an Author. You create an Author Object by calling the constructor you defined. eG `Author myAuthor = new Author(&quot;authorFirstname&quot;, &quot;authorLastname&quot;, &quot;authorTitle&quot;);` and then you can use that created Object to pass it into the Book class.","body":"&quot; how do i make the string be converted to author&quot; &lt;- FYI, you do not &quot;convert&quot; a String to an Author. You create an Author Object by calling the constructor you defined. eG <code>Author myAuthor = new Author(&quot;authorFirstname&quot;, &quot;authorLastname&quot;, &quot;authorTitle&quot;);</code> and then you can use that created Object to pass it into the Book class."},{"owner":{"account_id":275180,"reputation":976,"user_id":567902,"display_name":"L A"},"score":0,"creation_date":1668790105,"post_id":74490374,"comment_id":131499500,"body_markdown":"rephrase ur title, its unclear","body":"rephrase ur title, its unclear"}],"owner":{"account_id":26974369,"reputation":1,"user_id":20539860,"display_name":"Jermong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668777930,"creation_date":1668777930,"question_id":74490374,"body_markdown":"in the line of books.add it says incompatible types: string cannot be converted to Author\r\nI tried converting it all to string but it still didn&#39;t work. My problem is how do i make the string be converted to author. The expected output of this is to simply create an arraylist of 5 books with the class of authors, books, and publishing dat. Under the Book class, i am trying to add the arraylist but i cannot seem to get pass the problem of the string to be converting to the object author.\r\n\r\n```\r\npublic class Book {\r\n    private String bookTitle;\r\n    private Author name;\r\n    private PubDate date;\r\n\r\n    public Book() {\r\n    }\r\n\r\n    public Book(String bookTitle, Author name, PubDate date) {\r\n        this.bookTitle = bookTitle;\r\n        this.name = name;\r\n        this.date = date;\r\n    }\r\n\r\n    public String getBookTitle() {\r\n        return bookTitle;\r\n    }\r\n\r\n    public Author getName() {\r\n        return name;\r\n    }\r\n\r\n    public PubDate getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setBookTitle(String bookTitle) {\r\n        this.bookTitle = bookTitle;\r\n    }\r\n\r\n    public void setName(Author name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setDate(PubDate date) {\r\n        this.date = date;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Book{&quot; + &quot;bookTitle=&quot; + bookTitle + &quot;, name=&quot; + name + &quot;, date=&quot; + date + &#39;}&#39;;\r\n    }\r\n\r\n  \r\n\r\n}\r\n\r\n```\r\n```\r\npublic class Author {\r\n    private String firstname;\r\n    private String lastname;\r\n    private String title;\r\n\r\n    public Author() {\r\n    }\r\n\r\n    public Author(String firstname, String lastname, String title) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.title = title;\r\n    }\r\n\r\n    public String getFirstname() {\r\n        return firstname;\r\n    }\r\n\r\n    public String getLastname() {\r\n        return lastname;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setFirstname(String firstname) {\r\n        this.firstname = firstname;\r\n    }\r\n\r\n    public void setLastname(String lastname) {\r\n        this.lastname = lastname;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Author{&quot; + &quot;firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + &quot;, title=&quot; + title + &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Serialization {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\r\n        ArrayList&lt;Author&gt; authors = new ArrayList&lt;Author&gt;();\r\n        ArrayList&lt;PubDate&gt; pubs = new ArrayList&lt;PubDate&gt;();\r\n        \r\n       \r\n        \r\n        books.add(new Book(&quot;Book Title&quot;, &quot;Author Name&quot;, &quot;Publishing Date&quot;));\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"I am trying to serialize multiple objects and i could quite get pass the error of trying to add values to may ArrayList (Book)","body":"<p>in the line of books.add it says incompatible types: string cannot be converted to Author\nI tried converting it all to string but it still didn't work. My problem is how do i make the string be converted to author. The expected output of this is to simply create an arraylist of 5 books with the class of authors, books, and publishing dat. Under the Book class, i am trying to add the arraylist but i cannot seem to get pass the problem of the string to be converting to the object author.</p>\n<pre><code>public class Book {\n    private String bookTitle;\n    private Author name;\n    private PubDate date;\n\n    public Book() {\n    }\n\n    public Book(String bookTitle, Author name, PubDate date) {\n        this.bookTitle = bookTitle;\n        this.name = name;\n        this.date = date;\n    }\n\n    public String getBookTitle() {\n        return bookTitle;\n    }\n\n    public Author getName() {\n        return name;\n    }\n\n    public PubDate getDate() {\n        return date;\n    }\n\n    public void setBookTitle(String bookTitle) {\n        this.bookTitle = bookTitle;\n    }\n\n    public void setName(Author name) {\n        this.name = name;\n    }\n\n    public void setDate(PubDate date) {\n        this.date = date;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Book{&quot; + &quot;bookTitle=&quot; + bookTitle + &quot;, name=&quot; + name + &quot;, date=&quot; + date + '}';\n    }\n\n  \n\n}\n\n</code></pre>\n<pre><code>public class Author {\n    private String firstname;\n    private String lastname;\n    private String title;\n\n    public Author() {\n    }\n\n    public Author(String firstname, String lastname, String title) {\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.title = title;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Author{&quot; + &quot;firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + &quot;, title=&quot; + title + '}';\n    }\n\n}\n\n</code></pre>\n<pre><code>public class Serialization {\n    public static void main(String[] args) {\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\n        ArrayList&lt;Author&gt; authors = new ArrayList&lt;Author&gt;();\n        ArrayList&lt;PubDate&gt; pubs = new ArrayList&lt;PubDate&gt;();\n        \n       \n        \n        books.add(new Book(&quot;Book Title&quot;, &quot;Author Name&quot;, &quot;Publishing Date&quot;));\n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511814739,"post_id":47518138,"comment_id":81994880,"body_markdown":"What kind of SideInput view are you using? Can you share an example of how you were using that?","body":"What kind of SideInput view are you using? Can you share an example of how you were using that?"},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511814824,"post_id":47518138,"comment_id":81994926,"body_markdown":"Have you considered using a Stateful ParDo? If you were processing in the global window, this would allow you to store the value from BigQuery in state, and use it to process each value that arrived from the other stream. You would need to use the same Merge.Flatten approach you mentioned since Stateful DoFn&#39;s only work with a single input collection.","body":"Have you considered using a Stateful ParDo? If you were processing in the global window, this would allow you to store the value from BigQuery in state, and use it to process each value that arrived from the other stream. You would need to use the same Merge.Flatten approach you mentioned since Stateful DoFn&#39;s only work with a single input collection."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511819048,"post_id":47518138,"comment_id":81997058,"body_markdown":"For you first comment @BenChambers the side input it is a large mapping table. Each row has a key string in it that may match the data in the incoming Pubsub message. The mapping dataset changes each week but currently is ~40 million rows (about 10 GB) and for the course of the week is completely static and unchanging.\n\nI&#39;m looking at the stateful pardo documentation now and seeing if could be viable...","body":"For you first comment @BenChambers the side input it is a large mapping table. Each row has a key string in it that may match the data in the incoming Pubsub message. The mapping dataset changes each week but currently is ~40 million rows (about 10 GB) and for the course of the week is completely static and unchanging.  I&#39;m looking at the stateful pardo documentation now and seeing if could be viable..."},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":1,"creation_date":1511824677,"post_id":47518138,"comment_id":81999470,"body_markdown":"For side inputs, are you using `View.asSingleton`, `View.asMap`, etc.? For example -- `View.asSingleton` will take a PCollection with a single element and make it visible to the ParDo. `View.asMap` will take a `PCollection&lt;KV&lt;K, V&gt;&gt;` and make it available as a `Map&lt;K, V&gt;`, but will only read the keys you need.","body":"For side inputs, are you using <code>View.asSingleton</code>, <code>View.asMap</code>, etc.? For example -- <code>View.asSingleton</code> will take a PCollection with a single element and make it visible to the ParDo. <code>View.asMap</code> will take a <code>PCollection&lt;KV&lt;K, V&gt;&gt;</code> and make it available as a <code>Map&lt;K, V&gt;</code>, but will only read the keys you need."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511891451,"post_id":47518138,"comment_id":82032709,"body_markdown":"I was using `View.asIterable` to go through each row to check for a match","body":"I was using <code>View.asIterable</code> to go through each row to check for a match"},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511916724,"post_id":47518138,"comment_id":82043771,"body_markdown":"Using `View.asIterable` means that for every element you need to read (potentially) all 10 GB. That explains some performance problems. Would it be possible to use `View.asMap` or `View.asMultimap`? This would require you associate each row with a lookup key, but then you&#39;d be able to query those items without reading everything.","body":"Using <code>View.asIterable</code> means that for every element you need to read (potentially) all 10 GB. That explains some performance problems. Would it be possible to use <code>View.asMap</code> or <code>View.asMultimap</code>? This would require you associate each row with a lookup key, but then you&#39;d be able to query those items without reading everything."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511984932,"post_id":47518138,"comment_id":82079000,"body_markdown":"Do you mean to say that I can take the 10GB static side input and only bring needed values into the side input data for each incoming pubsub message?","body":"Do you mean to say that I can take the 10GB static side input and only bring needed values into the side input data for each incoming pubsub message?"},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511985430,"post_id":47518138,"comment_id":82079240,"body_markdown":"If they are keyed, yes. You take a `PCollection&lt;K, V&gt;`, and use the `View.asMap` or `View.asMultimap`, and get back a `PCollectionView&lt;Map&lt;K, V&gt;&gt;` or `PCollectionView&lt;Map&lt;K, Iterable&lt;V&gt;&gt;`. The side input is written out using an indexed format, so when you do `context.sideInput(view).get(someKey)` it only needs to read a subset of the entire side-input data.","body":"If they are keyed, yes. You take a <code>PCollection&lt;K, V&gt;</code>, and use the <code>View.asMap</code> or <code>View.asMultimap</code>, and get back a <code>PCollectionView&lt;Map&lt;K, V&gt;&gt;</code> or <code>PCollectionView&lt;Map&lt;K, Iterable&lt;V&gt;&gt;</code>. The side input is written out using an indexed format, so when you do <code>context.sideInput(view).get(someKey)</code> it only needs to read a subset of the entire side-input data."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511986317,"post_id":47518138,"comment_id":82079717,"body_markdown":"Sounds promising. I will try that","body":"Sounds promising. I will try that"},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1511992503,"post_id":47518138,"comment_id":82082766,"body_markdown":"Putting the large side input into KeyValue pairs and making the view using `View.asMap`, even when using the n1-highmem-16 machines, still throws the `java.lang.IllegalArgumentException: ByteString would be too long` error. I will edit the question with details from this attempt.","body":"Putting the large side input into KeyValue pairs and making the view using <code>View.asMap</code>, even when using the n1-highmem-16 machines, still throws the <code>java.lang.IllegalArgumentException: ByteString would be too long</code> error. I will edit the question with details from this attempt."},{"owner":{"account_id":5748925,"reputation":6070,"user_id":4539304,"display_name":"Ben Chambers"},"score":0,"creation_date":1511994114,"post_id":47518138,"comment_id":82083500,"body_markdown":"Can you share the stack trace from the IllegalArgumentException you are getting? I want to understand where the ByteString that would be too long is occurring.","body":"Can you share the stack trace from the IllegalArgumentException you are getting? I want to understand where the ByteString that would be too long is occurring."},{"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"score":0,"creation_date":1512609956,"post_id":47518138,"comment_id":82331937,"body_markdown":"Any thoughts on this? I&#39;ve had a support ticket open with Google and I sent an email to Apache Beam devs with no luck","body":"Any thoughts on this? I&#39;ve had a support ticket open with Google and I sent an email to Apache Beam devs with no luck"},{"owner":{"account_id":1895524,"reputation":1043,"user_id":1712591,"accept_rate":42,"display_name":"tomer.z"},"score":2,"creation_date":1541875108,"post_id":47518138,"comment_id":93369936,"body_markdown":"Any news about this? facing the same problem","body":"Any news about this? facing the same problem"}],"answers":[{"tags":[],"owner":{"account_id":1725423,"reputation":3665,"user_id":1580227,"accept_rate":100,"display_name":"medvedev1088"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1668777426,"creation_date":1545679304,"answer_id":53917047,"question_id":47518138,"body_markdown":"Check out the section called &quot;Pattern: Streaming mode large lookup tables&quot; in [Guide to common Cloud Dataflow use-case patterns, Part 2][2]. It might be the only viable solution since your side input doesn&#39;t fit into memory.\r\n\r\n&gt; **Description:**\r\n&gt; \r\n&gt; A large (in GBs) lookup table must be accurate, and changes often or\r\n&gt; does not fit in memory.\r\n&gt; \r\n&gt; **Example:**\r\n&gt; \r\n&gt; You have point of sale information from a retailer and need to\r\n&gt; associate the name of the product item with the data record which\r\n&gt; contains the productID. There are hundreds of thousands of items\r\n&gt; stored in an external database that can change constantly. Also, all\r\n&gt; elements must be processed using the correct value.\r\n&gt; \r\n&gt; **Solution:**\r\n&gt; \r\n&gt; Use the &quot;[Calling external services for data enrichment][1]&quot; pattern\r\n&gt; but rather than calling a micro service, call a read-optimized NoSQL\r\n&gt; database (such as Cloud Datastore or Cloud Bigtable) directly.\r\n&gt; \r\n&gt; For each value to be looked up, create a Key Value pair using the KV\r\n&gt; utility class. Do a GroupByKey to create batches of the same key type\r\n&gt; to make the call against the database. In the DoFn, make a call out to\r\n&gt; the database for that key and then apply the value to all values by\r\n&gt; walking through the iterable. Follow best practices with client\r\n&gt; instantiation as described in &quot;Calling external services for data\r\n&gt; enrichment&quot;.\r\n\r\nOther relevant patterns are described in [Guide to common Cloud Dataflow use-case patterns, Part 1][1]: \r\n\r\n- Pattern: Slowly-changing lookup cache\r\n- Pattern: Calling external services for data enrichment\r\n\r\n[1]: https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1\r\n[2]: https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-2","title":"Apache Beam in Dataflow Large Side Input","body":"<p>Check out the section called &quot;Pattern: Streaming mode large lookup tables&quot; in <a href=\"https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-2\" rel=\"nofollow noreferrer\">Guide to common Cloud Dataflow use-case patterns, Part 2</a>. It might be the only viable solution since your side input doesn't fit into memory.</p>\n<blockquote>\n<p><strong>Description:</strong></p>\n<p>A large (in GBs) lookup table must be accurate, and changes often or\ndoes not fit in memory.</p>\n<p><strong>Example:</strong></p>\n<p>You have point of sale information from a retailer and need to\nassociate the name of the product item with the data record which\ncontains the productID. There are hundreds of thousands of items\nstored in an external database that can change constantly. Also, all\nelements must be processed using the correct value.</p>\n<p><strong>Solution:</strong></p>\n<p>Use the &quot;<a href=\"https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1\" rel=\"nofollow noreferrer\">Calling external services for data enrichment</a>&quot; pattern\nbut rather than calling a micro service, call a read-optimized NoSQL\ndatabase (such as Cloud Datastore or Cloud Bigtable) directly.</p>\n<p>For each value to be looked up, create a Key Value pair using the KV\nutility class. Do a GroupByKey to create batches of the same key type\nto make the call against the database. In the DoFn, make a call out to\nthe database for that key and then apply the value to all values by\nwalking through the iterable. Follow best practices with client\ninstantiation as described in &quot;Calling external services for data\nenrichment&quot;.</p>\n</blockquote>\n<p>Other relevant patterns are described in <a href=\"https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1\" rel=\"nofollow noreferrer\">Guide to common Cloud Dataflow use-case patterns, Part 1</a>:</p>\n<ul>\n<li>Pattern: Slowly-changing lookup cache</li>\n<li>Pattern: Calling external services for data enrichment</li>\n</ul>\n"}],"owner":{"account_id":6667362,"reputation":196,"user_id":5144609,"display_name":"Taylor"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8907,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1668777426,"creation_date":1511809773,"question_id":47518138,"body_markdown":"This is most similar to [this question](https://stackoverflow.com/questions/36927558/how-to-combine-streaming-data-with-large-history-data-set-in-dataflow-beam).\r\n\r\nI am creating a pipeline in Dataflow 2.x that takes streaming input from a Pubsub queue. Every single message that comes in needs to be streamed through a very large dataset that comes from Google BigQuery and have all the relevant values attached to it (based on a key) before being written to a database.\r\n\r\nThe trouble is that the mapping dataset from BigQuery is very large - any attempt to use it as a side input fails with the Dataflow runners throwing the error &quot;java.lang.IllegalArgumentException: ByteString would be too long&quot;. I have attempted the following strategies:\r\n\r\n1) Side input\r\n\r\n- As stated,the mapping data is (apparently) too large to do this. If I&#39;m wrong here or there is a work-around for this, please let me know because this would be the simplest solution.\r\n\r\n2) Key-Value pair mapping\r\n\r\n\r\n - In this strategy, I read the BigQuery data and Pubsub message data in the first part of the pipeline, then run each through ParDo transformations that change every value in the PCollections to KeyValue pairs. Then, I run a Merge.Flatten transform and a GroupByKey transform to attach the relevant mapping data to each message.\r\n - The trouble here is that streaming data requires windowing to be merged with other data, so I have to apply windowing to the large, bounded BigQuery data as well. It also requires that the windowing strategies are the same on both datasets. But no windowing strategy for the bounded data makes sense, and the few windowing attempts I&#39;ve made simply send all the BQ data in a single window and then never send it again. It needs to be joined with every incoming pubsub message.\r\n\r\n3) Calling BQ directly in a ParDo (DoFn)\r\n\r\n- This seemed like a good idea - have each worker declare a static instance of the map data. If it&#39;s not there, then call BigQuery directly to get it. Unfortunately this throws internal errors from BigQuery every time (as in the entire message just says &quot;Internal error&quot;). Filing a support ticket with Google resulted in them telling me that, essentially, &quot;you can&#39;t do that&quot;.\r\n\r\nIt seems this task doesn&#39;t really fit the &quot;embarrassingly parallelizable&quot; model, so am I barking up the wrong tree here?\r\n\r\n**EDIT :**\r\n\r\nEven when using a high memory machine in dataflow and attempting to make the side input into a map view, I get the error  `java.lang.IllegalArgumentException: ByteString would be too long`\r\n\r\nHere is an example (psuedo) of the code I&#39;m using:\r\n\r\n\t\tPipeline pipeline = Pipeline.create(options);\r\n\r\n\t\tPCollectionView&lt;Map&lt;String, TableRow&gt;&gt; mapData = pipeline\r\n\t\t\t\t.apply(&quot;ReadMapData&quot;, BigQueryIO.read().fromQuery(&quot;SELECT whatever FROM ...&quot;).usingStandardSql())\r\n\t\t\t\t.apply(&quot;BQToKeyValPairs&quot;, ParDo.of(new BQToKeyValueDoFn())) \r\n\t\t\t\t.apply(View.asMap());\r\n\r\n\t\tPCollection&lt;PubsubMessage&gt; messages = pipeline.apply(PubsubIO.readMessages()\r\n\t\t\t\t.fromSubscription(String.format(&quot;projects/%1$s/subscriptions/%2$s&quot;, projectId, pubsubSubscription)));\r\n\r\n\t\tmessages.apply(ParDo.of(new DoFn&lt;PubsubMessage, TableRow&gt;() {\r\n\t\t\t@ProcessElement\r\n\t\t\tpublic void processElement(ProcessContext c) {\r\n\t\t\t\tJSONObject data = new JSONObject(new String(c.element().getPayload()));\r\n\t\t\t\tString key = getKeyFromData(data);\r\n\t\t\t\tTableRow sideInputData = c.sideInput(mapData).get(key);\r\n\t\t\t\tif (sideInputData != null) {\r\n\t\t\t\t\tLOG.info(&quot;holyWowItWOrked&quot;);\r\n\t\t\t\t\tc.output(new TableRow());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLOG.info(&quot;noSideInputDataHere&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).withSideInputs(mapData));\r\n\r\nThe pipeline throws the exception and fails before logging anything from within the `ParDo`.\r\n\r\nStack trace:\r\n\r\n    java.lang.IllegalArgumentException: ByteString would be too long: 644959474+1551393497\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.concat(ByteString.java:524)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:576)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.copyFrom(ByteString.java:559)\r\n            com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString$Output.toByteString(ByteString.java:1006)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillBag.persistDirectly(WindmillStateInternals.java:575)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals$SimpleWindmillState.persist(WindmillStateInternals.java:320)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillCombiningState.persist(WindmillStateInternals.java:951)\r\n            com.google.cloud.dataflow.worker.WindmillStateInternals.persist(WindmillStateInternals.java:216)\r\n            com.google.cloud.dataflow.worker.StreamingModeExecutionContext$StepContext.flushState(StreamingModeExecutionContext.java:513)\r\n            com.google.cloud.dataflow.worker.StreamingModeExecutionContext.flushState(StreamingModeExecutionContext.java:363)\r\n            com.google.cloud.dataflow.worker.StreamingDataflowWorker.process(StreamingDataflowWorker.java:1000)\r\n            com.google.cloud.dataflow.worker.StreamingDataflowWorker.access$800(StreamingDataflowWorker.java:133)\r\n            com.google.cloud.dataflow.worker.StreamingDataflowWorker$7.run(StreamingDataflowWorker.java:771)\r\n            java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            java.lang.Thread.run(Thread.java:745)","title":"Apache Beam in Dataflow Large Side Input","body":"<p>This is most similar to <a href=\"https://stackoverflow.com/questions/36927558/how-to-combine-streaming-data-with-large-history-data-set-in-dataflow-beam\">this question</a>.</p>\n\n<p>I am creating a pipeline in Dataflow 2.x that takes streaming input from a Pubsub queue. Every single message that comes in needs to be streamed through a very large dataset that comes from Google BigQuery and have all the relevant values attached to it (based on a key) before being written to a database.</p>\n\n<p>The trouble is that the mapping dataset from BigQuery is very large - any attempt to use it as a side input fails with the Dataflow runners throwing the error \"java.lang.IllegalArgumentException: ByteString would be too long\". I have attempted the following strategies:</p>\n\n<p>1) Side input</p>\n\n<ul>\n<li>As stated,the mapping data is (apparently) too large to do this. If I'm wrong here or there is a work-around for this, please let me know because this would be the simplest solution.</li>\n</ul>\n\n<p>2) Key-Value pair mapping</p>\n\n<ul>\n<li>In this strategy, I read the BigQuery data and Pubsub message data in the first part of the pipeline, then run each through ParDo transformations that change every value in the PCollections to KeyValue pairs. Then, I run a Merge.Flatten transform and a GroupByKey transform to attach the relevant mapping data to each message.</li>\n<li>The trouble here is that streaming data requires windowing to be merged with other data, so I have to apply windowing to the large, bounded BigQuery data as well. It also requires that the windowing strategies are the same on both datasets. But no windowing strategy for the bounded data makes sense, and the few windowing attempts I've made simply send all the BQ data in a single window and then never send it again. It needs to be joined with every incoming pubsub message.</li>\n</ul>\n\n<p>3) Calling BQ directly in a ParDo (DoFn)</p>\n\n<ul>\n<li>This seemed like a good idea - have each worker declare a static instance of the map data. If it's not there, then call BigQuery directly to get it. Unfortunately this throws internal errors from BigQuery every time (as in the entire message just says \"Internal error\"). Filing a support ticket with Google resulted in them telling me that, essentially, \"you can't do that\".</li>\n</ul>\n\n<p>It seems this task doesn't really fit the \"embarrassingly parallelizable\" model, so am I barking up the wrong tree here?</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>Even when using a high memory machine in dataflow and attempting to make the side input into a map view, I get the error  <code>java.lang.IllegalArgumentException: ByteString would be too long</code></p>\n\n<p>Here is an example (psuedo) of the code I'm using:</p>\n\n<pre><code>    Pipeline pipeline = Pipeline.create(options);\n\n    PCollectionView&lt;Map&lt;String, TableRow&gt;&gt; mapData = pipeline\n            .apply(\"ReadMapData\", BigQueryIO.read().fromQuery(\"SELECT whatever FROM ...\").usingStandardSql())\n            .apply(\"BQToKeyValPairs\", ParDo.of(new BQToKeyValueDoFn())) \n            .apply(View.asMap());\n\n    PCollection&lt;PubsubMessage&gt; messages = pipeline.apply(PubsubIO.readMessages()\n            .fromSubscription(String.format(\"projects/%1$s/subscriptions/%2$s\", projectId, pubsubSubscription)));\n\n    messages.apply(ParDo.of(new DoFn&lt;PubsubMessage, TableRow&gt;() {\n        @ProcessElement\n        public void processElement(ProcessContext c) {\n            JSONObject data = new JSONObject(new String(c.element().getPayload()));\n            String key = getKeyFromData(data);\n            TableRow sideInputData = c.sideInput(mapData).get(key);\n            if (sideInputData != null) {\n                LOG.info(\"holyWowItWOrked\");\n                c.output(new TableRow());\n            } else {\n                LOG.info(\"noSideInputDataHere\");\n            }\n        }\n    }).withSideInputs(mapData));\n</code></pre>\n\n<p>The pipeline throws the exception and fails before logging anything from within the <code>ParDo</code>.</p>\n\n<p>Stack trace:</p>\n\n<pre><code>java.lang.IllegalArgumentException: ByteString would be too long: 644959474+1551393497\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.concat(ByteString.java:524)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:576)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.balancedConcat(ByteString.java:575)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString.copyFrom(ByteString.java:559)\n        com.google.cloud.dataflow.worker.repackaged.com.google.protobuf.ByteString$Output.toByteString(ByteString.java:1006)\n        com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillBag.persistDirectly(WindmillStateInternals.java:575)\n        com.google.cloud.dataflow.worker.WindmillStateInternals$SimpleWindmillState.persist(WindmillStateInternals.java:320)\n        com.google.cloud.dataflow.worker.WindmillStateInternals$WindmillCombiningState.persist(WindmillStateInternals.java:951)\n        com.google.cloud.dataflow.worker.WindmillStateInternals.persist(WindmillStateInternals.java:216)\n        com.google.cloud.dataflow.worker.StreamingModeExecutionContext$StepContext.flushState(StreamingModeExecutionContext.java:513)\n        com.google.cloud.dataflow.worker.StreamingModeExecutionContext.flushState(StreamingModeExecutionContext.java:363)\n        com.google.cloud.dataflow.worker.StreamingDataflowWorker.process(StreamingDataflowWorker.java:1000)\n        com.google.cloud.dataflow.worker.StreamingDataflowWorker.access$800(StreamingDataflowWorker.java:133)\n        com.google.cloud.dataflow.worker.StreamingDataflowWorker$7.run(StreamingDataflowWorker.java:771)\n        java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jparepository"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668509158,"post_id":74444016,"comment_id":131417000,"body_markdown":"Not sure how you made that jar but that isn&#39;t a proper Spring Boot jar. Use the build tool you are using (maven or gradle) to provide the jar not the export to jar functionin your IDE.","body":"Not sure how you made that jar but that isn&#39;t a proper Spring Boot jar. Use the build tool you are using (maven or gradle) to provide the jar not the export to jar functionin your IDE."},{"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"score":0,"creation_date":1668514018,"post_id":74444016,"comment_id":131418663,"body_markdown":"@M.Deinum I am using gradle, any place I can get a sample for Spring Boot?","body":"@M.Deinum I am using gradle, any place I can get a sample for Spring Boot?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668514478,"post_id":74444016,"comment_id":131418824,"body_markdown":"Check the documentaiton, just do `./gradlew build` and the resulting jar is the correct one.","body":"Check the documentaiton, just do <code>.&#47;gradlew build</code> and the resulting jar is the correct one."},{"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"score":0,"creation_date":1668523139,"post_id":74444016,"comment_id":131422476,"body_markdown":"thanks @M.Deinum, u are right. its actually just simple gradle build will generate the jar correctly. At first need tricky job on it.","body":"thanks @M.Deinum, u are right. its actually just simple gradle build will generate the jar correctly. At first need tricky job on it."}],"answers":[{"tags":[],"owner":{"account_id":23563659,"reputation":40,"user_id":17604707,"display_name":"Jatel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668777250,"creation_date":1668512083,"answer_id":74444945,"question_id":74444016,"body_markdown":"Check your SpringBoot annotations. You may be missing some `@Service`, `@Repository`, `@Component` annotations.","title":"Consider defining a bean of type in your configuration in spring boot when using Spring JpaRepository","body":"<p>Check your SpringBoot annotations. You may be missing some <code>@Service</code>, <code>@Repository</code>, <code>@Component</code> annotations.</p>\n"}],"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668777250,"creation_date":1668507809,"question_id":74444016,"body_markdown":"Good day,\r\n\r\nI am doing a Spring Boot Application in my Eclipse IDE. When I right click on my SpringBoot Application file and run as Java application, I hitting error as follow:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField tutorialRepository in com.utility.tool.ToolApplication required a bean of type &#39;com.utility.tool.repository.TutorialRepository&#39; that could not be found.\r\n\r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.utility.tool.repository.TutorialRepository&#39; in your configuration.\r\n\r\nThen I found that I forget to include the spring boot starter data jar. Hence, I add the following code in my `build.gradle` and it finally run correctly:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.7.5&#39;\r\n\r\nThen I right click my project and export jar as runnable jar, and then try to run it by `java -jar my.jar`, and it hit back the error. \r\n\r\nI open the jar in `JdGui`, and found that the `spring-boot-starter-data-jpa-2.7.5.jar` is inside. May I know what is my mistake? My jar structure is something as follow:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe jar is in the list but is at bottom, thus not in my screen shot.\r\n\r\n  [1]: https://i.stack.imgur.com/hpu3F.png","title":"Consider defining a bean of type in your configuration in spring boot when using Spring JpaRepository","body":"<p>Good day,</p>\n<p>I am doing a Spring Boot Application in my Eclipse IDE. When I right click on my SpringBoot Application file and run as Java application, I hitting error as follow:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field tutorialRepository in com.utility.tool.ToolApplication required a bean of type 'com.utility.tool.repository.TutorialRepository' that could not be found.</p>\n<pre><code>The injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.utility.tool.repository.TutorialRepository' in your configuration.\n</code></pre>\n<p>Then I found that I forget to include the spring boot starter data jar. Hence, I add the following code in my <code>build.gradle</code> and it finally run correctly:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.7.5'\n</code></pre>\n<p>Then I right click my project and export jar as runnable jar, and then try to run it by <code>java -jar my.jar</code>, and it hit back the error.</p>\n<p>I open the jar in <code>JdGui</code>, and found that the <code>spring-boot-starter-data-jpa-2.7.5.jar</code> is inside. May I know what is my mistake? My jar structure is something as follow:</p>\n<p><a href=\"https://i.stack.imgur.com/hpu3F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hpu3F.png\" alt=\"enter image description here\" /></a></p>\n<p>The jar is in the list but is at bottom, thus not in my screen shot.</p>\n"},{"tags":["java","windows","tomcat","tomcat8"],"answers":[{"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1428490192,"post_id":29512596,"comment_id":47180837,"body_markdown":"Link-only answers are discouraged, as links can go down. I recommend that you paraphrase the essential parts of the answer into your post.","body":"Link-only answers are discouraged, as links can go down. I recommend that you paraphrase the essential parts of the answer into your post."},{"owner":{"account_id":2236594,"reputation":171,"user_id":1972810,"display_name":"RSCh"},"score":0,"creation_date":1428490707,"post_id":29512596,"comment_id":47181166,"body_markdown":"Thanks, I will consider in the future!:)","body":"Thanks, I will consider in the future!:)"}],"tags":[],"owner":{"account_id":2236594,"reputation":171,"user_id":1972810,"display_name":"RSCh"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668776671,"creation_date":1428490170,"answer_id":29512596,"question_id":29512419,"body_markdown":"Replacing lib is not a very good solution, because there are no guarantees that it will work correctly with other programs. I propose to just download a new version of this lib in a separate directory and try linking it to Tomcat.\r\n\r\nFurthermore, looks like it is a known issue:\r\n\r\nThis usually happens because of missing `msvcr71.dll` file. However, Tomcat doesn&#39;t use `msvcr71.dll` directly, it&#39;s used by the Java Virtual Machine (JVM).\r\n\r\nSolution:\r\n\r\n1) Copy `msvcr71.dll` from Java&#39;s `bin` directory to Tomcat&#39;s `bin` folder.\r\n\r\n2) Add Java&#39;s `bin` directory to Windows environment variable.\r\n\r\n3) Copy `msvcr71.dll` from Java&#39;s `bin` directory to `windows\\system32` folder.\r\n\r\n4) Make sure your Tomcat is pointing at the correct `jvm.dll` folder.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Qi11C.jpg\r\n","title":"Starting Tomcat 8 service on Windows 7 issue: &quot;Failed creating java&quot;","body":"<p>Replacing lib is not a very good solution, because there are no guarantees that it will work correctly with other programs. I propose to just download a new version of this lib in a separate directory and try linking it to Tomcat.</p>\n<p>Furthermore, looks like it is a known issue:</p>\n<p>This usually happens because of missing <code>msvcr71.dll</code> file. However, Tomcat doesn't use <code>msvcr71.dll</code> directly, it's used by the Java Virtual Machine (JVM).</p>\n<p>Solution:</p>\n<ol>\n<li><p>Copy <code>msvcr71.dll</code> from Java's <code>bin</code> directory to Tomcat's <code>bin</code> folder.</p>\n</li>\n<li><p>Add Java's <code>bin</code> directory to Windows environment variable.</p>\n</li>\n<li><p>Copy <code>msvcr71.dll</code> from Java's <code>bin</code> directory to <code>windows\\system32</code> folder.</p>\n</li>\n<li><p>Make sure your Tomcat is pointing at the correct <code>jvm.dll</code> folder.</p>\n</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/Qi11C.jpg\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":4054898,"reputation":2525,"user_id":3333246,"accept_rate":80,"display_name":"Greco Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8633,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29512596,"answer_count":1,"score":4,"last_activity_date":1668776671,"creation_date":1428489658,"question_id":29512419,"body_markdown":"Starting Tomcat 8 as a service on a Windows 7 computer for development purpose can be really annoying.\r\n\r\nI had this error:\r\n\r\n```\r\nFailed creating java C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\jre\\bin\\server\\jvm.dll\r\n```\r\n\r\nAnd I saw in `C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\bin` that the `msvcr100.dll` wasn&#39;t the same file I had in my `Windows\\System32` folder. In fact, in my `Windows\\System32` folder, I had the `msvcr100.dll` that corresponds to the x64 version. The Tomcat service wouldn&#39;t start and told me that it is not a valid 32-bit version.\r\n\r\nWhat I did to solve this was to install `jdk1.8.0_40` in `C:\\Program Files`, open up `tomcat8w.exe` and under the `Java` tab, set the `Java Virtual Machine` path to:\r\n\r\n```\r\nC:\\Program Files\\Java\\jdk1.8.0_40\\jre\\bin\\server\\mvcr100.dll\r\n```\r\n\r\nNow, for the Tomcat8 service, it would use the x64 DLL, and all work correctly.\r\n\r\nMy question is, could I replace the `msvcr100.dll` safely in `Windows\\System32` with the x86 version instead? Or is my solution better?","title":"Starting Tomcat 8 service on Windows 7 issue: &quot;Failed creating java&quot;","body":"<p>Starting Tomcat 8 as a service on a Windows 7 computer for development purpose can be really annoying.</p>\n<p>I had this error:</p>\n<pre><code>Failed creating java C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\jre\\bin\\server\\jvm.dll\n</code></pre>\n<p>And I saw in <code>C:\\Program Files (x86)\\Java\\jdk1.8.0_40\\bin</code> that the <code>msvcr100.dll</code> wasn't the same file I had in my <code>Windows\\System32</code> folder. In fact, in my <code>Windows\\System32</code> folder, I had the <code>msvcr100.dll</code> that corresponds to the x64 version. The Tomcat service wouldn't start and told me that it is not a valid 32-bit version.</p>\n<p>What I did to solve this was to install <code>jdk1.8.0_40</code> in <code>C:\\Program Files</code>, open up <code>tomcat8w.exe</code> and under the <code>Java</code> tab, set the <code>Java Virtual Machine</code> path to:</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_40\\jre\\bin\\server\\mvcr100.dll\n</code></pre>\n<p>Now, for the Tomcat8 service, it would use the x64 DLL, and all work correctly.</p>\n<p>My question is, could I replace the <code>msvcr100.dll</code> safely in <code>Windows\\System32</code> with the x86 version instead? Or is my solution better?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":0,"creation_date":1668775260,"post_id":74489791,"comment_id":131494087,"body_markdown":"Read your code again. How is `o` used?","body":"Read your code again. How is <code>o</code> used?"},{"owner":{"account_id":21139309,"reputation":3,"user_id":15542092,"display_name":"matsu"},"score":0,"creation_date":1668842917,"post_id":74489791,"comment_id":131508584,"body_markdown":"@Sneftel, after sleeping on it and reading your comment, I realized that I made a kerfuffle and didn&#39;t use `o`. Thank you for pointing it out.","body":"@Sneftel, after sleeping on it and reading your comment, I realized that I made a kerfuffle and didn&#39;t use <code>o</code>. Thank you for pointing it out."}],"answers":[{"tags":[],"owner":{"account_id":19428466,"reputation":36,"user_id":14209474,"display_name":"Nathan Mittelette"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668775854,"creation_date":1668775854,"answer_id":74489956,"question_id":74489791,"body_markdown":"you can do your work with this code : \r\n\r\n```java\r\n        int size = 3;\r\n        int [][] a = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n        int [][] b = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n        int [][] c = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};;\r\n        \r\n        int total;\r\n        for(int i = 0; i &lt; size; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                total = 0;\r\n                for (int k = 0; k &lt; size; k++) {\r\n                    total += a[i][k] * b[k][j];\r\n                }\r\n                c[i][j] = total;\r\n            }\r\n        }\r\n```","title":"How do I use a loop to multiply a row of a 2D array to the column of a second 2D array, and etc in Java?","body":"<p>you can do your work with this code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        int size = 3;\n        int [][] a = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n        int [][] b = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n        int [][] c = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};;\n        \n        int total;\n        for(int i = 0; i &lt; size; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                total = 0;\n                for (int k = 0; k &lt; size; k++) {\n                    total += a[i][k] * b[k][j];\n                }\n                c[i][j] = total;\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":21139309,"reputation":3,"user_id":15542092,"display_name":"matsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74489956,"answer_count":1,"score":-1,"last_activity_date":1668775854,"creation_date":1668774959,"question_id":74489791,"body_markdown":"So I&#39;m learning Java for Uni, and one of the activities our teachers assigned us for homework was to multiply two 2D arrays in a specific way.\r\n\r\n[What he wants us to do.](https://i.stack.imgur.com/Dr5vo.png)\r\n\r\nI figured, similar to printing the contents of a 2D array, I could use a for loop to loop through both arrays and add/multiply as necessary. However, I&#39;ve been scratching my head on how to do it.\r\n\r\nI&#39;ve tried doing this, but this gave me a totally different result.\r\n\r\n```\r\nfor (int m=0; m&lt;c.length; m++){\r\n    for (int n=0; n&lt;c[m].length; n++){\r\n        c[m][n] = 0;\r\n        for (int o=0; o&lt;c.length; o++){\r\n            c[m][n] += a[n][m]*b[m][n];\r\n        };\r\n    };\r\n};\r\n\r\n```\r\n\r\n[Result of code.](https://i.stack.imgur.com/nnZW2.png)\r\n\r\nWriting down each one, and adding/multiplying as necessary seems to work:\r\n\r\n```\r\nc[0][0] = (a[0][0]*b[0][0]) + (a[0][1]*b[1][0]) + (a[0][2]*b[2][0]);\r\nc[0][1] = (a[0][0]*b[0][1]) + (a[0][1]*b[1][1]) + (a[0][2]*b[2][1]);\r\nc[0][2] = (a[0][0]*b[0][2]) + (a[0][1]*b[1][2]) + (a[0][2] * b[2][2]);\r\nc[1][0] = (a[1][0]*b[0][0]) + (a[1][1]*b[1][0]) + (a[1][2]*b[2][0]);\r\nc[1][1] = (a[1][0]*b[0][1]) + (a[1][1]*b[1][1]) + (a[1][2]*b[2][1]);\r\nc[1][2] = (a[1][0]*b[0][2]) + (a[1][1]*b[1][2]) + (a[1][2] * b[2][2]);\r\nc[2][0] = (a[2][0]*b[0][0]) + (a[2][1]*b[1][0]) + (a[2][2]*b[2][0]);\r\nc[2][1] = (a[2][0]*b[0][1]) + (a[2][1]*b[1][1]) + (a[2][2]*b[2][1]);\r\nc[2][2] = (a[2][0]*b[0][2]) + (a[2][1]*b[1][2]) + (a[2][2] * b[2][2]);\r\n```\r\n\r\nBut it&#39;s pretty ugly to look at.   \r\n  \r\nAm I wrong for thinking that I could use a for loop?","title":"How do I use a loop to multiply a row of a 2D array to the column of a second 2D array, and etc in Java?","body":"<p>So I'm learning Java for Uni, and one of the activities our teachers assigned us for homework was to multiply two 2D arrays in a specific way.</p>\n<p><a href=\"https://i.stack.imgur.com/Dr5vo.png\" rel=\"nofollow noreferrer\">What he wants us to do.</a></p>\n<p>I figured, similar to printing the contents of a 2D array, I could use a for loop to loop through both arrays and add/multiply as necessary. However, I've been scratching my head on how to do it.</p>\n<p>I've tried doing this, but this gave me a totally different result.</p>\n<pre><code>for (int m=0; m&lt;c.length; m++){\n    for (int n=0; n&lt;c[m].length; n++){\n        c[m][n] = 0;\n        for (int o=0; o&lt;c.length; o++){\n            c[m][n] += a[n][m]*b[m][n];\n        };\n    };\n};\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nnZW2.png\" rel=\"nofollow noreferrer\">Result of code.</a></p>\n<p>Writing down each one, and adding/multiplying as necessary seems to work:</p>\n<pre><code>c[0][0] = (a[0][0]*b[0][0]) + (a[0][1]*b[1][0]) + (a[0][2]*b[2][0]);\nc[0][1] = (a[0][0]*b[0][1]) + (a[0][1]*b[1][1]) + (a[0][2]*b[2][1]);\nc[0][2] = (a[0][0]*b[0][2]) + (a[0][1]*b[1][2]) + (a[0][2] * b[2][2]);\nc[1][0] = (a[1][0]*b[0][0]) + (a[1][1]*b[1][0]) + (a[1][2]*b[2][0]);\nc[1][1] = (a[1][0]*b[0][1]) + (a[1][1]*b[1][1]) + (a[1][2]*b[2][1]);\nc[1][2] = (a[1][0]*b[0][2]) + (a[1][1]*b[1][2]) + (a[1][2] * b[2][2]);\nc[2][0] = (a[2][0]*b[0][0]) + (a[2][1]*b[1][0]) + (a[2][2]*b[2][0]);\nc[2][1] = (a[2][0]*b[0][1]) + (a[2][1]*b[1][1]) + (a[2][2]*b[2][1]);\nc[2][2] = (a[2][0]*b[0][2]) + (a[2][1]*b[1][2]) + (a[2][2] * b[2][2]);\n</code></pre>\n<p>But it's pretty ugly to look at.</p>\n<p>Am I wrong for thinking that I could use a for loop?</p>\n"},{"tags":["java","spring","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":16371847,"reputation":163,"user_id":11824962,"display_name":"Rodriguez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668775648,"creation_date":1668775648,"answer_id":74489922,"question_id":74485770,"body_markdown":"Need to add \r\n\r\n&gt; server.tomcat.mbeanregistry.enabled=true\r\n\r\nin application.properties","title":"Some tomcat metrics disappeared in new spring-boot-starter-actuator version","body":"<p>Need to add</p>\n<blockquote>\n<p>server.tomcat.mbeanregistry.enabled=true</p>\n</blockquote>\n<p>in application.properties</p>\n"}],"owner":{"account_id":16371847,"reputation":163,"user_id":11824962,"display_name":"Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668775648,"creation_date":1668753487,"question_id":74485770,"body_markdown":"I upgraded spring-boot-starter-actuator version to 2.7.0\r\nand some chapters of tomcat metrics are missing now in MetricsEndpoint, such as:\r\n``` \r\ntomcat.cache.access\r\ntomcat.cache.hit\r\ntomcat.global.error\r\netc.\r\n```\r\nHow can I get them now?","title":"Some tomcat metrics disappeared in new spring-boot-starter-actuator version","body":"<p>I upgraded spring-boot-starter-actuator version to 2.7.0\nand some chapters of tomcat metrics are missing now in MetricsEndpoint, such as:</p>\n<pre><code>tomcat.cache.access\ntomcat.cache.hit\ntomcat.global.error\netc.\n</code></pre>\n<p>How can I get them now?</p>\n"},{"tags":["java","javafx","gluonfx","gluon-desktop"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1668717636,"post_id":74481776,"comment_id":131480778,"body_markdown":"When you go into full screen, by default JavaFX will display an overlay telling you the app went full screen and how to exit full screen. The error you&#39;re getting is saying the `com.sun.javafx.tk.quantum.OverlayWarning` class is missing. You need to make sure that class is included in the native image, though I&#39;m not sure how you do that.","body":"When you go into full screen, by default JavaFX will display an overlay telling you the app went full screen and how to exit full screen. The error you&#39;re getting is saying the <code>com.sun.javafx.tk.quantum.OverlayWarning</code> class is missing. You need to make sure that class is included in the native image, though I&#39;m not sure how you do that."}],"answers":[{"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":3,"creation_date":1668720959,"post_id":74482204,"comment_id":131481776,"body_markdown":"That&#39;s a valid option, indeed, if you don&#39;t want your user to exit full mode. But if you still want the default behaviour, you can simply add the missing class `com.sun.javafx.tk.quantum.OverlayWarning` to the `&lt;reflectionList/&gt;` in the configuration of the GluonFX plugin. Also you can run `mvn gluonfx:runagent` to find out all possible uses of reflection before you build the native image again. More here: https://docs.gluonhq.com/#_gluonfx_plugin_for_maven","body":"That&#39;s a valid option, indeed, if you don&#39;t want your user to exit full mode. But if you still want the default behaviour, you can simply add the missing class <code>com.sun.javafx.tk.quantum.OverlayWarning</code> to the <code>&lt;reflectionList&#47;&gt;</code> in the configuration of the GluonFX plugin. Also you can run <code>mvn gluonfx:runagent</code> to find out all possible uses of reflection before you build the native image again. More here: <a href=\"https://docs.gluonhq.com/#_gluonfx_plugin_for_maven\" rel=\"nofollow noreferrer\">docs.gluonhq.com/#_gluonfx_plugin_for_maven</a>"}],"tags":[],"owner":{"account_id":26966717,"reputation":31,"user_id":20533450,"display_name":"Baptiste Cld"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668774495,"creation_date":1668719899,"answer_id":74482204,"question_id":74481776,"body_markdown":"Thanks to what @Slaw says I tried this code and it works: \r\n```java\r\nstage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\r\nstage.setFullScreen(true);\r\n```\r\nBased on it&#39;s answer, I suppose that this code blocked the overlay warning and therefore no exception is thrown. Not sure of this one but my .exe works now, thank you !\r\n\r\nEdit : \r\nBased on what @Jos&#233; Pereda says I added `&lt;reflectionList&gt;com.sun.javafx.tk.quantum.OverlayWarning&lt;/reflectionList&gt;` to my pom.xml and it works fine, as it keeps the default behavior this answer seems to be a better one","title":"Javafx stage.setFullScreen throw exception after gluon:build and .exe run but not after javafx:run","body":"<p>Thanks to what @Slaw says I tried this code and it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);\nstage.setFullScreen(true);\n</code></pre>\n<p>Based on it's answer, I suppose that this code blocked the overlay warning and therefore no exception is thrown. Not sure of this one but my .exe works now, thank you !</p>\n<p>Edit :\nBased on what @José Pereda says I added <code>&lt;reflectionList&gt;com.sun.javafx.tk.quantum.OverlayWarning&lt;/reflectionList&gt;</code> to my pom.xml and it works fine, as it keeps the default behavior this answer seems to be a better one</p>\n"}],"owner":{"account_id":26966717,"reputation":31,"user_id":20533450,"display_name":"Baptiste Cld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668774495,"creation_date":1668717347,"question_id":74481776,"body_markdown":"I&#39;m trying to create my first .exe from a javafx application. I&#39;m using maven and gluon to achieve my goal.\r\nWhen I launch my app with mvn javafx:run everything run fine.\r\nSo I try to package my app in a .exe using gluonfx:build and I get a .exe, everything seems okay, I have no error in maven build or link log.\r\nUnfortunately when I try to run the .exe nothing happened, I have this log using gluonfx:nativerun :\r\n\r\n```lang-none\r\n[jeu. nov. 17 21:01:45 CET 2022][INFO] ==================== RUN TASK ====================\r\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] nov. 17, 2022 9:01:45 PM com.sun.javafx.application.PlatformImpl startup\r\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @6b71769e&#39;\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in Application start method\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Thread.run(Thread.java:833)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:143)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.AssertionError: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:869)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarningHelper.&lt;clinit&gt;(OverlayWarningHelper.java:44)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarning.&lt;clinit&gt;(OverlayWarning.java:50)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.applyFullScreen(WindowStage.java:685)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.setFullScreen(WindowStage.java:734)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.doVisibleChanged(Stage.java:1184)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage$1.doVisibleChanged(Stage.java:190)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.StageHelper.visibleChangedImpl(StageHelper.java:63)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.WindowHelper.visibleChanged(WindowHelper.java:77)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window$12.invalidated(Window.java:1212)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.setShowing(Window.java:1239)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.show(Window.java:1254)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.show(Stage.java:277)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at fr.icom.info.m1.balleauprisonnier_fx.App.start(App.java:115)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.executePrivileged(AccessController.java:169)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.doPrivileged(AccessController.java:399)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST_Runnable_run_16403f8d32adb631126daa893e5e80085c5d6325(JNIJavaCallWrappers.java:0)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 3 more\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Class.forName(DynamicHub.java:1121)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:866)\r\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 28 more\r\n```\r\n\r\nIt appears to be the line `stage.setFullScreen(true);` in my App.java file that makes my .exe not running because when I replace it with `stage.setMaximized(true);` my .exe is launching correctly.\r\n\r\nAs the gluon documentation says (https://docs.gluonhq.com/#platforms_windows) I have installed graalvm-svm-java17-windows-gluon-22.1.0.1-Final, and the required visual studio things, like windows sdk, latest msvc version ...\r\nMy java and javafx version are 17.0.1\r\n\r\n\r\nI first thought about a javafx version problem so I change it to 11 but the same problem happens, as the problem doesn&#39;t show using javafx:run I really don&#39;t know where the problem may come from ...\r\n\r\nHere is my pom.xml file, maybe it will helps.\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;fr.icom.info.m1.&lt;/groupId&gt;\r\n  &lt;artifactId&gt;balleauprisonnier_fx&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;balleauprisonnier_fx&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n\t  &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t  &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n\t  &lt;resources&gt;\r\n     \t&lt;resource&gt;\r\n       \t\t&lt;directory&gt;ressources&lt;/directory&gt;\r\n     \t&lt;/resource&gt;\r\n     &lt;/resources&gt;\r\n\t  &lt;plugins&gt;\r\n\t    &lt;plugin&gt;\r\n\t      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t      &lt;version&gt;0.0.8&lt;/version&gt;\r\n\t      &lt;configuration&gt;\r\n\t        &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\r\n\t      &lt;/configuration&gt;\r\n\t    &lt;/plugin&gt;\r\n\t  \r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\n            &lt;/plugin&gt;\r\n            \r\n\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.16&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-resources&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${basedir}/target/gluonfx/x86_64-windows&lt;/outputDirectory&gt;\r\n              &lt;resources&gt;          \r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;ressources&lt;/directory&gt;\r\n                  &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;              \r\n            &lt;/configuration&gt;            \r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n            &lt;!-- \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.coderplus.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;copy-rename-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-file&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceFile&gt;ressources/launcher_windows.bat&lt;/sourceFile&gt;\r\n   \t\t\t\t\t\t\t &lt;destinationFile&gt;target/launcher_windows.bat&lt;/destinationFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            \r\n\t  &lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThank you in advance\r\n","title":"Javafx stage.setFullScreen throw exception after gluon:build and .exe run but not after javafx:run","body":"<p>I'm trying to create my first .exe from a javafx application. I'm using maven and gluon to achieve my goal.\nWhen I launch my app with mvn javafx:run everything run fine.\nSo I try to package my app in a .exe using gluonfx:build and I get a .exe, everything seems okay, I have no error in maven build or link log.\nUnfortunately when I try to run the .exe nothing happened, I have this log using gluonfx:nativerun :</p>\n<pre class=\"lang-none prettyprint-override\"><code>[jeu. nov. 17 21:01:45 CET 2022][INFO] ==================== RUN TASK ====================\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] nov. 17, 2022 9:01:45 PM com.sun.javafx.application.PlatformImpl startup\n[jeu. nov. 17 21:01:45 CET 2022][INFO] [SUB] WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @6b71769e'\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in Application start method\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Thread.run(Thread.java:833)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:143)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.AssertionError: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:869)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarningHelper.&lt;clinit&gt;(OverlayWarningHelper.java:44)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.OverlayWarning.&lt;clinit&gt;(OverlayWarning.java:50)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.applyFullScreen(WindowStage.java:685)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.tk.quantum.WindowStage.setFullScreen(WindowStage.java:734)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.doVisibleChanged(Stage.java:1184)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage$1.doVisibleChanged(Stage.java:190)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.StageHelper.visibleChangedImpl(StageHelper.java:63)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.stage.WindowHelper.visibleChanged(WindowHelper.java:77)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window$12.invalidated(Window.java:1212)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.setShowing(Window.java:1239)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Window.show(Window.java:1254)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at javafx.stage.Stage.show(Stage.java:277)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at fr.icom.info.m1.balleauprisonnier_fx.App.start(App.java:115)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.executePrivileged(AccessController.java:169)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.security.AccessController.doPrivileged(AccessController.java:399)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST_Runnable_run_16403f8d32adb631126daa893e5e80085c5d6325(JNIJavaCallWrappers.java:0)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 3 more\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB] Caused by: java.lang.ClassNotFoundException: com.sun.javafx.tk.quantum.OverlayWarning\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at java.lang.Class.forName(DynamicHub.java:1121)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    at com.sun.javafx.util.Utils.forceInit(Utils.java:866)\n[jeu. nov. 17 21:01:46 CET 2022][INFO] [SUB]    ... 28 more\n</code></pre>\n<p>It appears to be the line <code>stage.setFullScreen(true);</code> in my App.java file that makes my .exe not running because when I replace it with <code>stage.setMaximized(true);</code> my .exe is launching correctly.</p>\n<p>As the gluon documentation says (<a href=\"https://docs.gluonhq.com/#platforms_windows\" rel=\"nofollow noreferrer\">https://docs.gluonhq.com/#platforms_windows</a>) I have installed graalvm-svm-java17-windows-gluon-22.1.0.1-Final, and the required visual studio things, like windows sdk, latest msvc version ...\nMy java and javafx version are 17.0.1</p>\n<p>I first thought about a javafx version problem so I change it to 11 but the same problem happens, as the problem doesn't show using javafx:run I really don't know where the problem may come from ...</p>\n<p>Here is my pom.xml file, maybe it will helps.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;fr.icom.info.m1.&lt;/groupId&gt;\n  &lt;artifactId&gt;balleauprisonnier_fx&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;balleauprisonnier_fx&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n      &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n      &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n      &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;ressources&lt;/directory&gt;\n        &lt;/resource&gt;\n     &lt;/resources&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n          &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;0.0.8&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      \n\n    &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n                &lt;/configuration&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n            \n\n&lt;plugin&gt;\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.16&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;fr.icom.info.m1.balleauprisonnier_fx.App&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${basedir}/target/gluonfx/x86_64-windows&lt;/outputDirectory&gt;\n              &lt;resources&gt;          \n                &lt;resource&gt;\n                  &lt;directory&gt;ressources&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;              \n            &lt;/configuration&gt;            \n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n            &lt;!-- \n            &lt;plugin&gt;\n                &lt;groupId&gt;com.coderplus.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;copy-rename-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-file&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceFile&gt;ressources/launcher_windows.bat&lt;/sourceFile&gt;\n                             &lt;destinationFile&gt;target/launcher_windows.bat&lt;/destinationFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            \n      &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668771533,"post_id":74489011,"comment_id":131492938,"body_markdown":"[Stream.filter()](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-) uses a [Predicate](https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html) as argument. Why are you trying to use it your own functional interface for argument, it won&#39;t even compile?","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">Stream.filter()</a> uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\">Predicate</a> as argument. Why are you trying to use it your own functional interface for argument, it won&#39;t even compile?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1668771798,"post_id":74489011,"comment_id":131493016,"body_markdown":"As mentioned in the other [comment](https://stackoverflow.com/questions/74489011/using-a-list-of-functional-interfaces-in-java-stream-filter#comment131492938_74489011), method `filter` takes a single `Predicate` parameter and not a `List` of `Predicate`. Can you post a concrete example of what you are trying to achieve?","body":"As mentioned in the other <a href=\"https://stackoverflow.com/questions/74489011/using-a-list-of-functional-interfaces-in-java-stream-filter#comment131492938_74489011\">comment</a>, method <code>filter</code> takes a single <code>Predicate</code> parameter and not a <code>List</code> of <code>Predicate</code>. Can you post a concrete example of what you are trying to achieve?"},{"owner":{"account_id":10958861,"reputation":514,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1668771902,"post_id":74489011,"comment_id":131493057,"body_markdown":"filter can take a Predicate but the predicate itself can be a stream. See https://stackoverflow.com/questions/24553761/how-to-apply-multiple-predicates-to-a-java-util-stream.","body":"filter can take a Predicate but the predicate itself can be a stream. See <a href=\"https://stackoverflow.com/questions/24553761/how-to-apply-multiple-predicates-to-a-java-util-stream\" title=\"how to apply multiple predicates to a java util stream\">stackoverflow.com/questions/24553761/&hellip;</a>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668772247,"post_id":74489011,"comment_id":131493144,"body_markdown":"Possible duplicate - [How to combine all predicates from List&lt;Predicate&lt;MyClass&gt;&gt;](https://stackoverflow.com/questions/47424197/how-to-combine-all-predicates-from-listpredicatemyclass).","body":"Possible duplicate - <a href=\"https://stackoverflow.com/questions/47424197/how-to-combine-all-predicates-from-listpredicatemyclass\">How to combine all predicates from List&lt;Predicate&lt;MyClass&gt;&gt;</a>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668772366,"post_id":74489011,"comment_id":131493177,"body_markdown":"The only way i see this whole thing working out, is if you wrap your `FilterClass` inside a `Predicate`, but why bother? `Predicate` provides literary the same functionality, and some more.","body":"The only way i see this whole thing working out, is if you wrap your <code>FilterClass</code> inside a <code>Predicate</code>, but why bother? <code>Predicate</code> provides literary the same functionality, and some more."}],"answers":[{"comments":[{"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"score":0,"creation_date":1668775923,"post_id":74489465,"comment_id":131494312,"body_markdown":"Please ignore the class names as it is only for this example.","body":"Please ignore the class names as it is only for this example."},{"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"score":0,"creation_date":1668776007,"post_id":74489465,"comment_id":131494332,"body_markdown":"Yes I can change it to a predicate. But my requirement is that I want the filter/predicate to follow the interface signature. So I define the method signature, its input for the predicate and I want people to extend this to write other filters.","body":"Yes I can change it to a predicate. But my requirement is that I want the filter/predicate to follow the interface signature. So I define the method signature, its input for the predicate and I want people to extend this to write other filters."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1668781586,"post_id":74489465,"comment_id":131496318,"body_markdown":"The second of the four snippets is your answer then.","body":"The second of the four snippets is your answer then."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668773303,"creation_date":1668773303,"answer_id":74489465,"question_id":74489011,"body_markdown":"There are 2 separate issues here; I shall cover them both.\r\n\r\n## FilterClass probably shouldn&#39;t exist\r\n\r\nThe name is very strange (it&#39;s an interface; things that implement it generally are barely considered a class, the only interpretation that lets you state that they are, means _everything_ is, and thus the presence of `Class` in the name of the thing doesn&#39;t add any information). It&#39;s also pointless to make this interface; java already has it: `Predicate&lt;SomeClass&gt;`:\r\n\r\n```\r\nclass Student {\r\n  @Getter public LocalDate birthDate;\r\n}\r\n\r\nPredicate&lt;Student&gt; isAdult = s -&gt; ChronoUnit.YEARS.between(\r\n  LocalDate.now(), s.getBirthDate()) &gt;= 18;\r\n```\r\n\r\n## Applying multiple filters\r\n\r\nEvidently, you have a list of filters. How would you like to apply this multitude? There are 4 obvious answers:\r\n\r\n* If ALL filters match the item, it passes, otherwise, remove it from the stream.\r\n* If just ONE filter matches the item, it passes, otherwise, remove it from the stream.\r\n* If ALL filters match the item, it _fails and is removed_, otherwise, pass the item.\r\n* If just ONE filter matches the item, it _fails and is removed_. The item survives only if all filters fail to match it.\r\n\r\nRegardless of your choice, you just.. program it. Write a new predicate that implements your choice. For example, if you want the top choice:\r\n\r\n```\r\nList&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\r\nPredicate&lt;Student&gt; allMatch = s -&gt; {\r\n  for (var pred : filterList) if (!pred.test(s)) return false;\r\n  return true;\r\n}\r\n\r\nfoo.stream().filter(allMatch).collect(....);\r\n```\r\n\r\nYou may instead use the various utility methods in `Predicate` itself to construct a new predicate. For example, the above can alternatively be implemented using predicate&#39;s own `and` method:\r\n\r\n```\r\nList&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\r\nPredicate&lt;Student&gt; allMatch = s -&gt; true;\r\nfor (var pred : filterList) allMatch = allMatch.and(pred);\r\n```\r\n\r\nOr even:\r\n\r\n```\r\nList&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\r\nPredicate&lt;Student&gt; allMatch = filterList.stream()\r\n  .collect(Collectors.reducing(s -&gt; true, Predicate::and));\r\n```\r\n\r\nNB: If you insist on keeping your own `FilterClass` interface for this exercise, pretty much only the first option would be available to you, unless you fully duplicate all of `java.util.function.Predicate` and also add the default `and` method just like Predicate has.\r\n","title":"Using a list of functional interfaces in java stream filter","body":"<p>There are 2 separate issues here; I shall cover them both.</p>\n<h2>FilterClass probably shouldn't exist</h2>\n<p>The name is very strange (it's an interface; things that implement it generally are barely considered a class, the only interpretation that lets you state that they are, means <em>everything</em> is, and thus the presence of <code>Class</code> in the name of the thing doesn't add any information). It's also pointless to make this interface; java already has it: <code>Predicate&lt;SomeClass&gt;</code>:</p>\n<pre><code>class Student {\n  @Getter public LocalDate birthDate;\n}\n\nPredicate&lt;Student&gt; isAdult = s -&gt; ChronoUnit.YEARS.between(\n  LocalDate.now(), s.getBirthDate()) &gt;= 18;\n</code></pre>\n<h2>Applying multiple filters</h2>\n<p>Evidently, you have a list of filters. How would you like to apply this multitude? There are 4 obvious answers:</p>\n<ul>\n<li>If ALL filters match the item, it passes, otherwise, remove it from the stream.</li>\n<li>If just ONE filter matches the item, it passes, otherwise, remove it from the stream.</li>\n<li>If ALL filters match the item, it <em>fails and is removed</em>, otherwise, pass the item.</li>\n<li>If just ONE filter matches the item, it <em>fails and is removed</em>. The item survives only if all filters fail to match it.</li>\n</ul>\n<p>Regardless of your choice, you just.. program it. Write a new predicate that implements your choice. For example, if you want the top choice:</p>\n<pre><code>List&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\nPredicate&lt;Student&gt; allMatch = s -&gt; {\n  for (var pred : filterList) if (!pred.test(s)) return false;\n  return true;\n}\n\nfoo.stream().filter(allMatch).collect(....);\n</code></pre>\n<p>You may instead use the various utility methods in <code>Predicate</code> itself to construct a new predicate. For example, the above can alternatively be implemented using predicate's own <code>and</code> method:</p>\n<pre><code>List&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\nPredicate&lt;Student&gt; allMatch = s -&gt; true;\nfor (var pred : filterList) allMatch = allMatch.and(pred);\n</code></pre>\n<p>Or even:</p>\n<pre><code>List&lt;Predicate&lt;Student&gt;&gt; filterList = ...;\nPredicate&lt;Student&gt; allMatch = filterList.stream()\n  .collect(Collectors.reducing(s -&gt; true, Predicate::and));\n</code></pre>\n<p>NB: If you insist on keeping your own <code>FilterClass</code> interface for this exercise, pretty much only the first option would be available to you, unless you fully duplicate all of <code>java.util.function.Predicate</code> and also add the default <code>and</code> method just like Predicate has.</p>\n"},{"comments":[{"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"score":0,"creation_date":1668776111,"post_id":74489696,"comment_id":131494370,"body_markdown":"Yes, I will use a Predicate. Sorry about using a FunctionalInterface. But is there a way to make sure filters extend my Predicate Interface so that it conforms to my input params ? Basically I would want people to add more filters that extend my base Predicate interface and then all these filters will get applied to the list of objects.","body":"Yes, I will use a Predicate. Sorry about using a FunctionalInterface. But is there a way to make sure filters extend my Predicate Interface so that it conforms to my input params ? Basically I would want people to add more filters that extend my base Predicate interface and then all these filters will get applied to the list of objects."},{"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"score":0,"creation_date":1668776149,"post_id":74489696,"comment_id":131494378,"body_markdown":"I would like a list to hold the implemented predicates and people just add their predicate to the list.","body":"I would like a list to hold the implemented predicates and people just add their predicate to the list."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668776470,"post_id":74489696,"comment_id":131494490,"body_markdown":"@v1shnu If you declare your interface `Filter` as extending `Predicate`, then **automatically** any interface that extends `Filter` would be also of type `Predicate`. And anyone would be able to extend it, unless it&#39;s marked as `sealed`. If that&#39;s not what you were asking for, please rephrase the question.","body":"@v1shnu If you declare your interface <code>Filter</code> as extending <code>Predicate</code>, then <b>automatically</b> any interface that extends <code>Filter</code> would be also of type <code>Predicate</code>. And anyone would be able to extend it, unless it&#39;s marked as <code>sealed</code>. If that&#39;s not what you were asking for, please rephrase the question."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668774482,"creation_date":1668774482,"answer_id":74489696,"question_id":74489011,"body_markdown":"There are several issues you need to consider:\r\n\r\n* Stream-operations like `filter` expect a `Predicate` (i.e. it&#39;s not possible to pass into `filter` anything that is not of type `Predicate`).\r\n\r\n* You can&#39;t use your instance of your custom interface as a `Predicate` unless it doesn&#39;t extend a `Predicate`.\r\n\r\n* A *Functional interface* (that&#39;s the only purpose of this annotation), i.e. it has only one `abstract` method. If your instance extends `Predicate` it would inherit `abstract` method test, i.e. it can&#39;t declare it own `abstract` method. You can preserve `isValid()` as a default method.\r\n\r\nIf you want to leave your interface as is then you can perform validation like this:\r\n\r\n```\r\nList&lt;Filter&gt; filters = List.of();\r\n    \r\nList&lt;SomeClass&gt; originalList = List.of();\r\n        \r\nList&lt;SomeClass&gt; filteredList = originalList.stream()\r\n    .filter(foo -&gt; filters.stream().anyMatch(filter -&gt; filter.isValid(foo))) // or `.allMatch` depending of how validation should be performed\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\nAnd if you extend `Predicate` your interface might look like this:\r\n\r\n    @FunctionalInterface\r\n    public interface Filter extends Predicate&lt;SomeClass&gt; {\r\n        \r\n        default boolean isValid(SomeClass someClass) {\r\n            return test(someClass);\r\n        }\r\n    }\r\n\r\nThen you would be able to make use of the default methods `Predicate.and()` / `Predicate.or()` and chain your custom predicates:\r\n\r\n```\r\nList&lt;Filter&gt; filters = List.of();\r\n        \r\nPredicate&lt;SomeClass&gt; allMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; true, Predicate::and);\r\nPredicate&lt;SomeClass&gt; anyMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; false, Predicate::or);\r\n\r\nList&lt;SomeClass&gt; originalList = List.of();\r\n        \r\nList&lt;SomeClass&gt; filteredList = originalList.stream()\r\n    .filter(anyMatch)\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```","title":"Using a list of functional interfaces in java stream filter","body":"<p>There are several issues you need to consider:</p>\n<ul>\n<li><p>Stream-operations like <code>filter</code> expect a <code>Predicate</code> (i.e. it's not possible to pass into <code>filter</code> anything that is not of type <code>Predicate</code>).</p>\n</li>\n<li><p>You can't use your instance of your custom interface as a <code>Predicate</code> unless it doesn't extend a <code>Predicate</code>.</p>\n</li>\n<li><p>A <em>Functional interface</em> (that's the only purpose of this annotation), i.e. it has only one <code>abstract</code> method. If your instance extends <code>Predicate</code> it would inherit <code>abstract</code> method test, i.e. it can't declare it own <code>abstract</code> method. You can preserve <code>isValid()</code> as a default method.</p>\n</li>\n</ul>\n<p>If you want to leave your interface as is then you can perform validation like this:</p>\n<pre><code>List&lt;Filter&gt; filters = List.of();\n    \nList&lt;SomeClass&gt; originalList = List.of();\n        \nList&lt;SomeClass&gt; filteredList = originalList.stream()\n    .filter(foo -&gt; filters.stream().anyMatch(filter -&gt; filter.isValid(foo))) // or `.allMatch` depending of how validation should be performed\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n<p>And if you extend <code>Predicate</code> your interface might look like this:</p>\n<pre><code>@FunctionalInterface\npublic interface Filter extends Predicate&lt;SomeClass&gt; {\n    \n    default boolean isValid(SomeClass someClass) {\n        return test(someClass);\n    }\n}\n</code></pre>\n<p>Then you would be able to make use of the default methods <code>Predicate.and()</code> / <code>Predicate.or()</code> and chain your custom predicates:</p>\n<pre><code>List&lt;Filter&gt; filters = List.of();\n        \nPredicate&lt;SomeClass&gt; allMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; true, Predicate::and);\nPredicate&lt;SomeClass&gt; anyMatch = filters.stream().map(Predicate.class::cast).reduce(t -&gt; false, Predicate::or);\n\nList&lt;SomeClass&gt; originalList = List.of();\n        \nList&lt;SomeClass&gt; filteredList = originalList.stream()\n    .filter(anyMatch)\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":5318397,"reputation":2221,"user_id":4242499,"accept_rate":55,"display_name":"v1shnu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74489465,"answer_count":2,"score":0,"last_activity_date":1668774482,"creation_date":1668771057,"question_id":74489011,"body_markdown":"I have a list of objects which needs to be filtered with another list of functional interfaces.\r\n\r\nFor example:\r\n\r\n    List&lt;SomeClass&gt; originalList = .....\r\n    List&lt;SomeClass&gt; filteredList = originalList.stream().filter(filterList).toList();\r\n                                                          ^^^^^^^^^^^^^^^^\r\n\r\nHow do I use a list of functional interfaces here such that \r\nthe final list contains objects filtered by all the filters in the list. Where \r\n    \r\n    List&lt;FilterClass&gt; filterList = Arrays.asList(\r\n        new ClassWhichImplementsFilterClass1(),\r\n        new ClassWhichImplementsFilterClass2()\r\n    );\r\n\r\nFilterClass.java\r\n\r\n    @FunctionalInterface\r\n    public interface FilterClass{\r\n        boolean isValid(SomeClass someClass);\r\n    }\r\n\r\nHow do I achieve this? I think I can do this by streaming the list of objects and then passing that object through each filter class in the `filterList`, but is there a way to do it some other way.","title":"Using a list of functional interfaces in java stream filter","body":"<p>I have a list of objects which needs to be filtered with another list of functional interfaces.</p>\n<p>For example:</p>\n<pre><code>List&lt;SomeClass&gt; originalList = .....\nList&lt;SomeClass&gt; filteredList = originalList.stream().filter(filterList).toList();\n                                                      ^^^^^^^^^^^^^^^^\n</code></pre>\n<p>How do I use a list of functional interfaces here such that\nthe final list contains objects filtered by all the filters in the list. Where</p>\n<pre><code>List&lt;FilterClass&gt; filterList = Arrays.asList(\n    new ClassWhichImplementsFilterClass1(),\n    new ClassWhichImplementsFilterClass2()\n);\n</code></pre>\n<p>FilterClass.java</p>\n<pre><code>@FunctionalInterface\npublic interface FilterClass{\n    boolean isValid(SomeClass someClass);\n}\n</code></pre>\n<p>How do I achieve this? I think I can do this by streaming the list of objects and then passing that object through each filter class in the <code>filterList</code>, but is there a way to do it some other way.</p>\n"},{"tags":["java","stack-trace"],"answers":[{"comments":[{"owner":{"account_id":989964,"reputation":375,"user_id":1007546,"accept_rate":50,"display_name":"jsurls"},"score":0,"creation_date":1341928805,"post_id":11414872,"comment_id":15054299,"body_markdown":"I looked at this originally and think this may be my only option. I didn&#39;t want to have to iterate through the list just to find my class as this can get very inefficient depending on how large the trace may get.","body":"I looked at this originally and think this may be my only option. I didn&#39;t want to have to iterate through the list just to find my class as this can get very inefficient depending on how large the trace may get."}],"tags":[],"owner":{"account_id":417021,"reputation":2405,"user_id":792779,"display_name":"John"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341928416,"creation_date":1341928416,"answer_id":11414872,"question_id":11414782,"body_markdown":"You could get the stacktrace from the Exception and simply loop them comparing class names.\r\n\r\nException.getStackTrace() returns an array of StackTraceElements, which has a getClassName method.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace()\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html\r\n\r\nAssuming I understood the question","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>You could get the stacktrace from the Exception and simply loop them comparing class names.</p>\n\n<p>Exception.getStackTrace() returns an array of StackTraceElements, which has a getClassName method.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace</a>()\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html</a></p>\n\n<p>Assuming I understood the question</p>\n"},{"comments":[{"owner":{"account_id":989964,"reputation":375,"user_id":1007546,"accept_rate":50,"display_name":"jsurls"},"score":0,"creation_date":1341928641,"post_id":11414892,"comment_id":15054212,"body_markdown":"But it may be N more classes deep than OtherClass.java, and I may not know the existence of the other classes. Basically OtherClass.java is a blackhole of code that may produce messages.","body":"But it may be N more classes deep than OtherClass.java, and I may not know the existence of the other classes. Basically OtherClass.java is a blackhole of code that may produce messages."},{"owner":{"account_id":1642501,"reputation":149,"user_id":1514698,"display_name":"Mihai"},"score":0,"creation_date":1341928908,"post_id":11414892,"comment_id":15054369,"body_markdown":"I don&#39;t think there is a difference. What you want is to detect who the original emitter is. Other potential emitter classes should first check this header value and only set it if not previously set by other class.","body":"I don&#39;t think there is a difference. What you want is to detect who the original emitter is. Other potential emitter classes should first check this header value and only set it if not previously set by other class."}],"tags":[],"owner":{"account_id":1642501,"reputation":149,"user_id":1514698,"display_name":"Mihai"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341928486,"creation_date":1341928486,"answer_id":11414892,"question_id":11414782,"body_markdown":"You could add a custom header to the message that indicates the original emitter. So `MessageReceiver` will emit messages by setting the header value to `&quot;MessageReceiver&quot;`, and will discard all messages that have this specific header value.","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>You could add a custom header to the message that indicates the original emitter. So <code>MessageReceiver</code> will emit messages by setting the header value to <code>\"MessageReceiver\"</code>, and will discard all messages that have this specific header value.</p>\n"},{"comments":[{"owner":{"account_id":989964,"reputation":375,"user_id":1007546,"accept_rate":50,"display_name":"jsurls"},"score":0,"creation_date":1341930159,"post_id":11415101,"comment_id":15055061,"body_markdown":"This is probably as good as it gets.. I was hoping for a isClassInStack(Class&lt;?&gt;) method","body":"This is probably as good as it gets.. I was hoping for a isClassInStack(Class&lt;?&gt;) method"},{"owner":{"account_id":905797,"reputation":1171,"user_id":940731,"accept_rate":82,"display_name":"Gustav Karlsson"},"score":0,"creation_date":1341930497,"post_id":11415101,"comment_id":15055251,"body_markdown":"I was looking for something like that too. A find it strange that you can not the actual calling class, only the name. String matching is not pretty, but it looks like that&#39;s the way to do it.","body":"I was looking for something like that too. A find it strange that you can not the actual calling class, only the name. String matching is not pretty, but it looks like that&#39;s the way to do it."},{"owner":{"account_id":905797,"reputation":1171,"user_id":940731,"accept_rate":82,"display_name":"Gustav Karlsson"},"score":3,"creation_date":1509630136,"post_id":11415101,"comment_id":81101922,"body_markdown":"For Java 9, Stackwalker is probably a safer bet: https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html","body":"For Java 9, Stackwalker is probably a safer bet: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html</a>"}],"tags":[],"owner":{"account_id":905797,"reputation":1171,"user_id":940731,"accept_rate":82,"display_name":"Gustav Karlsson"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1668774098,"creation_date":1341929204,"answer_id":11415101,"question_id":11414782,"body_markdown":"I think this is what you&#39;re after:\r\n\r\n    Class&lt;?&gt; myClass = MessageReceiver.class;\r\n    StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\r\n    \r\n    for (StackTraceElement element : stackTrace) {\r\n        if (element.getClassName().equals(myClass.getCanonicalName())) {\r\n            System.out.println(&quot;class found in stack trace&quot;);\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n---\r\n\r\nIf you&#39;re using [tag:java-8] or higher, you can also use the following\r\n\r\n```\r\nClass&lt;?&gt; myClass = MessageReceiver.class;\r\nStackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\r\n\r\nboolean found = Arrays.stream(stackTrace)\r\n                      .map(StackTraceElement::getClassName)\r\n                      .anyMatch(myClass.getCanonicalName::equals);\r\n\r\nif (found) {\r\n    System.out.println(&quot;class found in stack trace&quot;);\r\n}\r\n```","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>I think this is what you're after:</p>\n<pre><code>Class&lt;?&gt; myClass = MessageReceiver.class;\nStackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\n\nfor (StackTraceElement element : stackTrace) {\n    if (element.getClassName().equals(myClass.getCanonicalName())) {\n        System.out.println(&quot;class found in stack trace&quot;);\n        break;\n    }\n}\n</code></pre>\n<hr />\n<p>If you're using <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" aria-label=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\" aria-labelledby=\"java-8-container\">java-8</a> or higher, you can also use the following</p>\n<pre><code>Class&lt;?&gt; myClass = MessageReceiver.class;\nStackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();\n\nboolean found = Arrays.stream(stackTrace)\n                      .map(StackTraceElement::getClassName)\n                      .anyMatch(myClass.getCanonicalName::equals);\n\nif (found) {\n    System.out.println(&quot;class found in stack trace&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":989964,"reputation":375,"user_id":1007546,"accept_rate":50,"display_name":"jsurls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2468,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11415101,"answer_count":3,"score":5,"last_activity_date":1668774098,"creation_date":1341928147,"question_id":11414782,"body_markdown":"I have a class: \r\n\r\n    MessageReceiver.java\r\n\r\nthat receives messages but can also produce messages indirectly (that then could potentially be redelivered to this class). I don&#39;t want to process messages that were sent with MessageReceiver.java in the stack trace. Is there a way to efficiently determine if the message I received was from MessageReceiver.java?\r\n\r\nThe following chain is possible:&lt;br&gt;\r\n\r\n    MessageReceiver.java -&gt; OtherClass.java -&gt; MessageProducer.java -&gt; MessageReceiver.java","title":"How to check if a Java Class is part of the current stack trace?","body":"<p>I have a class: </p>\n\n<pre><code>MessageReceiver.java\n</code></pre>\n\n<p>that receives messages but can also produce messages indirectly (that then could potentially be redelivered to this class). I don't want to process messages that were sent with MessageReceiver.java in the stack trace. Is there a way to efficiently determine if the message I received was from MessageReceiver.java?</p>\n\n<p>The following chain is possible:<br></p>\n\n<pre><code>MessageReceiver.java -&gt; OtherClass.java -&gt; MessageProducer.java -&gt; MessageReceiver.java\n</code></pre>\n"},{"tags":["java","spring-retry"],"comments":[{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1635415133,"post_id":58012578,"comment_id":123294166,"body_markdown":"have you got the solution?","body":"have you got the solution?"}],"answers":[{"tags":[],"owner":{"account_id":6691334,"reputation":485,"user_id":5160759,"display_name":"Arpan Kanthal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590674757,"creation_date":1590674757,"answer_id":62066719,"question_id":58012578,"body_markdown":"I believe you might be needing the @Recover annotation on specific exception. As the name suggests, the retry would just redo the failed operation. However the recover method will give you options to do specific things in code while you recover an error. This also allows access to the parameters of the method being &quot;retried&quot;. \r\n\r\n[Spring Recover documentation][1]. \r\n\r\n[Retry with Recover guide][2].\r\n\r\nLook at section 4.2 in link 2. It has examples on using retry with recover\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Recover.html\r\n  [2]: https://www.baeldung.com/spring-retry","title":"Is it possible to access the arguments of the failed method in RetryListener?","body":"<p>I believe you might be needing the @Recover annotation on specific exception. As the name suggests, the retry would just redo the failed operation. However the recover method will give you options to do specific things in code while you recover an error. This also allows access to the parameters of the method being \"retried\". </p>\n\n<p><a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/annotation/Recover.html\" rel=\"nofollow noreferrer\">Spring Recover documentation</a>. </p>\n\n<p><a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">Retry with Recover guide</a>.</p>\n\n<p>Look at section 4.2 in link 2. It has examples on using retry with recover</p>\n"},{"tags":[],"owner":{"account_id":12868060,"reputation":394,"user_id":9307598,"display_name":"Aliaksandr Hamayunau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668774094,"creation_date":1668774094,"answer_id":74489618,"question_id":58012578,"body_markdown":"You can try to use [RetryTemplate][1] instead of `@Retryable` annotation. &lt;br/&gt;\r\nWith template you can access `RetryContext` and set your arguments manually:\r\n```java\r\nprivate String goSomething(String arg1) {\r\n    return retryTemplate.execute(context -&gt; {\r\n        context.setAttribute(&quot;argument1&quot;, &quot;arg1&quot;);\r\n        return &quot;some result&quot;\r\n    });\r\n}\r\n```\r\n\r\nAnd then you can access this argument in your listener:\r\n```java\r\n@Override\r\npublic &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n    if (throwable instance of UnknownSessionException) {\r\n        String arg1 = (String) context.getAttribute(&quot;argument1&quot;)\r\n    }\r\n    super.onError(context, callback, throwable);\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html#retryTemplate","title":"Is it possible to access the arguments of the failed method in RetryListener?","body":"<p>You can try to use <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html#retryTemplate\" rel=\"nofollow noreferrer\">RetryTemplate</a> instead of <code>@Retryable</code> annotation. <br/>\nWith template you can access <code>RetryContext</code> and set your arguments manually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String goSomething(String arg1) {\n    return retryTemplate.execute(context -&gt; {\n        context.setAttribute(&quot;argument1&quot;, &quot;arg1&quot;);\n        return &quot;some result&quot;\n    });\n}\n</code></pre>\n<p>And then you can access this argument in your listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n    if (throwable instance of UnknownSessionException) {\n        String arg1 = (String) context.getAttribute(&quot;argument1&quot;)\n    }\n    super.onError(context, callback, throwable);\n}\n</code></pre>\n"}],"owner":{"account_id":16727300,"reputation":11,"user_id":12090608,"display_name":"Vincent B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668774094,"creation_date":1568900970,"question_id":58012578,"body_markdown":"I have a method that takes a session object to talk to an external system. The session object contains a username and a session token. If the external system doesn&#39;t recognize the session token then an exception is thrown. In that case  I want to login with the passed username, create a new session object and call the original method with the new session object containing a valid session token.\r\n\r\nI created a Listener extending RetryListenerSupport. I annotated the method with @Retry and specified my listener as listener. But in the onError method of my listener I can not access the arguments of the method.\r\n\r\n```java\r\n@Value\r\npublic class Session {\r\n    private final String username;\r\n    private final String sessionToken;\r\n}\r\n\r\n@Component\r\npublic class EmployeeRetryListener extends RetryListenerSupport {\r\n    @Override\r\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context,\r\n                                                 RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n        if (throwable instance of UnknownSessionException) {\r\n            // Here I want to access the arguments of the createEmployee method\r\n        }\r\n        super.onError(context, callback, throwable);\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class EmployeeService {\r\n\r\n    @Retryable(listeners = &quot;employeeRetryListener&quot;)\r\n    public void createEmployee(Session session, String employeeName) throws UnknownSessionException {\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want to know the username in the Session instance with which the method is called. And I also want to modify the Session instance to update to sessionToken.","title":"Is it possible to access the arguments of the failed method in RetryListener?","body":"<p>I have a method that takes a session object to talk to an external system. The session object contains a username and a session token. If the external system doesn't recognize the session token then an exception is thrown. In that case  I want to login with the passed username, create a new session object and call the original method with the new session object containing a valid session token.</p>\n\n<p>I created a Listener extending RetryListenerSupport. I annotated the method with @Retry and specified my listener as listener. But in the onError method of my listener I can not access the arguments of the method.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class Session {\n    private final String username;\n    private final String sessionToken;\n}\n\n@Component\npublic class EmployeeRetryListener extends RetryListenerSupport {\n    @Override\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context,\n                                                 RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n        if (throwable instance of UnknownSessionException) {\n            // Here I want to access the arguments of the createEmployee method\n        }\n        super.onError(context, callback, throwable);\n    }\n\n}\n\n@Service\npublic class EmployeeService {\n\n    @Retryable(listeners = \"employeeRetryListener\")\n    public void createEmployee(Session session, String employeeName) throws UnknownSessionException {\n    }\n}\n\n</code></pre>\n\n<p>I want to know the username in the Session instance with which the method is called. And I also want to modify the Session instance to update to sessionToken.</p>\n"},{"tags":["java","kotlin","jackson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1668774024,"post_id":74486307,"comment_id":131493690,"body_markdown":"Convert list to `Map` and use `@JsonAnyGetter` annotation. See also: [Why I&#39;m not able to unwrap and serialize a Java map using the Jackson Java library?](https://stackoverflow.com/questions/18043587/why-im-not-able-to-unwrap-and-serialize-a-java-map-using-the-jackson-java-libra)","body":"Convert list to <code>Map</code> and use <code>@JsonAnyGetter</code> annotation. See also: <a href=\"https://stackoverflow.com/questions/18043587/why-im-not-able-to-unwrap-and-serialize-a-java-map-using-the-jackson-java-libra\">Why I&#39;m not able to unwrap and serialize a Java map using the Jackson Java library?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668773918,"creation_date":1668773918,"answer_id":74489580,"question_id":74486307,"body_markdown":"You need to unwrap `config` property. It is a list, so you need to ignore it and add extra method which converts that list to `Map`. In `Kotlin` it could look like this:\r\n```kotlin\r\n@JsonAnyGetter\r\nfun getSettingsAsMap(): Map&lt;String, String&gt;? {\r\n   return settings.stream().collect(Collectors.toMap(SettingAbstract::name, SettingAbstract::value));\r\n}\r\n```\r\nAnd you need to ignore list:\r\n```java\r\n@JsonIgnore public ArrayList&lt;SettingAbstract&gt; settings\r\n```","title":"Unwrap config settings during the serialisation","body":"<p>You need to unwrap <code>config</code> property. It is a list, so you need to ignore it and add extra method which converts that list to <code>Map</code>. In <code>Kotlin</code> it could look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonAnyGetter\nfun getSettingsAsMap(): Map&lt;String, String&gt;? {\n   return settings.stream().collect(Collectors.toMap(SettingAbstract::name, SettingAbstract::value));\n}\n</code></pre>\n<p>And you need to ignore list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnore public ArrayList&lt;SettingAbstract&gt; settings\n</code></pre>\n"}],"owner":{"account_id":26709686,"reputation":25,"user_id":20315287,"display_name":"Bluecross"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74489580,"answer_count":1,"score":0,"last_activity_date":1668773918,"creation_date":1668757085,"question_id":74486307,"body_markdown":"I try to make config manager for my app. I have some problems with `Jackson`. Here is my object mapper config:\r\n```kotlin\r\nval mapper = ObjectMapper()\r\n\r\nval jackson = mapper.setVisibility(\r\n        mapper.getSerializationConfig().getDefaultVisibilityChecker()\r\n            .withFieldVisibility(JsonAutoDetect.Visibility.NONE)\r\n            .withGetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n            .withSetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n            .withCreatorVisibility(JsonAutoDetect.Visibility.NONE)\r\n    )\r\n    .configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false)\r\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n    .enable(SerializationFeature.INDENT_OUTPUT)\r\n```\r\nand then we saving arraylist of modules.every module has \r\n```\r\n@JsonProperty(&quot;config&quot;)  public ArrayList&lt;SettingAbstract&gt; settings = new ArrayList&lt;SettingAbstract&gt;( );\r\n```\r\nSettingAbstract have name and value. i did this\r\n```\r\n@JsonProperty(&quot;property&quot;) public abstract String saveCfg();\r\n```\r\nand then this in SettingAbstract child classes\r\n```\r\n    @Override\r\n    public String saveCfg() {\r\n        return this.name + &quot;: &quot; + this.value;\r\n    }\r\n```\r\nThe result `JSON` is:\r\n```\r\n..., {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;ESP&quot;,\r\n  &quot;config&quot; : [ {\r\n    &quot;property&quot; : &quot;Players: true&quot;\r\n  }, {\r\n    &quot;property&quot; : &quot;Mobs: false&quot;\r\n  }, {\r\n    &quot;property&quot; : &quot;Hostiles: false&quot;\r\n  } ],\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;Custom Time&quot;,\r\n  &quot;config&quot; : [ {\r\n    &quot;property&quot; : &quot;Ticks: 19000&quot;\r\n  } ],\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, ...\r\n```\r\nWhat I want is:\r\n```\r\n..., {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;ESP&quot;,\r\n  &quot;Players&quot;: true&quot;,\r\n  &quot;Mobs&quot;: &quot;false&quot;,\r\n  &quot;Hostiles&quot;: &quot;false&quot;,\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, {\r\n  &quot;enabled&quot; : false,\r\n  &quot;name&quot; : &quot;Custom Time&quot;,\r\n  &quot;Ticks&quot;: &quot;19000&quot;,\r\n  &quot;currentSettingsPage&quot; : 0\r\n}, ...\r\n```\r\nMain problems:\r\n1) how to remove theese [] &lt;- from arraylist\r\n2) how to remove {} &lt;- from SettingAbstract class (because im saving only 1 property)\r\n3) and how to save key as setting name (various modules has various settings)","title":"Unwrap config settings during the serialisation","body":"<p>I try to make config manager for my app. I have some problems with <code>Jackson</code>. Here is my object mapper config:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val mapper = ObjectMapper()\n\nval jackson = mapper.setVisibility(\n        mapper.getSerializationConfig().getDefaultVisibilityChecker()\n            .withFieldVisibility(JsonAutoDetect.Visibility.NONE)\n            .withGetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withSetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withCreatorVisibility(JsonAutoDetect.Visibility.NONE)\n    )\n    .configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false)\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n    .enable(SerializationFeature.INDENT_OUTPUT)\n</code></pre>\n<p>and then we saving arraylist of modules.every module has</p>\n<pre><code>@JsonProperty(&quot;config&quot;)  public ArrayList&lt;SettingAbstract&gt; settings = new ArrayList&lt;SettingAbstract&gt;( );\n</code></pre>\n<p>SettingAbstract have name and value. i did this</p>\n<pre><code>@JsonProperty(&quot;property&quot;) public abstract String saveCfg();\n</code></pre>\n<p>and then this in SettingAbstract child classes</p>\n<pre><code>    @Override\n    public String saveCfg() {\n        return this.name + &quot;: &quot; + this.value;\n    }\n</code></pre>\n<p>The result <code>JSON</code> is:</p>\n<pre><code>..., {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;ESP&quot;,\n  &quot;config&quot; : [ {\n    &quot;property&quot; : &quot;Players: true&quot;\n  }, {\n    &quot;property&quot; : &quot;Mobs: false&quot;\n  }, {\n    &quot;property&quot; : &quot;Hostiles: false&quot;\n  } ],\n  &quot;currentSettingsPage&quot; : 0\n}, {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;Custom Time&quot;,\n  &quot;config&quot; : [ {\n    &quot;property&quot; : &quot;Ticks: 19000&quot;\n  } ],\n  &quot;currentSettingsPage&quot; : 0\n}, ...\n</code></pre>\n<p>What I want is:</p>\n<pre><code>..., {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;ESP&quot;,\n  &quot;Players&quot;: true&quot;,\n  &quot;Mobs&quot;: &quot;false&quot;,\n  &quot;Hostiles&quot;: &quot;false&quot;,\n  &quot;currentSettingsPage&quot; : 0\n}, {\n  &quot;enabled&quot; : false,\n  &quot;name&quot; : &quot;Custom Time&quot;,\n  &quot;Ticks&quot;: &quot;19000&quot;,\n  &quot;currentSettingsPage&quot; : 0\n}, ...\n</code></pre>\n<p>Main problems:</p>\n<ol>\n<li>how to remove theese [] &lt;- from arraylist</li>\n<li>how to remove {} &lt;- from SettingAbstract class (because im saving only 1 property)</li>\n<li>and how to save key as setting name (various modules has various settings)</li>\n</ol>\n"},{"tags":["java","spring","tomcat","servlets"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1596272429,"post_id":63203369,"comment_id":111763710,"body_markdown":"The `DispatcherServlet` is, as you said, _in_ the servlet container.","body":"The <code>DispatcherServlet</code> is, as you said, <i>in</i> the servlet container."}],"answers":[{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668773648,"creation_date":1596271745,"answer_id":63203405,"question_id":63203369,"body_markdown":"- *Dispatcher Servlet* is just a conventional name for the ordinary servlet. It&#39;s called &quot;dispatcher&quot; because it simply *dispatches* requests to the corresponding handler servlet objects. It is not Spring feature, rather, Spring uses it a lot for implementing its mechanisms.\r\n\r\n- *Servlet Container* is the Web Container, which simply contains სervlets and manages their lifecycle. There are several Servlet Container implementations and of those implementations is found in the Apache Tomcat.\r\n\r\n- *Tomcat* is not *kind of*, but it **has** a Servlet Container engine.\r\n\r\nDispatcher Servlet (like any other servlet) lives within the Servlet Container.","title":"What is sequence of servlet-container and dispatcher servlet for http request?","body":"<ul>\n<li><p><em>Dispatcher Servlet</em> is just a conventional name for the ordinary servlet. It's called &quot;dispatcher&quot; because it simply <em>dispatches</em> requests to the corresponding handler servlet objects. It is not Spring feature, rather, Spring uses it a lot for implementing its mechanisms.</p>\n</li>\n<li><p><em>Servlet Container</em> is the Web Container, which simply contains სervlets and manages their lifecycle. There are several Servlet Container implementations and of those implementations is found in the Apache Tomcat.</p>\n</li>\n<li><p><em>Tomcat</em> is not <em>kind of</em>, but it <strong>has</strong> a Servlet Container engine.</p>\n</li>\n</ul>\n<p>Dispatcher Servlet (like any other servlet) lives within the Servlet Container.</p>\n"}],"owner":{"account_id":12235701,"reputation":63,"user_id":8930194,"display_name":"ramason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":63203405,"answer_count":1,"score":2,"last_activity_date":1668773648,"creation_date":1596271418,"question_id":63203369,"body_markdown":"What is sequence of servlet-container and dispatcher servlet for http request?\r\nIs servlet container front of dispatcher servlet?\r\nSome posts explain Dispatcher servlet is in Servlet container. \r\nBut I know Tomcat is kind of servlet container and dispatcher-servlet is Spring&#39;s feature. So it&#39;s wired.","title":"What is sequence of servlet-container and dispatcher servlet for http request?","body":"<p>What is sequence of servlet-container and dispatcher servlet for http request?\nIs servlet container front of dispatcher servlet?\nSome posts explain Dispatcher servlet is in Servlet container.\nBut I know Tomcat is kind of servlet container and dispatcher-servlet is Spring's feature. So it's wired.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668772303,"creation_date":1668772303,"answer_id":74489240,"question_id":74488294,"body_markdown":"`&#39;pst&#39; is not closed at this location LoginDAO.java` means that you have resources which is not closed, such as a database connection etc. You should close it after use, the code below:\r\n\r\n```java\r\nConnection con = DriverManager.getConnection(url:&quot;url&quot;, user:&quot;root&quot;, password:&quot;password&quot;);\r\ncon.close();\r\n```\r\n\r\nIt is more common to maintain a connection pool of database, such as [hikariCP](https://github.com/brettwooldridge/HikariCP)\r\n\r\n`The import com.sun.java.swing.plaf.windows.resources cannot be resolved` I think your code import duplicate package, you can check your code again. Hope the answer helps you!","title":"Java web project get HTTP Status 500 – Internal Server Error and The import com.sun.java.swing.plaf.windows.resources cannot be resolved","body":"<p><code>'pst' is not closed at this location LoginDAO.java</code> means that you have resources which is not closed, such as a database connection etc. You should close it after use, the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection con = DriverManager.getConnection(url:&quot;url&quot;, user:&quot;root&quot;, password:&quot;password&quot;);\ncon.close();\n</code></pre>\n<p>It is more common to maintain a connection pool of database, such as <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">hikariCP</a></p>\n<p><code>The import com.sun.java.swing.plaf.windows.resources cannot be resolved</code> I think your code import duplicate package, you can check your code again. Hope the answer helps you!</p>\n"}],"owner":{"account_id":25282392,"reputation":1,"user_id":19110048,"display_name":"u cult"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668773397,"creation_date":1668767544,"question_id":74488294,"body_markdown":"I can not run my java web project. I got `HTTP Status 500 – Internal Server Error` from the web and `The import com.sun.java.swing.plaf.windows.resources cannot be resolved` from the eclipse\r\n\r\nAfter I downloaded a web project from GitHub and made some configurations, the project can run successfully. But as soon as I try to connect the web to MySQL, that is the function of login. The web went wrong. And I got this\r\n\r\n````\r\nType Exception Report\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njava.lang.NullPointerException\r\ncom.ascent.dao.LoginDAO.login(LoginDAO.java:40)\r\ncom.ascent.servlet.LoginServlet.userLogin(LoginServlet.java:183)\r\ncom.ascent.servlet.LoginServlet.doGet(LoginServlet.java:39)\r\ncom.ascent.servlet.LoginServlet.doPost(LoginServlet.java:31)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:682)\r\njavax.servlet.http.HttpServlet.service(HttpServlet.java:765)\r\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\ncom.ascent.util.ChangeCharsetFilter.doFilter(ChangeCharsetFilter.java:22)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n````\r\n\r\nAnd the eclipse has an error`````` `The import com.sun.java.swing.plaf.windows.resources cannot be resolved` ``````and plenty of warnings such as `````` &#39;pst&#39; is not closed at this location LoginDAO.java` ``````.\r\nThe code of the project seems correct because my friends can log in successfully.","title":"Java web project get HTTP Status 500 – Internal Server Error and The import com.sun.java.swing.plaf.windows.resources cannot be resolved","body":"<p>I can not run my java web project. I got <code>HTTP Status 500 – Internal Server Error</code> from the web and <code>The import com.sun.java.swing.plaf.windows.resources cannot be resolved</code> from the eclipse</p>\n<p>After I downloaded a web project from GitHub and made some configurations, the project can run successfully. But as soon as I try to connect the web to MySQL, that is the function of login. The web went wrong. And I got this</p>\n<pre><code>Type Exception Report\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njava.lang.NullPointerException\ncom.ascent.dao.LoginDAO.login(LoginDAO.java:40)\ncom.ascent.servlet.LoginServlet.userLogin(LoginServlet.java:183)\ncom.ascent.servlet.LoginServlet.doGet(LoginServlet.java:39)\ncom.ascent.servlet.LoginServlet.doPost(LoginServlet.java:31)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:682)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:765)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\ncom.ascent.util.ChangeCharsetFilter.doFilter(ChangeCharsetFilter.java:22)\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p>And the eclipse has an error<code>`The import com.sun.java.swing.plaf.windows.resources cannot be resolved`</code>and plenty of warnings such as <code>'pst' is not closed at this location LoginDAO.java`</code>.\nThe code of the project seems correct because my friends can log in successfully.</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"answers":[{"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":1,"creation_date":1668773740,"post_id":74489471,"comment_id":131493601,"body_markdown":"In my opinion, you use Mockito not because the other object is not finished yet, but if you want to exclude the other object from the test. But that&#39;s my opinion, and I&#39;m afraid there will be opinion-based answers only to this question :-(","body":"In my opinion, you use Mockito not because the other object is not finished yet, but if you want to exclude the other object from the test. But that&#39;s my opinion, and I&#39;m afraid there will be opinion-based answers only to this question :-("},{"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"score":0,"creation_date":1668774126,"post_id":74489471,"comment_id":131493716,"body_markdown":"I agree with you. anyway, in most case I only use JUnit to test. ^_^","body":"I agree with you. anyway, in most case I only use JUnit to test. ^_^"},{"owner":{"account_id":6954204,"reputation":551,"user_id":5335804,"accept_rate":76,"display_name":"Tony"},"score":0,"creation_date":1668774197,"post_id":74489471,"comment_id":131493744,"body_markdown":"So Mockito isn&#39;t necessary to use ?","body":"So Mockito isn&#39;t necessary to use ?"},{"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"score":0,"creation_date":1668775512,"post_id":74489471,"comment_id":131494168,"body_markdown":"Yes, JUnit is a more common framework to do Unit Test","body":"Yes, JUnit is a more common framework to do Unit Test"}],"tags":[],"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1668773331,"creation_date":1668773331,"answer_id":74489471,"question_id":74489307,"body_markdown":"conclusion: JUnit and Mockito can be used at same time, JUnit is used to do common test, and Mockito is used to [mock objects](https://devopedia.org/mock-testing#:~:text=Mock%20testing%20is%20an%20approach%20to%20unit%20testing,that%20simulate%20the%20behaviour%20of%20the%20real%20ones.).\r\n\r\nIn my view, JUnit is used more often, and Mockito is only used when I want to mock object, such as the object which is not finished yet. If you just want to test your Controller, Service and Repository, I recommend you to use JUnit. But if you need to mock some objects, you can use Mockito. \r\n\r\n&gt; For example, when you test `ServiceA`, which depends on `ServiceB`, and `ServiceB` is not finished yet, you can use `Mockito` to mock `ServiceB` just to satisfy your requirements to test `ServiceA`\r\n\r\nHope this answer helps you! you can go to [mockito](https://site.mockito.org/) and [JUnit5](https://junit.org/junit5/) to learn more about them.","title":"When and where to use JUnit, Mockito and Integration testing in Spring Boot Application?","body":"<p>conclusion: JUnit and Mockito can be used at same time, JUnit is used to do common test, and Mockito is used to <a href=\"https://devopedia.org/mock-testing#:%7E:text=Mock%20testing%20is%20an%20approach%20to%20unit%20testing,that%20simulate%20the%20behaviour%20of%20the%20real%20ones.\" rel=\"nofollow noreferrer\">mock objects</a>.</p>\n<p>In my view, JUnit is used more often, and Mockito is only used when I want to mock object, such as the object which is not finished yet. If you just want to test your Controller, Service and Repository, I recommend you to use JUnit. But if you need to mock some objects, you can use Mockito.</p>\n<blockquote>\n<p>For example, when you test <code>ServiceA</code>, which depends on <code>ServiceB</code>, and <code>ServiceB</code> is not finished yet, you can use <code>Mockito</code> to mock <code>ServiceB</code> just to satisfy your requirements to test <code>ServiceA</code></p>\n</blockquote>\n<p>Hope this answer helps you! you can go to <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">mockito</a> and <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">JUnit5</a> to learn more about them.</p>\n"}],"owner":{"account_id":6954204,"reputation":551,"user_id":5335804,"accept_rate":76,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74489471,"answer_count":1,"score":0,"last_activity_date":1668773331,"creation_date":1668772593,"question_id":74489307,"body_markdown":"I&#39;m very novice to Unit Testing, I have created a Spring Boot Application and now I want to do some testing what&#39;s confusing me is where to use what e.g. I have classes and interfaces Controllers, Service, Repository I know each will have it&#39;s own Test class, so what will I be using let&#39;s say in Controllers, JUnit or Mockito ? similar question for Service and Repository.","title":"When and where to use JUnit, Mockito and Integration testing in Spring Boot Application?","body":"<p>I'm very novice to Unit Testing, I have created a Spring Boot Application and now I want to do some testing what's confusing me is where to use what e.g. I have classes and interfaces Controllers, Service, Repository I know each will have it's own Test class, so what will I be using let's say in Controllers, JUnit or Mockito ? similar question for Service and Repository.</p>\n"},{"tags":["java","validation","debugging","localtime"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1668769413,"post_id":74488624,"comment_id":131492297,"body_markdown":"You need to set appropriate parenthesis if you want your condition to be evaluated as `(A || B) &amp;&amp; C`. Currently it gets evaluated as `A  || (B &amp;&amp; C)` because &amp;&amp; has a higher precedence than ||. Meaning as soon as the first condition is true everything is true and not even evaluated because of short-circuiting.","body":"You need to set appropriate parenthesis if you want your condition to be evaluated as <code>(A || B) &amp;&amp; C</code>. Currently it gets evaluated as <code>A  || (B &amp;&amp; C)</code> because &amp;&amp; has a higher precedence than ||. Meaning as soon as the first condition is true everything is true and not even evaluated because of short-circuiting."},{"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"score":0,"creation_date":1668772124,"post_id":74488624,"comment_id":131493115,"body_markdown":"Wow, how did I miss that, I close the bracket too soon. Thank you!","body":"Wow, how did I miss that, I close the bracket too soon. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668773322,"creation_date":1668773322,"answer_id":74489468,"question_id":74488624,"body_markdown":"Your function of\r\n\r\n```\r\n    public boolean isInRange(LocalTime time){\r\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\nIs checking whether \r\n\r\n&gt; `time` is after `roundedStartTime`\r\n&gt; \r\n&gt; or\r\n&gt; \r\n&gt; `time` `equals` `roundedStartTime`\r\n&gt; \r\n&gt; and\r\n&gt; \r\n&gt; `time` is before `roundedEndTime`\r\n\r\nLooking at the [Java operator precedence table][1] we can conclude that `&amp;&amp;` has a precedence of **4**, while `||` has a precedence of **3**. As a result, your condition is checking whether (time equals roundedStartTime and before roundedEndTime) or (time is after roundedStartTime).\r\n\r\nSo, when your `time` is after `roundedStartTime` and after `roundedEndTime`, that is, it&#39;s later than the whole range, the condition will still be evaluated to true, because the first operand of `||` evaluated to true. To fix it, you will need to wrap paranthesis around your `||`, so your logical expression will evaluate to\r\n\r\n(time &gt;= roundedStartTime) and (time &lt; roundedEndTime)\r\n\r\nFix:\r\n\r\n```\r\n    public boolean isInRange(LocalTime time){\r\n        return ((time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime())) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.cs.bilkent.edu.tr/~guvenir/courses/CS101/op_precedence.html","title":"Comparing LocalTime returns true, even tho debugger evaluates to false","body":"<p>Your function of</p>\n<pre><code>    public boolean isInRange(LocalTime time){\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n<p>Is checking whether</p>\n<blockquote>\n<p><code>time</code> is after <code>roundedStartTime</code></p>\n<p>or</p>\n<p><code>time</code> <code>equals</code> <code>roundedStartTime</code></p>\n<p>and</p>\n<p><code>time</code> is before <code>roundedEndTime</code></p>\n</blockquote>\n<p>Looking at the <a href=\"https://www.cs.bilkent.edu.tr/%7Eguvenir/courses/CS101/op_precedence.html\" rel=\"nofollow noreferrer\">Java operator precedence table</a> we can conclude that <code>&amp;&amp;</code> has a precedence of <strong>4</strong>, while <code>||</code> has a precedence of <strong>3</strong>. As a result, your condition is checking whether (time equals roundedStartTime and before roundedEndTime) or (time is after roundedStartTime).</p>\n<p>So, when your <code>time</code> is after <code>roundedStartTime</code> and after <code>roundedEndTime</code>, that is, it's later than the whole range, the condition will still be evaluated to true, because the first operand of <code>||</code> evaluated to true. To fix it, you will need to wrap paranthesis around your <code>||</code>, so your logical expression will evaluate to</p>\n<p>(time &gt;= roundedStartTime) and (time &lt; roundedEndTime)</p>\n<p>Fix:</p>\n<pre><code>    public boolean isInRange(LocalTime time){\n        return ((time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime())) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n"}],"owner":{"account_id":7160761,"reputation":97,"user_id":5471598,"accept_rate":71,"display_name":"Ricardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1669587916,"accepted_answer_id":74489468,"answer_count":1,"score":-1,"last_activity_date":1668773322,"creation_date":1668769115,"question_id":74488624,"body_markdown":"So, I am currently working on a function that checks if a given `LocalTime` is inside a range. All good, and the equivalent for `LocalDateTime` works without an issue.\r\n\r\nSo, my code right now looks like this:\r\n\r\n```java\r\n    public boolean isInRange(LocalTime time){\r\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\r\n            time.isBefore(roundedEndTime.toLocalTime());\r\n    }\r\n```\r\n\r\nIt has some specifics for my business logic, but thats not part of the issue. I also have accompanying junit tests, that check if the logic works as intended. Again, the `inRange(LocalDateTime time)` function works flawlessly.\r\n\r\nBut using my tests, _with the same time I use for the_ `LocalDateTime`_verification_, they fail, as they somehow return true. I&#39;ve started debugging, and can&#39;t quite believe my eyes, which explains the `true &amp;&amp; false`check:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PxjTj.png\r\n\r\nFor whatever reason, evaluating the two statements separately shows the expected behaviour, but combining them, returns true.","title":"Comparing LocalTime returns true, even tho debugger evaluates to false","body":"<p>So, I am currently working on a function that checks if a given <code>LocalTime</code> is inside a range. All good, and the equivalent for <code>LocalDateTime</code> works without an issue.</p>\n<p>So, my code right now looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public boolean isInRange(LocalTime time){\n        return (time.isAfter(roundedStartTime.toLocalTime())) || time.equals(roundedStartTime.toLocalTime()) &amp;&amp;\n            time.isBefore(roundedEndTime.toLocalTime());\n    }\n</code></pre>\n<p>It has some specifics for my business logic, but thats not part of the issue. I also have accompanying junit tests, that check if the logic works as intended. Again, the <code>inRange(LocalDateTime time)</code> function works flawlessly.</p>\n<p>But using my tests, <em>with the same time I use for the</em> <code>LocalDateTime</code><em>verification</em>, they fail, as they somehow return true. I've started debugging, and can't quite believe my eyes, which explains the <code>true &amp;&amp; false</code>check:</p>\n<p><a href=\"https://i.stack.imgur.com/PxjTj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxjTj.png\" alt=\"enter image description here\" /></a></p>\n<p>For whatever reason, evaluating the two statements separately shows the expected behaviour, but combining them, returns true.</p>\n"},{"tags":["java","mp4","mp4parser"],"answers":[{"tags":[],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668772711,"creation_date":1668772711,"answer_id":74489337,"question_id":74487131,"body_markdown":"Ok, my fault.\r\nThere was an UUID tag I missed in the original footage between moov and mdat tags. Copying the UUID tag using \r\n\r\n    pro2.addBox(Path.getPath(isoFile, &quot;uuid[0]&quot;));\r\n\r\njust before adding the mdat atom does the trick.\r\n\r\nSorry for this :) ","title":"I get a non playable MP4 file when created with Mp4Parser Java API","body":"<p>Ok, my fault.\nThere was an UUID tag I missed in the original footage between moov and mdat tags. Copying the UUID tag using</p>\n<pre><code>pro2.addBox(Path.getPath(isoFile, &quot;uuid[0]&quot;));\n</code></pre>\n<p>just before adding the mdat atom does the trick.</p>\n<p>Sorry for this :)</p>\n"}],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668772711,"creation_date":1668761838,"question_id":74487131,"body_markdown":"I&#39;m studying Mp4Parser API ([Mp4Parser GitHub][1]) and try to learn how it&#39;s working. I first tried to create an MP4 by &quot;copying&quot; the highest level tags into a new file. \r\nIf I get a similar file, it&#39;s unfortunately not &quot;the same file&quot; and result can&#39;t be played.\r\n\r\nMy dirty (it&#39;s just a quick try) code is:\r\n\r\n    public void copy(String videoFilePath) throws IOException {\r\n    \t\tFile videoFile = new File(videoFilePath);\r\n    \t\tFile videoPro2 = new File(&quot;/tmp/output.mp4&quot;);\r\n\r\n    \t\tif (videoPro2.exists()) \r\n               videoPro2.delete();\r\n    \t\tvideoPro2.createNewFile();\r\n\r\n    \t\tFileOutputStream fos = new FileOutputStream(videoPro2);\r\n    \t\t\r\n    \t\tIsoFile isoFile = new IsoFile(new FileInputStream(videoFilePath).getChannel());\r\n    \t\tIsoFile pro2 = new IsoFile(new FileInputStream(videoPro2).getChannel());\r\n    \t\t\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;ftyp[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;free[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;moov[0]&quot;));\r\n    \t\tpro2.addBox(Path.getPath(isoFile, &quot;mdat[0]&quot;));\r\n    \t\tpro2.getBox(Channels.newChannel(baos));\r\n    \t\t \r\n    \t\tbaos.writeTo(fos);\r\n    \t\t\r\n    \t\tisoFile.close();\r\n    \t\tpro2.close();\r\n    \t\tbaos.close();\r\n    \t\t\r\n    \t\treturn;\r\n    \t}\r\n\r\nI tested my original MP4 with [AtomicParsley][2], saw there were in that order, a ftyp, a free, a moov and an mdat tags.\r\n\r\nMy method basically aims to get these four tags and puts them into the destination file to &quot;make an exact copy&quot;. Or that&#39;s what I was expecting, but it&#39;s not the case.\r\n\r\nFirstly, output.mp4 is not playable, but comparing the hex dumps of input and output... almost everything is different, except ftyp and free. Why?\r\n\r\nI can see that tag size are not similar neither.. \r\n\r\nObviously, my goal is not to &quot;copy&quot; files, but understand Mp4Parser API as I&#39;d like to use it in a real project. But this copy method is a starter for me to understand how this works, as I&#39;m not familiar with MP4 specification.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/sannies/mp4parser\r\n  [2]: https://github.com/wez/atomicparsley","title":"I get a non playable MP4 file when created with Mp4Parser Java API","body":"<p>I'm studying Mp4Parser API (<a href=\"https://github.com/sannies/mp4parser\" rel=\"nofollow noreferrer\">Mp4Parser GitHub</a>) and try to learn how it's working. I first tried to create an MP4 by &quot;copying&quot; the highest level tags into a new file.\nIf I get a similar file, it's unfortunately not &quot;the same file&quot; and result can't be played.</p>\n<p>My dirty (it's just a quick try) code is:</p>\n<pre><code>public void copy(String videoFilePath) throws IOException {\n        File videoFile = new File(videoFilePath);\n        File videoPro2 = new File(&quot;/tmp/output.mp4&quot;);\n\n        if (videoPro2.exists()) \n           videoPro2.delete();\n        videoPro2.createNewFile();\n\n        FileOutputStream fos = new FileOutputStream(videoPro2);\n        \n        IsoFile isoFile = new IsoFile(new FileInputStream(videoFilePath).getChannel());\n        IsoFile pro2 = new IsoFile(new FileInputStream(videoPro2).getChannel());\n        \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        \n        pro2.addBox(Path.getPath(isoFile, &quot;ftyp[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;free[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;moov[0]&quot;));\n        pro2.addBox(Path.getPath(isoFile, &quot;mdat[0]&quot;));\n        pro2.getBox(Channels.newChannel(baos));\n         \n        baos.writeTo(fos);\n        \n        isoFile.close();\n        pro2.close();\n        baos.close();\n        \n        return;\n    }\n</code></pre>\n<p>I tested my original MP4 with <a href=\"https://github.com/wez/atomicparsley\" rel=\"nofollow noreferrer\">AtomicParsley</a>, saw there were in that order, a ftyp, a free, a moov and an mdat tags.</p>\n<p>My method basically aims to get these four tags and puts them into the destination file to &quot;make an exact copy&quot;. Or that's what I was expecting, but it's not the case.</p>\n<p>Firstly, output.mp4 is not playable, but comparing the hex dumps of input and output... almost everything is different, except ftyp and free. Why?</p>\n<p>I can see that tag size are not similar neither..</p>\n<p>Obviously, my goal is not to &quot;copy&quot; files, but understand Mp4Parser API as I'd like to use it in a real project. But this copy method is a starter for me to understand how this works, as I'm not familiar with MP4 specification.</p>\n<p>Thanks</p>\n"},{"tags":["java","go","zip","unzip"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667460466,"post_id":74299267,"comment_id":131172912,"body_markdown":"Did you try to open the zip file with a 3rd party application to test whether writing or reading is the problem?","body":"Did you try to open the zip file with a 3rd party application to test whether writing or reading is the problem?"},{"owner":{"account_id":1320892,"reputation":41049,"user_id":1266756,"display_name":"Volker"},"score":3,"creation_date":1667464549,"post_id":74299267,"comment_id":131174101,"body_markdown":"In Go package compress/zlib is for reading zlib compressed data. Reading zipfiles is done via archive/zip. Always read the package doc of any package you use.","body":"In Go package compress/zlib is for reading zlib compressed data. Reading zipfiles is done via archive/zip. Always read the package doc of any package you use."},{"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"score":0,"creation_date":1667465253,"post_id":74299267,"comment_id":131174310,"body_markdown":"In golang I have used with two packages\n\ncompress/flate      and \ncompress/zlib\n\nwith zlib to unzip I am getting the error:- &quot;zlib: invalid header&quot;\nwith flate to unip I am getting the error:-  &quot;flate: corrupt input before offset 5&quot;","body":"In golang I have used with two packages  compress/flate      and  compress/zlib  with zlib to unzip I am getting the error:- &quot;zlib: invalid header&quot; with flate to unip I am getting the error:-  &quot;flate: corrupt input before offset 5&quot;"},{"owner":{"account_id":1320892,"reputation":41049,"user_id":1266756,"display_name":"Volker"},"score":1,"creation_date":1667467135,"post_id":74299267,"comment_id":131174911,"body_markdown":"Please listen closely: **Neither** compress/zlib **nor** compress/flate has **anything** to do with zipfiles. Really. Zipfiles are manipulated with a**rchive/zip** only.","body":"Please listen closely: <b>Neither</b> compress/zlib <b>nor</b> compress/flate has <b>anything</b> to do with zipfiles. Really. Zipfiles are manipulated with a<b>rchive/zip</b> only."},{"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"score":0,"creation_date":1667468202,"post_id":74299267,"comment_id":131175305,"body_markdown":"Kindly not the program above, using java we zip(compress) the string data and produces zipped value in form of byte array  and then again unzipping the same zipped record using golang then getting the error","body":"Kindly not the program above, using java we zip(compress) the string data and produces zipped value in form of byte array  and then again unzipping the same zipped record using golang then getting the error"},{"owner":{"account_id":1320892,"reputation":41049,"user_id":1266756,"display_name":"Volker"},"score":0,"creation_date":1667469423,"post_id":74299267,"comment_id":131175767,"body_markdown":"It doesn&#39;t matter at all how the zipfile was created in Java or how the Java libraries are named. You _must_ read zipfile with archive/zip in Go. EOD for me. Sorry.","body":"It doesn&#39;t matter at all how the zipfile was created in Java or how the Java libraries are named. You <i>must</i> read zipfile with archive/zip in Go. EOD for me. Sorry."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667460893,"creation_date":1667460893,"answer_id":74299421,"question_id":74299267,"body_markdown":"Java part looks good to me:\r\n\r\n```java\r\npublic static byte[] createZipForLicenses(String string) throws IOException {\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    ZipOutputStream zipOutputStream = new ZipOutputStream(out);\r\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\r\n\r\n    if (string != null &amp;&amp; string.length() &gt; 0) {\r\n        ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\r\n        zipOutputStream.putNextEntry(zipEntry);\r\n        zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\r\n        zipOutputStream.closeEntry();\r\n    }\r\n\r\n    zipOutputStream.close();\r\n\r\n    return out.toByteArray();\r\n}\r\n```\r\n\r\nAnd am able to read this `zip` with `WinZip`. And this is a zip info:\r\n\r\n```\r\n(PK0506) End of Central directory record\r\n========================================\r\n    - location:                                     116 (0x00000074) bytes\r\n    - size:                                         22 bytes\r\n    part number of this part (0000):                1\r\n    part number of start of central dir (0000):     1\r\n    number of entries in central dir in this part:  1\r\n    total number of entries in central dir:         1\r\n    size of central dir:                            50 (0x00000032) bytes\r\n    relative offset of central dir:                 66 (0x00000042) bytes\r\n    zipfile comment length:                         0 bytes\r\n\r\n(PK0102) Central directory\r\n==========================\r\n    - location:                                     66 (0x00000042) bytes\r\n    - size:                                         54 bytes\r\n    total entries:                                  1\r\n\r\n#1 (PK0102) [UTF-8] data\r\n------------------------\r\n    - location:                                     66 (0x00000042) bytes\r\n    - size:                                         50 bytes\r\n    part number of this part (0000):                1\r\n    relative offset of local header:                0 (0x00000000) bytes\r\n    version made by operating system (00):          MS-DOS, OS/2, NT FAT\r\n    version made by zip software (20):              2.0\r\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\r\n    unzip software version needed to extract (20):  2.0\r\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\r\n      file security status  (bit 0):                not encrypted\r\n      data descriptor       (bit 3):                yes\r\n      strong encryption     (bit 6):                no\r\n      UTF-8 names          (bit 11):                yes\r\n    compression method (08):                        deflated\r\n      compression sub-type (deflation):             normal\r\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\r\n    32-bit CRC value:                               0x373555E7\r\n    compressed size:                                16 bytes\r\n    uncompressed size:                              14 bytes\r\n    length of filename:                             4\r\n                                                    UTF-8\r\n    64 61 74 61                                     data\r\n    length of file comment:                         0 bytes\r\n    internal file attributes:                       0x0000\r\n      apparent file type:                           binary\r\n    external file attributes:                       0x00000000\r\n      WINDOWS   (0x00):                             none\r\n      POSIX (0x000000):                             ?---------\r\n\r\n(PK0304) ZIP entries\r\n====================\r\n    total entries:                                  1\r\n\r\n#1 (PK0304) [UTF-8] data\r\n------------------------\r\n    - location:                                     0 (0x00000000) bytes\r\n    - size:                                         34 bytes\r\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\r\n    unzip software version needed to extract (20):  2.0\r\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\r\n      file security status  (bit 0):                not encrypted\r\n      data descriptor       (bit 3):                yes\r\n      strong encryption     (bit 6):                no\r\n      UTF-8 names          (bit 11):                yes\r\n    compression method (08):                        deflated\r\n      compression sub-type (deflation):             normal\r\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\r\n    32-bit CRC value:                               0x00000000\r\n    compressed size:                                0 bytes\r\n    uncompressed size:                              0 bytes\r\n    length of filename:                             4\r\n                                                    UTF-8\r\n    64 61 74 61                                     data\r\n\r\n#1 (PK0708) Data descriptor\r\n---------------------------\r\n    - location:                                     50 (0x00000032) bytes\r\n    - size:                                         16 bytes\r\n    32-bit CRC value:                               0x373555E7\r\n    compressed size:                                16 bytes\r\n    uncompressed size:                              14 bytes\r\n```\r\n\r\nLooks like you unzip it with `Go` incorrectly.\r\n\r\n***P.S.** To avoid a lot of code when zip/unzip files in java, you can use [zip4jvm][1]*\r\n\r\n\r\n  [1]: https://github.com/oleg-cherednik/zip4jvm","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<p>Java part looks good to me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] createZipForLicenses(String string) throws IOException {\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    ZipOutputStream zipOutputStream = new ZipOutputStream(out);\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\n\n    if (string != null &amp;&amp; string.length() &gt; 0) {\n        ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\n        zipOutputStream.putNextEntry(zipEntry);\n        zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\n        zipOutputStream.closeEntry();\n    }\n\n    zipOutputStream.close();\n\n    return out.toByteArray();\n}\n</code></pre>\n<p>And am able to read this <code>zip</code> with <code>WinZip</code>. And this is a zip info:</p>\n<pre><code>(PK0506) End of Central directory record\n========================================\n    - location:                                     116 (0x00000074) bytes\n    - size:                                         22 bytes\n    part number of this part (0000):                1\n    part number of start of central dir (0000):     1\n    number of entries in central dir in this part:  1\n    total number of entries in central dir:         1\n    size of central dir:                            50 (0x00000032) bytes\n    relative offset of central dir:                 66 (0x00000042) bytes\n    zipfile comment length:                         0 bytes\n\n(PK0102) Central directory\n==========================\n    - location:                                     66 (0x00000042) bytes\n    - size:                                         54 bytes\n    total entries:                                  1\n\n#1 (PK0102) [UTF-8] data\n------------------------\n    - location:                                     66 (0x00000042) bytes\n    - size:                                         50 bytes\n    part number of this part (0000):                1\n    relative offset of local header:                0 (0x00000000) bytes\n    version made by operating system (00):          MS-DOS, OS/2, NT FAT\n    version made by zip software (20):              2.0\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\n    unzip software version needed to extract (20):  2.0\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\n      file security status  (bit 0):                not encrypted\n      data descriptor       (bit 3):                yes\n      strong encryption     (bit 6):                no\n      UTF-8 names          (bit 11):                yes\n    compression method (08):                        deflated\n      compression sub-type (deflation):             normal\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\n    32-bit CRC value:                               0x373555E7\n    compressed size:                                16 bytes\n    uncompressed size:                              14 bytes\n    length of filename:                             4\n                                                    UTF-8\n    64 61 74 61                                     data\n    length of file comment:                         0 bytes\n    internal file attributes:                       0x0000\n      apparent file type:                           binary\n    external file attributes:                       0x00000000\n      WINDOWS   (0x00):                             none\n      POSIX (0x000000):                             ?---------\n\n(PK0304) ZIP entries\n====================\n    total entries:                                  1\n\n#1 (PK0304) [UTF-8] data\n------------------------\n    - location:                                     0 (0x00000000) bytes\n    - size:                                         34 bytes\n    operat. system version needed to extract (00):  MS-DOS, OS/2, NT FAT\n    unzip software version needed to extract (20):  2.0\n    general purpose bit flag (0x0808) (bit 15..0):  0000.1000 0000.1000\n      file security status  (bit 0):                not encrypted\n      data descriptor       (bit 3):                yes\n      strong encryption     (bit 6):                no\n      UTF-8 names          (bit 11):                yes\n    compression method (08):                        deflated\n      compression sub-type (deflation):             normal\n    file last modified on (0x5563 0x542A):          2022-11-03 10:33:20\n    32-bit CRC value:                               0x00000000\n    compressed size:                                0 bytes\n    uncompressed size:                              0 bytes\n    length of filename:                             4\n                                                    UTF-8\n    64 61 74 61                                     data\n\n#1 (PK0708) Data descriptor\n---------------------------\n    - location:                                     50 (0x00000032) bytes\n    - size:                                         16 bytes\n    32-bit CRC value:                               0x373555E7\n    compressed size:                                16 bytes\n    uncompressed size:                              14 bytes\n</code></pre>\n<p>Looks like you unzip it with <code>Go</code> incorrectly.</p>\n<p><em><strong>P.S.</strong> To avoid a lot of code when zip/unzip files in java, you can use <a href=\"https://github.com/oleg-cherednik/zip4jvm\" rel=\"nofollow noreferrer\">zip4jvm</a></em></p>\n"},{"tags":[],"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668772659,"creation_date":1668772659,"answer_id":74489327,"question_id":74299267,"body_markdown":"    func Unzip(data []byte) (string, error) {\r\n\tzipReader, err := zip.NewReader(bytes.NewReader(data), int64(len(data)))\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tif len(zipReader.File) == 0 {\r\n\t\treturn &quot;&quot;, nil // No file to open / extract\r\n\t}\r\n\tf, err := zipReader.File[0].Open()\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tp, err := ioutil.ReadAll(f)\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\treturn string(p), nil\r\n\r\n} ","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<pre><code>func Unzip(data []byte) (string, error) {\nzipReader, err := zip.NewReader(bytes.NewReader(data), int64(len(data)))\nif err != nil {\n    panic(err)\n}\nif len(zipReader.File) == 0 {\n    return &quot;&quot;, nil // No file to open / extract\n}\nf, err := zipReader.File[0].Open()\nif err != nil {\n    panic(err)\n}\np, err := ioutil.ReadAll(f)\nif err != nil {\n    return &quot;&quot;, err\n}\nreturn string(p), nil\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":7942658,"reputation":57,"user_id":5996120,"display_name":"Raju Yadav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1668772659,"creation_date":1667459963,"question_id":74299267,"body_markdown":"I am having two application one written in java where required to zip string of data and other in golang and required to unzip the record zipped by first application \r\n\r\n**Java program to Creating Zipped of string data**\r\n\r\n\tpublic static byte[] createZipForLicenses(String string) throws UnsupportedEncodingException {\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\tZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\r\n\t\tzipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif (string != null &amp;&amp; string.length() &gt; 0) {\r\n\t\t\t\tZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\r\n\t\t\t\tzipOutputStream.putNextEntry(zipEntry);\r\n\t\t\t\tzipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\tzipOutputStream.closeEntry();\r\n\t\t\t}\r\n\r\n\t\t\tzipOutputStream.close();\r\n\r\n\t\t} catch (IOException e) {\r\n\r\n\t\t}\r\n\t\treturn outputStream.toByteArray();\r\n\t}\r\n\r\n**Golang program to unzip the string data** \r\n\r\nfunc Unzip(data []byte) (string, error) {\r\n\t\r\n    rdata := bytes.NewReader(data)\r\n\tr, err := zlib.NewReader(rdata) //**Error**-&gt; &quot;zlib: invalid header\t\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\ts, err := io.ReadAll(r)\r\n\tif err != nil {\r\n\t\treturn &quot;&quot;, err\r\n\t}\r\n\treturn string(s), nil\r\n}\r\n\r\n\r\n\r\nI tried using compress/flate lib also but with this getting error &quot;flate: corrupt input before offset 5&quot;\r\n\r\n","title":"Create Zip with java program and while unzip using Golang, getting issue as &quot;zlib: invalid header&quot;","body":"<p>I am having two application one written in java where required to zip string of data and other in golang and required to unzip the record zipped by first application</p>\n<p><strong>Java program to Creating Zipped of string data</strong></p>\n<pre><code>public static byte[] createZipForLicenses(String string) throws UnsupportedEncodingException {\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream);\n    zipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION);\n\n    try {\n\n        if (string != null &amp;&amp; string.length() &gt; 0) {\n            ZipEntry zipEntry = new ZipEntry(&quot;data&quot;);\n            zipOutputStream.putNextEntry(zipEntry);\n            zipOutputStream.write(string.getBytes(&quot;UTF-8&quot;));\n            zipOutputStream.closeEntry();\n        }\n\n        zipOutputStream.close();\n\n    } catch (IOException e) {\n\n    }\n    return outputStream.toByteArray();\n}\n</code></pre>\n<p><strong>Golang program to unzip the string data</strong></p>\n<p>func Unzip(data []byte) (string, error) {</p>\n<pre><code>rdata := bytes.NewReader(data)\nr, err := zlib.NewReader(rdata) //**Error**-&gt; &quot;zlib: invalid header \nif err != nil {\n    return &quot;&quot;, err\n}\ns, err := io.ReadAll(r)\nif err != nil {\n    return &quot;&quot;, err\n}\nreturn string(s), nil\n</code></pre>\n<p>}</p>\n<p>I tried using compress/flate lib also but with this getting error &quot;flate: corrupt input before offset 5&quot;</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"score":0,"creation_date":1668775102,"post_id":74489225,"comment_id":131494036,"body_markdown":"I see. I will try a retry mechanism along with a socket timeout bump if needed. Thank you for the answer!","body":"I see. I will try a retry mechanism along with a socket timeout bump if needed. Thank you for the answer!"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668772209,"creation_date":1668772209,"answer_id":74489225,"question_id":74488222,"body_markdown":"The timeout value from the `BulkOptions` parameter has nothing to do with the network layer, it is sent as a parameter in the query to Elasticsearch, see https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params.\r\n\r\nSpring Data Elasticsearch does not support changing the network timeout settings per request or request type.","title":"Modify the socket timeout for elasticsearch bulk requests only","body":"<p>The timeout value from the <code>BulkOptions</code> parameter has nothing to do with the network layer, it is sent as a parameter in the query to Elasticsearch, see <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html#docs-bulk-api-query-params</a>.</p>\n<p>Spring Data Elasticsearch does not support changing the network timeout settings per request or request type.</p>\n"}],"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668772209,"creation_date":1668767137,"question_id":74488222,"body_markdown":"Greetings stackoverflowers! I&#39;m currently bumping into an issue with our elasticsearch re-index functionality. I&#39;m using `spring-data-elasticsearch` 7.10.0 and I created an elastic template class to do my bulk indexing using Java. Basically I create a list of index queries and I try to index the given elasticsearch index using the provided method below from elasticsearch:\r\n\r\n```java\r\n@Override\r\n\tpublic final List&lt;IndexedObjectInformation&gt; bulkIndex(List&lt;IndexQuery&gt; queries, BulkOptions bulkOptions,\r\n\t\t\tIndexCoordinates index) {\r\n\r\n\t\tAssert.notNull(queries, &quot;List of IndexQuery must not be null&quot;);\r\n\t\tAssert.notNull(bulkOptions, &quot;BulkOptions must not be null&quot;);\r\n\r\n\t\treturn bulkOperation(queries, bulkOptions, index);\r\n\t}\r\n```\r\n\r\nHow ever, when I try to import and index large batches of data (stream of around 10GB data). I get the following error:\r\n\r\n```\r\nError while processing event: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]; nested exception is java.lang.RuntimeException: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]\r\n```\r\n\r\n**Properties:**\r\n\r\nI do the batching 200 index queries per bulk request without concurence.\r\n\r\n```yml\r\nspring:\r\n  data:\r\n    elasticsearch:\r\n      max-connection-idle-time: 15000 # 15 seconds\r\n      read-timeout: 7000 # 7 seconds\r\n      socket-timeout: 60000 # 60 seconds\r\n      connection-timeout: 4000 # 4 seconds\r\n```\r\n\r\nAs you can see my socket timeout is 60 seconds (it shows it in the error as well). This configuration works most of the time but rarely I get the socket timeout exception. Bumping the socket-timeout fixes the issue but I wanted to know if there is a way to bump it only for the bulk indexing requests and not all of them including read requests?\r\n\r\n\r\n**What I tried:** \r\n\r\nI tried modifying the passed `BulkOptions` by setting the timeout to 20 minutes. After I tried to reindex a large file I got the same socket-timout exception showing 60 seconds. Is there a way to apply different socket-timeout to bulk index queries only? Thanks in advance!","title":"Modify the socket timeout for elasticsearch bulk requests only","body":"<p>Greetings stackoverflowers! I'm currently bumping into an issue with our elasticsearch re-index functionality. I'm using <code>spring-data-elasticsearch</code> 7.10.0 and I created an elastic template class to do my bulk indexing using Java. Basically I create a list of index queries and I try to index the given elasticsearch index using the provided method below from elasticsearch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public final List&lt;IndexedObjectInformation&gt; bulkIndex(List&lt;IndexQuery&gt; queries, BulkOptions bulkOptions,\n            IndexCoordinates index) {\n\n        Assert.notNull(queries, &quot;List of IndexQuery must not be null&quot;);\n        Assert.notNull(bulkOptions, &quot;BulkOptions must not be null&quot;);\n\n        return bulkOperation(queries, bulkOptions, index);\n    }\n</code></pre>\n<p>How ever, when I try to import and index large batches of data (stream of around 10GB data). I get the following error:</p>\n<pre><code>Error while processing event: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]; nested exception is java.lang.RuntimeException: 60,000 milliseconds timeout on connection http-outgoing-3244 [ACTIVE]\n</code></pre>\n<p><strong>Properties:</strong></p>\n<p>I do the batching 200 index queries per bulk request without concurence.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  data:\n    elasticsearch:\n      max-connection-idle-time: 15000 # 15 seconds\n      read-timeout: 7000 # 7 seconds\n      socket-timeout: 60000 # 60 seconds\n      connection-timeout: 4000 # 4 seconds\n</code></pre>\n<p>As you can see my socket timeout is 60 seconds (it shows it in the error as well). This configuration works most of the time but rarely I get the socket timeout exception. Bumping the socket-timeout fixes the issue but I wanted to know if there is a way to bump it only for the bulk indexing requests and not all of them including read requests?</p>\n<p><strong>What I tried:</strong></p>\n<p>I tried modifying the passed <code>BulkOptions</code> by setting the timeout to 20 minutes. After I tried to reindex a large file I got the same socket-timout exception showing 60 seconds. Is there a way to apply different socket-timeout to bulk index queries only? Thanks in advance!</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668771881,"post_id":74488695,"comment_id":131493048,"body_markdown":"This setup will read the information from the settings file but not the current option from the command line... which might be overritten.","body":"This setup will read the information from the settings file but not the current option from the command line... which might be overritten."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668769480,"creation_date":1668769480,"answer_id":74488695,"question_id":74488560,"body_markdown":"I&#39;ve checked out the source code of maven&#39;s archetype plugin (`generate` mojo to be precise): \r\n\r\nThey just inject the boolean value into the mojo:\r\n\r\n```java\r\n  /**\r\n     * User settings used to check the interactiveMode.\r\n     */\r\n    @Parameter( property = &quot;interactiveMode&quot;, defaultValue = &quot;${settings.interactiveMode}&quot;, required = true )\r\n    private Boolean interactiveMode;\r\n```\r\n\r\n\r\nTake a look [here][1] and pay attention to how do they use it in the source code:\r\n\r\n```java\r\n  if ( interactiveMode.booleanValue() )\r\n  {\r\n        getLog().info( &quot;Generating project in Interactive mode&quot; );\r\n  }\r\n  else\r\n  {\r\n        getLog().info( &quot;Generating project in Batch mode&quot; );\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/maven-archetype/blob/maven-archetype-3.2.1/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>I've checked out the source code of maven's archetype plugin (<code>generate</code> mojo to be precise):</p>\n<p>They just inject the boolean value into the mojo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  /**\n     * User settings used to check the interactiveMode.\n     */\n    @Parameter( property = &quot;interactiveMode&quot;, defaultValue = &quot;${settings.interactiveMode}&quot;, required = true )\n    private Boolean interactiveMode;\n</code></pre>\n<p>Take a look <a href=\"https://github.com/apache/maven-archetype/blob/maven-archetype-3.2.1/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\" rel=\"nofollow noreferrer\">here</a> and pay attention to how do they use it in the source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  if ( interactiveMode.booleanValue() )\n  {\n        getLog().info( &quot;Generating project in Interactive mode&quot; );\n  }\n  else\n  {\n        getLog().info( &quot;Generating project in Batch mode&quot; );\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668771840,"creation_date":1668771840,"answer_id":74489156,"question_id":74488560,"body_markdown":"The simplest way would be to put this:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n      @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\r\n      private MavenSession session;\r\n\r\nIf you have defined that in your mojo definition you can within your execute method going like this:\r\n\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n      if (session.getRequest().isInteractiveMode()) {\r\n        //..\r\n      } else {\r\n        //..\r\n      }\r\n\r\nThis will give you the information about using --batch-mode.\r\n\r\n\r\n","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>The simplest way would be to put this:</p>\n<pre><code>  @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\n  private MavenSession session;\n</code></pre>\n<p>If you have defined that in your mojo definition you can within your execute method going like this:</p>\n<pre><code>  if (session.getRequest().isInteractiveMode()) {\n    //..\n  } else {\n    //..\n  }\n</code></pre>\n<p>This will give you the information about using --batch-mode.</p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74489156,"answer_count":2,"score":0,"last_activity_date":1668771840,"creation_date":1668768751,"question_id":74488560,"body_markdown":"When I write a Mojo, how can I determine whether I am currently in Batch Mode (i.e. the `-B` parameter was given on command line)?","title":"Determine in a Maven Plugin whether Batch mode is active","body":"<p>When I write a Mojo, how can I determine whether I am currently in Batch Mode (i.e. the <code>-B</code> parameter was given on command line)?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":15168525,"reputation":215,"user_id":10945348,"display_name":"Sibtain Raza"},"score":0,"creation_date":1668757689,"post_id":74480693,"comment_id":131488463,"body_markdown":"You can use the cloud function and do this but you have to make it secure in some manner as the request to the cloud function should be validate is it called by any authorize resource or not.","body":"You can use the cloud function and do this but you have to make it secure in some manner as the request to the cloud function should be validate is it called by any authorize resource or not."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668760638,"post_id":74480693,"comment_id":131489290,"body_markdown":"What do you mean by &quot;make only api calls using the app&quot;? Please respond using @AlexMamo","body":"What do you mean by &quot;make only api calls using the app&quot;? Please respond using @AlexMamo"},{"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"score":0,"creation_date":1668768827,"post_id":74480693,"comment_id":131492102,"body_markdown":"@AlexMamo what I mean is I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list.","body":"@AlexMamo what I mean is I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list."},{"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"score":0,"creation_date":1668768888,"post_id":74480693,"comment_id":131492122,"body_markdown":"@SibtainRaza ok noted","body":"@SibtainRaza ok noted"}],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669983707,"post_id":74488977,"comment_id":131772626,"body_markdown":"Hey there. Have you tried my solution above, does it work?","body":"Hey there. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771728,"creation_date":1668770841,"answer_id":74488977,"question_id":74480693,"body_markdown":"&gt;  I mean I don&#39;t want to run the loop in my app but on the server and want the server to just send me the list.\r\n\r\nIn that case, you should map the QuerySnapshot object directly into a List of custom objects. Assuming that you have a class that is similar to this one:\r\n\r\n```\r\npublic class User {\r\n    public String uid;\r\n    public String name;\r\n    public String email;\r\n\r\n    public User() {}\r\n\r\n    User(String uid, String name, String email) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.email = email;\r\n    }\r\n}\r\n```\r\n\r\nTo remove the for loop and get directly get the list, please use the following lines of code:\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    fi.onFollowingRetrieved(queryDocumentSnapshots.toObjects(User.class));\r\n}\r\n```\r\n\r\nSee, I have used [QuerySnapshot#&lt;T&gt; toObjects(@NonNull Class&lt;T&gt; clazz)][1] which:\r\n\r\n&gt; Returns the contents of the documents in the QuerySnapshot, converted to the provided class, as a list.\r\n\r\nBe also aware that the more documents your query returns, the longer the reading time will be. There&#39;s no hack for that, other than [limiting the results][2].\r\n\r\nIf you only want the document IDs, then assuming that the document ID is represented by the UID, then you should simply use the following code:\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    List&lt;User&gt; users = queryDocumentSnapshots.toObjects(User.class);\r\n    List&lt;String&gt; usersf = users.stream().map(user -&gt; user.uid).toList()\r\n    fi.onFollowingRetrieved(usersf);\r\n}\r\n```\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QuerySnapshot#toObjects(java.lang.Class%3CT%3E)\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/order-limit-data","title":"cloud firestore using server","body":"<blockquote>\n<p>I mean I don't want to run the loop in my app but on the server and want the server to just send me the list.</p>\n</blockquote>\n<p>In that case, you should map the QuerySnapshot object directly into a List of custom objects. Assuming that you have a class that is similar to this one:</p>\n<pre><code>public class User {\n    public String uid;\n    public String name;\n    public String email;\n\n    public User() {}\n\n    User(String uid, String name, String email) {\n        this.uid = uid;\n        this.name = name;\n        this.email = email;\n    }\n}\n</code></pre>\n<p>To remove the for loop and get directly get the list, please use the following lines of code:</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    fi.onFollowingRetrieved(queryDocumentSnapshots.toObjects(User.class));\n}\n</code></pre>\n<p>See, I have used <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QuerySnapshot#toObjects(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">QuerySnapshot# toObjects(@NonNull Class clazz)</a> which:</p>\n<blockquote>\n<p>Returns the contents of the documents in the QuerySnapshot, converted to the provided class, as a list.</p>\n</blockquote>\n<p>Be also aware that the more documents your query returns, the longer the reading time will be. There's no hack for that, other than <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"nofollow noreferrer\">limiting the results</a>.</p>\n<p>If you only want the document IDs, then assuming that the document ID is represented by the UID, then you should simply use the following code:</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    List&lt;User&gt; users = queryDocumentSnapshots.toObjects(User.class);\n    List&lt;String&gt; usersf = users.stream().map(user -&gt; user.uid).toList()\n    fi.onFollowingRetrieved(usersf);\n}\n</code></pre>\n"}],"owner":{"account_id":21705285,"reputation":11,"user_id":16017835,"display_name":"parth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668771728,"creation_date":1668711242,"question_id":74480693,"body_markdown":"I am using Cloud Firestore as my database for an android project.\r\nI am writing all the crud operations in the app which makes it very slow and the code is large. I want to shift all the code to the server and make only API calls using the app.\r\n\r\n\r\n\r\nfor example,\r\n\r\n\r\n```\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    List&lt;String&gt; usersf = new ArrayList&lt;&gt;();\r\n\r\n    for (DocumentSnapshot doc : queryDocumentSnapshots) {\r\n        usersf.add(doc.getId());\r\n\r\n    }\r\n\r\n    fi.onFollowingRetrieved(usersf);\r\n}\r\n```\r\n\r\nhere I write this code in my app, which get me a list of user id.\r\nI want to write an api in my application which fetches this list from server and do not do the work itself.\r\n\r\nhow do I implement this?","title":"cloud firestore using server","body":"<p>I am using Cloud Firestore as my database for an android project.\nI am writing all the crud operations in the app which makes it very slow and the code is large. I want to shift all the code to the server and make only API calls using the app.</p>\n<p>for example,</p>\n<pre><code>public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    List&lt;String&gt; usersf = new ArrayList&lt;&gt;();\n\n    for (DocumentSnapshot doc : queryDocumentSnapshots) {\n        usersf.add(doc.getId());\n\n    }\n\n    fi.onFollowingRetrieved(usersf);\n}\n</code></pre>\n<p>here I write this code in my app, which get me a list of user id.\nI want to write an api in my application which fetches this list from server and do not do the work itself.</p>\n<p>how do I implement this?</p>\n"},{"tags":["java","list","algorithm","sorting"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1628752577,"post_id":68752292,"comment_id":121506127,"body_markdown":"Above, generating subsets in the desired order would seem better than ordering after the fact.","body":"Above, generating subsets in the desired order would seem better than ordering after the fact."}],"answers":[{"tags":[],"owner":{"account_id":22319025,"reputation":1,"user_id":16541918,"display_name":"Gaurang Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647405787,"creation_date":1647405730,"answer_id":71491889,"question_id":68752292,"body_markdown":"You can use this method\r\n\r\n    Collections.sort(result, (o1, o2) -&gt; {\r\n      int n = Math.min(o1.size(), o2.size());\r\n      for(int i=0;i&lt;n;i++){\r\n         if(o1.get(i)==o2.get(i)) continue;\r\n         else return o1.get(i) - o2.get(i);\r\n      }\r\n      return 1;\r\n    })\r\n","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>You can use this method</p>\n<pre><code>Collections.sort(result, (o1, o2) -&gt; {\n  int n = Math.min(o1.size(), o2.size());\n  for(int i=0;i&lt;n;i++){\n     if(o1.get(i)==o2.get(i)) continue;\n     else return o1.get(i) - o2.get(i);\n  }\n  return 1;\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481175,"reputation":3095,"user_id":2160616,"accept_rate":67,"display_name":"BeingSuman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668771586,"creation_date":1668771586,"answer_id":74489109,"question_id":68752292,"body_markdown":"This should help\r\n\r\n    Collections.sort(this.res, (o1, o2) -&gt; {\r\n            int n = Math.min(o1.size(), o2.size());\r\n            for(int i=0;i&lt;n;i++){\r\n                if(!Objects.equals(o1.get(i), o2.get(i))) return o1.get(i) - o2.get(i);\r\n            }\r\n\r\n            return o1.size() - o2.size();\r\n        });","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>This should help</p>\n<pre><code>Collections.sort(this.res, (o1, o2) -&gt; {\n        int n = Math.min(o1.size(), o2.size());\n        for(int i=0;i&lt;n;i++){\n            if(!Objects.equals(o1.get(i), o2.get(i))) return o1.get(i) - o2.get(i);\n        }\n\n        return o1.size() - o2.size();\n    });\n</code></pre>\n"}],"owner":{"account_id":22427892,"reputation":11,"user_id":16634205,"display_name":"Rohit Maheshwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668771586,"creation_date":1628747770,"question_id":68752292,"body_markdown":" I am having an arraylist of arraylist of subsets of number.\r\nAccording to my code the output is correct but the output is not in lexicographical order.\r\nCan anyone tell me how to sort a arraylist of arraylist in lexicographical order?\r\n\r\nHere is my code for finding subsets of a number.\r\n\r\n     public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A)\r\n        {\r\n            //code here\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; output=new ArrayList&lt;&gt;();\r\n            Solve(A,output,result,0);\r\n            // Collections.sort(result);\r\n            return result;\r\n        }\r\n        public static void Solve(ArrayList&lt;Integer&gt; input,ArrayList&lt;Integer&gt; output,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result,int start){\r\n            if(start==input.size()){\r\n                result.add(new ArrayList&lt;Integer&gt;(output));\r\n                return;\r\n            }\r\n            output.add(input.get(start));\r\n            Solve(input,output,result,start+1);\r\n            output.remove(output.size()-1);\r\n            Solve(input,output,result,start+1);\r\n           \r\n            \r\n        }\r\n\r\n**THE EXPECTED OUTPUT IS**\r\n\r\nINPUT-\r\n\r\n    size=3\r\n    1 2 3\r\n\r\nOUTPUT - \r\n\r\n    1 ,\r\n    1 2 , \r\n    1 2 3 , \r\n    1 3 , \r\n    2 , \r\n    2 3 , \r\n    3 ,\r\n\r\n**but my output is same but not in order**\r\n\r\nOUTPUT-\r\n\r\n    1 2 3 , \r\n    1 2  , \r\n    1 3  , \r\n    1  , \r\n    2 3  , \r\n    2  , \r\n    3 ,\r\n\r\n","title":"Sorting an ArrayList of ArrayList in lexicographical order","body":"<p>I am having an arraylist of arraylist of subsets of number.\nAccording to my code the output is correct but the output is not in lexicographical order.\nCan anyone tell me how to sort a arraylist of arraylist in lexicographical order?</p>\n<p>Here is my code for finding subsets of a number.</p>\n<pre><code> public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets(ArrayList&lt;Integer&gt; A)\n    {\n        //code here\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; output=new ArrayList&lt;&gt;();\n        Solve(A,output,result,0);\n        // Collections.sort(result);\n        return result;\n    }\n    public static void Solve(ArrayList&lt;Integer&gt; input,ArrayList&lt;Integer&gt; output,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result,int start){\n        if(start==input.size()){\n            result.add(new ArrayList&lt;Integer&gt;(output));\n            return;\n        }\n        output.add(input.get(start));\n        Solve(input,output,result,start+1);\n        output.remove(output.size()-1);\n        Solve(input,output,result,start+1);\n       \n        \n    }\n</code></pre>\n<p><strong>THE EXPECTED OUTPUT IS</strong></p>\n<p>INPUT-</p>\n<pre><code>size=3\n1 2 3\n</code></pre>\n<p>OUTPUT -</p>\n<pre><code>1 ,\n1 2 , \n1 2 3 , \n1 3 , \n2 , \n2 3 , \n3 ,\n</code></pre>\n<p><strong>but my output is same but not in order</strong></p>\n<p>OUTPUT-</p>\n<pre><code>1 2 3 , \n1 2  , \n1 3  , \n1  , \n2 3  , \n2  , \n3 ,\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9349,"page":874,"page_size":100}
